#pragma once

// #if defined(CUDART_VERSION) && CUDART_VERSION >= 12000
// typedef double4_32a my_double4;
// typedef longlong4_32a my_longlong4;
// typedef ulonglong4_32a my_ulonglong4;
// #else
// typedef double4 my_double4;
// typedef longlong4 my_longlong4;
// typedef ulonglong4 my_ulonglong4;
// #endif

#include "slang.cuh"

inline __device__ Matrix<float, 3, 3>  transpose_0(Matrix<float, 3, 3>  x_0)
{
    Matrix<float, 3, 3>  result_0;
    int r_0 = int(0);
    for(;;)
    {
        if(r_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_0 = int(0);
        for(;;)
        {
            if(c_0 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_0)->rows + (r_0)), c_0) = _slang_vector_get_element(x_0.rows[c_0], r_0);
            c_0 = c_0 + int(1);
        }
        r_0 = r_0 + int(1);
    }
    return result_0;
}

inline __device__ Matrix<float, 3, 2>  transpose_1(Matrix<float, 2, 3>  x_1)
{
    Matrix<float, 3, 2>  result_1;
    int r_1 = int(0);
    for(;;)
    {
        if(r_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_1 = int(0);
        for(;;)
        {
            if(c_1 < int(2))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_1)->rows + (r_1)), c_1) = _slang_vector_get_element(x_1.rows[c_1], r_1);
            c_1 = c_1 + int(1);
        }
        r_1 = r_1 + int(1);
    }
    return result_1;
}

inline __device__ Matrix<float, 2, 3>  transpose_2(Matrix<float, 3, 2>  x_2)
{
    Matrix<float, 2, 3>  result_2;
    int r_2 = int(0);
    for(;;)
    {
        if(r_2 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_2 = int(0);
        for(;;)
        {
            if(c_2 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_2)->rows + (r_2)), c_2) = _slang_vector_get_element(x_2.rows[c_2], r_2);
            c_2 = c_2 + int(1);
        }
        r_2 = r_2 + int(1);
    }
    return result_2;
}

inline __device__ Matrix<float, 3, 3>  normalized_quat_to_rotmat(float4  quat_0)
{
    float x_3 = quat_0.y;
    float x2_0 = x_3 * x_3;
    float y2_0 = quat_0.z * quat_0.z;
    float z2_0 = quat_0.w * quat_0.w;
    float xy_0 = quat_0.y * quat_0.z;
    float xz_0 = quat_0.y * quat_0.w;
    float yz_0 = quat_0.z * quat_0.w;
    float wx_0 = quat_0.x * quat_0.y;
    float wy_0 = quat_0.x * quat_0.z;
    float wz_0 = quat_0.x * quat_0.w;
    return transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_0 + z2_0), 2.0f * (xy_0 + wz_0), 2.0f * (xz_0 - wy_0), 2.0f * (xy_0 - wz_0), 1.0f - 2.0f * (x2_0 + z2_0), 2.0f * (yz_0 + wx_0), 2.0f * (xz_0 + wy_0), 2.0f * (yz_0 - wx_0), 1.0f - 2.0f * (x2_0 + y2_0)));
}

struct DiffPair_matrixx3Cfloatx2C3x2C3x3E_0
{
    Matrix<float, 3, 3>  primal_0;
    Matrix<float, 3, 3>  differential_0;
};

struct DiffPair_vectorx3Cfloatx2C3x3E_0
{
    float3  primal_0;
    float3  differential_0;
};

inline __device__ void _d_mul_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * right_0, float3  dOut_0)
{
    float _S1 = (*left_0).primal_0.rows[int(0)].x * dOut_0.x;
    Matrix<float, 3, 3>  left_d_result_0;
    *&(((&left_d_result_0)->rows + (int(0)))->x) = (*right_0).primal_0.x * dOut_0.x;
    float sum_0 = _S1 + (*left_0).primal_0.rows[int(1)].x * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->x) = (*right_0).primal_0.x * dOut_0.y;
    float sum_1 = sum_0 + (*left_0).primal_0.rows[int(2)].x * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->x) = (*right_0).primal_0.x * dOut_0.z;
    float3  right_d_result_0;
    *&((&right_d_result_0)->x) = sum_1;
    float _S2 = (*left_0).primal_0.rows[int(0)].y * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->y) = (*right_0).primal_0.y * dOut_0.x;
    float sum_2 = _S2 + (*left_0).primal_0.rows[int(1)].y * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->y) = (*right_0).primal_0.y * dOut_0.y;
    float sum_3 = sum_2 + (*left_0).primal_0.rows[int(2)].y * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->y) = (*right_0).primal_0.y * dOut_0.z;
    *&((&right_d_result_0)->y) = sum_3;
    float _S3 = (*left_0).primal_0.rows[int(0)].z * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->z) = (*right_0).primal_0.z * dOut_0.x;
    float sum_4 = _S3 + (*left_0).primal_0.rows[int(1)].z * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->z) = (*right_0).primal_0.z * dOut_0.y;
    float sum_5 = sum_4 + (*left_0).primal_0.rows[int(2)].z * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->z) = (*right_0).primal_0.z * dOut_0.z;
    *&((&right_d_result_0)->z) = sum_5;
    left_0->primal_0 = (*left_0).primal_0;
    left_0->differential_0 = left_d_result_0;
    right_0->primal_0 = (*right_0).primal_0;
    right_0->differential_0 = right_d_result_0;
    return;
}

inline __device__ float3  mul_0(Matrix<float, 3, 3>  left_1, float3  right_1)
{
    float3  result_3;
    int i_0 = int(0);
    for(;;)
    {
        if(i_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int j_0 = int(0);
        float sum_6 = 0.0f;
        for(;;)
        {
            if(j_0 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_7 = sum_6 + _slang_vector_get_element(left_1.rows[i_0], j_0) * _slang_vector_get_element(right_1, j_0);
            j_0 = j_0 + int(1);
            sum_6 = sum_7;
        }
        *_slang_vector_get_element_ptr(&result_3, i_0) = sum_6;
        i_0 = i_0 + int(1);
    }
    return result_3;
}

inline __device__ void posW2C(Matrix<float, 3, 3>  R_0, float3  t_0, float3  pW_0, float3  * pC_0)
{
    *pC_0 = mul_0(R_0, pW_0) + t_0;
    return;
}

inline __device__ void mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_2, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_2, Matrix<float, 3, 3>  dOut_1)
{
    Matrix<float, 3, 3>  left_d_result_1;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_1;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    left_2->primal_0 = (*left_2).primal_0;
    left_2->differential_0 = left_d_result_1;
    right_2->primal_0 = (*right_2).primal_0;
    right_2->differential_0 = right_d_result_1;
    return;
}

struct DiffPair_matrixx3Cfloatx2C2x2C3x3E_0
{
    Matrix<float, 2, 3>  primal_0;
    Matrix<float, 2, 3>  differential_0;
};

inline __device__ void mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_3, Matrix<float, 2, 3>  dOut_2)
{
    Matrix<float, 2, 3>  left_d_result_2;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_2;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    left_3->primal_0 = (*left_3).primal_0;
    left_3->differential_0 = left_d_result_2;
    right_3->primal_0 = (*right_3).primal_0;
    right_3->differential_0 = right_d_result_2;
    return;
}

struct DiffPair_matrixx3Cfloatx2C3x2C2x3E_0
{
    Matrix<float, 3, 2>  primal_0;
    Matrix<float, 3, 2>  differential_0;
};

inline __device__ void mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_4, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * right_4, Matrix<float, 2, 2>  dOut_3)
{
    Matrix<float, 2, 3>  left_d_result_3;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 2>  right_d_result_3;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].y;
    left_4->primal_0 = (*left_4).primal_0;
    left_4->differential_0 = left_d_result_3;
    right_4->primal_0 = (*right_4).primal_0;
    right_4->differential_0 = right_d_result_3;
    return;
}

inline __device__ Matrix<float, 3, 3>  mul_4(Matrix<float, 3, 3>  left_5, Matrix<float, 3, 3>  right_5)
{
    Matrix<float, 3, 3>  result_4;
    int r_3 = int(0);
    for(;;)
    {
        if(r_3 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_3 = int(0);
        for(;;)
        {
            if(c_3 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_1 = int(0);
            float sum_8 = 0.0f;
            for(;;)
            {
                if(i_1 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_9 = sum_8 + _slang_vector_get_element(left_5.rows[r_3], i_1) * _slang_vector_get_element(right_5.rows[i_1], c_3);
                i_1 = i_1 + int(1);
                sum_8 = sum_9;
            }
            *_slang_vector_get_element_ptr(((&result_4)->rows + (r_3)), c_3) = sum_8;
            c_3 = c_3 + int(1);
        }
        r_3 = r_3 + int(1);
    }
    return result_4;
}

inline __device__ Matrix<float, 2, 3>  mul_5(Matrix<float, 2, 3>  left_6, Matrix<float, 3, 3>  right_6)
{
    Matrix<float, 2, 3>  result_5;
    int r_4 = int(0);
    for(;;)
    {
        if(r_4 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_4 = int(0);
        for(;;)
        {
            if(c_4 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_2 = int(0);
            float sum_10 = 0.0f;
            for(;;)
            {
                if(i_2 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_11 = sum_10 + _slang_vector_get_element(left_6.rows[r_4], i_2) * _slang_vector_get_element(right_6.rows[i_2], c_4);
                i_2 = i_2 + int(1);
                sum_10 = sum_11;
            }
            *_slang_vector_get_element_ptr(((&result_5)->rows + (r_4)), c_4) = sum_10;
            c_4 = c_4 + int(1);
        }
        r_4 = r_4 + int(1);
    }
    return result_5;
}

inline __device__ Matrix<float, 2, 2>  mul_6(Matrix<float, 2, 3>  left_7, Matrix<float, 3, 2>  right_7)
{
    Matrix<float, 2, 2>  result_6;
    int r_5 = int(0);
    for(;;)
    {
        if(r_5 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_5 = int(0);
        for(;;)
        {
            if(c_5 < int(2))
            {
            }
            else
            {
                break;
            }
            int i_3 = int(0);
            float sum_12 = 0.0f;
            for(;;)
            {
                if(i_3 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_13 = sum_12 + _slang_vector_get_element(left_7.rows[r_5], i_3) * _slang_vector_get_element(right_7.rows[i_3], c_5);
                i_3 = i_3 + int(1);
                sum_12 = sum_13;
            }
            *_slang_vector_get_element_ptr(((&result_6)->rows + (r_5)), c_5) = sum_12;
            c_5 = c_5 + int(1);
        }
        r_5 = r_5 + int(1);
    }
    return result_6;
}

inline __device__ void covarW2C(Matrix<float, 3, 3>  R_1, Matrix<float, 3, 3>  covarW_0, Matrix<float, 3, 3>  * covarC_0)
{
    *covarC_0 = mul_4(mul_4(R_1, covarW_0), transpose_0(R_1));
    return;
}

inline __device__ void quat_scale_to_covar(float4  quat_1, float3  scale_0, Matrix<float, 3, 3>  * covar_0)
{
    float x_4 = quat_1.y;
    float x2_1 = x_4 * x_4;
    float y2_1 = quat_1.z * quat_1.z;
    float z2_1 = quat_1.w * quat_1.w;
    float xy_1 = quat_1.y * quat_1.z;
    float xz_1 = quat_1.y * quat_1.w;
    float yz_1 = quat_1.z * quat_1.w;
    float wx_1 = quat_1.x * quat_1.y;
    float wy_1 = quat_1.x * quat_1.z;
    float wz_1 = quat_1.x * quat_1.w;
    Matrix<float, 3, 3>  M_0 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_1 + z2_1), 2.0f * (xy_1 + wz_1), 2.0f * (xz_1 - wy_1), 2.0f * (xy_1 - wz_1), 1.0f - 2.0f * (x2_1 + z2_1), 2.0f * (yz_1 + wx_1), 2.0f * (xz_1 + wy_1), 2.0f * (yz_1 - wx_1), 1.0f - 2.0f * (x2_1 + y2_1))), makeMatrix<float, 3, 3> (scale_0.x, 0.0f, 0.0f, 0.0f, scale_0.y, 0.0f, 0.0f, 0.0f, scale_0.z));
    *covar_0 = mul_4(M_0, transpose_0(M_0));
    return;
}

inline __device__ void quat_scale_to_sqrt_covar(float4  quat_2, float3  scale_1, Matrix<float, 3, 3>  * M_1)
{
    float x_5 = quat_2.y;
    float x2_2 = x_5 * x_5;
    float y2_2 = quat_2.z * quat_2.z;
    float z2_2 = quat_2.w * quat_2.w;
    float xy_2 = quat_2.y * quat_2.z;
    float xz_2 = quat_2.y * quat_2.w;
    float yz_2 = quat_2.z * quat_2.w;
    float wx_2 = quat_2.x * quat_2.y;
    float wy_2 = quat_2.x * quat_2.z;
    float wz_2 = quat_2.x * quat_2.w;
    *M_1 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_2 + z2_2), 2.0f * (xy_2 + wz_2), 2.0f * (xz_2 - wy_2), 2.0f * (xy_2 - wz_2), 1.0f - 2.0f * (x2_2 + z2_2), 2.0f * (yz_2 + wx_2), 2.0f * (xz_2 + wy_2), 2.0f * (yz_2 - wx_2), 1.0f - 2.0f * (x2_2 + y2_2))), makeMatrix<float, 3, 3> (scale_1.x, 0.0f, 0.0f, 0.0f, scale_1.y, 0.0f, 0.0f, 0.0f, scale_1.z));
    return;
}

inline __device__ Matrix<float, 2, 2>  inverse(Matrix<float, 2, 2>  m_0)
{
    float invdet_0 = 1.0f / (m_0.rows[int(0)].x * m_0.rows[int(1)].y - m_0.rows[int(0)].y * m_0.rows[int(1)].x);
    return makeMatrix<float, 2, 2> (m_0.rows[int(1)].y * invdet_0, - m_0.rows[int(0)].y * invdet_0, - m_0.rows[int(1)].x * invdet_0, m_0.rows[int(0)].x * invdet_0);
}

inline __device__ Matrix<float, 2, 2>  camera_distortion_jac_0(float2  uv_0, FixedArray<float, 10>  * dist_coeffs_0)
{
    float u_0 = uv_0.x;
    float v_0 = uv_0.y;
    float r2_0 = u_0 * u_0 + v_0 * v_0;
    float _S4 = (*dist_coeffs_0)[int(2)] + r2_0 * (*dist_coeffs_0)[int(3)];
    float _S5 = (*dist_coeffs_0)[int(1)] + r2_0 * _S4;
    float _S6 = (*dist_coeffs_0)[int(0)] + r2_0 * _S5;
    float2  _S7 = make_float2 (1.0f + r2_0 * _S6);
    float _S8 = 2.0f * (*dist_coeffs_0)[int(4)];
    float _S9 = _S8 * u_0;
    float _S10 = 2.0f * u_0;
    float _S11 = 2.0f * (*dist_coeffs_0)[int(5)];
    float _S12 = _S11 * u_0;
    float _S13 = 2.0f * v_0;
    float2  _S14 = make_float2 (1.0f, 0.0f) + make_float2 ((*dist_coeffs_0)[int(8)], (*dist_coeffs_0)[int(9)]);
    float2  _S15 = uv_0 * _S14;
    float _S16 = (*dist_coeffs_0)[int(4)] * _S14.y;
    float _S17 = (*dist_coeffs_0)[int(5)] * _S14.x;
    float _S18 = _S15.x + _S15.y;
    float _S19 = r2_0 * _S18;
    float _S20 = r2_0 * _S19;
    float _S21 = (*dist_coeffs_0)[int(7)] * _S14.y + _S16 + (*dist_coeffs_0)[int(6)] * _S14.x + _S17 + _S6 * _S18 + _S5 * _S19 + _S4 * _S20 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S20);
    float _S22 = v_0 * _S21;
    float _S23 = u_0 * _S21;
    float2  _S24 = make_float2 (0.0f, 1.0f) + make_float2 (0.0f, 0.0f);
    float2  _S25 = uv_0 * _S24;
    float _S26 = (*dist_coeffs_0)[int(4)] * _S24.y;
    float _S27 = (*dist_coeffs_0)[int(5)] * _S24.x;
    float _S28 = _S25.x + _S25.y;
    float _S29 = r2_0 * _S28;
    float _S30 = r2_0 * _S29;
    float _S31 = (*dist_coeffs_0)[int(7)] * _S24.y + _S26 + (*dist_coeffs_0)[int(6)] * _S24.x + _S27 + _S6 * _S28 + _S5 * _S29 + _S4 * _S30 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S30);
    float _S32 = v_0 * _S31;
    float _S33 = u_0 * _S31;
    return makeMatrix<float, 2, 2> (_S7 * _S14 + make_float2 (_S11 * (v_0 * _S14.y) + _S10 * _S17 + 2.0f * (u_0 * _S17) + _S8 * (v_0 * _S14.x) + _S23 + _S23, _S13 * _S16 + 2.0f * (v_0 * _S16) + _S12 * _S14.y + _S9 * _S14.x + _S22 + _S22), _S7 * _S24 + make_float2 (_S11 * (v_0 * _S24.y) + _S10 * _S27 + 2.0f * (u_0 * _S27) + _S8 * (v_0 * _S24.x) + _S33 + _S33, _S13 * _S26 + 2.0f * (v_0 * _S26) + _S12 * _S24.y + _S9 * _S24.x + _S32 + _S32));
}

inline __device__ float determinant_0(Matrix<float, 2, 2>  m_1)
{
    return m_1.rows[int(0)].x * m_1.rows[int(1)].y - m_1.rows[int(0)].y * m_1.rows[int(1)].x;
}

struct DiffPair_float_0
{
    float primal_0;
    float differential_0;
};

inline __device__ void _d_min_0(DiffPair_float_0 * dpx_0, DiffPair_float_0 * dpy_0, float dOut_4)
{
    DiffPair_float_0 _S34 = *dpx_0;
    float _S35;
    if(((*dpx_0).primal_0) < ((*dpy_0).primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpx_0).primal_0) > ((*dpy_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpx_0->primal_0 = _S34.primal_0;
    dpx_0->differential_0 = _S35;
    DiffPair_float_0 _S36 = *dpy_0;
    if(((*dpy_0).primal_0) < (_S34.primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpy_0).primal_0) > ((*dpx_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpy_0->primal_0 = _S36.primal_0;
    dpy_0->differential_0 = _S35;
    return;
}

inline __device__ bool is_valid_distortion(float2  uv_1, FixedArray<float, 10>  * dist_coeffs_1)
{
    Matrix<float, 2, 2>  _S37 = camera_distortion_jac_0(uv_1, dist_coeffs_1);
    return (F32_min((determinant_0(_S37)), ((F32_min((_S37.rows[int(0)].x), (_S37.rows[int(1)].y)))))) > 0.0f;
}

inline __device__ void _d_max_0(DiffPair_float_0 * dpx_1, DiffPair_float_0 * dpy_1, float dOut_5)
{
    DiffPair_float_0 _S38 = *dpx_1;
    float _S39;
    if(((*dpx_1).primal_0) > ((*dpy_1).primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpx_1).primal_0) < ((*dpy_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpx_1->primal_0 = _S38.primal_0;
    dpx_1->differential_0 = _S39;
    DiffPair_float_0 _S40 = *dpy_1;
    if(((*dpy_1).primal_0) > (_S38.primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpy_1).primal_0) < ((*dpx_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpy_1->primal_0 = _S40.primal_0;
    dpy_1->differential_0 = _S39;
    return;
}

inline __device__ void _d_sqrt_0(DiffPair_float_0 * dpx_2, float dOut_6)
{
    float _S41 = 0.5f / (F32_sqrt(((F32_max((1.00000001168609742e-07f), ((*dpx_2).primal_0)))))) * dOut_6;
    dpx_2->primal_0 = (*dpx_2).primal_0;
    dpx_2->differential_0 = _S41;
    return;
}

inline __device__ void _d_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_2, float dOut_7)
{
    float3  x_d_result_0;
    *&((&x_d_result_0)->x) = (*dpy_2).primal_0.x * dOut_7;
    float3  y_d_result_0;
    *&((&y_d_result_0)->x) = (*dpx_3).primal_0.x * dOut_7;
    *&((&x_d_result_0)->y) = (*dpy_2).primal_0.y * dOut_7;
    *&((&y_d_result_0)->y) = (*dpx_3).primal_0.y * dOut_7;
    *&((&x_d_result_0)->z) = (*dpy_2).primal_0.z * dOut_7;
    *&((&y_d_result_0)->z) = (*dpx_3).primal_0.z * dOut_7;
    dpx_3->primal_0 = (*dpx_3).primal_0;
    dpx_3->differential_0 = x_d_result_0;
    dpy_2->primal_0 = (*dpy_2).primal_0;
    dpy_2->differential_0 = y_d_result_0;
    return;
}

struct DiffPair_vectorx3Cfloatx2C2x3E_0
{
    float2  primal_0;
    float2  differential_0;
};

inline __device__ void _d_dot_1(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpx_4, DiffPair_vectorx3Cfloatx2C2x3E_0 * dpy_3, float dOut_8)
{
    float2  x_d_result_1;
    *&((&x_d_result_1)->x) = (*dpy_3).primal_0.x * dOut_8;
    float2  y_d_result_1;
    *&((&y_d_result_1)->x) = (*dpx_4).primal_0.x * dOut_8;
    *&((&x_d_result_1)->y) = (*dpy_3).primal_0.y * dOut_8;
    *&((&y_d_result_1)->y) = (*dpx_4).primal_0.y * dOut_8;
    dpx_4->primal_0 = (*dpx_4).primal_0;
    dpx_4->differential_0 = x_d_result_1;
    dpy_3->primal_0 = (*dpy_3).primal_0;
    dpy_3->differential_0 = y_d_result_1;
    return;
}

inline __device__ float dot_0(float3  x_6, float3  y_0)
{
    int i_4 = int(0);
    float result_7 = 0.0f;
    for(;;)
    {
        if(i_4 < int(3))
        {
        }
        else
        {
            break;
        }
        float result_8 = result_7 + _slang_vector_get_element(x_6, i_4) * _slang_vector_get_element(y_0, i_4);
        i_4 = i_4 + int(1);
        result_7 = result_8;
    }
    return result_7;
}

inline __device__ float dot_1(float2  x_7, float2  y_1)
{
    int i_5 = int(0);
    float result_9 = 0.0f;
    for(;;)
    {
        if(i_5 < int(2))
        {
        }
        else
        {
            break;
        }
        float result_10 = result_9 + _slang_vector_get_element(x_7, i_5) * _slang_vector_get_element(y_1, i_5);
        i_5 = i_5 + int(1);
        result_9 = result_10;
    }
    return result_9;
}

inline __device__ float length_0(float2  x_8)
{
    return (F32_sqrt((dot_1(x_8, x_8))));
}

inline __device__ float length_1(float3  x_9)
{
    return (F32_sqrt((dot_0(x_9, x_9))));
}

inline __device__ float2  distort_point(float2  uv_2, bool is_fisheye_0, FixedArray<float, 10>  * dist_coeffs_2)
{
    float2  _S42;
    if(is_fisheye_0)
    {
        float r_6 = length_0(uv_2);
        float theta_0 = (F32_atan((r_6)));
        float _S43;
        if(r_6 < 0.00100000004749745f)
        {
            _S43 = 1.0f - r_6 * r_6 / 3.0f;
        }
        else
        {
            _S43 = theta_0 / r_6;
        }
        _S42 = uv_2 * make_float2 (_S43);
    }
    else
    {
        _S42 = uv_2;
    }
    float u_1 = _S42.x;
    float v_1 = _S42.y;
    float r2_1 = u_1 * u_1 + v_1 * v_1;
    float2  _S44 = _S42 * make_float2 (1.0f + r2_1 * ((*dist_coeffs_2)[int(0)] + r2_1 * ((*dist_coeffs_2)[int(1)] + r2_1 * ((*dist_coeffs_2)[int(2)] + r2_1 * (*dist_coeffs_2)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_2)[int(4)] * u_1 * v_1 + (*dist_coeffs_2)[int(5)] * (r2_1 + 2.0f * u_1 * u_1) + (*dist_coeffs_2)[int(6)] * r2_1, 2.0f * (*dist_coeffs_2)[int(5)] * u_1 * v_1 + (*dist_coeffs_2)[int(4)] * (r2_1 + 2.0f * v_1 * v_1) + (*dist_coeffs_2)[int(7)] * r2_1);
    return _S44 + make_float2 ((*dist_coeffs_2)[int(8)] * _S44.x + (*dist_coeffs_2)[int(9)] * _S44.y, 0.0f);
}

inline __device__ bool undistort_point_0(float2  uv_3, FixedArray<float, 10>  * dist_coeffs_3, int maxiter_0, float2  * uv_undist_0)
{
    int i_6 = int(0);
    float2  q_0 = uv_3;
    for(;;)
    {
        if(i_6 < maxiter_0)
        {
        }
        else
        {
            break;
        }
        float u_2 = q_0.x;
        float v_2 = q_0.y;
        float r2_2 = u_2 * u_2 + v_2 * v_2;
        float2  _S45 = q_0 * make_float2 (1.0f + r2_2 * ((*dist_coeffs_3)[int(0)] + r2_2 * ((*dist_coeffs_3)[int(1)] + r2_2 * ((*dist_coeffs_3)[int(2)] + r2_2 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_2 * v_2 + (*dist_coeffs_3)[int(5)] * (r2_2 + 2.0f * u_2 * u_2) + (*dist_coeffs_3)[int(6)] * r2_2, 2.0f * (*dist_coeffs_3)[int(5)] * u_2 * v_2 + (*dist_coeffs_3)[int(4)] * (r2_2 + 2.0f * v_2 * v_2) + (*dist_coeffs_3)[int(7)] * r2_2);
        float2  r_7 = _S45 + make_float2 ((*dist_coeffs_3)[int(8)] * _S45.x + (*dist_coeffs_3)[int(9)] * _S45.y, 0.0f) - uv_3;
        Matrix<float, 2, 2>  _S46 = camera_distortion_jac_0(q_0, dist_coeffs_3);
        float inv_det_0 = 1.0f / (_S46.rows[int(0)].x * _S46.rows[int(1)].y - _S46.rows[int(0)].y * _S46.rows[int(1)].x);
        float _S47 = r_7.x;
        float _S48 = r_7.y;
        float2  q_1 = q_0 - make_float2 ((_S47 * _S46.rows[int(1)].y - _S48 * _S46.rows[int(0)].y) * inv_det_0, (- _S47 * _S46.rows[int(1)].x + _S48 * _S46.rows[int(0)].x) * inv_det_0);
        i_6 = i_6 + int(1);
        q_0 = q_1;
    }
    *uv_undist_0 = q_0;
    Matrix<float, 2, 2>  _S49 = camera_distortion_jac_0(q_0, dist_coeffs_3);
    bool _S50;
    if((F32_min((determinant_0(_S49)), ((F32_min((_S49.rows[int(0)].x), (_S49.rows[int(1)].y)))))) > 0.0f)
    {
        float u_3 = (*uv_undist_0).x;
        float v_3 = (*uv_undist_0).y;
        float r2_3 = u_3 * u_3 + v_3 * v_3;
        float2  _S51 = *uv_undist_0 * make_float2 (1.0f + r2_3 * ((*dist_coeffs_3)[int(0)] + r2_3 * ((*dist_coeffs_3)[int(1)] + r2_3 * ((*dist_coeffs_3)[int(2)] + r2_3 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_3 * v_3 + (*dist_coeffs_3)[int(5)] * (r2_3 + 2.0f * u_3 * u_3) + (*dist_coeffs_3)[int(6)] * r2_3, 2.0f * (*dist_coeffs_3)[int(5)] * u_3 * v_3 + (*dist_coeffs_3)[int(4)] * (r2_3 + 2.0f * v_3 * v_3) + (*dist_coeffs_3)[int(7)] * r2_3);
        _S50 = (length_0(_S51 + make_float2 ((*dist_coeffs_3)[int(8)] * _S51.x + (*dist_coeffs_3)[int(9)] * _S51.y, 0.0f) - uv_3)) < 0.00999999977648258f;
    }
    else
    {
        _S50 = false;
    }
    return _S50;
}

inline __device__ bool undistort_point(float2  uv_4, bool is_fisheye_1, FixedArray<float, 10>  * dist_coeffs_4, float2  * uv_undist_1)
{
    float2  _S52 = uv_4;
    bool _S53 = undistort_point_0(uv_4, dist_coeffs_4, int(8), &_S52);
    if(!_S53)
    {
        return false;
    }
    float3  raydir_0;
    if(is_fisheye_1)
    {
        float2  _S54 = _S52;
        float theta_1 = length_0(_S52);
        float _S55;
        if(theta_1 < 0.00100000004749745f)
        {
            _S55 = 1.0f - theta_1 * theta_1 / 6.0f;
        }
        else
        {
            _S55 = (F32_sin((theta_1))) / theta_1;
        }
        float3  _S56 = make_float3 ((_S54 * make_float2 (_S55)).x, (_S54 * make_float2 (_S55)).y, (F32_cos((theta_1))));
        raydir_0 = _S56;
    }
    else
    {
        raydir_0 = make_float3 (_S52.x, _S52.y, 1.0f);
    }
    *uv_undist_1 = float2 {raydir_0.x, raydir_0.y} / make_float2 ((F32_max((raydir_0.z), (9.999999960041972e-13f))));
    return true;
}

inline __device__ bool unproject_point(float2  uv_5, bool is_fisheye_2, FixedArray<float, 10>  * dist_coeffs_5, float3  * raydir_1)
{
    float2  _S57 = uv_5;
    int3  _S58 = make_int3 (int(0));
    float3  _S59 = make_float3 ((float)_S58.x, (float)_S58.y, (float)_S58.z);
    *raydir_1 = _S59;
    bool _S60 = undistort_point_0(uv_5, dist_coeffs_5, int(8), &_S57);
    if(!_S60)
    {
        return false;
    }
    float3  _S61;
    if(is_fisheye_2)
    {
        float2  _S62 = _S57;
        float theta_2 = length_0(_S57);
        float _S63;
        if(theta_2 < 0.00100000004749745f)
        {
            _S63 = 1.0f - theta_2 * theta_2 / 6.0f;
        }
        else
        {
            _S63 = (F32_sin((theta_2))) / theta_2;
        }
        float3  _S64 = make_float3 ((_S62 * make_float2 (_S63)).x, (_S62 * make_float2 (_S63)).y, (F32_cos((theta_2))));
        _S61 = _S64;
    }
    else
    {
        _S61 = make_float3 (_S57.x, _S57.y, 1.0f);
    }
    *raydir_1 = _S61;
    return true;
}

inline __device__ float3  normalize_0(float3  x_10)
{
    return x_10 / make_float3 (length_1(x_10));
}

inline __device__ float2  normalize_1(float2  x_11)
{
    return x_11 / make_float2 (length_0(x_11));
}

inline __device__ bool generate_ray(float2  uv_6, bool is_fisheye_3, FixedArray<float, 10>  * dist_coeffs_6, float3  * raydir_2)
{
    float2  _S65 = uv_6;
    bool _S66 = undistort_point_0(uv_6, dist_coeffs_6, int(8), &_S65);
    if(!_S66)
    {
        int3  _S67 = make_int3 (int(0));
        float3  _S68 = make_float3 ((float)_S67.x, (float)_S67.y, (float)_S67.z);
        *raydir_2 = _S68;
        return false;
    }
    float3  _S69;
    if(is_fisheye_3)
    {
        float2  _S70 = _S65;
        float theta_3 = length_0(_S65);
        float _S71;
        if(theta_3 < 0.00100000004749745f)
        {
            _S71 = 1.0f - theta_3 * theta_3 / 6.0f;
        }
        else
        {
            _S71 = (F32_sin((theta_3))) / theta_3;
        }
        float3  _S72 = make_float3 ((_S70 * make_float2 (_S71)).x, (_S70 * make_float2 (_S71)).y, (F32_cos((theta_3))));
        _S69 = _S72;
    }
    else
    {
        _S69 = make_float3 (_S65.x, _S65.y, 1.0f);
    }
    *raydir_2 = normalize_0(_S69);
    return true;
}

inline __device__ void _d_mul_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * left_8, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_8, float3  dOut_9)
{
    float _S73 = (*right_8).primal_0.rows[int(0)].x * dOut_9.x;
    Matrix<float, 3, 3>  right_d_result_4;
    *&(((&right_d_result_4)->rows + (int(0)))->x) = (*left_8).primal_0.x * dOut_9.x;
    float sum_14 = _S73 + (*right_8).primal_0.rows[int(0)].y * dOut_9.y;
    *&(((&right_d_result_4)->rows + (int(0)))->y) = (*left_8).primal_0.x * dOut_9.y;
    float sum_15 = sum_14 + (*right_8).primal_0.rows[int(0)].z * dOut_9.z;
    *&(((&right_d_result_4)->rows + (int(0)))->z) = (*left_8).primal_0.x * dOut_9.z;
    float3  left_d_result_4;
    *&((&left_d_result_4)->x) = sum_15;
    float _S74 = (*right_8).primal_0.rows[int(1)].x * dOut_9.x;
    *&(((&right_d_result_4)->rows + (int(1)))->x) = (*left_8).primal_0.y * dOut_9.x;
    float sum_16 = _S74 + (*right_8).primal_0.rows[int(1)].y * dOut_9.y;
    *&(((&right_d_result_4)->rows + (int(1)))->y) = (*left_8).primal_0.y * dOut_9.y;
    float sum_17 = sum_16 + (*right_8).primal_0.rows[int(1)].z * dOut_9.z;
    *&(((&right_d_result_4)->rows + (int(1)))->z) = (*left_8).primal_0.y * dOut_9.z;
    *&((&left_d_result_4)->y) = sum_17;
    float _S75 = (*right_8).primal_0.rows[int(2)].x * dOut_9.x;
    *&(((&right_d_result_4)->rows + (int(2)))->x) = (*left_8).primal_0.z * dOut_9.x;
    float sum_18 = _S75 + (*right_8).primal_0.rows[int(2)].y * dOut_9.y;
    *&(((&right_d_result_4)->rows + (int(2)))->y) = (*left_8).primal_0.z * dOut_9.y;
    float sum_19 = sum_18 + (*right_8).primal_0.rows[int(2)].z * dOut_9.z;
    *&(((&right_d_result_4)->rows + (int(2)))->z) = (*left_8).primal_0.z * dOut_9.z;
    *&((&left_d_result_4)->z) = sum_19;
    left_8->primal_0 = (*left_8).primal_0;
    left_8->differential_0 = left_d_result_4;
    right_8->primal_0 = (*right_8).primal_0;
    right_8->differential_0 = right_d_result_4;
    return;
}

inline __device__ float3  mul_7(float3  left_9, Matrix<float, 3, 3>  right_9)
{
    float3  result_11;
    int j_1 = int(0);
    for(;;)
    {
        if(j_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int i_7 = int(0);
        float sum_20 = 0.0f;
        for(;;)
        {
            if(i_7 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_21 = sum_20 + _slang_vector_get_element(left_9, i_7) * _slang_vector_get_element(right_9.rows[i_7], j_1);
            i_7 = i_7 + int(1);
            sum_20 = sum_21;
        }
        *_slang_vector_get_element_ptr(&result_11, j_1) = sum_20;
        j_1 = j_1 + int(1);
    }
    return result_11;
}

inline __device__ float3  transform_ray_o(Matrix<float, 3, 3>  R_2, float3  t_1)
{
    return - mul_7(t_1, R_2);
}

inline __device__ float3  transform_ray_d(Matrix<float, 3, 3>  R_3, float3  raydir_3)
{
    return mul_7(raydir_3, R_3);
}

inline __device__ float3  undo_transform_ray_d(Matrix<float, 3, 3>  R_4, float3  raydir_4)
{
    return mul_7(raydir_4, transpose_0(R_4));
}

inline __device__ void s_bwd_prop_mul_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S76, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S77, float3  _S78)
{
    _d_mul_1(_S76, _S77, _S78);
    return;
}

inline __device__ void s_bwd_prop_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_0, float3  _s_dOut_0)
{
    float3  _S79 = - _s_dOut_0;
    float3  _S80 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S81;
    (&_S81)->primal_0 = (*dpt_0).primal_0;
    (&_S81)->differential_0 = _S80;
    Matrix<float, 3, 3>  _S82 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S83;
    (&_S83)->primal_0 = (*dpR_0).primal_0;
    (&_S83)->differential_0 = _S82;
    s_bwd_prop_mul_0(&_S81, &_S83, _S79);
    dpt_0->primal_0 = (*dpt_0).primal_0;
    dpt_0->differential_0 = _S81.differential_0;
    dpR_0->primal_0 = (*dpR_0).primal_0;
    dpR_0->differential_0 = _S83.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S84, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S85, float3  _S86)
{
    s_bwd_prop_transform_ray_o_0(_S84, _S85, _S86);
    return;
}

inline __device__ void transform_ray_o_vjp(Matrix<float, 3, 3>  R_5, float3  t_2, float3  v_ray_o_0, Matrix<float, 3, 3>  * v_R_0, float3  * v_t_0)
{
    Matrix<float, 3, 3>  _S87 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_0;
    (&dp_R_0)->primal_0 = R_5;
    (&dp_R_0)->differential_0 = _S87;
    float3  _S88 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_0;
    (&dp_t_0)->primal_0 = t_2;
    (&dp_t_0)->differential_0 = _S88;
    s_bwd_transform_ray_o_0(&dp_R_0, &dp_t_0, v_ray_o_0);
    *v_R_0 = dp_R_0.differential_0;
    *v_t_0 = dp_t_0.differential_0;
    return;
}

inline __device__ void s_bwd_prop_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpraydir_0, float3  _s_dOut_1)
{
    float3  _S89 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S90;
    (&_S90)->primal_0 = (*dpraydir_0).primal_0;
    (&_S90)->differential_0 = _S89;
    Matrix<float, 3, 3>  _S91 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S92;
    (&_S92)->primal_0 = (*dpR_1).primal_0;
    (&_S92)->differential_0 = _S91;
    s_bwd_prop_mul_0(&_S90, &_S92, _s_dOut_1);
    dpraydir_0->primal_0 = (*dpraydir_0).primal_0;
    dpraydir_0->differential_0 = _S90.differential_0;
    dpR_1->primal_0 = (*dpR_1).primal_0;
    dpR_1->differential_0 = _S92.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S93, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S94, float3  _S95)
{
    s_bwd_prop_transform_ray_d_0(_S93, _S94, _S95);
    return;
}

inline __device__ void transform_ray_d_vjp(Matrix<float, 3, 3>  R_6, float3  raydir_5, float3  v_ray_d_0, Matrix<float, 3, 3>  * v_R_1, float3  * v_raydir_0)
{
    Matrix<float, 3, 3>  _S96 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_1;
    (&dp_R_1)->primal_0 = R_6;
    (&dp_R_1)->differential_0 = _S96;
    float3  _S97 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_raydir_0;
    (&dp_raydir_0)->primal_0 = raydir_5;
    (&dp_raydir_0)->differential_0 = _S97;
    s_bwd_transform_ray_d_0(&dp_R_1, &dp_raydir_0, v_ray_d_0);
    *v_R_1 = dp_R_1.differential_0;
    *v_raydir_0 = dp_raydir_0.differential_0;
    return;
}

inline __device__ void _d_exp_0(DiffPair_float_0 * dpx_5, float dOut_10)
{
    float _S98 = (F32_exp(((*dpx_5).primal_0))) * dOut_10;
    dpx_5->primal_0 = (*dpx_5).primal_0;
    dpx_5->differential_0 = _S98;
    return;
}

inline __device__ void map_opaque_triangle(float3  mean_0, float4  quat_3, float3  scale_2, float3  * vert0_0, float3  * vert1_0, float3  * vert2_0)
{
    float _S99 = scale_2.x;
    float sx_0 = (F32_exp((_S99)));
    float _S100 = scale_2.y;
    float sy_0 = (F32_exp((_S100)));
    float sz_0 = scale_2.z - 0.5f * (_S99 + _S100);
    float x_12 = quat_3.y;
    float x2_3 = x_12 * x_12;
    float y2_3 = quat_3.z * quat_3.z;
    float z2_3 = quat_3.w * quat_3.w;
    float xy_3 = quat_3.y * quat_3.z;
    float xz_3 = quat_3.y * quat_3.w;
    float yz_3 = quat_3.z * quat_3.w;
    float wx_3 = quat_3.x * quat_3.y;
    float wy_3 = quat_3.x * quat_3.z;
    float wz_3 = quat_3.x * quat_3.w;
    Matrix<float, 3, 3>  _S101 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_3 + z2_3), 2.0f * (xy_3 + wz_3), 2.0f * (xz_3 - wy_3), 2.0f * (xy_3 - wz_3), 1.0f - 2.0f * (x2_3 + z2_3), 2.0f * (yz_3 + wx_3), 2.0f * (xz_3 + wy_3), 2.0f * (yz_3 - wx_3), 1.0f - 2.0f * (x2_3 + y2_3)));
    *vert0_0 = mul_0(_S101, make_float3 (sx_0, 0.0f, 0.0f)) + mean_0;
    *vert1_0 = mul_0(_S101, make_float3 (sx_0 * (-0.5f + sz_0), sy_0, 0.0f)) + mean_0;
    *vert2_0 = mul_0(_S101, make_float3 (sx_0 * (-0.5f - sz_0), - sy_0, 0.0f)) + mean_0;
    return;
}

inline __device__ void persp_proj_3dgs(float3  mean3d_0, Matrix<float, 3, 3>  cov3d_0, float fx_0, float fy_0, float cx_0, float cy_0, uint width_0, uint height_0, Matrix<float, 2, 2>  * cov2d_0, float2  * mean2d_0)
{
    float _S102 = float(width_0);
    float _S103 = float(height_0);
    float _S104 = 0.30000001192092896f * (0.5f * _S102 / fx_0);
    float _S105 = 0.30000001192092896f * (0.5f * _S103 / fy_0);
    float rz_0 = 1.0f / mean3d_0.z;
    float rz2_0 = rz_0 * rz_0;
    Matrix<float, 2, 3>  J_0 = makeMatrix<float, 2, 3> (fx_0 * rz_0, 0.0f, - fx_0 * (mean3d_0.z * (F32_min(((_S102 - cx_0) / fx_0 + _S104), ((F32_max((- (cx_0 / fx_0 + _S104)), (mean3d_0.x * rz_0))))))) * rz2_0, 0.0f, fy_0 * rz_0, - fy_0 * (mean3d_0.z * (F32_min(((_S103 - cy_0) / fy_0 + _S105), ((F32_max((- (cy_0 / fy_0 + _S105)), (mean3d_0.y * rz_0))))))) * rz2_0);
    *cov2d_0 = mul_6(mul_5(J_0, cov3d_0), transpose_1(J_0));
    *mean2d_0 = make_float2 (fx_0 * mean3d_0.x * rz_0 + cx_0, fy_0 * mean3d_0.y * rz_0 + cy_0);
    return;
}

inline __device__ void _d_clamp_0(DiffPair_float_0 * dpx_6, DiffPair_float_0 * dpMin_0, DiffPair_float_0 * dpMax_0, float dOut_11)
{
    DiffPair_float_0 _S106 = *dpx_6;
    bool _S107;
    if(((*dpx_6).primal_0) >= ((*dpMin_0).primal_0))
    {
        _S107 = ((*dpx_6).primal_0) <= ((*dpMax_0).primal_0);
    }
    else
    {
        _S107 = false;
    }
    float _S108;
    if(_S107)
    {
        _S108 = dOut_11;
    }
    else
    {
        _S108 = 0.0f;
    }
    dpx_6->primal_0 = _S106.primal_0;
    dpx_6->differential_0 = _S108;
    DiffPair_float_0 _S109 = *dpMin_0;
    if((_S106.primal_0) < ((*dpMin_0).primal_0))
    {
        _S108 = dOut_11;
    }
    else
    {
        _S108 = 0.0f;
    }
    dpMin_0->primal_0 = _S109.primal_0;
    dpMin_0->differential_0 = _S108;
    DiffPair_float_0 _S110 = *dpMax_0;
    if(((*dpx_6).primal_0) > ((*dpMax_0).primal_0))
    {
        _S108 = dOut_11;
    }
    else
    {
        _S108 = 0.0f;
    }
    dpMax_0->primal_0 = _S110.primal_0;
    dpMax_0->differential_0 = _S108;
    return;
}

inline __device__ float clamp_0(float x_13, float minBound_0, float maxBound_0)
{
    return (F32_min(((F32_max((x_13), (minBound_0)))), (maxBound_0)));
}

struct SigmaPoints_0
{
    FixedArray<float3 , 7>  p_0;
    FixedArray<float, 7>  w_mean_0;
    FixedArray<float, 7>  w_cov_0;
};

inline __device__ bool persp_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_0, float4  intrins_0, FixedArray<float, 10>  * dist_coeffs_7, uint width_1, uint height_1, Matrix<float, 2, 2>  * cov2d_1, float2  * mean2d_1)
{
    float2  * _S111;
    float2  * _S112;
    float2  * _S113;
    bool _S114;
    float2  * _S115;
    float2  * _S116;
    float2  * _S117;
    bool _S118;
    float2  * _S119;
    bool _S120;
    int2  _S121 = make_int2 (int(0));
    float2  _S122 = make_float2 ((float)_S121.x, (float)_S121.y);
    *mean2d_1 = _S122;
    *cov2d_1 = makeMatrix<float, 2, 2> (0.0f);
    float fx_1 = intrins_0.x;
    float fy_1 = intrins_0.y;
    float _S123 = float(width_1);
    float _S124 = float(height_1);
    float _S125 = 0.30000001192092896f * (0.5f * _S123 / fx_1) * fx_1;
    float lim_x_pos_0 = _S123 + _S125;
    float _S126 = 0.30000001192092896f * (0.5f * _S124 / fy_1) * fy_1;
    float lim_y_pos_0 = _S124 + _S126;
    FixedArray<float2 , 7>  proj_points_0;
    for(;;)
    {
        bool _S127;
        _S111 = &proj_points_0[int(0)];
        for(;;)
        {
            float _S128 = sigmas_0->p_0[int(0)].z;
            proj_points_0[int(0)] = float2 {sigmas_0->p_0[int(0)].x, sigmas_0->p_0[int(0)].y} / make_float2 (_S128);
            if(_S128 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S129 = camera_distortion_jac_0(proj_points_0[int(0)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S129)), ((F32_min((_S129.rows[int(0)].x), (_S129.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_4 = proj_points_0[int(0)].x;
            float v_4 = proj_points_0[int(0)].y;
            float r2_4 = u_4 * u_4 + v_4 * v_4;
            float2  _S130 = proj_points_0[int(0)] * make_float2 (1.0f + r2_4 * ((*dist_coeffs_7)[int(0)] + r2_4 * ((*dist_coeffs_7)[int(1)] + r2_4 * ((*dist_coeffs_7)[int(2)] + r2_4 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_4 * v_4 + (*dist_coeffs_7)[int(5)] * (r2_4 + 2.0f * u_4 * u_4) + (*dist_coeffs_7)[int(6)] * r2_4, 2.0f * (*dist_coeffs_7)[int(5)] * u_4 * v_4 + (*dist_coeffs_7)[int(4)] * (r2_4 + 2.0f * v_4 * v_4) + (*dist_coeffs_7)[int(7)] * r2_4);
            float2  _S131 = _S130 + make_float2 ((*dist_coeffs_7)[int(8)] * _S130.x + (*dist_coeffs_7)[int(9)] * _S130.y, 0.0f);
            proj_points_0[int(0)] = make_float2 (fx_1 * _S131.x + intrins_0.z, fy_1 * _S131.y + intrins_0.w);
            break;
        }
        bool all_valid_0 = true & (!_S127);
        _S112 = &proj_points_0[int(1)];
        for(;;)
        {
            float _S132 = sigmas_0->p_0[int(1)].z;
            proj_points_0[int(1)] = float2 {sigmas_0->p_0[int(1)].x, sigmas_0->p_0[int(1)].y} / make_float2 (_S132);
            if(_S132 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S133 = camera_distortion_jac_0(proj_points_0[int(1)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S133)), ((F32_min((_S133.rows[int(0)].x), (_S133.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_5 = proj_points_0[int(1)].x;
            float v_5 = proj_points_0[int(1)].y;
            float r2_5 = u_5 * u_5 + v_5 * v_5;
            float2  _S134 = proj_points_0[int(1)] * make_float2 (1.0f + r2_5 * ((*dist_coeffs_7)[int(0)] + r2_5 * ((*dist_coeffs_7)[int(1)] + r2_5 * ((*dist_coeffs_7)[int(2)] + r2_5 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_5 * v_5 + (*dist_coeffs_7)[int(5)] * (r2_5 + 2.0f * u_5 * u_5) + (*dist_coeffs_7)[int(6)] * r2_5, 2.0f * (*dist_coeffs_7)[int(5)] * u_5 * v_5 + (*dist_coeffs_7)[int(4)] * (r2_5 + 2.0f * v_5 * v_5) + (*dist_coeffs_7)[int(7)] * r2_5);
            float2  _S135 = _S134 + make_float2 ((*dist_coeffs_7)[int(8)] * _S134.x + (*dist_coeffs_7)[int(9)] * _S134.y, 0.0f);
            proj_points_0[int(1)] = make_float2 (fx_1 * _S135.x + intrins_0.z, fy_1 * _S135.y + intrins_0.w);
            break;
        }
        bool all_valid_1 = all_valid_0 & (!_S127);
        for(;;)
        {
            _S113 = &proj_points_0[int(2)];
            for(;;)
            {
                float _S136 = sigmas_0->p_0[int(2)].z;
                proj_points_0[int(2)] = float2 {sigmas_0->p_0[int(2)].x, sigmas_0->p_0[int(2)].y} / make_float2 (_S136);
                if(_S136 < 0.0f)
                {
                    _S127 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S137 = camera_distortion_jac_0(proj_points_0[int(2)], dist_coeffs_7);
                    _S127 = !((F32_min((determinant_0(_S137)), ((F32_min((_S137.rows[int(0)].x), (_S137.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S127)
                {
                    break;
                }
                float u_6 = proj_points_0[int(2)].x;
                float v_6 = proj_points_0[int(2)].y;
                float r2_6 = u_6 * u_6 + v_6 * v_6;
                float2  _S138 = proj_points_0[int(2)] * make_float2 (1.0f + r2_6 * ((*dist_coeffs_7)[int(0)] + r2_6 * ((*dist_coeffs_7)[int(1)] + r2_6 * ((*dist_coeffs_7)[int(2)] + r2_6 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_6 * v_6 + (*dist_coeffs_7)[int(5)] * (r2_6 + 2.0f * u_6 * u_6) + (*dist_coeffs_7)[int(6)] * r2_6, 2.0f * (*dist_coeffs_7)[int(5)] * u_6 * v_6 + (*dist_coeffs_7)[int(4)] * (r2_6 + 2.0f * v_6 * v_6) + (*dist_coeffs_7)[int(7)] * r2_6);
                float2  _S139 = _S138 + make_float2 ((*dist_coeffs_7)[int(8)] * _S138.x + (*dist_coeffs_7)[int(9)] * _S138.y, 0.0f);
                proj_points_0[int(2)] = make_float2 (fx_1 * _S139.x + intrins_0.z, fy_1 * _S139.y + intrins_0.w);
                break;
            }
            _S114 = all_valid_1 & (!_S127);
            break;
        }
        _S115 = &proj_points_0[int(3)];
        for(;;)
        {
            float _S140 = sigmas_0->p_0[int(3)].z;
            proj_points_0[int(3)] = float2 {sigmas_0->p_0[int(3)].x, sigmas_0->p_0[int(3)].y} / make_float2 (_S140);
            if(_S140 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S141 = camera_distortion_jac_0(proj_points_0[int(3)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S141)), ((F32_min((_S141.rows[int(0)].x), (_S141.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_7 = proj_points_0[int(3)].x;
            float v_7 = proj_points_0[int(3)].y;
            float r2_7 = u_7 * u_7 + v_7 * v_7;
            float2  _S142 = proj_points_0[int(3)] * make_float2 (1.0f + r2_7 * ((*dist_coeffs_7)[int(0)] + r2_7 * ((*dist_coeffs_7)[int(1)] + r2_7 * ((*dist_coeffs_7)[int(2)] + r2_7 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_7 * v_7 + (*dist_coeffs_7)[int(5)] * (r2_7 + 2.0f * u_7 * u_7) + (*dist_coeffs_7)[int(6)] * r2_7, 2.0f * (*dist_coeffs_7)[int(5)] * u_7 * v_7 + (*dist_coeffs_7)[int(4)] * (r2_7 + 2.0f * v_7 * v_7) + (*dist_coeffs_7)[int(7)] * r2_7);
            float2  _S143 = _S142 + make_float2 ((*dist_coeffs_7)[int(8)] * _S142.x + (*dist_coeffs_7)[int(9)] * _S142.y, 0.0f);
            proj_points_0[int(3)] = make_float2 (fx_1 * _S143.x + intrins_0.z, fy_1 * _S143.y + intrins_0.w);
            break;
        }
        bool all_valid_2 = _S114 & (!_S127);
        _S116 = &proj_points_0[int(4)];
        for(;;)
        {
            float _S144 = sigmas_0->p_0[int(4)].z;
            proj_points_0[int(4)] = float2 {sigmas_0->p_0[int(4)].x, sigmas_0->p_0[int(4)].y} / make_float2 (_S144);
            if(_S144 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S145 = camera_distortion_jac_0(proj_points_0[int(4)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S145)), ((F32_min((_S145.rows[int(0)].x), (_S145.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_8 = proj_points_0[int(4)].x;
            float v_8 = proj_points_0[int(4)].y;
            float r2_8 = u_8 * u_8 + v_8 * v_8;
            float2  _S146 = proj_points_0[int(4)] * make_float2 (1.0f + r2_8 * ((*dist_coeffs_7)[int(0)] + r2_8 * ((*dist_coeffs_7)[int(1)] + r2_8 * ((*dist_coeffs_7)[int(2)] + r2_8 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_8 * v_8 + (*dist_coeffs_7)[int(5)] * (r2_8 + 2.0f * u_8 * u_8) + (*dist_coeffs_7)[int(6)] * r2_8, 2.0f * (*dist_coeffs_7)[int(5)] * u_8 * v_8 + (*dist_coeffs_7)[int(4)] * (r2_8 + 2.0f * v_8 * v_8) + (*dist_coeffs_7)[int(7)] * r2_8);
            float2  _S147 = _S146 + make_float2 ((*dist_coeffs_7)[int(8)] * _S146.x + (*dist_coeffs_7)[int(9)] * _S146.y, 0.0f);
            proj_points_0[int(4)] = make_float2 (fx_1 * _S147.x + intrins_0.z, fy_1 * _S147.y + intrins_0.w);
            break;
        }
        bool all_valid_3 = all_valid_2 & (!_S127);
        for(;;)
        {
            _S117 = &proj_points_0[int(5)];
            for(;;)
            {
                float _S148 = sigmas_0->p_0[int(5)].z;
                proj_points_0[int(5)] = float2 {sigmas_0->p_0[int(5)].x, sigmas_0->p_0[int(5)].y} / make_float2 (_S148);
                if(_S148 < 0.0f)
                {
                    _S127 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S149 = camera_distortion_jac_0(proj_points_0[int(5)], dist_coeffs_7);
                    _S127 = !((F32_min((determinant_0(_S149)), ((F32_min((_S149.rows[int(0)].x), (_S149.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S127)
                {
                    break;
                }
                float u_9 = proj_points_0[int(5)].x;
                float v_9 = proj_points_0[int(5)].y;
                float r2_9 = u_9 * u_9 + v_9 * v_9;
                float2  _S150 = proj_points_0[int(5)] * make_float2 (1.0f + r2_9 * ((*dist_coeffs_7)[int(0)] + r2_9 * ((*dist_coeffs_7)[int(1)] + r2_9 * ((*dist_coeffs_7)[int(2)] + r2_9 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_9 * v_9 + (*dist_coeffs_7)[int(5)] * (r2_9 + 2.0f * u_9 * u_9) + (*dist_coeffs_7)[int(6)] * r2_9, 2.0f * (*dist_coeffs_7)[int(5)] * u_9 * v_9 + (*dist_coeffs_7)[int(4)] * (r2_9 + 2.0f * v_9 * v_9) + (*dist_coeffs_7)[int(7)] * r2_9);
                float2  _S151 = _S150 + make_float2 ((*dist_coeffs_7)[int(8)] * _S150.x + (*dist_coeffs_7)[int(9)] * _S150.y, 0.0f);
                proj_points_0[int(5)] = make_float2 (fx_1 * _S151.x + intrins_0.z, fy_1 * _S151.y + intrins_0.w);
                break;
            }
            _S118 = all_valid_3 & (!_S127);
            break;
        }
        _S119 = &proj_points_0[int(6)];
        for(;;)
        {
            float _S152 = sigmas_0->p_0[int(6)].z;
            proj_points_0[int(6)] = float2 {sigmas_0->p_0[int(6)].x, sigmas_0->p_0[int(6)].y} / make_float2 (_S152);
            if(_S152 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S153 = camera_distortion_jac_0(proj_points_0[int(6)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S153)), ((F32_min((_S153.rows[int(0)].x), (_S153.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_10 = proj_points_0[int(6)].x;
            float v_10 = proj_points_0[int(6)].y;
            float r2_10 = u_10 * u_10 + v_10 * v_10;
            float2  _S154 = proj_points_0[int(6)] * make_float2 (1.0f + r2_10 * ((*dist_coeffs_7)[int(0)] + r2_10 * ((*dist_coeffs_7)[int(1)] + r2_10 * ((*dist_coeffs_7)[int(2)] + r2_10 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_10 * v_10 + (*dist_coeffs_7)[int(5)] * (r2_10 + 2.0f * u_10 * u_10) + (*dist_coeffs_7)[int(6)] * r2_10, 2.0f * (*dist_coeffs_7)[int(5)] * u_10 * v_10 + (*dist_coeffs_7)[int(4)] * (r2_10 + 2.0f * v_10 * v_10) + (*dist_coeffs_7)[int(7)] * r2_10);
            float2  _S155 = _S154 + make_float2 ((*dist_coeffs_7)[int(8)] * _S154.x + (*dist_coeffs_7)[int(9)] * _S154.y, 0.0f);
            proj_points_0[int(6)] = make_float2 (fx_1 * _S155.x + intrins_0.z, fy_1 * _S155.y + intrins_0.w);
            break;
        }
        _S120 = _S118 & (!_S127);
        break;
    }
    if(!_S120)
    {
        return false;
    }
    float2  _S156 = *mean2d_1 + make_float2 (sigmas_0->w_mean_0[int(0)]) * *_S111;
    *mean2d_1 = _S156;
    float2  _S157 = _S156 + make_float2 (sigmas_0->w_mean_0[int(1)]) * *_S112;
    *mean2d_1 = _S157;
    float2  _S158 = _S157 + make_float2 (sigmas_0->w_mean_0[int(2)]) * *_S113;
    *mean2d_1 = _S158;
    float2  _S159 = _S158 + make_float2 (sigmas_0->w_mean_0[int(3)]) * *_S115;
    *mean2d_1 = _S159;
    float2  _S160 = _S159 + make_float2 (sigmas_0->w_mean_0[int(4)]) * *_S116;
    *mean2d_1 = _S160;
    float2  _S161 = _S160 + make_float2 (sigmas_0->w_mean_0[int(5)]) * *_S117;
    *mean2d_1 = _S161;
    float2  _S162 = _S161 + make_float2 (sigmas_0->w_mean_0[int(6)]) * *_S119;
    *mean2d_1 = _S162;
    float _S163 = - _S125;
    float _S164 = - _S126;
    float2  _S165 = make_float2 (clamp_0(_S162.x, _S163, lim_x_pos_0), clamp_0(_S162.y, _S164, lim_y_pos_0));
    float2  d_0 = make_float2 (clamp_0((*_S111).x, _S163, lim_x_pos_0), clamp_0((*_S111).y, _S164, lim_y_pos_0)) - _S165;
    float _S166 = d_0.x;
    float _S167 = d_0.y;
    float _S168 = _S166 * _S167;
    Matrix<float, 2, 2>  _S169 = *cov2d_1 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S166 * _S166, _S168, _S168, _S167 * _S167);
    *cov2d_1 = _S169;
    float2  d_1 = make_float2 (clamp_0((*_S112).x, _S163, lim_x_pos_0), clamp_0((*_S112).y, _S164, lim_y_pos_0)) - _S165;
    float _S170 = d_1.x;
    float _S171 = d_1.y;
    float _S172 = _S170 * _S171;
    Matrix<float, 2, 2>  _S173 = _S169 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S170 * _S170, _S172, _S172, _S171 * _S171);
    *cov2d_1 = _S173;
    float2  d_2 = make_float2 (clamp_0((*_S113).x, _S163, lim_x_pos_0), clamp_0((*_S113).y, _S164, lim_y_pos_0)) - _S165;
    float _S174 = d_2.x;
    float _S175 = d_2.y;
    float _S176 = _S174 * _S175;
    Matrix<float, 2, 2>  _S177 = _S173 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S174 * _S174, _S176, _S176, _S175 * _S175);
    *cov2d_1 = _S177;
    float2  d_3 = make_float2 (clamp_0((*_S115).x, _S163, lim_x_pos_0), clamp_0((*_S115).y, _S164, lim_y_pos_0)) - _S165;
    float _S178 = d_3.x;
    float _S179 = d_3.y;
    float _S180 = _S178 * _S179;
    Matrix<float, 2, 2>  _S181 = _S177 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S178 * _S178, _S180, _S180, _S179 * _S179);
    *cov2d_1 = _S181;
    float2  d_4 = make_float2 (clamp_0((*_S116).x, _S163, lim_x_pos_0), clamp_0((*_S116).y, _S164, lim_y_pos_0)) - _S165;
    float _S182 = d_4.x;
    float _S183 = d_4.y;
    float _S184 = _S182 * _S183;
    Matrix<float, 2, 2>  _S185 = _S181 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S182 * _S182, _S184, _S184, _S183 * _S183);
    *cov2d_1 = _S185;
    float2  d_5 = make_float2 (clamp_0((*_S117).x, _S163, lim_x_pos_0), clamp_0((*_S117).y, _S164, lim_y_pos_0)) - _S165;
    float _S186 = d_5.x;
    float _S187 = d_5.y;
    float _S188 = _S186 * _S187;
    Matrix<float, 2, 2>  _S189 = _S185 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S186 * _S186, _S188, _S188, _S187 * _S187);
    *cov2d_1 = _S189;
    float2  d_6 = make_float2 (clamp_0((*_S119).x, _S163, lim_x_pos_0), clamp_0((*_S119).y, _S164, lim_y_pos_0)) - _S165;
    float _S190 = d_6.x;
    float _S191 = d_6.y;
    float _S192 = _S190 * _S191;
    *cov2d_1 = _S189 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S190 * _S190, _S192, _S192, _S191 * _S191);
    return true;
}

inline __device__ bool persp_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_1, float4  intrins_1, FixedArray<float, 10>  * dist_coeffs_8, uint width_2, uint height_2, Matrix<float, 2, 2>  * cov2d_2, float2  * mean2d_2)
{
    int2  _S193 = make_int2 (int(0));
    float2  _S194 = make_float2 ((float)_S193.x, (float)_S193.y);
    *mean2d_2 = _S194;
    *cov2d_2 = makeMatrix<float, 2, 2> (0.0f);
    float fx_2 = intrins_1.x;
    float fy_2 = intrins_1.y;
    float _S195 = float(width_2);
    float _S196 = float(height_2);
    float _S197 = 0.30000001192092896f * (0.5f * _S195 / fx_2) * fx_2;
    float lim_x_pos_1 = _S195 + _S197;
    float _S198 = 0.30000001192092896f * (0.5f * _S196 / fy_2) * fy_2;
    float lim_y_pos_1 = _S196 + _S198;
    FixedArray<float2 , 7>  proj_points_1;
    float2  _S199 = float2 {sigmas_1->p_0[int(0)].x, sigmas_1->p_0[int(0)].y} / make_float2 (sigmas_1->p_0[int(0)].z);
    float u_11 = _S199.x;
    float v_11 = _S199.y;
    float r2_11 = u_11 * u_11 + v_11 * v_11;
    float _S200 = 2.0f * (*dist_coeffs_8)[int(4)];
    float _S201 = 2.0f * (*dist_coeffs_8)[int(5)];
    float2  _S202 = _S199 * make_float2 (1.0f + r2_11 * ((*dist_coeffs_8)[int(0)] + r2_11 * ((*dist_coeffs_8)[int(1)] + r2_11 * ((*dist_coeffs_8)[int(2)] + r2_11 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_11 * v_11 + (*dist_coeffs_8)[int(5)] * (r2_11 + 2.0f * u_11 * u_11) + (*dist_coeffs_8)[int(6)] * r2_11, _S201 * u_11 * v_11 + (*dist_coeffs_8)[int(4)] * (r2_11 + 2.0f * v_11 * v_11) + (*dist_coeffs_8)[int(7)] * r2_11);
    float2  _S203 = _S202 + make_float2 ((*dist_coeffs_8)[int(8)] * _S202.x + (*dist_coeffs_8)[int(9)] * _S202.y, 0.0f);
    float cx_1 = intrins_1.z;
    float cy_1 = intrins_1.w;
    float _S204 = fx_2 * _S203.x + cx_1;
    float _S205 = fy_2 * _S203.y + cy_1;
    float2  _S206 = make_float2 (_S204, _S205);
    proj_points_1[int(0)] = _S206;
    float2  _S207 = float2 {sigmas_1->p_0[int(1)].x, sigmas_1->p_0[int(1)].y} / make_float2 (sigmas_1->p_0[int(1)].z);
    float u_12 = _S207.x;
    float v_12 = _S207.y;
    float r2_12 = u_12 * u_12 + v_12 * v_12;
    float2  _S208 = _S207 * make_float2 (1.0f + r2_12 * ((*dist_coeffs_8)[int(0)] + r2_12 * ((*dist_coeffs_8)[int(1)] + r2_12 * ((*dist_coeffs_8)[int(2)] + r2_12 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_12 * v_12 + (*dist_coeffs_8)[int(5)] * (r2_12 + 2.0f * u_12 * u_12) + (*dist_coeffs_8)[int(6)] * r2_12, _S201 * u_12 * v_12 + (*dist_coeffs_8)[int(4)] * (r2_12 + 2.0f * v_12 * v_12) + (*dist_coeffs_8)[int(7)] * r2_12);
    float2  _S209 = _S208 + make_float2 ((*dist_coeffs_8)[int(8)] * _S208.x + (*dist_coeffs_8)[int(9)] * _S208.y, 0.0f);
    float _S210 = fx_2 * _S209.x + cx_1;
    float _S211 = fy_2 * _S209.y + cy_1;
    float2  _S212 = make_float2 (_S210, _S211);
    proj_points_1[int(1)] = _S212;
    float2  _S213 = float2 {sigmas_1->p_0[int(2)].x, sigmas_1->p_0[int(2)].y} / make_float2 (sigmas_1->p_0[int(2)].z);
    float u_13 = _S213.x;
    float v_13 = _S213.y;
    float r2_13 = u_13 * u_13 + v_13 * v_13;
    float2  _S214 = _S213 * make_float2 (1.0f + r2_13 * ((*dist_coeffs_8)[int(0)] + r2_13 * ((*dist_coeffs_8)[int(1)] + r2_13 * ((*dist_coeffs_8)[int(2)] + r2_13 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_13 * v_13 + (*dist_coeffs_8)[int(5)] * (r2_13 + 2.0f * u_13 * u_13) + (*dist_coeffs_8)[int(6)] * r2_13, _S201 * u_13 * v_13 + (*dist_coeffs_8)[int(4)] * (r2_13 + 2.0f * v_13 * v_13) + (*dist_coeffs_8)[int(7)] * r2_13);
    float2  _S215 = _S214 + make_float2 ((*dist_coeffs_8)[int(8)] * _S214.x + (*dist_coeffs_8)[int(9)] * _S214.y, 0.0f);
    float _S216 = fx_2 * _S215.x + cx_1;
    float _S217 = fy_2 * _S215.y + cy_1;
    float2  _S218 = make_float2 (_S216, _S217);
    proj_points_1[int(2)] = _S218;
    float2  _S219 = float2 {sigmas_1->p_0[int(3)].x, sigmas_1->p_0[int(3)].y} / make_float2 (sigmas_1->p_0[int(3)].z);
    float u_14 = _S219.x;
    float v_14 = _S219.y;
    float r2_14 = u_14 * u_14 + v_14 * v_14;
    float2  _S220 = _S219 * make_float2 (1.0f + r2_14 * ((*dist_coeffs_8)[int(0)] + r2_14 * ((*dist_coeffs_8)[int(1)] + r2_14 * ((*dist_coeffs_8)[int(2)] + r2_14 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_14 * v_14 + (*dist_coeffs_8)[int(5)] * (r2_14 + 2.0f * u_14 * u_14) + (*dist_coeffs_8)[int(6)] * r2_14, _S201 * u_14 * v_14 + (*dist_coeffs_8)[int(4)] * (r2_14 + 2.0f * v_14 * v_14) + (*dist_coeffs_8)[int(7)] * r2_14);
    float2  _S221 = _S220 + make_float2 ((*dist_coeffs_8)[int(8)] * _S220.x + (*dist_coeffs_8)[int(9)] * _S220.y, 0.0f);
    float _S222 = fx_2 * _S221.x + cx_1;
    float _S223 = fy_2 * _S221.y + cy_1;
    float2  _S224 = make_float2 (_S222, _S223);
    proj_points_1[int(3)] = _S224;
    float2  _S225 = float2 {sigmas_1->p_0[int(4)].x, sigmas_1->p_0[int(4)].y} / make_float2 (sigmas_1->p_0[int(4)].z);
    float u_15 = _S225.x;
    float v_15 = _S225.y;
    float r2_15 = u_15 * u_15 + v_15 * v_15;
    float2  _S226 = _S225 * make_float2 (1.0f + r2_15 * ((*dist_coeffs_8)[int(0)] + r2_15 * ((*dist_coeffs_8)[int(1)] + r2_15 * ((*dist_coeffs_8)[int(2)] + r2_15 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_15 * v_15 + (*dist_coeffs_8)[int(5)] * (r2_15 + 2.0f * u_15 * u_15) + (*dist_coeffs_8)[int(6)] * r2_15, _S201 * u_15 * v_15 + (*dist_coeffs_8)[int(4)] * (r2_15 + 2.0f * v_15 * v_15) + (*dist_coeffs_8)[int(7)] * r2_15);
    float2  _S227 = _S226 + make_float2 ((*dist_coeffs_8)[int(8)] * _S226.x + (*dist_coeffs_8)[int(9)] * _S226.y, 0.0f);
    float _S228 = fx_2 * _S227.x + cx_1;
    float _S229 = fy_2 * _S227.y + cy_1;
    float2  _S230 = make_float2 (_S228, _S229);
    proj_points_1[int(4)] = _S230;
    float2  _S231 = float2 {sigmas_1->p_0[int(5)].x, sigmas_1->p_0[int(5)].y} / make_float2 (sigmas_1->p_0[int(5)].z);
    float u_16 = _S231.x;
    float v_16 = _S231.y;
    float r2_16 = u_16 * u_16 + v_16 * v_16;
    float2  _S232 = _S231 * make_float2 (1.0f + r2_16 * ((*dist_coeffs_8)[int(0)] + r2_16 * ((*dist_coeffs_8)[int(1)] + r2_16 * ((*dist_coeffs_8)[int(2)] + r2_16 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_16 * v_16 + (*dist_coeffs_8)[int(5)] * (r2_16 + 2.0f * u_16 * u_16) + (*dist_coeffs_8)[int(6)] * r2_16, _S201 * u_16 * v_16 + (*dist_coeffs_8)[int(4)] * (r2_16 + 2.0f * v_16 * v_16) + (*dist_coeffs_8)[int(7)] * r2_16);
    float2  _S233 = _S232 + make_float2 ((*dist_coeffs_8)[int(8)] * _S232.x + (*dist_coeffs_8)[int(9)] * _S232.y, 0.0f);
    float _S234 = fx_2 * _S233.x + cx_1;
    float _S235 = fy_2 * _S233.y + cy_1;
    float2  _S236 = make_float2 (_S234, _S235);
    proj_points_1[int(5)] = _S236;
    float2  _S237 = float2 {sigmas_1->p_0[int(6)].x, sigmas_1->p_0[int(6)].y} / make_float2 (sigmas_1->p_0[int(6)].z);
    float u_17 = _S237.x;
    float v_17 = _S237.y;
    float r2_17 = u_17 * u_17 + v_17 * v_17;
    float2  _S238 = _S237 * make_float2 (1.0f + r2_17 * ((*dist_coeffs_8)[int(0)] + r2_17 * ((*dist_coeffs_8)[int(1)] + r2_17 * ((*dist_coeffs_8)[int(2)] + r2_17 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_17 * v_17 + (*dist_coeffs_8)[int(5)] * (r2_17 + 2.0f * u_17 * u_17) + (*dist_coeffs_8)[int(6)] * r2_17, _S201 * u_17 * v_17 + (*dist_coeffs_8)[int(4)] * (r2_17 + 2.0f * v_17 * v_17) + (*dist_coeffs_8)[int(7)] * r2_17);
    float2  _S239 = _S238 + make_float2 ((*dist_coeffs_8)[int(8)] * _S238.x + (*dist_coeffs_8)[int(9)] * _S238.y, 0.0f);
    float _S240 = fx_2 * _S239.x + cx_1;
    float _S241 = fy_2 * _S239.y + cy_1;
    float2  _S242 = make_float2 (_S240, _S241);
    proj_points_1[int(6)] = _S242;
    float2  _S243 = *mean2d_2 + make_float2 (sigmas_1->w_mean_0[int(0)]) * _S206;
    *mean2d_2 = _S243;
    float2  _S244 = _S243 + make_float2 (sigmas_1->w_mean_0[int(1)]) * _S212;
    *mean2d_2 = _S244;
    float2  _S245 = _S244 + make_float2 (sigmas_1->w_mean_0[int(2)]) * _S218;
    *mean2d_2 = _S245;
    float2  _S246 = _S245 + make_float2 (sigmas_1->w_mean_0[int(3)]) * _S224;
    *mean2d_2 = _S246;
    float2  _S247 = _S246 + make_float2 (sigmas_1->w_mean_0[int(4)]) * _S230;
    *mean2d_2 = _S247;
    float2  _S248 = _S247 + make_float2 (sigmas_1->w_mean_0[int(5)]) * _S236;
    *mean2d_2 = _S248;
    float2  _S249 = _S248 + make_float2 (sigmas_1->w_mean_0[int(6)]) * _S242;
    *mean2d_2 = _S249;
    float _S250 = - _S197;
    float _S251 = - _S198;
    float2  _S252 = make_float2 (clamp_0(_S249.x, _S250, lim_x_pos_1), clamp_0(_S249.y, _S251, lim_y_pos_1));
    float2  d_7 = make_float2 (clamp_0(_S204, _S250, lim_x_pos_1), clamp_0(_S205, _S251, lim_y_pos_1)) - _S252;
    float _S253 = d_7.x;
    float _S254 = d_7.y;
    float _S255 = _S253 * _S254;
    Matrix<float, 2, 2>  _S256 = *cov2d_2 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S253 * _S253, _S255, _S255, _S254 * _S254);
    *cov2d_2 = _S256;
    float2  d_8 = make_float2 (clamp_0(_S210, _S250, lim_x_pos_1), clamp_0(_S211, _S251, lim_y_pos_1)) - _S252;
    float _S257 = d_8.x;
    float _S258 = d_8.y;
    float _S259 = _S257 * _S258;
    Matrix<float, 2, 2>  _S260 = _S256 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S257 * _S257, _S259, _S259, _S258 * _S258);
    *cov2d_2 = _S260;
    float2  d_9 = make_float2 (clamp_0(_S216, _S250, lim_x_pos_1), clamp_0(_S217, _S251, lim_y_pos_1)) - _S252;
    float _S261 = d_9.x;
    float _S262 = d_9.y;
    float _S263 = _S261 * _S262;
    Matrix<float, 2, 2>  _S264 = _S260 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S261 * _S261, _S263, _S263, _S262 * _S262);
    *cov2d_2 = _S264;
    float2  d_10 = make_float2 (clamp_0(_S222, _S250, lim_x_pos_1), clamp_0(_S223, _S251, lim_y_pos_1)) - _S252;
    float _S265 = d_10.x;
    float _S266 = d_10.y;
    float _S267 = _S265 * _S266;
    Matrix<float, 2, 2>  _S268 = _S264 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S265 * _S265, _S267, _S267, _S266 * _S266);
    *cov2d_2 = _S268;
    float2  d_11 = make_float2 (clamp_0(_S228, _S250, lim_x_pos_1), clamp_0(_S229, _S251, lim_y_pos_1)) - _S252;
    float _S269 = d_11.x;
    float _S270 = d_11.y;
    float _S271 = _S269 * _S270;
    Matrix<float, 2, 2>  _S272 = _S268 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S269 * _S269, _S271, _S271, _S270 * _S270);
    *cov2d_2 = _S272;
    float2  d_12 = make_float2 (clamp_0(_S234, _S250, lim_x_pos_1), clamp_0(_S235, _S251, lim_y_pos_1)) - _S252;
    float _S273 = d_12.x;
    float _S274 = d_12.y;
    float _S275 = _S273 * _S274;
    Matrix<float, 2, 2>  _S276 = _S272 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S273 * _S273, _S275, _S275, _S274 * _S274);
    *cov2d_2 = _S276;
    float2  d_13 = make_float2 (clamp_0(_S240, _S250, lim_x_pos_1), clamp_0(_S241, _S251, lim_y_pos_1)) - _S252;
    float _S277 = d_13.x;
    float _S278 = d_13.y;
    float _S279 = _S277 * _S278;
    *cov2d_2 = _S276 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S277 * _S277, _S279, _S279, _S278 * _S278);
    return true;
}

inline __device__ void _d_atan2_0(DiffPair_float_0 * dpy_4, DiffPair_float_0 * dpx_7, float dOut_12)
{
    DiffPair_float_0 _S280 = *dpx_7;
    float _S281 = - (*dpy_4).primal_0 / ((*dpx_7).primal_0 * (*dpx_7).primal_0 + (*dpy_4).primal_0 * (*dpy_4).primal_0) * dOut_12;
    dpx_7->primal_0 = (*dpx_7).primal_0;
    dpx_7->differential_0 = _S281;
    float _S282 = _S280.primal_0 / (_S280.primal_0 * _S280.primal_0 + (*dpy_4).primal_0 * (*dpy_4).primal_0) * dOut_12;
    dpy_4->primal_0 = (*dpy_4).primal_0;
    dpy_4->differential_0 = _S282;
    return;
}

inline __device__ float s_primal_ctx_atan2_0(float _S283, float _S284)
{
    return (F32_atan2((_S283), (_S284)));
}

inline __device__ void s_bwd_prop_atan2_0(DiffPair_float_0 * _S285, DiffPair_float_0 * _S286, float _S287)
{
    _d_atan2_0(_S285, _S286, _S287);
    return;
}

inline __device__ void s_bwd_prop_sqrt_0(DiffPair_float_0 * _S288, float _S289)
{
    _d_sqrt_0(_S288, _S289);
    return;
}

inline __device__ void s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpx_8, float _s_dOut_2)
{
    float _S290 = (*dpx_8).primal_0.x;
    float _S291 = (*dpx_8).primal_0.y;
    DiffPair_float_0 _S292;
    (&_S292)->primal_0 = _S290 * _S290 + _S291 * _S291;
    (&_S292)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S292, _s_dOut_2);
    float _S293 = (*dpx_8).primal_0.y * _S292.differential_0;
    float _S294 = _S293 + _S293;
    float _S295 = (*dpx_8).primal_0.x * _S292.differential_0;
    float _S296 = _S295 + _S295;
    float2  _S297 = make_float2 (0.0f);
    *&((&_S297)->y) = _S294;
    *&((&_S297)->x) = _S296;
    dpx_8->primal_0 = (*dpx_8).primal_0;
    dpx_8->differential_0 = _S297;
    return;
}

inline __device__ void s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S298, float _S299)
{
    s_bwd_prop_length_impl_0(_S298, _S299);
    return;
}

inline __device__ bool fisheye_proj_3dgs_0(float3  mean3d_1, Matrix<float, 3, 3>  cov3d_1, float4  intrins_2, FixedArray<float, 10>  * dist_coeffs_9, Matrix<float, 2, 2>  * cov2d_3, float2  * mean2d_3)
{
    float k_0;
    float2  _S300;
    float _S301;
    float _S302;
    bool _S303;
    for(;;)
    {
        float2  _S304 = float2 {mean3d_1.x, mean3d_1.y};
        _S300 = _S304;
        float r_8 = length_0(_S304);
        _S301 = r_8;
        float _S305 = mean3d_1.z;
        _S302 = _S305;
        float theta_4 = (F32_atan2((r_8), (_S305)));
        if(theta_4 < 0.00100000004749745f)
        {
            k_0 = (1.0f - theta_4 * theta_4 / 3.0f) / _S305;
        }
        else
        {
            k_0 = theta_4 / r_8;
        }
        float2  _S306 = _S304 * make_float2 (k_0);
        *mean2d_3 = _S306;
        Matrix<float, 2, 2>  _S307 = camera_distortion_jac_0(_S306, dist_coeffs_9);
        bool _S308 = !((F32_min((determinant_0(_S307)), ((F32_min((_S307.rows[int(0)].x), (_S307.rows[int(1)].y)))))) > 0.0f);
        _S303 = _S308;
        if(_S308)
        {
            break;
        }
        float u_18 = (*mean2d_3).x;
        float v_18 = (*mean2d_3).y;
        float r2_18 = u_18 * u_18 + v_18 * v_18;
        float2  _S309 = *mean2d_3 * make_float2 (1.0f + r2_18 * ((*dist_coeffs_9)[int(0)] + r2_18 * ((*dist_coeffs_9)[int(1)] + r2_18 * ((*dist_coeffs_9)[int(2)] + r2_18 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_18 * v_18 + (*dist_coeffs_9)[int(5)] * (r2_18 + 2.0f * u_18 * u_18) + (*dist_coeffs_9)[int(6)] * r2_18, 2.0f * (*dist_coeffs_9)[int(5)] * u_18 * v_18 + (*dist_coeffs_9)[int(4)] * (r2_18 + 2.0f * v_18 * v_18) + (*dist_coeffs_9)[int(7)] * r2_18);
        float2  _S310 = _S309 + make_float2 ((*dist_coeffs_9)[int(8)] * _S309.x + (*dist_coeffs_9)[int(9)] * _S309.y, 0.0f);
        *mean2d_3 = make_float2 (intrins_2.x * _S310.x + intrins_2.z, intrins_2.y * _S310.y + intrins_2.w);
        break;
    }
    if(!!_S303)
    {
        return false;
    }
    Matrix<float, 2, 3>  J_1;
    float2  _S311 = make_float2 (0.0f);
    float2  seed_0 = _S311;
    *&((&seed_0)->x) = 1.0f;
    float2  _S312 = seed_0;
    float _S313 = s_primal_ctx_atan2_0(_S301, _S302);
    bool _S314 = _S313 < 0.00100000004749745f;
    float _S315;
    float _S316;
    float _S317;
    if(_S314)
    {
        float _S318 = 1.0f - _S313 * _S313 / 3.0f;
        float _S319 = _S302 * _S302;
        k_0 = _S318 / _S302;
        _S315 = 0.0f;
        _S316 = _S319;
        _S317 = _S318;
    }
    else
    {
        float _S320 = _S301 * _S301;
        k_0 = _S313 / _S301;
        _S315 = _S320;
        _S316 = 0.0f;
        _S317 = 0.0f;
    }
    float2  _S321 = make_float2 (k_0);
    float2  _S322 = _S300 * make_float2 (k_0);
    float u_19 = _S322.x;
    float v_19 = _S322.y;
    float r2_19 = u_19 * u_19 + v_19 * v_19;
    float _S323 = (*dist_coeffs_9)[int(2)] + r2_19 * (*dist_coeffs_9)[int(3)];
    float _S324 = (*dist_coeffs_9)[int(1)] + r2_19 * _S323;
    float _S325 = (*dist_coeffs_9)[int(0)] + r2_19 * _S324;
    float _S326 = 2.0f * (*dist_coeffs_9)[int(4)];
    float _S327 = 2.0f * (*dist_coeffs_9)[int(5)];
    float fx_3 = intrins_2.x;
    float fy_3 = intrins_2.y;
    float _S328 = fx_3 * _S312.x;
    float2  _S329 = make_float2 (_S328, fy_3 * _S312.y) + make_float2 ((*dist_coeffs_9)[int(8)] * _S328, (*dist_coeffs_9)[int(9)] * _S328);
    float2  _S330 = _S322 * _S329;
    float _S331 = (*dist_coeffs_9)[int(4)] * _S329.y;
    float _S332 = (*dist_coeffs_9)[int(5)] * _S329.x;
    float _S333 = _S330.x + _S330.y;
    float _S334 = r2_19 * _S333;
    float _S335 = r2_19 * _S334;
    float _S336 = (*dist_coeffs_9)[int(7)] * _S329.y + _S331 + (*dist_coeffs_9)[int(6)] * _S329.x + _S332 + _S325 * _S333 + _S324 * _S334 + _S323 * _S335 + (*dist_coeffs_9)[int(3)] * (r2_19 * _S335);
    float _S337 = v_19 * _S336;
    float _S338 = u_19 * _S336;
    float2  _S339 = make_float2 (1.0f + r2_19 * _S325) * _S329 + make_float2 (_S327 * (v_19 * _S329.y) + 2.0f * u_19 * _S332 + 2.0f * (u_19 * _S332) + _S326 * (v_19 * _S329.x) + _S338 + _S338, 2.0f * v_19 * _S331 + 2.0f * (v_19 * _S331) + _S327 * u_19 * _S329.y + _S326 * u_19 * _S329.x + _S337 + _S337);
    float2  _S340 = _S300 * _S339;
    float2  _S341 = _S321 * _S339;
    float _S342 = _S340.x + _S340.y;
    if(_S314)
    {
        float _S343 = _S342 / _S316;
        float _S344 = _S317 * - _S343;
        float _S345 = _S313 * (0.3333333432674408f * - (_S302 * _S343));
        k_0 = _S345 + _S345;
        _S315 = _S344;
        _S316 = 0.0f;
    }
    else
    {
        float _S346 = _S342 / _S315;
        float _S347 = _S313 * - _S346;
        k_0 = _S301 * _S346;
        _S315 = 0.0f;
        _S316 = _S347;
    }
    float _S348 = _S301;
    DiffPair_float_0 _S349;
    (&_S349)->primal_0 = _S301;
    (&_S349)->differential_0 = 0.0f;
    float _S350 = _S302;
    DiffPair_float_0 _S351;
    (&_S351)->primal_0 = _S302;
    (&_S351)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S349, &_S351, k_0);
    float _S352 = _S351.differential_0 + _S315;
    float _S353 = _S349.differential_0 + _S316;
    float2  _S354 = make_float2 (0.0f);
    float2  _S355 = _S300;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S356;
    (&_S356)->primal_0 = _S300;
    (&_S356)->differential_0 = _S354;
    s_bwd_length_impl_0(&_S356, _S353);
    float2  _S357 = _S356.differential_0 + _S341;
    float3  _S358 = make_float3 (_S357.x, _S357.y, _S352);
    J_1[int(0)] = _S358;
    float2  seed_1 = _S311;
    *&((&seed_1)->y) = 1.0f;
    float2  _S359 = seed_1;
    if(_S314)
    {
        float _S360 = 1.0f - _S313 * _S313 / 3.0f;
        float _S361 = _S302 * _S302;
        k_0 = _S360 / _S302;
        _S315 = 0.0f;
        _S316 = _S361;
        _S317 = _S360;
    }
    else
    {
        float _S362 = _S301 * _S301;
        k_0 = _S313 / _S301;
        _S315 = _S362;
        _S316 = 0.0f;
        _S317 = 0.0f;
    }
    float2  _S363 = make_float2 (k_0);
    float2  _S364 = _S300 * make_float2 (k_0);
    float u_20 = _S364.x;
    float v_20 = _S364.y;
    float r2_20 = u_20 * u_20 + v_20 * v_20;
    float _S365 = (*dist_coeffs_9)[int(2)] + r2_20 * (*dist_coeffs_9)[int(3)];
    float _S366 = (*dist_coeffs_9)[int(1)] + r2_20 * _S365;
    float _S367 = (*dist_coeffs_9)[int(0)] + r2_20 * _S366;
    float _S368 = fx_3 * _S359.x;
    float2  _S369 = make_float2 (_S368, fy_3 * _S359.y) + make_float2 ((*dist_coeffs_9)[int(8)] * _S368, (*dist_coeffs_9)[int(9)] * _S368);
    float2  _S370 = _S364 * _S369;
    float _S371 = (*dist_coeffs_9)[int(4)] * _S369.y;
    float _S372 = (*dist_coeffs_9)[int(5)] * _S369.x;
    float _S373 = _S370.x + _S370.y;
    float _S374 = r2_20 * _S373;
    float _S375 = r2_20 * _S374;
    float _S376 = (*dist_coeffs_9)[int(7)] * _S369.y + _S371 + (*dist_coeffs_9)[int(6)] * _S369.x + _S372 + _S367 * _S373 + _S366 * _S374 + _S365 * _S375 + (*dist_coeffs_9)[int(3)] * (r2_20 * _S375);
    float _S377 = v_20 * _S376;
    float _S378 = u_20 * _S376;
    float2  _S379 = make_float2 (1.0f + r2_20 * _S367) * _S369 + make_float2 (_S327 * (v_20 * _S369.y) + 2.0f * u_20 * _S372 + 2.0f * (u_20 * _S372) + _S326 * (v_20 * _S369.x) + _S378 + _S378, 2.0f * v_20 * _S371 + 2.0f * (v_20 * _S371) + _S327 * u_20 * _S369.y + _S326 * u_20 * _S369.x + _S377 + _S377);
    float2  _S380 = _S300 * _S379;
    float2  _S381 = _S363 * _S379;
    float _S382 = _S380.x + _S380.y;
    if(_S314)
    {
        float _S383 = _S382 / _S316;
        float _S384 = _S317 * - _S383;
        float _S385 = _S313 * (0.3333333432674408f * - (_S302 * _S383));
        k_0 = _S385 + _S385;
        _S315 = _S384;
        _S316 = 0.0f;
    }
    else
    {
        float _S386 = _S382 / _S315;
        float _S387 = _S313 * - _S386;
        k_0 = _S301 * _S386;
        _S315 = 0.0f;
        _S316 = _S387;
    }
    DiffPair_float_0 _S388;
    (&_S388)->primal_0 = _S348;
    (&_S388)->differential_0 = 0.0f;
    DiffPair_float_0 _S389;
    (&_S389)->primal_0 = _S350;
    (&_S389)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S388, &_S389, k_0);
    float _S390 = _S389.differential_0 + _S315;
    float _S391 = _S388.differential_0 + _S316;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S392;
    (&_S392)->primal_0 = _S355;
    (&_S392)->differential_0 = _S354;
    s_bwd_length_impl_0(&_S392, _S391);
    float2  _S393 = _S392.differential_0 + _S381;
    float3  _S394 = make_float3 (_S393.x, _S393.y, _S390);
    J_1[int(1)] = _S394;
    *cov2d_3 = mul_6(mul_5(J_1, cov3d_1), transpose_1(J_1));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_1(float3  mean3d_2, Matrix<float, 3, 3>  cov3d_2, float4  intrins_3, FixedArray<float, 10>  * dist_coeffs_10, Matrix<float, 2, 2>  * cov2d_4, float2  * mean2d_4)
{
    float2  _S395 = float2 {mean3d_2.x, mean3d_2.y};
    float r_9 = length_0(_S395);
    float _S396 = mean3d_2.z;
    float theta_5 = (F32_atan2((r_9), (_S396)));
    float k_1;
    if(theta_5 < 0.00100000004749745f)
    {
        k_1 = (1.0f - theta_5 * theta_5 / 3.0f) / _S396;
    }
    else
    {
        k_1 = theta_5 / r_9;
    }
    float2  _S397 = _S395 * make_float2 (k_1);
    float u_21 = _S397.x;
    float v_21 = _S397.y;
    float r2_21 = u_21 * u_21 + v_21 * v_21;
    float _S398 = 2.0f * (*dist_coeffs_10)[int(4)];
    float _S399 = 2.0f * (*dist_coeffs_10)[int(5)];
    float2  _S400 = _S397 * make_float2 (1.0f + r2_21 * ((*dist_coeffs_10)[int(0)] + r2_21 * ((*dist_coeffs_10)[int(1)] + r2_21 * ((*dist_coeffs_10)[int(2)] + r2_21 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S398 * u_21 * v_21 + (*dist_coeffs_10)[int(5)] * (r2_21 + 2.0f * u_21 * u_21) + (*dist_coeffs_10)[int(6)] * r2_21, _S399 * u_21 * v_21 + (*dist_coeffs_10)[int(4)] * (r2_21 + 2.0f * v_21 * v_21) + (*dist_coeffs_10)[int(7)] * r2_21);
    float2  _S401 = _S400 + make_float2 ((*dist_coeffs_10)[int(8)] * _S400.x + (*dist_coeffs_10)[int(9)] * _S400.y, 0.0f);
    float fx_4 = intrins_3.x;
    float fy_4 = intrins_3.y;
    *mean2d_4 = make_float2 (fx_4 * _S401.x + intrins_3.z, fy_4 * _S401.y + intrins_3.w);
    Matrix<float, 2, 3>  J_2;
    float2  _S402 = make_float2 (0.0f);
    float2  seed_2 = _S402;
    *&((&seed_2)->x) = 1.0f;
    float2  _S403 = seed_2;
    float _S404 = s_primal_ctx_atan2_0(r_9, _S396);
    bool _S405 = _S404 < 0.00100000004749745f;
    float _S406;
    float _S407;
    float _S408;
    if(_S405)
    {
        float _S409 = 1.0f - _S404 * _S404 / 3.0f;
        float _S410 = _S396 * _S396;
        k_1 = _S409 / _S396;
        _S406 = 0.0f;
        _S407 = _S410;
        _S408 = _S409;
    }
    else
    {
        float _S411 = r_9 * r_9;
        k_1 = _S404 / r_9;
        _S406 = _S411;
        _S407 = 0.0f;
        _S408 = 0.0f;
    }
    float2  _S412 = make_float2 (k_1);
    float2  _S413 = _S395 * make_float2 (k_1);
    float u_22 = _S413.x;
    float v_22 = _S413.y;
    float r2_22 = u_22 * u_22 + v_22 * v_22;
    float _S414 = (*dist_coeffs_10)[int(2)] + r2_22 * (*dist_coeffs_10)[int(3)];
    float _S415 = (*dist_coeffs_10)[int(1)] + r2_22 * _S414;
    float _S416 = (*dist_coeffs_10)[int(0)] + r2_22 * _S415;
    float _S417 = fx_4 * _S403.x;
    float2  _S418 = make_float2 (_S417, fy_4 * _S403.y) + make_float2 ((*dist_coeffs_10)[int(8)] * _S417, (*dist_coeffs_10)[int(9)] * _S417);
    float2  _S419 = _S413 * _S418;
    float _S420 = (*dist_coeffs_10)[int(4)] * _S418.y;
    float _S421 = (*dist_coeffs_10)[int(5)] * _S418.x;
    float _S422 = _S419.x + _S419.y;
    float _S423 = r2_22 * _S422;
    float _S424 = r2_22 * _S423;
    float _S425 = (*dist_coeffs_10)[int(7)] * _S418.y + _S420 + (*dist_coeffs_10)[int(6)] * _S418.x + _S421 + _S416 * _S422 + _S415 * _S423 + _S414 * _S424 + (*dist_coeffs_10)[int(3)] * (r2_22 * _S424);
    float _S426 = v_22 * _S425;
    float _S427 = u_22 * _S425;
    float2  _S428 = make_float2 (1.0f + r2_22 * _S416) * _S418 + make_float2 (_S399 * (v_22 * _S418.y) + 2.0f * u_22 * _S421 + 2.0f * (u_22 * _S421) + _S398 * (v_22 * _S418.x) + _S427 + _S427, 2.0f * v_22 * _S420 + 2.0f * (v_22 * _S420) + _S399 * u_22 * _S418.y + _S398 * u_22 * _S418.x + _S426 + _S426);
    float2  _S429 = _S395 * _S428;
    float2  _S430 = _S412 * _S428;
    float _S431 = _S429.x + _S429.y;
    if(_S405)
    {
        float _S432 = _S431 / _S407;
        float _S433 = _S408 * - _S432;
        float _S434 = _S404 * (0.3333333432674408f * - (_S396 * _S432));
        k_1 = _S434 + _S434;
        _S406 = _S433;
        _S407 = 0.0f;
    }
    else
    {
        float _S435 = _S431 / _S406;
        float _S436 = _S404 * - _S435;
        k_1 = r_9 * _S435;
        _S406 = 0.0f;
        _S407 = _S436;
    }
    DiffPair_float_0 _S437;
    (&_S437)->primal_0 = r_9;
    (&_S437)->differential_0 = 0.0f;
    DiffPair_float_0 _S438;
    (&_S438)->primal_0 = _S396;
    (&_S438)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S437, &_S438, k_1);
    float _S439 = _S438.differential_0 + _S406;
    float _S440 = _S437.differential_0 + _S407;
    float2  _S441 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S442;
    (&_S442)->primal_0 = _S395;
    (&_S442)->differential_0 = _S441;
    s_bwd_length_impl_0(&_S442, _S440);
    float2  _S443 = _S442.differential_0 + _S430;
    float3  _S444 = make_float3 (_S443.x, _S443.y, _S439);
    J_2[int(0)] = _S444;
    float2  seed_3 = _S402;
    *&((&seed_3)->y) = 1.0f;
    float2  _S445 = seed_3;
    if(_S405)
    {
        float _S446 = 1.0f - _S404 * _S404 / 3.0f;
        float _S447 = _S396 * _S396;
        k_1 = _S446 / _S396;
        _S406 = 0.0f;
        _S407 = _S447;
        _S408 = _S446;
    }
    else
    {
        float _S448 = r_9 * r_9;
        k_1 = _S404 / r_9;
        _S406 = _S448;
        _S407 = 0.0f;
        _S408 = 0.0f;
    }
    float2  _S449 = make_float2 (k_1);
    float2  _S450 = _S395 * make_float2 (k_1);
    float u_23 = _S450.x;
    float v_23 = _S450.y;
    float r2_23 = u_23 * u_23 + v_23 * v_23;
    float _S451 = (*dist_coeffs_10)[int(2)] + r2_23 * (*dist_coeffs_10)[int(3)];
    float _S452 = (*dist_coeffs_10)[int(1)] + r2_23 * _S451;
    float _S453 = (*dist_coeffs_10)[int(0)] + r2_23 * _S452;
    float _S454 = fx_4 * _S445.x;
    float2  _S455 = make_float2 (_S454, fy_4 * _S445.y) + make_float2 ((*dist_coeffs_10)[int(8)] * _S454, (*dist_coeffs_10)[int(9)] * _S454);
    float2  _S456 = _S450 * _S455;
    float _S457 = (*dist_coeffs_10)[int(4)] * _S455.y;
    float _S458 = (*dist_coeffs_10)[int(5)] * _S455.x;
    float _S459 = _S456.x + _S456.y;
    float _S460 = r2_23 * _S459;
    float _S461 = r2_23 * _S460;
    float _S462 = (*dist_coeffs_10)[int(7)] * _S455.y + _S457 + (*dist_coeffs_10)[int(6)] * _S455.x + _S458 + _S453 * _S459 + _S452 * _S460 + _S451 * _S461 + (*dist_coeffs_10)[int(3)] * (r2_23 * _S461);
    float _S463 = v_23 * _S462;
    float _S464 = u_23 * _S462;
    float2  _S465 = make_float2 (1.0f + r2_23 * _S453) * _S455 + make_float2 (_S399 * (v_23 * _S455.y) + 2.0f * u_23 * _S458 + 2.0f * (u_23 * _S458) + _S398 * (v_23 * _S455.x) + _S464 + _S464, 2.0f * v_23 * _S457 + 2.0f * (v_23 * _S457) + _S399 * u_23 * _S455.y + _S398 * u_23 * _S455.x + _S463 + _S463);
    float2  _S466 = _S395 * _S465;
    float2  _S467 = _S449 * _S465;
    float _S468 = _S466.x + _S466.y;
    if(_S405)
    {
        float _S469 = _S468 / _S407;
        float _S470 = _S408 * - _S469;
        float _S471 = _S404 * (0.3333333432674408f * - (_S396 * _S469));
        k_1 = _S471 + _S471;
        _S406 = _S470;
        _S407 = 0.0f;
    }
    else
    {
        float _S472 = _S468 / _S406;
        float _S473 = _S404 * - _S472;
        k_1 = r_9 * _S472;
        _S406 = 0.0f;
        _S407 = _S473;
    }
    DiffPair_float_0 _S474;
    (&_S474)->primal_0 = r_9;
    (&_S474)->differential_0 = 0.0f;
    DiffPair_float_0 _S475;
    (&_S475)->primal_0 = _S396;
    (&_S475)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S474, &_S475, k_1);
    float _S476 = _S475.differential_0 + _S406;
    float _S477 = _S474.differential_0 + _S407;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S478;
    (&_S478)->primal_0 = _S395;
    (&_S478)->differential_0 = _S441;
    s_bwd_length_impl_0(&_S478, _S477);
    float2  _S479 = _S478.differential_0 + _S467;
    float3  _S480 = make_float3 (_S479.x, _S479.y, _S476);
    J_2[int(1)] = _S480;
    *cov2d_4 = mul_6(mul_5(J_2, cov3d_2), transpose_1(J_2));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_2, float4  intrins_4, FixedArray<float, 10>  * dist_coeffs_11, Matrix<float, 2, 2>  * cov2d_5, float2  * mean2d_5)
{
    float2  * _S481;
    bool _S482;
    float2  * _S483;
    bool _S484;
    float2  * _S485;
    bool _S486;
    bool _S487;
    float2  * _S488;
    bool _S489;
    float2  * _S490;
    bool _S491;
    float2  * _S492;
    bool _S493;
    bool _S494;
    float2  * _S495;
    bool _S496;
    bool _S497;
    int2  _S498 = make_int2 (int(0));
    float2  _S499 = make_float2 ((float)_S498.x, (float)_S498.y);
    *mean2d_5 = _S499;
    *cov2d_5 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_2;
    for(;;)
    {
        float k_2;
        _S481 = &proj_points_2[int(0)];
        for(;;)
        {
            float2  _S500 = float2 {sigmas_2->p_0[int(0)].x, sigmas_2->p_0[int(0)].y};
            float r_10 = length_0(_S500);
            float _S501 = sigmas_2->p_0[int(0)].z;
            float theta_6 = (F32_atan2((r_10), (_S501)));
            if(theta_6 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_6 * theta_6 / 3.0f) / _S501;
            }
            else
            {
                k_2 = theta_6 / r_10;
            }
            float2  _S502 = _S500 * make_float2 (k_2);
            proj_points_2[int(0)] = _S502;
            Matrix<float, 2, 2>  _S503 = camera_distortion_jac_0(_S502, dist_coeffs_11);
            bool _S504 = !((F32_min((determinant_0(_S503)), ((F32_min((_S503.rows[int(0)].x), (_S503.rows[int(1)].y)))))) > 0.0f);
            _S482 = _S504;
            if(_S504)
            {
                break;
            }
            float u_24 = proj_points_2[int(0)].x;
            float v_24 = proj_points_2[int(0)].y;
            float r2_24 = u_24 * u_24 + v_24 * v_24;
            float2  _S505 = proj_points_2[int(0)] * make_float2 (1.0f + r2_24 * ((*dist_coeffs_11)[int(0)] + r2_24 * ((*dist_coeffs_11)[int(1)] + r2_24 * ((*dist_coeffs_11)[int(2)] + r2_24 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_24 * v_24 + (*dist_coeffs_11)[int(5)] * (r2_24 + 2.0f * u_24 * u_24) + (*dist_coeffs_11)[int(6)] * r2_24, 2.0f * (*dist_coeffs_11)[int(5)] * u_24 * v_24 + (*dist_coeffs_11)[int(4)] * (r2_24 + 2.0f * v_24 * v_24) + (*dist_coeffs_11)[int(7)] * r2_24);
            float2  _S506 = _S505 + make_float2 ((*dist_coeffs_11)[int(8)] * _S505.x + (*dist_coeffs_11)[int(9)] * _S505.y, 0.0f);
            proj_points_2[int(0)] = make_float2 (intrins_4.x * _S506.x + intrins_4.z, intrins_4.y * _S506.y + intrins_4.w);
            break;
        }
        bool all_valid_4 = true & (!_S482);
        _S483 = &proj_points_2[int(1)];
        for(;;)
        {
            float2  _S507 = float2 {sigmas_2->p_0[int(1)].x, sigmas_2->p_0[int(1)].y};
            float r_11 = length_0(_S507);
            float _S508 = sigmas_2->p_0[int(1)].z;
            float theta_7 = (F32_atan2((r_11), (_S508)));
            if(theta_7 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_7 * theta_7 / 3.0f) / _S508;
            }
            else
            {
                k_2 = theta_7 / r_11;
            }
            float2  _S509 = _S507 * make_float2 (k_2);
            proj_points_2[int(1)] = _S509;
            Matrix<float, 2, 2>  _S510 = camera_distortion_jac_0(_S509, dist_coeffs_11);
            bool _S511 = !((F32_min((determinant_0(_S510)), ((F32_min((_S510.rows[int(0)].x), (_S510.rows[int(1)].y)))))) > 0.0f);
            _S484 = _S511;
            if(_S511)
            {
                break;
            }
            float u_25 = proj_points_2[int(1)].x;
            float v_25 = proj_points_2[int(1)].y;
            float r2_25 = u_25 * u_25 + v_25 * v_25;
            float2  _S512 = proj_points_2[int(1)] * make_float2 (1.0f + r2_25 * ((*dist_coeffs_11)[int(0)] + r2_25 * ((*dist_coeffs_11)[int(1)] + r2_25 * ((*dist_coeffs_11)[int(2)] + r2_25 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_25 * v_25 + (*dist_coeffs_11)[int(5)] * (r2_25 + 2.0f * u_25 * u_25) + (*dist_coeffs_11)[int(6)] * r2_25, 2.0f * (*dist_coeffs_11)[int(5)] * u_25 * v_25 + (*dist_coeffs_11)[int(4)] * (r2_25 + 2.0f * v_25 * v_25) + (*dist_coeffs_11)[int(7)] * r2_25);
            float2  _S513 = _S512 + make_float2 ((*dist_coeffs_11)[int(8)] * _S512.x + (*dist_coeffs_11)[int(9)] * _S512.y, 0.0f);
            proj_points_2[int(1)] = make_float2 (intrins_4.x * _S513.x + intrins_4.z, intrins_4.y * _S513.y + intrins_4.w);
            break;
        }
        bool all_valid_5 = all_valid_4 & (!_S484);
        for(;;)
        {
            _S485 = &proj_points_2[int(2)];
            for(;;)
            {
                float2  _S514 = float2 {sigmas_2->p_0[int(2)].x, sigmas_2->p_0[int(2)].y};
                float r_12 = length_0(_S514);
                float _S515 = sigmas_2->p_0[int(2)].z;
                float theta_8 = (F32_atan2((r_12), (_S515)));
                if(theta_8 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_8 * theta_8 / 3.0f) / _S515;
                }
                else
                {
                    k_2 = theta_8 / r_12;
                }
                float2  _S516 = _S514 * make_float2 (k_2);
                proj_points_2[int(2)] = _S516;
                Matrix<float, 2, 2>  _S517 = camera_distortion_jac_0(_S516, dist_coeffs_11);
                bool _S518 = !((F32_min((determinant_0(_S517)), ((F32_min((_S517.rows[int(0)].x), (_S517.rows[int(1)].y)))))) > 0.0f);
                _S486 = _S518;
                if(_S518)
                {
                    break;
                }
                float u_26 = proj_points_2[int(2)].x;
                float v_26 = proj_points_2[int(2)].y;
                float r2_26 = u_26 * u_26 + v_26 * v_26;
                float2  _S519 = proj_points_2[int(2)] * make_float2 (1.0f + r2_26 * ((*dist_coeffs_11)[int(0)] + r2_26 * ((*dist_coeffs_11)[int(1)] + r2_26 * ((*dist_coeffs_11)[int(2)] + r2_26 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_26 * v_26 + (*dist_coeffs_11)[int(5)] * (r2_26 + 2.0f * u_26 * u_26) + (*dist_coeffs_11)[int(6)] * r2_26, 2.0f * (*dist_coeffs_11)[int(5)] * u_26 * v_26 + (*dist_coeffs_11)[int(4)] * (r2_26 + 2.0f * v_26 * v_26) + (*dist_coeffs_11)[int(7)] * r2_26);
                float2  _S520 = _S519 + make_float2 ((*dist_coeffs_11)[int(8)] * _S519.x + (*dist_coeffs_11)[int(9)] * _S519.y, 0.0f);
                proj_points_2[int(2)] = make_float2 (intrins_4.x * _S520.x + intrins_4.z, intrins_4.y * _S520.y + intrins_4.w);
                break;
            }
            _S487 = all_valid_5 & (!_S486);
            break;
        }
        _S488 = &proj_points_2[int(3)];
        for(;;)
        {
            float2  _S521 = float2 {sigmas_2->p_0[int(3)].x, sigmas_2->p_0[int(3)].y};
            float r_13 = length_0(_S521);
            float _S522 = sigmas_2->p_0[int(3)].z;
            float theta_9 = (F32_atan2((r_13), (_S522)));
            if(theta_9 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_9 * theta_9 / 3.0f) / _S522;
            }
            else
            {
                k_2 = theta_9 / r_13;
            }
            float2  _S523 = _S521 * make_float2 (k_2);
            proj_points_2[int(3)] = _S523;
            Matrix<float, 2, 2>  _S524 = camera_distortion_jac_0(_S523, dist_coeffs_11);
            bool _S525 = !((F32_min((determinant_0(_S524)), ((F32_min((_S524.rows[int(0)].x), (_S524.rows[int(1)].y)))))) > 0.0f);
            _S489 = _S525;
            if(_S525)
            {
                break;
            }
            float u_27 = proj_points_2[int(3)].x;
            float v_27 = proj_points_2[int(3)].y;
            float r2_27 = u_27 * u_27 + v_27 * v_27;
            float2  _S526 = proj_points_2[int(3)] * make_float2 (1.0f + r2_27 * ((*dist_coeffs_11)[int(0)] + r2_27 * ((*dist_coeffs_11)[int(1)] + r2_27 * ((*dist_coeffs_11)[int(2)] + r2_27 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_27 * v_27 + (*dist_coeffs_11)[int(5)] * (r2_27 + 2.0f * u_27 * u_27) + (*dist_coeffs_11)[int(6)] * r2_27, 2.0f * (*dist_coeffs_11)[int(5)] * u_27 * v_27 + (*dist_coeffs_11)[int(4)] * (r2_27 + 2.0f * v_27 * v_27) + (*dist_coeffs_11)[int(7)] * r2_27);
            float2  _S527 = _S526 + make_float2 ((*dist_coeffs_11)[int(8)] * _S526.x + (*dist_coeffs_11)[int(9)] * _S526.y, 0.0f);
            proj_points_2[int(3)] = make_float2 (intrins_4.x * _S527.x + intrins_4.z, intrins_4.y * _S527.y + intrins_4.w);
            break;
        }
        bool all_valid_6 = _S487 & (!_S489);
        _S490 = &proj_points_2[int(4)];
        for(;;)
        {
            float2  _S528 = float2 {sigmas_2->p_0[int(4)].x, sigmas_2->p_0[int(4)].y};
            float r_14 = length_0(_S528);
            float _S529 = sigmas_2->p_0[int(4)].z;
            float theta_10 = (F32_atan2((r_14), (_S529)));
            if(theta_10 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_10 * theta_10 / 3.0f) / _S529;
            }
            else
            {
                k_2 = theta_10 / r_14;
            }
            float2  _S530 = _S528 * make_float2 (k_2);
            proj_points_2[int(4)] = _S530;
            Matrix<float, 2, 2>  _S531 = camera_distortion_jac_0(_S530, dist_coeffs_11);
            bool _S532 = !((F32_min((determinant_0(_S531)), ((F32_min((_S531.rows[int(0)].x), (_S531.rows[int(1)].y)))))) > 0.0f);
            _S491 = _S532;
            if(_S532)
            {
                break;
            }
            float u_28 = proj_points_2[int(4)].x;
            float v_28 = proj_points_2[int(4)].y;
            float r2_28 = u_28 * u_28 + v_28 * v_28;
            float2  _S533 = proj_points_2[int(4)] * make_float2 (1.0f + r2_28 * ((*dist_coeffs_11)[int(0)] + r2_28 * ((*dist_coeffs_11)[int(1)] + r2_28 * ((*dist_coeffs_11)[int(2)] + r2_28 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_28 * v_28 + (*dist_coeffs_11)[int(5)] * (r2_28 + 2.0f * u_28 * u_28) + (*dist_coeffs_11)[int(6)] * r2_28, 2.0f * (*dist_coeffs_11)[int(5)] * u_28 * v_28 + (*dist_coeffs_11)[int(4)] * (r2_28 + 2.0f * v_28 * v_28) + (*dist_coeffs_11)[int(7)] * r2_28);
            float2  _S534 = _S533 + make_float2 ((*dist_coeffs_11)[int(8)] * _S533.x + (*dist_coeffs_11)[int(9)] * _S533.y, 0.0f);
            proj_points_2[int(4)] = make_float2 (intrins_4.x * _S534.x + intrins_4.z, intrins_4.y * _S534.y + intrins_4.w);
            break;
        }
        bool all_valid_7 = all_valid_6 & (!_S491);
        for(;;)
        {
            _S492 = &proj_points_2[int(5)];
            for(;;)
            {
                float2  _S535 = float2 {sigmas_2->p_0[int(5)].x, sigmas_2->p_0[int(5)].y};
                float r_15 = length_0(_S535);
                float _S536 = sigmas_2->p_0[int(5)].z;
                float theta_11 = (F32_atan2((r_15), (_S536)));
                if(theta_11 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_11 * theta_11 / 3.0f) / _S536;
                }
                else
                {
                    k_2 = theta_11 / r_15;
                }
                float2  _S537 = _S535 * make_float2 (k_2);
                proj_points_2[int(5)] = _S537;
                Matrix<float, 2, 2>  _S538 = camera_distortion_jac_0(_S537, dist_coeffs_11);
                bool _S539 = !((F32_min((determinant_0(_S538)), ((F32_min((_S538.rows[int(0)].x), (_S538.rows[int(1)].y)))))) > 0.0f);
                _S493 = _S539;
                if(_S539)
                {
                    break;
                }
                float u_29 = proj_points_2[int(5)].x;
                float v_29 = proj_points_2[int(5)].y;
                float r2_29 = u_29 * u_29 + v_29 * v_29;
                float2  _S540 = proj_points_2[int(5)] * make_float2 (1.0f + r2_29 * ((*dist_coeffs_11)[int(0)] + r2_29 * ((*dist_coeffs_11)[int(1)] + r2_29 * ((*dist_coeffs_11)[int(2)] + r2_29 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_29 * v_29 + (*dist_coeffs_11)[int(5)] * (r2_29 + 2.0f * u_29 * u_29) + (*dist_coeffs_11)[int(6)] * r2_29, 2.0f * (*dist_coeffs_11)[int(5)] * u_29 * v_29 + (*dist_coeffs_11)[int(4)] * (r2_29 + 2.0f * v_29 * v_29) + (*dist_coeffs_11)[int(7)] * r2_29);
                float2  _S541 = _S540 + make_float2 ((*dist_coeffs_11)[int(8)] * _S540.x + (*dist_coeffs_11)[int(9)] * _S540.y, 0.0f);
                proj_points_2[int(5)] = make_float2 (intrins_4.x * _S541.x + intrins_4.z, intrins_4.y * _S541.y + intrins_4.w);
                break;
            }
            _S494 = all_valid_7 & (!_S493);
            break;
        }
        _S495 = &proj_points_2[int(6)];
        for(;;)
        {
            float2  _S542 = float2 {sigmas_2->p_0[int(6)].x, sigmas_2->p_0[int(6)].y};
            float r_16 = length_0(_S542);
            float _S543 = sigmas_2->p_0[int(6)].z;
            float theta_12 = (F32_atan2((r_16), (_S543)));
            if(theta_12 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_12 * theta_12 / 3.0f) / _S543;
            }
            else
            {
                k_2 = theta_12 / r_16;
            }
            float2  _S544 = _S542 * make_float2 (k_2);
            proj_points_2[int(6)] = _S544;
            Matrix<float, 2, 2>  _S545 = camera_distortion_jac_0(_S544, dist_coeffs_11);
            bool _S546 = !((F32_min((determinant_0(_S545)), ((F32_min((_S545.rows[int(0)].x), (_S545.rows[int(1)].y)))))) > 0.0f);
            _S496 = _S546;
            if(_S546)
            {
                break;
            }
            float u_30 = proj_points_2[int(6)].x;
            float v_30 = proj_points_2[int(6)].y;
            float r2_30 = u_30 * u_30 + v_30 * v_30;
            float2  _S547 = proj_points_2[int(6)] * make_float2 (1.0f + r2_30 * ((*dist_coeffs_11)[int(0)] + r2_30 * ((*dist_coeffs_11)[int(1)] + r2_30 * ((*dist_coeffs_11)[int(2)] + r2_30 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_30 * v_30 + (*dist_coeffs_11)[int(5)] * (r2_30 + 2.0f * u_30 * u_30) + (*dist_coeffs_11)[int(6)] * r2_30, 2.0f * (*dist_coeffs_11)[int(5)] * u_30 * v_30 + (*dist_coeffs_11)[int(4)] * (r2_30 + 2.0f * v_30 * v_30) + (*dist_coeffs_11)[int(7)] * r2_30);
            float2  _S548 = _S547 + make_float2 ((*dist_coeffs_11)[int(8)] * _S547.x + (*dist_coeffs_11)[int(9)] * _S547.y, 0.0f);
            proj_points_2[int(6)] = make_float2 (intrins_4.x * _S548.x + intrins_4.z, intrins_4.y * _S548.y + intrins_4.w);
            break;
        }
        _S497 = _S494 & (!_S496);
        break;
    }
    if(!_S497)
    {
        return false;
    }
    float2  _S549 = *mean2d_5 + make_float2 (sigmas_2->w_mean_0[int(0)]) * *_S481;
    *mean2d_5 = _S549;
    float2  _S550 = _S549 + make_float2 (sigmas_2->w_mean_0[int(1)]) * *_S483;
    *mean2d_5 = _S550;
    float2  _S551 = _S550 + make_float2 (sigmas_2->w_mean_0[int(2)]) * *_S485;
    *mean2d_5 = _S551;
    float2  _S552 = _S551 + make_float2 (sigmas_2->w_mean_0[int(3)]) * *_S488;
    *mean2d_5 = _S552;
    float2  _S553 = _S552 + make_float2 (sigmas_2->w_mean_0[int(4)]) * *_S490;
    *mean2d_5 = _S553;
    float2  _S554 = _S553 + make_float2 (sigmas_2->w_mean_0[int(5)]) * *_S492;
    *mean2d_5 = _S554;
    float2  _S555 = _S554 + make_float2 (sigmas_2->w_mean_0[int(6)]) * *_S495;
    *mean2d_5 = _S555;
    float2  d_14 = *_S481 - _S555;
    float _S556 = d_14.x;
    float _S557 = d_14.y;
    float _S558 = _S556 * _S557;
    Matrix<float, 2, 2>  _S559 = *cov2d_5 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S556 * _S556, _S558, _S558, _S557 * _S557);
    *cov2d_5 = _S559;
    float2  d_15 = *_S483 - *mean2d_5;
    float _S560 = d_15.x;
    float _S561 = d_15.y;
    float _S562 = _S560 * _S561;
    Matrix<float, 2, 2>  _S563 = _S559 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S560 * _S560, _S562, _S562, _S561 * _S561);
    *cov2d_5 = _S563;
    float2  d_16 = *_S485 - *mean2d_5;
    float _S564 = d_16.x;
    float _S565 = d_16.y;
    float _S566 = _S564 * _S565;
    Matrix<float, 2, 2>  _S567 = _S563 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S564 * _S564, _S566, _S566, _S565 * _S565);
    *cov2d_5 = _S567;
    float2  d_17 = *_S488 - *mean2d_5;
    float _S568 = d_17.x;
    float _S569 = d_17.y;
    float _S570 = _S568 * _S569;
    Matrix<float, 2, 2>  _S571 = _S567 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S568 * _S568, _S570, _S570, _S569 * _S569);
    *cov2d_5 = _S571;
    float2  d_18 = *_S490 - *mean2d_5;
    float _S572 = d_18.x;
    float _S573 = d_18.y;
    float _S574 = _S572 * _S573;
    Matrix<float, 2, 2>  _S575 = _S571 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S572 * _S572, _S574, _S574, _S573 * _S573);
    *cov2d_5 = _S575;
    float2  d_19 = *_S492 - *mean2d_5;
    float _S576 = d_19.x;
    float _S577 = d_19.y;
    float _S578 = _S576 * _S577;
    Matrix<float, 2, 2>  _S579 = _S575 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S576 * _S576, _S578, _S578, _S577 * _S577);
    *cov2d_5 = _S579;
    float2  d_20 = *_S495 - *mean2d_5;
    float _S580 = d_20.x;
    float _S581 = d_20.y;
    float _S582 = _S580 * _S581;
    *cov2d_5 = _S579 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S580 * _S580, _S582, _S582, _S581 * _S581);
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_3, float4  intrins_5, FixedArray<float, 10>  * dist_coeffs_12, Matrix<float, 2, 2>  * cov2d_6, float2  * mean2d_6)
{
    int2  _S583 = make_int2 (int(0));
    float2  _S584 = make_float2 ((float)_S583.x, (float)_S583.y);
    *mean2d_6 = _S584;
    *cov2d_6 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_3;
    float2  _S585 = float2 {sigmas_3->p_0[int(0)].x, sigmas_3->p_0[int(0)].y};
    float r_17 = length_0(_S585);
    float _S586 = sigmas_3->p_0[int(0)].z;
    float theta_13 = (F32_atan2((r_17), (_S586)));
    float k_3;
    if(theta_13 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_13 * theta_13 / 3.0f) / _S586;
    }
    else
    {
        k_3 = theta_13 / r_17;
    }
    float2  _S587 = _S585 * make_float2 (k_3);
    float u_31 = _S587.x;
    float v_31 = _S587.y;
    float r2_31 = u_31 * u_31 + v_31 * v_31;
    float _S588 = 2.0f * (*dist_coeffs_12)[int(4)];
    float _S589 = 2.0f * (*dist_coeffs_12)[int(5)];
    float2  _S590 = _S587 * make_float2 (1.0f + r2_31 * ((*dist_coeffs_12)[int(0)] + r2_31 * ((*dist_coeffs_12)[int(1)] + r2_31 * ((*dist_coeffs_12)[int(2)] + r2_31 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_31 * v_31 + (*dist_coeffs_12)[int(5)] * (r2_31 + 2.0f * u_31 * u_31) + (*dist_coeffs_12)[int(6)] * r2_31, _S589 * u_31 * v_31 + (*dist_coeffs_12)[int(4)] * (r2_31 + 2.0f * v_31 * v_31) + (*dist_coeffs_12)[int(7)] * r2_31);
    float2  _S591 = _S590 + make_float2 ((*dist_coeffs_12)[int(8)] * _S590.x + (*dist_coeffs_12)[int(9)] * _S590.y, 0.0f);
    float fx_5 = intrins_5.x;
    float fy_5 = intrins_5.y;
    float cx_2 = intrins_5.z;
    float cy_2 = intrins_5.w;
    proj_points_3[int(0)] = make_float2 (fx_5 * _S591.x + cx_2, fy_5 * _S591.y + cy_2);
    float2  _S592 = float2 {sigmas_3->p_0[int(1)].x, sigmas_3->p_0[int(1)].y};
    float r_18 = length_0(_S592);
    float _S593 = sigmas_3->p_0[int(1)].z;
    float theta_14 = (F32_atan2((r_18), (_S593)));
    if(theta_14 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_14 * theta_14 / 3.0f) / _S593;
    }
    else
    {
        k_3 = theta_14 / r_18;
    }
    float2  _S594 = _S592 * make_float2 (k_3);
    float u_32 = _S594.x;
    float v_32 = _S594.y;
    float r2_32 = u_32 * u_32 + v_32 * v_32;
    float2  _S595 = _S594 * make_float2 (1.0f + r2_32 * ((*dist_coeffs_12)[int(0)] + r2_32 * ((*dist_coeffs_12)[int(1)] + r2_32 * ((*dist_coeffs_12)[int(2)] + r2_32 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_32 * v_32 + (*dist_coeffs_12)[int(5)] * (r2_32 + 2.0f * u_32 * u_32) + (*dist_coeffs_12)[int(6)] * r2_32, _S589 * u_32 * v_32 + (*dist_coeffs_12)[int(4)] * (r2_32 + 2.0f * v_32 * v_32) + (*dist_coeffs_12)[int(7)] * r2_32);
    float2  _S596 = _S595 + make_float2 ((*dist_coeffs_12)[int(8)] * _S595.x + (*dist_coeffs_12)[int(9)] * _S595.y, 0.0f);
    proj_points_3[int(1)] = make_float2 (fx_5 * _S596.x + cx_2, fy_5 * _S596.y + cy_2);
    float2  _S597 = float2 {sigmas_3->p_0[int(2)].x, sigmas_3->p_0[int(2)].y};
    float r_19 = length_0(_S597);
    float _S598 = sigmas_3->p_0[int(2)].z;
    float theta_15 = (F32_atan2((r_19), (_S598)));
    if(theta_15 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_15 * theta_15 / 3.0f) / _S598;
    }
    else
    {
        k_3 = theta_15 / r_19;
    }
    float2  _S599 = _S597 * make_float2 (k_3);
    float u_33 = _S599.x;
    float v_33 = _S599.y;
    float r2_33 = u_33 * u_33 + v_33 * v_33;
    float2  _S600 = _S599 * make_float2 (1.0f + r2_33 * ((*dist_coeffs_12)[int(0)] + r2_33 * ((*dist_coeffs_12)[int(1)] + r2_33 * ((*dist_coeffs_12)[int(2)] + r2_33 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_33 * v_33 + (*dist_coeffs_12)[int(5)] * (r2_33 + 2.0f * u_33 * u_33) + (*dist_coeffs_12)[int(6)] * r2_33, _S589 * u_33 * v_33 + (*dist_coeffs_12)[int(4)] * (r2_33 + 2.0f * v_33 * v_33) + (*dist_coeffs_12)[int(7)] * r2_33);
    float2  _S601 = _S600 + make_float2 ((*dist_coeffs_12)[int(8)] * _S600.x + (*dist_coeffs_12)[int(9)] * _S600.y, 0.0f);
    proj_points_3[int(2)] = make_float2 (fx_5 * _S601.x + cx_2, fy_5 * _S601.y + cy_2);
    float2  _S602 = float2 {sigmas_3->p_0[int(3)].x, sigmas_3->p_0[int(3)].y};
    float r_20 = length_0(_S602);
    float _S603 = sigmas_3->p_0[int(3)].z;
    float theta_16 = (F32_atan2((r_20), (_S603)));
    if(theta_16 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_16 * theta_16 / 3.0f) / _S603;
    }
    else
    {
        k_3 = theta_16 / r_20;
    }
    float2  _S604 = _S602 * make_float2 (k_3);
    float u_34 = _S604.x;
    float v_34 = _S604.y;
    float r2_34 = u_34 * u_34 + v_34 * v_34;
    float2  _S605 = _S604 * make_float2 (1.0f + r2_34 * ((*dist_coeffs_12)[int(0)] + r2_34 * ((*dist_coeffs_12)[int(1)] + r2_34 * ((*dist_coeffs_12)[int(2)] + r2_34 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_34 * v_34 + (*dist_coeffs_12)[int(5)] * (r2_34 + 2.0f * u_34 * u_34) + (*dist_coeffs_12)[int(6)] * r2_34, _S589 * u_34 * v_34 + (*dist_coeffs_12)[int(4)] * (r2_34 + 2.0f * v_34 * v_34) + (*dist_coeffs_12)[int(7)] * r2_34);
    float2  _S606 = _S605 + make_float2 ((*dist_coeffs_12)[int(8)] * _S605.x + (*dist_coeffs_12)[int(9)] * _S605.y, 0.0f);
    proj_points_3[int(3)] = make_float2 (fx_5 * _S606.x + cx_2, fy_5 * _S606.y + cy_2);
    float2  _S607 = float2 {sigmas_3->p_0[int(4)].x, sigmas_3->p_0[int(4)].y};
    float r_21 = length_0(_S607);
    float _S608 = sigmas_3->p_0[int(4)].z;
    float theta_17 = (F32_atan2((r_21), (_S608)));
    if(theta_17 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_17 * theta_17 / 3.0f) / _S608;
    }
    else
    {
        k_3 = theta_17 / r_21;
    }
    float2  _S609 = _S607 * make_float2 (k_3);
    float u_35 = _S609.x;
    float v_35 = _S609.y;
    float r2_35 = u_35 * u_35 + v_35 * v_35;
    float2  _S610 = _S609 * make_float2 (1.0f + r2_35 * ((*dist_coeffs_12)[int(0)] + r2_35 * ((*dist_coeffs_12)[int(1)] + r2_35 * ((*dist_coeffs_12)[int(2)] + r2_35 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_35 * v_35 + (*dist_coeffs_12)[int(5)] * (r2_35 + 2.0f * u_35 * u_35) + (*dist_coeffs_12)[int(6)] * r2_35, _S589 * u_35 * v_35 + (*dist_coeffs_12)[int(4)] * (r2_35 + 2.0f * v_35 * v_35) + (*dist_coeffs_12)[int(7)] * r2_35);
    float2  _S611 = _S610 + make_float2 ((*dist_coeffs_12)[int(8)] * _S610.x + (*dist_coeffs_12)[int(9)] * _S610.y, 0.0f);
    proj_points_3[int(4)] = make_float2 (fx_5 * _S611.x + cx_2, fy_5 * _S611.y + cy_2);
    float2  _S612 = float2 {sigmas_3->p_0[int(5)].x, sigmas_3->p_0[int(5)].y};
    float r_22 = length_0(_S612);
    float _S613 = sigmas_3->p_0[int(5)].z;
    float theta_18 = (F32_atan2((r_22), (_S613)));
    if(theta_18 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_18 * theta_18 / 3.0f) / _S613;
    }
    else
    {
        k_3 = theta_18 / r_22;
    }
    float2  _S614 = _S612 * make_float2 (k_3);
    float u_36 = _S614.x;
    float v_36 = _S614.y;
    float r2_36 = u_36 * u_36 + v_36 * v_36;
    float2  _S615 = _S614 * make_float2 (1.0f + r2_36 * ((*dist_coeffs_12)[int(0)] + r2_36 * ((*dist_coeffs_12)[int(1)] + r2_36 * ((*dist_coeffs_12)[int(2)] + r2_36 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_36 * v_36 + (*dist_coeffs_12)[int(5)] * (r2_36 + 2.0f * u_36 * u_36) + (*dist_coeffs_12)[int(6)] * r2_36, _S589 * u_36 * v_36 + (*dist_coeffs_12)[int(4)] * (r2_36 + 2.0f * v_36 * v_36) + (*dist_coeffs_12)[int(7)] * r2_36);
    float2  _S616 = _S615 + make_float2 ((*dist_coeffs_12)[int(8)] * _S615.x + (*dist_coeffs_12)[int(9)] * _S615.y, 0.0f);
    proj_points_3[int(5)] = make_float2 (fx_5 * _S616.x + cx_2, fy_5 * _S616.y + cy_2);
    float2  _S617 = float2 {sigmas_3->p_0[int(6)].x, sigmas_3->p_0[int(6)].y};
    float r_23 = length_0(_S617);
    float _S618 = sigmas_3->p_0[int(6)].z;
    float theta_19 = (F32_atan2((r_23), (_S618)));
    if(theta_19 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_19 * theta_19 / 3.0f) / _S618;
    }
    else
    {
        k_3 = theta_19 / r_23;
    }
    float2  _S619 = _S617 * make_float2 (k_3);
    float u_37 = _S619.x;
    float v_37 = _S619.y;
    float r2_37 = u_37 * u_37 + v_37 * v_37;
    float2  _S620 = _S619 * make_float2 (1.0f + r2_37 * ((*dist_coeffs_12)[int(0)] + r2_37 * ((*dist_coeffs_12)[int(1)] + r2_37 * ((*dist_coeffs_12)[int(2)] + r2_37 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_37 * v_37 + (*dist_coeffs_12)[int(5)] * (r2_37 + 2.0f * u_37 * u_37) + (*dist_coeffs_12)[int(6)] * r2_37, _S589 * u_37 * v_37 + (*dist_coeffs_12)[int(4)] * (r2_37 + 2.0f * v_37 * v_37) + (*dist_coeffs_12)[int(7)] * r2_37);
    float2  _S621 = _S620 + make_float2 ((*dist_coeffs_12)[int(8)] * _S620.x + (*dist_coeffs_12)[int(9)] * _S620.y, 0.0f);
    float2  _S622 = make_float2 (fx_5 * _S621.x + cx_2, fy_5 * _S621.y + cy_2);
    proj_points_3[int(6)] = _S622;
    float2  _S623 = *mean2d_6 + make_float2 (sigmas_3->w_mean_0[int(0)]) * proj_points_3[int(0)];
    *mean2d_6 = _S623;
    float2  _S624 = _S623 + make_float2 (sigmas_3->w_mean_0[int(1)]) * proj_points_3[int(1)];
    *mean2d_6 = _S624;
    float2  _S625 = _S624 + make_float2 (sigmas_3->w_mean_0[int(2)]) * proj_points_3[int(2)];
    *mean2d_6 = _S625;
    float2  _S626 = _S625 + make_float2 (sigmas_3->w_mean_0[int(3)]) * proj_points_3[int(3)];
    *mean2d_6 = _S626;
    float2  _S627 = _S626 + make_float2 (sigmas_3->w_mean_0[int(4)]) * proj_points_3[int(4)];
    *mean2d_6 = _S627;
    float2  _S628 = _S627 + make_float2 (sigmas_3->w_mean_0[int(5)]) * proj_points_3[int(5)];
    *mean2d_6 = _S628;
    float2  _S629 = _S628 + make_float2 (sigmas_3->w_mean_0[int(6)]) * _S622;
    *mean2d_6 = _S629;
    float2  d_21 = proj_points_3[int(0)] - _S629;
    float _S630 = d_21.x;
    float _S631 = d_21.y;
    float _S632 = _S630 * _S631;
    Matrix<float, 2, 2>  _S633 = *cov2d_6 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S630 * _S630, _S632, _S632, _S631 * _S631);
    *cov2d_6 = _S633;
    float2  d_22 = proj_points_3[int(1)] - *mean2d_6;
    float _S634 = d_22.x;
    float _S635 = d_22.y;
    float _S636 = _S634 * _S635;
    Matrix<float, 2, 2>  _S637 = _S633 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S634 * _S634, _S636, _S636, _S635 * _S635);
    *cov2d_6 = _S637;
    float2  d_23 = proj_points_3[int(2)] - *mean2d_6;
    float _S638 = d_23.x;
    float _S639 = d_23.y;
    float _S640 = _S638 * _S639;
    Matrix<float, 2, 2>  _S641 = _S637 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S638 * _S638, _S640, _S640, _S639 * _S639);
    *cov2d_6 = _S641;
    float2  d_24 = proj_points_3[int(3)] - *mean2d_6;
    float _S642 = d_24.x;
    float _S643 = d_24.y;
    float _S644 = _S642 * _S643;
    Matrix<float, 2, 2>  _S645 = _S641 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S642 * _S642, _S644, _S644, _S643 * _S643);
    *cov2d_6 = _S645;
    float2  d_25 = proj_points_3[int(4)] - *mean2d_6;
    float _S646 = d_25.x;
    float _S647 = d_25.y;
    float _S648 = _S646 * _S647;
    Matrix<float, 2, 2>  _S649 = _S645 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S646 * _S646, _S648, _S648, _S647 * _S647);
    *cov2d_6 = _S649;
    float2  d_26 = proj_points_3[int(5)] - *mean2d_6;
    float _S650 = d_26.x;
    float _S651 = d_26.y;
    float _S652 = _S650 * _S651;
    Matrix<float, 2, 2>  _S653 = _S649 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S650 * _S650, _S652, _S652, _S651 * _S651);
    *cov2d_6 = _S653;
    float2  d_27 = _S622 - *mean2d_6;
    float _S654 = d_27.x;
    float _S655 = d_27.y;
    float _S656 = _S654 * _S655;
    *cov2d_6 = _S653 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S654 * _S654, _S656, _S656, _S655 * _S655);
    return true;
}

inline __device__ void ortho_proj_3dgs(float3  mean3d_3, Matrix<float, 3, 3>  cov3d_3, float fx_6, float fy_6, float cx_3, float cy_3, Matrix<float, 2, 2>  * cov2d_7, float2  * mean2d_7)
{
    Matrix<float, 2, 3>  J_3 = makeMatrix<float, 2, 3> (fx_6, 0.0f, 0.0f, 0.0f, fy_6, 0.0f);
    *cov2d_7 = mul_6(mul_5(J_3, cov3d_3), transpose_1(J_3));
    *mean2d_7 = make_float2 (fx_6 * mean3d_3.x + cx_3, fy_6 * mean3d_3.y + cy_3);
    return;
}

inline __device__ float add_blur(float eps2d_0, Matrix<float, 2, 2>  * covar_1, float * compensation_0)
{
    float det_orig_0 = *&((covar_1->rows + (int(0)))->x) * *&((covar_1->rows + (int(1)))->y) - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    float _S657 = *&((covar_1->rows + (int(0)))->x) + eps2d_0;
    *&((covar_1->rows + (int(0)))->x) = _S657;
    float _S658 = *&((covar_1->rows + (int(1)))->y) + eps2d_0;
    *&((covar_1->rows + (int(1)))->y) = _S658;
    float det_blur_0 = _S657 * _S658 - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    *compensation_0 = (F32_sqrt(((F32_max((0.0f), (det_orig_0 / det_blur_0))))));
    return det_blur_0;
}

inline __device__ float3  exp_0(float3  x_14)
{
    float3  result_12;
    int i_8 = int(0);
    for(;;)
    {
        if(i_8 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_12, i_8) = (F32_exp((_slang_vector_get_element(x_14, i_8))));
        i_8 = i_8 + int(1);
    }
    return result_12;
}

inline __device__ void _d_exp_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_9, float3  dOut_13)
{
    float3  _S659 = exp_0((*dpx_9).primal_0) * dOut_13;
    dpx_9->primal_0 = (*dpx_9).primal_0;
    dpx_9->differential_0 = _S659;
    return;
}

inline __device__ void _d_log_0(DiffPair_float_0 * dpx_10, float dOut_14)
{
    float _S660 = 1.0f / (*dpx_10).primal_0 * dOut_14;
    dpx_10->primal_0 = (*dpx_10).primal_0;
    dpx_10->differential_0 = _S660;
    return;
}

inline __device__ void _d_max_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_11, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_5, float3  dOut_15)
{
    DiffPair_float_0 left_dp_0;
    (&left_dp_0)->primal_0 = (*dpx_11).primal_0.x;
    (&left_dp_0)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_0;
    (&right_dp_0)->primal_0 = (*dpy_5).primal_0.x;
    (&right_dp_0)->differential_0 = 0.0f;
    _d_max_0(&left_dp_0, &right_dp_0, dOut_15.x);
    float3  left_d_result_5;
    *&((&left_d_result_5)->x) = left_dp_0.differential_0;
    float3  right_d_result_5;
    *&((&right_d_result_5)->x) = right_dp_0.differential_0;
    DiffPair_float_0 left_dp_1;
    (&left_dp_1)->primal_0 = (*dpx_11).primal_0.y;
    (&left_dp_1)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_1;
    (&right_dp_1)->primal_0 = (*dpy_5).primal_0.y;
    (&right_dp_1)->differential_0 = 0.0f;
    _d_max_0(&left_dp_1, &right_dp_1, dOut_15.y);
    *&((&left_d_result_5)->y) = left_dp_1.differential_0;
    *&((&right_d_result_5)->y) = right_dp_1.differential_0;
    DiffPair_float_0 left_dp_2;
    (&left_dp_2)->primal_0 = (*dpx_11).primal_0.z;
    (&left_dp_2)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_2;
    (&right_dp_2)->primal_0 = (*dpy_5).primal_0.z;
    (&right_dp_2)->differential_0 = 0.0f;
    _d_max_0(&left_dp_2, &right_dp_2, dOut_15.z);
    *&((&left_d_result_5)->z) = left_dp_2.differential_0;
    *&((&right_d_result_5)->z) = right_dp_2.differential_0;
    dpx_11->primal_0 = (*dpx_11).primal_0;
    dpx_11->differential_0 = left_d_result_5;
    dpy_5->primal_0 = (*dpy_5).primal_0;
    dpy_5->differential_0 = right_d_result_5;
    return;
}

inline __device__ float3  max_0(float3  x_15, float3  y_2)
{
    float3  result_13;
    int i_9 = int(0);
    for(;;)
    {
        if(i_9 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_13, i_9) = (F32_max((_slang_vector_get_element(x_15, i_9)), (_slang_vector_get_element(y_2, i_9))));
        i_9 = i_9 + int(1);
    }
    return result_13;
}

inline __device__ void projection_3dgs_persp(bool antialiased_0, float3  mean_1, float4  quat_4, float3  scale_3, float in_opacity_0, FixedArray<float3 , 16>  * sh_coeffs_0, Matrix<float, 3, 3>  R_7, float3  t_3, float fx_7, float fy_7, float cx_4, float cy_4, FixedArray<float, 10>  * dist_coeffs_13, uint image_width_0, uint image_height_0, float near_plane_0, float far_plane_0, int4  * aabb_xyxy_0, float2  * mean2d_8, float * depth_0, float3  * conic_0, float * opacity_0, float3  * rgb_0)
{
    for(;;)
    {
        float3  mean_c_0 = mul_0(R_7, mean_1) + t_3;
        float _S661 = mean_c_0.z;
        bool _S662;
        if(_S661 < near_plane_0)
        {
            _S662 = true;
        }
        else
        {
            _S662 = _S661 > far_plane_0;
        }
        if(_S662)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        Matrix<float, 2, 2>  covar2d_0;
        float3  _S663 = exp_0(scale_3);
        float x_16 = quat_4.y;
        float x2_4 = x_16 * x_16;
        float y2_4 = quat_4.z * quat_4.z;
        float z2_4 = quat_4.w * quat_4.w;
        float xy_4 = quat_4.y * quat_4.z;
        float xz_4 = quat_4.y * quat_4.w;
        float yz_4 = quat_4.z * quat_4.w;
        float wx_4 = quat_4.x * quat_4.y;
        float wy_4 = quat_4.x * quat_4.z;
        float wz_4 = quat_4.x * quat_4.w;
        Matrix<float, 3, 3>  M_2 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_4 + z2_4), 2.0f * (xy_4 + wz_4), 2.0f * (xz_4 - wy_4), 2.0f * (xy_4 - wz_4), 1.0f - 2.0f * (x2_4 + z2_4), 2.0f * (yz_4 + wx_4), 2.0f * (xz_4 + wy_4), 2.0f * (yz_4 - wx_4), 1.0f - 2.0f * (x2_4 + y2_4))), makeMatrix<float, 3, 3> (_S663.x, 0.0f, 0.0f, 0.0f, _S663.y, 0.0f, 0.0f, 0.0f, _S663.z));
        Matrix<float, 3, 3>  _S664 = transpose_0(R_7);
        float _S665 = float(image_width_0);
        float _S666 = float(image_height_0);
        float _S667 = 0.30000001192092896f * (0.5f * _S665 / fx_7);
        float _S668 = 0.30000001192092896f * (0.5f * _S666 / fy_7);
        float rz_1 = 1.0f / mean_c_0.z;
        float rz2_1 = rz_1 * rz_1;
        Matrix<float, 2, 3>  J_4 = makeMatrix<float, 2, 3> (fx_7 * rz_1, 0.0f, - fx_7 * (mean_c_0.z * (F32_min(((_S665 - cx_4) / fx_7 + _S667), ((F32_max((- (cx_4 / fx_7 + _S667)), (mean_c_0.x * rz_1))))))) * rz2_1, 0.0f, fy_7 * rz_1, - fy_7 * (mean_c_0.z * (F32_min(((_S666 - cy_4) / fy_7 + _S668), ((F32_max((- (cy_4 / fy_7 + _S668)), (mean_c_0.y * rz_1))))))) * rz2_1);
        covar2d_0 = mul_6(mul_5(J_4, mul_4(mul_4(R_7, mul_4(M_2, transpose_0(M_2))), _S664)), transpose_1(J_4));
        *mean2d_8 = make_float2 (fx_7 * mean_c_0.x * rz_1 + cx_4, fy_7 * mean_c_0.y * rz_1 + cy_4);
        float det_orig_1 = *&(((&covar2d_0)->rows + (int(0)))->x) * *&(((&covar2d_0)->rows + (int(1)))->y) - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float _S669 = *&(((&covar2d_0)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(0)))->x) = _S669;
        float _S670 = *&(((&covar2d_0)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(1)))->y) = _S670;
        float det_blur_1 = _S669 * _S670 - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float compensation_1 = (F32_sqrt(((F32_max((0.0f), (det_orig_1 / det_blur_1))))));
        if(det_blur_1 <= 0.0f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_1 = 1.0f / (covar2d_0.rows[int(0)].x * covar2d_0.rows[int(1)].y - covar2d_0.rows[int(0)].y * covar2d_0.rows[int(1)].x);
        Matrix<float, 2, 2>  _S671 = makeMatrix<float, 2, 2> (covar2d_0.rows[int(1)].y * invdet_1, - covar2d_0.rows[int(0)].y * invdet_1, - covar2d_0.rows[int(1)].x * invdet_1, covar2d_0.rows[int(0)].x * invdet_1);
        *opacity_0 = 1.0f / (1.0f + (F32_exp((- in_opacity_0))));
        if(antialiased_0)
        {
            *opacity_0 = *opacity_0 * compensation_1;
        }
        if((*opacity_0) < 0.00392156885936856f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_0 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_0 / 0.00392156885936856f)))))))));
        float radius_x_0 = extend_0 * (F32_sqrt((covar2d_0[int(0)].x)));
        float radius_y_0 = extend_0 * (F32_sqrt((covar2d_0[int(1)].y)));
        float xmin_0 = (F32_floor(((*mean2d_8).x - radius_x_0)));
        float xmax_0 = (F32_ceil(((*mean2d_8).x + radius_x_0)));
        float ymin_0 = (F32_floor(((*mean2d_8).y - radius_y_0)));
        float ymax_0 = (F32_ceil(((*mean2d_8).y + radius_y_0)));
        if(xmax_0 <= 0.0f)
        {
            _S662 = true;
        }
        else
        {
            _S662 = xmin_0 >= _S665;
        }
        if(_S662)
        {
            _S662 = true;
        }
        else
        {
            _S662 = ymax_0 <= 0.0f;
        }
        if(_S662)
        {
            _S662 = true;
        }
        else
        {
            _S662 = ymin_0 >= _S666;
        }
        if(_S662)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_0 = make_int4 (int(xmin_0), int(ymin_0), int(xmax_0), int(ymax_0));
        *depth_0 = 0.5f * (F32_log((dot_0(mean_c_0, mean_c_0) + 9.99999997475242708e-07f)));
        *conic_0 = make_float3 (_S671.rows[int(0)].x, _S671.rows[int(0)].y, _S671.rows[int(1)].y);
        float3  _S672 = mean_1 - - mul_0(_S664, t_3);
        float3  _S673 = make_float3 (0.282094806432724f) * (*sh_coeffs_0)[int(0)];
        *rgb_0 = _S673;
        float _S674 = _S672.x;
        float _S675 = _S672.y;
        float _S676 = _S672.z;
        float norm_0 = (F32_sqrt((_S674 * _S674 + _S675 * _S675 + _S676 * _S676)));
        float x_17 = _S674 / norm_0;
        float y_3 = _S675 / norm_0;
        float z_0 = _S676 / norm_0;
        float3  _S677 = _S673 + make_float3 (0.48860251903533936f) * (make_float3 (- y_3) * (*sh_coeffs_0)[int(1)] + make_float3 (z_0) * (*sh_coeffs_0)[int(2)] - make_float3 (x_17) * (*sh_coeffs_0)[int(3)]);
        *rgb_0 = _S677;
        float z2_5 = z_0 * z_0;
        float fTmp0B_0 = -1.09254848957061768f * z_0;
        float fC1_0 = x_17 * x_17 - y_3 * y_3;
        float fS1_0 = 2.0f * x_17 * y_3;
        float3  _S678 = _S677 + (make_float3 (0.54627424478530884f * fS1_0) * (*sh_coeffs_0)[int(4)] + make_float3 (fTmp0B_0 * y_3) * (*sh_coeffs_0)[int(5)] + make_float3 (0.94617468118667603f * z2_5 - 0.31539157032966614f) * (*sh_coeffs_0)[int(6)] + make_float3 (fTmp0B_0 * x_17) * (*sh_coeffs_0)[int(7)] + make_float3 (0.54627424478530884f * fC1_0) * (*sh_coeffs_0)[int(8)]);
        *rgb_0 = _S678;
        float fTmp0C_0 = -2.28522896766662598f * z2_5 + 0.4570457935333252f;
        float fTmp1B_0 = 1.44530570507049561f * z_0;
        *rgb_0 = max_0(_S678 + (make_float3 (-0.59004360437393188f * (x_17 * fS1_0 + y_3 * fC1_0)) * (*sh_coeffs_0)[int(9)] + make_float3 (fTmp1B_0 * fS1_0) * (*sh_coeffs_0)[int(10)] + make_float3 (fTmp0C_0 * y_3) * (*sh_coeffs_0)[int(11)] + make_float3 (z_0 * (1.86588168144226074f * z2_5 - 1.11952900886535645f)) * (*sh_coeffs_0)[int(12)] + make_float3 (fTmp0C_0 * x_17) * (*sh_coeffs_0)[int(13)] + make_float3 (fTmp1B_0 * fC1_0) * (*sh_coeffs_0)[int(14)] + make_float3 (-0.59004360437393188f * (x_17 * fC1_0 - y_3 * fS1_0)) * (*sh_coeffs_0)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_fisheye(bool antialiased_1, float3  mean_2, float4  quat_5, float3  scale_4, float in_opacity_1, FixedArray<float3 , 16>  * sh_coeffs_1, Matrix<float, 3, 3>  R_8, float3  t_4, float fx_8, float fy_8, float cx_5, float cy_5, FixedArray<float, 10>  * dist_coeffs_14, uint image_width_1, uint image_height_1, float near_plane_1, float far_plane_1, int4  * aabb_xyxy_1, float2  * mean2d_9, float * depth_1, float3  * conic_1, float * opacity_1, float3  * rgb_1)
{
    for(;;)
    {
        float3  mean_c_1 = mul_0(R_8, mean_2) + t_4;
        float _S679 = length_1(mean_c_1);
        bool _S680;
        if(_S679 < near_plane_1)
        {
            _S680 = true;
        }
        else
        {
            _S680 = _S679 > far_plane_1;
        }
        if(_S680)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_6 = make_float4 (fx_8, fy_8, cx_5, cy_5);
        Matrix<float, 2, 2>  covar2d_1;
        float3  _S681 = exp_0(scale_4);
        float x_18 = quat_5.y;
        float x2_5 = x_18 * x_18;
        float y2_5 = quat_5.z * quat_5.z;
        float z2_6 = quat_5.w * quat_5.w;
        float xy_5 = quat_5.y * quat_5.z;
        float xz_5 = quat_5.y * quat_5.w;
        float yz_5 = quat_5.z * quat_5.w;
        float wx_5 = quat_5.x * quat_5.y;
        float wy_5 = quat_5.x * quat_5.z;
        float wz_5 = quat_5.x * quat_5.w;
        Matrix<float, 3, 3>  M_3 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_5 + z2_6), 2.0f * (xy_5 + wz_5), 2.0f * (xz_5 - wy_5), 2.0f * (xy_5 - wz_5), 1.0f - 2.0f * (x2_5 + z2_6), 2.0f * (yz_5 + wx_5), 2.0f * (xz_5 + wy_5), 2.0f * (yz_5 - wx_5), 1.0f - 2.0f * (x2_5 + y2_5))), makeMatrix<float, 3, 3> (_S681.x, 0.0f, 0.0f, 0.0f, _S681.y, 0.0f, 0.0f, 0.0f, _S681.z));
        Matrix<float, 3, 3>  _S682 = transpose_0(R_8);
        bool _S683 = fisheye_proj_3dgs_0(mean_c_1, mul_4(mul_4(R_8, mul_4(M_3, transpose_0(M_3))), _S682), intrins_6, dist_coeffs_14, &covar2d_1, mean2d_9);
        if(!(true & _S683))
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_2 = *&(((&covar2d_1)->rows + (int(0)))->x) * *&(((&covar2d_1)->rows + (int(1)))->y) - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float _S684 = *&(((&covar2d_1)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(0)))->x) = _S684;
        float _S685 = *&(((&covar2d_1)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(1)))->y) = _S685;
        float det_blur_2 = _S684 * _S685 - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float compensation_2 = (F32_sqrt(((F32_max((0.0f), (det_orig_2 / det_blur_2))))));
        if(det_blur_2 <= 0.0f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_2 = 1.0f / (covar2d_1.rows[int(0)].x * covar2d_1.rows[int(1)].y - covar2d_1.rows[int(0)].y * covar2d_1.rows[int(1)].x);
        Matrix<float, 2, 2>  _S686 = makeMatrix<float, 2, 2> (covar2d_1.rows[int(1)].y * invdet_2, - covar2d_1.rows[int(0)].y * invdet_2, - covar2d_1.rows[int(1)].x * invdet_2, covar2d_1.rows[int(0)].x * invdet_2);
        *opacity_1 = 1.0f / (1.0f + (F32_exp((- in_opacity_1))));
        if(antialiased_1)
        {
            *opacity_1 = *opacity_1 * compensation_2;
        }
        if((*opacity_1) < 0.00392156885936856f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_1 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_1 / 0.00392156885936856f)))))))));
        float radius_x_1 = extend_1 * (F32_sqrt((covar2d_1[int(0)].x)));
        float radius_y_1 = extend_1 * (F32_sqrt((covar2d_1[int(1)].y)));
        float xmin_1 = (F32_floor(((*mean2d_9).x - radius_x_1)));
        float xmax_1 = (F32_ceil(((*mean2d_9).x + radius_x_1)));
        float ymin_1 = (F32_floor(((*mean2d_9).y - radius_y_1)));
        float ymax_1 = (F32_ceil(((*mean2d_9).y + radius_y_1)));
        if(xmax_1 <= 0.0f)
        {
            _S680 = true;
        }
        else
        {
            _S680 = xmin_1 >= float(image_width_1);
        }
        if(_S680)
        {
            _S680 = true;
        }
        else
        {
            _S680 = ymax_1 <= 0.0f;
        }
        if(_S680)
        {
            _S680 = true;
        }
        else
        {
            _S680 = ymin_1 >= float(image_height_1);
        }
        if(_S680)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_1 = make_int4 (int(xmin_1), int(ymin_1), int(xmax_1), int(ymax_1));
        *depth_1 = 0.5f * (F32_log((dot_0(mean_c_1, mean_c_1) + 9.99999997475242708e-07f)));
        *conic_1 = make_float3 (_S686.rows[int(0)].x, _S686.rows[int(0)].y, _S686.rows[int(1)].y);
        float3  _S687 = mean_2 - - mul_0(_S682, t_4);
        float3  _S688 = make_float3 (0.282094806432724f) * (*sh_coeffs_1)[int(0)];
        *rgb_1 = _S688;
        float _S689 = _S687.x;
        float _S690 = _S687.y;
        float _S691 = _S687.z;
        float norm_1 = (F32_sqrt((_S689 * _S689 + _S690 * _S690 + _S691 * _S691)));
        float x_19 = _S689 / norm_1;
        float y_4 = _S690 / norm_1;
        float z_1 = _S691 / norm_1;
        float3  _S692 = _S688 + make_float3 (0.48860251903533936f) * (make_float3 (- y_4) * (*sh_coeffs_1)[int(1)] + make_float3 (z_1) * (*sh_coeffs_1)[int(2)] - make_float3 (x_19) * (*sh_coeffs_1)[int(3)]);
        *rgb_1 = _S692;
        float z2_7 = z_1 * z_1;
        float fTmp0B_1 = -1.09254848957061768f * z_1;
        float fC1_1 = x_19 * x_19 - y_4 * y_4;
        float fS1_1 = 2.0f * x_19 * y_4;
        float3  _S693 = _S692 + (make_float3 (0.54627424478530884f * fS1_1) * (*sh_coeffs_1)[int(4)] + make_float3 (fTmp0B_1 * y_4) * (*sh_coeffs_1)[int(5)] + make_float3 (0.94617468118667603f * z2_7 - 0.31539157032966614f) * (*sh_coeffs_1)[int(6)] + make_float3 (fTmp0B_1 * x_19) * (*sh_coeffs_1)[int(7)] + make_float3 (0.54627424478530884f * fC1_1) * (*sh_coeffs_1)[int(8)]);
        *rgb_1 = _S693;
        float fTmp0C_1 = -2.28522896766662598f * z2_7 + 0.4570457935333252f;
        float fTmp1B_1 = 1.44530570507049561f * z_1;
        *rgb_1 = max_0(_S693 + (make_float3 (-0.59004360437393188f * (x_19 * fS1_1 + y_4 * fC1_1)) * (*sh_coeffs_1)[int(9)] + make_float3 (fTmp1B_1 * fS1_1) * (*sh_coeffs_1)[int(10)] + make_float3 (fTmp0C_1 * y_4) * (*sh_coeffs_1)[int(11)] + make_float3 (z_1 * (1.86588168144226074f * z2_7 - 1.11952900886535645f)) * (*sh_coeffs_1)[int(12)] + make_float3 (fTmp0C_1 * x_19) * (*sh_coeffs_1)[int(13)] + make_float3 (fTmp1B_1 * fC1_1) * (*sh_coeffs_1)[int(14)] + make_float3 (-0.59004360437393188f * (x_19 * fC1_1 - y_4 * fS1_1)) * (*sh_coeffs_1)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_ortho(bool antialiased_2, float3  mean_3, float4  quat_6, float3  scale_5, float in_opacity_2, FixedArray<float3 , 16>  * sh_coeffs_2, Matrix<float, 3, 3>  R_9, float3  t_5, float fx_9, float fy_9, float cx_6, float cy_6, FixedArray<float, 10>  * dist_coeffs_15, uint image_width_2, uint image_height_2, float near_plane_2, float far_plane_2, int4  * aabb_xyxy_2, float2  * mean2d_10, float * depth_2, float3  * conic_2, float * opacity_2, float3  * rgb_2)
{
    for(;;)
    {
        float3  mean_c_2 = mul_0(R_9, mean_3) + t_5;
        float _S694 = mean_c_2.z;
        bool _S695;
        if(_S694 < near_plane_2)
        {
            _S695 = true;
        }
        else
        {
            _S695 = _S694 > far_plane_2;
        }
        if(_S695)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        Matrix<float, 2, 2>  covar2d_2;
        float3  _S696 = exp_0(scale_5);
        float x_20 = quat_6.y;
        float x2_6 = x_20 * x_20;
        float y2_6 = quat_6.z * quat_6.z;
        float z2_8 = quat_6.w * quat_6.w;
        float xy_6 = quat_6.y * quat_6.z;
        float xz_6 = quat_6.y * quat_6.w;
        float yz_6 = quat_6.z * quat_6.w;
        float wx_6 = quat_6.x * quat_6.y;
        float wy_6 = quat_6.x * quat_6.z;
        float wz_6 = quat_6.x * quat_6.w;
        Matrix<float, 3, 3>  M_4 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_6 + z2_8), 2.0f * (xy_6 + wz_6), 2.0f * (xz_6 - wy_6), 2.0f * (xy_6 - wz_6), 1.0f - 2.0f * (x2_6 + z2_8), 2.0f * (yz_6 + wx_6), 2.0f * (xz_6 + wy_6), 2.0f * (yz_6 - wx_6), 1.0f - 2.0f * (x2_6 + y2_6))), makeMatrix<float, 3, 3> (_S696.x, 0.0f, 0.0f, 0.0f, _S696.y, 0.0f, 0.0f, 0.0f, _S696.z));
        Matrix<float, 3, 3>  _S697 = transpose_0(R_9);
        Matrix<float, 2, 3>  J_5 = makeMatrix<float, 2, 3> (fx_9, 0.0f, 0.0f, 0.0f, fy_9, 0.0f);
        covar2d_2 = mul_6(mul_5(J_5, mul_4(mul_4(R_9, mul_4(M_4, transpose_0(M_4))), _S697)), transpose_1(J_5));
        *mean2d_10 = make_float2 (fx_9 * mean_c_2.x + cx_6, fy_9 * mean_c_2.y + cy_6);
        float det_orig_3 = *&(((&covar2d_2)->rows + (int(0)))->x) * *&(((&covar2d_2)->rows + (int(1)))->y) - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float _S698 = *&(((&covar2d_2)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(0)))->x) = _S698;
        float _S699 = *&(((&covar2d_2)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(1)))->y) = _S699;
        float det_blur_3 = _S698 * _S699 - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float compensation_3 = (F32_sqrt(((F32_max((0.0f), (det_orig_3 / det_blur_3))))));
        if(det_blur_3 <= 0.0f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_3 = 1.0f / (covar2d_2.rows[int(0)].x * covar2d_2.rows[int(1)].y - covar2d_2.rows[int(0)].y * covar2d_2.rows[int(1)].x);
        Matrix<float, 2, 2>  _S700 = makeMatrix<float, 2, 2> (covar2d_2.rows[int(1)].y * invdet_3, - covar2d_2.rows[int(0)].y * invdet_3, - covar2d_2.rows[int(1)].x * invdet_3, covar2d_2.rows[int(0)].x * invdet_3);
        *opacity_2 = 1.0f / (1.0f + (F32_exp((- in_opacity_2))));
        if(antialiased_2)
        {
            *opacity_2 = *opacity_2 * compensation_3;
        }
        if((*opacity_2) < 0.00392156885936856f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_2 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_2 / 0.00392156885936856f)))))))));
        float radius_x_2 = extend_2 * (F32_sqrt((covar2d_2[int(0)].x)));
        float radius_y_2 = extend_2 * (F32_sqrt((covar2d_2[int(1)].y)));
        float xmin_2 = (F32_floor(((*mean2d_10).x - radius_x_2)));
        float xmax_2 = (F32_ceil(((*mean2d_10).x + radius_x_2)));
        float ymin_2 = (F32_floor(((*mean2d_10).y - radius_y_2)));
        float ymax_2 = (F32_ceil(((*mean2d_10).y + radius_y_2)));
        if(xmax_2 <= 0.0f)
        {
            _S695 = true;
        }
        else
        {
            _S695 = xmin_2 >= float(image_width_2);
        }
        if(_S695)
        {
            _S695 = true;
        }
        else
        {
            _S695 = ymax_2 <= 0.0f;
        }
        if(_S695)
        {
            _S695 = true;
        }
        else
        {
            _S695 = ymin_2 >= float(image_height_2);
        }
        if(_S695)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_2 = make_int4 (int(xmin_2), int(ymin_2), int(xmax_2), int(ymax_2));
        *depth_2 = 0.5f * (F32_log((dot_0(mean_c_2, mean_c_2) + 9.99999997475242708e-07f)));
        *conic_2 = make_float3 (_S700.rows[int(0)].x, _S700.rows[int(0)].y, _S700.rows[int(1)].y);
        float3  _S701 = mean_3 - - mul_0(_S697, t_5);
        float3  _S702 = make_float3 (0.282094806432724f) * (*sh_coeffs_2)[int(0)];
        *rgb_2 = _S702;
        float _S703 = _S701.x;
        float _S704 = _S701.y;
        float _S705 = _S701.z;
        float norm_2 = (F32_sqrt((_S703 * _S703 + _S704 * _S704 + _S705 * _S705)));
        float x_21 = _S703 / norm_2;
        float y_5 = _S704 / norm_2;
        float z_2 = _S705 / norm_2;
        float3  _S706 = _S702 + make_float3 (0.48860251903533936f) * (make_float3 (- y_5) * (*sh_coeffs_2)[int(1)] + make_float3 (z_2) * (*sh_coeffs_2)[int(2)] - make_float3 (x_21) * (*sh_coeffs_2)[int(3)]);
        *rgb_2 = _S706;
        float z2_9 = z_2 * z_2;
        float fTmp0B_2 = -1.09254848957061768f * z_2;
        float fC1_2 = x_21 * x_21 - y_5 * y_5;
        float fS1_2 = 2.0f * x_21 * y_5;
        float3  _S707 = _S706 + (make_float3 (0.54627424478530884f * fS1_2) * (*sh_coeffs_2)[int(4)] + make_float3 (fTmp0B_2 * y_5) * (*sh_coeffs_2)[int(5)] + make_float3 (0.94617468118667603f * z2_9 - 0.31539157032966614f) * (*sh_coeffs_2)[int(6)] + make_float3 (fTmp0B_2 * x_21) * (*sh_coeffs_2)[int(7)] + make_float3 (0.54627424478530884f * fC1_2) * (*sh_coeffs_2)[int(8)]);
        *rgb_2 = _S707;
        float fTmp0C_2 = -2.28522896766662598f * z2_9 + 0.4570457935333252f;
        float fTmp1B_2 = 1.44530570507049561f * z_2;
        *rgb_2 = max_0(_S707 + (make_float3 (-0.59004360437393188f * (x_21 * fS1_2 + y_5 * fC1_2)) * (*sh_coeffs_2)[int(9)] + make_float3 (fTmp1B_2 * fS1_2) * (*sh_coeffs_2)[int(10)] + make_float3 (fTmp0C_2 * y_5) * (*sh_coeffs_2)[int(11)] + make_float3 (z_2 * (1.86588168144226074f * z2_9 - 1.11952900886535645f)) * (*sh_coeffs_2)[int(12)] + make_float3 (fTmp0C_2 * x_21) * (*sh_coeffs_2)[int(13)] + make_float3 (fTmp1B_2 * fC1_2) * (*sh_coeffs_2)[int(14)] + make_float3 (-0.59004360437393188f * (x_21 * fC1_2 - y_5 * fS1_2)) * (*sh_coeffs_2)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_persp(bool antialiased_3, float3  mean_4, float4  quat_7, float3  scale_6, float in_opacity_3, FixedArray<float3 , 16>  * sh_coeffs_3, Matrix<float, 3, 3>  R_10, float3  t_6, float fx_10, float fy_10, float cx_7, float cy_7, FixedArray<float, 10>  * dist_coeffs_16, uint image_width_3, uint image_height_3, float near_plane_3, float far_plane_3, int4  * aabb_xyxy_3, float2  * mean2d_11, float * depth_3, float3  * conic_3, float * opacity_3, float3  * rgb_3)
{
    for(;;)
    {
        float3  mean_c_3 = mul_0(R_10, mean_4) + t_6;
        float _S708 = mean_c_3.z;
        bool _S709;
        if(_S708 < near_plane_3)
        {
            _S709 = true;
        }
        else
        {
            _S709 = _S708 > far_plane_3;
        }
        if(_S709)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_7 = make_float4 (fx_10, fy_10, cx_7, cy_7);
        Matrix<float, 2, 2>  covar2d_3;
        float3  _S710 = exp_0(scale_6);
        float x_22 = quat_7.y;
        float x2_7 = x_22 * x_22;
        float y2_7 = quat_7.z * quat_7.z;
        float z2_10 = quat_7.w * quat_7.w;
        float xy_7 = quat_7.y * quat_7.z;
        float xz_7 = quat_7.y * quat_7.w;
        float yz_7 = quat_7.z * quat_7.w;
        float wx_7 = quat_7.x * quat_7.y;
        float wy_7 = quat_7.x * quat_7.z;
        float wz_7 = quat_7.x * quat_7.w;
        Matrix<float, 3, 3>  _S711 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_7 + z2_10), 2.0f * (xy_7 + wz_7), 2.0f * (xz_7 - wy_7), 2.0f * (xy_7 - wz_7), 1.0f - 2.0f * (x2_7 + z2_10), 2.0f * (yz_7 + wx_7), 2.0f * (xz_7 + wy_7), 2.0f * (yz_7 - wx_7), 1.0f - 2.0f * (x2_7 + y2_7))));
        SigmaPoints_0 ret_0;
        (&ret_0)->p_0[int(0)] = mean_4;
        (&ret_0)->w_mean_0[int(0)] = 0.0f;
        (&ret_0)->w_cov_0[int(0)] = 2.0f;
        float _S712 = (F32_sqrt((3.0f)));
        float3  delta_0 = make_float3 (_S712 * _S710.x) * _S711.rows[0U];
        float3  _S713 = mean_4 + delta_0;
        float3  _S714 = mean_4 - delta_0;
        float3  delta_1 = make_float3 (_S712 * _S710.y) * _S711.rows[1U];
        float3  _S715 = mean_4 + delta_1;
        float3  _S716 = mean_4 - delta_1;
        float3  delta_2 = make_float3 (_S712 * _S710.z) * _S711.rows[2U];
        float3  _S717 = mean_4 + delta_2;
        float3  _S718 = mean_4 - delta_2;
        (&ret_0)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_0)->p_0[0U] = mul_0(R_10, (&ret_0)->p_0[0U]) + t_6;
        (&ret_0)->p_0[1U] = mul_0(R_10, _S713) + t_6;
        (&ret_0)->p_0[2U] = mul_0(R_10, _S715) + t_6;
        (&ret_0)->p_0[3U] = mul_0(R_10, _S717) + t_6;
        (&ret_0)->p_0[4U] = mul_0(R_10, _S714) + t_6;
        (&ret_0)->p_0[5U] = mul_0(R_10, _S716) + t_6;
        (&ret_0)->p_0[6U] = mul_0(R_10, _S718) + t_6;
        SigmaPoints_0 _S719 = ret_0;
        bool _S720 = persp_proj_3dgs_ut_0(&_S719, intrins_7, dist_coeffs_16, image_width_3, image_height_3, &covar2d_3, mean2d_11);
        if(!(true & _S720))
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_4 = *&(((&covar2d_3)->rows + (int(0)))->x) * *&(((&covar2d_3)->rows + (int(1)))->y) - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float _S721 = *&(((&covar2d_3)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(0)))->x) = _S721;
        float _S722 = *&(((&covar2d_3)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(1)))->y) = _S722;
        float det_blur_4 = _S721 * _S722 - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float compensation_4 = (F32_sqrt(((F32_max((0.0f), (det_orig_4 / det_blur_4))))));
        if(det_blur_4 <= 0.0f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_3 = 1.0f / (1.0f + (F32_exp((- in_opacity_3))));
        if(antialiased_3)
        {
            *opacity_3 = *opacity_3 * compensation_4;
        }
        if((*opacity_3) < 0.00392156885936856f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_3 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_3 / 0.00392156885936856f)))))))));
        float radius_x_3 = extend_3 * (F32_sqrt((covar2d_3[int(0)].x)));
        float radius_y_3 = extend_3 * (F32_sqrt((covar2d_3[int(1)].y)));
        float xmin_3 = (F32_floor(((*mean2d_11).x - radius_x_3)));
        float xmax_3 = (F32_ceil(((*mean2d_11).x + radius_x_3)));
        float ymin_3 = (F32_floor(((*mean2d_11).y - radius_y_3)));
        float ymax_3 = (F32_ceil(((*mean2d_11).y + radius_y_3)));
        if(xmax_3 <= 0.0f)
        {
            _S709 = true;
        }
        else
        {
            _S709 = xmin_3 >= float(image_width_3);
        }
        if(_S709)
        {
            _S709 = true;
        }
        else
        {
            _S709 = ymax_3 <= 0.0f;
        }
        if(_S709)
        {
            _S709 = true;
        }
        else
        {
            _S709 = ymin_3 >= float(image_height_3);
        }
        if(_S709)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_3 = make_int4 (int(xmin_3), int(ymin_3), int(xmax_3), int(ymax_3));
        *depth_3 = 0.5f * (F32_log((dot_0(mean_c_3, mean_c_3) + 9.99999997475242708e-07f)));
        *conic_3 = exp_0(- scale_6);
        float3  _S723 = mean_4 - - mul_0(transpose_0(R_10), t_6);
        float3  _S724 = make_float3 (0.282094806432724f) * (*sh_coeffs_3)[int(0)];
        *rgb_3 = _S724;
        float _S725 = _S723.x;
        float _S726 = _S723.y;
        float _S727 = _S723.z;
        float norm_3 = (F32_sqrt((_S725 * _S725 + _S726 * _S726 + _S727 * _S727)));
        float x_23 = _S725 / norm_3;
        float y_6 = _S726 / norm_3;
        float z_3 = _S727 / norm_3;
        float3  _S728 = _S724 + make_float3 (0.48860251903533936f) * (make_float3 (- y_6) * (*sh_coeffs_3)[int(1)] + make_float3 (z_3) * (*sh_coeffs_3)[int(2)] - make_float3 (x_23) * (*sh_coeffs_3)[int(3)]);
        *rgb_3 = _S728;
        float z2_11 = z_3 * z_3;
        float fTmp0B_3 = -1.09254848957061768f * z_3;
        float fC1_3 = x_23 * x_23 - y_6 * y_6;
        float fS1_3 = 2.0f * x_23 * y_6;
        float3  _S729 = _S728 + (make_float3 (0.54627424478530884f * fS1_3) * (*sh_coeffs_3)[int(4)] + make_float3 (fTmp0B_3 * y_6) * (*sh_coeffs_3)[int(5)] + make_float3 (0.94617468118667603f * z2_11 - 0.31539157032966614f) * (*sh_coeffs_3)[int(6)] + make_float3 (fTmp0B_3 * x_23) * (*sh_coeffs_3)[int(7)] + make_float3 (0.54627424478530884f * fC1_3) * (*sh_coeffs_3)[int(8)]);
        *rgb_3 = _S729;
        float fTmp0C_3 = -2.28522896766662598f * z2_11 + 0.4570457935333252f;
        float fTmp1B_3 = 1.44530570507049561f * z_3;
        *rgb_3 = max_0(_S729 + (make_float3 (-0.59004360437393188f * (x_23 * fS1_3 + y_6 * fC1_3)) * (*sh_coeffs_3)[int(9)] + make_float3 (fTmp1B_3 * fS1_3) * (*sh_coeffs_3)[int(10)] + make_float3 (fTmp0C_3 * y_6) * (*sh_coeffs_3)[int(11)] + make_float3 (z_3 * (1.86588168144226074f * z2_11 - 1.11952900886535645f)) * (*sh_coeffs_3)[int(12)] + make_float3 (fTmp0C_3 * x_23) * (*sh_coeffs_3)[int(13)] + make_float3 (fTmp1B_3 * fC1_3) * (*sh_coeffs_3)[int(14)] + make_float3 (-0.59004360437393188f * (x_23 * fC1_3 - y_6 * fS1_3)) * (*sh_coeffs_3)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_fisheye(bool antialiased_4, float3  mean_5, float4  quat_8, float3  scale_7, float in_opacity_4, FixedArray<float3 , 16>  * sh_coeffs_4, Matrix<float, 3, 3>  R_11, float3  t_7, float fx_11, float fy_11, float cx_8, float cy_8, FixedArray<float, 10>  * dist_coeffs_17, uint image_width_4, uint image_height_4, float near_plane_4, float far_plane_4, int4  * aabb_xyxy_4, float2  * mean2d_12, float * depth_4, float3  * conic_4, float * opacity_4, float3  * rgb_4)
{
    for(;;)
    {
        float3  mean_c_4 = mul_0(R_11, mean_5) + t_7;
        float _S730 = length_1(mean_c_4);
        bool _S731;
        if(_S730 < near_plane_4)
        {
            _S731 = true;
        }
        else
        {
            _S731 = _S730 > far_plane_4;
        }
        if(_S731)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_8 = make_float4 (fx_11, fy_11, cx_8, cy_8);
        Matrix<float, 2, 2>  covar2d_4;
        float3  _S732 = exp_0(scale_7);
        float x_24 = quat_8.y;
        float x2_8 = x_24 * x_24;
        float y2_8 = quat_8.z * quat_8.z;
        float z2_12 = quat_8.w * quat_8.w;
        float xy_8 = quat_8.y * quat_8.z;
        float xz_8 = quat_8.y * quat_8.w;
        float yz_8 = quat_8.z * quat_8.w;
        float wx_8 = quat_8.x * quat_8.y;
        float wy_8 = quat_8.x * quat_8.z;
        float wz_8 = quat_8.x * quat_8.w;
        Matrix<float, 3, 3>  _S733 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_8 + z2_12), 2.0f * (xy_8 + wz_8), 2.0f * (xz_8 - wy_8), 2.0f * (xy_8 - wz_8), 1.0f - 2.0f * (x2_8 + z2_12), 2.0f * (yz_8 + wx_8), 2.0f * (xz_8 + wy_8), 2.0f * (yz_8 - wx_8), 1.0f - 2.0f * (x2_8 + y2_8))));
        SigmaPoints_0 ret_1;
        (&ret_1)->p_0[int(0)] = mean_5;
        (&ret_1)->w_mean_0[int(0)] = 0.0f;
        (&ret_1)->w_cov_0[int(0)] = 2.0f;
        float _S734 = (F32_sqrt((3.0f)));
        float3  delta_3 = make_float3 (_S734 * _S732.x) * _S733.rows[0U];
        float3  _S735 = mean_5 + delta_3;
        float3  _S736 = mean_5 - delta_3;
        float3  delta_4 = make_float3 (_S734 * _S732.y) * _S733.rows[1U];
        float3  _S737 = mean_5 + delta_4;
        float3  _S738 = mean_5 - delta_4;
        float3  delta_5 = make_float3 (_S734 * _S732.z) * _S733.rows[2U];
        float3  _S739 = mean_5 + delta_5;
        float3  _S740 = mean_5 - delta_5;
        (&ret_1)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_1)->p_0[0U] = mul_0(R_11, (&ret_1)->p_0[0U]) + t_7;
        (&ret_1)->p_0[1U] = mul_0(R_11, _S735) + t_7;
        (&ret_1)->p_0[2U] = mul_0(R_11, _S737) + t_7;
        (&ret_1)->p_0[3U] = mul_0(R_11, _S739) + t_7;
        (&ret_1)->p_0[4U] = mul_0(R_11, _S736) + t_7;
        (&ret_1)->p_0[5U] = mul_0(R_11, _S738) + t_7;
        (&ret_1)->p_0[6U] = mul_0(R_11, _S740) + t_7;
        SigmaPoints_0 _S741 = ret_1;
        bool _S742 = fisheye_proj_3dgs_ut_0(&_S741, intrins_8, dist_coeffs_17, &covar2d_4, mean2d_12);
        if(!(true & _S742))
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_5 = *&(((&covar2d_4)->rows + (int(0)))->x) * *&(((&covar2d_4)->rows + (int(1)))->y) - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float _S743 = *&(((&covar2d_4)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(0)))->x) = _S743;
        float _S744 = *&(((&covar2d_4)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(1)))->y) = _S744;
        float det_blur_5 = _S743 * _S744 - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float compensation_5 = (F32_sqrt(((F32_max((0.0f), (det_orig_5 / det_blur_5))))));
        if(det_blur_5 <= 0.0f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_4 = 1.0f / (1.0f + (F32_exp((- in_opacity_4))));
        if(antialiased_4)
        {
            *opacity_4 = *opacity_4 * compensation_5;
        }
        if((*opacity_4) < 0.00392156885936856f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_4 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_4 / 0.00392156885936856f)))))))));
        float radius_x_4 = extend_4 * (F32_sqrt((covar2d_4[int(0)].x)));
        float radius_y_4 = extend_4 * (F32_sqrt((covar2d_4[int(1)].y)));
        float xmin_4 = (F32_floor(((*mean2d_12).x - radius_x_4)));
        float xmax_4 = (F32_ceil(((*mean2d_12).x + radius_x_4)));
        float ymin_4 = (F32_floor(((*mean2d_12).y - radius_y_4)));
        float ymax_4 = (F32_ceil(((*mean2d_12).y + radius_y_4)));
        if(xmax_4 <= 0.0f)
        {
            _S731 = true;
        }
        else
        {
            _S731 = xmin_4 >= float(image_width_4);
        }
        if(_S731)
        {
            _S731 = true;
        }
        else
        {
            _S731 = ymax_4 <= 0.0f;
        }
        if(_S731)
        {
            _S731 = true;
        }
        else
        {
            _S731 = ymin_4 >= float(image_height_4);
        }
        if(_S731)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_4 = make_int4 (int(xmin_4), int(ymin_4), int(xmax_4), int(ymax_4));
        *depth_4 = 0.5f * (F32_log((dot_0(mean_c_4, mean_c_4) + 9.99999997475242708e-07f)));
        *conic_4 = exp_0(- scale_7);
        float3  _S745 = mean_5 - - mul_0(transpose_0(R_11), t_7);
        float3  _S746 = make_float3 (0.282094806432724f) * (*sh_coeffs_4)[int(0)];
        *rgb_4 = _S746;
        float _S747 = _S745.x;
        float _S748 = _S745.y;
        float _S749 = _S745.z;
        float norm_4 = (F32_sqrt((_S747 * _S747 + _S748 * _S748 + _S749 * _S749)));
        float x_25 = _S747 / norm_4;
        float y_7 = _S748 / norm_4;
        float z_4 = _S749 / norm_4;
        float3  _S750 = _S746 + make_float3 (0.48860251903533936f) * (make_float3 (- y_7) * (*sh_coeffs_4)[int(1)] + make_float3 (z_4) * (*sh_coeffs_4)[int(2)] - make_float3 (x_25) * (*sh_coeffs_4)[int(3)]);
        *rgb_4 = _S750;
        float z2_13 = z_4 * z_4;
        float fTmp0B_4 = -1.09254848957061768f * z_4;
        float fC1_4 = x_25 * x_25 - y_7 * y_7;
        float fS1_4 = 2.0f * x_25 * y_7;
        float3  _S751 = _S750 + (make_float3 (0.54627424478530884f * fS1_4) * (*sh_coeffs_4)[int(4)] + make_float3 (fTmp0B_4 * y_7) * (*sh_coeffs_4)[int(5)] + make_float3 (0.94617468118667603f * z2_13 - 0.31539157032966614f) * (*sh_coeffs_4)[int(6)] + make_float3 (fTmp0B_4 * x_25) * (*sh_coeffs_4)[int(7)] + make_float3 (0.54627424478530884f * fC1_4) * (*sh_coeffs_4)[int(8)]);
        *rgb_4 = _S751;
        float fTmp0C_4 = -2.28522896766662598f * z2_13 + 0.4570457935333252f;
        float fTmp1B_4 = 1.44530570507049561f * z_4;
        *rgb_4 = max_0(_S751 + (make_float3 (-0.59004360437393188f * (x_25 * fS1_4 + y_7 * fC1_4)) * (*sh_coeffs_4)[int(9)] + make_float3 (fTmp1B_4 * fS1_4) * (*sh_coeffs_4)[int(10)] + make_float3 (fTmp0C_4 * y_7) * (*sh_coeffs_4)[int(11)] + make_float3 (z_4 * (1.86588168144226074f * z2_13 - 1.11952900886535645f)) * (*sh_coeffs_4)[int(12)] + make_float3 (fTmp0C_4 * x_25) * (*sh_coeffs_4)[int(13)] + make_float3 (fTmp1B_4 * fC1_4) * (*sh_coeffs_4)[int(14)] + make_float3 (-0.59004360437393188f * (x_25 * fC1_4 - y_7 * fS1_4)) * (*sh_coeffs_4)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgs_persp_differentiable(bool antialiased_5, float3  mean_6, float4  quat_9, float3  scale_8, float in_opacity_5, FixedArray<float3 , 16>  * sh_coeffs_5, Matrix<float, 3, 3>  R_12, float3  t_8, float fx_12, float fy_12, float cx_9, float cy_9, FixedArray<float, 10>  * dist_coeffs_18, uint image_width_5, uint image_height_5, float near_plane_5, float far_plane_5, int4  * aabb_xyxy_5, float2  * mean2d_13, float * depth_5, float3  * conic_5, float * opacity_5, float3  * rgb_5)
{
    float3  mean_c_5 = mul_0(R_12, mean_6) + t_8;
    float3  _S752 = exp_0(scale_8);
    float x_26 = quat_9.y;
    float x2_9 = x_26 * x_26;
    float y2_9 = quat_9.z * quat_9.z;
    float z2_14 = quat_9.w * quat_9.w;
    float xy_9 = quat_9.y * quat_9.z;
    float xz_9 = quat_9.y * quat_9.w;
    float yz_9 = quat_9.z * quat_9.w;
    float wx_9 = quat_9.x * quat_9.y;
    float wy_9 = quat_9.x * quat_9.z;
    float wz_9 = quat_9.x * quat_9.w;
    Matrix<float, 3, 3>  M_5 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_9 + z2_14), 2.0f * (xy_9 + wz_9), 2.0f * (xz_9 - wy_9), 2.0f * (xy_9 - wz_9), 1.0f - 2.0f * (x2_9 + z2_14), 2.0f * (yz_9 + wx_9), 2.0f * (xz_9 + wy_9), 2.0f * (yz_9 - wx_9), 1.0f - 2.0f * (x2_9 + y2_9))), makeMatrix<float, 3, 3> (_S752.x, 0.0f, 0.0f, 0.0f, _S752.y, 0.0f, 0.0f, 0.0f, _S752.z));
    Matrix<float, 3, 3>  _S753 = transpose_0(R_12);
    float _S754 = float(image_width_5);
    float _S755 = float(image_height_5);
    float _S756 = 0.30000001192092896f * (0.5f * _S754 / fx_12);
    float _S757 = 0.30000001192092896f * (0.5f * _S755 / fy_12);
    float rz_2 = 1.0f / mean_c_5.z;
    float rz2_2 = rz_2 * rz_2;
    Matrix<float, 2, 3>  J_6 = makeMatrix<float, 2, 3> (fx_12 * rz_2, 0.0f, - fx_12 * (mean_c_5.z * (F32_min(((_S754 - cx_9) / fx_12 + _S756), ((F32_max((- (cx_9 / fx_12 + _S756)), (mean_c_5.x * rz_2))))))) * rz2_2, 0.0f, fy_12 * rz_2, - fy_12 * (mean_c_5.z * (F32_min(((_S755 - cy_9) / fy_12 + _S757), ((F32_max((- (cy_9 / fy_12 + _S757)), (mean_c_5.y * rz_2))))))) * rz2_2);
    Matrix<float, 2, 2>  covar2d_5 = mul_6(mul_5(J_6, mul_4(mul_4(R_12, mul_4(M_5, transpose_0(M_5))), _S753)), transpose_1(J_6));
    *mean2d_13 = make_float2 (fx_12 * mean_c_5.x * rz_2 + cx_9, fy_12 * mean_c_5.y * rz_2 + cy_9);
    float det_orig_6 = *&(((&covar2d_5)->rows + (int(0)))->x) * *&(((&covar2d_5)->rows + (int(1)))->y) - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x);
    float _S758 = *&(((&covar2d_5)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(0)))->x) = _S758;
    float _S759 = *&(((&covar2d_5)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(1)))->y) = _S759;
    float compensation_6 = (F32_sqrt(((F32_max((0.0f), (det_orig_6 / (_S758 * _S759 - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x))))))));
    float invdet_4 = 1.0f / (covar2d_5.rows[int(0)].x * covar2d_5.rows[int(1)].y - covar2d_5.rows[int(0)].y * covar2d_5.rows[int(1)].x);
    Matrix<float, 2, 2>  _S760 = makeMatrix<float, 2, 2> (covar2d_5.rows[int(1)].y * invdet_4, - covar2d_5.rows[int(0)].y * invdet_4, - covar2d_5.rows[int(1)].x * invdet_4, covar2d_5.rows[int(0)].x * invdet_4);
    *opacity_5 = 1.0f / (1.0f + (F32_exp((- in_opacity_5))));
    if(antialiased_5)
    {
        *opacity_5 = *opacity_5 * compensation_6;
    }
    float extend_5 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_5 / 0.00392156885936856f)))))))));
    float radius_x_5 = extend_5 * (F32_sqrt((covar2d_5[int(0)].x)));
    float radius_y_5 = extend_5 * (F32_sqrt((covar2d_5[int(1)].y)));
    *aabb_xyxy_5 = make_int4 (int((F32_floor(((*mean2d_13).x - radius_x_5)))), int((F32_floor(((*mean2d_13).y - radius_y_5)))), int((F32_ceil(((*mean2d_13).x + radius_x_5)))), int((F32_ceil(((*mean2d_13).y + radius_y_5)))));
    *depth_5 = 0.5f * (F32_log((dot_0(mean_c_5, mean_c_5) + 9.99999997475242708e-07f)));
    *conic_5 = make_float3 (_S760.rows[int(0)].x, _S760.rows[int(0)].y, _S760.rows[int(1)].y);
    float3  _S761 = mean_6 - - mul_0(_S753, t_8);
    float3  _S762 = make_float3 (0.282094806432724f) * (*sh_coeffs_5)[int(0)];
    *rgb_5 = _S762;
    float _S763 = _S761.x;
    float _S764 = _S761.y;
    float _S765 = _S761.z;
    float norm_5 = (F32_sqrt((_S763 * _S763 + _S764 * _S764 + _S765 * _S765)));
    float x_27 = _S763 / norm_5;
    float y_8 = _S764 / norm_5;
    float z_5 = _S765 / norm_5;
    float3  _S766 = _S762 + make_float3 (0.48860251903533936f) * (make_float3 (- y_8) * (*sh_coeffs_5)[int(1)] + make_float3 (z_5) * (*sh_coeffs_5)[int(2)] - make_float3 (x_27) * (*sh_coeffs_5)[int(3)]);
    *rgb_5 = _S766;
    float z2_15 = z_5 * z_5;
    float fTmp0B_5 = -1.09254848957061768f * z_5;
    float fC1_5 = x_27 * x_27 - y_8 * y_8;
    float fS1_5 = 2.0f * x_27 * y_8;
    float3  _S767 = _S766 + (make_float3 (0.54627424478530884f * fS1_5) * (*sh_coeffs_5)[int(4)] + make_float3 (fTmp0B_5 * y_8) * (*sh_coeffs_5)[int(5)] + make_float3 (0.94617468118667603f * z2_15 - 0.31539157032966614f) * (*sh_coeffs_5)[int(6)] + make_float3 (fTmp0B_5 * x_27) * (*sh_coeffs_5)[int(7)] + make_float3 (0.54627424478530884f * fC1_5) * (*sh_coeffs_5)[int(8)]);
    *rgb_5 = _S767;
    float fTmp0C_5 = -2.28522896766662598f * z2_15 + 0.4570457935333252f;
    float fTmp1B_5 = 1.44530570507049561f * z_5;
    *rgb_5 = max_0(_S767 + (make_float3 (-0.59004360437393188f * (x_27 * fS1_5 + y_8 * fC1_5)) * (*sh_coeffs_5)[int(9)] + make_float3 (fTmp1B_5 * fS1_5) * (*sh_coeffs_5)[int(10)] + make_float3 (fTmp0C_5 * y_8) * (*sh_coeffs_5)[int(11)] + make_float3 (z_5 * (1.86588168144226074f * z2_15 - 1.11952900886535645f)) * (*sh_coeffs_5)[int(12)] + make_float3 (fTmp0C_5 * x_27) * (*sh_coeffs_5)[int(13)] + make_float3 (fTmp1B_5 * fC1_5) * (*sh_coeffs_5)[int(14)] + make_float3 (-0.59004360437393188f * (x_27 * fC1_5 - y_8 * fS1_5)) * (*sh_coeffs_5)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_fisheye_differentiable(bool antialiased_6, float3  mean_7, float4  quat_10, float3  scale_9, float in_opacity_6, FixedArray<float3 , 16>  * sh_coeffs_6, Matrix<float, 3, 3>  R_13, float3  t_9, float fx_13, float fy_13, float cx_10, float cy_10, FixedArray<float, 10>  * dist_coeffs_19, uint image_width_6, uint image_height_6, float near_plane_6, float far_plane_6, int4  * aabb_xyxy_6, float2  * mean2d_14, float * depth_6, float3  * conic_6, float * opacity_6, float3  * rgb_6)
{
    float3  mean_c_6 = mul_0(R_13, mean_7) + t_9;
    float3  _S768 = exp_0(scale_9);
    float x_28 = quat_10.y;
    float x2_10 = x_28 * x_28;
    float y2_10 = quat_10.z * quat_10.z;
    float z2_16 = quat_10.w * quat_10.w;
    float xy_10 = quat_10.y * quat_10.z;
    float xz_10 = quat_10.y * quat_10.w;
    float yz_10 = quat_10.z * quat_10.w;
    float wx_10 = quat_10.x * quat_10.y;
    float wy_10 = quat_10.x * quat_10.z;
    float wz_10 = quat_10.x * quat_10.w;
    Matrix<float, 3, 3>  M_6 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_10 + z2_16), 2.0f * (xy_10 + wz_10), 2.0f * (xz_10 - wy_10), 2.0f * (xy_10 - wz_10), 1.0f - 2.0f * (x2_10 + z2_16), 2.0f * (yz_10 + wx_10), 2.0f * (xz_10 + wy_10), 2.0f * (yz_10 - wx_10), 1.0f - 2.0f * (x2_10 + y2_10))), makeMatrix<float, 3, 3> (_S768.x, 0.0f, 0.0f, 0.0f, _S768.y, 0.0f, 0.0f, 0.0f, _S768.z));
    Matrix<float, 3, 3>  _S769 = transpose_0(R_13);
    Matrix<float, 2, 2>  covar2d_6;
    bool _S770 = fisheye_proj_3dgs_1(mean_c_6, mul_4(mul_4(R_13, mul_4(M_6, transpose_0(M_6))), _S769), make_float4 (fx_13, fy_13, cx_10, cy_10), dist_coeffs_19, &covar2d_6, mean2d_14);
    float det_orig_7 = *&(((&covar2d_6)->rows + (int(0)))->x) * *&(((&covar2d_6)->rows + (int(1)))->y) - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x);
    float _S771 = *&(((&covar2d_6)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(0)))->x) = _S771;
    float _S772 = *&(((&covar2d_6)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(1)))->y) = _S772;
    float compensation_7 = (F32_sqrt(((F32_max((0.0f), (det_orig_7 / (_S771 * _S772 - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x))))))));
    float invdet_5 = 1.0f / (covar2d_6.rows[int(0)].x * covar2d_6.rows[int(1)].y - covar2d_6.rows[int(0)].y * covar2d_6.rows[int(1)].x);
    Matrix<float, 2, 2>  _S773 = makeMatrix<float, 2, 2> (covar2d_6.rows[int(1)].y * invdet_5, - covar2d_6.rows[int(0)].y * invdet_5, - covar2d_6.rows[int(1)].x * invdet_5, covar2d_6.rows[int(0)].x * invdet_5);
    *opacity_6 = 1.0f / (1.0f + (F32_exp((- in_opacity_6))));
    if(antialiased_6)
    {
        *opacity_6 = *opacity_6 * compensation_7;
    }
    float extend_6 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_6 / 0.00392156885936856f)))))))));
    float radius_x_6 = extend_6 * (F32_sqrt((covar2d_6[int(0)].x)));
    float radius_y_6 = extend_6 * (F32_sqrt((covar2d_6[int(1)].y)));
    *aabb_xyxy_6 = make_int4 (int((F32_floor(((*mean2d_14).x - radius_x_6)))), int((F32_floor(((*mean2d_14).y - radius_y_6)))), int((F32_ceil(((*mean2d_14).x + radius_x_6)))), int((F32_ceil(((*mean2d_14).y + radius_y_6)))));
    *depth_6 = 0.5f * (F32_log((dot_0(mean_c_6, mean_c_6) + 9.99999997475242708e-07f)));
    *conic_6 = make_float3 (_S773.rows[int(0)].x, _S773.rows[int(0)].y, _S773.rows[int(1)].y);
    float3  _S774 = mean_7 - - mul_0(_S769, t_9);
    float3  _S775 = make_float3 (0.282094806432724f) * (*sh_coeffs_6)[int(0)];
    *rgb_6 = _S775;
    float _S776 = _S774.x;
    float _S777 = _S774.y;
    float _S778 = _S774.z;
    float norm_6 = (F32_sqrt((_S776 * _S776 + _S777 * _S777 + _S778 * _S778)));
    float x_29 = _S776 / norm_6;
    float y_9 = _S777 / norm_6;
    float z_6 = _S778 / norm_6;
    float3  _S779 = _S775 + make_float3 (0.48860251903533936f) * (make_float3 (- y_9) * (*sh_coeffs_6)[int(1)] + make_float3 (z_6) * (*sh_coeffs_6)[int(2)] - make_float3 (x_29) * (*sh_coeffs_6)[int(3)]);
    *rgb_6 = _S779;
    float z2_17 = z_6 * z_6;
    float fTmp0B_6 = -1.09254848957061768f * z_6;
    float fC1_6 = x_29 * x_29 - y_9 * y_9;
    float fS1_6 = 2.0f * x_29 * y_9;
    float3  _S780 = _S779 + (make_float3 (0.54627424478530884f * fS1_6) * (*sh_coeffs_6)[int(4)] + make_float3 (fTmp0B_6 * y_9) * (*sh_coeffs_6)[int(5)] + make_float3 (0.94617468118667603f * z2_17 - 0.31539157032966614f) * (*sh_coeffs_6)[int(6)] + make_float3 (fTmp0B_6 * x_29) * (*sh_coeffs_6)[int(7)] + make_float3 (0.54627424478530884f * fC1_6) * (*sh_coeffs_6)[int(8)]);
    *rgb_6 = _S780;
    float fTmp0C_6 = -2.28522896766662598f * z2_17 + 0.4570457935333252f;
    float fTmp1B_6 = 1.44530570507049561f * z_6;
    *rgb_6 = max_0(_S780 + (make_float3 (-0.59004360437393188f * (x_29 * fS1_6 + y_9 * fC1_6)) * (*sh_coeffs_6)[int(9)] + make_float3 (fTmp1B_6 * fS1_6) * (*sh_coeffs_6)[int(10)] + make_float3 (fTmp0C_6 * y_9) * (*sh_coeffs_6)[int(11)] + make_float3 (z_6 * (1.86588168144226074f * z2_17 - 1.11952900886535645f)) * (*sh_coeffs_6)[int(12)] + make_float3 (fTmp0C_6 * x_29) * (*sh_coeffs_6)[int(13)] + make_float3 (fTmp1B_6 * fC1_6) * (*sh_coeffs_6)[int(14)] + make_float3 (-0.59004360437393188f * (x_29 * fC1_6 - y_9 * fS1_6)) * (*sh_coeffs_6)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_ortho_differentiable(bool antialiased_7, float3  mean_8, float4  quat_11, float3  scale_10, float in_opacity_7, FixedArray<float3 , 16>  * sh_coeffs_7, Matrix<float, 3, 3>  R_14, float3  t_10, float fx_14, float fy_14, float cx_11, float cy_11, FixedArray<float, 10>  * dist_coeffs_20, uint image_width_7, uint image_height_7, float near_plane_7, float far_plane_7, int4  * aabb_xyxy_7, float2  * mean2d_15, float * depth_7, float3  * conic_7, float * opacity_7, float3  * rgb_7)
{
    float3  mean_c_7 = mul_0(R_14, mean_8) + t_10;
    float3  _S781 = exp_0(scale_10);
    float x_30 = quat_11.y;
    float x2_11 = x_30 * x_30;
    float y2_11 = quat_11.z * quat_11.z;
    float z2_18 = quat_11.w * quat_11.w;
    float xy_11 = quat_11.y * quat_11.z;
    float xz_11 = quat_11.y * quat_11.w;
    float yz_11 = quat_11.z * quat_11.w;
    float wx_11 = quat_11.x * quat_11.y;
    float wy_11 = quat_11.x * quat_11.z;
    float wz_11 = quat_11.x * quat_11.w;
    Matrix<float, 3, 3>  M_7 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_11 + z2_18), 2.0f * (xy_11 + wz_11), 2.0f * (xz_11 - wy_11), 2.0f * (xy_11 - wz_11), 1.0f - 2.0f * (x2_11 + z2_18), 2.0f * (yz_11 + wx_11), 2.0f * (xz_11 + wy_11), 2.0f * (yz_11 - wx_11), 1.0f - 2.0f * (x2_11 + y2_11))), makeMatrix<float, 3, 3> (_S781.x, 0.0f, 0.0f, 0.0f, _S781.y, 0.0f, 0.0f, 0.0f, _S781.z));
    Matrix<float, 3, 3>  _S782 = transpose_0(R_14);
    Matrix<float, 2, 3>  J_7 = makeMatrix<float, 2, 3> (fx_14, 0.0f, 0.0f, 0.0f, fy_14, 0.0f);
    Matrix<float, 2, 2>  covar2d_7 = mul_6(mul_5(J_7, mul_4(mul_4(R_14, mul_4(M_7, transpose_0(M_7))), _S782)), transpose_1(J_7));
    *mean2d_15 = make_float2 (fx_14 * mean_c_7.x + cx_11, fy_14 * mean_c_7.y + cy_11);
    float det_orig_8 = *&(((&covar2d_7)->rows + (int(0)))->x) * *&(((&covar2d_7)->rows + (int(1)))->y) - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x);
    float _S783 = *&(((&covar2d_7)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(0)))->x) = _S783;
    float _S784 = *&(((&covar2d_7)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(1)))->y) = _S784;
    float compensation_8 = (F32_sqrt(((F32_max((0.0f), (det_orig_8 / (_S783 * _S784 - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x))))))));
    float invdet_6 = 1.0f / (covar2d_7.rows[int(0)].x * covar2d_7.rows[int(1)].y - covar2d_7.rows[int(0)].y * covar2d_7.rows[int(1)].x);
    Matrix<float, 2, 2>  _S785 = makeMatrix<float, 2, 2> (covar2d_7.rows[int(1)].y * invdet_6, - covar2d_7.rows[int(0)].y * invdet_6, - covar2d_7.rows[int(1)].x * invdet_6, covar2d_7.rows[int(0)].x * invdet_6);
    *opacity_7 = 1.0f / (1.0f + (F32_exp((- in_opacity_7))));
    if(antialiased_7)
    {
        *opacity_7 = *opacity_7 * compensation_8;
    }
    float extend_7 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_7 / 0.00392156885936856f)))))))));
    float radius_x_7 = extend_7 * (F32_sqrt((covar2d_7[int(0)].x)));
    float radius_y_7 = extend_7 * (F32_sqrt((covar2d_7[int(1)].y)));
    *aabb_xyxy_7 = make_int4 (int((F32_floor(((*mean2d_15).x - radius_x_7)))), int((F32_floor(((*mean2d_15).y - radius_y_7)))), int((F32_ceil(((*mean2d_15).x + radius_x_7)))), int((F32_ceil(((*mean2d_15).y + radius_y_7)))));
    *depth_7 = 0.5f * (F32_log((dot_0(mean_c_7, mean_c_7) + 9.99999997475242708e-07f)));
    *conic_7 = make_float3 (_S785.rows[int(0)].x, _S785.rows[int(0)].y, _S785.rows[int(1)].y);
    float3  _S786 = mean_8 - - mul_0(_S782, t_10);
    float3  _S787 = make_float3 (0.282094806432724f) * (*sh_coeffs_7)[int(0)];
    *rgb_7 = _S787;
    float _S788 = _S786.x;
    float _S789 = _S786.y;
    float _S790 = _S786.z;
    float norm_7 = (F32_sqrt((_S788 * _S788 + _S789 * _S789 + _S790 * _S790)));
    float x_31 = _S788 / norm_7;
    float y_10 = _S789 / norm_7;
    float z_7 = _S790 / norm_7;
    float3  _S791 = _S787 + make_float3 (0.48860251903533936f) * (make_float3 (- y_10) * (*sh_coeffs_7)[int(1)] + make_float3 (z_7) * (*sh_coeffs_7)[int(2)] - make_float3 (x_31) * (*sh_coeffs_7)[int(3)]);
    *rgb_7 = _S791;
    float z2_19 = z_7 * z_7;
    float fTmp0B_7 = -1.09254848957061768f * z_7;
    float fC1_7 = x_31 * x_31 - y_10 * y_10;
    float fS1_7 = 2.0f * x_31 * y_10;
    float3  _S792 = _S791 + (make_float3 (0.54627424478530884f * fS1_7) * (*sh_coeffs_7)[int(4)] + make_float3 (fTmp0B_7 * y_10) * (*sh_coeffs_7)[int(5)] + make_float3 (0.94617468118667603f * z2_19 - 0.31539157032966614f) * (*sh_coeffs_7)[int(6)] + make_float3 (fTmp0B_7 * x_31) * (*sh_coeffs_7)[int(7)] + make_float3 (0.54627424478530884f * fC1_7) * (*sh_coeffs_7)[int(8)]);
    *rgb_7 = _S792;
    float fTmp0C_7 = -2.28522896766662598f * z2_19 + 0.4570457935333252f;
    float fTmp1B_7 = 1.44530570507049561f * z_7;
    *rgb_7 = max_0(_S792 + (make_float3 (-0.59004360437393188f * (x_31 * fS1_7 + y_10 * fC1_7)) * (*sh_coeffs_7)[int(9)] + make_float3 (fTmp1B_7 * fS1_7) * (*sh_coeffs_7)[int(10)] + make_float3 (fTmp0C_7 * y_10) * (*sh_coeffs_7)[int(11)] + make_float3 (z_7 * (1.86588168144226074f * z2_19 - 1.11952900886535645f)) * (*sh_coeffs_7)[int(12)] + make_float3 (fTmp0C_7 * x_31) * (*sh_coeffs_7)[int(13)] + make_float3 (fTmp1B_7 * fC1_7) * (*sh_coeffs_7)[int(14)] + make_float3 (-0.59004360437393188f * (x_31 * fC1_7 - y_10 * fS1_7)) * (*sh_coeffs_7)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_persp_differentiable(bool antialiased_8, float3  mean_9, float4  quat_12, float3  scale_11, float in_opacity_8, FixedArray<float3 , 16>  * sh_coeffs_8, Matrix<float, 3, 3>  R_15, float3  t_11, float fx_15, float fy_15, float cx_12, float cy_12, FixedArray<float, 10>  * dist_coeffs_21, uint image_width_8, uint image_height_8, float near_plane_8, float far_plane_8, int4  * aabb_xyxy_8, float2  * mean2d_16, float * depth_8, float3  * conic_8, float * opacity_8, float3  * rgb_8)
{
    float3  mean_c_8 = mul_0(R_15, mean_9) + t_11;
    float4  intrins_9 = make_float4 (fx_15, fy_15, cx_12, cy_12);
    float3  _S793 = exp_0(scale_11);
    float x_32 = quat_12.y;
    float x2_12 = x_32 * x_32;
    float y2_12 = quat_12.z * quat_12.z;
    float z2_20 = quat_12.w * quat_12.w;
    float xy_12 = quat_12.y * quat_12.z;
    float xz_12 = quat_12.y * quat_12.w;
    float yz_12 = quat_12.z * quat_12.w;
    float wx_12 = quat_12.x * quat_12.y;
    float wy_12 = quat_12.x * quat_12.z;
    float wz_12 = quat_12.x * quat_12.w;
    Matrix<float, 3, 3>  _S794 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_12 + z2_20), 2.0f * (xy_12 + wz_12), 2.0f * (xz_12 - wy_12), 2.0f * (xy_12 - wz_12), 1.0f - 2.0f * (x2_12 + z2_20), 2.0f * (yz_12 + wx_12), 2.0f * (xz_12 + wy_12), 2.0f * (yz_12 - wx_12), 1.0f - 2.0f * (x2_12 + y2_12))));
    SigmaPoints_0 ret_2;
    (&ret_2)->p_0[int(0)] = mean_9;
    (&ret_2)->w_mean_0[int(0)] = 0.0f;
    (&ret_2)->w_cov_0[int(0)] = 2.0f;
    float _S795 = (F32_sqrt((3.0f)));
    float3  delta_6 = make_float3 (_S795 * _S793.x) * _S794.rows[0U];
    float3  _S796 = mean_9 + delta_6;
    float3  _S797 = mean_9 - delta_6;
    float3  delta_7 = make_float3 (_S795 * _S793.y) * _S794.rows[1U];
    float3  _S798 = mean_9 + delta_7;
    float3  _S799 = mean_9 - delta_7;
    float3  delta_8 = make_float3 (_S795 * _S793.z) * _S794.rows[2U];
    float3  _S800 = mean_9 + delta_8;
    float3  _S801 = mean_9 - delta_8;
    (&ret_2)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_2)->p_0[0U] = mul_0(R_15, (&ret_2)->p_0[0U]) + t_11;
    (&ret_2)->p_0[1U] = mul_0(R_15, _S796) + t_11;
    (&ret_2)->p_0[2U] = mul_0(R_15, _S798) + t_11;
    (&ret_2)->p_0[3U] = mul_0(R_15, _S800) + t_11;
    (&ret_2)->p_0[4U] = mul_0(R_15, _S797) + t_11;
    (&ret_2)->p_0[5U] = mul_0(R_15, _S799) + t_11;
    (&ret_2)->p_0[6U] = mul_0(R_15, _S801) + t_11;
    SigmaPoints_0 _S802 = ret_2;
    Matrix<float, 2, 2>  covar2d_8;
    bool _S803 = persp_proj_3dgs_ut_1(&_S802, intrins_9, dist_coeffs_21, image_width_8, image_height_8, &covar2d_8, mean2d_16);
    float det_orig_9 = *&(((&covar2d_8)->rows + (int(0)))->x) * *&(((&covar2d_8)->rows + (int(1)))->y) - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x);
    float _S804 = *&(((&covar2d_8)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(0)))->x) = _S804;
    float _S805 = *&(((&covar2d_8)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(1)))->y) = _S805;
    float compensation_9 = (F32_sqrt(((F32_max((0.0f), (det_orig_9 / (_S804 * _S805 - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x))))))));
    *opacity_8 = 1.0f / (1.0f + (F32_exp((- in_opacity_8))));
    if(antialiased_8)
    {
        *opacity_8 = *opacity_8 * compensation_9;
    }
    float extend_8 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_8 / 0.00392156885936856f)))))))));
    float radius_x_8 = extend_8 * (F32_sqrt((covar2d_8[int(0)].x)));
    float radius_y_8 = extend_8 * (F32_sqrt((covar2d_8[int(1)].y)));
    *aabb_xyxy_8 = make_int4 (int((F32_floor(((*mean2d_16).x - radius_x_8)))), int((F32_floor(((*mean2d_16).y - radius_y_8)))), int((F32_ceil(((*mean2d_16).x + radius_x_8)))), int((F32_ceil(((*mean2d_16).y + radius_y_8)))));
    *depth_8 = 0.5f * (F32_log((dot_0(mean_c_8, mean_c_8) + 9.99999997475242708e-07f)));
    *conic_8 = exp_0(- scale_11);
    float3  _S806 = mean_9 - - mul_0(transpose_0(R_15), t_11);
    float3  _S807 = make_float3 (0.282094806432724f) * (*sh_coeffs_8)[int(0)];
    *rgb_8 = _S807;
    float _S808 = _S806.x;
    float _S809 = _S806.y;
    float _S810 = _S806.z;
    float norm_8 = (F32_sqrt((_S808 * _S808 + _S809 * _S809 + _S810 * _S810)));
    float x_33 = _S808 / norm_8;
    float y_11 = _S809 / norm_8;
    float z_8 = _S810 / norm_8;
    float3  _S811 = _S807 + make_float3 (0.48860251903533936f) * (make_float3 (- y_11) * (*sh_coeffs_8)[int(1)] + make_float3 (z_8) * (*sh_coeffs_8)[int(2)] - make_float3 (x_33) * (*sh_coeffs_8)[int(3)]);
    *rgb_8 = _S811;
    float z2_21 = z_8 * z_8;
    float fTmp0B_8 = -1.09254848957061768f * z_8;
    float fC1_8 = x_33 * x_33 - y_11 * y_11;
    float fS1_8 = 2.0f * x_33 * y_11;
    float3  _S812 = _S811 + (make_float3 (0.54627424478530884f * fS1_8) * (*sh_coeffs_8)[int(4)] + make_float3 (fTmp0B_8 * y_11) * (*sh_coeffs_8)[int(5)] + make_float3 (0.94617468118667603f * z2_21 - 0.31539157032966614f) * (*sh_coeffs_8)[int(6)] + make_float3 (fTmp0B_8 * x_33) * (*sh_coeffs_8)[int(7)] + make_float3 (0.54627424478530884f * fC1_8) * (*sh_coeffs_8)[int(8)]);
    *rgb_8 = _S812;
    float fTmp0C_8 = -2.28522896766662598f * z2_21 + 0.4570457935333252f;
    float fTmp1B_8 = 1.44530570507049561f * z_8;
    *rgb_8 = max_0(_S812 + (make_float3 (-0.59004360437393188f * (x_33 * fS1_8 + y_11 * fC1_8)) * (*sh_coeffs_8)[int(9)] + make_float3 (fTmp1B_8 * fS1_8) * (*sh_coeffs_8)[int(10)] + make_float3 (fTmp0C_8 * y_11) * (*sh_coeffs_8)[int(11)] + make_float3 (z_8 * (1.86588168144226074f * z2_21 - 1.11952900886535645f)) * (*sh_coeffs_8)[int(12)] + make_float3 (fTmp0C_8 * x_33) * (*sh_coeffs_8)[int(13)] + make_float3 (fTmp1B_8 * fC1_8) * (*sh_coeffs_8)[int(14)] + make_float3 (-0.59004360437393188f * (x_33 * fC1_8 - y_11 * fS1_8)) * (*sh_coeffs_8)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_fisheye_differentiable(bool antialiased_9, float3  mean_10, float4  quat_13, float3  scale_12, float in_opacity_9, FixedArray<float3 , 16>  * sh_coeffs_9, Matrix<float, 3, 3>  R_16, float3  t_12, float fx_16, float fy_16, float cx_13, float cy_13, FixedArray<float, 10>  * dist_coeffs_22, uint image_width_9, uint image_height_9, float near_plane_9, float far_plane_9, int4  * aabb_xyxy_9, float2  * mean2d_17, float * depth_9, float3  * conic_9, float * opacity_9, float3  * rgb_9)
{
    float3  mean_c_9 = mul_0(R_16, mean_10) + t_12;
    float4  intrins_10 = make_float4 (fx_16, fy_16, cx_13, cy_13);
    float3  _S813 = exp_0(scale_12);
    float x_34 = quat_13.y;
    float x2_13 = x_34 * x_34;
    float y2_13 = quat_13.z * quat_13.z;
    float z2_22 = quat_13.w * quat_13.w;
    float xy_13 = quat_13.y * quat_13.z;
    float xz_13 = quat_13.y * quat_13.w;
    float yz_13 = quat_13.z * quat_13.w;
    float wx_13 = quat_13.x * quat_13.y;
    float wy_13 = quat_13.x * quat_13.z;
    float wz_13 = quat_13.x * quat_13.w;
    Matrix<float, 3, 3>  _S814 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_13 + z2_22), 2.0f * (xy_13 + wz_13), 2.0f * (xz_13 - wy_13), 2.0f * (xy_13 - wz_13), 1.0f - 2.0f * (x2_13 + z2_22), 2.0f * (yz_13 + wx_13), 2.0f * (xz_13 + wy_13), 2.0f * (yz_13 - wx_13), 1.0f - 2.0f * (x2_13 + y2_13))));
    SigmaPoints_0 ret_3;
    (&ret_3)->p_0[int(0)] = mean_10;
    (&ret_3)->w_mean_0[int(0)] = 0.0f;
    (&ret_3)->w_cov_0[int(0)] = 2.0f;
    float _S815 = (F32_sqrt((3.0f)));
    float3  delta_9 = make_float3 (_S815 * _S813.x) * _S814.rows[0U];
    float3  _S816 = mean_10 + delta_9;
    float3  _S817 = mean_10 - delta_9;
    float3  delta_10 = make_float3 (_S815 * _S813.y) * _S814.rows[1U];
    float3  _S818 = mean_10 + delta_10;
    float3  _S819 = mean_10 - delta_10;
    float3  delta_11 = make_float3 (_S815 * _S813.z) * _S814.rows[2U];
    float3  _S820 = mean_10 + delta_11;
    float3  _S821 = mean_10 - delta_11;
    (&ret_3)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_3)->p_0[0U] = mul_0(R_16, (&ret_3)->p_0[0U]) + t_12;
    (&ret_3)->p_0[1U] = mul_0(R_16, _S816) + t_12;
    (&ret_3)->p_0[2U] = mul_0(R_16, _S818) + t_12;
    (&ret_3)->p_0[3U] = mul_0(R_16, _S820) + t_12;
    (&ret_3)->p_0[4U] = mul_0(R_16, _S817) + t_12;
    (&ret_3)->p_0[5U] = mul_0(R_16, _S819) + t_12;
    (&ret_3)->p_0[6U] = mul_0(R_16, _S821) + t_12;
    SigmaPoints_0 _S822 = ret_3;
    Matrix<float, 2, 2>  covar2d_9;
    bool _S823 = fisheye_proj_3dgs_ut_1(&_S822, intrins_10, dist_coeffs_22, &covar2d_9, mean2d_17);
    float det_orig_10 = *&(((&covar2d_9)->rows + (int(0)))->x) * *&(((&covar2d_9)->rows + (int(1)))->y) - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x);
    float _S824 = *&(((&covar2d_9)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(0)))->x) = _S824;
    float _S825 = *&(((&covar2d_9)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(1)))->y) = _S825;
    float compensation_10 = (F32_sqrt(((F32_max((0.0f), (det_orig_10 / (_S824 * _S825 - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x))))))));
    *opacity_9 = 1.0f / (1.0f + (F32_exp((- in_opacity_9))));
    if(antialiased_9)
    {
        *opacity_9 = *opacity_9 * compensation_10;
    }
    float extend_9 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_9 / 0.00392156885936856f)))))))));
    float radius_x_9 = extend_9 * (F32_sqrt((covar2d_9[int(0)].x)));
    float radius_y_9 = extend_9 * (F32_sqrt((covar2d_9[int(1)].y)));
    *aabb_xyxy_9 = make_int4 (int((F32_floor(((*mean2d_17).x - radius_x_9)))), int((F32_floor(((*mean2d_17).y - radius_y_9)))), int((F32_ceil(((*mean2d_17).x + radius_x_9)))), int((F32_ceil(((*mean2d_17).y + radius_y_9)))));
    *depth_9 = 0.5f * (F32_log((dot_0(mean_c_9, mean_c_9) + 9.99999997475242708e-07f)));
    *conic_9 = exp_0(- scale_12);
    float3  _S826 = mean_10 - - mul_0(transpose_0(R_16), t_12);
    float3  _S827 = make_float3 (0.282094806432724f) * (*sh_coeffs_9)[int(0)];
    *rgb_9 = _S827;
    float _S828 = _S826.x;
    float _S829 = _S826.y;
    float _S830 = _S826.z;
    float norm_9 = (F32_sqrt((_S828 * _S828 + _S829 * _S829 + _S830 * _S830)));
    float x_35 = _S828 / norm_9;
    float y_12 = _S829 / norm_9;
    float z_9 = _S830 / norm_9;
    float3  _S831 = _S827 + make_float3 (0.48860251903533936f) * (make_float3 (- y_12) * (*sh_coeffs_9)[int(1)] + make_float3 (z_9) * (*sh_coeffs_9)[int(2)] - make_float3 (x_35) * (*sh_coeffs_9)[int(3)]);
    *rgb_9 = _S831;
    float z2_23 = z_9 * z_9;
    float fTmp0B_9 = -1.09254848957061768f * z_9;
    float fC1_9 = x_35 * x_35 - y_12 * y_12;
    float fS1_9 = 2.0f * x_35 * y_12;
    float3  _S832 = _S831 + (make_float3 (0.54627424478530884f * fS1_9) * (*sh_coeffs_9)[int(4)] + make_float3 (fTmp0B_9 * y_12) * (*sh_coeffs_9)[int(5)] + make_float3 (0.94617468118667603f * z2_23 - 0.31539157032966614f) * (*sh_coeffs_9)[int(6)] + make_float3 (fTmp0B_9 * x_35) * (*sh_coeffs_9)[int(7)] + make_float3 (0.54627424478530884f * fC1_9) * (*sh_coeffs_9)[int(8)]);
    *rgb_9 = _S832;
    float fTmp0C_9 = -2.28522896766662598f * z2_23 + 0.4570457935333252f;
    float fTmp1B_9 = 1.44530570507049561f * z_9;
    *rgb_9 = max_0(_S832 + (make_float3 (-0.59004360437393188f * (x_35 * fS1_9 + y_12 * fC1_9)) * (*sh_coeffs_9)[int(9)] + make_float3 (fTmp1B_9 * fS1_9) * (*sh_coeffs_9)[int(10)] + make_float3 (fTmp0C_9 * y_12) * (*sh_coeffs_9)[int(11)] + make_float3 (z_9 * (1.86588168144226074f * z2_23 - 1.11952900886535645f)) * (*sh_coeffs_9)[int(12)] + make_float3 (fTmp0C_9 * x_35) * (*sh_coeffs_9)[int(13)] + make_float3 (fTmp1B_9 * fC1_9) * (*sh_coeffs_9)[int(14)] + make_float3 (-0.59004360437393188f * (x_35 * fC1_9 - y_12 * fS1_9)) * (*sh_coeffs_9)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ float3  s_primal_ctx_mul_0(Matrix<float, 3, 3>  _S833, float3  _S834)
{
    return mul_0(_S833, _S834);
}

inline __device__ float3  s_primal_ctx_exp_0(float3  _S835)
{
    return exp_0(_S835);
}

inline __device__ Matrix<float, 3, 3>  s_primal_ctx_mul_1(Matrix<float, 3, 3>  _S836, Matrix<float, 3, 3>  _S837)
{
    return mul_4(_S836, _S837);
}

inline __device__ float s_primal_ctx_max_0(float _S838, float _S839)
{
    return (F32_max((_S838), (_S839)));
}

inline __device__ float s_primal_ctx_min_0(float _S840, float _S841)
{
    return (F32_min((_S840), (_S841)));
}

inline __device__ Matrix<float, 2, 3>  s_primal_ctx_mul_2(Matrix<float, 2, 3>  _S842, Matrix<float, 3, 3>  _S843)
{
    return mul_5(_S842, _S843);
}

inline __device__ Matrix<float, 2, 2>  s_primal_ctx_mul_3(Matrix<float, 2, 3>  _S844, Matrix<float, 3, 2>  _S845)
{
    return mul_6(_S844, _S845);
}

inline __device__ float s_primal_ctx_sqrt_0(float _S846)
{
    return (F32_sqrt((_S846)));
}

inline __device__ float s_primal_ctx_exp_1(float _S847)
{
    return (F32_exp((_S847)));
}

inline __device__ float s_primal_ctx_log_0(float _S848)
{
    return (F32_log((_S848)));
}

inline __device__ float s_primal_ctx_dot_0(float3  _S849, float3  _S850)
{
    return dot_0(_S849, _S850);
}

inline __device__ void s_bwd_prop_max_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S851, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S852, float3  _S853)
{
    _d_max_vector_0(_S851, _S852, _S853);
    return;
}

inline __device__ void s_bwd_prop_mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S854, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S855, float3  _S856)
{
    _d_mul_0(_S854, _S855, _S856);
    return;
}

inline __device__ void s_bwd_prop_log_0(DiffPair_float_0 * _S857, float _S858)
{
    _d_log_0(_S857, _S858);
    return;
}

inline __device__ void s_bwd_prop_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S859, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S860, float _S861)
{
    _d_dot_0(_S859, _S860, _S861);
    return;
}

inline __device__ void s_bwd_prop_min_0(DiffPair_float_0 * _S862, DiffPair_float_0 * _S863, float _S864)
{
    _d_min_0(_S862, _S863, _S864);
    return;
}

inline __device__ void s_bwd_prop_exp_0(DiffPair_float_0 * _S865, float _S866)
{
    _d_exp_0(_S865, _S866);
    return;
}

inline __device__ void s_bwd_prop_max_1(DiffPair_float_0 * _S867, DiffPair_float_0 * _S868, float _S869)
{
    _d_max_0(_S867, _S868, _S869);
    return;
}

inline __device__ void s_bwd_prop_mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S870, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * _S871, Matrix<float, 2, 2>  _S872)
{
    mul_3(_S870, _S871, _S872);
    return;
}

inline __device__ void s_bwd_prop_mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S873, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S874, Matrix<float, 2, 3>  _S875)
{
    mul_2(_S873, _S874, _S875);
    return;
}

inline __device__ void s_bwd_prop_mul_4(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S876, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S877, Matrix<float, 3, 3>  _S878)
{
    mul_1(_S876, _S877, _S878);
    return;
}

inline __device__ void s_bwd_prop_exp_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S879, float3  _S880)
{
    _d_exp_vector_0(_S879, _S880);
    return;
}

inline __device__ void projection_3dgs_persp_vjp(bool antialiased_10, float3  mean_11, float4  quat_14, float3  scale_13, float in_opacity_10, FixedArray<float3 , 16>  * sh_coeffs_10, Matrix<float, 3, 3>  R_17, float3  t_13, float fx_17, float fy_17, float cx_14, float cy_14, FixedArray<float, 10>  * dist_coeffs_23, uint image_width_10, uint image_height_10, float2  v_mean2d_0, float v_depth_0, float3  v_conic_0, float v_opacity_0, float3  v_rgb_0, float3  * v_mean_0, float4  * v_quat_0, float3  * v_scale_0, float * v_in_opacity_0, FixedArray<float3 , 16>  * v_sh_coeffs_0, Matrix<float, 3, 3>  * v_R_2, float3  * v_t_1)
{
    float3  mean_c_10 = s_primal_ctx_mul_0(R_17, mean_11) + t_13;
    float3  _S881 = s_primal_ctx_exp_0(scale_13);
    float _S882 = quat_14.y;
    float x2_14 = _S882 * _S882;
    float y2_14 = quat_14.z * quat_14.z;
    float z2_24 = quat_14.w * quat_14.w;
    float xy_14 = quat_14.y * quat_14.z;
    float xz_14 = quat_14.y * quat_14.w;
    float yz_14 = quat_14.z * quat_14.w;
    float wx_14 = quat_14.x * quat_14.y;
    float wy_14 = quat_14.x * quat_14.z;
    float wz_14 = quat_14.x * quat_14.w;
    Matrix<float, 3, 3>  _S883 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_14 + z2_24), 2.0f * (xy_14 + wz_14), 2.0f * (xz_14 - wy_14), 2.0f * (xy_14 - wz_14), 1.0f - 2.0f * (x2_14 + z2_24), 2.0f * (yz_14 + wx_14), 2.0f * (xz_14 + wy_14), 2.0f * (yz_14 - wx_14), 1.0f - 2.0f * (x2_14 + y2_14)));
    Matrix<float, 3, 3>  S_0 = makeMatrix<float, 3, 3> (_S881.x, 0.0f, 0.0f, 0.0f, _S881.y, 0.0f, 0.0f, 0.0f, _S881.z);
    Matrix<float, 3, 3>  _S884 = s_primal_ctx_mul_1(_S883, S_0);
    Matrix<float, 3, 3>  _S885 = transpose_0(_S884);
    Matrix<float, 3, 3>  _S886 = s_primal_ctx_mul_1(_S884, _S885);
    Matrix<float, 3, 3>  _S887 = s_primal_ctx_mul_1(R_17, _S886);
    Matrix<float, 3, 3>  _S888 = transpose_0(R_17);
    Matrix<float, 3, 3>  _S889 = s_primal_ctx_mul_1(_S887, _S888);
    float _S890 = float(image_width_10);
    float _S891 = float(image_height_10);
    float _S892 = 0.30000001192092896f * (0.5f * _S890 / fx_17);
    float lim_x_pos_2 = (_S890 - cx_14) / fx_17 + _S892;
    float _S893 = 0.30000001192092896f * (0.5f * _S891 / fy_17);
    float lim_y_pos_2 = (_S891 - cy_14) / fy_17 + _S893;
    float rz_3 = 1.0f / mean_c_10.z;
    float _S894 = mean_c_10.z * mean_c_10.z;
    float rz2_3 = rz_3 * rz_3;
    float _S895 = - (cx_14 / fx_17 + _S892);
    float _S896 = mean_c_10.x * rz_3;
    float _S897 = s_primal_ctx_max_0(_S895, _S896);
    float _S898 = s_primal_ctx_min_0(lim_x_pos_2, _S897);
    float _S899 = - (cy_14 / fy_17 + _S893);
    float _S900 = mean_c_10.y * rz_3;
    float _S901 = s_primal_ctx_max_0(_S899, _S900);
    float _S902 = s_primal_ctx_min_0(lim_y_pos_2, _S901);
    float _S903 = - fx_17;
    float _S904 = _S903 * (mean_c_10.z * _S898);
    float _S905 = - fy_17;
    float _S906 = _S905 * (mean_c_10.z * _S902);
    Matrix<float, 2, 3>  J_8 = makeMatrix<float, 2, 3> (fx_17 * rz_3, 0.0f, _S904 * rz2_3, 0.0f, fy_17 * rz_3, _S906 * rz2_3);
    Matrix<float, 2, 3>  _S907 = s_primal_ctx_mul_2(J_8, _S889);
    Matrix<float, 3, 2>  _S908 = transpose_1(J_8);
    Matrix<float, 2, 2>  _S909 = s_primal_ctx_mul_3(_S907, _S908);
    float _S910 = fx_17 * mean_c_10.x;
    float _S911 = fy_17 * mean_c_10.y;
    float _S912 = _S909.rows[int(0)].y * _S909.rows[int(1)].x;
    float det_orig_11 = _S909.rows[int(0)].x * _S909.rows[int(1)].y - _S912;
    float _S913 = _S909.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S914 = _S909;
    *&(((&_S914)->rows + (int(0)))->x) = _S913;
    float _S915 = _S909.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S914)->rows + (int(1)))->y) = _S915;
    Matrix<float, 2, 2>  _S916 = _S914;
    Matrix<float, 2, 2>  _S917 = _S914;
    float det_blur_6 = _S913 * _S915 - _S912;
    float _S918 = det_orig_11 / det_blur_6;
    float _S919 = det_blur_6 * det_blur_6;
    float _S920 = s_primal_ctx_max_0(0.0f, _S918);
    float _S921 = s_primal_ctx_sqrt_0(_S920);
    float invdet_7 = 1.0f / det_blur_6;
    float _S922 = - _S909.rows[int(0)].y;
    float _S923 = - _S909.rows[int(1)].x;
    float _S924 = - in_opacity_10;
    float _S925 = 1.0f + s_primal_ctx_exp_1(_S924);
    float _S926 = 1.0f / _S925;
    float _S927 = _S925 * _S925;
    float _S928;
    if(antialiased_10)
    {
        _S928 = _S926 * _S921;
    }
    else
    {
        _S928 = _S926;
    }
    float _S929 = _S928 / 0.00392156885936856f;
    float _S930 = 2.0f * s_primal_ctx_log_0(_S929);
    float _S931 = s_primal_ctx_sqrt_0(_S930);
    float _S932 = _S916.rows[int(0)].x;
    float _S933 = _S917.rows[int(1)].y;
    float _S934 = s_primal_ctx_dot_0(mean_c_10, mean_c_10) + 9.99999997475242708e-07f;
    float3  _S935 = mean_11 - - s_primal_ctx_mul_0(_S888, t_13);
    float _S936 = _S935.x;
    float _S937 = _S935.y;
    float _S938 = _S935.z;
    float _S939 = _S936 * _S936 + _S937 * _S937 + _S938 * _S938;
    float _S940 = s_primal_ctx_sqrt_0(_S939);
    float x_36 = _S936 / _S940;
    float3  _S941 = make_float3 (x_36);
    float _S942 = _S940 * _S940;
    float y_13 = _S937 / _S940;
    float z_10 = _S938 / _S940;
    float3  _S943 = make_float3 (z_10);
    float _S944 = - y_13;
    float3  _S945 = make_float3 (_S944);
    float z2_25 = z_10 * z_10;
    float fTmp0B_10 = -1.09254848957061768f * z_10;
    float fC1_10 = x_36 * x_36 - y_13 * y_13;
    float _S946 = 2.0f * x_36;
    float fS1_10 = _S946 * y_13;
    float pSH6_0 = 0.94617468118667603f * z2_25 - 0.31539157032966614f;
    float3  _S947 = make_float3 (pSH6_0);
    float pSH7_0 = fTmp0B_10 * x_36;
    float3  _S948 = make_float3 (pSH7_0);
    float pSH5_0 = fTmp0B_10 * y_13;
    float3  _S949 = make_float3 (pSH5_0);
    float pSH8_0 = 0.54627424478530884f * fC1_10;
    float3  _S950 = make_float3 (pSH8_0);
    float pSH4_0 = 0.54627424478530884f * fS1_10;
    float3  _S951 = make_float3 (pSH4_0);
    float fTmp0C_10 = -2.28522896766662598f * z2_25 + 0.4570457935333252f;
    float fTmp1B_10 = 1.44530570507049561f * z_10;
    float _S952 = 1.86588168144226074f * z2_25 - 1.11952900886535645f;
    float pSH12_0 = z_10 * _S952;
    float3  _S953 = make_float3 (pSH12_0);
    float pSH13_0 = fTmp0C_10 * x_36;
    float3  _S954 = make_float3 (pSH13_0);
    float pSH11_0 = fTmp0C_10 * y_13;
    float3  _S955 = make_float3 (pSH11_0);
    float pSH14_0 = fTmp1B_10 * fC1_10;
    float3  _S956 = make_float3 (pSH14_0);
    float pSH10_0 = fTmp1B_10 * fS1_10;
    float3  _S957 = make_float3 (pSH10_0);
    float pSH15_0 = -0.59004360437393188f * (x_36 * fC1_10 - y_13 * fS1_10);
    float3  _S958 = make_float3 (pSH15_0);
    float pSH9_0 = -0.59004360437393188f * (x_36 * fS1_10 + y_13 * fC1_10);
    float3  _S959 = make_float3 (pSH9_0);
    float3  _S960 = make_float3 (0.0f);
    float3  _S961 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S962;
    (&_S962)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_10)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S944) * (*sh_coeffs_10)[int(1)] + make_float3 (z_10) * (*sh_coeffs_10)[int(2)] - make_float3 (x_36) * (*sh_coeffs_10)[int(3)]) + (make_float3 (pSH4_0) * (*sh_coeffs_10)[int(4)] + make_float3 (pSH5_0) * (*sh_coeffs_10)[int(5)] + make_float3 (pSH6_0) * (*sh_coeffs_10)[int(6)] + make_float3 (pSH7_0) * (*sh_coeffs_10)[int(7)] + make_float3 (pSH8_0) * (*sh_coeffs_10)[int(8)]) + (make_float3 (pSH9_0) * (*sh_coeffs_10)[int(9)] + make_float3 (pSH10_0) * (*sh_coeffs_10)[int(10)] + make_float3 (pSH11_0) * (*sh_coeffs_10)[int(11)] + make_float3 (pSH12_0) * (*sh_coeffs_10)[int(12)] + make_float3 (pSH13_0) * (*sh_coeffs_10)[int(13)] + make_float3 (pSH14_0) * (*sh_coeffs_10)[int(14)] + make_float3 (pSH15_0) * (*sh_coeffs_10)[int(15)]) + make_float3 (0.5f);
    (&_S962)->differential_0 = _S961;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S963;
    (&_S963)->primal_0 = _S960;
    (&_S963)->differential_0 = _S961;
    s_bwd_prop_max_0(&_S962, &_S963, v_rgb_0);
    float3  _S964 = _S958 * _S962.differential_0;
    float3  _S965 = (*sh_coeffs_10)[int(15)] * _S962.differential_0;
    float3  _S966 = _S956 * _S962.differential_0;
    float3  _S967 = (*sh_coeffs_10)[int(14)] * _S962.differential_0;
    float3  _S968 = _S954 * _S962.differential_0;
    float3  _S969 = (*sh_coeffs_10)[int(13)] * _S962.differential_0;
    float3  _S970 = _S953 * _S962.differential_0;
    float3  _S971 = (*sh_coeffs_10)[int(12)] * _S962.differential_0;
    float3  _S972 = _S955 * _S962.differential_0;
    float3  _S973 = (*sh_coeffs_10)[int(11)] * _S962.differential_0;
    float3  _S974 = _S957 * _S962.differential_0;
    float3  _S975 = (*sh_coeffs_10)[int(10)] * _S962.differential_0;
    float3  _S976 = _S959 * _S962.differential_0;
    float3  _S977 = (*sh_coeffs_10)[int(9)] * _S962.differential_0;
    float s_diff_fS2_T_0 = -0.59004360437393188f * (_S977.x + _S977.y + _S977.z);
    float s_diff_fC2_T_0 = -0.59004360437393188f * (_S965.x + _S965.y + _S965.z);
    float _S978 = _S975.x + _S975.y + _S975.z;
    float _S979 = _S967.x + _S967.y + _S967.z;
    float _S980 = _S973.x + _S973.y + _S973.z;
    float _S981 = _S969.x + _S969.y + _S969.z;
    float _S982 = _S971.x + _S971.y + _S971.z;
    float _S983 = - s_diff_fC2_T_0;
    float3  _S984 = _S950 * _S962.differential_0;
    float3  _S985 = (*sh_coeffs_10)[int(8)] * _S962.differential_0;
    float3  _S986 = _S948 * _S962.differential_0;
    float3  _S987 = (*sh_coeffs_10)[int(7)] * _S962.differential_0;
    float3  _S988 = _S947 * _S962.differential_0;
    float3  _S989 = (*sh_coeffs_10)[int(6)] * _S962.differential_0;
    float3  _S990 = _S949 * _S962.differential_0;
    float3  _S991 = (*sh_coeffs_10)[int(5)] * _S962.differential_0;
    float3  _S992 = _S951 * _S962.differential_0;
    float3  _S993 = (*sh_coeffs_10)[int(4)] * _S962.differential_0;
    float _S994 = _S991.x + _S991.y + _S991.z;
    float _S995 = _S987.x + _S987.y + _S987.z;
    float _S996 = fTmp1B_10 * _S978 + x_36 * s_diff_fS2_T_0 + y_13 * _S983 + 0.54627424478530884f * (_S993.x + _S993.y + _S993.z);
    float _S997 = fTmp1B_10 * _S979 + y_13 * s_diff_fS2_T_0 + x_36 * s_diff_fC2_T_0 + 0.54627424478530884f * (_S985.x + _S985.y + _S985.z);
    float _S998 = y_13 * - _S997;
    float _S999 = x_36 * _S997;
    float _S1000 = z_10 * (1.86588168144226074f * (z_10 * _S982) + -2.28522896766662598f * (y_13 * _S980 + x_36 * _S981) + 0.94617468118667603f * (_S989.x + _S989.y + _S989.z));
    float3  _S1001 = make_float3 (0.48860251903533936f) * _S962.differential_0;
    float3  _S1002 = - _S1001;
    float3  _S1003 = _S941 * _S1002;
    float3  _S1004 = (*sh_coeffs_10)[int(3)] * _S1002;
    float3  _S1005 = _S943 * _S1001;
    float3  _S1006 = (*sh_coeffs_10)[int(2)] * _S1001;
    float3  _S1007 = _S945 * _S1001;
    float3  _S1008 = (*sh_coeffs_10)[int(1)] * _S1001;
    float _S1009 = (_S952 * _S982 + 1.44530570507049561f * (fS1_10 * _S978 + fC1_10 * _S979) + -1.09254848957061768f * (y_13 * _S994 + x_36 * _S995) + _S1000 + _S1000 + _S1006.x + _S1006.y + _S1006.z) / _S942;
    float _S1010 = _S940 * _S1009;
    float _S1011 = (fTmp0C_10 * _S980 + fC1_10 * s_diff_fS2_T_0 + fS1_10 * _S983 + fTmp0B_10 * _S994 + _S946 * _S996 + _S998 + _S998 + - (_S1008.x + _S1008.y + _S1008.z)) / _S942;
    float _S1012 = _S940 * _S1011;
    float _S1013 = (fTmp0C_10 * _S981 + fS1_10 * s_diff_fS2_T_0 + fC1_10 * s_diff_fC2_T_0 + fTmp0B_10 * _S995 + 2.0f * (y_13 * _S996) + _S999 + _S999 + _S1004.x + _S1004.y + _S1004.z) / _S942;
    float _S1014 = _S940 * _S1013;
    float _S1015 = _S938 * - _S1009 + _S937 * - _S1011 + _S936 * - _S1013;
    DiffPair_float_0 _S1016;
    (&_S1016)->primal_0 = _S939;
    (&_S1016)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1016, _S1015);
    float _S1017 = _S938 * _S1016.differential_0;
    float _S1018 = _S937 * _S1016.differential_0;
    float _S1019 = _S936 * _S1016.differential_0;
    float3  _S1020 = make_float3 (0.282094806432724f) * _S962.differential_0;
    float3  _S1021 = make_float3 (_S1014 + _S1019 + _S1019, _S1012 + _S1018 + _S1018, _S1010 + _S1017 + _S1017);
    float3  _S1022 = - - _S1021;
    Matrix<float, 3, 3>  _S1023 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1024;
    (&_S1024)->primal_0 = _S888;
    (&_S1024)->differential_0 = _S1023;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1025;
    (&_S1025)->primal_0 = t_13;
    (&_S1025)->differential_0 = _S961;
    s_bwd_prop_mul_1(&_S1024, &_S1025, _S1022);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1026 = _S1024;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1027 = _S1025;
    float2  _S1028 = make_float2 (0.0f);
    float2  _S1029 = _S1028;
    *&((&_S1029)->y) = v_conic_0.z;
    float2  _S1030 = _S1028;
    *&((&_S1030)->y) = v_conic_0.y;
    *&((&_S1030)->x) = v_conic_0.x;
    float _S1031 = 0.5f * v_depth_0;
    DiffPair_float_0 _S1032;
    (&_S1032)->primal_0 = _S934;
    (&_S1032)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S1032, _S1031);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1033;
    (&_S1033)->primal_0 = mean_c_10;
    (&_S1033)->differential_0 = _S961;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1034;
    (&_S1034)->primal_0 = mean_c_10;
    (&_S1034)->differential_0 = _S961;
    s_bwd_prop_dot_0(&_S1033, &_S1034, _S1032.differential_0);
    DiffPair_float_0 _S1035;
    (&_S1035)->primal_0 = _S933;
    (&_S1035)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1035, 0.0f);
    DiffPair_float_0 _S1036;
    (&_S1036)->primal_0 = _S932;
    (&_S1036)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1036, 0.0f);
    DiffPair_float_0 _S1037;
    (&_S1037)->primal_0 = 3.32999992370605469f;
    (&_S1037)->differential_0 = 0.0f;
    DiffPair_float_0 _S1038;
    (&_S1038)->primal_0 = _S931;
    (&_S1038)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1037, &_S1038, 0.0f);
    DiffPair_float_0 _S1039;
    (&_S1039)->primal_0 = _S930;
    (&_S1039)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1039, _S1038.differential_0);
    float _S1040 = 2.0f * _S1039.differential_0;
    DiffPair_float_0 _S1041;
    (&_S1041)->primal_0 = _S929;
    (&_S1041)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S1041, _S1040);
    float _S1042 = v_opacity_0 + 254.9999847412109375f * _S1041.differential_0;
    Matrix<float, 2, 2>  _S1043 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S1044 = _S1043;
    _S1044[int(1)] = _S1029;
    _S1044[int(0)] = _S1030;
    Matrix<float, 2, 2>  _S1045 = _S1044;
    FixedArray<float3 , 16>  _S1046;
    _S1046[int(0)] = _S961;
    _S1046[int(1)] = _S961;
    _S1046[int(2)] = _S961;
    _S1046[int(3)] = _S961;
    _S1046[int(4)] = _S961;
    _S1046[int(5)] = _S961;
    _S1046[int(6)] = _S961;
    _S1046[int(7)] = _S961;
    _S1046[int(8)] = _S961;
    _S1046[int(9)] = _S961;
    _S1046[int(10)] = _S961;
    _S1046[int(11)] = _S961;
    _S1046[int(12)] = _S961;
    _S1046[int(13)] = _S961;
    _S1046[int(14)] = _S961;
    _S1046[int(15)] = _S961;
    _S1046[int(7)] = _S986;
    _S1046[int(0)] = _S1020;
    _S1046[int(1)] = _S1007;
    _S1046[int(2)] = _S1005;
    _S1046[int(3)] = _S1003;
    _S1046[int(4)] = _S992;
    _S1046[int(5)] = _S990;
    _S1046[int(6)] = _S988;
    _S1046[int(15)] = _S964;
    _S1046[int(8)] = _S984;
    _S1046[int(9)] = _S976;
    _S1046[int(10)] = _S974;
    _S1046[int(11)] = _S972;
    _S1046[int(12)] = _S970;
    _S1046[int(13)] = _S968;
    _S1046[int(14)] = _S966;
    float3  _S1047 = _S1046[int(0)];
    float3  _S1048 = _S1046[int(1)];
    float3  _S1049 = _S1046[int(2)];
    float3  _S1050 = _S1046[int(3)];
    float3  _S1051 = _S1046[int(4)];
    float3  _S1052 = _S1046[int(5)];
    float3  _S1053 = _S1046[int(6)];
    float3  _S1054 = _S1046[int(7)];
    float3  _S1055 = _S1046[int(8)];
    float3  _S1056 = _S1046[int(9)];
    float3  _S1057 = _S1046[int(10)];
    float3  _S1058 = _S1046[int(11)];
    float3  _S1059 = _S1046[int(12)];
    float3  _S1060 = _S1046[int(13)];
    float3  _S1061 = _S1046[int(14)];
    float3  _S1062 = _S1046[int(15)];
    float3  _S1063 = _S1034.differential_0 + _S1033.differential_0;
    float2  _S1064 = make_float2 (0.0f, _S1035.differential_0);
    float2  _S1065 = make_float2 (_S1036.differential_0, 0.0f);
    float _S1066;
    if(antialiased_10)
    {
        float _S1067 = _S926 * _S1042;
        _S928 = _S921 * _S1042;
        _S1066 = _S1067;
    }
    else
    {
        _S928 = _S1042;
        _S1066 = 0.0f;
    }
    float _S1068 = - (_S928 / _S927);
    DiffPair_float_0 _S1069;
    (&_S1069)->primal_0 = _S924;
    (&_S1069)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S1069, _S1068);
    float _S1070 = - _S1069.differential_0;
    float _S1071 = invdet_7 * _S1045.rows[int(1)].y;
    float _S1072 = - (invdet_7 * _S1045.rows[int(1)].x);
    float _S1073 = - (invdet_7 * _S1045.rows[int(0)].y);
    float _S1074 = invdet_7 * _S1045.rows[int(0)].x;
    float _S1075 = - ((_S913 * _S1045.rows[int(1)].y + _S923 * _S1045.rows[int(1)].x + _S922 * _S1045.rows[int(0)].y + _S915 * _S1045.rows[int(0)].x) / _S919);
    DiffPair_float_0 _S1076;
    (&_S1076)->primal_0 = _S920;
    (&_S1076)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1076, _S1066);
    DiffPair_float_0 _S1077;
    (&_S1077)->primal_0 = 0.0f;
    (&_S1077)->differential_0 = 0.0f;
    DiffPair_float_0 _S1078;
    (&_S1078)->primal_0 = _S918;
    (&_S1078)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1077, &_S1078, _S1076.differential_0);
    float _S1079 = _S1078.differential_0 / _S919;
    float s_diff_det_orig_T_0 = det_blur_6 * _S1079;
    float _S1080 = _S1075 + det_orig_11 * - _S1079;
    float _S1081 = - _S1080;
    float _S1082 = _S913 * _S1080;
    float _S1083 = _S915 * _S1080;
    Matrix<float, 2, 2>  _S1084 = _S1043;
    _S1084[int(1)] = _S1064;
    _S1084[int(0)] = _S1065;
    _S914 = _S1084;
    *&(((&_S914)->rows + (int(1)))->y) = 0.0f;
    float _S1085 = _S1074 + _S1082 + _S1084.rows[int(1)].y;
    *&(((&_S914)->rows + (int(0)))->x) = 0.0f;
    float _S1086 = _S1071 + _S1083 + _S1084.rows[int(0)].x;
    float _S1087 = _S1081 + - s_diff_det_orig_T_0;
    float _S1088 = _S1072 + _S909.rows[int(0)].y * _S1087;
    float _S1089 = _S1073 + _S909.rows[int(1)].x * _S1087;
    float _S1090 = _S909.rows[int(1)].y * s_diff_det_orig_T_0;
    float _S1091 = _S1085 + _S909.rows[int(0)].x * s_diff_det_orig_T_0;
    float2  _S1092 = _S1028;
    *&((&_S1092)->x) = _S1088;
    *&((&_S1092)->y) = _S1091;
    float _S1093 = _S1086 + _S1090;
    float2  _S1094 = _S1028;
    *&((&_S1094)->y) = _S1089;
    *&((&_S1094)->x) = _S1093;
    float _S1095 = _S911 * v_mean2d_0.y;
    float _S1096 = fy_17 * (rz_3 * v_mean2d_0.y);
    float _S1097 = _S910 * v_mean2d_0.x;
    float _S1098 = fx_17 * (rz_3 * v_mean2d_0.x);
    Matrix<float, 2, 2>  _S1099 = _S1043;
    _S1099[int(1)] = _S1092;
    _S1099[int(0)] = _S1094;
    Matrix<float, 2, 2>  _S1100 = _S914 + _S1099;
    Matrix<float, 2, 3>  _S1101 = makeMatrix<float, 2, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1102;
    (&_S1102)->primal_0 = _S907;
    (&_S1102)->differential_0 = _S1101;
    Matrix<float, 3, 2>  _S1103 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S1104;
    (&_S1104)->primal_0 = _S908;
    (&_S1104)->differential_0 = _S1103;
    s_bwd_prop_mul_2(&_S1102, &_S1104, _S1100);
    Matrix<float, 2, 3>  _S1105 = transpose_2(_S1104.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1106;
    (&_S1106)->primal_0 = J_8;
    (&_S1106)->differential_0 = _S1101;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1107;
    (&_S1107)->primal_0 = _S889;
    (&_S1107)->differential_0 = _S1023;
    s_bwd_prop_mul_3(&_S1106, &_S1107, _S1102.differential_0);
    Matrix<float, 2, 3>  _S1108 = _S1105 + _S1106.differential_0;
    float _S1109 = _S906 * _S1108.rows[int(1)].z;
    float s_diff_ty_T_0 = _S905 * (rz2_3 * _S1108.rows[int(1)].z);
    float _S1110 = fy_17 * _S1108.rows[int(1)].y;
    float _S1111 = _S904 * _S1108.rows[int(0)].z;
    float s_diff_tx_T_0 = _S903 * (rz2_3 * _S1108.rows[int(0)].z);
    float _S1112 = fx_17 * _S1108.rows[int(0)].x;
    float _S1113 = mean_c_10.z * s_diff_ty_T_0;
    float _S1114 = _S902 * s_diff_ty_T_0;
    DiffPair_float_0 _S1115;
    (&_S1115)->primal_0 = lim_y_pos_2;
    (&_S1115)->differential_0 = 0.0f;
    DiffPair_float_0 _S1116;
    (&_S1116)->primal_0 = _S901;
    (&_S1116)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1115, &_S1116, _S1113);
    DiffPair_float_0 _S1117;
    (&_S1117)->primal_0 = _S899;
    (&_S1117)->differential_0 = 0.0f;
    DiffPair_float_0 _S1118;
    (&_S1118)->primal_0 = _S900;
    (&_S1118)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1117, &_S1118, _S1116.differential_0);
    float _S1119 = mean_c_10.y * _S1118.differential_0;
    float _S1120 = rz_3 * _S1118.differential_0;
    float _S1121 = mean_c_10.z * s_diff_tx_T_0;
    float _S1122 = _S898 * s_diff_tx_T_0;
    DiffPair_float_0 _S1123;
    (&_S1123)->primal_0 = lim_x_pos_2;
    (&_S1123)->differential_0 = 0.0f;
    DiffPair_float_0 _S1124;
    (&_S1124)->primal_0 = _S897;
    (&_S1124)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1123, &_S1124, _S1121);
    DiffPair_float_0 _S1125;
    (&_S1125)->primal_0 = _S895;
    (&_S1125)->differential_0 = 0.0f;
    DiffPair_float_0 _S1126;
    (&_S1126)->primal_0 = _S896;
    (&_S1126)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1125, &_S1126, _S1124.differential_0);
    float _S1127 = rz_3 * (_S1109 + _S1111);
    float _S1128 = _S1114 + _S1122 + - ((_S1095 + _S1097 + _S1110 + _S1112 + _S1119 + mean_c_10.x * _S1126.differential_0 + _S1127 + _S1127) / _S894);
    float _S1129 = _S1096 + _S1120;
    float _S1130 = _S1098 + rz_3 * _S1126.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1131;
    (&_S1131)->primal_0 = _S887;
    (&_S1131)->differential_0 = _S1023;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1132;
    (&_S1132)->primal_0 = _S888;
    (&_S1132)->differential_0 = _S1023;
    s_bwd_prop_mul_4(&_S1131, &_S1132, _S1107.differential_0);
    Matrix<float, 3, 3>  _S1133 = transpose_0(_S1132.differential_0 + _S1026.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1134;
    (&_S1134)->primal_0 = R_17;
    (&_S1134)->differential_0 = _S1023;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1135;
    (&_S1135)->primal_0 = _S886;
    (&_S1135)->differential_0 = _S1023;
    s_bwd_prop_mul_4(&_S1134, &_S1135, _S1131.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1136;
    (&_S1136)->primal_0 = _S884;
    (&_S1136)->differential_0 = _S1023;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1137;
    (&_S1137)->primal_0 = _S885;
    (&_S1137)->differential_0 = _S1023;
    s_bwd_prop_mul_4(&_S1136, &_S1137, _S1135.differential_0);
    Matrix<float, 3, 3>  _S1138 = _S1136.differential_0 + transpose_0(_S1137.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1139;
    (&_S1139)->primal_0 = _S883;
    (&_S1139)->differential_0 = _S1023;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1140;
    (&_S1140)->primal_0 = S_0;
    (&_S1140)->differential_0 = _S1023;
    s_bwd_prop_mul_4(&_S1139, &_S1140, _S1138);
    Matrix<float, 3, 3>  _S1141 = transpose_0(_S1139.differential_0);
    float _S1142 = 2.0f * - _S1141.rows[int(2)].z;
    float _S1143 = 2.0f * _S1141.rows[int(2)].y;
    float _S1144 = 2.0f * _S1141.rows[int(2)].x;
    float _S1145 = 2.0f * _S1141.rows[int(1)].z;
    float _S1146 = 2.0f * - _S1141.rows[int(1)].y;
    float _S1147 = 2.0f * _S1141.rows[int(1)].x;
    float _S1148 = 2.0f * _S1141.rows[int(0)].z;
    float _S1149 = 2.0f * _S1141.rows[int(0)].y;
    float _S1150 = 2.0f * - _S1141.rows[int(0)].x;
    float _S1151 = - _S1147 + _S1149;
    float _S1152 = _S1144 + - _S1148;
    float _S1153 = - _S1143 + _S1145;
    float _S1154 = _S1143 + _S1145;
    float _S1155 = _S1144 + _S1148;
    float _S1156 = _S1147 + _S1149;
    float _S1157 = quat_14.w * (_S1146 + _S1150);
    float _S1158 = quat_14.z * (_S1142 + _S1150);
    float _S1159 = quat_14.y * (_S1142 + _S1146);
    float _S1160 = quat_14.x * _S1151 + quat_14.z * _S1154 + quat_14.y * _S1155 + _S1157 + _S1157;
    float _S1161 = quat_14.x * _S1152 + quat_14.w * _S1154 + quat_14.y * _S1156 + _S1158 + _S1158;
    float _S1162 = quat_14.x * _S1153 + quat_14.w * _S1155 + quat_14.z * _S1156 + _S1159 + _S1159;
    float _S1163 = quat_14.w * _S1151 + quat_14.z * _S1152 + quat_14.y * _S1153;
    float3  _S1164 = _S961;
    *&((&_S1164)->z) = _S1140.differential_0.rows[int(2)].z;
    *&((&_S1164)->y) = _S1140.differential_0.rows[int(1)].y;
    *&((&_S1164)->x) = _S1140.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1165;
    (&_S1165)->primal_0 = scale_13;
    (&_S1165)->differential_0 = _S961;
    s_bwd_prop_exp_1(&_S1165, _S1164);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1166 = _S1165;
    float3  _S1167 = _S961;
    *&((&_S1167)->z) = _S1128;
    *&((&_S1167)->y) = _S1129;
    *&((&_S1167)->x) = _S1130;
    float3  _S1168 = _S1063 + _S1167;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1169;
    (&_S1169)->primal_0 = R_17;
    (&_S1169)->differential_0 = _S1023;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1170;
    (&_S1170)->primal_0 = mean_11;
    (&_S1170)->differential_0 = _S961;
    s_bwd_prop_mul_1(&_S1169, &_S1170, _S1168);
    float3  _S1171 = _S1168 + _S1027.differential_0;
    Matrix<float, 3, 3>  _S1172 = _S1133 + _S1134.differential_0 + _S1169.differential_0;
    float4  _S1173 = make_float4 (0.0f);
    *&((&_S1173)->w) = _S1160;
    *&((&_S1173)->z) = _S1161;
    *&((&_S1173)->y) = _S1162;
    *&((&_S1173)->x) = _S1163;
    float4  _S1174 = _S1173;
    float3  _S1175 = _S1170.differential_0 + _S1021;
    *v_mean_0 = _S1175;
    *v_quat_0 = _S1174;
    *v_scale_0 = _S1166.differential_0;
    *v_in_opacity_0 = _S1070;
    (*v_sh_coeffs_0)[int(0)] = _S1047;
    (*v_sh_coeffs_0)[int(1)] = _S1048;
    (*v_sh_coeffs_0)[int(2)] = _S1049;
    (*v_sh_coeffs_0)[int(3)] = _S1050;
    (*v_sh_coeffs_0)[int(4)] = _S1051;
    (*v_sh_coeffs_0)[int(5)] = _S1052;
    (*v_sh_coeffs_0)[int(6)] = _S1053;
    (*v_sh_coeffs_0)[int(7)] = _S1054;
    (*v_sh_coeffs_0)[int(8)] = _S1055;
    (*v_sh_coeffs_0)[int(9)] = _S1056;
    (*v_sh_coeffs_0)[int(10)] = _S1057;
    (*v_sh_coeffs_0)[int(11)] = _S1058;
    (*v_sh_coeffs_0)[int(12)] = _S1059;
    (*v_sh_coeffs_0)[int(13)] = _S1060;
    (*v_sh_coeffs_0)[int(14)] = _S1061;
    (*v_sh_coeffs_0)[int(15)] = _S1062;
    *v_R_2 = _S1172;
    *v_t_1 = _S1171;
    return;
}

struct s_bwd_prop_s_bwd_prop_atan2_Intermediates_0
{
    DiffPair_float_0 _S1176;
    DiffPair_float_0 _S1177;
};

struct s_bwd_prop_fisheye_proj_3dgs_Intermediates_0
{
    DiffPair_float_0 _S1178;
    DiffPair_float_0 _S1179;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1180;
    DiffPair_float_0 _S1181;
    DiffPair_float_0 _S1182;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1183;
};

struct s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S1184;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S1185;
};

inline __device__ float s_primal_ctx_s_primal_ctx_atan2_0(float _S1186, float _S1187)
{
    return s_primal_ctx_atan2_0(_S1186, _S1187);
}

struct s_bwd_prop_d_atan2_Intermediates_0
{
    DiffPair_float_0 _S1188;
    DiffPair_float_0 _S1189;
};

inline __device__ void s_primal_ctx_d_atan2_0(DiffPair_float_0 * dpdpy_0, DiffPair_float_0 * dpdpx_0, float dpdOut_0, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_0)
{
    DiffPair_float_0 _S1190 = { 0.0f, 0.0f };
    _s_diff_ctx_0->_S1188 = _S1190;
    _s_diff_ctx_0->_S1189 = _S1190;
    (&_s_diff_ctx_0->_S1188)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1188)->differential_0 = 0.0f;
    (&_s_diff_ctx_0->_S1189)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1189)->differential_0 = 0.0f;
    DiffPair_float_0 _S1191 = *dpdpy_0;
    _s_diff_ctx_0->_S1188 = *dpdpy_0;
    DiffPair_float_0 _S1192 = *dpdpx_0;
    _s_diff_ctx_0->_S1189 = *dpdpx_0;
    float _S1193 = _S1192.primal_0 * _S1192.primal_0 + _S1191.primal_0 * _S1191.primal_0;
    float _S1194 = - _S1191.primal_0 / _S1193 * dpdOut_0;
    float _S1195 = _S1192.primal_0 / _S1193 * dpdOut_0;
    dpdpy_0->primal_0 = _S1191.primal_0;
    dpdpy_0->differential_0 = _S1195;
    dpdpx_0->primal_0 = _S1192.primal_0;
    dpdpx_0->differential_0 = _S1194;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_atan2_0(DiffPair_float_0 * _S1196, DiffPair_float_0 * _S1197, float _S1198, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_1)
{
    DiffPair_float_0 _S1199 = { 0.0f, 0.0f };
    _s_diff_ctx_1->_S1176 = _S1199;
    _s_diff_ctx_1->_S1177 = _S1199;
    (&_s_diff_ctx_1->_S1176)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1176)->differential_0 = 0.0f;
    (&_s_diff_ctx_1->_S1177)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1177)->differential_0 = 0.0f;
    DiffPair_float_0 _S1200 = *_S1196;
    _s_diff_ctx_1->_S1176 = *_S1196;
    DiffPair_float_0 _S1201 = *_S1197;
    _s_diff_ctx_1->_S1177 = *_S1197;
    DiffPair_float_0 _S1202 = _S1200;
    DiffPair_float_0 _S1203 = _S1201;
    s_bwd_prop_d_atan2_Intermediates_0 _S1204;
    (&_S1204)->_S1188 = _S1199;
    (&_S1204)->_S1189 = _S1199;
    s_primal_ctx_d_atan2_0(&_S1202, &_S1203, _S1198, &_S1204);
    *_S1196 = _S1202;
    *_S1197 = _S1203;
    return;
}

struct s_bwd_prop_s_bwd_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1205;
};

struct s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1206;
};

struct s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1207;
    DiffPair_float_0 _S1208;
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1209;
};

struct s_bwd_prop_d_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1210;
};

inline __device__ void s_primal_ctx_d_sqrt_0(DiffPair_float_0 * dpdpx_1, float dpdOut_1, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_2)
{
    DiffPair_float_0 _S1211 = { 0.0f, 0.0f };
    _s_diff_ctx_2->_S1210 = _S1211;
    (&_s_diff_ctx_2->_S1210)->primal_0 = 0.0f;
    (&_s_diff_ctx_2->_S1210)->differential_0 = 0.0f;
    DiffPair_float_0 _S1212 = *dpdpx_1;
    _s_diff_ctx_2->_S1210 = *dpdpx_1;
    float _S1213 = 0.5f / s_primal_ctx_sqrt_0(s_primal_ctx_max_0(1.00000001168609742e-07f, _S1212.primal_0)) * dpdOut_1;
    dpdpx_1->primal_0 = _S1212.primal_0;
    dpdpx_1->differential_0 = _S1213;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_sqrt_0(DiffPair_float_0 * _S1214, float _S1215, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_3)
{
    DiffPair_float_0 _S1216 = { 0.0f, 0.0f };
    _s_diff_ctx_3->_S1206 = _S1216;
    (&_s_diff_ctx_3->_S1206)->primal_0 = 0.0f;
    (&_s_diff_ctx_3->_S1206)->differential_0 = 0.0f;
    DiffPair_float_0 _S1217 = *_S1214;
    _s_diff_ctx_3->_S1206 = *_S1214;
    DiffPair_float_0 _S1218 = _S1217;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1219;
    (&_S1219)->_S1210 = _S1216;
    s_primal_ctx_d_sqrt_0(&_S1218, _S1215, &_S1219);
    *_S1214 = _S1218;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_2, float dp_s_dOut_0, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_4)
{
    float2  _S1220 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1221 = { _S1220, _S1220 };
    DiffPair_float_0 _S1222 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1223 = { _S1222 };
    _s_diff_ctx_4->_S1207 = _S1221;
    _s_diff_ctx_4->_S1208 = _S1222;
    _s_diff_ctx_4->_S1209 = _S1223;
    (&_s_diff_ctx_4->_S1207)->primal_0 = _S1220;
    (&_s_diff_ctx_4->_S1207)->differential_0 = _S1220;
    (&_s_diff_ctx_4->_S1208)->primal_0 = 0.0f;
    (&_s_diff_ctx_4->_S1208)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1224 = *dpdpx_2;
    _s_diff_ctx_4->_S1207 = *dpdpx_2;
    float _S1225 = _S1224.primal_0.x;
    float _S1226 = _S1224.primal_0.y;
    DiffPair_float_0 _S1227;
    (&_S1227)->primal_0 = _S1225 * _S1225 + _S1226 * _S1226;
    (&_S1227)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_sqrt_0(&_S1227, dp_s_dOut_0, &_s_diff_ctx_4->_S1209);
    _s_diff_ctx_4->_S1208 = _S1227;
    float _S1228 = _S1224.primal_0.y * _S1227.differential_0;
    float _S1229 = _S1228 + _S1228;
    float _S1230 = _S1224.primal_0.x * _S1227.differential_0;
    float _S1231 = _S1230 + _S1230;
    float2  _S1232 = _S1220;
    *&((&_S1232)->y) = _S1229;
    *&((&_S1232)->x) = _S1231;
    dpdpx_2->primal_0 = _S1224.primal_0;
    dpdpx_2->differential_0 = _S1232;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S1233, float _S1234, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_5)
{
    float2  _S1235 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1236 = { _S1235, _S1235 };
    _s_diff_ctx_5->_S1205 = _S1236;
    (&_s_diff_ctx_5->_S1205)->primal_0 = _S1235;
    (&_s_diff_ctx_5->_S1205)->differential_0 = _S1235;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1237 = *_S1233;
    _s_diff_ctx_5->_S1205 = *_S1233;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1238 = _S1237;
    DiffPair_float_0 _S1239 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1240 = { _S1239 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1241;
    (&_S1241)->_S1207 = _S1236;
    (&_S1241)->_S1208 = _S1239;
    (&_S1241)->_S1209 = _S1240;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1238, _S1234, &_S1241);
    *_S1233 = _S1238;
    return;
}

inline __device__ bool s_primal_ctx_fisheye_proj_3dgs_0(float3  dpmean3d_0, Matrix<float, 3, 3>  dpcov3d_0, float4  dpintrins_0, FixedArray<float, 10>  * dpdist_coeffs_0, Matrix<float, 2, 2>  * dpcov2d_0, float2  * dpmean2d_0, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_6)
{
    DiffPair_float_0 _S1242 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1243 = { _S1242, _S1242 };
    _s_diff_ctx_6->_S1178 = _S1242;
    _s_diff_ctx_6->_S1179 = _S1242;
    _s_diff_ctx_6->_S1180 = _S1243;
    _s_diff_ctx_6->_S1181 = _S1242;
    _s_diff_ctx_6->_S1182 = _S1242;
    _s_diff_ctx_6->_S1183 = _S1243;
    (&_s_diff_ctx_6->_S1178)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1178)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1179)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1179)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1181)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1181)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1182)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1182)->differential_0 = 0.0f;
    float2  _S1244 = make_float2 (0.0f);
    float2  _S1245 = float2 {dpmean3d_0.x, dpmean3d_0.y};
    float _S1246 = length_0(_S1245);
    float _S1247 = dpmean3d_0.z;
    float _S1248 = s_primal_ctx_atan2_0(_S1246, _S1247);
    float k_4;
    if(_S1248 < 0.00100000004749745f)
    {
        k_4 = (1.0f - _S1248 * _S1248 / 3.0f) / _S1247;
    }
    else
    {
        k_4 = _S1248 / _S1246;
    }
    float2  _S1249 = _S1245 * make_float2 (k_4);
    float u_38 = _S1249.x;
    float v_38 = _S1249.y;
    float r2_38 = u_38 * u_38 + v_38 * v_38;
    float _S1250 = 2.0f * (*dpdist_coeffs_0)[int(4)];
    float _S1251 = 2.0f * (*dpdist_coeffs_0)[int(5)];
    float2  _S1252 = _S1249 * make_float2 (1.0f + r2_38 * ((*dpdist_coeffs_0)[int(0)] + r2_38 * ((*dpdist_coeffs_0)[int(1)] + r2_38 * ((*dpdist_coeffs_0)[int(2)] + r2_38 * (*dpdist_coeffs_0)[int(3)])))) + make_float2 (_S1250 * u_38 * v_38 + (*dpdist_coeffs_0)[int(5)] * (r2_38 + 2.0f * u_38 * u_38) + (*dpdist_coeffs_0)[int(6)] * r2_38, _S1251 * u_38 * v_38 + (*dpdist_coeffs_0)[int(4)] * (r2_38 + 2.0f * v_38 * v_38) + (*dpdist_coeffs_0)[int(7)] * r2_38);
    float2  _S1253 = _S1252 + make_float2 ((*dpdist_coeffs_0)[int(8)] * _S1252.x + (*dpdist_coeffs_0)[int(9)] * _S1252.y, 0.0f);
    float fx_18 = dpintrins_0.x;
    float fy_18 = dpintrins_0.y;
    float2  _S1254 = make_float2 (fx_18 * _S1253.x + dpintrins_0.z, fy_18 * _S1253.y + dpintrins_0.w);
    Matrix<float, 2, 3>  J_9 = makeMatrix<float, 2, 3> (0.0f);
    float _S1255 = s_primal_ctx_s_primal_ctx_atan2_0(_S1246, _S1247);
    bool _S1256 = _S1255 < 0.00100000004749745f;
    float _S1257;
    float _S1258;
    float _S1259;
    if(_S1256)
    {
        float _S1260 = 1.0f - _S1255 * _S1255 / 3.0f;
        float _S1261 = _S1247 * _S1247;
        k_4 = _S1260 / _S1247;
        _S1257 = 0.0f;
        _S1258 = _S1261;
        _S1259 = _S1260;
    }
    else
    {
        float _S1262 = _S1246 * _S1246;
        k_4 = _S1255 / _S1246;
        _S1257 = _S1262;
        _S1258 = 0.0f;
        _S1259 = 0.0f;
    }
    float2  _S1263 = make_float2 (k_4);
    float2  _S1264 = _S1245 * make_float2 (k_4);
    float u_39 = _S1264.x;
    float v_39 = _S1264.y;
    float r2_39 = u_39 * u_39 + v_39 * v_39;
    float _S1265 = (*dpdist_coeffs_0)[int(2)] + r2_39 * (*dpdist_coeffs_0)[int(3)];
    float _S1266 = (*dpdist_coeffs_0)[int(1)] + r2_39 * _S1265;
    float _S1267 = (*dpdist_coeffs_0)[int(0)] + r2_39 * _S1266;
    float2  _S1268 = make_float2 (fx_18, 0.0f) + make_float2 ((*dpdist_coeffs_0)[int(8)] * fx_18, (*dpdist_coeffs_0)[int(9)] * fx_18);
    float2  _S1269 = _S1264 * _S1268;
    float _S1270 = (*dpdist_coeffs_0)[int(4)] * _S1268.y;
    float _S1271 = (*dpdist_coeffs_0)[int(5)] * _S1268.x;
    float _S1272 = _S1269.x + _S1269.y;
    float _S1273 = r2_39 * _S1272;
    float _S1274 = r2_39 * _S1273;
    float _S1275 = (*dpdist_coeffs_0)[int(7)] * _S1268.y + _S1270 + (*dpdist_coeffs_0)[int(6)] * _S1268.x + _S1271 + _S1267 * _S1272 + _S1266 * _S1273 + _S1265 * _S1274 + (*dpdist_coeffs_0)[int(3)] * (r2_39 * _S1274);
    float _S1276 = v_39 * _S1275;
    float _S1277 = u_39 * _S1275;
    float2  _S1278 = make_float2 (1.0f + r2_39 * _S1267) * _S1268 + make_float2 (_S1251 * (v_39 * _S1268.y) + 2.0f * u_39 * _S1271 + 2.0f * (u_39 * _S1271) + _S1250 * (v_39 * _S1268.x) + _S1277 + _S1277, 2.0f * v_39 * _S1270 + 2.0f * (v_39 * _S1270) + _S1251 * u_39 * _S1268.y + _S1250 * u_39 * _S1268.x + _S1276 + _S1276);
    float2  _S1279 = _S1245 * _S1278;
    float2  _S1280 = _S1263 * _S1278;
    float _S1281 = _S1279.x + _S1279.y;
    if(_S1256)
    {
        float _S1282 = _S1281 / _S1258;
        float _S1283 = _S1259 * - _S1282;
        float _S1284 = _S1255 * (0.3333333432674408f * - (_S1247 * _S1282));
        k_4 = _S1284 + _S1284;
        _S1257 = _S1283;
        _S1258 = 0.0f;
    }
    else
    {
        float _S1285 = _S1281 / _S1257;
        float _S1286 = _S1255 * - _S1285;
        k_4 = _S1246 * _S1285;
        _S1257 = 0.0f;
        _S1258 = _S1286;
    }
    DiffPair_float_0 _S1287;
    (&_S1287)->primal_0 = _S1246;
    (&_S1287)->differential_0 = 0.0f;
    DiffPair_float_0 _S1288;
    (&_S1288)->primal_0 = _S1247;
    (&_S1288)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1287, &_S1288, k_4, &_s_diff_ctx_6->_S1180);
    _s_diff_ctx_6->_S1178 = _S1287;
    _s_diff_ctx_6->_S1179 = _S1288;
    float _S1289 = _S1288.differential_0 + _S1257;
    float _S1290 = _S1287.differential_0 + _S1258;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1291;
    (&_S1291)->primal_0 = _S1245;
    (&_S1291)->differential_0 = _S1244;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1292 = { _S1244, _S1244 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1293;
    (&_S1293)->_S1205 = _S1292;
    s_primal_ctx_s_bwd_length_impl_0(&_S1291, _S1290, &_S1293);
    float2  _S1294 = _S1291.differential_0 + _S1280;
    float3  _S1295 = make_float3 (_S1294.x, _S1294.y, _S1289);
    Matrix<float, 2, 3>  _S1296 = J_9;
    _S1296[int(0)] = _S1295;
    if(_S1256)
    {
        float _S1297 = 1.0f - _S1255 * _S1255 / 3.0f;
        float _S1298 = _S1247 * _S1247;
        k_4 = _S1297 / _S1247;
        _S1257 = 0.0f;
        _S1258 = _S1298;
        _S1259 = _S1297;
    }
    else
    {
        float _S1299 = _S1246 * _S1246;
        k_4 = _S1255 / _S1246;
        _S1257 = _S1299;
        _S1258 = 0.0f;
        _S1259 = 0.0f;
    }
    float2  _S1300 = make_float2 (k_4);
    float2  _S1301 = _S1245 * make_float2 (k_4);
    float u_40 = _S1301.x;
    float v_40 = _S1301.y;
    float r2_40 = u_40 * u_40 + v_40 * v_40;
    float _S1302 = (*dpdist_coeffs_0)[int(2)] + r2_40 * (*dpdist_coeffs_0)[int(3)];
    float _S1303 = (*dpdist_coeffs_0)[int(1)] + r2_40 * _S1302;
    float _S1304 = (*dpdist_coeffs_0)[int(0)] + r2_40 * _S1303;
    float2  _S1305 = make_float2 (0.0f, fy_18);
    float2  _S1306 = _S1301 * _S1305;
    float _S1307 = (*dpdist_coeffs_0)[int(4)] * fy_18;
    float _S1308 = _S1306.x + _S1306.y;
    float _S1309 = r2_40 * _S1308;
    float _S1310 = r2_40 * _S1309;
    float _S1311 = (*dpdist_coeffs_0)[int(7)] * fy_18 + _S1307 + _S1304 * _S1308 + _S1303 * _S1309 + _S1302 * _S1310 + (*dpdist_coeffs_0)[int(3)] * (r2_40 * _S1310);
    float _S1312 = v_40 * _S1311;
    float _S1313 = u_40 * _S1311;
    float2  _S1314 = make_float2 (1.0f + r2_40 * _S1304) * _S1305 + make_float2 (_S1251 * (v_40 * fy_18) + _S1313 + _S1313, 2.0f * v_40 * _S1307 + 2.0f * (v_40 * _S1307) + _S1251 * u_40 * fy_18 + _S1312 + _S1312);
    float2  _S1315 = _S1245 * _S1314;
    float2  _S1316 = _S1300 * _S1314;
    float _S1317 = _S1315.x + _S1315.y;
    if(_S1256)
    {
        float _S1318 = _S1317 / _S1258;
        float _S1319 = _S1259 * - _S1318;
        float _S1320 = _S1255 * (0.3333333432674408f * - (_S1247 * _S1318));
        k_4 = _S1320 + _S1320;
        _S1257 = _S1319;
        _S1258 = 0.0f;
    }
    else
    {
        float _S1321 = _S1317 / _S1257;
        float _S1322 = _S1255 * - _S1321;
        k_4 = _S1246 * _S1321;
        _S1257 = 0.0f;
        _S1258 = _S1322;
    }
    DiffPair_float_0 _S1323;
    (&_S1323)->primal_0 = _S1246;
    (&_S1323)->differential_0 = 0.0f;
    DiffPair_float_0 _S1324;
    (&_S1324)->primal_0 = _S1247;
    (&_S1324)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1323, &_S1324, k_4, &_s_diff_ctx_6->_S1183);
    _s_diff_ctx_6->_S1181 = _S1323;
    _s_diff_ctx_6->_S1182 = _S1324;
    float _S1325 = _S1324.differential_0 + _S1257;
    float _S1326 = _S1323.differential_0 + _S1258;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1327;
    (&_S1327)->primal_0 = _S1245;
    (&_S1327)->differential_0 = _S1244;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1328;
    (&_S1328)->_S1205 = _S1292;
    s_primal_ctx_s_bwd_length_impl_0(&_S1327, _S1326, &_S1328);
    float2  _S1329 = _S1327.differential_0 + _S1316;
    float3  _S1330 = make_float3 (_S1329.x, _S1329.y, _S1325);
    _S1296[int(1)] = _S1330;
    *dpcov2d_0 = s_primal_ctx_mul_3(s_primal_ctx_mul_2(_S1296, dpcov3d_0), transpose_1(_S1296));
    *dpmean2d_0 = _S1254;
    return true;
}

struct DiffPair_vectorx3Cfloatx2C4x3E_0
{
    float4  primal_0;
    float4  differential_0;
};

struct DiffPair_arrayx3Cfloatx2C10x3E_0
{
    FixedArray<float, 10>  primal_0;
    FixedArray<float, 10>  differential_0;
};

struct DiffPair_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 primal_0;
    DiffPair_vectorx3Cfloatx2C2x3E_0 differential_0;
};

struct DiffPair_1
{
    DiffPair_float_0 primal_0;
    DiffPair_float_0 differential_0;
};

inline __device__ void s_bwd_prop_d_sqrt_0(DiffPair_1 * dpdpx_3, DiffPair_float_0 * dpdOut_2, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_7)
{
    DiffPair_1 _S1331 = *dpdpx_3;
    float _S1332 = s_primal_ctx_max_0(1.00000001168609742e-07f, (&_s_diff_ctx_7->_S1210)->primal_0);
    float _S1333 = s_primal_ctx_sqrt_0(_S1332);
    float _S1334 = 0.5f / _S1333 * (*dpdpx_3).differential_0.differential_0;
    float _S1335 = 0.5f * - ((*dpdOut_2).primal_0 * (*dpdpx_3).differential_0.differential_0 / (_S1333 * _S1333));
    DiffPair_float_0 _S1336;
    (&_S1336)->primal_0 = _S1332;
    (&_S1336)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1336, _S1335);
    DiffPair_float_0 _S1337;
    (&_S1337)->primal_0 = 1.00000001168609742e-07f;
    (&_S1337)->differential_0 = 0.0f;
    DiffPair_float_0 _S1338;
    (&_S1338)->primal_0 = (&_s_diff_ctx_7->_S1210)->primal_0;
    (&_S1338)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1337, &_S1338, _S1336.differential_0);
    DiffPair_float_0 dpdpx_4 = { _S1338.differential_0 + (*dpdpx_3).differential_0.primal_0, 0.0f };
    dpdOut_2->primal_0 = (*dpdOut_2).primal_0;
    dpdOut_2->differential_0 = _S1334;
    dpdpx_3->primal_0 = _S1331.primal_0;
    dpdpx_3->differential_0 = dpdpx_4;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_sqrt_0(DiffPair_1 * _S1339, DiffPair_float_0 * _S1340, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_8)
{
    DiffPair_1 _S1341 = *_S1339;
    DiffPair_float_0 _S1342 = _s_diff_ctx_8->_S1206;
    DiffPair_float_0 _S1343 = { 0.0f, 0.0f };
    s_bwd_prop_d_sqrt_Intermediates_0 _S1344;
    (&_S1344)->_S1210 = _S1343;
    s_primal_ctx_d_sqrt_0(&_S1342, (*_S1340).primal_0, &_S1344);
    DiffPair_float_0 _S1345 = { (*_S1339).differential_0.primal_0, (*_S1339).differential_0.differential_0 };
    DiffPair_1 _S1346;
    (&_S1346)->primal_0 = _s_diff_ctx_8->_S1206;
    (&_S1346)->differential_0 = _S1345;
    DiffPair_float_0 _S1347;
    (&_S1347)->primal_0 = (*_S1340).primal_0;
    (&_S1347)->differential_0 = 0.0f;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1348 = _S1344;
    s_bwd_prop_d_sqrt_0(&_S1346, &_S1347, &_S1348);
    DiffPair_float_0 _S1349 = { _S1346.differential_0.primal_0, _S1346.differential_0.differential_0 };
    _S1340->primal_0 = (*_S1340).primal_0;
    _S1340->differential_0 = _S1347.differential_0;
    _S1339->primal_0 = _S1341.primal_0;
    _S1339->differential_0 = _S1349;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_sqrt_0(DiffPair_float_0 * _S1350, float _s_dOut_3)
{
    DiffPair_float_0 _S1351;
    (&_S1351)->primal_0 = (*_S1350).primal_0;
    (&_S1351)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1351, _s_dOut_3);
    _S1350->primal_0 = (*_S1350).primal_0;
    _S1350->differential_0 = _S1351.differential_0;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_length_impl_0(DiffPair_0 * dpdpx_5, DiffPair_float_0 * dp_s_dOut_1, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_9)
{
    DiffPair_0 _S1352 = *dpdpx_5;
    float len_0 = *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->x) * *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->x) + *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->y) * *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->y);
    DiffPair_float_0 _S1353 = { len_0, 0.0f };
    float2  _S1354 = make_float2 (0.0f);
    float _S1355 = (*dpdpx_5).differential_0.differential_0.x;
    float _S1356 = _S1355 + _S1355;
    float _S1357 = (&_s_diff_ctx_9->_S1208)->differential_0 * _S1356;
    float _S1358 = (*dpdpx_5).differential_0.differential_0.y + (*dpdpx_5).differential_0.differential_0.y;
    float _S1359 = (&_s_diff_ctx_9->_S1208)->differential_0 * _S1358;
    DiffPair_float_0 _S1360 = { 0.0f, *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->x) * _S1356 + *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->y) * _S1358 };
    DiffPair_1 _S1361;
    (&_S1361)->primal_0 = _S1353;
    (&_S1361)->differential_0 = _S1360;
    DiffPair_float_0 _S1362;
    (&_S1362)->primal_0 = (*dp_s_dOut_1).primal_0;
    (&_S1362)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_sqrt_0(&_S1361, &_S1362, &_s_diff_ctx_9->_S1209);
    DiffPair_float_0 _S1363;
    (&_S1363)->primal_0 = len_0;
    (&_S1363)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1363, 0.0f);
    float _S1364 = _S1361.differential_0.primal_0 + _S1363.differential_0;
    float _S1365 = *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->y) * _S1364;
    float _S1366 = _S1359 + _S1365 + _S1365;
    float _S1367 = *&((&(&_s_diff_ctx_9->_S1207)->primal_0)->x) * _S1364;
    float _S1368 = _S1357 + _S1367 + _S1367;
    float2  _S1369 = _S1354;
    *&((&_S1369)->y) = _S1366;
    *&((&_S1369)->x) = _S1368;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dpdpx_6 = { _S1352.differential_0.primal_0 + _S1369, _S1354 };
    dp_s_dOut_1->primal_0 = (*dp_s_dOut_1).primal_0;
    dp_s_dOut_1->differential_0 = _S1362.differential_0;
    dpdpx_5->primal_0 = _S1352.primal_0;
    dpdpx_5->differential_0 = dpdpx_6;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_7, float _s_dOut_4)
{
    float _S1370 = (*dpdpx_7).primal_0.x;
    float _S1371 = (*dpdpx_7).primal_0.y;
    DiffPair_float_0 _S1372;
    (&_S1372)->primal_0 = _S1370 * _S1370 + _S1371 * _S1371;
    (&_S1372)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1372, _s_dOut_4);
    float _S1373 = (*dpdpx_7).primal_0.y * _S1372.differential_0;
    float _S1374 = _S1373 + _S1373;
    float _S1375 = (*dpdpx_7).primal_0.x * _S1372.differential_0;
    float _S1376 = _S1375 + _S1375;
    float2  _S1377 = make_float2 (0.0f);
    *&((&_S1377)->y) = _S1374;
    *&((&_S1377)->x) = _S1376;
    dpdpx_7->primal_0 = (*dpdpx_7).primal_0;
    dpdpx_7->differential_0 = _S1377;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_length_impl_0(DiffPair_0 * _S1378, DiffPair_float_0 * _S1379, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_10)
{
    DiffPair_0 _S1380 = *_S1378;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1381 = _s_diff_ctx_10->_S1205;
    float2  _S1382 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1383 = { _S1382, _S1382 };
    DiffPair_float_0 _S1384 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1385 = { _S1384 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1386;
    (&_S1386)->_S1207 = _S1383;
    (&_S1386)->_S1208 = _S1384;
    (&_S1386)->_S1209 = _S1385;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1381, (*_S1379).primal_0, &_S1386);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1387 = { (*_S1378).differential_0.primal_0, (*_S1378).differential_0.differential_0 };
    DiffPair_0 _S1388;
    (&_S1388)->primal_0 = _s_diff_ctx_10->_S1205;
    (&_S1388)->differential_0 = _S1387;
    DiffPair_float_0 _S1389;
    (&_S1389)->primal_0 = (*_S1379).primal_0;
    (&_S1389)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1390 = _S1386;
    s_bwd_prop_s_bwd_prop_length_impl_0(&_S1388, &_S1389, &_S1390);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1391;
    (&_S1391)->primal_0 = (&_s_diff_ctx_10->_S1205)->primal_0;
    (&_S1391)->differential_0 = _S1382;
    s_bwd_prop_s_primal_ctx_length_impl_0(&_S1391, 0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1392 = { _S1388.differential_0.primal_0 + _S1391.differential_0, _S1388.differential_0.differential_0 };
    _S1379->primal_0 = (*_S1379).primal_0;
    _S1379->differential_0 = _S1389.differential_0;
    _S1378->primal_0 = _S1380.primal_0;
    _S1378->differential_0 = _S1392;
    return;
}

inline __device__ void s_bwd_prop_d_atan2_0(DiffPair_1 * dpdpy_1, DiffPair_1 * dpdpx_8, DiffPair_float_0 * dpdOut_3, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_11)
{
    DiffPair_1 _S1393 = *dpdpy_1;
    DiffPair_1 _S1394 = *dpdpx_8;
    float _S1395 = - (&_s_diff_ctx_11->_S1188)->primal_0;
    float _S1396 = (&_s_diff_ctx_11->_S1189)->primal_0 * (&_s_diff_ctx_11->_S1189)->primal_0 + (&_s_diff_ctx_11->_S1188)->primal_0 * (&_s_diff_ctx_11->_S1188)->primal_0;
    float _S1397 = _S1396 * _S1396;
    float _S1398 = (*dpdOut_3).primal_0 * (*dpdpy_1).differential_0.differential_0 / _S1397;
    float _S1399 = (&_s_diff_ctx_11->_S1189)->primal_0 * - _S1398;
    float _S1400 = (&_s_diff_ctx_11->_S1188)->primal_0 * _S1399;
    float _S1401 = (&_s_diff_ctx_11->_S1189)->primal_0 * _S1399;
    float _S1402 = (*dpdOut_3).primal_0 * (*dpdpx_8).differential_0.differential_0 / _S1397;
    float _S1403 = _S1395 * - _S1402;
    float _S1404 = (&_s_diff_ctx_11->_S1188)->primal_0 * _S1403;
    float _S1405 = (&_s_diff_ctx_11->_S1189)->primal_0 * _S1403;
    DiffPair_float_0 dpdpx_9 = { _S1405 + _S1405 + ((*dpdpx_8).differential_0.primal_0 + (_S1401 + _S1401 + _S1396 * _S1398)), 0.0f };
    DiffPair_float_0 dpdpy_2 = { _S1400 + _S1400 + (*dpdpy_1).differential_0.primal_0 + _S1404 + _S1404 + - (_S1396 * _S1402), 0.0f };
    float _S1406 = (&_s_diff_ctx_11->_S1189)->primal_0 / _S1396 * (*dpdpy_1).differential_0.differential_0 + _S1395 / _S1396 * (*dpdpx_8).differential_0.differential_0;
    dpdOut_3->primal_0 = (*dpdOut_3).primal_0;
    dpdOut_3->differential_0 = _S1406;
    dpdpy_1->primal_0 = _S1393.primal_0;
    dpdpy_1->differential_0 = dpdpy_2;
    dpdpx_8->primal_0 = _S1394.primal_0;
    dpdpx_8->differential_0 = dpdpx_9;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_atan2_0(DiffPair_1 * _S1407, DiffPair_1 * _S1408, DiffPair_float_0 * _S1409, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_12)
{
    DiffPair_1 _S1410 = *_S1407;
    DiffPair_1 _S1411 = *_S1408;
    DiffPair_float_0 _S1412 = _s_diff_ctx_12->_S1176;
    DiffPair_float_0 _S1413 = _s_diff_ctx_12->_S1177;
    DiffPair_float_0 _S1414 = { 0.0f, 0.0f };
    s_bwd_prop_d_atan2_Intermediates_0 _S1415;
    (&_S1415)->_S1188 = _S1414;
    (&_S1415)->_S1189 = _S1414;
    s_primal_ctx_d_atan2_0(&_S1412, &_S1413, (*_S1409).primal_0, &_S1415);
    DiffPair_float_0 _S1416 = { (*_S1408).differential_0.primal_0, (*_S1408).differential_0.differential_0 };
    DiffPair_float_0 _S1417 = { (*_S1407).differential_0.primal_0, (*_S1407).differential_0.differential_0 };
    DiffPair_1 _S1418;
    (&_S1418)->primal_0 = _s_diff_ctx_12->_S1176;
    (&_S1418)->differential_0 = _S1417;
    DiffPair_1 _S1419;
    (&_S1419)->primal_0 = _s_diff_ctx_12->_S1177;
    (&_S1419)->differential_0 = _S1416;
    DiffPair_float_0 _S1420;
    (&_S1420)->primal_0 = (*_S1409).primal_0;
    (&_S1420)->differential_0 = 0.0f;
    s_bwd_prop_d_atan2_Intermediates_0 _S1421 = _S1415;
    s_bwd_prop_d_atan2_0(&_S1418, &_S1419, &_S1420, &_S1421);
    DiffPair_float_0 _S1422 = { _S1419.differential_0.primal_0, _S1419.differential_0.differential_0 };
    DiffPair_float_0 _S1423 = { _S1418.differential_0.primal_0, _S1418.differential_0.differential_0 };
    _S1409->primal_0 = (*_S1409).primal_0;
    _S1409->differential_0 = _S1420.differential_0;
    _S1407->primal_0 = _S1410.primal_0;
    _S1407->differential_0 = _S1423;
    _S1408->primal_0 = _S1411.primal_0;
    _S1408->differential_0 = _S1422;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_atan2_0(DiffPair_float_0 * _S1424, DiffPair_float_0 * _S1425, float _s_dOut_5)
{
    DiffPair_float_0 _S1426;
    (&_S1426)->primal_0 = (*_S1424).primal_0;
    (&_S1426)->differential_0 = 0.0f;
    DiffPair_float_0 _S1427;
    (&_S1427)->primal_0 = (*_S1425).primal_0;
    (&_S1427)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S1426, &_S1427, _s_dOut_5);
    _S1425->primal_0 = (*_S1425).primal_0;
    _S1425->differential_0 = _S1427.differential_0;
    _S1424->primal_0 = (*_S1424).primal_0;
    _S1424->differential_0 = _S1426.differential_0;
    return;
}

inline __device__ void s_bwd_prop_fisheye_proj_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean3d_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpcov3d_1, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpintrins_1, DiffPair_arrayx3Cfloatx2C10x3E_0 * dpdist_coeffs_1, Matrix<float, 2, 2>  dpcov2d_1, float2  dpmean2d_1, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_13)
{
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1428 = *dpcov3d_1;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S1429 = *dpintrins_1;
    FixedArray<float, 10>  _S1430 = dpdist_coeffs_1->primal_0;
    float2  _S1431 = make_float2 (0.0f);
    float2  _S1432 = float2 {(*dpmean3d_1).primal_0.x, (*dpmean3d_1).primal_0.y};
    float _S1433 = length_0(_S1432);
    float _S1434 = (*dpmean3d_1).primal_0.z;
    float _S1435 = s_primal_ctx_atan2_0(_S1433, _S1434);
    bool _S1436 = _S1435 < 0.00100000004749745f;
    float k_5;
    float _S1437;
    float _S1438;
    float _S1439;
    if(_S1436)
    {
        float _S1440 = 1.0f - _S1435 * _S1435 / 3.0f;
        float _S1441 = _S1434 * _S1434;
        k_5 = _S1440 / _S1434;
        _S1437 = 0.0f;
        _S1438 = _S1441;
        _S1439 = _S1440;
    }
    else
    {
        float _S1442 = _S1433 * _S1433;
        k_5 = _S1435 / _S1433;
        _S1437 = _S1442;
        _S1438 = 0.0f;
        _S1439 = 0.0f;
    }
    float2  _S1443 = make_float2 (k_5);
    float2  _S1444 = _S1432 * make_float2 (k_5);
    float u_41 = _S1444.x;
    float v_41 = _S1444.y;
    float r2_41 = u_41 * u_41 + v_41 * v_41;
    float _S1445 = _S1430[int(2)] + r2_41 * _S1430[int(3)];
    float _S1446 = _S1430[int(1)] + r2_41 * _S1445;
    float _S1447 = _S1430[int(0)] + r2_41 * _S1446;
    float radial_0 = 1.0f + r2_41 * _S1447;
    float2  _S1448 = make_float2 (radial_0);
    float _S1449 = 2.0f * _S1430[int(4)];
    float _S1450 = _S1449 * u_41;
    float _S1451 = 2.0f * u_41;
    float _S1452 = r2_41 + _S1451 * u_41;
    float _S1453 = 2.0f * _S1430[int(5)];
    float _S1454 = _S1453 * u_41;
    float _S1455 = 2.0f * v_41;
    float _S1456 = r2_41 + _S1455 * v_41;
    float2  _S1457 = _S1444 * make_float2 (radial_0) + make_float2 (_S1450 * v_41 + _S1430[int(5)] * _S1452 + _S1430[int(6)] * r2_41, _S1454 * v_41 + _S1430[int(4)] * _S1456 + _S1430[int(7)] * r2_41);
    float _S1458 = _S1457.x;
    float _S1459 = _S1457.y;
    float2  _S1460 = _S1457 + make_float2 (_S1430[int(8)] * _S1458 + _S1430[int(9)] * _S1459, 0.0f);
    float fx_19 = _S1429.primal_0.x;
    float fy_19 = _S1429.primal_0.y;
    float _S1461 = _S1460.x;
    float _S1462 = _S1460.y;
    Matrix<float, 2, 3>  J_10 = makeMatrix<float, 2, 3> (0.0f);
    float _S1463 = s_primal_ctx_s_primal_ctx_atan2_0(_S1433, _S1434);
    bool _S1464 = _S1463 < 0.00100000004749745f;
    float _S1465;
    float _S1466;
    float _S1467;
    if(_S1464)
    {
        float _S1468 = 1.0f - _S1463 * _S1463 / 3.0f;
        float _S1469 = _S1434 * _S1434;
        k_5 = _S1468 / _S1434;
        _S1465 = 0.0f;
        _S1466 = _S1469;
        _S1467 = _S1468;
    }
    else
    {
        float _S1470 = _S1433 * _S1433;
        k_5 = _S1463 / _S1433;
        _S1465 = _S1470;
        _S1466 = 0.0f;
        _S1467 = 0.0f;
    }
    float2  _S1471 = make_float2 (k_5);
    float2  _S1472 = _S1432 * make_float2 (k_5);
    float u_42 = _S1472.x;
    float v_42 = _S1472.y;
    float r2_42 = u_42 * u_42 + v_42 * v_42;
    float _S1473 = _S1430[int(2)] + r2_42 * _S1430[int(3)];
    float _S1474 = _S1430[int(1)] + r2_42 * _S1473;
    float _S1475 = _S1430[int(0)] + r2_42 * _S1474;
    float2  _S1476 = make_float2 (1.0f + r2_42 * _S1475);
    float _S1477 = _S1449 * u_42;
    float _S1478 = 2.0f * u_42;
    float _S1479 = _S1453 * u_42;
    float _S1480 = 2.0f * v_42;
    float2  _S1481 = make_float2 (fx_19, 0.0f) + make_float2 (_S1430[int(8)] * fx_19, _S1430[int(9)] * fx_19);
    float2  _S1482 = _S1472 * _S1481;
    float _S1483 = _S1430[int(4)] * _S1481.y;
    float _S1484 = v_42 * _S1481.y;
    float _S1485 = _S1430[int(5)] * _S1481.x;
    float _S1486 = v_42 * _S1481.x;
    float _S1487 = _S1482.x + _S1482.y;
    float _S1488 = r2_42 * _S1487;
    float _S1489 = r2_42 * _S1488;
    float _S1490 = r2_42 * _S1489;
    float _S1491 = _S1430[int(7)] * _S1481.y + _S1483 + _S1430[int(6)] * _S1481.x + _S1485 + _S1475 * _S1487 + _S1474 * _S1488 + _S1473 * _S1489 + _S1430[int(3)] * _S1490;
    float _S1492 = v_42 * _S1491;
    float _S1493 = u_42 * _S1491;
    float2  _S1494 = _S1476 * _S1481 + make_float2 (_S1453 * _S1484 + _S1478 * _S1485 + 2.0f * (u_42 * _S1485) + _S1449 * _S1486 + _S1493 + _S1493, _S1480 * _S1483 + 2.0f * (v_42 * _S1483) + _S1479 * _S1481.y + _S1477 * _S1481.x + _S1492 + _S1492);
    float2  _S1495 = _S1432 * _S1494;
    float2  _S1496 = _S1471 * _S1494;
    float _S1497 = _S1495.x + _S1495.y;
    float k_6;
    float _S1498;
    float _S1499;
    float _S1500;
    float _S1501;
    float _S1502;
    float _S1503;
    float _S1504;
    float _S1505;
    if(_S1464)
    {
        float _S1506 = _S1497 / _S1466;
        float _S1507 = _S1466 * _S1466;
        float _S1508 = - _S1506;
        float _S1509 = _S1467 * _S1508;
        float _S1510 = 0.3333333432674408f * - (_S1434 * _S1506);
        float _S1511 = _S1463 * _S1510;
        k_5 = _S1511 + _S1511;
        k_6 = _S1509;
        _S1498 = 0.0f;
        _S1499 = 0.0f;
        _S1500 = 0.0f;
        _S1501 = 0.0f;
        _S1502 = _S1510;
        _S1503 = _S1506;
        _S1504 = _S1508;
        _S1505 = _S1507;
    }
    else
    {
        float _S1512 = _S1497 / _S1465;
        float _S1513 = _S1465 * _S1465;
        float _S1514 = - _S1512;
        float _S1515 = _S1463 * _S1514;
        k_5 = _S1433 * _S1512;
        k_6 = 0.0f;
        _S1498 = _S1515;
        _S1499 = _S1512;
        _S1500 = _S1514;
        _S1501 = _S1513;
        _S1502 = 0.0f;
        _S1503 = 0.0f;
        _S1504 = 0.0f;
        _S1505 = 0.0f;
    }
    DiffPair_float_0 _S1516 = { _S1433, 0.0f };
    DiffPair_float_0 _S1517 = { _S1434, 0.0f };
    float _S1518 = (&_s_diff_ctx_13->_S1179)->differential_0 + k_6;
    float _S1519 = (&_s_diff_ctx_13->_S1178)->differential_0 + _S1498;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1520 = { _S1432, _S1431 };
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1521;
    (&_S1521)->primal_0 = _S1432;
    (&_S1521)->differential_0 = _S1431;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1522 = { _S1431, _S1431 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1523;
    (&_S1523)->_S1205 = _S1522;
    s_primal_ctx_s_bwd_length_impl_0(&_S1521, _S1519, &_S1523);
    float2  _S1524 = _S1521.differential_0 + _S1496;
    float3  _S1525 = make_float3 (_S1524.x, _S1524.y, _S1518);
    Matrix<float, 2, 3>  _S1526 = J_10;
    _S1526[int(0)] = _S1525;
    float _S1527;
    float _S1528;
    if(_S1464)
    {
        float _S1529 = 1.0f - _S1463 * _S1463 / 3.0f;
        float _S1530 = _S1434 * _S1434;
        k_6 = _S1529 / _S1434;
        _S1498 = 0.0f;
        _S1527 = _S1530;
        _S1528 = _S1529;
    }
    else
    {
        float _S1531 = _S1433 * _S1433;
        k_6 = _S1463 / _S1433;
        _S1498 = _S1531;
        _S1527 = 0.0f;
        _S1528 = 0.0f;
    }
    float2  _S1532 = make_float2 (k_6);
    float2  _S1533 = _S1432 * make_float2 (k_6);
    float u_43 = _S1533.x;
    float v_43 = _S1533.y;
    float r2_43 = u_43 * u_43 + v_43 * v_43;
    float _S1534 = _S1430[int(2)] + r2_43 * _S1430[int(3)];
    float _S1535 = _S1430[int(1)] + r2_43 * _S1534;
    float _S1536 = _S1430[int(0)] + r2_43 * _S1535;
    float2  _S1537 = make_float2 (1.0f + r2_43 * _S1536);
    float _S1538 = _S1449 * u_43;
    float _S1539 = 2.0f * u_43;
    float _S1540 = _S1453 * u_43;
    float _S1541 = 2.0f * v_43;
    float2  _S1542 = make_float2 (0.0f, fy_19);
    float2  _S1543 = _S1533 * _S1542;
    float _S1544 = _S1430[int(4)] * fy_19;
    float _S1545 = v_43 * fy_19;
    float _S1546 = _S1543.x + _S1543.y;
    float _S1547 = r2_43 * _S1546;
    float _S1548 = r2_43 * _S1547;
    float _S1549 = r2_43 * _S1548;
    float _S1550 = _S1430[int(7)] * fy_19 + _S1544 + _S1536 * _S1546 + _S1535 * _S1547 + _S1534 * _S1548 + _S1430[int(3)] * _S1549;
    float _S1551 = v_43 * _S1550;
    float _S1552 = u_43 * _S1550;
    float2  _S1553 = _S1537 * _S1542 + make_float2 (_S1453 * _S1545 + _S1552 + _S1552, _S1541 * _S1544 + 2.0f * (v_43 * _S1544) + _S1540 * fy_19 + _S1551 + _S1551);
    float2  _S1554 = _S1432 * _S1553;
    float2  _S1555 = _S1532 * _S1553;
    float _S1556 = _S1554.x + _S1554.y;
    float _S1557;
    float _S1558;
    float _S1559;
    float _S1560;
    float _S1561;
    float _S1562;
    float _S1563;
    float _S1564;
    float _S1565;
    if(_S1464)
    {
        float _S1566 = _S1556 / _S1527;
        float _S1567 = _S1527 * _S1527;
        float _S1568 = - _S1566;
        float _S1569 = _S1528 * _S1568;
        float _S1570 = 0.3333333432674408f * - (_S1434 * _S1566);
        float _S1571 = _S1463 * _S1570;
        k_6 = _S1571 + _S1571;
        _S1557 = _S1569;
        _S1558 = 0.0f;
        _S1559 = 0.0f;
        _S1560 = 0.0f;
        _S1561 = 0.0f;
        _S1562 = _S1570;
        _S1563 = _S1566;
        _S1564 = _S1568;
        _S1565 = _S1567;
    }
    else
    {
        float _S1572 = _S1556 / _S1498;
        float _S1573 = _S1498 * _S1498;
        float _S1574 = - _S1572;
        float _S1575 = _S1463 * _S1574;
        k_6 = _S1433 * _S1572;
        _S1557 = 0.0f;
        _S1558 = _S1575;
        _S1559 = _S1572;
        _S1560 = _S1574;
        _S1561 = _S1573;
        _S1562 = 0.0f;
        _S1563 = 0.0f;
        _S1564 = 0.0f;
        _S1565 = 0.0f;
    }
    float _S1576 = (&_s_diff_ctx_13->_S1182)->differential_0 + _S1557;
    float _S1577 = (&_s_diff_ctx_13->_S1181)->differential_0 + _S1558;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1578;
    (&_S1578)->primal_0 = _S1432;
    (&_S1578)->differential_0 = _S1431;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1579;
    (&_S1579)->_S1205 = _S1522;
    s_primal_ctx_s_bwd_length_impl_0(&_S1578, _S1577, &_S1579);
    float2  _S1580 = _S1578.differential_0 + _S1555;
    float3  _S1581 = make_float3 (_S1580.x, _S1580.y, _S1576);
    _S1526[int(1)] = _S1581;
    Matrix<float, 3, 2>  _S1582 = transpose_1(_S1526);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1583;
    (&_S1583)->primal_0 = s_primal_ctx_mul_2(_S1526, _S1428.primal_0);
    (&_S1583)->differential_0 = J_10;
    Matrix<float, 3, 2>  _S1584 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S1585;
    (&_S1585)->primal_0 = _S1582;
    (&_S1585)->differential_0 = _S1584;
    s_bwd_prop_mul_2(&_S1583, &_S1585, dpcov2d_1);
    Matrix<float, 2, 3>  _S1586 = transpose_2(_S1585.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1587;
    (&_S1587)->primal_0 = _S1526;
    (&_S1587)->differential_0 = J_10;
    Matrix<float, 3, 3>  _S1588 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1589;
    (&_S1589)->primal_0 = _S1428.primal_0;
    (&_S1589)->differential_0 = _S1588;
    s_bwd_prop_mul_3(&_S1587, &_S1589, _S1583.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1590 = _S1589;
    Matrix<float, 2, 3>  _S1591 = _S1586 + _S1587.differential_0;
    float2  _S1592 = _S1431;
    *&((&_S1592)->y) = _S1591.rows[int(1)].y;
    *&((&_S1592)->x) = _S1591.rows[int(1)].x;
    float2  _S1593 = _S1592;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1594 = { _S1431, _S1592 };
    DiffPair_0 _S1595;
    (&_S1595)->primal_0 = _S1520;
    (&_S1595)->differential_0 = _S1594;
    DiffPair_float_0 _S1596;
    (&_S1596)->primal_0 = _S1577;
    (&_S1596)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1597 = _S1579;
    s_bwd_prop_s_bwd_length_impl_0(&_S1595, &_S1596, &_S1597);
    DiffPair_0 _S1598 = _S1595;
    DiffPair_float_0 _S1599 = _S1596;
    DiffPair_float_0 _S1600 = { 0.0f, _S1591.rows[int(1)].z };
    DiffPair_float_0 _S1601 = { 0.0f, _S1596.differential_0 };
    DiffPair_1 _S1602;
    (&_S1602)->primal_0 = _S1516;
    (&_S1602)->differential_0 = _S1601;
    DiffPair_1 _S1603;
    (&_S1603)->primal_0 = _S1517;
    (&_S1603)->differential_0 = _S1600;
    DiffPair_float_0 _S1604;
    (&_S1604)->primal_0 = k_6;
    (&_S1604)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S1602, &_S1603, &_S1604, &_s_diff_ctx_13->_S1183);
    DiffPair_1 _S1605 = _S1602;
    DiffPair_1 _S1606 = _S1603;
    DiffPair_float_0 _S1607 = _S1604;
    if(_S1464)
    {
        float _S1608 = _S1607.differential_0 + _S1607.differential_0;
        float _S1609 = _S1562 * _S1608;
        float _S1610 = - (0.3333333432674408f * (_S1463 * _S1608));
        float _S1611 = _S1564 * _S1591.rows[int(1)].z;
        float _S1612 = (_S1434 * _S1610 + - (_S1528 * _S1591.rows[int(1)].z)) / _S1565;
        float _S1613 = _S1556 * - _S1612;
        float _S1614 = _S1563 * _S1610 + _S1606.differential_0.primal_0;
        k_6 = _S1527 * _S1612;
        _S1557 = 0.0f;
        _S1558 = _S1613;
        _S1559 = _S1611;
        _S1560 = _S1605.differential_0.primal_0;
        _S1561 = _S1609;
        _S1562 = _S1614;
    }
    else
    {
        float _S1615 = _S1560 * _S1599.differential_0;
        float _S1616 = (_S1433 * _S1607.differential_0 + - (_S1463 * _S1599.differential_0)) / _S1561;
        float _S1617 = _S1556 * - _S1616;
        float _S1618 = _S1559 * _S1607.differential_0 + _S1605.differential_0.primal_0;
        k_6 = _S1498 * _S1616;
        _S1557 = _S1617;
        _S1558 = 0.0f;
        _S1559 = 0.0f;
        _S1560 = _S1618;
        _S1561 = _S1615;
        _S1562 = _S1606.differential_0.primal_0;
    }
    float2  _S1619 = _S1532 * _S1593;
    float2  _S1620 = _S1553 * _S1593;
    float2  _S1621 = _S1431;
    *&((&_S1621)->y) = k_6;
    *&((&_S1621)->x) = k_6;
    float2  _S1622 = _S1553 * _S1621;
    float2  _S1623 = _S1619 + _S1432 * _S1621;
    float _S1624 = _S1623.x;
    float _S1625 = _S1624 + _S1624;
    float _S1626 = _S1550 * _S1625;
    float _S1627 = _S1623.y + _S1623.y;
    float _S1628 = _S1550 * _S1627;
    float _S1629 = u_43 * _S1625 + v_43 * _S1627;
    float _S1630 = _S1430[int(3)] * _S1629;
    float _S1631 = _S1549 * _S1629;
    float _S1632 = _S1548 * _S1629;
    float _S1633 = _S1548 * _S1630;
    float _S1634 = _S1547 * _S1629;
    float _S1635 = _S1534 * _S1629 + r2_43 * _S1630;
    float _S1636 = _S1547 * _S1635;
    float _S1637 = _S1546 * _S1629;
    float _S1638 = _S1535 * _S1629 + r2_43 * _S1635;
    float _S1639 = _S1546 * _S1638;
    float _S1640 = _S1536 * _S1629 + r2_43 * _S1638;
    float _S1641 = v_43 * (_S1449 * _S1623.x);
    float _S1642 = _S1538 * _S1623.y;
    float _S1643 = _S1430[int(5)] * (_S1629 + u_43 * (2.0f * _S1623.x) + _S1539 * _S1623.x);
    float _S1644 = _S1430[int(6)] * _S1629;
    float _S1645 = _S1453 * _S1623.x;
    float _S1646 = _S1545 * _S1623.x;
    float _S1647 = v_43 * _S1645;
    float _S1648 = fy_19 * _S1645;
    float _S1649 = _S1540 * _S1623.y;
    float _S1650 = fy_19 * _S1623.y;
    float _S1651 = 2.0f * _S1623.y;
    float _S1652 = _S1544 * _S1651;
    float _S1653 = _S1544 * _S1623.y;
    float _S1654 = _S1629 + v_43 * _S1651 + _S1541 * _S1623.y;
    float _S1655 = _S1430[int(4)] * _S1654;
    float _S1656 = fy_19 * _S1654;
    float _S1657 = _S1430[int(7)] * _S1629;
    float _S1658 = fy_19 * _S1629;
    float2  _S1659 = _S1537 * _S1623;
    float2  _S1660 = _S1542 * _S1623;
    float2  _S1661 = _S1431;
    *&((&_S1661)->y) = _S1640;
    *&((&_S1661)->x) = _S1640;
    float2  _S1662 = _S1542 * _S1661;
    float _S1663 = _S1647 + _S1649 + _S1655 + _S1657;
    float _S1664 = _S1641 + _S1642 + _S1643 + _S1644;
    float2  _S1665 = _S1659 + _S1533 * _S1661;
    float2  _S1666 = _S1431;
    *&((&_S1666)->y) = _S1663;
    *&((&_S1666)->x) = _S1664;
    float2  _S1667 = _S1665 + _S1666;
    float _S1668 = _S1660.x + _S1660.y;
    float _S1669 = _S1637 + r2_43 * _S1668;
    float _S1670 = _S1634 + r2_43 * _S1669;
    float _S1671 = _S1632 + r2_43 * _S1670;
    float _S1672 = _S1633 + _S1636 + _S1639 + _S1536 * _S1668 + _S1535 * _S1669 + _S1534 * _S1670 + _S1430[int(3)] * _S1671;
    float _S1673 = v_43 * _S1672;
    float _S1674 = u_43 * _S1672;
    float2  _S1675 = _S1622 + _S1598.differential_0.primal_0;
    float2  _S1676 = _S1662 + make_float2 (_S1626 + _S1453 * _S1650 + _S1674 + _S1674, _S1628 + _S1648 + _S1652 + 2.0f * _S1653 + _S1673 + _S1673);
    float _S1677 = _S1646 + u_43 * _S1650;
    float _S1678 = _S1631 + r2_43 * _S1671;
    float2  _S1679 = _S1432 * _S1676;
    float _S1680 = _S1620.x + _S1620.y + _S1679.x + _S1679.y;
    float2  _S1681 = _S1532 * _S1676 + _S1675;
    if(_S1464)
    {
        float _S1682 = _S1434 * _S1558;
        float _S1683 = _S1680 / _S1527;
        float _S1684 = _S1463 * (0.3333333432674408f * - (_S1559 + _S1434 * _S1683));
        float _S1685 = _S1682 + _S1682 + _S1528 * - _S1683 + _S1562;
        k_6 = _S1684 + _S1684 + _S1561;
        _S1498 = _S1685;
        _S1527 = _S1560;
    }
    else
    {
        float _S1686 = _S1433 * _S1557;
        float _S1687 = _S1680 / _S1498;
        float _S1688 = _S1686 + _S1686 + _S1463 * - _S1687 + _S1560;
        k_6 = _S1433 * _S1687 + _S1561;
        _S1498 = _S1562;
        _S1527 = _S1688;
    }
    DiffPair_float_0 _S1689;
    (&_S1689)->primal_0 = _S1433;
    (&_S1689)->differential_0 = 0.0f;
    DiffPair_float_0 _S1690;
    (&_S1690)->primal_0 = _S1434;
    (&_S1690)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S1689, &_S1690, k_6);
    float _S1691 = _S1690.differential_0 + _S1498;
    float _S1692 = _S1689.differential_0 + _S1527;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1693;
    (&_S1693)->primal_0 = _S1432;
    (&_S1693)->differential_0 = _S1431;
    s_bwd_length_impl_0(&_S1693, _S1692);
    float2  _S1694 = _S1693.differential_0 + _S1681;
    float3  _S1695 = make_float3 (_S1694.x, _S1694.y, _S1691);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1696;
    (&_S1696)->primal_0 = _S1432;
    (&_S1696)->differential_0 = _S1431;
    s_bwd_length_impl_0(&_S1696, 0.0f);
    float3  _S1697 = _S1695 + make_float3 (_S1696.differential_0.x, _S1696.differential_0.y, 0.0f);
    float2  _S1698 = _S1431;
    *&((&_S1698)->y) = _S1591.rows[int(0)].y;
    *&((&_S1698)->x) = _S1591.rows[int(0)].x;
    float2  _S1699 = _S1698;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1700 = { _S1431, _S1698 };
    DiffPair_0 _S1701;
    (&_S1701)->primal_0 = _S1520;
    (&_S1701)->differential_0 = _S1700;
    DiffPair_float_0 _S1702;
    (&_S1702)->primal_0 = _S1519;
    (&_S1702)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1703 = _S1523;
    s_bwd_prop_s_bwd_length_impl_0(&_S1701, &_S1702, &_S1703);
    DiffPair_0 _S1704 = _S1701;
    DiffPair_float_0 _S1705 = _S1702;
    DiffPair_float_0 _S1706 = { 0.0f, _S1591.rows[int(0)].z };
    DiffPair_float_0 _S1707 = { 0.0f, _S1702.differential_0 };
    DiffPair_1 _S1708;
    (&_S1708)->primal_0 = _S1516;
    (&_S1708)->differential_0 = _S1707;
    DiffPair_1 _S1709;
    (&_S1709)->primal_0 = _S1517;
    (&_S1709)->differential_0 = _S1706;
    DiffPair_float_0 _S1710;
    (&_S1710)->primal_0 = k_5;
    (&_S1710)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S1708, &_S1709, &_S1710, &_s_diff_ctx_13->_S1180);
    DiffPair_1 _S1711 = _S1708;
    DiffPair_1 _S1712 = _S1709;
    DiffPair_float_0 _S1713 = _S1710;
    if(_S1464)
    {
        float _S1714 = _S1713.differential_0 + _S1713.differential_0;
        float _S1715 = _S1502 * _S1714;
        float _S1716 = - (0.3333333432674408f * (_S1463 * _S1714));
        float _S1717 = _S1504 * _S1591.rows[int(0)].z;
        float _S1718 = (_S1434 * _S1716 + - (_S1467 * _S1591.rows[int(0)].z)) / _S1505;
        float _S1719 = _S1497 * - _S1718;
        float _S1720 = _S1503 * _S1716 + _S1712.differential_0.primal_0;
        k_5 = _S1466 * _S1718;
        k_6 = 0.0f;
        _S1498 = _S1719;
        _S1499 = _S1717;
        _S1500 = _S1711.differential_0.primal_0;
        _S1501 = _S1715;
        _S1502 = _S1720;
    }
    else
    {
        float _S1721 = _S1500 * _S1705.differential_0;
        float _S1722 = (_S1433 * _S1713.differential_0 + - (_S1463 * _S1705.differential_0)) / _S1501;
        float _S1723 = _S1497 * - _S1722;
        float _S1724 = _S1499 * _S1713.differential_0 + _S1711.differential_0.primal_0;
        k_5 = _S1465 * _S1722;
        k_6 = _S1723;
        _S1498 = 0.0f;
        _S1499 = 0.0f;
        _S1500 = _S1724;
        _S1501 = _S1721;
        _S1502 = _S1712.differential_0.primal_0;
    }
    float2  _S1725 = _S1471 * _S1699;
    float2  _S1726 = _S1494 * _S1699;
    float2  _S1727 = _S1431;
    *&((&_S1727)->y) = k_5;
    *&((&_S1727)->x) = k_5;
    float2  _S1728 = _S1494 * _S1727;
    float2  _S1729 = _S1725 + _S1432 * _S1727;
    float _S1730 = _S1729.x;
    float _S1731 = _S1730 + _S1730;
    float _S1732 = _S1491 * _S1731;
    float _S1733 = _S1729.y + _S1729.y;
    float _S1734 = _S1491 * _S1733;
    float _S1735 = u_42 * _S1731 + v_42 * _S1733;
    float _S1736 = _S1430[int(3)] * _S1735;
    float _S1737 = _S1490 * _S1735;
    float _S1738 = _S1489 * _S1735;
    float _S1739 = _S1489 * _S1736;
    float _S1740 = _S1488 * _S1735;
    float _S1741 = _S1473 * _S1735 + r2_42 * _S1736;
    float _S1742 = _S1488 * _S1741;
    float _S1743 = _S1487 * _S1735;
    float _S1744 = _S1474 * _S1735 + r2_42 * _S1741;
    float _S1745 = _S1487 * _S1744;
    float _S1746 = _S1475 * _S1735 + r2_42 * _S1744;
    float _S1747 = _S1449 * _S1729.x;
    float _S1748 = _S1486 * _S1729.x;
    float _S1749 = v_42 * _S1747;
    float _S1750 = _S1481.x * _S1747;
    float _S1751 = _S1477 * _S1729.y;
    float _S1752 = _S1481.x * _S1729.y;
    float _S1753 = 2.0f * _S1729.x;
    float _S1754 = _S1485 * _S1753;
    float _S1755 = _S1485 * _S1729.x;
    float _S1756 = _S1735 + u_42 * _S1753 + _S1478 * _S1729.x;
    float _S1757 = _S1430[int(5)] * _S1756;
    float _S1758 = _S1481.x * _S1756;
    float _S1759 = _S1430[int(6)] * _S1735;
    float _S1760 = _S1481.x * _S1735;
    float _S1761 = _S1453 * _S1729.x;
    float _S1762 = _S1484 * _S1729.x;
    float _S1763 = v_42 * _S1761;
    float _S1764 = _S1481.y * _S1761;
    float _S1765 = _S1479 * _S1729.y;
    float _S1766 = _S1481.y * _S1729.y;
    float _S1767 = 2.0f * _S1729.y;
    float _S1768 = _S1483 * _S1767;
    float _S1769 = _S1483 * _S1729.y;
    float _S1770 = _S1735 + v_42 * _S1767 + _S1480 * _S1729.y;
    float _S1771 = _S1430[int(4)] * _S1770;
    float _S1772 = _S1481.y * _S1770;
    float _S1773 = _S1430[int(7)] * _S1735;
    float _S1774 = _S1481.y * _S1735;
    float2  _S1775 = _S1476 * _S1729;
    float2  _S1776 = _S1481 * _S1729;
    float2  _S1777 = _S1431;
    *&((&_S1777)->y) = _S1746;
    *&((&_S1777)->x) = _S1746;
    float2  _S1778 = _S1481 * _S1777;
    float _S1779 = _S1763 + _S1765 + _S1771 + _S1773;
    float _S1780 = _S1749 + _S1751 + _S1757 + _S1759;
    float2  _S1781 = _S1775 + _S1472 * _S1777;
    float2  _S1782 = _S1431;
    *&((&_S1782)->y) = _S1779;
    *&((&_S1782)->x) = _S1780;
    float2  _S1783 = _S1781 + _S1782;
    float _S1784 = fx_19 * _S1783.x;
    float _S1785 = fx_19 * _S1783.y;
    float _S1786 = _S1776.x + _S1776.y;
    float _S1787 = _S1743 + r2_42 * _S1786;
    float _S1788 = _S1740 + r2_42 * _S1787;
    float _S1789 = _S1738 + r2_42 * _S1788;
    float _S1790 = _S1739 + _S1742 + _S1745 + _S1475 * _S1786 + _S1474 * _S1787 + _S1473 * _S1788 + _S1430[int(3)] * _S1789;
    float _S1791 = v_42 * _S1790;
    float _S1792 = u_42 * _S1790;
    float2  _S1793 = _S1728 + _S1704.differential_0.primal_0;
    float _S1794 = _S1774 + _S1658;
    float _S1795 = _S1748 + u_42 * _S1752;
    float _S1796 = _S1430[int(8)] * _S1783.x + _S1430[int(9)] * _S1783.y + _S1783.x;
    float _S1797 = _S1788 + _S1670;
    float _S1798 = _S1787 + _S1669;
    float2  _S1799 = _S1778 + make_float2 (_S1732 + _S1754 + _S1453 * _S1766 + 2.0f * _S1755 + _S1449 * _S1752 + _S1792 + _S1792, _S1734 + _S1750 + _S1764 + _S1768 + 2.0f * _S1769 + _S1791 + _S1791);
    float _S1800 = _S1762 + u_42 * _S1766 + _S1677;
    float _S1801 = _S1737 + r2_42 * _S1789 + _S1678;
    float _S1802 = _S1789 + _S1671;
    float _S1803 = _S1772 + _S1656;
    float2  _S1804 = _S1432 * _S1799;
    float _S1805 = _S1726.x + _S1726.y + _S1804.x + _S1804.y;
    float2  _S1806 = _S1471 * _S1799 + _S1793;
    if(_S1464)
    {
        float _S1807 = _S1434 * _S1498;
        float _S1808 = _S1805 / _S1466;
        float _S1809 = _S1463 * (0.3333333432674408f * - (_S1499 + _S1434 * _S1808));
        float _S1810 = _S1807 + _S1807 + _S1467 * - _S1808 + _S1502;
        k_5 = _S1809 + _S1809 + _S1501;
        _S1465 = _S1810;
        _S1466 = _S1500;
    }
    else
    {
        float _S1811 = _S1433 * k_6;
        float _S1812 = _S1805 / _S1465;
        float _S1813 = _S1811 + _S1811 + _S1463 * - _S1812 + _S1500;
        k_5 = _S1433 * _S1812 + _S1501;
        _S1465 = _S1502;
        _S1466 = _S1813;
    }
    DiffPair_float_0 _S1814;
    (&_S1814)->primal_0 = _S1433;
    (&_S1814)->differential_0 = 0.0f;
    DiffPair_float_0 _S1815;
    (&_S1815)->primal_0 = _S1434;
    (&_S1815)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S1814, &_S1815, k_5);
    float _S1816 = _S1815.differential_0 + _S1465;
    float _S1817 = _S1814.differential_0 + _S1466;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1818;
    (&_S1818)->primal_0 = _S1432;
    (&_S1818)->differential_0 = _S1431;
    s_bwd_length_impl_0(&_S1818, _S1817);
    float2  _S1819 = _S1818.differential_0 + _S1806;
    float3  _S1820 = make_float3 (_S1819.x, _S1819.y, _S1816);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1821;
    (&_S1821)->primal_0 = _S1432;
    (&_S1821)->differential_0 = _S1431;
    s_bwd_length_impl_0(&_S1821, 0.0f);
    float _S1822 = fx_19 * dpmean2d_1.x;
    float2  _S1823 = make_float2 (_S1822, fy_19 * dpmean2d_1.y) + make_float2 (_S1430[int(8)] * _S1822, _S1430[int(9)] * _S1822);
    float2  _S1824 = _S1444 * _S1823;
    float2  _S1825 = _S1448 * _S1823;
    float _S1826 = _S1430[int(4)] * _S1823.y;
    float _S1827 = v_41 * _S1823.y;
    float _S1828 = _S1430[int(5)] * _S1823.x;
    float _S1829 = v_41 * _S1823.x;
    float _S1830 = _S1824.x + _S1824.y;
    float _S1831 = r2_41 * _S1830;
    float _S1832 = r2_41 * _S1831;
    float _S1833 = r2_41 * _S1832;
    float _S1834 = _S1430[int(7)] * _S1823.y + _S1826 + _S1430[int(6)] * _S1823.x + _S1828 + _S1447 * _S1830 + _S1446 * _S1831 + _S1445 * _S1832 + _S1430[int(3)] * _S1833;
    float _S1835 = v_41 * _S1834;
    float _S1836 = u_41 * _S1834;
    float _S1837 = _S1455 * _S1826 + 2.0f * (v_41 * _S1826) + _S1454 * _S1823.y + _S1450 * _S1823.x + _S1835 + _S1835;
    float _S1838 = _S1453 * _S1827 + _S1451 * _S1828 + 2.0f * (u_41 * _S1828) + _S1449 * _S1829 + _S1836 + _S1836;
    float _S1839 = _S1459 * _S1822 + _S1785;
    float _S1840 = _S1458 * _S1822 + _S1784;
    float _S1841 = r2_41 * _S1823.y + _S1794;
    float _S1842 = r2_41 * _S1823.x + _S1760;
    float _S1843 = 2.0f * (u_41 * _S1827 + _S1800) + _S1452 * _S1823.x + _S1758;
    float _S1844 = _S1456 * _S1823.y + 2.0f * (u_41 * _S1829 + _S1795) + _S1803;
    float _S1845 = r2_41 * _S1833 + _S1801;
    float _S1846 = _S1833 + _S1802;
    float _S1847 = _S1832 + _S1797;
    float _S1848 = _S1831 + _S1798;
    float3  _S1849 = _S1820 + make_float3 (_S1821.differential_0.x, _S1821.differential_0.y, 0.0f) + _S1697;
    float4  _S1850 = make_float4 (_S1461 * dpmean2d_1.x + _S1796, _S1462 * dpmean2d_1.y + _S1667.y, dpmean2d_1.x, dpmean2d_1.y);
    FixedArray<float, 10>  _S1851;
    _S1851[int(0)] = 0.0f;
    _S1851[int(1)] = 0.0f;
    _S1851[int(2)] = 0.0f;
    _S1851[int(3)] = 0.0f;
    _S1851[int(4)] = 0.0f;
    _S1851[int(5)] = 0.0f;
    _S1851[int(6)] = 0.0f;
    _S1851[int(7)] = 0.0f;
    _S1851[int(8)] = 0.0f;
    _S1851[int(9)] = 0.0f;
    _S1851[int(9)] = _S1839;
    _S1851[int(8)] = _S1840;
    _S1851[int(7)] = _S1841;
    _S1851[int(6)] = _S1842;
    _S1851[int(5)] = _S1843;
    _S1851[int(4)] = _S1844;
    _S1851[int(3)] = _S1845;
    _S1851[int(2)] = _S1846;
    _S1851[int(1)] = _S1847;
    _S1851[int(0)] = _S1848;
    FixedArray<float, 10>  _S1852 = {
        _S1851[int(0)], _S1851[int(1)], _S1851[int(2)], _S1851[int(3)], _S1851[int(4)], _S1851[int(5)], _S1851[int(6)], _S1851[int(7)], _S1851[int(8)], _S1851[int(9)]
    };
    float2  _S1853 = _S1825 + make_float2 (_S1838, _S1837);
    float2  _S1854 = _S1432 * _S1853;
    float2  _S1855 = _S1443 * _S1853;
    float _S1856 = _S1854.x + _S1854.y;
    if(_S1436)
    {
        float _S1857 = _S1856 / _S1438;
        float _S1858 = _S1439 * - _S1857;
        float _S1859 = _S1435 * (0.3333333432674408f * - (_S1434 * _S1857));
        k_5 = _S1859 + _S1859;
        _S1437 = _S1858;
        _S1438 = 0.0f;
    }
    else
    {
        float _S1860 = _S1856 / _S1437;
        float _S1861 = _S1435 * - _S1860;
        k_5 = _S1433 * _S1860;
        _S1437 = 0.0f;
        _S1438 = _S1861;
    }
    DiffPair_float_0 _S1862;
    (&_S1862)->primal_0 = _S1433;
    (&_S1862)->differential_0 = 0.0f;
    DiffPair_float_0 _S1863;
    (&_S1863)->primal_0 = _S1434;
    (&_S1863)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S1862, &_S1863, k_5);
    float _S1864 = _S1863.differential_0 + _S1437;
    float _S1865 = _S1862.differential_0 + _S1438;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1866;
    (&_S1866)->primal_0 = _S1432;
    (&_S1866)->differential_0 = _S1431;
    s_bwd_length_impl_0(&_S1866, _S1865);
    float2  _S1867 = _S1866.differential_0 + _S1855;
    dpdist_coeffs_1->primal_0 = dpdist_coeffs_1->primal_0;
    dpdist_coeffs_1->differential_0 = _S1852;
    dpintrins_1->primal_0 = (*dpintrins_1).primal_0;
    dpintrins_1->differential_0 = _S1850;
    dpcov3d_1->primal_0 = (*dpcov3d_1).primal_0;
    dpcov3d_1->differential_0 = _S1590.differential_0;
    float3  _S1868 = _S1849 + make_float3 (_S1867.x, _S1867.y, _S1864);
    dpmean3d_1->primal_0 = (*dpmean3d_1).primal_0;
    dpmean3d_1->differential_0 = _S1868;
    return;
}

inline __device__ void s_bwd_prop_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_12, float _s_dOut_6)
{
    float _S1869 = (*dpx_12).primal_0.x;
    float _S1870 = (*dpx_12).primal_0.y;
    float _S1871 = (*dpx_12).primal_0.z;
    DiffPair_float_0 _S1872;
    (&_S1872)->primal_0 = _S1869 * _S1869 + _S1870 * _S1870 + _S1871 * _S1871;
    (&_S1872)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1872, _s_dOut_6);
    float _S1873 = (*dpx_12).primal_0.z * _S1872.differential_0;
    float _S1874 = _S1873 + _S1873;
    float _S1875 = (*dpx_12).primal_0.y * _S1872.differential_0;
    float _S1876 = _S1875 + _S1875;
    float _S1877 = (*dpx_12).primal_0.x * _S1872.differential_0;
    float _S1878 = _S1877 + _S1877;
    float3  _S1879 = make_float3 (0.0f);
    *&((&_S1879)->z) = _S1874;
    *&((&_S1879)->y) = _S1876;
    *&((&_S1879)->x) = _S1878;
    dpx_12->primal_0 = (*dpx_12).primal_0;
    dpx_12->differential_0 = _S1879;
    return;
}

inline __device__ void s_bwd_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1880, float _S1881)
{
    s_bwd_prop_length_impl_1(_S1880, _S1881);
    return;
}

inline __device__ void projection_3dgs_fisheye_vjp(bool antialiased_11, float3  mean_12, float4  quat_15, float3  scale_14, float in_opacity_11, FixedArray<float3 , 16>  * sh_coeffs_11, Matrix<float, 3, 3>  R_18, float3  t_14, float fx_20, float fy_20, float cx_15, float cy_15, FixedArray<float, 10>  * dist_coeffs_24, uint image_width_11, uint image_height_11, float2  v_mean2d_1, float v_depth_1, float3  v_conic_1, float v_opacity_1, float3  v_rgb_1, float3  * v_mean_1, float4  * v_quat_1, float3  * v_scale_1, float * v_in_opacity_1, FixedArray<float3 , 16>  * v_sh_coeffs_1, Matrix<float, 3, 3>  * v_R_3, float3  * v_t_2)
{
    Matrix<float, 2, 2>  _S1882 = makeMatrix<float, 2, 2> (0.0f);
    DiffPair_float_0 _S1883 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1884 = { _S1883, _S1883 };
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S1885 = { _S1883, _S1883, _S1884, _S1883, _S1883, _S1884 };
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S1886;
    (&_S1886)->_S1184 = _S1882;
    (&_S1886)->_S1185 = _S1885;
    float3  mean_c_11 = s_primal_ctx_mul_0(R_18, mean_12) + t_14;
    float4  intrins_11 = make_float4 (fx_20, fy_20, cx_15, cy_15);
    float3  _S1887 = s_primal_ctx_exp_0(scale_14);
    float _S1888 = quat_15.y;
    float x2_15 = _S1888 * _S1888;
    float y2_15 = quat_15.z * quat_15.z;
    float z2_26 = quat_15.w * quat_15.w;
    float xy_15 = quat_15.y * quat_15.z;
    float xz_15 = quat_15.y * quat_15.w;
    float yz_15 = quat_15.z * quat_15.w;
    float wx_15 = quat_15.x * quat_15.y;
    float wy_15 = quat_15.x * quat_15.z;
    float wz_15 = quat_15.x * quat_15.w;
    Matrix<float, 3, 3>  _S1889 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_15 + z2_26), 2.0f * (xy_15 + wz_15), 2.0f * (xz_15 - wy_15), 2.0f * (xy_15 - wz_15), 1.0f - 2.0f * (x2_15 + z2_26), 2.0f * (yz_15 + wx_15), 2.0f * (xz_15 + wy_15), 2.0f * (yz_15 - wx_15), 1.0f - 2.0f * (x2_15 + y2_15)));
    Matrix<float, 3, 3>  S_1 = makeMatrix<float, 3, 3> (_S1887.x, 0.0f, 0.0f, 0.0f, _S1887.y, 0.0f, 0.0f, 0.0f, _S1887.z);
    Matrix<float, 3, 3>  _S1890 = s_primal_ctx_mul_1(_S1889, S_1);
    Matrix<float, 3, 3>  _S1891 = transpose_0(_S1890);
    Matrix<float, 3, 3>  _S1892 = s_primal_ctx_mul_1(_S1890, _S1891);
    Matrix<float, 3, 3>  _S1893 = s_primal_ctx_mul_1(R_18, _S1892);
    Matrix<float, 3, 3>  _S1894 = transpose_0(R_18);
    Matrix<float, 3, 3>  _S1895 = s_primal_ctx_mul_1(_S1893, _S1894);
    Matrix<float, 2, 2>  _S1896 = _S1882;
    float2  _S1897 = make_float2 (0.0f);
    float2  _S1898 = _S1897;
    bool _S1899 = s_primal_ctx_fisheye_proj_3dgs_0(mean_c_11, _S1895, intrins_11, dist_coeffs_24, &_S1896, &_S1898, &(&_S1886)->_S1185);
    (&_S1886)->_S1184 = _S1896;
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S1900 = _S1886;
    float _S1901 = _S1886._S1184.rows[int(0)].y * _S1886._S1184.rows[int(1)].x;
    float det_orig_12 = _S1886._S1184.rows[int(0)].x * _S1886._S1184.rows[int(1)].y - _S1901;
    float _S1902 = _S1886._S1184.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S1903 = _S1886._S1184;
    *&(((&_S1903)->rows + (int(0)))->x) = _S1902;
    float _S1904 = _S1886._S1184.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S1903)->rows + (int(1)))->y) = _S1904;
    Matrix<float, 2, 2>  _S1905 = _S1903;
    Matrix<float, 2, 2>  _S1906 = _S1903;
    float det_blur_7 = _S1902 * _S1904 - _S1901;
    float _S1907 = det_orig_12 / det_blur_7;
    float _S1908 = det_blur_7 * det_blur_7;
    float _S1909 = s_primal_ctx_max_0(0.0f, _S1907);
    float _S1910 = s_primal_ctx_sqrt_0(_S1909);
    float invdet_8 = 1.0f / det_blur_7;
    float _S1911 = - _S1886._S1184.rows[int(0)].y;
    float _S1912 = - _S1886._S1184.rows[int(1)].x;
    float _S1913 = - in_opacity_11;
    float _S1914 = 1.0f + s_primal_ctx_exp_1(_S1913);
    float _S1915 = 1.0f / _S1914;
    float _S1916 = _S1914 * _S1914;
    float _S1917;
    if(antialiased_11)
    {
        _S1917 = _S1915 * _S1910;
    }
    else
    {
        _S1917 = _S1915;
    }
    float _S1918 = _S1917 / 0.00392156885936856f;
    float _S1919 = 2.0f * s_primal_ctx_log_0(_S1918);
    float _S1920 = s_primal_ctx_sqrt_0(_S1919);
    float _S1921 = _S1905.rows[int(0)].x;
    float _S1922 = _S1906.rows[int(1)].y;
    float _S1923 = s_primal_ctx_dot_0(mean_c_11, mean_c_11) + 9.99999997475242708e-07f;
    float3  _S1924 = mean_12 - - s_primal_ctx_mul_0(_S1894, t_14);
    float _S1925 = _S1924.x;
    float _S1926 = _S1924.y;
    float _S1927 = _S1924.z;
    float _S1928 = _S1925 * _S1925 + _S1926 * _S1926 + _S1927 * _S1927;
    float _S1929 = s_primal_ctx_sqrt_0(_S1928);
    float x_37 = _S1925 / _S1929;
    float3  _S1930 = make_float3 (x_37);
    float _S1931 = _S1929 * _S1929;
    float y_14 = _S1926 / _S1929;
    float z_11 = _S1927 / _S1929;
    float3  _S1932 = make_float3 (z_11);
    float _S1933 = - y_14;
    float3  _S1934 = make_float3 (_S1933);
    float z2_27 = z_11 * z_11;
    float fTmp0B_11 = -1.09254848957061768f * z_11;
    float fC1_11 = x_37 * x_37 - y_14 * y_14;
    float _S1935 = 2.0f * x_37;
    float fS1_11 = _S1935 * y_14;
    float pSH6_1 = 0.94617468118667603f * z2_27 - 0.31539157032966614f;
    float3  _S1936 = make_float3 (pSH6_1);
    float pSH7_1 = fTmp0B_11 * x_37;
    float3  _S1937 = make_float3 (pSH7_1);
    float pSH5_1 = fTmp0B_11 * y_14;
    float3  _S1938 = make_float3 (pSH5_1);
    float pSH8_1 = 0.54627424478530884f * fC1_11;
    float3  _S1939 = make_float3 (pSH8_1);
    float pSH4_1 = 0.54627424478530884f * fS1_11;
    float3  _S1940 = make_float3 (pSH4_1);
    float fTmp0C_11 = -2.28522896766662598f * z2_27 + 0.4570457935333252f;
    float fTmp1B_11 = 1.44530570507049561f * z_11;
    float _S1941 = 1.86588168144226074f * z2_27 - 1.11952900886535645f;
    float pSH12_1 = z_11 * _S1941;
    float3  _S1942 = make_float3 (pSH12_1);
    float pSH13_1 = fTmp0C_11 * x_37;
    float3  _S1943 = make_float3 (pSH13_1);
    float pSH11_1 = fTmp0C_11 * y_14;
    float3  _S1944 = make_float3 (pSH11_1);
    float pSH14_1 = fTmp1B_11 * fC1_11;
    float3  _S1945 = make_float3 (pSH14_1);
    float pSH10_1 = fTmp1B_11 * fS1_11;
    float3  _S1946 = make_float3 (pSH10_1);
    float pSH15_1 = -0.59004360437393188f * (x_37 * fC1_11 - y_14 * fS1_11);
    float3  _S1947 = make_float3 (pSH15_1);
    float pSH9_1 = -0.59004360437393188f * (x_37 * fS1_11 + y_14 * fC1_11);
    float3  _S1948 = make_float3 (pSH9_1);
    float3  _S1949 = make_float3 (0.0f);
    float3  _S1950 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1951;
    (&_S1951)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_11)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S1933) * (*sh_coeffs_11)[int(1)] + make_float3 (z_11) * (*sh_coeffs_11)[int(2)] - make_float3 (x_37) * (*sh_coeffs_11)[int(3)]) + (make_float3 (pSH4_1) * (*sh_coeffs_11)[int(4)] + make_float3 (pSH5_1) * (*sh_coeffs_11)[int(5)] + make_float3 (pSH6_1) * (*sh_coeffs_11)[int(6)] + make_float3 (pSH7_1) * (*sh_coeffs_11)[int(7)] + make_float3 (pSH8_1) * (*sh_coeffs_11)[int(8)]) + (make_float3 (pSH9_1) * (*sh_coeffs_11)[int(9)] + make_float3 (pSH10_1) * (*sh_coeffs_11)[int(10)] + make_float3 (pSH11_1) * (*sh_coeffs_11)[int(11)] + make_float3 (pSH12_1) * (*sh_coeffs_11)[int(12)] + make_float3 (pSH13_1) * (*sh_coeffs_11)[int(13)] + make_float3 (pSH14_1) * (*sh_coeffs_11)[int(14)] + make_float3 (pSH15_1) * (*sh_coeffs_11)[int(15)]) + make_float3 (0.5f);
    (&_S1951)->differential_0 = _S1950;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1952;
    (&_S1952)->primal_0 = _S1949;
    (&_S1952)->differential_0 = _S1950;
    s_bwd_prop_max_0(&_S1951, &_S1952, v_rgb_1);
    float3  _S1953 = _S1947 * _S1951.differential_0;
    float3  _S1954 = (*sh_coeffs_11)[int(15)] * _S1951.differential_0;
    float3  _S1955 = _S1945 * _S1951.differential_0;
    float3  _S1956 = (*sh_coeffs_11)[int(14)] * _S1951.differential_0;
    float3  _S1957 = _S1943 * _S1951.differential_0;
    float3  _S1958 = (*sh_coeffs_11)[int(13)] * _S1951.differential_0;
    float3  _S1959 = _S1942 * _S1951.differential_0;
    float3  _S1960 = (*sh_coeffs_11)[int(12)] * _S1951.differential_0;
    float3  _S1961 = _S1944 * _S1951.differential_0;
    float3  _S1962 = (*sh_coeffs_11)[int(11)] * _S1951.differential_0;
    float3  _S1963 = _S1946 * _S1951.differential_0;
    float3  _S1964 = (*sh_coeffs_11)[int(10)] * _S1951.differential_0;
    float3  _S1965 = _S1948 * _S1951.differential_0;
    float3  _S1966 = (*sh_coeffs_11)[int(9)] * _S1951.differential_0;
    float s_diff_fS2_T_1 = -0.59004360437393188f * (_S1966.x + _S1966.y + _S1966.z);
    float s_diff_fC2_T_1 = -0.59004360437393188f * (_S1954.x + _S1954.y + _S1954.z);
    float _S1967 = _S1964.x + _S1964.y + _S1964.z;
    float _S1968 = _S1956.x + _S1956.y + _S1956.z;
    float _S1969 = _S1962.x + _S1962.y + _S1962.z;
    float _S1970 = _S1958.x + _S1958.y + _S1958.z;
    float _S1971 = _S1960.x + _S1960.y + _S1960.z;
    float _S1972 = - s_diff_fC2_T_1;
    float3  _S1973 = _S1939 * _S1951.differential_0;
    float3  _S1974 = (*sh_coeffs_11)[int(8)] * _S1951.differential_0;
    float3  _S1975 = _S1937 * _S1951.differential_0;
    float3  _S1976 = (*sh_coeffs_11)[int(7)] * _S1951.differential_0;
    float3  _S1977 = _S1936 * _S1951.differential_0;
    float3  _S1978 = (*sh_coeffs_11)[int(6)] * _S1951.differential_0;
    float3  _S1979 = _S1938 * _S1951.differential_0;
    float3  _S1980 = (*sh_coeffs_11)[int(5)] * _S1951.differential_0;
    float3  _S1981 = _S1940 * _S1951.differential_0;
    float3  _S1982 = (*sh_coeffs_11)[int(4)] * _S1951.differential_0;
    float _S1983 = _S1980.x + _S1980.y + _S1980.z;
    float _S1984 = _S1976.x + _S1976.y + _S1976.z;
    float _S1985 = fTmp1B_11 * _S1967 + x_37 * s_diff_fS2_T_1 + y_14 * _S1972 + 0.54627424478530884f * (_S1982.x + _S1982.y + _S1982.z);
    float _S1986 = fTmp1B_11 * _S1968 + y_14 * s_diff_fS2_T_1 + x_37 * s_diff_fC2_T_1 + 0.54627424478530884f * (_S1974.x + _S1974.y + _S1974.z);
    float _S1987 = y_14 * - _S1986;
    float _S1988 = x_37 * _S1986;
    float _S1989 = z_11 * (1.86588168144226074f * (z_11 * _S1971) + -2.28522896766662598f * (y_14 * _S1969 + x_37 * _S1970) + 0.94617468118667603f * (_S1978.x + _S1978.y + _S1978.z));
    float3  _S1990 = make_float3 (0.48860251903533936f) * _S1951.differential_0;
    float3  _S1991 = - _S1990;
    float3  _S1992 = _S1930 * _S1991;
    float3  _S1993 = (*sh_coeffs_11)[int(3)] * _S1991;
    float3  _S1994 = _S1932 * _S1990;
    float3  _S1995 = (*sh_coeffs_11)[int(2)] * _S1990;
    float3  _S1996 = _S1934 * _S1990;
    float3  _S1997 = (*sh_coeffs_11)[int(1)] * _S1990;
    float _S1998 = (_S1941 * _S1971 + 1.44530570507049561f * (fS1_11 * _S1967 + fC1_11 * _S1968) + -1.09254848957061768f * (y_14 * _S1983 + x_37 * _S1984) + _S1989 + _S1989 + _S1995.x + _S1995.y + _S1995.z) / _S1931;
    float _S1999 = _S1929 * _S1998;
    float _S2000 = (fTmp0C_11 * _S1969 + fC1_11 * s_diff_fS2_T_1 + fS1_11 * _S1972 + fTmp0B_11 * _S1983 + _S1935 * _S1985 + _S1987 + _S1987 + - (_S1997.x + _S1997.y + _S1997.z)) / _S1931;
    float _S2001 = _S1929 * _S2000;
    float _S2002 = (fTmp0C_11 * _S1970 + fS1_11 * s_diff_fS2_T_1 + fC1_11 * s_diff_fC2_T_1 + fTmp0B_11 * _S1984 + 2.0f * (y_14 * _S1985) + _S1988 + _S1988 + _S1993.x + _S1993.y + _S1993.z) / _S1931;
    float _S2003 = _S1929 * _S2002;
    float _S2004 = _S1927 * - _S1998 + _S1926 * - _S2000 + _S1925 * - _S2002;
    DiffPair_float_0 _S2005;
    (&_S2005)->primal_0 = _S1928;
    (&_S2005)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2005, _S2004);
    float _S2006 = _S1927 * _S2005.differential_0;
    float _S2007 = _S1926 * _S2005.differential_0;
    float _S2008 = _S1925 * _S2005.differential_0;
    float3  _S2009 = make_float3 (0.282094806432724f) * _S1951.differential_0;
    float3  _S2010 = make_float3 (_S2003 + _S2008 + _S2008, _S2001 + _S2007 + _S2007, _S1999 + _S2006 + _S2006);
    float3  _S2011 = - - _S2010;
    Matrix<float, 3, 3>  _S2012 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2013;
    (&_S2013)->primal_0 = _S1894;
    (&_S2013)->differential_0 = _S2012;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2014;
    (&_S2014)->primal_0 = t_14;
    (&_S2014)->differential_0 = _S1950;
    s_bwd_prop_mul_1(&_S2013, &_S2014, _S2011);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2015 = _S2013;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2016 = _S2014;
    float2  _S2017 = _S1897;
    *&((&_S2017)->y) = v_conic_1.z;
    float2  _S2018 = _S1897;
    *&((&_S2018)->y) = v_conic_1.y;
    *&((&_S2018)->x) = v_conic_1.x;
    float _S2019 = 0.5f * v_depth_1;
    DiffPair_float_0 _S2020;
    (&_S2020)->primal_0 = _S1923;
    (&_S2020)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2020, _S2019);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2021;
    (&_S2021)->primal_0 = mean_c_11;
    (&_S2021)->differential_0 = _S1950;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2022;
    (&_S2022)->primal_0 = mean_c_11;
    (&_S2022)->differential_0 = _S1950;
    s_bwd_prop_dot_0(&_S2021, &_S2022, _S2020.differential_0);
    DiffPair_float_0 _S2023;
    (&_S2023)->primal_0 = _S1922;
    (&_S2023)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2023, 0.0f);
    DiffPair_float_0 _S2024;
    (&_S2024)->primal_0 = _S1921;
    (&_S2024)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2024, 0.0f);
    DiffPair_float_0 _S2025;
    (&_S2025)->primal_0 = 3.32999992370605469f;
    (&_S2025)->differential_0 = 0.0f;
    DiffPair_float_0 _S2026;
    (&_S2026)->primal_0 = _S1920;
    (&_S2026)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2025, &_S2026, 0.0f);
    DiffPair_float_0 _S2027;
    (&_S2027)->primal_0 = _S1919;
    (&_S2027)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2027, _S2026.differential_0);
    float _S2028 = 2.0f * _S2027.differential_0;
    DiffPair_float_0 _S2029;
    (&_S2029)->primal_0 = _S1918;
    (&_S2029)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2029, _S2028);
    float2  _S2030 = make_float2 (_S2024.differential_0, 0.0f);
    float _S2031 = v_opacity_1 + 254.9999847412109375f * _S2029.differential_0;
    Matrix<float, 2, 2>  _S2032 = _S1882;
    _S2032[int(1)] = _S2017;
    _S2032[int(0)] = _S2018;
    Matrix<float, 2, 2>  _S2033 = _S2032;
    FixedArray<float3 , 16>  _S2034;
    _S2034[int(0)] = _S1950;
    _S2034[int(1)] = _S1950;
    _S2034[int(2)] = _S1950;
    _S2034[int(3)] = _S1950;
    _S2034[int(4)] = _S1950;
    _S2034[int(5)] = _S1950;
    _S2034[int(6)] = _S1950;
    _S2034[int(7)] = _S1950;
    _S2034[int(8)] = _S1950;
    _S2034[int(9)] = _S1950;
    _S2034[int(10)] = _S1950;
    _S2034[int(11)] = _S1950;
    _S2034[int(12)] = _S1950;
    _S2034[int(13)] = _S1950;
    _S2034[int(14)] = _S1950;
    _S2034[int(15)] = _S1950;
    _S2034[int(7)] = _S1975;
    _S2034[int(0)] = _S2009;
    _S2034[int(1)] = _S1996;
    _S2034[int(2)] = _S1994;
    _S2034[int(3)] = _S1992;
    _S2034[int(4)] = _S1981;
    _S2034[int(5)] = _S1979;
    _S2034[int(6)] = _S1977;
    _S2034[int(15)] = _S1953;
    _S2034[int(8)] = _S1973;
    _S2034[int(9)] = _S1965;
    _S2034[int(10)] = _S1963;
    _S2034[int(11)] = _S1961;
    _S2034[int(12)] = _S1959;
    _S2034[int(13)] = _S1957;
    _S2034[int(14)] = _S1955;
    float3  _S2035 = _S2034[int(0)];
    float3  _S2036 = _S2034[int(1)];
    float3  _S2037 = _S2034[int(2)];
    float3  _S2038 = _S2034[int(3)];
    float3  _S2039 = _S2034[int(4)];
    float3  _S2040 = _S2034[int(5)];
    float3  _S2041 = _S2034[int(6)];
    float3  _S2042 = _S2034[int(7)];
    float3  _S2043 = _S2034[int(8)];
    float3  _S2044 = _S2034[int(9)];
    float3  _S2045 = _S2034[int(10)];
    float3  _S2046 = _S2034[int(11)];
    float3  _S2047 = _S2034[int(12)];
    float3  _S2048 = _S2034[int(13)];
    float3  _S2049 = _S2034[int(14)];
    float3  _S2050 = _S2034[int(15)];
    float3  _S2051 = _S2022.differential_0 + _S2021.differential_0;
    float2  _S2052 = make_float2 (0.0f, _S2023.differential_0);
    float _S2053;
    if(antialiased_11)
    {
        float _S2054 = _S1915 * _S2031;
        _S1917 = _S1910 * _S2031;
        _S2053 = _S2054;
    }
    else
    {
        _S1917 = _S2031;
        _S2053 = 0.0f;
    }
    float _S2055 = - (_S1917 / _S1916);
    DiffPair_float_0 _S2056;
    (&_S2056)->primal_0 = _S1913;
    (&_S2056)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2056, _S2055);
    float _S2057 = - _S2056.differential_0;
    float _S2058 = invdet_8 * _S2033.rows[int(1)].y;
    float _S2059 = - (invdet_8 * _S2033.rows[int(1)].x);
    float _S2060 = - (invdet_8 * _S2033.rows[int(0)].y);
    float _S2061 = invdet_8 * _S2033.rows[int(0)].x;
    float _S2062 = - ((_S1902 * _S2033.rows[int(1)].y + _S1912 * _S2033.rows[int(1)].x + _S1911 * _S2033.rows[int(0)].y + _S1904 * _S2033.rows[int(0)].x) / _S1908);
    DiffPair_float_0 _S2063;
    (&_S2063)->primal_0 = _S1909;
    (&_S2063)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2063, _S2053);
    DiffPair_float_0 _S2064;
    (&_S2064)->primal_0 = 0.0f;
    (&_S2064)->differential_0 = 0.0f;
    DiffPair_float_0 _S2065;
    (&_S2065)->primal_0 = _S1907;
    (&_S2065)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2064, &_S2065, _S2063.differential_0);
    float _S2066 = _S2065.differential_0 / _S1908;
    float s_diff_det_orig_T_1 = det_blur_7 * _S2066;
    float _S2067 = _S2062 + det_orig_12 * - _S2066;
    float _S2068 = - _S2067;
    float _S2069 = _S1902 * _S2067;
    float _S2070 = _S1904 * _S2067;
    Matrix<float, 2, 2>  _S2071 = _S1882;
    _S2071[int(1)] = _S2052;
    _S2071[int(0)] = _S2030;
    _S1903 = _S2071;
    *&(((&_S1903)->rows + (int(1)))->y) = 0.0f;
    float _S2072 = _S2061 + _S2069 + _S2071.rows[int(1)].y;
    *&(((&_S1903)->rows + (int(0)))->x) = 0.0f;
    float _S2073 = _S2058 + _S2070 + _S2071.rows[int(0)].x;
    float _S2074 = _S2068 + - s_diff_det_orig_T_1;
    float _S2075 = _S2059 + _S1900._S1184.rows[int(0)].y * _S2074;
    float _S2076 = _S2060 + _S1900._S1184.rows[int(1)].x * _S2074;
    float _S2077 = _S1900._S1184.rows[int(1)].y * s_diff_det_orig_T_1;
    float _S2078 = _S2072 + _S1900._S1184.rows[int(0)].x * s_diff_det_orig_T_1;
    float2  _S2079 = _S1897;
    *&((&_S2079)->x) = _S2075;
    *&((&_S2079)->y) = _S2078;
    float _S2080 = _S2073 + _S2077;
    float2  _S2081 = _S1897;
    *&((&_S2081)->y) = _S2076;
    *&((&_S2081)->x) = _S2080;
    Matrix<float, 2, 2>  _S2082 = _S1882;
    _S2082[int(1)] = _S2079;
    _S2082[int(0)] = _S2081;
    Matrix<float, 2, 2>  _S2083 = _S1903 + _S2082;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2084;
    (&_S2084)->primal_0 = mean_c_11;
    (&_S2084)->differential_0 = _S1950;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2085;
    (&_S2085)->primal_0 = _S1895;
    (&_S2085)->differential_0 = _S2012;
    float4  _S2086 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S2087;
    (&_S2087)->primal_0 = intrins_11;
    (&_S2087)->differential_0 = _S2086;
    FixedArray<float, 10>  _S2088 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C10x3E_0 _S2089;
    (&_S2089)->primal_0 = *dist_coeffs_24;
    (&_S2089)->differential_0 = _S2088;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S2090 = _S1900._S1185;
    s_bwd_prop_fisheye_proj_3dgs_0(&_S2084, &_S2085, &_S2087, &_S2089, _S2083, v_mean2d_1, &_S2090);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2091;
    (&_S2091)->primal_0 = _S1893;
    (&_S2091)->differential_0 = _S2012;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2092;
    (&_S2092)->primal_0 = _S1894;
    (&_S2092)->differential_0 = _S2012;
    s_bwd_prop_mul_4(&_S2091, &_S2092, _S2085.differential_0);
    Matrix<float, 3, 3>  _S2093 = transpose_0(_S2092.differential_0 + _S2015.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2094;
    (&_S2094)->primal_0 = R_18;
    (&_S2094)->differential_0 = _S2012;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2095;
    (&_S2095)->primal_0 = _S1892;
    (&_S2095)->differential_0 = _S2012;
    s_bwd_prop_mul_4(&_S2094, &_S2095, _S2091.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2096;
    (&_S2096)->primal_0 = _S1890;
    (&_S2096)->differential_0 = _S2012;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2097;
    (&_S2097)->primal_0 = _S1891;
    (&_S2097)->differential_0 = _S2012;
    s_bwd_prop_mul_4(&_S2096, &_S2097, _S2095.differential_0);
    Matrix<float, 3, 3>  _S2098 = _S2096.differential_0 + transpose_0(_S2097.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2099;
    (&_S2099)->primal_0 = _S1889;
    (&_S2099)->differential_0 = _S2012;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2100;
    (&_S2100)->primal_0 = S_1;
    (&_S2100)->differential_0 = _S2012;
    s_bwd_prop_mul_4(&_S2099, &_S2100, _S2098);
    Matrix<float, 3, 3>  _S2101 = transpose_0(_S2099.differential_0);
    float _S2102 = 2.0f * - _S2101.rows[int(2)].z;
    float _S2103 = 2.0f * _S2101.rows[int(2)].y;
    float _S2104 = 2.0f * _S2101.rows[int(2)].x;
    float _S2105 = 2.0f * _S2101.rows[int(1)].z;
    float _S2106 = 2.0f * - _S2101.rows[int(1)].y;
    float _S2107 = 2.0f * _S2101.rows[int(1)].x;
    float _S2108 = 2.0f * _S2101.rows[int(0)].z;
    float _S2109 = 2.0f * _S2101.rows[int(0)].y;
    float _S2110 = 2.0f * - _S2101.rows[int(0)].x;
    float _S2111 = - _S2107 + _S2109;
    float _S2112 = _S2104 + - _S2108;
    float _S2113 = - _S2103 + _S2105;
    float _S2114 = _S2103 + _S2105;
    float _S2115 = _S2104 + _S2108;
    float _S2116 = _S2107 + _S2109;
    float _S2117 = quat_15.w * (_S2106 + _S2110);
    float _S2118 = quat_15.z * (_S2102 + _S2110);
    float _S2119 = quat_15.y * (_S2102 + _S2106);
    float _S2120 = quat_15.x * _S2111 + quat_15.z * _S2114 + quat_15.y * _S2115 + _S2117 + _S2117;
    float _S2121 = quat_15.x * _S2112 + quat_15.w * _S2114 + quat_15.y * _S2116 + _S2118 + _S2118;
    float _S2122 = quat_15.x * _S2113 + quat_15.w * _S2115 + quat_15.z * _S2116 + _S2119 + _S2119;
    float _S2123 = quat_15.w * _S2111 + quat_15.z * _S2112 + quat_15.y * _S2113;
    float3  _S2124 = _S1950;
    *&((&_S2124)->z) = _S2100.differential_0.rows[int(2)].z;
    *&((&_S2124)->y) = _S2100.differential_0.rows[int(1)].y;
    *&((&_S2124)->x) = _S2100.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2125;
    (&_S2125)->primal_0 = scale_14;
    (&_S2125)->differential_0 = _S1950;
    s_bwd_prop_exp_1(&_S2125, _S2124);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2126 = _S2125;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2127;
    (&_S2127)->primal_0 = mean_c_11;
    (&_S2127)->differential_0 = _S1950;
    s_bwd_length_impl_1(&_S2127, 0.0f);
    float3  _S2128 = _S2084.differential_0 + _S2127.differential_0 + _S2051;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2129;
    (&_S2129)->primal_0 = R_18;
    (&_S2129)->differential_0 = _S2012;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2130;
    (&_S2130)->primal_0 = mean_12;
    (&_S2130)->differential_0 = _S1950;
    s_bwd_prop_mul_1(&_S2129, &_S2130, _S2128);
    float3  _S2131 = _S2128 + _S2016.differential_0;
    Matrix<float, 3, 3>  _S2132 = _S2093 + _S2094.differential_0 + _S2129.differential_0;
    float4  _S2133 = _S2086;
    *&((&_S2133)->w) = _S2120;
    *&((&_S2133)->z) = _S2121;
    *&((&_S2133)->y) = _S2122;
    *&((&_S2133)->x) = _S2123;
    float4  _S2134 = _S2133;
    float3  _S2135 = _S2130.differential_0 + _S2010;
    *v_mean_1 = _S2135;
    *v_quat_1 = _S2134;
    *v_scale_1 = _S2126.differential_0;
    *v_in_opacity_1 = _S2057;
    (*v_sh_coeffs_1)[int(0)] = _S2035;
    (*v_sh_coeffs_1)[int(1)] = _S2036;
    (*v_sh_coeffs_1)[int(2)] = _S2037;
    (*v_sh_coeffs_1)[int(3)] = _S2038;
    (*v_sh_coeffs_1)[int(4)] = _S2039;
    (*v_sh_coeffs_1)[int(5)] = _S2040;
    (*v_sh_coeffs_1)[int(6)] = _S2041;
    (*v_sh_coeffs_1)[int(7)] = _S2042;
    (*v_sh_coeffs_1)[int(8)] = _S2043;
    (*v_sh_coeffs_1)[int(9)] = _S2044;
    (*v_sh_coeffs_1)[int(10)] = _S2045;
    (*v_sh_coeffs_1)[int(11)] = _S2046;
    (*v_sh_coeffs_1)[int(12)] = _S2047;
    (*v_sh_coeffs_1)[int(13)] = _S2048;
    (*v_sh_coeffs_1)[int(14)] = _S2049;
    (*v_sh_coeffs_1)[int(15)] = _S2050;
    *v_R_3 = _S2132;
    *v_t_2 = _S2131;
    return;
}

inline __device__ void projection_3dgs_ortho_vjp(bool antialiased_12, float3  mean_13, float4  quat_16, float3  scale_15, float in_opacity_12, FixedArray<float3 , 16>  * sh_coeffs_12, Matrix<float, 3, 3>  R_19, float3  t_15, float fx_21, float fy_21, float cx_16, float cy_16, FixedArray<float, 10>  * dist_coeffs_25, uint image_width_12, uint image_height_12, float2  v_mean2d_2, float v_depth_2, float3  v_conic_2, float v_opacity_2, float3  v_rgb_2, float3  * v_mean_2, float4  * v_quat_2, float3  * v_scale_2, float * v_in_opacity_2, FixedArray<float3 , 16>  * v_sh_coeffs_2, Matrix<float, 3, 3>  * v_R_4, float3  * v_t_3)
{
    float3  mean_c_12 = s_primal_ctx_mul_0(R_19, mean_13) + t_15;
    float3  _S2136 = s_primal_ctx_exp_0(scale_15);
    float _S2137 = quat_16.y;
    float x2_16 = _S2137 * _S2137;
    float y2_16 = quat_16.z * quat_16.z;
    float z2_28 = quat_16.w * quat_16.w;
    float xy_16 = quat_16.y * quat_16.z;
    float xz_16 = quat_16.y * quat_16.w;
    float yz_16 = quat_16.z * quat_16.w;
    float wx_16 = quat_16.x * quat_16.y;
    float wy_16 = quat_16.x * quat_16.z;
    float wz_16 = quat_16.x * quat_16.w;
    Matrix<float, 3, 3>  _S2138 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_16 + z2_28), 2.0f * (xy_16 + wz_16), 2.0f * (xz_16 - wy_16), 2.0f * (xy_16 - wz_16), 1.0f - 2.0f * (x2_16 + z2_28), 2.0f * (yz_16 + wx_16), 2.0f * (xz_16 + wy_16), 2.0f * (yz_16 - wx_16), 1.0f - 2.0f * (x2_16 + y2_16)));
    Matrix<float, 3, 3>  S_2 = makeMatrix<float, 3, 3> (_S2136.x, 0.0f, 0.0f, 0.0f, _S2136.y, 0.0f, 0.0f, 0.0f, _S2136.z);
    Matrix<float, 3, 3>  _S2139 = s_primal_ctx_mul_1(_S2138, S_2);
    Matrix<float, 3, 3>  _S2140 = transpose_0(_S2139);
    Matrix<float, 3, 3>  _S2141 = s_primal_ctx_mul_1(_S2139, _S2140);
    Matrix<float, 3, 3>  _S2142 = s_primal_ctx_mul_1(R_19, _S2141);
    Matrix<float, 3, 3>  _S2143 = transpose_0(R_19);
    Matrix<float, 3, 3>  _S2144 = s_primal_ctx_mul_1(_S2142, _S2143);
    Matrix<float, 2, 3>  J_11 = makeMatrix<float, 2, 3> (fx_21, 0.0f, 0.0f, 0.0f, fy_21, 0.0f);
    Matrix<float, 2, 3>  _S2145 = s_primal_ctx_mul_2(J_11, _S2144);
    Matrix<float, 3, 2>  _S2146 = transpose_1(J_11);
    Matrix<float, 2, 2>  _S2147 = s_primal_ctx_mul_3(_S2145, _S2146);
    float _S2148 = _S2147.rows[int(0)].y * _S2147.rows[int(1)].x;
    float det_orig_13 = _S2147.rows[int(0)].x * _S2147.rows[int(1)].y - _S2148;
    float _S2149 = _S2147.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2150 = _S2147;
    *&(((&_S2150)->rows + (int(0)))->x) = _S2149;
    float _S2151 = _S2147.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2150)->rows + (int(1)))->y) = _S2151;
    Matrix<float, 2, 2>  _S2152 = _S2150;
    Matrix<float, 2, 2>  _S2153 = _S2150;
    float det_blur_8 = _S2149 * _S2151 - _S2148;
    float _S2154 = det_orig_13 / det_blur_8;
    float _S2155 = det_blur_8 * det_blur_8;
    float _S2156 = s_primal_ctx_max_0(0.0f, _S2154);
    float _S2157 = s_primal_ctx_sqrt_0(_S2156);
    float invdet_9 = 1.0f / det_blur_8;
    float _S2158 = - _S2147.rows[int(0)].y;
    float _S2159 = - _S2147.rows[int(1)].x;
    float _S2160 = - in_opacity_12;
    float _S2161 = 1.0f + s_primal_ctx_exp_1(_S2160);
    float _S2162 = 1.0f / _S2161;
    float _S2163 = _S2161 * _S2161;
    float _S2164;
    if(antialiased_12)
    {
        _S2164 = _S2162 * _S2157;
    }
    else
    {
        _S2164 = _S2162;
    }
    float _S2165 = _S2164 / 0.00392156885936856f;
    float _S2166 = 2.0f * s_primal_ctx_log_0(_S2165);
    float _S2167 = s_primal_ctx_sqrt_0(_S2166);
    float _S2168 = _S2152.rows[int(0)].x;
    float _S2169 = _S2153.rows[int(1)].y;
    float _S2170 = s_primal_ctx_dot_0(mean_c_12, mean_c_12) + 9.99999997475242708e-07f;
    float3  _S2171 = mean_13 - - s_primal_ctx_mul_0(_S2143, t_15);
    float _S2172 = _S2171.x;
    float _S2173 = _S2171.y;
    float _S2174 = _S2171.z;
    float _S2175 = _S2172 * _S2172 + _S2173 * _S2173 + _S2174 * _S2174;
    float _S2176 = s_primal_ctx_sqrt_0(_S2175);
    float x_38 = _S2172 / _S2176;
    float3  _S2177 = make_float3 (x_38);
    float _S2178 = _S2176 * _S2176;
    float y_15 = _S2173 / _S2176;
    float z_12 = _S2174 / _S2176;
    float3  _S2179 = make_float3 (z_12);
    float _S2180 = - y_15;
    float3  _S2181 = make_float3 (_S2180);
    float z2_29 = z_12 * z_12;
    float fTmp0B_12 = -1.09254848957061768f * z_12;
    float fC1_12 = x_38 * x_38 - y_15 * y_15;
    float _S2182 = 2.0f * x_38;
    float fS1_12 = _S2182 * y_15;
    float pSH6_2 = 0.94617468118667603f * z2_29 - 0.31539157032966614f;
    float3  _S2183 = make_float3 (pSH6_2);
    float pSH7_2 = fTmp0B_12 * x_38;
    float3  _S2184 = make_float3 (pSH7_2);
    float pSH5_2 = fTmp0B_12 * y_15;
    float3  _S2185 = make_float3 (pSH5_2);
    float pSH8_2 = 0.54627424478530884f * fC1_12;
    float3  _S2186 = make_float3 (pSH8_2);
    float pSH4_2 = 0.54627424478530884f * fS1_12;
    float3  _S2187 = make_float3 (pSH4_2);
    float fTmp0C_12 = -2.28522896766662598f * z2_29 + 0.4570457935333252f;
    float fTmp1B_12 = 1.44530570507049561f * z_12;
    float _S2188 = 1.86588168144226074f * z2_29 - 1.11952900886535645f;
    float pSH12_2 = z_12 * _S2188;
    float3  _S2189 = make_float3 (pSH12_2);
    float pSH13_2 = fTmp0C_12 * x_38;
    float3  _S2190 = make_float3 (pSH13_2);
    float pSH11_2 = fTmp0C_12 * y_15;
    float3  _S2191 = make_float3 (pSH11_2);
    float pSH14_2 = fTmp1B_12 * fC1_12;
    float3  _S2192 = make_float3 (pSH14_2);
    float pSH10_2 = fTmp1B_12 * fS1_12;
    float3  _S2193 = make_float3 (pSH10_2);
    float pSH15_2 = -0.59004360437393188f * (x_38 * fC1_12 - y_15 * fS1_12);
    float3  _S2194 = make_float3 (pSH15_2);
    float pSH9_2 = -0.59004360437393188f * (x_38 * fS1_12 + y_15 * fC1_12);
    float3  _S2195 = make_float3 (pSH9_2);
    float3  _S2196 = make_float3 (0.0f);
    float3  _S2197 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2198;
    (&_S2198)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_12)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2180) * (*sh_coeffs_12)[int(1)] + make_float3 (z_12) * (*sh_coeffs_12)[int(2)] - make_float3 (x_38) * (*sh_coeffs_12)[int(3)]) + (make_float3 (pSH4_2) * (*sh_coeffs_12)[int(4)] + make_float3 (pSH5_2) * (*sh_coeffs_12)[int(5)] + make_float3 (pSH6_2) * (*sh_coeffs_12)[int(6)] + make_float3 (pSH7_2) * (*sh_coeffs_12)[int(7)] + make_float3 (pSH8_2) * (*sh_coeffs_12)[int(8)]) + (make_float3 (pSH9_2) * (*sh_coeffs_12)[int(9)] + make_float3 (pSH10_2) * (*sh_coeffs_12)[int(10)] + make_float3 (pSH11_2) * (*sh_coeffs_12)[int(11)] + make_float3 (pSH12_2) * (*sh_coeffs_12)[int(12)] + make_float3 (pSH13_2) * (*sh_coeffs_12)[int(13)] + make_float3 (pSH14_2) * (*sh_coeffs_12)[int(14)] + make_float3 (pSH15_2) * (*sh_coeffs_12)[int(15)]) + make_float3 (0.5f);
    (&_S2198)->differential_0 = _S2197;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2199;
    (&_S2199)->primal_0 = _S2196;
    (&_S2199)->differential_0 = _S2197;
    s_bwd_prop_max_0(&_S2198, &_S2199, v_rgb_2);
    float3  _S2200 = _S2194 * _S2198.differential_0;
    float3  _S2201 = (*sh_coeffs_12)[int(15)] * _S2198.differential_0;
    float3  _S2202 = _S2192 * _S2198.differential_0;
    float3  _S2203 = (*sh_coeffs_12)[int(14)] * _S2198.differential_0;
    float3  _S2204 = _S2190 * _S2198.differential_0;
    float3  _S2205 = (*sh_coeffs_12)[int(13)] * _S2198.differential_0;
    float3  _S2206 = _S2189 * _S2198.differential_0;
    float3  _S2207 = (*sh_coeffs_12)[int(12)] * _S2198.differential_0;
    float3  _S2208 = _S2191 * _S2198.differential_0;
    float3  _S2209 = (*sh_coeffs_12)[int(11)] * _S2198.differential_0;
    float3  _S2210 = _S2193 * _S2198.differential_0;
    float3  _S2211 = (*sh_coeffs_12)[int(10)] * _S2198.differential_0;
    float3  _S2212 = _S2195 * _S2198.differential_0;
    float3  _S2213 = (*sh_coeffs_12)[int(9)] * _S2198.differential_0;
    float s_diff_fS2_T_2 = -0.59004360437393188f * (_S2213.x + _S2213.y + _S2213.z);
    float s_diff_fC2_T_2 = -0.59004360437393188f * (_S2201.x + _S2201.y + _S2201.z);
    float _S2214 = _S2211.x + _S2211.y + _S2211.z;
    float _S2215 = _S2203.x + _S2203.y + _S2203.z;
    float _S2216 = _S2209.x + _S2209.y + _S2209.z;
    float _S2217 = _S2205.x + _S2205.y + _S2205.z;
    float _S2218 = _S2207.x + _S2207.y + _S2207.z;
    float _S2219 = - s_diff_fC2_T_2;
    float3  _S2220 = _S2186 * _S2198.differential_0;
    float3  _S2221 = (*sh_coeffs_12)[int(8)] * _S2198.differential_0;
    float3  _S2222 = _S2184 * _S2198.differential_0;
    float3  _S2223 = (*sh_coeffs_12)[int(7)] * _S2198.differential_0;
    float3  _S2224 = _S2183 * _S2198.differential_0;
    float3  _S2225 = (*sh_coeffs_12)[int(6)] * _S2198.differential_0;
    float3  _S2226 = _S2185 * _S2198.differential_0;
    float3  _S2227 = (*sh_coeffs_12)[int(5)] * _S2198.differential_0;
    float3  _S2228 = _S2187 * _S2198.differential_0;
    float3  _S2229 = (*sh_coeffs_12)[int(4)] * _S2198.differential_0;
    float _S2230 = _S2227.x + _S2227.y + _S2227.z;
    float _S2231 = _S2223.x + _S2223.y + _S2223.z;
    float _S2232 = fTmp1B_12 * _S2214 + x_38 * s_diff_fS2_T_2 + y_15 * _S2219 + 0.54627424478530884f * (_S2229.x + _S2229.y + _S2229.z);
    float _S2233 = fTmp1B_12 * _S2215 + y_15 * s_diff_fS2_T_2 + x_38 * s_diff_fC2_T_2 + 0.54627424478530884f * (_S2221.x + _S2221.y + _S2221.z);
    float _S2234 = y_15 * - _S2233;
    float _S2235 = x_38 * _S2233;
    float _S2236 = z_12 * (1.86588168144226074f * (z_12 * _S2218) + -2.28522896766662598f * (y_15 * _S2216 + x_38 * _S2217) + 0.94617468118667603f * (_S2225.x + _S2225.y + _S2225.z));
    float3  _S2237 = make_float3 (0.48860251903533936f) * _S2198.differential_0;
    float3  _S2238 = - _S2237;
    float3  _S2239 = _S2177 * _S2238;
    float3  _S2240 = (*sh_coeffs_12)[int(3)] * _S2238;
    float3  _S2241 = _S2179 * _S2237;
    float3  _S2242 = (*sh_coeffs_12)[int(2)] * _S2237;
    float3  _S2243 = _S2181 * _S2237;
    float3  _S2244 = (*sh_coeffs_12)[int(1)] * _S2237;
    float _S2245 = (_S2188 * _S2218 + 1.44530570507049561f * (fS1_12 * _S2214 + fC1_12 * _S2215) + -1.09254848957061768f * (y_15 * _S2230 + x_38 * _S2231) + _S2236 + _S2236 + _S2242.x + _S2242.y + _S2242.z) / _S2178;
    float _S2246 = _S2176 * _S2245;
    float _S2247 = (fTmp0C_12 * _S2216 + fC1_12 * s_diff_fS2_T_2 + fS1_12 * _S2219 + fTmp0B_12 * _S2230 + _S2182 * _S2232 + _S2234 + _S2234 + - (_S2244.x + _S2244.y + _S2244.z)) / _S2178;
    float _S2248 = _S2176 * _S2247;
    float _S2249 = (fTmp0C_12 * _S2217 + fS1_12 * s_diff_fS2_T_2 + fC1_12 * s_diff_fC2_T_2 + fTmp0B_12 * _S2231 + 2.0f * (y_15 * _S2232) + _S2235 + _S2235 + _S2240.x + _S2240.y + _S2240.z) / _S2178;
    float _S2250 = _S2176 * _S2249;
    float _S2251 = _S2174 * - _S2245 + _S2173 * - _S2247 + _S2172 * - _S2249;
    DiffPair_float_0 _S2252;
    (&_S2252)->primal_0 = _S2175;
    (&_S2252)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2252, _S2251);
    float _S2253 = _S2174 * _S2252.differential_0;
    float _S2254 = _S2173 * _S2252.differential_0;
    float _S2255 = _S2172 * _S2252.differential_0;
    float3  _S2256 = make_float3 (0.282094806432724f) * _S2198.differential_0;
    float3  _S2257 = make_float3 (_S2250 + _S2255 + _S2255, _S2248 + _S2254 + _S2254, _S2246 + _S2253 + _S2253);
    float3  _S2258 = - - _S2257;
    Matrix<float, 3, 3>  _S2259 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2260;
    (&_S2260)->primal_0 = _S2143;
    (&_S2260)->differential_0 = _S2259;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2261;
    (&_S2261)->primal_0 = t_15;
    (&_S2261)->differential_0 = _S2197;
    s_bwd_prop_mul_1(&_S2260, &_S2261, _S2258);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2262 = _S2260;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2263 = _S2261;
    float2  _S2264 = make_float2 (0.0f);
    float2  _S2265 = _S2264;
    *&((&_S2265)->y) = v_conic_2.z;
    float2  _S2266 = _S2264;
    *&((&_S2266)->y) = v_conic_2.y;
    *&((&_S2266)->x) = v_conic_2.x;
    float _S2267 = 0.5f * v_depth_2;
    DiffPair_float_0 _S2268;
    (&_S2268)->primal_0 = _S2170;
    (&_S2268)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2268, _S2267);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2269;
    (&_S2269)->primal_0 = mean_c_12;
    (&_S2269)->differential_0 = _S2197;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2270;
    (&_S2270)->primal_0 = mean_c_12;
    (&_S2270)->differential_0 = _S2197;
    s_bwd_prop_dot_0(&_S2269, &_S2270, _S2268.differential_0);
    DiffPair_float_0 _S2271;
    (&_S2271)->primal_0 = _S2169;
    (&_S2271)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2271, 0.0f);
    DiffPair_float_0 _S2272;
    (&_S2272)->primal_0 = _S2168;
    (&_S2272)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2272, 0.0f);
    DiffPair_float_0 _S2273;
    (&_S2273)->primal_0 = 3.32999992370605469f;
    (&_S2273)->differential_0 = 0.0f;
    DiffPair_float_0 _S2274;
    (&_S2274)->primal_0 = _S2167;
    (&_S2274)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2273, &_S2274, 0.0f);
    DiffPair_float_0 _S2275;
    (&_S2275)->primal_0 = _S2166;
    (&_S2275)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2275, _S2274.differential_0);
    float _S2276 = 2.0f * _S2275.differential_0;
    DiffPair_float_0 _S2277;
    (&_S2277)->primal_0 = _S2165;
    (&_S2277)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2277, _S2276);
    float _S2278 = v_opacity_2 + 254.9999847412109375f * _S2277.differential_0;
    Matrix<float, 2, 2>  _S2279 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S2280 = _S2279;
    _S2280[int(1)] = _S2265;
    _S2280[int(0)] = _S2266;
    Matrix<float, 2, 2>  _S2281 = _S2280;
    FixedArray<float3 , 16>  _S2282;
    _S2282[int(0)] = _S2197;
    _S2282[int(1)] = _S2197;
    _S2282[int(2)] = _S2197;
    _S2282[int(3)] = _S2197;
    _S2282[int(4)] = _S2197;
    _S2282[int(5)] = _S2197;
    _S2282[int(6)] = _S2197;
    _S2282[int(7)] = _S2197;
    _S2282[int(8)] = _S2197;
    _S2282[int(9)] = _S2197;
    _S2282[int(10)] = _S2197;
    _S2282[int(11)] = _S2197;
    _S2282[int(12)] = _S2197;
    _S2282[int(13)] = _S2197;
    _S2282[int(14)] = _S2197;
    _S2282[int(15)] = _S2197;
    _S2282[int(7)] = _S2222;
    _S2282[int(0)] = _S2256;
    _S2282[int(1)] = _S2243;
    _S2282[int(2)] = _S2241;
    _S2282[int(3)] = _S2239;
    _S2282[int(4)] = _S2228;
    _S2282[int(5)] = _S2226;
    _S2282[int(6)] = _S2224;
    _S2282[int(15)] = _S2200;
    _S2282[int(8)] = _S2220;
    _S2282[int(9)] = _S2212;
    _S2282[int(10)] = _S2210;
    _S2282[int(11)] = _S2208;
    _S2282[int(12)] = _S2206;
    _S2282[int(13)] = _S2204;
    _S2282[int(14)] = _S2202;
    float3  _S2283 = _S2282[int(0)];
    float3  _S2284 = _S2282[int(1)];
    float3  _S2285 = _S2282[int(2)];
    float3  _S2286 = _S2282[int(3)];
    float3  _S2287 = _S2282[int(4)];
    float3  _S2288 = _S2282[int(5)];
    float3  _S2289 = _S2282[int(6)];
    float3  _S2290 = _S2282[int(7)];
    float3  _S2291 = _S2282[int(8)];
    float3  _S2292 = _S2282[int(9)];
    float3  _S2293 = _S2282[int(10)];
    float3  _S2294 = _S2282[int(11)];
    float3  _S2295 = _S2282[int(12)];
    float3  _S2296 = _S2282[int(13)];
    float3  _S2297 = _S2282[int(14)];
    float3  _S2298 = _S2282[int(15)];
    float3  _S2299 = _S2270.differential_0 + _S2269.differential_0;
    float2  _S2300 = make_float2 (0.0f, _S2271.differential_0);
    float2  _S2301 = make_float2 (_S2272.differential_0, 0.0f);
    float _S2302;
    if(antialiased_12)
    {
        float _S2303 = _S2162 * _S2278;
        _S2164 = _S2157 * _S2278;
        _S2302 = _S2303;
    }
    else
    {
        _S2164 = _S2278;
        _S2302 = 0.0f;
    }
    float _S2304 = - (_S2164 / _S2163);
    DiffPair_float_0 _S2305;
    (&_S2305)->primal_0 = _S2160;
    (&_S2305)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2305, _S2304);
    float _S2306 = - _S2305.differential_0;
    float _S2307 = invdet_9 * _S2281.rows[int(1)].y;
    float _S2308 = - (invdet_9 * _S2281.rows[int(1)].x);
    float _S2309 = - (invdet_9 * _S2281.rows[int(0)].y);
    float _S2310 = invdet_9 * _S2281.rows[int(0)].x;
    float _S2311 = - ((_S2149 * _S2281.rows[int(1)].y + _S2159 * _S2281.rows[int(1)].x + _S2158 * _S2281.rows[int(0)].y + _S2151 * _S2281.rows[int(0)].x) / _S2155);
    DiffPair_float_0 _S2312;
    (&_S2312)->primal_0 = _S2156;
    (&_S2312)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2312, _S2302);
    DiffPair_float_0 _S2313;
    (&_S2313)->primal_0 = 0.0f;
    (&_S2313)->differential_0 = 0.0f;
    DiffPair_float_0 _S2314;
    (&_S2314)->primal_0 = _S2154;
    (&_S2314)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2313, &_S2314, _S2312.differential_0);
    float _S2315 = _S2314.differential_0 / _S2155;
    float s_diff_det_orig_T_2 = det_blur_8 * _S2315;
    float _S2316 = _S2311 + det_orig_13 * - _S2315;
    float _S2317 = - _S2316;
    float _S2318 = _S2149 * _S2316;
    float _S2319 = _S2151 * _S2316;
    Matrix<float, 2, 2>  _S2320 = _S2279;
    _S2320[int(1)] = _S2300;
    _S2320[int(0)] = _S2301;
    _S2150 = _S2320;
    *&(((&_S2150)->rows + (int(1)))->y) = 0.0f;
    float _S2321 = _S2310 + _S2318 + _S2320.rows[int(1)].y;
    *&(((&_S2150)->rows + (int(0)))->x) = 0.0f;
    float _S2322 = _S2307 + _S2319 + _S2320.rows[int(0)].x;
    float _S2323 = _S2317 + - s_diff_det_orig_T_2;
    float _S2324 = _S2308 + _S2147.rows[int(0)].y * _S2323;
    float _S2325 = _S2309 + _S2147.rows[int(1)].x * _S2323;
    float _S2326 = _S2147.rows[int(1)].y * s_diff_det_orig_T_2;
    float _S2327 = _S2321 + _S2147.rows[int(0)].x * s_diff_det_orig_T_2;
    float2  _S2328 = _S2264;
    *&((&_S2328)->x) = _S2324;
    *&((&_S2328)->y) = _S2327;
    float _S2329 = _S2322 + _S2326;
    float2  _S2330 = _S2264;
    *&((&_S2330)->y) = _S2325;
    *&((&_S2330)->x) = _S2329;
    float _S2331 = fy_21 * v_mean2d_2.y;
    float _S2332 = fx_21 * v_mean2d_2.x;
    Matrix<float, 2, 2>  _S2333 = _S2279;
    _S2333[int(1)] = _S2328;
    _S2333[int(0)] = _S2330;
    Matrix<float, 2, 2>  _S2334 = _S2150 + _S2333;
    Matrix<float, 2, 3>  _S2335 = makeMatrix<float, 2, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2336;
    (&_S2336)->primal_0 = _S2145;
    (&_S2336)->differential_0 = _S2335;
    Matrix<float, 3, 2>  _S2337 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S2338;
    (&_S2338)->primal_0 = _S2146;
    (&_S2338)->differential_0 = _S2337;
    s_bwd_prop_mul_2(&_S2336, &_S2338, _S2334);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2339;
    (&_S2339)->primal_0 = J_11;
    (&_S2339)->differential_0 = _S2335;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2340;
    (&_S2340)->primal_0 = _S2144;
    (&_S2340)->differential_0 = _S2259;
    s_bwd_prop_mul_3(&_S2339, &_S2340, _S2336.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2341;
    (&_S2341)->primal_0 = _S2142;
    (&_S2341)->differential_0 = _S2259;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2342;
    (&_S2342)->primal_0 = _S2143;
    (&_S2342)->differential_0 = _S2259;
    s_bwd_prop_mul_4(&_S2341, &_S2342, _S2340.differential_0);
    Matrix<float, 3, 3>  _S2343 = transpose_0(_S2342.differential_0 + _S2262.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2344;
    (&_S2344)->primal_0 = R_19;
    (&_S2344)->differential_0 = _S2259;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2345;
    (&_S2345)->primal_0 = _S2141;
    (&_S2345)->differential_0 = _S2259;
    s_bwd_prop_mul_4(&_S2344, &_S2345, _S2341.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2346;
    (&_S2346)->primal_0 = _S2139;
    (&_S2346)->differential_0 = _S2259;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2347;
    (&_S2347)->primal_0 = _S2140;
    (&_S2347)->differential_0 = _S2259;
    s_bwd_prop_mul_4(&_S2346, &_S2347, _S2345.differential_0);
    Matrix<float, 3, 3>  _S2348 = _S2346.differential_0 + transpose_0(_S2347.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2349;
    (&_S2349)->primal_0 = _S2138;
    (&_S2349)->differential_0 = _S2259;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2350;
    (&_S2350)->primal_0 = S_2;
    (&_S2350)->differential_0 = _S2259;
    s_bwd_prop_mul_4(&_S2349, &_S2350, _S2348);
    Matrix<float, 3, 3>  _S2351 = transpose_0(_S2349.differential_0);
    float _S2352 = 2.0f * - _S2351.rows[int(2)].z;
    float _S2353 = 2.0f * _S2351.rows[int(2)].y;
    float _S2354 = 2.0f * _S2351.rows[int(2)].x;
    float _S2355 = 2.0f * _S2351.rows[int(1)].z;
    float _S2356 = 2.0f * - _S2351.rows[int(1)].y;
    float _S2357 = 2.0f * _S2351.rows[int(1)].x;
    float _S2358 = 2.0f * _S2351.rows[int(0)].z;
    float _S2359 = 2.0f * _S2351.rows[int(0)].y;
    float _S2360 = 2.0f * - _S2351.rows[int(0)].x;
    float _S2361 = - _S2357 + _S2359;
    float _S2362 = _S2354 + - _S2358;
    float _S2363 = - _S2353 + _S2355;
    float _S2364 = _S2353 + _S2355;
    float _S2365 = _S2354 + _S2358;
    float _S2366 = _S2357 + _S2359;
    float _S2367 = quat_16.w * (_S2356 + _S2360);
    float _S2368 = quat_16.z * (_S2352 + _S2360);
    float _S2369 = quat_16.y * (_S2352 + _S2356);
    float _S2370 = quat_16.x * _S2361 + quat_16.z * _S2364 + quat_16.y * _S2365 + _S2367 + _S2367;
    float _S2371 = quat_16.x * _S2362 + quat_16.w * _S2364 + quat_16.y * _S2366 + _S2368 + _S2368;
    float _S2372 = quat_16.x * _S2363 + quat_16.w * _S2365 + quat_16.z * _S2366 + _S2369 + _S2369;
    float _S2373 = quat_16.w * _S2361 + quat_16.z * _S2362 + quat_16.y * _S2363;
    float3  _S2374 = _S2197;
    *&((&_S2374)->z) = _S2350.differential_0.rows[int(2)].z;
    *&((&_S2374)->y) = _S2350.differential_0.rows[int(1)].y;
    *&((&_S2374)->x) = _S2350.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2375;
    (&_S2375)->primal_0 = scale_15;
    (&_S2375)->differential_0 = _S2197;
    s_bwd_prop_exp_1(&_S2375, _S2374);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2376 = _S2375;
    float3  _S2377 = _S2197;
    *&((&_S2377)->y) = _S2331;
    *&((&_S2377)->x) = _S2332;
    float3  _S2378 = _S2299 + _S2377;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2379;
    (&_S2379)->primal_0 = R_19;
    (&_S2379)->differential_0 = _S2259;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2380;
    (&_S2380)->primal_0 = mean_13;
    (&_S2380)->differential_0 = _S2197;
    s_bwd_prop_mul_1(&_S2379, &_S2380, _S2378);
    float3  _S2381 = _S2378 + _S2263.differential_0;
    Matrix<float, 3, 3>  _S2382 = _S2343 + _S2344.differential_0 + _S2379.differential_0;
    float4  _S2383 = make_float4 (0.0f);
    *&((&_S2383)->w) = _S2370;
    *&((&_S2383)->z) = _S2371;
    *&((&_S2383)->y) = _S2372;
    *&((&_S2383)->x) = _S2373;
    float4  _S2384 = _S2383;
    float3  _S2385 = _S2380.differential_0 + _S2257;
    *v_mean_2 = _S2385;
    *v_quat_2 = _S2384;
    *v_scale_2 = _S2376.differential_0;
    *v_in_opacity_2 = _S2306;
    (*v_sh_coeffs_2)[int(0)] = _S2283;
    (*v_sh_coeffs_2)[int(1)] = _S2284;
    (*v_sh_coeffs_2)[int(2)] = _S2285;
    (*v_sh_coeffs_2)[int(3)] = _S2286;
    (*v_sh_coeffs_2)[int(4)] = _S2287;
    (*v_sh_coeffs_2)[int(5)] = _S2288;
    (*v_sh_coeffs_2)[int(6)] = _S2289;
    (*v_sh_coeffs_2)[int(7)] = _S2290;
    (*v_sh_coeffs_2)[int(8)] = _S2291;
    (*v_sh_coeffs_2)[int(9)] = _S2292;
    (*v_sh_coeffs_2)[int(10)] = _S2293;
    (*v_sh_coeffs_2)[int(11)] = _S2294;
    (*v_sh_coeffs_2)[int(12)] = _S2295;
    (*v_sh_coeffs_2)[int(13)] = _S2296;
    (*v_sh_coeffs_2)[int(14)] = _S2297;
    (*v_sh_coeffs_2)[int(15)] = _S2298;
    *v_R_4 = _S2382;
    *v_t_3 = _S2381;
    return;
}

struct s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S2386;
};

inline __device__ void projection_3dgut_persp_vjp(bool antialiased_13, float3  mean_14, float4  quat_17, float3  scale_16, float in_opacity_13, FixedArray<float3 , 16>  * sh_coeffs_13, Matrix<float, 3, 3>  R_20, float3  t_16, float fx_22, float fy_22, float cx_17, float cy_17, FixedArray<float, 10>  * dist_coeffs_26, uint image_width_13, uint image_height_13, float2  v_mean2d_3, float v_depth_3, float3  v_conic_3, float v_opacity_3, float3  v_rgb_3, float3  * v_mean_3, float4  * v_quat_3, float3  * v_scale_3, float * v_in_opacity_3, FixedArray<float3 , 16>  * v_sh_coeffs_3, Matrix<float, 3, 3>  * v_R_5, float3  * v_t_4)
{
    Matrix<float, 2, 2>  _S2387 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2388;
    (&_S2388)->_S2386 = _S2387;
    float2  _S2389 = make_float2 (0.0f);
    float3  _S2390 = make_float3 (0.0f);
    float4  intrins_12 = make_float4 (fx_22, fy_22, cx_17, cy_17);
    float3  _S2391 = s_primal_ctx_exp_0(scale_16);
    float _S2392 = quat_17.y;
    float x2_17 = _S2392 * _S2392;
    float y2_17 = quat_17.z * quat_17.z;
    float z2_30 = quat_17.w * quat_17.w;
    float xy_17 = quat_17.y * quat_17.z;
    float xz_17 = quat_17.y * quat_17.w;
    float yz_17 = quat_17.z * quat_17.w;
    float wx_17 = quat_17.x * quat_17.y;
    float wy_17 = quat_17.x * quat_17.z;
    float wz_17 = quat_17.x * quat_17.w;
    Matrix<float, 3, 3>  _S2393 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_17 + z2_30), 2.0f * (xy_17 + wz_17), 2.0f * (xz_17 - wy_17), 2.0f * (xy_17 - wz_17), 1.0f - 2.0f * (x2_17 + z2_30), 2.0f * (yz_17 + wx_17), 2.0f * (xz_17 + wy_17), 2.0f * (yz_17 - wx_17), 1.0f - 2.0f * (x2_17 + y2_17))));
    FixedArray<float3 , 7>  _S2394 = {
        _S2390, _S2390, _S2390, _S2390, _S2390, _S2390, _S2390
    };
    FixedArray<float, 7>  _S2395 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S2396;
    (&_S2396)->p_0 = _S2394;
    (&_S2396)->w_mean_0 = _S2395;
    (&_S2396)->w_cov_0 = _S2395;
    (&_S2396)->p_0[int(0)] = mean_14;
    SigmaPoints_0 _S2397 = _S2396;
    (&_S2397)->w_mean_0[int(0)] = 0.0f;
    (&_S2397)->w_cov_0[int(0)] = 2.0f;
    float _S2398 = s_primal_ctx_sqrt_0(3.0f);
    float _S2399 = _S2398 * _S2391.x;
    float3  delta_12 = make_float3 (_S2399) * _S2393.rows[0U];
    float3  _S2400 = mean_14 + delta_12;
    float3  _S2401 = mean_14 - delta_12;
    float _S2402 = _S2398 * _S2391.y;
    float3  delta_13 = make_float3 (_S2402) * _S2393.rows[1U];
    float3  _S2403 = mean_14 + delta_13;
    float3  _S2404 = mean_14 - delta_13;
    float _S2405 = _S2398 * _S2391.z;
    float3  delta_14 = make_float3 (_S2405) * _S2393.rows[2U];
    float3  _S2406 = mean_14 + delta_14;
    float3  _S2407 = mean_14 - delta_14;
    (&_S2397)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S2397)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S2397)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S2397)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S2397)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S2397)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S2397)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S2397)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S2397)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S2397)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S2397)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S2397)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S2408 = _S2396;
    (&_S2397)->p_0[0U] = s_primal_ctx_mul_0(R_20, _S2396.p_0[0U]) + t_16;
    (&_S2397)->p_0[1U] = s_primal_ctx_mul_0(R_20, _S2400) + t_16;
    (&_S2397)->p_0[2U] = s_primal_ctx_mul_0(R_20, _S2403) + t_16;
    (&_S2397)->p_0[3U] = s_primal_ctx_mul_0(R_20, _S2406) + t_16;
    (&_S2397)->p_0[4U] = s_primal_ctx_mul_0(R_20, _S2401) + t_16;
    (&_S2397)->p_0[5U] = s_primal_ctx_mul_0(R_20, _S2404) + t_16;
    (&_S2397)->p_0[6U] = s_primal_ctx_mul_0(R_20, _S2407) + t_16;
    float2  _S2409 = _S2389;
    Matrix<float, 2, 2>  _S2410 = _S2387;
    SigmaPoints_0 _S2411 = _S2397;
    bool _S2412 = persp_proj_3dgs_ut_1(&_S2411, intrins_12, dist_coeffs_26, image_width_13, image_height_13, &_S2410, &_S2409);
    (&_S2388)->_S2386 = _S2410;
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2413 = _S2388;
    float3  mean_c_13 = s_primal_ctx_mul_0(R_20, mean_14) + t_16;
    float3  _S2414 = make_float3 (_S2399);
    float3  _S2415 = make_float3 (_S2402);
    float3  _S2416 = make_float3 (_S2405);
    float _S2417 = _S2388._S2386.rows[int(0)].y * _S2388._S2386.rows[int(1)].x;
    float det_orig_14 = _S2388._S2386.rows[int(0)].x * _S2388._S2386.rows[int(1)].y - _S2417;
    float _S2418 = _S2388._S2386.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2419 = _S2388._S2386;
    *&(((&_S2419)->rows + (int(0)))->x) = _S2418;
    float _S2420 = _S2388._S2386.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2419)->rows + (int(1)))->y) = _S2420;
    Matrix<float, 2, 2>  _S2421 = _S2419;
    Matrix<float, 2, 2>  _S2422 = _S2419;
    float det_blur_9 = _S2418 * _S2420 - _S2417;
    float _S2423 = det_orig_14 / det_blur_9;
    float _S2424 = det_blur_9 * det_blur_9;
    float _S2425 = s_primal_ctx_max_0(0.0f, _S2423);
    float _S2426 = s_primal_ctx_sqrt_0(_S2425);
    float _S2427 = - in_opacity_13;
    float _S2428 = 1.0f + s_primal_ctx_exp_1(_S2427);
    float _S2429 = 1.0f / _S2428;
    float _S2430 = _S2428 * _S2428;
    float _S2431;
    if(antialiased_13)
    {
        _S2431 = _S2429 * _S2426;
    }
    else
    {
        _S2431 = _S2429;
    }
    float _S2432 = _S2431 / 0.00392156885936856f;
    float _S2433 = 2.0f * s_primal_ctx_log_0(_S2432);
    float _S2434 = s_primal_ctx_sqrt_0(_S2433);
    float _S2435 = _S2421.rows[int(0)].x;
    float _S2436 = _S2422.rows[int(1)].y;
    float _S2437 = s_primal_ctx_dot_0(mean_c_13, mean_c_13) + 9.99999997475242708e-07f;
    float3  _S2438 = - scale_16;
    Matrix<float, 3, 3>  _S2439 = transpose_0(R_20);
    float3  _S2440 = mean_14 - - s_primal_ctx_mul_0(_S2439, t_16);
    float _S2441 = _S2440.x;
    float _S2442 = _S2440.y;
    float _S2443 = _S2440.z;
    float _S2444 = _S2441 * _S2441 + _S2442 * _S2442 + _S2443 * _S2443;
    float _S2445 = s_primal_ctx_sqrt_0(_S2444);
    float x_39 = _S2441 / _S2445;
    float3  _S2446 = make_float3 (x_39);
    float _S2447 = _S2445 * _S2445;
    float y_16 = _S2442 / _S2445;
    float z_13 = _S2443 / _S2445;
    float3  _S2448 = make_float3 (z_13);
    float _S2449 = - y_16;
    float3  _S2450 = make_float3 (_S2449);
    float z2_31 = z_13 * z_13;
    float fTmp0B_13 = -1.09254848957061768f * z_13;
    float fC1_13 = x_39 * x_39 - y_16 * y_16;
    float _S2451 = 2.0f * x_39;
    float fS1_13 = _S2451 * y_16;
    float pSH6_3 = 0.94617468118667603f * z2_31 - 0.31539157032966614f;
    float3  _S2452 = make_float3 (pSH6_3);
    float pSH7_3 = fTmp0B_13 * x_39;
    float3  _S2453 = make_float3 (pSH7_3);
    float pSH5_3 = fTmp0B_13 * y_16;
    float3  _S2454 = make_float3 (pSH5_3);
    float pSH8_3 = 0.54627424478530884f * fC1_13;
    float3  _S2455 = make_float3 (pSH8_3);
    float pSH4_3 = 0.54627424478530884f * fS1_13;
    float3  _S2456 = make_float3 (pSH4_3);
    float fTmp0C_13 = -2.28522896766662598f * z2_31 + 0.4570457935333252f;
    float fTmp1B_13 = 1.44530570507049561f * z_13;
    float _S2457 = 1.86588168144226074f * z2_31 - 1.11952900886535645f;
    float pSH12_3 = z_13 * _S2457;
    float3  _S2458 = make_float3 (pSH12_3);
    float pSH13_3 = fTmp0C_13 * x_39;
    float3  _S2459 = make_float3 (pSH13_3);
    float pSH11_3 = fTmp0C_13 * y_16;
    float3  _S2460 = make_float3 (pSH11_3);
    float pSH14_3 = fTmp1B_13 * fC1_13;
    float3  _S2461 = make_float3 (pSH14_3);
    float pSH10_3 = fTmp1B_13 * fS1_13;
    float3  _S2462 = make_float3 (pSH10_3);
    float pSH15_3 = -0.59004360437393188f * (x_39 * fC1_13 - y_16 * fS1_13);
    float3  _S2463 = make_float3 (pSH15_3);
    float pSH9_3 = -0.59004360437393188f * (x_39 * fS1_13 + y_16 * fC1_13);
    float3  _S2464 = make_float3 (pSH9_3);
    float3  _S2465 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2466;
    (&_S2466)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_13)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2449) * (*sh_coeffs_13)[int(1)] + make_float3 (z_13) * (*sh_coeffs_13)[int(2)] - make_float3 (x_39) * (*sh_coeffs_13)[int(3)]) + (make_float3 (pSH4_3) * (*sh_coeffs_13)[int(4)] + make_float3 (pSH5_3) * (*sh_coeffs_13)[int(5)] + make_float3 (pSH6_3) * (*sh_coeffs_13)[int(6)] + make_float3 (pSH7_3) * (*sh_coeffs_13)[int(7)] + make_float3 (pSH8_3) * (*sh_coeffs_13)[int(8)]) + (make_float3 (pSH9_3) * (*sh_coeffs_13)[int(9)] + make_float3 (pSH10_3) * (*sh_coeffs_13)[int(10)] + make_float3 (pSH11_3) * (*sh_coeffs_13)[int(11)] + make_float3 (pSH12_3) * (*sh_coeffs_13)[int(12)] + make_float3 (pSH13_3) * (*sh_coeffs_13)[int(13)] + make_float3 (pSH14_3) * (*sh_coeffs_13)[int(14)] + make_float3 (pSH15_3) * (*sh_coeffs_13)[int(15)]) + make_float3 (0.5f);
    (&_S2466)->differential_0 = _S2390;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2467;
    (&_S2467)->primal_0 = _S2465;
    (&_S2467)->differential_0 = _S2390;
    s_bwd_prop_max_0(&_S2466, &_S2467, v_rgb_3);
    float3  _S2468 = _S2463 * _S2466.differential_0;
    float3  _S2469 = (*sh_coeffs_13)[int(15)] * _S2466.differential_0;
    float3  _S2470 = _S2461 * _S2466.differential_0;
    float3  _S2471 = (*sh_coeffs_13)[int(14)] * _S2466.differential_0;
    float3  _S2472 = _S2459 * _S2466.differential_0;
    float3  _S2473 = (*sh_coeffs_13)[int(13)] * _S2466.differential_0;
    float3  _S2474 = _S2458 * _S2466.differential_0;
    float3  _S2475 = (*sh_coeffs_13)[int(12)] * _S2466.differential_0;
    float3  _S2476 = _S2460 * _S2466.differential_0;
    float3  _S2477 = (*sh_coeffs_13)[int(11)] * _S2466.differential_0;
    float3  _S2478 = _S2462 * _S2466.differential_0;
    float3  _S2479 = (*sh_coeffs_13)[int(10)] * _S2466.differential_0;
    float3  _S2480 = _S2464 * _S2466.differential_0;
    float3  _S2481 = (*sh_coeffs_13)[int(9)] * _S2466.differential_0;
    float s_diff_fS2_T_3 = -0.59004360437393188f * (_S2481.x + _S2481.y + _S2481.z);
    float s_diff_fC2_T_3 = -0.59004360437393188f * (_S2469.x + _S2469.y + _S2469.z);
    float _S2482 = _S2479.x + _S2479.y + _S2479.z;
    float _S2483 = _S2471.x + _S2471.y + _S2471.z;
    float _S2484 = _S2477.x + _S2477.y + _S2477.z;
    float _S2485 = _S2473.x + _S2473.y + _S2473.z;
    float _S2486 = _S2475.x + _S2475.y + _S2475.z;
    float _S2487 = - s_diff_fC2_T_3;
    float3  _S2488 = _S2455 * _S2466.differential_0;
    float3  _S2489 = (*sh_coeffs_13)[int(8)] * _S2466.differential_0;
    float3  _S2490 = _S2453 * _S2466.differential_0;
    float3  _S2491 = (*sh_coeffs_13)[int(7)] * _S2466.differential_0;
    float3  _S2492 = _S2452 * _S2466.differential_0;
    float3  _S2493 = (*sh_coeffs_13)[int(6)] * _S2466.differential_0;
    float3  _S2494 = _S2454 * _S2466.differential_0;
    float3  _S2495 = (*sh_coeffs_13)[int(5)] * _S2466.differential_0;
    float3  _S2496 = _S2456 * _S2466.differential_0;
    float3  _S2497 = (*sh_coeffs_13)[int(4)] * _S2466.differential_0;
    float _S2498 = _S2495.x + _S2495.y + _S2495.z;
    float _S2499 = _S2491.x + _S2491.y + _S2491.z;
    float _S2500 = fTmp1B_13 * _S2482 + x_39 * s_diff_fS2_T_3 + y_16 * _S2487 + 0.54627424478530884f * (_S2497.x + _S2497.y + _S2497.z);
    float _S2501 = fTmp1B_13 * _S2483 + y_16 * s_diff_fS2_T_3 + x_39 * s_diff_fC2_T_3 + 0.54627424478530884f * (_S2489.x + _S2489.y + _S2489.z);
    float _S2502 = y_16 * - _S2501;
    float _S2503 = x_39 * _S2501;
    float _S2504 = z_13 * (1.86588168144226074f * (z_13 * _S2486) + -2.28522896766662598f * (y_16 * _S2484 + x_39 * _S2485) + 0.94617468118667603f * (_S2493.x + _S2493.y + _S2493.z));
    float3  _S2505 = make_float3 (0.48860251903533936f) * _S2466.differential_0;
    float3  _S2506 = - _S2505;
    float3  _S2507 = _S2446 * _S2506;
    float3  _S2508 = (*sh_coeffs_13)[int(3)] * _S2506;
    float3  _S2509 = _S2448 * _S2505;
    float3  _S2510 = (*sh_coeffs_13)[int(2)] * _S2505;
    float3  _S2511 = _S2450 * _S2505;
    float3  _S2512 = (*sh_coeffs_13)[int(1)] * _S2505;
    float _S2513 = (_S2457 * _S2486 + 1.44530570507049561f * (fS1_13 * _S2482 + fC1_13 * _S2483) + -1.09254848957061768f * (y_16 * _S2498 + x_39 * _S2499) + _S2504 + _S2504 + _S2510.x + _S2510.y + _S2510.z) / _S2447;
    float _S2514 = _S2445 * _S2513;
    float _S2515 = (fTmp0C_13 * _S2484 + fC1_13 * s_diff_fS2_T_3 + fS1_13 * _S2487 + fTmp0B_13 * _S2498 + _S2451 * _S2500 + _S2502 + _S2502 + - (_S2512.x + _S2512.y + _S2512.z)) / _S2447;
    float _S2516 = _S2445 * _S2515;
    float _S2517 = (fTmp0C_13 * _S2485 + fS1_13 * s_diff_fS2_T_3 + fC1_13 * s_diff_fC2_T_3 + fTmp0B_13 * _S2499 + 2.0f * (y_16 * _S2500) + _S2503 + _S2503 + _S2508.x + _S2508.y + _S2508.z) / _S2447;
    float _S2518 = _S2445 * _S2517;
    float _S2519 = _S2443 * - _S2513 + _S2442 * - _S2515 + _S2441 * - _S2517;
    DiffPair_float_0 _S2520;
    (&_S2520)->primal_0 = _S2444;
    (&_S2520)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2520, _S2519);
    float _S2521 = _S2443 * _S2520.differential_0;
    float _S2522 = _S2442 * _S2520.differential_0;
    float _S2523 = _S2441 * _S2520.differential_0;
    float3  _S2524 = make_float3 (0.282094806432724f) * _S2466.differential_0;
    float3  _S2525 = make_float3 (_S2518 + _S2523 + _S2523, _S2516 + _S2522 + _S2522, _S2514 + _S2521 + _S2521);
    float3  _S2526 = - - _S2525;
    Matrix<float, 3, 3>  _S2527 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2528;
    (&_S2528)->primal_0 = _S2439;
    (&_S2528)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2529;
    (&_S2529)->primal_0 = t_16;
    (&_S2529)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2528, &_S2529, _S2526);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2530 = _S2529;
    Matrix<float, 3, 3>  _S2531 = transpose_0(_S2528.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2532;
    (&_S2532)->primal_0 = _S2438;
    (&_S2532)->differential_0 = _S2390;
    s_bwd_prop_exp_1(&_S2532, v_conic_3);
    float3  _S2533 = - _S2532.differential_0;
    float _S2534 = 0.5f * v_depth_3;
    DiffPair_float_0 _S2535;
    (&_S2535)->primal_0 = _S2437;
    (&_S2535)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2535, _S2534);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2536;
    (&_S2536)->primal_0 = mean_c_13;
    (&_S2536)->differential_0 = _S2390;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2537;
    (&_S2537)->primal_0 = mean_c_13;
    (&_S2537)->differential_0 = _S2390;
    s_bwd_prop_dot_0(&_S2536, &_S2537, _S2535.differential_0);
    DiffPair_float_0 _S2538;
    (&_S2538)->primal_0 = _S2436;
    (&_S2538)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2538, 0.0f);
    DiffPair_float_0 _S2539;
    (&_S2539)->primal_0 = _S2435;
    (&_S2539)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2539, 0.0f);
    DiffPair_float_0 _S2540;
    (&_S2540)->primal_0 = 3.32999992370605469f;
    (&_S2540)->differential_0 = 0.0f;
    DiffPair_float_0 _S2541;
    (&_S2541)->primal_0 = _S2434;
    (&_S2541)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2540, &_S2541, 0.0f);
    DiffPair_float_0 _S2542;
    (&_S2542)->primal_0 = _S2433;
    (&_S2542)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2542, _S2541.differential_0);
    float _S2543 = 2.0f * _S2542.differential_0;
    DiffPair_float_0 _S2544;
    (&_S2544)->primal_0 = _S2432;
    (&_S2544)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2544, _S2543);
    float _S2545 = v_opacity_3 + 254.9999847412109375f * _S2544.differential_0;
    FixedArray<float3 , 16>  _S2546;
    _S2546[int(0)] = _S2390;
    _S2546[int(1)] = _S2390;
    _S2546[int(2)] = _S2390;
    _S2546[int(3)] = _S2390;
    _S2546[int(4)] = _S2390;
    _S2546[int(5)] = _S2390;
    _S2546[int(6)] = _S2390;
    _S2546[int(7)] = _S2390;
    _S2546[int(8)] = _S2390;
    _S2546[int(9)] = _S2390;
    _S2546[int(10)] = _S2390;
    _S2546[int(11)] = _S2390;
    _S2546[int(12)] = _S2390;
    _S2546[int(13)] = _S2390;
    _S2546[int(14)] = _S2390;
    _S2546[int(15)] = _S2390;
    _S2546[int(7)] = _S2490;
    _S2546[int(0)] = _S2524;
    _S2546[int(1)] = _S2511;
    _S2546[int(2)] = _S2509;
    _S2546[int(3)] = _S2507;
    _S2546[int(4)] = _S2496;
    _S2546[int(5)] = _S2494;
    _S2546[int(6)] = _S2492;
    _S2546[int(15)] = _S2468;
    _S2546[int(8)] = _S2488;
    _S2546[int(9)] = _S2480;
    _S2546[int(10)] = _S2478;
    _S2546[int(11)] = _S2476;
    _S2546[int(12)] = _S2474;
    _S2546[int(13)] = _S2472;
    _S2546[int(14)] = _S2470;
    float3  _S2547 = _S2546[int(0)];
    float3  _S2548 = _S2546[int(1)];
    float3  _S2549 = _S2546[int(2)];
    float3  _S2550 = _S2546[int(3)];
    float3  _S2551 = _S2546[int(4)];
    float3  _S2552 = _S2546[int(5)];
    float3  _S2553 = _S2546[int(6)];
    float3  _S2554 = _S2546[int(7)];
    float3  _S2555 = _S2546[int(8)];
    float3  _S2556 = _S2546[int(9)];
    float3  _S2557 = _S2546[int(10)];
    float3  _S2558 = _S2546[int(11)];
    float3  _S2559 = _S2546[int(12)];
    float3  _S2560 = _S2546[int(13)];
    float3  _S2561 = _S2546[int(14)];
    float3  _S2562 = _S2546[int(15)];
    float3  _S2563 = _S2537.differential_0 + _S2536.differential_0;
    float2  _S2564 = make_float2 (0.0f, _S2538.differential_0);
    float2  _S2565 = make_float2 (_S2539.differential_0, 0.0f);
    float _S2566;
    if(antialiased_13)
    {
        float _S2567 = _S2429 * _S2545;
        _S2431 = _S2426 * _S2545;
        _S2566 = _S2567;
    }
    else
    {
        _S2431 = _S2545;
        _S2566 = 0.0f;
    }
    float _S2568 = - (_S2431 / _S2430);
    DiffPair_float_0 _S2569;
    (&_S2569)->primal_0 = _S2427;
    (&_S2569)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2569, _S2568);
    float _S2570 = - _S2569.differential_0;
    DiffPair_float_0 _S2571;
    (&_S2571)->primal_0 = _S2425;
    (&_S2571)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2571, _S2566);
    DiffPair_float_0 _S2572;
    (&_S2572)->primal_0 = 0.0f;
    (&_S2572)->differential_0 = 0.0f;
    DiffPair_float_0 _S2573;
    (&_S2573)->primal_0 = _S2423;
    (&_S2573)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2572, &_S2573, _S2571.differential_0);
    float _S2574 = _S2573.differential_0 / _S2424;
    float s_diff_det_blur_T_0 = det_orig_14 * - _S2574;
    float s_diff_det_orig_T_3 = det_blur_9 * _S2574;
    float _S2575 = - s_diff_det_blur_T_0;
    float _S2576 = _S2418 * s_diff_det_blur_T_0;
    float _S2577 = _S2420 * s_diff_det_blur_T_0;
    Matrix<float, 2, 2>  _S2578 = _S2387;
    _S2578[int(1)] = _S2564;
    _S2578[int(0)] = _S2565;
    float _S2579 = _S2577 + _S2578.rows[int(0)].x;
    float _S2580 = _S2575 + - s_diff_det_orig_T_3;
    float _S2581 = _S2413._S2386.rows[int(0)].y * _S2580;
    float _S2582 = _S2413._S2386.rows[int(1)].x * _S2580;
    float _S2583 = _S2413._S2386.rows[int(1)].y * s_diff_det_orig_T_3;
    float _S2584 = _S2576 + _S2578.rows[int(1)].y + _S2413._S2386.rows[int(0)].x * s_diff_det_orig_T_3;
    float2  _S2585 = _S2389;
    *&((&_S2585)->x) = _S2581;
    *&((&_S2585)->y) = _S2584;
    float _S2586 = _S2579 + _S2583;
    float2  _S2587 = _S2389;
    *&((&_S2587)->y) = _S2582;
    *&((&_S2587)->x) = _S2586;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2588;
    (&_S2588)->primal_0 = R_20;
    (&_S2588)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2589;
    (&_S2589)->primal_0 = _S2407;
    (&_S2589)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2588, &_S2589, _S2390);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2590;
    (&_S2590)->primal_0 = R_20;
    (&_S2590)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2591;
    (&_S2591)->primal_0 = _S2404;
    (&_S2591)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2590, &_S2591, _S2390);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2592;
    (&_S2592)->primal_0 = R_20;
    (&_S2592)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2593;
    (&_S2593)->primal_0 = _S2401;
    (&_S2593)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2592, &_S2593, _S2390);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2594;
    (&_S2594)->primal_0 = R_20;
    (&_S2594)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2595;
    (&_S2595)->primal_0 = _S2406;
    (&_S2595)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2594, &_S2595, _S2390);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2596;
    (&_S2596)->primal_0 = R_20;
    (&_S2596)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2597;
    (&_S2597)->primal_0 = _S2403;
    (&_S2597)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2596, &_S2597, _S2390);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2598;
    (&_S2598)->primal_0 = R_20;
    (&_S2598)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2599;
    (&_S2599)->primal_0 = _S2400;
    (&_S2599)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2598, &_S2599, _S2390);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2600;
    (&_S2600)->primal_0 = R_20;
    (&_S2600)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2601;
    (&_S2601)->primal_0 = _S2408.p_0[0U];
    (&_S2601)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2600, &_S2601, _S2390);
    float3  _S2602 = - _S2589.differential_0 + _S2595.differential_0;
    float3  _S2603 = _S2416 * _S2602;
    float3  _S2604 = _S2393.rows[2U] * _S2602;
    float _S2605 = _S2398 * (_S2604.x + _S2604.y + _S2604.z);
    float3  _S2606 = - _S2591.differential_0 + _S2597.differential_0;
    float3  _S2607 = _S2415 * _S2606;
    float3  _S2608 = _S2393.rows[1U] * _S2606;
    float _S2609 = _S2398 * (_S2608.x + _S2608.y + _S2608.z);
    float3  _S2610 = - _S2593.differential_0 + _S2599.differential_0;
    float3  _S2611 = _S2414 * _S2610;
    float3  _S2612 = _S2393.rows[0U] * _S2610;
    float _S2613 = _S2398 * (_S2612.x + _S2612.y + _S2612.z);
    Matrix<float, 3, 3>  _S2614 = _S2527;
    _S2614[2U] = _S2603;
    _S2614[1U] = _S2607;
    _S2614[0U] = _S2611;
    Matrix<float, 3, 3>  _S2615 = transpose_0(transpose_0(_S2614));
    float _S2616 = 2.0f * - _S2615.rows[int(2)].z;
    float _S2617 = 2.0f * _S2615.rows[int(2)].y;
    float _S2618 = 2.0f * _S2615.rows[int(2)].x;
    float _S2619 = 2.0f * _S2615.rows[int(1)].z;
    float _S2620 = 2.0f * - _S2615.rows[int(1)].y;
    float _S2621 = 2.0f * _S2615.rows[int(1)].x;
    float _S2622 = 2.0f * _S2615.rows[int(0)].z;
    float _S2623 = 2.0f * _S2615.rows[int(0)].y;
    float _S2624 = 2.0f * - _S2615.rows[int(0)].x;
    float _S2625 = - _S2621 + _S2623;
    float _S2626 = _S2618 + - _S2622;
    float _S2627 = - _S2617 + _S2619;
    float _S2628 = _S2617 + _S2619;
    float _S2629 = _S2618 + _S2622;
    float _S2630 = _S2621 + _S2623;
    float _S2631 = quat_17.w * (_S2620 + _S2624);
    float _S2632 = quat_17.z * (_S2616 + _S2624);
    float _S2633 = quat_17.y * (_S2616 + _S2620);
    float _S2634 = quat_17.x * _S2625 + quat_17.z * _S2628 + quat_17.y * _S2629 + _S2631 + _S2631;
    float _S2635 = quat_17.x * _S2626 + quat_17.w * _S2628 + quat_17.y * _S2630 + _S2632 + _S2632;
    float _S2636 = quat_17.x * _S2627 + quat_17.w * _S2629 + quat_17.z * _S2630 + _S2633 + _S2633;
    float _S2637 = quat_17.w * _S2625 + quat_17.z * _S2626 + quat_17.y * _S2627;
    float3  _S2638 = _S2390;
    *&((&_S2638)->z) = _S2605;
    *&((&_S2638)->y) = _S2609;
    *&((&_S2638)->x) = _S2613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2639;
    (&_S2639)->primal_0 = scale_16;
    (&_S2639)->differential_0 = _S2390;
    s_bwd_prop_exp_1(&_S2639, _S2638);
    Matrix<float, 2, 2>  _S2640 = _S2387;
    _S2640[int(1)] = _S2585;
    _S2640[int(0)] = _S2587;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2641;
    (&_S2641)->primal_0 = R_20;
    (&_S2641)->differential_0 = _S2527;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2642;
    (&_S2642)->primal_0 = mean_14;
    (&_S2642)->differential_0 = _S2390;
    s_bwd_prop_mul_1(&_S2641, &_S2642, _S2563);
    float3  _S2643 = _S2563 + _S2530.differential_0;
    Matrix<float, 3, 3>  _S2644 = _S2588.differential_0 + _S2590.differential_0 + _S2592.differential_0 + _S2594.differential_0 + _S2596.differential_0 + _S2598.differential_0 + _S2600.differential_0 + _S2641.differential_0 + _S2531;
    float3  _S2645 = _S2639.differential_0 + _S2533;
    float4  _S2646 = make_float4 (0.0f);
    *&((&_S2646)->w) = _S2634;
    *&((&_S2646)->z) = _S2635;
    *&((&_S2646)->y) = _S2636;
    *&((&_S2646)->x) = _S2637;
    float4  _S2647 = _S2646;
    float3  _S2648 = _S2589.differential_0 + _S2595.differential_0 + _S2591.differential_0 + _S2597.differential_0 + _S2593.differential_0 + _S2599.differential_0 + _S2642.differential_0 + _S2525;
    *v_mean_3 = _S2648;
    *v_quat_3 = _S2647;
    *v_scale_3 = _S2645;
    *v_in_opacity_3 = _S2570;
    (*v_sh_coeffs_3)[int(0)] = _S2547;
    (*v_sh_coeffs_3)[int(1)] = _S2548;
    (*v_sh_coeffs_3)[int(2)] = _S2549;
    (*v_sh_coeffs_3)[int(3)] = _S2550;
    (*v_sh_coeffs_3)[int(4)] = _S2551;
    (*v_sh_coeffs_3)[int(5)] = _S2552;
    (*v_sh_coeffs_3)[int(6)] = _S2553;
    (*v_sh_coeffs_3)[int(7)] = _S2554;
    (*v_sh_coeffs_3)[int(8)] = _S2555;
    (*v_sh_coeffs_3)[int(9)] = _S2556;
    (*v_sh_coeffs_3)[int(10)] = _S2557;
    (*v_sh_coeffs_3)[int(11)] = _S2558;
    (*v_sh_coeffs_3)[int(12)] = _S2559;
    (*v_sh_coeffs_3)[int(13)] = _S2560;
    (*v_sh_coeffs_3)[int(14)] = _S2561;
    (*v_sh_coeffs_3)[int(15)] = _S2562;
    *v_R_5 = _S2644;
    *v_t_4 = _S2643;
    return;
}

struct s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S2649;
};

inline __device__ void projection_3dgut_fisheye_vjp(bool antialiased_14, float3  mean_15, float4  quat_18, float3  scale_17, float in_opacity_14, FixedArray<float3 , 16>  * sh_coeffs_14, Matrix<float, 3, 3>  R_21, float3  t_17, float fx_23, float fy_23, float cx_18, float cy_18, FixedArray<float, 10>  * dist_coeffs_27, uint image_width_14, uint image_height_14, float2  v_mean2d_4, float v_depth_4, float3  v_conic_4, float v_opacity_4, float3  v_rgb_4, float3  * v_mean_4, float4  * v_quat_4, float3  * v_scale_4, float * v_in_opacity_4, FixedArray<float3 , 16>  * v_sh_coeffs_4, Matrix<float, 3, 3>  * v_R_6, float3  * v_t_5)
{
    Matrix<float, 2, 2>  _S2650 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S2651;
    (&_S2651)->_S2649 = _S2650;
    float2  _S2652 = make_float2 (0.0f);
    float3  _S2653 = make_float3 (0.0f);
    float4  intrins_13 = make_float4 (fx_23, fy_23, cx_18, cy_18);
    float3  _S2654 = s_primal_ctx_exp_0(scale_17);
    float _S2655 = quat_18.y;
    float x2_18 = _S2655 * _S2655;
    float y2_18 = quat_18.z * quat_18.z;
    float z2_32 = quat_18.w * quat_18.w;
    float xy_18 = quat_18.y * quat_18.z;
    float xz_18 = quat_18.y * quat_18.w;
    float yz_18 = quat_18.z * quat_18.w;
    float wx_18 = quat_18.x * quat_18.y;
    float wy_18 = quat_18.x * quat_18.z;
    float wz_18 = quat_18.x * quat_18.w;
    Matrix<float, 3, 3>  _S2656 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_18 + z2_32), 2.0f * (xy_18 + wz_18), 2.0f * (xz_18 - wy_18), 2.0f * (xy_18 - wz_18), 1.0f - 2.0f * (x2_18 + z2_32), 2.0f * (yz_18 + wx_18), 2.0f * (xz_18 + wy_18), 2.0f * (yz_18 - wx_18), 1.0f - 2.0f * (x2_18 + y2_18))));
    FixedArray<float3 , 7>  _S2657 = {
        _S2653, _S2653, _S2653, _S2653, _S2653, _S2653, _S2653
    };
    FixedArray<float, 7>  _S2658 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S2659;
    (&_S2659)->p_0 = _S2657;
    (&_S2659)->w_mean_0 = _S2658;
    (&_S2659)->w_cov_0 = _S2658;
    (&_S2659)->p_0[int(0)] = mean_15;
    SigmaPoints_0 _S2660 = _S2659;
    (&_S2660)->w_mean_0[int(0)] = 0.0f;
    (&_S2660)->w_cov_0[int(0)] = 2.0f;
    float _S2661 = s_primal_ctx_sqrt_0(3.0f);
    float _S2662 = _S2661 * _S2654.x;
    float3  delta_15 = make_float3 (_S2662) * _S2656.rows[0U];
    float3  _S2663 = mean_15 + delta_15;
    float3  _S2664 = mean_15 - delta_15;
    float _S2665 = _S2661 * _S2654.y;
    float3  delta_16 = make_float3 (_S2665) * _S2656.rows[1U];
    float3  _S2666 = mean_15 + delta_16;
    float3  _S2667 = mean_15 - delta_16;
    float _S2668 = _S2661 * _S2654.z;
    float3  delta_17 = make_float3 (_S2668) * _S2656.rows[2U];
    float3  _S2669 = mean_15 + delta_17;
    float3  _S2670 = mean_15 - delta_17;
    (&_S2660)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S2660)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S2660)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S2660)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S2660)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S2660)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S2660)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S2660)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S2660)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S2660)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S2660)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S2660)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S2671 = _S2659;
    (&_S2660)->p_0[0U] = s_primal_ctx_mul_0(R_21, _S2659.p_0[0U]) + t_17;
    (&_S2660)->p_0[1U] = s_primal_ctx_mul_0(R_21, _S2663) + t_17;
    (&_S2660)->p_0[2U] = s_primal_ctx_mul_0(R_21, _S2666) + t_17;
    (&_S2660)->p_0[3U] = s_primal_ctx_mul_0(R_21, _S2669) + t_17;
    (&_S2660)->p_0[4U] = s_primal_ctx_mul_0(R_21, _S2664) + t_17;
    (&_S2660)->p_0[5U] = s_primal_ctx_mul_0(R_21, _S2667) + t_17;
    (&_S2660)->p_0[6U] = s_primal_ctx_mul_0(R_21, _S2670) + t_17;
    float2  _S2672 = _S2652;
    Matrix<float, 2, 2>  _S2673 = _S2650;
    SigmaPoints_0 _S2674 = _S2660;
    bool _S2675 = fisheye_proj_3dgs_ut_1(&_S2674, intrins_13, dist_coeffs_27, &_S2673, &_S2672);
    (&_S2651)->_S2649 = _S2673;
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S2676 = _S2651;
    float3  mean_c_14 = s_primal_ctx_mul_0(R_21, mean_15) + t_17;
    float3  _S2677 = make_float3 (_S2662);
    float3  _S2678 = make_float3 (_S2665);
    float3  _S2679 = make_float3 (_S2668);
    float _S2680 = _S2651._S2649.rows[int(0)].y * _S2651._S2649.rows[int(1)].x;
    float det_orig_15 = _S2651._S2649.rows[int(0)].x * _S2651._S2649.rows[int(1)].y - _S2680;
    float _S2681 = _S2651._S2649.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2682 = _S2651._S2649;
    *&(((&_S2682)->rows + (int(0)))->x) = _S2681;
    float _S2683 = _S2651._S2649.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2682)->rows + (int(1)))->y) = _S2683;
    Matrix<float, 2, 2>  _S2684 = _S2682;
    Matrix<float, 2, 2>  _S2685 = _S2682;
    float det_blur_10 = _S2681 * _S2683 - _S2680;
    float _S2686 = det_orig_15 / det_blur_10;
    float _S2687 = det_blur_10 * det_blur_10;
    float _S2688 = s_primal_ctx_max_0(0.0f, _S2686);
    float _S2689 = s_primal_ctx_sqrt_0(_S2688);
    float _S2690 = - in_opacity_14;
    float _S2691 = 1.0f + s_primal_ctx_exp_1(_S2690);
    float _S2692 = 1.0f / _S2691;
    float _S2693 = _S2691 * _S2691;
    float _S2694;
    if(antialiased_14)
    {
        _S2694 = _S2692 * _S2689;
    }
    else
    {
        _S2694 = _S2692;
    }
    float _S2695 = _S2694 / 0.00392156885936856f;
    float _S2696 = 2.0f * s_primal_ctx_log_0(_S2695);
    float _S2697 = s_primal_ctx_sqrt_0(_S2696);
    float _S2698 = _S2684.rows[int(0)].x;
    float _S2699 = _S2685.rows[int(1)].y;
    float _S2700 = s_primal_ctx_dot_0(mean_c_14, mean_c_14) + 9.99999997475242708e-07f;
    float3  _S2701 = - scale_17;
    Matrix<float, 3, 3>  _S2702 = transpose_0(R_21);
    float3  _S2703 = mean_15 - - s_primal_ctx_mul_0(_S2702, t_17);
    float _S2704 = _S2703.x;
    float _S2705 = _S2703.y;
    float _S2706 = _S2703.z;
    float _S2707 = _S2704 * _S2704 + _S2705 * _S2705 + _S2706 * _S2706;
    float _S2708 = s_primal_ctx_sqrt_0(_S2707);
    float x_40 = _S2704 / _S2708;
    float3  _S2709 = make_float3 (x_40);
    float _S2710 = _S2708 * _S2708;
    float y_17 = _S2705 / _S2708;
    float z_14 = _S2706 / _S2708;
    float3  _S2711 = make_float3 (z_14);
    float _S2712 = - y_17;
    float3  _S2713 = make_float3 (_S2712);
    float z2_33 = z_14 * z_14;
    float fTmp0B_14 = -1.09254848957061768f * z_14;
    float fC1_14 = x_40 * x_40 - y_17 * y_17;
    float _S2714 = 2.0f * x_40;
    float fS1_14 = _S2714 * y_17;
    float pSH6_4 = 0.94617468118667603f * z2_33 - 0.31539157032966614f;
    float3  _S2715 = make_float3 (pSH6_4);
    float pSH7_4 = fTmp0B_14 * x_40;
    float3  _S2716 = make_float3 (pSH7_4);
    float pSH5_4 = fTmp0B_14 * y_17;
    float3  _S2717 = make_float3 (pSH5_4);
    float pSH8_4 = 0.54627424478530884f * fC1_14;
    float3  _S2718 = make_float3 (pSH8_4);
    float pSH4_4 = 0.54627424478530884f * fS1_14;
    float3  _S2719 = make_float3 (pSH4_4);
    float fTmp0C_14 = -2.28522896766662598f * z2_33 + 0.4570457935333252f;
    float fTmp1B_14 = 1.44530570507049561f * z_14;
    float _S2720 = 1.86588168144226074f * z2_33 - 1.11952900886535645f;
    float pSH12_4 = z_14 * _S2720;
    float3  _S2721 = make_float3 (pSH12_4);
    float pSH13_4 = fTmp0C_14 * x_40;
    float3  _S2722 = make_float3 (pSH13_4);
    float pSH11_4 = fTmp0C_14 * y_17;
    float3  _S2723 = make_float3 (pSH11_4);
    float pSH14_4 = fTmp1B_14 * fC1_14;
    float3  _S2724 = make_float3 (pSH14_4);
    float pSH10_4 = fTmp1B_14 * fS1_14;
    float3  _S2725 = make_float3 (pSH10_4);
    float pSH15_4 = -0.59004360437393188f * (x_40 * fC1_14 - y_17 * fS1_14);
    float3  _S2726 = make_float3 (pSH15_4);
    float pSH9_4 = -0.59004360437393188f * (x_40 * fS1_14 + y_17 * fC1_14);
    float3  _S2727 = make_float3 (pSH9_4);
    float3  _S2728 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2729;
    (&_S2729)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_14)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2712) * (*sh_coeffs_14)[int(1)] + make_float3 (z_14) * (*sh_coeffs_14)[int(2)] - make_float3 (x_40) * (*sh_coeffs_14)[int(3)]) + (make_float3 (pSH4_4) * (*sh_coeffs_14)[int(4)] + make_float3 (pSH5_4) * (*sh_coeffs_14)[int(5)] + make_float3 (pSH6_4) * (*sh_coeffs_14)[int(6)] + make_float3 (pSH7_4) * (*sh_coeffs_14)[int(7)] + make_float3 (pSH8_4) * (*sh_coeffs_14)[int(8)]) + (make_float3 (pSH9_4) * (*sh_coeffs_14)[int(9)] + make_float3 (pSH10_4) * (*sh_coeffs_14)[int(10)] + make_float3 (pSH11_4) * (*sh_coeffs_14)[int(11)] + make_float3 (pSH12_4) * (*sh_coeffs_14)[int(12)] + make_float3 (pSH13_4) * (*sh_coeffs_14)[int(13)] + make_float3 (pSH14_4) * (*sh_coeffs_14)[int(14)] + make_float3 (pSH15_4) * (*sh_coeffs_14)[int(15)]) + make_float3 (0.5f);
    (&_S2729)->differential_0 = _S2653;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2730;
    (&_S2730)->primal_0 = _S2728;
    (&_S2730)->differential_0 = _S2653;
    s_bwd_prop_max_0(&_S2729, &_S2730, v_rgb_4);
    float3  _S2731 = _S2726 * _S2729.differential_0;
    float3  _S2732 = (*sh_coeffs_14)[int(15)] * _S2729.differential_0;
    float3  _S2733 = _S2724 * _S2729.differential_0;
    float3  _S2734 = (*sh_coeffs_14)[int(14)] * _S2729.differential_0;
    float3  _S2735 = _S2722 * _S2729.differential_0;
    float3  _S2736 = (*sh_coeffs_14)[int(13)] * _S2729.differential_0;
    float3  _S2737 = _S2721 * _S2729.differential_0;
    float3  _S2738 = (*sh_coeffs_14)[int(12)] * _S2729.differential_0;
    float3  _S2739 = _S2723 * _S2729.differential_0;
    float3  _S2740 = (*sh_coeffs_14)[int(11)] * _S2729.differential_0;
    float3  _S2741 = _S2725 * _S2729.differential_0;
    float3  _S2742 = (*sh_coeffs_14)[int(10)] * _S2729.differential_0;
    float3  _S2743 = _S2727 * _S2729.differential_0;
    float3  _S2744 = (*sh_coeffs_14)[int(9)] * _S2729.differential_0;
    float s_diff_fS2_T_4 = -0.59004360437393188f * (_S2744.x + _S2744.y + _S2744.z);
    float s_diff_fC2_T_4 = -0.59004360437393188f * (_S2732.x + _S2732.y + _S2732.z);
    float _S2745 = _S2742.x + _S2742.y + _S2742.z;
    float _S2746 = _S2734.x + _S2734.y + _S2734.z;
    float _S2747 = _S2740.x + _S2740.y + _S2740.z;
    float _S2748 = _S2736.x + _S2736.y + _S2736.z;
    float _S2749 = _S2738.x + _S2738.y + _S2738.z;
    float _S2750 = - s_diff_fC2_T_4;
    float3  _S2751 = _S2718 * _S2729.differential_0;
    float3  _S2752 = (*sh_coeffs_14)[int(8)] * _S2729.differential_0;
    float3  _S2753 = _S2716 * _S2729.differential_0;
    float3  _S2754 = (*sh_coeffs_14)[int(7)] * _S2729.differential_0;
    float3  _S2755 = _S2715 * _S2729.differential_0;
    float3  _S2756 = (*sh_coeffs_14)[int(6)] * _S2729.differential_0;
    float3  _S2757 = _S2717 * _S2729.differential_0;
    float3  _S2758 = (*sh_coeffs_14)[int(5)] * _S2729.differential_0;
    float3  _S2759 = _S2719 * _S2729.differential_0;
    float3  _S2760 = (*sh_coeffs_14)[int(4)] * _S2729.differential_0;
    float _S2761 = _S2758.x + _S2758.y + _S2758.z;
    float _S2762 = _S2754.x + _S2754.y + _S2754.z;
    float _S2763 = fTmp1B_14 * _S2745 + x_40 * s_diff_fS2_T_4 + y_17 * _S2750 + 0.54627424478530884f * (_S2760.x + _S2760.y + _S2760.z);
    float _S2764 = fTmp1B_14 * _S2746 + y_17 * s_diff_fS2_T_4 + x_40 * s_diff_fC2_T_4 + 0.54627424478530884f * (_S2752.x + _S2752.y + _S2752.z);
    float _S2765 = y_17 * - _S2764;
    float _S2766 = x_40 * _S2764;
    float _S2767 = z_14 * (1.86588168144226074f * (z_14 * _S2749) + -2.28522896766662598f * (y_17 * _S2747 + x_40 * _S2748) + 0.94617468118667603f * (_S2756.x + _S2756.y + _S2756.z));
    float3  _S2768 = make_float3 (0.48860251903533936f) * _S2729.differential_0;
    float3  _S2769 = - _S2768;
    float3  _S2770 = _S2709 * _S2769;
    float3  _S2771 = (*sh_coeffs_14)[int(3)] * _S2769;
    float3  _S2772 = _S2711 * _S2768;
    float3  _S2773 = (*sh_coeffs_14)[int(2)] * _S2768;
    float3  _S2774 = _S2713 * _S2768;
    float3  _S2775 = (*sh_coeffs_14)[int(1)] * _S2768;
    float _S2776 = (_S2720 * _S2749 + 1.44530570507049561f * (fS1_14 * _S2745 + fC1_14 * _S2746) + -1.09254848957061768f * (y_17 * _S2761 + x_40 * _S2762) + _S2767 + _S2767 + _S2773.x + _S2773.y + _S2773.z) / _S2710;
    float _S2777 = _S2708 * _S2776;
    float _S2778 = (fTmp0C_14 * _S2747 + fC1_14 * s_diff_fS2_T_4 + fS1_14 * _S2750 + fTmp0B_14 * _S2761 + _S2714 * _S2763 + _S2765 + _S2765 + - (_S2775.x + _S2775.y + _S2775.z)) / _S2710;
    float _S2779 = _S2708 * _S2778;
    float _S2780 = (fTmp0C_14 * _S2748 + fS1_14 * s_diff_fS2_T_4 + fC1_14 * s_diff_fC2_T_4 + fTmp0B_14 * _S2762 + 2.0f * (y_17 * _S2763) + _S2766 + _S2766 + _S2771.x + _S2771.y + _S2771.z) / _S2710;
    float _S2781 = _S2708 * _S2780;
    float _S2782 = _S2706 * - _S2776 + _S2705 * - _S2778 + _S2704 * - _S2780;
    DiffPair_float_0 _S2783;
    (&_S2783)->primal_0 = _S2707;
    (&_S2783)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2783, _S2782);
    float _S2784 = _S2706 * _S2783.differential_0;
    float _S2785 = _S2705 * _S2783.differential_0;
    float _S2786 = _S2704 * _S2783.differential_0;
    float3  _S2787 = make_float3 (0.282094806432724f) * _S2729.differential_0;
    float3  _S2788 = make_float3 (_S2781 + _S2786 + _S2786, _S2779 + _S2785 + _S2785, _S2777 + _S2784 + _S2784);
    float3  _S2789 = - - _S2788;
    Matrix<float, 3, 3>  _S2790 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2791;
    (&_S2791)->primal_0 = _S2702;
    (&_S2791)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2792;
    (&_S2792)->primal_0 = t_17;
    (&_S2792)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2791, &_S2792, _S2789);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2793 = _S2792;
    Matrix<float, 3, 3>  _S2794 = transpose_0(_S2791.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2795;
    (&_S2795)->primal_0 = _S2701;
    (&_S2795)->differential_0 = _S2653;
    s_bwd_prop_exp_1(&_S2795, v_conic_4);
    float3  _S2796 = - _S2795.differential_0;
    float _S2797 = 0.5f * v_depth_4;
    DiffPair_float_0 _S2798;
    (&_S2798)->primal_0 = _S2700;
    (&_S2798)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2798, _S2797);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2799;
    (&_S2799)->primal_0 = mean_c_14;
    (&_S2799)->differential_0 = _S2653;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2800;
    (&_S2800)->primal_0 = mean_c_14;
    (&_S2800)->differential_0 = _S2653;
    s_bwd_prop_dot_0(&_S2799, &_S2800, _S2798.differential_0);
    DiffPair_float_0 _S2801;
    (&_S2801)->primal_0 = _S2699;
    (&_S2801)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2801, 0.0f);
    DiffPair_float_0 _S2802;
    (&_S2802)->primal_0 = _S2698;
    (&_S2802)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2802, 0.0f);
    DiffPair_float_0 _S2803;
    (&_S2803)->primal_0 = 3.32999992370605469f;
    (&_S2803)->differential_0 = 0.0f;
    DiffPair_float_0 _S2804;
    (&_S2804)->primal_0 = _S2697;
    (&_S2804)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2803, &_S2804, 0.0f);
    DiffPair_float_0 _S2805;
    (&_S2805)->primal_0 = _S2696;
    (&_S2805)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2805, _S2804.differential_0);
    float _S2806 = 2.0f * _S2805.differential_0;
    DiffPair_float_0 _S2807;
    (&_S2807)->primal_0 = _S2695;
    (&_S2807)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2807, _S2806);
    float _S2808 = v_opacity_4 + 254.9999847412109375f * _S2807.differential_0;
    FixedArray<float3 , 16>  _S2809;
    _S2809[int(0)] = _S2653;
    _S2809[int(1)] = _S2653;
    _S2809[int(2)] = _S2653;
    _S2809[int(3)] = _S2653;
    _S2809[int(4)] = _S2653;
    _S2809[int(5)] = _S2653;
    _S2809[int(6)] = _S2653;
    _S2809[int(7)] = _S2653;
    _S2809[int(8)] = _S2653;
    _S2809[int(9)] = _S2653;
    _S2809[int(10)] = _S2653;
    _S2809[int(11)] = _S2653;
    _S2809[int(12)] = _S2653;
    _S2809[int(13)] = _S2653;
    _S2809[int(14)] = _S2653;
    _S2809[int(15)] = _S2653;
    _S2809[int(7)] = _S2753;
    _S2809[int(0)] = _S2787;
    _S2809[int(1)] = _S2774;
    _S2809[int(2)] = _S2772;
    _S2809[int(3)] = _S2770;
    _S2809[int(4)] = _S2759;
    _S2809[int(5)] = _S2757;
    _S2809[int(6)] = _S2755;
    _S2809[int(15)] = _S2731;
    _S2809[int(8)] = _S2751;
    _S2809[int(9)] = _S2743;
    _S2809[int(10)] = _S2741;
    _S2809[int(11)] = _S2739;
    _S2809[int(12)] = _S2737;
    _S2809[int(13)] = _S2735;
    _S2809[int(14)] = _S2733;
    float3  _S2810 = _S2809[int(0)];
    float3  _S2811 = _S2809[int(1)];
    float3  _S2812 = _S2809[int(2)];
    float3  _S2813 = _S2809[int(3)];
    float3  _S2814 = _S2809[int(4)];
    float3  _S2815 = _S2809[int(5)];
    float3  _S2816 = _S2809[int(6)];
    float3  _S2817 = _S2809[int(7)];
    float3  _S2818 = _S2809[int(8)];
    float3  _S2819 = _S2809[int(9)];
    float3  _S2820 = _S2809[int(10)];
    float3  _S2821 = _S2809[int(11)];
    float3  _S2822 = _S2809[int(12)];
    float3  _S2823 = _S2809[int(13)];
    float3  _S2824 = _S2809[int(14)];
    float3  _S2825 = _S2809[int(15)];
    float3  _S2826 = _S2800.differential_0 + _S2799.differential_0;
    float2  _S2827 = make_float2 (0.0f, _S2801.differential_0);
    float2  _S2828 = make_float2 (_S2802.differential_0, 0.0f);
    float _S2829;
    if(antialiased_14)
    {
        float _S2830 = _S2692 * _S2808;
        _S2694 = _S2689 * _S2808;
        _S2829 = _S2830;
    }
    else
    {
        _S2694 = _S2808;
        _S2829 = 0.0f;
    }
    float _S2831 = - (_S2694 / _S2693);
    DiffPair_float_0 _S2832;
    (&_S2832)->primal_0 = _S2690;
    (&_S2832)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2832, _S2831);
    float _S2833 = - _S2832.differential_0;
    DiffPair_float_0 _S2834;
    (&_S2834)->primal_0 = _S2688;
    (&_S2834)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2834, _S2829);
    DiffPair_float_0 _S2835;
    (&_S2835)->primal_0 = 0.0f;
    (&_S2835)->differential_0 = 0.0f;
    DiffPair_float_0 _S2836;
    (&_S2836)->primal_0 = _S2686;
    (&_S2836)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2835, &_S2836, _S2834.differential_0);
    float _S2837 = _S2836.differential_0 / _S2687;
    float s_diff_det_blur_T_1 = det_orig_15 * - _S2837;
    float s_diff_det_orig_T_4 = det_blur_10 * _S2837;
    float _S2838 = - s_diff_det_blur_T_1;
    float _S2839 = _S2681 * s_diff_det_blur_T_1;
    float _S2840 = _S2683 * s_diff_det_blur_T_1;
    Matrix<float, 2, 2>  _S2841 = _S2650;
    _S2841[int(1)] = _S2827;
    _S2841[int(0)] = _S2828;
    float _S2842 = _S2840 + _S2841.rows[int(0)].x;
    float _S2843 = _S2838 + - s_diff_det_orig_T_4;
    float _S2844 = _S2676._S2649.rows[int(0)].y * _S2843;
    float _S2845 = _S2676._S2649.rows[int(1)].x * _S2843;
    float _S2846 = _S2676._S2649.rows[int(1)].y * s_diff_det_orig_T_4;
    float _S2847 = _S2839 + _S2841.rows[int(1)].y + _S2676._S2649.rows[int(0)].x * s_diff_det_orig_T_4;
    float2  _S2848 = _S2652;
    *&((&_S2848)->x) = _S2844;
    *&((&_S2848)->y) = _S2847;
    float _S2849 = _S2842 + _S2846;
    float2  _S2850 = _S2652;
    *&((&_S2850)->y) = _S2845;
    *&((&_S2850)->x) = _S2849;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2851;
    (&_S2851)->primal_0 = R_21;
    (&_S2851)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2852;
    (&_S2852)->primal_0 = _S2670;
    (&_S2852)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2851, &_S2852, _S2653);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2853;
    (&_S2853)->primal_0 = R_21;
    (&_S2853)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2854;
    (&_S2854)->primal_0 = _S2667;
    (&_S2854)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2853, &_S2854, _S2653);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2855;
    (&_S2855)->primal_0 = R_21;
    (&_S2855)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2856;
    (&_S2856)->primal_0 = _S2664;
    (&_S2856)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2855, &_S2856, _S2653);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2857;
    (&_S2857)->primal_0 = R_21;
    (&_S2857)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2858;
    (&_S2858)->primal_0 = _S2669;
    (&_S2858)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2857, &_S2858, _S2653);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2859;
    (&_S2859)->primal_0 = R_21;
    (&_S2859)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2860;
    (&_S2860)->primal_0 = _S2666;
    (&_S2860)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2859, &_S2860, _S2653);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2861;
    (&_S2861)->primal_0 = R_21;
    (&_S2861)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2862;
    (&_S2862)->primal_0 = _S2663;
    (&_S2862)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2861, &_S2862, _S2653);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2863;
    (&_S2863)->primal_0 = R_21;
    (&_S2863)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2864;
    (&_S2864)->primal_0 = _S2671.p_0[0U];
    (&_S2864)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2863, &_S2864, _S2653);
    float3  _S2865 = - _S2852.differential_0 + _S2858.differential_0;
    float3  _S2866 = _S2679 * _S2865;
    float3  _S2867 = _S2656.rows[2U] * _S2865;
    float _S2868 = _S2661 * (_S2867.x + _S2867.y + _S2867.z);
    float3  _S2869 = - _S2854.differential_0 + _S2860.differential_0;
    float3  _S2870 = _S2678 * _S2869;
    float3  _S2871 = _S2656.rows[1U] * _S2869;
    float _S2872 = _S2661 * (_S2871.x + _S2871.y + _S2871.z);
    float3  _S2873 = - _S2856.differential_0 + _S2862.differential_0;
    float3  _S2874 = _S2677 * _S2873;
    float3  _S2875 = _S2656.rows[0U] * _S2873;
    float _S2876 = _S2661 * (_S2875.x + _S2875.y + _S2875.z);
    Matrix<float, 3, 3>  _S2877 = _S2790;
    _S2877[2U] = _S2866;
    _S2877[1U] = _S2870;
    _S2877[0U] = _S2874;
    Matrix<float, 3, 3>  _S2878 = transpose_0(transpose_0(_S2877));
    float _S2879 = 2.0f * - _S2878.rows[int(2)].z;
    float _S2880 = 2.0f * _S2878.rows[int(2)].y;
    float _S2881 = 2.0f * _S2878.rows[int(2)].x;
    float _S2882 = 2.0f * _S2878.rows[int(1)].z;
    float _S2883 = 2.0f * - _S2878.rows[int(1)].y;
    float _S2884 = 2.0f * _S2878.rows[int(1)].x;
    float _S2885 = 2.0f * _S2878.rows[int(0)].z;
    float _S2886 = 2.0f * _S2878.rows[int(0)].y;
    float _S2887 = 2.0f * - _S2878.rows[int(0)].x;
    float _S2888 = - _S2884 + _S2886;
    float _S2889 = _S2881 + - _S2885;
    float _S2890 = - _S2880 + _S2882;
    float _S2891 = _S2880 + _S2882;
    float _S2892 = _S2881 + _S2885;
    float _S2893 = _S2884 + _S2886;
    float _S2894 = quat_18.w * (_S2883 + _S2887);
    float _S2895 = quat_18.z * (_S2879 + _S2887);
    float _S2896 = quat_18.y * (_S2879 + _S2883);
    float _S2897 = quat_18.x * _S2888 + quat_18.z * _S2891 + quat_18.y * _S2892 + _S2894 + _S2894;
    float _S2898 = quat_18.x * _S2889 + quat_18.w * _S2891 + quat_18.y * _S2893 + _S2895 + _S2895;
    float _S2899 = quat_18.x * _S2890 + quat_18.w * _S2892 + quat_18.z * _S2893 + _S2896 + _S2896;
    float _S2900 = quat_18.w * _S2888 + quat_18.z * _S2889 + quat_18.y * _S2890;
    float3  _S2901 = _S2653;
    *&((&_S2901)->z) = _S2868;
    *&((&_S2901)->y) = _S2872;
    *&((&_S2901)->x) = _S2876;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2902;
    (&_S2902)->primal_0 = scale_17;
    (&_S2902)->differential_0 = _S2653;
    s_bwd_prop_exp_1(&_S2902, _S2901);
    Matrix<float, 2, 2>  _S2903 = _S2650;
    _S2903[int(1)] = _S2848;
    _S2903[int(0)] = _S2850;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2904;
    (&_S2904)->primal_0 = mean_c_14;
    (&_S2904)->differential_0 = _S2653;
    s_bwd_length_impl_1(&_S2904, 0.0f);
    float3  _S2905 = _S2904.differential_0 + _S2826;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2906;
    (&_S2906)->primal_0 = R_21;
    (&_S2906)->differential_0 = _S2790;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2907;
    (&_S2907)->primal_0 = mean_15;
    (&_S2907)->differential_0 = _S2653;
    s_bwd_prop_mul_1(&_S2906, &_S2907, _S2905);
    float3  _S2908 = _S2905 + _S2793.differential_0;
    Matrix<float, 3, 3>  _S2909 = _S2851.differential_0 + _S2853.differential_0 + _S2855.differential_0 + _S2857.differential_0 + _S2859.differential_0 + _S2861.differential_0 + _S2863.differential_0 + _S2906.differential_0 + _S2794;
    float3  _S2910 = _S2902.differential_0 + _S2796;
    float4  _S2911 = make_float4 (0.0f);
    *&((&_S2911)->w) = _S2897;
    *&((&_S2911)->z) = _S2898;
    *&((&_S2911)->y) = _S2899;
    *&((&_S2911)->x) = _S2900;
    float4  _S2912 = _S2911;
    float3  _S2913 = _S2852.differential_0 + _S2858.differential_0 + _S2854.differential_0 + _S2860.differential_0 + _S2856.differential_0 + _S2862.differential_0 + _S2907.differential_0 + _S2788;
    *v_mean_4 = _S2913;
    *v_quat_4 = _S2912;
    *v_scale_4 = _S2910;
    *v_in_opacity_4 = _S2833;
    (*v_sh_coeffs_4)[int(0)] = _S2810;
    (*v_sh_coeffs_4)[int(1)] = _S2811;
    (*v_sh_coeffs_4)[int(2)] = _S2812;
    (*v_sh_coeffs_4)[int(3)] = _S2813;
    (*v_sh_coeffs_4)[int(4)] = _S2814;
    (*v_sh_coeffs_4)[int(5)] = _S2815;
    (*v_sh_coeffs_4)[int(6)] = _S2816;
    (*v_sh_coeffs_4)[int(7)] = _S2817;
    (*v_sh_coeffs_4)[int(8)] = _S2818;
    (*v_sh_coeffs_4)[int(9)] = _S2819;
    (*v_sh_coeffs_4)[int(10)] = _S2820;
    (*v_sh_coeffs_4)[int(11)] = _S2821;
    (*v_sh_coeffs_4)[int(12)] = _S2822;
    (*v_sh_coeffs_4)[int(13)] = _S2823;
    (*v_sh_coeffs_4)[int(14)] = _S2824;
    (*v_sh_coeffs_4)[int(15)] = _S2825;
    *v_R_6 = _S2909;
    *v_t_5 = _S2908;
    return;
}

inline __device__ Matrix<float, 3, 3>  compute_3dgut_iscl_rot(float4  quat_19, float3  scale_18)
{
    float x_41 = quat_19.y;
    float x2_19 = x_41 * x_41;
    float y2_19 = quat_19.z * quat_19.z;
    float z2_34 = quat_19.w * quat_19.w;
    float xy_19 = quat_19.y * quat_19.z;
    float xz_19 = quat_19.y * quat_19.w;
    float yz_19 = quat_19.z * quat_19.w;
    float wx_19 = quat_19.x * quat_19.y;
    float wy_19 = quat_19.x * quat_19.z;
    float wz_19 = quat_19.x * quat_19.w;
    return mul_4(makeMatrix<float, 3, 3> (scale_18.x, 0.0f, 0.0f, 0.0f, scale_18.y, 0.0f, 0.0f, 0.0f, scale_18.z), transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_19 + z2_34), 2.0f * (xy_19 + wz_19), 2.0f * (xz_19 - wy_19), 2.0f * (xy_19 - wz_19), 1.0f - 2.0f * (x2_19 + z2_34), 2.0f * (yz_19 + wx_19), 2.0f * (xz_19 + wy_19), 2.0f * (yz_19 - wx_19), 1.0f - 2.0f * (x2_19 + y2_19)))));
}

inline __device__ void s_bwd_prop_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_0, Matrix<float, 3, 3>  _s_dOut_7)
{
    float _S2914 = (*dpquat_0).primal_0.y;
    float x2_20 = _S2914 * _S2914;
    float y2_20 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.z;
    float z2_35 = (*dpquat_0).primal_0.w * (*dpquat_0).primal_0.w;
    float xy_20 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.z;
    float xz_20 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.w;
    float yz_20 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.w;
    float wx_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.y;
    float wy_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.z;
    float wz_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.w;
    Matrix<float, 3, 3>  _S2915 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_20 + z2_35), 2.0f * (xy_20 + wz_20), 2.0f * (xz_20 - wy_20), 2.0f * (xy_20 - wz_20), 1.0f - 2.0f * (x2_20 + z2_35), 2.0f * (yz_20 + wx_20), 2.0f * (xz_20 + wy_20), 2.0f * (yz_20 - wx_20), 1.0f - 2.0f * (x2_20 + y2_20))));
    Matrix<float, 3, 3>  _S2916 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2917;
    (&_S2917)->primal_0 = makeMatrix<float, 3, 3> ((*dpscale_0).primal_0.x, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.y, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.z);
    (&_S2917)->differential_0 = _S2916;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2918;
    (&_S2918)->primal_0 = _S2915;
    (&_S2918)->differential_0 = _S2916;
    s_bwd_prop_mul_4(&_S2917, &_S2918, _s_dOut_7);
    Matrix<float, 3, 3>  _S2919 = transpose_0(transpose_0(_S2918.differential_0));
    float _S2920 = 2.0f * - _S2919.rows[int(2)].z;
    float _S2921 = 2.0f * _S2919.rows[int(2)].y;
    float _S2922 = 2.0f * _S2919.rows[int(2)].x;
    float _S2923 = 2.0f * _S2919.rows[int(1)].z;
    float _S2924 = 2.0f * - _S2919.rows[int(1)].y;
    float _S2925 = 2.0f * _S2919.rows[int(1)].x;
    float _S2926 = 2.0f * _S2919.rows[int(0)].z;
    float _S2927 = 2.0f * _S2919.rows[int(0)].y;
    float _S2928 = 2.0f * - _S2919.rows[int(0)].x;
    float _S2929 = - _S2925 + _S2927;
    float _S2930 = _S2922 + - _S2926;
    float _S2931 = - _S2921 + _S2923;
    float _S2932 = _S2921 + _S2923;
    float _S2933 = _S2922 + _S2926;
    float _S2934 = _S2925 + _S2927;
    float _S2935 = (*dpquat_0).primal_0.w * (_S2924 + _S2928);
    float _S2936 = (*dpquat_0).primal_0.z * (_S2920 + _S2928);
    float _S2937 = (*dpquat_0).primal_0.y * (_S2920 + _S2924);
    float _S2938 = (*dpquat_0).primal_0.x * _S2929 + (*dpquat_0).primal_0.z * _S2932 + (*dpquat_0).primal_0.y * _S2933 + _S2935 + _S2935;
    float _S2939 = (*dpquat_0).primal_0.x * _S2930 + (*dpquat_0).primal_0.w * _S2932 + (*dpquat_0).primal_0.y * _S2934 + _S2936 + _S2936;
    float _S2940 = (*dpquat_0).primal_0.x * _S2931 + (*dpquat_0).primal_0.w * _S2933 + (*dpquat_0).primal_0.z * _S2934 + _S2937 + _S2937;
    float _S2941 = (*dpquat_0).primal_0.w * _S2929 + (*dpquat_0).primal_0.z * _S2930 + (*dpquat_0).primal_0.y * _S2931;
    float3  _S2942 = make_float3 (_S2917.differential_0.rows[int(0)].x, _S2917.differential_0.rows[int(1)].y, _S2917.differential_0.rows[int(2)].z);
    dpscale_0->primal_0 = (*dpscale_0).primal_0;
    dpscale_0->differential_0 = _S2942;
    float4  _S2943 = make_float4 (0.0f);
    *&((&_S2943)->w) = _S2938;
    *&((&_S2943)->z) = _S2939;
    *&((&_S2943)->y) = _S2940;
    *&((&_S2943)->x) = _S2941;
    dpquat_0->primal_0 = (*dpquat_0).primal_0;
    dpquat_0->differential_0 = _S2943;
    return;
}

inline __device__ void s_bwd_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * _S2944, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2945, Matrix<float, 3, 3>  _S2946)
{
    s_bwd_prop_compute_3dgut_iscl_rot_0(_S2944, _S2945, _S2946);
    return;
}

inline __device__ void compute_3dgut_iscl_rot_vjp(float4  quat_20, float3  scale_19, Matrix<float, 3, 3>  v_iscl_rot_0, float4  * v_quat_5, float3  * v_scale_5)
{
    float4  _S2947 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_0;
    (&dp_quat_0)->primal_0 = quat_20;
    (&dp_quat_0)->differential_0 = _S2947;
    float3  _S2948 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_0;
    (&dp_scale_0)->primal_0 = scale_19;
    (&dp_scale_0)->differential_0 = _S2948;
    s_bwd_compute_3dgut_iscl_rot_0(&dp_quat_0, &dp_scale_0, v_iscl_rot_0);
    *v_quat_5 = dp_quat_0.differential_0;
    *v_scale_5 = dp_scale_0.differential_0;
    return;
}

inline __device__ void _d_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * a_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * b_0, float3  dOut_16)
{
    float _S2949 = dOut_16.y;
    float _S2950 = dOut_16.z;
    float _S2951 = dOut_16.x;
    float _S2952 = (*a_0).primal_0.z * _S2949 + - (*a_0).primal_0.y * _S2950;
    float _S2953 = - (*a_0).primal_0.z * _S2951 + (*a_0).primal_0.x * _S2950;
    float _S2954 = (*a_0).primal_0.y * _S2951 + - (*a_0).primal_0.x * _S2949;
    float3  _S2955 = make_float3 (- (*b_0).primal_0.z * _S2949 + (*b_0).primal_0.y * _S2950, (*b_0).primal_0.z * _S2951 + - (*b_0).primal_0.x * _S2950, - (*b_0).primal_0.y * _S2951 + (*b_0).primal_0.x * _S2949);
    a_0->primal_0 = (*a_0).primal_0;
    a_0->differential_0 = _S2955;
    float3  _S2956 = make_float3 (_S2952, _S2953, _S2954);
    b_0->primal_0 = (*b_0).primal_0;
    b_0->differential_0 = _S2956;
    return;
}

inline __device__ float3  cross_0(float3  left_10, float3  right_10)
{
    float _S2957 = left_10.y;
    float _S2958 = right_10.z;
    float _S2959 = left_10.z;
    float _S2960 = right_10.y;
    float _S2961 = right_10.x;
    float _S2962 = left_10.x;
    return make_float3 (_S2957 * _S2958 - _S2959 * _S2960, _S2959 * _S2961 - _S2962 * _S2958, _S2962 * _S2960 - _S2957 * _S2961);
}

inline __device__ float evaluate_alpha_3dgs(float3  mean_16, Matrix<float, 3, 3>  iscl_rot_0, float opacity_10, float3  ray_o_0, float3  ray_d_0)
{
    float3  grd_0 = mul_0(iscl_rot_0, ray_d_0);
    float3  gcrod_0 = cross_0(grd_0, mul_0(iscl_rot_0, ray_o_0 - mean_16));
    return opacity_10 * (F32_exp((-0.5f * dot_0(gcrod_0, gcrod_0) / dot_0(grd_0, grd_0))));
}

inline __device__ float3  s_primal_ctx_cross_0(float3  _S2963, float3  _S2964)
{
    return cross_0(_S2963, _S2964);
}

inline __device__ void s_bwd_prop_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2965, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2966, float3  _S2967)
{
    _d_cross_0(_S2965, _S2966, _S2967);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_0, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_0, DiffPair_float_0 * dpopacity_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_0, float _s_dOut_8)
{
    float3  _S2968 = (*dpray_o_0).primal_0 - (*dpmean_0).primal_0;
    float3  _S2969 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, _S2968);
    float3  _S2970 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, (*dpray_d_0).primal_0);
    float3  _S2971 = s_primal_ctx_cross_0(_S2970, _S2969);
    float _S2972 = -0.5f * s_primal_ctx_dot_0(_S2971, _S2971);
    float _S2973 = s_primal_ctx_dot_0(_S2970, _S2970);
    float _S2974 = _S2972 / _S2973;
    float _S2975 = _S2973 * _S2973;
    float _S2976 = (*dpopacity_0).primal_0 * _s_dOut_8;
    float _S2977 = s_primal_ctx_exp_1(_S2974) * _s_dOut_8;
    DiffPair_float_0 _S2978;
    (&_S2978)->primal_0 = _S2974;
    (&_S2978)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2978, _S2976);
    float _S2979 = _S2978.differential_0 / _S2975;
    float _S2980 = _S2972 * - _S2979;
    float _S2981 = _S2973 * _S2979;
    float3  _S2982 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2983;
    (&_S2983)->primal_0 = _S2970;
    (&_S2983)->differential_0 = _S2982;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2984;
    (&_S2984)->primal_0 = _S2970;
    (&_S2984)->differential_0 = _S2982;
    s_bwd_prop_dot_0(&_S2983, &_S2984, _S2980);
    float _S2985 = -0.5f * _S2981;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2986;
    (&_S2986)->primal_0 = _S2971;
    (&_S2986)->differential_0 = _S2982;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2987;
    (&_S2987)->primal_0 = _S2971;
    (&_S2987)->differential_0 = _S2982;
    s_bwd_prop_dot_0(&_S2986, &_S2987, _S2985);
    float3  _S2988 = _S2987.differential_0 + _S2986.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2989;
    (&_S2989)->primal_0 = _S2970;
    (&_S2989)->differential_0 = _S2982;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2990;
    (&_S2990)->primal_0 = _S2969;
    (&_S2990)->differential_0 = _S2982;
    s_bwd_prop_cross_0(&_S2989, &_S2990, _S2988);
    float3  _S2991 = _S2984.differential_0 + _S2983.differential_0 + _S2989.differential_0;
    Matrix<float, 3, 3>  _S2992 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2993;
    (&_S2993)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S2993)->differential_0 = _S2992;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2994;
    (&_S2994)->primal_0 = (*dpray_d_0).primal_0;
    (&_S2994)->differential_0 = _S2982;
    s_bwd_prop_mul_1(&_S2993, &_S2994, _S2991);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2995;
    (&_S2995)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S2995)->differential_0 = _S2992;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2996;
    (&_S2996)->primal_0 = _S2968;
    (&_S2996)->differential_0 = _S2982;
    s_bwd_prop_mul_1(&_S2995, &_S2996, _S2990.differential_0);
    float3  _S2997 = - _S2996.differential_0;
    dpray_d_0->primal_0 = (*dpray_d_0).primal_0;
    dpray_d_0->differential_0 = _S2994.differential_0;
    dpray_o_0->primal_0 = (*dpray_o_0).primal_0;
    dpray_o_0->differential_0 = _S2996.differential_0;
    dpopacity_0->primal_0 = (*dpopacity_0).primal_0;
    dpopacity_0->differential_0 = _S2977;
    Matrix<float, 3, 3>  _S2998 = _S2993.differential_0 + _S2995.differential_0;
    dpiscl_rot_0->primal_0 = (*dpiscl_rot_0).primal_0;
    dpiscl_rot_0->differential_0 = _S2998;
    dpmean_0->primal_0 = (*dpmean_0).primal_0;
    dpmean_0->differential_0 = _S2997;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2999, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3000, DiffPair_float_0 * _S3001, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3002, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3003, float _S3004)
{
    s_bwd_prop_evaluate_alpha_3dgs_0(_S2999, _S3000, _S3001, _S3002, _S3003, _S3004);
    return;
}

inline __device__ void evaluate_alpha_3dgs_vjp(float3  mean_17, Matrix<float, 3, 3>  iscl_rot_1, float opacity_11, float3  ray_o_1, float3  ray_d_1, float v_alpha_0, float3  * v_mean_5, Matrix<float, 3, 3>  * v_iscl_rot_1, float * v_opacity_5, float3  * v_ray_o_1, float3  * v_ray_d_1)
{
    float3  _S3005 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_0;
    (&dp_mean_0)->primal_0 = mean_17;
    (&dp_mean_0)->differential_0 = _S3005;
    Matrix<float, 3, 3>  _S3006 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_0;
    (&dp_iscl_rot_0)->primal_0 = iscl_rot_1;
    (&dp_iscl_rot_0)->differential_0 = _S3006;
    DiffPair_float_0 dp_opacity_0;
    (&dp_opacity_0)->primal_0 = opacity_11;
    (&dp_opacity_0)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_0;
    (&dp_ray_o_0)->primal_0 = ray_o_1;
    (&dp_ray_o_0)->differential_0 = _S3005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_0;
    (&dp_ray_d_0)->primal_0 = ray_d_1;
    (&dp_ray_d_0)->differential_0 = _S3005;
    s_bwd_evaluate_alpha_3dgs_0(&dp_mean_0, &dp_iscl_rot_0, &dp_opacity_0, &dp_ray_o_0, &dp_ray_d_0, v_alpha_0);
    *v_mean_5 = dp_mean_0.differential_0;
    *v_iscl_rot_1 = dp_iscl_rot_0.differential_0;
    *v_opacity_5 = dp_opacity_0.differential_0;
    *v_ray_o_1 = dp_ray_o_0.differential_0;
    *v_ray_d_1 = dp_ray_d_0.differential_0;
    return;
}

inline __device__ void evaluate_color_3dgs(float3  mean_18, Matrix<float, 3, 3>  iscl_rot_2, float opacity_12, float3  rgb_10, float3  ray_o_2, float3  ray_d_2, float3  * out_rgb_0, float * depth_10)
{
    *out_rgb_0 = rgb_10;
    float3  grd_1 = mul_0(iscl_rot_2, ray_d_2);
    *depth_10 = (F32_log(((F32_max((- dot_0(mul_0(iscl_rot_2, ray_o_2 - mean_18), grd_1) / dot_0(grd_1, grd_1)), (9.99999997475242708e-07f))))));
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_1, DiffPair_float_0 * dpopacity_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_1, float3  dpout_rgb_0, float dpdepth_0)
{
    float3  _S3007 = (*dpray_o_1).primal_0 - (*dpmean_1).primal_0;
    float3  _S3008 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, _S3007);
    float3  _S3009 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, (*dpray_d_1).primal_0);
    float _S3010 = - s_primal_ctx_dot_0(_S3008, _S3009);
    float _S3011 = s_primal_ctx_dot_0(_S3009, _S3009);
    float _S3012 = _S3010 / _S3011;
    float _S3013 = _S3011 * _S3011;
    DiffPair_float_0 _S3014;
    (&_S3014)->primal_0 = s_primal_ctx_max_0(_S3012, 9.99999997475242708e-07f);
    (&_S3014)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3014, dpdepth_0);
    DiffPair_float_0 _S3015;
    (&_S3015)->primal_0 = _S3012;
    (&_S3015)->differential_0 = 0.0f;
    DiffPair_float_0 _S3016;
    (&_S3016)->primal_0 = 9.99999997475242708e-07f;
    (&_S3016)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3015, &_S3016, _S3014.differential_0);
    float _S3017 = _S3015.differential_0 / _S3013;
    float _S3018 = _S3010 * - _S3017;
    float _S3019 = _S3011 * _S3017;
    float3  _S3020 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3021;
    (&_S3021)->primal_0 = _S3009;
    (&_S3021)->differential_0 = _S3020;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3022;
    (&_S3022)->primal_0 = _S3009;
    (&_S3022)->differential_0 = _S3020;
    s_bwd_prop_dot_0(&_S3021, &_S3022, _S3018);
    float _S3023 = - _S3019;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3024;
    (&_S3024)->primal_0 = _S3008;
    (&_S3024)->differential_0 = _S3020;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3025;
    (&_S3025)->primal_0 = _S3009;
    (&_S3025)->differential_0 = _S3020;
    s_bwd_prop_dot_0(&_S3024, &_S3025, _S3023);
    float3  _S3026 = _S3022.differential_0 + _S3021.differential_0 + _S3025.differential_0;
    Matrix<float, 3, 3>  _S3027 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3028;
    (&_S3028)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S3028)->differential_0 = _S3027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3029;
    (&_S3029)->primal_0 = (*dpray_d_1).primal_0;
    (&_S3029)->differential_0 = _S3020;
    s_bwd_prop_mul_1(&_S3028, &_S3029, _S3026);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3030;
    (&_S3030)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S3030)->differential_0 = _S3027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3031;
    (&_S3031)->primal_0 = _S3007;
    (&_S3031)->differential_0 = _S3020;
    s_bwd_prop_mul_1(&_S3030, &_S3031, _S3024.differential_0);
    float3  _S3032 = - _S3031.differential_0;
    dpray_d_1->primal_0 = (*dpray_d_1).primal_0;
    dpray_d_1->differential_0 = _S3029.differential_0;
    dpray_o_1->primal_0 = (*dpray_o_1).primal_0;
    dpray_o_1->differential_0 = _S3031.differential_0;
    dprgb_0->primal_0 = (*dprgb_0).primal_0;
    dprgb_0->differential_0 = dpout_rgb_0;
    dpopacity_1->primal_0 = (*dpopacity_1).primal_0;
    dpopacity_1->differential_0 = 0.0f;
    Matrix<float, 3, 3>  _S3033 = _S3028.differential_0 + _S3030.differential_0;
    dpiscl_rot_1->primal_0 = (*dpiscl_rot_1).primal_0;
    dpiscl_rot_1->differential_0 = _S3033;
    dpmean_1->primal_0 = (*dpmean_1).primal_0;
    dpmean_1->differential_0 = _S3032;
    return;
}

inline __device__ void s_bwd_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3034, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3035, DiffPair_float_0 * _S3036, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3037, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3038, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3039, float3  _S3040, float _S3041)
{
    s_bwd_prop_evaluate_color_3dgs_0(_S3034, _S3035, _S3036, _S3037, _S3038, _S3039, _S3040, _S3041);
    return;
}

inline __device__ void evaluate_color_3dgs_vjp(float3  mean_19, Matrix<float, 3, 3>  iscl_rot_3, float opacity_13, float3  rgb_11, float3  ray_o_3, float3  ray_d_3, float3  v_out_rgb_0, float v_depth_5, float3  * v_mean_6, Matrix<float, 3, 3>  * v_iscl_rot_2, float * v_opacity_6, float3  * v_rgb_5, float3  * v_ray_o_2, float3  * v_ray_d_2)
{
    float3  _S3042 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_1;
    (&dp_mean_1)->primal_0 = mean_19;
    (&dp_mean_1)->differential_0 = _S3042;
    Matrix<float, 3, 3>  _S3043 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_1;
    (&dp_iscl_rot_1)->primal_0 = iscl_rot_3;
    (&dp_iscl_rot_1)->differential_0 = _S3043;
    DiffPair_float_0 dp_opacity_1;
    (&dp_opacity_1)->primal_0 = opacity_13;
    (&dp_opacity_1)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_0;
    (&dp_rgb_0)->primal_0 = rgb_11;
    (&dp_rgb_0)->differential_0 = _S3042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_1;
    (&dp_ray_o_1)->primal_0 = ray_o_3;
    (&dp_ray_o_1)->differential_0 = _S3042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_1;
    (&dp_ray_d_1)->primal_0 = ray_d_3;
    (&dp_ray_d_1)->differential_0 = _S3042;
    s_bwd_evaluate_color_3dgs_0(&dp_mean_1, &dp_iscl_rot_1, &dp_opacity_1, &dp_rgb_0, &dp_ray_o_1, &dp_ray_d_1, v_out_rgb_0, v_depth_5);
    *v_mean_6 = dp_mean_1.differential_0;
    *v_iscl_rot_2 = dp_iscl_rot_1.differential_0;
    *v_opacity_6 = dp_opacity_1.differential_0;
    *v_rgb_5 = dp_rgb_0.differential_0;
    *v_ray_o_2 = dp_ray_o_1.differential_0;
    *v_ray_d_2 = dp_ray_d_1.differential_0;
    return;
}

inline __device__ void _d_rsqrt_0(DiffPair_float_0 * dpx_13, float dOut_17)
{
    float _S3044 = -0.5f / ((*dpx_13).primal_0 * (F32_sqrt(((*dpx_13).primal_0)))) * dOut_17;
    dpx_13->primal_0 = (*dpx_13).primal_0;
    dpx_13->differential_0 = _S3044;
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_15, float3  mean_20, float4  quat_21, float3  scale_20, float in_opacity_15, FixedArray<float3 , 2>  * sv_sites_0, FixedArray<float3 , 2>  * sv_colors_0, Matrix<float, 3, 3>  R_22, float3  t_18, float fx_24, float fy_24, float cx_19, float cy_19, FixedArray<float, 10>  * dist_coeffs_28, uint image_width_15, uint image_height_15, float near_plane_10, float far_plane_10, int4  * aabb_xyxy_10, float2  * mean2d_18, float * depth_11, float3  * conic_10, float * opacity_14, float3  * rgb_12)
{
    for(;;)
    {
        float3  mean_c_15 = mul_0(R_22, mean_20) + t_18;
        float _S3045 = mean_c_15.z;
        bool _S3046;
        if(_S3045 < near_plane_10)
        {
            _S3046 = true;
        }
        else
        {
            _S3046 = _S3045 > far_plane_10;
        }
        if(_S3046)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_14 = make_float4 (fx_24, fy_24, cx_19, cy_19);
        Matrix<float, 2, 2>  covar2d_10;
        float3  _S3047 = exp_0(scale_20);
        float x_42 = quat_21.y;
        float x2_21 = x_42 * x_42;
        float y2_21 = quat_21.z * quat_21.z;
        float z2_36 = quat_21.w * quat_21.w;
        float xy_21 = quat_21.y * quat_21.z;
        float xz_21 = quat_21.y * quat_21.w;
        float yz_21 = quat_21.z * quat_21.w;
        float wx_21 = quat_21.x * quat_21.y;
        float wy_21 = quat_21.x * quat_21.z;
        float wz_21 = quat_21.x * quat_21.w;
        Matrix<float, 3, 3>  _S3048 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_21 + z2_36), 2.0f * (xy_21 + wz_21), 2.0f * (xz_21 - wy_21), 2.0f * (xy_21 - wz_21), 1.0f - 2.0f * (x2_21 + z2_36), 2.0f * (yz_21 + wx_21), 2.0f * (xz_21 + wy_21), 2.0f * (yz_21 - wx_21), 1.0f - 2.0f * (x2_21 + y2_21))));
        SigmaPoints_0 ret_4;
        (&ret_4)->p_0[int(0)] = mean_20;
        (&ret_4)->w_mean_0[int(0)] = 0.0f;
        (&ret_4)->w_cov_0[int(0)] = 2.0f;
        float _S3049 = (F32_sqrt((3.0f)));
        float3  delta_18 = make_float3 (_S3049 * _S3047.x) * _S3048.rows[0U];
        float3  _S3050 = mean_20 + delta_18;
        float3  _S3051 = mean_20 - delta_18;
        float3  delta_19 = make_float3 (_S3049 * _S3047.y) * _S3048.rows[1U];
        float3  _S3052 = mean_20 + delta_19;
        float3  _S3053 = mean_20 - delta_19;
        float3  delta_20 = make_float3 (_S3049 * _S3047.z) * _S3048.rows[2U];
        float3  _S3054 = mean_20 + delta_20;
        float3  _S3055 = mean_20 - delta_20;
        (&ret_4)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_4)->p_0[0U] = mul_0(R_22, (&ret_4)->p_0[0U]) + t_18;
        (&ret_4)->p_0[1U] = mul_0(R_22, _S3050) + t_18;
        (&ret_4)->p_0[2U] = mul_0(R_22, _S3052) + t_18;
        (&ret_4)->p_0[3U] = mul_0(R_22, _S3054) + t_18;
        (&ret_4)->p_0[4U] = mul_0(R_22, _S3051) + t_18;
        (&ret_4)->p_0[5U] = mul_0(R_22, _S3053) + t_18;
        (&ret_4)->p_0[6U] = mul_0(R_22, _S3055) + t_18;
        SigmaPoints_0 _S3056 = ret_4;
        bool _S3057 = persp_proj_3dgs_ut_0(&_S3056, intrins_14, dist_coeffs_28, image_width_15, image_height_15, &covar2d_10, mean2d_18);
        if(!(true & _S3057))
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_16 = *&(((&covar2d_10)->rows + (int(0)))->x) * *&(((&covar2d_10)->rows + (int(1)))->y) - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float _S3058 = *&(((&covar2d_10)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(0)))->x) = _S3058;
        float _S3059 = *&(((&covar2d_10)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(1)))->y) = _S3059;
        float det_blur_11 = _S3058 * _S3059 - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float compensation_11 = (F32_sqrt(((F32_max((0.0f), (det_orig_16 / det_blur_11))))));
        if(det_blur_11 <= 0.0f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_14 = 1.0f / (1.0f + (F32_exp((- in_opacity_15))));
        if(antialiased_15)
        {
            *opacity_14 = *opacity_14 * compensation_11;
        }
        if((*opacity_14) < 0.00392156885936856f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_10 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_14 / 0.00392156885936856f)))))))));
        float radius_x_10 = extend_10 * (F32_sqrt((covar2d_10[int(0)].x)));
        float radius_y_10 = extend_10 * (F32_sqrt((covar2d_10[int(1)].y)));
        float xmin_5 = (F32_floor(((*mean2d_18).x - radius_x_10)));
        float xmax_5 = (F32_ceil(((*mean2d_18).x + radius_x_10)));
        float ymin_5 = (F32_floor(((*mean2d_18).y - radius_y_10)));
        float ymax_5 = (F32_ceil(((*mean2d_18).y + radius_y_10)));
        if(xmax_5 <= 0.0f)
        {
            _S3046 = true;
        }
        else
        {
            _S3046 = xmin_5 >= float(image_width_15);
        }
        if(_S3046)
        {
            _S3046 = true;
        }
        else
        {
            _S3046 = ymax_5 <= 0.0f;
        }
        if(_S3046)
        {
            _S3046 = true;
        }
        else
        {
            _S3046 = ymin_5 >= float(image_height_15);
        }
        if(_S3046)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_10 = make_int4 (int(xmin_5), int(ymin_5), int(xmax_5), int(ymax_5));
        *depth_11 = 0.5f * (F32_log((dot_0(mean_c_15, mean_c_15) + 9.99999997475242708e-07f)));
        *conic_10 = exp_0(- scale_20);
        float3  _S3060 = mean_20 - - mul_0(transpose_0(R_22), t_18);
        float3  _S3061 = _S3060 * make_float3 ((F32_rsqrt((dot_0(_S3060, _S3060)))));
        float w_0 = (F32_exp((dot_0((*sv_sites_0)[int(0)], _S3061) - dot_0((*sv_sites_0)[int(1)], _S3061))));
        float w_1 = (F32_exp((0.0f)));
        *rgb_12 = max_0((make_float3 (w_0) * (*sv_colors_0)[int(0)] + make_float3 (w_1) * (*sv_colors_0)[int(1)]) / make_float3 (w_0 + w_1) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_16, float3  mean_21, float4  quat_22, float3  scale_21, float in_opacity_16, FixedArray<float3 , 2>  * sv_sites_1, FixedArray<float3 , 2>  * sv_colors_1, Matrix<float, 3, 3>  R_23, float3  t_19, float fx_25, float fy_25, float cx_20, float cy_20, FixedArray<float, 10>  * dist_coeffs_29, uint image_width_16, uint image_height_16, float near_plane_11, float far_plane_11, int4  * aabb_xyxy_11, float2  * mean2d_19, float * depth_12, float3  * conic_11, float * opacity_15, float3  * rgb_13)
{
    for(;;)
    {
        float3  mean_c_16 = mul_0(R_23, mean_21) + t_19;
        float _S3062 = length_1(mean_c_16);
        bool _S3063;
        if(_S3062 < near_plane_11)
        {
            _S3063 = true;
        }
        else
        {
            _S3063 = _S3062 > far_plane_11;
        }
        if(_S3063)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_15 = make_float4 (fx_25, fy_25, cx_20, cy_20);
        Matrix<float, 2, 2>  covar2d_11;
        float3  _S3064 = exp_0(scale_21);
        float x_43 = quat_22.y;
        float x2_22 = x_43 * x_43;
        float y2_22 = quat_22.z * quat_22.z;
        float z2_37 = quat_22.w * quat_22.w;
        float xy_22 = quat_22.y * quat_22.z;
        float xz_22 = quat_22.y * quat_22.w;
        float yz_22 = quat_22.z * quat_22.w;
        float wx_22 = quat_22.x * quat_22.y;
        float wy_22 = quat_22.x * quat_22.z;
        float wz_22 = quat_22.x * quat_22.w;
        Matrix<float, 3, 3>  _S3065 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_22 + z2_37), 2.0f * (xy_22 + wz_22), 2.0f * (xz_22 - wy_22), 2.0f * (xy_22 - wz_22), 1.0f - 2.0f * (x2_22 + z2_37), 2.0f * (yz_22 + wx_22), 2.0f * (xz_22 + wy_22), 2.0f * (yz_22 - wx_22), 1.0f - 2.0f * (x2_22 + y2_22))));
        SigmaPoints_0 ret_5;
        (&ret_5)->p_0[int(0)] = mean_21;
        (&ret_5)->w_mean_0[int(0)] = 0.0f;
        (&ret_5)->w_cov_0[int(0)] = 2.0f;
        float _S3066 = (F32_sqrt((3.0f)));
        float3  delta_21 = make_float3 (_S3066 * _S3064.x) * _S3065.rows[0U];
        float3  _S3067 = mean_21 + delta_21;
        float3  _S3068 = mean_21 - delta_21;
        float3  delta_22 = make_float3 (_S3066 * _S3064.y) * _S3065.rows[1U];
        float3  _S3069 = mean_21 + delta_22;
        float3  _S3070 = mean_21 - delta_22;
        float3  delta_23 = make_float3 (_S3066 * _S3064.z) * _S3065.rows[2U];
        float3  _S3071 = mean_21 + delta_23;
        float3  _S3072 = mean_21 - delta_23;
        (&ret_5)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_5)->p_0[0U] = mul_0(R_23, (&ret_5)->p_0[0U]) + t_19;
        (&ret_5)->p_0[1U] = mul_0(R_23, _S3067) + t_19;
        (&ret_5)->p_0[2U] = mul_0(R_23, _S3069) + t_19;
        (&ret_5)->p_0[3U] = mul_0(R_23, _S3071) + t_19;
        (&ret_5)->p_0[4U] = mul_0(R_23, _S3068) + t_19;
        (&ret_5)->p_0[5U] = mul_0(R_23, _S3070) + t_19;
        (&ret_5)->p_0[6U] = mul_0(R_23, _S3072) + t_19;
        SigmaPoints_0 _S3073 = ret_5;
        bool _S3074 = fisheye_proj_3dgs_ut_0(&_S3073, intrins_15, dist_coeffs_29, &covar2d_11, mean2d_19);
        if(!(true & _S3074))
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_17 = *&(((&covar2d_11)->rows + (int(0)))->x) * *&(((&covar2d_11)->rows + (int(1)))->y) - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float _S3075 = *&(((&covar2d_11)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(0)))->x) = _S3075;
        float _S3076 = *&(((&covar2d_11)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(1)))->y) = _S3076;
        float det_blur_12 = _S3075 * _S3076 - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float compensation_12 = (F32_sqrt(((F32_max((0.0f), (det_orig_17 / det_blur_12))))));
        if(det_blur_12 <= 0.0f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_15 = 1.0f / (1.0f + (F32_exp((- in_opacity_16))));
        if(antialiased_16)
        {
            *opacity_15 = *opacity_15 * compensation_12;
        }
        if((*opacity_15) < 0.00392156885936856f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_11 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_15 / 0.00392156885936856f)))))))));
        float radius_x_11 = extend_11 * (F32_sqrt((covar2d_11[int(0)].x)));
        float radius_y_11 = extend_11 * (F32_sqrt((covar2d_11[int(1)].y)));
        float xmin_6 = (F32_floor(((*mean2d_19).x - radius_x_11)));
        float xmax_6 = (F32_ceil(((*mean2d_19).x + radius_x_11)));
        float ymin_6 = (F32_floor(((*mean2d_19).y - radius_y_11)));
        float ymax_6 = (F32_ceil(((*mean2d_19).y + radius_y_11)));
        if(xmax_6 <= 0.0f)
        {
            _S3063 = true;
        }
        else
        {
            _S3063 = xmin_6 >= float(image_width_16);
        }
        if(_S3063)
        {
            _S3063 = true;
        }
        else
        {
            _S3063 = ymax_6 <= 0.0f;
        }
        if(_S3063)
        {
            _S3063 = true;
        }
        else
        {
            _S3063 = ymin_6 >= float(image_height_16);
        }
        if(_S3063)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_11 = make_int4 (int(xmin_6), int(ymin_6), int(xmax_6), int(ymax_6));
        *depth_12 = 0.5f * (F32_log((dot_0(mean_c_16, mean_c_16) + 9.99999997475242708e-07f)));
        *conic_11 = exp_0(- scale_21);
        float3  _S3077 = mean_21 - - mul_0(transpose_0(R_23), t_19);
        float3  _S3078 = _S3077 * make_float3 ((F32_rsqrt((dot_0(_S3077, _S3077)))));
        float w_2 = (F32_exp((dot_0((*sv_sites_1)[int(0)], _S3078) - dot_0((*sv_sites_1)[int(1)], _S3078))));
        float w_3 = (F32_exp((0.0f)));
        *rgb_13 = max_0((make_float3 (w_2) * (*sv_colors_1)[int(0)] + make_float3 (w_3) * (*sv_colors_1)[int(1)]) / make_float3 (w_2 + w_3) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_17, float3  mean_22, float4  quat_23, float3  scale_22, float in_opacity_17, FixedArray<float3 , 3>  * sv_sites_2, FixedArray<float3 , 3>  * sv_colors_2, Matrix<float, 3, 3>  R_24, float3  t_20, float fx_26, float fy_26, float cx_21, float cy_21, FixedArray<float, 10>  * dist_coeffs_30, uint image_width_17, uint image_height_17, float near_plane_12, float far_plane_12, int4  * aabb_xyxy_12, float2  * mean2d_20, float * depth_13, float3  * conic_12, float * opacity_16, float3  * rgb_14)
{
    for(;;)
    {
        float3  mean_c_17 = mul_0(R_24, mean_22) + t_20;
        float _S3079 = mean_c_17.z;
        bool _S3080;
        if(_S3079 < near_plane_12)
        {
            _S3080 = true;
        }
        else
        {
            _S3080 = _S3079 > far_plane_12;
        }
        if(_S3080)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_16 = make_float4 (fx_26, fy_26, cx_21, cy_21);
        Matrix<float, 2, 2>  covar2d_12;
        float3  _S3081 = exp_0(scale_22);
        float x_44 = quat_23.y;
        float x2_23 = x_44 * x_44;
        float y2_23 = quat_23.z * quat_23.z;
        float z2_38 = quat_23.w * quat_23.w;
        float xy_23 = quat_23.y * quat_23.z;
        float xz_23 = quat_23.y * quat_23.w;
        float yz_23 = quat_23.z * quat_23.w;
        float wx_23 = quat_23.x * quat_23.y;
        float wy_23 = quat_23.x * quat_23.z;
        float wz_23 = quat_23.x * quat_23.w;
        Matrix<float, 3, 3>  _S3082 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_23 + z2_38), 2.0f * (xy_23 + wz_23), 2.0f * (xz_23 - wy_23), 2.0f * (xy_23 - wz_23), 1.0f - 2.0f * (x2_23 + z2_38), 2.0f * (yz_23 + wx_23), 2.0f * (xz_23 + wy_23), 2.0f * (yz_23 - wx_23), 1.0f - 2.0f * (x2_23 + y2_23))));
        SigmaPoints_0 ret_6;
        (&ret_6)->p_0[int(0)] = mean_22;
        (&ret_6)->w_mean_0[int(0)] = 0.0f;
        (&ret_6)->w_cov_0[int(0)] = 2.0f;
        float _S3083 = (F32_sqrt((3.0f)));
        float3  delta_24 = make_float3 (_S3083 * _S3081.x) * _S3082.rows[0U];
        float3  _S3084 = mean_22 + delta_24;
        float3  _S3085 = mean_22 - delta_24;
        float3  delta_25 = make_float3 (_S3083 * _S3081.y) * _S3082.rows[1U];
        float3  _S3086 = mean_22 + delta_25;
        float3  _S3087 = mean_22 - delta_25;
        float3  delta_26 = make_float3 (_S3083 * _S3081.z) * _S3082.rows[2U];
        float3  _S3088 = mean_22 + delta_26;
        float3  _S3089 = mean_22 - delta_26;
        (&ret_6)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_6)->p_0[0U] = mul_0(R_24, (&ret_6)->p_0[0U]) + t_20;
        (&ret_6)->p_0[1U] = mul_0(R_24, _S3084) + t_20;
        (&ret_6)->p_0[2U] = mul_0(R_24, _S3086) + t_20;
        (&ret_6)->p_0[3U] = mul_0(R_24, _S3088) + t_20;
        (&ret_6)->p_0[4U] = mul_0(R_24, _S3085) + t_20;
        (&ret_6)->p_0[5U] = mul_0(R_24, _S3087) + t_20;
        (&ret_6)->p_0[6U] = mul_0(R_24, _S3089) + t_20;
        SigmaPoints_0 _S3090 = ret_6;
        bool _S3091 = persp_proj_3dgs_ut_0(&_S3090, intrins_16, dist_coeffs_30, image_width_17, image_height_17, &covar2d_12, mean2d_20);
        if(!(true & _S3091))
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_18 = *&(((&covar2d_12)->rows + (int(0)))->x) * *&(((&covar2d_12)->rows + (int(1)))->y) - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float _S3092 = *&(((&covar2d_12)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(0)))->x) = _S3092;
        float _S3093 = *&(((&covar2d_12)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(1)))->y) = _S3093;
        float det_blur_13 = _S3092 * _S3093 - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float compensation_13 = (F32_sqrt(((F32_max((0.0f), (det_orig_18 / det_blur_13))))));
        if(det_blur_13 <= 0.0f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_16 = 1.0f / (1.0f + (F32_exp((- in_opacity_17))));
        if(antialiased_17)
        {
            *opacity_16 = *opacity_16 * compensation_13;
        }
        if((*opacity_16) < 0.00392156885936856f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_12 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_16 / 0.00392156885936856f)))))))));
        float radius_x_12 = extend_12 * (F32_sqrt((covar2d_12[int(0)].x)));
        float radius_y_12 = extend_12 * (F32_sqrt((covar2d_12[int(1)].y)));
        float xmin_7 = (F32_floor(((*mean2d_20).x - radius_x_12)));
        float xmax_7 = (F32_ceil(((*mean2d_20).x + radius_x_12)));
        float ymin_7 = (F32_floor(((*mean2d_20).y - radius_y_12)));
        float ymax_7 = (F32_ceil(((*mean2d_20).y + radius_y_12)));
        if(xmax_7 <= 0.0f)
        {
            _S3080 = true;
        }
        else
        {
            _S3080 = xmin_7 >= float(image_width_17);
        }
        if(_S3080)
        {
            _S3080 = true;
        }
        else
        {
            _S3080 = ymax_7 <= 0.0f;
        }
        if(_S3080)
        {
            _S3080 = true;
        }
        else
        {
            _S3080 = ymin_7 >= float(image_height_17);
        }
        if(_S3080)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_12 = make_int4 (int(xmin_7), int(ymin_7), int(xmax_7), int(ymax_7));
        *depth_13 = 0.5f * (F32_log((dot_0(mean_c_17, mean_c_17) + 9.99999997475242708e-07f)));
        *conic_12 = exp_0(- scale_22);
        float3  _S3094 = mean_22 - - mul_0(transpose_0(R_24), t_20);
        float3  _S3095 = _S3094 * make_float3 ((F32_rsqrt((dot_0(_S3094, _S3094)))));
        float _S3096 = dot_0((*sv_sites_2)[int(2)], _S3095);
        float w_4 = (F32_exp((dot_0((*sv_sites_2)[int(0)], _S3095) - _S3096)));
        float w_5 = (F32_exp((dot_0((*sv_sites_2)[int(1)], _S3095) - _S3096)));
        float w_6 = (F32_exp((0.0f)));
        *rgb_14 = max_0((make_float3 (w_4) * (*sv_colors_2)[int(0)] + make_float3 (w_5) * (*sv_colors_2)[int(1)] + make_float3 (w_6) * (*sv_colors_2)[int(2)]) / make_float3 (w_4 + w_5 + w_6) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_18, float3  mean_23, float4  quat_24, float3  scale_23, float in_opacity_18, FixedArray<float3 , 3>  * sv_sites_3, FixedArray<float3 , 3>  * sv_colors_3, Matrix<float, 3, 3>  R_25, float3  t_21, float fx_27, float fy_27, float cx_22, float cy_22, FixedArray<float, 10>  * dist_coeffs_31, uint image_width_18, uint image_height_18, float near_plane_13, float far_plane_13, int4  * aabb_xyxy_13, float2  * mean2d_21, float * depth_14, float3  * conic_13, float * opacity_17, float3  * rgb_15)
{
    for(;;)
    {
        float3  mean_c_18 = mul_0(R_25, mean_23) + t_21;
        float _S3097 = length_1(mean_c_18);
        bool _S3098;
        if(_S3097 < near_plane_13)
        {
            _S3098 = true;
        }
        else
        {
            _S3098 = _S3097 > far_plane_13;
        }
        if(_S3098)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_17 = make_float4 (fx_27, fy_27, cx_22, cy_22);
        Matrix<float, 2, 2>  covar2d_13;
        float3  _S3099 = exp_0(scale_23);
        float x_45 = quat_24.y;
        float x2_24 = x_45 * x_45;
        float y2_24 = quat_24.z * quat_24.z;
        float z2_39 = quat_24.w * quat_24.w;
        float xy_24 = quat_24.y * quat_24.z;
        float xz_24 = quat_24.y * quat_24.w;
        float yz_24 = quat_24.z * quat_24.w;
        float wx_24 = quat_24.x * quat_24.y;
        float wy_24 = quat_24.x * quat_24.z;
        float wz_24 = quat_24.x * quat_24.w;
        Matrix<float, 3, 3>  _S3100 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_24 + z2_39), 2.0f * (xy_24 + wz_24), 2.0f * (xz_24 - wy_24), 2.0f * (xy_24 - wz_24), 1.0f - 2.0f * (x2_24 + z2_39), 2.0f * (yz_24 + wx_24), 2.0f * (xz_24 + wy_24), 2.0f * (yz_24 - wx_24), 1.0f - 2.0f * (x2_24 + y2_24))));
        SigmaPoints_0 ret_7;
        (&ret_7)->p_0[int(0)] = mean_23;
        (&ret_7)->w_mean_0[int(0)] = 0.0f;
        (&ret_7)->w_cov_0[int(0)] = 2.0f;
        float _S3101 = (F32_sqrt((3.0f)));
        float3  delta_27 = make_float3 (_S3101 * _S3099.x) * _S3100.rows[0U];
        float3  _S3102 = mean_23 + delta_27;
        float3  _S3103 = mean_23 - delta_27;
        float3  delta_28 = make_float3 (_S3101 * _S3099.y) * _S3100.rows[1U];
        float3  _S3104 = mean_23 + delta_28;
        float3  _S3105 = mean_23 - delta_28;
        float3  delta_29 = make_float3 (_S3101 * _S3099.z) * _S3100.rows[2U];
        float3  _S3106 = mean_23 + delta_29;
        float3  _S3107 = mean_23 - delta_29;
        (&ret_7)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_7)->p_0[0U] = mul_0(R_25, (&ret_7)->p_0[0U]) + t_21;
        (&ret_7)->p_0[1U] = mul_0(R_25, _S3102) + t_21;
        (&ret_7)->p_0[2U] = mul_0(R_25, _S3104) + t_21;
        (&ret_7)->p_0[3U] = mul_0(R_25, _S3106) + t_21;
        (&ret_7)->p_0[4U] = mul_0(R_25, _S3103) + t_21;
        (&ret_7)->p_0[5U] = mul_0(R_25, _S3105) + t_21;
        (&ret_7)->p_0[6U] = mul_0(R_25, _S3107) + t_21;
        SigmaPoints_0 _S3108 = ret_7;
        bool _S3109 = fisheye_proj_3dgs_ut_0(&_S3108, intrins_17, dist_coeffs_31, &covar2d_13, mean2d_21);
        if(!(true & _S3109))
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_19 = *&(((&covar2d_13)->rows + (int(0)))->x) * *&(((&covar2d_13)->rows + (int(1)))->y) - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float _S3110 = *&(((&covar2d_13)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(0)))->x) = _S3110;
        float _S3111 = *&(((&covar2d_13)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(1)))->y) = _S3111;
        float det_blur_14 = _S3110 * _S3111 - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float compensation_14 = (F32_sqrt(((F32_max((0.0f), (det_orig_19 / det_blur_14))))));
        if(det_blur_14 <= 0.0f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_17 = 1.0f / (1.0f + (F32_exp((- in_opacity_18))));
        if(antialiased_18)
        {
            *opacity_17 = *opacity_17 * compensation_14;
        }
        if((*opacity_17) < 0.00392156885936856f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_13 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_17 / 0.00392156885936856f)))))))));
        float radius_x_13 = extend_13 * (F32_sqrt((covar2d_13[int(0)].x)));
        float radius_y_13 = extend_13 * (F32_sqrt((covar2d_13[int(1)].y)));
        float xmin_8 = (F32_floor(((*mean2d_21).x - radius_x_13)));
        float xmax_8 = (F32_ceil(((*mean2d_21).x + radius_x_13)));
        float ymin_8 = (F32_floor(((*mean2d_21).y - radius_y_13)));
        float ymax_8 = (F32_ceil(((*mean2d_21).y + radius_y_13)));
        if(xmax_8 <= 0.0f)
        {
            _S3098 = true;
        }
        else
        {
            _S3098 = xmin_8 >= float(image_width_18);
        }
        if(_S3098)
        {
            _S3098 = true;
        }
        else
        {
            _S3098 = ymax_8 <= 0.0f;
        }
        if(_S3098)
        {
            _S3098 = true;
        }
        else
        {
            _S3098 = ymin_8 >= float(image_height_18);
        }
        if(_S3098)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_13 = make_int4 (int(xmin_8), int(ymin_8), int(xmax_8), int(ymax_8));
        *depth_14 = 0.5f * (F32_log((dot_0(mean_c_18, mean_c_18) + 9.99999997475242708e-07f)));
        *conic_13 = exp_0(- scale_23);
        float3  _S3112 = mean_23 - - mul_0(transpose_0(R_25), t_21);
        float3  _S3113 = _S3112 * make_float3 ((F32_rsqrt((dot_0(_S3112, _S3112)))));
        float _S3114 = dot_0((*sv_sites_3)[int(2)], _S3113);
        float w_7 = (F32_exp((dot_0((*sv_sites_3)[int(0)], _S3113) - _S3114)));
        float w_8 = (F32_exp((dot_0((*sv_sites_3)[int(1)], _S3113) - _S3114)));
        float w_9 = (F32_exp((0.0f)));
        *rgb_15 = max_0((make_float3 (w_7) * (*sv_colors_3)[int(0)] + make_float3 (w_8) * (*sv_colors_3)[int(1)] + make_float3 (w_9) * (*sv_colors_3)[int(2)]) / make_float3 (w_7 + w_8 + w_9) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_19, float3  mean_24, float4  quat_25, float3  scale_24, float in_opacity_19, FixedArray<float3 , 4>  * sv_sites_4, FixedArray<float3 , 4>  * sv_colors_4, Matrix<float, 3, 3>  R_26, float3  t_22, float fx_28, float fy_28, float cx_23, float cy_23, FixedArray<float, 10>  * dist_coeffs_32, uint image_width_19, uint image_height_19, float near_plane_14, float far_plane_14, int4  * aabb_xyxy_14, float2  * mean2d_22, float * depth_15, float3  * conic_14, float * opacity_18, float3  * rgb_16)
{
    for(;;)
    {
        float3  mean_c_19 = mul_0(R_26, mean_24) + t_22;
        float _S3115 = mean_c_19.z;
        bool _S3116;
        if(_S3115 < near_plane_14)
        {
            _S3116 = true;
        }
        else
        {
            _S3116 = _S3115 > far_plane_14;
        }
        if(_S3116)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_18 = make_float4 (fx_28, fy_28, cx_23, cy_23);
        Matrix<float, 2, 2>  covar2d_14;
        float3  _S3117 = exp_0(scale_24);
        float x_46 = quat_25.y;
        float x2_25 = x_46 * x_46;
        float y2_25 = quat_25.z * quat_25.z;
        float z2_40 = quat_25.w * quat_25.w;
        float xy_25 = quat_25.y * quat_25.z;
        float xz_25 = quat_25.y * quat_25.w;
        float yz_25 = quat_25.z * quat_25.w;
        float wx_25 = quat_25.x * quat_25.y;
        float wy_25 = quat_25.x * quat_25.z;
        float wz_25 = quat_25.x * quat_25.w;
        Matrix<float, 3, 3>  _S3118 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_25 + z2_40), 2.0f * (xy_25 + wz_25), 2.0f * (xz_25 - wy_25), 2.0f * (xy_25 - wz_25), 1.0f - 2.0f * (x2_25 + z2_40), 2.0f * (yz_25 + wx_25), 2.0f * (xz_25 + wy_25), 2.0f * (yz_25 - wx_25), 1.0f - 2.0f * (x2_25 + y2_25))));
        SigmaPoints_0 ret_8;
        (&ret_8)->p_0[int(0)] = mean_24;
        (&ret_8)->w_mean_0[int(0)] = 0.0f;
        (&ret_8)->w_cov_0[int(0)] = 2.0f;
        float _S3119 = (F32_sqrt((3.0f)));
        float3  delta_30 = make_float3 (_S3119 * _S3117.x) * _S3118.rows[0U];
        float3  _S3120 = mean_24 + delta_30;
        float3  _S3121 = mean_24 - delta_30;
        float3  delta_31 = make_float3 (_S3119 * _S3117.y) * _S3118.rows[1U];
        float3  _S3122 = mean_24 + delta_31;
        float3  _S3123 = mean_24 - delta_31;
        float3  delta_32 = make_float3 (_S3119 * _S3117.z) * _S3118.rows[2U];
        float3  _S3124 = mean_24 + delta_32;
        float3  _S3125 = mean_24 - delta_32;
        (&ret_8)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_8)->p_0[0U] = mul_0(R_26, (&ret_8)->p_0[0U]) + t_22;
        (&ret_8)->p_0[1U] = mul_0(R_26, _S3120) + t_22;
        (&ret_8)->p_0[2U] = mul_0(R_26, _S3122) + t_22;
        (&ret_8)->p_0[3U] = mul_0(R_26, _S3124) + t_22;
        (&ret_8)->p_0[4U] = mul_0(R_26, _S3121) + t_22;
        (&ret_8)->p_0[5U] = mul_0(R_26, _S3123) + t_22;
        (&ret_8)->p_0[6U] = mul_0(R_26, _S3125) + t_22;
        SigmaPoints_0 _S3126 = ret_8;
        bool _S3127 = persp_proj_3dgs_ut_0(&_S3126, intrins_18, dist_coeffs_32, image_width_19, image_height_19, &covar2d_14, mean2d_22);
        if(!(true & _S3127))
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_20 = *&(((&covar2d_14)->rows + (int(0)))->x) * *&(((&covar2d_14)->rows + (int(1)))->y) - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float _S3128 = *&(((&covar2d_14)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(0)))->x) = _S3128;
        float _S3129 = *&(((&covar2d_14)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(1)))->y) = _S3129;
        float det_blur_15 = _S3128 * _S3129 - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float compensation_15 = (F32_sqrt(((F32_max((0.0f), (det_orig_20 / det_blur_15))))));
        if(det_blur_15 <= 0.0f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_18 = 1.0f / (1.0f + (F32_exp((- in_opacity_19))));
        if(antialiased_19)
        {
            *opacity_18 = *opacity_18 * compensation_15;
        }
        if((*opacity_18) < 0.00392156885936856f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_14 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_18 / 0.00392156885936856f)))))))));
        float radius_x_14 = extend_14 * (F32_sqrt((covar2d_14[int(0)].x)));
        float radius_y_14 = extend_14 * (F32_sqrt((covar2d_14[int(1)].y)));
        float xmin_9 = (F32_floor(((*mean2d_22).x - radius_x_14)));
        float xmax_9 = (F32_ceil(((*mean2d_22).x + radius_x_14)));
        float ymin_9 = (F32_floor(((*mean2d_22).y - radius_y_14)));
        float ymax_9 = (F32_ceil(((*mean2d_22).y + radius_y_14)));
        if(xmax_9 <= 0.0f)
        {
            _S3116 = true;
        }
        else
        {
            _S3116 = xmin_9 >= float(image_width_19);
        }
        if(_S3116)
        {
            _S3116 = true;
        }
        else
        {
            _S3116 = ymax_9 <= 0.0f;
        }
        if(_S3116)
        {
            _S3116 = true;
        }
        else
        {
            _S3116 = ymin_9 >= float(image_height_19);
        }
        if(_S3116)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_14 = make_int4 (int(xmin_9), int(ymin_9), int(xmax_9), int(ymax_9));
        *depth_15 = 0.5f * (F32_log((dot_0(mean_c_19, mean_c_19) + 9.99999997475242708e-07f)));
        *conic_14 = exp_0(- scale_24);
        float3  _S3130 = mean_24 - - mul_0(transpose_0(R_26), t_22);
        float3  _S3131 = _S3130 * make_float3 ((F32_rsqrt((dot_0(_S3130, _S3130)))));
        float _S3132 = dot_0((*sv_sites_4)[int(3)], _S3131);
        float w_10 = (F32_exp((dot_0((*sv_sites_4)[int(0)], _S3131) - _S3132)));
        float w_11 = (F32_exp((dot_0((*sv_sites_4)[int(1)], _S3131) - _S3132)));
        float w_12 = (F32_exp((dot_0((*sv_sites_4)[int(2)], _S3131) - _S3132)));
        float w_13 = (F32_exp((0.0f)));
        *rgb_16 = max_0((make_float3 (w_10) * (*sv_colors_4)[int(0)] + make_float3 (w_11) * (*sv_colors_4)[int(1)] + make_float3 (w_12) * (*sv_colors_4)[int(2)] + make_float3 (w_13) * (*sv_colors_4)[int(3)]) / make_float3 (w_10 + w_11 + w_12 + w_13) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_20, float3  mean_25, float4  quat_26, float3  scale_25, float in_opacity_20, FixedArray<float3 , 4>  * sv_sites_5, FixedArray<float3 , 4>  * sv_colors_5, Matrix<float, 3, 3>  R_27, float3  t_23, float fx_29, float fy_29, float cx_24, float cy_24, FixedArray<float, 10>  * dist_coeffs_33, uint image_width_20, uint image_height_20, float near_plane_15, float far_plane_15, int4  * aabb_xyxy_15, float2  * mean2d_23, float * depth_16, float3  * conic_15, float * opacity_19, float3  * rgb_17)
{
    for(;;)
    {
        float3  mean_c_20 = mul_0(R_27, mean_25) + t_23;
        float _S3133 = length_1(mean_c_20);
        bool _S3134;
        if(_S3133 < near_plane_15)
        {
            _S3134 = true;
        }
        else
        {
            _S3134 = _S3133 > far_plane_15;
        }
        if(_S3134)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_19 = make_float4 (fx_29, fy_29, cx_24, cy_24);
        Matrix<float, 2, 2>  covar2d_15;
        float3  _S3135 = exp_0(scale_25);
        float x_47 = quat_26.y;
        float x2_26 = x_47 * x_47;
        float y2_26 = quat_26.z * quat_26.z;
        float z2_41 = quat_26.w * quat_26.w;
        float xy_26 = quat_26.y * quat_26.z;
        float xz_26 = quat_26.y * quat_26.w;
        float yz_26 = quat_26.z * quat_26.w;
        float wx_26 = quat_26.x * quat_26.y;
        float wy_26 = quat_26.x * quat_26.z;
        float wz_26 = quat_26.x * quat_26.w;
        Matrix<float, 3, 3>  _S3136 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_26 + z2_41), 2.0f * (xy_26 + wz_26), 2.0f * (xz_26 - wy_26), 2.0f * (xy_26 - wz_26), 1.0f - 2.0f * (x2_26 + z2_41), 2.0f * (yz_26 + wx_26), 2.0f * (xz_26 + wy_26), 2.0f * (yz_26 - wx_26), 1.0f - 2.0f * (x2_26 + y2_26))));
        SigmaPoints_0 ret_9;
        (&ret_9)->p_0[int(0)] = mean_25;
        (&ret_9)->w_mean_0[int(0)] = 0.0f;
        (&ret_9)->w_cov_0[int(0)] = 2.0f;
        float _S3137 = (F32_sqrt((3.0f)));
        float3  delta_33 = make_float3 (_S3137 * _S3135.x) * _S3136.rows[0U];
        float3  _S3138 = mean_25 + delta_33;
        float3  _S3139 = mean_25 - delta_33;
        float3  delta_34 = make_float3 (_S3137 * _S3135.y) * _S3136.rows[1U];
        float3  _S3140 = mean_25 + delta_34;
        float3  _S3141 = mean_25 - delta_34;
        float3  delta_35 = make_float3 (_S3137 * _S3135.z) * _S3136.rows[2U];
        float3  _S3142 = mean_25 + delta_35;
        float3  _S3143 = mean_25 - delta_35;
        (&ret_9)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_9)->p_0[0U] = mul_0(R_27, (&ret_9)->p_0[0U]) + t_23;
        (&ret_9)->p_0[1U] = mul_0(R_27, _S3138) + t_23;
        (&ret_9)->p_0[2U] = mul_0(R_27, _S3140) + t_23;
        (&ret_9)->p_0[3U] = mul_0(R_27, _S3142) + t_23;
        (&ret_9)->p_0[4U] = mul_0(R_27, _S3139) + t_23;
        (&ret_9)->p_0[5U] = mul_0(R_27, _S3141) + t_23;
        (&ret_9)->p_0[6U] = mul_0(R_27, _S3143) + t_23;
        SigmaPoints_0 _S3144 = ret_9;
        bool _S3145 = fisheye_proj_3dgs_ut_0(&_S3144, intrins_19, dist_coeffs_33, &covar2d_15, mean2d_23);
        if(!(true & _S3145))
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_21 = *&(((&covar2d_15)->rows + (int(0)))->x) * *&(((&covar2d_15)->rows + (int(1)))->y) - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float _S3146 = *&(((&covar2d_15)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(0)))->x) = _S3146;
        float _S3147 = *&(((&covar2d_15)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(1)))->y) = _S3147;
        float det_blur_16 = _S3146 * _S3147 - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float compensation_16 = (F32_sqrt(((F32_max((0.0f), (det_orig_21 / det_blur_16))))));
        if(det_blur_16 <= 0.0f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_19 = 1.0f / (1.0f + (F32_exp((- in_opacity_20))));
        if(antialiased_20)
        {
            *opacity_19 = *opacity_19 * compensation_16;
        }
        if((*opacity_19) < 0.00392156885936856f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_15 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_19 / 0.00392156885936856f)))))))));
        float radius_x_15 = extend_15 * (F32_sqrt((covar2d_15[int(0)].x)));
        float radius_y_15 = extend_15 * (F32_sqrt((covar2d_15[int(1)].y)));
        float xmin_10 = (F32_floor(((*mean2d_23).x - radius_x_15)));
        float xmax_10 = (F32_ceil(((*mean2d_23).x + radius_x_15)));
        float ymin_10 = (F32_floor(((*mean2d_23).y - radius_y_15)));
        float ymax_10 = (F32_ceil(((*mean2d_23).y + radius_y_15)));
        if(xmax_10 <= 0.0f)
        {
            _S3134 = true;
        }
        else
        {
            _S3134 = xmin_10 >= float(image_width_20);
        }
        if(_S3134)
        {
            _S3134 = true;
        }
        else
        {
            _S3134 = ymax_10 <= 0.0f;
        }
        if(_S3134)
        {
            _S3134 = true;
        }
        else
        {
            _S3134 = ymin_10 >= float(image_height_20);
        }
        if(_S3134)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_15 = make_int4 (int(xmin_10), int(ymin_10), int(xmax_10), int(ymax_10));
        *depth_16 = 0.5f * (F32_log((dot_0(mean_c_20, mean_c_20) + 9.99999997475242708e-07f)));
        *conic_15 = exp_0(- scale_25);
        float3  _S3148 = mean_25 - - mul_0(transpose_0(R_27), t_23);
        float3  _S3149 = _S3148 * make_float3 ((F32_rsqrt((dot_0(_S3148, _S3148)))));
        float _S3150 = dot_0((*sv_sites_5)[int(3)], _S3149);
        float w_14 = (F32_exp((dot_0((*sv_sites_5)[int(0)], _S3149) - _S3150)));
        float w_15 = (F32_exp((dot_0((*sv_sites_5)[int(1)], _S3149) - _S3150)));
        float w_16 = (F32_exp((dot_0((*sv_sites_5)[int(2)], _S3149) - _S3150)));
        float w_17 = (F32_exp((0.0f)));
        *rgb_17 = max_0((make_float3 (w_14) * (*sv_colors_5)[int(0)] + make_float3 (w_15) * (*sv_colors_5)[int(1)] + make_float3 (w_16) * (*sv_colors_5)[int(2)] + make_float3 (w_17) * (*sv_colors_5)[int(3)]) / make_float3 (w_14 + w_15 + w_16 + w_17) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_21, float3  mean_26, float4  quat_27, float3  scale_26, float in_opacity_21, FixedArray<float3 , 5>  * sv_sites_6, FixedArray<float3 , 5>  * sv_colors_6, Matrix<float, 3, 3>  R_28, float3  t_24, float fx_30, float fy_30, float cx_25, float cy_25, FixedArray<float, 10>  * dist_coeffs_34, uint image_width_21, uint image_height_21, float near_plane_16, float far_plane_16, int4  * aabb_xyxy_16, float2  * mean2d_24, float * depth_17, float3  * conic_16, float * opacity_20, float3  * rgb_18)
{
    for(;;)
    {
        float3  mean_c_21 = mul_0(R_28, mean_26) + t_24;
        float _S3151 = mean_c_21.z;
        bool _S3152;
        if(_S3151 < near_plane_16)
        {
            _S3152 = true;
        }
        else
        {
            _S3152 = _S3151 > far_plane_16;
        }
        if(_S3152)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_20 = make_float4 (fx_30, fy_30, cx_25, cy_25);
        Matrix<float, 2, 2>  covar2d_16;
        float3  _S3153 = exp_0(scale_26);
        float x_48 = quat_27.y;
        float x2_27 = x_48 * x_48;
        float y2_27 = quat_27.z * quat_27.z;
        float z2_42 = quat_27.w * quat_27.w;
        float xy_27 = quat_27.y * quat_27.z;
        float xz_27 = quat_27.y * quat_27.w;
        float yz_27 = quat_27.z * quat_27.w;
        float wx_27 = quat_27.x * quat_27.y;
        float wy_27 = quat_27.x * quat_27.z;
        float wz_27 = quat_27.x * quat_27.w;
        Matrix<float, 3, 3>  _S3154 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_27 + z2_42), 2.0f * (xy_27 + wz_27), 2.0f * (xz_27 - wy_27), 2.0f * (xy_27 - wz_27), 1.0f - 2.0f * (x2_27 + z2_42), 2.0f * (yz_27 + wx_27), 2.0f * (xz_27 + wy_27), 2.0f * (yz_27 - wx_27), 1.0f - 2.0f * (x2_27 + y2_27))));
        SigmaPoints_0 ret_10;
        (&ret_10)->p_0[int(0)] = mean_26;
        (&ret_10)->w_mean_0[int(0)] = 0.0f;
        (&ret_10)->w_cov_0[int(0)] = 2.0f;
        float _S3155 = (F32_sqrt((3.0f)));
        float3  delta_36 = make_float3 (_S3155 * _S3153.x) * _S3154.rows[0U];
        float3  _S3156 = mean_26 + delta_36;
        float3  _S3157 = mean_26 - delta_36;
        float3  delta_37 = make_float3 (_S3155 * _S3153.y) * _S3154.rows[1U];
        float3  _S3158 = mean_26 + delta_37;
        float3  _S3159 = mean_26 - delta_37;
        float3  delta_38 = make_float3 (_S3155 * _S3153.z) * _S3154.rows[2U];
        float3  _S3160 = mean_26 + delta_38;
        float3  _S3161 = mean_26 - delta_38;
        (&ret_10)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_10)->p_0[0U] = mul_0(R_28, (&ret_10)->p_0[0U]) + t_24;
        (&ret_10)->p_0[1U] = mul_0(R_28, _S3156) + t_24;
        (&ret_10)->p_0[2U] = mul_0(R_28, _S3158) + t_24;
        (&ret_10)->p_0[3U] = mul_0(R_28, _S3160) + t_24;
        (&ret_10)->p_0[4U] = mul_0(R_28, _S3157) + t_24;
        (&ret_10)->p_0[5U] = mul_0(R_28, _S3159) + t_24;
        (&ret_10)->p_0[6U] = mul_0(R_28, _S3161) + t_24;
        SigmaPoints_0 _S3162 = ret_10;
        bool _S3163 = persp_proj_3dgs_ut_0(&_S3162, intrins_20, dist_coeffs_34, image_width_21, image_height_21, &covar2d_16, mean2d_24);
        if(!(true & _S3163))
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_22 = *&(((&covar2d_16)->rows + (int(0)))->x) * *&(((&covar2d_16)->rows + (int(1)))->y) - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float _S3164 = *&(((&covar2d_16)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(0)))->x) = _S3164;
        float _S3165 = *&(((&covar2d_16)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(1)))->y) = _S3165;
        float det_blur_17 = _S3164 * _S3165 - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float compensation_17 = (F32_sqrt(((F32_max((0.0f), (det_orig_22 / det_blur_17))))));
        if(det_blur_17 <= 0.0f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_20 = 1.0f / (1.0f + (F32_exp((- in_opacity_21))));
        if(antialiased_21)
        {
            *opacity_20 = *opacity_20 * compensation_17;
        }
        if((*opacity_20) < 0.00392156885936856f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_16 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_20 / 0.00392156885936856f)))))))));
        float radius_x_16 = extend_16 * (F32_sqrt((covar2d_16[int(0)].x)));
        float radius_y_16 = extend_16 * (F32_sqrt((covar2d_16[int(1)].y)));
        float xmin_11 = (F32_floor(((*mean2d_24).x - radius_x_16)));
        float xmax_11 = (F32_ceil(((*mean2d_24).x + radius_x_16)));
        float ymin_11 = (F32_floor(((*mean2d_24).y - radius_y_16)));
        float ymax_11 = (F32_ceil(((*mean2d_24).y + radius_y_16)));
        if(xmax_11 <= 0.0f)
        {
            _S3152 = true;
        }
        else
        {
            _S3152 = xmin_11 >= float(image_width_21);
        }
        if(_S3152)
        {
            _S3152 = true;
        }
        else
        {
            _S3152 = ymax_11 <= 0.0f;
        }
        if(_S3152)
        {
            _S3152 = true;
        }
        else
        {
            _S3152 = ymin_11 >= float(image_height_21);
        }
        if(_S3152)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_16 = make_int4 (int(xmin_11), int(ymin_11), int(xmax_11), int(ymax_11));
        *depth_17 = 0.5f * (F32_log((dot_0(mean_c_21, mean_c_21) + 9.99999997475242708e-07f)));
        *conic_16 = exp_0(- scale_26);
        float3  _S3166 = mean_26 - - mul_0(transpose_0(R_28), t_24);
        float3  _S3167 = _S3166 * make_float3 ((F32_rsqrt((dot_0(_S3166, _S3166)))));
        float _S3168 = dot_0((*sv_sites_6)[int(4)], _S3167);
        float w_18 = (F32_exp((dot_0((*sv_sites_6)[int(0)], _S3167) - _S3168)));
        float w_19 = (F32_exp((dot_0((*sv_sites_6)[int(1)], _S3167) - _S3168)));
        float w_20 = (F32_exp((dot_0((*sv_sites_6)[int(2)], _S3167) - _S3168)));
        float w_21 = (F32_exp((dot_0((*sv_sites_6)[int(3)], _S3167) - _S3168)));
        float w_22 = (F32_exp((0.0f)));
        *rgb_18 = max_0((make_float3 (w_18) * (*sv_colors_6)[int(0)] + make_float3 (w_19) * (*sv_colors_6)[int(1)] + make_float3 (w_20) * (*sv_colors_6)[int(2)] + make_float3 (w_21) * (*sv_colors_6)[int(3)] + make_float3 (w_22) * (*sv_colors_6)[int(4)]) / make_float3 (w_18 + w_19 + w_20 + w_21 + w_22) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_22, float3  mean_27, float4  quat_28, float3  scale_27, float in_opacity_22, FixedArray<float3 , 5>  * sv_sites_7, FixedArray<float3 , 5>  * sv_colors_7, Matrix<float, 3, 3>  R_29, float3  t_25, float fx_31, float fy_31, float cx_26, float cy_26, FixedArray<float, 10>  * dist_coeffs_35, uint image_width_22, uint image_height_22, float near_plane_17, float far_plane_17, int4  * aabb_xyxy_17, float2  * mean2d_25, float * depth_18, float3  * conic_17, float * opacity_21, float3  * rgb_19)
{
    for(;;)
    {
        float3  mean_c_22 = mul_0(R_29, mean_27) + t_25;
        float _S3169 = length_1(mean_c_22);
        bool _S3170;
        if(_S3169 < near_plane_17)
        {
            _S3170 = true;
        }
        else
        {
            _S3170 = _S3169 > far_plane_17;
        }
        if(_S3170)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_21 = make_float4 (fx_31, fy_31, cx_26, cy_26);
        Matrix<float, 2, 2>  covar2d_17;
        float3  _S3171 = exp_0(scale_27);
        float x_49 = quat_28.y;
        float x2_28 = x_49 * x_49;
        float y2_28 = quat_28.z * quat_28.z;
        float z2_43 = quat_28.w * quat_28.w;
        float xy_28 = quat_28.y * quat_28.z;
        float xz_28 = quat_28.y * quat_28.w;
        float yz_28 = quat_28.z * quat_28.w;
        float wx_28 = quat_28.x * quat_28.y;
        float wy_28 = quat_28.x * quat_28.z;
        float wz_28 = quat_28.x * quat_28.w;
        Matrix<float, 3, 3>  _S3172 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_28 + z2_43), 2.0f * (xy_28 + wz_28), 2.0f * (xz_28 - wy_28), 2.0f * (xy_28 - wz_28), 1.0f - 2.0f * (x2_28 + z2_43), 2.0f * (yz_28 + wx_28), 2.0f * (xz_28 + wy_28), 2.0f * (yz_28 - wx_28), 1.0f - 2.0f * (x2_28 + y2_28))));
        SigmaPoints_0 ret_11;
        (&ret_11)->p_0[int(0)] = mean_27;
        (&ret_11)->w_mean_0[int(0)] = 0.0f;
        (&ret_11)->w_cov_0[int(0)] = 2.0f;
        float _S3173 = (F32_sqrt((3.0f)));
        float3  delta_39 = make_float3 (_S3173 * _S3171.x) * _S3172.rows[0U];
        float3  _S3174 = mean_27 + delta_39;
        float3  _S3175 = mean_27 - delta_39;
        float3  delta_40 = make_float3 (_S3173 * _S3171.y) * _S3172.rows[1U];
        float3  _S3176 = mean_27 + delta_40;
        float3  _S3177 = mean_27 - delta_40;
        float3  delta_41 = make_float3 (_S3173 * _S3171.z) * _S3172.rows[2U];
        float3  _S3178 = mean_27 + delta_41;
        float3  _S3179 = mean_27 - delta_41;
        (&ret_11)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_11)->p_0[0U] = mul_0(R_29, (&ret_11)->p_0[0U]) + t_25;
        (&ret_11)->p_0[1U] = mul_0(R_29, _S3174) + t_25;
        (&ret_11)->p_0[2U] = mul_0(R_29, _S3176) + t_25;
        (&ret_11)->p_0[3U] = mul_0(R_29, _S3178) + t_25;
        (&ret_11)->p_0[4U] = mul_0(R_29, _S3175) + t_25;
        (&ret_11)->p_0[5U] = mul_0(R_29, _S3177) + t_25;
        (&ret_11)->p_0[6U] = mul_0(R_29, _S3179) + t_25;
        SigmaPoints_0 _S3180 = ret_11;
        bool _S3181 = fisheye_proj_3dgs_ut_0(&_S3180, intrins_21, dist_coeffs_35, &covar2d_17, mean2d_25);
        if(!(true & _S3181))
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_23 = *&(((&covar2d_17)->rows + (int(0)))->x) * *&(((&covar2d_17)->rows + (int(1)))->y) - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float _S3182 = *&(((&covar2d_17)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(0)))->x) = _S3182;
        float _S3183 = *&(((&covar2d_17)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(1)))->y) = _S3183;
        float det_blur_18 = _S3182 * _S3183 - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float compensation_18 = (F32_sqrt(((F32_max((0.0f), (det_orig_23 / det_blur_18))))));
        if(det_blur_18 <= 0.0f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_21 = 1.0f / (1.0f + (F32_exp((- in_opacity_22))));
        if(antialiased_22)
        {
            *opacity_21 = *opacity_21 * compensation_18;
        }
        if((*opacity_21) < 0.00392156885936856f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_17 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_21 / 0.00392156885936856f)))))))));
        float radius_x_17 = extend_17 * (F32_sqrt((covar2d_17[int(0)].x)));
        float radius_y_17 = extend_17 * (F32_sqrt((covar2d_17[int(1)].y)));
        float xmin_12 = (F32_floor(((*mean2d_25).x - radius_x_17)));
        float xmax_12 = (F32_ceil(((*mean2d_25).x + radius_x_17)));
        float ymin_12 = (F32_floor(((*mean2d_25).y - radius_y_17)));
        float ymax_12 = (F32_ceil(((*mean2d_25).y + radius_y_17)));
        if(xmax_12 <= 0.0f)
        {
            _S3170 = true;
        }
        else
        {
            _S3170 = xmin_12 >= float(image_width_22);
        }
        if(_S3170)
        {
            _S3170 = true;
        }
        else
        {
            _S3170 = ymax_12 <= 0.0f;
        }
        if(_S3170)
        {
            _S3170 = true;
        }
        else
        {
            _S3170 = ymin_12 >= float(image_height_22);
        }
        if(_S3170)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_17 = make_int4 (int(xmin_12), int(ymin_12), int(xmax_12), int(ymax_12));
        *depth_18 = 0.5f * (F32_log((dot_0(mean_c_22, mean_c_22) + 9.99999997475242708e-07f)));
        *conic_17 = exp_0(- scale_27);
        float3  _S3184 = mean_27 - - mul_0(transpose_0(R_29), t_25);
        float3  _S3185 = _S3184 * make_float3 ((F32_rsqrt((dot_0(_S3184, _S3184)))));
        float _S3186 = dot_0((*sv_sites_7)[int(4)], _S3185);
        float w_23 = (F32_exp((dot_0((*sv_sites_7)[int(0)], _S3185) - _S3186)));
        float w_24 = (F32_exp((dot_0((*sv_sites_7)[int(1)], _S3185) - _S3186)));
        float w_25 = (F32_exp((dot_0((*sv_sites_7)[int(2)], _S3185) - _S3186)));
        float w_26 = (F32_exp((dot_0((*sv_sites_7)[int(3)], _S3185) - _S3186)));
        float w_27 = (F32_exp((0.0f)));
        *rgb_19 = max_0((make_float3 (w_23) * (*sv_colors_7)[int(0)] + make_float3 (w_24) * (*sv_colors_7)[int(1)] + make_float3 (w_25) * (*sv_colors_7)[int(2)] + make_float3 (w_26) * (*sv_colors_7)[int(3)] + make_float3 (w_27) * (*sv_colors_7)[int(4)]) / make_float3 (w_23 + w_24 + w_25 + w_26 + w_27) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_23, float3  mean_28, float4  quat_29, float3  scale_28, float in_opacity_23, FixedArray<float3 , 6>  * sv_sites_8, FixedArray<float3 , 6>  * sv_colors_8, Matrix<float, 3, 3>  R_30, float3  t_26, float fx_32, float fy_32, float cx_27, float cy_27, FixedArray<float, 10>  * dist_coeffs_36, uint image_width_23, uint image_height_23, float near_plane_18, float far_plane_18, int4  * aabb_xyxy_18, float2  * mean2d_26, float * depth_19, float3  * conic_18, float * opacity_22, float3  * rgb_20)
{
    for(;;)
    {
        float3  mean_c_23 = mul_0(R_30, mean_28) + t_26;
        float _S3187 = mean_c_23.z;
        bool _S3188;
        if(_S3187 < near_plane_18)
        {
            _S3188 = true;
        }
        else
        {
            _S3188 = _S3187 > far_plane_18;
        }
        if(_S3188)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_22 = make_float4 (fx_32, fy_32, cx_27, cy_27);
        Matrix<float, 2, 2>  covar2d_18;
        float3  _S3189 = exp_0(scale_28);
        float x_50 = quat_29.y;
        float x2_29 = x_50 * x_50;
        float y2_29 = quat_29.z * quat_29.z;
        float z2_44 = quat_29.w * quat_29.w;
        float xy_29 = quat_29.y * quat_29.z;
        float xz_29 = quat_29.y * quat_29.w;
        float yz_29 = quat_29.z * quat_29.w;
        float wx_29 = quat_29.x * quat_29.y;
        float wy_29 = quat_29.x * quat_29.z;
        float wz_29 = quat_29.x * quat_29.w;
        Matrix<float, 3, 3>  _S3190 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_29 + z2_44), 2.0f * (xy_29 + wz_29), 2.0f * (xz_29 - wy_29), 2.0f * (xy_29 - wz_29), 1.0f - 2.0f * (x2_29 + z2_44), 2.0f * (yz_29 + wx_29), 2.0f * (xz_29 + wy_29), 2.0f * (yz_29 - wx_29), 1.0f - 2.0f * (x2_29 + y2_29))));
        SigmaPoints_0 ret_12;
        (&ret_12)->p_0[int(0)] = mean_28;
        (&ret_12)->w_mean_0[int(0)] = 0.0f;
        (&ret_12)->w_cov_0[int(0)] = 2.0f;
        float _S3191 = (F32_sqrt((3.0f)));
        float3  delta_42 = make_float3 (_S3191 * _S3189.x) * _S3190.rows[0U];
        float3  _S3192 = mean_28 + delta_42;
        float3  _S3193 = mean_28 - delta_42;
        float3  delta_43 = make_float3 (_S3191 * _S3189.y) * _S3190.rows[1U];
        float3  _S3194 = mean_28 + delta_43;
        float3  _S3195 = mean_28 - delta_43;
        float3  delta_44 = make_float3 (_S3191 * _S3189.z) * _S3190.rows[2U];
        float3  _S3196 = mean_28 + delta_44;
        float3  _S3197 = mean_28 - delta_44;
        (&ret_12)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_12)->p_0[0U] = mul_0(R_30, (&ret_12)->p_0[0U]) + t_26;
        (&ret_12)->p_0[1U] = mul_0(R_30, _S3192) + t_26;
        (&ret_12)->p_0[2U] = mul_0(R_30, _S3194) + t_26;
        (&ret_12)->p_0[3U] = mul_0(R_30, _S3196) + t_26;
        (&ret_12)->p_0[4U] = mul_0(R_30, _S3193) + t_26;
        (&ret_12)->p_0[5U] = mul_0(R_30, _S3195) + t_26;
        (&ret_12)->p_0[6U] = mul_0(R_30, _S3197) + t_26;
        SigmaPoints_0 _S3198 = ret_12;
        bool _S3199 = persp_proj_3dgs_ut_0(&_S3198, intrins_22, dist_coeffs_36, image_width_23, image_height_23, &covar2d_18, mean2d_26);
        if(!(true & _S3199))
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_24 = *&(((&covar2d_18)->rows + (int(0)))->x) * *&(((&covar2d_18)->rows + (int(1)))->y) - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float _S3200 = *&(((&covar2d_18)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(0)))->x) = _S3200;
        float _S3201 = *&(((&covar2d_18)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(1)))->y) = _S3201;
        float det_blur_19 = _S3200 * _S3201 - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float compensation_19 = (F32_sqrt(((F32_max((0.0f), (det_orig_24 / det_blur_19))))));
        if(det_blur_19 <= 0.0f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_22 = 1.0f / (1.0f + (F32_exp((- in_opacity_23))));
        if(antialiased_23)
        {
            *opacity_22 = *opacity_22 * compensation_19;
        }
        if((*opacity_22) < 0.00392156885936856f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_18 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_22 / 0.00392156885936856f)))))))));
        float radius_x_18 = extend_18 * (F32_sqrt((covar2d_18[int(0)].x)));
        float radius_y_18 = extend_18 * (F32_sqrt((covar2d_18[int(1)].y)));
        float xmin_13 = (F32_floor(((*mean2d_26).x - radius_x_18)));
        float xmax_13 = (F32_ceil(((*mean2d_26).x + radius_x_18)));
        float ymin_13 = (F32_floor(((*mean2d_26).y - radius_y_18)));
        float ymax_13 = (F32_ceil(((*mean2d_26).y + radius_y_18)));
        if(xmax_13 <= 0.0f)
        {
            _S3188 = true;
        }
        else
        {
            _S3188 = xmin_13 >= float(image_width_23);
        }
        if(_S3188)
        {
            _S3188 = true;
        }
        else
        {
            _S3188 = ymax_13 <= 0.0f;
        }
        if(_S3188)
        {
            _S3188 = true;
        }
        else
        {
            _S3188 = ymin_13 >= float(image_height_23);
        }
        if(_S3188)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_18 = make_int4 (int(xmin_13), int(ymin_13), int(xmax_13), int(ymax_13));
        *depth_19 = 0.5f * (F32_log((dot_0(mean_c_23, mean_c_23) + 9.99999997475242708e-07f)));
        *conic_18 = exp_0(- scale_28);
        float3  _S3202 = mean_28 - - mul_0(transpose_0(R_30), t_26);
        float3  _S3203 = _S3202 * make_float3 ((F32_rsqrt((dot_0(_S3202, _S3202)))));
        float _S3204 = dot_0((*sv_sites_8)[int(5)], _S3203);
        float w_28 = (F32_exp((dot_0((*sv_sites_8)[int(0)], _S3203) - _S3204)));
        float w_29 = (F32_exp((dot_0((*sv_sites_8)[int(1)], _S3203) - _S3204)));
        float w_30 = (F32_exp((dot_0((*sv_sites_8)[int(2)], _S3203) - _S3204)));
        float w_31 = (F32_exp((dot_0((*sv_sites_8)[int(3)], _S3203) - _S3204)));
        float w_32 = (F32_exp((dot_0((*sv_sites_8)[int(4)], _S3203) - _S3204)));
        float w_33 = (F32_exp((0.0f)));
        *rgb_20 = max_0((make_float3 (w_28) * (*sv_colors_8)[int(0)] + make_float3 (w_29) * (*sv_colors_8)[int(1)] + make_float3 (w_30) * (*sv_colors_8)[int(2)] + make_float3 (w_31) * (*sv_colors_8)[int(3)] + make_float3 (w_32) * (*sv_colors_8)[int(4)] + make_float3 (w_33) * (*sv_colors_8)[int(5)]) / make_float3 (w_28 + w_29 + w_30 + w_31 + w_32 + w_33) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_24, float3  mean_29, float4  quat_30, float3  scale_29, float in_opacity_24, FixedArray<float3 , 6>  * sv_sites_9, FixedArray<float3 , 6>  * sv_colors_9, Matrix<float, 3, 3>  R_31, float3  t_27, float fx_33, float fy_33, float cx_28, float cy_28, FixedArray<float, 10>  * dist_coeffs_37, uint image_width_24, uint image_height_24, float near_plane_19, float far_plane_19, int4  * aabb_xyxy_19, float2  * mean2d_27, float * depth_20, float3  * conic_19, float * opacity_23, float3  * rgb_21)
{
    for(;;)
    {
        float3  mean_c_24 = mul_0(R_31, mean_29) + t_27;
        float _S3205 = length_1(mean_c_24);
        bool _S3206;
        if(_S3205 < near_plane_19)
        {
            _S3206 = true;
        }
        else
        {
            _S3206 = _S3205 > far_plane_19;
        }
        if(_S3206)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_23 = make_float4 (fx_33, fy_33, cx_28, cy_28);
        Matrix<float, 2, 2>  covar2d_19;
        float3  _S3207 = exp_0(scale_29);
        float x_51 = quat_30.y;
        float x2_30 = x_51 * x_51;
        float y2_30 = quat_30.z * quat_30.z;
        float z2_45 = quat_30.w * quat_30.w;
        float xy_30 = quat_30.y * quat_30.z;
        float xz_30 = quat_30.y * quat_30.w;
        float yz_30 = quat_30.z * quat_30.w;
        float wx_30 = quat_30.x * quat_30.y;
        float wy_30 = quat_30.x * quat_30.z;
        float wz_30 = quat_30.x * quat_30.w;
        Matrix<float, 3, 3>  _S3208 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_30 + z2_45), 2.0f * (xy_30 + wz_30), 2.0f * (xz_30 - wy_30), 2.0f * (xy_30 - wz_30), 1.0f - 2.0f * (x2_30 + z2_45), 2.0f * (yz_30 + wx_30), 2.0f * (xz_30 + wy_30), 2.0f * (yz_30 - wx_30), 1.0f - 2.0f * (x2_30 + y2_30))));
        SigmaPoints_0 ret_13;
        (&ret_13)->p_0[int(0)] = mean_29;
        (&ret_13)->w_mean_0[int(0)] = 0.0f;
        (&ret_13)->w_cov_0[int(0)] = 2.0f;
        float _S3209 = (F32_sqrt((3.0f)));
        float3  delta_45 = make_float3 (_S3209 * _S3207.x) * _S3208.rows[0U];
        float3  _S3210 = mean_29 + delta_45;
        float3  _S3211 = mean_29 - delta_45;
        float3  delta_46 = make_float3 (_S3209 * _S3207.y) * _S3208.rows[1U];
        float3  _S3212 = mean_29 + delta_46;
        float3  _S3213 = mean_29 - delta_46;
        float3  delta_47 = make_float3 (_S3209 * _S3207.z) * _S3208.rows[2U];
        float3  _S3214 = mean_29 + delta_47;
        float3  _S3215 = mean_29 - delta_47;
        (&ret_13)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_13)->p_0[0U] = mul_0(R_31, (&ret_13)->p_0[0U]) + t_27;
        (&ret_13)->p_0[1U] = mul_0(R_31, _S3210) + t_27;
        (&ret_13)->p_0[2U] = mul_0(R_31, _S3212) + t_27;
        (&ret_13)->p_0[3U] = mul_0(R_31, _S3214) + t_27;
        (&ret_13)->p_0[4U] = mul_0(R_31, _S3211) + t_27;
        (&ret_13)->p_0[5U] = mul_0(R_31, _S3213) + t_27;
        (&ret_13)->p_0[6U] = mul_0(R_31, _S3215) + t_27;
        SigmaPoints_0 _S3216 = ret_13;
        bool _S3217 = fisheye_proj_3dgs_ut_0(&_S3216, intrins_23, dist_coeffs_37, &covar2d_19, mean2d_27);
        if(!(true & _S3217))
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_25 = *&(((&covar2d_19)->rows + (int(0)))->x) * *&(((&covar2d_19)->rows + (int(1)))->y) - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float _S3218 = *&(((&covar2d_19)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(0)))->x) = _S3218;
        float _S3219 = *&(((&covar2d_19)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(1)))->y) = _S3219;
        float det_blur_20 = _S3218 * _S3219 - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float compensation_20 = (F32_sqrt(((F32_max((0.0f), (det_orig_25 / det_blur_20))))));
        if(det_blur_20 <= 0.0f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_23 = 1.0f / (1.0f + (F32_exp((- in_opacity_24))));
        if(antialiased_24)
        {
            *opacity_23 = *opacity_23 * compensation_20;
        }
        if((*opacity_23) < 0.00392156885936856f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_19 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_23 / 0.00392156885936856f)))))))));
        float radius_x_19 = extend_19 * (F32_sqrt((covar2d_19[int(0)].x)));
        float radius_y_19 = extend_19 * (F32_sqrt((covar2d_19[int(1)].y)));
        float xmin_14 = (F32_floor(((*mean2d_27).x - radius_x_19)));
        float xmax_14 = (F32_ceil(((*mean2d_27).x + radius_x_19)));
        float ymin_14 = (F32_floor(((*mean2d_27).y - radius_y_19)));
        float ymax_14 = (F32_ceil(((*mean2d_27).y + radius_y_19)));
        if(xmax_14 <= 0.0f)
        {
            _S3206 = true;
        }
        else
        {
            _S3206 = xmin_14 >= float(image_width_24);
        }
        if(_S3206)
        {
            _S3206 = true;
        }
        else
        {
            _S3206 = ymax_14 <= 0.0f;
        }
        if(_S3206)
        {
            _S3206 = true;
        }
        else
        {
            _S3206 = ymin_14 >= float(image_height_24);
        }
        if(_S3206)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_19 = make_int4 (int(xmin_14), int(ymin_14), int(xmax_14), int(ymax_14));
        *depth_20 = 0.5f * (F32_log((dot_0(mean_c_24, mean_c_24) + 9.99999997475242708e-07f)));
        *conic_19 = exp_0(- scale_29);
        float3  _S3220 = mean_29 - - mul_0(transpose_0(R_31), t_27);
        float3  _S3221 = _S3220 * make_float3 ((F32_rsqrt((dot_0(_S3220, _S3220)))));
        float _S3222 = dot_0((*sv_sites_9)[int(5)], _S3221);
        float w_34 = (F32_exp((dot_0((*sv_sites_9)[int(0)], _S3221) - _S3222)));
        float w_35 = (F32_exp((dot_0((*sv_sites_9)[int(1)], _S3221) - _S3222)));
        float w_36 = (F32_exp((dot_0((*sv_sites_9)[int(2)], _S3221) - _S3222)));
        float w_37 = (F32_exp((dot_0((*sv_sites_9)[int(3)], _S3221) - _S3222)));
        float w_38 = (F32_exp((dot_0((*sv_sites_9)[int(4)], _S3221) - _S3222)));
        float w_39 = (F32_exp((0.0f)));
        *rgb_21 = max_0((make_float3 (w_34) * (*sv_colors_9)[int(0)] + make_float3 (w_35) * (*sv_colors_9)[int(1)] + make_float3 (w_36) * (*sv_colors_9)[int(2)] + make_float3 (w_37) * (*sv_colors_9)[int(3)] + make_float3 (w_38) * (*sv_colors_9)[int(4)] + make_float3 (w_39) * (*sv_colors_9)[int(5)]) / make_float3 (w_34 + w_35 + w_36 + w_37 + w_38 + w_39) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_25, float3  mean_30, float4  quat_31, float3  scale_30, float in_opacity_25, FixedArray<float3 , 7>  * sv_sites_10, FixedArray<float3 , 7>  * sv_colors_10, Matrix<float, 3, 3>  R_32, float3  t_28, float fx_34, float fy_34, float cx_29, float cy_29, FixedArray<float, 10>  * dist_coeffs_38, uint image_width_25, uint image_height_25, float near_plane_20, float far_plane_20, int4  * aabb_xyxy_20, float2  * mean2d_28, float * depth_21, float3  * conic_20, float * opacity_24, float3  * rgb_22)
{
    for(;;)
    {
        float3  mean_c_25 = mul_0(R_32, mean_30) + t_28;
        float _S3223 = mean_c_25.z;
        bool _S3224;
        if(_S3223 < near_plane_20)
        {
            _S3224 = true;
        }
        else
        {
            _S3224 = _S3223 > far_plane_20;
        }
        if(_S3224)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_24 = make_float4 (fx_34, fy_34, cx_29, cy_29);
        Matrix<float, 2, 2>  covar2d_20;
        float3  _S3225 = exp_0(scale_30);
        float x_52 = quat_31.y;
        float x2_31 = x_52 * x_52;
        float y2_31 = quat_31.z * quat_31.z;
        float z2_46 = quat_31.w * quat_31.w;
        float xy_31 = quat_31.y * quat_31.z;
        float xz_31 = quat_31.y * quat_31.w;
        float yz_31 = quat_31.z * quat_31.w;
        float wx_31 = quat_31.x * quat_31.y;
        float wy_31 = quat_31.x * quat_31.z;
        float wz_31 = quat_31.x * quat_31.w;
        Matrix<float, 3, 3>  _S3226 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_31 + z2_46), 2.0f * (xy_31 + wz_31), 2.0f * (xz_31 - wy_31), 2.0f * (xy_31 - wz_31), 1.0f - 2.0f * (x2_31 + z2_46), 2.0f * (yz_31 + wx_31), 2.0f * (xz_31 + wy_31), 2.0f * (yz_31 - wx_31), 1.0f - 2.0f * (x2_31 + y2_31))));
        SigmaPoints_0 ret_14;
        (&ret_14)->p_0[int(0)] = mean_30;
        (&ret_14)->w_mean_0[int(0)] = 0.0f;
        (&ret_14)->w_cov_0[int(0)] = 2.0f;
        float _S3227 = (F32_sqrt((3.0f)));
        float3  delta_48 = make_float3 (_S3227 * _S3225.x) * _S3226.rows[0U];
        float3  _S3228 = mean_30 + delta_48;
        float3  _S3229 = mean_30 - delta_48;
        float3  delta_49 = make_float3 (_S3227 * _S3225.y) * _S3226.rows[1U];
        float3  _S3230 = mean_30 + delta_49;
        float3  _S3231 = mean_30 - delta_49;
        float3  delta_50 = make_float3 (_S3227 * _S3225.z) * _S3226.rows[2U];
        float3  _S3232 = mean_30 + delta_50;
        float3  _S3233 = mean_30 - delta_50;
        (&ret_14)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_14)->p_0[0U] = mul_0(R_32, (&ret_14)->p_0[0U]) + t_28;
        (&ret_14)->p_0[1U] = mul_0(R_32, _S3228) + t_28;
        (&ret_14)->p_0[2U] = mul_0(R_32, _S3230) + t_28;
        (&ret_14)->p_0[3U] = mul_0(R_32, _S3232) + t_28;
        (&ret_14)->p_0[4U] = mul_0(R_32, _S3229) + t_28;
        (&ret_14)->p_0[5U] = mul_0(R_32, _S3231) + t_28;
        (&ret_14)->p_0[6U] = mul_0(R_32, _S3233) + t_28;
        SigmaPoints_0 _S3234 = ret_14;
        bool _S3235 = persp_proj_3dgs_ut_0(&_S3234, intrins_24, dist_coeffs_38, image_width_25, image_height_25, &covar2d_20, mean2d_28);
        if(!(true & _S3235))
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_26 = *&(((&covar2d_20)->rows + (int(0)))->x) * *&(((&covar2d_20)->rows + (int(1)))->y) - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float _S3236 = *&(((&covar2d_20)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(0)))->x) = _S3236;
        float _S3237 = *&(((&covar2d_20)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(1)))->y) = _S3237;
        float det_blur_21 = _S3236 * _S3237 - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float compensation_21 = (F32_sqrt(((F32_max((0.0f), (det_orig_26 / det_blur_21))))));
        if(det_blur_21 <= 0.0f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_24 = 1.0f / (1.0f + (F32_exp((- in_opacity_25))));
        if(antialiased_25)
        {
            *opacity_24 = *opacity_24 * compensation_21;
        }
        if((*opacity_24) < 0.00392156885936856f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_20 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_24 / 0.00392156885936856f)))))))));
        float radius_x_20 = extend_20 * (F32_sqrt((covar2d_20[int(0)].x)));
        float radius_y_20 = extend_20 * (F32_sqrt((covar2d_20[int(1)].y)));
        float xmin_15 = (F32_floor(((*mean2d_28).x - radius_x_20)));
        float xmax_15 = (F32_ceil(((*mean2d_28).x + radius_x_20)));
        float ymin_15 = (F32_floor(((*mean2d_28).y - radius_y_20)));
        float ymax_15 = (F32_ceil(((*mean2d_28).y + radius_y_20)));
        if(xmax_15 <= 0.0f)
        {
            _S3224 = true;
        }
        else
        {
            _S3224 = xmin_15 >= float(image_width_25);
        }
        if(_S3224)
        {
            _S3224 = true;
        }
        else
        {
            _S3224 = ymax_15 <= 0.0f;
        }
        if(_S3224)
        {
            _S3224 = true;
        }
        else
        {
            _S3224 = ymin_15 >= float(image_height_25);
        }
        if(_S3224)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_20 = make_int4 (int(xmin_15), int(ymin_15), int(xmax_15), int(ymax_15));
        *depth_21 = 0.5f * (F32_log((dot_0(mean_c_25, mean_c_25) + 9.99999997475242708e-07f)));
        *conic_20 = exp_0(- scale_30);
        float3  _S3238 = mean_30 - - mul_0(transpose_0(R_32), t_28);
        float3  _S3239 = _S3238 * make_float3 ((F32_rsqrt((dot_0(_S3238, _S3238)))));
        float _S3240 = dot_0((*sv_sites_10)[int(6)], _S3239);
        float w_40 = (F32_exp((dot_0((*sv_sites_10)[int(0)], _S3239) - _S3240)));
        float w_41 = (F32_exp((dot_0((*sv_sites_10)[int(1)], _S3239) - _S3240)));
        float w_42 = (F32_exp((dot_0((*sv_sites_10)[int(2)], _S3239) - _S3240)));
        float w_43 = (F32_exp((dot_0((*sv_sites_10)[int(3)], _S3239) - _S3240)));
        float w_44 = (F32_exp((dot_0((*sv_sites_10)[int(4)], _S3239) - _S3240)));
        float w_45 = (F32_exp((dot_0((*sv_sites_10)[int(5)], _S3239) - _S3240)));
        float w_46 = (F32_exp((0.0f)));
        *rgb_22 = max_0((make_float3 (w_40) * (*sv_colors_10)[int(0)] + make_float3 (w_41) * (*sv_colors_10)[int(1)] + make_float3 (w_42) * (*sv_colors_10)[int(2)] + make_float3 (w_43) * (*sv_colors_10)[int(3)] + make_float3 (w_44) * (*sv_colors_10)[int(4)] + make_float3 (w_45) * (*sv_colors_10)[int(5)] + make_float3 (w_46) * (*sv_colors_10)[int(6)]) / make_float3 (w_40 + w_41 + w_42 + w_43 + w_44 + w_45 + w_46) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_26, float3  mean_31, float4  quat_32, float3  scale_31, float in_opacity_26, FixedArray<float3 , 7>  * sv_sites_11, FixedArray<float3 , 7>  * sv_colors_11, Matrix<float, 3, 3>  R_33, float3  t_29, float fx_35, float fy_35, float cx_30, float cy_30, FixedArray<float, 10>  * dist_coeffs_39, uint image_width_26, uint image_height_26, float near_plane_21, float far_plane_21, int4  * aabb_xyxy_21, float2  * mean2d_29, float * depth_22, float3  * conic_21, float * opacity_25, float3  * rgb_23)
{
    for(;;)
    {
        float3  mean_c_26 = mul_0(R_33, mean_31) + t_29;
        float _S3241 = length_1(mean_c_26);
        bool _S3242;
        if(_S3241 < near_plane_21)
        {
            _S3242 = true;
        }
        else
        {
            _S3242 = _S3241 > far_plane_21;
        }
        if(_S3242)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_25 = make_float4 (fx_35, fy_35, cx_30, cy_30);
        Matrix<float, 2, 2>  covar2d_21;
        float3  _S3243 = exp_0(scale_31);
        float x_53 = quat_32.y;
        float x2_32 = x_53 * x_53;
        float y2_32 = quat_32.z * quat_32.z;
        float z2_47 = quat_32.w * quat_32.w;
        float xy_32 = quat_32.y * quat_32.z;
        float xz_32 = quat_32.y * quat_32.w;
        float yz_32 = quat_32.z * quat_32.w;
        float wx_32 = quat_32.x * quat_32.y;
        float wy_32 = quat_32.x * quat_32.z;
        float wz_32 = quat_32.x * quat_32.w;
        Matrix<float, 3, 3>  _S3244 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_32 + z2_47), 2.0f * (xy_32 + wz_32), 2.0f * (xz_32 - wy_32), 2.0f * (xy_32 - wz_32), 1.0f - 2.0f * (x2_32 + z2_47), 2.0f * (yz_32 + wx_32), 2.0f * (xz_32 + wy_32), 2.0f * (yz_32 - wx_32), 1.0f - 2.0f * (x2_32 + y2_32))));
        SigmaPoints_0 ret_15;
        (&ret_15)->p_0[int(0)] = mean_31;
        (&ret_15)->w_mean_0[int(0)] = 0.0f;
        (&ret_15)->w_cov_0[int(0)] = 2.0f;
        float _S3245 = (F32_sqrt((3.0f)));
        float3  delta_51 = make_float3 (_S3245 * _S3243.x) * _S3244.rows[0U];
        float3  _S3246 = mean_31 + delta_51;
        float3  _S3247 = mean_31 - delta_51;
        float3  delta_52 = make_float3 (_S3245 * _S3243.y) * _S3244.rows[1U];
        float3  _S3248 = mean_31 + delta_52;
        float3  _S3249 = mean_31 - delta_52;
        float3  delta_53 = make_float3 (_S3245 * _S3243.z) * _S3244.rows[2U];
        float3  _S3250 = mean_31 + delta_53;
        float3  _S3251 = mean_31 - delta_53;
        (&ret_15)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_15)->p_0[0U] = mul_0(R_33, (&ret_15)->p_0[0U]) + t_29;
        (&ret_15)->p_0[1U] = mul_0(R_33, _S3246) + t_29;
        (&ret_15)->p_0[2U] = mul_0(R_33, _S3248) + t_29;
        (&ret_15)->p_0[3U] = mul_0(R_33, _S3250) + t_29;
        (&ret_15)->p_0[4U] = mul_0(R_33, _S3247) + t_29;
        (&ret_15)->p_0[5U] = mul_0(R_33, _S3249) + t_29;
        (&ret_15)->p_0[6U] = mul_0(R_33, _S3251) + t_29;
        SigmaPoints_0 _S3252 = ret_15;
        bool _S3253 = fisheye_proj_3dgs_ut_0(&_S3252, intrins_25, dist_coeffs_39, &covar2d_21, mean2d_29);
        if(!(true & _S3253))
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_27 = *&(((&covar2d_21)->rows + (int(0)))->x) * *&(((&covar2d_21)->rows + (int(1)))->y) - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float _S3254 = *&(((&covar2d_21)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(0)))->x) = _S3254;
        float _S3255 = *&(((&covar2d_21)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(1)))->y) = _S3255;
        float det_blur_22 = _S3254 * _S3255 - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float compensation_22 = (F32_sqrt(((F32_max((0.0f), (det_orig_27 / det_blur_22))))));
        if(det_blur_22 <= 0.0f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_25 = 1.0f / (1.0f + (F32_exp((- in_opacity_26))));
        if(antialiased_26)
        {
            *opacity_25 = *opacity_25 * compensation_22;
        }
        if((*opacity_25) < 0.00392156885936856f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_21 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_25 / 0.00392156885936856f)))))))));
        float radius_x_21 = extend_21 * (F32_sqrt((covar2d_21[int(0)].x)));
        float radius_y_21 = extend_21 * (F32_sqrt((covar2d_21[int(1)].y)));
        float xmin_16 = (F32_floor(((*mean2d_29).x - radius_x_21)));
        float xmax_16 = (F32_ceil(((*mean2d_29).x + radius_x_21)));
        float ymin_16 = (F32_floor(((*mean2d_29).y - radius_y_21)));
        float ymax_16 = (F32_ceil(((*mean2d_29).y + radius_y_21)));
        if(xmax_16 <= 0.0f)
        {
            _S3242 = true;
        }
        else
        {
            _S3242 = xmin_16 >= float(image_width_26);
        }
        if(_S3242)
        {
            _S3242 = true;
        }
        else
        {
            _S3242 = ymax_16 <= 0.0f;
        }
        if(_S3242)
        {
            _S3242 = true;
        }
        else
        {
            _S3242 = ymin_16 >= float(image_height_26);
        }
        if(_S3242)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_21 = make_int4 (int(xmin_16), int(ymin_16), int(xmax_16), int(ymax_16));
        *depth_22 = 0.5f * (F32_log((dot_0(mean_c_26, mean_c_26) + 9.99999997475242708e-07f)));
        *conic_21 = exp_0(- scale_31);
        float3  _S3256 = mean_31 - - mul_0(transpose_0(R_33), t_29);
        float3  _S3257 = _S3256 * make_float3 ((F32_rsqrt((dot_0(_S3256, _S3256)))));
        float _S3258 = dot_0((*sv_sites_11)[int(6)], _S3257);
        float w_47 = (F32_exp((dot_0((*sv_sites_11)[int(0)], _S3257) - _S3258)));
        float w_48 = (F32_exp((dot_0((*sv_sites_11)[int(1)], _S3257) - _S3258)));
        float w_49 = (F32_exp((dot_0((*sv_sites_11)[int(2)], _S3257) - _S3258)));
        float w_50 = (F32_exp((dot_0((*sv_sites_11)[int(3)], _S3257) - _S3258)));
        float w_51 = (F32_exp((dot_0((*sv_sites_11)[int(4)], _S3257) - _S3258)));
        float w_52 = (F32_exp((dot_0((*sv_sites_11)[int(5)], _S3257) - _S3258)));
        float w_53 = (F32_exp((0.0f)));
        *rgb_23 = max_0((make_float3 (w_47) * (*sv_colors_11)[int(0)] + make_float3 (w_48) * (*sv_colors_11)[int(1)] + make_float3 (w_49) * (*sv_colors_11)[int(2)] + make_float3 (w_50) * (*sv_colors_11)[int(3)] + make_float3 (w_51) * (*sv_colors_11)[int(4)] + make_float3 (w_52) * (*sv_colors_11)[int(5)] + make_float3 (w_53) * (*sv_colors_11)[int(6)]) / make_float3 (w_47 + w_48 + w_49 + w_50 + w_51 + w_52 + w_53) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_27, float3  mean_32, float4  quat_33, float3  scale_32, float in_opacity_27, FixedArray<float3 , 8>  * sv_sites_12, FixedArray<float3 , 8>  * sv_colors_12, Matrix<float, 3, 3>  R_34, float3  t_30, float fx_36, float fy_36, float cx_31, float cy_31, FixedArray<float, 10>  * dist_coeffs_40, uint image_width_27, uint image_height_27, float near_plane_22, float far_plane_22, int4  * aabb_xyxy_22, float2  * mean2d_30, float * depth_23, float3  * conic_22, float * opacity_26, float3  * rgb_24)
{
    for(;;)
    {
        float3  mean_c_27 = mul_0(R_34, mean_32) + t_30;
        float _S3259 = mean_c_27.z;
        bool _S3260;
        if(_S3259 < near_plane_22)
        {
            _S3260 = true;
        }
        else
        {
            _S3260 = _S3259 > far_plane_22;
        }
        if(_S3260)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_26 = make_float4 (fx_36, fy_36, cx_31, cy_31);
        Matrix<float, 2, 2>  covar2d_22;
        float3  _S3261 = exp_0(scale_32);
        float x_54 = quat_33.y;
        float x2_33 = x_54 * x_54;
        float y2_33 = quat_33.z * quat_33.z;
        float z2_48 = quat_33.w * quat_33.w;
        float xy_33 = quat_33.y * quat_33.z;
        float xz_33 = quat_33.y * quat_33.w;
        float yz_33 = quat_33.z * quat_33.w;
        float wx_33 = quat_33.x * quat_33.y;
        float wy_33 = quat_33.x * quat_33.z;
        float wz_33 = quat_33.x * quat_33.w;
        Matrix<float, 3, 3>  _S3262 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_33 + z2_48), 2.0f * (xy_33 + wz_33), 2.0f * (xz_33 - wy_33), 2.0f * (xy_33 - wz_33), 1.0f - 2.0f * (x2_33 + z2_48), 2.0f * (yz_33 + wx_33), 2.0f * (xz_33 + wy_33), 2.0f * (yz_33 - wx_33), 1.0f - 2.0f * (x2_33 + y2_33))));
        SigmaPoints_0 ret_16;
        (&ret_16)->p_0[int(0)] = mean_32;
        (&ret_16)->w_mean_0[int(0)] = 0.0f;
        (&ret_16)->w_cov_0[int(0)] = 2.0f;
        float _S3263 = (F32_sqrt((3.0f)));
        float3  delta_54 = make_float3 (_S3263 * _S3261.x) * _S3262.rows[0U];
        float3  _S3264 = mean_32 + delta_54;
        float3  _S3265 = mean_32 - delta_54;
        float3  delta_55 = make_float3 (_S3263 * _S3261.y) * _S3262.rows[1U];
        float3  _S3266 = mean_32 + delta_55;
        float3  _S3267 = mean_32 - delta_55;
        float3  delta_56 = make_float3 (_S3263 * _S3261.z) * _S3262.rows[2U];
        float3  _S3268 = mean_32 + delta_56;
        float3  _S3269 = mean_32 - delta_56;
        (&ret_16)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_16)->p_0[0U] = mul_0(R_34, (&ret_16)->p_0[0U]) + t_30;
        (&ret_16)->p_0[1U] = mul_0(R_34, _S3264) + t_30;
        (&ret_16)->p_0[2U] = mul_0(R_34, _S3266) + t_30;
        (&ret_16)->p_0[3U] = mul_0(R_34, _S3268) + t_30;
        (&ret_16)->p_0[4U] = mul_0(R_34, _S3265) + t_30;
        (&ret_16)->p_0[5U] = mul_0(R_34, _S3267) + t_30;
        (&ret_16)->p_0[6U] = mul_0(R_34, _S3269) + t_30;
        SigmaPoints_0 _S3270 = ret_16;
        bool _S3271 = persp_proj_3dgs_ut_0(&_S3270, intrins_26, dist_coeffs_40, image_width_27, image_height_27, &covar2d_22, mean2d_30);
        if(!(true & _S3271))
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_28 = *&(((&covar2d_22)->rows + (int(0)))->x) * *&(((&covar2d_22)->rows + (int(1)))->y) - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float _S3272 = *&(((&covar2d_22)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(0)))->x) = _S3272;
        float _S3273 = *&(((&covar2d_22)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(1)))->y) = _S3273;
        float det_blur_23 = _S3272 * _S3273 - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float compensation_23 = (F32_sqrt(((F32_max((0.0f), (det_orig_28 / det_blur_23))))));
        if(det_blur_23 <= 0.0f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_26 = 1.0f / (1.0f + (F32_exp((- in_opacity_27))));
        if(antialiased_27)
        {
            *opacity_26 = *opacity_26 * compensation_23;
        }
        if((*opacity_26) < 0.00392156885936856f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_22 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_26 / 0.00392156885936856f)))))))));
        float radius_x_22 = extend_22 * (F32_sqrt((covar2d_22[int(0)].x)));
        float radius_y_22 = extend_22 * (F32_sqrt((covar2d_22[int(1)].y)));
        float xmin_17 = (F32_floor(((*mean2d_30).x - radius_x_22)));
        float xmax_17 = (F32_ceil(((*mean2d_30).x + radius_x_22)));
        float ymin_17 = (F32_floor(((*mean2d_30).y - radius_y_22)));
        float ymax_17 = (F32_ceil(((*mean2d_30).y + radius_y_22)));
        if(xmax_17 <= 0.0f)
        {
            _S3260 = true;
        }
        else
        {
            _S3260 = xmin_17 >= float(image_width_27);
        }
        if(_S3260)
        {
            _S3260 = true;
        }
        else
        {
            _S3260 = ymax_17 <= 0.0f;
        }
        if(_S3260)
        {
            _S3260 = true;
        }
        else
        {
            _S3260 = ymin_17 >= float(image_height_27);
        }
        if(_S3260)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_22 = make_int4 (int(xmin_17), int(ymin_17), int(xmax_17), int(ymax_17));
        *depth_23 = 0.5f * (F32_log((dot_0(mean_c_27, mean_c_27) + 9.99999997475242708e-07f)));
        *conic_22 = exp_0(- scale_32);
        float3  _S3274 = mean_32 - - mul_0(transpose_0(R_34), t_30);
        float3  _S3275 = _S3274 * make_float3 ((F32_rsqrt((dot_0(_S3274, _S3274)))));
        float _S3276 = dot_0((*sv_sites_12)[int(7)], _S3275);
        float w_54 = (F32_exp((dot_0((*sv_sites_12)[int(0)], _S3275) - _S3276)));
        float w_55 = (F32_exp((dot_0((*sv_sites_12)[int(1)], _S3275) - _S3276)));
        float w_56 = (F32_exp((dot_0((*sv_sites_12)[int(2)], _S3275) - _S3276)));
        float w_57 = (F32_exp((dot_0((*sv_sites_12)[int(3)], _S3275) - _S3276)));
        float w_58 = (F32_exp((dot_0((*sv_sites_12)[int(4)], _S3275) - _S3276)));
        float w_59 = (F32_exp((dot_0((*sv_sites_12)[int(5)], _S3275) - _S3276)));
        float w_60 = (F32_exp((dot_0((*sv_sites_12)[int(6)], _S3275) - _S3276)));
        float w_61 = (F32_exp((0.0f)));
        *rgb_24 = max_0((make_float3 (w_54) * (*sv_colors_12)[int(0)] + make_float3 (w_55) * (*sv_colors_12)[int(1)] + make_float3 (w_56) * (*sv_colors_12)[int(2)] + make_float3 (w_57) * (*sv_colors_12)[int(3)] + make_float3 (w_58) * (*sv_colors_12)[int(4)] + make_float3 (w_59) * (*sv_colors_12)[int(5)] + make_float3 (w_60) * (*sv_colors_12)[int(6)] + make_float3 (w_61) * (*sv_colors_12)[int(7)]) / make_float3 (w_54 + w_55 + w_56 + w_57 + w_58 + w_59 + w_60 + w_61) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_28, float3  mean_33, float4  quat_34, float3  scale_33, float in_opacity_28, FixedArray<float3 , 8>  * sv_sites_13, FixedArray<float3 , 8>  * sv_colors_13, Matrix<float, 3, 3>  R_35, float3  t_31, float fx_37, float fy_37, float cx_32, float cy_32, FixedArray<float, 10>  * dist_coeffs_41, uint image_width_28, uint image_height_28, float near_plane_23, float far_plane_23, int4  * aabb_xyxy_23, float2  * mean2d_31, float * depth_24, float3  * conic_23, float * opacity_27, float3  * rgb_25)
{
    for(;;)
    {
        float3  mean_c_28 = mul_0(R_35, mean_33) + t_31;
        float _S3277 = length_1(mean_c_28);
        bool _S3278;
        if(_S3277 < near_plane_23)
        {
            _S3278 = true;
        }
        else
        {
            _S3278 = _S3277 > far_plane_23;
        }
        if(_S3278)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_27 = make_float4 (fx_37, fy_37, cx_32, cy_32);
        Matrix<float, 2, 2>  covar2d_23;
        float3  _S3279 = exp_0(scale_33);
        float x_55 = quat_34.y;
        float x2_34 = x_55 * x_55;
        float y2_34 = quat_34.z * quat_34.z;
        float z2_49 = quat_34.w * quat_34.w;
        float xy_34 = quat_34.y * quat_34.z;
        float xz_34 = quat_34.y * quat_34.w;
        float yz_34 = quat_34.z * quat_34.w;
        float wx_34 = quat_34.x * quat_34.y;
        float wy_34 = quat_34.x * quat_34.z;
        float wz_34 = quat_34.x * quat_34.w;
        Matrix<float, 3, 3>  _S3280 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_34 + z2_49), 2.0f * (xy_34 + wz_34), 2.0f * (xz_34 - wy_34), 2.0f * (xy_34 - wz_34), 1.0f - 2.0f * (x2_34 + z2_49), 2.0f * (yz_34 + wx_34), 2.0f * (xz_34 + wy_34), 2.0f * (yz_34 - wx_34), 1.0f - 2.0f * (x2_34 + y2_34))));
        SigmaPoints_0 ret_17;
        (&ret_17)->p_0[int(0)] = mean_33;
        (&ret_17)->w_mean_0[int(0)] = 0.0f;
        (&ret_17)->w_cov_0[int(0)] = 2.0f;
        float _S3281 = (F32_sqrt((3.0f)));
        float3  delta_57 = make_float3 (_S3281 * _S3279.x) * _S3280.rows[0U];
        float3  _S3282 = mean_33 + delta_57;
        float3  _S3283 = mean_33 - delta_57;
        float3  delta_58 = make_float3 (_S3281 * _S3279.y) * _S3280.rows[1U];
        float3  _S3284 = mean_33 + delta_58;
        float3  _S3285 = mean_33 - delta_58;
        float3  delta_59 = make_float3 (_S3281 * _S3279.z) * _S3280.rows[2U];
        float3  _S3286 = mean_33 + delta_59;
        float3  _S3287 = mean_33 - delta_59;
        (&ret_17)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_17)->p_0[0U] = mul_0(R_35, (&ret_17)->p_0[0U]) + t_31;
        (&ret_17)->p_0[1U] = mul_0(R_35, _S3282) + t_31;
        (&ret_17)->p_0[2U] = mul_0(R_35, _S3284) + t_31;
        (&ret_17)->p_0[3U] = mul_0(R_35, _S3286) + t_31;
        (&ret_17)->p_0[4U] = mul_0(R_35, _S3283) + t_31;
        (&ret_17)->p_0[5U] = mul_0(R_35, _S3285) + t_31;
        (&ret_17)->p_0[6U] = mul_0(R_35, _S3287) + t_31;
        SigmaPoints_0 _S3288 = ret_17;
        bool _S3289 = fisheye_proj_3dgs_ut_0(&_S3288, intrins_27, dist_coeffs_41, &covar2d_23, mean2d_31);
        if(!(true & _S3289))
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_29 = *&(((&covar2d_23)->rows + (int(0)))->x) * *&(((&covar2d_23)->rows + (int(1)))->y) - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float _S3290 = *&(((&covar2d_23)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(0)))->x) = _S3290;
        float _S3291 = *&(((&covar2d_23)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(1)))->y) = _S3291;
        float det_blur_24 = _S3290 * _S3291 - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float compensation_24 = (F32_sqrt(((F32_max((0.0f), (det_orig_29 / det_blur_24))))));
        if(det_blur_24 <= 0.0f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_27 = 1.0f / (1.0f + (F32_exp((- in_opacity_28))));
        if(antialiased_28)
        {
            *opacity_27 = *opacity_27 * compensation_24;
        }
        if((*opacity_27) < 0.00392156885936856f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_23 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_27 / 0.00392156885936856f)))))))));
        float radius_x_23 = extend_23 * (F32_sqrt((covar2d_23[int(0)].x)));
        float radius_y_23 = extend_23 * (F32_sqrt((covar2d_23[int(1)].y)));
        float xmin_18 = (F32_floor(((*mean2d_31).x - radius_x_23)));
        float xmax_18 = (F32_ceil(((*mean2d_31).x + radius_x_23)));
        float ymin_18 = (F32_floor(((*mean2d_31).y - radius_y_23)));
        float ymax_18 = (F32_ceil(((*mean2d_31).y + radius_y_23)));
        if(xmax_18 <= 0.0f)
        {
            _S3278 = true;
        }
        else
        {
            _S3278 = xmin_18 >= float(image_width_28);
        }
        if(_S3278)
        {
            _S3278 = true;
        }
        else
        {
            _S3278 = ymax_18 <= 0.0f;
        }
        if(_S3278)
        {
            _S3278 = true;
        }
        else
        {
            _S3278 = ymin_18 >= float(image_height_28);
        }
        if(_S3278)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_23 = make_int4 (int(xmin_18), int(ymin_18), int(xmax_18), int(ymax_18));
        *depth_24 = 0.5f * (F32_log((dot_0(mean_c_28, mean_c_28) + 9.99999997475242708e-07f)));
        *conic_23 = exp_0(- scale_33);
        float3  _S3292 = mean_33 - - mul_0(transpose_0(R_35), t_31);
        float3  _S3293 = _S3292 * make_float3 ((F32_rsqrt((dot_0(_S3292, _S3292)))));
        float _S3294 = dot_0((*sv_sites_13)[int(7)], _S3293);
        float w_62 = (F32_exp((dot_0((*sv_sites_13)[int(0)], _S3293) - _S3294)));
        float w_63 = (F32_exp((dot_0((*sv_sites_13)[int(1)], _S3293) - _S3294)));
        float w_64 = (F32_exp((dot_0((*sv_sites_13)[int(2)], _S3293) - _S3294)));
        float w_65 = (F32_exp((dot_0((*sv_sites_13)[int(3)], _S3293) - _S3294)));
        float w_66 = (F32_exp((dot_0((*sv_sites_13)[int(4)], _S3293) - _S3294)));
        float w_67 = (F32_exp((dot_0((*sv_sites_13)[int(5)], _S3293) - _S3294)));
        float w_68 = (F32_exp((dot_0((*sv_sites_13)[int(6)], _S3293) - _S3294)));
        float w_69 = (F32_exp((0.0f)));
        *rgb_25 = max_0((make_float3 (w_62) * (*sv_colors_13)[int(0)] + make_float3 (w_63) * (*sv_colors_13)[int(1)] + make_float3 (w_64) * (*sv_colors_13)[int(2)] + make_float3 (w_65) * (*sv_colors_13)[int(3)] + make_float3 (w_66) * (*sv_colors_13)[int(4)] + make_float3 (w_67) * (*sv_colors_13)[int(5)] + make_float3 (w_68) * (*sv_colors_13)[int(6)] + make_float3 (w_69) * (*sv_colors_13)[int(7)]) / make_float3 (w_62 + w_63 + w_64 + w_65 + w_66 + w_67 + w_68 + w_69) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_29, float3  mean_34, float4  quat_35, float3  scale_34, float in_opacity_29, FixedArray<float3 , 2>  * sv_sites_14, FixedArray<float3 , 2>  * sv_colors_14, Matrix<float, 3, 3>  R_36, float3  t_32, float fx_38, float fy_38, float cx_33, float cy_33, FixedArray<float, 10>  * dist_coeffs_42, uint image_width_29, uint image_height_29, float near_plane_24, float far_plane_24, int4  * aabb_xyxy_24, float2  * mean2d_32, float * depth_25, float3  * conic_24, float * opacity_28, float3  * rgb_26)
{
    float3  mean_c_29 = mul_0(R_36, mean_34) + t_32;
    float4  intrins_28 = make_float4 (fx_38, fy_38, cx_33, cy_33);
    float3  _S3295 = exp_0(scale_34);
    float x_56 = quat_35.y;
    float x2_35 = x_56 * x_56;
    float y2_35 = quat_35.z * quat_35.z;
    float z2_50 = quat_35.w * quat_35.w;
    float xy_35 = quat_35.y * quat_35.z;
    float xz_35 = quat_35.y * quat_35.w;
    float yz_35 = quat_35.z * quat_35.w;
    float wx_35 = quat_35.x * quat_35.y;
    float wy_35 = quat_35.x * quat_35.z;
    float wz_35 = quat_35.x * quat_35.w;
    Matrix<float, 3, 3>  _S3296 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_35 + z2_50), 2.0f * (xy_35 + wz_35), 2.0f * (xz_35 - wy_35), 2.0f * (xy_35 - wz_35), 1.0f - 2.0f * (x2_35 + z2_50), 2.0f * (yz_35 + wx_35), 2.0f * (xz_35 + wy_35), 2.0f * (yz_35 - wx_35), 1.0f - 2.0f * (x2_35 + y2_35))));
    SigmaPoints_0 ret_18;
    (&ret_18)->p_0[int(0)] = mean_34;
    (&ret_18)->w_mean_0[int(0)] = 0.0f;
    (&ret_18)->w_cov_0[int(0)] = 2.0f;
    float _S3297 = (F32_sqrt((3.0f)));
    float3  delta_60 = make_float3 (_S3297 * _S3295.x) * _S3296.rows[0U];
    float3  _S3298 = mean_34 + delta_60;
    float3  _S3299 = mean_34 - delta_60;
    float3  delta_61 = make_float3 (_S3297 * _S3295.y) * _S3296.rows[1U];
    float3  _S3300 = mean_34 + delta_61;
    float3  _S3301 = mean_34 - delta_61;
    float3  delta_62 = make_float3 (_S3297 * _S3295.z) * _S3296.rows[2U];
    float3  _S3302 = mean_34 + delta_62;
    float3  _S3303 = mean_34 - delta_62;
    (&ret_18)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_18)->p_0[0U] = mul_0(R_36, (&ret_18)->p_0[0U]) + t_32;
    (&ret_18)->p_0[1U] = mul_0(R_36, _S3298) + t_32;
    (&ret_18)->p_0[2U] = mul_0(R_36, _S3300) + t_32;
    (&ret_18)->p_0[3U] = mul_0(R_36, _S3302) + t_32;
    (&ret_18)->p_0[4U] = mul_0(R_36, _S3299) + t_32;
    (&ret_18)->p_0[5U] = mul_0(R_36, _S3301) + t_32;
    (&ret_18)->p_0[6U] = mul_0(R_36, _S3303) + t_32;
    SigmaPoints_0 _S3304 = ret_18;
    Matrix<float, 2, 2>  covar2d_24;
    bool _S3305 = persp_proj_3dgs_ut_1(&_S3304, intrins_28, dist_coeffs_42, image_width_29, image_height_29, &covar2d_24, mean2d_32);
    float det_orig_30 = *&(((&covar2d_24)->rows + (int(0)))->x) * *&(((&covar2d_24)->rows + (int(1)))->y) - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x);
    float _S3306 = *&(((&covar2d_24)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(0)))->x) = _S3306;
    float _S3307 = *&(((&covar2d_24)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(1)))->y) = _S3307;
    float compensation_25 = (F32_sqrt(((F32_max((0.0f), (det_orig_30 / (_S3306 * _S3307 - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x))))))));
    *opacity_28 = 1.0f / (1.0f + (F32_exp((- in_opacity_29))));
    if(antialiased_29)
    {
        *opacity_28 = *opacity_28 * compensation_25;
    }
    float extend_24 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_28 / 0.00392156885936856f)))))))));
    float radius_x_24 = extend_24 * (F32_sqrt((covar2d_24[int(0)].x)));
    float radius_y_24 = extend_24 * (F32_sqrt((covar2d_24[int(1)].y)));
    *aabb_xyxy_24 = make_int4 (int((F32_floor(((*mean2d_32).x - radius_x_24)))), int((F32_floor(((*mean2d_32).y - radius_y_24)))), int((F32_ceil(((*mean2d_32).x + radius_x_24)))), int((F32_ceil(((*mean2d_32).y + radius_y_24)))));
    *depth_25 = 0.5f * (F32_log((dot_0(mean_c_29, mean_c_29) + 9.99999997475242708e-07f)));
    *conic_24 = exp_0(- scale_34);
    float3  _S3308 = mean_34 - - mul_0(transpose_0(R_36), t_32);
    float3  _S3309 = _S3308 * make_float3 ((F32_rsqrt((dot_0(_S3308, _S3308)))));
    float w_70 = (F32_exp((dot_0((*sv_sites_14)[int(0)], _S3309) - dot_0((*sv_sites_14)[int(1)], _S3309))));
    float w_71 = (F32_exp((0.0f)));
    *rgb_26 = max_0((make_float3 (w_70) * (*sv_colors_14)[int(0)] + make_float3 (w_71) * (*sv_colors_14)[int(1)]) / make_float3 (w_70 + w_71) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_30, float3  mean_35, float4  quat_36, float3  scale_35, float in_opacity_30, FixedArray<float3 , 2>  * sv_sites_15, FixedArray<float3 , 2>  * sv_colors_15, Matrix<float, 3, 3>  R_37, float3  t_33, float fx_39, float fy_39, float cx_34, float cy_34, FixedArray<float, 10>  * dist_coeffs_43, uint image_width_30, uint image_height_30, float near_plane_25, float far_plane_25, int4  * aabb_xyxy_25, float2  * mean2d_33, float * depth_26, float3  * conic_25, float * opacity_29, float3  * rgb_27)
{
    float3  mean_c_30 = mul_0(R_37, mean_35) + t_33;
    float4  intrins_29 = make_float4 (fx_39, fy_39, cx_34, cy_34);
    float3  _S3310 = exp_0(scale_35);
    float x_57 = quat_36.y;
    float x2_36 = x_57 * x_57;
    float y2_36 = quat_36.z * quat_36.z;
    float z2_51 = quat_36.w * quat_36.w;
    float xy_36 = quat_36.y * quat_36.z;
    float xz_36 = quat_36.y * quat_36.w;
    float yz_36 = quat_36.z * quat_36.w;
    float wx_36 = quat_36.x * quat_36.y;
    float wy_36 = quat_36.x * quat_36.z;
    float wz_36 = quat_36.x * quat_36.w;
    Matrix<float, 3, 3>  _S3311 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_36 + z2_51), 2.0f * (xy_36 + wz_36), 2.0f * (xz_36 - wy_36), 2.0f * (xy_36 - wz_36), 1.0f - 2.0f * (x2_36 + z2_51), 2.0f * (yz_36 + wx_36), 2.0f * (xz_36 + wy_36), 2.0f * (yz_36 - wx_36), 1.0f - 2.0f * (x2_36 + y2_36))));
    SigmaPoints_0 ret_19;
    (&ret_19)->p_0[int(0)] = mean_35;
    (&ret_19)->w_mean_0[int(0)] = 0.0f;
    (&ret_19)->w_cov_0[int(0)] = 2.0f;
    float _S3312 = (F32_sqrt((3.0f)));
    float3  delta_63 = make_float3 (_S3312 * _S3310.x) * _S3311.rows[0U];
    float3  _S3313 = mean_35 + delta_63;
    float3  _S3314 = mean_35 - delta_63;
    float3  delta_64 = make_float3 (_S3312 * _S3310.y) * _S3311.rows[1U];
    float3  _S3315 = mean_35 + delta_64;
    float3  _S3316 = mean_35 - delta_64;
    float3  delta_65 = make_float3 (_S3312 * _S3310.z) * _S3311.rows[2U];
    float3  _S3317 = mean_35 + delta_65;
    float3  _S3318 = mean_35 - delta_65;
    (&ret_19)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_19)->p_0[0U] = mul_0(R_37, (&ret_19)->p_0[0U]) + t_33;
    (&ret_19)->p_0[1U] = mul_0(R_37, _S3313) + t_33;
    (&ret_19)->p_0[2U] = mul_0(R_37, _S3315) + t_33;
    (&ret_19)->p_0[3U] = mul_0(R_37, _S3317) + t_33;
    (&ret_19)->p_0[4U] = mul_0(R_37, _S3314) + t_33;
    (&ret_19)->p_0[5U] = mul_0(R_37, _S3316) + t_33;
    (&ret_19)->p_0[6U] = mul_0(R_37, _S3318) + t_33;
    SigmaPoints_0 _S3319 = ret_19;
    Matrix<float, 2, 2>  covar2d_25;
    bool _S3320 = fisheye_proj_3dgs_ut_1(&_S3319, intrins_29, dist_coeffs_43, &covar2d_25, mean2d_33);
    float det_orig_31 = *&(((&covar2d_25)->rows + (int(0)))->x) * *&(((&covar2d_25)->rows + (int(1)))->y) - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x);
    float _S3321 = *&(((&covar2d_25)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(0)))->x) = _S3321;
    float _S3322 = *&(((&covar2d_25)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(1)))->y) = _S3322;
    float compensation_26 = (F32_sqrt(((F32_max((0.0f), (det_orig_31 / (_S3321 * _S3322 - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x))))))));
    *opacity_29 = 1.0f / (1.0f + (F32_exp((- in_opacity_30))));
    if(antialiased_30)
    {
        *opacity_29 = *opacity_29 * compensation_26;
    }
    float extend_25 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_29 / 0.00392156885936856f)))))))));
    float radius_x_25 = extend_25 * (F32_sqrt((covar2d_25[int(0)].x)));
    float radius_y_25 = extend_25 * (F32_sqrt((covar2d_25[int(1)].y)));
    *aabb_xyxy_25 = make_int4 (int((F32_floor(((*mean2d_33).x - radius_x_25)))), int((F32_floor(((*mean2d_33).y - radius_y_25)))), int((F32_ceil(((*mean2d_33).x + radius_x_25)))), int((F32_ceil(((*mean2d_33).y + radius_y_25)))));
    *depth_26 = 0.5f * (F32_log((dot_0(mean_c_30, mean_c_30) + 9.99999997475242708e-07f)));
    *conic_25 = exp_0(- scale_35);
    float3  _S3323 = mean_35 - - mul_0(transpose_0(R_37), t_33);
    float3  _S3324 = _S3323 * make_float3 ((F32_rsqrt((dot_0(_S3323, _S3323)))));
    float w_72 = (F32_exp((dot_0((*sv_sites_15)[int(0)], _S3324) - dot_0((*sv_sites_15)[int(1)], _S3324))));
    float w_73 = (F32_exp((0.0f)));
    *rgb_27 = max_0((make_float3 (w_72) * (*sv_colors_15)[int(0)] + make_float3 (w_73) * (*sv_colors_15)[int(1)]) / make_float3 (w_72 + w_73) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0
{
    FixedArray<float3 , 2>  primal_0;
    FixedArray<float3 , 2>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S3325;
};

inline __device__ float s_primal_ctx_rsqrt_0(float _S3326)
{
    return (F32_rsqrt((_S3326)));
}

inline __device__ float3  s_primal_ctx_max_1(float3  _S3327, float3  _S3328)
{
    return max_0(_S3327, _S3328);
}

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(bool antialiased_31, float3  dpmean_2, float4  dpquat_1, float3  dpscale_1, float dpin_opacity_0, FixedArray<float3 , 2>  * dpsv_sites_0, FixedArray<float3 , 2>  * dpsv_colors_0, Matrix<float, 3, 3>  dpR_2, float3  dpt_1, float fx_40, float fy_40, float cx_35, float cy_35, FixedArray<float, 10>  * dist_coeffs_44, uint image_width_31, uint image_height_31, float near_plane_26, float far_plane_26, int4  * aabb_xyxy_26, float2  * dpmean2d_2, float * dpdepth_1, float3  * dpconic_0, float * dpopacity_2, float3  * dprgb_1, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_14)
{
    Matrix<float, 2, 2>  _S3329 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_14->_S3325 = _S3329;
    float2  _S3330 = make_float2 (0.0f);
    float3  _S3331 = make_float3 (0.0f);
    float3  mean_c_31 = s_primal_ctx_mul_0(dpR_2, dpmean_2) + dpt_1;
    float4  intrins_30 = make_float4 (fx_40, fy_40, cx_35, cy_35);
    float3  _S3332 = s_primal_ctx_exp_0(dpscale_1);
    float _S3333 = dpquat_1.y;
    float x2_37 = _S3333 * _S3333;
    float y2_37 = dpquat_1.z * dpquat_1.z;
    float z2_52 = dpquat_1.w * dpquat_1.w;
    float xy_37 = dpquat_1.y * dpquat_1.z;
    float xz_37 = dpquat_1.y * dpquat_1.w;
    float yz_37 = dpquat_1.z * dpquat_1.w;
    float wx_37 = dpquat_1.x * dpquat_1.y;
    float wy_37 = dpquat_1.x * dpquat_1.z;
    float wz_37 = dpquat_1.x * dpquat_1.w;
    Matrix<float, 3, 3>  _S3334 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_37 + z2_52), 2.0f * (xy_37 + wz_37), 2.0f * (xz_37 - wy_37), 2.0f * (xy_37 - wz_37), 1.0f - 2.0f * (x2_37 + z2_52), 2.0f * (yz_37 + wx_37), 2.0f * (xz_37 + wy_37), 2.0f * (yz_37 - wx_37), 1.0f - 2.0f * (x2_37 + y2_37))));
    FixedArray<float3 , 7>  _S3335 = {
        _S3331, _S3331, _S3331, _S3331, _S3331, _S3331, _S3331
    };
    FixedArray<float, 7>  _S3336 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3337;
    (&_S3337)->p_0 = _S3335;
    (&_S3337)->w_mean_0 = _S3336;
    (&_S3337)->w_cov_0 = _S3336;
    (&_S3337)->p_0[int(0)] = dpmean_2;
    SigmaPoints_0 _S3338 = _S3337;
    (&_S3338)->w_mean_0[int(0)] = 0.0f;
    (&_S3338)->w_cov_0[int(0)] = 2.0f;
    float _S3339 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_66 = make_float3 (_S3339 * _S3332.x) * _S3334.rows[0U];
    float3  _S3340 = dpmean_2 + delta_66;
    float3  _S3341 = dpmean_2 - delta_66;
    float3  delta_67 = make_float3 (_S3339 * _S3332.y) * _S3334.rows[1U];
    float3  _S3342 = dpmean_2 + delta_67;
    float3  _S3343 = dpmean_2 - delta_67;
    float3  delta_68 = make_float3 (_S3339 * _S3332.z) * _S3334.rows[2U];
    float3  _S3344 = dpmean_2 + delta_68;
    float3  _S3345 = dpmean_2 - delta_68;
    (&_S3338)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3338)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3338)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3338)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3338)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3338)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3338)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3338)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3338)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3338)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3338)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3338)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3338)->p_0[0U] = s_primal_ctx_mul_0(dpR_2, _S3337.p_0[0U]) + dpt_1;
    (&_S3338)->p_0[1U] = s_primal_ctx_mul_0(dpR_2, _S3340) + dpt_1;
    (&_S3338)->p_0[2U] = s_primal_ctx_mul_0(dpR_2, _S3342) + dpt_1;
    (&_S3338)->p_0[3U] = s_primal_ctx_mul_0(dpR_2, _S3344) + dpt_1;
    (&_S3338)->p_0[4U] = s_primal_ctx_mul_0(dpR_2, _S3341) + dpt_1;
    (&_S3338)->p_0[5U] = s_primal_ctx_mul_0(dpR_2, _S3343) + dpt_1;
    (&_S3338)->p_0[6U] = s_primal_ctx_mul_0(dpR_2, _S3345) + dpt_1;
    float2  _S3346 = _S3330;
    Matrix<float, 2, 2>  _S3347 = _S3329;
    SigmaPoints_0 _S3348 = _S3338;
    bool _S3349 = persp_proj_3dgs_ut_1(&_S3348, intrins_30, dist_coeffs_44, image_width_31, image_height_31, &_S3347, &_S3346);
    _s_diff_ctx_14->_S3325 = _S3347;
    float2  _S3350 = _S3346;
    float _S3351 = _S3347.rows[int(0)].y * _S3347.rows[int(1)].x;
    float det_orig_32 = _S3347.rows[int(0)].x * _S3347.rows[int(1)].y - _S3351;
    float _S3352 = _S3347.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3353 = _S3347;
    *&(((&_S3353)->rows + (int(0)))->x) = _S3352;
    float _S3354 = _S3347.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3353)->rows + (int(1)))->y) = _S3354;
    Matrix<float, 2, 2>  _S3355 = _S3353;
    Matrix<float, 2, 2>  _S3356 = _S3353;
    float _S3357 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_32 / (_S3352 * _S3354 - _S3351)));
    float _S3358 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_0));
    float _S3359;
    if(antialiased_31)
    {
        _S3359 = _S3358 * _S3357;
    }
    else
    {
        _S3359 = _S3358;
    }
    float _S3360 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S3359 / 0.00392156885936856f)));
    float radius_x_26 = _S3360 * s_primal_ctx_sqrt_0(_S3355.rows[int(0)].x);
    float radius_y_26 = _S3360 * s_primal_ctx_sqrt_0(_S3356.rows[int(1)].y);
    float _S3361 = _S3350.x;
    float _S3362 = _S3350.y;
    float _S3363 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_31, mean_c_31) + 9.99999997475242708e-07f);
    float3  _S3364 = s_primal_ctx_exp_0(- dpscale_1);
    float3  _S3365 = dpmean_2 - - s_primal_ctx_mul_0(transpose_0(dpR_2), dpt_1);
    float3  _S3366 = _S3365 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S3365, _S3365)));
    float _S3367 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_0)[int(0)], _S3366) - s_primal_ctx_dot_0((*dpsv_sites_0)[int(1)], _S3366));
    float _S3368 = s_primal_ctx_exp_1(0.0f);
    float3  _S3369 = s_primal_ctx_max_1((make_float3 (_S3367) * (*dpsv_colors_0)[int(0)] + make_float3 (_S3368) * (*dpsv_colors_0)[int(1)]) / make_float3 (_S3367 + _S3368) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_26 = make_int4 (int((F32_floor((_S3361 - radius_x_26)))), int((F32_floor((_S3362 - radius_y_26)))), int((F32_ceil((_S3361 + radius_x_26)))), int((F32_ceil((_S3362 + radius_y_26)))));
    *dpmean2d_2 = _S3350;
    *dpdepth_1 = _S3363;
    *dpconic_0 = _S3364;
    *dpopacity_2 = _S3359;
    *dprgb_1 = _S3369;
    return;
}

inline __device__ void s_bwd_prop_rsqrt_0(DiffPair_float_0 * _S3370, float _S3371)
{
    _d_rsqrt_0(_S3370, _S3371);
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(bool antialiased_32, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_3, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_2, DiffPair_float_0 * dpin_opacity_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_2, float fx_41, float fy_41, float cx_36, float cy_36, FixedArray<float, 10>  * dist_coeffs_45, uint image_width_32, uint image_height_32, float near_plane_27, float far_plane_27, float2  dpmean2d_3, float dpdepth_2, float3  dpconic_1, float dpopacity_3, float3  dprgb_2, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_15)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3372 = *dpmean_3;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S3373 = *dpquat_2;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3374 = *dpscale_2;
    FixedArray<float3 , 2>  _S3375 = dpsv_sites_1->primal_0;
    FixedArray<float3 , 2>  _S3376 = dpsv_colors_1->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3377 = *dpR_3;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3378 = *dpt_2;
    float3  _S3379 = make_float3 (0.0f);
    float3  mean_c_32 = s_primal_ctx_mul_0((*dpR_3).primal_0, (*dpmean_3).primal_0) + (*dpt_2).primal_0;
    float3  _S3380 = s_primal_ctx_exp_0((*dpscale_2).primal_0);
    float _S3381 = (*dpquat_2).primal_0.y;
    float x2_38 = _S3381 * _S3381;
    float y2_38 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.z;
    float z2_53 = (*dpquat_2).primal_0.w * (*dpquat_2).primal_0.w;
    float xy_38 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.z;
    float xz_38 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.w;
    float yz_38 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.w;
    float wx_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.y;
    float wy_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.z;
    float wz_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.w;
    Matrix<float, 3, 3>  _S3382 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_38 + z2_53), 2.0f * (xy_38 + wz_38), 2.0f * (xz_38 - wy_38), 2.0f * (xy_38 - wz_38), 1.0f - 2.0f * (x2_38 + z2_53), 2.0f * (yz_38 + wx_38), 2.0f * (xz_38 + wy_38), 2.0f * (yz_38 - wx_38), 1.0f - 2.0f * (x2_38 + y2_38))));
    FixedArray<float3 , 7>  _S3383 = {
        _S3379, _S3379, _S3379, _S3379, _S3379, _S3379, _S3379
    };
    FixedArray<float, 7>  _S3384 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3385;
    (&_S3385)->p_0 = _S3383;
    (&_S3385)->w_mean_0 = _S3384;
    (&_S3385)->w_cov_0 = _S3384;
    (&_S3385)->p_0[int(0)] = (*dpmean_3).primal_0;
    float _S3386 = s_primal_ctx_sqrt_0(3.0f);
    float _S3387 = _S3386 * _S3380.x;
    float3  _S3388 = make_float3 (_S3387);
    float3  delta_69 = make_float3 (_S3387) * _S3382.rows[0U];
    float3  _S3389 = (*dpmean_3).primal_0 + delta_69;
    float3  _S3390 = (*dpmean_3).primal_0 - delta_69;
    float _S3391 = _S3386 * _S3380.y;
    float3  _S3392 = make_float3 (_S3391);
    float3  delta_70 = make_float3 (_S3391) * _S3382.rows[1U];
    float3  _S3393 = (*dpmean_3).primal_0 + delta_70;
    float3  _S3394 = (*dpmean_3).primal_0 - delta_70;
    float _S3395 = _S3386 * _S3380.z;
    float3  _S3396 = make_float3 (_S3395);
    float3  delta_71 = make_float3 (_S3395) * _S3382.rows[2U];
    float3  _S3397 = (*dpmean_3).primal_0 + delta_71;
    float3  _S3398 = (*dpmean_3).primal_0 - delta_71;
    SigmaPoints_0 _S3399 = _S3385;
    float _S3400 = *&(((&_s_diff_ctx_15->_S3325)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_15->_S3325)->rows + (int(1)))->x);
    float det_orig_33 = *&(((&_s_diff_ctx_15->_S3325)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_15->_S3325)->rows + (int(1)))->y) - _S3400;
    float _S3401 = *&(((&_s_diff_ctx_15->_S3325)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3402 = _s_diff_ctx_15->_S3325;
    *&(((&_S3402)->rows + (int(0)))->x) = _S3401;
    float _S3403 = *&(((&_s_diff_ctx_15->_S3325)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S3402)->rows + (int(1)))->y) = _S3403;
    Matrix<float, 2, 2>  _S3404 = _S3402;
    Matrix<float, 2, 2>  _S3405 = _S3402;
    float det_blur_25 = _S3401 * _S3403 - _S3400;
    float _S3406 = det_orig_33 / det_blur_25;
    float _S3407 = det_blur_25 * det_blur_25;
    float _S3408 = s_primal_ctx_max_0(0.0f, _S3406);
    float _S3409 = s_primal_ctx_sqrt_0(_S3408);
    float _S3410 = - (*dpin_opacity_1).primal_0;
    float _S3411 = 1.0f + s_primal_ctx_exp_1(_S3410);
    float _S3412 = 1.0f / _S3411;
    float _S3413 = _S3411 * _S3411;
    float _S3414;
    if(antialiased_32)
    {
        _S3414 = _S3412 * _S3409;
    }
    else
    {
        _S3414 = _S3412;
    }
    float _S3415 = _S3414 / 0.00392156885936856f;
    float _S3416 = 2.0f * s_primal_ctx_log_0(_S3415);
    float _S3417 = s_primal_ctx_sqrt_0(_S3416);
    float _S3418 = _S3404.rows[int(0)].x;
    float _S3419 = _S3405.rows[int(1)].y;
    float _S3420 = s_primal_ctx_dot_0(mean_c_32, mean_c_32) + 9.99999997475242708e-07f;
    float3  _S3421 = - _S3374.primal_0;
    Matrix<float, 3, 3>  _S3422 = transpose_0(_S3377.primal_0);
    float3  _S3423 = _S3372.primal_0 - - s_primal_ctx_mul_0(_S3422, _S3378.primal_0);
    float _S3424 = s_primal_ctx_dot_0(_S3423, _S3423);
    float _S3425 = s_primal_ctx_rsqrt_0(_S3424);
    float3  _S3426 = make_float3 (_S3425);
    float3  _S3427 = _S3423 * make_float3 (_S3425);
    float _S3428 = s_primal_ctx_dot_0(_S3375[int(0)], _S3427) - s_primal_ctx_dot_0(_S3375[int(1)], _S3427);
    float _S3429 = s_primal_ctx_exp_1(_S3428);
    float3  _S3430 = make_float3 (_S3429);
    float _S3431 = s_primal_ctx_exp_1(0.0f);
    float3  _S3432 = make_float3 (_S3431);
    float total_w_0 = _S3429 + _S3431;
    float3  _S3433 = make_float3 (total_w_0);
    float3  total_c_0 = make_float3 (_S3429) * _S3376[int(0)] + make_float3 (_S3431) * _S3376[int(1)];
    float3  _S3434 = make_float3 (total_w_0 * total_w_0);
    float3  _S3435 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3436;
    (&_S3436)->primal_0 = total_c_0 / make_float3 (total_w_0) + make_float3 (0.5f);
    (&_S3436)->differential_0 = _S3379;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3437;
    (&_S3437)->primal_0 = _S3435;
    (&_S3437)->differential_0 = _S3379;
    s_bwd_prop_max_0(&_S3436, &_S3437, dprgb_2);
    float3  _S3438 = _S3436.differential_0 / _S3434;
    float3  _S3439 = total_c_0 * - _S3438;
    float3  s_diff_total_c_T_0 = _S3433 * _S3438;
    float3  _S3440 = _S3432 * s_diff_total_c_T_0;
    float3  _S3441 = _S3430 * s_diff_total_c_T_0;
    float3  _S3442 = _S3376[int(0)] * s_diff_total_c_T_0;
    float _S3443 = _S3439.x + _S3439.y + _S3439.z + _S3442.x + _S3442.y + _S3442.z;
    DiffPair_float_0 _S3444;
    (&_S3444)->primal_0 = _S3428;
    (&_S3444)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3444, _S3443);
    float _S3445 = - _S3444.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3446;
    (&_S3446)->primal_0 = _S3375[int(1)];
    (&_S3446)->differential_0 = _S3379;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3447;
    (&_S3447)->primal_0 = _S3427;
    (&_S3447)->differential_0 = _S3379;
    s_bwd_prop_dot_0(&_S3446, &_S3447, _S3445);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3448;
    (&_S3448)->primal_0 = _S3375[int(0)];
    (&_S3448)->differential_0 = _S3379;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3449;
    (&_S3449)->primal_0 = _S3427;
    (&_S3449)->differential_0 = _S3379;
    s_bwd_prop_dot_0(&_S3448, &_S3449, _S3444.differential_0);
    float3  _S3450 = _S3447.differential_0 + _S3449.differential_0;
    float3  _S3451 = _S3423 * _S3450;
    float3  _S3452 = _S3426 * _S3450;
    float _S3453 = _S3451.x + _S3451.y + _S3451.z;
    DiffPair_float_0 _S3454;
    (&_S3454)->primal_0 = _S3424;
    (&_S3454)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S3454, _S3453);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3455;
    (&_S3455)->primal_0 = _S3423;
    (&_S3455)->differential_0 = _S3379;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3456;
    (&_S3456)->primal_0 = _S3423;
    (&_S3456)->differential_0 = _S3379;
    s_bwd_prop_dot_0(&_S3455, &_S3456, _S3454.differential_0);
    float3  _S3457 = _S3452 + _S3456.differential_0 + _S3455.differential_0;
    float3  _S3458 = - - _S3457;
    Matrix<float, 3, 3>  _S3459 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3460;
    (&_S3460)->primal_0 = _S3422;
    (&_S3460)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3461;
    (&_S3461)->primal_0 = _S3378.primal_0;
    (&_S3461)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3460, &_S3461, _S3458);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3462 = _S3461;
    Matrix<float, 3, 3>  _S3463 = transpose_0(_S3460.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3464;
    (&_S3464)->primal_0 = _S3421;
    (&_S3464)->differential_0 = _S3379;
    s_bwd_prop_exp_1(&_S3464, dpconic_1);
    float3  _S3465 = - _S3464.differential_0;
    float _S3466 = 0.5f * dpdepth_2;
    DiffPair_float_0 _S3467;
    (&_S3467)->primal_0 = _S3420;
    (&_S3467)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3467, _S3466);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3468;
    (&_S3468)->primal_0 = mean_c_32;
    (&_S3468)->differential_0 = _S3379;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3469;
    (&_S3469)->primal_0 = mean_c_32;
    (&_S3469)->differential_0 = _S3379;
    s_bwd_prop_dot_0(&_S3468, &_S3469, _S3467.differential_0);
    DiffPair_float_0 _S3470;
    (&_S3470)->primal_0 = _S3419;
    (&_S3470)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3470, 0.0f);
    DiffPair_float_0 _S3471;
    (&_S3471)->primal_0 = _S3418;
    (&_S3471)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3471, 0.0f);
    DiffPair_float_0 _S3472;
    (&_S3472)->primal_0 = 3.32999992370605469f;
    (&_S3472)->differential_0 = 0.0f;
    DiffPair_float_0 _S3473;
    (&_S3473)->primal_0 = _S3417;
    (&_S3473)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3472, &_S3473, 0.0f);
    DiffPair_float_0 _S3474;
    (&_S3474)->primal_0 = _S3416;
    (&_S3474)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3474, _S3473.differential_0);
    float _S3475 = 2.0f * _S3474.differential_0;
    DiffPair_float_0 _S3476;
    (&_S3476)->primal_0 = _S3415;
    (&_S3476)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3476, _S3475);
    float _S3477 = dpopacity_3 + 254.9999847412109375f * _S3476.differential_0;
    FixedArray<float3 , 2>  _S3478;
    _S3478[int(0)] = _S3379;
    _S3478[int(1)] = _S3379;
    _S3478[int(1)] = _S3440;
    _S3478[int(0)] = _S3441;
    FixedArray<float3 , 2>  _S3479 = {
        _S3478[int(0)], _S3478[int(1)]
    };
    FixedArray<float3 , 2>  _S3480;
    _S3480[int(0)] = _S3379;
    _S3480[int(1)] = _S3379;
    _S3480[int(1)] = _S3446.differential_0;
    _S3480[int(0)] = _S3448.differential_0;
    FixedArray<float3 , 2>  _S3481 = {
        _S3480[int(0)], _S3480[int(1)]
    };
    float3  _S3482 = _S3469.differential_0 + _S3468.differential_0;
    float2  _S3483 = make_float2 (0.0f, _S3470.differential_0);
    float2  _S3484 = make_float2 (_S3471.differential_0, 0.0f);
    float _S3485;
    if(antialiased_32)
    {
        float _S3486 = _S3412 * _S3477;
        _S3414 = _S3409 * _S3477;
        _S3485 = _S3486;
    }
    else
    {
        _S3414 = _S3477;
        _S3485 = 0.0f;
    }
    float _S3487 = - (_S3414 / _S3413);
    DiffPair_float_0 _S3488;
    (&_S3488)->primal_0 = _S3410;
    (&_S3488)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3488, _S3487);
    float _S3489 = - _S3488.differential_0;
    DiffPair_float_0 _S3490;
    (&_S3490)->primal_0 = _S3408;
    (&_S3490)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3490, _S3485);
    DiffPair_float_0 _S3491;
    (&_S3491)->primal_0 = 0.0f;
    (&_S3491)->differential_0 = 0.0f;
    DiffPair_float_0 _S3492;
    (&_S3492)->primal_0 = _S3406;
    (&_S3492)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3491, &_S3492, _S3490.differential_0);
    float _S3493 = _S3492.differential_0 / _S3407;
    float s_diff_det_blur_T_2 = det_orig_33 * - _S3493;
    float s_diff_det_orig_T_5 = det_blur_25 * _S3493;
    float _S3494 = - s_diff_det_blur_T_2;
    float _S3495 = _S3401 * s_diff_det_blur_T_2;
    float _S3496 = _S3403 * s_diff_det_blur_T_2;
    Matrix<float, 2, 2>  _S3497 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S3498 = _S3497;
    _S3498[int(1)] = _S3483;
    _S3498[int(0)] = _S3484;
    float _S3499 = _S3496 + _S3498.rows[int(0)].x;
    float _S3500 = _S3494 + - s_diff_det_orig_T_5;
    float _S3501 = *&(((&_s_diff_ctx_15->_S3325)->rows + (int(0)))->y) * _S3500;
    float _S3502 = *&(((&_s_diff_ctx_15->_S3325)->rows + (int(1)))->x) * _S3500;
    float _S3503 = *&(((&_s_diff_ctx_15->_S3325)->rows + (int(1)))->y) * s_diff_det_orig_T_5;
    float _S3504 = _S3495 + _S3498.rows[int(1)].y + *&(((&_s_diff_ctx_15->_S3325)->rows + (int(0)))->x) * s_diff_det_orig_T_5;
    float2  _S3505 = make_float2 (0.0f);
    float2  _S3506 = _S3505;
    *&((&_S3506)->x) = _S3501;
    *&((&_S3506)->y) = _S3504;
    float _S3507 = _S3499 + _S3503;
    float2  _S3508 = _S3505;
    *&((&_S3508)->y) = _S3502;
    *&((&_S3508)->x) = _S3507;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3509;
    (&_S3509)->primal_0 = _S3377.primal_0;
    (&_S3509)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3510;
    (&_S3510)->primal_0 = _S3398;
    (&_S3510)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3509, &_S3510, _S3379);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3511;
    (&_S3511)->primal_0 = _S3377.primal_0;
    (&_S3511)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3512;
    (&_S3512)->primal_0 = _S3394;
    (&_S3512)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3511, &_S3512, _S3379);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3513;
    (&_S3513)->primal_0 = _S3377.primal_0;
    (&_S3513)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3514;
    (&_S3514)->primal_0 = _S3390;
    (&_S3514)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3513, &_S3514, _S3379);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3515;
    (&_S3515)->primal_0 = _S3377.primal_0;
    (&_S3515)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3516;
    (&_S3516)->primal_0 = _S3397;
    (&_S3516)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3515, &_S3516, _S3379);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3517;
    (&_S3517)->primal_0 = _S3377.primal_0;
    (&_S3517)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3518;
    (&_S3518)->primal_0 = _S3393;
    (&_S3518)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3517, &_S3518, _S3379);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3519;
    (&_S3519)->primal_0 = _S3377.primal_0;
    (&_S3519)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3520;
    (&_S3520)->primal_0 = _S3389;
    (&_S3520)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3519, &_S3520, _S3379);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3521;
    (&_S3521)->primal_0 = _S3377.primal_0;
    (&_S3521)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3522;
    (&_S3522)->primal_0 = _S3399.p_0[0U];
    (&_S3522)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3521, &_S3522, _S3379);
    float3  _S3523 = - _S3510.differential_0 + _S3516.differential_0;
    float3  _S3524 = _S3396 * _S3523;
    float3  _S3525 = _S3382.rows[2U] * _S3523;
    float _S3526 = _S3386 * (_S3525.x + _S3525.y + _S3525.z);
    float3  _S3527 = - _S3512.differential_0 + _S3518.differential_0;
    float3  _S3528 = _S3392 * _S3527;
    float3  _S3529 = _S3382.rows[1U] * _S3527;
    float _S3530 = _S3386 * (_S3529.x + _S3529.y + _S3529.z);
    float3  _S3531 = - _S3514.differential_0 + _S3520.differential_0;
    float3  _S3532 = _S3388 * _S3531;
    float3  _S3533 = _S3382.rows[0U] * _S3531;
    float _S3534 = _S3386 * (_S3533.x + _S3533.y + _S3533.z);
    Matrix<float, 3, 3>  _S3535 = _S3459;
    _S3535[2U] = _S3524;
    _S3535[1U] = _S3528;
    _S3535[0U] = _S3532;
    Matrix<float, 3, 3>  _S3536 = transpose_0(transpose_0(_S3535));
    float _S3537 = 2.0f * - _S3536.rows[int(2)].z;
    float _S3538 = 2.0f * _S3536.rows[int(2)].y;
    float _S3539 = 2.0f * _S3536.rows[int(2)].x;
    float _S3540 = 2.0f * _S3536.rows[int(1)].z;
    float _S3541 = 2.0f * - _S3536.rows[int(1)].y;
    float _S3542 = 2.0f * _S3536.rows[int(1)].x;
    float _S3543 = 2.0f * _S3536.rows[int(0)].z;
    float _S3544 = 2.0f * _S3536.rows[int(0)].y;
    float _S3545 = 2.0f * - _S3536.rows[int(0)].x;
    float _S3546 = - _S3542 + _S3544;
    float _S3547 = _S3539 + - _S3543;
    float _S3548 = - _S3538 + _S3540;
    float _S3549 = _S3538 + _S3540;
    float _S3550 = _S3539 + _S3543;
    float _S3551 = _S3542 + _S3544;
    float _S3552 = _S3373.primal_0.w * (_S3541 + _S3545);
    float _S3553 = _S3373.primal_0.z * (_S3537 + _S3545);
    float _S3554 = _S3373.primal_0.y * (_S3537 + _S3541);
    float _S3555 = _S3373.primal_0.x * _S3546 + _S3373.primal_0.z * _S3549 + _S3373.primal_0.y * _S3550 + _S3552 + _S3552;
    float _S3556 = _S3373.primal_0.x * _S3547 + _S3373.primal_0.w * _S3549 + _S3373.primal_0.y * _S3551 + _S3553 + _S3553;
    float _S3557 = _S3373.primal_0.x * _S3548 + _S3373.primal_0.w * _S3550 + _S3373.primal_0.z * _S3551 + _S3554 + _S3554;
    float _S3558 = _S3373.primal_0.w * _S3546 + _S3373.primal_0.z * _S3547 + _S3373.primal_0.y * _S3548;
    float3  _S3559 = _S3379;
    *&((&_S3559)->z) = _S3526;
    *&((&_S3559)->y) = _S3530;
    *&((&_S3559)->x) = _S3534;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3560;
    (&_S3560)->primal_0 = _S3374.primal_0;
    (&_S3560)->differential_0 = _S3379;
    s_bwd_prop_exp_1(&_S3560, _S3559);
    Matrix<float, 2, 2>  _S3561 = _S3497;
    _S3561[int(1)] = _S3506;
    _S3561[int(0)] = _S3508;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3562;
    (&_S3562)->primal_0 = _S3377.primal_0;
    (&_S3562)->differential_0 = _S3459;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3563;
    (&_S3563)->primal_0 = _S3372.primal_0;
    (&_S3563)->differential_0 = _S3379;
    s_bwd_prop_mul_1(&_S3562, &_S3563, _S3482);
    float3  _S3564 = _S3482 + _S3462.differential_0;
    dpt_2->primal_0 = (*dpt_2).primal_0;
    dpt_2->differential_0 = _S3564;
    Matrix<float, 3, 3>  _S3565 = _S3509.differential_0 + _S3511.differential_0 + _S3513.differential_0 + _S3515.differential_0 + _S3517.differential_0 + _S3519.differential_0 + _S3521.differential_0 + _S3562.differential_0 + _S3463;
    dpR_3->primal_0 = (*dpR_3).primal_0;
    dpR_3->differential_0 = _S3565;
    dpsv_colors_1->primal_0 = dpsv_colors_1->primal_0;
    dpsv_colors_1->differential_0 = _S3479;
    dpsv_sites_1->primal_0 = dpsv_sites_1->primal_0;
    dpsv_sites_1->differential_0 = _S3481;
    dpin_opacity_1->primal_0 = (*dpin_opacity_1).primal_0;
    dpin_opacity_1->differential_0 = _S3489;
    float3  _S3566 = _S3560.differential_0 + _S3465;
    dpscale_2->primal_0 = (*dpscale_2).primal_0;
    dpscale_2->differential_0 = _S3566;
    float4  _S3567 = make_float4 (0.0f);
    *&((&_S3567)->w) = _S3555;
    *&((&_S3567)->z) = _S3556;
    *&((&_S3567)->y) = _S3557;
    *&((&_S3567)->x) = _S3558;
    dpquat_2->primal_0 = (*dpquat_2).primal_0;
    dpquat_2->differential_0 = _S3567;
    float3  _S3568 = _S3510.differential_0 + _S3516.differential_0 + _S3512.differential_0 + _S3518.differential_0 + _S3514.differential_0 + _S3520.differential_0 + _S3563.differential_0 + _S3457;
    dpmean_3->primal_0 = (*dpmean_3).primal_0;
    dpmean_3->differential_0 = _S3568;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_0(bool _S3569, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3570, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S3571, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3572, DiffPair_float_0 * _S3573, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3574, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3575, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3576, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3577, float _S3578, float _S3579, float _S3580, float _S3581, FixedArray<float, 10>  * _S3582, uint _S3583, uint _S3584, float _S3585, float _S3586, float2  _S3587, float _S3588, float3  _S3589, float _S3590, float3  _S3591)
{
    FixedArray<float3 , 2>  _S3592 = _S3574->primal_0;
    FixedArray<float3 , 2>  _S3593 = _S3575->primal_0;
    int4  _S3594;
    float2  _S3595;
    float _S3596;
    float3  _S3597;
    float _S3598;
    float3  _S3599;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S3600;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(_S3569, (*_S3570).primal_0, (*_S3571).primal_0, (*_S3572).primal_0, (*_S3573).primal_0, &_S3592, &_S3593, (*_S3576).primal_0, (*_S3577).primal_0, _S3578, _S3579, _S3580, _S3581, _S3582, _S3583, _S3584, _S3585, _S3586, &_S3594, &_S3595, &_S3596, &_S3597, &_S3598, &_S3599, &_S3600);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S3601 = _S3600;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(_S3569, _S3570, _S3571, _S3572, _S3573, _S3574, _S3575, _S3576, _S3577, _S3578, _S3579, _S3580, _S3581, _S3582, _S3583, _S3584, _S3585, _S3586, _S3587, _S3588, _S3589, _S3590, _S3591, &_S3601);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_33, float3  mean_36, float4  quat_37, float3  scale_36, float in_opacity_31, FixedArray<float3 , 2>  * sv_sites_16, FixedArray<float3 , 2>  * sv_colors_16, Matrix<float, 3, 3>  R_38, float3  t_34, float fx_42, float fy_42, float cx_37, float cy_37, FixedArray<float, 10>  * dist_coeffs_46, uint image_width_33, uint image_height_33, float2  v_mean2d_5, float v_depth_6, float3  v_conic_5, float v_opacity_7, float3  v_rgb_6, float3  * v_mean_7, float4  * v_quat_6, float3  * v_scale_6, float * v_in_opacity_5, FixedArray<float3 , 2>  * v_sv_dirs_0, FixedArray<float3 , 2>  * v_sv_colors_0, Matrix<float, 3, 3>  * v_R_7, float3  * v_t_6)
{
    float3  _S3602 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_2;
    (&dp_mean_2)->primal_0 = mean_36;
    (&dp_mean_2)->differential_0 = _S3602;
    float4  _S3603 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_1;
    (&dp_quat_1)->primal_0 = quat_37;
    (&dp_quat_1)->differential_0 = _S3603;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_1;
    (&dp_scale_1)->primal_0 = scale_36;
    (&dp_scale_1)->differential_0 = _S3602;
    DiffPair_float_0 dp_in_opacity_0;
    (&dp_in_opacity_0)->primal_0 = in_opacity_31;
    (&dp_in_opacity_0)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S3604 = { _S3602, _S3602 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_0;
    (&dp_sv_dirs_0)->primal_0 = *sv_sites_16;
    (&dp_sv_dirs_0)->differential_0 = _S3604;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_0;
    (&dp_sv_colors_0)->primal_0 = *sv_colors_16;
    (&dp_sv_colors_0)->differential_0 = _S3604;
    Matrix<float, 3, 3>  _S3605 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_2;
    (&dp_R_2)->primal_0 = R_38;
    (&dp_R_2)->differential_0 = _S3605;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_1;
    (&dp_t_1)->primal_0 = t_34;
    (&dp_t_1)->differential_0 = _S3602;
    s_bwd_projection_3dgut_sv_persp_differentiable_0(antialiased_33, &dp_mean_2, &dp_quat_1, &dp_scale_1, &dp_in_opacity_0, &dp_sv_dirs_0, &dp_sv_colors_0, &dp_R_2, &dp_t_1, fx_42, fy_42, cx_37, cy_37, dist_coeffs_46, image_width_33, image_height_33, 0.0f, 1.00000001504746622e+30f, v_mean2d_5, v_depth_6, v_conic_5, v_opacity_7, v_rgb_6);
    *v_mean_7 = dp_mean_2.differential_0;
    *v_quat_6 = dp_quat_1.differential_0;
    *v_scale_6 = dp_scale_1.differential_0;
    *v_in_opacity_5 = dp_in_opacity_0.differential_0;
    *v_sv_dirs_0 = (&dp_sv_dirs_0)->differential_0;
    *v_sv_colors_0 = (&dp_sv_colors_0)->differential_0;
    *v_R_7 = dp_R_2.differential_0;
    *v_t_6 = dp_t_1.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S3606;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_34, float3  dpmean_4, float4  dpquat_3, float3  dpscale_3, float dpin_opacity_2, FixedArray<float3 , 2>  * dpsv_sites_2, FixedArray<float3 , 2>  * dpsv_colors_2, Matrix<float, 3, 3>  dpR_4, float3  dpt_3, float fx_43, float fy_43, float cx_38, float cy_38, FixedArray<float, 10>  * dist_coeffs_47, uint image_width_34, uint image_height_34, float near_plane_28, float far_plane_28, int4  * aabb_xyxy_27, float2  * dpmean2d_4, float * dpdepth_3, float3  * dpconic_2, float * dpopacity_4, float3  * dprgb_3, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_16)
{
    Matrix<float, 2, 2>  _S3607 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_16->_S3606 = _S3607;
    float2  _S3608 = make_float2 (0.0f);
    float3  _S3609 = make_float3 (0.0f);
    float3  mean_c_33 = s_primal_ctx_mul_0(dpR_4, dpmean_4) + dpt_3;
    float4  intrins_31 = make_float4 (fx_43, fy_43, cx_38, cy_38);
    float3  _S3610 = s_primal_ctx_exp_0(dpscale_3);
    float _S3611 = dpquat_3.y;
    float x2_39 = _S3611 * _S3611;
    float y2_39 = dpquat_3.z * dpquat_3.z;
    float z2_54 = dpquat_3.w * dpquat_3.w;
    float xy_39 = dpquat_3.y * dpquat_3.z;
    float xz_39 = dpquat_3.y * dpquat_3.w;
    float yz_39 = dpquat_3.z * dpquat_3.w;
    float wx_39 = dpquat_3.x * dpquat_3.y;
    float wy_39 = dpquat_3.x * dpquat_3.z;
    float wz_39 = dpquat_3.x * dpquat_3.w;
    Matrix<float, 3, 3>  _S3612 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_39 + z2_54), 2.0f * (xy_39 + wz_39), 2.0f * (xz_39 - wy_39), 2.0f * (xy_39 - wz_39), 1.0f - 2.0f * (x2_39 + z2_54), 2.0f * (yz_39 + wx_39), 2.0f * (xz_39 + wy_39), 2.0f * (yz_39 - wx_39), 1.0f - 2.0f * (x2_39 + y2_39))));
    FixedArray<float3 , 7>  _S3613 = {
        _S3609, _S3609, _S3609, _S3609, _S3609, _S3609, _S3609
    };
    FixedArray<float, 7>  _S3614 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3615;
    (&_S3615)->p_0 = _S3613;
    (&_S3615)->w_mean_0 = _S3614;
    (&_S3615)->w_cov_0 = _S3614;
    (&_S3615)->p_0[int(0)] = dpmean_4;
    SigmaPoints_0 _S3616 = _S3615;
    (&_S3616)->w_mean_0[int(0)] = 0.0f;
    (&_S3616)->w_cov_0[int(0)] = 2.0f;
    float _S3617 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_72 = make_float3 (_S3617 * _S3610.x) * _S3612.rows[0U];
    float3  _S3618 = dpmean_4 + delta_72;
    float3  _S3619 = dpmean_4 - delta_72;
    float3  delta_73 = make_float3 (_S3617 * _S3610.y) * _S3612.rows[1U];
    float3  _S3620 = dpmean_4 + delta_73;
    float3  _S3621 = dpmean_4 - delta_73;
    float3  delta_74 = make_float3 (_S3617 * _S3610.z) * _S3612.rows[2U];
    float3  _S3622 = dpmean_4 + delta_74;
    float3  _S3623 = dpmean_4 - delta_74;
    (&_S3616)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3616)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3616)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3616)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3616)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3616)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3616)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3616)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3616)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3616)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3616)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3616)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3616)->p_0[0U] = s_primal_ctx_mul_0(dpR_4, _S3615.p_0[0U]) + dpt_3;
    (&_S3616)->p_0[1U] = s_primal_ctx_mul_0(dpR_4, _S3618) + dpt_3;
    (&_S3616)->p_0[2U] = s_primal_ctx_mul_0(dpR_4, _S3620) + dpt_3;
    (&_S3616)->p_0[3U] = s_primal_ctx_mul_0(dpR_4, _S3622) + dpt_3;
    (&_S3616)->p_0[4U] = s_primal_ctx_mul_0(dpR_4, _S3619) + dpt_3;
    (&_S3616)->p_0[5U] = s_primal_ctx_mul_0(dpR_4, _S3621) + dpt_3;
    (&_S3616)->p_0[6U] = s_primal_ctx_mul_0(dpR_4, _S3623) + dpt_3;
    float2  _S3624 = _S3608;
    Matrix<float, 2, 2>  _S3625 = _S3607;
    SigmaPoints_0 _S3626 = _S3616;
    bool _S3627 = fisheye_proj_3dgs_ut_1(&_S3626, intrins_31, dist_coeffs_47, &_S3625, &_S3624);
    _s_diff_ctx_16->_S3606 = _S3625;
    float2  _S3628 = _S3624;
    float _S3629 = _S3625.rows[int(0)].y * _S3625.rows[int(1)].x;
    float det_orig_34 = _S3625.rows[int(0)].x * _S3625.rows[int(1)].y - _S3629;
    float _S3630 = _S3625.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3631 = _S3625;
    *&(((&_S3631)->rows + (int(0)))->x) = _S3630;
    float _S3632 = _S3625.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3631)->rows + (int(1)))->y) = _S3632;
    Matrix<float, 2, 2>  _S3633 = _S3631;
    Matrix<float, 2, 2>  _S3634 = _S3631;
    float _S3635 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_34 / (_S3630 * _S3632 - _S3629)));
    float _S3636 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_2));
    float _S3637;
    if(antialiased_34)
    {
        _S3637 = _S3636 * _S3635;
    }
    else
    {
        _S3637 = _S3636;
    }
    float _S3638 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S3637 / 0.00392156885936856f)));
    float radius_x_27 = _S3638 * s_primal_ctx_sqrt_0(_S3633.rows[int(0)].x);
    float radius_y_27 = _S3638 * s_primal_ctx_sqrt_0(_S3634.rows[int(1)].y);
    float _S3639 = _S3628.x;
    float _S3640 = _S3628.y;
    float _S3641 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_33, mean_c_33) + 9.99999997475242708e-07f);
    float3  _S3642 = s_primal_ctx_exp_0(- dpscale_3);
    float3  _S3643 = dpmean_4 - - s_primal_ctx_mul_0(transpose_0(dpR_4), dpt_3);
    float3  _S3644 = _S3643 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S3643, _S3643)));
    float _S3645 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_2)[int(0)], _S3644) - s_primal_ctx_dot_0((*dpsv_sites_2)[int(1)], _S3644));
    float _S3646 = s_primal_ctx_exp_1(0.0f);
    float3  _S3647 = s_primal_ctx_max_1((make_float3 (_S3645) * (*dpsv_colors_2)[int(0)] + make_float3 (_S3646) * (*dpsv_colors_2)[int(1)]) / make_float3 (_S3645 + _S3646) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_27 = make_int4 (int((F32_floor((_S3639 - radius_x_27)))), int((F32_floor((_S3640 - radius_y_27)))), int((F32_ceil((_S3639 + radius_x_27)))), int((F32_ceil((_S3640 + radius_y_27)))));
    *dpmean2d_4 = _S3628;
    *dpdepth_3 = _S3641;
    *dpconic_2 = _S3642;
    *dpopacity_4 = _S3637;
    *dprgb_3 = _S3647;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_35, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_5, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_4, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_4, DiffPair_float_0 * dpin_opacity_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_4, float fx_44, float fy_44, float cx_39, float cy_39, FixedArray<float, 10>  * dist_coeffs_48, uint image_width_35, uint image_height_35, float near_plane_29, float far_plane_29, float2  dpmean2d_5, float dpdepth_4, float3  dpconic_3, float dpopacity_5, float3  dprgb_4, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_17)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3648 = *dpmean_5;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S3649 = *dpquat_4;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3650 = *dpscale_4;
    FixedArray<float3 , 2>  _S3651 = dpsv_sites_3->primal_0;
    FixedArray<float3 , 2>  _S3652 = dpsv_colors_3->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3653 = *dpR_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3654 = *dpt_4;
    float3  _S3655 = make_float3 (0.0f);
    float3  mean_c_34 = s_primal_ctx_mul_0((*dpR_5).primal_0, (*dpmean_5).primal_0) + (*dpt_4).primal_0;
    float3  _S3656 = s_primal_ctx_exp_0((*dpscale_4).primal_0);
    float _S3657 = (*dpquat_4).primal_0.y;
    float x2_40 = _S3657 * _S3657;
    float y2_40 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.z;
    float z2_55 = (*dpquat_4).primal_0.w * (*dpquat_4).primal_0.w;
    float xy_40 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.z;
    float xz_40 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.w;
    float yz_40 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.w;
    float wx_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.y;
    float wy_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.z;
    float wz_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.w;
    Matrix<float, 3, 3>  _S3658 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_40 + z2_55), 2.0f * (xy_40 + wz_40), 2.0f * (xz_40 - wy_40), 2.0f * (xy_40 - wz_40), 1.0f - 2.0f * (x2_40 + z2_55), 2.0f * (yz_40 + wx_40), 2.0f * (xz_40 + wy_40), 2.0f * (yz_40 - wx_40), 1.0f - 2.0f * (x2_40 + y2_40))));
    FixedArray<float3 , 7>  _S3659 = {
        _S3655, _S3655, _S3655, _S3655, _S3655, _S3655, _S3655
    };
    FixedArray<float, 7>  _S3660 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3661;
    (&_S3661)->p_0 = _S3659;
    (&_S3661)->w_mean_0 = _S3660;
    (&_S3661)->w_cov_0 = _S3660;
    (&_S3661)->p_0[int(0)] = (*dpmean_5).primal_0;
    float _S3662 = s_primal_ctx_sqrt_0(3.0f);
    float _S3663 = _S3662 * _S3656.x;
    float3  _S3664 = make_float3 (_S3663);
    float3  delta_75 = make_float3 (_S3663) * _S3658.rows[0U];
    float3  _S3665 = (*dpmean_5).primal_0 + delta_75;
    float3  _S3666 = (*dpmean_5).primal_0 - delta_75;
    float _S3667 = _S3662 * _S3656.y;
    float3  _S3668 = make_float3 (_S3667);
    float3  delta_76 = make_float3 (_S3667) * _S3658.rows[1U];
    float3  _S3669 = (*dpmean_5).primal_0 + delta_76;
    float3  _S3670 = (*dpmean_5).primal_0 - delta_76;
    float _S3671 = _S3662 * _S3656.z;
    float3  _S3672 = make_float3 (_S3671);
    float3  delta_77 = make_float3 (_S3671) * _S3658.rows[2U];
    float3  _S3673 = (*dpmean_5).primal_0 + delta_77;
    float3  _S3674 = (*dpmean_5).primal_0 - delta_77;
    SigmaPoints_0 _S3675 = _S3661;
    float _S3676 = *&(((&_s_diff_ctx_17->_S3606)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_17->_S3606)->rows + (int(1)))->x);
    float det_orig_35 = *&(((&_s_diff_ctx_17->_S3606)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_17->_S3606)->rows + (int(1)))->y) - _S3676;
    float _S3677 = *&(((&_s_diff_ctx_17->_S3606)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3678 = _s_diff_ctx_17->_S3606;
    *&(((&_S3678)->rows + (int(0)))->x) = _S3677;
    float _S3679 = *&(((&_s_diff_ctx_17->_S3606)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S3678)->rows + (int(1)))->y) = _S3679;
    Matrix<float, 2, 2>  _S3680 = _S3678;
    Matrix<float, 2, 2>  _S3681 = _S3678;
    float det_blur_26 = _S3677 * _S3679 - _S3676;
    float _S3682 = det_orig_35 / det_blur_26;
    float _S3683 = det_blur_26 * det_blur_26;
    float _S3684 = s_primal_ctx_max_0(0.0f, _S3682);
    float _S3685 = s_primal_ctx_sqrt_0(_S3684);
    float _S3686 = - (*dpin_opacity_3).primal_0;
    float _S3687 = 1.0f + s_primal_ctx_exp_1(_S3686);
    float _S3688 = 1.0f / _S3687;
    float _S3689 = _S3687 * _S3687;
    float _S3690;
    if(antialiased_35)
    {
        _S3690 = _S3688 * _S3685;
    }
    else
    {
        _S3690 = _S3688;
    }
    float _S3691 = _S3690 / 0.00392156885936856f;
    float _S3692 = 2.0f * s_primal_ctx_log_0(_S3691);
    float _S3693 = s_primal_ctx_sqrt_0(_S3692);
    float _S3694 = _S3680.rows[int(0)].x;
    float _S3695 = _S3681.rows[int(1)].y;
    float _S3696 = s_primal_ctx_dot_0(mean_c_34, mean_c_34) + 9.99999997475242708e-07f;
    float3  _S3697 = - _S3650.primal_0;
    Matrix<float, 3, 3>  _S3698 = transpose_0(_S3653.primal_0);
    float3  _S3699 = _S3648.primal_0 - - s_primal_ctx_mul_0(_S3698, _S3654.primal_0);
    float _S3700 = s_primal_ctx_dot_0(_S3699, _S3699);
    float _S3701 = s_primal_ctx_rsqrt_0(_S3700);
    float3  _S3702 = make_float3 (_S3701);
    float3  _S3703 = _S3699 * make_float3 (_S3701);
    float _S3704 = s_primal_ctx_dot_0(_S3651[int(0)], _S3703) - s_primal_ctx_dot_0(_S3651[int(1)], _S3703);
    float _S3705 = s_primal_ctx_exp_1(_S3704);
    float3  _S3706 = make_float3 (_S3705);
    float _S3707 = s_primal_ctx_exp_1(0.0f);
    float3  _S3708 = make_float3 (_S3707);
    float total_w_1 = _S3705 + _S3707;
    float3  _S3709 = make_float3 (total_w_1);
    float3  total_c_1 = make_float3 (_S3705) * _S3652[int(0)] + make_float3 (_S3707) * _S3652[int(1)];
    float3  _S3710 = make_float3 (total_w_1 * total_w_1);
    float3  _S3711 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3712;
    (&_S3712)->primal_0 = total_c_1 / make_float3 (total_w_1) + make_float3 (0.5f);
    (&_S3712)->differential_0 = _S3655;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3713;
    (&_S3713)->primal_0 = _S3711;
    (&_S3713)->differential_0 = _S3655;
    s_bwd_prop_max_0(&_S3712, &_S3713, dprgb_4);
    float3  _S3714 = _S3712.differential_0 / _S3710;
    float3  _S3715 = total_c_1 * - _S3714;
    float3  s_diff_total_c_T_1 = _S3709 * _S3714;
    float3  _S3716 = _S3708 * s_diff_total_c_T_1;
    float3  _S3717 = _S3706 * s_diff_total_c_T_1;
    float3  _S3718 = _S3652[int(0)] * s_diff_total_c_T_1;
    float _S3719 = _S3715.x + _S3715.y + _S3715.z + _S3718.x + _S3718.y + _S3718.z;
    DiffPair_float_0 _S3720;
    (&_S3720)->primal_0 = _S3704;
    (&_S3720)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3720, _S3719);
    float _S3721 = - _S3720.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3722;
    (&_S3722)->primal_0 = _S3651[int(1)];
    (&_S3722)->differential_0 = _S3655;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3723;
    (&_S3723)->primal_0 = _S3703;
    (&_S3723)->differential_0 = _S3655;
    s_bwd_prop_dot_0(&_S3722, &_S3723, _S3721);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3724;
    (&_S3724)->primal_0 = _S3651[int(0)];
    (&_S3724)->differential_0 = _S3655;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3725;
    (&_S3725)->primal_0 = _S3703;
    (&_S3725)->differential_0 = _S3655;
    s_bwd_prop_dot_0(&_S3724, &_S3725, _S3720.differential_0);
    float3  _S3726 = _S3723.differential_0 + _S3725.differential_0;
    float3  _S3727 = _S3699 * _S3726;
    float3  _S3728 = _S3702 * _S3726;
    float _S3729 = _S3727.x + _S3727.y + _S3727.z;
    DiffPair_float_0 _S3730;
    (&_S3730)->primal_0 = _S3700;
    (&_S3730)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S3730, _S3729);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3731;
    (&_S3731)->primal_0 = _S3699;
    (&_S3731)->differential_0 = _S3655;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3732;
    (&_S3732)->primal_0 = _S3699;
    (&_S3732)->differential_0 = _S3655;
    s_bwd_prop_dot_0(&_S3731, &_S3732, _S3730.differential_0);
    float3  _S3733 = _S3728 + _S3732.differential_0 + _S3731.differential_0;
    float3  _S3734 = - - _S3733;
    Matrix<float, 3, 3>  _S3735 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3736;
    (&_S3736)->primal_0 = _S3698;
    (&_S3736)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3737;
    (&_S3737)->primal_0 = _S3654.primal_0;
    (&_S3737)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3736, &_S3737, _S3734);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3738 = _S3737;
    Matrix<float, 3, 3>  _S3739 = transpose_0(_S3736.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3740;
    (&_S3740)->primal_0 = _S3697;
    (&_S3740)->differential_0 = _S3655;
    s_bwd_prop_exp_1(&_S3740, dpconic_3);
    float3  _S3741 = - _S3740.differential_0;
    float _S3742 = 0.5f * dpdepth_4;
    DiffPair_float_0 _S3743;
    (&_S3743)->primal_0 = _S3696;
    (&_S3743)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3743, _S3742);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3744;
    (&_S3744)->primal_0 = mean_c_34;
    (&_S3744)->differential_0 = _S3655;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3745;
    (&_S3745)->primal_0 = mean_c_34;
    (&_S3745)->differential_0 = _S3655;
    s_bwd_prop_dot_0(&_S3744, &_S3745, _S3743.differential_0);
    DiffPair_float_0 _S3746;
    (&_S3746)->primal_0 = _S3695;
    (&_S3746)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3746, 0.0f);
    DiffPair_float_0 _S3747;
    (&_S3747)->primal_0 = _S3694;
    (&_S3747)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3747, 0.0f);
    DiffPair_float_0 _S3748;
    (&_S3748)->primal_0 = 3.32999992370605469f;
    (&_S3748)->differential_0 = 0.0f;
    DiffPair_float_0 _S3749;
    (&_S3749)->primal_0 = _S3693;
    (&_S3749)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3748, &_S3749, 0.0f);
    DiffPair_float_0 _S3750;
    (&_S3750)->primal_0 = _S3692;
    (&_S3750)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3750, _S3749.differential_0);
    float _S3751 = 2.0f * _S3750.differential_0;
    DiffPair_float_0 _S3752;
    (&_S3752)->primal_0 = _S3691;
    (&_S3752)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3752, _S3751);
    float _S3753 = dpopacity_5 + 254.9999847412109375f * _S3752.differential_0;
    FixedArray<float3 , 2>  _S3754;
    _S3754[int(0)] = _S3655;
    _S3754[int(1)] = _S3655;
    _S3754[int(1)] = _S3716;
    _S3754[int(0)] = _S3717;
    FixedArray<float3 , 2>  _S3755 = {
        _S3754[int(0)], _S3754[int(1)]
    };
    FixedArray<float3 , 2>  _S3756;
    _S3756[int(0)] = _S3655;
    _S3756[int(1)] = _S3655;
    _S3756[int(1)] = _S3722.differential_0;
    _S3756[int(0)] = _S3724.differential_0;
    FixedArray<float3 , 2>  _S3757 = {
        _S3756[int(0)], _S3756[int(1)]
    };
    float3  _S3758 = _S3745.differential_0 + _S3744.differential_0;
    float2  _S3759 = make_float2 (0.0f, _S3746.differential_0);
    float2  _S3760 = make_float2 (_S3747.differential_0, 0.0f);
    float _S3761;
    if(antialiased_35)
    {
        float _S3762 = _S3688 * _S3753;
        _S3690 = _S3685 * _S3753;
        _S3761 = _S3762;
    }
    else
    {
        _S3690 = _S3753;
        _S3761 = 0.0f;
    }
    float _S3763 = - (_S3690 / _S3689);
    DiffPair_float_0 _S3764;
    (&_S3764)->primal_0 = _S3686;
    (&_S3764)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3764, _S3763);
    float _S3765 = - _S3764.differential_0;
    DiffPair_float_0 _S3766;
    (&_S3766)->primal_0 = _S3684;
    (&_S3766)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3766, _S3761);
    DiffPair_float_0 _S3767;
    (&_S3767)->primal_0 = 0.0f;
    (&_S3767)->differential_0 = 0.0f;
    DiffPair_float_0 _S3768;
    (&_S3768)->primal_0 = _S3682;
    (&_S3768)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3767, &_S3768, _S3766.differential_0);
    float _S3769 = _S3768.differential_0 / _S3683;
    float s_diff_det_blur_T_3 = det_orig_35 * - _S3769;
    float s_diff_det_orig_T_6 = det_blur_26 * _S3769;
    float _S3770 = - s_diff_det_blur_T_3;
    float _S3771 = _S3677 * s_diff_det_blur_T_3;
    float _S3772 = _S3679 * s_diff_det_blur_T_3;
    Matrix<float, 2, 2>  _S3773 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S3774 = _S3773;
    _S3774[int(1)] = _S3759;
    _S3774[int(0)] = _S3760;
    float _S3775 = _S3772 + _S3774.rows[int(0)].x;
    float _S3776 = _S3770 + - s_diff_det_orig_T_6;
    float _S3777 = *&(((&_s_diff_ctx_17->_S3606)->rows + (int(0)))->y) * _S3776;
    float _S3778 = *&(((&_s_diff_ctx_17->_S3606)->rows + (int(1)))->x) * _S3776;
    float _S3779 = *&(((&_s_diff_ctx_17->_S3606)->rows + (int(1)))->y) * s_diff_det_orig_T_6;
    float _S3780 = _S3771 + _S3774.rows[int(1)].y + *&(((&_s_diff_ctx_17->_S3606)->rows + (int(0)))->x) * s_diff_det_orig_T_6;
    float2  _S3781 = make_float2 (0.0f);
    float2  _S3782 = _S3781;
    *&((&_S3782)->x) = _S3777;
    *&((&_S3782)->y) = _S3780;
    float _S3783 = _S3775 + _S3779;
    float2  _S3784 = _S3781;
    *&((&_S3784)->y) = _S3778;
    *&((&_S3784)->x) = _S3783;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3785;
    (&_S3785)->primal_0 = _S3653.primal_0;
    (&_S3785)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3786;
    (&_S3786)->primal_0 = _S3674;
    (&_S3786)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3785, &_S3786, _S3655);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3787;
    (&_S3787)->primal_0 = _S3653.primal_0;
    (&_S3787)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3788;
    (&_S3788)->primal_0 = _S3670;
    (&_S3788)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3787, &_S3788, _S3655);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3789;
    (&_S3789)->primal_0 = _S3653.primal_0;
    (&_S3789)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3790;
    (&_S3790)->primal_0 = _S3666;
    (&_S3790)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3789, &_S3790, _S3655);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3791;
    (&_S3791)->primal_0 = _S3653.primal_0;
    (&_S3791)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3792;
    (&_S3792)->primal_0 = _S3673;
    (&_S3792)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3791, &_S3792, _S3655);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3793;
    (&_S3793)->primal_0 = _S3653.primal_0;
    (&_S3793)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3794;
    (&_S3794)->primal_0 = _S3669;
    (&_S3794)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3793, &_S3794, _S3655);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3795;
    (&_S3795)->primal_0 = _S3653.primal_0;
    (&_S3795)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3796;
    (&_S3796)->primal_0 = _S3665;
    (&_S3796)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3795, &_S3796, _S3655);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3797;
    (&_S3797)->primal_0 = _S3653.primal_0;
    (&_S3797)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3798;
    (&_S3798)->primal_0 = _S3675.p_0[0U];
    (&_S3798)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3797, &_S3798, _S3655);
    float3  _S3799 = - _S3786.differential_0 + _S3792.differential_0;
    float3  _S3800 = _S3672 * _S3799;
    float3  _S3801 = _S3658.rows[2U] * _S3799;
    float _S3802 = _S3662 * (_S3801.x + _S3801.y + _S3801.z);
    float3  _S3803 = - _S3788.differential_0 + _S3794.differential_0;
    float3  _S3804 = _S3668 * _S3803;
    float3  _S3805 = _S3658.rows[1U] * _S3803;
    float _S3806 = _S3662 * (_S3805.x + _S3805.y + _S3805.z);
    float3  _S3807 = - _S3790.differential_0 + _S3796.differential_0;
    float3  _S3808 = _S3664 * _S3807;
    float3  _S3809 = _S3658.rows[0U] * _S3807;
    float _S3810 = _S3662 * (_S3809.x + _S3809.y + _S3809.z);
    Matrix<float, 3, 3>  _S3811 = _S3735;
    _S3811[2U] = _S3800;
    _S3811[1U] = _S3804;
    _S3811[0U] = _S3808;
    Matrix<float, 3, 3>  _S3812 = transpose_0(transpose_0(_S3811));
    float _S3813 = 2.0f * - _S3812.rows[int(2)].z;
    float _S3814 = 2.0f * _S3812.rows[int(2)].y;
    float _S3815 = 2.0f * _S3812.rows[int(2)].x;
    float _S3816 = 2.0f * _S3812.rows[int(1)].z;
    float _S3817 = 2.0f * - _S3812.rows[int(1)].y;
    float _S3818 = 2.0f * _S3812.rows[int(1)].x;
    float _S3819 = 2.0f * _S3812.rows[int(0)].z;
    float _S3820 = 2.0f * _S3812.rows[int(0)].y;
    float _S3821 = 2.0f * - _S3812.rows[int(0)].x;
    float _S3822 = - _S3818 + _S3820;
    float _S3823 = _S3815 + - _S3819;
    float _S3824 = - _S3814 + _S3816;
    float _S3825 = _S3814 + _S3816;
    float _S3826 = _S3815 + _S3819;
    float _S3827 = _S3818 + _S3820;
    float _S3828 = _S3649.primal_0.w * (_S3817 + _S3821);
    float _S3829 = _S3649.primal_0.z * (_S3813 + _S3821);
    float _S3830 = _S3649.primal_0.y * (_S3813 + _S3817);
    float _S3831 = _S3649.primal_0.x * _S3822 + _S3649.primal_0.z * _S3825 + _S3649.primal_0.y * _S3826 + _S3828 + _S3828;
    float _S3832 = _S3649.primal_0.x * _S3823 + _S3649.primal_0.w * _S3825 + _S3649.primal_0.y * _S3827 + _S3829 + _S3829;
    float _S3833 = _S3649.primal_0.x * _S3824 + _S3649.primal_0.w * _S3826 + _S3649.primal_0.z * _S3827 + _S3830 + _S3830;
    float _S3834 = _S3649.primal_0.w * _S3822 + _S3649.primal_0.z * _S3823 + _S3649.primal_0.y * _S3824;
    float3  _S3835 = _S3655;
    *&((&_S3835)->z) = _S3802;
    *&((&_S3835)->y) = _S3806;
    *&((&_S3835)->x) = _S3810;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3836;
    (&_S3836)->primal_0 = _S3650.primal_0;
    (&_S3836)->differential_0 = _S3655;
    s_bwd_prop_exp_1(&_S3836, _S3835);
    Matrix<float, 2, 2>  _S3837 = _S3773;
    _S3837[int(1)] = _S3782;
    _S3837[int(0)] = _S3784;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3838;
    (&_S3838)->primal_0 = mean_c_34;
    (&_S3838)->differential_0 = _S3655;
    s_bwd_length_impl_1(&_S3838, 0.0f);
    float3  _S3839 = _S3838.differential_0 + _S3758;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3840;
    (&_S3840)->primal_0 = _S3653.primal_0;
    (&_S3840)->differential_0 = _S3735;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3841;
    (&_S3841)->primal_0 = _S3648.primal_0;
    (&_S3841)->differential_0 = _S3655;
    s_bwd_prop_mul_1(&_S3840, &_S3841, _S3839);
    float3  _S3842 = _S3839 + _S3738.differential_0;
    dpt_4->primal_0 = (*dpt_4).primal_0;
    dpt_4->differential_0 = _S3842;
    Matrix<float, 3, 3>  _S3843 = _S3785.differential_0 + _S3787.differential_0 + _S3789.differential_0 + _S3791.differential_0 + _S3793.differential_0 + _S3795.differential_0 + _S3797.differential_0 + _S3840.differential_0 + _S3739;
    dpR_5->primal_0 = (*dpR_5).primal_0;
    dpR_5->differential_0 = _S3843;
    dpsv_colors_3->primal_0 = dpsv_colors_3->primal_0;
    dpsv_colors_3->differential_0 = _S3755;
    dpsv_sites_3->primal_0 = dpsv_sites_3->primal_0;
    dpsv_sites_3->differential_0 = _S3757;
    dpin_opacity_3->primal_0 = (*dpin_opacity_3).primal_0;
    dpin_opacity_3->differential_0 = _S3765;
    float3  _S3844 = _S3836.differential_0 + _S3741;
    dpscale_4->primal_0 = (*dpscale_4).primal_0;
    dpscale_4->differential_0 = _S3844;
    float4  _S3845 = make_float4 (0.0f);
    *&((&_S3845)->w) = _S3831;
    *&((&_S3845)->z) = _S3832;
    *&((&_S3845)->y) = _S3833;
    *&((&_S3845)->x) = _S3834;
    dpquat_4->primal_0 = (*dpquat_4).primal_0;
    dpquat_4->differential_0 = _S3845;
    float3  _S3846 = _S3786.differential_0 + _S3792.differential_0 + _S3788.differential_0 + _S3794.differential_0 + _S3790.differential_0 + _S3796.differential_0 + _S3841.differential_0 + _S3733;
    dpmean_5->primal_0 = (*dpmean_5).primal_0;
    dpmean_5->differential_0 = _S3846;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_0(bool _S3847, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3848, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S3849, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3850, DiffPair_float_0 * _S3851, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3852, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3853, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3854, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3855, float _S3856, float _S3857, float _S3858, float _S3859, FixedArray<float, 10>  * _S3860, uint _S3861, uint _S3862, float _S3863, float _S3864, float2  _S3865, float _S3866, float3  _S3867, float _S3868, float3  _S3869)
{
    FixedArray<float3 , 2>  _S3870 = _S3852->primal_0;
    FixedArray<float3 , 2>  _S3871 = _S3853->primal_0;
    int4  _S3872;
    float2  _S3873;
    float _S3874;
    float3  _S3875;
    float _S3876;
    float3  _S3877;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S3878;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(_S3847, (*_S3848).primal_0, (*_S3849).primal_0, (*_S3850).primal_0, (*_S3851).primal_0, &_S3870, &_S3871, (*_S3854).primal_0, (*_S3855).primal_0, _S3856, _S3857, _S3858, _S3859, _S3860, _S3861, _S3862, _S3863, _S3864, &_S3872, &_S3873, &_S3874, &_S3875, &_S3876, &_S3877, &_S3878);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S3879 = _S3878;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(_S3847, _S3848, _S3849, _S3850, _S3851, _S3852, _S3853, _S3854, _S3855, _S3856, _S3857, _S3858, _S3859, _S3860, _S3861, _S3862, _S3863, _S3864, _S3865, _S3866, _S3867, _S3868, _S3869, &_S3879);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_36, float3  mean_37, float4  quat_38, float3  scale_37, float in_opacity_32, FixedArray<float3 , 2>  * sv_sites_17, FixedArray<float3 , 2>  * sv_colors_17, Matrix<float, 3, 3>  R_39, float3  t_35, float fx_45, float fy_45, float cx_40, float cy_40, FixedArray<float, 10>  * dist_coeffs_49, uint image_width_36, uint image_height_36, float2  v_mean2d_6, float v_depth_7, float3  v_conic_6, float v_opacity_8, float3  v_rgb_7, float3  * v_mean_8, float4  * v_quat_7, float3  * v_scale_7, float * v_in_opacity_6, FixedArray<float3 , 2>  * v_sv_dirs_1, FixedArray<float3 , 2>  * v_sv_colors_1, Matrix<float, 3, 3>  * v_R_8, float3  * v_t_7)
{
    float3  _S3880 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_3;
    (&dp_mean_3)->primal_0 = mean_37;
    (&dp_mean_3)->differential_0 = _S3880;
    float4  _S3881 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_2;
    (&dp_quat_2)->primal_0 = quat_38;
    (&dp_quat_2)->differential_0 = _S3881;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_2;
    (&dp_scale_2)->primal_0 = scale_37;
    (&dp_scale_2)->differential_0 = _S3880;
    DiffPair_float_0 dp_in_opacity_1;
    (&dp_in_opacity_1)->primal_0 = in_opacity_32;
    (&dp_in_opacity_1)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S3882 = { _S3880, _S3880 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_1;
    (&dp_sv_dirs_1)->primal_0 = *sv_sites_17;
    (&dp_sv_dirs_1)->differential_0 = _S3882;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_1;
    (&dp_sv_colors_1)->primal_0 = *sv_colors_17;
    (&dp_sv_colors_1)->differential_0 = _S3882;
    Matrix<float, 3, 3>  _S3883 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_3;
    (&dp_R_3)->primal_0 = R_39;
    (&dp_R_3)->differential_0 = _S3883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_2;
    (&dp_t_2)->primal_0 = t_35;
    (&dp_t_2)->differential_0 = _S3880;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_0(antialiased_36, &dp_mean_3, &dp_quat_2, &dp_scale_2, &dp_in_opacity_1, &dp_sv_dirs_1, &dp_sv_colors_1, &dp_R_3, &dp_t_2, fx_45, fy_45, cx_40, cy_40, dist_coeffs_49, image_width_36, image_height_36, 0.0f, 1.00000001504746622e+30f, v_mean2d_6, v_depth_7, v_conic_6, v_opacity_8, v_rgb_7);
    *v_mean_8 = dp_mean_3.differential_0;
    *v_quat_7 = dp_quat_2.differential_0;
    *v_scale_7 = dp_scale_2.differential_0;
    *v_in_opacity_6 = dp_in_opacity_1.differential_0;
    *v_sv_dirs_1 = (&dp_sv_dirs_1)->differential_0;
    *v_sv_colors_1 = (&dp_sv_colors_1)->differential_0;
    *v_R_8 = dp_R_3.differential_0;
    *v_t_7 = dp_t_2.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_37, float3  mean_38, float4  quat_39, float3  scale_38, float in_opacity_33, FixedArray<float3 , 3>  * sv_sites_18, FixedArray<float3 , 3>  * sv_colors_18, Matrix<float, 3, 3>  R_40, float3  t_36, float fx_46, float fy_46, float cx_41, float cy_41, FixedArray<float, 10>  * dist_coeffs_50, uint image_width_37, uint image_height_37, float near_plane_30, float far_plane_30, int4  * aabb_xyxy_28, float2  * mean2d_34, float * depth_27, float3  * conic_26, float * opacity_30, float3  * rgb_28)
{
    float3  mean_c_35 = mul_0(R_40, mean_38) + t_36;
    float4  intrins_32 = make_float4 (fx_46, fy_46, cx_41, cy_41);
    float3  _S3884 = exp_0(scale_38);
    float x_58 = quat_39.y;
    float x2_41 = x_58 * x_58;
    float y2_41 = quat_39.z * quat_39.z;
    float z2_56 = quat_39.w * quat_39.w;
    float xy_41 = quat_39.y * quat_39.z;
    float xz_41 = quat_39.y * quat_39.w;
    float yz_41 = quat_39.z * quat_39.w;
    float wx_41 = quat_39.x * quat_39.y;
    float wy_41 = quat_39.x * quat_39.z;
    float wz_41 = quat_39.x * quat_39.w;
    Matrix<float, 3, 3>  _S3885 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_41 + z2_56), 2.0f * (xy_41 + wz_41), 2.0f * (xz_41 - wy_41), 2.0f * (xy_41 - wz_41), 1.0f - 2.0f * (x2_41 + z2_56), 2.0f * (yz_41 + wx_41), 2.0f * (xz_41 + wy_41), 2.0f * (yz_41 - wx_41), 1.0f - 2.0f * (x2_41 + y2_41))));
    SigmaPoints_0 ret_20;
    (&ret_20)->p_0[int(0)] = mean_38;
    (&ret_20)->w_mean_0[int(0)] = 0.0f;
    (&ret_20)->w_cov_0[int(0)] = 2.0f;
    float _S3886 = (F32_sqrt((3.0f)));
    float3  delta_78 = make_float3 (_S3886 * _S3884.x) * _S3885.rows[0U];
    float3  _S3887 = mean_38 + delta_78;
    float3  _S3888 = mean_38 - delta_78;
    float3  delta_79 = make_float3 (_S3886 * _S3884.y) * _S3885.rows[1U];
    float3  _S3889 = mean_38 + delta_79;
    float3  _S3890 = mean_38 - delta_79;
    float3  delta_80 = make_float3 (_S3886 * _S3884.z) * _S3885.rows[2U];
    float3  _S3891 = mean_38 + delta_80;
    float3  _S3892 = mean_38 - delta_80;
    (&ret_20)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_20)->p_0[0U] = mul_0(R_40, (&ret_20)->p_0[0U]) + t_36;
    (&ret_20)->p_0[1U] = mul_0(R_40, _S3887) + t_36;
    (&ret_20)->p_0[2U] = mul_0(R_40, _S3889) + t_36;
    (&ret_20)->p_0[3U] = mul_0(R_40, _S3891) + t_36;
    (&ret_20)->p_0[4U] = mul_0(R_40, _S3888) + t_36;
    (&ret_20)->p_0[5U] = mul_0(R_40, _S3890) + t_36;
    (&ret_20)->p_0[6U] = mul_0(R_40, _S3892) + t_36;
    SigmaPoints_0 _S3893 = ret_20;
    Matrix<float, 2, 2>  covar2d_26;
    bool _S3894 = persp_proj_3dgs_ut_1(&_S3893, intrins_32, dist_coeffs_50, image_width_37, image_height_37, &covar2d_26, mean2d_34);
    float det_orig_36 = *&(((&covar2d_26)->rows + (int(0)))->x) * *&(((&covar2d_26)->rows + (int(1)))->y) - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x);
    float _S3895 = *&(((&covar2d_26)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(0)))->x) = _S3895;
    float _S3896 = *&(((&covar2d_26)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(1)))->y) = _S3896;
    float compensation_27 = (F32_sqrt(((F32_max((0.0f), (det_orig_36 / (_S3895 * _S3896 - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x))))))));
    *opacity_30 = 1.0f / (1.0f + (F32_exp((- in_opacity_33))));
    if(antialiased_37)
    {
        *opacity_30 = *opacity_30 * compensation_27;
    }
    float extend_26 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_30 / 0.00392156885936856f)))))))));
    float radius_x_28 = extend_26 * (F32_sqrt((covar2d_26[int(0)].x)));
    float radius_y_28 = extend_26 * (F32_sqrt((covar2d_26[int(1)].y)));
    *aabb_xyxy_28 = make_int4 (int((F32_floor(((*mean2d_34).x - radius_x_28)))), int((F32_floor(((*mean2d_34).y - radius_y_28)))), int((F32_ceil(((*mean2d_34).x + radius_x_28)))), int((F32_ceil(((*mean2d_34).y + radius_y_28)))));
    *depth_27 = 0.5f * (F32_log((dot_0(mean_c_35, mean_c_35) + 9.99999997475242708e-07f)));
    *conic_26 = exp_0(- scale_38);
    float3  _S3897 = mean_38 - - mul_0(transpose_0(R_40), t_36);
    float3  _S3898 = _S3897 * make_float3 ((F32_rsqrt((dot_0(_S3897, _S3897)))));
    float _S3899 = dot_0((*sv_sites_18)[int(2)], _S3898);
    float w_74 = (F32_exp((dot_0((*sv_sites_18)[int(0)], _S3898) - _S3899)));
    float w_75 = (F32_exp((dot_0((*sv_sites_18)[int(1)], _S3898) - _S3899)));
    float w_76 = (F32_exp((0.0f)));
    *rgb_28 = max_0((make_float3 (w_74) * (*sv_colors_18)[int(0)] + make_float3 (w_75) * (*sv_colors_18)[int(1)] + make_float3 (w_76) * (*sv_colors_18)[int(2)]) / make_float3 (w_74 + w_75 + w_76) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_38, float3  mean_39, float4  quat_40, float3  scale_39, float in_opacity_34, FixedArray<float3 , 3>  * sv_sites_19, FixedArray<float3 , 3>  * sv_colors_19, Matrix<float, 3, 3>  R_41, float3  t_37, float fx_47, float fy_47, float cx_42, float cy_42, FixedArray<float, 10>  * dist_coeffs_51, uint image_width_38, uint image_height_38, float near_plane_31, float far_plane_31, int4  * aabb_xyxy_29, float2  * mean2d_35, float * depth_28, float3  * conic_27, float * opacity_31, float3  * rgb_29)
{
    float3  mean_c_36 = mul_0(R_41, mean_39) + t_37;
    float4  intrins_33 = make_float4 (fx_47, fy_47, cx_42, cy_42);
    float3  _S3900 = exp_0(scale_39);
    float x_59 = quat_40.y;
    float x2_42 = x_59 * x_59;
    float y2_42 = quat_40.z * quat_40.z;
    float z2_57 = quat_40.w * quat_40.w;
    float xy_42 = quat_40.y * quat_40.z;
    float xz_42 = quat_40.y * quat_40.w;
    float yz_42 = quat_40.z * quat_40.w;
    float wx_42 = quat_40.x * quat_40.y;
    float wy_42 = quat_40.x * quat_40.z;
    float wz_42 = quat_40.x * quat_40.w;
    Matrix<float, 3, 3>  _S3901 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_42 + z2_57), 2.0f * (xy_42 + wz_42), 2.0f * (xz_42 - wy_42), 2.0f * (xy_42 - wz_42), 1.0f - 2.0f * (x2_42 + z2_57), 2.0f * (yz_42 + wx_42), 2.0f * (xz_42 + wy_42), 2.0f * (yz_42 - wx_42), 1.0f - 2.0f * (x2_42 + y2_42))));
    SigmaPoints_0 ret_21;
    (&ret_21)->p_0[int(0)] = mean_39;
    (&ret_21)->w_mean_0[int(0)] = 0.0f;
    (&ret_21)->w_cov_0[int(0)] = 2.0f;
    float _S3902 = (F32_sqrt((3.0f)));
    float3  delta_81 = make_float3 (_S3902 * _S3900.x) * _S3901.rows[0U];
    float3  _S3903 = mean_39 + delta_81;
    float3  _S3904 = mean_39 - delta_81;
    float3  delta_82 = make_float3 (_S3902 * _S3900.y) * _S3901.rows[1U];
    float3  _S3905 = mean_39 + delta_82;
    float3  _S3906 = mean_39 - delta_82;
    float3  delta_83 = make_float3 (_S3902 * _S3900.z) * _S3901.rows[2U];
    float3  _S3907 = mean_39 + delta_83;
    float3  _S3908 = mean_39 - delta_83;
    (&ret_21)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_21)->p_0[0U] = mul_0(R_41, (&ret_21)->p_0[0U]) + t_37;
    (&ret_21)->p_0[1U] = mul_0(R_41, _S3903) + t_37;
    (&ret_21)->p_0[2U] = mul_0(R_41, _S3905) + t_37;
    (&ret_21)->p_0[3U] = mul_0(R_41, _S3907) + t_37;
    (&ret_21)->p_0[4U] = mul_0(R_41, _S3904) + t_37;
    (&ret_21)->p_0[5U] = mul_0(R_41, _S3906) + t_37;
    (&ret_21)->p_0[6U] = mul_0(R_41, _S3908) + t_37;
    SigmaPoints_0 _S3909 = ret_21;
    Matrix<float, 2, 2>  covar2d_27;
    bool _S3910 = fisheye_proj_3dgs_ut_1(&_S3909, intrins_33, dist_coeffs_51, &covar2d_27, mean2d_35);
    float det_orig_37 = *&(((&covar2d_27)->rows + (int(0)))->x) * *&(((&covar2d_27)->rows + (int(1)))->y) - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x);
    float _S3911 = *&(((&covar2d_27)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(0)))->x) = _S3911;
    float _S3912 = *&(((&covar2d_27)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(1)))->y) = _S3912;
    float compensation_28 = (F32_sqrt(((F32_max((0.0f), (det_orig_37 / (_S3911 * _S3912 - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x))))))));
    *opacity_31 = 1.0f / (1.0f + (F32_exp((- in_opacity_34))));
    if(antialiased_38)
    {
        *opacity_31 = *opacity_31 * compensation_28;
    }
    float extend_27 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_31 / 0.00392156885936856f)))))))));
    float radius_x_29 = extend_27 * (F32_sqrt((covar2d_27[int(0)].x)));
    float radius_y_29 = extend_27 * (F32_sqrt((covar2d_27[int(1)].y)));
    *aabb_xyxy_29 = make_int4 (int((F32_floor(((*mean2d_35).x - radius_x_29)))), int((F32_floor(((*mean2d_35).y - radius_y_29)))), int((F32_ceil(((*mean2d_35).x + radius_x_29)))), int((F32_ceil(((*mean2d_35).y + radius_y_29)))));
    *depth_28 = 0.5f * (F32_log((dot_0(mean_c_36, mean_c_36) + 9.99999997475242708e-07f)));
    *conic_27 = exp_0(- scale_39);
    float3  _S3913 = mean_39 - - mul_0(transpose_0(R_41), t_37);
    float3  _S3914 = _S3913 * make_float3 ((F32_rsqrt((dot_0(_S3913, _S3913)))));
    float _S3915 = dot_0((*sv_sites_19)[int(2)], _S3914);
    float w_77 = (F32_exp((dot_0((*sv_sites_19)[int(0)], _S3914) - _S3915)));
    float w_78 = (F32_exp((dot_0((*sv_sites_19)[int(1)], _S3914) - _S3915)));
    float w_79 = (F32_exp((0.0f)));
    *rgb_29 = max_0((make_float3 (w_77) * (*sv_colors_19)[int(0)] + make_float3 (w_78) * (*sv_colors_19)[int(1)] + make_float3 (w_79) * (*sv_colors_19)[int(2)]) / make_float3 (w_77 + w_78 + w_79) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0
{
    FixedArray<float3 , 3>  primal_0;
    FixedArray<float3 , 3>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S3916;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(bool antialiased_39, float3  dpmean_6, float4  dpquat_5, float3  dpscale_5, float dpin_opacity_4, FixedArray<float3 , 3>  * dpsv_sites_4, FixedArray<float3 , 3>  * dpsv_colors_4, Matrix<float, 3, 3>  dpR_6, float3  dpt_5, float fx_48, float fy_48, float cx_43, float cy_43, FixedArray<float, 10>  * dist_coeffs_52, uint image_width_39, uint image_height_39, float near_plane_32, float far_plane_32, int4  * aabb_xyxy_30, float2  * dpmean2d_6, float * dpdepth_5, float3  * dpconic_4, float * dpopacity_6, float3  * dprgb_5, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_18)
{
    Matrix<float, 2, 2>  _S3917 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_18->_S3916 = _S3917;
    float2  _S3918 = make_float2 (0.0f);
    float3  _S3919 = make_float3 (0.0f);
    float3  mean_c_37 = s_primal_ctx_mul_0(dpR_6, dpmean_6) + dpt_5;
    float4  intrins_34 = make_float4 (fx_48, fy_48, cx_43, cy_43);
    float3  _S3920 = s_primal_ctx_exp_0(dpscale_5);
    float _S3921 = dpquat_5.y;
    float x2_43 = _S3921 * _S3921;
    float y2_43 = dpquat_5.z * dpquat_5.z;
    float z2_58 = dpquat_5.w * dpquat_5.w;
    float xy_43 = dpquat_5.y * dpquat_5.z;
    float xz_43 = dpquat_5.y * dpquat_5.w;
    float yz_43 = dpquat_5.z * dpquat_5.w;
    float wx_43 = dpquat_5.x * dpquat_5.y;
    float wy_43 = dpquat_5.x * dpquat_5.z;
    float wz_43 = dpquat_5.x * dpquat_5.w;
    Matrix<float, 3, 3>  _S3922 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_43 + z2_58), 2.0f * (xy_43 + wz_43), 2.0f * (xz_43 - wy_43), 2.0f * (xy_43 - wz_43), 1.0f - 2.0f * (x2_43 + z2_58), 2.0f * (yz_43 + wx_43), 2.0f * (xz_43 + wy_43), 2.0f * (yz_43 - wx_43), 1.0f - 2.0f * (x2_43 + y2_43))));
    FixedArray<float3 , 7>  _S3923 = {
        _S3919, _S3919, _S3919, _S3919, _S3919, _S3919, _S3919
    };
    FixedArray<float, 7>  _S3924 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3925;
    (&_S3925)->p_0 = _S3923;
    (&_S3925)->w_mean_0 = _S3924;
    (&_S3925)->w_cov_0 = _S3924;
    (&_S3925)->p_0[int(0)] = dpmean_6;
    SigmaPoints_0 _S3926 = _S3925;
    (&_S3926)->w_mean_0[int(0)] = 0.0f;
    (&_S3926)->w_cov_0[int(0)] = 2.0f;
    float _S3927 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_84 = make_float3 (_S3927 * _S3920.x) * _S3922.rows[0U];
    float3  _S3928 = dpmean_6 + delta_84;
    float3  _S3929 = dpmean_6 - delta_84;
    float3  delta_85 = make_float3 (_S3927 * _S3920.y) * _S3922.rows[1U];
    float3  _S3930 = dpmean_6 + delta_85;
    float3  _S3931 = dpmean_6 - delta_85;
    float3  delta_86 = make_float3 (_S3927 * _S3920.z) * _S3922.rows[2U];
    float3  _S3932 = dpmean_6 + delta_86;
    float3  _S3933 = dpmean_6 - delta_86;
    (&_S3926)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3926)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3926)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3926)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3926)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3926)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3926)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3926)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3926)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3926)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3926)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3926)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3926)->p_0[0U] = s_primal_ctx_mul_0(dpR_6, _S3925.p_0[0U]) + dpt_5;
    (&_S3926)->p_0[1U] = s_primal_ctx_mul_0(dpR_6, _S3928) + dpt_5;
    (&_S3926)->p_0[2U] = s_primal_ctx_mul_0(dpR_6, _S3930) + dpt_5;
    (&_S3926)->p_0[3U] = s_primal_ctx_mul_0(dpR_6, _S3932) + dpt_5;
    (&_S3926)->p_0[4U] = s_primal_ctx_mul_0(dpR_6, _S3929) + dpt_5;
    (&_S3926)->p_0[5U] = s_primal_ctx_mul_0(dpR_6, _S3931) + dpt_5;
    (&_S3926)->p_0[6U] = s_primal_ctx_mul_0(dpR_6, _S3933) + dpt_5;
    float2  _S3934 = _S3918;
    Matrix<float, 2, 2>  _S3935 = _S3917;
    SigmaPoints_0 _S3936 = _S3926;
    bool _S3937 = persp_proj_3dgs_ut_1(&_S3936, intrins_34, dist_coeffs_52, image_width_39, image_height_39, &_S3935, &_S3934);
    _s_diff_ctx_18->_S3916 = _S3935;
    float2  _S3938 = _S3934;
    float _S3939 = _S3935.rows[int(0)].y * _S3935.rows[int(1)].x;
    float det_orig_38 = _S3935.rows[int(0)].x * _S3935.rows[int(1)].y - _S3939;
    float _S3940 = _S3935.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3941 = _S3935;
    *&(((&_S3941)->rows + (int(0)))->x) = _S3940;
    float _S3942 = _S3935.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3941)->rows + (int(1)))->y) = _S3942;
    Matrix<float, 2, 2>  _S3943 = _S3941;
    Matrix<float, 2, 2>  _S3944 = _S3941;
    float _S3945 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_38 / (_S3940 * _S3942 - _S3939)));
    float _S3946 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_4));
    float _S3947;
    if(antialiased_39)
    {
        _S3947 = _S3946 * _S3945;
    }
    else
    {
        _S3947 = _S3946;
    }
    float _S3948 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S3947 / 0.00392156885936856f)));
    float radius_x_30 = _S3948 * s_primal_ctx_sqrt_0(_S3943.rows[int(0)].x);
    float radius_y_30 = _S3948 * s_primal_ctx_sqrt_0(_S3944.rows[int(1)].y);
    float _S3949 = _S3938.x;
    float _S3950 = _S3938.y;
    float _S3951 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_37, mean_c_37) + 9.99999997475242708e-07f);
    float3  _S3952 = s_primal_ctx_exp_0(- dpscale_5);
    float3  _S3953 = dpmean_6 - - s_primal_ctx_mul_0(transpose_0(dpR_6), dpt_5);
    float3  _S3954 = _S3953 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S3953, _S3953)));
    float _S3955 = s_primal_ctx_dot_0((*dpsv_sites_4)[int(2)], _S3954);
    float _S3956 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(0)], _S3954) - _S3955);
    float _S3957 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(1)], _S3954) - _S3955);
    float _S3958 = s_primal_ctx_exp_1(0.0f);
    float3  _S3959 = s_primal_ctx_max_1((make_float3 (_S3956) * (*dpsv_colors_4)[int(0)] + make_float3 (_S3957) * (*dpsv_colors_4)[int(1)] + make_float3 (_S3958) * (*dpsv_colors_4)[int(2)]) / make_float3 (_S3956 + _S3957 + _S3958) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_30 = make_int4 (int((F32_floor((_S3949 - radius_x_30)))), int((F32_floor((_S3950 - radius_y_30)))), int((F32_ceil((_S3949 + radius_x_30)))), int((F32_ceil((_S3950 + radius_y_30)))));
    *dpmean2d_6 = _S3938;
    *dpdepth_5 = _S3951;
    *dpconic_4 = _S3952;
    *dpopacity_6 = _S3947;
    *dprgb_5 = _S3959;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(bool antialiased_40, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_7, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_6, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_6, DiffPair_float_0 * dpin_opacity_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_5, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_6, float fx_49, float fy_49, float cx_44, float cy_44, FixedArray<float, 10>  * dist_coeffs_53, uint image_width_40, uint image_height_40, float near_plane_33, float far_plane_33, float2  dpmean2d_7, float dpdepth_6, float3  dpconic_5, float dpopacity_7, float3  dprgb_6, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_19)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3960 = *dpmean_7;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S3961 = *dpquat_6;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3962 = *dpscale_6;
    FixedArray<float3 , 3>  _S3963 = dpsv_sites_5->primal_0;
    FixedArray<float3 , 3>  _S3964 = dpsv_colors_5->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3965 = *dpR_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3966 = *dpt_6;
    float3  _S3967 = make_float3 (0.0f);
    float3  mean_c_38 = s_primal_ctx_mul_0((*dpR_7).primal_0, (*dpmean_7).primal_0) + (*dpt_6).primal_0;
    float3  _S3968 = s_primal_ctx_exp_0((*dpscale_6).primal_0);
    float _S3969 = (*dpquat_6).primal_0.y;
    float x2_44 = _S3969 * _S3969;
    float y2_44 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.z;
    float z2_59 = (*dpquat_6).primal_0.w * (*dpquat_6).primal_0.w;
    float xy_44 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.z;
    float xz_44 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.w;
    float yz_44 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.w;
    float wx_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.y;
    float wy_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.z;
    float wz_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.w;
    Matrix<float, 3, 3>  _S3970 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_44 + z2_59), 2.0f * (xy_44 + wz_44), 2.0f * (xz_44 - wy_44), 2.0f * (xy_44 - wz_44), 1.0f - 2.0f * (x2_44 + z2_59), 2.0f * (yz_44 + wx_44), 2.0f * (xz_44 + wy_44), 2.0f * (yz_44 - wx_44), 1.0f - 2.0f * (x2_44 + y2_44))));
    FixedArray<float3 , 7>  _S3971 = {
        _S3967, _S3967, _S3967, _S3967, _S3967, _S3967, _S3967
    };
    FixedArray<float, 7>  _S3972 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3973;
    (&_S3973)->p_0 = _S3971;
    (&_S3973)->w_mean_0 = _S3972;
    (&_S3973)->w_cov_0 = _S3972;
    (&_S3973)->p_0[int(0)] = (*dpmean_7).primal_0;
    float _S3974 = s_primal_ctx_sqrt_0(3.0f);
    float _S3975 = _S3974 * _S3968.x;
    float3  _S3976 = make_float3 (_S3975);
    float3  delta_87 = make_float3 (_S3975) * _S3970.rows[0U];
    float3  _S3977 = (*dpmean_7).primal_0 + delta_87;
    float3  _S3978 = (*dpmean_7).primal_0 - delta_87;
    float _S3979 = _S3974 * _S3968.y;
    float3  _S3980 = make_float3 (_S3979);
    float3  delta_88 = make_float3 (_S3979) * _S3970.rows[1U];
    float3  _S3981 = (*dpmean_7).primal_0 + delta_88;
    float3  _S3982 = (*dpmean_7).primal_0 - delta_88;
    float _S3983 = _S3974 * _S3968.z;
    float3  _S3984 = make_float3 (_S3983);
    float3  delta_89 = make_float3 (_S3983) * _S3970.rows[2U];
    float3  _S3985 = (*dpmean_7).primal_0 + delta_89;
    float3  _S3986 = (*dpmean_7).primal_0 - delta_89;
    SigmaPoints_0 _S3987 = _S3973;
    float _S3988 = *&(((&_s_diff_ctx_19->_S3916)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_19->_S3916)->rows + (int(1)))->x);
    float det_orig_39 = *&(((&_s_diff_ctx_19->_S3916)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_19->_S3916)->rows + (int(1)))->y) - _S3988;
    float _S3989 = *&(((&_s_diff_ctx_19->_S3916)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3990 = _s_diff_ctx_19->_S3916;
    *&(((&_S3990)->rows + (int(0)))->x) = _S3989;
    float _S3991 = *&(((&_s_diff_ctx_19->_S3916)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S3990)->rows + (int(1)))->y) = _S3991;
    Matrix<float, 2, 2>  _S3992 = _S3990;
    Matrix<float, 2, 2>  _S3993 = _S3990;
    float det_blur_27 = _S3989 * _S3991 - _S3988;
    float _S3994 = det_orig_39 / det_blur_27;
    float _S3995 = det_blur_27 * det_blur_27;
    float _S3996 = s_primal_ctx_max_0(0.0f, _S3994);
    float _S3997 = s_primal_ctx_sqrt_0(_S3996);
    float _S3998 = - (*dpin_opacity_5).primal_0;
    float _S3999 = 1.0f + s_primal_ctx_exp_1(_S3998);
    float _S4000 = 1.0f / _S3999;
    float _S4001 = _S3999 * _S3999;
    float _S4002;
    if(antialiased_40)
    {
        _S4002 = _S4000 * _S3997;
    }
    else
    {
        _S4002 = _S4000;
    }
    float _S4003 = _S4002 / 0.00392156885936856f;
    float _S4004 = 2.0f * s_primal_ctx_log_0(_S4003);
    float _S4005 = s_primal_ctx_sqrt_0(_S4004);
    float _S4006 = _S3992.rows[int(0)].x;
    float _S4007 = _S3993.rows[int(1)].y;
    float _S4008 = s_primal_ctx_dot_0(mean_c_38, mean_c_38) + 9.99999997475242708e-07f;
    float3  _S4009 = - _S3962.primal_0;
    Matrix<float, 3, 3>  _S4010 = transpose_0(_S3965.primal_0);
    float3  _S4011 = _S3960.primal_0 - - s_primal_ctx_mul_0(_S4010, _S3966.primal_0);
    float _S4012 = s_primal_ctx_dot_0(_S4011, _S4011);
    float _S4013 = s_primal_ctx_rsqrt_0(_S4012);
    float3  _S4014 = make_float3 (_S4013);
    float3  _S4015 = _S4011 * make_float3 (_S4013);
    float _S4016 = s_primal_ctx_dot_0(_S3963[int(2)], _S4015);
    float _S4017 = s_primal_ctx_dot_0(_S3963[int(0)], _S4015) - _S4016;
    float _S4018 = s_primal_ctx_exp_1(_S4017);
    float3  _S4019 = make_float3 (_S4018);
    float _S4020 = s_primal_ctx_dot_0(_S3963[int(1)], _S4015) - _S4016;
    float _S4021 = s_primal_ctx_exp_1(_S4020);
    float3  _S4022 = make_float3 (_S4021);
    float _S4023 = s_primal_ctx_exp_1(0.0f);
    float3  _S4024 = make_float3 (_S4023);
    float total_w_2 = _S4018 + _S4021 + _S4023;
    float3  _S4025 = make_float3 (total_w_2);
    float3  total_c_2 = make_float3 (_S4018) * _S3964[int(0)] + make_float3 (_S4021) * _S3964[int(1)] + make_float3 (_S4023) * _S3964[int(2)];
    float3  _S4026 = make_float3 (total_w_2 * total_w_2);
    float3  _S4027 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4028;
    (&_S4028)->primal_0 = total_c_2 / make_float3 (total_w_2) + make_float3 (0.5f);
    (&_S4028)->differential_0 = _S3967;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4029;
    (&_S4029)->primal_0 = _S4027;
    (&_S4029)->differential_0 = _S3967;
    s_bwd_prop_max_0(&_S4028, &_S4029, dprgb_6);
    float3  _S4030 = _S4028.differential_0 / _S4026;
    float3  _S4031 = total_c_2 * - _S4030;
    float3  s_diff_total_c_T_2 = _S4025 * _S4030;
    float3  _S4032 = _S4024 * s_diff_total_c_T_2;
    float _S4033 = _S4031.x + _S4031.y + _S4031.z;
    float3  _S4034 = _S4022 * s_diff_total_c_T_2;
    float3  _S4035 = _S3964[int(1)] * s_diff_total_c_T_2;
    float _S4036 = _S4033 + _S4035.x + _S4035.y + _S4035.z;
    DiffPair_float_0 _S4037;
    (&_S4037)->primal_0 = _S4020;
    (&_S4037)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4037, _S4036);
    float _S4038 = - _S4037.differential_0;
    float3  _S4039 = _S4019 * s_diff_total_c_T_2;
    float3  _S4040 = _S3964[int(0)] * s_diff_total_c_T_2;
    float _S4041 = _S4033 + _S4040.x + _S4040.y + _S4040.z;
    DiffPair_float_0 _S4042;
    (&_S4042)->primal_0 = _S4017;
    (&_S4042)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4042, _S4041);
    float _S4043 = _S4038 + - _S4042.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4044;
    (&_S4044)->primal_0 = _S3963[int(2)];
    (&_S4044)->differential_0 = _S3967;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4045;
    (&_S4045)->primal_0 = _S4015;
    (&_S4045)->differential_0 = _S3967;
    s_bwd_prop_dot_0(&_S4044, &_S4045, _S4043);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4046;
    (&_S4046)->primal_0 = _S3963[int(1)];
    (&_S4046)->differential_0 = _S3967;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4047;
    (&_S4047)->primal_0 = _S4015;
    (&_S4047)->differential_0 = _S3967;
    s_bwd_prop_dot_0(&_S4046, &_S4047, _S4037.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4048;
    (&_S4048)->primal_0 = _S3963[int(0)];
    (&_S4048)->differential_0 = _S3967;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4049;
    (&_S4049)->primal_0 = _S4015;
    (&_S4049)->differential_0 = _S3967;
    s_bwd_prop_dot_0(&_S4048, &_S4049, _S4042.differential_0);
    float3  _S4050 = _S4045.differential_0 + _S4047.differential_0 + _S4049.differential_0;
    float3  _S4051 = _S4011 * _S4050;
    float3  _S4052 = _S4014 * _S4050;
    float _S4053 = _S4051.x + _S4051.y + _S4051.z;
    DiffPair_float_0 _S4054;
    (&_S4054)->primal_0 = _S4012;
    (&_S4054)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4054, _S4053);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4055;
    (&_S4055)->primal_0 = _S4011;
    (&_S4055)->differential_0 = _S3967;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4056;
    (&_S4056)->primal_0 = _S4011;
    (&_S4056)->differential_0 = _S3967;
    s_bwd_prop_dot_0(&_S4055, &_S4056, _S4054.differential_0);
    float3  _S4057 = _S4052 + _S4056.differential_0 + _S4055.differential_0;
    float3  _S4058 = - - _S4057;
    Matrix<float, 3, 3>  _S4059 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4060;
    (&_S4060)->primal_0 = _S4010;
    (&_S4060)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4061;
    (&_S4061)->primal_0 = _S3966.primal_0;
    (&_S4061)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4060, &_S4061, _S4058);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4062 = _S4061;
    Matrix<float, 3, 3>  _S4063 = transpose_0(_S4060.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4064;
    (&_S4064)->primal_0 = _S4009;
    (&_S4064)->differential_0 = _S3967;
    s_bwd_prop_exp_1(&_S4064, dpconic_5);
    float3  _S4065 = - _S4064.differential_0;
    float _S4066 = 0.5f * dpdepth_6;
    DiffPair_float_0 _S4067;
    (&_S4067)->primal_0 = _S4008;
    (&_S4067)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4067, _S4066);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4068;
    (&_S4068)->primal_0 = mean_c_38;
    (&_S4068)->differential_0 = _S3967;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4069;
    (&_S4069)->primal_0 = mean_c_38;
    (&_S4069)->differential_0 = _S3967;
    s_bwd_prop_dot_0(&_S4068, &_S4069, _S4067.differential_0);
    DiffPair_float_0 _S4070;
    (&_S4070)->primal_0 = _S4007;
    (&_S4070)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4070, 0.0f);
    DiffPair_float_0 _S4071;
    (&_S4071)->primal_0 = _S4006;
    (&_S4071)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4071, 0.0f);
    DiffPair_float_0 _S4072;
    (&_S4072)->primal_0 = 3.32999992370605469f;
    (&_S4072)->differential_0 = 0.0f;
    DiffPair_float_0 _S4073;
    (&_S4073)->primal_0 = _S4005;
    (&_S4073)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4072, &_S4073, 0.0f);
    DiffPair_float_0 _S4074;
    (&_S4074)->primal_0 = _S4004;
    (&_S4074)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4074, _S4073.differential_0);
    float _S4075 = 2.0f * _S4074.differential_0;
    DiffPair_float_0 _S4076;
    (&_S4076)->primal_0 = _S4003;
    (&_S4076)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4076, _S4075);
    float _S4077 = dpopacity_7 + 254.9999847412109375f * _S4076.differential_0;
    FixedArray<float3 , 3>  _S4078;
    _S4078[int(0)] = _S3967;
    _S4078[int(1)] = _S3967;
    _S4078[int(2)] = _S3967;
    _S4078[int(2)] = _S4032;
    _S4078[int(1)] = _S4034;
    _S4078[int(0)] = _S4039;
    FixedArray<float3 , 3>  _S4079 = {
        _S4078[int(0)], _S4078[int(1)], _S4078[int(2)]
    };
    FixedArray<float3 , 3>  _S4080;
    _S4080[int(0)] = _S3967;
    _S4080[int(1)] = _S3967;
    _S4080[int(2)] = _S3967;
    _S4080[int(2)] = _S4044.differential_0;
    _S4080[int(1)] = _S4046.differential_0;
    _S4080[int(0)] = _S4048.differential_0;
    FixedArray<float3 , 3>  _S4081 = {
        _S4080[int(0)], _S4080[int(1)], _S4080[int(2)]
    };
    float3  _S4082 = _S4069.differential_0 + _S4068.differential_0;
    float2  _S4083 = make_float2 (0.0f, _S4070.differential_0);
    float2  _S4084 = make_float2 (_S4071.differential_0, 0.0f);
    float _S4085;
    if(antialiased_40)
    {
        float _S4086 = _S4000 * _S4077;
        _S4002 = _S3997 * _S4077;
        _S4085 = _S4086;
    }
    else
    {
        _S4002 = _S4077;
        _S4085 = 0.0f;
    }
    float _S4087 = - (_S4002 / _S4001);
    DiffPair_float_0 _S4088;
    (&_S4088)->primal_0 = _S3998;
    (&_S4088)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4088, _S4087);
    float _S4089 = - _S4088.differential_0;
    DiffPair_float_0 _S4090;
    (&_S4090)->primal_0 = _S3996;
    (&_S4090)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4090, _S4085);
    DiffPair_float_0 _S4091;
    (&_S4091)->primal_0 = 0.0f;
    (&_S4091)->differential_0 = 0.0f;
    DiffPair_float_0 _S4092;
    (&_S4092)->primal_0 = _S3994;
    (&_S4092)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4091, &_S4092, _S4090.differential_0);
    float _S4093 = _S4092.differential_0 / _S3995;
    float s_diff_det_blur_T_4 = det_orig_39 * - _S4093;
    float s_diff_det_orig_T_7 = det_blur_27 * _S4093;
    float _S4094 = - s_diff_det_blur_T_4;
    float _S4095 = _S3989 * s_diff_det_blur_T_4;
    float _S4096 = _S3991 * s_diff_det_blur_T_4;
    Matrix<float, 2, 2>  _S4097 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4098 = _S4097;
    _S4098[int(1)] = _S4083;
    _S4098[int(0)] = _S4084;
    float _S4099 = _S4096 + _S4098.rows[int(0)].x;
    float _S4100 = _S4094 + - s_diff_det_orig_T_7;
    float _S4101 = *&(((&_s_diff_ctx_19->_S3916)->rows + (int(0)))->y) * _S4100;
    float _S4102 = *&(((&_s_diff_ctx_19->_S3916)->rows + (int(1)))->x) * _S4100;
    float _S4103 = *&(((&_s_diff_ctx_19->_S3916)->rows + (int(1)))->y) * s_diff_det_orig_T_7;
    float _S4104 = _S4095 + _S4098.rows[int(1)].y + *&(((&_s_diff_ctx_19->_S3916)->rows + (int(0)))->x) * s_diff_det_orig_T_7;
    float2  _S4105 = make_float2 (0.0f);
    float2  _S4106 = _S4105;
    *&((&_S4106)->x) = _S4101;
    *&((&_S4106)->y) = _S4104;
    float _S4107 = _S4099 + _S4103;
    float2  _S4108 = _S4105;
    *&((&_S4108)->y) = _S4102;
    *&((&_S4108)->x) = _S4107;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4109;
    (&_S4109)->primal_0 = _S3965.primal_0;
    (&_S4109)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4110;
    (&_S4110)->primal_0 = _S3986;
    (&_S4110)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4109, &_S4110, _S3967);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4111;
    (&_S4111)->primal_0 = _S3965.primal_0;
    (&_S4111)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4112;
    (&_S4112)->primal_0 = _S3982;
    (&_S4112)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4111, &_S4112, _S3967);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4113;
    (&_S4113)->primal_0 = _S3965.primal_0;
    (&_S4113)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4114;
    (&_S4114)->primal_0 = _S3978;
    (&_S4114)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4113, &_S4114, _S3967);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4115;
    (&_S4115)->primal_0 = _S3965.primal_0;
    (&_S4115)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4116;
    (&_S4116)->primal_0 = _S3985;
    (&_S4116)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4115, &_S4116, _S3967);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4117;
    (&_S4117)->primal_0 = _S3965.primal_0;
    (&_S4117)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4118;
    (&_S4118)->primal_0 = _S3981;
    (&_S4118)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4117, &_S4118, _S3967);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4119;
    (&_S4119)->primal_0 = _S3965.primal_0;
    (&_S4119)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4120;
    (&_S4120)->primal_0 = _S3977;
    (&_S4120)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4119, &_S4120, _S3967);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4121;
    (&_S4121)->primal_0 = _S3965.primal_0;
    (&_S4121)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4122;
    (&_S4122)->primal_0 = _S3987.p_0[0U];
    (&_S4122)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4121, &_S4122, _S3967);
    float3  _S4123 = - _S4110.differential_0 + _S4116.differential_0;
    float3  _S4124 = _S3984 * _S4123;
    float3  _S4125 = _S3970.rows[2U] * _S4123;
    float _S4126 = _S3974 * (_S4125.x + _S4125.y + _S4125.z);
    float3  _S4127 = - _S4112.differential_0 + _S4118.differential_0;
    float3  _S4128 = _S3980 * _S4127;
    float3  _S4129 = _S3970.rows[1U] * _S4127;
    float _S4130 = _S3974 * (_S4129.x + _S4129.y + _S4129.z);
    float3  _S4131 = - _S4114.differential_0 + _S4120.differential_0;
    float3  _S4132 = _S3976 * _S4131;
    float3  _S4133 = _S3970.rows[0U] * _S4131;
    float _S4134 = _S3974 * (_S4133.x + _S4133.y + _S4133.z);
    Matrix<float, 3, 3>  _S4135 = _S4059;
    _S4135[2U] = _S4124;
    _S4135[1U] = _S4128;
    _S4135[0U] = _S4132;
    Matrix<float, 3, 3>  _S4136 = transpose_0(transpose_0(_S4135));
    float _S4137 = 2.0f * - _S4136.rows[int(2)].z;
    float _S4138 = 2.0f * _S4136.rows[int(2)].y;
    float _S4139 = 2.0f * _S4136.rows[int(2)].x;
    float _S4140 = 2.0f * _S4136.rows[int(1)].z;
    float _S4141 = 2.0f * - _S4136.rows[int(1)].y;
    float _S4142 = 2.0f * _S4136.rows[int(1)].x;
    float _S4143 = 2.0f * _S4136.rows[int(0)].z;
    float _S4144 = 2.0f * _S4136.rows[int(0)].y;
    float _S4145 = 2.0f * - _S4136.rows[int(0)].x;
    float _S4146 = - _S4142 + _S4144;
    float _S4147 = _S4139 + - _S4143;
    float _S4148 = - _S4138 + _S4140;
    float _S4149 = _S4138 + _S4140;
    float _S4150 = _S4139 + _S4143;
    float _S4151 = _S4142 + _S4144;
    float _S4152 = _S3961.primal_0.w * (_S4141 + _S4145);
    float _S4153 = _S3961.primal_0.z * (_S4137 + _S4145);
    float _S4154 = _S3961.primal_0.y * (_S4137 + _S4141);
    float _S4155 = _S3961.primal_0.x * _S4146 + _S3961.primal_0.z * _S4149 + _S3961.primal_0.y * _S4150 + _S4152 + _S4152;
    float _S4156 = _S3961.primal_0.x * _S4147 + _S3961.primal_0.w * _S4149 + _S3961.primal_0.y * _S4151 + _S4153 + _S4153;
    float _S4157 = _S3961.primal_0.x * _S4148 + _S3961.primal_0.w * _S4150 + _S3961.primal_0.z * _S4151 + _S4154 + _S4154;
    float _S4158 = _S3961.primal_0.w * _S4146 + _S3961.primal_0.z * _S4147 + _S3961.primal_0.y * _S4148;
    float3  _S4159 = _S3967;
    *&((&_S4159)->z) = _S4126;
    *&((&_S4159)->y) = _S4130;
    *&((&_S4159)->x) = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4160;
    (&_S4160)->primal_0 = _S3962.primal_0;
    (&_S4160)->differential_0 = _S3967;
    s_bwd_prop_exp_1(&_S4160, _S4159);
    Matrix<float, 2, 2>  _S4161 = _S4097;
    _S4161[int(1)] = _S4106;
    _S4161[int(0)] = _S4108;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4162;
    (&_S4162)->primal_0 = _S3965.primal_0;
    (&_S4162)->differential_0 = _S4059;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4163;
    (&_S4163)->primal_0 = _S3960.primal_0;
    (&_S4163)->differential_0 = _S3967;
    s_bwd_prop_mul_1(&_S4162, &_S4163, _S4082);
    float3  _S4164 = _S4082 + _S4062.differential_0;
    dpt_6->primal_0 = (*dpt_6).primal_0;
    dpt_6->differential_0 = _S4164;
    Matrix<float, 3, 3>  _S4165 = _S4109.differential_0 + _S4111.differential_0 + _S4113.differential_0 + _S4115.differential_0 + _S4117.differential_0 + _S4119.differential_0 + _S4121.differential_0 + _S4162.differential_0 + _S4063;
    dpR_7->primal_0 = (*dpR_7).primal_0;
    dpR_7->differential_0 = _S4165;
    dpsv_colors_5->primal_0 = dpsv_colors_5->primal_0;
    dpsv_colors_5->differential_0 = _S4079;
    dpsv_sites_5->primal_0 = dpsv_sites_5->primal_0;
    dpsv_sites_5->differential_0 = _S4081;
    dpin_opacity_5->primal_0 = (*dpin_opacity_5).primal_0;
    dpin_opacity_5->differential_0 = _S4089;
    float3  _S4166 = _S4160.differential_0 + _S4065;
    dpscale_6->primal_0 = (*dpscale_6).primal_0;
    dpscale_6->differential_0 = _S4166;
    float4  _S4167 = make_float4 (0.0f);
    *&((&_S4167)->w) = _S4155;
    *&((&_S4167)->z) = _S4156;
    *&((&_S4167)->y) = _S4157;
    *&((&_S4167)->x) = _S4158;
    dpquat_6->primal_0 = (*dpquat_6).primal_0;
    dpquat_6->differential_0 = _S4167;
    float3  _S4168 = _S4110.differential_0 + _S4116.differential_0 + _S4112.differential_0 + _S4118.differential_0 + _S4114.differential_0 + _S4120.differential_0 + _S4163.differential_0 + _S4057;
    dpmean_7->primal_0 = (*dpmean_7).primal_0;
    dpmean_7->differential_0 = _S4168;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_1(bool _S4169, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4170, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4171, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4172, DiffPair_float_0 * _S4173, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4174, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4175, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4176, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4177, float _S4178, float _S4179, float _S4180, float _S4181, FixedArray<float, 10>  * _S4182, uint _S4183, uint _S4184, float _S4185, float _S4186, float2  _S4187, float _S4188, float3  _S4189, float _S4190, float3  _S4191)
{
    FixedArray<float3 , 3>  _S4192 = _S4174->primal_0;
    FixedArray<float3 , 3>  _S4193 = _S4175->primal_0;
    int4  _S4194;
    float2  _S4195;
    float _S4196;
    float3  _S4197;
    float _S4198;
    float3  _S4199;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S4200;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(_S4169, (*_S4170).primal_0, (*_S4171).primal_0, (*_S4172).primal_0, (*_S4173).primal_0, &_S4192, &_S4193, (*_S4176).primal_0, (*_S4177).primal_0, _S4178, _S4179, _S4180, _S4181, _S4182, _S4183, _S4184, _S4185, _S4186, &_S4194, &_S4195, &_S4196, &_S4197, &_S4198, &_S4199, &_S4200);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S4201 = _S4200;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(_S4169, _S4170, _S4171, _S4172, _S4173, _S4174, _S4175, _S4176, _S4177, _S4178, _S4179, _S4180, _S4181, _S4182, _S4183, _S4184, _S4185, _S4186, _S4187, _S4188, _S4189, _S4190, _S4191, &_S4201);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_41, float3  mean_40, float4  quat_41, float3  scale_40, float in_opacity_35, FixedArray<float3 , 3>  * sv_sites_20, FixedArray<float3 , 3>  * sv_colors_20, Matrix<float, 3, 3>  R_42, float3  t_38, float fx_50, float fy_50, float cx_45, float cy_45, FixedArray<float, 10>  * dist_coeffs_54, uint image_width_41, uint image_height_41, float2  v_mean2d_7, float v_depth_8, float3  v_conic_7, float v_opacity_9, float3  v_rgb_8, float3  * v_mean_9, float4  * v_quat_8, float3  * v_scale_8, float * v_in_opacity_7, FixedArray<float3 , 3>  * v_sv_dirs_2, FixedArray<float3 , 3>  * v_sv_colors_2, Matrix<float, 3, 3>  * v_R_9, float3  * v_t_8)
{
    float3  _S4202 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_4;
    (&dp_mean_4)->primal_0 = mean_40;
    (&dp_mean_4)->differential_0 = _S4202;
    float4  _S4203 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_3;
    (&dp_quat_3)->primal_0 = quat_41;
    (&dp_quat_3)->differential_0 = _S4203;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_3;
    (&dp_scale_3)->primal_0 = scale_40;
    (&dp_scale_3)->differential_0 = _S4202;
    DiffPair_float_0 dp_in_opacity_2;
    (&dp_in_opacity_2)->primal_0 = in_opacity_35;
    (&dp_in_opacity_2)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S4204 = { _S4202, _S4202, _S4202 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_2;
    (&dp_sv_dirs_2)->primal_0 = *sv_sites_20;
    (&dp_sv_dirs_2)->differential_0 = _S4204;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_2;
    (&dp_sv_colors_2)->primal_0 = *sv_colors_20;
    (&dp_sv_colors_2)->differential_0 = _S4204;
    Matrix<float, 3, 3>  _S4205 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_4;
    (&dp_R_4)->primal_0 = R_42;
    (&dp_R_4)->differential_0 = _S4205;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_3;
    (&dp_t_3)->primal_0 = t_38;
    (&dp_t_3)->differential_0 = _S4202;
    s_bwd_projection_3dgut_sv_persp_differentiable_1(antialiased_41, &dp_mean_4, &dp_quat_3, &dp_scale_3, &dp_in_opacity_2, &dp_sv_dirs_2, &dp_sv_colors_2, &dp_R_4, &dp_t_3, fx_50, fy_50, cx_45, cy_45, dist_coeffs_54, image_width_41, image_height_41, 0.0f, 1.00000001504746622e+30f, v_mean2d_7, v_depth_8, v_conic_7, v_opacity_9, v_rgb_8);
    *v_mean_9 = dp_mean_4.differential_0;
    *v_quat_8 = dp_quat_3.differential_0;
    *v_scale_8 = dp_scale_3.differential_0;
    *v_in_opacity_7 = dp_in_opacity_2.differential_0;
    *v_sv_dirs_2 = (&dp_sv_dirs_2)->differential_0;
    *v_sv_colors_2 = (&dp_sv_colors_2)->differential_0;
    *v_R_9 = dp_R_4.differential_0;
    *v_t_8 = dp_t_3.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S4206;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_42, float3  dpmean_8, float4  dpquat_7, float3  dpscale_7, float dpin_opacity_6, FixedArray<float3 , 3>  * dpsv_sites_6, FixedArray<float3 , 3>  * dpsv_colors_6, Matrix<float, 3, 3>  dpR_8, float3  dpt_7, float fx_51, float fy_51, float cx_46, float cy_46, FixedArray<float, 10>  * dist_coeffs_55, uint image_width_42, uint image_height_42, float near_plane_34, float far_plane_34, int4  * aabb_xyxy_31, float2  * dpmean2d_8, float * dpdepth_7, float3  * dpconic_6, float * dpopacity_8, float3  * dprgb_7, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_20)
{
    Matrix<float, 2, 2>  _S4207 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_20->_S4206 = _S4207;
    float2  _S4208 = make_float2 (0.0f);
    float3  _S4209 = make_float3 (0.0f);
    float3  mean_c_39 = s_primal_ctx_mul_0(dpR_8, dpmean_8) + dpt_7;
    float4  intrins_35 = make_float4 (fx_51, fy_51, cx_46, cy_46);
    float3  _S4210 = s_primal_ctx_exp_0(dpscale_7);
    float _S4211 = dpquat_7.y;
    float x2_45 = _S4211 * _S4211;
    float y2_45 = dpquat_7.z * dpquat_7.z;
    float z2_60 = dpquat_7.w * dpquat_7.w;
    float xy_45 = dpquat_7.y * dpquat_7.z;
    float xz_45 = dpquat_7.y * dpquat_7.w;
    float yz_45 = dpquat_7.z * dpquat_7.w;
    float wx_45 = dpquat_7.x * dpquat_7.y;
    float wy_45 = dpquat_7.x * dpquat_7.z;
    float wz_45 = dpquat_7.x * dpquat_7.w;
    Matrix<float, 3, 3>  _S4212 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_45 + z2_60), 2.0f * (xy_45 + wz_45), 2.0f * (xz_45 - wy_45), 2.0f * (xy_45 - wz_45), 1.0f - 2.0f * (x2_45 + z2_60), 2.0f * (yz_45 + wx_45), 2.0f * (xz_45 + wy_45), 2.0f * (yz_45 - wx_45), 1.0f - 2.0f * (x2_45 + y2_45))));
    FixedArray<float3 , 7>  _S4213 = {
        _S4209, _S4209, _S4209, _S4209, _S4209, _S4209, _S4209
    };
    FixedArray<float, 7>  _S4214 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4215;
    (&_S4215)->p_0 = _S4213;
    (&_S4215)->w_mean_0 = _S4214;
    (&_S4215)->w_cov_0 = _S4214;
    (&_S4215)->p_0[int(0)] = dpmean_8;
    SigmaPoints_0 _S4216 = _S4215;
    (&_S4216)->w_mean_0[int(0)] = 0.0f;
    (&_S4216)->w_cov_0[int(0)] = 2.0f;
    float _S4217 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_90 = make_float3 (_S4217 * _S4210.x) * _S4212.rows[0U];
    float3  _S4218 = dpmean_8 + delta_90;
    float3  _S4219 = dpmean_8 - delta_90;
    float3  delta_91 = make_float3 (_S4217 * _S4210.y) * _S4212.rows[1U];
    float3  _S4220 = dpmean_8 + delta_91;
    float3  _S4221 = dpmean_8 - delta_91;
    float3  delta_92 = make_float3 (_S4217 * _S4210.z) * _S4212.rows[2U];
    float3  _S4222 = dpmean_8 + delta_92;
    float3  _S4223 = dpmean_8 - delta_92;
    (&_S4216)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4216)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4216)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4216)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4216)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4216)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4216)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4216)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4216)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4216)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4216)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4216)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4216)->p_0[0U] = s_primal_ctx_mul_0(dpR_8, _S4215.p_0[0U]) + dpt_7;
    (&_S4216)->p_0[1U] = s_primal_ctx_mul_0(dpR_8, _S4218) + dpt_7;
    (&_S4216)->p_0[2U] = s_primal_ctx_mul_0(dpR_8, _S4220) + dpt_7;
    (&_S4216)->p_0[3U] = s_primal_ctx_mul_0(dpR_8, _S4222) + dpt_7;
    (&_S4216)->p_0[4U] = s_primal_ctx_mul_0(dpR_8, _S4219) + dpt_7;
    (&_S4216)->p_0[5U] = s_primal_ctx_mul_0(dpR_8, _S4221) + dpt_7;
    (&_S4216)->p_0[6U] = s_primal_ctx_mul_0(dpR_8, _S4223) + dpt_7;
    float2  _S4224 = _S4208;
    Matrix<float, 2, 2>  _S4225 = _S4207;
    SigmaPoints_0 _S4226 = _S4216;
    bool _S4227 = fisheye_proj_3dgs_ut_1(&_S4226, intrins_35, dist_coeffs_55, &_S4225, &_S4224);
    _s_diff_ctx_20->_S4206 = _S4225;
    float2  _S4228 = _S4224;
    float _S4229 = _S4225.rows[int(0)].y * _S4225.rows[int(1)].x;
    float det_orig_40 = _S4225.rows[int(0)].x * _S4225.rows[int(1)].y - _S4229;
    float _S4230 = _S4225.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4231 = _S4225;
    *&(((&_S4231)->rows + (int(0)))->x) = _S4230;
    float _S4232 = _S4225.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4231)->rows + (int(1)))->y) = _S4232;
    Matrix<float, 2, 2>  _S4233 = _S4231;
    Matrix<float, 2, 2>  _S4234 = _S4231;
    float _S4235 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_40 / (_S4230 * _S4232 - _S4229)));
    float _S4236 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_6));
    float _S4237;
    if(antialiased_42)
    {
        _S4237 = _S4236 * _S4235;
    }
    else
    {
        _S4237 = _S4236;
    }
    float _S4238 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4237 / 0.00392156885936856f)));
    float radius_x_31 = _S4238 * s_primal_ctx_sqrt_0(_S4233.rows[int(0)].x);
    float radius_y_31 = _S4238 * s_primal_ctx_sqrt_0(_S4234.rows[int(1)].y);
    float _S4239 = _S4228.x;
    float _S4240 = _S4228.y;
    float _S4241 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_39, mean_c_39) + 9.99999997475242708e-07f);
    float3  _S4242 = s_primal_ctx_exp_0(- dpscale_7);
    float3  _S4243 = dpmean_8 - - s_primal_ctx_mul_0(transpose_0(dpR_8), dpt_7);
    float3  _S4244 = _S4243 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4243, _S4243)));
    float _S4245 = s_primal_ctx_dot_0((*dpsv_sites_6)[int(2)], _S4244);
    float _S4246 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(0)], _S4244) - _S4245);
    float _S4247 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(1)], _S4244) - _S4245);
    float _S4248 = s_primal_ctx_exp_1(0.0f);
    float3  _S4249 = s_primal_ctx_max_1((make_float3 (_S4246) * (*dpsv_colors_6)[int(0)] + make_float3 (_S4247) * (*dpsv_colors_6)[int(1)] + make_float3 (_S4248) * (*dpsv_colors_6)[int(2)]) / make_float3 (_S4246 + _S4247 + _S4248) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_31 = make_int4 (int((F32_floor((_S4239 - radius_x_31)))), int((F32_floor((_S4240 - radius_y_31)))), int((F32_ceil((_S4239 + radius_x_31)))), int((F32_ceil((_S4240 + radius_y_31)))));
    *dpmean2d_8 = _S4228;
    *dpdepth_7 = _S4241;
    *dpconic_6 = _S4242;
    *dpopacity_8 = _S4237;
    *dprgb_7 = _S4249;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_43, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_9, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_8, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_8, DiffPair_float_0 * dpin_opacity_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_7, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_9, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_8, float fx_52, float fy_52, float cx_47, float cy_47, FixedArray<float, 10>  * dist_coeffs_56, uint image_width_43, uint image_height_43, float near_plane_35, float far_plane_35, float2  dpmean2d_9, float dpdepth_8, float3  dpconic_7, float dpopacity_9, float3  dprgb_8, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_21)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4250 = *dpmean_9;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4251 = *dpquat_8;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4252 = *dpscale_8;
    FixedArray<float3 , 3>  _S4253 = dpsv_sites_7->primal_0;
    FixedArray<float3 , 3>  _S4254 = dpsv_colors_7->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4255 = *dpR_9;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4256 = *dpt_8;
    float3  _S4257 = make_float3 (0.0f);
    float3  mean_c_40 = s_primal_ctx_mul_0((*dpR_9).primal_0, (*dpmean_9).primal_0) + (*dpt_8).primal_0;
    float3  _S4258 = s_primal_ctx_exp_0((*dpscale_8).primal_0);
    float _S4259 = (*dpquat_8).primal_0.y;
    float x2_46 = _S4259 * _S4259;
    float y2_46 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.z;
    float z2_61 = (*dpquat_8).primal_0.w * (*dpquat_8).primal_0.w;
    float xy_46 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.z;
    float xz_46 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.w;
    float yz_46 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.w;
    float wx_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.y;
    float wy_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.z;
    float wz_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.w;
    Matrix<float, 3, 3>  _S4260 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_46 + z2_61), 2.0f * (xy_46 + wz_46), 2.0f * (xz_46 - wy_46), 2.0f * (xy_46 - wz_46), 1.0f - 2.0f * (x2_46 + z2_61), 2.0f * (yz_46 + wx_46), 2.0f * (xz_46 + wy_46), 2.0f * (yz_46 - wx_46), 1.0f - 2.0f * (x2_46 + y2_46))));
    FixedArray<float3 , 7>  _S4261 = {
        _S4257, _S4257, _S4257, _S4257, _S4257, _S4257, _S4257
    };
    FixedArray<float, 7>  _S4262 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4263;
    (&_S4263)->p_0 = _S4261;
    (&_S4263)->w_mean_0 = _S4262;
    (&_S4263)->w_cov_0 = _S4262;
    (&_S4263)->p_0[int(0)] = (*dpmean_9).primal_0;
    float _S4264 = s_primal_ctx_sqrt_0(3.0f);
    float _S4265 = _S4264 * _S4258.x;
    float3  _S4266 = make_float3 (_S4265);
    float3  delta_93 = make_float3 (_S4265) * _S4260.rows[0U];
    float3  _S4267 = (*dpmean_9).primal_0 + delta_93;
    float3  _S4268 = (*dpmean_9).primal_0 - delta_93;
    float _S4269 = _S4264 * _S4258.y;
    float3  _S4270 = make_float3 (_S4269);
    float3  delta_94 = make_float3 (_S4269) * _S4260.rows[1U];
    float3  _S4271 = (*dpmean_9).primal_0 + delta_94;
    float3  _S4272 = (*dpmean_9).primal_0 - delta_94;
    float _S4273 = _S4264 * _S4258.z;
    float3  _S4274 = make_float3 (_S4273);
    float3  delta_95 = make_float3 (_S4273) * _S4260.rows[2U];
    float3  _S4275 = (*dpmean_9).primal_0 + delta_95;
    float3  _S4276 = (*dpmean_9).primal_0 - delta_95;
    SigmaPoints_0 _S4277 = _S4263;
    float _S4278 = *&(((&_s_diff_ctx_21->_S4206)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_21->_S4206)->rows + (int(1)))->x);
    float det_orig_41 = *&(((&_s_diff_ctx_21->_S4206)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_21->_S4206)->rows + (int(1)))->y) - _S4278;
    float _S4279 = *&(((&_s_diff_ctx_21->_S4206)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4280 = _s_diff_ctx_21->_S4206;
    *&(((&_S4280)->rows + (int(0)))->x) = _S4279;
    float _S4281 = *&(((&_s_diff_ctx_21->_S4206)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4280)->rows + (int(1)))->y) = _S4281;
    Matrix<float, 2, 2>  _S4282 = _S4280;
    Matrix<float, 2, 2>  _S4283 = _S4280;
    float det_blur_28 = _S4279 * _S4281 - _S4278;
    float _S4284 = det_orig_41 / det_blur_28;
    float _S4285 = det_blur_28 * det_blur_28;
    float _S4286 = s_primal_ctx_max_0(0.0f, _S4284);
    float _S4287 = s_primal_ctx_sqrt_0(_S4286);
    float _S4288 = - (*dpin_opacity_7).primal_0;
    float _S4289 = 1.0f + s_primal_ctx_exp_1(_S4288);
    float _S4290 = 1.0f / _S4289;
    float _S4291 = _S4289 * _S4289;
    float _S4292;
    if(antialiased_43)
    {
        _S4292 = _S4290 * _S4287;
    }
    else
    {
        _S4292 = _S4290;
    }
    float _S4293 = _S4292 / 0.00392156885936856f;
    float _S4294 = 2.0f * s_primal_ctx_log_0(_S4293);
    float _S4295 = s_primal_ctx_sqrt_0(_S4294);
    float _S4296 = _S4282.rows[int(0)].x;
    float _S4297 = _S4283.rows[int(1)].y;
    float _S4298 = s_primal_ctx_dot_0(mean_c_40, mean_c_40) + 9.99999997475242708e-07f;
    float3  _S4299 = - _S4252.primal_0;
    Matrix<float, 3, 3>  _S4300 = transpose_0(_S4255.primal_0);
    float3  _S4301 = _S4250.primal_0 - - s_primal_ctx_mul_0(_S4300, _S4256.primal_0);
    float _S4302 = s_primal_ctx_dot_0(_S4301, _S4301);
    float _S4303 = s_primal_ctx_rsqrt_0(_S4302);
    float3  _S4304 = make_float3 (_S4303);
    float3  _S4305 = _S4301 * make_float3 (_S4303);
    float _S4306 = s_primal_ctx_dot_0(_S4253[int(2)], _S4305);
    float _S4307 = s_primal_ctx_dot_0(_S4253[int(0)], _S4305) - _S4306;
    float _S4308 = s_primal_ctx_exp_1(_S4307);
    float3  _S4309 = make_float3 (_S4308);
    float _S4310 = s_primal_ctx_dot_0(_S4253[int(1)], _S4305) - _S4306;
    float _S4311 = s_primal_ctx_exp_1(_S4310);
    float3  _S4312 = make_float3 (_S4311);
    float _S4313 = s_primal_ctx_exp_1(0.0f);
    float3  _S4314 = make_float3 (_S4313);
    float total_w_3 = _S4308 + _S4311 + _S4313;
    float3  _S4315 = make_float3 (total_w_3);
    float3  total_c_3 = make_float3 (_S4308) * _S4254[int(0)] + make_float3 (_S4311) * _S4254[int(1)] + make_float3 (_S4313) * _S4254[int(2)];
    float3  _S4316 = make_float3 (total_w_3 * total_w_3);
    float3  _S4317 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4318;
    (&_S4318)->primal_0 = total_c_3 / make_float3 (total_w_3) + make_float3 (0.5f);
    (&_S4318)->differential_0 = _S4257;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4319;
    (&_S4319)->primal_0 = _S4317;
    (&_S4319)->differential_0 = _S4257;
    s_bwd_prop_max_0(&_S4318, &_S4319, dprgb_8);
    float3  _S4320 = _S4318.differential_0 / _S4316;
    float3  _S4321 = total_c_3 * - _S4320;
    float3  s_diff_total_c_T_3 = _S4315 * _S4320;
    float3  _S4322 = _S4314 * s_diff_total_c_T_3;
    float _S4323 = _S4321.x + _S4321.y + _S4321.z;
    float3  _S4324 = _S4312 * s_diff_total_c_T_3;
    float3  _S4325 = _S4254[int(1)] * s_diff_total_c_T_3;
    float _S4326 = _S4323 + _S4325.x + _S4325.y + _S4325.z;
    DiffPair_float_0 _S4327;
    (&_S4327)->primal_0 = _S4310;
    (&_S4327)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4327, _S4326);
    float _S4328 = - _S4327.differential_0;
    float3  _S4329 = _S4309 * s_diff_total_c_T_3;
    float3  _S4330 = _S4254[int(0)] * s_diff_total_c_T_3;
    float _S4331 = _S4323 + _S4330.x + _S4330.y + _S4330.z;
    DiffPair_float_0 _S4332;
    (&_S4332)->primal_0 = _S4307;
    (&_S4332)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4332, _S4331);
    float _S4333 = _S4328 + - _S4332.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4334;
    (&_S4334)->primal_0 = _S4253[int(2)];
    (&_S4334)->differential_0 = _S4257;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4335;
    (&_S4335)->primal_0 = _S4305;
    (&_S4335)->differential_0 = _S4257;
    s_bwd_prop_dot_0(&_S4334, &_S4335, _S4333);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4336;
    (&_S4336)->primal_0 = _S4253[int(1)];
    (&_S4336)->differential_0 = _S4257;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4337;
    (&_S4337)->primal_0 = _S4305;
    (&_S4337)->differential_0 = _S4257;
    s_bwd_prop_dot_0(&_S4336, &_S4337, _S4327.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4338;
    (&_S4338)->primal_0 = _S4253[int(0)];
    (&_S4338)->differential_0 = _S4257;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4339;
    (&_S4339)->primal_0 = _S4305;
    (&_S4339)->differential_0 = _S4257;
    s_bwd_prop_dot_0(&_S4338, &_S4339, _S4332.differential_0);
    float3  _S4340 = _S4335.differential_0 + _S4337.differential_0 + _S4339.differential_0;
    float3  _S4341 = _S4301 * _S4340;
    float3  _S4342 = _S4304 * _S4340;
    float _S4343 = _S4341.x + _S4341.y + _S4341.z;
    DiffPair_float_0 _S4344;
    (&_S4344)->primal_0 = _S4302;
    (&_S4344)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4344, _S4343);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4345;
    (&_S4345)->primal_0 = _S4301;
    (&_S4345)->differential_0 = _S4257;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4346;
    (&_S4346)->primal_0 = _S4301;
    (&_S4346)->differential_0 = _S4257;
    s_bwd_prop_dot_0(&_S4345, &_S4346, _S4344.differential_0);
    float3  _S4347 = _S4342 + _S4346.differential_0 + _S4345.differential_0;
    float3  _S4348 = - - _S4347;
    Matrix<float, 3, 3>  _S4349 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4350;
    (&_S4350)->primal_0 = _S4300;
    (&_S4350)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4351;
    (&_S4351)->primal_0 = _S4256.primal_0;
    (&_S4351)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4350, &_S4351, _S4348);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4352 = _S4351;
    Matrix<float, 3, 3>  _S4353 = transpose_0(_S4350.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4354;
    (&_S4354)->primal_0 = _S4299;
    (&_S4354)->differential_0 = _S4257;
    s_bwd_prop_exp_1(&_S4354, dpconic_7);
    float3  _S4355 = - _S4354.differential_0;
    float _S4356 = 0.5f * dpdepth_8;
    DiffPair_float_0 _S4357;
    (&_S4357)->primal_0 = _S4298;
    (&_S4357)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4357, _S4356);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4358;
    (&_S4358)->primal_0 = mean_c_40;
    (&_S4358)->differential_0 = _S4257;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4359;
    (&_S4359)->primal_0 = mean_c_40;
    (&_S4359)->differential_0 = _S4257;
    s_bwd_prop_dot_0(&_S4358, &_S4359, _S4357.differential_0);
    DiffPair_float_0 _S4360;
    (&_S4360)->primal_0 = _S4297;
    (&_S4360)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4360, 0.0f);
    DiffPair_float_0 _S4361;
    (&_S4361)->primal_0 = _S4296;
    (&_S4361)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4361, 0.0f);
    DiffPair_float_0 _S4362;
    (&_S4362)->primal_0 = 3.32999992370605469f;
    (&_S4362)->differential_0 = 0.0f;
    DiffPair_float_0 _S4363;
    (&_S4363)->primal_0 = _S4295;
    (&_S4363)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4362, &_S4363, 0.0f);
    DiffPair_float_0 _S4364;
    (&_S4364)->primal_0 = _S4294;
    (&_S4364)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4364, _S4363.differential_0);
    float _S4365 = 2.0f * _S4364.differential_0;
    DiffPair_float_0 _S4366;
    (&_S4366)->primal_0 = _S4293;
    (&_S4366)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4366, _S4365);
    float _S4367 = dpopacity_9 + 254.9999847412109375f * _S4366.differential_0;
    FixedArray<float3 , 3>  _S4368;
    _S4368[int(0)] = _S4257;
    _S4368[int(1)] = _S4257;
    _S4368[int(2)] = _S4257;
    _S4368[int(2)] = _S4322;
    _S4368[int(1)] = _S4324;
    _S4368[int(0)] = _S4329;
    FixedArray<float3 , 3>  _S4369 = {
        _S4368[int(0)], _S4368[int(1)], _S4368[int(2)]
    };
    FixedArray<float3 , 3>  _S4370;
    _S4370[int(0)] = _S4257;
    _S4370[int(1)] = _S4257;
    _S4370[int(2)] = _S4257;
    _S4370[int(2)] = _S4334.differential_0;
    _S4370[int(1)] = _S4336.differential_0;
    _S4370[int(0)] = _S4338.differential_0;
    FixedArray<float3 , 3>  _S4371 = {
        _S4370[int(0)], _S4370[int(1)], _S4370[int(2)]
    };
    float3  _S4372 = _S4359.differential_0 + _S4358.differential_0;
    float2  _S4373 = make_float2 (0.0f, _S4360.differential_0);
    float2  _S4374 = make_float2 (_S4361.differential_0, 0.0f);
    float _S4375;
    if(antialiased_43)
    {
        float _S4376 = _S4290 * _S4367;
        _S4292 = _S4287 * _S4367;
        _S4375 = _S4376;
    }
    else
    {
        _S4292 = _S4367;
        _S4375 = 0.0f;
    }
    float _S4377 = - (_S4292 / _S4291);
    DiffPair_float_0 _S4378;
    (&_S4378)->primal_0 = _S4288;
    (&_S4378)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4378, _S4377);
    float _S4379 = - _S4378.differential_0;
    DiffPair_float_0 _S4380;
    (&_S4380)->primal_0 = _S4286;
    (&_S4380)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4380, _S4375);
    DiffPair_float_0 _S4381;
    (&_S4381)->primal_0 = 0.0f;
    (&_S4381)->differential_0 = 0.0f;
    DiffPair_float_0 _S4382;
    (&_S4382)->primal_0 = _S4284;
    (&_S4382)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4381, &_S4382, _S4380.differential_0);
    float _S4383 = _S4382.differential_0 / _S4285;
    float s_diff_det_blur_T_5 = det_orig_41 * - _S4383;
    float s_diff_det_orig_T_8 = det_blur_28 * _S4383;
    float _S4384 = - s_diff_det_blur_T_5;
    float _S4385 = _S4279 * s_diff_det_blur_T_5;
    float _S4386 = _S4281 * s_diff_det_blur_T_5;
    Matrix<float, 2, 2>  _S4387 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4388 = _S4387;
    _S4388[int(1)] = _S4373;
    _S4388[int(0)] = _S4374;
    float _S4389 = _S4386 + _S4388.rows[int(0)].x;
    float _S4390 = _S4384 + - s_diff_det_orig_T_8;
    float _S4391 = *&(((&_s_diff_ctx_21->_S4206)->rows + (int(0)))->y) * _S4390;
    float _S4392 = *&(((&_s_diff_ctx_21->_S4206)->rows + (int(1)))->x) * _S4390;
    float _S4393 = *&(((&_s_diff_ctx_21->_S4206)->rows + (int(1)))->y) * s_diff_det_orig_T_8;
    float _S4394 = _S4385 + _S4388.rows[int(1)].y + *&(((&_s_diff_ctx_21->_S4206)->rows + (int(0)))->x) * s_diff_det_orig_T_8;
    float2  _S4395 = make_float2 (0.0f);
    float2  _S4396 = _S4395;
    *&((&_S4396)->x) = _S4391;
    *&((&_S4396)->y) = _S4394;
    float _S4397 = _S4389 + _S4393;
    float2  _S4398 = _S4395;
    *&((&_S4398)->y) = _S4392;
    *&((&_S4398)->x) = _S4397;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4399;
    (&_S4399)->primal_0 = _S4255.primal_0;
    (&_S4399)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4400;
    (&_S4400)->primal_0 = _S4276;
    (&_S4400)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4399, &_S4400, _S4257);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4401;
    (&_S4401)->primal_0 = _S4255.primal_0;
    (&_S4401)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4402;
    (&_S4402)->primal_0 = _S4272;
    (&_S4402)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4401, &_S4402, _S4257);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4403;
    (&_S4403)->primal_0 = _S4255.primal_0;
    (&_S4403)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4404;
    (&_S4404)->primal_0 = _S4268;
    (&_S4404)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4403, &_S4404, _S4257);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4405;
    (&_S4405)->primal_0 = _S4255.primal_0;
    (&_S4405)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4406;
    (&_S4406)->primal_0 = _S4275;
    (&_S4406)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4405, &_S4406, _S4257);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4407;
    (&_S4407)->primal_0 = _S4255.primal_0;
    (&_S4407)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4408;
    (&_S4408)->primal_0 = _S4271;
    (&_S4408)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4407, &_S4408, _S4257);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4409;
    (&_S4409)->primal_0 = _S4255.primal_0;
    (&_S4409)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4410;
    (&_S4410)->primal_0 = _S4267;
    (&_S4410)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4409, &_S4410, _S4257);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4411;
    (&_S4411)->primal_0 = _S4255.primal_0;
    (&_S4411)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4412;
    (&_S4412)->primal_0 = _S4277.p_0[0U];
    (&_S4412)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4411, &_S4412, _S4257);
    float3  _S4413 = - _S4400.differential_0 + _S4406.differential_0;
    float3  _S4414 = _S4274 * _S4413;
    float3  _S4415 = _S4260.rows[2U] * _S4413;
    float _S4416 = _S4264 * (_S4415.x + _S4415.y + _S4415.z);
    float3  _S4417 = - _S4402.differential_0 + _S4408.differential_0;
    float3  _S4418 = _S4270 * _S4417;
    float3  _S4419 = _S4260.rows[1U] * _S4417;
    float _S4420 = _S4264 * (_S4419.x + _S4419.y + _S4419.z);
    float3  _S4421 = - _S4404.differential_0 + _S4410.differential_0;
    float3  _S4422 = _S4266 * _S4421;
    float3  _S4423 = _S4260.rows[0U] * _S4421;
    float _S4424 = _S4264 * (_S4423.x + _S4423.y + _S4423.z);
    Matrix<float, 3, 3>  _S4425 = _S4349;
    _S4425[2U] = _S4414;
    _S4425[1U] = _S4418;
    _S4425[0U] = _S4422;
    Matrix<float, 3, 3>  _S4426 = transpose_0(transpose_0(_S4425));
    float _S4427 = 2.0f * - _S4426.rows[int(2)].z;
    float _S4428 = 2.0f * _S4426.rows[int(2)].y;
    float _S4429 = 2.0f * _S4426.rows[int(2)].x;
    float _S4430 = 2.0f * _S4426.rows[int(1)].z;
    float _S4431 = 2.0f * - _S4426.rows[int(1)].y;
    float _S4432 = 2.0f * _S4426.rows[int(1)].x;
    float _S4433 = 2.0f * _S4426.rows[int(0)].z;
    float _S4434 = 2.0f * _S4426.rows[int(0)].y;
    float _S4435 = 2.0f * - _S4426.rows[int(0)].x;
    float _S4436 = - _S4432 + _S4434;
    float _S4437 = _S4429 + - _S4433;
    float _S4438 = - _S4428 + _S4430;
    float _S4439 = _S4428 + _S4430;
    float _S4440 = _S4429 + _S4433;
    float _S4441 = _S4432 + _S4434;
    float _S4442 = _S4251.primal_0.w * (_S4431 + _S4435);
    float _S4443 = _S4251.primal_0.z * (_S4427 + _S4435);
    float _S4444 = _S4251.primal_0.y * (_S4427 + _S4431);
    float _S4445 = _S4251.primal_0.x * _S4436 + _S4251.primal_0.z * _S4439 + _S4251.primal_0.y * _S4440 + _S4442 + _S4442;
    float _S4446 = _S4251.primal_0.x * _S4437 + _S4251.primal_0.w * _S4439 + _S4251.primal_0.y * _S4441 + _S4443 + _S4443;
    float _S4447 = _S4251.primal_0.x * _S4438 + _S4251.primal_0.w * _S4440 + _S4251.primal_0.z * _S4441 + _S4444 + _S4444;
    float _S4448 = _S4251.primal_0.w * _S4436 + _S4251.primal_0.z * _S4437 + _S4251.primal_0.y * _S4438;
    float3  _S4449 = _S4257;
    *&((&_S4449)->z) = _S4416;
    *&((&_S4449)->y) = _S4420;
    *&((&_S4449)->x) = _S4424;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4450;
    (&_S4450)->primal_0 = _S4252.primal_0;
    (&_S4450)->differential_0 = _S4257;
    s_bwd_prop_exp_1(&_S4450, _S4449);
    Matrix<float, 2, 2>  _S4451 = _S4387;
    _S4451[int(1)] = _S4396;
    _S4451[int(0)] = _S4398;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4452;
    (&_S4452)->primal_0 = mean_c_40;
    (&_S4452)->differential_0 = _S4257;
    s_bwd_length_impl_1(&_S4452, 0.0f);
    float3  _S4453 = _S4452.differential_0 + _S4372;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4454;
    (&_S4454)->primal_0 = _S4255.primal_0;
    (&_S4454)->differential_0 = _S4349;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4455;
    (&_S4455)->primal_0 = _S4250.primal_0;
    (&_S4455)->differential_0 = _S4257;
    s_bwd_prop_mul_1(&_S4454, &_S4455, _S4453);
    float3  _S4456 = _S4453 + _S4352.differential_0;
    dpt_8->primal_0 = (*dpt_8).primal_0;
    dpt_8->differential_0 = _S4456;
    Matrix<float, 3, 3>  _S4457 = _S4399.differential_0 + _S4401.differential_0 + _S4403.differential_0 + _S4405.differential_0 + _S4407.differential_0 + _S4409.differential_0 + _S4411.differential_0 + _S4454.differential_0 + _S4353;
    dpR_9->primal_0 = (*dpR_9).primal_0;
    dpR_9->differential_0 = _S4457;
    dpsv_colors_7->primal_0 = dpsv_colors_7->primal_0;
    dpsv_colors_7->differential_0 = _S4369;
    dpsv_sites_7->primal_0 = dpsv_sites_7->primal_0;
    dpsv_sites_7->differential_0 = _S4371;
    dpin_opacity_7->primal_0 = (*dpin_opacity_7).primal_0;
    dpin_opacity_7->differential_0 = _S4379;
    float3  _S4458 = _S4450.differential_0 + _S4355;
    dpscale_8->primal_0 = (*dpscale_8).primal_0;
    dpscale_8->differential_0 = _S4458;
    float4  _S4459 = make_float4 (0.0f);
    *&((&_S4459)->w) = _S4445;
    *&((&_S4459)->z) = _S4446;
    *&((&_S4459)->y) = _S4447;
    *&((&_S4459)->x) = _S4448;
    dpquat_8->primal_0 = (*dpquat_8).primal_0;
    dpquat_8->differential_0 = _S4459;
    float3  _S4460 = _S4400.differential_0 + _S4406.differential_0 + _S4402.differential_0 + _S4408.differential_0 + _S4404.differential_0 + _S4410.differential_0 + _S4455.differential_0 + _S4347;
    dpmean_9->primal_0 = (*dpmean_9).primal_0;
    dpmean_9->differential_0 = _S4460;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_1(bool _S4461, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4462, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4463, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4464, DiffPair_float_0 * _S4465, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4466, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4467, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4468, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4469, float _S4470, float _S4471, float _S4472, float _S4473, FixedArray<float, 10>  * _S4474, uint _S4475, uint _S4476, float _S4477, float _S4478, float2  _S4479, float _S4480, float3  _S4481, float _S4482, float3  _S4483)
{
    FixedArray<float3 , 3>  _S4484 = _S4466->primal_0;
    FixedArray<float3 , 3>  _S4485 = _S4467->primal_0;
    int4  _S4486;
    float2  _S4487;
    float _S4488;
    float3  _S4489;
    float _S4490;
    float3  _S4491;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S4492;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(_S4461, (*_S4462).primal_0, (*_S4463).primal_0, (*_S4464).primal_0, (*_S4465).primal_0, &_S4484, &_S4485, (*_S4468).primal_0, (*_S4469).primal_0, _S4470, _S4471, _S4472, _S4473, _S4474, _S4475, _S4476, _S4477, _S4478, &_S4486, &_S4487, &_S4488, &_S4489, &_S4490, &_S4491, &_S4492);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S4493 = _S4492;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(_S4461, _S4462, _S4463, _S4464, _S4465, _S4466, _S4467, _S4468, _S4469, _S4470, _S4471, _S4472, _S4473, _S4474, _S4475, _S4476, _S4477, _S4478, _S4479, _S4480, _S4481, _S4482, _S4483, &_S4493);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_44, float3  mean_41, float4  quat_42, float3  scale_41, float in_opacity_36, FixedArray<float3 , 3>  * sv_sites_21, FixedArray<float3 , 3>  * sv_colors_21, Matrix<float, 3, 3>  R_43, float3  t_39, float fx_53, float fy_53, float cx_48, float cy_48, FixedArray<float, 10>  * dist_coeffs_57, uint image_width_44, uint image_height_44, float2  v_mean2d_8, float v_depth_9, float3  v_conic_8, float v_opacity_10, float3  v_rgb_9, float3  * v_mean_10, float4  * v_quat_9, float3  * v_scale_9, float * v_in_opacity_8, FixedArray<float3 , 3>  * v_sv_dirs_3, FixedArray<float3 , 3>  * v_sv_colors_3, Matrix<float, 3, 3>  * v_R_10, float3  * v_t_9)
{
    float3  _S4494 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_5;
    (&dp_mean_5)->primal_0 = mean_41;
    (&dp_mean_5)->differential_0 = _S4494;
    float4  _S4495 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_4;
    (&dp_quat_4)->primal_0 = quat_42;
    (&dp_quat_4)->differential_0 = _S4495;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_4;
    (&dp_scale_4)->primal_0 = scale_41;
    (&dp_scale_4)->differential_0 = _S4494;
    DiffPair_float_0 dp_in_opacity_3;
    (&dp_in_opacity_3)->primal_0 = in_opacity_36;
    (&dp_in_opacity_3)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S4496 = { _S4494, _S4494, _S4494 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_3;
    (&dp_sv_dirs_3)->primal_0 = *sv_sites_21;
    (&dp_sv_dirs_3)->differential_0 = _S4496;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_3;
    (&dp_sv_colors_3)->primal_0 = *sv_colors_21;
    (&dp_sv_colors_3)->differential_0 = _S4496;
    Matrix<float, 3, 3>  _S4497 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_5;
    (&dp_R_5)->primal_0 = R_43;
    (&dp_R_5)->differential_0 = _S4497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_4;
    (&dp_t_4)->primal_0 = t_39;
    (&dp_t_4)->differential_0 = _S4494;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_1(antialiased_44, &dp_mean_5, &dp_quat_4, &dp_scale_4, &dp_in_opacity_3, &dp_sv_dirs_3, &dp_sv_colors_3, &dp_R_5, &dp_t_4, fx_53, fy_53, cx_48, cy_48, dist_coeffs_57, image_width_44, image_height_44, 0.0f, 1.00000001504746622e+30f, v_mean2d_8, v_depth_9, v_conic_8, v_opacity_10, v_rgb_9);
    *v_mean_10 = dp_mean_5.differential_0;
    *v_quat_9 = dp_quat_4.differential_0;
    *v_scale_9 = dp_scale_4.differential_0;
    *v_in_opacity_8 = dp_in_opacity_3.differential_0;
    *v_sv_dirs_3 = (&dp_sv_dirs_3)->differential_0;
    *v_sv_colors_3 = (&dp_sv_colors_3)->differential_0;
    *v_R_10 = dp_R_5.differential_0;
    *v_t_9 = dp_t_4.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_45, float3  mean_42, float4  quat_43, float3  scale_42, float in_opacity_37, FixedArray<float3 , 4>  * sv_sites_22, FixedArray<float3 , 4>  * sv_colors_22, Matrix<float, 3, 3>  R_44, float3  t_40, float fx_54, float fy_54, float cx_49, float cy_49, FixedArray<float, 10>  * dist_coeffs_58, uint image_width_45, uint image_height_45, float near_plane_36, float far_plane_36, int4  * aabb_xyxy_32, float2  * mean2d_36, float * depth_29, float3  * conic_28, float * opacity_32, float3  * rgb_30)
{
    float3  mean_c_41 = mul_0(R_44, mean_42) + t_40;
    float4  intrins_36 = make_float4 (fx_54, fy_54, cx_49, cy_49);
    float3  _S4498 = exp_0(scale_42);
    float x_60 = quat_43.y;
    float x2_47 = x_60 * x_60;
    float y2_47 = quat_43.z * quat_43.z;
    float z2_62 = quat_43.w * quat_43.w;
    float xy_47 = quat_43.y * quat_43.z;
    float xz_47 = quat_43.y * quat_43.w;
    float yz_47 = quat_43.z * quat_43.w;
    float wx_47 = quat_43.x * quat_43.y;
    float wy_47 = quat_43.x * quat_43.z;
    float wz_47 = quat_43.x * quat_43.w;
    Matrix<float, 3, 3>  _S4499 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_47 + z2_62), 2.0f * (xy_47 + wz_47), 2.0f * (xz_47 - wy_47), 2.0f * (xy_47 - wz_47), 1.0f - 2.0f * (x2_47 + z2_62), 2.0f * (yz_47 + wx_47), 2.0f * (xz_47 + wy_47), 2.0f * (yz_47 - wx_47), 1.0f - 2.0f * (x2_47 + y2_47))));
    SigmaPoints_0 ret_22;
    (&ret_22)->p_0[int(0)] = mean_42;
    (&ret_22)->w_mean_0[int(0)] = 0.0f;
    (&ret_22)->w_cov_0[int(0)] = 2.0f;
    float _S4500 = (F32_sqrt((3.0f)));
    float3  delta_96 = make_float3 (_S4500 * _S4498.x) * _S4499.rows[0U];
    float3  _S4501 = mean_42 + delta_96;
    float3  _S4502 = mean_42 - delta_96;
    float3  delta_97 = make_float3 (_S4500 * _S4498.y) * _S4499.rows[1U];
    float3  _S4503 = mean_42 + delta_97;
    float3  _S4504 = mean_42 - delta_97;
    float3  delta_98 = make_float3 (_S4500 * _S4498.z) * _S4499.rows[2U];
    float3  _S4505 = mean_42 + delta_98;
    float3  _S4506 = mean_42 - delta_98;
    (&ret_22)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_22)->p_0[0U] = mul_0(R_44, (&ret_22)->p_0[0U]) + t_40;
    (&ret_22)->p_0[1U] = mul_0(R_44, _S4501) + t_40;
    (&ret_22)->p_0[2U] = mul_0(R_44, _S4503) + t_40;
    (&ret_22)->p_0[3U] = mul_0(R_44, _S4505) + t_40;
    (&ret_22)->p_0[4U] = mul_0(R_44, _S4502) + t_40;
    (&ret_22)->p_0[5U] = mul_0(R_44, _S4504) + t_40;
    (&ret_22)->p_0[6U] = mul_0(R_44, _S4506) + t_40;
    SigmaPoints_0 _S4507 = ret_22;
    Matrix<float, 2, 2>  covar2d_28;
    bool _S4508 = persp_proj_3dgs_ut_1(&_S4507, intrins_36, dist_coeffs_58, image_width_45, image_height_45, &covar2d_28, mean2d_36);
    float det_orig_42 = *&(((&covar2d_28)->rows + (int(0)))->x) * *&(((&covar2d_28)->rows + (int(1)))->y) - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x);
    float _S4509 = *&(((&covar2d_28)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(0)))->x) = _S4509;
    float _S4510 = *&(((&covar2d_28)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(1)))->y) = _S4510;
    float compensation_29 = (F32_sqrt(((F32_max((0.0f), (det_orig_42 / (_S4509 * _S4510 - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x))))))));
    *opacity_32 = 1.0f / (1.0f + (F32_exp((- in_opacity_37))));
    if(antialiased_45)
    {
        *opacity_32 = *opacity_32 * compensation_29;
    }
    float extend_28 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_32 / 0.00392156885936856f)))))))));
    float radius_x_32 = extend_28 * (F32_sqrt((covar2d_28[int(0)].x)));
    float radius_y_32 = extend_28 * (F32_sqrt((covar2d_28[int(1)].y)));
    *aabb_xyxy_32 = make_int4 (int((F32_floor(((*mean2d_36).x - radius_x_32)))), int((F32_floor(((*mean2d_36).y - radius_y_32)))), int((F32_ceil(((*mean2d_36).x + radius_x_32)))), int((F32_ceil(((*mean2d_36).y + radius_y_32)))));
    *depth_29 = 0.5f * (F32_log((dot_0(mean_c_41, mean_c_41) + 9.99999997475242708e-07f)));
    *conic_28 = exp_0(- scale_42);
    float3  _S4511 = mean_42 - - mul_0(transpose_0(R_44), t_40);
    float3  _S4512 = _S4511 * make_float3 ((F32_rsqrt((dot_0(_S4511, _S4511)))));
    float _S4513 = dot_0((*sv_sites_22)[int(3)], _S4512);
    float w_80 = (F32_exp((dot_0((*sv_sites_22)[int(0)], _S4512) - _S4513)));
    float w_81 = (F32_exp((dot_0((*sv_sites_22)[int(1)], _S4512) - _S4513)));
    float w_82 = (F32_exp((dot_0((*sv_sites_22)[int(2)], _S4512) - _S4513)));
    float w_83 = (F32_exp((0.0f)));
    *rgb_30 = max_0((make_float3 (w_80) * (*sv_colors_22)[int(0)] + make_float3 (w_81) * (*sv_colors_22)[int(1)] + make_float3 (w_82) * (*sv_colors_22)[int(2)] + make_float3 (w_83) * (*sv_colors_22)[int(3)]) / make_float3 (w_80 + w_81 + w_82 + w_83) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_46, float3  mean_43, float4  quat_44, float3  scale_43, float in_opacity_38, FixedArray<float3 , 4>  * sv_sites_23, FixedArray<float3 , 4>  * sv_colors_23, Matrix<float, 3, 3>  R_45, float3  t_41, float fx_55, float fy_55, float cx_50, float cy_50, FixedArray<float, 10>  * dist_coeffs_59, uint image_width_46, uint image_height_46, float near_plane_37, float far_plane_37, int4  * aabb_xyxy_33, float2  * mean2d_37, float * depth_30, float3  * conic_29, float * opacity_33, float3  * rgb_31)
{
    float3  mean_c_42 = mul_0(R_45, mean_43) + t_41;
    float4  intrins_37 = make_float4 (fx_55, fy_55, cx_50, cy_50);
    float3  _S4514 = exp_0(scale_43);
    float x_61 = quat_44.y;
    float x2_48 = x_61 * x_61;
    float y2_48 = quat_44.z * quat_44.z;
    float z2_63 = quat_44.w * quat_44.w;
    float xy_48 = quat_44.y * quat_44.z;
    float xz_48 = quat_44.y * quat_44.w;
    float yz_48 = quat_44.z * quat_44.w;
    float wx_48 = quat_44.x * quat_44.y;
    float wy_48 = quat_44.x * quat_44.z;
    float wz_48 = quat_44.x * quat_44.w;
    Matrix<float, 3, 3>  _S4515 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_48 + z2_63), 2.0f * (xy_48 + wz_48), 2.0f * (xz_48 - wy_48), 2.0f * (xy_48 - wz_48), 1.0f - 2.0f * (x2_48 + z2_63), 2.0f * (yz_48 + wx_48), 2.0f * (xz_48 + wy_48), 2.0f * (yz_48 - wx_48), 1.0f - 2.0f * (x2_48 + y2_48))));
    SigmaPoints_0 ret_23;
    (&ret_23)->p_0[int(0)] = mean_43;
    (&ret_23)->w_mean_0[int(0)] = 0.0f;
    (&ret_23)->w_cov_0[int(0)] = 2.0f;
    float _S4516 = (F32_sqrt((3.0f)));
    float3  delta_99 = make_float3 (_S4516 * _S4514.x) * _S4515.rows[0U];
    float3  _S4517 = mean_43 + delta_99;
    float3  _S4518 = mean_43 - delta_99;
    float3  delta_100 = make_float3 (_S4516 * _S4514.y) * _S4515.rows[1U];
    float3  _S4519 = mean_43 + delta_100;
    float3  _S4520 = mean_43 - delta_100;
    float3  delta_101 = make_float3 (_S4516 * _S4514.z) * _S4515.rows[2U];
    float3  _S4521 = mean_43 + delta_101;
    float3  _S4522 = mean_43 - delta_101;
    (&ret_23)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_23)->p_0[0U] = mul_0(R_45, (&ret_23)->p_0[0U]) + t_41;
    (&ret_23)->p_0[1U] = mul_0(R_45, _S4517) + t_41;
    (&ret_23)->p_0[2U] = mul_0(R_45, _S4519) + t_41;
    (&ret_23)->p_0[3U] = mul_0(R_45, _S4521) + t_41;
    (&ret_23)->p_0[4U] = mul_0(R_45, _S4518) + t_41;
    (&ret_23)->p_0[5U] = mul_0(R_45, _S4520) + t_41;
    (&ret_23)->p_0[6U] = mul_0(R_45, _S4522) + t_41;
    SigmaPoints_0 _S4523 = ret_23;
    Matrix<float, 2, 2>  covar2d_29;
    bool _S4524 = fisheye_proj_3dgs_ut_1(&_S4523, intrins_37, dist_coeffs_59, &covar2d_29, mean2d_37);
    float det_orig_43 = *&(((&covar2d_29)->rows + (int(0)))->x) * *&(((&covar2d_29)->rows + (int(1)))->y) - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x);
    float _S4525 = *&(((&covar2d_29)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(0)))->x) = _S4525;
    float _S4526 = *&(((&covar2d_29)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(1)))->y) = _S4526;
    float compensation_30 = (F32_sqrt(((F32_max((0.0f), (det_orig_43 / (_S4525 * _S4526 - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x))))))));
    *opacity_33 = 1.0f / (1.0f + (F32_exp((- in_opacity_38))));
    if(antialiased_46)
    {
        *opacity_33 = *opacity_33 * compensation_30;
    }
    float extend_29 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_33 / 0.00392156885936856f)))))))));
    float radius_x_33 = extend_29 * (F32_sqrt((covar2d_29[int(0)].x)));
    float radius_y_33 = extend_29 * (F32_sqrt((covar2d_29[int(1)].y)));
    *aabb_xyxy_33 = make_int4 (int((F32_floor(((*mean2d_37).x - radius_x_33)))), int((F32_floor(((*mean2d_37).y - radius_y_33)))), int((F32_ceil(((*mean2d_37).x + radius_x_33)))), int((F32_ceil(((*mean2d_37).y + radius_y_33)))));
    *depth_30 = 0.5f * (F32_log((dot_0(mean_c_42, mean_c_42) + 9.99999997475242708e-07f)));
    *conic_29 = exp_0(- scale_43);
    float3  _S4527 = mean_43 - - mul_0(transpose_0(R_45), t_41);
    float3  _S4528 = _S4527 * make_float3 ((F32_rsqrt((dot_0(_S4527, _S4527)))));
    float _S4529 = dot_0((*sv_sites_23)[int(3)], _S4528);
    float w_84 = (F32_exp((dot_0((*sv_sites_23)[int(0)], _S4528) - _S4529)));
    float w_85 = (F32_exp((dot_0((*sv_sites_23)[int(1)], _S4528) - _S4529)));
    float w_86 = (F32_exp((dot_0((*sv_sites_23)[int(2)], _S4528) - _S4529)));
    float w_87 = (F32_exp((0.0f)));
    *rgb_31 = max_0((make_float3 (w_84) * (*sv_colors_23)[int(0)] + make_float3 (w_85) * (*sv_colors_23)[int(1)] + make_float3 (w_86) * (*sv_colors_23)[int(2)] + make_float3 (w_87) * (*sv_colors_23)[int(3)]) / make_float3 (w_84 + w_85 + w_86 + w_87) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0
{
    FixedArray<float3 , 4>  primal_0;
    FixedArray<float3 , 4>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S4530;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(bool antialiased_47, float3  dpmean_10, float4  dpquat_9, float3  dpscale_9, float dpin_opacity_8, FixedArray<float3 , 4>  * dpsv_sites_8, FixedArray<float3 , 4>  * dpsv_colors_8, Matrix<float, 3, 3>  dpR_10, float3  dpt_9, float fx_56, float fy_56, float cx_51, float cy_51, FixedArray<float, 10>  * dist_coeffs_60, uint image_width_47, uint image_height_47, float near_plane_38, float far_plane_38, int4  * aabb_xyxy_34, float2  * dpmean2d_10, float * dpdepth_9, float3  * dpconic_8, float * dpopacity_10, float3  * dprgb_9, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_22)
{
    Matrix<float, 2, 2>  _S4531 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_22->_S4530 = _S4531;
    float2  _S4532 = make_float2 (0.0f);
    float3  _S4533 = make_float3 (0.0f);
    float3  mean_c_43 = s_primal_ctx_mul_0(dpR_10, dpmean_10) + dpt_9;
    float4  intrins_38 = make_float4 (fx_56, fy_56, cx_51, cy_51);
    float3  _S4534 = s_primal_ctx_exp_0(dpscale_9);
    float _S4535 = dpquat_9.y;
    float x2_49 = _S4535 * _S4535;
    float y2_49 = dpquat_9.z * dpquat_9.z;
    float z2_64 = dpquat_9.w * dpquat_9.w;
    float xy_49 = dpquat_9.y * dpquat_9.z;
    float xz_49 = dpquat_9.y * dpquat_9.w;
    float yz_49 = dpquat_9.z * dpquat_9.w;
    float wx_49 = dpquat_9.x * dpquat_9.y;
    float wy_49 = dpquat_9.x * dpquat_9.z;
    float wz_49 = dpquat_9.x * dpquat_9.w;
    Matrix<float, 3, 3>  _S4536 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_49 + z2_64), 2.0f * (xy_49 + wz_49), 2.0f * (xz_49 - wy_49), 2.0f * (xy_49 - wz_49), 1.0f - 2.0f * (x2_49 + z2_64), 2.0f * (yz_49 + wx_49), 2.0f * (xz_49 + wy_49), 2.0f * (yz_49 - wx_49), 1.0f - 2.0f * (x2_49 + y2_49))));
    FixedArray<float3 , 7>  _S4537 = {
        _S4533, _S4533, _S4533, _S4533, _S4533, _S4533, _S4533
    };
    FixedArray<float, 7>  _S4538 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4539;
    (&_S4539)->p_0 = _S4537;
    (&_S4539)->w_mean_0 = _S4538;
    (&_S4539)->w_cov_0 = _S4538;
    (&_S4539)->p_0[int(0)] = dpmean_10;
    SigmaPoints_0 _S4540 = _S4539;
    (&_S4540)->w_mean_0[int(0)] = 0.0f;
    (&_S4540)->w_cov_0[int(0)] = 2.0f;
    float _S4541 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_102 = make_float3 (_S4541 * _S4534.x) * _S4536.rows[0U];
    float3  _S4542 = dpmean_10 + delta_102;
    float3  _S4543 = dpmean_10 - delta_102;
    float3  delta_103 = make_float3 (_S4541 * _S4534.y) * _S4536.rows[1U];
    float3  _S4544 = dpmean_10 + delta_103;
    float3  _S4545 = dpmean_10 - delta_103;
    float3  delta_104 = make_float3 (_S4541 * _S4534.z) * _S4536.rows[2U];
    float3  _S4546 = dpmean_10 + delta_104;
    float3  _S4547 = dpmean_10 - delta_104;
    (&_S4540)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4540)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4540)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4540)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4540)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4540)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4540)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4540)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4540)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4540)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4540)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4540)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4540)->p_0[0U] = s_primal_ctx_mul_0(dpR_10, _S4539.p_0[0U]) + dpt_9;
    (&_S4540)->p_0[1U] = s_primal_ctx_mul_0(dpR_10, _S4542) + dpt_9;
    (&_S4540)->p_0[2U] = s_primal_ctx_mul_0(dpR_10, _S4544) + dpt_9;
    (&_S4540)->p_0[3U] = s_primal_ctx_mul_0(dpR_10, _S4546) + dpt_9;
    (&_S4540)->p_0[4U] = s_primal_ctx_mul_0(dpR_10, _S4543) + dpt_9;
    (&_S4540)->p_0[5U] = s_primal_ctx_mul_0(dpR_10, _S4545) + dpt_9;
    (&_S4540)->p_0[6U] = s_primal_ctx_mul_0(dpR_10, _S4547) + dpt_9;
    float2  _S4548 = _S4532;
    Matrix<float, 2, 2>  _S4549 = _S4531;
    SigmaPoints_0 _S4550 = _S4540;
    bool _S4551 = persp_proj_3dgs_ut_1(&_S4550, intrins_38, dist_coeffs_60, image_width_47, image_height_47, &_S4549, &_S4548);
    _s_diff_ctx_22->_S4530 = _S4549;
    float2  _S4552 = _S4548;
    float _S4553 = _S4549.rows[int(0)].y * _S4549.rows[int(1)].x;
    float det_orig_44 = _S4549.rows[int(0)].x * _S4549.rows[int(1)].y - _S4553;
    float _S4554 = _S4549.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4555 = _S4549;
    *&(((&_S4555)->rows + (int(0)))->x) = _S4554;
    float _S4556 = _S4549.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4555)->rows + (int(1)))->y) = _S4556;
    Matrix<float, 2, 2>  _S4557 = _S4555;
    Matrix<float, 2, 2>  _S4558 = _S4555;
    float _S4559 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_44 / (_S4554 * _S4556 - _S4553)));
    float _S4560 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_8));
    float _S4561;
    if(antialiased_47)
    {
        _S4561 = _S4560 * _S4559;
    }
    else
    {
        _S4561 = _S4560;
    }
    float _S4562 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4561 / 0.00392156885936856f)));
    float radius_x_34 = _S4562 * s_primal_ctx_sqrt_0(_S4557.rows[int(0)].x);
    float radius_y_34 = _S4562 * s_primal_ctx_sqrt_0(_S4558.rows[int(1)].y);
    float _S4563 = _S4552.x;
    float _S4564 = _S4552.y;
    float _S4565 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_43, mean_c_43) + 9.99999997475242708e-07f);
    float3  _S4566 = s_primal_ctx_exp_0(- dpscale_9);
    float3  _S4567 = dpmean_10 - - s_primal_ctx_mul_0(transpose_0(dpR_10), dpt_9);
    float3  _S4568 = _S4567 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4567, _S4567)));
    float _S4569 = s_primal_ctx_dot_0((*dpsv_sites_8)[int(3)], _S4568);
    float _S4570 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(0)], _S4568) - _S4569);
    float _S4571 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(1)], _S4568) - _S4569);
    float _S4572 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(2)], _S4568) - _S4569);
    float _S4573 = s_primal_ctx_exp_1(0.0f);
    float3  _S4574 = s_primal_ctx_max_1((make_float3 (_S4570) * (*dpsv_colors_8)[int(0)] + make_float3 (_S4571) * (*dpsv_colors_8)[int(1)] + make_float3 (_S4572) * (*dpsv_colors_8)[int(2)] + make_float3 (_S4573) * (*dpsv_colors_8)[int(3)]) / make_float3 (_S4570 + _S4571 + _S4572 + _S4573) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_34 = make_int4 (int((F32_floor((_S4563 - radius_x_34)))), int((F32_floor((_S4564 - radius_y_34)))), int((F32_ceil((_S4563 + radius_x_34)))), int((F32_ceil((_S4564 + radius_y_34)))));
    *dpmean2d_10 = _S4552;
    *dpdepth_9 = _S4565;
    *dpconic_8 = _S4566;
    *dpopacity_10 = _S4561;
    *dprgb_9 = _S4574;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(bool antialiased_48, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_11, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_10, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_10, DiffPair_float_0 * dpin_opacity_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_9, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_11, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_10, float fx_57, float fy_57, float cx_52, float cy_52, FixedArray<float, 10>  * dist_coeffs_61, uint image_width_48, uint image_height_48, float near_plane_39, float far_plane_39, float2  dpmean2d_11, float dpdepth_10, float3  dpconic_9, float dpopacity_11, float3  dprgb_10, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_23)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4575 = *dpmean_11;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4576 = *dpquat_10;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4577 = *dpscale_10;
    FixedArray<float3 , 4>  _S4578 = dpsv_sites_9->primal_0;
    FixedArray<float3 , 4>  _S4579 = dpsv_colors_9->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4580 = *dpR_11;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4581 = *dpt_10;
    float3  _S4582 = make_float3 (0.0f);
    float3  mean_c_44 = s_primal_ctx_mul_0((*dpR_11).primal_0, (*dpmean_11).primal_0) + (*dpt_10).primal_0;
    float3  _S4583 = s_primal_ctx_exp_0((*dpscale_10).primal_0);
    float _S4584 = (*dpquat_10).primal_0.y;
    float x2_50 = _S4584 * _S4584;
    float y2_50 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.z;
    float z2_65 = (*dpquat_10).primal_0.w * (*dpquat_10).primal_0.w;
    float xy_50 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.z;
    float xz_50 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.w;
    float yz_50 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.w;
    float wx_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.y;
    float wy_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.z;
    float wz_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.w;
    Matrix<float, 3, 3>  _S4585 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_50 + z2_65), 2.0f * (xy_50 + wz_50), 2.0f * (xz_50 - wy_50), 2.0f * (xy_50 - wz_50), 1.0f - 2.0f * (x2_50 + z2_65), 2.0f * (yz_50 + wx_50), 2.0f * (xz_50 + wy_50), 2.0f * (yz_50 - wx_50), 1.0f - 2.0f * (x2_50 + y2_50))));
    FixedArray<float3 , 7>  _S4586 = {
        _S4582, _S4582, _S4582, _S4582, _S4582, _S4582, _S4582
    };
    FixedArray<float, 7>  _S4587 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4588;
    (&_S4588)->p_0 = _S4586;
    (&_S4588)->w_mean_0 = _S4587;
    (&_S4588)->w_cov_0 = _S4587;
    (&_S4588)->p_0[int(0)] = (*dpmean_11).primal_0;
    float _S4589 = s_primal_ctx_sqrt_0(3.0f);
    float _S4590 = _S4589 * _S4583.x;
    float3  _S4591 = make_float3 (_S4590);
    float3  delta_105 = make_float3 (_S4590) * _S4585.rows[0U];
    float3  _S4592 = (*dpmean_11).primal_0 + delta_105;
    float3  _S4593 = (*dpmean_11).primal_0 - delta_105;
    float _S4594 = _S4589 * _S4583.y;
    float3  _S4595 = make_float3 (_S4594);
    float3  delta_106 = make_float3 (_S4594) * _S4585.rows[1U];
    float3  _S4596 = (*dpmean_11).primal_0 + delta_106;
    float3  _S4597 = (*dpmean_11).primal_0 - delta_106;
    float _S4598 = _S4589 * _S4583.z;
    float3  _S4599 = make_float3 (_S4598);
    float3  delta_107 = make_float3 (_S4598) * _S4585.rows[2U];
    float3  _S4600 = (*dpmean_11).primal_0 + delta_107;
    float3  _S4601 = (*dpmean_11).primal_0 - delta_107;
    SigmaPoints_0 _S4602 = _S4588;
    float _S4603 = *&(((&_s_diff_ctx_23->_S4530)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_23->_S4530)->rows + (int(1)))->x);
    float det_orig_45 = *&(((&_s_diff_ctx_23->_S4530)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_23->_S4530)->rows + (int(1)))->y) - _S4603;
    float _S4604 = *&(((&_s_diff_ctx_23->_S4530)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4605 = _s_diff_ctx_23->_S4530;
    *&(((&_S4605)->rows + (int(0)))->x) = _S4604;
    float _S4606 = *&(((&_s_diff_ctx_23->_S4530)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4605)->rows + (int(1)))->y) = _S4606;
    Matrix<float, 2, 2>  _S4607 = _S4605;
    Matrix<float, 2, 2>  _S4608 = _S4605;
    float det_blur_29 = _S4604 * _S4606 - _S4603;
    float _S4609 = det_orig_45 / det_blur_29;
    float _S4610 = det_blur_29 * det_blur_29;
    float _S4611 = s_primal_ctx_max_0(0.0f, _S4609);
    float _S4612 = s_primal_ctx_sqrt_0(_S4611);
    float _S4613 = - (*dpin_opacity_9).primal_0;
    float _S4614 = 1.0f + s_primal_ctx_exp_1(_S4613);
    float _S4615 = 1.0f / _S4614;
    float _S4616 = _S4614 * _S4614;
    float _S4617;
    if(antialiased_48)
    {
        _S4617 = _S4615 * _S4612;
    }
    else
    {
        _S4617 = _S4615;
    }
    float _S4618 = _S4617 / 0.00392156885936856f;
    float _S4619 = 2.0f * s_primal_ctx_log_0(_S4618);
    float _S4620 = s_primal_ctx_sqrt_0(_S4619);
    float _S4621 = _S4607.rows[int(0)].x;
    float _S4622 = _S4608.rows[int(1)].y;
    float _S4623 = s_primal_ctx_dot_0(mean_c_44, mean_c_44) + 9.99999997475242708e-07f;
    float3  _S4624 = - _S4577.primal_0;
    Matrix<float, 3, 3>  _S4625 = transpose_0(_S4580.primal_0);
    float3  _S4626 = _S4575.primal_0 - - s_primal_ctx_mul_0(_S4625, _S4581.primal_0);
    float _S4627 = s_primal_ctx_dot_0(_S4626, _S4626);
    float _S4628 = s_primal_ctx_rsqrt_0(_S4627);
    float3  _S4629 = make_float3 (_S4628);
    float3  _S4630 = _S4626 * make_float3 (_S4628);
    float _S4631 = s_primal_ctx_dot_0(_S4578[int(3)], _S4630);
    float _S4632 = s_primal_ctx_dot_0(_S4578[int(0)], _S4630) - _S4631;
    float _S4633 = s_primal_ctx_exp_1(_S4632);
    float3  _S4634 = make_float3 (_S4633);
    float _S4635 = s_primal_ctx_dot_0(_S4578[int(1)], _S4630) - _S4631;
    float _S4636 = s_primal_ctx_exp_1(_S4635);
    float3  _S4637 = make_float3 (_S4636);
    float _S4638 = s_primal_ctx_dot_0(_S4578[int(2)], _S4630) - _S4631;
    float _S4639 = s_primal_ctx_exp_1(_S4638);
    float3  _S4640 = make_float3 (_S4639);
    float _S4641 = s_primal_ctx_exp_1(0.0f);
    float3  _S4642 = make_float3 (_S4641);
    float total_w_4 = _S4633 + _S4636 + _S4639 + _S4641;
    float3  _S4643 = make_float3 (total_w_4);
    float3  total_c_4 = make_float3 (_S4633) * _S4579[int(0)] + make_float3 (_S4636) * _S4579[int(1)] + make_float3 (_S4639) * _S4579[int(2)] + make_float3 (_S4641) * _S4579[int(3)];
    float3  _S4644 = make_float3 (total_w_4 * total_w_4);
    float3  _S4645 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4646;
    (&_S4646)->primal_0 = total_c_4 / make_float3 (total_w_4) + make_float3 (0.5f);
    (&_S4646)->differential_0 = _S4582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4647;
    (&_S4647)->primal_0 = _S4645;
    (&_S4647)->differential_0 = _S4582;
    s_bwd_prop_max_0(&_S4646, &_S4647, dprgb_10);
    float3  _S4648 = _S4646.differential_0 / _S4644;
    float3  _S4649 = total_c_4 * - _S4648;
    float3  s_diff_total_c_T_4 = _S4643 * _S4648;
    float3  _S4650 = _S4642 * s_diff_total_c_T_4;
    float _S4651 = _S4649.x + _S4649.y + _S4649.z;
    float3  _S4652 = _S4640 * s_diff_total_c_T_4;
    float3  _S4653 = _S4579[int(2)] * s_diff_total_c_T_4;
    float _S4654 = _S4651 + _S4653.x + _S4653.y + _S4653.z;
    DiffPair_float_0 _S4655;
    (&_S4655)->primal_0 = _S4638;
    (&_S4655)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4655, _S4654);
    float _S4656 = - _S4655.differential_0;
    float3  _S4657 = _S4637 * s_diff_total_c_T_4;
    float3  _S4658 = _S4579[int(1)] * s_diff_total_c_T_4;
    float _S4659 = _S4651 + _S4658.x + _S4658.y + _S4658.z;
    DiffPair_float_0 _S4660;
    (&_S4660)->primal_0 = _S4635;
    (&_S4660)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4660, _S4659);
    float _S4661 = - _S4660.differential_0;
    float3  _S4662 = _S4634 * s_diff_total_c_T_4;
    float3  _S4663 = _S4579[int(0)] * s_diff_total_c_T_4;
    float _S4664 = _S4651 + _S4663.x + _S4663.y + _S4663.z;
    DiffPair_float_0 _S4665;
    (&_S4665)->primal_0 = _S4632;
    (&_S4665)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4665, _S4664);
    float _S4666 = _S4656 + _S4661 + - _S4665.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4667;
    (&_S4667)->primal_0 = _S4578[int(3)];
    (&_S4667)->differential_0 = _S4582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4668;
    (&_S4668)->primal_0 = _S4630;
    (&_S4668)->differential_0 = _S4582;
    s_bwd_prop_dot_0(&_S4667, &_S4668, _S4666);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4669;
    (&_S4669)->primal_0 = _S4578[int(2)];
    (&_S4669)->differential_0 = _S4582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4670;
    (&_S4670)->primal_0 = _S4630;
    (&_S4670)->differential_0 = _S4582;
    s_bwd_prop_dot_0(&_S4669, &_S4670, _S4655.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4671;
    (&_S4671)->primal_0 = _S4578[int(1)];
    (&_S4671)->differential_0 = _S4582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4672;
    (&_S4672)->primal_0 = _S4630;
    (&_S4672)->differential_0 = _S4582;
    s_bwd_prop_dot_0(&_S4671, &_S4672, _S4660.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4673;
    (&_S4673)->primal_0 = _S4578[int(0)];
    (&_S4673)->differential_0 = _S4582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4674;
    (&_S4674)->primal_0 = _S4630;
    (&_S4674)->differential_0 = _S4582;
    s_bwd_prop_dot_0(&_S4673, &_S4674, _S4665.differential_0);
    float3  _S4675 = _S4668.differential_0 + _S4670.differential_0 + _S4672.differential_0 + _S4674.differential_0;
    float3  _S4676 = _S4626 * _S4675;
    float3  _S4677 = _S4629 * _S4675;
    float _S4678 = _S4676.x + _S4676.y + _S4676.z;
    DiffPair_float_0 _S4679;
    (&_S4679)->primal_0 = _S4627;
    (&_S4679)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4679, _S4678);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4680;
    (&_S4680)->primal_0 = _S4626;
    (&_S4680)->differential_0 = _S4582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4681;
    (&_S4681)->primal_0 = _S4626;
    (&_S4681)->differential_0 = _S4582;
    s_bwd_prop_dot_0(&_S4680, &_S4681, _S4679.differential_0);
    float3  _S4682 = _S4677 + _S4681.differential_0 + _S4680.differential_0;
    float3  _S4683 = - - _S4682;
    Matrix<float, 3, 3>  _S4684 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4685;
    (&_S4685)->primal_0 = _S4625;
    (&_S4685)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4686;
    (&_S4686)->primal_0 = _S4581.primal_0;
    (&_S4686)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4685, &_S4686, _S4683);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4687 = _S4686;
    Matrix<float, 3, 3>  _S4688 = transpose_0(_S4685.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4689;
    (&_S4689)->primal_0 = _S4624;
    (&_S4689)->differential_0 = _S4582;
    s_bwd_prop_exp_1(&_S4689, dpconic_9);
    float3  _S4690 = - _S4689.differential_0;
    float _S4691 = 0.5f * dpdepth_10;
    DiffPair_float_0 _S4692;
    (&_S4692)->primal_0 = _S4623;
    (&_S4692)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4692, _S4691);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4693;
    (&_S4693)->primal_0 = mean_c_44;
    (&_S4693)->differential_0 = _S4582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4694;
    (&_S4694)->primal_0 = mean_c_44;
    (&_S4694)->differential_0 = _S4582;
    s_bwd_prop_dot_0(&_S4693, &_S4694, _S4692.differential_0);
    DiffPair_float_0 _S4695;
    (&_S4695)->primal_0 = _S4622;
    (&_S4695)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4695, 0.0f);
    DiffPair_float_0 _S4696;
    (&_S4696)->primal_0 = _S4621;
    (&_S4696)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4696, 0.0f);
    DiffPair_float_0 _S4697;
    (&_S4697)->primal_0 = 3.32999992370605469f;
    (&_S4697)->differential_0 = 0.0f;
    DiffPair_float_0 _S4698;
    (&_S4698)->primal_0 = _S4620;
    (&_S4698)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4697, &_S4698, 0.0f);
    DiffPair_float_0 _S4699;
    (&_S4699)->primal_0 = _S4619;
    (&_S4699)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4699, _S4698.differential_0);
    float _S4700 = 2.0f * _S4699.differential_0;
    DiffPair_float_0 _S4701;
    (&_S4701)->primal_0 = _S4618;
    (&_S4701)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4701, _S4700);
    float _S4702 = dpopacity_11 + 254.9999847412109375f * _S4701.differential_0;
    FixedArray<float3 , 4>  _S4703;
    _S4703[int(0)] = _S4582;
    _S4703[int(1)] = _S4582;
    _S4703[int(2)] = _S4582;
    _S4703[int(3)] = _S4582;
    _S4703[int(3)] = _S4650;
    _S4703[int(2)] = _S4652;
    _S4703[int(1)] = _S4657;
    _S4703[int(0)] = _S4662;
    FixedArray<float3 , 4>  _S4704 = {
        _S4703[int(0)], _S4703[int(1)], _S4703[int(2)], _S4703[int(3)]
    };
    FixedArray<float3 , 4>  _S4705;
    _S4705[int(0)] = _S4582;
    _S4705[int(1)] = _S4582;
    _S4705[int(2)] = _S4582;
    _S4705[int(3)] = _S4582;
    _S4705[int(3)] = _S4667.differential_0;
    _S4705[int(2)] = _S4669.differential_0;
    _S4705[int(1)] = _S4671.differential_0;
    _S4705[int(0)] = _S4673.differential_0;
    FixedArray<float3 , 4>  _S4706 = {
        _S4705[int(0)], _S4705[int(1)], _S4705[int(2)], _S4705[int(3)]
    };
    float3  _S4707 = _S4694.differential_0 + _S4693.differential_0;
    float2  _S4708 = make_float2 (0.0f, _S4695.differential_0);
    float2  _S4709 = make_float2 (_S4696.differential_0, 0.0f);
    float _S4710;
    if(antialiased_48)
    {
        float _S4711 = _S4615 * _S4702;
        _S4617 = _S4612 * _S4702;
        _S4710 = _S4711;
    }
    else
    {
        _S4617 = _S4702;
        _S4710 = 0.0f;
    }
    float _S4712 = - (_S4617 / _S4616);
    DiffPair_float_0 _S4713;
    (&_S4713)->primal_0 = _S4613;
    (&_S4713)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4713, _S4712);
    float _S4714 = - _S4713.differential_0;
    DiffPair_float_0 _S4715;
    (&_S4715)->primal_0 = _S4611;
    (&_S4715)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4715, _S4710);
    DiffPair_float_0 _S4716;
    (&_S4716)->primal_0 = 0.0f;
    (&_S4716)->differential_0 = 0.0f;
    DiffPair_float_0 _S4717;
    (&_S4717)->primal_0 = _S4609;
    (&_S4717)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4716, &_S4717, _S4715.differential_0);
    float _S4718 = _S4717.differential_0 / _S4610;
    float s_diff_det_blur_T_6 = det_orig_45 * - _S4718;
    float s_diff_det_orig_T_9 = det_blur_29 * _S4718;
    float _S4719 = - s_diff_det_blur_T_6;
    float _S4720 = _S4604 * s_diff_det_blur_T_6;
    float _S4721 = _S4606 * s_diff_det_blur_T_6;
    Matrix<float, 2, 2>  _S4722 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4723 = _S4722;
    _S4723[int(1)] = _S4708;
    _S4723[int(0)] = _S4709;
    float _S4724 = _S4721 + _S4723.rows[int(0)].x;
    float _S4725 = _S4719 + - s_diff_det_orig_T_9;
    float _S4726 = *&(((&_s_diff_ctx_23->_S4530)->rows + (int(0)))->y) * _S4725;
    float _S4727 = *&(((&_s_diff_ctx_23->_S4530)->rows + (int(1)))->x) * _S4725;
    float _S4728 = *&(((&_s_diff_ctx_23->_S4530)->rows + (int(1)))->y) * s_diff_det_orig_T_9;
    float _S4729 = _S4720 + _S4723.rows[int(1)].y + *&(((&_s_diff_ctx_23->_S4530)->rows + (int(0)))->x) * s_diff_det_orig_T_9;
    float2  _S4730 = make_float2 (0.0f);
    float2  _S4731 = _S4730;
    *&((&_S4731)->x) = _S4726;
    *&((&_S4731)->y) = _S4729;
    float _S4732 = _S4724 + _S4728;
    float2  _S4733 = _S4730;
    *&((&_S4733)->y) = _S4727;
    *&((&_S4733)->x) = _S4732;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4734;
    (&_S4734)->primal_0 = _S4580.primal_0;
    (&_S4734)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4735;
    (&_S4735)->primal_0 = _S4601;
    (&_S4735)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4734, &_S4735, _S4582);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4736;
    (&_S4736)->primal_0 = _S4580.primal_0;
    (&_S4736)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4737;
    (&_S4737)->primal_0 = _S4597;
    (&_S4737)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4736, &_S4737, _S4582);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4738;
    (&_S4738)->primal_0 = _S4580.primal_0;
    (&_S4738)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4739;
    (&_S4739)->primal_0 = _S4593;
    (&_S4739)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4738, &_S4739, _S4582);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4740;
    (&_S4740)->primal_0 = _S4580.primal_0;
    (&_S4740)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4741;
    (&_S4741)->primal_0 = _S4600;
    (&_S4741)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4740, &_S4741, _S4582);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4742;
    (&_S4742)->primal_0 = _S4580.primal_0;
    (&_S4742)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4743;
    (&_S4743)->primal_0 = _S4596;
    (&_S4743)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4742, &_S4743, _S4582);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4744;
    (&_S4744)->primal_0 = _S4580.primal_0;
    (&_S4744)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4745;
    (&_S4745)->primal_0 = _S4592;
    (&_S4745)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4744, &_S4745, _S4582);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4746;
    (&_S4746)->primal_0 = _S4580.primal_0;
    (&_S4746)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4747;
    (&_S4747)->primal_0 = _S4602.p_0[0U];
    (&_S4747)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4746, &_S4747, _S4582);
    float3  _S4748 = - _S4735.differential_0 + _S4741.differential_0;
    float3  _S4749 = _S4599 * _S4748;
    float3  _S4750 = _S4585.rows[2U] * _S4748;
    float _S4751 = _S4589 * (_S4750.x + _S4750.y + _S4750.z);
    float3  _S4752 = - _S4737.differential_0 + _S4743.differential_0;
    float3  _S4753 = _S4595 * _S4752;
    float3  _S4754 = _S4585.rows[1U] * _S4752;
    float _S4755 = _S4589 * (_S4754.x + _S4754.y + _S4754.z);
    float3  _S4756 = - _S4739.differential_0 + _S4745.differential_0;
    float3  _S4757 = _S4591 * _S4756;
    float3  _S4758 = _S4585.rows[0U] * _S4756;
    float _S4759 = _S4589 * (_S4758.x + _S4758.y + _S4758.z);
    Matrix<float, 3, 3>  _S4760 = _S4684;
    _S4760[2U] = _S4749;
    _S4760[1U] = _S4753;
    _S4760[0U] = _S4757;
    Matrix<float, 3, 3>  _S4761 = transpose_0(transpose_0(_S4760));
    float _S4762 = 2.0f * - _S4761.rows[int(2)].z;
    float _S4763 = 2.0f * _S4761.rows[int(2)].y;
    float _S4764 = 2.0f * _S4761.rows[int(2)].x;
    float _S4765 = 2.0f * _S4761.rows[int(1)].z;
    float _S4766 = 2.0f * - _S4761.rows[int(1)].y;
    float _S4767 = 2.0f * _S4761.rows[int(1)].x;
    float _S4768 = 2.0f * _S4761.rows[int(0)].z;
    float _S4769 = 2.0f * _S4761.rows[int(0)].y;
    float _S4770 = 2.0f * - _S4761.rows[int(0)].x;
    float _S4771 = - _S4767 + _S4769;
    float _S4772 = _S4764 + - _S4768;
    float _S4773 = - _S4763 + _S4765;
    float _S4774 = _S4763 + _S4765;
    float _S4775 = _S4764 + _S4768;
    float _S4776 = _S4767 + _S4769;
    float _S4777 = _S4576.primal_0.w * (_S4766 + _S4770);
    float _S4778 = _S4576.primal_0.z * (_S4762 + _S4770);
    float _S4779 = _S4576.primal_0.y * (_S4762 + _S4766);
    float _S4780 = _S4576.primal_0.x * _S4771 + _S4576.primal_0.z * _S4774 + _S4576.primal_0.y * _S4775 + _S4777 + _S4777;
    float _S4781 = _S4576.primal_0.x * _S4772 + _S4576.primal_0.w * _S4774 + _S4576.primal_0.y * _S4776 + _S4778 + _S4778;
    float _S4782 = _S4576.primal_0.x * _S4773 + _S4576.primal_0.w * _S4775 + _S4576.primal_0.z * _S4776 + _S4779 + _S4779;
    float _S4783 = _S4576.primal_0.w * _S4771 + _S4576.primal_0.z * _S4772 + _S4576.primal_0.y * _S4773;
    float3  _S4784 = _S4582;
    *&((&_S4784)->z) = _S4751;
    *&((&_S4784)->y) = _S4755;
    *&((&_S4784)->x) = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4785;
    (&_S4785)->primal_0 = _S4577.primal_0;
    (&_S4785)->differential_0 = _S4582;
    s_bwd_prop_exp_1(&_S4785, _S4784);
    Matrix<float, 2, 2>  _S4786 = _S4722;
    _S4786[int(1)] = _S4731;
    _S4786[int(0)] = _S4733;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4787;
    (&_S4787)->primal_0 = _S4580.primal_0;
    (&_S4787)->differential_0 = _S4684;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4788;
    (&_S4788)->primal_0 = _S4575.primal_0;
    (&_S4788)->differential_0 = _S4582;
    s_bwd_prop_mul_1(&_S4787, &_S4788, _S4707);
    float3  _S4789 = _S4707 + _S4687.differential_0;
    dpt_10->primal_0 = (*dpt_10).primal_0;
    dpt_10->differential_0 = _S4789;
    Matrix<float, 3, 3>  _S4790 = _S4734.differential_0 + _S4736.differential_0 + _S4738.differential_0 + _S4740.differential_0 + _S4742.differential_0 + _S4744.differential_0 + _S4746.differential_0 + _S4787.differential_0 + _S4688;
    dpR_11->primal_0 = (*dpR_11).primal_0;
    dpR_11->differential_0 = _S4790;
    dpsv_colors_9->primal_0 = dpsv_colors_9->primal_0;
    dpsv_colors_9->differential_0 = _S4704;
    dpsv_sites_9->primal_0 = dpsv_sites_9->primal_0;
    dpsv_sites_9->differential_0 = _S4706;
    dpin_opacity_9->primal_0 = (*dpin_opacity_9).primal_0;
    dpin_opacity_9->differential_0 = _S4714;
    float3  _S4791 = _S4785.differential_0 + _S4690;
    dpscale_10->primal_0 = (*dpscale_10).primal_0;
    dpscale_10->differential_0 = _S4791;
    float4  _S4792 = make_float4 (0.0f);
    *&((&_S4792)->w) = _S4780;
    *&((&_S4792)->z) = _S4781;
    *&((&_S4792)->y) = _S4782;
    *&((&_S4792)->x) = _S4783;
    dpquat_10->primal_0 = (*dpquat_10).primal_0;
    dpquat_10->differential_0 = _S4792;
    float3  _S4793 = _S4735.differential_0 + _S4741.differential_0 + _S4737.differential_0 + _S4743.differential_0 + _S4739.differential_0 + _S4745.differential_0 + _S4788.differential_0 + _S4682;
    dpmean_11->primal_0 = (*dpmean_11).primal_0;
    dpmean_11->differential_0 = _S4793;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_2(bool _S4794, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4795, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4796, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4797, DiffPair_float_0 * _S4798, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S4799, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S4800, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4801, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4802, float _S4803, float _S4804, float _S4805, float _S4806, FixedArray<float, 10>  * _S4807, uint _S4808, uint _S4809, float _S4810, float _S4811, float2  _S4812, float _S4813, float3  _S4814, float _S4815, float3  _S4816)
{
    FixedArray<float3 , 4>  _S4817 = _S4799->primal_0;
    FixedArray<float3 , 4>  _S4818 = _S4800->primal_0;
    int4  _S4819;
    float2  _S4820;
    float _S4821;
    float3  _S4822;
    float _S4823;
    float3  _S4824;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S4825;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(_S4794, (*_S4795).primal_0, (*_S4796).primal_0, (*_S4797).primal_0, (*_S4798).primal_0, &_S4817, &_S4818, (*_S4801).primal_0, (*_S4802).primal_0, _S4803, _S4804, _S4805, _S4806, _S4807, _S4808, _S4809, _S4810, _S4811, &_S4819, &_S4820, &_S4821, &_S4822, &_S4823, &_S4824, &_S4825);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S4826 = _S4825;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(_S4794, _S4795, _S4796, _S4797, _S4798, _S4799, _S4800, _S4801, _S4802, _S4803, _S4804, _S4805, _S4806, _S4807, _S4808, _S4809, _S4810, _S4811, _S4812, _S4813, _S4814, _S4815, _S4816, &_S4826);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_49, float3  mean_44, float4  quat_45, float3  scale_44, float in_opacity_39, FixedArray<float3 , 4>  * sv_sites_24, FixedArray<float3 , 4>  * sv_colors_24, Matrix<float, 3, 3>  R_46, float3  t_42, float fx_58, float fy_58, float cx_53, float cy_53, FixedArray<float, 10>  * dist_coeffs_62, uint image_width_49, uint image_height_49, float2  v_mean2d_9, float v_depth_10, float3  v_conic_9, float v_opacity_11, float3  v_rgb_10, float3  * v_mean_11, float4  * v_quat_10, float3  * v_scale_10, float * v_in_opacity_9, FixedArray<float3 , 4>  * v_sv_dirs_4, FixedArray<float3 , 4>  * v_sv_colors_4, Matrix<float, 3, 3>  * v_R_11, float3  * v_t_10)
{
    float3  _S4827 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_6;
    (&dp_mean_6)->primal_0 = mean_44;
    (&dp_mean_6)->differential_0 = _S4827;
    float4  _S4828 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_5;
    (&dp_quat_5)->primal_0 = quat_45;
    (&dp_quat_5)->differential_0 = _S4828;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_5;
    (&dp_scale_5)->primal_0 = scale_44;
    (&dp_scale_5)->differential_0 = _S4827;
    DiffPair_float_0 dp_in_opacity_4;
    (&dp_in_opacity_4)->primal_0 = in_opacity_39;
    (&dp_in_opacity_4)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S4829 = { _S4827, _S4827, _S4827, _S4827 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_4;
    (&dp_sv_dirs_4)->primal_0 = *sv_sites_24;
    (&dp_sv_dirs_4)->differential_0 = _S4829;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_4;
    (&dp_sv_colors_4)->primal_0 = *sv_colors_24;
    (&dp_sv_colors_4)->differential_0 = _S4829;
    Matrix<float, 3, 3>  _S4830 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_6;
    (&dp_R_6)->primal_0 = R_46;
    (&dp_R_6)->differential_0 = _S4830;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_5;
    (&dp_t_5)->primal_0 = t_42;
    (&dp_t_5)->differential_0 = _S4827;
    s_bwd_projection_3dgut_sv_persp_differentiable_2(antialiased_49, &dp_mean_6, &dp_quat_5, &dp_scale_5, &dp_in_opacity_4, &dp_sv_dirs_4, &dp_sv_colors_4, &dp_R_6, &dp_t_5, fx_58, fy_58, cx_53, cy_53, dist_coeffs_62, image_width_49, image_height_49, 0.0f, 1.00000001504746622e+30f, v_mean2d_9, v_depth_10, v_conic_9, v_opacity_11, v_rgb_10);
    *v_mean_11 = dp_mean_6.differential_0;
    *v_quat_10 = dp_quat_5.differential_0;
    *v_scale_10 = dp_scale_5.differential_0;
    *v_in_opacity_9 = dp_in_opacity_4.differential_0;
    *v_sv_dirs_4 = (&dp_sv_dirs_4)->differential_0;
    *v_sv_colors_4 = (&dp_sv_colors_4)->differential_0;
    *v_R_11 = dp_R_6.differential_0;
    *v_t_10 = dp_t_5.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S4831;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_50, float3  dpmean_12, float4  dpquat_11, float3  dpscale_11, float dpin_opacity_10, FixedArray<float3 , 4>  * dpsv_sites_10, FixedArray<float3 , 4>  * dpsv_colors_10, Matrix<float, 3, 3>  dpR_12, float3  dpt_11, float fx_59, float fy_59, float cx_54, float cy_54, FixedArray<float, 10>  * dist_coeffs_63, uint image_width_50, uint image_height_50, float near_plane_40, float far_plane_40, int4  * aabb_xyxy_35, float2  * dpmean2d_12, float * dpdepth_11, float3  * dpconic_10, float * dpopacity_12, float3  * dprgb_11, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_24)
{
    Matrix<float, 2, 2>  _S4832 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_24->_S4831 = _S4832;
    float2  _S4833 = make_float2 (0.0f);
    float3  _S4834 = make_float3 (0.0f);
    float3  mean_c_45 = s_primal_ctx_mul_0(dpR_12, dpmean_12) + dpt_11;
    float4  intrins_39 = make_float4 (fx_59, fy_59, cx_54, cy_54);
    float3  _S4835 = s_primal_ctx_exp_0(dpscale_11);
    float _S4836 = dpquat_11.y;
    float x2_51 = _S4836 * _S4836;
    float y2_51 = dpquat_11.z * dpquat_11.z;
    float z2_66 = dpquat_11.w * dpquat_11.w;
    float xy_51 = dpquat_11.y * dpquat_11.z;
    float xz_51 = dpquat_11.y * dpquat_11.w;
    float yz_51 = dpquat_11.z * dpquat_11.w;
    float wx_51 = dpquat_11.x * dpquat_11.y;
    float wy_51 = dpquat_11.x * dpquat_11.z;
    float wz_51 = dpquat_11.x * dpquat_11.w;
    Matrix<float, 3, 3>  _S4837 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_51 + z2_66), 2.0f * (xy_51 + wz_51), 2.0f * (xz_51 - wy_51), 2.0f * (xy_51 - wz_51), 1.0f - 2.0f * (x2_51 + z2_66), 2.0f * (yz_51 + wx_51), 2.0f * (xz_51 + wy_51), 2.0f * (yz_51 - wx_51), 1.0f - 2.0f * (x2_51 + y2_51))));
    FixedArray<float3 , 7>  _S4838 = {
        _S4834, _S4834, _S4834, _S4834, _S4834, _S4834, _S4834
    };
    FixedArray<float, 7>  _S4839 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4840;
    (&_S4840)->p_0 = _S4838;
    (&_S4840)->w_mean_0 = _S4839;
    (&_S4840)->w_cov_0 = _S4839;
    (&_S4840)->p_0[int(0)] = dpmean_12;
    SigmaPoints_0 _S4841 = _S4840;
    (&_S4841)->w_mean_0[int(0)] = 0.0f;
    (&_S4841)->w_cov_0[int(0)] = 2.0f;
    float _S4842 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_108 = make_float3 (_S4842 * _S4835.x) * _S4837.rows[0U];
    float3  _S4843 = dpmean_12 + delta_108;
    float3  _S4844 = dpmean_12 - delta_108;
    float3  delta_109 = make_float3 (_S4842 * _S4835.y) * _S4837.rows[1U];
    float3  _S4845 = dpmean_12 + delta_109;
    float3  _S4846 = dpmean_12 - delta_109;
    float3  delta_110 = make_float3 (_S4842 * _S4835.z) * _S4837.rows[2U];
    float3  _S4847 = dpmean_12 + delta_110;
    float3  _S4848 = dpmean_12 - delta_110;
    (&_S4841)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4841)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4841)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4841)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4841)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4841)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4841)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4841)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4841)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4841)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4841)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4841)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4841)->p_0[0U] = s_primal_ctx_mul_0(dpR_12, _S4840.p_0[0U]) + dpt_11;
    (&_S4841)->p_0[1U] = s_primal_ctx_mul_0(dpR_12, _S4843) + dpt_11;
    (&_S4841)->p_0[2U] = s_primal_ctx_mul_0(dpR_12, _S4845) + dpt_11;
    (&_S4841)->p_0[3U] = s_primal_ctx_mul_0(dpR_12, _S4847) + dpt_11;
    (&_S4841)->p_0[4U] = s_primal_ctx_mul_0(dpR_12, _S4844) + dpt_11;
    (&_S4841)->p_0[5U] = s_primal_ctx_mul_0(dpR_12, _S4846) + dpt_11;
    (&_S4841)->p_0[6U] = s_primal_ctx_mul_0(dpR_12, _S4848) + dpt_11;
    float2  _S4849 = _S4833;
    Matrix<float, 2, 2>  _S4850 = _S4832;
    SigmaPoints_0 _S4851 = _S4841;
    bool _S4852 = fisheye_proj_3dgs_ut_1(&_S4851, intrins_39, dist_coeffs_63, &_S4850, &_S4849);
    _s_diff_ctx_24->_S4831 = _S4850;
    float2  _S4853 = _S4849;
    float _S4854 = _S4850.rows[int(0)].y * _S4850.rows[int(1)].x;
    float det_orig_46 = _S4850.rows[int(0)].x * _S4850.rows[int(1)].y - _S4854;
    float _S4855 = _S4850.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4856 = _S4850;
    *&(((&_S4856)->rows + (int(0)))->x) = _S4855;
    float _S4857 = _S4850.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4856)->rows + (int(1)))->y) = _S4857;
    Matrix<float, 2, 2>  _S4858 = _S4856;
    Matrix<float, 2, 2>  _S4859 = _S4856;
    float _S4860 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_46 / (_S4855 * _S4857 - _S4854)));
    float _S4861 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_10));
    float _S4862;
    if(antialiased_50)
    {
        _S4862 = _S4861 * _S4860;
    }
    else
    {
        _S4862 = _S4861;
    }
    float _S4863 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4862 / 0.00392156885936856f)));
    float radius_x_35 = _S4863 * s_primal_ctx_sqrt_0(_S4858.rows[int(0)].x);
    float radius_y_35 = _S4863 * s_primal_ctx_sqrt_0(_S4859.rows[int(1)].y);
    float _S4864 = _S4853.x;
    float _S4865 = _S4853.y;
    float _S4866 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_45, mean_c_45) + 9.99999997475242708e-07f);
    float3  _S4867 = s_primal_ctx_exp_0(- dpscale_11);
    float3  _S4868 = dpmean_12 - - s_primal_ctx_mul_0(transpose_0(dpR_12), dpt_11);
    float3  _S4869 = _S4868 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4868, _S4868)));
    float _S4870 = s_primal_ctx_dot_0((*dpsv_sites_10)[int(3)], _S4869);
    float _S4871 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(0)], _S4869) - _S4870);
    float _S4872 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(1)], _S4869) - _S4870);
    float _S4873 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(2)], _S4869) - _S4870);
    float _S4874 = s_primal_ctx_exp_1(0.0f);
    float3  _S4875 = s_primal_ctx_max_1((make_float3 (_S4871) * (*dpsv_colors_10)[int(0)] + make_float3 (_S4872) * (*dpsv_colors_10)[int(1)] + make_float3 (_S4873) * (*dpsv_colors_10)[int(2)] + make_float3 (_S4874) * (*dpsv_colors_10)[int(3)]) / make_float3 (_S4871 + _S4872 + _S4873 + _S4874) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_35 = make_int4 (int((F32_floor((_S4864 - radius_x_35)))), int((F32_floor((_S4865 - radius_y_35)))), int((F32_ceil((_S4864 + radius_x_35)))), int((F32_ceil((_S4865 + radius_y_35)))));
    *dpmean2d_12 = _S4853;
    *dpdepth_11 = _S4866;
    *dpconic_10 = _S4867;
    *dpopacity_12 = _S4862;
    *dprgb_11 = _S4875;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_51, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_13, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_12, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_12, DiffPair_float_0 * dpin_opacity_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_11, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_13, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_12, float fx_60, float fy_60, float cx_55, float cy_55, FixedArray<float, 10>  * dist_coeffs_64, uint image_width_51, uint image_height_51, float near_plane_41, float far_plane_41, float2  dpmean2d_13, float dpdepth_12, float3  dpconic_11, float dpopacity_13, float3  dprgb_12, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_25)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4876 = *dpmean_13;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4877 = *dpquat_12;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4878 = *dpscale_12;
    FixedArray<float3 , 4>  _S4879 = dpsv_sites_11->primal_0;
    FixedArray<float3 , 4>  _S4880 = dpsv_colors_11->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4881 = *dpR_13;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4882 = *dpt_12;
    float3  _S4883 = make_float3 (0.0f);
    float3  mean_c_46 = s_primal_ctx_mul_0((*dpR_13).primal_0, (*dpmean_13).primal_0) + (*dpt_12).primal_0;
    float3  _S4884 = s_primal_ctx_exp_0((*dpscale_12).primal_0);
    float _S4885 = (*dpquat_12).primal_0.y;
    float x2_52 = _S4885 * _S4885;
    float y2_52 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.z;
    float z2_67 = (*dpquat_12).primal_0.w * (*dpquat_12).primal_0.w;
    float xy_52 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.z;
    float xz_52 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.w;
    float yz_52 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.w;
    float wx_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.y;
    float wy_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.z;
    float wz_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.w;
    Matrix<float, 3, 3>  _S4886 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_52 + z2_67), 2.0f * (xy_52 + wz_52), 2.0f * (xz_52 - wy_52), 2.0f * (xy_52 - wz_52), 1.0f - 2.0f * (x2_52 + z2_67), 2.0f * (yz_52 + wx_52), 2.0f * (xz_52 + wy_52), 2.0f * (yz_52 - wx_52), 1.0f - 2.0f * (x2_52 + y2_52))));
    FixedArray<float3 , 7>  _S4887 = {
        _S4883, _S4883, _S4883, _S4883, _S4883, _S4883, _S4883
    };
    FixedArray<float, 7>  _S4888 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4889;
    (&_S4889)->p_0 = _S4887;
    (&_S4889)->w_mean_0 = _S4888;
    (&_S4889)->w_cov_0 = _S4888;
    (&_S4889)->p_0[int(0)] = (*dpmean_13).primal_0;
    float _S4890 = s_primal_ctx_sqrt_0(3.0f);
    float _S4891 = _S4890 * _S4884.x;
    float3  _S4892 = make_float3 (_S4891);
    float3  delta_111 = make_float3 (_S4891) * _S4886.rows[0U];
    float3  _S4893 = (*dpmean_13).primal_0 + delta_111;
    float3  _S4894 = (*dpmean_13).primal_0 - delta_111;
    float _S4895 = _S4890 * _S4884.y;
    float3  _S4896 = make_float3 (_S4895);
    float3  delta_112 = make_float3 (_S4895) * _S4886.rows[1U];
    float3  _S4897 = (*dpmean_13).primal_0 + delta_112;
    float3  _S4898 = (*dpmean_13).primal_0 - delta_112;
    float _S4899 = _S4890 * _S4884.z;
    float3  _S4900 = make_float3 (_S4899);
    float3  delta_113 = make_float3 (_S4899) * _S4886.rows[2U];
    float3  _S4901 = (*dpmean_13).primal_0 + delta_113;
    float3  _S4902 = (*dpmean_13).primal_0 - delta_113;
    SigmaPoints_0 _S4903 = _S4889;
    float _S4904 = *&(((&_s_diff_ctx_25->_S4831)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_25->_S4831)->rows + (int(1)))->x);
    float det_orig_47 = *&(((&_s_diff_ctx_25->_S4831)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_25->_S4831)->rows + (int(1)))->y) - _S4904;
    float _S4905 = *&(((&_s_diff_ctx_25->_S4831)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4906 = _s_diff_ctx_25->_S4831;
    *&(((&_S4906)->rows + (int(0)))->x) = _S4905;
    float _S4907 = *&(((&_s_diff_ctx_25->_S4831)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4906)->rows + (int(1)))->y) = _S4907;
    Matrix<float, 2, 2>  _S4908 = _S4906;
    Matrix<float, 2, 2>  _S4909 = _S4906;
    float det_blur_30 = _S4905 * _S4907 - _S4904;
    float _S4910 = det_orig_47 / det_blur_30;
    float _S4911 = det_blur_30 * det_blur_30;
    float _S4912 = s_primal_ctx_max_0(0.0f, _S4910);
    float _S4913 = s_primal_ctx_sqrt_0(_S4912);
    float _S4914 = - (*dpin_opacity_11).primal_0;
    float _S4915 = 1.0f + s_primal_ctx_exp_1(_S4914);
    float _S4916 = 1.0f / _S4915;
    float _S4917 = _S4915 * _S4915;
    float _S4918;
    if(antialiased_51)
    {
        _S4918 = _S4916 * _S4913;
    }
    else
    {
        _S4918 = _S4916;
    }
    float _S4919 = _S4918 / 0.00392156885936856f;
    float _S4920 = 2.0f * s_primal_ctx_log_0(_S4919);
    float _S4921 = s_primal_ctx_sqrt_0(_S4920);
    float _S4922 = _S4908.rows[int(0)].x;
    float _S4923 = _S4909.rows[int(1)].y;
    float _S4924 = s_primal_ctx_dot_0(mean_c_46, mean_c_46) + 9.99999997475242708e-07f;
    float3  _S4925 = - _S4878.primal_0;
    Matrix<float, 3, 3>  _S4926 = transpose_0(_S4881.primal_0);
    float3  _S4927 = _S4876.primal_0 - - s_primal_ctx_mul_0(_S4926, _S4882.primal_0);
    float _S4928 = s_primal_ctx_dot_0(_S4927, _S4927);
    float _S4929 = s_primal_ctx_rsqrt_0(_S4928);
    float3  _S4930 = make_float3 (_S4929);
    float3  _S4931 = _S4927 * make_float3 (_S4929);
    float _S4932 = s_primal_ctx_dot_0(_S4879[int(3)], _S4931);
    float _S4933 = s_primal_ctx_dot_0(_S4879[int(0)], _S4931) - _S4932;
    float _S4934 = s_primal_ctx_exp_1(_S4933);
    float3  _S4935 = make_float3 (_S4934);
    float _S4936 = s_primal_ctx_dot_0(_S4879[int(1)], _S4931) - _S4932;
    float _S4937 = s_primal_ctx_exp_1(_S4936);
    float3  _S4938 = make_float3 (_S4937);
    float _S4939 = s_primal_ctx_dot_0(_S4879[int(2)], _S4931) - _S4932;
    float _S4940 = s_primal_ctx_exp_1(_S4939);
    float3  _S4941 = make_float3 (_S4940);
    float _S4942 = s_primal_ctx_exp_1(0.0f);
    float3  _S4943 = make_float3 (_S4942);
    float total_w_5 = _S4934 + _S4937 + _S4940 + _S4942;
    float3  _S4944 = make_float3 (total_w_5);
    float3  total_c_5 = make_float3 (_S4934) * _S4880[int(0)] + make_float3 (_S4937) * _S4880[int(1)] + make_float3 (_S4940) * _S4880[int(2)] + make_float3 (_S4942) * _S4880[int(3)];
    float3  _S4945 = make_float3 (total_w_5 * total_w_5);
    float3  _S4946 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4947;
    (&_S4947)->primal_0 = total_c_5 / make_float3 (total_w_5) + make_float3 (0.5f);
    (&_S4947)->differential_0 = _S4883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4948;
    (&_S4948)->primal_0 = _S4946;
    (&_S4948)->differential_0 = _S4883;
    s_bwd_prop_max_0(&_S4947, &_S4948, dprgb_12);
    float3  _S4949 = _S4947.differential_0 / _S4945;
    float3  _S4950 = total_c_5 * - _S4949;
    float3  s_diff_total_c_T_5 = _S4944 * _S4949;
    float3  _S4951 = _S4943 * s_diff_total_c_T_5;
    float _S4952 = _S4950.x + _S4950.y + _S4950.z;
    float3  _S4953 = _S4941 * s_diff_total_c_T_5;
    float3  _S4954 = _S4880[int(2)] * s_diff_total_c_T_5;
    float _S4955 = _S4952 + _S4954.x + _S4954.y + _S4954.z;
    DiffPair_float_0 _S4956;
    (&_S4956)->primal_0 = _S4939;
    (&_S4956)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4956, _S4955);
    float _S4957 = - _S4956.differential_0;
    float3  _S4958 = _S4938 * s_diff_total_c_T_5;
    float3  _S4959 = _S4880[int(1)] * s_diff_total_c_T_5;
    float _S4960 = _S4952 + _S4959.x + _S4959.y + _S4959.z;
    DiffPair_float_0 _S4961;
    (&_S4961)->primal_0 = _S4936;
    (&_S4961)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4961, _S4960);
    float _S4962 = - _S4961.differential_0;
    float3  _S4963 = _S4935 * s_diff_total_c_T_5;
    float3  _S4964 = _S4880[int(0)] * s_diff_total_c_T_5;
    float _S4965 = _S4952 + _S4964.x + _S4964.y + _S4964.z;
    DiffPair_float_0 _S4966;
    (&_S4966)->primal_0 = _S4933;
    (&_S4966)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4966, _S4965);
    float _S4967 = _S4957 + _S4962 + - _S4966.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4968;
    (&_S4968)->primal_0 = _S4879[int(3)];
    (&_S4968)->differential_0 = _S4883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4969;
    (&_S4969)->primal_0 = _S4931;
    (&_S4969)->differential_0 = _S4883;
    s_bwd_prop_dot_0(&_S4968, &_S4969, _S4967);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4970;
    (&_S4970)->primal_0 = _S4879[int(2)];
    (&_S4970)->differential_0 = _S4883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4971;
    (&_S4971)->primal_0 = _S4931;
    (&_S4971)->differential_0 = _S4883;
    s_bwd_prop_dot_0(&_S4970, &_S4971, _S4956.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4972;
    (&_S4972)->primal_0 = _S4879[int(1)];
    (&_S4972)->differential_0 = _S4883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4973;
    (&_S4973)->primal_0 = _S4931;
    (&_S4973)->differential_0 = _S4883;
    s_bwd_prop_dot_0(&_S4972, &_S4973, _S4961.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4974;
    (&_S4974)->primal_0 = _S4879[int(0)];
    (&_S4974)->differential_0 = _S4883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4975;
    (&_S4975)->primal_0 = _S4931;
    (&_S4975)->differential_0 = _S4883;
    s_bwd_prop_dot_0(&_S4974, &_S4975, _S4966.differential_0);
    float3  _S4976 = _S4969.differential_0 + _S4971.differential_0 + _S4973.differential_0 + _S4975.differential_0;
    float3  _S4977 = _S4927 * _S4976;
    float3  _S4978 = _S4930 * _S4976;
    float _S4979 = _S4977.x + _S4977.y + _S4977.z;
    DiffPair_float_0 _S4980;
    (&_S4980)->primal_0 = _S4928;
    (&_S4980)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4980, _S4979);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4981;
    (&_S4981)->primal_0 = _S4927;
    (&_S4981)->differential_0 = _S4883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4982;
    (&_S4982)->primal_0 = _S4927;
    (&_S4982)->differential_0 = _S4883;
    s_bwd_prop_dot_0(&_S4981, &_S4982, _S4980.differential_0);
    float3  _S4983 = _S4978 + _S4982.differential_0 + _S4981.differential_0;
    float3  _S4984 = - - _S4983;
    Matrix<float, 3, 3>  _S4985 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4986;
    (&_S4986)->primal_0 = _S4926;
    (&_S4986)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4987;
    (&_S4987)->primal_0 = _S4882.primal_0;
    (&_S4987)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S4986, &_S4987, _S4984);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4988 = _S4987;
    Matrix<float, 3, 3>  _S4989 = transpose_0(_S4986.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4990;
    (&_S4990)->primal_0 = _S4925;
    (&_S4990)->differential_0 = _S4883;
    s_bwd_prop_exp_1(&_S4990, dpconic_11);
    float3  _S4991 = - _S4990.differential_0;
    float _S4992 = 0.5f * dpdepth_12;
    DiffPair_float_0 _S4993;
    (&_S4993)->primal_0 = _S4924;
    (&_S4993)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4993, _S4992);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4994;
    (&_S4994)->primal_0 = mean_c_46;
    (&_S4994)->differential_0 = _S4883;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4995;
    (&_S4995)->primal_0 = mean_c_46;
    (&_S4995)->differential_0 = _S4883;
    s_bwd_prop_dot_0(&_S4994, &_S4995, _S4993.differential_0);
    DiffPair_float_0 _S4996;
    (&_S4996)->primal_0 = _S4923;
    (&_S4996)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4996, 0.0f);
    DiffPair_float_0 _S4997;
    (&_S4997)->primal_0 = _S4922;
    (&_S4997)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4997, 0.0f);
    DiffPair_float_0 _S4998;
    (&_S4998)->primal_0 = 3.32999992370605469f;
    (&_S4998)->differential_0 = 0.0f;
    DiffPair_float_0 _S4999;
    (&_S4999)->primal_0 = _S4921;
    (&_S4999)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4998, &_S4999, 0.0f);
    DiffPair_float_0 _S5000;
    (&_S5000)->primal_0 = _S4920;
    (&_S5000)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5000, _S4999.differential_0);
    float _S5001 = 2.0f * _S5000.differential_0;
    DiffPair_float_0 _S5002;
    (&_S5002)->primal_0 = _S4919;
    (&_S5002)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5002, _S5001);
    float _S5003 = dpopacity_13 + 254.9999847412109375f * _S5002.differential_0;
    FixedArray<float3 , 4>  _S5004;
    _S5004[int(0)] = _S4883;
    _S5004[int(1)] = _S4883;
    _S5004[int(2)] = _S4883;
    _S5004[int(3)] = _S4883;
    _S5004[int(3)] = _S4951;
    _S5004[int(2)] = _S4953;
    _S5004[int(1)] = _S4958;
    _S5004[int(0)] = _S4963;
    FixedArray<float3 , 4>  _S5005 = {
        _S5004[int(0)], _S5004[int(1)], _S5004[int(2)], _S5004[int(3)]
    };
    FixedArray<float3 , 4>  _S5006;
    _S5006[int(0)] = _S4883;
    _S5006[int(1)] = _S4883;
    _S5006[int(2)] = _S4883;
    _S5006[int(3)] = _S4883;
    _S5006[int(3)] = _S4968.differential_0;
    _S5006[int(2)] = _S4970.differential_0;
    _S5006[int(1)] = _S4972.differential_0;
    _S5006[int(0)] = _S4974.differential_0;
    FixedArray<float3 , 4>  _S5007 = {
        _S5006[int(0)], _S5006[int(1)], _S5006[int(2)], _S5006[int(3)]
    };
    float3  _S5008 = _S4995.differential_0 + _S4994.differential_0;
    float2  _S5009 = make_float2 (0.0f, _S4996.differential_0);
    float2  _S5010 = make_float2 (_S4997.differential_0, 0.0f);
    float _S5011;
    if(antialiased_51)
    {
        float _S5012 = _S4916 * _S5003;
        _S4918 = _S4913 * _S5003;
        _S5011 = _S5012;
    }
    else
    {
        _S4918 = _S5003;
        _S5011 = 0.0f;
    }
    float _S5013 = - (_S4918 / _S4917);
    DiffPair_float_0 _S5014;
    (&_S5014)->primal_0 = _S4914;
    (&_S5014)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5014, _S5013);
    float _S5015 = - _S5014.differential_0;
    DiffPair_float_0 _S5016;
    (&_S5016)->primal_0 = _S4912;
    (&_S5016)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5016, _S5011);
    DiffPair_float_0 _S5017;
    (&_S5017)->primal_0 = 0.0f;
    (&_S5017)->differential_0 = 0.0f;
    DiffPair_float_0 _S5018;
    (&_S5018)->primal_0 = _S4910;
    (&_S5018)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5017, &_S5018, _S5016.differential_0);
    float _S5019 = _S5018.differential_0 / _S4911;
    float s_diff_det_blur_T_7 = det_orig_47 * - _S5019;
    float s_diff_det_orig_T_10 = det_blur_30 * _S5019;
    float _S5020 = - s_diff_det_blur_T_7;
    float _S5021 = _S4905 * s_diff_det_blur_T_7;
    float _S5022 = _S4907 * s_diff_det_blur_T_7;
    Matrix<float, 2, 2>  _S5023 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5024 = _S5023;
    _S5024[int(1)] = _S5009;
    _S5024[int(0)] = _S5010;
    float _S5025 = _S5022 + _S5024.rows[int(0)].x;
    float _S5026 = _S5020 + - s_diff_det_orig_T_10;
    float _S5027 = *&(((&_s_diff_ctx_25->_S4831)->rows + (int(0)))->y) * _S5026;
    float _S5028 = *&(((&_s_diff_ctx_25->_S4831)->rows + (int(1)))->x) * _S5026;
    float _S5029 = *&(((&_s_diff_ctx_25->_S4831)->rows + (int(1)))->y) * s_diff_det_orig_T_10;
    float _S5030 = _S5021 + _S5024.rows[int(1)].y + *&(((&_s_diff_ctx_25->_S4831)->rows + (int(0)))->x) * s_diff_det_orig_T_10;
    float2  _S5031 = make_float2 (0.0f);
    float2  _S5032 = _S5031;
    *&((&_S5032)->x) = _S5027;
    *&((&_S5032)->y) = _S5030;
    float _S5033 = _S5025 + _S5029;
    float2  _S5034 = _S5031;
    *&((&_S5034)->y) = _S5028;
    *&((&_S5034)->x) = _S5033;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5035;
    (&_S5035)->primal_0 = _S4881.primal_0;
    (&_S5035)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5036;
    (&_S5036)->primal_0 = _S4902;
    (&_S5036)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5035, &_S5036, _S4883);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5037;
    (&_S5037)->primal_0 = _S4881.primal_0;
    (&_S5037)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5038;
    (&_S5038)->primal_0 = _S4898;
    (&_S5038)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5037, &_S5038, _S4883);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5039;
    (&_S5039)->primal_0 = _S4881.primal_0;
    (&_S5039)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5040;
    (&_S5040)->primal_0 = _S4894;
    (&_S5040)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5039, &_S5040, _S4883);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5041;
    (&_S5041)->primal_0 = _S4881.primal_0;
    (&_S5041)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5042;
    (&_S5042)->primal_0 = _S4901;
    (&_S5042)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5041, &_S5042, _S4883);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5043;
    (&_S5043)->primal_0 = _S4881.primal_0;
    (&_S5043)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5044;
    (&_S5044)->primal_0 = _S4897;
    (&_S5044)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5043, &_S5044, _S4883);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5045;
    (&_S5045)->primal_0 = _S4881.primal_0;
    (&_S5045)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5046;
    (&_S5046)->primal_0 = _S4893;
    (&_S5046)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5045, &_S5046, _S4883);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5047;
    (&_S5047)->primal_0 = _S4881.primal_0;
    (&_S5047)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5048;
    (&_S5048)->primal_0 = _S4903.p_0[0U];
    (&_S5048)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5047, &_S5048, _S4883);
    float3  _S5049 = - _S5036.differential_0 + _S5042.differential_0;
    float3  _S5050 = _S4900 * _S5049;
    float3  _S5051 = _S4886.rows[2U] * _S5049;
    float _S5052 = _S4890 * (_S5051.x + _S5051.y + _S5051.z);
    float3  _S5053 = - _S5038.differential_0 + _S5044.differential_0;
    float3  _S5054 = _S4896 * _S5053;
    float3  _S5055 = _S4886.rows[1U] * _S5053;
    float _S5056 = _S4890 * (_S5055.x + _S5055.y + _S5055.z);
    float3  _S5057 = - _S5040.differential_0 + _S5046.differential_0;
    float3  _S5058 = _S4892 * _S5057;
    float3  _S5059 = _S4886.rows[0U] * _S5057;
    float _S5060 = _S4890 * (_S5059.x + _S5059.y + _S5059.z);
    Matrix<float, 3, 3>  _S5061 = _S4985;
    _S5061[2U] = _S5050;
    _S5061[1U] = _S5054;
    _S5061[0U] = _S5058;
    Matrix<float, 3, 3>  _S5062 = transpose_0(transpose_0(_S5061));
    float _S5063 = 2.0f * - _S5062.rows[int(2)].z;
    float _S5064 = 2.0f * _S5062.rows[int(2)].y;
    float _S5065 = 2.0f * _S5062.rows[int(2)].x;
    float _S5066 = 2.0f * _S5062.rows[int(1)].z;
    float _S5067 = 2.0f * - _S5062.rows[int(1)].y;
    float _S5068 = 2.0f * _S5062.rows[int(1)].x;
    float _S5069 = 2.0f * _S5062.rows[int(0)].z;
    float _S5070 = 2.0f * _S5062.rows[int(0)].y;
    float _S5071 = 2.0f * - _S5062.rows[int(0)].x;
    float _S5072 = - _S5068 + _S5070;
    float _S5073 = _S5065 + - _S5069;
    float _S5074 = - _S5064 + _S5066;
    float _S5075 = _S5064 + _S5066;
    float _S5076 = _S5065 + _S5069;
    float _S5077 = _S5068 + _S5070;
    float _S5078 = _S4877.primal_0.w * (_S5067 + _S5071);
    float _S5079 = _S4877.primal_0.z * (_S5063 + _S5071);
    float _S5080 = _S4877.primal_0.y * (_S5063 + _S5067);
    float _S5081 = _S4877.primal_0.x * _S5072 + _S4877.primal_0.z * _S5075 + _S4877.primal_0.y * _S5076 + _S5078 + _S5078;
    float _S5082 = _S4877.primal_0.x * _S5073 + _S4877.primal_0.w * _S5075 + _S4877.primal_0.y * _S5077 + _S5079 + _S5079;
    float _S5083 = _S4877.primal_0.x * _S5074 + _S4877.primal_0.w * _S5076 + _S4877.primal_0.z * _S5077 + _S5080 + _S5080;
    float _S5084 = _S4877.primal_0.w * _S5072 + _S4877.primal_0.z * _S5073 + _S4877.primal_0.y * _S5074;
    float3  _S5085 = _S4883;
    *&((&_S5085)->z) = _S5052;
    *&((&_S5085)->y) = _S5056;
    *&((&_S5085)->x) = _S5060;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5086;
    (&_S5086)->primal_0 = _S4878.primal_0;
    (&_S5086)->differential_0 = _S4883;
    s_bwd_prop_exp_1(&_S5086, _S5085);
    Matrix<float, 2, 2>  _S5087 = _S5023;
    _S5087[int(1)] = _S5032;
    _S5087[int(0)] = _S5034;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5088;
    (&_S5088)->primal_0 = mean_c_46;
    (&_S5088)->differential_0 = _S4883;
    s_bwd_length_impl_1(&_S5088, 0.0f);
    float3  _S5089 = _S5088.differential_0 + _S5008;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5090;
    (&_S5090)->primal_0 = _S4881.primal_0;
    (&_S5090)->differential_0 = _S4985;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5091;
    (&_S5091)->primal_0 = _S4876.primal_0;
    (&_S5091)->differential_0 = _S4883;
    s_bwd_prop_mul_1(&_S5090, &_S5091, _S5089);
    float3  _S5092 = _S5089 + _S4988.differential_0;
    dpt_12->primal_0 = (*dpt_12).primal_0;
    dpt_12->differential_0 = _S5092;
    Matrix<float, 3, 3>  _S5093 = _S5035.differential_0 + _S5037.differential_0 + _S5039.differential_0 + _S5041.differential_0 + _S5043.differential_0 + _S5045.differential_0 + _S5047.differential_0 + _S5090.differential_0 + _S4989;
    dpR_13->primal_0 = (*dpR_13).primal_0;
    dpR_13->differential_0 = _S5093;
    dpsv_colors_11->primal_0 = dpsv_colors_11->primal_0;
    dpsv_colors_11->differential_0 = _S5005;
    dpsv_sites_11->primal_0 = dpsv_sites_11->primal_0;
    dpsv_sites_11->differential_0 = _S5007;
    dpin_opacity_11->primal_0 = (*dpin_opacity_11).primal_0;
    dpin_opacity_11->differential_0 = _S5015;
    float3  _S5094 = _S5086.differential_0 + _S4991;
    dpscale_12->primal_0 = (*dpscale_12).primal_0;
    dpscale_12->differential_0 = _S5094;
    float4  _S5095 = make_float4 (0.0f);
    *&((&_S5095)->w) = _S5081;
    *&((&_S5095)->z) = _S5082;
    *&((&_S5095)->y) = _S5083;
    *&((&_S5095)->x) = _S5084;
    dpquat_12->primal_0 = (*dpquat_12).primal_0;
    dpquat_12->differential_0 = _S5095;
    float3  _S5096 = _S5036.differential_0 + _S5042.differential_0 + _S5038.differential_0 + _S5044.differential_0 + _S5040.differential_0 + _S5046.differential_0 + _S5091.differential_0 + _S4983;
    dpmean_13->primal_0 = (*dpmean_13).primal_0;
    dpmean_13->differential_0 = _S5096;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_2(bool _S5097, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5098, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5099, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5100, DiffPair_float_0 * _S5101, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5102, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5103, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5104, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5105, float _S5106, float _S5107, float _S5108, float _S5109, FixedArray<float, 10>  * _S5110, uint _S5111, uint _S5112, float _S5113, float _S5114, float2  _S5115, float _S5116, float3  _S5117, float _S5118, float3  _S5119)
{
    FixedArray<float3 , 4>  _S5120 = _S5102->primal_0;
    FixedArray<float3 , 4>  _S5121 = _S5103->primal_0;
    int4  _S5122;
    float2  _S5123;
    float _S5124;
    float3  _S5125;
    float _S5126;
    float3  _S5127;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S5128;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(_S5097, (*_S5098).primal_0, (*_S5099).primal_0, (*_S5100).primal_0, (*_S5101).primal_0, &_S5120, &_S5121, (*_S5104).primal_0, (*_S5105).primal_0, _S5106, _S5107, _S5108, _S5109, _S5110, _S5111, _S5112, _S5113, _S5114, &_S5122, &_S5123, &_S5124, &_S5125, &_S5126, &_S5127, &_S5128);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S5129 = _S5128;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(_S5097, _S5098, _S5099, _S5100, _S5101, _S5102, _S5103, _S5104, _S5105, _S5106, _S5107, _S5108, _S5109, _S5110, _S5111, _S5112, _S5113, _S5114, _S5115, _S5116, _S5117, _S5118, _S5119, &_S5129);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_52, float3  mean_45, float4  quat_46, float3  scale_45, float in_opacity_40, FixedArray<float3 , 4>  * sv_sites_25, FixedArray<float3 , 4>  * sv_colors_25, Matrix<float, 3, 3>  R_47, float3  t_43, float fx_61, float fy_61, float cx_56, float cy_56, FixedArray<float, 10>  * dist_coeffs_65, uint image_width_52, uint image_height_52, float2  v_mean2d_10, float v_depth_11, float3  v_conic_10, float v_opacity_12, float3  v_rgb_11, float3  * v_mean_12, float4  * v_quat_11, float3  * v_scale_11, float * v_in_opacity_10, FixedArray<float3 , 4>  * v_sv_dirs_5, FixedArray<float3 , 4>  * v_sv_colors_5, Matrix<float, 3, 3>  * v_R_12, float3  * v_t_11)
{
    float3  _S5130 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_7;
    (&dp_mean_7)->primal_0 = mean_45;
    (&dp_mean_7)->differential_0 = _S5130;
    float4  _S5131 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_6;
    (&dp_quat_6)->primal_0 = quat_46;
    (&dp_quat_6)->differential_0 = _S5131;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_6;
    (&dp_scale_6)->primal_0 = scale_45;
    (&dp_scale_6)->differential_0 = _S5130;
    DiffPair_float_0 dp_in_opacity_5;
    (&dp_in_opacity_5)->primal_0 = in_opacity_40;
    (&dp_in_opacity_5)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S5132 = { _S5130, _S5130, _S5130, _S5130 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_5;
    (&dp_sv_dirs_5)->primal_0 = *sv_sites_25;
    (&dp_sv_dirs_5)->differential_0 = _S5132;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_5;
    (&dp_sv_colors_5)->primal_0 = *sv_colors_25;
    (&dp_sv_colors_5)->differential_0 = _S5132;
    Matrix<float, 3, 3>  _S5133 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_7;
    (&dp_R_7)->primal_0 = R_47;
    (&dp_R_7)->differential_0 = _S5133;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_6;
    (&dp_t_6)->primal_0 = t_43;
    (&dp_t_6)->differential_0 = _S5130;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_2(antialiased_52, &dp_mean_7, &dp_quat_6, &dp_scale_6, &dp_in_opacity_5, &dp_sv_dirs_5, &dp_sv_colors_5, &dp_R_7, &dp_t_6, fx_61, fy_61, cx_56, cy_56, dist_coeffs_65, image_width_52, image_height_52, 0.0f, 1.00000001504746622e+30f, v_mean2d_10, v_depth_11, v_conic_10, v_opacity_12, v_rgb_11);
    *v_mean_12 = dp_mean_7.differential_0;
    *v_quat_11 = dp_quat_6.differential_0;
    *v_scale_11 = dp_scale_6.differential_0;
    *v_in_opacity_10 = dp_in_opacity_5.differential_0;
    *v_sv_dirs_5 = (&dp_sv_dirs_5)->differential_0;
    *v_sv_colors_5 = (&dp_sv_colors_5)->differential_0;
    *v_R_12 = dp_R_7.differential_0;
    *v_t_11 = dp_t_6.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_53, float3  mean_46, float4  quat_47, float3  scale_46, float in_opacity_41, FixedArray<float3 , 5>  * sv_sites_26, FixedArray<float3 , 5>  * sv_colors_26, Matrix<float, 3, 3>  R_48, float3  t_44, float fx_62, float fy_62, float cx_57, float cy_57, FixedArray<float, 10>  * dist_coeffs_66, uint image_width_53, uint image_height_53, float near_plane_42, float far_plane_42, int4  * aabb_xyxy_36, float2  * mean2d_38, float * depth_31, float3  * conic_30, float * opacity_34, float3  * rgb_32)
{
    float3  mean_c_47 = mul_0(R_48, mean_46) + t_44;
    float4  intrins_40 = make_float4 (fx_62, fy_62, cx_57, cy_57);
    float3  _S5134 = exp_0(scale_46);
    float x_62 = quat_47.y;
    float x2_53 = x_62 * x_62;
    float y2_53 = quat_47.z * quat_47.z;
    float z2_68 = quat_47.w * quat_47.w;
    float xy_53 = quat_47.y * quat_47.z;
    float xz_53 = quat_47.y * quat_47.w;
    float yz_53 = quat_47.z * quat_47.w;
    float wx_53 = quat_47.x * quat_47.y;
    float wy_53 = quat_47.x * quat_47.z;
    float wz_53 = quat_47.x * quat_47.w;
    Matrix<float, 3, 3>  _S5135 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_53 + z2_68), 2.0f * (xy_53 + wz_53), 2.0f * (xz_53 - wy_53), 2.0f * (xy_53 - wz_53), 1.0f - 2.0f * (x2_53 + z2_68), 2.0f * (yz_53 + wx_53), 2.0f * (xz_53 + wy_53), 2.0f * (yz_53 - wx_53), 1.0f - 2.0f * (x2_53 + y2_53))));
    SigmaPoints_0 ret_24;
    (&ret_24)->p_0[int(0)] = mean_46;
    (&ret_24)->w_mean_0[int(0)] = 0.0f;
    (&ret_24)->w_cov_0[int(0)] = 2.0f;
    float _S5136 = (F32_sqrt((3.0f)));
    float3  delta_114 = make_float3 (_S5136 * _S5134.x) * _S5135.rows[0U];
    float3  _S5137 = mean_46 + delta_114;
    float3  _S5138 = mean_46 - delta_114;
    float3  delta_115 = make_float3 (_S5136 * _S5134.y) * _S5135.rows[1U];
    float3  _S5139 = mean_46 + delta_115;
    float3  _S5140 = mean_46 - delta_115;
    float3  delta_116 = make_float3 (_S5136 * _S5134.z) * _S5135.rows[2U];
    float3  _S5141 = mean_46 + delta_116;
    float3  _S5142 = mean_46 - delta_116;
    (&ret_24)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_24)->p_0[0U] = mul_0(R_48, (&ret_24)->p_0[0U]) + t_44;
    (&ret_24)->p_0[1U] = mul_0(R_48, _S5137) + t_44;
    (&ret_24)->p_0[2U] = mul_0(R_48, _S5139) + t_44;
    (&ret_24)->p_0[3U] = mul_0(R_48, _S5141) + t_44;
    (&ret_24)->p_0[4U] = mul_0(R_48, _S5138) + t_44;
    (&ret_24)->p_0[5U] = mul_0(R_48, _S5140) + t_44;
    (&ret_24)->p_0[6U] = mul_0(R_48, _S5142) + t_44;
    SigmaPoints_0 _S5143 = ret_24;
    Matrix<float, 2, 2>  covar2d_30;
    bool _S5144 = persp_proj_3dgs_ut_1(&_S5143, intrins_40, dist_coeffs_66, image_width_53, image_height_53, &covar2d_30, mean2d_38);
    float det_orig_48 = *&(((&covar2d_30)->rows + (int(0)))->x) * *&(((&covar2d_30)->rows + (int(1)))->y) - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x);
    float _S5145 = *&(((&covar2d_30)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(0)))->x) = _S5145;
    float _S5146 = *&(((&covar2d_30)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(1)))->y) = _S5146;
    float compensation_31 = (F32_sqrt(((F32_max((0.0f), (det_orig_48 / (_S5145 * _S5146 - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x))))))));
    *opacity_34 = 1.0f / (1.0f + (F32_exp((- in_opacity_41))));
    if(antialiased_53)
    {
        *opacity_34 = *opacity_34 * compensation_31;
    }
    float extend_30 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_34 / 0.00392156885936856f)))))))));
    float radius_x_36 = extend_30 * (F32_sqrt((covar2d_30[int(0)].x)));
    float radius_y_36 = extend_30 * (F32_sqrt((covar2d_30[int(1)].y)));
    *aabb_xyxy_36 = make_int4 (int((F32_floor(((*mean2d_38).x - radius_x_36)))), int((F32_floor(((*mean2d_38).y - radius_y_36)))), int((F32_ceil(((*mean2d_38).x + radius_x_36)))), int((F32_ceil(((*mean2d_38).y + radius_y_36)))));
    *depth_31 = 0.5f * (F32_log((dot_0(mean_c_47, mean_c_47) + 9.99999997475242708e-07f)));
    *conic_30 = exp_0(- scale_46);
    float3  _S5147 = mean_46 - - mul_0(transpose_0(R_48), t_44);
    float3  _S5148 = _S5147 * make_float3 ((F32_rsqrt((dot_0(_S5147, _S5147)))));
    float _S5149 = dot_0((*sv_sites_26)[int(4)], _S5148);
    float w_88 = (F32_exp((dot_0((*sv_sites_26)[int(0)], _S5148) - _S5149)));
    float w_89 = (F32_exp((dot_0((*sv_sites_26)[int(1)], _S5148) - _S5149)));
    float w_90 = (F32_exp((dot_0((*sv_sites_26)[int(2)], _S5148) - _S5149)));
    float w_91 = (F32_exp((dot_0((*sv_sites_26)[int(3)], _S5148) - _S5149)));
    float w_92 = (F32_exp((0.0f)));
    *rgb_32 = max_0((make_float3 (w_88) * (*sv_colors_26)[int(0)] + make_float3 (w_89) * (*sv_colors_26)[int(1)] + make_float3 (w_90) * (*sv_colors_26)[int(2)] + make_float3 (w_91) * (*sv_colors_26)[int(3)] + make_float3 (w_92) * (*sv_colors_26)[int(4)]) / make_float3 (w_88 + w_89 + w_90 + w_91 + w_92) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_54, float3  mean_47, float4  quat_48, float3  scale_47, float in_opacity_42, FixedArray<float3 , 5>  * sv_sites_27, FixedArray<float3 , 5>  * sv_colors_27, Matrix<float, 3, 3>  R_49, float3  t_45, float fx_63, float fy_63, float cx_58, float cy_58, FixedArray<float, 10>  * dist_coeffs_67, uint image_width_54, uint image_height_54, float near_plane_43, float far_plane_43, int4  * aabb_xyxy_37, float2  * mean2d_39, float * depth_32, float3  * conic_31, float * opacity_35, float3  * rgb_33)
{
    float3  mean_c_48 = mul_0(R_49, mean_47) + t_45;
    float4  intrins_41 = make_float4 (fx_63, fy_63, cx_58, cy_58);
    float3  _S5150 = exp_0(scale_47);
    float x_63 = quat_48.y;
    float x2_54 = x_63 * x_63;
    float y2_54 = quat_48.z * quat_48.z;
    float z2_69 = quat_48.w * quat_48.w;
    float xy_54 = quat_48.y * quat_48.z;
    float xz_54 = quat_48.y * quat_48.w;
    float yz_54 = quat_48.z * quat_48.w;
    float wx_54 = quat_48.x * quat_48.y;
    float wy_54 = quat_48.x * quat_48.z;
    float wz_54 = quat_48.x * quat_48.w;
    Matrix<float, 3, 3>  _S5151 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_54 + z2_69), 2.0f * (xy_54 + wz_54), 2.0f * (xz_54 - wy_54), 2.0f * (xy_54 - wz_54), 1.0f - 2.0f * (x2_54 + z2_69), 2.0f * (yz_54 + wx_54), 2.0f * (xz_54 + wy_54), 2.0f * (yz_54 - wx_54), 1.0f - 2.0f * (x2_54 + y2_54))));
    SigmaPoints_0 ret_25;
    (&ret_25)->p_0[int(0)] = mean_47;
    (&ret_25)->w_mean_0[int(0)] = 0.0f;
    (&ret_25)->w_cov_0[int(0)] = 2.0f;
    float _S5152 = (F32_sqrt((3.0f)));
    float3  delta_117 = make_float3 (_S5152 * _S5150.x) * _S5151.rows[0U];
    float3  _S5153 = mean_47 + delta_117;
    float3  _S5154 = mean_47 - delta_117;
    float3  delta_118 = make_float3 (_S5152 * _S5150.y) * _S5151.rows[1U];
    float3  _S5155 = mean_47 + delta_118;
    float3  _S5156 = mean_47 - delta_118;
    float3  delta_119 = make_float3 (_S5152 * _S5150.z) * _S5151.rows[2U];
    float3  _S5157 = mean_47 + delta_119;
    float3  _S5158 = mean_47 - delta_119;
    (&ret_25)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_25)->p_0[0U] = mul_0(R_49, (&ret_25)->p_0[0U]) + t_45;
    (&ret_25)->p_0[1U] = mul_0(R_49, _S5153) + t_45;
    (&ret_25)->p_0[2U] = mul_0(R_49, _S5155) + t_45;
    (&ret_25)->p_0[3U] = mul_0(R_49, _S5157) + t_45;
    (&ret_25)->p_0[4U] = mul_0(R_49, _S5154) + t_45;
    (&ret_25)->p_0[5U] = mul_0(R_49, _S5156) + t_45;
    (&ret_25)->p_0[6U] = mul_0(R_49, _S5158) + t_45;
    SigmaPoints_0 _S5159 = ret_25;
    Matrix<float, 2, 2>  covar2d_31;
    bool _S5160 = fisheye_proj_3dgs_ut_1(&_S5159, intrins_41, dist_coeffs_67, &covar2d_31, mean2d_39);
    float det_orig_49 = *&(((&covar2d_31)->rows + (int(0)))->x) * *&(((&covar2d_31)->rows + (int(1)))->y) - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x);
    float _S5161 = *&(((&covar2d_31)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(0)))->x) = _S5161;
    float _S5162 = *&(((&covar2d_31)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(1)))->y) = _S5162;
    float compensation_32 = (F32_sqrt(((F32_max((0.0f), (det_orig_49 / (_S5161 * _S5162 - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x))))))));
    *opacity_35 = 1.0f / (1.0f + (F32_exp((- in_opacity_42))));
    if(antialiased_54)
    {
        *opacity_35 = *opacity_35 * compensation_32;
    }
    float extend_31 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_35 / 0.00392156885936856f)))))))));
    float radius_x_37 = extend_31 * (F32_sqrt((covar2d_31[int(0)].x)));
    float radius_y_37 = extend_31 * (F32_sqrt((covar2d_31[int(1)].y)));
    *aabb_xyxy_37 = make_int4 (int((F32_floor(((*mean2d_39).x - radius_x_37)))), int((F32_floor(((*mean2d_39).y - radius_y_37)))), int((F32_ceil(((*mean2d_39).x + radius_x_37)))), int((F32_ceil(((*mean2d_39).y + radius_y_37)))));
    *depth_32 = 0.5f * (F32_log((dot_0(mean_c_48, mean_c_48) + 9.99999997475242708e-07f)));
    *conic_31 = exp_0(- scale_47);
    float3  _S5163 = mean_47 - - mul_0(transpose_0(R_49), t_45);
    float3  _S5164 = _S5163 * make_float3 ((F32_rsqrt((dot_0(_S5163, _S5163)))));
    float _S5165 = dot_0((*sv_sites_27)[int(4)], _S5164);
    float w_93 = (F32_exp((dot_0((*sv_sites_27)[int(0)], _S5164) - _S5165)));
    float w_94 = (F32_exp((dot_0((*sv_sites_27)[int(1)], _S5164) - _S5165)));
    float w_95 = (F32_exp((dot_0((*sv_sites_27)[int(2)], _S5164) - _S5165)));
    float w_96 = (F32_exp((dot_0((*sv_sites_27)[int(3)], _S5164) - _S5165)));
    float w_97 = (F32_exp((0.0f)));
    *rgb_33 = max_0((make_float3 (w_93) * (*sv_colors_27)[int(0)] + make_float3 (w_94) * (*sv_colors_27)[int(1)] + make_float3 (w_95) * (*sv_colors_27)[int(2)] + make_float3 (w_96) * (*sv_colors_27)[int(3)] + make_float3 (w_97) * (*sv_colors_27)[int(4)]) / make_float3 (w_93 + w_94 + w_95 + w_96 + w_97) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0
{
    FixedArray<float3 , 5>  primal_0;
    FixedArray<float3 , 5>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S5166;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(bool antialiased_55, float3  dpmean_14, float4  dpquat_13, float3  dpscale_13, float dpin_opacity_12, FixedArray<float3 , 5>  * dpsv_sites_12, FixedArray<float3 , 5>  * dpsv_colors_12, Matrix<float, 3, 3>  dpR_14, float3  dpt_13, float fx_64, float fy_64, float cx_59, float cy_59, FixedArray<float, 10>  * dist_coeffs_68, uint image_width_55, uint image_height_55, float near_plane_44, float far_plane_44, int4  * aabb_xyxy_38, float2  * dpmean2d_14, float * dpdepth_13, float3  * dpconic_12, float * dpopacity_14, float3  * dprgb_13, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_26)
{
    Matrix<float, 2, 2>  _S5167 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_26->_S5166 = _S5167;
    float2  _S5168 = make_float2 (0.0f);
    float3  _S5169 = make_float3 (0.0f);
    float3  mean_c_49 = s_primal_ctx_mul_0(dpR_14, dpmean_14) + dpt_13;
    float4  intrins_42 = make_float4 (fx_64, fy_64, cx_59, cy_59);
    float3  _S5170 = s_primal_ctx_exp_0(dpscale_13);
    float _S5171 = dpquat_13.y;
    float x2_55 = _S5171 * _S5171;
    float y2_55 = dpquat_13.z * dpquat_13.z;
    float z2_70 = dpquat_13.w * dpquat_13.w;
    float xy_55 = dpquat_13.y * dpquat_13.z;
    float xz_55 = dpquat_13.y * dpquat_13.w;
    float yz_55 = dpquat_13.z * dpquat_13.w;
    float wx_55 = dpquat_13.x * dpquat_13.y;
    float wy_55 = dpquat_13.x * dpquat_13.z;
    float wz_55 = dpquat_13.x * dpquat_13.w;
    Matrix<float, 3, 3>  _S5172 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_55 + z2_70), 2.0f * (xy_55 + wz_55), 2.0f * (xz_55 - wy_55), 2.0f * (xy_55 - wz_55), 1.0f - 2.0f * (x2_55 + z2_70), 2.0f * (yz_55 + wx_55), 2.0f * (xz_55 + wy_55), 2.0f * (yz_55 - wx_55), 1.0f - 2.0f * (x2_55 + y2_55))));
    FixedArray<float3 , 7>  _S5173 = {
        _S5169, _S5169, _S5169, _S5169, _S5169, _S5169, _S5169
    };
    FixedArray<float, 7>  _S5174 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5175;
    (&_S5175)->p_0 = _S5173;
    (&_S5175)->w_mean_0 = _S5174;
    (&_S5175)->w_cov_0 = _S5174;
    (&_S5175)->p_0[int(0)] = dpmean_14;
    SigmaPoints_0 _S5176 = _S5175;
    (&_S5176)->w_mean_0[int(0)] = 0.0f;
    (&_S5176)->w_cov_0[int(0)] = 2.0f;
    float _S5177 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_120 = make_float3 (_S5177 * _S5170.x) * _S5172.rows[0U];
    float3  _S5178 = dpmean_14 + delta_120;
    float3  _S5179 = dpmean_14 - delta_120;
    float3  delta_121 = make_float3 (_S5177 * _S5170.y) * _S5172.rows[1U];
    float3  _S5180 = dpmean_14 + delta_121;
    float3  _S5181 = dpmean_14 - delta_121;
    float3  delta_122 = make_float3 (_S5177 * _S5170.z) * _S5172.rows[2U];
    float3  _S5182 = dpmean_14 + delta_122;
    float3  _S5183 = dpmean_14 - delta_122;
    (&_S5176)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5176)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5176)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5176)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5176)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5176)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5176)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5176)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5176)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5176)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5176)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5176)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5176)->p_0[0U] = s_primal_ctx_mul_0(dpR_14, _S5175.p_0[0U]) + dpt_13;
    (&_S5176)->p_0[1U] = s_primal_ctx_mul_0(dpR_14, _S5178) + dpt_13;
    (&_S5176)->p_0[2U] = s_primal_ctx_mul_0(dpR_14, _S5180) + dpt_13;
    (&_S5176)->p_0[3U] = s_primal_ctx_mul_0(dpR_14, _S5182) + dpt_13;
    (&_S5176)->p_0[4U] = s_primal_ctx_mul_0(dpR_14, _S5179) + dpt_13;
    (&_S5176)->p_0[5U] = s_primal_ctx_mul_0(dpR_14, _S5181) + dpt_13;
    (&_S5176)->p_0[6U] = s_primal_ctx_mul_0(dpR_14, _S5183) + dpt_13;
    float2  _S5184 = _S5168;
    Matrix<float, 2, 2>  _S5185 = _S5167;
    SigmaPoints_0 _S5186 = _S5176;
    bool _S5187 = persp_proj_3dgs_ut_1(&_S5186, intrins_42, dist_coeffs_68, image_width_55, image_height_55, &_S5185, &_S5184);
    _s_diff_ctx_26->_S5166 = _S5185;
    float2  _S5188 = _S5184;
    float _S5189 = _S5185.rows[int(0)].y * _S5185.rows[int(1)].x;
    float det_orig_50 = _S5185.rows[int(0)].x * _S5185.rows[int(1)].y - _S5189;
    float _S5190 = _S5185.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5191 = _S5185;
    *&(((&_S5191)->rows + (int(0)))->x) = _S5190;
    float _S5192 = _S5185.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5191)->rows + (int(1)))->y) = _S5192;
    Matrix<float, 2, 2>  _S5193 = _S5191;
    Matrix<float, 2, 2>  _S5194 = _S5191;
    float _S5195 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_50 / (_S5190 * _S5192 - _S5189)));
    float _S5196 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_12));
    float _S5197;
    if(antialiased_55)
    {
        _S5197 = _S5196 * _S5195;
    }
    else
    {
        _S5197 = _S5196;
    }
    float _S5198 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5197 / 0.00392156885936856f)));
    float radius_x_38 = _S5198 * s_primal_ctx_sqrt_0(_S5193.rows[int(0)].x);
    float radius_y_38 = _S5198 * s_primal_ctx_sqrt_0(_S5194.rows[int(1)].y);
    float _S5199 = _S5188.x;
    float _S5200 = _S5188.y;
    float _S5201 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_49, mean_c_49) + 9.99999997475242708e-07f);
    float3  _S5202 = s_primal_ctx_exp_0(- dpscale_13);
    float3  _S5203 = dpmean_14 - - s_primal_ctx_mul_0(transpose_0(dpR_14), dpt_13);
    float3  _S5204 = _S5203 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5203, _S5203)));
    float _S5205 = s_primal_ctx_dot_0((*dpsv_sites_12)[int(4)], _S5204);
    float _S5206 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(0)], _S5204) - _S5205);
    float _S5207 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(1)], _S5204) - _S5205);
    float _S5208 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(2)], _S5204) - _S5205);
    float _S5209 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(3)], _S5204) - _S5205);
    float _S5210 = s_primal_ctx_exp_1(0.0f);
    float3  _S5211 = s_primal_ctx_max_1((make_float3 (_S5206) * (*dpsv_colors_12)[int(0)] + make_float3 (_S5207) * (*dpsv_colors_12)[int(1)] + make_float3 (_S5208) * (*dpsv_colors_12)[int(2)] + make_float3 (_S5209) * (*dpsv_colors_12)[int(3)] + make_float3 (_S5210) * (*dpsv_colors_12)[int(4)]) / make_float3 (_S5206 + _S5207 + _S5208 + _S5209 + _S5210) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_38 = make_int4 (int((F32_floor((_S5199 - radius_x_38)))), int((F32_floor((_S5200 - radius_y_38)))), int((F32_ceil((_S5199 + radius_x_38)))), int((F32_ceil((_S5200 + radius_y_38)))));
    *dpmean2d_14 = _S5188;
    *dpdepth_13 = _S5201;
    *dpconic_12 = _S5202;
    *dpopacity_14 = _S5197;
    *dprgb_13 = _S5211;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(bool antialiased_56, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_15, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_14, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_14, DiffPair_float_0 * dpin_opacity_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_13, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_15, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_14, float fx_65, float fy_65, float cx_60, float cy_60, FixedArray<float, 10>  * dist_coeffs_69, uint image_width_56, uint image_height_56, float near_plane_45, float far_plane_45, float2  dpmean2d_15, float dpdepth_14, float3  dpconic_13, float dpopacity_15, float3  dprgb_14, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_27)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5212 = *dpmean_15;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5213 = *dpquat_14;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5214 = *dpscale_14;
    FixedArray<float3 , 5>  _S5215 = dpsv_sites_13->primal_0;
    FixedArray<float3 , 5>  _S5216 = dpsv_colors_13->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5217 = *dpR_15;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5218 = *dpt_14;
    float3  _S5219 = make_float3 (0.0f);
    float3  mean_c_50 = s_primal_ctx_mul_0((*dpR_15).primal_0, (*dpmean_15).primal_0) + (*dpt_14).primal_0;
    float3  _S5220 = s_primal_ctx_exp_0((*dpscale_14).primal_0);
    float _S5221 = (*dpquat_14).primal_0.y;
    float x2_56 = _S5221 * _S5221;
    float y2_56 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.z;
    float z2_71 = (*dpquat_14).primal_0.w * (*dpquat_14).primal_0.w;
    float xy_56 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.z;
    float xz_56 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.w;
    float yz_56 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.w;
    float wx_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.y;
    float wy_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.z;
    float wz_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.w;
    Matrix<float, 3, 3>  _S5222 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_56 + z2_71), 2.0f * (xy_56 + wz_56), 2.0f * (xz_56 - wy_56), 2.0f * (xy_56 - wz_56), 1.0f - 2.0f * (x2_56 + z2_71), 2.0f * (yz_56 + wx_56), 2.0f * (xz_56 + wy_56), 2.0f * (yz_56 - wx_56), 1.0f - 2.0f * (x2_56 + y2_56))));
    FixedArray<float3 , 7>  _S5223 = {
        _S5219, _S5219, _S5219, _S5219, _S5219, _S5219, _S5219
    };
    FixedArray<float, 7>  _S5224 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5225;
    (&_S5225)->p_0 = _S5223;
    (&_S5225)->w_mean_0 = _S5224;
    (&_S5225)->w_cov_0 = _S5224;
    (&_S5225)->p_0[int(0)] = (*dpmean_15).primal_0;
    float _S5226 = s_primal_ctx_sqrt_0(3.0f);
    float _S5227 = _S5226 * _S5220.x;
    float3  _S5228 = make_float3 (_S5227);
    float3  delta_123 = make_float3 (_S5227) * _S5222.rows[0U];
    float3  _S5229 = (*dpmean_15).primal_0 + delta_123;
    float3  _S5230 = (*dpmean_15).primal_0 - delta_123;
    float _S5231 = _S5226 * _S5220.y;
    float3  _S5232 = make_float3 (_S5231);
    float3  delta_124 = make_float3 (_S5231) * _S5222.rows[1U];
    float3  _S5233 = (*dpmean_15).primal_0 + delta_124;
    float3  _S5234 = (*dpmean_15).primal_0 - delta_124;
    float _S5235 = _S5226 * _S5220.z;
    float3  _S5236 = make_float3 (_S5235);
    float3  delta_125 = make_float3 (_S5235) * _S5222.rows[2U];
    float3  _S5237 = (*dpmean_15).primal_0 + delta_125;
    float3  _S5238 = (*dpmean_15).primal_0 - delta_125;
    SigmaPoints_0 _S5239 = _S5225;
    float _S5240 = *&(((&_s_diff_ctx_27->_S5166)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_27->_S5166)->rows + (int(1)))->x);
    float det_orig_51 = *&(((&_s_diff_ctx_27->_S5166)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_27->_S5166)->rows + (int(1)))->y) - _S5240;
    float _S5241 = *&(((&_s_diff_ctx_27->_S5166)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5242 = _s_diff_ctx_27->_S5166;
    *&(((&_S5242)->rows + (int(0)))->x) = _S5241;
    float _S5243 = *&(((&_s_diff_ctx_27->_S5166)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5242)->rows + (int(1)))->y) = _S5243;
    Matrix<float, 2, 2>  _S5244 = _S5242;
    Matrix<float, 2, 2>  _S5245 = _S5242;
    float det_blur_31 = _S5241 * _S5243 - _S5240;
    float _S5246 = det_orig_51 / det_blur_31;
    float _S5247 = det_blur_31 * det_blur_31;
    float _S5248 = s_primal_ctx_max_0(0.0f, _S5246);
    float _S5249 = s_primal_ctx_sqrt_0(_S5248);
    float _S5250 = - (*dpin_opacity_13).primal_0;
    float _S5251 = 1.0f + s_primal_ctx_exp_1(_S5250);
    float _S5252 = 1.0f / _S5251;
    float _S5253 = _S5251 * _S5251;
    float _S5254;
    if(antialiased_56)
    {
        _S5254 = _S5252 * _S5249;
    }
    else
    {
        _S5254 = _S5252;
    }
    float _S5255 = _S5254 / 0.00392156885936856f;
    float _S5256 = 2.0f * s_primal_ctx_log_0(_S5255);
    float _S5257 = s_primal_ctx_sqrt_0(_S5256);
    float _S5258 = _S5244.rows[int(0)].x;
    float _S5259 = _S5245.rows[int(1)].y;
    float _S5260 = s_primal_ctx_dot_0(mean_c_50, mean_c_50) + 9.99999997475242708e-07f;
    float3  _S5261 = - _S5214.primal_0;
    Matrix<float, 3, 3>  _S5262 = transpose_0(_S5217.primal_0);
    float3  _S5263 = _S5212.primal_0 - - s_primal_ctx_mul_0(_S5262, _S5218.primal_0);
    float _S5264 = s_primal_ctx_dot_0(_S5263, _S5263);
    float _S5265 = s_primal_ctx_rsqrt_0(_S5264);
    float3  _S5266 = make_float3 (_S5265);
    float3  _S5267 = _S5263 * make_float3 (_S5265);
    float _S5268 = s_primal_ctx_dot_0(_S5215[int(4)], _S5267);
    float _S5269 = s_primal_ctx_dot_0(_S5215[int(0)], _S5267) - _S5268;
    float _S5270 = s_primal_ctx_exp_1(_S5269);
    float3  _S5271 = make_float3 (_S5270);
    float _S5272 = s_primal_ctx_dot_0(_S5215[int(1)], _S5267) - _S5268;
    float _S5273 = s_primal_ctx_exp_1(_S5272);
    float3  _S5274 = make_float3 (_S5273);
    float _S5275 = s_primal_ctx_dot_0(_S5215[int(2)], _S5267) - _S5268;
    float _S5276 = s_primal_ctx_exp_1(_S5275);
    float3  _S5277 = make_float3 (_S5276);
    float _S5278 = s_primal_ctx_dot_0(_S5215[int(3)], _S5267) - _S5268;
    float _S5279 = s_primal_ctx_exp_1(_S5278);
    float3  _S5280 = make_float3 (_S5279);
    float _S5281 = s_primal_ctx_exp_1(0.0f);
    float3  _S5282 = make_float3 (_S5281);
    float total_w_6 = _S5270 + _S5273 + _S5276 + _S5279 + _S5281;
    float3  _S5283 = make_float3 (total_w_6);
    float3  total_c_6 = make_float3 (_S5270) * _S5216[int(0)] + make_float3 (_S5273) * _S5216[int(1)] + make_float3 (_S5276) * _S5216[int(2)] + make_float3 (_S5279) * _S5216[int(3)] + make_float3 (_S5281) * _S5216[int(4)];
    float3  _S5284 = make_float3 (total_w_6 * total_w_6);
    float3  _S5285 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5286;
    (&_S5286)->primal_0 = total_c_6 / make_float3 (total_w_6) + make_float3 (0.5f);
    (&_S5286)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5287;
    (&_S5287)->primal_0 = _S5285;
    (&_S5287)->differential_0 = _S5219;
    s_bwd_prop_max_0(&_S5286, &_S5287, dprgb_14);
    float3  _S5288 = _S5286.differential_0 / _S5284;
    float3  _S5289 = total_c_6 * - _S5288;
    float3  s_diff_total_c_T_6 = _S5283 * _S5288;
    float3  _S5290 = _S5282 * s_diff_total_c_T_6;
    float _S5291 = _S5289.x + _S5289.y + _S5289.z;
    float3  _S5292 = _S5280 * s_diff_total_c_T_6;
    float3  _S5293 = _S5216[int(3)] * s_diff_total_c_T_6;
    float _S5294 = _S5291 + _S5293.x + _S5293.y + _S5293.z;
    DiffPair_float_0 _S5295;
    (&_S5295)->primal_0 = _S5278;
    (&_S5295)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5295, _S5294);
    float _S5296 = - _S5295.differential_0;
    float3  _S5297 = _S5277 * s_diff_total_c_T_6;
    float3  _S5298 = _S5216[int(2)] * s_diff_total_c_T_6;
    float _S5299 = _S5291 + _S5298.x + _S5298.y + _S5298.z;
    DiffPair_float_0 _S5300;
    (&_S5300)->primal_0 = _S5275;
    (&_S5300)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5300, _S5299);
    float _S5301 = - _S5300.differential_0;
    float3  _S5302 = _S5274 * s_diff_total_c_T_6;
    float3  _S5303 = _S5216[int(1)] * s_diff_total_c_T_6;
    float _S5304 = _S5291 + _S5303.x + _S5303.y + _S5303.z;
    DiffPair_float_0 _S5305;
    (&_S5305)->primal_0 = _S5272;
    (&_S5305)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5305, _S5304);
    float _S5306 = - _S5305.differential_0;
    float3  _S5307 = _S5271 * s_diff_total_c_T_6;
    float3  _S5308 = _S5216[int(0)] * s_diff_total_c_T_6;
    float _S5309 = _S5291 + _S5308.x + _S5308.y + _S5308.z;
    DiffPair_float_0 _S5310;
    (&_S5310)->primal_0 = _S5269;
    (&_S5310)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5310, _S5309);
    float _S5311 = _S5296 + _S5301 + _S5306 + - _S5310.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5312;
    (&_S5312)->primal_0 = _S5215[int(4)];
    (&_S5312)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5313;
    (&_S5313)->primal_0 = _S5267;
    (&_S5313)->differential_0 = _S5219;
    s_bwd_prop_dot_0(&_S5312, &_S5313, _S5311);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5314;
    (&_S5314)->primal_0 = _S5215[int(3)];
    (&_S5314)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5315;
    (&_S5315)->primal_0 = _S5267;
    (&_S5315)->differential_0 = _S5219;
    s_bwd_prop_dot_0(&_S5314, &_S5315, _S5295.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5316;
    (&_S5316)->primal_0 = _S5215[int(2)];
    (&_S5316)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5317;
    (&_S5317)->primal_0 = _S5267;
    (&_S5317)->differential_0 = _S5219;
    s_bwd_prop_dot_0(&_S5316, &_S5317, _S5300.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5318;
    (&_S5318)->primal_0 = _S5215[int(1)];
    (&_S5318)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5319;
    (&_S5319)->primal_0 = _S5267;
    (&_S5319)->differential_0 = _S5219;
    s_bwd_prop_dot_0(&_S5318, &_S5319, _S5305.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5320;
    (&_S5320)->primal_0 = _S5215[int(0)];
    (&_S5320)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5321;
    (&_S5321)->primal_0 = _S5267;
    (&_S5321)->differential_0 = _S5219;
    s_bwd_prop_dot_0(&_S5320, &_S5321, _S5310.differential_0);
    float3  _S5322 = _S5313.differential_0 + _S5315.differential_0 + _S5317.differential_0 + _S5319.differential_0 + _S5321.differential_0;
    float3  _S5323 = _S5263 * _S5322;
    float3  _S5324 = _S5266 * _S5322;
    float _S5325 = _S5323.x + _S5323.y + _S5323.z;
    DiffPair_float_0 _S5326;
    (&_S5326)->primal_0 = _S5264;
    (&_S5326)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5326, _S5325);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5327;
    (&_S5327)->primal_0 = _S5263;
    (&_S5327)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5328;
    (&_S5328)->primal_0 = _S5263;
    (&_S5328)->differential_0 = _S5219;
    s_bwd_prop_dot_0(&_S5327, &_S5328, _S5326.differential_0);
    float3  _S5329 = _S5324 + _S5328.differential_0 + _S5327.differential_0;
    float3  _S5330 = - - _S5329;
    Matrix<float, 3, 3>  _S5331 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5332;
    (&_S5332)->primal_0 = _S5262;
    (&_S5332)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5333;
    (&_S5333)->primal_0 = _S5218.primal_0;
    (&_S5333)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5332, &_S5333, _S5330);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5334 = _S5333;
    Matrix<float, 3, 3>  _S5335 = transpose_0(_S5332.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5336;
    (&_S5336)->primal_0 = _S5261;
    (&_S5336)->differential_0 = _S5219;
    s_bwd_prop_exp_1(&_S5336, dpconic_13);
    float3  _S5337 = - _S5336.differential_0;
    float _S5338 = 0.5f * dpdepth_14;
    DiffPair_float_0 _S5339;
    (&_S5339)->primal_0 = _S5260;
    (&_S5339)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5339, _S5338);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5340;
    (&_S5340)->primal_0 = mean_c_50;
    (&_S5340)->differential_0 = _S5219;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5341;
    (&_S5341)->primal_0 = mean_c_50;
    (&_S5341)->differential_0 = _S5219;
    s_bwd_prop_dot_0(&_S5340, &_S5341, _S5339.differential_0);
    DiffPair_float_0 _S5342;
    (&_S5342)->primal_0 = _S5259;
    (&_S5342)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5342, 0.0f);
    DiffPair_float_0 _S5343;
    (&_S5343)->primal_0 = _S5258;
    (&_S5343)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5343, 0.0f);
    DiffPair_float_0 _S5344;
    (&_S5344)->primal_0 = 3.32999992370605469f;
    (&_S5344)->differential_0 = 0.0f;
    DiffPair_float_0 _S5345;
    (&_S5345)->primal_0 = _S5257;
    (&_S5345)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5344, &_S5345, 0.0f);
    DiffPair_float_0 _S5346;
    (&_S5346)->primal_0 = _S5256;
    (&_S5346)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5346, _S5345.differential_0);
    float _S5347 = 2.0f * _S5346.differential_0;
    DiffPair_float_0 _S5348;
    (&_S5348)->primal_0 = _S5255;
    (&_S5348)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5348, _S5347);
    float _S5349 = dpopacity_15 + 254.9999847412109375f * _S5348.differential_0;
    FixedArray<float3 , 5>  _S5350;
    _S5350[int(0)] = _S5219;
    _S5350[int(1)] = _S5219;
    _S5350[int(2)] = _S5219;
    _S5350[int(3)] = _S5219;
    _S5350[int(4)] = _S5219;
    _S5350[int(4)] = _S5290;
    _S5350[int(3)] = _S5292;
    _S5350[int(2)] = _S5297;
    _S5350[int(1)] = _S5302;
    _S5350[int(0)] = _S5307;
    FixedArray<float3 , 5>  _S5351 = {
        _S5350[int(0)], _S5350[int(1)], _S5350[int(2)], _S5350[int(3)], _S5350[int(4)]
    };
    FixedArray<float3 , 5>  _S5352;
    _S5352[int(0)] = _S5219;
    _S5352[int(1)] = _S5219;
    _S5352[int(2)] = _S5219;
    _S5352[int(3)] = _S5219;
    _S5352[int(4)] = _S5219;
    _S5352[int(4)] = _S5312.differential_0;
    _S5352[int(3)] = _S5314.differential_0;
    _S5352[int(2)] = _S5316.differential_0;
    _S5352[int(1)] = _S5318.differential_0;
    _S5352[int(0)] = _S5320.differential_0;
    FixedArray<float3 , 5>  _S5353 = {
        _S5352[int(0)], _S5352[int(1)], _S5352[int(2)], _S5352[int(3)], _S5352[int(4)]
    };
    float3  _S5354 = _S5341.differential_0 + _S5340.differential_0;
    float2  _S5355 = make_float2 (0.0f, _S5342.differential_0);
    float2  _S5356 = make_float2 (_S5343.differential_0, 0.0f);
    float _S5357;
    if(antialiased_56)
    {
        float _S5358 = _S5252 * _S5349;
        _S5254 = _S5249 * _S5349;
        _S5357 = _S5358;
    }
    else
    {
        _S5254 = _S5349;
        _S5357 = 0.0f;
    }
    float _S5359 = - (_S5254 / _S5253);
    DiffPair_float_0 _S5360;
    (&_S5360)->primal_0 = _S5250;
    (&_S5360)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5360, _S5359);
    float _S5361 = - _S5360.differential_0;
    DiffPair_float_0 _S5362;
    (&_S5362)->primal_0 = _S5248;
    (&_S5362)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5362, _S5357);
    DiffPair_float_0 _S5363;
    (&_S5363)->primal_0 = 0.0f;
    (&_S5363)->differential_0 = 0.0f;
    DiffPair_float_0 _S5364;
    (&_S5364)->primal_0 = _S5246;
    (&_S5364)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5363, &_S5364, _S5362.differential_0);
    float _S5365 = _S5364.differential_0 / _S5247;
    float s_diff_det_blur_T_8 = det_orig_51 * - _S5365;
    float s_diff_det_orig_T_11 = det_blur_31 * _S5365;
    float _S5366 = - s_diff_det_blur_T_8;
    float _S5367 = _S5241 * s_diff_det_blur_T_8;
    float _S5368 = _S5243 * s_diff_det_blur_T_8;
    Matrix<float, 2, 2>  _S5369 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5370 = _S5369;
    _S5370[int(1)] = _S5355;
    _S5370[int(0)] = _S5356;
    float _S5371 = _S5368 + _S5370.rows[int(0)].x;
    float _S5372 = _S5366 + - s_diff_det_orig_T_11;
    float _S5373 = *&(((&_s_diff_ctx_27->_S5166)->rows + (int(0)))->y) * _S5372;
    float _S5374 = *&(((&_s_diff_ctx_27->_S5166)->rows + (int(1)))->x) * _S5372;
    float _S5375 = *&(((&_s_diff_ctx_27->_S5166)->rows + (int(1)))->y) * s_diff_det_orig_T_11;
    float _S5376 = _S5367 + _S5370.rows[int(1)].y + *&(((&_s_diff_ctx_27->_S5166)->rows + (int(0)))->x) * s_diff_det_orig_T_11;
    float2  _S5377 = make_float2 (0.0f);
    float2  _S5378 = _S5377;
    *&((&_S5378)->x) = _S5373;
    *&((&_S5378)->y) = _S5376;
    float _S5379 = _S5371 + _S5375;
    float2  _S5380 = _S5377;
    *&((&_S5380)->y) = _S5374;
    *&((&_S5380)->x) = _S5379;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5381;
    (&_S5381)->primal_0 = _S5217.primal_0;
    (&_S5381)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5382;
    (&_S5382)->primal_0 = _S5238;
    (&_S5382)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5381, &_S5382, _S5219);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5383;
    (&_S5383)->primal_0 = _S5217.primal_0;
    (&_S5383)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5384;
    (&_S5384)->primal_0 = _S5234;
    (&_S5384)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5383, &_S5384, _S5219);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5385;
    (&_S5385)->primal_0 = _S5217.primal_0;
    (&_S5385)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5386;
    (&_S5386)->primal_0 = _S5230;
    (&_S5386)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5385, &_S5386, _S5219);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5387;
    (&_S5387)->primal_0 = _S5217.primal_0;
    (&_S5387)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5388;
    (&_S5388)->primal_0 = _S5237;
    (&_S5388)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5387, &_S5388, _S5219);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5389;
    (&_S5389)->primal_0 = _S5217.primal_0;
    (&_S5389)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5390;
    (&_S5390)->primal_0 = _S5233;
    (&_S5390)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5389, &_S5390, _S5219);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5391;
    (&_S5391)->primal_0 = _S5217.primal_0;
    (&_S5391)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5392;
    (&_S5392)->primal_0 = _S5229;
    (&_S5392)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5391, &_S5392, _S5219);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5393;
    (&_S5393)->primal_0 = _S5217.primal_0;
    (&_S5393)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5394;
    (&_S5394)->primal_0 = _S5239.p_0[0U];
    (&_S5394)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5393, &_S5394, _S5219);
    float3  _S5395 = - _S5382.differential_0 + _S5388.differential_0;
    float3  _S5396 = _S5236 * _S5395;
    float3  _S5397 = _S5222.rows[2U] * _S5395;
    float _S5398 = _S5226 * (_S5397.x + _S5397.y + _S5397.z);
    float3  _S5399 = - _S5384.differential_0 + _S5390.differential_0;
    float3  _S5400 = _S5232 * _S5399;
    float3  _S5401 = _S5222.rows[1U] * _S5399;
    float _S5402 = _S5226 * (_S5401.x + _S5401.y + _S5401.z);
    float3  _S5403 = - _S5386.differential_0 + _S5392.differential_0;
    float3  _S5404 = _S5228 * _S5403;
    float3  _S5405 = _S5222.rows[0U] * _S5403;
    float _S5406 = _S5226 * (_S5405.x + _S5405.y + _S5405.z);
    Matrix<float, 3, 3>  _S5407 = _S5331;
    _S5407[2U] = _S5396;
    _S5407[1U] = _S5400;
    _S5407[0U] = _S5404;
    Matrix<float, 3, 3>  _S5408 = transpose_0(transpose_0(_S5407));
    float _S5409 = 2.0f * - _S5408.rows[int(2)].z;
    float _S5410 = 2.0f * _S5408.rows[int(2)].y;
    float _S5411 = 2.0f * _S5408.rows[int(2)].x;
    float _S5412 = 2.0f * _S5408.rows[int(1)].z;
    float _S5413 = 2.0f * - _S5408.rows[int(1)].y;
    float _S5414 = 2.0f * _S5408.rows[int(1)].x;
    float _S5415 = 2.0f * _S5408.rows[int(0)].z;
    float _S5416 = 2.0f * _S5408.rows[int(0)].y;
    float _S5417 = 2.0f * - _S5408.rows[int(0)].x;
    float _S5418 = - _S5414 + _S5416;
    float _S5419 = _S5411 + - _S5415;
    float _S5420 = - _S5410 + _S5412;
    float _S5421 = _S5410 + _S5412;
    float _S5422 = _S5411 + _S5415;
    float _S5423 = _S5414 + _S5416;
    float _S5424 = _S5213.primal_0.w * (_S5413 + _S5417);
    float _S5425 = _S5213.primal_0.z * (_S5409 + _S5417);
    float _S5426 = _S5213.primal_0.y * (_S5409 + _S5413);
    float _S5427 = _S5213.primal_0.x * _S5418 + _S5213.primal_0.z * _S5421 + _S5213.primal_0.y * _S5422 + _S5424 + _S5424;
    float _S5428 = _S5213.primal_0.x * _S5419 + _S5213.primal_0.w * _S5421 + _S5213.primal_0.y * _S5423 + _S5425 + _S5425;
    float _S5429 = _S5213.primal_0.x * _S5420 + _S5213.primal_0.w * _S5422 + _S5213.primal_0.z * _S5423 + _S5426 + _S5426;
    float _S5430 = _S5213.primal_0.w * _S5418 + _S5213.primal_0.z * _S5419 + _S5213.primal_0.y * _S5420;
    float3  _S5431 = _S5219;
    *&((&_S5431)->z) = _S5398;
    *&((&_S5431)->y) = _S5402;
    *&((&_S5431)->x) = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5432;
    (&_S5432)->primal_0 = _S5214.primal_0;
    (&_S5432)->differential_0 = _S5219;
    s_bwd_prop_exp_1(&_S5432, _S5431);
    Matrix<float, 2, 2>  _S5433 = _S5369;
    _S5433[int(1)] = _S5378;
    _S5433[int(0)] = _S5380;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5434;
    (&_S5434)->primal_0 = _S5217.primal_0;
    (&_S5434)->differential_0 = _S5331;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5435;
    (&_S5435)->primal_0 = _S5212.primal_0;
    (&_S5435)->differential_0 = _S5219;
    s_bwd_prop_mul_1(&_S5434, &_S5435, _S5354);
    float3  _S5436 = _S5354 + _S5334.differential_0;
    dpt_14->primal_0 = (*dpt_14).primal_0;
    dpt_14->differential_0 = _S5436;
    Matrix<float, 3, 3>  _S5437 = _S5381.differential_0 + _S5383.differential_0 + _S5385.differential_0 + _S5387.differential_0 + _S5389.differential_0 + _S5391.differential_0 + _S5393.differential_0 + _S5434.differential_0 + _S5335;
    dpR_15->primal_0 = (*dpR_15).primal_0;
    dpR_15->differential_0 = _S5437;
    dpsv_colors_13->primal_0 = dpsv_colors_13->primal_0;
    dpsv_colors_13->differential_0 = _S5351;
    dpsv_sites_13->primal_0 = dpsv_sites_13->primal_0;
    dpsv_sites_13->differential_0 = _S5353;
    dpin_opacity_13->primal_0 = (*dpin_opacity_13).primal_0;
    dpin_opacity_13->differential_0 = _S5361;
    float3  _S5438 = _S5432.differential_0 + _S5337;
    dpscale_14->primal_0 = (*dpscale_14).primal_0;
    dpscale_14->differential_0 = _S5438;
    float4  _S5439 = make_float4 (0.0f);
    *&((&_S5439)->w) = _S5427;
    *&((&_S5439)->z) = _S5428;
    *&((&_S5439)->y) = _S5429;
    *&((&_S5439)->x) = _S5430;
    dpquat_14->primal_0 = (*dpquat_14).primal_0;
    dpquat_14->differential_0 = _S5439;
    float3  _S5440 = _S5382.differential_0 + _S5388.differential_0 + _S5384.differential_0 + _S5390.differential_0 + _S5386.differential_0 + _S5392.differential_0 + _S5435.differential_0 + _S5329;
    dpmean_15->primal_0 = (*dpmean_15).primal_0;
    dpmean_15->differential_0 = _S5440;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_3(bool _S5441, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5442, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5443, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5444, DiffPair_float_0 * _S5445, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5446, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5447, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5448, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5449, float _S5450, float _S5451, float _S5452, float _S5453, FixedArray<float, 10>  * _S5454, uint _S5455, uint _S5456, float _S5457, float _S5458, float2  _S5459, float _S5460, float3  _S5461, float _S5462, float3  _S5463)
{
    FixedArray<float3 , 5>  _S5464 = _S5446->primal_0;
    FixedArray<float3 , 5>  _S5465 = _S5447->primal_0;
    int4  _S5466;
    float2  _S5467;
    float _S5468;
    float3  _S5469;
    float _S5470;
    float3  _S5471;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S5472;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(_S5441, (*_S5442).primal_0, (*_S5443).primal_0, (*_S5444).primal_0, (*_S5445).primal_0, &_S5464, &_S5465, (*_S5448).primal_0, (*_S5449).primal_0, _S5450, _S5451, _S5452, _S5453, _S5454, _S5455, _S5456, _S5457, _S5458, &_S5466, &_S5467, &_S5468, &_S5469, &_S5470, &_S5471, &_S5472);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S5473 = _S5472;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(_S5441, _S5442, _S5443, _S5444, _S5445, _S5446, _S5447, _S5448, _S5449, _S5450, _S5451, _S5452, _S5453, _S5454, _S5455, _S5456, _S5457, _S5458, _S5459, _S5460, _S5461, _S5462, _S5463, &_S5473);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_57, float3  mean_48, float4  quat_49, float3  scale_48, float in_opacity_43, FixedArray<float3 , 5>  * sv_sites_28, FixedArray<float3 , 5>  * sv_colors_28, Matrix<float, 3, 3>  R_50, float3  t_46, float fx_66, float fy_66, float cx_61, float cy_61, FixedArray<float, 10>  * dist_coeffs_70, uint image_width_57, uint image_height_57, float2  v_mean2d_11, float v_depth_12, float3  v_conic_11, float v_opacity_13, float3  v_rgb_12, float3  * v_mean_13, float4  * v_quat_12, float3  * v_scale_12, float * v_in_opacity_11, FixedArray<float3 , 5>  * v_sv_dirs_6, FixedArray<float3 , 5>  * v_sv_colors_6, Matrix<float, 3, 3>  * v_R_13, float3  * v_t_12)
{
    float3  _S5474 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_8;
    (&dp_mean_8)->primal_0 = mean_48;
    (&dp_mean_8)->differential_0 = _S5474;
    float4  _S5475 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_7;
    (&dp_quat_7)->primal_0 = quat_49;
    (&dp_quat_7)->differential_0 = _S5475;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_7;
    (&dp_scale_7)->primal_0 = scale_48;
    (&dp_scale_7)->differential_0 = _S5474;
    DiffPair_float_0 dp_in_opacity_6;
    (&dp_in_opacity_6)->primal_0 = in_opacity_43;
    (&dp_in_opacity_6)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S5476 = { _S5474, _S5474, _S5474, _S5474, _S5474 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_6;
    (&dp_sv_dirs_6)->primal_0 = *sv_sites_28;
    (&dp_sv_dirs_6)->differential_0 = _S5476;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_6;
    (&dp_sv_colors_6)->primal_0 = *sv_colors_28;
    (&dp_sv_colors_6)->differential_0 = _S5476;
    Matrix<float, 3, 3>  _S5477 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_8;
    (&dp_R_8)->primal_0 = R_50;
    (&dp_R_8)->differential_0 = _S5477;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_7;
    (&dp_t_7)->primal_0 = t_46;
    (&dp_t_7)->differential_0 = _S5474;
    s_bwd_projection_3dgut_sv_persp_differentiable_3(antialiased_57, &dp_mean_8, &dp_quat_7, &dp_scale_7, &dp_in_opacity_6, &dp_sv_dirs_6, &dp_sv_colors_6, &dp_R_8, &dp_t_7, fx_66, fy_66, cx_61, cy_61, dist_coeffs_70, image_width_57, image_height_57, 0.0f, 1.00000001504746622e+30f, v_mean2d_11, v_depth_12, v_conic_11, v_opacity_13, v_rgb_12);
    *v_mean_13 = dp_mean_8.differential_0;
    *v_quat_12 = dp_quat_7.differential_0;
    *v_scale_12 = dp_scale_7.differential_0;
    *v_in_opacity_11 = dp_in_opacity_6.differential_0;
    *v_sv_dirs_6 = (&dp_sv_dirs_6)->differential_0;
    *v_sv_colors_6 = (&dp_sv_colors_6)->differential_0;
    *v_R_13 = dp_R_8.differential_0;
    *v_t_12 = dp_t_7.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S5478;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_58, float3  dpmean_16, float4  dpquat_15, float3  dpscale_15, float dpin_opacity_14, FixedArray<float3 , 5>  * dpsv_sites_14, FixedArray<float3 , 5>  * dpsv_colors_14, Matrix<float, 3, 3>  dpR_16, float3  dpt_15, float fx_67, float fy_67, float cx_62, float cy_62, FixedArray<float, 10>  * dist_coeffs_71, uint image_width_58, uint image_height_58, float near_plane_46, float far_plane_46, int4  * aabb_xyxy_39, float2  * dpmean2d_16, float * dpdepth_15, float3  * dpconic_14, float * dpopacity_16, float3  * dprgb_15, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_28)
{
    Matrix<float, 2, 2>  _S5479 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_28->_S5478 = _S5479;
    float2  _S5480 = make_float2 (0.0f);
    float3  _S5481 = make_float3 (0.0f);
    float3  mean_c_51 = s_primal_ctx_mul_0(dpR_16, dpmean_16) + dpt_15;
    float4  intrins_43 = make_float4 (fx_67, fy_67, cx_62, cy_62);
    float3  _S5482 = s_primal_ctx_exp_0(dpscale_15);
    float _S5483 = dpquat_15.y;
    float x2_57 = _S5483 * _S5483;
    float y2_57 = dpquat_15.z * dpquat_15.z;
    float z2_72 = dpquat_15.w * dpquat_15.w;
    float xy_57 = dpquat_15.y * dpquat_15.z;
    float xz_57 = dpquat_15.y * dpquat_15.w;
    float yz_57 = dpquat_15.z * dpquat_15.w;
    float wx_57 = dpquat_15.x * dpquat_15.y;
    float wy_57 = dpquat_15.x * dpquat_15.z;
    float wz_57 = dpquat_15.x * dpquat_15.w;
    Matrix<float, 3, 3>  _S5484 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_57 + z2_72), 2.0f * (xy_57 + wz_57), 2.0f * (xz_57 - wy_57), 2.0f * (xy_57 - wz_57), 1.0f - 2.0f * (x2_57 + z2_72), 2.0f * (yz_57 + wx_57), 2.0f * (xz_57 + wy_57), 2.0f * (yz_57 - wx_57), 1.0f - 2.0f * (x2_57 + y2_57))));
    FixedArray<float3 , 7>  _S5485 = {
        _S5481, _S5481, _S5481, _S5481, _S5481, _S5481, _S5481
    };
    FixedArray<float, 7>  _S5486 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5487;
    (&_S5487)->p_0 = _S5485;
    (&_S5487)->w_mean_0 = _S5486;
    (&_S5487)->w_cov_0 = _S5486;
    (&_S5487)->p_0[int(0)] = dpmean_16;
    SigmaPoints_0 _S5488 = _S5487;
    (&_S5488)->w_mean_0[int(0)] = 0.0f;
    (&_S5488)->w_cov_0[int(0)] = 2.0f;
    float _S5489 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_126 = make_float3 (_S5489 * _S5482.x) * _S5484.rows[0U];
    float3  _S5490 = dpmean_16 + delta_126;
    float3  _S5491 = dpmean_16 - delta_126;
    float3  delta_127 = make_float3 (_S5489 * _S5482.y) * _S5484.rows[1U];
    float3  _S5492 = dpmean_16 + delta_127;
    float3  _S5493 = dpmean_16 - delta_127;
    float3  delta_128 = make_float3 (_S5489 * _S5482.z) * _S5484.rows[2U];
    float3  _S5494 = dpmean_16 + delta_128;
    float3  _S5495 = dpmean_16 - delta_128;
    (&_S5488)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5488)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5488)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5488)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5488)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5488)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5488)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5488)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5488)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5488)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5488)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5488)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5488)->p_0[0U] = s_primal_ctx_mul_0(dpR_16, _S5487.p_0[0U]) + dpt_15;
    (&_S5488)->p_0[1U] = s_primal_ctx_mul_0(dpR_16, _S5490) + dpt_15;
    (&_S5488)->p_0[2U] = s_primal_ctx_mul_0(dpR_16, _S5492) + dpt_15;
    (&_S5488)->p_0[3U] = s_primal_ctx_mul_0(dpR_16, _S5494) + dpt_15;
    (&_S5488)->p_0[4U] = s_primal_ctx_mul_0(dpR_16, _S5491) + dpt_15;
    (&_S5488)->p_0[5U] = s_primal_ctx_mul_0(dpR_16, _S5493) + dpt_15;
    (&_S5488)->p_0[6U] = s_primal_ctx_mul_0(dpR_16, _S5495) + dpt_15;
    float2  _S5496 = _S5480;
    Matrix<float, 2, 2>  _S5497 = _S5479;
    SigmaPoints_0 _S5498 = _S5488;
    bool _S5499 = fisheye_proj_3dgs_ut_1(&_S5498, intrins_43, dist_coeffs_71, &_S5497, &_S5496);
    _s_diff_ctx_28->_S5478 = _S5497;
    float2  _S5500 = _S5496;
    float _S5501 = _S5497.rows[int(0)].y * _S5497.rows[int(1)].x;
    float det_orig_52 = _S5497.rows[int(0)].x * _S5497.rows[int(1)].y - _S5501;
    float _S5502 = _S5497.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5503 = _S5497;
    *&(((&_S5503)->rows + (int(0)))->x) = _S5502;
    float _S5504 = _S5497.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5503)->rows + (int(1)))->y) = _S5504;
    Matrix<float, 2, 2>  _S5505 = _S5503;
    Matrix<float, 2, 2>  _S5506 = _S5503;
    float _S5507 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_52 / (_S5502 * _S5504 - _S5501)));
    float _S5508 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_14));
    float _S5509;
    if(antialiased_58)
    {
        _S5509 = _S5508 * _S5507;
    }
    else
    {
        _S5509 = _S5508;
    }
    float _S5510 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5509 / 0.00392156885936856f)));
    float radius_x_39 = _S5510 * s_primal_ctx_sqrt_0(_S5505.rows[int(0)].x);
    float radius_y_39 = _S5510 * s_primal_ctx_sqrt_0(_S5506.rows[int(1)].y);
    float _S5511 = _S5500.x;
    float _S5512 = _S5500.y;
    float _S5513 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_51, mean_c_51) + 9.99999997475242708e-07f);
    float3  _S5514 = s_primal_ctx_exp_0(- dpscale_15);
    float3  _S5515 = dpmean_16 - - s_primal_ctx_mul_0(transpose_0(dpR_16), dpt_15);
    float3  _S5516 = _S5515 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5515, _S5515)));
    float _S5517 = s_primal_ctx_dot_0((*dpsv_sites_14)[int(4)], _S5516);
    float _S5518 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(0)], _S5516) - _S5517);
    float _S5519 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(1)], _S5516) - _S5517);
    float _S5520 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(2)], _S5516) - _S5517);
    float _S5521 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(3)], _S5516) - _S5517);
    float _S5522 = s_primal_ctx_exp_1(0.0f);
    float3  _S5523 = s_primal_ctx_max_1((make_float3 (_S5518) * (*dpsv_colors_14)[int(0)] + make_float3 (_S5519) * (*dpsv_colors_14)[int(1)] + make_float3 (_S5520) * (*dpsv_colors_14)[int(2)] + make_float3 (_S5521) * (*dpsv_colors_14)[int(3)] + make_float3 (_S5522) * (*dpsv_colors_14)[int(4)]) / make_float3 (_S5518 + _S5519 + _S5520 + _S5521 + _S5522) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_39 = make_int4 (int((F32_floor((_S5511 - radius_x_39)))), int((F32_floor((_S5512 - radius_y_39)))), int((F32_ceil((_S5511 + radius_x_39)))), int((F32_ceil((_S5512 + radius_y_39)))));
    *dpmean2d_16 = _S5500;
    *dpdepth_15 = _S5513;
    *dpconic_14 = _S5514;
    *dpopacity_16 = _S5509;
    *dprgb_15 = _S5523;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_59, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_17, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_16, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_16, DiffPair_float_0 * dpin_opacity_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_15, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_17, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_16, float fx_68, float fy_68, float cx_63, float cy_63, FixedArray<float, 10>  * dist_coeffs_72, uint image_width_59, uint image_height_59, float near_plane_47, float far_plane_47, float2  dpmean2d_17, float dpdepth_16, float3  dpconic_15, float dpopacity_17, float3  dprgb_16, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_29)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5524 = *dpmean_17;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5525 = *dpquat_16;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5526 = *dpscale_16;
    FixedArray<float3 , 5>  _S5527 = dpsv_sites_15->primal_0;
    FixedArray<float3 , 5>  _S5528 = dpsv_colors_15->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5529 = *dpR_17;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5530 = *dpt_16;
    float3  _S5531 = make_float3 (0.0f);
    float3  mean_c_52 = s_primal_ctx_mul_0((*dpR_17).primal_0, (*dpmean_17).primal_0) + (*dpt_16).primal_0;
    float3  _S5532 = s_primal_ctx_exp_0((*dpscale_16).primal_0);
    float _S5533 = (*dpquat_16).primal_0.y;
    float x2_58 = _S5533 * _S5533;
    float y2_58 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.z;
    float z2_73 = (*dpquat_16).primal_0.w * (*dpquat_16).primal_0.w;
    float xy_58 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.z;
    float xz_58 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.w;
    float yz_58 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.w;
    float wx_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.y;
    float wy_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.z;
    float wz_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.w;
    Matrix<float, 3, 3>  _S5534 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_58 + z2_73), 2.0f * (xy_58 + wz_58), 2.0f * (xz_58 - wy_58), 2.0f * (xy_58 - wz_58), 1.0f - 2.0f * (x2_58 + z2_73), 2.0f * (yz_58 + wx_58), 2.0f * (xz_58 + wy_58), 2.0f * (yz_58 - wx_58), 1.0f - 2.0f * (x2_58 + y2_58))));
    FixedArray<float3 , 7>  _S5535 = {
        _S5531, _S5531, _S5531, _S5531, _S5531, _S5531, _S5531
    };
    FixedArray<float, 7>  _S5536 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5537;
    (&_S5537)->p_0 = _S5535;
    (&_S5537)->w_mean_0 = _S5536;
    (&_S5537)->w_cov_0 = _S5536;
    (&_S5537)->p_0[int(0)] = (*dpmean_17).primal_0;
    float _S5538 = s_primal_ctx_sqrt_0(3.0f);
    float _S5539 = _S5538 * _S5532.x;
    float3  _S5540 = make_float3 (_S5539);
    float3  delta_129 = make_float3 (_S5539) * _S5534.rows[0U];
    float3  _S5541 = (*dpmean_17).primal_0 + delta_129;
    float3  _S5542 = (*dpmean_17).primal_0 - delta_129;
    float _S5543 = _S5538 * _S5532.y;
    float3  _S5544 = make_float3 (_S5543);
    float3  delta_130 = make_float3 (_S5543) * _S5534.rows[1U];
    float3  _S5545 = (*dpmean_17).primal_0 + delta_130;
    float3  _S5546 = (*dpmean_17).primal_0 - delta_130;
    float _S5547 = _S5538 * _S5532.z;
    float3  _S5548 = make_float3 (_S5547);
    float3  delta_131 = make_float3 (_S5547) * _S5534.rows[2U];
    float3  _S5549 = (*dpmean_17).primal_0 + delta_131;
    float3  _S5550 = (*dpmean_17).primal_0 - delta_131;
    SigmaPoints_0 _S5551 = _S5537;
    float _S5552 = *&(((&_s_diff_ctx_29->_S5478)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_29->_S5478)->rows + (int(1)))->x);
    float det_orig_53 = *&(((&_s_diff_ctx_29->_S5478)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_29->_S5478)->rows + (int(1)))->y) - _S5552;
    float _S5553 = *&(((&_s_diff_ctx_29->_S5478)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5554 = _s_diff_ctx_29->_S5478;
    *&(((&_S5554)->rows + (int(0)))->x) = _S5553;
    float _S5555 = *&(((&_s_diff_ctx_29->_S5478)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5554)->rows + (int(1)))->y) = _S5555;
    Matrix<float, 2, 2>  _S5556 = _S5554;
    Matrix<float, 2, 2>  _S5557 = _S5554;
    float det_blur_32 = _S5553 * _S5555 - _S5552;
    float _S5558 = det_orig_53 / det_blur_32;
    float _S5559 = det_blur_32 * det_blur_32;
    float _S5560 = s_primal_ctx_max_0(0.0f, _S5558);
    float _S5561 = s_primal_ctx_sqrt_0(_S5560);
    float _S5562 = - (*dpin_opacity_15).primal_0;
    float _S5563 = 1.0f + s_primal_ctx_exp_1(_S5562);
    float _S5564 = 1.0f / _S5563;
    float _S5565 = _S5563 * _S5563;
    float _S5566;
    if(antialiased_59)
    {
        _S5566 = _S5564 * _S5561;
    }
    else
    {
        _S5566 = _S5564;
    }
    float _S5567 = _S5566 / 0.00392156885936856f;
    float _S5568 = 2.0f * s_primal_ctx_log_0(_S5567);
    float _S5569 = s_primal_ctx_sqrt_0(_S5568);
    float _S5570 = _S5556.rows[int(0)].x;
    float _S5571 = _S5557.rows[int(1)].y;
    float _S5572 = s_primal_ctx_dot_0(mean_c_52, mean_c_52) + 9.99999997475242708e-07f;
    float3  _S5573 = - _S5526.primal_0;
    Matrix<float, 3, 3>  _S5574 = transpose_0(_S5529.primal_0);
    float3  _S5575 = _S5524.primal_0 - - s_primal_ctx_mul_0(_S5574, _S5530.primal_0);
    float _S5576 = s_primal_ctx_dot_0(_S5575, _S5575);
    float _S5577 = s_primal_ctx_rsqrt_0(_S5576);
    float3  _S5578 = make_float3 (_S5577);
    float3  _S5579 = _S5575 * make_float3 (_S5577);
    float _S5580 = s_primal_ctx_dot_0(_S5527[int(4)], _S5579);
    float _S5581 = s_primal_ctx_dot_0(_S5527[int(0)], _S5579) - _S5580;
    float _S5582 = s_primal_ctx_exp_1(_S5581);
    float3  _S5583 = make_float3 (_S5582);
    float _S5584 = s_primal_ctx_dot_0(_S5527[int(1)], _S5579) - _S5580;
    float _S5585 = s_primal_ctx_exp_1(_S5584);
    float3  _S5586 = make_float3 (_S5585);
    float _S5587 = s_primal_ctx_dot_0(_S5527[int(2)], _S5579) - _S5580;
    float _S5588 = s_primal_ctx_exp_1(_S5587);
    float3  _S5589 = make_float3 (_S5588);
    float _S5590 = s_primal_ctx_dot_0(_S5527[int(3)], _S5579) - _S5580;
    float _S5591 = s_primal_ctx_exp_1(_S5590);
    float3  _S5592 = make_float3 (_S5591);
    float _S5593 = s_primal_ctx_exp_1(0.0f);
    float3  _S5594 = make_float3 (_S5593);
    float total_w_7 = _S5582 + _S5585 + _S5588 + _S5591 + _S5593;
    float3  _S5595 = make_float3 (total_w_7);
    float3  total_c_7 = make_float3 (_S5582) * _S5528[int(0)] + make_float3 (_S5585) * _S5528[int(1)] + make_float3 (_S5588) * _S5528[int(2)] + make_float3 (_S5591) * _S5528[int(3)] + make_float3 (_S5593) * _S5528[int(4)];
    float3  _S5596 = make_float3 (total_w_7 * total_w_7);
    float3  _S5597 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5598;
    (&_S5598)->primal_0 = total_c_7 / make_float3 (total_w_7) + make_float3 (0.5f);
    (&_S5598)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5599;
    (&_S5599)->primal_0 = _S5597;
    (&_S5599)->differential_0 = _S5531;
    s_bwd_prop_max_0(&_S5598, &_S5599, dprgb_16);
    float3  _S5600 = _S5598.differential_0 / _S5596;
    float3  _S5601 = total_c_7 * - _S5600;
    float3  s_diff_total_c_T_7 = _S5595 * _S5600;
    float3  _S5602 = _S5594 * s_diff_total_c_T_7;
    float _S5603 = _S5601.x + _S5601.y + _S5601.z;
    float3  _S5604 = _S5592 * s_diff_total_c_T_7;
    float3  _S5605 = _S5528[int(3)] * s_diff_total_c_T_7;
    float _S5606 = _S5603 + _S5605.x + _S5605.y + _S5605.z;
    DiffPair_float_0 _S5607;
    (&_S5607)->primal_0 = _S5590;
    (&_S5607)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5607, _S5606);
    float _S5608 = - _S5607.differential_0;
    float3  _S5609 = _S5589 * s_diff_total_c_T_7;
    float3  _S5610 = _S5528[int(2)] * s_diff_total_c_T_7;
    float _S5611 = _S5603 + _S5610.x + _S5610.y + _S5610.z;
    DiffPair_float_0 _S5612;
    (&_S5612)->primal_0 = _S5587;
    (&_S5612)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5612, _S5611);
    float _S5613 = - _S5612.differential_0;
    float3  _S5614 = _S5586 * s_diff_total_c_T_7;
    float3  _S5615 = _S5528[int(1)] * s_diff_total_c_T_7;
    float _S5616 = _S5603 + _S5615.x + _S5615.y + _S5615.z;
    DiffPair_float_0 _S5617;
    (&_S5617)->primal_0 = _S5584;
    (&_S5617)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5617, _S5616);
    float _S5618 = - _S5617.differential_0;
    float3  _S5619 = _S5583 * s_diff_total_c_T_7;
    float3  _S5620 = _S5528[int(0)] * s_diff_total_c_T_7;
    float _S5621 = _S5603 + _S5620.x + _S5620.y + _S5620.z;
    DiffPair_float_0 _S5622;
    (&_S5622)->primal_0 = _S5581;
    (&_S5622)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5622, _S5621);
    float _S5623 = _S5608 + _S5613 + _S5618 + - _S5622.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5624;
    (&_S5624)->primal_0 = _S5527[int(4)];
    (&_S5624)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5625;
    (&_S5625)->primal_0 = _S5579;
    (&_S5625)->differential_0 = _S5531;
    s_bwd_prop_dot_0(&_S5624, &_S5625, _S5623);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5626;
    (&_S5626)->primal_0 = _S5527[int(3)];
    (&_S5626)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5627;
    (&_S5627)->primal_0 = _S5579;
    (&_S5627)->differential_0 = _S5531;
    s_bwd_prop_dot_0(&_S5626, &_S5627, _S5607.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5628;
    (&_S5628)->primal_0 = _S5527[int(2)];
    (&_S5628)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5629;
    (&_S5629)->primal_0 = _S5579;
    (&_S5629)->differential_0 = _S5531;
    s_bwd_prop_dot_0(&_S5628, &_S5629, _S5612.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5630;
    (&_S5630)->primal_0 = _S5527[int(1)];
    (&_S5630)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5631;
    (&_S5631)->primal_0 = _S5579;
    (&_S5631)->differential_0 = _S5531;
    s_bwd_prop_dot_0(&_S5630, &_S5631, _S5617.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5632;
    (&_S5632)->primal_0 = _S5527[int(0)];
    (&_S5632)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5633;
    (&_S5633)->primal_0 = _S5579;
    (&_S5633)->differential_0 = _S5531;
    s_bwd_prop_dot_0(&_S5632, &_S5633, _S5622.differential_0);
    float3  _S5634 = _S5625.differential_0 + _S5627.differential_0 + _S5629.differential_0 + _S5631.differential_0 + _S5633.differential_0;
    float3  _S5635 = _S5575 * _S5634;
    float3  _S5636 = _S5578 * _S5634;
    float _S5637 = _S5635.x + _S5635.y + _S5635.z;
    DiffPair_float_0 _S5638;
    (&_S5638)->primal_0 = _S5576;
    (&_S5638)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5638, _S5637);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5639;
    (&_S5639)->primal_0 = _S5575;
    (&_S5639)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5640;
    (&_S5640)->primal_0 = _S5575;
    (&_S5640)->differential_0 = _S5531;
    s_bwd_prop_dot_0(&_S5639, &_S5640, _S5638.differential_0);
    float3  _S5641 = _S5636 + _S5640.differential_0 + _S5639.differential_0;
    float3  _S5642 = - - _S5641;
    Matrix<float, 3, 3>  _S5643 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5644;
    (&_S5644)->primal_0 = _S5574;
    (&_S5644)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5645;
    (&_S5645)->primal_0 = _S5530.primal_0;
    (&_S5645)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5644, &_S5645, _S5642);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5646 = _S5645;
    Matrix<float, 3, 3>  _S5647 = transpose_0(_S5644.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5648;
    (&_S5648)->primal_0 = _S5573;
    (&_S5648)->differential_0 = _S5531;
    s_bwd_prop_exp_1(&_S5648, dpconic_15);
    float3  _S5649 = - _S5648.differential_0;
    float _S5650 = 0.5f * dpdepth_16;
    DiffPair_float_0 _S5651;
    (&_S5651)->primal_0 = _S5572;
    (&_S5651)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5651, _S5650);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5652;
    (&_S5652)->primal_0 = mean_c_52;
    (&_S5652)->differential_0 = _S5531;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5653;
    (&_S5653)->primal_0 = mean_c_52;
    (&_S5653)->differential_0 = _S5531;
    s_bwd_prop_dot_0(&_S5652, &_S5653, _S5651.differential_0);
    DiffPair_float_0 _S5654;
    (&_S5654)->primal_0 = _S5571;
    (&_S5654)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5654, 0.0f);
    DiffPair_float_0 _S5655;
    (&_S5655)->primal_0 = _S5570;
    (&_S5655)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5655, 0.0f);
    DiffPair_float_0 _S5656;
    (&_S5656)->primal_0 = 3.32999992370605469f;
    (&_S5656)->differential_0 = 0.0f;
    DiffPair_float_0 _S5657;
    (&_S5657)->primal_0 = _S5569;
    (&_S5657)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5656, &_S5657, 0.0f);
    DiffPair_float_0 _S5658;
    (&_S5658)->primal_0 = _S5568;
    (&_S5658)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5658, _S5657.differential_0);
    float _S5659 = 2.0f * _S5658.differential_0;
    DiffPair_float_0 _S5660;
    (&_S5660)->primal_0 = _S5567;
    (&_S5660)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5660, _S5659);
    float _S5661 = dpopacity_17 + 254.9999847412109375f * _S5660.differential_0;
    FixedArray<float3 , 5>  _S5662;
    _S5662[int(0)] = _S5531;
    _S5662[int(1)] = _S5531;
    _S5662[int(2)] = _S5531;
    _S5662[int(3)] = _S5531;
    _S5662[int(4)] = _S5531;
    _S5662[int(4)] = _S5602;
    _S5662[int(3)] = _S5604;
    _S5662[int(2)] = _S5609;
    _S5662[int(1)] = _S5614;
    _S5662[int(0)] = _S5619;
    FixedArray<float3 , 5>  _S5663 = {
        _S5662[int(0)], _S5662[int(1)], _S5662[int(2)], _S5662[int(3)], _S5662[int(4)]
    };
    FixedArray<float3 , 5>  _S5664;
    _S5664[int(0)] = _S5531;
    _S5664[int(1)] = _S5531;
    _S5664[int(2)] = _S5531;
    _S5664[int(3)] = _S5531;
    _S5664[int(4)] = _S5531;
    _S5664[int(4)] = _S5624.differential_0;
    _S5664[int(3)] = _S5626.differential_0;
    _S5664[int(2)] = _S5628.differential_0;
    _S5664[int(1)] = _S5630.differential_0;
    _S5664[int(0)] = _S5632.differential_0;
    FixedArray<float3 , 5>  _S5665 = {
        _S5664[int(0)], _S5664[int(1)], _S5664[int(2)], _S5664[int(3)], _S5664[int(4)]
    };
    float3  _S5666 = _S5653.differential_0 + _S5652.differential_0;
    float2  _S5667 = make_float2 (0.0f, _S5654.differential_0);
    float2  _S5668 = make_float2 (_S5655.differential_0, 0.0f);
    float _S5669;
    if(antialiased_59)
    {
        float _S5670 = _S5564 * _S5661;
        _S5566 = _S5561 * _S5661;
        _S5669 = _S5670;
    }
    else
    {
        _S5566 = _S5661;
        _S5669 = 0.0f;
    }
    float _S5671 = - (_S5566 / _S5565);
    DiffPair_float_0 _S5672;
    (&_S5672)->primal_0 = _S5562;
    (&_S5672)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5672, _S5671);
    float _S5673 = - _S5672.differential_0;
    DiffPair_float_0 _S5674;
    (&_S5674)->primal_0 = _S5560;
    (&_S5674)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5674, _S5669);
    DiffPair_float_0 _S5675;
    (&_S5675)->primal_0 = 0.0f;
    (&_S5675)->differential_0 = 0.0f;
    DiffPair_float_0 _S5676;
    (&_S5676)->primal_0 = _S5558;
    (&_S5676)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5675, &_S5676, _S5674.differential_0);
    float _S5677 = _S5676.differential_0 / _S5559;
    float s_diff_det_blur_T_9 = det_orig_53 * - _S5677;
    float s_diff_det_orig_T_12 = det_blur_32 * _S5677;
    float _S5678 = - s_diff_det_blur_T_9;
    float _S5679 = _S5553 * s_diff_det_blur_T_9;
    float _S5680 = _S5555 * s_diff_det_blur_T_9;
    Matrix<float, 2, 2>  _S5681 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5682 = _S5681;
    _S5682[int(1)] = _S5667;
    _S5682[int(0)] = _S5668;
    float _S5683 = _S5680 + _S5682.rows[int(0)].x;
    float _S5684 = _S5678 + - s_diff_det_orig_T_12;
    float _S5685 = *&(((&_s_diff_ctx_29->_S5478)->rows + (int(0)))->y) * _S5684;
    float _S5686 = *&(((&_s_diff_ctx_29->_S5478)->rows + (int(1)))->x) * _S5684;
    float _S5687 = *&(((&_s_diff_ctx_29->_S5478)->rows + (int(1)))->y) * s_diff_det_orig_T_12;
    float _S5688 = _S5679 + _S5682.rows[int(1)].y + *&(((&_s_diff_ctx_29->_S5478)->rows + (int(0)))->x) * s_diff_det_orig_T_12;
    float2  _S5689 = make_float2 (0.0f);
    float2  _S5690 = _S5689;
    *&((&_S5690)->x) = _S5685;
    *&((&_S5690)->y) = _S5688;
    float _S5691 = _S5683 + _S5687;
    float2  _S5692 = _S5689;
    *&((&_S5692)->y) = _S5686;
    *&((&_S5692)->x) = _S5691;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5693;
    (&_S5693)->primal_0 = _S5529.primal_0;
    (&_S5693)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5694;
    (&_S5694)->primal_0 = _S5550;
    (&_S5694)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5693, &_S5694, _S5531);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5695;
    (&_S5695)->primal_0 = _S5529.primal_0;
    (&_S5695)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5696;
    (&_S5696)->primal_0 = _S5546;
    (&_S5696)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5695, &_S5696, _S5531);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5697;
    (&_S5697)->primal_0 = _S5529.primal_0;
    (&_S5697)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5698;
    (&_S5698)->primal_0 = _S5542;
    (&_S5698)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5697, &_S5698, _S5531);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5699;
    (&_S5699)->primal_0 = _S5529.primal_0;
    (&_S5699)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5700;
    (&_S5700)->primal_0 = _S5549;
    (&_S5700)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5699, &_S5700, _S5531);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5701;
    (&_S5701)->primal_0 = _S5529.primal_0;
    (&_S5701)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5702;
    (&_S5702)->primal_0 = _S5545;
    (&_S5702)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5701, &_S5702, _S5531);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5703;
    (&_S5703)->primal_0 = _S5529.primal_0;
    (&_S5703)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5704;
    (&_S5704)->primal_0 = _S5541;
    (&_S5704)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5703, &_S5704, _S5531);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5705;
    (&_S5705)->primal_0 = _S5529.primal_0;
    (&_S5705)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5706;
    (&_S5706)->primal_0 = _S5551.p_0[0U];
    (&_S5706)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5705, &_S5706, _S5531);
    float3  _S5707 = - _S5694.differential_0 + _S5700.differential_0;
    float3  _S5708 = _S5548 * _S5707;
    float3  _S5709 = _S5534.rows[2U] * _S5707;
    float _S5710 = _S5538 * (_S5709.x + _S5709.y + _S5709.z);
    float3  _S5711 = - _S5696.differential_0 + _S5702.differential_0;
    float3  _S5712 = _S5544 * _S5711;
    float3  _S5713 = _S5534.rows[1U] * _S5711;
    float _S5714 = _S5538 * (_S5713.x + _S5713.y + _S5713.z);
    float3  _S5715 = - _S5698.differential_0 + _S5704.differential_0;
    float3  _S5716 = _S5540 * _S5715;
    float3  _S5717 = _S5534.rows[0U] * _S5715;
    float _S5718 = _S5538 * (_S5717.x + _S5717.y + _S5717.z);
    Matrix<float, 3, 3>  _S5719 = _S5643;
    _S5719[2U] = _S5708;
    _S5719[1U] = _S5712;
    _S5719[0U] = _S5716;
    Matrix<float, 3, 3>  _S5720 = transpose_0(transpose_0(_S5719));
    float _S5721 = 2.0f * - _S5720.rows[int(2)].z;
    float _S5722 = 2.0f * _S5720.rows[int(2)].y;
    float _S5723 = 2.0f * _S5720.rows[int(2)].x;
    float _S5724 = 2.0f * _S5720.rows[int(1)].z;
    float _S5725 = 2.0f * - _S5720.rows[int(1)].y;
    float _S5726 = 2.0f * _S5720.rows[int(1)].x;
    float _S5727 = 2.0f * _S5720.rows[int(0)].z;
    float _S5728 = 2.0f * _S5720.rows[int(0)].y;
    float _S5729 = 2.0f * - _S5720.rows[int(0)].x;
    float _S5730 = - _S5726 + _S5728;
    float _S5731 = _S5723 + - _S5727;
    float _S5732 = - _S5722 + _S5724;
    float _S5733 = _S5722 + _S5724;
    float _S5734 = _S5723 + _S5727;
    float _S5735 = _S5726 + _S5728;
    float _S5736 = _S5525.primal_0.w * (_S5725 + _S5729);
    float _S5737 = _S5525.primal_0.z * (_S5721 + _S5729);
    float _S5738 = _S5525.primal_0.y * (_S5721 + _S5725);
    float _S5739 = _S5525.primal_0.x * _S5730 + _S5525.primal_0.z * _S5733 + _S5525.primal_0.y * _S5734 + _S5736 + _S5736;
    float _S5740 = _S5525.primal_0.x * _S5731 + _S5525.primal_0.w * _S5733 + _S5525.primal_0.y * _S5735 + _S5737 + _S5737;
    float _S5741 = _S5525.primal_0.x * _S5732 + _S5525.primal_0.w * _S5734 + _S5525.primal_0.z * _S5735 + _S5738 + _S5738;
    float _S5742 = _S5525.primal_0.w * _S5730 + _S5525.primal_0.z * _S5731 + _S5525.primal_0.y * _S5732;
    float3  _S5743 = _S5531;
    *&((&_S5743)->z) = _S5710;
    *&((&_S5743)->y) = _S5714;
    *&((&_S5743)->x) = _S5718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5744;
    (&_S5744)->primal_0 = _S5526.primal_0;
    (&_S5744)->differential_0 = _S5531;
    s_bwd_prop_exp_1(&_S5744, _S5743);
    Matrix<float, 2, 2>  _S5745 = _S5681;
    _S5745[int(1)] = _S5690;
    _S5745[int(0)] = _S5692;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5746;
    (&_S5746)->primal_0 = mean_c_52;
    (&_S5746)->differential_0 = _S5531;
    s_bwd_length_impl_1(&_S5746, 0.0f);
    float3  _S5747 = _S5746.differential_0 + _S5666;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5748;
    (&_S5748)->primal_0 = _S5529.primal_0;
    (&_S5748)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5749;
    (&_S5749)->primal_0 = _S5524.primal_0;
    (&_S5749)->differential_0 = _S5531;
    s_bwd_prop_mul_1(&_S5748, &_S5749, _S5747);
    float3  _S5750 = _S5747 + _S5646.differential_0;
    dpt_16->primal_0 = (*dpt_16).primal_0;
    dpt_16->differential_0 = _S5750;
    Matrix<float, 3, 3>  _S5751 = _S5693.differential_0 + _S5695.differential_0 + _S5697.differential_0 + _S5699.differential_0 + _S5701.differential_0 + _S5703.differential_0 + _S5705.differential_0 + _S5748.differential_0 + _S5647;
    dpR_17->primal_0 = (*dpR_17).primal_0;
    dpR_17->differential_0 = _S5751;
    dpsv_colors_15->primal_0 = dpsv_colors_15->primal_0;
    dpsv_colors_15->differential_0 = _S5663;
    dpsv_sites_15->primal_0 = dpsv_sites_15->primal_0;
    dpsv_sites_15->differential_0 = _S5665;
    dpin_opacity_15->primal_0 = (*dpin_opacity_15).primal_0;
    dpin_opacity_15->differential_0 = _S5673;
    float3  _S5752 = _S5744.differential_0 + _S5649;
    dpscale_16->primal_0 = (*dpscale_16).primal_0;
    dpscale_16->differential_0 = _S5752;
    float4  _S5753 = make_float4 (0.0f);
    *&((&_S5753)->w) = _S5739;
    *&((&_S5753)->z) = _S5740;
    *&((&_S5753)->y) = _S5741;
    *&((&_S5753)->x) = _S5742;
    dpquat_16->primal_0 = (*dpquat_16).primal_0;
    dpquat_16->differential_0 = _S5753;
    float3  _S5754 = _S5694.differential_0 + _S5700.differential_0 + _S5696.differential_0 + _S5702.differential_0 + _S5698.differential_0 + _S5704.differential_0 + _S5749.differential_0 + _S5641;
    dpmean_17->primal_0 = (*dpmean_17).primal_0;
    dpmean_17->differential_0 = _S5754;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_3(bool _S5755, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5756, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5757, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5758, DiffPair_float_0 * _S5759, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5760, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5761, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5762, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5763, float _S5764, float _S5765, float _S5766, float _S5767, FixedArray<float, 10>  * _S5768, uint _S5769, uint _S5770, float _S5771, float _S5772, float2  _S5773, float _S5774, float3  _S5775, float _S5776, float3  _S5777)
{
    FixedArray<float3 , 5>  _S5778 = _S5760->primal_0;
    FixedArray<float3 , 5>  _S5779 = _S5761->primal_0;
    int4  _S5780;
    float2  _S5781;
    float _S5782;
    float3  _S5783;
    float _S5784;
    float3  _S5785;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S5786;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(_S5755, (*_S5756).primal_0, (*_S5757).primal_0, (*_S5758).primal_0, (*_S5759).primal_0, &_S5778, &_S5779, (*_S5762).primal_0, (*_S5763).primal_0, _S5764, _S5765, _S5766, _S5767, _S5768, _S5769, _S5770, _S5771, _S5772, &_S5780, &_S5781, &_S5782, &_S5783, &_S5784, &_S5785, &_S5786);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S5787 = _S5786;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(_S5755, _S5756, _S5757, _S5758, _S5759, _S5760, _S5761, _S5762, _S5763, _S5764, _S5765, _S5766, _S5767, _S5768, _S5769, _S5770, _S5771, _S5772, _S5773, _S5774, _S5775, _S5776, _S5777, &_S5787);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_60, float3  mean_49, float4  quat_50, float3  scale_49, float in_opacity_44, FixedArray<float3 , 5>  * sv_sites_29, FixedArray<float3 , 5>  * sv_colors_29, Matrix<float, 3, 3>  R_51, float3  t_47, float fx_69, float fy_69, float cx_64, float cy_64, FixedArray<float, 10>  * dist_coeffs_73, uint image_width_60, uint image_height_60, float2  v_mean2d_12, float v_depth_13, float3  v_conic_12, float v_opacity_14, float3  v_rgb_13, float3  * v_mean_14, float4  * v_quat_13, float3  * v_scale_13, float * v_in_opacity_12, FixedArray<float3 , 5>  * v_sv_dirs_7, FixedArray<float3 , 5>  * v_sv_colors_7, Matrix<float, 3, 3>  * v_R_14, float3  * v_t_13)
{
    float3  _S5788 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_9;
    (&dp_mean_9)->primal_0 = mean_49;
    (&dp_mean_9)->differential_0 = _S5788;
    float4  _S5789 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_8;
    (&dp_quat_8)->primal_0 = quat_50;
    (&dp_quat_8)->differential_0 = _S5789;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_8;
    (&dp_scale_8)->primal_0 = scale_49;
    (&dp_scale_8)->differential_0 = _S5788;
    DiffPair_float_0 dp_in_opacity_7;
    (&dp_in_opacity_7)->primal_0 = in_opacity_44;
    (&dp_in_opacity_7)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S5790 = { _S5788, _S5788, _S5788, _S5788, _S5788 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_7;
    (&dp_sv_dirs_7)->primal_0 = *sv_sites_29;
    (&dp_sv_dirs_7)->differential_0 = _S5790;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_7;
    (&dp_sv_colors_7)->primal_0 = *sv_colors_29;
    (&dp_sv_colors_7)->differential_0 = _S5790;
    Matrix<float, 3, 3>  _S5791 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_9;
    (&dp_R_9)->primal_0 = R_51;
    (&dp_R_9)->differential_0 = _S5791;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_8;
    (&dp_t_8)->primal_0 = t_47;
    (&dp_t_8)->differential_0 = _S5788;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_3(antialiased_60, &dp_mean_9, &dp_quat_8, &dp_scale_8, &dp_in_opacity_7, &dp_sv_dirs_7, &dp_sv_colors_7, &dp_R_9, &dp_t_8, fx_69, fy_69, cx_64, cy_64, dist_coeffs_73, image_width_60, image_height_60, 0.0f, 1.00000001504746622e+30f, v_mean2d_12, v_depth_13, v_conic_12, v_opacity_14, v_rgb_13);
    *v_mean_14 = dp_mean_9.differential_0;
    *v_quat_13 = dp_quat_8.differential_0;
    *v_scale_13 = dp_scale_8.differential_0;
    *v_in_opacity_12 = dp_in_opacity_7.differential_0;
    *v_sv_dirs_7 = (&dp_sv_dirs_7)->differential_0;
    *v_sv_colors_7 = (&dp_sv_colors_7)->differential_0;
    *v_R_14 = dp_R_9.differential_0;
    *v_t_13 = dp_t_8.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_61, float3  mean_50, float4  quat_51, float3  scale_50, float in_opacity_45, FixedArray<float3 , 6>  * sv_sites_30, FixedArray<float3 , 6>  * sv_colors_30, Matrix<float, 3, 3>  R_52, float3  t_48, float fx_70, float fy_70, float cx_65, float cy_65, FixedArray<float, 10>  * dist_coeffs_74, uint image_width_61, uint image_height_61, float near_plane_48, float far_plane_48, int4  * aabb_xyxy_40, float2  * mean2d_40, float * depth_33, float3  * conic_32, float * opacity_36, float3  * rgb_34)
{
    float3  mean_c_53 = mul_0(R_52, mean_50) + t_48;
    float4  intrins_44 = make_float4 (fx_70, fy_70, cx_65, cy_65);
    float3  _S5792 = exp_0(scale_50);
    float x_64 = quat_51.y;
    float x2_59 = x_64 * x_64;
    float y2_59 = quat_51.z * quat_51.z;
    float z2_74 = quat_51.w * quat_51.w;
    float xy_59 = quat_51.y * quat_51.z;
    float xz_59 = quat_51.y * quat_51.w;
    float yz_59 = quat_51.z * quat_51.w;
    float wx_59 = quat_51.x * quat_51.y;
    float wy_59 = quat_51.x * quat_51.z;
    float wz_59 = quat_51.x * quat_51.w;
    Matrix<float, 3, 3>  _S5793 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_59 + z2_74), 2.0f * (xy_59 + wz_59), 2.0f * (xz_59 - wy_59), 2.0f * (xy_59 - wz_59), 1.0f - 2.0f * (x2_59 + z2_74), 2.0f * (yz_59 + wx_59), 2.0f * (xz_59 + wy_59), 2.0f * (yz_59 - wx_59), 1.0f - 2.0f * (x2_59 + y2_59))));
    SigmaPoints_0 ret_26;
    (&ret_26)->p_0[int(0)] = mean_50;
    (&ret_26)->w_mean_0[int(0)] = 0.0f;
    (&ret_26)->w_cov_0[int(0)] = 2.0f;
    float _S5794 = (F32_sqrt((3.0f)));
    float3  delta_132 = make_float3 (_S5794 * _S5792.x) * _S5793.rows[0U];
    float3  _S5795 = mean_50 + delta_132;
    float3  _S5796 = mean_50 - delta_132;
    float3  delta_133 = make_float3 (_S5794 * _S5792.y) * _S5793.rows[1U];
    float3  _S5797 = mean_50 + delta_133;
    float3  _S5798 = mean_50 - delta_133;
    float3  delta_134 = make_float3 (_S5794 * _S5792.z) * _S5793.rows[2U];
    float3  _S5799 = mean_50 + delta_134;
    float3  _S5800 = mean_50 - delta_134;
    (&ret_26)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_26)->p_0[0U] = mul_0(R_52, (&ret_26)->p_0[0U]) + t_48;
    (&ret_26)->p_0[1U] = mul_0(R_52, _S5795) + t_48;
    (&ret_26)->p_0[2U] = mul_0(R_52, _S5797) + t_48;
    (&ret_26)->p_0[3U] = mul_0(R_52, _S5799) + t_48;
    (&ret_26)->p_0[4U] = mul_0(R_52, _S5796) + t_48;
    (&ret_26)->p_0[5U] = mul_0(R_52, _S5798) + t_48;
    (&ret_26)->p_0[6U] = mul_0(R_52, _S5800) + t_48;
    SigmaPoints_0 _S5801 = ret_26;
    Matrix<float, 2, 2>  covar2d_32;
    bool _S5802 = persp_proj_3dgs_ut_1(&_S5801, intrins_44, dist_coeffs_74, image_width_61, image_height_61, &covar2d_32, mean2d_40);
    float det_orig_54 = *&(((&covar2d_32)->rows + (int(0)))->x) * *&(((&covar2d_32)->rows + (int(1)))->y) - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x);
    float _S5803 = *&(((&covar2d_32)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(0)))->x) = _S5803;
    float _S5804 = *&(((&covar2d_32)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(1)))->y) = _S5804;
    float compensation_33 = (F32_sqrt(((F32_max((0.0f), (det_orig_54 / (_S5803 * _S5804 - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x))))))));
    *opacity_36 = 1.0f / (1.0f + (F32_exp((- in_opacity_45))));
    if(antialiased_61)
    {
        *opacity_36 = *opacity_36 * compensation_33;
    }
    float extend_32 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_36 / 0.00392156885936856f)))))))));
    float radius_x_40 = extend_32 * (F32_sqrt((covar2d_32[int(0)].x)));
    float radius_y_40 = extend_32 * (F32_sqrt((covar2d_32[int(1)].y)));
    *aabb_xyxy_40 = make_int4 (int((F32_floor(((*mean2d_40).x - radius_x_40)))), int((F32_floor(((*mean2d_40).y - radius_y_40)))), int((F32_ceil(((*mean2d_40).x + radius_x_40)))), int((F32_ceil(((*mean2d_40).y + radius_y_40)))));
    *depth_33 = 0.5f * (F32_log((dot_0(mean_c_53, mean_c_53) + 9.99999997475242708e-07f)));
    *conic_32 = exp_0(- scale_50);
    float3  _S5805 = mean_50 - - mul_0(transpose_0(R_52), t_48);
    float3  _S5806 = _S5805 * make_float3 ((F32_rsqrt((dot_0(_S5805, _S5805)))));
    float _S5807 = dot_0((*sv_sites_30)[int(5)], _S5806);
    float w_98 = (F32_exp((dot_0((*sv_sites_30)[int(0)], _S5806) - _S5807)));
    float w_99 = (F32_exp((dot_0((*sv_sites_30)[int(1)], _S5806) - _S5807)));
    float w_100 = (F32_exp((dot_0((*sv_sites_30)[int(2)], _S5806) - _S5807)));
    float w_101 = (F32_exp((dot_0((*sv_sites_30)[int(3)], _S5806) - _S5807)));
    float w_102 = (F32_exp((dot_0((*sv_sites_30)[int(4)], _S5806) - _S5807)));
    float w_103 = (F32_exp((0.0f)));
    *rgb_34 = max_0((make_float3 (w_98) * (*sv_colors_30)[int(0)] + make_float3 (w_99) * (*sv_colors_30)[int(1)] + make_float3 (w_100) * (*sv_colors_30)[int(2)] + make_float3 (w_101) * (*sv_colors_30)[int(3)] + make_float3 (w_102) * (*sv_colors_30)[int(4)] + make_float3 (w_103) * (*sv_colors_30)[int(5)]) / make_float3 (w_98 + w_99 + w_100 + w_101 + w_102 + w_103) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_62, float3  mean_51, float4  quat_52, float3  scale_51, float in_opacity_46, FixedArray<float3 , 6>  * sv_sites_31, FixedArray<float3 , 6>  * sv_colors_31, Matrix<float, 3, 3>  R_53, float3  t_49, float fx_71, float fy_71, float cx_66, float cy_66, FixedArray<float, 10>  * dist_coeffs_75, uint image_width_62, uint image_height_62, float near_plane_49, float far_plane_49, int4  * aabb_xyxy_41, float2  * mean2d_41, float * depth_34, float3  * conic_33, float * opacity_37, float3  * rgb_35)
{
    float3  mean_c_54 = mul_0(R_53, mean_51) + t_49;
    float4  intrins_45 = make_float4 (fx_71, fy_71, cx_66, cy_66);
    float3  _S5808 = exp_0(scale_51);
    float x_65 = quat_52.y;
    float x2_60 = x_65 * x_65;
    float y2_60 = quat_52.z * quat_52.z;
    float z2_75 = quat_52.w * quat_52.w;
    float xy_60 = quat_52.y * quat_52.z;
    float xz_60 = quat_52.y * quat_52.w;
    float yz_60 = quat_52.z * quat_52.w;
    float wx_60 = quat_52.x * quat_52.y;
    float wy_60 = quat_52.x * quat_52.z;
    float wz_60 = quat_52.x * quat_52.w;
    Matrix<float, 3, 3>  _S5809 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_60 + z2_75), 2.0f * (xy_60 + wz_60), 2.0f * (xz_60 - wy_60), 2.0f * (xy_60 - wz_60), 1.0f - 2.0f * (x2_60 + z2_75), 2.0f * (yz_60 + wx_60), 2.0f * (xz_60 + wy_60), 2.0f * (yz_60 - wx_60), 1.0f - 2.0f * (x2_60 + y2_60))));
    SigmaPoints_0 ret_27;
    (&ret_27)->p_0[int(0)] = mean_51;
    (&ret_27)->w_mean_0[int(0)] = 0.0f;
    (&ret_27)->w_cov_0[int(0)] = 2.0f;
    float _S5810 = (F32_sqrt((3.0f)));
    float3  delta_135 = make_float3 (_S5810 * _S5808.x) * _S5809.rows[0U];
    float3  _S5811 = mean_51 + delta_135;
    float3  _S5812 = mean_51 - delta_135;
    float3  delta_136 = make_float3 (_S5810 * _S5808.y) * _S5809.rows[1U];
    float3  _S5813 = mean_51 + delta_136;
    float3  _S5814 = mean_51 - delta_136;
    float3  delta_137 = make_float3 (_S5810 * _S5808.z) * _S5809.rows[2U];
    float3  _S5815 = mean_51 + delta_137;
    float3  _S5816 = mean_51 - delta_137;
    (&ret_27)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_27)->p_0[0U] = mul_0(R_53, (&ret_27)->p_0[0U]) + t_49;
    (&ret_27)->p_0[1U] = mul_0(R_53, _S5811) + t_49;
    (&ret_27)->p_0[2U] = mul_0(R_53, _S5813) + t_49;
    (&ret_27)->p_0[3U] = mul_0(R_53, _S5815) + t_49;
    (&ret_27)->p_0[4U] = mul_0(R_53, _S5812) + t_49;
    (&ret_27)->p_0[5U] = mul_0(R_53, _S5814) + t_49;
    (&ret_27)->p_0[6U] = mul_0(R_53, _S5816) + t_49;
    SigmaPoints_0 _S5817 = ret_27;
    Matrix<float, 2, 2>  covar2d_33;
    bool _S5818 = fisheye_proj_3dgs_ut_1(&_S5817, intrins_45, dist_coeffs_75, &covar2d_33, mean2d_41);
    float det_orig_55 = *&(((&covar2d_33)->rows + (int(0)))->x) * *&(((&covar2d_33)->rows + (int(1)))->y) - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x);
    float _S5819 = *&(((&covar2d_33)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(0)))->x) = _S5819;
    float _S5820 = *&(((&covar2d_33)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(1)))->y) = _S5820;
    float compensation_34 = (F32_sqrt(((F32_max((0.0f), (det_orig_55 / (_S5819 * _S5820 - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x))))))));
    *opacity_37 = 1.0f / (1.0f + (F32_exp((- in_opacity_46))));
    if(antialiased_62)
    {
        *opacity_37 = *opacity_37 * compensation_34;
    }
    float extend_33 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_37 / 0.00392156885936856f)))))))));
    float radius_x_41 = extend_33 * (F32_sqrt((covar2d_33[int(0)].x)));
    float radius_y_41 = extend_33 * (F32_sqrt((covar2d_33[int(1)].y)));
    *aabb_xyxy_41 = make_int4 (int((F32_floor(((*mean2d_41).x - radius_x_41)))), int((F32_floor(((*mean2d_41).y - radius_y_41)))), int((F32_ceil(((*mean2d_41).x + radius_x_41)))), int((F32_ceil(((*mean2d_41).y + radius_y_41)))));
    *depth_34 = 0.5f * (F32_log((dot_0(mean_c_54, mean_c_54) + 9.99999997475242708e-07f)));
    *conic_33 = exp_0(- scale_51);
    float3  _S5821 = mean_51 - - mul_0(transpose_0(R_53), t_49);
    float3  _S5822 = _S5821 * make_float3 ((F32_rsqrt((dot_0(_S5821, _S5821)))));
    float _S5823 = dot_0((*sv_sites_31)[int(5)], _S5822);
    float w_104 = (F32_exp((dot_0((*sv_sites_31)[int(0)], _S5822) - _S5823)));
    float w_105 = (F32_exp((dot_0((*sv_sites_31)[int(1)], _S5822) - _S5823)));
    float w_106 = (F32_exp((dot_0((*sv_sites_31)[int(2)], _S5822) - _S5823)));
    float w_107 = (F32_exp((dot_0((*sv_sites_31)[int(3)], _S5822) - _S5823)));
    float w_108 = (F32_exp((dot_0((*sv_sites_31)[int(4)], _S5822) - _S5823)));
    float w_109 = (F32_exp((0.0f)));
    *rgb_35 = max_0((make_float3 (w_104) * (*sv_colors_31)[int(0)] + make_float3 (w_105) * (*sv_colors_31)[int(1)] + make_float3 (w_106) * (*sv_colors_31)[int(2)] + make_float3 (w_107) * (*sv_colors_31)[int(3)] + make_float3 (w_108) * (*sv_colors_31)[int(4)] + make_float3 (w_109) * (*sv_colors_31)[int(5)]) / make_float3 (w_104 + w_105 + w_106 + w_107 + w_108 + w_109) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0
{
    FixedArray<float3 , 6>  primal_0;
    FixedArray<float3 , 6>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S5824;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(bool antialiased_63, float3  dpmean_18, float4  dpquat_17, float3  dpscale_17, float dpin_opacity_16, FixedArray<float3 , 6>  * dpsv_sites_16, FixedArray<float3 , 6>  * dpsv_colors_16, Matrix<float, 3, 3>  dpR_18, float3  dpt_17, float fx_72, float fy_72, float cx_67, float cy_67, FixedArray<float, 10>  * dist_coeffs_76, uint image_width_63, uint image_height_63, float near_plane_50, float far_plane_50, int4  * aabb_xyxy_42, float2  * dpmean2d_18, float * dpdepth_17, float3  * dpconic_16, float * dpopacity_18, float3  * dprgb_17, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_30)
{
    Matrix<float, 2, 2>  _S5825 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_30->_S5824 = _S5825;
    float2  _S5826 = make_float2 (0.0f);
    float3  _S5827 = make_float3 (0.0f);
    float3  mean_c_55 = s_primal_ctx_mul_0(dpR_18, dpmean_18) + dpt_17;
    float4  intrins_46 = make_float4 (fx_72, fy_72, cx_67, cy_67);
    float3  _S5828 = s_primal_ctx_exp_0(dpscale_17);
    float _S5829 = dpquat_17.y;
    float x2_61 = _S5829 * _S5829;
    float y2_61 = dpquat_17.z * dpquat_17.z;
    float z2_76 = dpquat_17.w * dpquat_17.w;
    float xy_61 = dpquat_17.y * dpquat_17.z;
    float xz_61 = dpquat_17.y * dpquat_17.w;
    float yz_61 = dpquat_17.z * dpquat_17.w;
    float wx_61 = dpquat_17.x * dpquat_17.y;
    float wy_61 = dpquat_17.x * dpquat_17.z;
    float wz_61 = dpquat_17.x * dpquat_17.w;
    Matrix<float, 3, 3>  _S5830 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_61 + z2_76), 2.0f * (xy_61 + wz_61), 2.0f * (xz_61 - wy_61), 2.0f * (xy_61 - wz_61), 1.0f - 2.0f * (x2_61 + z2_76), 2.0f * (yz_61 + wx_61), 2.0f * (xz_61 + wy_61), 2.0f * (yz_61 - wx_61), 1.0f - 2.0f * (x2_61 + y2_61))));
    FixedArray<float3 , 7>  _S5831 = {
        _S5827, _S5827, _S5827, _S5827, _S5827, _S5827, _S5827
    };
    FixedArray<float, 7>  _S5832 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5833;
    (&_S5833)->p_0 = _S5831;
    (&_S5833)->w_mean_0 = _S5832;
    (&_S5833)->w_cov_0 = _S5832;
    (&_S5833)->p_0[int(0)] = dpmean_18;
    SigmaPoints_0 _S5834 = _S5833;
    (&_S5834)->w_mean_0[int(0)] = 0.0f;
    (&_S5834)->w_cov_0[int(0)] = 2.0f;
    float _S5835 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_138 = make_float3 (_S5835 * _S5828.x) * _S5830.rows[0U];
    float3  _S5836 = dpmean_18 + delta_138;
    float3  _S5837 = dpmean_18 - delta_138;
    float3  delta_139 = make_float3 (_S5835 * _S5828.y) * _S5830.rows[1U];
    float3  _S5838 = dpmean_18 + delta_139;
    float3  _S5839 = dpmean_18 - delta_139;
    float3  delta_140 = make_float3 (_S5835 * _S5828.z) * _S5830.rows[2U];
    float3  _S5840 = dpmean_18 + delta_140;
    float3  _S5841 = dpmean_18 - delta_140;
    (&_S5834)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5834)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5834)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5834)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5834)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5834)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5834)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5834)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5834)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5834)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5834)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5834)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5834)->p_0[0U] = s_primal_ctx_mul_0(dpR_18, _S5833.p_0[0U]) + dpt_17;
    (&_S5834)->p_0[1U] = s_primal_ctx_mul_0(dpR_18, _S5836) + dpt_17;
    (&_S5834)->p_0[2U] = s_primal_ctx_mul_0(dpR_18, _S5838) + dpt_17;
    (&_S5834)->p_0[3U] = s_primal_ctx_mul_0(dpR_18, _S5840) + dpt_17;
    (&_S5834)->p_0[4U] = s_primal_ctx_mul_0(dpR_18, _S5837) + dpt_17;
    (&_S5834)->p_0[5U] = s_primal_ctx_mul_0(dpR_18, _S5839) + dpt_17;
    (&_S5834)->p_0[6U] = s_primal_ctx_mul_0(dpR_18, _S5841) + dpt_17;
    float2  _S5842 = _S5826;
    Matrix<float, 2, 2>  _S5843 = _S5825;
    SigmaPoints_0 _S5844 = _S5834;
    bool _S5845 = persp_proj_3dgs_ut_1(&_S5844, intrins_46, dist_coeffs_76, image_width_63, image_height_63, &_S5843, &_S5842);
    _s_diff_ctx_30->_S5824 = _S5843;
    float2  _S5846 = _S5842;
    float _S5847 = _S5843.rows[int(0)].y * _S5843.rows[int(1)].x;
    float det_orig_56 = _S5843.rows[int(0)].x * _S5843.rows[int(1)].y - _S5847;
    float _S5848 = _S5843.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5849 = _S5843;
    *&(((&_S5849)->rows + (int(0)))->x) = _S5848;
    float _S5850 = _S5843.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5849)->rows + (int(1)))->y) = _S5850;
    Matrix<float, 2, 2>  _S5851 = _S5849;
    Matrix<float, 2, 2>  _S5852 = _S5849;
    float _S5853 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_56 / (_S5848 * _S5850 - _S5847)));
    float _S5854 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_16));
    float _S5855;
    if(antialiased_63)
    {
        _S5855 = _S5854 * _S5853;
    }
    else
    {
        _S5855 = _S5854;
    }
    float _S5856 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5855 / 0.00392156885936856f)));
    float radius_x_42 = _S5856 * s_primal_ctx_sqrt_0(_S5851.rows[int(0)].x);
    float radius_y_42 = _S5856 * s_primal_ctx_sqrt_0(_S5852.rows[int(1)].y);
    float _S5857 = _S5846.x;
    float _S5858 = _S5846.y;
    float _S5859 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_55, mean_c_55) + 9.99999997475242708e-07f);
    float3  _S5860 = s_primal_ctx_exp_0(- dpscale_17);
    float3  _S5861 = dpmean_18 - - s_primal_ctx_mul_0(transpose_0(dpR_18), dpt_17);
    float3  _S5862 = _S5861 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5861, _S5861)));
    float _S5863 = s_primal_ctx_dot_0((*dpsv_sites_16)[int(5)], _S5862);
    float _S5864 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(0)], _S5862) - _S5863);
    float _S5865 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(1)], _S5862) - _S5863);
    float _S5866 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(2)], _S5862) - _S5863);
    float _S5867 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(3)], _S5862) - _S5863);
    float _S5868 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(4)], _S5862) - _S5863);
    float _S5869 = s_primal_ctx_exp_1(0.0f);
    float3  _S5870 = s_primal_ctx_max_1((make_float3 (_S5864) * (*dpsv_colors_16)[int(0)] + make_float3 (_S5865) * (*dpsv_colors_16)[int(1)] + make_float3 (_S5866) * (*dpsv_colors_16)[int(2)] + make_float3 (_S5867) * (*dpsv_colors_16)[int(3)] + make_float3 (_S5868) * (*dpsv_colors_16)[int(4)] + make_float3 (_S5869) * (*dpsv_colors_16)[int(5)]) / make_float3 (_S5864 + _S5865 + _S5866 + _S5867 + _S5868 + _S5869) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_42 = make_int4 (int((F32_floor((_S5857 - radius_x_42)))), int((F32_floor((_S5858 - radius_y_42)))), int((F32_ceil((_S5857 + radius_x_42)))), int((F32_ceil((_S5858 + radius_y_42)))));
    *dpmean2d_18 = _S5846;
    *dpdepth_17 = _S5859;
    *dpconic_16 = _S5860;
    *dpopacity_18 = _S5855;
    *dprgb_17 = _S5870;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(bool antialiased_64, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_19, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_18, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_18, DiffPair_float_0 * dpin_opacity_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_17, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_19, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_18, float fx_73, float fy_73, float cx_68, float cy_68, FixedArray<float, 10>  * dist_coeffs_77, uint image_width_64, uint image_height_64, float near_plane_51, float far_plane_51, float2  dpmean2d_19, float dpdepth_18, float3  dpconic_17, float dpopacity_19, float3  dprgb_18, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_31)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5871 = *dpmean_19;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5872 = *dpquat_18;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5873 = *dpscale_18;
    FixedArray<float3 , 6>  _S5874 = dpsv_sites_17->primal_0;
    FixedArray<float3 , 6>  _S5875 = dpsv_colors_17->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5876 = *dpR_19;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5877 = *dpt_18;
    float3  _S5878 = make_float3 (0.0f);
    float3  mean_c_56 = s_primal_ctx_mul_0((*dpR_19).primal_0, (*dpmean_19).primal_0) + (*dpt_18).primal_0;
    float3  _S5879 = s_primal_ctx_exp_0((*dpscale_18).primal_0);
    float _S5880 = (*dpquat_18).primal_0.y;
    float x2_62 = _S5880 * _S5880;
    float y2_62 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.z;
    float z2_77 = (*dpquat_18).primal_0.w * (*dpquat_18).primal_0.w;
    float xy_62 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.z;
    float xz_62 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.w;
    float yz_62 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.w;
    float wx_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.y;
    float wy_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.z;
    float wz_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.w;
    Matrix<float, 3, 3>  _S5881 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_62 + z2_77), 2.0f * (xy_62 + wz_62), 2.0f * (xz_62 - wy_62), 2.0f * (xy_62 - wz_62), 1.0f - 2.0f * (x2_62 + z2_77), 2.0f * (yz_62 + wx_62), 2.0f * (xz_62 + wy_62), 2.0f * (yz_62 - wx_62), 1.0f - 2.0f * (x2_62 + y2_62))));
    FixedArray<float3 , 7>  _S5882 = {
        _S5878, _S5878, _S5878, _S5878, _S5878, _S5878, _S5878
    };
    FixedArray<float, 7>  _S5883 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5884;
    (&_S5884)->p_0 = _S5882;
    (&_S5884)->w_mean_0 = _S5883;
    (&_S5884)->w_cov_0 = _S5883;
    (&_S5884)->p_0[int(0)] = (*dpmean_19).primal_0;
    float _S5885 = s_primal_ctx_sqrt_0(3.0f);
    float _S5886 = _S5885 * _S5879.x;
    float3  _S5887 = make_float3 (_S5886);
    float3  delta_141 = make_float3 (_S5886) * _S5881.rows[0U];
    float3  _S5888 = (*dpmean_19).primal_0 + delta_141;
    float3  _S5889 = (*dpmean_19).primal_0 - delta_141;
    float _S5890 = _S5885 * _S5879.y;
    float3  _S5891 = make_float3 (_S5890);
    float3  delta_142 = make_float3 (_S5890) * _S5881.rows[1U];
    float3  _S5892 = (*dpmean_19).primal_0 + delta_142;
    float3  _S5893 = (*dpmean_19).primal_0 - delta_142;
    float _S5894 = _S5885 * _S5879.z;
    float3  _S5895 = make_float3 (_S5894);
    float3  delta_143 = make_float3 (_S5894) * _S5881.rows[2U];
    float3  _S5896 = (*dpmean_19).primal_0 + delta_143;
    float3  _S5897 = (*dpmean_19).primal_0 - delta_143;
    SigmaPoints_0 _S5898 = _S5884;
    float _S5899 = *&(((&_s_diff_ctx_31->_S5824)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_31->_S5824)->rows + (int(1)))->x);
    float det_orig_57 = *&(((&_s_diff_ctx_31->_S5824)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_31->_S5824)->rows + (int(1)))->y) - _S5899;
    float _S5900 = *&(((&_s_diff_ctx_31->_S5824)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5901 = _s_diff_ctx_31->_S5824;
    *&(((&_S5901)->rows + (int(0)))->x) = _S5900;
    float _S5902 = *&(((&_s_diff_ctx_31->_S5824)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5901)->rows + (int(1)))->y) = _S5902;
    Matrix<float, 2, 2>  _S5903 = _S5901;
    Matrix<float, 2, 2>  _S5904 = _S5901;
    float det_blur_33 = _S5900 * _S5902 - _S5899;
    float _S5905 = det_orig_57 / det_blur_33;
    float _S5906 = det_blur_33 * det_blur_33;
    float _S5907 = s_primal_ctx_max_0(0.0f, _S5905);
    float _S5908 = s_primal_ctx_sqrt_0(_S5907);
    float _S5909 = - (*dpin_opacity_17).primal_0;
    float _S5910 = 1.0f + s_primal_ctx_exp_1(_S5909);
    float _S5911 = 1.0f / _S5910;
    float _S5912 = _S5910 * _S5910;
    float _S5913;
    if(antialiased_64)
    {
        _S5913 = _S5911 * _S5908;
    }
    else
    {
        _S5913 = _S5911;
    }
    float _S5914 = _S5913 / 0.00392156885936856f;
    float _S5915 = 2.0f * s_primal_ctx_log_0(_S5914);
    float _S5916 = s_primal_ctx_sqrt_0(_S5915);
    float _S5917 = _S5903.rows[int(0)].x;
    float _S5918 = _S5904.rows[int(1)].y;
    float _S5919 = s_primal_ctx_dot_0(mean_c_56, mean_c_56) + 9.99999997475242708e-07f;
    float3  _S5920 = - _S5873.primal_0;
    Matrix<float, 3, 3>  _S5921 = transpose_0(_S5876.primal_0);
    float3  _S5922 = _S5871.primal_0 - - s_primal_ctx_mul_0(_S5921, _S5877.primal_0);
    float _S5923 = s_primal_ctx_dot_0(_S5922, _S5922);
    float _S5924 = s_primal_ctx_rsqrt_0(_S5923);
    float3  _S5925 = make_float3 (_S5924);
    float3  _S5926 = _S5922 * make_float3 (_S5924);
    float _S5927 = s_primal_ctx_dot_0(_S5874[int(5)], _S5926);
    float _S5928 = s_primal_ctx_dot_0(_S5874[int(0)], _S5926) - _S5927;
    float _S5929 = s_primal_ctx_exp_1(_S5928);
    float3  _S5930 = make_float3 (_S5929);
    float _S5931 = s_primal_ctx_dot_0(_S5874[int(1)], _S5926) - _S5927;
    float _S5932 = s_primal_ctx_exp_1(_S5931);
    float3  _S5933 = make_float3 (_S5932);
    float _S5934 = s_primal_ctx_dot_0(_S5874[int(2)], _S5926) - _S5927;
    float _S5935 = s_primal_ctx_exp_1(_S5934);
    float3  _S5936 = make_float3 (_S5935);
    float _S5937 = s_primal_ctx_dot_0(_S5874[int(3)], _S5926) - _S5927;
    float _S5938 = s_primal_ctx_exp_1(_S5937);
    float3  _S5939 = make_float3 (_S5938);
    float _S5940 = s_primal_ctx_dot_0(_S5874[int(4)], _S5926) - _S5927;
    float _S5941 = s_primal_ctx_exp_1(_S5940);
    float3  _S5942 = make_float3 (_S5941);
    float _S5943 = s_primal_ctx_exp_1(0.0f);
    float3  _S5944 = make_float3 (_S5943);
    float total_w_8 = _S5929 + _S5932 + _S5935 + _S5938 + _S5941 + _S5943;
    float3  _S5945 = make_float3 (total_w_8);
    float3  total_c_8 = make_float3 (_S5929) * _S5875[int(0)] + make_float3 (_S5932) * _S5875[int(1)] + make_float3 (_S5935) * _S5875[int(2)] + make_float3 (_S5938) * _S5875[int(3)] + make_float3 (_S5941) * _S5875[int(4)] + make_float3 (_S5943) * _S5875[int(5)];
    float3  _S5946 = make_float3 (total_w_8 * total_w_8);
    float3  _S5947 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5948;
    (&_S5948)->primal_0 = total_c_8 / make_float3 (total_w_8) + make_float3 (0.5f);
    (&_S5948)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5949;
    (&_S5949)->primal_0 = _S5947;
    (&_S5949)->differential_0 = _S5878;
    s_bwd_prop_max_0(&_S5948, &_S5949, dprgb_18);
    float3  _S5950 = _S5948.differential_0 / _S5946;
    float3  _S5951 = total_c_8 * - _S5950;
    float3  s_diff_total_c_T_8 = _S5945 * _S5950;
    float3  _S5952 = _S5944 * s_diff_total_c_T_8;
    float _S5953 = _S5951.x + _S5951.y + _S5951.z;
    float3  _S5954 = _S5942 * s_diff_total_c_T_8;
    float3  _S5955 = _S5875[int(4)] * s_diff_total_c_T_8;
    float _S5956 = _S5953 + _S5955.x + _S5955.y + _S5955.z;
    DiffPair_float_0 _S5957;
    (&_S5957)->primal_0 = _S5940;
    (&_S5957)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5957, _S5956);
    float _S5958 = - _S5957.differential_0;
    float3  _S5959 = _S5939 * s_diff_total_c_T_8;
    float3  _S5960 = _S5875[int(3)] * s_diff_total_c_T_8;
    float _S5961 = _S5953 + _S5960.x + _S5960.y + _S5960.z;
    DiffPair_float_0 _S5962;
    (&_S5962)->primal_0 = _S5937;
    (&_S5962)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5962, _S5961);
    float _S5963 = - _S5962.differential_0;
    float3  _S5964 = _S5936 * s_diff_total_c_T_8;
    float3  _S5965 = _S5875[int(2)] * s_diff_total_c_T_8;
    float _S5966 = _S5953 + _S5965.x + _S5965.y + _S5965.z;
    DiffPair_float_0 _S5967;
    (&_S5967)->primal_0 = _S5934;
    (&_S5967)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5967, _S5966);
    float _S5968 = - _S5967.differential_0;
    float3  _S5969 = _S5933 * s_diff_total_c_T_8;
    float3  _S5970 = _S5875[int(1)] * s_diff_total_c_T_8;
    float _S5971 = _S5953 + _S5970.x + _S5970.y + _S5970.z;
    DiffPair_float_0 _S5972;
    (&_S5972)->primal_0 = _S5931;
    (&_S5972)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5972, _S5971);
    float _S5973 = - _S5972.differential_0;
    float3  _S5974 = _S5930 * s_diff_total_c_T_8;
    float3  _S5975 = _S5875[int(0)] * s_diff_total_c_T_8;
    float _S5976 = _S5953 + _S5975.x + _S5975.y + _S5975.z;
    DiffPair_float_0 _S5977;
    (&_S5977)->primal_0 = _S5928;
    (&_S5977)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5977, _S5976);
    float _S5978 = _S5958 + _S5963 + _S5968 + _S5973 + - _S5977.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5979;
    (&_S5979)->primal_0 = _S5874[int(5)];
    (&_S5979)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5980;
    (&_S5980)->primal_0 = _S5926;
    (&_S5980)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S5979, &_S5980, _S5978);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5981;
    (&_S5981)->primal_0 = _S5874[int(4)];
    (&_S5981)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5982;
    (&_S5982)->primal_0 = _S5926;
    (&_S5982)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S5981, &_S5982, _S5957.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5983;
    (&_S5983)->primal_0 = _S5874[int(3)];
    (&_S5983)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5984;
    (&_S5984)->primal_0 = _S5926;
    (&_S5984)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S5983, &_S5984, _S5962.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5985;
    (&_S5985)->primal_0 = _S5874[int(2)];
    (&_S5985)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5986;
    (&_S5986)->primal_0 = _S5926;
    (&_S5986)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S5985, &_S5986, _S5967.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5987;
    (&_S5987)->primal_0 = _S5874[int(1)];
    (&_S5987)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5988;
    (&_S5988)->primal_0 = _S5926;
    (&_S5988)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S5987, &_S5988, _S5972.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5989;
    (&_S5989)->primal_0 = _S5874[int(0)];
    (&_S5989)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5990;
    (&_S5990)->primal_0 = _S5926;
    (&_S5990)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S5989, &_S5990, _S5977.differential_0);
    float3  _S5991 = _S5980.differential_0 + _S5982.differential_0 + _S5984.differential_0 + _S5986.differential_0 + _S5988.differential_0 + _S5990.differential_0;
    float3  _S5992 = _S5922 * _S5991;
    float3  _S5993 = _S5925 * _S5991;
    float _S5994 = _S5992.x + _S5992.y + _S5992.z;
    DiffPair_float_0 _S5995;
    (&_S5995)->primal_0 = _S5923;
    (&_S5995)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5995, _S5994);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5996;
    (&_S5996)->primal_0 = _S5922;
    (&_S5996)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5997;
    (&_S5997)->primal_0 = _S5922;
    (&_S5997)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S5996, &_S5997, _S5995.differential_0);
    float3  _S5998 = _S5993 + _S5997.differential_0 + _S5996.differential_0;
    float3  _S5999 = - - _S5998;
    Matrix<float, 3, 3>  _S6000 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6001;
    (&_S6001)->primal_0 = _S5921;
    (&_S6001)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6002;
    (&_S6002)->primal_0 = _S5877.primal_0;
    (&_S6002)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6001, &_S6002, _S5999);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6003 = _S6002;
    Matrix<float, 3, 3>  _S6004 = transpose_0(_S6001.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6005;
    (&_S6005)->primal_0 = _S5920;
    (&_S6005)->differential_0 = _S5878;
    s_bwd_prop_exp_1(&_S6005, dpconic_17);
    float3  _S6006 = - _S6005.differential_0;
    float _S6007 = 0.5f * dpdepth_18;
    DiffPair_float_0 _S6008;
    (&_S6008)->primal_0 = _S5919;
    (&_S6008)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6008, _S6007);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6009;
    (&_S6009)->primal_0 = mean_c_56;
    (&_S6009)->differential_0 = _S5878;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6010;
    (&_S6010)->primal_0 = mean_c_56;
    (&_S6010)->differential_0 = _S5878;
    s_bwd_prop_dot_0(&_S6009, &_S6010, _S6008.differential_0);
    DiffPair_float_0 _S6011;
    (&_S6011)->primal_0 = _S5918;
    (&_S6011)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6011, 0.0f);
    DiffPair_float_0 _S6012;
    (&_S6012)->primal_0 = _S5917;
    (&_S6012)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6012, 0.0f);
    DiffPair_float_0 _S6013;
    (&_S6013)->primal_0 = 3.32999992370605469f;
    (&_S6013)->differential_0 = 0.0f;
    DiffPair_float_0 _S6014;
    (&_S6014)->primal_0 = _S5916;
    (&_S6014)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6013, &_S6014, 0.0f);
    DiffPair_float_0 _S6015;
    (&_S6015)->primal_0 = _S5915;
    (&_S6015)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6015, _S6014.differential_0);
    float _S6016 = 2.0f * _S6015.differential_0;
    DiffPair_float_0 _S6017;
    (&_S6017)->primal_0 = _S5914;
    (&_S6017)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6017, _S6016);
    float _S6018 = dpopacity_19 + 254.9999847412109375f * _S6017.differential_0;
    FixedArray<float3 , 6>  _S6019;
    _S6019[int(0)] = _S5878;
    _S6019[int(1)] = _S5878;
    _S6019[int(2)] = _S5878;
    _S6019[int(3)] = _S5878;
    _S6019[int(4)] = _S5878;
    _S6019[int(5)] = _S5878;
    _S6019[int(5)] = _S5952;
    _S6019[int(4)] = _S5954;
    _S6019[int(3)] = _S5959;
    _S6019[int(2)] = _S5964;
    _S6019[int(1)] = _S5969;
    _S6019[int(0)] = _S5974;
    FixedArray<float3 , 6>  _S6020 = {
        _S6019[int(0)], _S6019[int(1)], _S6019[int(2)], _S6019[int(3)], _S6019[int(4)], _S6019[int(5)]
    };
    FixedArray<float3 , 6>  _S6021;
    _S6021[int(0)] = _S5878;
    _S6021[int(1)] = _S5878;
    _S6021[int(2)] = _S5878;
    _S6021[int(3)] = _S5878;
    _S6021[int(4)] = _S5878;
    _S6021[int(5)] = _S5878;
    _S6021[int(5)] = _S5979.differential_0;
    _S6021[int(4)] = _S5981.differential_0;
    _S6021[int(3)] = _S5983.differential_0;
    _S6021[int(2)] = _S5985.differential_0;
    _S6021[int(1)] = _S5987.differential_0;
    _S6021[int(0)] = _S5989.differential_0;
    FixedArray<float3 , 6>  _S6022 = {
        _S6021[int(0)], _S6021[int(1)], _S6021[int(2)], _S6021[int(3)], _S6021[int(4)], _S6021[int(5)]
    };
    float3  _S6023 = _S6010.differential_0 + _S6009.differential_0;
    float2  _S6024 = make_float2 (0.0f, _S6011.differential_0);
    float2  _S6025 = make_float2 (_S6012.differential_0, 0.0f);
    float _S6026;
    if(antialiased_64)
    {
        float _S6027 = _S5911 * _S6018;
        _S5913 = _S5908 * _S6018;
        _S6026 = _S6027;
    }
    else
    {
        _S5913 = _S6018;
        _S6026 = 0.0f;
    }
    float _S6028 = - (_S5913 / _S5912);
    DiffPair_float_0 _S6029;
    (&_S6029)->primal_0 = _S5909;
    (&_S6029)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6029, _S6028);
    float _S6030 = - _S6029.differential_0;
    DiffPair_float_0 _S6031;
    (&_S6031)->primal_0 = _S5907;
    (&_S6031)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6031, _S6026);
    DiffPair_float_0 _S6032;
    (&_S6032)->primal_0 = 0.0f;
    (&_S6032)->differential_0 = 0.0f;
    DiffPair_float_0 _S6033;
    (&_S6033)->primal_0 = _S5905;
    (&_S6033)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6032, &_S6033, _S6031.differential_0);
    float _S6034 = _S6033.differential_0 / _S5906;
    float s_diff_det_blur_T_10 = det_orig_57 * - _S6034;
    float s_diff_det_orig_T_13 = det_blur_33 * _S6034;
    float _S6035 = - s_diff_det_blur_T_10;
    float _S6036 = _S5900 * s_diff_det_blur_T_10;
    float _S6037 = _S5902 * s_diff_det_blur_T_10;
    Matrix<float, 2, 2>  _S6038 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6039 = _S6038;
    _S6039[int(1)] = _S6024;
    _S6039[int(0)] = _S6025;
    float _S6040 = _S6037 + _S6039.rows[int(0)].x;
    float _S6041 = _S6035 + - s_diff_det_orig_T_13;
    float _S6042 = *&(((&_s_diff_ctx_31->_S5824)->rows + (int(0)))->y) * _S6041;
    float _S6043 = *&(((&_s_diff_ctx_31->_S5824)->rows + (int(1)))->x) * _S6041;
    float _S6044 = *&(((&_s_diff_ctx_31->_S5824)->rows + (int(1)))->y) * s_diff_det_orig_T_13;
    float _S6045 = _S6036 + _S6039.rows[int(1)].y + *&(((&_s_diff_ctx_31->_S5824)->rows + (int(0)))->x) * s_diff_det_orig_T_13;
    float2  _S6046 = make_float2 (0.0f);
    float2  _S6047 = _S6046;
    *&((&_S6047)->x) = _S6042;
    *&((&_S6047)->y) = _S6045;
    float _S6048 = _S6040 + _S6044;
    float2  _S6049 = _S6046;
    *&((&_S6049)->y) = _S6043;
    *&((&_S6049)->x) = _S6048;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6050;
    (&_S6050)->primal_0 = _S5876.primal_0;
    (&_S6050)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6051;
    (&_S6051)->primal_0 = _S5897;
    (&_S6051)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6050, &_S6051, _S5878);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6052;
    (&_S6052)->primal_0 = _S5876.primal_0;
    (&_S6052)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6053;
    (&_S6053)->primal_0 = _S5893;
    (&_S6053)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6052, &_S6053, _S5878);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6054;
    (&_S6054)->primal_0 = _S5876.primal_0;
    (&_S6054)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6055;
    (&_S6055)->primal_0 = _S5889;
    (&_S6055)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6054, &_S6055, _S5878);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6056;
    (&_S6056)->primal_0 = _S5876.primal_0;
    (&_S6056)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6057;
    (&_S6057)->primal_0 = _S5896;
    (&_S6057)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6056, &_S6057, _S5878);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6058;
    (&_S6058)->primal_0 = _S5876.primal_0;
    (&_S6058)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6059;
    (&_S6059)->primal_0 = _S5892;
    (&_S6059)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6058, &_S6059, _S5878);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6060;
    (&_S6060)->primal_0 = _S5876.primal_0;
    (&_S6060)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6061;
    (&_S6061)->primal_0 = _S5888;
    (&_S6061)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6060, &_S6061, _S5878);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6062;
    (&_S6062)->primal_0 = _S5876.primal_0;
    (&_S6062)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6063;
    (&_S6063)->primal_0 = _S5898.p_0[0U];
    (&_S6063)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6062, &_S6063, _S5878);
    float3  _S6064 = - _S6051.differential_0 + _S6057.differential_0;
    float3  _S6065 = _S5895 * _S6064;
    float3  _S6066 = _S5881.rows[2U] * _S6064;
    float _S6067 = _S5885 * (_S6066.x + _S6066.y + _S6066.z);
    float3  _S6068 = - _S6053.differential_0 + _S6059.differential_0;
    float3  _S6069 = _S5891 * _S6068;
    float3  _S6070 = _S5881.rows[1U] * _S6068;
    float _S6071 = _S5885 * (_S6070.x + _S6070.y + _S6070.z);
    float3  _S6072 = - _S6055.differential_0 + _S6061.differential_0;
    float3  _S6073 = _S5887 * _S6072;
    float3  _S6074 = _S5881.rows[0U] * _S6072;
    float _S6075 = _S5885 * (_S6074.x + _S6074.y + _S6074.z);
    Matrix<float, 3, 3>  _S6076 = _S6000;
    _S6076[2U] = _S6065;
    _S6076[1U] = _S6069;
    _S6076[0U] = _S6073;
    Matrix<float, 3, 3>  _S6077 = transpose_0(transpose_0(_S6076));
    float _S6078 = 2.0f * - _S6077.rows[int(2)].z;
    float _S6079 = 2.0f * _S6077.rows[int(2)].y;
    float _S6080 = 2.0f * _S6077.rows[int(2)].x;
    float _S6081 = 2.0f * _S6077.rows[int(1)].z;
    float _S6082 = 2.0f * - _S6077.rows[int(1)].y;
    float _S6083 = 2.0f * _S6077.rows[int(1)].x;
    float _S6084 = 2.0f * _S6077.rows[int(0)].z;
    float _S6085 = 2.0f * _S6077.rows[int(0)].y;
    float _S6086 = 2.0f * - _S6077.rows[int(0)].x;
    float _S6087 = - _S6083 + _S6085;
    float _S6088 = _S6080 + - _S6084;
    float _S6089 = - _S6079 + _S6081;
    float _S6090 = _S6079 + _S6081;
    float _S6091 = _S6080 + _S6084;
    float _S6092 = _S6083 + _S6085;
    float _S6093 = _S5872.primal_0.w * (_S6082 + _S6086);
    float _S6094 = _S5872.primal_0.z * (_S6078 + _S6086);
    float _S6095 = _S5872.primal_0.y * (_S6078 + _S6082);
    float _S6096 = _S5872.primal_0.x * _S6087 + _S5872.primal_0.z * _S6090 + _S5872.primal_0.y * _S6091 + _S6093 + _S6093;
    float _S6097 = _S5872.primal_0.x * _S6088 + _S5872.primal_0.w * _S6090 + _S5872.primal_0.y * _S6092 + _S6094 + _S6094;
    float _S6098 = _S5872.primal_0.x * _S6089 + _S5872.primal_0.w * _S6091 + _S5872.primal_0.z * _S6092 + _S6095 + _S6095;
    float _S6099 = _S5872.primal_0.w * _S6087 + _S5872.primal_0.z * _S6088 + _S5872.primal_0.y * _S6089;
    float3  _S6100 = _S5878;
    *&((&_S6100)->z) = _S6067;
    *&((&_S6100)->y) = _S6071;
    *&((&_S6100)->x) = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6101;
    (&_S6101)->primal_0 = _S5873.primal_0;
    (&_S6101)->differential_0 = _S5878;
    s_bwd_prop_exp_1(&_S6101, _S6100);
    Matrix<float, 2, 2>  _S6102 = _S6038;
    _S6102[int(1)] = _S6047;
    _S6102[int(0)] = _S6049;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6103;
    (&_S6103)->primal_0 = _S5876.primal_0;
    (&_S6103)->differential_0 = _S6000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6104;
    (&_S6104)->primal_0 = _S5871.primal_0;
    (&_S6104)->differential_0 = _S5878;
    s_bwd_prop_mul_1(&_S6103, &_S6104, _S6023);
    float3  _S6105 = _S6023 + _S6003.differential_0;
    dpt_18->primal_0 = (*dpt_18).primal_0;
    dpt_18->differential_0 = _S6105;
    Matrix<float, 3, 3>  _S6106 = _S6050.differential_0 + _S6052.differential_0 + _S6054.differential_0 + _S6056.differential_0 + _S6058.differential_0 + _S6060.differential_0 + _S6062.differential_0 + _S6103.differential_0 + _S6004;
    dpR_19->primal_0 = (*dpR_19).primal_0;
    dpR_19->differential_0 = _S6106;
    dpsv_colors_17->primal_0 = dpsv_colors_17->primal_0;
    dpsv_colors_17->differential_0 = _S6020;
    dpsv_sites_17->primal_0 = dpsv_sites_17->primal_0;
    dpsv_sites_17->differential_0 = _S6022;
    dpin_opacity_17->primal_0 = (*dpin_opacity_17).primal_0;
    dpin_opacity_17->differential_0 = _S6030;
    float3  _S6107 = _S6101.differential_0 + _S6006;
    dpscale_18->primal_0 = (*dpscale_18).primal_0;
    dpscale_18->differential_0 = _S6107;
    float4  _S6108 = make_float4 (0.0f);
    *&((&_S6108)->w) = _S6096;
    *&((&_S6108)->z) = _S6097;
    *&((&_S6108)->y) = _S6098;
    *&((&_S6108)->x) = _S6099;
    dpquat_18->primal_0 = (*dpquat_18).primal_0;
    dpquat_18->differential_0 = _S6108;
    float3  _S6109 = _S6051.differential_0 + _S6057.differential_0 + _S6053.differential_0 + _S6059.differential_0 + _S6055.differential_0 + _S6061.differential_0 + _S6104.differential_0 + _S5998;
    dpmean_19->primal_0 = (*dpmean_19).primal_0;
    dpmean_19->differential_0 = _S6109;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_4(bool _S6110, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6111, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6112, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6113, DiffPair_float_0 * _S6114, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6115, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6116, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6117, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6118, float _S6119, float _S6120, float _S6121, float _S6122, FixedArray<float, 10>  * _S6123, uint _S6124, uint _S6125, float _S6126, float _S6127, float2  _S6128, float _S6129, float3  _S6130, float _S6131, float3  _S6132)
{
    FixedArray<float3 , 6>  _S6133 = _S6115->primal_0;
    FixedArray<float3 , 6>  _S6134 = _S6116->primal_0;
    int4  _S6135;
    float2  _S6136;
    float _S6137;
    float3  _S6138;
    float _S6139;
    float3  _S6140;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S6141;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(_S6110, (*_S6111).primal_0, (*_S6112).primal_0, (*_S6113).primal_0, (*_S6114).primal_0, &_S6133, &_S6134, (*_S6117).primal_0, (*_S6118).primal_0, _S6119, _S6120, _S6121, _S6122, _S6123, _S6124, _S6125, _S6126, _S6127, &_S6135, &_S6136, &_S6137, &_S6138, &_S6139, &_S6140, &_S6141);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S6142 = _S6141;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(_S6110, _S6111, _S6112, _S6113, _S6114, _S6115, _S6116, _S6117, _S6118, _S6119, _S6120, _S6121, _S6122, _S6123, _S6124, _S6125, _S6126, _S6127, _S6128, _S6129, _S6130, _S6131, _S6132, &_S6142);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_65, float3  mean_52, float4  quat_53, float3  scale_52, float in_opacity_47, FixedArray<float3 , 6>  * sv_sites_32, FixedArray<float3 , 6>  * sv_colors_32, Matrix<float, 3, 3>  R_54, float3  t_50, float fx_74, float fy_74, float cx_69, float cy_69, FixedArray<float, 10>  * dist_coeffs_78, uint image_width_65, uint image_height_65, float2  v_mean2d_13, float v_depth_14, float3  v_conic_13, float v_opacity_15, float3  v_rgb_14, float3  * v_mean_15, float4  * v_quat_14, float3  * v_scale_14, float * v_in_opacity_13, FixedArray<float3 , 6>  * v_sv_dirs_8, FixedArray<float3 , 6>  * v_sv_colors_8, Matrix<float, 3, 3>  * v_R_15, float3  * v_t_14)
{
    float3  _S6143 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_10;
    (&dp_mean_10)->primal_0 = mean_52;
    (&dp_mean_10)->differential_0 = _S6143;
    float4  _S6144 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_9;
    (&dp_quat_9)->primal_0 = quat_53;
    (&dp_quat_9)->differential_0 = _S6144;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_9;
    (&dp_scale_9)->primal_0 = scale_52;
    (&dp_scale_9)->differential_0 = _S6143;
    DiffPair_float_0 dp_in_opacity_8;
    (&dp_in_opacity_8)->primal_0 = in_opacity_47;
    (&dp_in_opacity_8)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S6145 = { _S6143, _S6143, _S6143, _S6143, _S6143, _S6143 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_8;
    (&dp_sv_dirs_8)->primal_0 = *sv_sites_32;
    (&dp_sv_dirs_8)->differential_0 = _S6145;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_8;
    (&dp_sv_colors_8)->primal_0 = *sv_colors_32;
    (&dp_sv_colors_8)->differential_0 = _S6145;
    Matrix<float, 3, 3>  _S6146 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_10;
    (&dp_R_10)->primal_0 = R_54;
    (&dp_R_10)->differential_0 = _S6146;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_9;
    (&dp_t_9)->primal_0 = t_50;
    (&dp_t_9)->differential_0 = _S6143;
    s_bwd_projection_3dgut_sv_persp_differentiable_4(antialiased_65, &dp_mean_10, &dp_quat_9, &dp_scale_9, &dp_in_opacity_8, &dp_sv_dirs_8, &dp_sv_colors_8, &dp_R_10, &dp_t_9, fx_74, fy_74, cx_69, cy_69, dist_coeffs_78, image_width_65, image_height_65, 0.0f, 1.00000001504746622e+30f, v_mean2d_13, v_depth_14, v_conic_13, v_opacity_15, v_rgb_14);
    *v_mean_15 = dp_mean_10.differential_0;
    *v_quat_14 = dp_quat_9.differential_0;
    *v_scale_14 = dp_scale_9.differential_0;
    *v_in_opacity_13 = dp_in_opacity_8.differential_0;
    *v_sv_dirs_8 = (&dp_sv_dirs_8)->differential_0;
    *v_sv_colors_8 = (&dp_sv_colors_8)->differential_0;
    *v_R_15 = dp_R_10.differential_0;
    *v_t_14 = dp_t_9.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S6147;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_66, float3  dpmean_20, float4  dpquat_19, float3  dpscale_19, float dpin_opacity_18, FixedArray<float3 , 6>  * dpsv_sites_18, FixedArray<float3 , 6>  * dpsv_colors_18, Matrix<float, 3, 3>  dpR_20, float3  dpt_19, float fx_75, float fy_75, float cx_70, float cy_70, FixedArray<float, 10>  * dist_coeffs_79, uint image_width_66, uint image_height_66, float near_plane_52, float far_plane_52, int4  * aabb_xyxy_43, float2  * dpmean2d_20, float * dpdepth_19, float3  * dpconic_18, float * dpopacity_20, float3  * dprgb_19, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_32)
{
    Matrix<float, 2, 2>  _S6148 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_32->_S6147 = _S6148;
    float2  _S6149 = make_float2 (0.0f);
    float3  _S6150 = make_float3 (0.0f);
    float3  mean_c_57 = s_primal_ctx_mul_0(dpR_20, dpmean_20) + dpt_19;
    float4  intrins_47 = make_float4 (fx_75, fy_75, cx_70, cy_70);
    float3  _S6151 = s_primal_ctx_exp_0(dpscale_19);
    float _S6152 = dpquat_19.y;
    float x2_63 = _S6152 * _S6152;
    float y2_63 = dpquat_19.z * dpquat_19.z;
    float z2_78 = dpquat_19.w * dpquat_19.w;
    float xy_63 = dpquat_19.y * dpquat_19.z;
    float xz_63 = dpquat_19.y * dpquat_19.w;
    float yz_63 = dpquat_19.z * dpquat_19.w;
    float wx_63 = dpquat_19.x * dpquat_19.y;
    float wy_63 = dpquat_19.x * dpquat_19.z;
    float wz_63 = dpquat_19.x * dpquat_19.w;
    Matrix<float, 3, 3>  _S6153 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_63 + z2_78), 2.0f * (xy_63 + wz_63), 2.0f * (xz_63 - wy_63), 2.0f * (xy_63 - wz_63), 1.0f - 2.0f * (x2_63 + z2_78), 2.0f * (yz_63 + wx_63), 2.0f * (xz_63 + wy_63), 2.0f * (yz_63 - wx_63), 1.0f - 2.0f * (x2_63 + y2_63))));
    FixedArray<float3 , 7>  _S6154 = {
        _S6150, _S6150, _S6150, _S6150, _S6150, _S6150, _S6150
    };
    FixedArray<float, 7>  _S6155 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6156;
    (&_S6156)->p_0 = _S6154;
    (&_S6156)->w_mean_0 = _S6155;
    (&_S6156)->w_cov_0 = _S6155;
    (&_S6156)->p_0[int(0)] = dpmean_20;
    SigmaPoints_0 _S6157 = _S6156;
    (&_S6157)->w_mean_0[int(0)] = 0.0f;
    (&_S6157)->w_cov_0[int(0)] = 2.0f;
    float _S6158 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_144 = make_float3 (_S6158 * _S6151.x) * _S6153.rows[0U];
    float3  _S6159 = dpmean_20 + delta_144;
    float3  _S6160 = dpmean_20 - delta_144;
    float3  delta_145 = make_float3 (_S6158 * _S6151.y) * _S6153.rows[1U];
    float3  _S6161 = dpmean_20 + delta_145;
    float3  _S6162 = dpmean_20 - delta_145;
    float3  delta_146 = make_float3 (_S6158 * _S6151.z) * _S6153.rows[2U];
    float3  _S6163 = dpmean_20 + delta_146;
    float3  _S6164 = dpmean_20 - delta_146;
    (&_S6157)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6157)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6157)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6157)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6157)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6157)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6157)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6157)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6157)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6157)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6157)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6157)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6157)->p_0[0U] = s_primal_ctx_mul_0(dpR_20, _S6156.p_0[0U]) + dpt_19;
    (&_S6157)->p_0[1U] = s_primal_ctx_mul_0(dpR_20, _S6159) + dpt_19;
    (&_S6157)->p_0[2U] = s_primal_ctx_mul_0(dpR_20, _S6161) + dpt_19;
    (&_S6157)->p_0[3U] = s_primal_ctx_mul_0(dpR_20, _S6163) + dpt_19;
    (&_S6157)->p_0[4U] = s_primal_ctx_mul_0(dpR_20, _S6160) + dpt_19;
    (&_S6157)->p_0[5U] = s_primal_ctx_mul_0(dpR_20, _S6162) + dpt_19;
    (&_S6157)->p_0[6U] = s_primal_ctx_mul_0(dpR_20, _S6164) + dpt_19;
    float2  _S6165 = _S6149;
    Matrix<float, 2, 2>  _S6166 = _S6148;
    SigmaPoints_0 _S6167 = _S6157;
    bool _S6168 = fisheye_proj_3dgs_ut_1(&_S6167, intrins_47, dist_coeffs_79, &_S6166, &_S6165);
    _s_diff_ctx_32->_S6147 = _S6166;
    float2  _S6169 = _S6165;
    float _S6170 = _S6166.rows[int(0)].y * _S6166.rows[int(1)].x;
    float det_orig_58 = _S6166.rows[int(0)].x * _S6166.rows[int(1)].y - _S6170;
    float _S6171 = _S6166.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6172 = _S6166;
    *&(((&_S6172)->rows + (int(0)))->x) = _S6171;
    float _S6173 = _S6166.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6172)->rows + (int(1)))->y) = _S6173;
    Matrix<float, 2, 2>  _S6174 = _S6172;
    Matrix<float, 2, 2>  _S6175 = _S6172;
    float _S6176 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_58 / (_S6171 * _S6173 - _S6170)));
    float _S6177 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_18));
    float _S6178;
    if(antialiased_66)
    {
        _S6178 = _S6177 * _S6176;
    }
    else
    {
        _S6178 = _S6177;
    }
    float _S6179 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6178 / 0.00392156885936856f)));
    float radius_x_43 = _S6179 * s_primal_ctx_sqrt_0(_S6174.rows[int(0)].x);
    float radius_y_43 = _S6179 * s_primal_ctx_sqrt_0(_S6175.rows[int(1)].y);
    float _S6180 = _S6169.x;
    float _S6181 = _S6169.y;
    float _S6182 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_57, mean_c_57) + 9.99999997475242708e-07f);
    float3  _S6183 = s_primal_ctx_exp_0(- dpscale_19);
    float3  _S6184 = dpmean_20 - - s_primal_ctx_mul_0(transpose_0(dpR_20), dpt_19);
    float3  _S6185 = _S6184 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6184, _S6184)));
    float _S6186 = s_primal_ctx_dot_0((*dpsv_sites_18)[int(5)], _S6185);
    float _S6187 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(0)], _S6185) - _S6186);
    float _S6188 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(1)], _S6185) - _S6186);
    float _S6189 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(2)], _S6185) - _S6186);
    float _S6190 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(3)], _S6185) - _S6186);
    float _S6191 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(4)], _S6185) - _S6186);
    float _S6192 = s_primal_ctx_exp_1(0.0f);
    float3  _S6193 = s_primal_ctx_max_1((make_float3 (_S6187) * (*dpsv_colors_18)[int(0)] + make_float3 (_S6188) * (*dpsv_colors_18)[int(1)] + make_float3 (_S6189) * (*dpsv_colors_18)[int(2)] + make_float3 (_S6190) * (*dpsv_colors_18)[int(3)] + make_float3 (_S6191) * (*dpsv_colors_18)[int(4)] + make_float3 (_S6192) * (*dpsv_colors_18)[int(5)]) / make_float3 (_S6187 + _S6188 + _S6189 + _S6190 + _S6191 + _S6192) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_43 = make_int4 (int((F32_floor((_S6180 - radius_x_43)))), int((F32_floor((_S6181 - radius_y_43)))), int((F32_ceil((_S6180 + radius_x_43)))), int((F32_ceil((_S6181 + radius_y_43)))));
    *dpmean2d_20 = _S6169;
    *dpdepth_19 = _S6182;
    *dpconic_18 = _S6183;
    *dpopacity_20 = _S6178;
    *dprgb_19 = _S6193;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_67, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_21, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_20, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_20, DiffPair_float_0 * dpin_opacity_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_19, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_21, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_20, float fx_76, float fy_76, float cx_71, float cy_71, FixedArray<float, 10>  * dist_coeffs_80, uint image_width_67, uint image_height_67, float near_plane_53, float far_plane_53, float2  dpmean2d_21, float dpdepth_20, float3  dpconic_19, float dpopacity_21, float3  dprgb_20, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_33)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6194 = *dpmean_21;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6195 = *dpquat_20;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6196 = *dpscale_20;
    FixedArray<float3 , 6>  _S6197 = dpsv_sites_19->primal_0;
    FixedArray<float3 , 6>  _S6198 = dpsv_colors_19->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6199 = *dpR_21;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6200 = *dpt_20;
    float3  _S6201 = make_float3 (0.0f);
    float3  mean_c_58 = s_primal_ctx_mul_0((*dpR_21).primal_0, (*dpmean_21).primal_0) + (*dpt_20).primal_0;
    float3  _S6202 = s_primal_ctx_exp_0((*dpscale_20).primal_0);
    float _S6203 = (*dpquat_20).primal_0.y;
    float x2_64 = _S6203 * _S6203;
    float y2_64 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.z;
    float z2_79 = (*dpquat_20).primal_0.w * (*dpquat_20).primal_0.w;
    float xy_64 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.z;
    float xz_64 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.w;
    float yz_64 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.w;
    float wx_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.y;
    float wy_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.z;
    float wz_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.w;
    Matrix<float, 3, 3>  _S6204 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_64 + z2_79), 2.0f * (xy_64 + wz_64), 2.0f * (xz_64 - wy_64), 2.0f * (xy_64 - wz_64), 1.0f - 2.0f * (x2_64 + z2_79), 2.0f * (yz_64 + wx_64), 2.0f * (xz_64 + wy_64), 2.0f * (yz_64 - wx_64), 1.0f - 2.0f * (x2_64 + y2_64))));
    FixedArray<float3 , 7>  _S6205 = {
        _S6201, _S6201, _S6201, _S6201, _S6201, _S6201, _S6201
    };
    FixedArray<float, 7>  _S6206 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6207;
    (&_S6207)->p_0 = _S6205;
    (&_S6207)->w_mean_0 = _S6206;
    (&_S6207)->w_cov_0 = _S6206;
    (&_S6207)->p_0[int(0)] = (*dpmean_21).primal_0;
    float _S6208 = s_primal_ctx_sqrt_0(3.0f);
    float _S6209 = _S6208 * _S6202.x;
    float3  _S6210 = make_float3 (_S6209);
    float3  delta_147 = make_float3 (_S6209) * _S6204.rows[0U];
    float3  _S6211 = (*dpmean_21).primal_0 + delta_147;
    float3  _S6212 = (*dpmean_21).primal_0 - delta_147;
    float _S6213 = _S6208 * _S6202.y;
    float3  _S6214 = make_float3 (_S6213);
    float3  delta_148 = make_float3 (_S6213) * _S6204.rows[1U];
    float3  _S6215 = (*dpmean_21).primal_0 + delta_148;
    float3  _S6216 = (*dpmean_21).primal_0 - delta_148;
    float _S6217 = _S6208 * _S6202.z;
    float3  _S6218 = make_float3 (_S6217);
    float3  delta_149 = make_float3 (_S6217) * _S6204.rows[2U];
    float3  _S6219 = (*dpmean_21).primal_0 + delta_149;
    float3  _S6220 = (*dpmean_21).primal_0 - delta_149;
    SigmaPoints_0 _S6221 = _S6207;
    float _S6222 = *&(((&_s_diff_ctx_33->_S6147)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_33->_S6147)->rows + (int(1)))->x);
    float det_orig_59 = *&(((&_s_diff_ctx_33->_S6147)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_33->_S6147)->rows + (int(1)))->y) - _S6222;
    float _S6223 = *&(((&_s_diff_ctx_33->_S6147)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6224 = _s_diff_ctx_33->_S6147;
    *&(((&_S6224)->rows + (int(0)))->x) = _S6223;
    float _S6225 = *&(((&_s_diff_ctx_33->_S6147)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6224)->rows + (int(1)))->y) = _S6225;
    Matrix<float, 2, 2>  _S6226 = _S6224;
    Matrix<float, 2, 2>  _S6227 = _S6224;
    float det_blur_34 = _S6223 * _S6225 - _S6222;
    float _S6228 = det_orig_59 / det_blur_34;
    float _S6229 = det_blur_34 * det_blur_34;
    float _S6230 = s_primal_ctx_max_0(0.0f, _S6228);
    float _S6231 = s_primal_ctx_sqrt_0(_S6230);
    float _S6232 = - (*dpin_opacity_19).primal_0;
    float _S6233 = 1.0f + s_primal_ctx_exp_1(_S6232);
    float _S6234 = 1.0f / _S6233;
    float _S6235 = _S6233 * _S6233;
    float _S6236;
    if(antialiased_67)
    {
        _S6236 = _S6234 * _S6231;
    }
    else
    {
        _S6236 = _S6234;
    }
    float _S6237 = _S6236 / 0.00392156885936856f;
    float _S6238 = 2.0f * s_primal_ctx_log_0(_S6237);
    float _S6239 = s_primal_ctx_sqrt_0(_S6238);
    float _S6240 = _S6226.rows[int(0)].x;
    float _S6241 = _S6227.rows[int(1)].y;
    float _S6242 = s_primal_ctx_dot_0(mean_c_58, mean_c_58) + 9.99999997475242708e-07f;
    float3  _S6243 = - _S6196.primal_0;
    Matrix<float, 3, 3>  _S6244 = transpose_0(_S6199.primal_0);
    float3  _S6245 = _S6194.primal_0 - - s_primal_ctx_mul_0(_S6244, _S6200.primal_0);
    float _S6246 = s_primal_ctx_dot_0(_S6245, _S6245);
    float _S6247 = s_primal_ctx_rsqrt_0(_S6246);
    float3  _S6248 = make_float3 (_S6247);
    float3  _S6249 = _S6245 * make_float3 (_S6247);
    float _S6250 = s_primal_ctx_dot_0(_S6197[int(5)], _S6249);
    float _S6251 = s_primal_ctx_dot_0(_S6197[int(0)], _S6249) - _S6250;
    float _S6252 = s_primal_ctx_exp_1(_S6251);
    float3  _S6253 = make_float3 (_S6252);
    float _S6254 = s_primal_ctx_dot_0(_S6197[int(1)], _S6249) - _S6250;
    float _S6255 = s_primal_ctx_exp_1(_S6254);
    float3  _S6256 = make_float3 (_S6255);
    float _S6257 = s_primal_ctx_dot_0(_S6197[int(2)], _S6249) - _S6250;
    float _S6258 = s_primal_ctx_exp_1(_S6257);
    float3  _S6259 = make_float3 (_S6258);
    float _S6260 = s_primal_ctx_dot_0(_S6197[int(3)], _S6249) - _S6250;
    float _S6261 = s_primal_ctx_exp_1(_S6260);
    float3  _S6262 = make_float3 (_S6261);
    float _S6263 = s_primal_ctx_dot_0(_S6197[int(4)], _S6249) - _S6250;
    float _S6264 = s_primal_ctx_exp_1(_S6263);
    float3  _S6265 = make_float3 (_S6264);
    float _S6266 = s_primal_ctx_exp_1(0.0f);
    float3  _S6267 = make_float3 (_S6266);
    float total_w_9 = _S6252 + _S6255 + _S6258 + _S6261 + _S6264 + _S6266;
    float3  _S6268 = make_float3 (total_w_9);
    float3  total_c_9 = make_float3 (_S6252) * _S6198[int(0)] + make_float3 (_S6255) * _S6198[int(1)] + make_float3 (_S6258) * _S6198[int(2)] + make_float3 (_S6261) * _S6198[int(3)] + make_float3 (_S6264) * _S6198[int(4)] + make_float3 (_S6266) * _S6198[int(5)];
    float3  _S6269 = make_float3 (total_w_9 * total_w_9);
    float3  _S6270 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6271;
    (&_S6271)->primal_0 = total_c_9 / make_float3 (total_w_9) + make_float3 (0.5f);
    (&_S6271)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6272;
    (&_S6272)->primal_0 = _S6270;
    (&_S6272)->differential_0 = _S6201;
    s_bwd_prop_max_0(&_S6271, &_S6272, dprgb_20);
    float3  _S6273 = _S6271.differential_0 / _S6269;
    float3  _S6274 = total_c_9 * - _S6273;
    float3  s_diff_total_c_T_9 = _S6268 * _S6273;
    float3  _S6275 = _S6267 * s_diff_total_c_T_9;
    float _S6276 = _S6274.x + _S6274.y + _S6274.z;
    float3  _S6277 = _S6265 * s_diff_total_c_T_9;
    float3  _S6278 = _S6198[int(4)] * s_diff_total_c_T_9;
    float _S6279 = _S6276 + _S6278.x + _S6278.y + _S6278.z;
    DiffPair_float_0 _S6280;
    (&_S6280)->primal_0 = _S6263;
    (&_S6280)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6280, _S6279);
    float _S6281 = - _S6280.differential_0;
    float3  _S6282 = _S6262 * s_diff_total_c_T_9;
    float3  _S6283 = _S6198[int(3)] * s_diff_total_c_T_9;
    float _S6284 = _S6276 + _S6283.x + _S6283.y + _S6283.z;
    DiffPair_float_0 _S6285;
    (&_S6285)->primal_0 = _S6260;
    (&_S6285)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6285, _S6284);
    float _S6286 = - _S6285.differential_0;
    float3  _S6287 = _S6259 * s_diff_total_c_T_9;
    float3  _S6288 = _S6198[int(2)] * s_diff_total_c_T_9;
    float _S6289 = _S6276 + _S6288.x + _S6288.y + _S6288.z;
    DiffPair_float_0 _S6290;
    (&_S6290)->primal_0 = _S6257;
    (&_S6290)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6290, _S6289);
    float _S6291 = - _S6290.differential_0;
    float3  _S6292 = _S6256 * s_diff_total_c_T_9;
    float3  _S6293 = _S6198[int(1)] * s_diff_total_c_T_9;
    float _S6294 = _S6276 + _S6293.x + _S6293.y + _S6293.z;
    DiffPair_float_0 _S6295;
    (&_S6295)->primal_0 = _S6254;
    (&_S6295)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6295, _S6294);
    float _S6296 = - _S6295.differential_0;
    float3  _S6297 = _S6253 * s_diff_total_c_T_9;
    float3  _S6298 = _S6198[int(0)] * s_diff_total_c_T_9;
    float _S6299 = _S6276 + _S6298.x + _S6298.y + _S6298.z;
    DiffPair_float_0 _S6300;
    (&_S6300)->primal_0 = _S6251;
    (&_S6300)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6300, _S6299);
    float _S6301 = _S6281 + _S6286 + _S6291 + _S6296 + - _S6300.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6302;
    (&_S6302)->primal_0 = _S6197[int(5)];
    (&_S6302)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6303;
    (&_S6303)->primal_0 = _S6249;
    (&_S6303)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6302, &_S6303, _S6301);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6304;
    (&_S6304)->primal_0 = _S6197[int(4)];
    (&_S6304)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6305;
    (&_S6305)->primal_0 = _S6249;
    (&_S6305)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6304, &_S6305, _S6280.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6306;
    (&_S6306)->primal_0 = _S6197[int(3)];
    (&_S6306)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6307;
    (&_S6307)->primal_0 = _S6249;
    (&_S6307)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6306, &_S6307, _S6285.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6308;
    (&_S6308)->primal_0 = _S6197[int(2)];
    (&_S6308)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6309;
    (&_S6309)->primal_0 = _S6249;
    (&_S6309)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6308, &_S6309, _S6290.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6310;
    (&_S6310)->primal_0 = _S6197[int(1)];
    (&_S6310)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6311;
    (&_S6311)->primal_0 = _S6249;
    (&_S6311)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6310, &_S6311, _S6295.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6312;
    (&_S6312)->primal_0 = _S6197[int(0)];
    (&_S6312)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6313;
    (&_S6313)->primal_0 = _S6249;
    (&_S6313)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6312, &_S6313, _S6300.differential_0);
    float3  _S6314 = _S6303.differential_0 + _S6305.differential_0 + _S6307.differential_0 + _S6309.differential_0 + _S6311.differential_0 + _S6313.differential_0;
    float3  _S6315 = _S6245 * _S6314;
    float3  _S6316 = _S6248 * _S6314;
    float _S6317 = _S6315.x + _S6315.y + _S6315.z;
    DiffPair_float_0 _S6318;
    (&_S6318)->primal_0 = _S6246;
    (&_S6318)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6318, _S6317);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6319;
    (&_S6319)->primal_0 = _S6245;
    (&_S6319)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6320;
    (&_S6320)->primal_0 = _S6245;
    (&_S6320)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6319, &_S6320, _S6318.differential_0);
    float3  _S6321 = _S6316 + _S6320.differential_0 + _S6319.differential_0;
    float3  _S6322 = - - _S6321;
    Matrix<float, 3, 3>  _S6323 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6324;
    (&_S6324)->primal_0 = _S6244;
    (&_S6324)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6325;
    (&_S6325)->primal_0 = _S6200.primal_0;
    (&_S6325)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6324, &_S6325, _S6322);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6326 = _S6325;
    Matrix<float, 3, 3>  _S6327 = transpose_0(_S6324.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6328;
    (&_S6328)->primal_0 = _S6243;
    (&_S6328)->differential_0 = _S6201;
    s_bwd_prop_exp_1(&_S6328, dpconic_19);
    float3  _S6329 = - _S6328.differential_0;
    float _S6330 = 0.5f * dpdepth_20;
    DiffPair_float_0 _S6331;
    (&_S6331)->primal_0 = _S6242;
    (&_S6331)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6331, _S6330);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6332;
    (&_S6332)->primal_0 = mean_c_58;
    (&_S6332)->differential_0 = _S6201;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6333;
    (&_S6333)->primal_0 = mean_c_58;
    (&_S6333)->differential_0 = _S6201;
    s_bwd_prop_dot_0(&_S6332, &_S6333, _S6331.differential_0);
    DiffPair_float_0 _S6334;
    (&_S6334)->primal_0 = _S6241;
    (&_S6334)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6334, 0.0f);
    DiffPair_float_0 _S6335;
    (&_S6335)->primal_0 = _S6240;
    (&_S6335)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6335, 0.0f);
    DiffPair_float_0 _S6336;
    (&_S6336)->primal_0 = 3.32999992370605469f;
    (&_S6336)->differential_0 = 0.0f;
    DiffPair_float_0 _S6337;
    (&_S6337)->primal_0 = _S6239;
    (&_S6337)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6336, &_S6337, 0.0f);
    DiffPair_float_0 _S6338;
    (&_S6338)->primal_0 = _S6238;
    (&_S6338)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6338, _S6337.differential_0);
    float _S6339 = 2.0f * _S6338.differential_0;
    DiffPair_float_0 _S6340;
    (&_S6340)->primal_0 = _S6237;
    (&_S6340)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6340, _S6339);
    float _S6341 = dpopacity_21 + 254.9999847412109375f * _S6340.differential_0;
    FixedArray<float3 , 6>  _S6342;
    _S6342[int(0)] = _S6201;
    _S6342[int(1)] = _S6201;
    _S6342[int(2)] = _S6201;
    _S6342[int(3)] = _S6201;
    _S6342[int(4)] = _S6201;
    _S6342[int(5)] = _S6201;
    _S6342[int(5)] = _S6275;
    _S6342[int(4)] = _S6277;
    _S6342[int(3)] = _S6282;
    _S6342[int(2)] = _S6287;
    _S6342[int(1)] = _S6292;
    _S6342[int(0)] = _S6297;
    FixedArray<float3 , 6>  _S6343 = {
        _S6342[int(0)], _S6342[int(1)], _S6342[int(2)], _S6342[int(3)], _S6342[int(4)], _S6342[int(5)]
    };
    FixedArray<float3 , 6>  _S6344;
    _S6344[int(0)] = _S6201;
    _S6344[int(1)] = _S6201;
    _S6344[int(2)] = _S6201;
    _S6344[int(3)] = _S6201;
    _S6344[int(4)] = _S6201;
    _S6344[int(5)] = _S6201;
    _S6344[int(5)] = _S6302.differential_0;
    _S6344[int(4)] = _S6304.differential_0;
    _S6344[int(3)] = _S6306.differential_0;
    _S6344[int(2)] = _S6308.differential_0;
    _S6344[int(1)] = _S6310.differential_0;
    _S6344[int(0)] = _S6312.differential_0;
    FixedArray<float3 , 6>  _S6345 = {
        _S6344[int(0)], _S6344[int(1)], _S6344[int(2)], _S6344[int(3)], _S6344[int(4)], _S6344[int(5)]
    };
    float3  _S6346 = _S6333.differential_0 + _S6332.differential_0;
    float2  _S6347 = make_float2 (0.0f, _S6334.differential_0);
    float2  _S6348 = make_float2 (_S6335.differential_0, 0.0f);
    float _S6349;
    if(antialiased_67)
    {
        float _S6350 = _S6234 * _S6341;
        _S6236 = _S6231 * _S6341;
        _S6349 = _S6350;
    }
    else
    {
        _S6236 = _S6341;
        _S6349 = 0.0f;
    }
    float _S6351 = - (_S6236 / _S6235);
    DiffPair_float_0 _S6352;
    (&_S6352)->primal_0 = _S6232;
    (&_S6352)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6352, _S6351);
    float _S6353 = - _S6352.differential_0;
    DiffPair_float_0 _S6354;
    (&_S6354)->primal_0 = _S6230;
    (&_S6354)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6354, _S6349);
    DiffPair_float_0 _S6355;
    (&_S6355)->primal_0 = 0.0f;
    (&_S6355)->differential_0 = 0.0f;
    DiffPair_float_0 _S6356;
    (&_S6356)->primal_0 = _S6228;
    (&_S6356)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6355, &_S6356, _S6354.differential_0);
    float _S6357 = _S6356.differential_0 / _S6229;
    float s_diff_det_blur_T_11 = det_orig_59 * - _S6357;
    float s_diff_det_orig_T_14 = det_blur_34 * _S6357;
    float _S6358 = - s_diff_det_blur_T_11;
    float _S6359 = _S6223 * s_diff_det_blur_T_11;
    float _S6360 = _S6225 * s_diff_det_blur_T_11;
    Matrix<float, 2, 2>  _S6361 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6362 = _S6361;
    _S6362[int(1)] = _S6347;
    _S6362[int(0)] = _S6348;
    float _S6363 = _S6360 + _S6362.rows[int(0)].x;
    float _S6364 = _S6358 + - s_diff_det_orig_T_14;
    float _S6365 = *&(((&_s_diff_ctx_33->_S6147)->rows + (int(0)))->y) * _S6364;
    float _S6366 = *&(((&_s_diff_ctx_33->_S6147)->rows + (int(1)))->x) * _S6364;
    float _S6367 = *&(((&_s_diff_ctx_33->_S6147)->rows + (int(1)))->y) * s_diff_det_orig_T_14;
    float _S6368 = _S6359 + _S6362.rows[int(1)].y + *&(((&_s_diff_ctx_33->_S6147)->rows + (int(0)))->x) * s_diff_det_orig_T_14;
    float2  _S6369 = make_float2 (0.0f);
    float2  _S6370 = _S6369;
    *&((&_S6370)->x) = _S6365;
    *&((&_S6370)->y) = _S6368;
    float _S6371 = _S6363 + _S6367;
    float2  _S6372 = _S6369;
    *&((&_S6372)->y) = _S6366;
    *&((&_S6372)->x) = _S6371;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6373;
    (&_S6373)->primal_0 = _S6199.primal_0;
    (&_S6373)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6374;
    (&_S6374)->primal_0 = _S6220;
    (&_S6374)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6373, &_S6374, _S6201);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6375;
    (&_S6375)->primal_0 = _S6199.primal_0;
    (&_S6375)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6376;
    (&_S6376)->primal_0 = _S6216;
    (&_S6376)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6375, &_S6376, _S6201);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6377;
    (&_S6377)->primal_0 = _S6199.primal_0;
    (&_S6377)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6378;
    (&_S6378)->primal_0 = _S6212;
    (&_S6378)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6377, &_S6378, _S6201);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6379;
    (&_S6379)->primal_0 = _S6199.primal_0;
    (&_S6379)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6380;
    (&_S6380)->primal_0 = _S6219;
    (&_S6380)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6379, &_S6380, _S6201);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6381;
    (&_S6381)->primal_0 = _S6199.primal_0;
    (&_S6381)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6382;
    (&_S6382)->primal_0 = _S6215;
    (&_S6382)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6381, &_S6382, _S6201);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6383;
    (&_S6383)->primal_0 = _S6199.primal_0;
    (&_S6383)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6384;
    (&_S6384)->primal_0 = _S6211;
    (&_S6384)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6383, &_S6384, _S6201);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6385;
    (&_S6385)->primal_0 = _S6199.primal_0;
    (&_S6385)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6386;
    (&_S6386)->primal_0 = _S6221.p_0[0U];
    (&_S6386)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6385, &_S6386, _S6201);
    float3  _S6387 = - _S6374.differential_0 + _S6380.differential_0;
    float3  _S6388 = _S6218 * _S6387;
    float3  _S6389 = _S6204.rows[2U] * _S6387;
    float _S6390 = _S6208 * (_S6389.x + _S6389.y + _S6389.z);
    float3  _S6391 = - _S6376.differential_0 + _S6382.differential_0;
    float3  _S6392 = _S6214 * _S6391;
    float3  _S6393 = _S6204.rows[1U] * _S6391;
    float _S6394 = _S6208 * (_S6393.x + _S6393.y + _S6393.z);
    float3  _S6395 = - _S6378.differential_0 + _S6384.differential_0;
    float3  _S6396 = _S6210 * _S6395;
    float3  _S6397 = _S6204.rows[0U] * _S6395;
    float _S6398 = _S6208 * (_S6397.x + _S6397.y + _S6397.z);
    Matrix<float, 3, 3>  _S6399 = _S6323;
    _S6399[2U] = _S6388;
    _S6399[1U] = _S6392;
    _S6399[0U] = _S6396;
    Matrix<float, 3, 3>  _S6400 = transpose_0(transpose_0(_S6399));
    float _S6401 = 2.0f * - _S6400.rows[int(2)].z;
    float _S6402 = 2.0f * _S6400.rows[int(2)].y;
    float _S6403 = 2.0f * _S6400.rows[int(2)].x;
    float _S6404 = 2.0f * _S6400.rows[int(1)].z;
    float _S6405 = 2.0f * - _S6400.rows[int(1)].y;
    float _S6406 = 2.0f * _S6400.rows[int(1)].x;
    float _S6407 = 2.0f * _S6400.rows[int(0)].z;
    float _S6408 = 2.0f * _S6400.rows[int(0)].y;
    float _S6409 = 2.0f * - _S6400.rows[int(0)].x;
    float _S6410 = - _S6406 + _S6408;
    float _S6411 = _S6403 + - _S6407;
    float _S6412 = - _S6402 + _S6404;
    float _S6413 = _S6402 + _S6404;
    float _S6414 = _S6403 + _S6407;
    float _S6415 = _S6406 + _S6408;
    float _S6416 = _S6195.primal_0.w * (_S6405 + _S6409);
    float _S6417 = _S6195.primal_0.z * (_S6401 + _S6409);
    float _S6418 = _S6195.primal_0.y * (_S6401 + _S6405);
    float _S6419 = _S6195.primal_0.x * _S6410 + _S6195.primal_0.z * _S6413 + _S6195.primal_0.y * _S6414 + _S6416 + _S6416;
    float _S6420 = _S6195.primal_0.x * _S6411 + _S6195.primal_0.w * _S6413 + _S6195.primal_0.y * _S6415 + _S6417 + _S6417;
    float _S6421 = _S6195.primal_0.x * _S6412 + _S6195.primal_0.w * _S6414 + _S6195.primal_0.z * _S6415 + _S6418 + _S6418;
    float _S6422 = _S6195.primal_0.w * _S6410 + _S6195.primal_0.z * _S6411 + _S6195.primal_0.y * _S6412;
    float3  _S6423 = _S6201;
    *&((&_S6423)->z) = _S6390;
    *&((&_S6423)->y) = _S6394;
    *&((&_S6423)->x) = _S6398;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6424;
    (&_S6424)->primal_0 = _S6196.primal_0;
    (&_S6424)->differential_0 = _S6201;
    s_bwd_prop_exp_1(&_S6424, _S6423);
    Matrix<float, 2, 2>  _S6425 = _S6361;
    _S6425[int(1)] = _S6370;
    _S6425[int(0)] = _S6372;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6426;
    (&_S6426)->primal_0 = mean_c_58;
    (&_S6426)->differential_0 = _S6201;
    s_bwd_length_impl_1(&_S6426, 0.0f);
    float3  _S6427 = _S6426.differential_0 + _S6346;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6428;
    (&_S6428)->primal_0 = _S6199.primal_0;
    (&_S6428)->differential_0 = _S6323;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6429;
    (&_S6429)->primal_0 = _S6194.primal_0;
    (&_S6429)->differential_0 = _S6201;
    s_bwd_prop_mul_1(&_S6428, &_S6429, _S6427);
    float3  _S6430 = _S6427 + _S6326.differential_0;
    dpt_20->primal_0 = (*dpt_20).primal_0;
    dpt_20->differential_0 = _S6430;
    Matrix<float, 3, 3>  _S6431 = _S6373.differential_0 + _S6375.differential_0 + _S6377.differential_0 + _S6379.differential_0 + _S6381.differential_0 + _S6383.differential_0 + _S6385.differential_0 + _S6428.differential_0 + _S6327;
    dpR_21->primal_0 = (*dpR_21).primal_0;
    dpR_21->differential_0 = _S6431;
    dpsv_colors_19->primal_0 = dpsv_colors_19->primal_0;
    dpsv_colors_19->differential_0 = _S6343;
    dpsv_sites_19->primal_0 = dpsv_sites_19->primal_0;
    dpsv_sites_19->differential_0 = _S6345;
    dpin_opacity_19->primal_0 = (*dpin_opacity_19).primal_0;
    dpin_opacity_19->differential_0 = _S6353;
    float3  _S6432 = _S6424.differential_0 + _S6329;
    dpscale_20->primal_0 = (*dpscale_20).primal_0;
    dpscale_20->differential_0 = _S6432;
    float4  _S6433 = make_float4 (0.0f);
    *&((&_S6433)->w) = _S6419;
    *&((&_S6433)->z) = _S6420;
    *&((&_S6433)->y) = _S6421;
    *&((&_S6433)->x) = _S6422;
    dpquat_20->primal_0 = (*dpquat_20).primal_0;
    dpquat_20->differential_0 = _S6433;
    float3  _S6434 = _S6374.differential_0 + _S6380.differential_0 + _S6376.differential_0 + _S6382.differential_0 + _S6378.differential_0 + _S6384.differential_0 + _S6429.differential_0 + _S6321;
    dpmean_21->primal_0 = (*dpmean_21).primal_0;
    dpmean_21->differential_0 = _S6434;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_4(bool _S6435, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6436, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6437, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6438, DiffPair_float_0 * _S6439, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6440, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6441, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6442, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6443, float _S6444, float _S6445, float _S6446, float _S6447, FixedArray<float, 10>  * _S6448, uint _S6449, uint _S6450, float _S6451, float _S6452, float2  _S6453, float _S6454, float3  _S6455, float _S6456, float3  _S6457)
{
    FixedArray<float3 , 6>  _S6458 = _S6440->primal_0;
    FixedArray<float3 , 6>  _S6459 = _S6441->primal_0;
    int4  _S6460;
    float2  _S6461;
    float _S6462;
    float3  _S6463;
    float _S6464;
    float3  _S6465;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S6466;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(_S6435, (*_S6436).primal_0, (*_S6437).primal_0, (*_S6438).primal_0, (*_S6439).primal_0, &_S6458, &_S6459, (*_S6442).primal_0, (*_S6443).primal_0, _S6444, _S6445, _S6446, _S6447, _S6448, _S6449, _S6450, _S6451, _S6452, &_S6460, &_S6461, &_S6462, &_S6463, &_S6464, &_S6465, &_S6466);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S6467 = _S6466;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(_S6435, _S6436, _S6437, _S6438, _S6439, _S6440, _S6441, _S6442, _S6443, _S6444, _S6445, _S6446, _S6447, _S6448, _S6449, _S6450, _S6451, _S6452, _S6453, _S6454, _S6455, _S6456, _S6457, &_S6467);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_68, float3  mean_53, float4  quat_54, float3  scale_53, float in_opacity_48, FixedArray<float3 , 6>  * sv_sites_33, FixedArray<float3 , 6>  * sv_colors_33, Matrix<float, 3, 3>  R_55, float3  t_51, float fx_77, float fy_77, float cx_72, float cy_72, FixedArray<float, 10>  * dist_coeffs_81, uint image_width_68, uint image_height_68, float2  v_mean2d_14, float v_depth_15, float3  v_conic_14, float v_opacity_16, float3  v_rgb_15, float3  * v_mean_16, float4  * v_quat_15, float3  * v_scale_15, float * v_in_opacity_14, FixedArray<float3 , 6>  * v_sv_dirs_9, FixedArray<float3 , 6>  * v_sv_colors_9, Matrix<float, 3, 3>  * v_R_16, float3  * v_t_15)
{
    float3  _S6468 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_11;
    (&dp_mean_11)->primal_0 = mean_53;
    (&dp_mean_11)->differential_0 = _S6468;
    float4  _S6469 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_10;
    (&dp_quat_10)->primal_0 = quat_54;
    (&dp_quat_10)->differential_0 = _S6469;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_10;
    (&dp_scale_10)->primal_0 = scale_53;
    (&dp_scale_10)->differential_0 = _S6468;
    DiffPair_float_0 dp_in_opacity_9;
    (&dp_in_opacity_9)->primal_0 = in_opacity_48;
    (&dp_in_opacity_9)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S6470 = { _S6468, _S6468, _S6468, _S6468, _S6468, _S6468 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_9;
    (&dp_sv_dirs_9)->primal_0 = *sv_sites_33;
    (&dp_sv_dirs_9)->differential_0 = _S6470;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_9;
    (&dp_sv_colors_9)->primal_0 = *sv_colors_33;
    (&dp_sv_colors_9)->differential_0 = _S6470;
    Matrix<float, 3, 3>  _S6471 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_11;
    (&dp_R_11)->primal_0 = R_55;
    (&dp_R_11)->differential_0 = _S6471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_10;
    (&dp_t_10)->primal_0 = t_51;
    (&dp_t_10)->differential_0 = _S6468;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_4(antialiased_68, &dp_mean_11, &dp_quat_10, &dp_scale_10, &dp_in_opacity_9, &dp_sv_dirs_9, &dp_sv_colors_9, &dp_R_11, &dp_t_10, fx_77, fy_77, cx_72, cy_72, dist_coeffs_81, image_width_68, image_height_68, 0.0f, 1.00000001504746622e+30f, v_mean2d_14, v_depth_15, v_conic_14, v_opacity_16, v_rgb_15);
    *v_mean_16 = dp_mean_11.differential_0;
    *v_quat_15 = dp_quat_10.differential_0;
    *v_scale_15 = dp_scale_10.differential_0;
    *v_in_opacity_14 = dp_in_opacity_9.differential_0;
    *v_sv_dirs_9 = (&dp_sv_dirs_9)->differential_0;
    *v_sv_colors_9 = (&dp_sv_colors_9)->differential_0;
    *v_R_16 = dp_R_11.differential_0;
    *v_t_15 = dp_t_10.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_69, float3  mean_54, float4  quat_55, float3  scale_54, float in_opacity_49, FixedArray<float3 , 7>  * sv_sites_34, FixedArray<float3 , 7>  * sv_colors_34, Matrix<float, 3, 3>  R_56, float3  t_52, float fx_78, float fy_78, float cx_73, float cy_73, FixedArray<float, 10>  * dist_coeffs_82, uint image_width_69, uint image_height_69, float near_plane_54, float far_plane_54, int4  * aabb_xyxy_44, float2  * mean2d_42, float * depth_35, float3  * conic_34, float * opacity_38, float3  * rgb_36)
{
    float3  mean_c_59 = mul_0(R_56, mean_54) + t_52;
    float4  intrins_48 = make_float4 (fx_78, fy_78, cx_73, cy_73);
    float3  _S6472 = exp_0(scale_54);
    float x_66 = quat_55.y;
    float x2_65 = x_66 * x_66;
    float y2_65 = quat_55.z * quat_55.z;
    float z2_80 = quat_55.w * quat_55.w;
    float xy_65 = quat_55.y * quat_55.z;
    float xz_65 = quat_55.y * quat_55.w;
    float yz_65 = quat_55.z * quat_55.w;
    float wx_65 = quat_55.x * quat_55.y;
    float wy_65 = quat_55.x * quat_55.z;
    float wz_65 = quat_55.x * quat_55.w;
    Matrix<float, 3, 3>  _S6473 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_65 + z2_80), 2.0f * (xy_65 + wz_65), 2.0f * (xz_65 - wy_65), 2.0f * (xy_65 - wz_65), 1.0f - 2.0f * (x2_65 + z2_80), 2.0f * (yz_65 + wx_65), 2.0f * (xz_65 + wy_65), 2.0f * (yz_65 - wx_65), 1.0f - 2.0f * (x2_65 + y2_65))));
    SigmaPoints_0 ret_28;
    (&ret_28)->p_0[int(0)] = mean_54;
    (&ret_28)->w_mean_0[int(0)] = 0.0f;
    (&ret_28)->w_cov_0[int(0)] = 2.0f;
    float _S6474 = (F32_sqrt((3.0f)));
    float3  delta_150 = make_float3 (_S6474 * _S6472.x) * _S6473.rows[0U];
    float3  _S6475 = mean_54 + delta_150;
    float3  _S6476 = mean_54 - delta_150;
    float3  delta_151 = make_float3 (_S6474 * _S6472.y) * _S6473.rows[1U];
    float3  _S6477 = mean_54 + delta_151;
    float3  _S6478 = mean_54 - delta_151;
    float3  delta_152 = make_float3 (_S6474 * _S6472.z) * _S6473.rows[2U];
    float3  _S6479 = mean_54 + delta_152;
    float3  _S6480 = mean_54 - delta_152;
    (&ret_28)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_28)->p_0[0U] = mul_0(R_56, (&ret_28)->p_0[0U]) + t_52;
    (&ret_28)->p_0[1U] = mul_0(R_56, _S6475) + t_52;
    (&ret_28)->p_0[2U] = mul_0(R_56, _S6477) + t_52;
    (&ret_28)->p_0[3U] = mul_0(R_56, _S6479) + t_52;
    (&ret_28)->p_0[4U] = mul_0(R_56, _S6476) + t_52;
    (&ret_28)->p_0[5U] = mul_0(R_56, _S6478) + t_52;
    (&ret_28)->p_0[6U] = mul_0(R_56, _S6480) + t_52;
    SigmaPoints_0 _S6481 = ret_28;
    Matrix<float, 2, 2>  covar2d_34;
    bool _S6482 = persp_proj_3dgs_ut_1(&_S6481, intrins_48, dist_coeffs_82, image_width_69, image_height_69, &covar2d_34, mean2d_42);
    float det_orig_60 = *&(((&covar2d_34)->rows + (int(0)))->x) * *&(((&covar2d_34)->rows + (int(1)))->y) - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x);
    float _S6483 = *&(((&covar2d_34)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(0)))->x) = _S6483;
    float _S6484 = *&(((&covar2d_34)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(1)))->y) = _S6484;
    float compensation_35 = (F32_sqrt(((F32_max((0.0f), (det_orig_60 / (_S6483 * _S6484 - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x))))))));
    *opacity_38 = 1.0f / (1.0f + (F32_exp((- in_opacity_49))));
    if(antialiased_69)
    {
        *opacity_38 = *opacity_38 * compensation_35;
    }
    float extend_34 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_38 / 0.00392156885936856f)))))))));
    float radius_x_44 = extend_34 * (F32_sqrt((covar2d_34[int(0)].x)));
    float radius_y_44 = extend_34 * (F32_sqrt((covar2d_34[int(1)].y)));
    *aabb_xyxy_44 = make_int4 (int((F32_floor(((*mean2d_42).x - radius_x_44)))), int((F32_floor(((*mean2d_42).y - radius_y_44)))), int((F32_ceil(((*mean2d_42).x + radius_x_44)))), int((F32_ceil(((*mean2d_42).y + radius_y_44)))));
    *depth_35 = 0.5f * (F32_log((dot_0(mean_c_59, mean_c_59) + 9.99999997475242708e-07f)));
    *conic_34 = exp_0(- scale_54);
    float3  _S6485 = mean_54 - - mul_0(transpose_0(R_56), t_52);
    float3  _S6486 = _S6485 * make_float3 ((F32_rsqrt((dot_0(_S6485, _S6485)))));
    float _S6487 = dot_0((*sv_sites_34)[int(6)], _S6486);
    float w_110 = (F32_exp((dot_0((*sv_sites_34)[int(0)], _S6486) - _S6487)));
    float w_111 = (F32_exp((dot_0((*sv_sites_34)[int(1)], _S6486) - _S6487)));
    float w_112 = (F32_exp((dot_0((*sv_sites_34)[int(2)], _S6486) - _S6487)));
    float w_113 = (F32_exp((dot_0((*sv_sites_34)[int(3)], _S6486) - _S6487)));
    float w_114 = (F32_exp((dot_0((*sv_sites_34)[int(4)], _S6486) - _S6487)));
    float w_115 = (F32_exp((dot_0((*sv_sites_34)[int(5)], _S6486) - _S6487)));
    float w_116 = (F32_exp((0.0f)));
    *rgb_36 = max_0((make_float3 (w_110) * (*sv_colors_34)[int(0)] + make_float3 (w_111) * (*sv_colors_34)[int(1)] + make_float3 (w_112) * (*sv_colors_34)[int(2)] + make_float3 (w_113) * (*sv_colors_34)[int(3)] + make_float3 (w_114) * (*sv_colors_34)[int(4)] + make_float3 (w_115) * (*sv_colors_34)[int(5)] + make_float3 (w_116) * (*sv_colors_34)[int(6)]) / make_float3 (w_110 + w_111 + w_112 + w_113 + w_114 + w_115 + w_116) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_70, float3  mean_55, float4  quat_56, float3  scale_55, float in_opacity_50, FixedArray<float3 , 7>  * sv_sites_35, FixedArray<float3 , 7>  * sv_colors_35, Matrix<float, 3, 3>  R_57, float3  t_53, float fx_79, float fy_79, float cx_74, float cy_74, FixedArray<float, 10>  * dist_coeffs_83, uint image_width_70, uint image_height_70, float near_plane_55, float far_plane_55, int4  * aabb_xyxy_45, float2  * mean2d_43, float * depth_36, float3  * conic_35, float * opacity_39, float3  * rgb_37)
{
    float3  mean_c_60 = mul_0(R_57, mean_55) + t_53;
    float4  intrins_49 = make_float4 (fx_79, fy_79, cx_74, cy_74);
    float3  _S6488 = exp_0(scale_55);
    float x_67 = quat_56.y;
    float x2_66 = x_67 * x_67;
    float y2_66 = quat_56.z * quat_56.z;
    float z2_81 = quat_56.w * quat_56.w;
    float xy_66 = quat_56.y * quat_56.z;
    float xz_66 = quat_56.y * quat_56.w;
    float yz_66 = quat_56.z * quat_56.w;
    float wx_66 = quat_56.x * quat_56.y;
    float wy_66 = quat_56.x * quat_56.z;
    float wz_66 = quat_56.x * quat_56.w;
    Matrix<float, 3, 3>  _S6489 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_66 + z2_81), 2.0f * (xy_66 + wz_66), 2.0f * (xz_66 - wy_66), 2.0f * (xy_66 - wz_66), 1.0f - 2.0f * (x2_66 + z2_81), 2.0f * (yz_66 + wx_66), 2.0f * (xz_66 + wy_66), 2.0f * (yz_66 - wx_66), 1.0f - 2.0f * (x2_66 + y2_66))));
    SigmaPoints_0 ret_29;
    (&ret_29)->p_0[int(0)] = mean_55;
    (&ret_29)->w_mean_0[int(0)] = 0.0f;
    (&ret_29)->w_cov_0[int(0)] = 2.0f;
    float _S6490 = (F32_sqrt((3.0f)));
    float3  delta_153 = make_float3 (_S6490 * _S6488.x) * _S6489.rows[0U];
    float3  _S6491 = mean_55 + delta_153;
    float3  _S6492 = mean_55 - delta_153;
    float3  delta_154 = make_float3 (_S6490 * _S6488.y) * _S6489.rows[1U];
    float3  _S6493 = mean_55 + delta_154;
    float3  _S6494 = mean_55 - delta_154;
    float3  delta_155 = make_float3 (_S6490 * _S6488.z) * _S6489.rows[2U];
    float3  _S6495 = mean_55 + delta_155;
    float3  _S6496 = mean_55 - delta_155;
    (&ret_29)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_29)->p_0[0U] = mul_0(R_57, (&ret_29)->p_0[0U]) + t_53;
    (&ret_29)->p_0[1U] = mul_0(R_57, _S6491) + t_53;
    (&ret_29)->p_0[2U] = mul_0(R_57, _S6493) + t_53;
    (&ret_29)->p_0[3U] = mul_0(R_57, _S6495) + t_53;
    (&ret_29)->p_0[4U] = mul_0(R_57, _S6492) + t_53;
    (&ret_29)->p_0[5U] = mul_0(R_57, _S6494) + t_53;
    (&ret_29)->p_0[6U] = mul_0(R_57, _S6496) + t_53;
    SigmaPoints_0 _S6497 = ret_29;
    Matrix<float, 2, 2>  covar2d_35;
    bool _S6498 = fisheye_proj_3dgs_ut_1(&_S6497, intrins_49, dist_coeffs_83, &covar2d_35, mean2d_43);
    float det_orig_61 = *&(((&covar2d_35)->rows + (int(0)))->x) * *&(((&covar2d_35)->rows + (int(1)))->y) - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x);
    float _S6499 = *&(((&covar2d_35)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(0)))->x) = _S6499;
    float _S6500 = *&(((&covar2d_35)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(1)))->y) = _S6500;
    float compensation_36 = (F32_sqrt(((F32_max((0.0f), (det_orig_61 / (_S6499 * _S6500 - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x))))))));
    *opacity_39 = 1.0f / (1.0f + (F32_exp((- in_opacity_50))));
    if(antialiased_70)
    {
        *opacity_39 = *opacity_39 * compensation_36;
    }
    float extend_35 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_39 / 0.00392156885936856f)))))))));
    float radius_x_45 = extend_35 * (F32_sqrt((covar2d_35[int(0)].x)));
    float radius_y_45 = extend_35 * (F32_sqrt((covar2d_35[int(1)].y)));
    *aabb_xyxy_45 = make_int4 (int((F32_floor(((*mean2d_43).x - radius_x_45)))), int((F32_floor(((*mean2d_43).y - radius_y_45)))), int((F32_ceil(((*mean2d_43).x + radius_x_45)))), int((F32_ceil(((*mean2d_43).y + radius_y_45)))));
    *depth_36 = 0.5f * (F32_log((dot_0(mean_c_60, mean_c_60) + 9.99999997475242708e-07f)));
    *conic_35 = exp_0(- scale_55);
    float3  _S6501 = mean_55 - - mul_0(transpose_0(R_57), t_53);
    float3  _S6502 = _S6501 * make_float3 ((F32_rsqrt((dot_0(_S6501, _S6501)))));
    float _S6503 = dot_0((*sv_sites_35)[int(6)], _S6502);
    float w_117 = (F32_exp((dot_0((*sv_sites_35)[int(0)], _S6502) - _S6503)));
    float w_118 = (F32_exp((dot_0((*sv_sites_35)[int(1)], _S6502) - _S6503)));
    float w_119 = (F32_exp((dot_0((*sv_sites_35)[int(2)], _S6502) - _S6503)));
    float w_120 = (F32_exp((dot_0((*sv_sites_35)[int(3)], _S6502) - _S6503)));
    float w_121 = (F32_exp((dot_0((*sv_sites_35)[int(4)], _S6502) - _S6503)));
    float w_122 = (F32_exp((dot_0((*sv_sites_35)[int(5)], _S6502) - _S6503)));
    float w_123 = (F32_exp((0.0f)));
    *rgb_37 = max_0((make_float3 (w_117) * (*sv_colors_35)[int(0)] + make_float3 (w_118) * (*sv_colors_35)[int(1)] + make_float3 (w_119) * (*sv_colors_35)[int(2)] + make_float3 (w_120) * (*sv_colors_35)[int(3)] + make_float3 (w_121) * (*sv_colors_35)[int(4)] + make_float3 (w_122) * (*sv_colors_35)[int(5)] + make_float3 (w_123) * (*sv_colors_35)[int(6)]) / make_float3 (w_117 + w_118 + w_119 + w_120 + w_121 + w_122 + w_123) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0
{
    FixedArray<float3 , 7>  primal_0;
    FixedArray<float3 , 7>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S6504;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(bool antialiased_71, float3  dpmean_22, float4  dpquat_21, float3  dpscale_21, float dpin_opacity_20, FixedArray<float3 , 7>  * dpsv_sites_20, FixedArray<float3 , 7>  * dpsv_colors_20, Matrix<float, 3, 3>  dpR_22, float3  dpt_21, float fx_80, float fy_80, float cx_75, float cy_75, FixedArray<float, 10>  * dist_coeffs_84, uint image_width_71, uint image_height_71, float near_plane_56, float far_plane_56, int4  * aabb_xyxy_46, float2  * dpmean2d_22, float * dpdepth_21, float3  * dpconic_20, float * dpopacity_22, float3  * dprgb_21, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_34)
{
    Matrix<float, 2, 2>  _S6505 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_34->_S6504 = _S6505;
    float2  _S6506 = make_float2 (0.0f);
    float3  _S6507 = make_float3 (0.0f);
    float3  mean_c_61 = s_primal_ctx_mul_0(dpR_22, dpmean_22) + dpt_21;
    float4  intrins_50 = make_float4 (fx_80, fy_80, cx_75, cy_75);
    float3  _S6508 = s_primal_ctx_exp_0(dpscale_21);
    float _S6509 = dpquat_21.y;
    float x2_67 = _S6509 * _S6509;
    float y2_67 = dpquat_21.z * dpquat_21.z;
    float z2_82 = dpquat_21.w * dpquat_21.w;
    float xy_67 = dpquat_21.y * dpquat_21.z;
    float xz_67 = dpquat_21.y * dpquat_21.w;
    float yz_67 = dpquat_21.z * dpquat_21.w;
    float wx_67 = dpquat_21.x * dpquat_21.y;
    float wy_67 = dpquat_21.x * dpquat_21.z;
    float wz_67 = dpquat_21.x * dpquat_21.w;
    Matrix<float, 3, 3>  _S6510 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_67 + z2_82), 2.0f * (xy_67 + wz_67), 2.0f * (xz_67 - wy_67), 2.0f * (xy_67 - wz_67), 1.0f - 2.0f * (x2_67 + z2_82), 2.0f * (yz_67 + wx_67), 2.0f * (xz_67 + wy_67), 2.0f * (yz_67 - wx_67), 1.0f - 2.0f * (x2_67 + y2_67))));
    FixedArray<float3 , 7>  _S6511 = {
        _S6507, _S6507, _S6507, _S6507, _S6507, _S6507, _S6507
    };
    FixedArray<float, 7>  _S6512 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6513;
    (&_S6513)->p_0 = _S6511;
    (&_S6513)->w_mean_0 = _S6512;
    (&_S6513)->w_cov_0 = _S6512;
    (&_S6513)->p_0[int(0)] = dpmean_22;
    SigmaPoints_0 _S6514 = _S6513;
    (&_S6514)->w_mean_0[int(0)] = 0.0f;
    (&_S6514)->w_cov_0[int(0)] = 2.0f;
    float _S6515 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_156 = make_float3 (_S6515 * _S6508.x) * _S6510.rows[0U];
    float3  _S6516 = dpmean_22 + delta_156;
    float3  _S6517 = dpmean_22 - delta_156;
    float3  delta_157 = make_float3 (_S6515 * _S6508.y) * _S6510.rows[1U];
    float3  _S6518 = dpmean_22 + delta_157;
    float3  _S6519 = dpmean_22 - delta_157;
    float3  delta_158 = make_float3 (_S6515 * _S6508.z) * _S6510.rows[2U];
    float3  _S6520 = dpmean_22 + delta_158;
    float3  _S6521 = dpmean_22 - delta_158;
    (&_S6514)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6514)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6514)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6514)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6514)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6514)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6514)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6514)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6514)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6514)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6514)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6514)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6514)->p_0[0U] = s_primal_ctx_mul_0(dpR_22, _S6513.p_0[0U]) + dpt_21;
    (&_S6514)->p_0[1U] = s_primal_ctx_mul_0(dpR_22, _S6516) + dpt_21;
    (&_S6514)->p_0[2U] = s_primal_ctx_mul_0(dpR_22, _S6518) + dpt_21;
    (&_S6514)->p_0[3U] = s_primal_ctx_mul_0(dpR_22, _S6520) + dpt_21;
    (&_S6514)->p_0[4U] = s_primal_ctx_mul_0(dpR_22, _S6517) + dpt_21;
    (&_S6514)->p_0[5U] = s_primal_ctx_mul_0(dpR_22, _S6519) + dpt_21;
    (&_S6514)->p_0[6U] = s_primal_ctx_mul_0(dpR_22, _S6521) + dpt_21;
    float2  _S6522 = _S6506;
    Matrix<float, 2, 2>  _S6523 = _S6505;
    SigmaPoints_0 _S6524 = _S6514;
    bool _S6525 = persp_proj_3dgs_ut_1(&_S6524, intrins_50, dist_coeffs_84, image_width_71, image_height_71, &_S6523, &_S6522);
    _s_diff_ctx_34->_S6504 = _S6523;
    float2  _S6526 = _S6522;
    float _S6527 = _S6523.rows[int(0)].y * _S6523.rows[int(1)].x;
    float det_orig_62 = _S6523.rows[int(0)].x * _S6523.rows[int(1)].y - _S6527;
    float _S6528 = _S6523.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6529 = _S6523;
    *&(((&_S6529)->rows + (int(0)))->x) = _S6528;
    float _S6530 = _S6523.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6529)->rows + (int(1)))->y) = _S6530;
    Matrix<float, 2, 2>  _S6531 = _S6529;
    Matrix<float, 2, 2>  _S6532 = _S6529;
    float _S6533 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_62 / (_S6528 * _S6530 - _S6527)));
    float _S6534 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_20));
    float _S6535;
    if(antialiased_71)
    {
        _S6535 = _S6534 * _S6533;
    }
    else
    {
        _S6535 = _S6534;
    }
    float _S6536 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6535 / 0.00392156885936856f)));
    float radius_x_46 = _S6536 * s_primal_ctx_sqrt_0(_S6531.rows[int(0)].x);
    float radius_y_46 = _S6536 * s_primal_ctx_sqrt_0(_S6532.rows[int(1)].y);
    float _S6537 = _S6526.x;
    float _S6538 = _S6526.y;
    float _S6539 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_61, mean_c_61) + 9.99999997475242708e-07f);
    float3  _S6540 = s_primal_ctx_exp_0(- dpscale_21);
    float3  _S6541 = dpmean_22 - - s_primal_ctx_mul_0(transpose_0(dpR_22), dpt_21);
    float3  _S6542 = _S6541 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6541, _S6541)));
    float _S6543 = s_primal_ctx_dot_0((*dpsv_sites_20)[int(6)], _S6542);
    float _S6544 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(0)], _S6542) - _S6543);
    float _S6545 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(1)], _S6542) - _S6543);
    float _S6546 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(2)], _S6542) - _S6543);
    float _S6547 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(3)], _S6542) - _S6543);
    float _S6548 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(4)], _S6542) - _S6543);
    float _S6549 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(5)], _S6542) - _S6543);
    float _S6550 = s_primal_ctx_exp_1(0.0f);
    float3  _S6551 = s_primal_ctx_max_1((make_float3 (_S6544) * (*dpsv_colors_20)[int(0)] + make_float3 (_S6545) * (*dpsv_colors_20)[int(1)] + make_float3 (_S6546) * (*dpsv_colors_20)[int(2)] + make_float3 (_S6547) * (*dpsv_colors_20)[int(3)] + make_float3 (_S6548) * (*dpsv_colors_20)[int(4)] + make_float3 (_S6549) * (*dpsv_colors_20)[int(5)] + make_float3 (_S6550) * (*dpsv_colors_20)[int(6)]) / make_float3 (_S6544 + _S6545 + _S6546 + _S6547 + _S6548 + _S6549 + _S6550) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_46 = make_int4 (int((F32_floor((_S6537 - radius_x_46)))), int((F32_floor((_S6538 - radius_y_46)))), int((F32_ceil((_S6537 + radius_x_46)))), int((F32_ceil((_S6538 + radius_y_46)))));
    *dpmean2d_22 = _S6526;
    *dpdepth_21 = _S6539;
    *dpconic_20 = _S6540;
    *dpopacity_22 = _S6535;
    *dprgb_21 = _S6551;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(bool antialiased_72, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_23, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_22, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_22, DiffPair_float_0 * dpin_opacity_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_21, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_23, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_22, float fx_81, float fy_81, float cx_76, float cy_76, FixedArray<float, 10>  * dist_coeffs_85, uint image_width_72, uint image_height_72, float near_plane_57, float far_plane_57, float2  dpmean2d_23, float dpdepth_22, float3  dpconic_21, float dpopacity_23, float3  dprgb_22, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_35)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6552 = *dpmean_23;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6553 = *dpquat_22;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6554 = *dpscale_22;
    FixedArray<float3 , 7>  _S6555 = dpsv_sites_21->primal_0;
    FixedArray<float3 , 7>  _S6556 = dpsv_colors_21->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6557 = *dpR_23;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6558 = *dpt_22;
    float3  _S6559 = make_float3 (0.0f);
    float3  mean_c_62 = s_primal_ctx_mul_0((*dpR_23).primal_0, (*dpmean_23).primal_0) + (*dpt_22).primal_0;
    float3  _S6560 = s_primal_ctx_exp_0((*dpscale_22).primal_0);
    float _S6561 = (*dpquat_22).primal_0.y;
    float x2_68 = _S6561 * _S6561;
    float y2_68 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.z;
    float z2_83 = (*dpquat_22).primal_0.w * (*dpquat_22).primal_0.w;
    float xy_68 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.z;
    float xz_68 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.w;
    float yz_68 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.w;
    float wx_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.y;
    float wy_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.z;
    float wz_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.w;
    Matrix<float, 3, 3>  _S6562 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_68 + z2_83), 2.0f * (xy_68 + wz_68), 2.0f * (xz_68 - wy_68), 2.0f * (xy_68 - wz_68), 1.0f - 2.0f * (x2_68 + z2_83), 2.0f * (yz_68 + wx_68), 2.0f * (xz_68 + wy_68), 2.0f * (yz_68 - wx_68), 1.0f - 2.0f * (x2_68 + y2_68))));
    FixedArray<float3 , 7>  _S6563 = {
        _S6559, _S6559, _S6559, _S6559, _S6559, _S6559, _S6559
    };
    FixedArray<float, 7>  _S6564 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6565;
    (&_S6565)->p_0 = _S6563;
    (&_S6565)->w_mean_0 = _S6564;
    (&_S6565)->w_cov_0 = _S6564;
    (&_S6565)->p_0[int(0)] = (*dpmean_23).primal_0;
    float _S6566 = s_primal_ctx_sqrt_0(3.0f);
    float _S6567 = _S6566 * _S6560.x;
    float3  _S6568 = make_float3 (_S6567);
    float3  delta_159 = make_float3 (_S6567) * _S6562.rows[0U];
    float3  _S6569 = (*dpmean_23).primal_0 + delta_159;
    float3  _S6570 = (*dpmean_23).primal_0 - delta_159;
    float _S6571 = _S6566 * _S6560.y;
    float3  _S6572 = make_float3 (_S6571);
    float3  delta_160 = make_float3 (_S6571) * _S6562.rows[1U];
    float3  _S6573 = (*dpmean_23).primal_0 + delta_160;
    float3  _S6574 = (*dpmean_23).primal_0 - delta_160;
    float _S6575 = _S6566 * _S6560.z;
    float3  _S6576 = make_float3 (_S6575);
    float3  delta_161 = make_float3 (_S6575) * _S6562.rows[2U];
    float3  _S6577 = (*dpmean_23).primal_0 + delta_161;
    float3  _S6578 = (*dpmean_23).primal_0 - delta_161;
    SigmaPoints_0 _S6579 = _S6565;
    float _S6580 = *&(((&_s_diff_ctx_35->_S6504)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_35->_S6504)->rows + (int(1)))->x);
    float det_orig_63 = *&(((&_s_diff_ctx_35->_S6504)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_35->_S6504)->rows + (int(1)))->y) - _S6580;
    float _S6581 = *&(((&_s_diff_ctx_35->_S6504)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6582 = _s_diff_ctx_35->_S6504;
    *&(((&_S6582)->rows + (int(0)))->x) = _S6581;
    float _S6583 = *&(((&_s_diff_ctx_35->_S6504)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6582)->rows + (int(1)))->y) = _S6583;
    Matrix<float, 2, 2>  _S6584 = _S6582;
    Matrix<float, 2, 2>  _S6585 = _S6582;
    float det_blur_35 = _S6581 * _S6583 - _S6580;
    float _S6586 = det_orig_63 / det_blur_35;
    float _S6587 = det_blur_35 * det_blur_35;
    float _S6588 = s_primal_ctx_max_0(0.0f, _S6586);
    float _S6589 = s_primal_ctx_sqrt_0(_S6588);
    float _S6590 = - (*dpin_opacity_21).primal_0;
    float _S6591 = 1.0f + s_primal_ctx_exp_1(_S6590);
    float _S6592 = 1.0f / _S6591;
    float _S6593 = _S6591 * _S6591;
    float _S6594;
    if(antialiased_72)
    {
        _S6594 = _S6592 * _S6589;
    }
    else
    {
        _S6594 = _S6592;
    }
    float _S6595 = _S6594 / 0.00392156885936856f;
    float _S6596 = 2.0f * s_primal_ctx_log_0(_S6595);
    float _S6597 = s_primal_ctx_sqrt_0(_S6596);
    float _S6598 = _S6584.rows[int(0)].x;
    float _S6599 = _S6585.rows[int(1)].y;
    float _S6600 = s_primal_ctx_dot_0(mean_c_62, mean_c_62) + 9.99999997475242708e-07f;
    float3  _S6601 = - _S6554.primal_0;
    Matrix<float, 3, 3>  _S6602 = transpose_0(_S6557.primal_0);
    float3  _S6603 = _S6552.primal_0 - - s_primal_ctx_mul_0(_S6602, _S6558.primal_0);
    float _S6604 = s_primal_ctx_dot_0(_S6603, _S6603);
    float _S6605 = s_primal_ctx_rsqrt_0(_S6604);
    float3  _S6606 = make_float3 (_S6605);
    float3  _S6607 = _S6603 * make_float3 (_S6605);
    float _S6608 = s_primal_ctx_dot_0(_S6555[int(6)], _S6607);
    float _S6609 = s_primal_ctx_dot_0(_S6555[int(0)], _S6607) - _S6608;
    float _S6610 = s_primal_ctx_exp_1(_S6609);
    float3  _S6611 = make_float3 (_S6610);
    float _S6612 = s_primal_ctx_dot_0(_S6555[int(1)], _S6607) - _S6608;
    float _S6613 = s_primal_ctx_exp_1(_S6612);
    float3  _S6614 = make_float3 (_S6613);
    float _S6615 = s_primal_ctx_dot_0(_S6555[int(2)], _S6607) - _S6608;
    float _S6616 = s_primal_ctx_exp_1(_S6615);
    float3  _S6617 = make_float3 (_S6616);
    float _S6618 = s_primal_ctx_dot_0(_S6555[int(3)], _S6607) - _S6608;
    float _S6619 = s_primal_ctx_exp_1(_S6618);
    float3  _S6620 = make_float3 (_S6619);
    float _S6621 = s_primal_ctx_dot_0(_S6555[int(4)], _S6607) - _S6608;
    float _S6622 = s_primal_ctx_exp_1(_S6621);
    float3  _S6623 = make_float3 (_S6622);
    float _S6624 = s_primal_ctx_dot_0(_S6555[int(5)], _S6607) - _S6608;
    float _S6625 = s_primal_ctx_exp_1(_S6624);
    float3  _S6626 = make_float3 (_S6625);
    float _S6627 = s_primal_ctx_exp_1(0.0f);
    float3  _S6628 = make_float3 (_S6627);
    float total_w_10 = _S6610 + _S6613 + _S6616 + _S6619 + _S6622 + _S6625 + _S6627;
    float3  _S6629 = make_float3 (total_w_10);
    float3  total_c_10 = make_float3 (_S6610) * _S6556[int(0)] + make_float3 (_S6613) * _S6556[int(1)] + make_float3 (_S6616) * _S6556[int(2)] + make_float3 (_S6619) * _S6556[int(3)] + make_float3 (_S6622) * _S6556[int(4)] + make_float3 (_S6625) * _S6556[int(5)] + make_float3 (_S6627) * _S6556[int(6)];
    float3  _S6630 = make_float3 (total_w_10 * total_w_10);
    float3  _S6631 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6632;
    (&_S6632)->primal_0 = total_c_10 / make_float3 (total_w_10) + make_float3 (0.5f);
    (&_S6632)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6633;
    (&_S6633)->primal_0 = _S6631;
    (&_S6633)->differential_0 = _S6559;
    s_bwd_prop_max_0(&_S6632, &_S6633, dprgb_22);
    float3  _S6634 = _S6632.differential_0 / _S6630;
    float3  _S6635 = total_c_10 * - _S6634;
    float3  s_diff_total_c_T_10 = _S6629 * _S6634;
    float3  _S6636 = _S6628 * s_diff_total_c_T_10;
    float _S6637 = _S6635.x + _S6635.y + _S6635.z;
    float3  _S6638 = _S6626 * s_diff_total_c_T_10;
    float3  _S6639 = _S6556[int(5)] * s_diff_total_c_T_10;
    float _S6640 = _S6637 + _S6639.x + _S6639.y + _S6639.z;
    DiffPair_float_0 _S6641;
    (&_S6641)->primal_0 = _S6624;
    (&_S6641)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6641, _S6640);
    float _S6642 = - _S6641.differential_0;
    float3  _S6643 = _S6623 * s_diff_total_c_T_10;
    float3  _S6644 = _S6556[int(4)] * s_diff_total_c_T_10;
    float _S6645 = _S6637 + _S6644.x + _S6644.y + _S6644.z;
    DiffPair_float_0 _S6646;
    (&_S6646)->primal_0 = _S6621;
    (&_S6646)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6646, _S6645);
    float _S6647 = - _S6646.differential_0;
    float3  _S6648 = _S6620 * s_diff_total_c_T_10;
    float3  _S6649 = _S6556[int(3)] * s_diff_total_c_T_10;
    float _S6650 = _S6637 + _S6649.x + _S6649.y + _S6649.z;
    DiffPair_float_0 _S6651;
    (&_S6651)->primal_0 = _S6618;
    (&_S6651)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6651, _S6650);
    float _S6652 = - _S6651.differential_0;
    float3  _S6653 = _S6617 * s_diff_total_c_T_10;
    float3  _S6654 = _S6556[int(2)] * s_diff_total_c_T_10;
    float _S6655 = _S6637 + _S6654.x + _S6654.y + _S6654.z;
    DiffPair_float_0 _S6656;
    (&_S6656)->primal_0 = _S6615;
    (&_S6656)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6656, _S6655);
    float _S6657 = - _S6656.differential_0;
    float3  _S6658 = _S6614 * s_diff_total_c_T_10;
    float3  _S6659 = _S6556[int(1)] * s_diff_total_c_T_10;
    float _S6660 = _S6637 + _S6659.x + _S6659.y + _S6659.z;
    DiffPair_float_0 _S6661;
    (&_S6661)->primal_0 = _S6612;
    (&_S6661)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6661, _S6660);
    float _S6662 = - _S6661.differential_0;
    float3  _S6663 = _S6611 * s_diff_total_c_T_10;
    float3  _S6664 = _S6556[int(0)] * s_diff_total_c_T_10;
    float _S6665 = _S6637 + _S6664.x + _S6664.y + _S6664.z;
    DiffPair_float_0 _S6666;
    (&_S6666)->primal_0 = _S6609;
    (&_S6666)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6666, _S6665);
    float _S6667 = _S6642 + _S6647 + _S6652 + _S6657 + _S6662 + - _S6666.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6668;
    (&_S6668)->primal_0 = _S6555[int(6)];
    (&_S6668)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6669;
    (&_S6669)->primal_0 = _S6607;
    (&_S6669)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6668, &_S6669, _S6667);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6670;
    (&_S6670)->primal_0 = _S6555[int(5)];
    (&_S6670)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6671;
    (&_S6671)->primal_0 = _S6607;
    (&_S6671)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6670, &_S6671, _S6641.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6672;
    (&_S6672)->primal_0 = _S6555[int(4)];
    (&_S6672)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6673;
    (&_S6673)->primal_0 = _S6607;
    (&_S6673)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6672, &_S6673, _S6646.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6674;
    (&_S6674)->primal_0 = _S6555[int(3)];
    (&_S6674)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6675;
    (&_S6675)->primal_0 = _S6607;
    (&_S6675)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6674, &_S6675, _S6651.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6676;
    (&_S6676)->primal_0 = _S6555[int(2)];
    (&_S6676)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6677;
    (&_S6677)->primal_0 = _S6607;
    (&_S6677)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6676, &_S6677, _S6656.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6678;
    (&_S6678)->primal_0 = _S6555[int(1)];
    (&_S6678)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6679;
    (&_S6679)->primal_0 = _S6607;
    (&_S6679)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6678, &_S6679, _S6661.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6680;
    (&_S6680)->primal_0 = _S6555[int(0)];
    (&_S6680)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6681;
    (&_S6681)->primal_0 = _S6607;
    (&_S6681)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6680, &_S6681, _S6666.differential_0);
    float3  _S6682 = _S6669.differential_0 + _S6671.differential_0 + _S6673.differential_0 + _S6675.differential_0 + _S6677.differential_0 + _S6679.differential_0 + _S6681.differential_0;
    float3  _S6683 = _S6603 * _S6682;
    float3  _S6684 = _S6606 * _S6682;
    float _S6685 = _S6683.x + _S6683.y + _S6683.z;
    DiffPair_float_0 _S6686;
    (&_S6686)->primal_0 = _S6604;
    (&_S6686)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6686, _S6685);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6687;
    (&_S6687)->primal_0 = _S6603;
    (&_S6687)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6688;
    (&_S6688)->primal_0 = _S6603;
    (&_S6688)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6687, &_S6688, _S6686.differential_0);
    float3  _S6689 = _S6684 + _S6688.differential_0 + _S6687.differential_0;
    float3  _S6690 = - - _S6689;
    Matrix<float, 3, 3>  _S6691 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6692;
    (&_S6692)->primal_0 = _S6602;
    (&_S6692)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6693;
    (&_S6693)->primal_0 = _S6558.primal_0;
    (&_S6693)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6692, &_S6693, _S6690);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6694 = _S6693;
    Matrix<float, 3, 3>  _S6695 = transpose_0(_S6692.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6696;
    (&_S6696)->primal_0 = _S6601;
    (&_S6696)->differential_0 = _S6559;
    s_bwd_prop_exp_1(&_S6696, dpconic_21);
    float3  _S6697 = - _S6696.differential_0;
    float _S6698 = 0.5f * dpdepth_22;
    DiffPair_float_0 _S6699;
    (&_S6699)->primal_0 = _S6600;
    (&_S6699)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6699, _S6698);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6700;
    (&_S6700)->primal_0 = mean_c_62;
    (&_S6700)->differential_0 = _S6559;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6701;
    (&_S6701)->primal_0 = mean_c_62;
    (&_S6701)->differential_0 = _S6559;
    s_bwd_prop_dot_0(&_S6700, &_S6701, _S6699.differential_0);
    DiffPair_float_0 _S6702;
    (&_S6702)->primal_0 = _S6599;
    (&_S6702)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6702, 0.0f);
    DiffPair_float_0 _S6703;
    (&_S6703)->primal_0 = _S6598;
    (&_S6703)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6703, 0.0f);
    DiffPair_float_0 _S6704;
    (&_S6704)->primal_0 = 3.32999992370605469f;
    (&_S6704)->differential_0 = 0.0f;
    DiffPair_float_0 _S6705;
    (&_S6705)->primal_0 = _S6597;
    (&_S6705)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6704, &_S6705, 0.0f);
    DiffPair_float_0 _S6706;
    (&_S6706)->primal_0 = _S6596;
    (&_S6706)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6706, _S6705.differential_0);
    float _S6707 = 2.0f * _S6706.differential_0;
    DiffPair_float_0 _S6708;
    (&_S6708)->primal_0 = _S6595;
    (&_S6708)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6708, _S6707);
    float _S6709 = dpopacity_23 + 254.9999847412109375f * _S6708.differential_0;
    FixedArray<float3 , 7>  _S6710;
    _S6710[int(0)] = _S6559;
    _S6710[int(1)] = _S6559;
    _S6710[int(2)] = _S6559;
    _S6710[int(3)] = _S6559;
    _S6710[int(4)] = _S6559;
    _S6710[int(5)] = _S6559;
    _S6710[int(6)] = _S6559;
    _S6710[int(6)] = _S6636;
    _S6710[int(5)] = _S6638;
    _S6710[int(4)] = _S6643;
    _S6710[int(3)] = _S6648;
    _S6710[int(2)] = _S6653;
    _S6710[int(1)] = _S6658;
    _S6710[int(0)] = _S6663;
    FixedArray<float3 , 7>  _S6711 = {
        _S6710[int(0)], _S6710[int(1)], _S6710[int(2)], _S6710[int(3)], _S6710[int(4)], _S6710[int(5)], _S6710[int(6)]
    };
    FixedArray<float3 , 7>  _S6712;
    _S6712[int(0)] = _S6559;
    _S6712[int(1)] = _S6559;
    _S6712[int(2)] = _S6559;
    _S6712[int(3)] = _S6559;
    _S6712[int(4)] = _S6559;
    _S6712[int(5)] = _S6559;
    _S6712[int(6)] = _S6559;
    _S6712[int(6)] = _S6668.differential_0;
    _S6712[int(5)] = _S6670.differential_0;
    _S6712[int(4)] = _S6672.differential_0;
    _S6712[int(3)] = _S6674.differential_0;
    _S6712[int(2)] = _S6676.differential_0;
    _S6712[int(1)] = _S6678.differential_0;
    _S6712[int(0)] = _S6680.differential_0;
    FixedArray<float3 , 7>  _S6713 = {
        _S6712[int(0)], _S6712[int(1)], _S6712[int(2)], _S6712[int(3)], _S6712[int(4)], _S6712[int(5)], _S6712[int(6)]
    };
    float3  _S6714 = _S6701.differential_0 + _S6700.differential_0;
    float2  _S6715 = make_float2 (0.0f, _S6702.differential_0);
    float2  _S6716 = make_float2 (_S6703.differential_0, 0.0f);
    float _S6717;
    if(antialiased_72)
    {
        float _S6718 = _S6592 * _S6709;
        _S6594 = _S6589 * _S6709;
        _S6717 = _S6718;
    }
    else
    {
        _S6594 = _S6709;
        _S6717 = 0.0f;
    }
    float _S6719 = - (_S6594 / _S6593);
    DiffPair_float_0 _S6720;
    (&_S6720)->primal_0 = _S6590;
    (&_S6720)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6720, _S6719);
    float _S6721 = - _S6720.differential_0;
    DiffPair_float_0 _S6722;
    (&_S6722)->primal_0 = _S6588;
    (&_S6722)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6722, _S6717);
    DiffPair_float_0 _S6723;
    (&_S6723)->primal_0 = 0.0f;
    (&_S6723)->differential_0 = 0.0f;
    DiffPair_float_0 _S6724;
    (&_S6724)->primal_0 = _S6586;
    (&_S6724)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6723, &_S6724, _S6722.differential_0);
    float _S6725 = _S6724.differential_0 / _S6587;
    float s_diff_det_blur_T_12 = det_orig_63 * - _S6725;
    float s_diff_det_orig_T_15 = det_blur_35 * _S6725;
    float _S6726 = - s_diff_det_blur_T_12;
    float _S6727 = _S6581 * s_diff_det_blur_T_12;
    float _S6728 = _S6583 * s_diff_det_blur_T_12;
    Matrix<float, 2, 2>  _S6729 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6730 = _S6729;
    _S6730[int(1)] = _S6715;
    _S6730[int(0)] = _S6716;
    float _S6731 = _S6728 + _S6730.rows[int(0)].x;
    float _S6732 = _S6726 + - s_diff_det_orig_T_15;
    float _S6733 = *&(((&_s_diff_ctx_35->_S6504)->rows + (int(0)))->y) * _S6732;
    float _S6734 = *&(((&_s_diff_ctx_35->_S6504)->rows + (int(1)))->x) * _S6732;
    float _S6735 = *&(((&_s_diff_ctx_35->_S6504)->rows + (int(1)))->y) * s_diff_det_orig_T_15;
    float _S6736 = _S6727 + _S6730.rows[int(1)].y + *&(((&_s_diff_ctx_35->_S6504)->rows + (int(0)))->x) * s_diff_det_orig_T_15;
    float2  _S6737 = make_float2 (0.0f);
    float2  _S6738 = _S6737;
    *&((&_S6738)->x) = _S6733;
    *&((&_S6738)->y) = _S6736;
    float _S6739 = _S6731 + _S6735;
    float2  _S6740 = _S6737;
    *&((&_S6740)->y) = _S6734;
    *&((&_S6740)->x) = _S6739;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6741;
    (&_S6741)->primal_0 = _S6557.primal_0;
    (&_S6741)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6742;
    (&_S6742)->primal_0 = _S6578;
    (&_S6742)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6741, &_S6742, _S6559);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6743;
    (&_S6743)->primal_0 = _S6557.primal_0;
    (&_S6743)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6744;
    (&_S6744)->primal_0 = _S6574;
    (&_S6744)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6743, &_S6744, _S6559);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6745;
    (&_S6745)->primal_0 = _S6557.primal_0;
    (&_S6745)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6746;
    (&_S6746)->primal_0 = _S6570;
    (&_S6746)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6745, &_S6746, _S6559);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6747;
    (&_S6747)->primal_0 = _S6557.primal_0;
    (&_S6747)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6748;
    (&_S6748)->primal_0 = _S6577;
    (&_S6748)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6747, &_S6748, _S6559);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6749;
    (&_S6749)->primal_0 = _S6557.primal_0;
    (&_S6749)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6750;
    (&_S6750)->primal_0 = _S6573;
    (&_S6750)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6749, &_S6750, _S6559);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6751;
    (&_S6751)->primal_0 = _S6557.primal_0;
    (&_S6751)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6752;
    (&_S6752)->primal_0 = _S6569;
    (&_S6752)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6751, &_S6752, _S6559);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6753;
    (&_S6753)->primal_0 = _S6557.primal_0;
    (&_S6753)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6754;
    (&_S6754)->primal_0 = _S6579.p_0[0U];
    (&_S6754)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6753, &_S6754, _S6559);
    float3  _S6755 = - _S6742.differential_0 + _S6748.differential_0;
    float3  _S6756 = _S6576 * _S6755;
    float3  _S6757 = _S6562.rows[2U] * _S6755;
    float _S6758 = _S6566 * (_S6757.x + _S6757.y + _S6757.z);
    float3  _S6759 = - _S6744.differential_0 + _S6750.differential_0;
    float3  _S6760 = _S6572 * _S6759;
    float3  _S6761 = _S6562.rows[1U] * _S6759;
    float _S6762 = _S6566 * (_S6761.x + _S6761.y + _S6761.z);
    float3  _S6763 = - _S6746.differential_0 + _S6752.differential_0;
    float3  _S6764 = _S6568 * _S6763;
    float3  _S6765 = _S6562.rows[0U] * _S6763;
    float _S6766 = _S6566 * (_S6765.x + _S6765.y + _S6765.z);
    Matrix<float, 3, 3>  _S6767 = _S6691;
    _S6767[2U] = _S6756;
    _S6767[1U] = _S6760;
    _S6767[0U] = _S6764;
    Matrix<float, 3, 3>  _S6768 = transpose_0(transpose_0(_S6767));
    float _S6769 = 2.0f * - _S6768.rows[int(2)].z;
    float _S6770 = 2.0f * _S6768.rows[int(2)].y;
    float _S6771 = 2.0f * _S6768.rows[int(2)].x;
    float _S6772 = 2.0f * _S6768.rows[int(1)].z;
    float _S6773 = 2.0f * - _S6768.rows[int(1)].y;
    float _S6774 = 2.0f * _S6768.rows[int(1)].x;
    float _S6775 = 2.0f * _S6768.rows[int(0)].z;
    float _S6776 = 2.0f * _S6768.rows[int(0)].y;
    float _S6777 = 2.0f * - _S6768.rows[int(0)].x;
    float _S6778 = - _S6774 + _S6776;
    float _S6779 = _S6771 + - _S6775;
    float _S6780 = - _S6770 + _S6772;
    float _S6781 = _S6770 + _S6772;
    float _S6782 = _S6771 + _S6775;
    float _S6783 = _S6774 + _S6776;
    float _S6784 = _S6553.primal_0.w * (_S6773 + _S6777);
    float _S6785 = _S6553.primal_0.z * (_S6769 + _S6777);
    float _S6786 = _S6553.primal_0.y * (_S6769 + _S6773);
    float _S6787 = _S6553.primal_0.x * _S6778 + _S6553.primal_0.z * _S6781 + _S6553.primal_0.y * _S6782 + _S6784 + _S6784;
    float _S6788 = _S6553.primal_0.x * _S6779 + _S6553.primal_0.w * _S6781 + _S6553.primal_0.y * _S6783 + _S6785 + _S6785;
    float _S6789 = _S6553.primal_0.x * _S6780 + _S6553.primal_0.w * _S6782 + _S6553.primal_0.z * _S6783 + _S6786 + _S6786;
    float _S6790 = _S6553.primal_0.w * _S6778 + _S6553.primal_0.z * _S6779 + _S6553.primal_0.y * _S6780;
    float3  _S6791 = _S6559;
    *&((&_S6791)->z) = _S6758;
    *&((&_S6791)->y) = _S6762;
    *&((&_S6791)->x) = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6792;
    (&_S6792)->primal_0 = _S6554.primal_0;
    (&_S6792)->differential_0 = _S6559;
    s_bwd_prop_exp_1(&_S6792, _S6791);
    Matrix<float, 2, 2>  _S6793 = _S6729;
    _S6793[int(1)] = _S6738;
    _S6793[int(0)] = _S6740;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6794;
    (&_S6794)->primal_0 = _S6557.primal_0;
    (&_S6794)->differential_0 = _S6691;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6795;
    (&_S6795)->primal_0 = _S6552.primal_0;
    (&_S6795)->differential_0 = _S6559;
    s_bwd_prop_mul_1(&_S6794, &_S6795, _S6714);
    float3  _S6796 = _S6714 + _S6694.differential_0;
    dpt_22->primal_0 = (*dpt_22).primal_0;
    dpt_22->differential_0 = _S6796;
    Matrix<float, 3, 3>  _S6797 = _S6741.differential_0 + _S6743.differential_0 + _S6745.differential_0 + _S6747.differential_0 + _S6749.differential_0 + _S6751.differential_0 + _S6753.differential_0 + _S6794.differential_0 + _S6695;
    dpR_23->primal_0 = (*dpR_23).primal_0;
    dpR_23->differential_0 = _S6797;
    dpsv_colors_21->primal_0 = dpsv_colors_21->primal_0;
    dpsv_colors_21->differential_0 = _S6711;
    dpsv_sites_21->primal_0 = dpsv_sites_21->primal_0;
    dpsv_sites_21->differential_0 = _S6713;
    dpin_opacity_21->primal_0 = (*dpin_opacity_21).primal_0;
    dpin_opacity_21->differential_0 = _S6721;
    float3  _S6798 = _S6792.differential_0 + _S6697;
    dpscale_22->primal_0 = (*dpscale_22).primal_0;
    dpscale_22->differential_0 = _S6798;
    float4  _S6799 = make_float4 (0.0f);
    *&((&_S6799)->w) = _S6787;
    *&((&_S6799)->z) = _S6788;
    *&((&_S6799)->y) = _S6789;
    *&((&_S6799)->x) = _S6790;
    dpquat_22->primal_0 = (*dpquat_22).primal_0;
    dpquat_22->differential_0 = _S6799;
    float3  _S6800 = _S6742.differential_0 + _S6748.differential_0 + _S6744.differential_0 + _S6750.differential_0 + _S6746.differential_0 + _S6752.differential_0 + _S6795.differential_0 + _S6689;
    dpmean_23->primal_0 = (*dpmean_23).primal_0;
    dpmean_23->differential_0 = _S6800;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_5(bool _S6801, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6802, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6803, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6804, DiffPair_float_0 * _S6805, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S6806, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S6807, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6808, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6809, float _S6810, float _S6811, float _S6812, float _S6813, FixedArray<float, 10>  * _S6814, uint _S6815, uint _S6816, float _S6817, float _S6818, float2  _S6819, float _S6820, float3  _S6821, float _S6822, float3  _S6823)
{
    FixedArray<float3 , 7>  _S6824 = _S6806->primal_0;
    FixedArray<float3 , 7>  _S6825 = _S6807->primal_0;
    int4  _S6826;
    float2  _S6827;
    float _S6828;
    float3  _S6829;
    float _S6830;
    float3  _S6831;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S6832;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(_S6801, (*_S6802).primal_0, (*_S6803).primal_0, (*_S6804).primal_0, (*_S6805).primal_0, &_S6824, &_S6825, (*_S6808).primal_0, (*_S6809).primal_0, _S6810, _S6811, _S6812, _S6813, _S6814, _S6815, _S6816, _S6817, _S6818, &_S6826, &_S6827, &_S6828, &_S6829, &_S6830, &_S6831, &_S6832);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S6833 = _S6832;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(_S6801, _S6802, _S6803, _S6804, _S6805, _S6806, _S6807, _S6808, _S6809, _S6810, _S6811, _S6812, _S6813, _S6814, _S6815, _S6816, _S6817, _S6818, _S6819, _S6820, _S6821, _S6822, _S6823, &_S6833);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_73, float3  mean_56, float4  quat_57, float3  scale_56, float in_opacity_51, FixedArray<float3 , 7>  * sv_sites_36, FixedArray<float3 , 7>  * sv_colors_36, Matrix<float, 3, 3>  R_58, float3  t_54, float fx_82, float fy_82, float cx_77, float cy_77, FixedArray<float, 10>  * dist_coeffs_86, uint image_width_73, uint image_height_73, float2  v_mean2d_15, float v_depth_16, float3  v_conic_15, float v_opacity_17, float3  v_rgb_16, float3  * v_mean_17, float4  * v_quat_16, float3  * v_scale_16, float * v_in_opacity_15, FixedArray<float3 , 7>  * v_sv_dirs_10, FixedArray<float3 , 7>  * v_sv_colors_10, Matrix<float, 3, 3>  * v_R_17, float3  * v_t_16)
{
    float3  _S6834 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_12;
    (&dp_mean_12)->primal_0 = mean_56;
    (&dp_mean_12)->differential_0 = _S6834;
    float4  _S6835 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_11;
    (&dp_quat_11)->primal_0 = quat_57;
    (&dp_quat_11)->differential_0 = _S6835;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_11;
    (&dp_scale_11)->primal_0 = scale_56;
    (&dp_scale_11)->differential_0 = _S6834;
    DiffPair_float_0 dp_in_opacity_10;
    (&dp_in_opacity_10)->primal_0 = in_opacity_51;
    (&dp_in_opacity_10)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S6836 = { _S6834, _S6834, _S6834, _S6834, _S6834, _S6834, _S6834 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_10;
    (&dp_sv_dirs_10)->primal_0 = *sv_sites_36;
    (&dp_sv_dirs_10)->differential_0 = _S6836;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_10;
    (&dp_sv_colors_10)->primal_0 = *sv_colors_36;
    (&dp_sv_colors_10)->differential_0 = _S6836;
    Matrix<float, 3, 3>  _S6837 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_12;
    (&dp_R_12)->primal_0 = R_58;
    (&dp_R_12)->differential_0 = _S6837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_11;
    (&dp_t_11)->primal_0 = t_54;
    (&dp_t_11)->differential_0 = _S6834;
    s_bwd_projection_3dgut_sv_persp_differentiable_5(antialiased_73, &dp_mean_12, &dp_quat_11, &dp_scale_11, &dp_in_opacity_10, &dp_sv_dirs_10, &dp_sv_colors_10, &dp_R_12, &dp_t_11, fx_82, fy_82, cx_77, cy_77, dist_coeffs_86, image_width_73, image_height_73, 0.0f, 1.00000001504746622e+30f, v_mean2d_15, v_depth_16, v_conic_15, v_opacity_17, v_rgb_16);
    *v_mean_17 = dp_mean_12.differential_0;
    *v_quat_16 = dp_quat_11.differential_0;
    *v_scale_16 = dp_scale_11.differential_0;
    *v_in_opacity_15 = dp_in_opacity_10.differential_0;
    *v_sv_dirs_10 = (&dp_sv_dirs_10)->differential_0;
    *v_sv_colors_10 = (&dp_sv_colors_10)->differential_0;
    *v_R_17 = dp_R_12.differential_0;
    *v_t_16 = dp_t_11.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S6838;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_74, float3  dpmean_24, float4  dpquat_23, float3  dpscale_23, float dpin_opacity_22, FixedArray<float3 , 7>  * dpsv_sites_22, FixedArray<float3 , 7>  * dpsv_colors_22, Matrix<float, 3, 3>  dpR_24, float3  dpt_23, float fx_83, float fy_83, float cx_78, float cy_78, FixedArray<float, 10>  * dist_coeffs_87, uint image_width_74, uint image_height_74, float near_plane_58, float far_plane_58, int4  * aabb_xyxy_47, float2  * dpmean2d_24, float * dpdepth_23, float3  * dpconic_22, float * dpopacity_24, float3  * dprgb_23, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_36)
{
    Matrix<float, 2, 2>  _S6839 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_36->_S6838 = _S6839;
    float2  _S6840 = make_float2 (0.0f);
    float3  _S6841 = make_float3 (0.0f);
    float3  mean_c_63 = s_primal_ctx_mul_0(dpR_24, dpmean_24) + dpt_23;
    float4  intrins_51 = make_float4 (fx_83, fy_83, cx_78, cy_78);
    float3  _S6842 = s_primal_ctx_exp_0(dpscale_23);
    float _S6843 = dpquat_23.y;
    float x2_69 = _S6843 * _S6843;
    float y2_69 = dpquat_23.z * dpquat_23.z;
    float z2_84 = dpquat_23.w * dpquat_23.w;
    float xy_69 = dpquat_23.y * dpquat_23.z;
    float xz_69 = dpquat_23.y * dpquat_23.w;
    float yz_69 = dpquat_23.z * dpquat_23.w;
    float wx_69 = dpquat_23.x * dpquat_23.y;
    float wy_69 = dpquat_23.x * dpquat_23.z;
    float wz_69 = dpquat_23.x * dpquat_23.w;
    Matrix<float, 3, 3>  _S6844 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_69 + z2_84), 2.0f * (xy_69 + wz_69), 2.0f * (xz_69 - wy_69), 2.0f * (xy_69 - wz_69), 1.0f - 2.0f * (x2_69 + z2_84), 2.0f * (yz_69 + wx_69), 2.0f * (xz_69 + wy_69), 2.0f * (yz_69 - wx_69), 1.0f - 2.0f * (x2_69 + y2_69))));
    FixedArray<float3 , 7>  _S6845 = {
        _S6841, _S6841, _S6841, _S6841, _S6841, _S6841, _S6841
    };
    FixedArray<float, 7>  _S6846 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6847;
    (&_S6847)->p_0 = _S6845;
    (&_S6847)->w_mean_0 = _S6846;
    (&_S6847)->w_cov_0 = _S6846;
    (&_S6847)->p_0[int(0)] = dpmean_24;
    SigmaPoints_0 _S6848 = _S6847;
    (&_S6848)->w_mean_0[int(0)] = 0.0f;
    (&_S6848)->w_cov_0[int(0)] = 2.0f;
    float _S6849 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_162 = make_float3 (_S6849 * _S6842.x) * _S6844.rows[0U];
    float3  _S6850 = dpmean_24 + delta_162;
    float3  _S6851 = dpmean_24 - delta_162;
    float3  delta_163 = make_float3 (_S6849 * _S6842.y) * _S6844.rows[1U];
    float3  _S6852 = dpmean_24 + delta_163;
    float3  _S6853 = dpmean_24 - delta_163;
    float3  delta_164 = make_float3 (_S6849 * _S6842.z) * _S6844.rows[2U];
    float3  _S6854 = dpmean_24 + delta_164;
    float3  _S6855 = dpmean_24 - delta_164;
    (&_S6848)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6848)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6848)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6848)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6848)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6848)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6848)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6848)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6848)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6848)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6848)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6848)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6848)->p_0[0U] = s_primal_ctx_mul_0(dpR_24, _S6847.p_0[0U]) + dpt_23;
    (&_S6848)->p_0[1U] = s_primal_ctx_mul_0(dpR_24, _S6850) + dpt_23;
    (&_S6848)->p_0[2U] = s_primal_ctx_mul_0(dpR_24, _S6852) + dpt_23;
    (&_S6848)->p_0[3U] = s_primal_ctx_mul_0(dpR_24, _S6854) + dpt_23;
    (&_S6848)->p_0[4U] = s_primal_ctx_mul_0(dpR_24, _S6851) + dpt_23;
    (&_S6848)->p_0[5U] = s_primal_ctx_mul_0(dpR_24, _S6853) + dpt_23;
    (&_S6848)->p_0[6U] = s_primal_ctx_mul_0(dpR_24, _S6855) + dpt_23;
    float2  _S6856 = _S6840;
    Matrix<float, 2, 2>  _S6857 = _S6839;
    SigmaPoints_0 _S6858 = _S6848;
    bool _S6859 = fisheye_proj_3dgs_ut_1(&_S6858, intrins_51, dist_coeffs_87, &_S6857, &_S6856);
    _s_diff_ctx_36->_S6838 = _S6857;
    float2  _S6860 = _S6856;
    float _S6861 = _S6857.rows[int(0)].y * _S6857.rows[int(1)].x;
    float det_orig_64 = _S6857.rows[int(0)].x * _S6857.rows[int(1)].y - _S6861;
    float _S6862 = _S6857.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6863 = _S6857;
    *&(((&_S6863)->rows + (int(0)))->x) = _S6862;
    float _S6864 = _S6857.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6863)->rows + (int(1)))->y) = _S6864;
    Matrix<float, 2, 2>  _S6865 = _S6863;
    Matrix<float, 2, 2>  _S6866 = _S6863;
    float _S6867 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_64 / (_S6862 * _S6864 - _S6861)));
    float _S6868 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_22));
    float _S6869;
    if(antialiased_74)
    {
        _S6869 = _S6868 * _S6867;
    }
    else
    {
        _S6869 = _S6868;
    }
    float _S6870 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6869 / 0.00392156885936856f)));
    float radius_x_47 = _S6870 * s_primal_ctx_sqrt_0(_S6865.rows[int(0)].x);
    float radius_y_47 = _S6870 * s_primal_ctx_sqrt_0(_S6866.rows[int(1)].y);
    float _S6871 = _S6860.x;
    float _S6872 = _S6860.y;
    float _S6873 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_63, mean_c_63) + 9.99999997475242708e-07f);
    float3  _S6874 = s_primal_ctx_exp_0(- dpscale_23);
    float3  _S6875 = dpmean_24 - - s_primal_ctx_mul_0(transpose_0(dpR_24), dpt_23);
    float3  _S6876 = _S6875 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6875, _S6875)));
    float _S6877 = s_primal_ctx_dot_0((*dpsv_sites_22)[int(6)], _S6876);
    float _S6878 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(0)], _S6876) - _S6877);
    float _S6879 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(1)], _S6876) - _S6877);
    float _S6880 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(2)], _S6876) - _S6877);
    float _S6881 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(3)], _S6876) - _S6877);
    float _S6882 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(4)], _S6876) - _S6877);
    float _S6883 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(5)], _S6876) - _S6877);
    float _S6884 = s_primal_ctx_exp_1(0.0f);
    float3  _S6885 = s_primal_ctx_max_1((make_float3 (_S6878) * (*dpsv_colors_22)[int(0)] + make_float3 (_S6879) * (*dpsv_colors_22)[int(1)] + make_float3 (_S6880) * (*dpsv_colors_22)[int(2)] + make_float3 (_S6881) * (*dpsv_colors_22)[int(3)] + make_float3 (_S6882) * (*dpsv_colors_22)[int(4)] + make_float3 (_S6883) * (*dpsv_colors_22)[int(5)] + make_float3 (_S6884) * (*dpsv_colors_22)[int(6)]) / make_float3 (_S6878 + _S6879 + _S6880 + _S6881 + _S6882 + _S6883 + _S6884) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_47 = make_int4 (int((F32_floor((_S6871 - radius_x_47)))), int((F32_floor((_S6872 - radius_y_47)))), int((F32_ceil((_S6871 + radius_x_47)))), int((F32_ceil((_S6872 + radius_y_47)))));
    *dpmean2d_24 = _S6860;
    *dpdepth_23 = _S6873;
    *dpconic_22 = _S6874;
    *dpopacity_24 = _S6869;
    *dprgb_23 = _S6885;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_75, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_25, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_24, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_24, DiffPair_float_0 * dpin_opacity_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_23, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_25, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_24, float fx_84, float fy_84, float cx_79, float cy_79, FixedArray<float, 10>  * dist_coeffs_88, uint image_width_75, uint image_height_75, float near_plane_59, float far_plane_59, float2  dpmean2d_25, float dpdepth_24, float3  dpconic_23, float dpopacity_25, float3  dprgb_24, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_37)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6886 = *dpmean_25;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6887 = *dpquat_24;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6888 = *dpscale_24;
    FixedArray<float3 , 7>  _S6889 = dpsv_sites_23->primal_0;
    FixedArray<float3 , 7>  _S6890 = dpsv_colors_23->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6891 = *dpR_25;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6892 = *dpt_24;
    float3  _S6893 = make_float3 (0.0f);
    float3  mean_c_64 = s_primal_ctx_mul_0((*dpR_25).primal_0, (*dpmean_25).primal_0) + (*dpt_24).primal_0;
    float3  _S6894 = s_primal_ctx_exp_0((*dpscale_24).primal_0);
    float _S6895 = (*dpquat_24).primal_0.y;
    float x2_70 = _S6895 * _S6895;
    float y2_70 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.z;
    float z2_85 = (*dpquat_24).primal_0.w * (*dpquat_24).primal_0.w;
    float xy_70 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.z;
    float xz_70 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.w;
    float yz_70 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.w;
    float wx_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.y;
    float wy_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.z;
    float wz_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.w;
    Matrix<float, 3, 3>  _S6896 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_70 + z2_85), 2.0f * (xy_70 + wz_70), 2.0f * (xz_70 - wy_70), 2.0f * (xy_70 - wz_70), 1.0f - 2.0f * (x2_70 + z2_85), 2.0f * (yz_70 + wx_70), 2.0f * (xz_70 + wy_70), 2.0f * (yz_70 - wx_70), 1.0f - 2.0f * (x2_70 + y2_70))));
    FixedArray<float3 , 7>  _S6897 = {
        _S6893, _S6893, _S6893, _S6893, _S6893, _S6893, _S6893
    };
    FixedArray<float, 7>  _S6898 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6899;
    (&_S6899)->p_0 = _S6897;
    (&_S6899)->w_mean_0 = _S6898;
    (&_S6899)->w_cov_0 = _S6898;
    (&_S6899)->p_0[int(0)] = (*dpmean_25).primal_0;
    float _S6900 = s_primal_ctx_sqrt_0(3.0f);
    float _S6901 = _S6900 * _S6894.x;
    float3  _S6902 = make_float3 (_S6901);
    float3  delta_165 = make_float3 (_S6901) * _S6896.rows[0U];
    float3  _S6903 = (*dpmean_25).primal_0 + delta_165;
    float3  _S6904 = (*dpmean_25).primal_0 - delta_165;
    float _S6905 = _S6900 * _S6894.y;
    float3  _S6906 = make_float3 (_S6905);
    float3  delta_166 = make_float3 (_S6905) * _S6896.rows[1U];
    float3  _S6907 = (*dpmean_25).primal_0 + delta_166;
    float3  _S6908 = (*dpmean_25).primal_0 - delta_166;
    float _S6909 = _S6900 * _S6894.z;
    float3  _S6910 = make_float3 (_S6909);
    float3  delta_167 = make_float3 (_S6909) * _S6896.rows[2U];
    float3  _S6911 = (*dpmean_25).primal_0 + delta_167;
    float3  _S6912 = (*dpmean_25).primal_0 - delta_167;
    SigmaPoints_0 _S6913 = _S6899;
    float _S6914 = *&(((&_s_diff_ctx_37->_S6838)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_37->_S6838)->rows + (int(1)))->x);
    float det_orig_65 = *&(((&_s_diff_ctx_37->_S6838)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_37->_S6838)->rows + (int(1)))->y) - _S6914;
    float _S6915 = *&(((&_s_diff_ctx_37->_S6838)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6916 = _s_diff_ctx_37->_S6838;
    *&(((&_S6916)->rows + (int(0)))->x) = _S6915;
    float _S6917 = *&(((&_s_diff_ctx_37->_S6838)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6916)->rows + (int(1)))->y) = _S6917;
    Matrix<float, 2, 2>  _S6918 = _S6916;
    Matrix<float, 2, 2>  _S6919 = _S6916;
    float det_blur_36 = _S6915 * _S6917 - _S6914;
    float _S6920 = det_orig_65 / det_blur_36;
    float _S6921 = det_blur_36 * det_blur_36;
    float _S6922 = s_primal_ctx_max_0(0.0f, _S6920);
    float _S6923 = s_primal_ctx_sqrt_0(_S6922);
    float _S6924 = - (*dpin_opacity_23).primal_0;
    float _S6925 = 1.0f + s_primal_ctx_exp_1(_S6924);
    float _S6926 = 1.0f / _S6925;
    float _S6927 = _S6925 * _S6925;
    float _S6928;
    if(antialiased_75)
    {
        _S6928 = _S6926 * _S6923;
    }
    else
    {
        _S6928 = _S6926;
    }
    float _S6929 = _S6928 / 0.00392156885936856f;
    float _S6930 = 2.0f * s_primal_ctx_log_0(_S6929);
    float _S6931 = s_primal_ctx_sqrt_0(_S6930);
    float _S6932 = _S6918.rows[int(0)].x;
    float _S6933 = _S6919.rows[int(1)].y;
    float _S6934 = s_primal_ctx_dot_0(mean_c_64, mean_c_64) + 9.99999997475242708e-07f;
    float3  _S6935 = - _S6888.primal_0;
    Matrix<float, 3, 3>  _S6936 = transpose_0(_S6891.primal_0);
    float3  _S6937 = _S6886.primal_0 - - s_primal_ctx_mul_0(_S6936, _S6892.primal_0);
    float _S6938 = s_primal_ctx_dot_0(_S6937, _S6937);
    float _S6939 = s_primal_ctx_rsqrt_0(_S6938);
    float3  _S6940 = make_float3 (_S6939);
    float3  _S6941 = _S6937 * make_float3 (_S6939);
    float _S6942 = s_primal_ctx_dot_0(_S6889[int(6)], _S6941);
    float _S6943 = s_primal_ctx_dot_0(_S6889[int(0)], _S6941) - _S6942;
    float _S6944 = s_primal_ctx_exp_1(_S6943);
    float3  _S6945 = make_float3 (_S6944);
    float _S6946 = s_primal_ctx_dot_0(_S6889[int(1)], _S6941) - _S6942;
    float _S6947 = s_primal_ctx_exp_1(_S6946);
    float3  _S6948 = make_float3 (_S6947);
    float _S6949 = s_primal_ctx_dot_0(_S6889[int(2)], _S6941) - _S6942;
    float _S6950 = s_primal_ctx_exp_1(_S6949);
    float3  _S6951 = make_float3 (_S6950);
    float _S6952 = s_primal_ctx_dot_0(_S6889[int(3)], _S6941) - _S6942;
    float _S6953 = s_primal_ctx_exp_1(_S6952);
    float3  _S6954 = make_float3 (_S6953);
    float _S6955 = s_primal_ctx_dot_0(_S6889[int(4)], _S6941) - _S6942;
    float _S6956 = s_primal_ctx_exp_1(_S6955);
    float3  _S6957 = make_float3 (_S6956);
    float _S6958 = s_primal_ctx_dot_0(_S6889[int(5)], _S6941) - _S6942;
    float _S6959 = s_primal_ctx_exp_1(_S6958);
    float3  _S6960 = make_float3 (_S6959);
    float _S6961 = s_primal_ctx_exp_1(0.0f);
    float3  _S6962 = make_float3 (_S6961);
    float total_w_11 = _S6944 + _S6947 + _S6950 + _S6953 + _S6956 + _S6959 + _S6961;
    float3  _S6963 = make_float3 (total_w_11);
    float3  total_c_11 = make_float3 (_S6944) * _S6890[int(0)] + make_float3 (_S6947) * _S6890[int(1)] + make_float3 (_S6950) * _S6890[int(2)] + make_float3 (_S6953) * _S6890[int(3)] + make_float3 (_S6956) * _S6890[int(4)] + make_float3 (_S6959) * _S6890[int(5)] + make_float3 (_S6961) * _S6890[int(6)];
    float3  _S6964 = make_float3 (total_w_11 * total_w_11);
    float3  _S6965 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6966;
    (&_S6966)->primal_0 = total_c_11 / make_float3 (total_w_11) + make_float3 (0.5f);
    (&_S6966)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6967;
    (&_S6967)->primal_0 = _S6965;
    (&_S6967)->differential_0 = _S6893;
    s_bwd_prop_max_0(&_S6966, &_S6967, dprgb_24);
    float3  _S6968 = _S6966.differential_0 / _S6964;
    float3  _S6969 = total_c_11 * - _S6968;
    float3  s_diff_total_c_T_11 = _S6963 * _S6968;
    float3  _S6970 = _S6962 * s_diff_total_c_T_11;
    float _S6971 = _S6969.x + _S6969.y + _S6969.z;
    float3  _S6972 = _S6960 * s_diff_total_c_T_11;
    float3  _S6973 = _S6890[int(5)] * s_diff_total_c_T_11;
    float _S6974 = _S6971 + _S6973.x + _S6973.y + _S6973.z;
    DiffPair_float_0 _S6975;
    (&_S6975)->primal_0 = _S6958;
    (&_S6975)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6975, _S6974);
    float _S6976 = - _S6975.differential_0;
    float3  _S6977 = _S6957 * s_diff_total_c_T_11;
    float3  _S6978 = _S6890[int(4)] * s_diff_total_c_T_11;
    float _S6979 = _S6971 + _S6978.x + _S6978.y + _S6978.z;
    DiffPair_float_0 _S6980;
    (&_S6980)->primal_0 = _S6955;
    (&_S6980)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6980, _S6979);
    float _S6981 = - _S6980.differential_0;
    float3  _S6982 = _S6954 * s_diff_total_c_T_11;
    float3  _S6983 = _S6890[int(3)] * s_diff_total_c_T_11;
    float _S6984 = _S6971 + _S6983.x + _S6983.y + _S6983.z;
    DiffPair_float_0 _S6985;
    (&_S6985)->primal_0 = _S6952;
    (&_S6985)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6985, _S6984);
    float _S6986 = - _S6985.differential_0;
    float3  _S6987 = _S6951 * s_diff_total_c_T_11;
    float3  _S6988 = _S6890[int(2)] * s_diff_total_c_T_11;
    float _S6989 = _S6971 + _S6988.x + _S6988.y + _S6988.z;
    DiffPair_float_0 _S6990;
    (&_S6990)->primal_0 = _S6949;
    (&_S6990)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6990, _S6989);
    float _S6991 = - _S6990.differential_0;
    float3  _S6992 = _S6948 * s_diff_total_c_T_11;
    float3  _S6993 = _S6890[int(1)] * s_diff_total_c_T_11;
    float _S6994 = _S6971 + _S6993.x + _S6993.y + _S6993.z;
    DiffPair_float_0 _S6995;
    (&_S6995)->primal_0 = _S6946;
    (&_S6995)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6995, _S6994);
    float _S6996 = - _S6995.differential_0;
    float3  _S6997 = _S6945 * s_diff_total_c_T_11;
    float3  _S6998 = _S6890[int(0)] * s_diff_total_c_T_11;
    float _S6999 = _S6971 + _S6998.x + _S6998.y + _S6998.z;
    DiffPair_float_0 _S7000;
    (&_S7000)->primal_0 = _S6943;
    (&_S7000)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7000, _S6999);
    float _S7001 = _S6976 + _S6981 + _S6986 + _S6991 + _S6996 + - _S7000.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7002;
    (&_S7002)->primal_0 = _S6889[int(6)];
    (&_S7002)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7003;
    (&_S7003)->primal_0 = _S6941;
    (&_S7003)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7002, &_S7003, _S7001);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7004;
    (&_S7004)->primal_0 = _S6889[int(5)];
    (&_S7004)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7005;
    (&_S7005)->primal_0 = _S6941;
    (&_S7005)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7004, &_S7005, _S6975.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7006;
    (&_S7006)->primal_0 = _S6889[int(4)];
    (&_S7006)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7007;
    (&_S7007)->primal_0 = _S6941;
    (&_S7007)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7006, &_S7007, _S6980.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7008;
    (&_S7008)->primal_0 = _S6889[int(3)];
    (&_S7008)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7009;
    (&_S7009)->primal_0 = _S6941;
    (&_S7009)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7008, &_S7009, _S6985.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7010;
    (&_S7010)->primal_0 = _S6889[int(2)];
    (&_S7010)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7011;
    (&_S7011)->primal_0 = _S6941;
    (&_S7011)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7010, &_S7011, _S6990.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7012;
    (&_S7012)->primal_0 = _S6889[int(1)];
    (&_S7012)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7013;
    (&_S7013)->primal_0 = _S6941;
    (&_S7013)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7012, &_S7013, _S6995.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7014;
    (&_S7014)->primal_0 = _S6889[int(0)];
    (&_S7014)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7015;
    (&_S7015)->primal_0 = _S6941;
    (&_S7015)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7014, &_S7015, _S7000.differential_0);
    float3  _S7016 = _S7003.differential_0 + _S7005.differential_0 + _S7007.differential_0 + _S7009.differential_0 + _S7011.differential_0 + _S7013.differential_0 + _S7015.differential_0;
    float3  _S7017 = _S6937 * _S7016;
    float3  _S7018 = _S6940 * _S7016;
    float _S7019 = _S7017.x + _S7017.y + _S7017.z;
    DiffPair_float_0 _S7020;
    (&_S7020)->primal_0 = _S6938;
    (&_S7020)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7020, _S7019);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7021;
    (&_S7021)->primal_0 = _S6937;
    (&_S7021)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7022;
    (&_S7022)->primal_0 = _S6937;
    (&_S7022)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7021, &_S7022, _S7020.differential_0);
    float3  _S7023 = _S7018 + _S7022.differential_0 + _S7021.differential_0;
    float3  _S7024 = - - _S7023;
    Matrix<float, 3, 3>  _S7025 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7026;
    (&_S7026)->primal_0 = _S6936;
    (&_S7026)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7027;
    (&_S7027)->primal_0 = _S6892.primal_0;
    (&_S7027)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7026, &_S7027, _S7024);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7028 = _S7027;
    Matrix<float, 3, 3>  _S7029 = transpose_0(_S7026.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7030;
    (&_S7030)->primal_0 = _S6935;
    (&_S7030)->differential_0 = _S6893;
    s_bwd_prop_exp_1(&_S7030, dpconic_23);
    float3  _S7031 = - _S7030.differential_0;
    float _S7032 = 0.5f * dpdepth_24;
    DiffPair_float_0 _S7033;
    (&_S7033)->primal_0 = _S6934;
    (&_S7033)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7033, _S7032);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7034;
    (&_S7034)->primal_0 = mean_c_64;
    (&_S7034)->differential_0 = _S6893;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7035;
    (&_S7035)->primal_0 = mean_c_64;
    (&_S7035)->differential_0 = _S6893;
    s_bwd_prop_dot_0(&_S7034, &_S7035, _S7033.differential_0);
    DiffPair_float_0 _S7036;
    (&_S7036)->primal_0 = _S6933;
    (&_S7036)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7036, 0.0f);
    DiffPair_float_0 _S7037;
    (&_S7037)->primal_0 = _S6932;
    (&_S7037)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7037, 0.0f);
    DiffPair_float_0 _S7038;
    (&_S7038)->primal_0 = 3.32999992370605469f;
    (&_S7038)->differential_0 = 0.0f;
    DiffPair_float_0 _S7039;
    (&_S7039)->primal_0 = _S6931;
    (&_S7039)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7038, &_S7039, 0.0f);
    DiffPair_float_0 _S7040;
    (&_S7040)->primal_0 = _S6930;
    (&_S7040)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7040, _S7039.differential_0);
    float _S7041 = 2.0f * _S7040.differential_0;
    DiffPair_float_0 _S7042;
    (&_S7042)->primal_0 = _S6929;
    (&_S7042)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7042, _S7041);
    float _S7043 = dpopacity_25 + 254.9999847412109375f * _S7042.differential_0;
    FixedArray<float3 , 7>  _S7044;
    _S7044[int(0)] = _S6893;
    _S7044[int(1)] = _S6893;
    _S7044[int(2)] = _S6893;
    _S7044[int(3)] = _S6893;
    _S7044[int(4)] = _S6893;
    _S7044[int(5)] = _S6893;
    _S7044[int(6)] = _S6893;
    _S7044[int(6)] = _S6970;
    _S7044[int(5)] = _S6972;
    _S7044[int(4)] = _S6977;
    _S7044[int(3)] = _S6982;
    _S7044[int(2)] = _S6987;
    _S7044[int(1)] = _S6992;
    _S7044[int(0)] = _S6997;
    FixedArray<float3 , 7>  _S7045 = {
        _S7044[int(0)], _S7044[int(1)], _S7044[int(2)], _S7044[int(3)], _S7044[int(4)], _S7044[int(5)], _S7044[int(6)]
    };
    FixedArray<float3 , 7>  _S7046;
    _S7046[int(0)] = _S6893;
    _S7046[int(1)] = _S6893;
    _S7046[int(2)] = _S6893;
    _S7046[int(3)] = _S6893;
    _S7046[int(4)] = _S6893;
    _S7046[int(5)] = _S6893;
    _S7046[int(6)] = _S6893;
    _S7046[int(6)] = _S7002.differential_0;
    _S7046[int(5)] = _S7004.differential_0;
    _S7046[int(4)] = _S7006.differential_0;
    _S7046[int(3)] = _S7008.differential_0;
    _S7046[int(2)] = _S7010.differential_0;
    _S7046[int(1)] = _S7012.differential_0;
    _S7046[int(0)] = _S7014.differential_0;
    FixedArray<float3 , 7>  _S7047 = {
        _S7046[int(0)], _S7046[int(1)], _S7046[int(2)], _S7046[int(3)], _S7046[int(4)], _S7046[int(5)], _S7046[int(6)]
    };
    float3  _S7048 = _S7035.differential_0 + _S7034.differential_0;
    float2  _S7049 = make_float2 (0.0f, _S7036.differential_0);
    float2  _S7050 = make_float2 (_S7037.differential_0, 0.0f);
    float _S7051;
    if(antialiased_75)
    {
        float _S7052 = _S6926 * _S7043;
        _S6928 = _S6923 * _S7043;
        _S7051 = _S7052;
    }
    else
    {
        _S6928 = _S7043;
        _S7051 = 0.0f;
    }
    float _S7053 = - (_S6928 / _S6927);
    DiffPair_float_0 _S7054;
    (&_S7054)->primal_0 = _S6924;
    (&_S7054)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7054, _S7053);
    float _S7055 = - _S7054.differential_0;
    DiffPair_float_0 _S7056;
    (&_S7056)->primal_0 = _S6922;
    (&_S7056)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7056, _S7051);
    DiffPair_float_0 _S7057;
    (&_S7057)->primal_0 = 0.0f;
    (&_S7057)->differential_0 = 0.0f;
    DiffPair_float_0 _S7058;
    (&_S7058)->primal_0 = _S6920;
    (&_S7058)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7057, &_S7058, _S7056.differential_0);
    float _S7059 = _S7058.differential_0 / _S6921;
    float s_diff_det_blur_T_13 = det_orig_65 * - _S7059;
    float s_diff_det_orig_T_16 = det_blur_36 * _S7059;
    float _S7060 = - s_diff_det_blur_T_13;
    float _S7061 = _S6915 * s_diff_det_blur_T_13;
    float _S7062 = _S6917 * s_diff_det_blur_T_13;
    Matrix<float, 2, 2>  _S7063 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7064 = _S7063;
    _S7064[int(1)] = _S7049;
    _S7064[int(0)] = _S7050;
    float _S7065 = _S7062 + _S7064.rows[int(0)].x;
    float _S7066 = _S7060 + - s_diff_det_orig_T_16;
    float _S7067 = *&(((&_s_diff_ctx_37->_S6838)->rows + (int(0)))->y) * _S7066;
    float _S7068 = *&(((&_s_diff_ctx_37->_S6838)->rows + (int(1)))->x) * _S7066;
    float _S7069 = *&(((&_s_diff_ctx_37->_S6838)->rows + (int(1)))->y) * s_diff_det_orig_T_16;
    float _S7070 = _S7061 + _S7064.rows[int(1)].y + *&(((&_s_diff_ctx_37->_S6838)->rows + (int(0)))->x) * s_diff_det_orig_T_16;
    float2  _S7071 = make_float2 (0.0f);
    float2  _S7072 = _S7071;
    *&((&_S7072)->x) = _S7067;
    *&((&_S7072)->y) = _S7070;
    float _S7073 = _S7065 + _S7069;
    float2  _S7074 = _S7071;
    *&((&_S7074)->y) = _S7068;
    *&((&_S7074)->x) = _S7073;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7075;
    (&_S7075)->primal_0 = _S6891.primal_0;
    (&_S7075)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7076;
    (&_S7076)->primal_0 = _S6912;
    (&_S7076)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7075, &_S7076, _S6893);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7077;
    (&_S7077)->primal_0 = _S6891.primal_0;
    (&_S7077)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7078;
    (&_S7078)->primal_0 = _S6908;
    (&_S7078)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7077, &_S7078, _S6893);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7079;
    (&_S7079)->primal_0 = _S6891.primal_0;
    (&_S7079)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7080;
    (&_S7080)->primal_0 = _S6904;
    (&_S7080)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7079, &_S7080, _S6893);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7081;
    (&_S7081)->primal_0 = _S6891.primal_0;
    (&_S7081)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7082;
    (&_S7082)->primal_0 = _S6911;
    (&_S7082)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7081, &_S7082, _S6893);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7083;
    (&_S7083)->primal_0 = _S6891.primal_0;
    (&_S7083)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7084;
    (&_S7084)->primal_0 = _S6907;
    (&_S7084)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7083, &_S7084, _S6893);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7085;
    (&_S7085)->primal_0 = _S6891.primal_0;
    (&_S7085)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7086;
    (&_S7086)->primal_0 = _S6903;
    (&_S7086)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7085, &_S7086, _S6893);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7087;
    (&_S7087)->primal_0 = _S6891.primal_0;
    (&_S7087)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7088;
    (&_S7088)->primal_0 = _S6913.p_0[0U];
    (&_S7088)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7087, &_S7088, _S6893);
    float3  _S7089 = - _S7076.differential_0 + _S7082.differential_0;
    float3  _S7090 = _S6910 * _S7089;
    float3  _S7091 = _S6896.rows[2U] * _S7089;
    float _S7092 = _S6900 * (_S7091.x + _S7091.y + _S7091.z);
    float3  _S7093 = - _S7078.differential_0 + _S7084.differential_0;
    float3  _S7094 = _S6906 * _S7093;
    float3  _S7095 = _S6896.rows[1U] * _S7093;
    float _S7096 = _S6900 * (_S7095.x + _S7095.y + _S7095.z);
    float3  _S7097 = - _S7080.differential_0 + _S7086.differential_0;
    float3  _S7098 = _S6902 * _S7097;
    float3  _S7099 = _S6896.rows[0U] * _S7097;
    float _S7100 = _S6900 * (_S7099.x + _S7099.y + _S7099.z);
    Matrix<float, 3, 3>  _S7101 = _S7025;
    _S7101[2U] = _S7090;
    _S7101[1U] = _S7094;
    _S7101[0U] = _S7098;
    Matrix<float, 3, 3>  _S7102 = transpose_0(transpose_0(_S7101));
    float _S7103 = 2.0f * - _S7102.rows[int(2)].z;
    float _S7104 = 2.0f * _S7102.rows[int(2)].y;
    float _S7105 = 2.0f * _S7102.rows[int(2)].x;
    float _S7106 = 2.0f * _S7102.rows[int(1)].z;
    float _S7107 = 2.0f * - _S7102.rows[int(1)].y;
    float _S7108 = 2.0f * _S7102.rows[int(1)].x;
    float _S7109 = 2.0f * _S7102.rows[int(0)].z;
    float _S7110 = 2.0f * _S7102.rows[int(0)].y;
    float _S7111 = 2.0f * - _S7102.rows[int(0)].x;
    float _S7112 = - _S7108 + _S7110;
    float _S7113 = _S7105 + - _S7109;
    float _S7114 = - _S7104 + _S7106;
    float _S7115 = _S7104 + _S7106;
    float _S7116 = _S7105 + _S7109;
    float _S7117 = _S7108 + _S7110;
    float _S7118 = _S6887.primal_0.w * (_S7107 + _S7111);
    float _S7119 = _S6887.primal_0.z * (_S7103 + _S7111);
    float _S7120 = _S6887.primal_0.y * (_S7103 + _S7107);
    float _S7121 = _S6887.primal_0.x * _S7112 + _S6887.primal_0.z * _S7115 + _S6887.primal_0.y * _S7116 + _S7118 + _S7118;
    float _S7122 = _S6887.primal_0.x * _S7113 + _S6887.primal_0.w * _S7115 + _S6887.primal_0.y * _S7117 + _S7119 + _S7119;
    float _S7123 = _S6887.primal_0.x * _S7114 + _S6887.primal_0.w * _S7116 + _S6887.primal_0.z * _S7117 + _S7120 + _S7120;
    float _S7124 = _S6887.primal_0.w * _S7112 + _S6887.primal_0.z * _S7113 + _S6887.primal_0.y * _S7114;
    float3  _S7125 = _S6893;
    *&((&_S7125)->z) = _S7092;
    *&((&_S7125)->y) = _S7096;
    *&((&_S7125)->x) = _S7100;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7126;
    (&_S7126)->primal_0 = _S6888.primal_0;
    (&_S7126)->differential_0 = _S6893;
    s_bwd_prop_exp_1(&_S7126, _S7125);
    Matrix<float, 2, 2>  _S7127 = _S7063;
    _S7127[int(1)] = _S7072;
    _S7127[int(0)] = _S7074;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7128;
    (&_S7128)->primal_0 = mean_c_64;
    (&_S7128)->differential_0 = _S6893;
    s_bwd_length_impl_1(&_S7128, 0.0f);
    float3  _S7129 = _S7128.differential_0 + _S7048;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7130;
    (&_S7130)->primal_0 = _S6891.primal_0;
    (&_S7130)->differential_0 = _S7025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7131;
    (&_S7131)->primal_0 = _S6886.primal_0;
    (&_S7131)->differential_0 = _S6893;
    s_bwd_prop_mul_1(&_S7130, &_S7131, _S7129);
    float3  _S7132 = _S7129 + _S7028.differential_0;
    dpt_24->primal_0 = (*dpt_24).primal_0;
    dpt_24->differential_0 = _S7132;
    Matrix<float, 3, 3>  _S7133 = _S7075.differential_0 + _S7077.differential_0 + _S7079.differential_0 + _S7081.differential_0 + _S7083.differential_0 + _S7085.differential_0 + _S7087.differential_0 + _S7130.differential_0 + _S7029;
    dpR_25->primal_0 = (*dpR_25).primal_0;
    dpR_25->differential_0 = _S7133;
    dpsv_colors_23->primal_0 = dpsv_colors_23->primal_0;
    dpsv_colors_23->differential_0 = _S7045;
    dpsv_sites_23->primal_0 = dpsv_sites_23->primal_0;
    dpsv_sites_23->differential_0 = _S7047;
    dpin_opacity_23->primal_0 = (*dpin_opacity_23).primal_0;
    dpin_opacity_23->differential_0 = _S7055;
    float3  _S7134 = _S7126.differential_0 + _S7031;
    dpscale_24->primal_0 = (*dpscale_24).primal_0;
    dpscale_24->differential_0 = _S7134;
    float4  _S7135 = make_float4 (0.0f);
    *&((&_S7135)->w) = _S7121;
    *&((&_S7135)->z) = _S7122;
    *&((&_S7135)->y) = _S7123;
    *&((&_S7135)->x) = _S7124;
    dpquat_24->primal_0 = (*dpquat_24).primal_0;
    dpquat_24->differential_0 = _S7135;
    float3  _S7136 = _S7076.differential_0 + _S7082.differential_0 + _S7078.differential_0 + _S7084.differential_0 + _S7080.differential_0 + _S7086.differential_0 + _S7131.differential_0 + _S7023;
    dpmean_25->primal_0 = (*dpmean_25).primal_0;
    dpmean_25->differential_0 = _S7136;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_5(bool _S7137, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7138, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7139, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7140, DiffPair_float_0 * _S7141, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7142, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7143, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7144, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7145, float _S7146, float _S7147, float _S7148, float _S7149, FixedArray<float, 10>  * _S7150, uint _S7151, uint _S7152, float _S7153, float _S7154, float2  _S7155, float _S7156, float3  _S7157, float _S7158, float3  _S7159)
{
    FixedArray<float3 , 7>  _S7160 = _S7142->primal_0;
    FixedArray<float3 , 7>  _S7161 = _S7143->primal_0;
    int4  _S7162;
    float2  _S7163;
    float _S7164;
    float3  _S7165;
    float _S7166;
    float3  _S7167;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S7168;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(_S7137, (*_S7138).primal_0, (*_S7139).primal_0, (*_S7140).primal_0, (*_S7141).primal_0, &_S7160, &_S7161, (*_S7144).primal_0, (*_S7145).primal_0, _S7146, _S7147, _S7148, _S7149, _S7150, _S7151, _S7152, _S7153, _S7154, &_S7162, &_S7163, &_S7164, &_S7165, &_S7166, &_S7167, &_S7168);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S7169 = _S7168;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(_S7137, _S7138, _S7139, _S7140, _S7141, _S7142, _S7143, _S7144, _S7145, _S7146, _S7147, _S7148, _S7149, _S7150, _S7151, _S7152, _S7153, _S7154, _S7155, _S7156, _S7157, _S7158, _S7159, &_S7169);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_76, float3  mean_57, float4  quat_58, float3  scale_57, float in_opacity_52, FixedArray<float3 , 7>  * sv_sites_37, FixedArray<float3 , 7>  * sv_colors_37, Matrix<float, 3, 3>  R_59, float3  t_55, float fx_85, float fy_85, float cx_80, float cy_80, FixedArray<float, 10>  * dist_coeffs_89, uint image_width_76, uint image_height_76, float2  v_mean2d_16, float v_depth_17, float3  v_conic_16, float v_opacity_18, float3  v_rgb_17, float3  * v_mean_18, float4  * v_quat_17, float3  * v_scale_17, float * v_in_opacity_16, FixedArray<float3 , 7>  * v_sv_dirs_11, FixedArray<float3 , 7>  * v_sv_colors_11, Matrix<float, 3, 3>  * v_R_18, float3  * v_t_17)
{
    float3  _S7170 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_13;
    (&dp_mean_13)->primal_0 = mean_57;
    (&dp_mean_13)->differential_0 = _S7170;
    float4  _S7171 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_12;
    (&dp_quat_12)->primal_0 = quat_58;
    (&dp_quat_12)->differential_0 = _S7171;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_12;
    (&dp_scale_12)->primal_0 = scale_57;
    (&dp_scale_12)->differential_0 = _S7170;
    DiffPair_float_0 dp_in_opacity_11;
    (&dp_in_opacity_11)->primal_0 = in_opacity_52;
    (&dp_in_opacity_11)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S7172 = { _S7170, _S7170, _S7170, _S7170, _S7170, _S7170, _S7170 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_11;
    (&dp_sv_dirs_11)->primal_0 = *sv_sites_37;
    (&dp_sv_dirs_11)->differential_0 = _S7172;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_11;
    (&dp_sv_colors_11)->primal_0 = *sv_colors_37;
    (&dp_sv_colors_11)->differential_0 = _S7172;
    Matrix<float, 3, 3>  _S7173 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_13;
    (&dp_R_13)->primal_0 = R_59;
    (&dp_R_13)->differential_0 = _S7173;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_12;
    (&dp_t_12)->primal_0 = t_55;
    (&dp_t_12)->differential_0 = _S7170;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_5(antialiased_76, &dp_mean_13, &dp_quat_12, &dp_scale_12, &dp_in_opacity_11, &dp_sv_dirs_11, &dp_sv_colors_11, &dp_R_13, &dp_t_12, fx_85, fy_85, cx_80, cy_80, dist_coeffs_89, image_width_76, image_height_76, 0.0f, 1.00000001504746622e+30f, v_mean2d_16, v_depth_17, v_conic_16, v_opacity_18, v_rgb_17);
    *v_mean_18 = dp_mean_13.differential_0;
    *v_quat_17 = dp_quat_12.differential_0;
    *v_scale_17 = dp_scale_12.differential_0;
    *v_in_opacity_16 = dp_in_opacity_11.differential_0;
    *v_sv_dirs_11 = (&dp_sv_dirs_11)->differential_0;
    *v_sv_colors_11 = (&dp_sv_colors_11)->differential_0;
    *v_R_18 = dp_R_13.differential_0;
    *v_t_17 = dp_t_12.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_77, float3  mean_58, float4  quat_59, float3  scale_58, float in_opacity_53, FixedArray<float3 , 8>  * sv_sites_38, FixedArray<float3 , 8>  * sv_colors_38, Matrix<float, 3, 3>  R_60, float3  t_56, float fx_86, float fy_86, float cx_81, float cy_81, FixedArray<float, 10>  * dist_coeffs_90, uint image_width_77, uint image_height_77, float near_plane_60, float far_plane_60, int4  * aabb_xyxy_48, float2  * mean2d_44, float * depth_37, float3  * conic_36, float * opacity_40, float3  * rgb_38)
{
    float3  mean_c_65 = mul_0(R_60, mean_58) + t_56;
    float4  intrins_52 = make_float4 (fx_86, fy_86, cx_81, cy_81);
    float3  _S7174 = exp_0(scale_58);
    float x_68 = quat_59.y;
    float x2_71 = x_68 * x_68;
    float y2_71 = quat_59.z * quat_59.z;
    float z2_86 = quat_59.w * quat_59.w;
    float xy_71 = quat_59.y * quat_59.z;
    float xz_71 = quat_59.y * quat_59.w;
    float yz_71 = quat_59.z * quat_59.w;
    float wx_71 = quat_59.x * quat_59.y;
    float wy_71 = quat_59.x * quat_59.z;
    float wz_71 = quat_59.x * quat_59.w;
    Matrix<float, 3, 3>  _S7175 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_71 + z2_86), 2.0f * (xy_71 + wz_71), 2.0f * (xz_71 - wy_71), 2.0f * (xy_71 - wz_71), 1.0f - 2.0f * (x2_71 + z2_86), 2.0f * (yz_71 + wx_71), 2.0f * (xz_71 + wy_71), 2.0f * (yz_71 - wx_71), 1.0f - 2.0f * (x2_71 + y2_71))));
    SigmaPoints_0 ret_30;
    (&ret_30)->p_0[int(0)] = mean_58;
    (&ret_30)->w_mean_0[int(0)] = 0.0f;
    (&ret_30)->w_cov_0[int(0)] = 2.0f;
    float _S7176 = (F32_sqrt((3.0f)));
    float3  delta_168 = make_float3 (_S7176 * _S7174.x) * _S7175.rows[0U];
    float3  _S7177 = mean_58 + delta_168;
    float3  _S7178 = mean_58 - delta_168;
    float3  delta_169 = make_float3 (_S7176 * _S7174.y) * _S7175.rows[1U];
    float3  _S7179 = mean_58 + delta_169;
    float3  _S7180 = mean_58 - delta_169;
    float3  delta_170 = make_float3 (_S7176 * _S7174.z) * _S7175.rows[2U];
    float3  _S7181 = mean_58 + delta_170;
    float3  _S7182 = mean_58 - delta_170;
    (&ret_30)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_30)->p_0[0U] = mul_0(R_60, (&ret_30)->p_0[0U]) + t_56;
    (&ret_30)->p_0[1U] = mul_0(R_60, _S7177) + t_56;
    (&ret_30)->p_0[2U] = mul_0(R_60, _S7179) + t_56;
    (&ret_30)->p_0[3U] = mul_0(R_60, _S7181) + t_56;
    (&ret_30)->p_0[4U] = mul_0(R_60, _S7178) + t_56;
    (&ret_30)->p_0[5U] = mul_0(R_60, _S7180) + t_56;
    (&ret_30)->p_0[6U] = mul_0(R_60, _S7182) + t_56;
    SigmaPoints_0 _S7183 = ret_30;
    Matrix<float, 2, 2>  covar2d_36;
    bool _S7184 = persp_proj_3dgs_ut_1(&_S7183, intrins_52, dist_coeffs_90, image_width_77, image_height_77, &covar2d_36, mean2d_44);
    float det_orig_66 = *&(((&covar2d_36)->rows + (int(0)))->x) * *&(((&covar2d_36)->rows + (int(1)))->y) - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x);
    float _S7185 = *&(((&covar2d_36)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(0)))->x) = _S7185;
    float _S7186 = *&(((&covar2d_36)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(1)))->y) = _S7186;
    float compensation_37 = (F32_sqrt(((F32_max((0.0f), (det_orig_66 / (_S7185 * _S7186 - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x))))))));
    *opacity_40 = 1.0f / (1.0f + (F32_exp((- in_opacity_53))));
    if(antialiased_77)
    {
        *opacity_40 = *opacity_40 * compensation_37;
    }
    float extend_36 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_40 / 0.00392156885936856f)))))))));
    float radius_x_48 = extend_36 * (F32_sqrt((covar2d_36[int(0)].x)));
    float radius_y_48 = extend_36 * (F32_sqrt((covar2d_36[int(1)].y)));
    *aabb_xyxy_48 = make_int4 (int((F32_floor(((*mean2d_44).x - radius_x_48)))), int((F32_floor(((*mean2d_44).y - radius_y_48)))), int((F32_ceil(((*mean2d_44).x + radius_x_48)))), int((F32_ceil(((*mean2d_44).y + radius_y_48)))));
    *depth_37 = 0.5f * (F32_log((dot_0(mean_c_65, mean_c_65) + 9.99999997475242708e-07f)));
    *conic_36 = exp_0(- scale_58);
    float3  _S7187 = mean_58 - - mul_0(transpose_0(R_60), t_56);
    float3  _S7188 = _S7187 * make_float3 ((F32_rsqrt((dot_0(_S7187, _S7187)))));
    float _S7189 = dot_0((*sv_sites_38)[int(7)], _S7188);
    float w_124 = (F32_exp((dot_0((*sv_sites_38)[int(0)], _S7188) - _S7189)));
    float w_125 = (F32_exp((dot_0((*sv_sites_38)[int(1)], _S7188) - _S7189)));
    float w_126 = (F32_exp((dot_0((*sv_sites_38)[int(2)], _S7188) - _S7189)));
    float w_127 = (F32_exp((dot_0((*sv_sites_38)[int(3)], _S7188) - _S7189)));
    float w_128 = (F32_exp((dot_0((*sv_sites_38)[int(4)], _S7188) - _S7189)));
    float w_129 = (F32_exp((dot_0((*sv_sites_38)[int(5)], _S7188) - _S7189)));
    float w_130 = (F32_exp((dot_0((*sv_sites_38)[int(6)], _S7188) - _S7189)));
    float w_131 = (F32_exp((0.0f)));
    *rgb_38 = max_0((make_float3 (w_124) * (*sv_colors_38)[int(0)] + make_float3 (w_125) * (*sv_colors_38)[int(1)] + make_float3 (w_126) * (*sv_colors_38)[int(2)] + make_float3 (w_127) * (*sv_colors_38)[int(3)] + make_float3 (w_128) * (*sv_colors_38)[int(4)] + make_float3 (w_129) * (*sv_colors_38)[int(5)] + make_float3 (w_130) * (*sv_colors_38)[int(6)] + make_float3 (w_131) * (*sv_colors_38)[int(7)]) / make_float3 (w_124 + w_125 + w_126 + w_127 + w_128 + w_129 + w_130 + w_131) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_78, float3  mean_59, float4  quat_60, float3  scale_59, float in_opacity_54, FixedArray<float3 , 8>  * sv_sites_39, FixedArray<float3 , 8>  * sv_colors_39, Matrix<float, 3, 3>  R_61, float3  t_57, float fx_87, float fy_87, float cx_82, float cy_82, FixedArray<float, 10>  * dist_coeffs_91, uint image_width_78, uint image_height_78, float near_plane_61, float far_plane_61, int4  * aabb_xyxy_49, float2  * mean2d_45, float * depth_38, float3  * conic_37, float * opacity_41, float3  * rgb_39)
{
    float3  mean_c_66 = mul_0(R_61, mean_59) + t_57;
    float4  intrins_53 = make_float4 (fx_87, fy_87, cx_82, cy_82);
    float3  _S7190 = exp_0(scale_59);
    float x_69 = quat_60.y;
    float x2_72 = x_69 * x_69;
    float y2_72 = quat_60.z * quat_60.z;
    float z2_87 = quat_60.w * quat_60.w;
    float xy_72 = quat_60.y * quat_60.z;
    float xz_72 = quat_60.y * quat_60.w;
    float yz_72 = quat_60.z * quat_60.w;
    float wx_72 = quat_60.x * quat_60.y;
    float wy_72 = quat_60.x * quat_60.z;
    float wz_72 = quat_60.x * quat_60.w;
    Matrix<float, 3, 3>  _S7191 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_72 + z2_87), 2.0f * (xy_72 + wz_72), 2.0f * (xz_72 - wy_72), 2.0f * (xy_72 - wz_72), 1.0f - 2.0f * (x2_72 + z2_87), 2.0f * (yz_72 + wx_72), 2.0f * (xz_72 + wy_72), 2.0f * (yz_72 - wx_72), 1.0f - 2.0f * (x2_72 + y2_72))));
    SigmaPoints_0 ret_31;
    (&ret_31)->p_0[int(0)] = mean_59;
    (&ret_31)->w_mean_0[int(0)] = 0.0f;
    (&ret_31)->w_cov_0[int(0)] = 2.0f;
    float _S7192 = (F32_sqrt((3.0f)));
    float3  delta_171 = make_float3 (_S7192 * _S7190.x) * _S7191.rows[0U];
    float3  _S7193 = mean_59 + delta_171;
    float3  _S7194 = mean_59 - delta_171;
    float3  delta_172 = make_float3 (_S7192 * _S7190.y) * _S7191.rows[1U];
    float3  _S7195 = mean_59 + delta_172;
    float3  _S7196 = mean_59 - delta_172;
    float3  delta_173 = make_float3 (_S7192 * _S7190.z) * _S7191.rows[2U];
    float3  _S7197 = mean_59 + delta_173;
    float3  _S7198 = mean_59 - delta_173;
    (&ret_31)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_31)->p_0[0U] = mul_0(R_61, (&ret_31)->p_0[0U]) + t_57;
    (&ret_31)->p_0[1U] = mul_0(R_61, _S7193) + t_57;
    (&ret_31)->p_0[2U] = mul_0(R_61, _S7195) + t_57;
    (&ret_31)->p_0[3U] = mul_0(R_61, _S7197) + t_57;
    (&ret_31)->p_0[4U] = mul_0(R_61, _S7194) + t_57;
    (&ret_31)->p_0[5U] = mul_0(R_61, _S7196) + t_57;
    (&ret_31)->p_0[6U] = mul_0(R_61, _S7198) + t_57;
    SigmaPoints_0 _S7199 = ret_31;
    Matrix<float, 2, 2>  covar2d_37;
    bool _S7200 = fisheye_proj_3dgs_ut_1(&_S7199, intrins_53, dist_coeffs_91, &covar2d_37, mean2d_45);
    float det_orig_67 = *&(((&covar2d_37)->rows + (int(0)))->x) * *&(((&covar2d_37)->rows + (int(1)))->y) - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x);
    float _S7201 = *&(((&covar2d_37)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(0)))->x) = _S7201;
    float _S7202 = *&(((&covar2d_37)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(1)))->y) = _S7202;
    float compensation_38 = (F32_sqrt(((F32_max((0.0f), (det_orig_67 / (_S7201 * _S7202 - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x))))))));
    *opacity_41 = 1.0f / (1.0f + (F32_exp((- in_opacity_54))));
    if(antialiased_78)
    {
        *opacity_41 = *opacity_41 * compensation_38;
    }
    float extend_37 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_41 / 0.00392156885936856f)))))))));
    float radius_x_49 = extend_37 * (F32_sqrt((covar2d_37[int(0)].x)));
    float radius_y_49 = extend_37 * (F32_sqrt((covar2d_37[int(1)].y)));
    *aabb_xyxy_49 = make_int4 (int((F32_floor(((*mean2d_45).x - radius_x_49)))), int((F32_floor(((*mean2d_45).y - radius_y_49)))), int((F32_ceil(((*mean2d_45).x + radius_x_49)))), int((F32_ceil(((*mean2d_45).y + radius_y_49)))));
    *depth_38 = 0.5f * (F32_log((dot_0(mean_c_66, mean_c_66) + 9.99999997475242708e-07f)));
    *conic_37 = exp_0(- scale_59);
    float3  _S7203 = mean_59 - - mul_0(transpose_0(R_61), t_57);
    float3  _S7204 = _S7203 * make_float3 ((F32_rsqrt((dot_0(_S7203, _S7203)))));
    float _S7205 = dot_0((*sv_sites_39)[int(7)], _S7204);
    float w_132 = (F32_exp((dot_0((*sv_sites_39)[int(0)], _S7204) - _S7205)));
    float w_133 = (F32_exp((dot_0((*sv_sites_39)[int(1)], _S7204) - _S7205)));
    float w_134 = (F32_exp((dot_0((*sv_sites_39)[int(2)], _S7204) - _S7205)));
    float w_135 = (F32_exp((dot_0((*sv_sites_39)[int(3)], _S7204) - _S7205)));
    float w_136 = (F32_exp((dot_0((*sv_sites_39)[int(4)], _S7204) - _S7205)));
    float w_137 = (F32_exp((dot_0((*sv_sites_39)[int(5)], _S7204) - _S7205)));
    float w_138 = (F32_exp((dot_0((*sv_sites_39)[int(6)], _S7204) - _S7205)));
    float w_139 = (F32_exp((0.0f)));
    *rgb_39 = max_0((make_float3 (w_132) * (*sv_colors_39)[int(0)] + make_float3 (w_133) * (*sv_colors_39)[int(1)] + make_float3 (w_134) * (*sv_colors_39)[int(2)] + make_float3 (w_135) * (*sv_colors_39)[int(3)] + make_float3 (w_136) * (*sv_colors_39)[int(4)] + make_float3 (w_137) * (*sv_colors_39)[int(5)] + make_float3 (w_138) * (*sv_colors_39)[int(6)] + make_float3 (w_139) * (*sv_colors_39)[int(7)]) / make_float3 (w_132 + w_133 + w_134 + w_135 + w_136 + w_137 + w_138 + w_139) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0
{
    FixedArray<float3 , 8>  primal_0;
    FixedArray<float3 , 8>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S7206;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(bool antialiased_79, float3  dpmean_26, float4  dpquat_25, float3  dpscale_25, float dpin_opacity_24, FixedArray<float3 , 8>  * dpsv_sites_24, FixedArray<float3 , 8>  * dpsv_colors_24, Matrix<float, 3, 3>  dpR_26, float3  dpt_25, float fx_88, float fy_88, float cx_83, float cy_83, FixedArray<float, 10>  * dist_coeffs_92, uint image_width_79, uint image_height_79, float near_plane_62, float far_plane_62, int4  * aabb_xyxy_50, float2  * dpmean2d_26, float * dpdepth_25, float3  * dpconic_24, float * dpopacity_26, float3  * dprgb_25, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_38)
{
    Matrix<float, 2, 2>  _S7207 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_38->_S7206 = _S7207;
    float2  _S7208 = make_float2 (0.0f);
    float3  _S7209 = make_float3 (0.0f);
    float3  mean_c_67 = s_primal_ctx_mul_0(dpR_26, dpmean_26) + dpt_25;
    float4  intrins_54 = make_float4 (fx_88, fy_88, cx_83, cy_83);
    float3  _S7210 = s_primal_ctx_exp_0(dpscale_25);
    float _S7211 = dpquat_25.y;
    float x2_73 = _S7211 * _S7211;
    float y2_73 = dpquat_25.z * dpquat_25.z;
    float z2_88 = dpquat_25.w * dpquat_25.w;
    float xy_73 = dpquat_25.y * dpquat_25.z;
    float xz_73 = dpquat_25.y * dpquat_25.w;
    float yz_73 = dpquat_25.z * dpquat_25.w;
    float wx_73 = dpquat_25.x * dpquat_25.y;
    float wy_73 = dpquat_25.x * dpquat_25.z;
    float wz_73 = dpquat_25.x * dpquat_25.w;
    Matrix<float, 3, 3>  _S7212 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_73 + z2_88), 2.0f * (xy_73 + wz_73), 2.0f * (xz_73 - wy_73), 2.0f * (xy_73 - wz_73), 1.0f - 2.0f * (x2_73 + z2_88), 2.0f * (yz_73 + wx_73), 2.0f * (xz_73 + wy_73), 2.0f * (yz_73 - wx_73), 1.0f - 2.0f * (x2_73 + y2_73))));
    FixedArray<float3 , 7>  _S7213 = {
        _S7209, _S7209, _S7209, _S7209, _S7209, _S7209, _S7209
    };
    FixedArray<float, 7>  _S7214 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7215;
    (&_S7215)->p_0 = _S7213;
    (&_S7215)->w_mean_0 = _S7214;
    (&_S7215)->w_cov_0 = _S7214;
    (&_S7215)->p_0[int(0)] = dpmean_26;
    SigmaPoints_0 _S7216 = _S7215;
    (&_S7216)->w_mean_0[int(0)] = 0.0f;
    (&_S7216)->w_cov_0[int(0)] = 2.0f;
    float _S7217 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_174 = make_float3 (_S7217 * _S7210.x) * _S7212.rows[0U];
    float3  _S7218 = dpmean_26 + delta_174;
    float3  _S7219 = dpmean_26 - delta_174;
    float3  delta_175 = make_float3 (_S7217 * _S7210.y) * _S7212.rows[1U];
    float3  _S7220 = dpmean_26 + delta_175;
    float3  _S7221 = dpmean_26 - delta_175;
    float3  delta_176 = make_float3 (_S7217 * _S7210.z) * _S7212.rows[2U];
    float3  _S7222 = dpmean_26 + delta_176;
    float3  _S7223 = dpmean_26 - delta_176;
    (&_S7216)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7216)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7216)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7216)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7216)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7216)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7216)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7216)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7216)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7216)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7216)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7216)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7216)->p_0[0U] = s_primal_ctx_mul_0(dpR_26, _S7215.p_0[0U]) + dpt_25;
    (&_S7216)->p_0[1U] = s_primal_ctx_mul_0(dpR_26, _S7218) + dpt_25;
    (&_S7216)->p_0[2U] = s_primal_ctx_mul_0(dpR_26, _S7220) + dpt_25;
    (&_S7216)->p_0[3U] = s_primal_ctx_mul_0(dpR_26, _S7222) + dpt_25;
    (&_S7216)->p_0[4U] = s_primal_ctx_mul_0(dpR_26, _S7219) + dpt_25;
    (&_S7216)->p_0[5U] = s_primal_ctx_mul_0(dpR_26, _S7221) + dpt_25;
    (&_S7216)->p_0[6U] = s_primal_ctx_mul_0(dpR_26, _S7223) + dpt_25;
    float2  _S7224 = _S7208;
    Matrix<float, 2, 2>  _S7225 = _S7207;
    SigmaPoints_0 _S7226 = _S7216;
    bool _S7227 = persp_proj_3dgs_ut_1(&_S7226, intrins_54, dist_coeffs_92, image_width_79, image_height_79, &_S7225, &_S7224);
    _s_diff_ctx_38->_S7206 = _S7225;
    float2  _S7228 = _S7224;
    float _S7229 = _S7225.rows[int(0)].y * _S7225.rows[int(1)].x;
    float det_orig_68 = _S7225.rows[int(0)].x * _S7225.rows[int(1)].y - _S7229;
    float _S7230 = _S7225.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7231 = _S7225;
    *&(((&_S7231)->rows + (int(0)))->x) = _S7230;
    float _S7232 = _S7225.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7231)->rows + (int(1)))->y) = _S7232;
    Matrix<float, 2, 2>  _S7233 = _S7231;
    Matrix<float, 2, 2>  _S7234 = _S7231;
    float _S7235 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_68 / (_S7230 * _S7232 - _S7229)));
    float _S7236 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_24));
    float _S7237;
    if(antialiased_79)
    {
        _S7237 = _S7236 * _S7235;
    }
    else
    {
        _S7237 = _S7236;
    }
    float _S7238 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7237 / 0.00392156885936856f)));
    float radius_x_50 = _S7238 * s_primal_ctx_sqrt_0(_S7233.rows[int(0)].x);
    float radius_y_50 = _S7238 * s_primal_ctx_sqrt_0(_S7234.rows[int(1)].y);
    float _S7239 = _S7228.x;
    float _S7240 = _S7228.y;
    float _S7241 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_67, mean_c_67) + 9.99999997475242708e-07f);
    float3  _S7242 = s_primal_ctx_exp_0(- dpscale_25);
    float3  _S7243 = dpmean_26 - - s_primal_ctx_mul_0(transpose_0(dpR_26), dpt_25);
    float3  _S7244 = _S7243 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7243, _S7243)));
    float _S7245 = s_primal_ctx_dot_0((*dpsv_sites_24)[int(7)], _S7244);
    float _S7246 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(0)], _S7244) - _S7245);
    float _S7247 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(1)], _S7244) - _S7245);
    float _S7248 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(2)], _S7244) - _S7245);
    float _S7249 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(3)], _S7244) - _S7245);
    float _S7250 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(4)], _S7244) - _S7245);
    float _S7251 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(5)], _S7244) - _S7245);
    float _S7252 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(6)], _S7244) - _S7245);
    float _S7253 = s_primal_ctx_exp_1(0.0f);
    float3  _S7254 = s_primal_ctx_max_1((make_float3 (_S7246) * (*dpsv_colors_24)[int(0)] + make_float3 (_S7247) * (*dpsv_colors_24)[int(1)] + make_float3 (_S7248) * (*dpsv_colors_24)[int(2)] + make_float3 (_S7249) * (*dpsv_colors_24)[int(3)] + make_float3 (_S7250) * (*dpsv_colors_24)[int(4)] + make_float3 (_S7251) * (*dpsv_colors_24)[int(5)] + make_float3 (_S7252) * (*dpsv_colors_24)[int(6)] + make_float3 (_S7253) * (*dpsv_colors_24)[int(7)]) / make_float3 (_S7246 + _S7247 + _S7248 + _S7249 + _S7250 + _S7251 + _S7252 + _S7253) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_50 = make_int4 (int((F32_floor((_S7239 - radius_x_50)))), int((F32_floor((_S7240 - radius_y_50)))), int((F32_ceil((_S7239 + radius_x_50)))), int((F32_ceil((_S7240 + radius_y_50)))));
    *dpmean2d_26 = _S7228;
    *dpdepth_25 = _S7241;
    *dpconic_24 = _S7242;
    *dpopacity_26 = _S7237;
    *dprgb_25 = _S7254;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(bool antialiased_80, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_27, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_26, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_26, DiffPair_float_0 * dpin_opacity_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_25, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_27, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_26, float fx_89, float fy_89, float cx_84, float cy_84, FixedArray<float, 10>  * dist_coeffs_93, uint image_width_80, uint image_height_80, float near_plane_63, float far_plane_63, float2  dpmean2d_27, float dpdepth_26, float3  dpconic_25, float dpopacity_27, float3  dprgb_26, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_39)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7255 = *dpmean_27;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7256 = *dpquat_26;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7257 = *dpscale_26;
    FixedArray<float3 , 8>  _S7258 = dpsv_sites_25->primal_0;
    FixedArray<float3 , 8>  _S7259 = dpsv_colors_25->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7260 = *dpR_27;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7261 = *dpt_26;
    float3  _S7262 = make_float3 (0.0f);
    float3  mean_c_68 = s_primal_ctx_mul_0((*dpR_27).primal_0, (*dpmean_27).primal_0) + (*dpt_26).primal_0;
    float3  _S7263 = s_primal_ctx_exp_0((*dpscale_26).primal_0);
    float _S7264 = (*dpquat_26).primal_0.y;
    float x2_74 = _S7264 * _S7264;
    float y2_74 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.z;
    float z2_89 = (*dpquat_26).primal_0.w * (*dpquat_26).primal_0.w;
    float xy_74 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.z;
    float xz_74 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.w;
    float yz_74 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.w;
    float wx_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.y;
    float wy_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.z;
    float wz_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.w;
    Matrix<float, 3, 3>  _S7265 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_74 + z2_89), 2.0f * (xy_74 + wz_74), 2.0f * (xz_74 - wy_74), 2.0f * (xy_74 - wz_74), 1.0f - 2.0f * (x2_74 + z2_89), 2.0f * (yz_74 + wx_74), 2.0f * (xz_74 + wy_74), 2.0f * (yz_74 - wx_74), 1.0f - 2.0f * (x2_74 + y2_74))));
    FixedArray<float3 , 7>  _S7266 = {
        _S7262, _S7262, _S7262, _S7262, _S7262, _S7262, _S7262
    };
    FixedArray<float, 7>  _S7267 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7268;
    (&_S7268)->p_0 = _S7266;
    (&_S7268)->w_mean_0 = _S7267;
    (&_S7268)->w_cov_0 = _S7267;
    (&_S7268)->p_0[int(0)] = (*dpmean_27).primal_0;
    float _S7269 = s_primal_ctx_sqrt_0(3.0f);
    float _S7270 = _S7269 * _S7263.x;
    float3  _S7271 = make_float3 (_S7270);
    float3  delta_177 = make_float3 (_S7270) * _S7265.rows[0U];
    float3  _S7272 = (*dpmean_27).primal_0 + delta_177;
    float3  _S7273 = (*dpmean_27).primal_0 - delta_177;
    float _S7274 = _S7269 * _S7263.y;
    float3  _S7275 = make_float3 (_S7274);
    float3  delta_178 = make_float3 (_S7274) * _S7265.rows[1U];
    float3  _S7276 = (*dpmean_27).primal_0 + delta_178;
    float3  _S7277 = (*dpmean_27).primal_0 - delta_178;
    float _S7278 = _S7269 * _S7263.z;
    float3  _S7279 = make_float3 (_S7278);
    float3  delta_179 = make_float3 (_S7278) * _S7265.rows[2U];
    float3  _S7280 = (*dpmean_27).primal_0 + delta_179;
    float3  _S7281 = (*dpmean_27).primal_0 - delta_179;
    SigmaPoints_0 _S7282 = _S7268;
    float _S7283 = *&(((&_s_diff_ctx_39->_S7206)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_39->_S7206)->rows + (int(1)))->x);
    float det_orig_69 = *&(((&_s_diff_ctx_39->_S7206)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_39->_S7206)->rows + (int(1)))->y) - _S7283;
    float _S7284 = *&(((&_s_diff_ctx_39->_S7206)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7285 = _s_diff_ctx_39->_S7206;
    *&(((&_S7285)->rows + (int(0)))->x) = _S7284;
    float _S7286 = *&(((&_s_diff_ctx_39->_S7206)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7285)->rows + (int(1)))->y) = _S7286;
    Matrix<float, 2, 2>  _S7287 = _S7285;
    Matrix<float, 2, 2>  _S7288 = _S7285;
    float det_blur_37 = _S7284 * _S7286 - _S7283;
    float _S7289 = det_orig_69 / det_blur_37;
    float _S7290 = det_blur_37 * det_blur_37;
    float _S7291 = s_primal_ctx_max_0(0.0f, _S7289);
    float _S7292 = s_primal_ctx_sqrt_0(_S7291);
    float _S7293 = - (*dpin_opacity_25).primal_0;
    float _S7294 = 1.0f + s_primal_ctx_exp_1(_S7293);
    float _S7295 = 1.0f / _S7294;
    float _S7296 = _S7294 * _S7294;
    float _S7297;
    if(antialiased_80)
    {
        _S7297 = _S7295 * _S7292;
    }
    else
    {
        _S7297 = _S7295;
    }
    float _S7298 = _S7297 / 0.00392156885936856f;
    float _S7299 = 2.0f * s_primal_ctx_log_0(_S7298);
    float _S7300 = s_primal_ctx_sqrt_0(_S7299);
    float _S7301 = _S7287.rows[int(0)].x;
    float _S7302 = _S7288.rows[int(1)].y;
    float _S7303 = s_primal_ctx_dot_0(mean_c_68, mean_c_68) + 9.99999997475242708e-07f;
    float3  _S7304 = - _S7257.primal_0;
    Matrix<float, 3, 3>  _S7305 = transpose_0(_S7260.primal_0);
    float3  _S7306 = _S7255.primal_0 - - s_primal_ctx_mul_0(_S7305, _S7261.primal_0);
    float _S7307 = s_primal_ctx_dot_0(_S7306, _S7306);
    float _S7308 = s_primal_ctx_rsqrt_0(_S7307);
    float3  _S7309 = make_float3 (_S7308);
    float3  _S7310 = _S7306 * make_float3 (_S7308);
    float _S7311 = s_primal_ctx_dot_0(_S7258[int(7)], _S7310);
    float _S7312 = s_primal_ctx_dot_0(_S7258[int(0)], _S7310) - _S7311;
    float _S7313 = s_primal_ctx_exp_1(_S7312);
    float3  _S7314 = make_float3 (_S7313);
    float _S7315 = s_primal_ctx_dot_0(_S7258[int(1)], _S7310) - _S7311;
    float _S7316 = s_primal_ctx_exp_1(_S7315);
    float3  _S7317 = make_float3 (_S7316);
    float _S7318 = s_primal_ctx_dot_0(_S7258[int(2)], _S7310) - _S7311;
    float _S7319 = s_primal_ctx_exp_1(_S7318);
    float3  _S7320 = make_float3 (_S7319);
    float _S7321 = s_primal_ctx_dot_0(_S7258[int(3)], _S7310) - _S7311;
    float _S7322 = s_primal_ctx_exp_1(_S7321);
    float3  _S7323 = make_float3 (_S7322);
    float _S7324 = s_primal_ctx_dot_0(_S7258[int(4)], _S7310) - _S7311;
    float _S7325 = s_primal_ctx_exp_1(_S7324);
    float3  _S7326 = make_float3 (_S7325);
    float _S7327 = s_primal_ctx_dot_0(_S7258[int(5)], _S7310) - _S7311;
    float _S7328 = s_primal_ctx_exp_1(_S7327);
    float3  _S7329 = make_float3 (_S7328);
    float _S7330 = s_primal_ctx_dot_0(_S7258[int(6)], _S7310) - _S7311;
    float _S7331 = s_primal_ctx_exp_1(_S7330);
    float3  _S7332 = make_float3 (_S7331);
    float _S7333 = s_primal_ctx_exp_1(0.0f);
    float3  _S7334 = make_float3 (_S7333);
    float total_w_12 = _S7313 + _S7316 + _S7319 + _S7322 + _S7325 + _S7328 + _S7331 + _S7333;
    float3  _S7335 = make_float3 (total_w_12);
    float3  total_c_12 = make_float3 (_S7313) * _S7259[int(0)] + make_float3 (_S7316) * _S7259[int(1)] + make_float3 (_S7319) * _S7259[int(2)] + make_float3 (_S7322) * _S7259[int(3)] + make_float3 (_S7325) * _S7259[int(4)] + make_float3 (_S7328) * _S7259[int(5)] + make_float3 (_S7331) * _S7259[int(6)] + make_float3 (_S7333) * _S7259[int(7)];
    float3  _S7336 = make_float3 (total_w_12 * total_w_12);
    float3  _S7337 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7338;
    (&_S7338)->primal_0 = total_c_12 / make_float3 (total_w_12) + make_float3 (0.5f);
    (&_S7338)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7339;
    (&_S7339)->primal_0 = _S7337;
    (&_S7339)->differential_0 = _S7262;
    s_bwd_prop_max_0(&_S7338, &_S7339, dprgb_26);
    float3  _S7340 = _S7338.differential_0 / _S7336;
    float3  _S7341 = total_c_12 * - _S7340;
    float3  s_diff_total_c_T_12 = _S7335 * _S7340;
    float3  _S7342 = _S7334 * s_diff_total_c_T_12;
    float _S7343 = _S7341.x + _S7341.y + _S7341.z;
    float3  _S7344 = _S7332 * s_diff_total_c_T_12;
    float3  _S7345 = _S7259[int(6)] * s_diff_total_c_T_12;
    float _S7346 = _S7343 + _S7345.x + _S7345.y + _S7345.z;
    DiffPair_float_0 _S7347;
    (&_S7347)->primal_0 = _S7330;
    (&_S7347)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7347, _S7346);
    float _S7348 = - _S7347.differential_0;
    float3  _S7349 = _S7329 * s_diff_total_c_T_12;
    float3  _S7350 = _S7259[int(5)] * s_diff_total_c_T_12;
    float _S7351 = _S7343 + _S7350.x + _S7350.y + _S7350.z;
    DiffPair_float_0 _S7352;
    (&_S7352)->primal_0 = _S7327;
    (&_S7352)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7352, _S7351);
    float _S7353 = - _S7352.differential_0;
    float3  _S7354 = _S7326 * s_diff_total_c_T_12;
    float3  _S7355 = _S7259[int(4)] * s_diff_total_c_T_12;
    float _S7356 = _S7343 + _S7355.x + _S7355.y + _S7355.z;
    DiffPair_float_0 _S7357;
    (&_S7357)->primal_0 = _S7324;
    (&_S7357)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7357, _S7356);
    float _S7358 = - _S7357.differential_0;
    float3  _S7359 = _S7323 * s_diff_total_c_T_12;
    float3  _S7360 = _S7259[int(3)] * s_diff_total_c_T_12;
    float _S7361 = _S7343 + _S7360.x + _S7360.y + _S7360.z;
    DiffPair_float_0 _S7362;
    (&_S7362)->primal_0 = _S7321;
    (&_S7362)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7362, _S7361);
    float _S7363 = - _S7362.differential_0;
    float3  _S7364 = _S7320 * s_diff_total_c_T_12;
    float3  _S7365 = _S7259[int(2)] * s_diff_total_c_T_12;
    float _S7366 = _S7343 + _S7365.x + _S7365.y + _S7365.z;
    DiffPair_float_0 _S7367;
    (&_S7367)->primal_0 = _S7318;
    (&_S7367)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7367, _S7366);
    float _S7368 = - _S7367.differential_0;
    float3  _S7369 = _S7317 * s_diff_total_c_T_12;
    float3  _S7370 = _S7259[int(1)] * s_diff_total_c_T_12;
    float _S7371 = _S7343 + _S7370.x + _S7370.y + _S7370.z;
    DiffPair_float_0 _S7372;
    (&_S7372)->primal_0 = _S7315;
    (&_S7372)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7372, _S7371);
    float _S7373 = - _S7372.differential_0;
    float3  _S7374 = _S7314 * s_diff_total_c_T_12;
    float3  _S7375 = _S7259[int(0)] * s_diff_total_c_T_12;
    float _S7376 = _S7343 + _S7375.x + _S7375.y + _S7375.z;
    DiffPair_float_0 _S7377;
    (&_S7377)->primal_0 = _S7312;
    (&_S7377)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7377, _S7376);
    float _S7378 = _S7348 + _S7353 + _S7358 + _S7363 + _S7368 + _S7373 + - _S7377.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7379;
    (&_S7379)->primal_0 = _S7258[int(7)];
    (&_S7379)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7380;
    (&_S7380)->primal_0 = _S7310;
    (&_S7380)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7379, &_S7380, _S7378);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7381;
    (&_S7381)->primal_0 = _S7258[int(6)];
    (&_S7381)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7382;
    (&_S7382)->primal_0 = _S7310;
    (&_S7382)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7381, &_S7382, _S7347.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7383;
    (&_S7383)->primal_0 = _S7258[int(5)];
    (&_S7383)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7384;
    (&_S7384)->primal_0 = _S7310;
    (&_S7384)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7383, &_S7384, _S7352.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7385;
    (&_S7385)->primal_0 = _S7258[int(4)];
    (&_S7385)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7386;
    (&_S7386)->primal_0 = _S7310;
    (&_S7386)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7385, &_S7386, _S7357.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7387;
    (&_S7387)->primal_0 = _S7258[int(3)];
    (&_S7387)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7388;
    (&_S7388)->primal_0 = _S7310;
    (&_S7388)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7387, &_S7388, _S7362.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7389;
    (&_S7389)->primal_0 = _S7258[int(2)];
    (&_S7389)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7390;
    (&_S7390)->primal_0 = _S7310;
    (&_S7390)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7389, &_S7390, _S7367.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7391;
    (&_S7391)->primal_0 = _S7258[int(1)];
    (&_S7391)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7392;
    (&_S7392)->primal_0 = _S7310;
    (&_S7392)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7391, &_S7392, _S7372.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7393;
    (&_S7393)->primal_0 = _S7258[int(0)];
    (&_S7393)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7394;
    (&_S7394)->primal_0 = _S7310;
    (&_S7394)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7393, &_S7394, _S7377.differential_0);
    float3  _S7395 = _S7380.differential_0 + _S7382.differential_0 + _S7384.differential_0 + _S7386.differential_0 + _S7388.differential_0 + _S7390.differential_0 + _S7392.differential_0 + _S7394.differential_0;
    float3  _S7396 = _S7306 * _S7395;
    float3  _S7397 = _S7309 * _S7395;
    float _S7398 = _S7396.x + _S7396.y + _S7396.z;
    DiffPair_float_0 _S7399;
    (&_S7399)->primal_0 = _S7307;
    (&_S7399)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7399, _S7398);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7400;
    (&_S7400)->primal_0 = _S7306;
    (&_S7400)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7401;
    (&_S7401)->primal_0 = _S7306;
    (&_S7401)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7400, &_S7401, _S7399.differential_0);
    float3  _S7402 = _S7397 + _S7401.differential_0 + _S7400.differential_0;
    float3  _S7403 = - - _S7402;
    Matrix<float, 3, 3>  _S7404 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7405;
    (&_S7405)->primal_0 = _S7305;
    (&_S7405)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7406;
    (&_S7406)->primal_0 = _S7261.primal_0;
    (&_S7406)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7405, &_S7406, _S7403);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7407 = _S7406;
    Matrix<float, 3, 3>  _S7408 = transpose_0(_S7405.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7409;
    (&_S7409)->primal_0 = _S7304;
    (&_S7409)->differential_0 = _S7262;
    s_bwd_prop_exp_1(&_S7409, dpconic_25);
    float3  _S7410 = - _S7409.differential_0;
    float _S7411 = 0.5f * dpdepth_26;
    DiffPair_float_0 _S7412;
    (&_S7412)->primal_0 = _S7303;
    (&_S7412)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7412, _S7411);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7413;
    (&_S7413)->primal_0 = mean_c_68;
    (&_S7413)->differential_0 = _S7262;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7414;
    (&_S7414)->primal_0 = mean_c_68;
    (&_S7414)->differential_0 = _S7262;
    s_bwd_prop_dot_0(&_S7413, &_S7414, _S7412.differential_0);
    DiffPair_float_0 _S7415;
    (&_S7415)->primal_0 = _S7302;
    (&_S7415)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7415, 0.0f);
    DiffPair_float_0 _S7416;
    (&_S7416)->primal_0 = _S7301;
    (&_S7416)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7416, 0.0f);
    DiffPair_float_0 _S7417;
    (&_S7417)->primal_0 = 3.32999992370605469f;
    (&_S7417)->differential_0 = 0.0f;
    DiffPair_float_0 _S7418;
    (&_S7418)->primal_0 = _S7300;
    (&_S7418)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7417, &_S7418, 0.0f);
    DiffPair_float_0 _S7419;
    (&_S7419)->primal_0 = _S7299;
    (&_S7419)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7419, _S7418.differential_0);
    float _S7420 = 2.0f * _S7419.differential_0;
    DiffPair_float_0 _S7421;
    (&_S7421)->primal_0 = _S7298;
    (&_S7421)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7421, _S7420);
    float _S7422 = dpopacity_27 + 254.9999847412109375f * _S7421.differential_0;
    FixedArray<float3 , 8>  _S7423;
    _S7423[int(0)] = _S7262;
    _S7423[int(1)] = _S7262;
    _S7423[int(2)] = _S7262;
    _S7423[int(3)] = _S7262;
    _S7423[int(4)] = _S7262;
    _S7423[int(5)] = _S7262;
    _S7423[int(6)] = _S7262;
    _S7423[int(7)] = _S7262;
    _S7423[int(7)] = _S7342;
    _S7423[int(6)] = _S7344;
    _S7423[int(5)] = _S7349;
    _S7423[int(4)] = _S7354;
    _S7423[int(3)] = _S7359;
    _S7423[int(2)] = _S7364;
    _S7423[int(1)] = _S7369;
    _S7423[int(0)] = _S7374;
    FixedArray<float3 , 8>  _S7424 = {
        _S7423[int(0)], _S7423[int(1)], _S7423[int(2)], _S7423[int(3)], _S7423[int(4)], _S7423[int(5)], _S7423[int(6)], _S7423[int(7)]
    };
    FixedArray<float3 , 8>  _S7425;
    _S7425[int(0)] = _S7262;
    _S7425[int(1)] = _S7262;
    _S7425[int(2)] = _S7262;
    _S7425[int(3)] = _S7262;
    _S7425[int(4)] = _S7262;
    _S7425[int(5)] = _S7262;
    _S7425[int(6)] = _S7262;
    _S7425[int(7)] = _S7262;
    _S7425[int(7)] = _S7379.differential_0;
    _S7425[int(6)] = _S7381.differential_0;
    _S7425[int(5)] = _S7383.differential_0;
    _S7425[int(4)] = _S7385.differential_0;
    _S7425[int(3)] = _S7387.differential_0;
    _S7425[int(2)] = _S7389.differential_0;
    _S7425[int(1)] = _S7391.differential_0;
    _S7425[int(0)] = _S7393.differential_0;
    FixedArray<float3 , 8>  _S7426 = {
        _S7425[int(0)], _S7425[int(1)], _S7425[int(2)], _S7425[int(3)], _S7425[int(4)], _S7425[int(5)], _S7425[int(6)], _S7425[int(7)]
    };
    float3  _S7427 = _S7414.differential_0 + _S7413.differential_0;
    float2  _S7428 = make_float2 (0.0f, _S7415.differential_0);
    float2  _S7429 = make_float2 (_S7416.differential_0, 0.0f);
    float _S7430;
    if(antialiased_80)
    {
        float _S7431 = _S7295 * _S7422;
        _S7297 = _S7292 * _S7422;
        _S7430 = _S7431;
    }
    else
    {
        _S7297 = _S7422;
        _S7430 = 0.0f;
    }
    float _S7432 = - (_S7297 / _S7296);
    DiffPair_float_0 _S7433;
    (&_S7433)->primal_0 = _S7293;
    (&_S7433)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7433, _S7432);
    float _S7434 = - _S7433.differential_0;
    DiffPair_float_0 _S7435;
    (&_S7435)->primal_0 = _S7291;
    (&_S7435)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7435, _S7430);
    DiffPair_float_0 _S7436;
    (&_S7436)->primal_0 = 0.0f;
    (&_S7436)->differential_0 = 0.0f;
    DiffPair_float_0 _S7437;
    (&_S7437)->primal_0 = _S7289;
    (&_S7437)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7436, &_S7437, _S7435.differential_0);
    float _S7438 = _S7437.differential_0 / _S7290;
    float s_diff_det_blur_T_14 = det_orig_69 * - _S7438;
    float s_diff_det_orig_T_17 = det_blur_37 * _S7438;
    float _S7439 = - s_diff_det_blur_T_14;
    float _S7440 = _S7284 * s_diff_det_blur_T_14;
    float _S7441 = _S7286 * s_diff_det_blur_T_14;
    Matrix<float, 2, 2>  _S7442 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7443 = _S7442;
    _S7443[int(1)] = _S7428;
    _S7443[int(0)] = _S7429;
    float _S7444 = _S7441 + _S7443.rows[int(0)].x;
    float _S7445 = _S7439 + - s_diff_det_orig_T_17;
    float _S7446 = *&(((&_s_diff_ctx_39->_S7206)->rows + (int(0)))->y) * _S7445;
    float _S7447 = *&(((&_s_diff_ctx_39->_S7206)->rows + (int(1)))->x) * _S7445;
    float _S7448 = *&(((&_s_diff_ctx_39->_S7206)->rows + (int(1)))->y) * s_diff_det_orig_T_17;
    float _S7449 = _S7440 + _S7443.rows[int(1)].y + *&(((&_s_diff_ctx_39->_S7206)->rows + (int(0)))->x) * s_diff_det_orig_T_17;
    float2  _S7450 = make_float2 (0.0f);
    float2  _S7451 = _S7450;
    *&((&_S7451)->x) = _S7446;
    *&((&_S7451)->y) = _S7449;
    float _S7452 = _S7444 + _S7448;
    float2  _S7453 = _S7450;
    *&((&_S7453)->y) = _S7447;
    *&((&_S7453)->x) = _S7452;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7454;
    (&_S7454)->primal_0 = _S7260.primal_0;
    (&_S7454)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7455;
    (&_S7455)->primal_0 = _S7281;
    (&_S7455)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7454, &_S7455, _S7262);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7456;
    (&_S7456)->primal_0 = _S7260.primal_0;
    (&_S7456)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7457;
    (&_S7457)->primal_0 = _S7277;
    (&_S7457)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7456, &_S7457, _S7262);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7458;
    (&_S7458)->primal_0 = _S7260.primal_0;
    (&_S7458)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7459;
    (&_S7459)->primal_0 = _S7273;
    (&_S7459)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7458, &_S7459, _S7262);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7460;
    (&_S7460)->primal_0 = _S7260.primal_0;
    (&_S7460)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7461;
    (&_S7461)->primal_0 = _S7280;
    (&_S7461)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7460, &_S7461, _S7262);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7462;
    (&_S7462)->primal_0 = _S7260.primal_0;
    (&_S7462)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7463;
    (&_S7463)->primal_0 = _S7276;
    (&_S7463)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7462, &_S7463, _S7262);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7464;
    (&_S7464)->primal_0 = _S7260.primal_0;
    (&_S7464)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7465;
    (&_S7465)->primal_0 = _S7272;
    (&_S7465)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7464, &_S7465, _S7262);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7466;
    (&_S7466)->primal_0 = _S7260.primal_0;
    (&_S7466)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7467;
    (&_S7467)->primal_0 = _S7282.p_0[0U];
    (&_S7467)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7466, &_S7467, _S7262);
    float3  _S7468 = - _S7455.differential_0 + _S7461.differential_0;
    float3  _S7469 = _S7279 * _S7468;
    float3  _S7470 = _S7265.rows[2U] * _S7468;
    float _S7471 = _S7269 * (_S7470.x + _S7470.y + _S7470.z);
    float3  _S7472 = - _S7457.differential_0 + _S7463.differential_0;
    float3  _S7473 = _S7275 * _S7472;
    float3  _S7474 = _S7265.rows[1U] * _S7472;
    float _S7475 = _S7269 * (_S7474.x + _S7474.y + _S7474.z);
    float3  _S7476 = - _S7459.differential_0 + _S7465.differential_0;
    float3  _S7477 = _S7271 * _S7476;
    float3  _S7478 = _S7265.rows[0U] * _S7476;
    float _S7479 = _S7269 * (_S7478.x + _S7478.y + _S7478.z);
    Matrix<float, 3, 3>  _S7480 = _S7404;
    _S7480[2U] = _S7469;
    _S7480[1U] = _S7473;
    _S7480[0U] = _S7477;
    Matrix<float, 3, 3>  _S7481 = transpose_0(transpose_0(_S7480));
    float _S7482 = 2.0f * - _S7481.rows[int(2)].z;
    float _S7483 = 2.0f * _S7481.rows[int(2)].y;
    float _S7484 = 2.0f * _S7481.rows[int(2)].x;
    float _S7485 = 2.0f * _S7481.rows[int(1)].z;
    float _S7486 = 2.0f * - _S7481.rows[int(1)].y;
    float _S7487 = 2.0f * _S7481.rows[int(1)].x;
    float _S7488 = 2.0f * _S7481.rows[int(0)].z;
    float _S7489 = 2.0f * _S7481.rows[int(0)].y;
    float _S7490 = 2.0f * - _S7481.rows[int(0)].x;
    float _S7491 = - _S7487 + _S7489;
    float _S7492 = _S7484 + - _S7488;
    float _S7493 = - _S7483 + _S7485;
    float _S7494 = _S7483 + _S7485;
    float _S7495 = _S7484 + _S7488;
    float _S7496 = _S7487 + _S7489;
    float _S7497 = _S7256.primal_0.w * (_S7486 + _S7490);
    float _S7498 = _S7256.primal_0.z * (_S7482 + _S7490);
    float _S7499 = _S7256.primal_0.y * (_S7482 + _S7486);
    float _S7500 = _S7256.primal_0.x * _S7491 + _S7256.primal_0.z * _S7494 + _S7256.primal_0.y * _S7495 + _S7497 + _S7497;
    float _S7501 = _S7256.primal_0.x * _S7492 + _S7256.primal_0.w * _S7494 + _S7256.primal_0.y * _S7496 + _S7498 + _S7498;
    float _S7502 = _S7256.primal_0.x * _S7493 + _S7256.primal_0.w * _S7495 + _S7256.primal_0.z * _S7496 + _S7499 + _S7499;
    float _S7503 = _S7256.primal_0.w * _S7491 + _S7256.primal_0.z * _S7492 + _S7256.primal_0.y * _S7493;
    float3  _S7504 = _S7262;
    *&((&_S7504)->z) = _S7471;
    *&((&_S7504)->y) = _S7475;
    *&((&_S7504)->x) = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7505;
    (&_S7505)->primal_0 = _S7257.primal_0;
    (&_S7505)->differential_0 = _S7262;
    s_bwd_prop_exp_1(&_S7505, _S7504);
    Matrix<float, 2, 2>  _S7506 = _S7442;
    _S7506[int(1)] = _S7451;
    _S7506[int(0)] = _S7453;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7507;
    (&_S7507)->primal_0 = _S7260.primal_0;
    (&_S7507)->differential_0 = _S7404;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7508;
    (&_S7508)->primal_0 = _S7255.primal_0;
    (&_S7508)->differential_0 = _S7262;
    s_bwd_prop_mul_1(&_S7507, &_S7508, _S7427);
    float3  _S7509 = _S7427 + _S7407.differential_0;
    dpt_26->primal_0 = (*dpt_26).primal_0;
    dpt_26->differential_0 = _S7509;
    Matrix<float, 3, 3>  _S7510 = _S7454.differential_0 + _S7456.differential_0 + _S7458.differential_0 + _S7460.differential_0 + _S7462.differential_0 + _S7464.differential_0 + _S7466.differential_0 + _S7507.differential_0 + _S7408;
    dpR_27->primal_0 = (*dpR_27).primal_0;
    dpR_27->differential_0 = _S7510;
    dpsv_colors_25->primal_0 = dpsv_colors_25->primal_0;
    dpsv_colors_25->differential_0 = _S7424;
    dpsv_sites_25->primal_0 = dpsv_sites_25->primal_0;
    dpsv_sites_25->differential_0 = _S7426;
    dpin_opacity_25->primal_0 = (*dpin_opacity_25).primal_0;
    dpin_opacity_25->differential_0 = _S7434;
    float3  _S7511 = _S7505.differential_0 + _S7410;
    dpscale_26->primal_0 = (*dpscale_26).primal_0;
    dpscale_26->differential_0 = _S7511;
    float4  _S7512 = make_float4 (0.0f);
    *&((&_S7512)->w) = _S7500;
    *&((&_S7512)->z) = _S7501;
    *&((&_S7512)->y) = _S7502;
    *&((&_S7512)->x) = _S7503;
    dpquat_26->primal_0 = (*dpquat_26).primal_0;
    dpquat_26->differential_0 = _S7512;
    float3  _S7513 = _S7455.differential_0 + _S7461.differential_0 + _S7457.differential_0 + _S7463.differential_0 + _S7459.differential_0 + _S7465.differential_0 + _S7508.differential_0 + _S7402;
    dpmean_27->primal_0 = (*dpmean_27).primal_0;
    dpmean_27->differential_0 = _S7513;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_6(bool _S7514, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7515, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7516, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7517, DiffPair_float_0 * _S7518, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7519, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7520, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7521, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7522, float _S7523, float _S7524, float _S7525, float _S7526, FixedArray<float, 10>  * _S7527, uint _S7528, uint _S7529, float _S7530, float _S7531, float2  _S7532, float _S7533, float3  _S7534, float _S7535, float3  _S7536)
{
    FixedArray<float3 , 8>  _S7537 = _S7519->primal_0;
    FixedArray<float3 , 8>  _S7538 = _S7520->primal_0;
    int4  _S7539;
    float2  _S7540;
    float _S7541;
    float3  _S7542;
    float _S7543;
    float3  _S7544;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S7545;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(_S7514, (*_S7515).primal_0, (*_S7516).primal_0, (*_S7517).primal_0, (*_S7518).primal_0, &_S7537, &_S7538, (*_S7521).primal_0, (*_S7522).primal_0, _S7523, _S7524, _S7525, _S7526, _S7527, _S7528, _S7529, _S7530, _S7531, &_S7539, &_S7540, &_S7541, &_S7542, &_S7543, &_S7544, &_S7545);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S7546 = _S7545;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(_S7514, _S7515, _S7516, _S7517, _S7518, _S7519, _S7520, _S7521, _S7522, _S7523, _S7524, _S7525, _S7526, _S7527, _S7528, _S7529, _S7530, _S7531, _S7532, _S7533, _S7534, _S7535, _S7536, &_S7546);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_81, float3  mean_60, float4  quat_61, float3  scale_60, float in_opacity_55, FixedArray<float3 , 8>  * sv_sites_40, FixedArray<float3 , 8>  * sv_colors_40, Matrix<float, 3, 3>  R_62, float3  t_58, float fx_90, float fy_90, float cx_85, float cy_85, FixedArray<float, 10>  * dist_coeffs_94, uint image_width_81, uint image_height_81, float2  v_mean2d_17, float v_depth_18, float3  v_conic_17, float v_opacity_19, float3  v_rgb_18, float3  * v_mean_19, float4  * v_quat_18, float3  * v_scale_18, float * v_in_opacity_17, FixedArray<float3 , 8>  * v_sv_dirs_12, FixedArray<float3 , 8>  * v_sv_colors_12, Matrix<float, 3, 3>  * v_R_19, float3  * v_t_18)
{
    float3  _S7547 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_14;
    (&dp_mean_14)->primal_0 = mean_60;
    (&dp_mean_14)->differential_0 = _S7547;
    float4  _S7548 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_13;
    (&dp_quat_13)->primal_0 = quat_61;
    (&dp_quat_13)->differential_0 = _S7548;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_13;
    (&dp_scale_13)->primal_0 = scale_60;
    (&dp_scale_13)->differential_0 = _S7547;
    DiffPair_float_0 dp_in_opacity_12;
    (&dp_in_opacity_12)->primal_0 = in_opacity_55;
    (&dp_in_opacity_12)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S7549 = { _S7547, _S7547, _S7547, _S7547, _S7547, _S7547, _S7547, _S7547 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_12;
    (&dp_sv_dirs_12)->primal_0 = *sv_sites_40;
    (&dp_sv_dirs_12)->differential_0 = _S7549;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_12;
    (&dp_sv_colors_12)->primal_0 = *sv_colors_40;
    (&dp_sv_colors_12)->differential_0 = _S7549;
    Matrix<float, 3, 3>  _S7550 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_14;
    (&dp_R_14)->primal_0 = R_62;
    (&dp_R_14)->differential_0 = _S7550;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_13;
    (&dp_t_13)->primal_0 = t_58;
    (&dp_t_13)->differential_0 = _S7547;
    s_bwd_projection_3dgut_sv_persp_differentiable_6(antialiased_81, &dp_mean_14, &dp_quat_13, &dp_scale_13, &dp_in_opacity_12, &dp_sv_dirs_12, &dp_sv_colors_12, &dp_R_14, &dp_t_13, fx_90, fy_90, cx_85, cy_85, dist_coeffs_94, image_width_81, image_height_81, 0.0f, 1.00000001504746622e+30f, v_mean2d_17, v_depth_18, v_conic_17, v_opacity_19, v_rgb_18);
    *v_mean_19 = dp_mean_14.differential_0;
    *v_quat_18 = dp_quat_13.differential_0;
    *v_scale_18 = dp_scale_13.differential_0;
    *v_in_opacity_17 = dp_in_opacity_12.differential_0;
    *v_sv_dirs_12 = (&dp_sv_dirs_12)->differential_0;
    *v_sv_colors_12 = (&dp_sv_colors_12)->differential_0;
    *v_R_19 = dp_R_14.differential_0;
    *v_t_18 = dp_t_13.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S7551;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_82, float3  dpmean_28, float4  dpquat_27, float3  dpscale_27, float dpin_opacity_26, FixedArray<float3 , 8>  * dpsv_sites_26, FixedArray<float3 , 8>  * dpsv_colors_26, Matrix<float, 3, 3>  dpR_28, float3  dpt_27, float fx_91, float fy_91, float cx_86, float cy_86, FixedArray<float, 10>  * dist_coeffs_95, uint image_width_82, uint image_height_82, float near_plane_64, float far_plane_64, int4  * aabb_xyxy_51, float2  * dpmean2d_28, float * dpdepth_27, float3  * dpconic_26, float * dpopacity_28, float3  * dprgb_27, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_40)
{
    Matrix<float, 2, 2>  _S7552 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_40->_S7551 = _S7552;
    float2  _S7553 = make_float2 (0.0f);
    float3  _S7554 = make_float3 (0.0f);
    float3  mean_c_69 = s_primal_ctx_mul_0(dpR_28, dpmean_28) + dpt_27;
    float4  intrins_55 = make_float4 (fx_91, fy_91, cx_86, cy_86);
    float3  _S7555 = s_primal_ctx_exp_0(dpscale_27);
    float _S7556 = dpquat_27.y;
    float x2_75 = _S7556 * _S7556;
    float y2_75 = dpquat_27.z * dpquat_27.z;
    float z2_90 = dpquat_27.w * dpquat_27.w;
    float xy_75 = dpquat_27.y * dpquat_27.z;
    float xz_75 = dpquat_27.y * dpquat_27.w;
    float yz_75 = dpquat_27.z * dpquat_27.w;
    float wx_75 = dpquat_27.x * dpquat_27.y;
    float wy_75 = dpquat_27.x * dpquat_27.z;
    float wz_75 = dpquat_27.x * dpquat_27.w;
    Matrix<float, 3, 3>  _S7557 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_75 + z2_90), 2.0f * (xy_75 + wz_75), 2.0f * (xz_75 - wy_75), 2.0f * (xy_75 - wz_75), 1.0f - 2.0f * (x2_75 + z2_90), 2.0f * (yz_75 + wx_75), 2.0f * (xz_75 + wy_75), 2.0f * (yz_75 - wx_75), 1.0f - 2.0f * (x2_75 + y2_75))));
    FixedArray<float3 , 7>  _S7558 = {
        _S7554, _S7554, _S7554, _S7554, _S7554, _S7554, _S7554
    };
    FixedArray<float, 7>  _S7559 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7560;
    (&_S7560)->p_0 = _S7558;
    (&_S7560)->w_mean_0 = _S7559;
    (&_S7560)->w_cov_0 = _S7559;
    (&_S7560)->p_0[int(0)] = dpmean_28;
    SigmaPoints_0 _S7561 = _S7560;
    (&_S7561)->w_mean_0[int(0)] = 0.0f;
    (&_S7561)->w_cov_0[int(0)] = 2.0f;
    float _S7562 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_180 = make_float3 (_S7562 * _S7555.x) * _S7557.rows[0U];
    float3  _S7563 = dpmean_28 + delta_180;
    float3  _S7564 = dpmean_28 - delta_180;
    float3  delta_181 = make_float3 (_S7562 * _S7555.y) * _S7557.rows[1U];
    float3  _S7565 = dpmean_28 + delta_181;
    float3  _S7566 = dpmean_28 - delta_181;
    float3  delta_182 = make_float3 (_S7562 * _S7555.z) * _S7557.rows[2U];
    float3  _S7567 = dpmean_28 + delta_182;
    float3  _S7568 = dpmean_28 - delta_182;
    (&_S7561)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7561)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7561)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7561)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7561)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7561)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7561)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7561)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7561)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7561)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7561)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7561)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7561)->p_0[0U] = s_primal_ctx_mul_0(dpR_28, _S7560.p_0[0U]) + dpt_27;
    (&_S7561)->p_0[1U] = s_primal_ctx_mul_0(dpR_28, _S7563) + dpt_27;
    (&_S7561)->p_0[2U] = s_primal_ctx_mul_0(dpR_28, _S7565) + dpt_27;
    (&_S7561)->p_0[3U] = s_primal_ctx_mul_0(dpR_28, _S7567) + dpt_27;
    (&_S7561)->p_0[4U] = s_primal_ctx_mul_0(dpR_28, _S7564) + dpt_27;
    (&_S7561)->p_0[5U] = s_primal_ctx_mul_0(dpR_28, _S7566) + dpt_27;
    (&_S7561)->p_0[6U] = s_primal_ctx_mul_0(dpR_28, _S7568) + dpt_27;
    float2  _S7569 = _S7553;
    Matrix<float, 2, 2>  _S7570 = _S7552;
    SigmaPoints_0 _S7571 = _S7561;
    bool _S7572 = fisheye_proj_3dgs_ut_1(&_S7571, intrins_55, dist_coeffs_95, &_S7570, &_S7569);
    _s_diff_ctx_40->_S7551 = _S7570;
    float2  _S7573 = _S7569;
    float _S7574 = _S7570.rows[int(0)].y * _S7570.rows[int(1)].x;
    float det_orig_70 = _S7570.rows[int(0)].x * _S7570.rows[int(1)].y - _S7574;
    float _S7575 = _S7570.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7576 = _S7570;
    *&(((&_S7576)->rows + (int(0)))->x) = _S7575;
    float _S7577 = _S7570.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7576)->rows + (int(1)))->y) = _S7577;
    Matrix<float, 2, 2>  _S7578 = _S7576;
    Matrix<float, 2, 2>  _S7579 = _S7576;
    float _S7580 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_70 / (_S7575 * _S7577 - _S7574)));
    float _S7581 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_26));
    float _S7582;
    if(antialiased_82)
    {
        _S7582 = _S7581 * _S7580;
    }
    else
    {
        _S7582 = _S7581;
    }
    float _S7583 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7582 / 0.00392156885936856f)));
    float radius_x_51 = _S7583 * s_primal_ctx_sqrt_0(_S7578.rows[int(0)].x);
    float radius_y_51 = _S7583 * s_primal_ctx_sqrt_0(_S7579.rows[int(1)].y);
    float _S7584 = _S7573.x;
    float _S7585 = _S7573.y;
    float _S7586 = 0.5f * s_primal_ctx_log_0(s_primal_ctx_dot_0(mean_c_69, mean_c_69) + 9.99999997475242708e-07f);
    float3  _S7587 = s_primal_ctx_exp_0(- dpscale_27);
    float3  _S7588 = dpmean_28 - - s_primal_ctx_mul_0(transpose_0(dpR_28), dpt_27);
    float3  _S7589 = _S7588 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7588, _S7588)));
    float _S7590 = s_primal_ctx_dot_0((*dpsv_sites_26)[int(7)], _S7589);
    float _S7591 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(0)], _S7589) - _S7590);
    float _S7592 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(1)], _S7589) - _S7590);
    float _S7593 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(2)], _S7589) - _S7590);
    float _S7594 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(3)], _S7589) - _S7590);
    float _S7595 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(4)], _S7589) - _S7590);
    float _S7596 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(5)], _S7589) - _S7590);
    float _S7597 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(6)], _S7589) - _S7590);
    float _S7598 = s_primal_ctx_exp_1(0.0f);
    float3  _S7599 = s_primal_ctx_max_1((make_float3 (_S7591) * (*dpsv_colors_26)[int(0)] + make_float3 (_S7592) * (*dpsv_colors_26)[int(1)] + make_float3 (_S7593) * (*dpsv_colors_26)[int(2)] + make_float3 (_S7594) * (*dpsv_colors_26)[int(3)] + make_float3 (_S7595) * (*dpsv_colors_26)[int(4)] + make_float3 (_S7596) * (*dpsv_colors_26)[int(5)] + make_float3 (_S7597) * (*dpsv_colors_26)[int(6)] + make_float3 (_S7598) * (*dpsv_colors_26)[int(7)]) / make_float3 (_S7591 + _S7592 + _S7593 + _S7594 + _S7595 + _S7596 + _S7597 + _S7598) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_51 = make_int4 (int((F32_floor((_S7584 - radius_x_51)))), int((F32_floor((_S7585 - radius_y_51)))), int((F32_ceil((_S7584 + radius_x_51)))), int((F32_ceil((_S7585 + radius_y_51)))));
    *dpmean2d_28 = _S7573;
    *dpdepth_27 = _S7586;
    *dpconic_26 = _S7587;
    *dpopacity_28 = _S7582;
    *dprgb_27 = _S7599;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_83, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_29, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_28, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_28, DiffPair_float_0 * dpin_opacity_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_27, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_29, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_28, float fx_92, float fy_92, float cx_87, float cy_87, FixedArray<float, 10>  * dist_coeffs_96, uint image_width_83, uint image_height_83, float near_plane_65, float far_plane_65, float2  dpmean2d_29, float dpdepth_28, float3  dpconic_27, float dpopacity_29, float3  dprgb_28, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_41)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7600 = *dpmean_29;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7601 = *dpquat_28;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7602 = *dpscale_28;
    FixedArray<float3 , 8>  _S7603 = dpsv_sites_27->primal_0;
    FixedArray<float3 , 8>  _S7604 = dpsv_colors_27->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7605 = *dpR_29;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7606 = *dpt_28;
    float3  _S7607 = make_float3 (0.0f);
    float3  mean_c_70 = s_primal_ctx_mul_0((*dpR_29).primal_0, (*dpmean_29).primal_0) + (*dpt_28).primal_0;
    float3  _S7608 = s_primal_ctx_exp_0((*dpscale_28).primal_0);
    float _S7609 = (*dpquat_28).primal_0.y;
    float x2_76 = _S7609 * _S7609;
    float y2_76 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.z;
    float z2_91 = (*dpquat_28).primal_0.w * (*dpquat_28).primal_0.w;
    float xy_76 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.z;
    float xz_76 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.w;
    float yz_76 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.w;
    float wx_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.y;
    float wy_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.z;
    float wz_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.w;
    Matrix<float, 3, 3>  _S7610 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_76 + z2_91), 2.0f * (xy_76 + wz_76), 2.0f * (xz_76 - wy_76), 2.0f * (xy_76 - wz_76), 1.0f - 2.0f * (x2_76 + z2_91), 2.0f * (yz_76 + wx_76), 2.0f * (xz_76 + wy_76), 2.0f * (yz_76 - wx_76), 1.0f - 2.0f * (x2_76 + y2_76))));
    FixedArray<float3 , 7>  _S7611 = {
        _S7607, _S7607, _S7607, _S7607, _S7607, _S7607, _S7607
    };
    FixedArray<float, 7>  _S7612 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7613;
    (&_S7613)->p_0 = _S7611;
    (&_S7613)->w_mean_0 = _S7612;
    (&_S7613)->w_cov_0 = _S7612;
    (&_S7613)->p_0[int(0)] = (*dpmean_29).primal_0;
    float _S7614 = s_primal_ctx_sqrt_0(3.0f);
    float _S7615 = _S7614 * _S7608.x;
    float3  _S7616 = make_float3 (_S7615);
    float3  delta_183 = make_float3 (_S7615) * _S7610.rows[0U];
    float3  _S7617 = (*dpmean_29).primal_0 + delta_183;
    float3  _S7618 = (*dpmean_29).primal_0 - delta_183;
    float _S7619 = _S7614 * _S7608.y;
    float3  _S7620 = make_float3 (_S7619);
    float3  delta_184 = make_float3 (_S7619) * _S7610.rows[1U];
    float3  _S7621 = (*dpmean_29).primal_0 + delta_184;
    float3  _S7622 = (*dpmean_29).primal_0 - delta_184;
    float _S7623 = _S7614 * _S7608.z;
    float3  _S7624 = make_float3 (_S7623);
    float3  delta_185 = make_float3 (_S7623) * _S7610.rows[2U];
    float3  _S7625 = (*dpmean_29).primal_0 + delta_185;
    float3  _S7626 = (*dpmean_29).primal_0 - delta_185;
    SigmaPoints_0 _S7627 = _S7613;
    float _S7628 = *&(((&_s_diff_ctx_41->_S7551)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_41->_S7551)->rows + (int(1)))->x);
    float det_orig_71 = *&(((&_s_diff_ctx_41->_S7551)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_41->_S7551)->rows + (int(1)))->y) - _S7628;
    float _S7629 = *&(((&_s_diff_ctx_41->_S7551)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7630 = _s_diff_ctx_41->_S7551;
    *&(((&_S7630)->rows + (int(0)))->x) = _S7629;
    float _S7631 = *&(((&_s_diff_ctx_41->_S7551)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7630)->rows + (int(1)))->y) = _S7631;
    Matrix<float, 2, 2>  _S7632 = _S7630;
    Matrix<float, 2, 2>  _S7633 = _S7630;
    float det_blur_38 = _S7629 * _S7631 - _S7628;
    float _S7634 = det_orig_71 / det_blur_38;
    float _S7635 = det_blur_38 * det_blur_38;
    float _S7636 = s_primal_ctx_max_0(0.0f, _S7634);
    float _S7637 = s_primal_ctx_sqrt_0(_S7636);
    float _S7638 = - (*dpin_opacity_27).primal_0;
    float _S7639 = 1.0f + s_primal_ctx_exp_1(_S7638);
    float _S7640 = 1.0f / _S7639;
    float _S7641 = _S7639 * _S7639;
    float _S7642;
    if(antialiased_83)
    {
        _S7642 = _S7640 * _S7637;
    }
    else
    {
        _S7642 = _S7640;
    }
    float _S7643 = _S7642 / 0.00392156885936856f;
    float _S7644 = 2.0f * s_primal_ctx_log_0(_S7643);
    float _S7645 = s_primal_ctx_sqrt_0(_S7644);
    float _S7646 = _S7632.rows[int(0)].x;
    float _S7647 = _S7633.rows[int(1)].y;
    float _S7648 = s_primal_ctx_dot_0(mean_c_70, mean_c_70) + 9.99999997475242708e-07f;
    float3  _S7649 = - _S7602.primal_0;
    Matrix<float, 3, 3>  _S7650 = transpose_0(_S7605.primal_0);
    float3  _S7651 = _S7600.primal_0 - - s_primal_ctx_mul_0(_S7650, _S7606.primal_0);
    float _S7652 = s_primal_ctx_dot_0(_S7651, _S7651);
    float _S7653 = s_primal_ctx_rsqrt_0(_S7652);
    float3  _S7654 = make_float3 (_S7653);
    float3  _S7655 = _S7651 * make_float3 (_S7653);
    float _S7656 = s_primal_ctx_dot_0(_S7603[int(7)], _S7655);
    float _S7657 = s_primal_ctx_dot_0(_S7603[int(0)], _S7655) - _S7656;
    float _S7658 = s_primal_ctx_exp_1(_S7657);
    float3  _S7659 = make_float3 (_S7658);
    float _S7660 = s_primal_ctx_dot_0(_S7603[int(1)], _S7655) - _S7656;
    float _S7661 = s_primal_ctx_exp_1(_S7660);
    float3  _S7662 = make_float3 (_S7661);
    float _S7663 = s_primal_ctx_dot_0(_S7603[int(2)], _S7655) - _S7656;
    float _S7664 = s_primal_ctx_exp_1(_S7663);
    float3  _S7665 = make_float3 (_S7664);
    float _S7666 = s_primal_ctx_dot_0(_S7603[int(3)], _S7655) - _S7656;
    float _S7667 = s_primal_ctx_exp_1(_S7666);
    float3  _S7668 = make_float3 (_S7667);
    float _S7669 = s_primal_ctx_dot_0(_S7603[int(4)], _S7655) - _S7656;
    float _S7670 = s_primal_ctx_exp_1(_S7669);
    float3  _S7671 = make_float3 (_S7670);
    float _S7672 = s_primal_ctx_dot_0(_S7603[int(5)], _S7655) - _S7656;
    float _S7673 = s_primal_ctx_exp_1(_S7672);
    float3  _S7674 = make_float3 (_S7673);
    float _S7675 = s_primal_ctx_dot_0(_S7603[int(6)], _S7655) - _S7656;
    float _S7676 = s_primal_ctx_exp_1(_S7675);
    float3  _S7677 = make_float3 (_S7676);
    float _S7678 = s_primal_ctx_exp_1(0.0f);
    float3  _S7679 = make_float3 (_S7678);
    float total_w_13 = _S7658 + _S7661 + _S7664 + _S7667 + _S7670 + _S7673 + _S7676 + _S7678;
    float3  _S7680 = make_float3 (total_w_13);
    float3  total_c_13 = make_float3 (_S7658) * _S7604[int(0)] + make_float3 (_S7661) * _S7604[int(1)] + make_float3 (_S7664) * _S7604[int(2)] + make_float3 (_S7667) * _S7604[int(3)] + make_float3 (_S7670) * _S7604[int(4)] + make_float3 (_S7673) * _S7604[int(5)] + make_float3 (_S7676) * _S7604[int(6)] + make_float3 (_S7678) * _S7604[int(7)];
    float3  _S7681 = make_float3 (total_w_13 * total_w_13);
    float3  _S7682 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7683;
    (&_S7683)->primal_0 = total_c_13 / make_float3 (total_w_13) + make_float3 (0.5f);
    (&_S7683)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7684;
    (&_S7684)->primal_0 = _S7682;
    (&_S7684)->differential_0 = _S7607;
    s_bwd_prop_max_0(&_S7683, &_S7684, dprgb_28);
    float3  _S7685 = _S7683.differential_0 / _S7681;
    float3  _S7686 = total_c_13 * - _S7685;
    float3  s_diff_total_c_T_13 = _S7680 * _S7685;
    float3  _S7687 = _S7679 * s_diff_total_c_T_13;
    float _S7688 = _S7686.x + _S7686.y + _S7686.z;
    float3  _S7689 = _S7677 * s_diff_total_c_T_13;
    float3  _S7690 = _S7604[int(6)] * s_diff_total_c_T_13;
    float _S7691 = _S7688 + _S7690.x + _S7690.y + _S7690.z;
    DiffPair_float_0 _S7692;
    (&_S7692)->primal_0 = _S7675;
    (&_S7692)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7692, _S7691);
    float _S7693 = - _S7692.differential_0;
    float3  _S7694 = _S7674 * s_diff_total_c_T_13;
    float3  _S7695 = _S7604[int(5)] * s_diff_total_c_T_13;
    float _S7696 = _S7688 + _S7695.x + _S7695.y + _S7695.z;
    DiffPair_float_0 _S7697;
    (&_S7697)->primal_0 = _S7672;
    (&_S7697)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7697, _S7696);
    float _S7698 = - _S7697.differential_0;
    float3  _S7699 = _S7671 * s_diff_total_c_T_13;
    float3  _S7700 = _S7604[int(4)] * s_diff_total_c_T_13;
    float _S7701 = _S7688 + _S7700.x + _S7700.y + _S7700.z;
    DiffPair_float_0 _S7702;
    (&_S7702)->primal_0 = _S7669;
    (&_S7702)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7702, _S7701);
    float _S7703 = - _S7702.differential_0;
    float3  _S7704 = _S7668 * s_diff_total_c_T_13;
    float3  _S7705 = _S7604[int(3)] * s_diff_total_c_T_13;
    float _S7706 = _S7688 + _S7705.x + _S7705.y + _S7705.z;
    DiffPair_float_0 _S7707;
    (&_S7707)->primal_0 = _S7666;
    (&_S7707)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7707, _S7706);
    float _S7708 = - _S7707.differential_0;
    float3  _S7709 = _S7665 * s_diff_total_c_T_13;
    float3  _S7710 = _S7604[int(2)] * s_diff_total_c_T_13;
    float _S7711 = _S7688 + _S7710.x + _S7710.y + _S7710.z;
    DiffPair_float_0 _S7712;
    (&_S7712)->primal_0 = _S7663;
    (&_S7712)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7712, _S7711);
    float _S7713 = - _S7712.differential_0;
    float3  _S7714 = _S7662 * s_diff_total_c_T_13;
    float3  _S7715 = _S7604[int(1)] * s_diff_total_c_T_13;
    float _S7716 = _S7688 + _S7715.x + _S7715.y + _S7715.z;
    DiffPair_float_0 _S7717;
    (&_S7717)->primal_0 = _S7660;
    (&_S7717)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7717, _S7716);
    float _S7718 = - _S7717.differential_0;
    float3  _S7719 = _S7659 * s_diff_total_c_T_13;
    float3  _S7720 = _S7604[int(0)] * s_diff_total_c_T_13;
    float _S7721 = _S7688 + _S7720.x + _S7720.y + _S7720.z;
    DiffPair_float_0 _S7722;
    (&_S7722)->primal_0 = _S7657;
    (&_S7722)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7722, _S7721);
    float _S7723 = _S7693 + _S7698 + _S7703 + _S7708 + _S7713 + _S7718 + - _S7722.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7724;
    (&_S7724)->primal_0 = _S7603[int(7)];
    (&_S7724)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7725;
    (&_S7725)->primal_0 = _S7655;
    (&_S7725)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7724, &_S7725, _S7723);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7726;
    (&_S7726)->primal_0 = _S7603[int(6)];
    (&_S7726)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7727;
    (&_S7727)->primal_0 = _S7655;
    (&_S7727)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7726, &_S7727, _S7692.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7728;
    (&_S7728)->primal_0 = _S7603[int(5)];
    (&_S7728)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7729;
    (&_S7729)->primal_0 = _S7655;
    (&_S7729)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7728, &_S7729, _S7697.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7730;
    (&_S7730)->primal_0 = _S7603[int(4)];
    (&_S7730)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7731;
    (&_S7731)->primal_0 = _S7655;
    (&_S7731)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7730, &_S7731, _S7702.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7732;
    (&_S7732)->primal_0 = _S7603[int(3)];
    (&_S7732)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7733;
    (&_S7733)->primal_0 = _S7655;
    (&_S7733)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7732, &_S7733, _S7707.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7734;
    (&_S7734)->primal_0 = _S7603[int(2)];
    (&_S7734)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7735;
    (&_S7735)->primal_0 = _S7655;
    (&_S7735)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7734, &_S7735, _S7712.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7736;
    (&_S7736)->primal_0 = _S7603[int(1)];
    (&_S7736)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7737;
    (&_S7737)->primal_0 = _S7655;
    (&_S7737)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7736, &_S7737, _S7717.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7738;
    (&_S7738)->primal_0 = _S7603[int(0)];
    (&_S7738)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7739;
    (&_S7739)->primal_0 = _S7655;
    (&_S7739)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7738, &_S7739, _S7722.differential_0);
    float3  _S7740 = _S7725.differential_0 + _S7727.differential_0 + _S7729.differential_0 + _S7731.differential_0 + _S7733.differential_0 + _S7735.differential_0 + _S7737.differential_0 + _S7739.differential_0;
    float3  _S7741 = _S7651 * _S7740;
    float3  _S7742 = _S7654 * _S7740;
    float _S7743 = _S7741.x + _S7741.y + _S7741.z;
    DiffPair_float_0 _S7744;
    (&_S7744)->primal_0 = _S7652;
    (&_S7744)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7744, _S7743);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7745;
    (&_S7745)->primal_0 = _S7651;
    (&_S7745)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7746;
    (&_S7746)->primal_0 = _S7651;
    (&_S7746)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7745, &_S7746, _S7744.differential_0);
    float3  _S7747 = _S7742 + _S7746.differential_0 + _S7745.differential_0;
    float3  _S7748 = - - _S7747;
    Matrix<float, 3, 3>  _S7749 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7750;
    (&_S7750)->primal_0 = _S7650;
    (&_S7750)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7751;
    (&_S7751)->primal_0 = _S7606.primal_0;
    (&_S7751)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7750, &_S7751, _S7748);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7752 = _S7751;
    Matrix<float, 3, 3>  _S7753 = transpose_0(_S7750.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7754;
    (&_S7754)->primal_0 = _S7649;
    (&_S7754)->differential_0 = _S7607;
    s_bwd_prop_exp_1(&_S7754, dpconic_27);
    float3  _S7755 = - _S7754.differential_0;
    float _S7756 = 0.5f * dpdepth_28;
    DiffPair_float_0 _S7757;
    (&_S7757)->primal_0 = _S7648;
    (&_S7757)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7757, _S7756);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7758;
    (&_S7758)->primal_0 = mean_c_70;
    (&_S7758)->differential_0 = _S7607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7759;
    (&_S7759)->primal_0 = mean_c_70;
    (&_S7759)->differential_0 = _S7607;
    s_bwd_prop_dot_0(&_S7758, &_S7759, _S7757.differential_0);
    DiffPair_float_0 _S7760;
    (&_S7760)->primal_0 = _S7647;
    (&_S7760)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7760, 0.0f);
    DiffPair_float_0 _S7761;
    (&_S7761)->primal_0 = _S7646;
    (&_S7761)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7761, 0.0f);
    DiffPair_float_0 _S7762;
    (&_S7762)->primal_0 = 3.32999992370605469f;
    (&_S7762)->differential_0 = 0.0f;
    DiffPair_float_0 _S7763;
    (&_S7763)->primal_0 = _S7645;
    (&_S7763)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7762, &_S7763, 0.0f);
    DiffPair_float_0 _S7764;
    (&_S7764)->primal_0 = _S7644;
    (&_S7764)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7764, _S7763.differential_0);
    float _S7765 = 2.0f * _S7764.differential_0;
    DiffPair_float_0 _S7766;
    (&_S7766)->primal_0 = _S7643;
    (&_S7766)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7766, _S7765);
    float _S7767 = dpopacity_29 + 254.9999847412109375f * _S7766.differential_0;
    FixedArray<float3 , 8>  _S7768;
    _S7768[int(0)] = _S7607;
    _S7768[int(1)] = _S7607;
    _S7768[int(2)] = _S7607;
    _S7768[int(3)] = _S7607;
    _S7768[int(4)] = _S7607;
    _S7768[int(5)] = _S7607;
    _S7768[int(6)] = _S7607;
    _S7768[int(7)] = _S7607;
    _S7768[int(7)] = _S7687;
    _S7768[int(6)] = _S7689;
    _S7768[int(5)] = _S7694;
    _S7768[int(4)] = _S7699;
    _S7768[int(3)] = _S7704;
    _S7768[int(2)] = _S7709;
    _S7768[int(1)] = _S7714;
    _S7768[int(0)] = _S7719;
    FixedArray<float3 , 8>  _S7769 = {
        _S7768[int(0)], _S7768[int(1)], _S7768[int(2)], _S7768[int(3)], _S7768[int(4)], _S7768[int(5)], _S7768[int(6)], _S7768[int(7)]
    };
    FixedArray<float3 , 8>  _S7770;
    _S7770[int(0)] = _S7607;
    _S7770[int(1)] = _S7607;
    _S7770[int(2)] = _S7607;
    _S7770[int(3)] = _S7607;
    _S7770[int(4)] = _S7607;
    _S7770[int(5)] = _S7607;
    _S7770[int(6)] = _S7607;
    _S7770[int(7)] = _S7607;
    _S7770[int(7)] = _S7724.differential_0;
    _S7770[int(6)] = _S7726.differential_0;
    _S7770[int(5)] = _S7728.differential_0;
    _S7770[int(4)] = _S7730.differential_0;
    _S7770[int(3)] = _S7732.differential_0;
    _S7770[int(2)] = _S7734.differential_0;
    _S7770[int(1)] = _S7736.differential_0;
    _S7770[int(0)] = _S7738.differential_0;
    FixedArray<float3 , 8>  _S7771 = {
        _S7770[int(0)], _S7770[int(1)], _S7770[int(2)], _S7770[int(3)], _S7770[int(4)], _S7770[int(5)], _S7770[int(6)], _S7770[int(7)]
    };
    float3  _S7772 = _S7759.differential_0 + _S7758.differential_0;
    float2  _S7773 = make_float2 (0.0f, _S7760.differential_0);
    float2  _S7774 = make_float2 (_S7761.differential_0, 0.0f);
    float _S7775;
    if(antialiased_83)
    {
        float _S7776 = _S7640 * _S7767;
        _S7642 = _S7637 * _S7767;
        _S7775 = _S7776;
    }
    else
    {
        _S7642 = _S7767;
        _S7775 = 0.0f;
    }
    float _S7777 = - (_S7642 / _S7641);
    DiffPair_float_0 _S7778;
    (&_S7778)->primal_0 = _S7638;
    (&_S7778)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7778, _S7777);
    float _S7779 = - _S7778.differential_0;
    DiffPair_float_0 _S7780;
    (&_S7780)->primal_0 = _S7636;
    (&_S7780)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7780, _S7775);
    DiffPair_float_0 _S7781;
    (&_S7781)->primal_0 = 0.0f;
    (&_S7781)->differential_0 = 0.0f;
    DiffPair_float_0 _S7782;
    (&_S7782)->primal_0 = _S7634;
    (&_S7782)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7781, &_S7782, _S7780.differential_0);
    float _S7783 = _S7782.differential_0 / _S7635;
    float s_diff_det_blur_T_15 = det_orig_71 * - _S7783;
    float s_diff_det_orig_T_18 = det_blur_38 * _S7783;
    float _S7784 = - s_diff_det_blur_T_15;
    float _S7785 = _S7629 * s_diff_det_blur_T_15;
    float _S7786 = _S7631 * s_diff_det_blur_T_15;
    Matrix<float, 2, 2>  _S7787 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7788 = _S7787;
    _S7788[int(1)] = _S7773;
    _S7788[int(0)] = _S7774;
    float _S7789 = _S7786 + _S7788.rows[int(0)].x;
    float _S7790 = _S7784 + - s_diff_det_orig_T_18;
    float _S7791 = *&(((&_s_diff_ctx_41->_S7551)->rows + (int(0)))->y) * _S7790;
    float _S7792 = *&(((&_s_diff_ctx_41->_S7551)->rows + (int(1)))->x) * _S7790;
    float _S7793 = *&(((&_s_diff_ctx_41->_S7551)->rows + (int(1)))->y) * s_diff_det_orig_T_18;
    float _S7794 = _S7785 + _S7788.rows[int(1)].y + *&(((&_s_diff_ctx_41->_S7551)->rows + (int(0)))->x) * s_diff_det_orig_T_18;
    float2  _S7795 = make_float2 (0.0f);
    float2  _S7796 = _S7795;
    *&((&_S7796)->x) = _S7791;
    *&((&_S7796)->y) = _S7794;
    float _S7797 = _S7789 + _S7793;
    float2  _S7798 = _S7795;
    *&((&_S7798)->y) = _S7792;
    *&((&_S7798)->x) = _S7797;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7799;
    (&_S7799)->primal_0 = _S7605.primal_0;
    (&_S7799)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7800;
    (&_S7800)->primal_0 = _S7626;
    (&_S7800)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7799, &_S7800, _S7607);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7801;
    (&_S7801)->primal_0 = _S7605.primal_0;
    (&_S7801)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7802;
    (&_S7802)->primal_0 = _S7622;
    (&_S7802)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7801, &_S7802, _S7607);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7803;
    (&_S7803)->primal_0 = _S7605.primal_0;
    (&_S7803)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7804;
    (&_S7804)->primal_0 = _S7618;
    (&_S7804)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7803, &_S7804, _S7607);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7805;
    (&_S7805)->primal_0 = _S7605.primal_0;
    (&_S7805)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7806;
    (&_S7806)->primal_0 = _S7625;
    (&_S7806)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7805, &_S7806, _S7607);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7807;
    (&_S7807)->primal_0 = _S7605.primal_0;
    (&_S7807)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7808;
    (&_S7808)->primal_0 = _S7621;
    (&_S7808)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7807, &_S7808, _S7607);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7809;
    (&_S7809)->primal_0 = _S7605.primal_0;
    (&_S7809)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7810;
    (&_S7810)->primal_0 = _S7617;
    (&_S7810)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7809, &_S7810, _S7607);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7811;
    (&_S7811)->primal_0 = _S7605.primal_0;
    (&_S7811)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7812;
    (&_S7812)->primal_0 = _S7627.p_0[0U];
    (&_S7812)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7811, &_S7812, _S7607);
    float3  _S7813 = - _S7800.differential_0 + _S7806.differential_0;
    float3  _S7814 = _S7624 * _S7813;
    float3  _S7815 = _S7610.rows[2U] * _S7813;
    float _S7816 = _S7614 * (_S7815.x + _S7815.y + _S7815.z);
    float3  _S7817 = - _S7802.differential_0 + _S7808.differential_0;
    float3  _S7818 = _S7620 * _S7817;
    float3  _S7819 = _S7610.rows[1U] * _S7817;
    float _S7820 = _S7614 * (_S7819.x + _S7819.y + _S7819.z);
    float3  _S7821 = - _S7804.differential_0 + _S7810.differential_0;
    float3  _S7822 = _S7616 * _S7821;
    float3  _S7823 = _S7610.rows[0U] * _S7821;
    float _S7824 = _S7614 * (_S7823.x + _S7823.y + _S7823.z);
    Matrix<float, 3, 3>  _S7825 = _S7749;
    _S7825[2U] = _S7814;
    _S7825[1U] = _S7818;
    _S7825[0U] = _S7822;
    Matrix<float, 3, 3>  _S7826 = transpose_0(transpose_0(_S7825));
    float _S7827 = 2.0f * - _S7826.rows[int(2)].z;
    float _S7828 = 2.0f * _S7826.rows[int(2)].y;
    float _S7829 = 2.0f * _S7826.rows[int(2)].x;
    float _S7830 = 2.0f * _S7826.rows[int(1)].z;
    float _S7831 = 2.0f * - _S7826.rows[int(1)].y;
    float _S7832 = 2.0f * _S7826.rows[int(1)].x;
    float _S7833 = 2.0f * _S7826.rows[int(0)].z;
    float _S7834 = 2.0f * _S7826.rows[int(0)].y;
    float _S7835 = 2.0f * - _S7826.rows[int(0)].x;
    float _S7836 = - _S7832 + _S7834;
    float _S7837 = _S7829 + - _S7833;
    float _S7838 = - _S7828 + _S7830;
    float _S7839 = _S7828 + _S7830;
    float _S7840 = _S7829 + _S7833;
    float _S7841 = _S7832 + _S7834;
    float _S7842 = _S7601.primal_0.w * (_S7831 + _S7835);
    float _S7843 = _S7601.primal_0.z * (_S7827 + _S7835);
    float _S7844 = _S7601.primal_0.y * (_S7827 + _S7831);
    float _S7845 = _S7601.primal_0.x * _S7836 + _S7601.primal_0.z * _S7839 + _S7601.primal_0.y * _S7840 + _S7842 + _S7842;
    float _S7846 = _S7601.primal_0.x * _S7837 + _S7601.primal_0.w * _S7839 + _S7601.primal_0.y * _S7841 + _S7843 + _S7843;
    float _S7847 = _S7601.primal_0.x * _S7838 + _S7601.primal_0.w * _S7840 + _S7601.primal_0.z * _S7841 + _S7844 + _S7844;
    float _S7848 = _S7601.primal_0.w * _S7836 + _S7601.primal_0.z * _S7837 + _S7601.primal_0.y * _S7838;
    float3  _S7849 = _S7607;
    *&((&_S7849)->z) = _S7816;
    *&((&_S7849)->y) = _S7820;
    *&((&_S7849)->x) = _S7824;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7850;
    (&_S7850)->primal_0 = _S7602.primal_0;
    (&_S7850)->differential_0 = _S7607;
    s_bwd_prop_exp_1(&_S7850, _S7849);
    Matrix<float, 2, 2>  _S7851 = _S7787;
    _S7851[int(1)] = _S7796;
    _S7851[int(0)] = _S7798;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7852;
    (&_S7852)->primal_0 = mean_c_70;
    (&_S7852)->differential_0 = _S7607;
    s_bwd_length_impl_1(&_S7852, 0.0f);
    float3  _S7853 = _S7852.differential_0 + _S7772;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7854;
    (&_S7854)->primal_0 = _S7605.primal_0;
    (&_S7854)->differential_0 = _S7749;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7855;
    (&_S7855)->primal_0 = _S7600.primal_0;
    (&_S7855)->differential_0 = _S7607;
    s_bwd_prop_mul_1(&_S7854, &_S7855, _S7853);
    float3  _S7856 = _S7853 + _S7752.differential_0;
    dpt_28->primal_0 = (*dpt_28).primal_0;
    dpt_28->differential_0 = _S7856;
    Matrix<float, 3, 3>  _S7857 = _S7799.differential_0 + _S7801.differential_0 + _S7803.differential_0 + _S7805.differential_0 + _S7807.differential_0 + _S7809.differential_0 + _S7811.differential_0 + _S7854.differential_0 + _S7753;
    dpR_29->primal_0 = (*dpR_29).primal_0;
    dpR_29->differential_0 = _S7857;
    dpsv_colors_27->primal_0 = dpsv_colors_27->primal_0;
    dpsv_colors_27->differential_0 = _S7769;
    dpsv_sites_27->primal_0 = dpsv_sites_27->primal_0;
    dpsv_sites_27->differential_0 = _S7771;
    dpin_opacity_27->primal_0 = (*dpin_opacity_27).primal_0;
    dpin_opacity_27->differential_0 = _S7779;
    float3  _S7858 = _S7850.differential_0 + _S7755;
    dpscale_28->primal_0 = (*dpscale_28).primal_0;
    dpscale_28->differential_0 = _S7858;
    float4  _S7859 = make_float4 (0.0f);
    *&((&_S7859)->w) = _S7845;
    *&((&_S7859)->z) = _S7846;
    *&((&_S7859)->y) = _S7847;
    *&((&_S7859)->x) = _S7848;
    dpquat_28->primal_0 = (*dpquat_28).primal_0;
    dpquat_28->differential_0 = _S7859;
    float3  _S7860 = _S7800.differential_0 + _S7806.differential_0 + _S7802.differential_0 + _S7808.differential_0 + _S7804.differential_0 + _S7810.differential_0 + _S7855.differential_0 + _S7747;
    dpmean_29->primal_0 = (*dpmean_29).primal_0;
    dpmean_29->differential_0 = _S7860;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_6(bool _S7861, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7862, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7863, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7864, DiffPair_float_0 * _S7865, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7866, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7867, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7868, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7869, float _S7870, float _S7871, float _S7872, float _S7873, FixedArray<float, 10>  * _S7874, uint _S7875, uint _S7876, float _S7877, float _S7878, float2  _S7879, float _S7880, float3  _S7881, float _S7882, float3  _S7883)
{
    FixedArray<float3 , 8>  _S7884 = _S7866->primal_0;
    FixedArray<float3 , 8>  _S7885 = _S7867->primal_0;
    int4  _S7886;
    float2  _S7887;
    float _S7888;
    float3  _S7889;
    float _S7890;
    float3  _S7891;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S7892;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(_S7861, (*_S7862).primal_0, (*_S7863).primal_0, (*_S7864).primal_0, (*_S7865).primal_0, &_S7884, &_S7885, (*_S7868).primal_0, (*_S7869).primal_0, _S7870, _S7871, _S7872, _S7873, _S7874, _S7875, _S7876, _S7877, _S7878, &_S7886, &_S7887, &_S7888, &_S7889, &_S7890, &_S7891, &_S7892);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S7893 = _S7892;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(_S7861, _S7862, _S7863, _S7864, _S7865, _S7866, _S7867, _S7868, _S7869, _S7870, _S7871, _S7872, _S7873, _S7874, _S7875, _S7876, _S7877, _S7878, _S7879, _S7880, _S7881, _S7882, _S7883, &_S7893);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_84, float3  mean_61, float4  quat_62, float3  scale_61, float in_opacity_56, FixedArray<float3 , 8>  * sv_sites_41, FixedArray<float3 , 8>  * sv_colors_41, Matrix<float, 3, 3>  R_63, float3  t_59, float fx_93, float fy_93, float cx_88, float cy_88, FixedArray<float, 10>  * dist_coeffs_97, uint image_width_84, uint image_height_84, float2  v_mean2d_18, float v_depth_19, float3  v_conic_18, float v_opacity_20, float3  v_rgb_19, float3  * v_mean_20, float4  * v_quat_19, float3  * v_scale_19, float * v_in_opacity_18, FixedArray<float3 , 8>  * v_sv_dirs_13, FixedArray<float3 , 8>  * v_sv_colors_13, Matrix<float, 3, 3>  * v_R_20, float3  * v_t_19)
{
    float3  _S7894 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_15;
    (&dp_mean_15)->primal_0 = mean_61;
    (&dp_mean_15)->differential_0 = _S7894;
    float4  _S7895 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_14;
    (&dp_quat_14)->primal_0 = quat_62;
    (&dp_quat_14)->differential_0 = _S7895;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_14;
    (&dp_scale_14)->primal_0 = scale_61;
    (&dp_scale_14)->differential_0 = _S7894;
    DiffPair_float_0 dp_in_opacity_13;
    (&dp_in_opacity_13)->primal_0 = in_opacity_56;
    (&dp_in_opacity_13)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S7896 = { _S7894, _S7894, _S7894, _S7894, _S7894, _S7894, _S7894, _S7894 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_13;
    (&dp_sv_dirs_13)->primal_0 = *sv_sites_41;
    (&dp_sv_dirs_13)->differential_0 = _S7896;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_13;
    (&dp_sv_colors_13)->primal_0 = *sv_colors_41;
    (&dp_sv_colors_13)->differential_0 = _S7896;
    Matrix<float, 3, 3>  _S7897 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_15;
    (&dp_R_15)->primal_0 = R_63;
    (&dp_R_15)->differential_0 = _S7897;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_14;
    (&dp_t_14)->primal_0 = t_59;
    (&dp_t_14)->differential_0 = _S7894;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_6(antialiased_84, &dp_mean_15, &dp_quat_14, &dp_scale_14, &dp_in_opacity_13, &dp_sv_dirs_13, &dp_sv_colors_13, &dp_R_15, &dp_t_14, fx_93, fy_93, cx_88, cy_88, dist_coeffs_97, image_width_84, image_height_84, 0.0f, 1.00000001504746622e+30f, v_mean2d_18, v_depth_19, v_conic_18, v_opacity_20, v_rgb_19);
    *v_mean_20 = dp_mean_15.differential_0;
    *v_quat_19 = dp_quat_14.differential_0;
    *v_scale_19 = dp_scale_14.differential_0;
    *v_in_opacity_18 = dp_in_opacity_13.differential_0;
    *v_sv_dirs_13 = (&dp_sv_dirs_13)->differential_0;
    *v_sv_colors_13 = (&dp_sv_colors_13)->differential_0;
    *v_R_20 = dp_R_15.differential_0;
    *v_t_19 = dp_t_14.differential_0;
    return;
}

inline __device__ void _d_abs_0(DiffPair_float_0 * dpx_14, float dOut_18)
{
    float _S7898 = _slang_select(((*dpx_14).primal_0) > 0.0f, 1.0f,_slang_select(((*dpx_14).primal_0) == 0.0f, 0.0f,-1.0f)) * dOut_18;
    dpx_14->primal_0 = (*dpx_14).primal_0;
    dpx_14->differential_0 = _S7898;
    return;
}

inline __device__ void _d_exp2_0(DiffPair_float_0 * dpx_15, float dOut_19)
{
    float _S7899 = (F32_exp2(((*dpx_15).primal_0))) * 50.693145751953125f * dOut_19;
    dpx_15->primal_0 = (*dpx_15).primal_0;
    dpx_15->differential_0 = _S7899;
    return;
}

inline __device__ void _d_log_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_16, float3  dOut_20)
{
    float3  _S7900 = make_float3 (1.0f) / (*dpx_16).primal_0 * dOut_20;
    dpx_16->primal_0 = (*dpx_16).primal_0;
    dpx_16->differential_0 = _S7900;
    return;
}

inline __device__ float3  log_0(float3  x_70)
{
    float3  result_14;
    int i_10 = int(0);
    for(;;)
    {
        if(i_10 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_14, i_10) = (F32_log((_slang_vector_get_element(x_70, i_10))));
        i_10 = i_10 + int(1);
    }
    return result_14;
}

inline __device__ void projection_opaque_triangle_persp(float3  mean_62, float4  quat_63, float3  scale_62, float2  hardness_0, FixedArray<float3 , 16>  * sh_coeffs_15, FixedArray<float3 , 2>  * ch_coeffs_0, Matrix<float, 3, 3>  R_64, float3  t_60, float fx_94, float fy_94, float cx_89, float cy_89, FixedArray<float, 10>  * dist_coeffs_98, uint image_width_85, uint image_height_85, float near_plane_66, float far_plane_66, int4  * aabb_xyxy_52, float2  * uv0_0, float2  * uv1_0, float2  * uv2_0, float3  * depth_39, float2  * out_hardness_0, FixedArray<float3 , 3>  * rgb_40, float3  * normal_0)
{
    for(;;)
    {
        float3  mean_c_71 = mul_0(R_64, mean_62) + t_60;
        float _S7901 = mean_c_71.z;
        bool _S7902;
        if(_S7901 < near_plane_66)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = _S7901 > far_plane_66;
        }
        if(_S7902)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S7903 = scale_62.x;
        float sx_1 = (F32_exp((_S7903)));
        float _S7904 = scale_62.y;
        float sy_1 = (F32_exp((_S7904)));
        float sz_1 = scale_62.z - 0.5f * (_S7903 + _S7904);
        float x_71 = quat_63.y;
        float x2_77 = x_71 * x_71;
        float y2_77 = quat_63.z * quat_63.z;
        float z2_92 = quat_63.w * quat_63.w;
        float xy_77 = quat_63.y * quat_63.z;
        float xz_77 = quat_63.y * quat_63.w;
        float yz_77 = quat_63.z * quat_63.w;
        float wx_77 = quat_63.x * quat_63.y;
        float wy_77 = quat_63.x * quat_63.z;
        float wz_77 = quat_63.x * quat_63.w;
        Matrix<float, 3, 3>  _S7905 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_77 + z2_92), 2.0f * (xy_77 + wz_77), 2.0f * (xz_77 - wy_77), 2.0f * (xy_77 - wz_77), 1.0f - 2.0f * (x2_77 + z2_92), 2.0f * (yz_77 + wx_77), 2.0f * (xz_77 + wy_77), 2.0f * (yz_77 - wx_77), 1.0f - 2.0f * (x2_77 + y2_77)));
        float3  vert0_c_0 = mul_0(R_64, mul_0(_S7905, make_float3 (sx_1, 0.0f, 0.0f)) + mean_62) + t_60;
        float3  vert1_c_0 = mul_0(R_64, mul_0(_S7905, make_float3 (sx_1 * (-0.5f + sz_1), sy_1, 0.0f)) + mean_62) + t_60;
        float3  vert2_c_0 = mul_0(R_64, mul_0(_S7905, make_float3 (sx_1 * (-0.5f - sz_1), - sy_1, 0.0f)) + mean_62) + t_60;
        float _S7906 = vert0_c_0.z;
        float _S7907 = vert1_c_0.z;
        float _S7908 = vert2_c_0.z;
        if(_S7906 < near_plane_66)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = _S7906 > far_plane_66;
        }
        if(_S7902)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = _S7907 < near_plane_66;
        }
        if(_S7902)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = _S7907 > far_plane_66;
        }
        if(_S7902)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = _S7908 < near_plane_66;
        }
        if(_S7902)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = _S7908 > far_plane_66;
        }
        if(_S7902)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        for(;;)
        {
            *uv0_0 = float2 {vert0_c_0.x, vert0_c_0.y} / make_float2 (_S7906);
            if(_S7906 < 0.0f)
            {
                _S7902 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S7909 = camera_distortion_jac_0(*uv0_0, dist_coeffs_98);
                _S7902 = !((F32_min((determinant_0(_S7909)), ((F32_min((_S7909.rows[int(0)].x), (_S7909.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S7902)
            {
                break;
            }
            float u_44 = (*uv0_0).x;
            float v_44 = (*uv0_0).y;
            float r2_44 = u_44 * u_44 + v_44 * v_44;
            float2  _S7910 = *uv0_0 * make_float2 (1.0f + r2_44 * ((*dist_coeffs_98)[int(0)] + r2_44 * ((*dist_coeffs_98)[int(1)] + r2_44 * ((*dist_coeffs_98)[int(2)] + r2_44 * (*dist_coeffs_98)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_98)[int(4)] * u_44 * v_44 + (*dist_coeffs_98)[int(5)] * (r2_44 + 2.0f * u_44 * u_44) + (*dist_coeffs_98)[int(6)] * r2_44, 2.0f * (*dist_coeffs_98)[int(5)] * u_44 * v_44 + (*dist_coeffs_98)[int(4)] * (r2_44 + 2.0f * v_44 * v_44) + (*dist_coeffs_98)[int(7)] * r2_44);
            float2  _S7911 = _S7910 + make_float2 ((*dist_coeffs_98)[int(8)] * _S7910.x + (*dist_coeffs_98)[int(9)] * _S7910.y, 0.0f);
            *uv0_0 = make_float2 (fx_94 * _S7911.x + cx_89, fy_94 * _S7911.y + cy_89);
            break;
        }
        bool all_valid_8 = true & (!_S7902);
        for(;;)
        {
            *uv1_0 = float2 {vert1_c_0.x, vert1_c_0.y} / make_float2 (_S7907);
            if(_S7907 < 0.0f)
            {
                _S7902 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S7912 = camera_distortion_jac_0(*uv1_0, dist_coeffs_98);
                _S7902 = !((F32_min((determinant_0(_S7912)), ((F32_min((_S7912.rows[int(0)].x), (_S7912.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S7902)
            {
                break;
            }
            float u_45 = (*uv1_0).x;
            float v_45 = (*uv1_0).y;
            float r2_45 = u_45 * u_45 + v_45 * v_45;
            float2  _S7913 = *uv1_0 * make_float2 (1.0f + r2_45 * ((*dist_coeffs_98)[int(0)] + r2_45 * ((*dist_coeffs_98)[int(1)] + r2_45 * ((*dist_coeffs_98)[int(2)] + r2_45 * (*dist_coeffs_98)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_98)[int(4)] * u_45 * v_45 + (*dist_coeffs_98)[int(5)] * (r2_45 + 2.0f * u_45 * u_45) + (*dist_coeffs_98)[int(6)] * r2_45, 2.0f * (*dist_coeffs_98)[int(5)] * u_45 * v_45 + (*dist_coeffs_98)[int(4)] * (r2_45 + 2.0f * v_45 * v_45) + (*dist_coeffs_98)[int(7)] * r2_45);
            float2  _S7914 = _S7913 + make_float2 ((*dist_coeffs_98)[int(8)] * _S7913.x + (*dist_coeffs_98)[int(9)] * _S7913.y, 0.0f);
            *uv1_0 = make_float2 (fx_94 * _S7914.x + cx_89, fy_94 * _S7914.y + cy_89);
            break;
        }
        bool all_valid_9 = all_valid_8 & (!_S7902);
        for(;;)
        {
            *uv2_0 = float2 {vert2_c_0.x, vert2_c_0.y} / make_float2 (_S7908);
            if(_S7908 < 0.0f)
            {
                _S7902 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S7915 = camera_distortion_jac_0(*uv2_0, dist_coeffs_98);
                _S7902 = !((F32_min((determinant_0(_S7915)), ((F32_min((_S7915.rows[int(0)].x), (_S7915.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S7902)
            {
                break;
            }
            float u_46 = (*uv2_0).x;
            float v_46 = (*uv2_0).y;
            float r2_46 = u_46 * u_46 + v_46 * v_46;
            float2  _S7916 = *uv2_0 * make_float2 (1.0f + r2_46 * ((*dist_coeffs_98)[int(0)] + r2_46 * ((*dist_coeffs_98)[int(1)] + r2_46 * ((*dist_coeffs_98)[int(2)] + r2_46 * (*dist_coeffs_98)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_98)[int(4)] * u_46 * v_46 + (*dist_coeffs_98)[int(5)] * (r2_46 + 2.0f * u_46 * u_46) + (*dist_coeffs_98)[int(6)] * r2_46, 2.0f * (*dist_coeffs_98)[int(5)] * u_46 * v_46 + (*dist_coeffs_98)[int(4)] * (r2_46 + 2.0f * v_46 * v_46) + (*dist_coeffs_98)[int(7)] * r2_46);
            float2  _S7917 = _S7916 + make_float2 ((*dist_coeffs_98)[int(8)] * _S7916.x + (*dist_coeffs_98)[int(9)] * _S7916.y, 0.0f);
            *uv2_0 = make_float2 (fx_94 * _S7917.x + cx_89, fy_94 * _S7917.y + cy_89);
            break;
        }
        if(!(all_valid_9 & (!_S7902)))
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_0 = *uv1_0 - *uv0_0;
        float2  e1_0 = *uv2_0 - *uv1_0;
        float offset_0 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_0.y))))) - 1.0f) * ((F32_abs((e0_0.x * e1_0.y - e0_0.y * e1_0.x))) / (length_0(e0_0) + length_0(e1_0) + length_0(*uv0_0 - *uv2_0)));
        float xmax_19 = (F32_max(((F32_max(((*uv0_0).x), ((*uv1_0).x)))), ((*uv2_0).x))) + offset_0;
        float xmin_19 = (F32_min(((F32_min(((*uv0_0).x), ((*uv1_0).x)))), ((*uv2_0).x))) - offset_0;
        float ymax_19 = (F32_max(((F32_max(((*uv0_0).y), ((*uv1_0).y)))), ((*uv2_0).y))) + offset_0;
        float ymin_19 = (F32_min(((F32_min(((*uv0_0).y), ((*uv1_0).y)))), ((*uv2_0).y))) - offset_0;
        if(xmax_19 <= 0.0f)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = xmin_19 >= float(image_width_85);
        }
        if(_S7902)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = ymax_19 <= 0.0f;
        }
        if(_S7902)
        {
            _S7902 = true;
        }
        else
        {
            _S7902 = ymin_19 >= float(image_height_85);
        }
        if(_S7902)
        {
            _S7902 = true;
        }
        else
        {
            if(_S7901 <= 0.0f)
            {
                if(xmin_19 <= 0.0f)
                {
                    _S7902 = xmax_19 >= float(image_width_85);
                }
                else
                {
                    _S7902 = false;
                }
                if(_S7902)
                {
                    _S7902 = true;
                }
                else
                {
                    if(ymin_19 <= 0.0f)
                    {
                        _S7902 = ymax_19 >= float(image_width_85);
                    }
                    else
                    {
                        _S7902 = false;
                    }
                }
            }
            else
            {
                _S7902 = false;
            }
        }
        if(_S7902)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_52 = make_int4 (int((F32_floor((xmin_19)))), int((F32_floor((ymin_19)))), int((F32_ceil((xmax_19)))), int((F32_ceil((ymax_19)))));
        *depth_39 = log_0(make_float3 (length_1(vert0_c_0), length_1(vert1_c_0), length_1(vert2_c_0)) + make_float3 (9.999999960041972e-13f));
        *out_hardness_0 = hardness_0;
        float3  _S7918 = mean_62 - - mul_0(transpose_0(R_64), t_60);
        float _S7919 = _S7918.x;
        float _S7920 = _S7918.y;
        float _S7921 = _S7918.z;
        float norm_10 = (F32_sqrt((_S7919 * _S7919 + _S7920 * _S7920 + _S7921 * _S7921)));
        float x_72 = _S7919 / norm_10;
        float y_18 = _S7920 / norm_10;
        float z_15 = _S7921 / norm_10;
        float z2_93 = z_15 * z_15;
        float fTmp0B_15 = -1.09254848957061768f * z_15;
        float fC1_15 = x_72 * x_72 - y_18 * y_18;
        float fS1_15 = 2.0f * x_72 * y_18;
        float fTmp0C_15 = -2.28522896766662598f * z2_93 + 0.4570457935333252f;
        float fTmp1B_15 = 1.44530570507049561f * z_15;
        float3  color_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_15)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_18) * (*sh_coeffs_15)[int(1)] + make_float3 (z_15) * (*sh_coeffs_15)[int(2)] - make_float3 (x_72) * (*sh_coeffs_15)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_15) * (*sh_coeffs_15)[int(4)] + make_float3 (fTmp0B_15 * y_18) * (*sh_coeffs_15)[int(5)] + make_float3 (0.94617468118667603f * z2_93 - 0.31539157032966614f) * (*sh_coeffs_15)[int(6)] + make_float3 (fTmp0B_15 * x_72) * (*sh_coeffs_15)[int(7)] + make_float3 (0.54627424478530884f * fC1_15) * (*sh_coeffs_15)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_72 * fS1_15 + y_18 * fC1_15)) * (*sh_coeffs_15)[int(9)] + make_float3 (fTmp1B_15 * fS1_15) * (*sh_coeffs_15)[int(10)] + make_float3 (fTmp0C_15 * y_18) * (*sh_coeffs_15)[int(11)] + make_float3 (z_15 * (1.86588168144226074f * z2_93 - 1.11952900886535645f)) * (*sh_coeffs_15)[int(12)] + make_float3 (fTmp0C_15 * x_72) * (*sh_coeffs_15)[int(13)] + make_float3 (fTmp1B_15 * fC1_15) * (*sh_coeffs_15)[int(14)] + make_float3 (-0.59004360437393188f * (x_72 * fC1_15 - y_18 * fS1_15)) * (*sh_coeffs_15)[int(15)]);
        float3  _S7922 = make_float3 (0.0f);
        (*rgb_40)[int(0)] = max_0(color_0 + (*ch_coeffs_0)[int(0)] + make_float3 (0.5f), _S7922);
        float3  _S7923 = color_0 - (*ch_coeffs_0)[int(0)] * make_float3 (0.5f);
        float3  _S7924 = (*ch_coeffs_0)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgb_40)[int(1)] = max_0(_S7923 + _S7924 + make_float3 (0.5f), _S7922);
        (*rgb_40)[int(2)] = max_0(_S7923 - _S7924 + make_float3 (0.5f), _S7922);
        float3  _S7925 = normalize_0(cross_0(vert1_c_0 - vert0_c_0, vert2_c_0 - vert0_c_0));
        *normal_0 = _S7925 * make_float3 (float(- (F32_sign((dot_0(_S7925, mean_c_71))))));
        break;
    }
    return;
}

inline __device__ void projection_opaque_triangle_fisheye(float3  mean_63, float4  quat_64, float3  scale_63, float2  hardness_1, FixedArray<float3 , 16>  * sh_coeffs_16, FixedArray<float3 , 2>  * ch_coeffs_1, Matrix<float, 3, 3>  R_65, float3  t_61, float fx_95, float fy_95, float cx_90, float cy_90, FixedArray<float, 10>  * dist_coeffs_99, uint image_width_86, uint image_height_86, float near_plane_67, float far_plane_67, int4  * aabb_xyxy_53, float2  * uv0_1, float2  * uv1_1, float2  * uv2_1, float3  * depth_40, float2  * out_hardness_1, FixedArray<float3 , 3>  * rgb_41, float3  * normal_1)
{
    bool _S7926;
    bool _S7927;
    bool _S7928;
    for(;;)
    {
        float3  mean_c_72 = mul_0(R_65, mean_63) + t_61;
        float _S7929 = length_1(mean_c_72);
        bool _S7930;
        if(_S7929 < near_plane_67)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = _S7929 > far_plane_67;
        }
        if(_S7930)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S7931 = scale_63.x;
        float sx_2 = (F32_exp((_S7931)));
        float _S7932 = scale_63.y;
        float sy_2 = (F32_exp((_S7932)));
        float sz_2 = scale_63.z - 0.5f * (_S7931 + _S7932);
        float x_73 = quat_64.y;
        float x2_78 = x_73 * x_73;
        float y2_78 = quat_64.z * quat_64.z;
        float z2_94 = quat_64.w * quat_64.w;
        float xy_78 = quat_64.y * quat_64.z;
        float xz_78 = quat_64.y * quat_64.w;
        float yz_78 = quat_64.z * quat_64.w;
        float wx_78 = quat_64.x * quat_64.y;
        float wy_78 = quat_64.x * quat_64.z;
        float wz_78 = quat_64.x * quat_64.w;
        Matrix<float, 3, 3>  _S7933 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_78 + z2_94), 2.0f * (xy_78 + wz_78), 2.0f * (xz_78 - wy_78), 2.0f * (xy_78 - wz_78), 1.0f - 2.0f * (x2_78 + z2_94), 2.0f * (yz_78 + wx_78), 2.0f * (xz_78 + wy_78), 2.0f * (yz_78 - wx_78), 1.0f - 2.0f * (x2_78 + y2_78)));
        float3  vert0_c_1 = mul_0(R_65, mul_0(_S7933, make_float3 (sx_2, 0.0f, 0.0f)) + mean_63) + t_61;
        float3  vert1_c_1 = mul_0(R_65, mul_0(_S7933, make_float3 (sx_2 * (-0.5f + sz_2), sy_2, 0.0f)) + mean_63) + t_61;
        float3  vert2_c_1 = mul_0(R_65, mul_0(_S7933, make_float3 (sx_2 * (-0.5f - sz_2), - sy_2, 0.0f)) + mean_63) + t_61;
        float _S7934 = length_1(vert0_c_1);
        float _S7935 = length_1(vert1_c_1);
        float _S7936 = length_1(vert2_c_1);
        if(_S7934 < near_plane_67)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = _S7934 > far_plane_67;
        }
        if(_S7930)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = _S7935 < near_plane_67;
        }
        if(_S7930)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = _S7935 > far_plane_67;
        }
        if(_S7930)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = _S7936 < near_plane_67;
        }
        if(_S7930)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = _S7936 > far_plane_67;
        }
        if(_S7930)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float k_7;
        for(;;)
        {
            float2  _S7937 = float2 {vert0_c_1.x, vert0_c_1.y};
            float r_24 = length_0(_S7937);
            float _S7938 = vert0_c_1.z;
            float theta_20 = (F32_atan2((r_24), (_S7938)));
            if(theta_20 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_20 * theta_20 / 3.0f) / _S7938;
            }
            else
            {
                k_7 = theta_20 / r_24;
            }
            float2  _S7939 = _S7937 * make_float2 (k_7);
            *uv0_1 = _S7939;
            Matrix<float, 2, 2>  _S7940 = camera_distortion_jac_0(_S7939, dist_coeffs_99);
            bool _S7941 = !((F32_min((determinant_0(_S7940)), ((F32_min((_S7940.rows[int(0)].x), (_S7940.rows[int(1)].y)))))) > 0.0f);
            _S7926 = _S7941;
            if(_S7941)
            {
                break;
            }
            float u_47 = (*uv0_1).x;
            float v_47 = (*uv0_1).y;
            float r2_47 = u_47 * u_47 + v_47 * v_47;
            float2  _S7942 = *uv0_1 * make_float2 (1.0f + r2_47 * ((*dist_coeffs_99)[int(0)] + r2_47 * ((*dist_coeffs_99)[int(1)] + r2_47 * ((*dist_coeffs_99)[int(2)] + r2_47 * (*dist_coeffs_99)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_99)[int(4)] * u_47 * v_47 + (*dist_coeffs_99)[int(5)] * (r2_47 + 2.0f * u_47 * u_47) + (*dist_coeffs_99)[int(6)] * r2_47, 2.0f * (*dist_coeffs_99)[int(5)] * u_47 * v_47 + (*dist_coeffs_99)[int(4)] * (r2_47 + 2.0f * v_47 * v_47) + (*dist_coeffs_99)[int(7)] * r2_47);
            float2  _S7943 = _S7942 + make_float2 ((*dist_coeffs_99)[int(8)] * _S7942.x + (*dist_coeffs_99)[int(9)] * _S7942.y, 0.0f);
            *uv0_1 = make_float2 (fx_95 * _S7943.x + cx_90, fy_95 * _S7943.y + cy_90);
            break;
        }
        bool all_valid_10 = true & (!_S7926);
        for(;;)
        {
            float2  _S7944 = float2 {vert1_c_1.x, vert1_c_1.y};
            float r_25 = length_0(_S7944);
            float _S7945 = vert1_c_1.z;
            float theta_21 = (F32_atan2((r_25), (_S7945)));
            if(theta_21 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_21 * theta_21 / 3.0f) / _S7945;
            }
            else
            {
                k_7 = theta_21 / r_25;
            }
            float2  _S7946 = _S7944 * make_float2 (k_7);
            *uv1_1 = _S7946;
            Matrix<float, 2, 2>  _S7947 = camera_distortion_jac_0(_S7946, dist_coeffs_99);
            bool _S7948 = !((F32_min((determinant_0(_S7947)), ((F32_min((_S7947.rows[int(0)].x), (_S7947.rows[int(1)].y)))))) > 0.0f);
            _S7927 = _S7948;
            if(_S7948)
            {
                break;
            }
            float u_48 = (*uv1_1).x;
            float v_48 = (*uv1_1).y;
            float r2_48 = u_48 * u_48 + v_48 * v_48;
            float2  _S7949 = *uv1_1 * make_float2 (1.0f + r2_48 * ((*dist_coeffs_99)[int(0)] + r2_48 * ((*dist_coeffs_99)[int(1)] + r2_48 * ((*dist_coeffs_99)[int(2)] + r2_48 * (*dist_coeffs_99)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_99)[int(4)] * u_48 * v_48 + (*dist_coeffs_99)[int(5)] * (r2_48 + 2.0f * u_48 * u_48) + (*dist_coeffs_99)[int(6)] * r2_48, 2.0f * (*dist_coeffs_99)[int(5)] * u_48 * v_48 + (*dist_coeffs_99)[int(4)] * (r2_48 + 2.0f * v_48 * v_48) + (*dist_coeffs_99)[int(7)] * r2_48);
            float2  _S7950 = _S7949 + make_float2 ((*dist_coeffs_99)[int(8)] * _S7949.x + (*dist_coeffs_99)[int(9)] * _S7949.y, 0.0f);
            *uv1_1 = make_float2 (fx_95 * _S7950.x + cx_90, fy_95 * _S7950.y + cy_90);
            break;
        }
        bool all_valid_11 = all_valid_10 & (!_S7927);
        for(;;)
        {
            float2  _S7951 = float2 {vert2_c_1.x, vert2_c_1.y};
            float r_26 = length_0(_S7951);
            float _S7952 = vert2_c_1.z;
            float theta_22 = (F32_atan2((r_26), (_S7952)));
            if(theta_22 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_22 * theta_22 / 3.0f) / _S7952;
            }
            else
            {
                k_7 = theta_22 / r_26;
            }
            float2  _S7953 = _S7951 * make_float2 (k_7);
            *uv2_1 = _S7953;
            Matrix<float, 2, 2>  _S7954 = camera_distortion_jac_0(_S7953, dist_coeffs_99);
            bool _S7955 = !((F32_min((determinant_0(_S7954)), ((F32_min((_S7954.rows[int(0)].x), (_S7954.rows[int(1)].y)))))) > 0.0f);
            _S7928 = _S7955;
            if(_S7955)
            {
                break;
            }
            float u_49 = (*uv2_1).x;
            float v_49 = (*uv2_1).y;
            float r2_49 = u_49 * u_49 + v_49 * v_49;
            float2  _S7956 = *uv2_1 * make_float2 (1.0f + r2_49 * ((*dist_coeffs_99)[int(0)] + r2_49 * ((*dist_coeffs_99)[int(1)] + r2_49 * ((*dist_coeffs_99)[int(2)] + r2_49 * (*dist_coeffs_99)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_99)[int(4)] * u_49 * v_49 + (*dist_coeffs_99)[int(5)] * (r2_49 + 2.0f * u_49 * u_49) + (*dist_coeffs_99)[int(6)] * r2_49, 2.0f * (*dist_coeffs_99)[int(5)] * u_49 * v_49 + (*dist_coeffs_99)[int(4)] * (r2_49 + 2.0f * v_49 * v_49) + (*dist_coeffs_99)[int(7)] * r2_49);
            float2  _S7957 = _S7956 + make_float2 ((*dist_coeffs_99)[int(8)] * _S7956.x + (*dist_coeffs_99)[int(9)] * _S7956.y, 0.0f);
            *uv2_1 = make_float2 (fx_95 * _S7957.x + cx_90, fy_95 * _S7957.y + cy_90);
            break;
        }
        if(!(all_valid_11 & (!_S7928)))
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_1 = *uv1_1 - *uv0_1;
        float2  e1_1 = *uv2_1 - *uv1_1;
        float offset_1 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_1.y))))) - 1.0f) * ((F32_abs((e0_1.x * e1_1.y - e0_1.y * e1_1.x))) / (length_0(e0_1) + length_0(e1_1) + length_0(*uv0_1 - *uv2_1)));
        float xmax_20 = (F32_max(((F32_max(((*uv0_1).x), ((*uv1_1).x)))), ((*uv2_1).x))) + offset_1;
        float xmin_20 = (F32_min(((F32_min(((*uv0_1).x), ((*uv1_1).x)))), ((*uv2_1).x))) - offset_1;
        float ymax_20 = (F32_max(((F32_max(((*uv0_1).y), ((*uv1_1).y)))), ((*uv2_1).y))) + offset_1;
        float ymin_20 = (F32_min(((F32_min(((*uv0_1).y), ((*uv1_1).y)))), ((*uv2_1).y))) - offset_1;
        if(xmax_20 <= 0.0f)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = xmin_20 >= float(image_width_86);
        }
        if(_S7930)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = ymax_20 <= 0.0f;
        }
        if(_S7930)
        {
            _S7930 = true;
        }
        else
        {
            _S7930 = ymin_20 >= float(image_height_86);
        }
        if(_S7930)
        {
            _S7930 = true;
        }
        else
        {
            if((mean_c_72.z) <= 0.0f)
            {
                if(xmin_20 <= 0.0f)
                {
                    _S7930 = xmax_20 >= float(image_width_86);
                }
                else
                {
                    _S7930 = false;
                }
                if(_S7930)
                {
                    _S7930 = true;
                }
                else
                {
                    if(ymin_20 <= 0.0f)
                    {
                        _S7930 = ymax_20 >= float(image_width_86);
                    }
                    else
                    {
                        _S7930 = false;
                    }
                }
            }
            else
            {
                _S7930 = false;
            }
        }
        if(_S7930)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_53 = make_int4 (int((F32_floor((xmin_20)))), int((F32_floor((ymin_20)))), int((F32_ceil((xmax_20)))), int((F32_ceil((ymax_20)))));
        *depth_40 = log_0(make_float3 (_S7934, _S7935, _S7936) + make_float3 (9.999999960041972e-13f));
        *out_hardness_1 = hardness_1;
        float3  _S7958 = mean_63 - - mul_0(transpose_0(R_65), t_61);
        float _S7959 = _S7958.x;
        float _S7960 = _S7958.y;
        float _S7961 = _S7958.z;
        float norm_11 = (F32_sqrt((_S7959 * _S7959 + _S7960 * _S7960 + _S7961 * _S7961)));
        float x_74 = _S7959 / norm_11;
        float y_19 = _S7960 / norm_11;
        float z_16 = _S7961 / norm_11;
        float z2_95 = z_16 * z_16;
        float fTmp0B_16 = -1.09254848957061768f * z_16;
        float fC1_16 = x_74 * x_74 - y_19 * y_19;
        float fS1_16 = 2.0f * x_74 * y_19;
        float fTmp0C_16 = -2.28522896766662598f * z2_95 + 0.4570457935333252f;
        float fTmp1B_16 = 1.44530570507049561f * z_16;
        float3  color_1 = make_float3 (0.282094806432724f) * (*sh_coeffs_16)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_19) * (*sh_coeffs_16)[int(1)] + make_float3 (z_16) * (*sh_coeffs_16)[int(2)] - make_float3 (x_74) * (*sh_coeffs_16)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_16) * (*sh_coeffs_16)[int(4)] + make_float3 (fTmp0B_16 * y_19) * (*sh_coeffs_16)[int(5)] + make_float3 (0.94617468118667603f * z2_95 - 0.31539157032966614f) * (*sh_coeffs_16)[int(6)] + make_float3 (fTmp0B_16 * x_74) * (*sh_coeffs_16)[int(7)] + make_float3 (0.54627424478530884f * fC1_16) * (*sh_coeffs_16)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_74 * fS1_16 + y_19 * fC1_16)) * (*sh_coeffs_16)[int(9)] + make_float3 (fTmp1B_16 * fS1_16) * (*sh_coeffs_16)[int(10)] + make_float3 (fTmp0C_16 * y_19) * (*sh_coeffs_16)[int(11)] + make_float3 (z_16 * (1.86588168144226074f * z2_95 - 1.11952900886535645f)) * (*sh_coeffs_16)[int(12)] + make_float3 (fTmp0C_16 * x_74) * (*sh_coeffs_16)[int(13)] + make_float3 (fTmp1B_16 * fC1_16) * (*sh_coeffs_16)[int(14)] + make_float3 (-0.59004360437393188f * (x_74 * fC1_16 - y_19 * fS1_16)) * (*sh_coeffs_16)[int(15)]);
        float3  _S7962 = make_float3 (0.0f);
        (*rgb_41)[int(0)] = max_0(color_1 + (*ch_coeffs_1)[int(0)] + make_float3 (0.5f), _S7962);
        float3  _S7963 = color_1 - (*ch_coeffs_1)[int(0)] * make_float3 (0.5f);
        float3  _S7964 = (*ch_coeffs_1)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgb_41)[int(1)] = max_0(_S7963 + _S7964 + make_float3 (0.5f), _S7962);
        (*rgb_41)[int(2)] = max_0(_S7963 - _S7964 + make_float3 (0.5f), _S7962);
        float3  _S7965 = normalize_0(cross_0(vert1_c_1 - vert0_c_1, vert2_c_1 - vert0_c_1));
        *normal_1 = _S7965 * make_float3 (float(- (F32_sign((dot_0(_S7965, mean_c_72))))));
        break;
    }
    return;
}

inline __device__ void _projection_opaque_triangle_persp_differentiable(float3  mean_64, float4  quat_65, float3  scale_64, float2  hardness_2, FixedArray<float3 , 16>  * sh_coeffs_17, FixedArray<float3 , 2>  * ch_coeffs_2, Matrix<float, 3, 3>  R_66, float3  t_62, float fx_96, float fy_96, float cx_91, float cy_91, FixedArray<float, 10>  * dist_coeffs_100, uint image_width_87, uint image_height_87, float near_plane_68, float far_plane_68, int4  * aabb_xyxy_54, float2  * uv0_2, float2  * uv1_2, float2  * uv2_2, float3  * depth_41, float2  * out_hardness_2, FixedArray<float3 , 3>  * rgb_42, float3  * normal_2)
{
    float3  mean_c_73 = mul_0(R_66, mean_64) + t_62;
    float _S7966 = scale_64.x;
    float sx_3 = (F32_exp((_S7966)));
    float _S7967 = scale_64.y;
    float sy_3 = (F32_exp((_S7967)));
    float sz_3 = scale_64.z - 0.5f * (_S7966 + _S7967);
    float x_75 = quat_65.y;
    float x2_79 = x_75 * x_75;
    float y2_79 = quat_65.z * quat_65.z;
    float z2_96 = quat_65.w * quat_65.w;
    float xy_79 = quat_65.y * quat_65.z;
    float xz_79 = quat_65.y * quat_65.w;
    float yz_79 = quat_65.z * quat_65.w;
    float wx_79 = quat_65.x * quat_65.y;
    float wy_79 = quat_65.x * quat_65.z;
    float wz_79 = quat_65.x * quat_65.w;
    Matrix<float, 3, 3>  _S7968 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_79 + z2_96), 2.0f * (xy_79 + wz_79), 2.0f * (xz_79 - wy_79), 2.0f * (xy_79 - wz_79), 1.0f - 2.0f * (x2_79 + z2_96), 2.0f * (yz_79 + wx_79), 2.0f * (xz_79 + wy_79), 2.0f * (yz_79 - wx_79), 1.0f - 2.0f * (x2_79 + y2_79)));
    float3  vert0_c_2 = mul_0(R_66, mul_0(_S7968, make_float3 (sx_3, 0.0f, 0.0f)) + mean_64) + t_62;
    float3  vert1_c_2 = mul_0(R_66, mul_0(_S7968, make_float3 (sx_3 * (-0.5f + sz_3), sy_3, 0.0f)) + mean_64) + t_62;
    float3  vert2_c_2 = mul_0(R_66, mul_0(_S7968, make_float3 (sx_3 * (-0.5f - sz_3), - sy_3, 0.0f)) + mean_64) + t_62;
    float2  _S7969 = float2 {vert0_c_2.x, vert0_c_2.y} / make_float2 (vert0_c_2.z);
    float u_50 = _S7969.x;
    float v_50 = _S7969.y;
    float r2_50 = u_50 * u_50 + v_50 * v_50;
    float _S7970 = 2.0f * (*dist_coeffs_100)[int(4)];
    float _S7971 = 2.0f * (*dist_coeffs_100)[int(5)];
    float2  _S7972 = _S7969 * make_float2 (1.0f + r2_50 * ((*dist_coeffs_100)[int(0)] + r2_50 * ((*dist_coeffs_100)[int(1)] + r2_50 * ((*dist_coeffs_100)[int(2)] + r2_50 * (*dist_coeffs_100)[int(3)])))) + make_float2 (_S7970 * u_50 * v_50 + (*dist_coeffs_100)[int(5)] * (r2_50 + 2.0f * u_50 * u_50) + (*dist_coeffs_100)[int(6)] * r2_50, _S7971 * u_50 * v_50 + (*dist_coeffs_100)[int(4)] * (r2_50 + 2.0f * v_50 * v_50) + (*dist_coeffs_100)[int(7)] * r2_50);
    float2  _S7973 = _S7972 + make_float2 ((*dist_coeffs_100)[int(8)] * _S7972.x + (*dist_coeffs_100)[int(9)] * _S7972.y, 0.0f);
    *uv0_2 = make_float2 (fx_96 * _S7973.x + cx_91, fy_96 * _S7973.y + cy_91);
    float2  _S7974 = float2 {vert1_c_2.x, vert1_c_2.y} / make_float2 (vert1_c_2.z);
    float u_51 = _S7974.x;
    float v_51 = _S7974.y;
    float r2_51 = u_51 * u_51 + v_51 * v_51;
    float2  _S7975 = _S7974 * make_float2 (1.0f + r2_51 * ((*dist_coeffs_100)[int(0)] + r2_51 * ((*dist_coeffs_100)[int(1)] + r2_51 * ((*dist_coeffs_100)[int(2)] + r2_51 * (*dist_coeffs_100)[int(3)])))) + make_float2 (_S7970 * u_51 * v_51 + (*dist_coeffs_100)[int(5)] * (r2_51 + 2.0f * u_51 * u_51) + (*dist_coeffs_100)[int(6)] * r2_51, _S7971 * u_51 * v_51 + (*dist_coeffs_100)[int(4)] * (r2_51 + 2.0f * v_51 * v_51) + (*dist_coeffs_100)[int(7)] * r2_51);
    float2  _S7976 = _S7975 + make_float2 ((*dist_coeffs_100)[int(8)] * _S7975.x + (*dist_coeffs_100)[int(9)] * _S7975.y, 0.0f);
    *uv1_2 = make_float2 (fx_96 * _S7976.x + cx_91, fy_96 * _S7976.y + cy_91);
    float2  _S7977 = float2 {vert2_c_2.x, vert2_c_2.y} / make_float2 (vert2_c_2.z);
    float u_52 = _S7977.x;
    float v_52 = _S7977.y;
    float r2_52 = u_52 * u_52 + v_52 * v_52;
    float2  _S7978 = _S7977 * make_float2 (1.0f + r2_52 * ((*dist_coeffs_100)[int(0)] + r2_52 * ((*dist_coeffs_100)[int(1)] + r2_52 * ((*dist_coeffs_100)[int(2)] + r2_52 * (*dist_coeffs_100)[int(3)])))) + make_float2 (_S7970 * u_52 * v_52 + (*dist_coeffs_100)[int(5)] * (r2_52 + 2.0f * u_52 * u_52) + (*dist_coeffs_100)[int(6)] * r2_52, _S7971 * u_52 * v_52 + (*dist_coeffs_100)[int(4)] * (r2_52 + 2.0f * v_52 * v_52) + (*dist_coeffs_100)[int(7)] * r2_52);
    float2  _S7979 = _S7978 + make_float2 ((*dist_coeffs_100)[int(8)] * _S7978.x + (*dist_coeffs_100)[int(9)] * _S7978.y, 0.0f);
    float _S7980 = fx_96 * _S7979.x + cx_91;
    float _S7981 = fy_96 * _S7979.y + cy_91;
    float2  _S7982 = make_float2 (_S7980, _S7981);
    *uv2_2 = _S7982;
    float2  e0_2 = *uv1_2 - *uv0_2;
    float2  e1_2 = _S7982 - *uv1_2;
    float offset_2 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_2.y))))) - 1.0f) * ((F32_abs((e0_2.x * e1_2.y - e0_2.y * e1_2.x))) / (length_0(e0_2) + length_0(e1_2) + length_0(*uv0_2 - _S7982)));
    *aabb_xyxy_54 = make_int4 (int((F32_floor(((F32_min(((F32_min(((*uv0_2).x), ((*uv1_2).x)))), (_S7980))) - offset_2)))), int((F32_floor(((F32_min(((F32_min(((*uv0_2).y), ((*uv1_2).y)))), (_S7981))) - offset_2)))), int((F32_ceil(((F32_max(((F32_max(((*uv0_2).x), ((*uv1_2).x)))), (_S7980))) + offset_2)))), int((F32_ceil(((F32_max(((F32_max(((*uv0_2).y), ((*uv1_2).y)))), (_S7981))) + offset_2)))));
    *depth_41 = log_0(make_float3 (length_1(vert0_c_2), length_1(vert1_c_2), length_1(vert2_c_2)) + make_float3 (9.999999960041972e-13f));
    *out_hardness_2 = hardness_2;
    float3  _S7983 = mean_64 - - mul_0(transpose_0(R_66), t_62);
    float _S7984 = _S7983.x;
    float _S7985 = _S7983.y;
    float _S7986 = _S7983.z;
    float norm_12 = (F32_sqrt((_S7984 * _S7984 + _S7985 * _S7985 + _S7986 * _S7986)));
    float x_76 = _S7984 / norm_12;
    float y_20 = _S7985 / norm_12;
    float z_17 = _S7986 / norm_12;
    float z2_97 = z_17 * z_17;
    float fTmp0B_17 = -1.09254848957061768f * z_17;
    float fC1_17 = x_76 * x_76 - y_20 * y_20;
    float fS1_17 = 2.0f * x_76 * y_20;
    float fTmp0C_17 = -2.28522896766662598f * z2_97 + 0.4570457935333252f;
    float fTmp1B_17 = 1.44530570507049561f * z_17;
    float3  color_2 = make_float3 (0.282094806432724f) * (*sh_coeffs_17)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_20) * (*sh_coeffs_17)[int(1)] + make_float3 (z_17) * (*sh_coeffs_17)[int(2)] - make_float3 (x_76) * (*sh_coeffs_17)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_17) * (*sh_coeffs_17)[int(4)] + make_float3 (fTmp0B_17 * y_20) * (*sh_coeffs_17)[int(5)] + make_float3 (0.94617468118667603f * z2_97 - 0.31539157032966614f) * (*sh_coeffs_17)[int(6)] + make_float3 (fTmp0B_17 * x_76) * (*sh_coeffs_17)[int(7)] + make_float3 (0.54627424478530884f * fC1_17) * (*sh_coeffs_17)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_76 * fS1_17 + y_20 * fC1_17)) * (*sh_coeffs_17)[int(9)] + make_float3 (fTmp1B_17 * fS1_17) * (*sh_coeffs_17)[int(10)] + make_float3 (fTmp0C_17 * y_20) * (*sh_coeffs_17)[int(11)] + make_float3 (z_17 * (1.86588168144226074f * z2_97 - 1.11952900886535645f)) * (*sh_coeffs_17)[int(12)] + make_float3 (fTmp0C_17 * x_76) * (*sh_coeffs_17)[int(13)] + make_float3 (fTmp1B_17 * fC1_17) * (*sh_coeffs_17)[int(14)] + make_float3 (-0.59004360437393188f * (x_76 * fC1_17 - y_20 * fS1_17)) * (*sh_coeffs_17)[int(15)]);
    float3  _S7987 = make_float3 (0.0f);
    (*rgb_42)[int(0)] = max_0(color_2 + (*ch_coeffs_2)[int(0)] + make_float3 (0.5f), _S7987);
    float3  _S7988 = color_2 - (*ch_coeffs_2)[int(0)] * make_float3 (0.5f);
    float3  _S7989 = (*ch_coeffs_2)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgb_42)[int(1)] = max_0(_S7988 + _S7989 + make_float3 (0.5f), _S7987);
    (*rgb_42)[int(2)] = max_0(_S7988 - _S7989 + make_float3 (0.5f), _S7987);
    float3  _S7990 = normalize_0(cross_0(vert1_c_2 - vert0_c_2, vert2_c_2 - vert0_c_2));
    *normal_2 = _S7990 * make_float3 (float(- (F32_sign((dot_0(_S7990, mean_c_73))))));
    return;
}

inline __device__ void _projection_opaque_triangle_fisheye_differentiable(float3  mean_65, float4  quat_66, float3  scale_65, float2  hardness_3, FixedArray<float3 , 16>  * sh_coeffs_18, FixedArray<float3 , 2>  * ch_coeffs_3, Matrix<float, 3, 3>  R_67, float3  t_63, float fx_97, float fy_97, float cx_92, float cy_92, FixedArray<float, 10>  * dist_coeffs_101, uint image_width_88, uint image_height_88, float near_plane_69, float far_plane_69, int4  * aabb_xyxy_55, float2  * uv0_3, float2  * uv1_3, float2  * uv2_3, float3  * depth_42, float2  * out_hardness_3, FixedArray<float3 , 3>  * rgb_43, float3  * normal_3)
{
    float3  mean_c_74 = mul_0(R_67, mean_65) + t_63;
    float _S7991 = scale_65.x;
    float sx_4 = (F32_exp((_S7991)));
    float _S7992 = scale_65.y;
    float sy_4 = (F32_exp((_S7992)));
    float sz_4 = scale_65.z - 0.5f * (_S7991 + _S7992);
    float x_77 = quat_66.y;
    float x2_80 = x_77 * x_77;
    float y2_80 = quat_66.z * quat_66.z;
    float z2_98 = quat_66.w * quat_66.w;
    float xy_80 = quat_66.y * quat_66.z;
    float xz_80 = quat_66.y * quat_66.w;
    float yz_80 = quat_66.z * quat_66.w;
    float wx_80 = quat_66.x * quat_66.y;
    float wy_80 = quat_66.x * quat_66.z;
    float wz_80 = quat_66.x * quat_66.w;
    Matrix<float, 3, 3>  _S7993 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_80 + z2_98), 2.0f * (xy_80 + wz_80), 2.0f * (xz_80 - wy_80), 2.0f * (xy_80 - wz_80), 1.0f - 2.0f * (x2_80 + z2_98), 2.0f * (yz_80 + wx_80), 2.0f * (xz_80 + wy_80), 2.0f * (yz_80 - wx_80), 1.0f - 2.0f * (x2_80 + y2_80)));
    float3  vert0_c_3 = mul_0(R_67, mul_0(_S7993, make_float3 (sx_4, 0.0f, 0.0f)) + mean_65) + t_63;
    float3  vert1_c_3 = mul_0(R_67, mul_0(_S7993, make_float3 (sx_4 * (-0.5f + sz_4), sy_4, 0.0f)) + mean_65) + t_63;
    float3  vert2_c_3 = mul_0(R_67, mul_0(_S7993, make_float3 (sx_4 * (-0.5f - sz_4), - sy_4, 0.0f)) + mean_65) + t_63;
    float2  _S7994 = float2 {vert0_c_3.x, vert0_c_3.y};
    float r_27 = length_0(_S7994);
    float _S7995 = vert0_c_3.z;
    float theta_23 = (F32_atan2((r_27), (_S7995)));
    float k_8;
    if(theta_23 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_23 * theta_23 / 3.0f) / _S7995;
    }
    else
    {
        k_8 = theta_23 / r_27;
    }
    float2  _S7996 = _S7994 * make_float2 (k_8);
    float u_53 = _S7996.x;
    float v_53 = _S7996.y;
    float r2_53 = u_53 * u_53 + v_53 * v_53;
    float _S7997 = 2.0f * (*dist_coeffs_101)[int(4)];
    float _S7998 = 2.0f * (*dist_coeffs_101)[int(5)];
    float2  _S7999 = _S7996 * make_float2 (1.0f + r2_53 * ((*dist_coeffs_101)[int(0)] + r2_53 * ((*dist_coeffs_101)[int(1)] + r2_53 * ((*dist_coeffs_101)[int(2)] + r2_53 * (*dist_coeffs_101)[int(3)])))) + make_float2 (_S7997 * u_53 * v_53 + (*dist_coeffs_101)[int(5)] * (r2_53 + 2.0f * u_53 * u_53) + (*dist_coeffs_101)[int(6)] * r2_53, _S7998 * u_53 * v_53 + (*dist_coeffs_101)[int(4)] * (r2_53 + 2.0f * v_53 * v_53) + (*dist_coeffs_101)[int(7)] * r2_53);
    float2  _S8000 = _S7999 + make_float2 ((*dist_coeffs_101)[int(8)] * _S7999.x + (*dist_coeffs_101)[int(9)] * _S7999.y, 0.0f);
    *uv0_3 = make_float2 (fx_97 * _S8000.x + cx_92, fy_97 * _S8000.y + cy_92);
    float2  _S8001 = float2 {vert1_c_3.x, vert1_c_3.y};
    float r_28 = length_0(_S8001);
    float _S8002 = vert1_c_3.z;
    float theta_24 = (F32_atan2((r_28), (_S8002)));
    if(theta_24 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_24 * theta_24 / 3.0f) / _S8002;
    }
    else
    {
        k_8 = theta_24 / r_28;
    }
    float2  _S8003 = _S8001 * make_float2 (k_8);
    float u_54 = _S8003.x;
    float v_54 = _S8003.y;
    float r2_54 = u_54 * u_54 + v_54 * v_54;
    float2  _S8004 = _S8003 * make_float2 (1.0f + r2_54 * ((*dist_coeffs_101)[int(0)] + r2_54 * ((*dist_coeffs_101)[int(1)] + r2_54 * ((*dist_coeffs_101)[int(2)] + r2_54 * (*dist_coeffs_101)[int(3)])))) + make_float2 (_S7997 * u_54 * v_54 + (*dist_coeffs_101)[int(5)] * (r2_54 + 2.0f * u_54 * u_54) + (*dist_coeffs_101)[int(6)] * r2_54, _S7998 * u_54 * v_54 + (*dist_coeffs_101)[int(4)] * (r2_54 + 2.0f * v_54 * v_54) + (*dist_coeffs_101)[int(7)] * r2_54);
    float2  _S8005 = _S8004 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8004.x + (*dist_coeffs_101)[int(9)] * _S8004.y, 0.0f);
    *uv1_3 = make_float2 (fx_97 * _S8005.x + cx_92, fy_97 * _S8005.y + cy_92);
    float2  _S8006 = float2 {vert2_c_3.x, vert2_c_3.y};
    float r_29 = length_0(_S8006);
    float _S8007 = vert2_c_3.z;
    float theta_25 = (F32_atan2((r_29), (_S8007)));
    if(theta_25 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_25 * theta_25 / 3.0f) / _S8007;
    }
    else
    {
        k_8 = theta_25 / r_29;
    }
    float2  _S8008 = _S8006 * make_float2 (k_8);
    float u_55 = _S8008.x;
    float v_55 = _S8008.y;
    float r2_55 = u_55 * u_55 + v_55 * v_55;
    float2  _S8009 = _S8008 * make_float2 (1.0f + r2_55 * ((*dist_coeffs_101)[int(0)] + r2_55 * ((*dist_coeffs_101)[int(1)] + r2_55 * ((*dist_coeffs_101)[int(2)] + r2_55 * (*dist_coeffs_101)[int(3)])))) + make_float2 (_S7997 * u_55 * v_55 + (*dist_coeffs_101)[int(5)] * (r2_55 + 2.0f * u_55 * u_55) + (*dist_coeffs_101)[int(6)] * r2_55, _S7998 * u_55 * v_55 + (*dist_coeffs_101)[int(4)] * (r2_55 + 2.0f * v_55 * v_55) + (*dist_coeffs_101)[int(7)] * r2_55);
    float2  _S8010 = _S8009 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8009.x + (*dist_coeffs_101)[int(9)] * _S8009.y, 0.0f);
    float _S8011 = fx_97 * _S8010.x + cx_92;
    float _S8012 = fy_97 * _S8010.y + cy_92;
    float2  _S8013 = make_float2 (_S8011, _S8012);
    *uv2_3 = _S8013;
    float2  e0_3 = *uv1_3 - *uv0_3;
    float2  e1_3 = _S8013 - *uv1_3;
    float offset_3 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_3.y))))) - 1.0f) * ((F32_abs((e0_3.x * e1_3.y - e0_3.y * e1_3.x))) / (length_0(e0_3) + length_0(e1_3) + length_0(*uv0_3 - _S8013)));
    *aabb_xyxy_55 = make_int4 (int((F32_floor(((F32_min(((F32_min(((*uv0_3).x), ((*uv1_3).x)))), (_S8011))) - offset_3)))), int((F32_floor(((F32_min(((F32_min(((*uv0_3).y), ((*uv1_3).y)))), (_S8012))) - offset_3)))), int((F32_ceil(((F32_max(((F32_max(((*uv0_3).x), ((*uv1_3).x)))), (_S8011))) + offset_3)))), int((F32_ceil(((F32_max(((F32_max(((*uv0_3).y), ((*uv1_3).y)))), (_S8012))) + offset_3)))));
    *depth_42 = log_0(make_float3 (length_1(vert0_c_3), length_1(vert1_c_3), length_1(vert2_c_3)) + make_float3 (9.999999960041972e-13f));
    *out_hardness_3 = hardness_3;
    float3  _S8014 = mean_65 - - mul_0(transpose_0(R_67), t_63);
    float _S8015 = _S8014.x;
    float _S8016 = _S8014.y;
    float _S8017 = _S8014.z;
    float norm_13 = (F32_sqrt((_S8015 * _S8015 + _S8016 * _S8016 + _S8017 * _S8017)));
    float x_78 = _S8015 / norm_13;
    float y_21 = _S8016 / norm_13;
    float z_18 = _S8017 / norm_13;
    float z2_99 = z_18 * z_18;
    float fTmp0B_18 = -1.09254848957061768f * z_18;
    float fC1_18 = x_78 * x_78 - y_21 * y_21;
    float fS1_18 = 2.0f * x_78 * y_21;
    float fTmp0C_18 = -2.28522896766662598f * z2_99 + 0.4570457935333252f;
    float fTmp1B_18 = 1.44530570507049561f * z_18;
    float3  color_3 = make_float3 (0.282094806432724f) * (*sh_coeffs_18)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_21) * (*sh_coeffs_18)[int(1)] + make_float3 (z_18) * (*sh_coeffs_18)[int(2)] - make_float3 (x_78) * (*sh_coeffs_18)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_18) * (*sh_coeffs_18)[int(4)] + make_float3 (fTmp0B_18 * y_21) * (*sh_coeffs_18)[int(5)] + make_float3 (0.94617468118667603f * z2_99 - 0.31539157032966614f) * (*sh_coeffs_18)[int(6)] + make_float3 (fTmp0B_18 * x_78) * (*sh_coeffs_18)[int(7)] + make_float3 (0.54627424478530884f * fC1_18) * (*sh_coeffs_18)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_78 * fS1_18 + y_21 * fC1_18)) * (*sh_coeffs_18)[int(9)] + make_float3 (fTmp1B_18 * fS1_18) * (*sh_coeffs_18)[int(10)] + make_float3 (fTmp0C_18 * y_21) * (*sh_coeffs_18)[int(11)] + make_float3 (z_18 * (1.86588168144226074f * z2_99 - 1.11952900886535645f)) * (*sh_coeffs_18)[int(12)] + make_float3 (fTmp0C_18 * x_78) * (*sh_coeffs_18)[int(13)] + make_float3 (fTmp1B_18 * fC1_18) * (*sh_coeffs_18)[int(14)] + make_float3 (-0.59004360437393188f * (x_78 * fC1_18 - y_21 * fS1_18)) * (*sh_coeffs_18)[int(15)]);
    float3  _S8018 = make_float3 (0.0f);
    (*rgb_43)[int(0)] = max_0(color_3 + (*ch_coeffs_3)[int(0)] + make_float3 (0.5f), _S8018);
    float3  _S8019 = color_3 - (*ch_coeffs_3)[int(0)] * make_float3 (0.5f);
    float3  _S8020 = (*ch_coeffs_3)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgb_43)[int(1)] = max_0(_S8019 + _S8020 + make_float3 (0.5f), _S8018);
    (*rgb_43)[int(2)] = max_0(_S8019 - _S8020 + make_float3 (0.5f), _S8018);
    float3  _S8021 = normalize_0(cross_0(vert1_c_3 - vert0_c_3, vert2_c_3 - vert0_c_3));
    *normal_3 = _S8021 * make_float3 (float(- (F32_sign((dot_0(_S8021, mean_c_74))))));
    return;
}

inline __device__ void s_bwd_prop_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_17, float3  _s_dOut_9)
{
    float _S8022 = length_1((*dpx_17).primal_0);
    float3  _S8023 = (*dpx_17).primal_0 * _s_dOut_9;
    float3  _S8024 = make_float3 (1.0f / _S8022) * _s_dOut_9;
    float _S8025 = - ((_S8023.x + _S8023.y + _S8023.z) / (_S8022 * _S8022));
    float3  _S8026 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8027;
    (&_S8027)->primal_0 = (*dpx_17).primal_0;
    (&_S8027)->differential_0 = _S8026;
    s_bwd_length_impl_1(&_S8027, _S8025);
    float3  _S8028 = _S8024 + _S8027.differential_0;
    dpx_17->primal_0 = (*dpx_17).primal_0;
    dpx_17->differential_0 = _S8028;
    return;
}

inline __device__ void s_bwd_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8029, float3  _S8030)
{
    s_bwd_prop_normalize_impl_0(_S8029, _S8030);
    return;
}

inline __device__ void s_bwd_prop_log_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8031, float3  _S8032)
{
    _d_log_vector_0(_S8031, _S8032);
    return;
}

inline __device__ void s_bwd_prop_exp2_0(DiffPair_float_0 * _S8033, float _S8034)
{
    _d_exp2_0(_S8033, _S8034);
    return;
}

inline __device__ void s_bwd_prop_abs_0(DiffPair_float_0 * _S8035, float _S8036)
{
    _d_abs_0(_S8035, _S8036);
    return;
}

inline __device__ void projection_opaque_triangle_persp_vjp(float3  mean_66, float4  quat_67, float3  scale_66, float2  hardness_4, FixedArray<float3 , 16>  * sh_coeffs_19, FixedArray<float3 , 2>  * ch_coeffs_4, Matrix<float, 3, 3>  R_68, float3  t_64, float fx_98, float fy_98, float cx_93, float cy_93, FixedArray<float, 10>  * dist_coeffs_102, uint image_width_89, uint image_height_89, float2  v_uv0_0, float2  v_uv1_0, float2  v_uv2_0, float3  v_depth_20, float2  v_out_hardness_0, FixedArray<float3 , 3>  * v_rgb_20, float3  v_normal_0, float3  * v_mean_21, float4  * v_quat_20, float3  * v_scale_20, float2  * v_hardness_0, FixedArray<float3 , 16>  * v_sh_coeffs_5, FixedArray<float3 , 2>  * v_ch_coeffs_0, Matrix<float, 3, 3>  * v_R_21, float3  * v_t_20)
{
    float3  mean_c_75 = s_primal_ctx_mul_0(R_68, mean_66) + t_64;
    float _S8037 = scale_66.x;
    float _S8038 = s_primal_ctx_exp_1(_S8037);
    float _S8039 = scale_66.y;
    float _S8040 = s_primal_ctx_exp_1(_S8039);
    float sz_5 = scale_66.z - 0.5f * (_S8037 + _S8039);
    float _S8041 = quat_67.y;
    float x2_81 = _S8041 * _S8041;
    float y2_81 = quat_67.z * quat_67.z;
    float z2_100 = quat_67.w * quat_67.w;
    float xy_81 = quat_67.y * quat_67.z;
    float xz_81 = quat_67.y * quat_67.w;
    float yz_81 = quat_67.z * quat_67.w;
    float wx_81 = quat_67.x * quat_67.y;
    float wy_81 = quat_67.x * quat_67.z;
    float wz_81 = quat_67.x * quat_67.w;
    Matrix<float, 3, 3>  _S8042 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_81 + z2_100), 2.0f * (xy_81 + wz_81), 2.0f * (xz_81 - wy_81), 2.0f * (xy_81 - wz_81), 1.0f - 2.0f * (x2_81 + z2_100), 2.0f * (yz_81 + wx_81), 2.0f * (xz_81 + wy_81), 2.0f * (yz_81 - wx_81), 1.0f - 2.0f * (x2_81 + y2_81)));
    float3  _S8043 = make_float3 (_S8038, 0.0f, 0.0f);
    float3  vert0_1 = s_primal_ctx_mul_0(_S8042, _S8043) + mean_66;
    float _S8044 = -0.5f + sz_5;
    float3  _S8045 = make_float3 (_S8038 * _S8044, _S8040, 0.0f);
    float3  vert1_1 = s_primal_ctx_mul_0(_S8042, _S8045) + mean_66;
    float _S8046 = -0.5f - sz_5;
    float3  _S8047 = make_float3 (_S8038 * _S8046, - _S8040, 0.0f);
    float3  vert2_1 = s_primal_ctx_mul_0(_S8042, _S8047) + mean_66;
    float3  vert0_c_4 = s_primal_ctx_mul_0(R_68, vert0_1) + t_64;
    float3  vert1_c_4 = s_primal_ctx_mul_0(R_68, vert1_1) + t_64;
    float3  vert2_c_4 = s_primal_ctx_mul_0(R_68, vert2_1) + t_64;
    float2  _S8048 = float2 {vert0_c_4.x, vert0_c_4.y};
    float _S8049 = vert0_c_4.z;
    float2  _S8050 = make_float2 (_S8049);
    float2  _S8051 = _S8048 / make_float2 (_S8049);
    float2  _S8052 = make_float2 (_S8049 * _S8049);
    float u_56 = _S8051.x;
    float v_56 = _S8051.y;
    float r2_56 = u_56 * u_56 + v_56 * v_56;
    float _S8053 = (*dist_coeffs_102)[int(2)] + r2_56 * (*dist_coeffs_102)[int(3)];
    float _S8054 = (*dist_coeffs_102)[int(1)] + r2_56 * _S8053;
    float _S8055 = (*dist_coeffs_102)[int(0)] + r2_56 * _S8054;
    float radial_1 = 1.0f + r2_56 * _S8055;
    float2  _S8056 = make_float2 (radial_1);
    float _S8057 = 2.0f * (*dist_coeffs_102)[int(4)];
    float _S8058 = _S8057 * u_56;
    float _S8059 = 2.0f * u_56;
    float _S8060 = 2.0f * (*dist_coeffs_102)[int(5)];
    float _S8061 = _S8060 * u_56;
    float _S8062 = 2.0f * v_56;
    float2  _S8063 = _S8051 * make_float2 (radial_1) + make_float2 (_S8058 * v_56 + (*dist_coeffs_102)[int(5)] * (r2_56 + _S8059 * u_56) + (*dist_coeffs_102)[int(6)] * r2_56, _S8061 * v_56 + (*dist_coeffs_102)[int(4)] * (r2_56 + _S8062 * v_56) + (*dist_coeffs_102)[int(7)] * r2_56);
    float2  _S8064 = _S8063 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8063.x + (*dist_coeffs_102)[int(9)] * _S8063.y, 0.0f);
    float _S8065 = fx_98 * _S8064.x + cx_93;
    float _S8066 = fy_98 * _S8064.y + cy_93;
    float2  _S8067 = make_float2 (_S8065, _S8066);
    float2  _S8068 = float2 {vert1_c_4.x, vert1_c_4.y};
    float _S8069 = vert1_c_4.z;
    float2  _S8070 = make_float2 (_S8069);
    float2  _S8071 = _S8068 / make_float2 (_S8069);
    float2  _S8072 = make_float2 (_S8069 * _S8069);
    float u_57 = _S8071.x;
    float v_57 = _S8071.y;
    float r2_57 = u_57 * u_57 + v_57 * v_57;
    float _S8073 = (*dist_coeffs_102)[int(2)] + r2_57 * (*dist_coeffs_102)[int(3)];
    float _S8074 = (*dist_coeffs_102)[int(1)] + r2_57 * _S8073;
    float _S8075 = (*dist_coeffs_102)[int(0)] + r2_57 * _S8074;
    float radial_2 = 1.0f + r2_57 * _S8075;
    float2  _S8076 = make_float2 (radial_2);
    float _S8077 = _S8057 * u_57;
    float _S8078 = 2.0f * u_57;
    float _S8079 = _S8060 * u_57;
    float _S8080 = 2.0f * v_57;
    float2  _S8081 = _S8071 * make_float2 (radial_2) + make_float2 (_S8077 * v_57 + (*dist_coeffs_102)[int(5)] * (r2_57 + _S8078 * u_57) + (*dist_coeffs_102)[int(6)] * r2_57, _S8079 * v_57 + (*dist_coeffs_102)[int(4)] * (r2_57 + _S8080 * v_57) + (*dist_coeffs_102)[int(7)] * r2_57);
    float2  _S8082 = _S8081 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8081.x + (*dist_coeffs_102)[int(9)] * _S8081.y, 0.0f);
    float _S8083 = fx_98 * _S8082.x + cx_93;
    float _S8084 = fy_98 * _S8082.y + cy_93;
    float2  _S8085 = make_float2 (_S8083, _S8084);
    float2  _S8086 = float2 {vert2_c_4.x, vert2_c_4.y};
    float _S8087 = vert2_c_4.z;
    float2  _S8088 = make_float2 (_S8087);
    float2  _S8089 = _S8086 / make_float2 (_S8087);
    float2  _S8090 = make_float2 (_S8087 * _S8087);
    float u_58 = _S8089.x;
    float v_58 = _S8089.y;
    float r2_58 = u_58 * u_58 + v_58 * v_58;
    float _S8091 = (*dist_coeffs_102)[int(2)] + r2_58 * (*dist_coeffs_102)[int(3)];
    float _S8092 = (*dist_coeffs_102)[int(1)] + r2_58 * _S8091;
    float _S8093 = (*dist_coeffs_102)[int(0)] + r2_58 * _S8092;
    float radial_3 = 1.0f + r2_58 * _S8093;
    float2  _S8094 = make_float2 (radial_3);
    float _S8095 = _S8057 * u_58;
    float _S8096 = 2.0f * u_58;
    float _S8097 = _S8060 * u_58;
    float _S8098 = 2.0f * v_58;
    float2  _S8099 = _S8089 * make_float2 (radial_3) + make_float2 (_S8095 * v_58 + (*dist_coeffs_102)[int(5)] * (r2_58 + _S8096 * u_58) + (*dist_coeffs_102)[int(6)] * r2_58, _S8097 * v_58 + (*dist_coeffs_102)[int(4)] * (r2_58 + _S8098 * v_58) + (*dist_coeffs_102)[int(7)] * r2_58);
    float2  _S8100 = _S8099 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8099.x + (*dist_coeffs_102)[int(9)] * _S8099.y, 0.0f);
    float _S8101 = fx_98 * _S8100.x + cx_93;
    float _S8102 = fy_98 * _S8100.y + cy_93;
    float2  _S8103 = make_float2 (_S8101, _S8102);
    float2  e0_4 = _S8085 - _S8067;
    float2  e1_4 = _S8103 - _S8085;
    float2  e2_0 = _S8067 - _S8103;
    float _S8104 = e0_4.x;
    float _S8105 = e1_4.y;
    float _S8106 = e0_4.y;
    float _S8107 = e1_4.x;
    float _S8108 = _S8104 * _S8105 - _S8106 * _S8107;
    float _S8109 = 1.0f - hardness_4.y;
    float _S8110 = -1.0f / _S8109;
    float _S8111 = _S8109 * _S8109;
    float _S8112 = s_primal_ctx_max_0(_S8065, _S8083);
    float _S8113 = s_primal_ctx_min_0(_S8065, _S8083);
    float _S8114 = s_primal_ctx_max_0(_S8066, _S8084);
    float _S8115 = s_primal_ctx_min_0(_S8066, _S8084);
    float3  _S8116 = make_float3 (length_1(vert0_c_4), length_1(vert1_c_4), length_1(vert2_c_4)) + make_float3 (9.999999960041972e-13f);
    Matrix<float, 3, 3>  _S8117 = transpose_0(R_68);
    float3  _S8118 = mean_66 - - s_primal_ctx_mul_0(_S8117, t_64);
    float _S8119 = _S8118.x;
    float _S8120 = _S8118.y;
    float _S8121 = _S8118.z;
    float _S8122 = _S8119 * _S8119 + _S8120 * _S8120 + _S8121 * _S8121;
    float _S8123 = s_primal_ctx_sqrt_0(_S8122);
    float x_79 = _S8119 / _S8123;
    float3  _S8124 = make_float3 (x_79);
    float _S8125 = _S8123 * _S8123;
    float y_22 = _S8120 / _S8123;
    float z_19 = _S8121 / _S8123;
    float3  _S8126 = make_float3 (z_19);
    float _S8127 = - y_22;
    float3  _S8128 = make_float3 (_S8127);
    float z2_101 = z_19 * z_19;
    float fTmp0B_19 = -1.09254848957061768f * z_19;
    float fC1_19 = x_79 * x_79 - y_22 * y_22;
    float _S8129 = 2.0f * x_79;
    float fS1_19 = _S8129 * y_22;
    float pSH6_5 = 0.94617468118667603f * z2_101 - 0.31539157032966614f;
    float3  _S8130 = make_float3 (pSH6_5);
    float pSH7_5 = fTmp0B_19 * x_79;
    float3  _S8131 = make_float3 (pSH7_5);
    float pSH5_5 = fTmp0B_19 * y_22;
    float3  _S8132 = make_float3 (pSH5_5);
    float pSH8_5 = 0.54627424478530884f * fC1_19;
    float3  _S8133 = make_float3 (pSH8_5);
    float pSH4_5 = 0.54627424478530884f * fS1_19;
    float3  _S8134 = make_float3 (pSH4_5);
    float fTmp0C_19 = -2.28522896766662598f * z2_101 + 0.4570457935333252f;
    float fTmp1B_19 = 1.44530570507049561f * z_19;
    float _S8135 = 1.86588168144226074f * z2_101 - 1.11952900886535645f;
    float pSH12_5 = z_19 * _S8135;
    float3  _S8136 = make_float3 (pSH12_5);
    float pSH13_5 = fTmp0C_19 * x_79;
    float3  _S8137 = make_float3 (pSH13_5);
    float pSH11_5 = fTmp0C_19 * y_22;
    float3  _S8138 = make_float3 (pSH11_5);
    float pSH14_5 = fTmp1B_19 * fC1_19;
    float3  _S8139 = make_float3 (pSH14_5);
    float pSH10_5 = fTmp1B_19 * fS1_19;
    float3  _S8140 = make_float3 (pSH10_5);
    float pSH15_5 = -0.59004360437393188f * (x_79 * fC1_19 - y_22 * fS1_19);
    float3  _S8141 = make_float3 (pSH15_5);
    float pSH9_5 = -0.59004360437393188f * (x_79 * fS1_19 + y_22 * fC1_19);
    float3  _S8142 = make_float3 (pSH9_5);
    float3  color_4 = make_float3 (0.282094806432724f) * (*sh_coeffs_19)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S8127) * (*sh_coeffs_19)[int(1)] + make_float3 (z_19) * (*sh_coeffs_19)[int(2)] - make_float3 (x_79) * (*sh_coeffs_19)[int(3)]) + (make_float3 (pSH4_5) * (*sh_coeffs_19)[int(4)] + make_float3 (pSH5_5) * (*sh_coeffs_19)[int(5)] + make_float3 (pSH6_5) * (*sh_coeffs_19)[int(6)] + make_float3 (pSH7_5) * (*sh_coeffs_19)[int(7)] + make_float3 (pSH8_5) * (*sh_coeffs_19)[int(8)]) + (make_float3 (pSH9_5) * (*sh_coeffs_19)[int(9)] + make_float3 (pSH10_5) * (*sh_coeffs_19)[int(10)] + make_float3 (pSH11_5) * (*sh_coeffs_19)[int(11)] + make_float3 (pSH12_5) * (*sh_coeffs_19)[int(12)] + make_float3 (pSH13_5) * (*sh_coeffs_19)[int(13)] + make_float3 (pSH14_5) * (*sh_coeffs_19)[int(14)] + make_float3 (pSH15_5) * (*sh_coeffs_19)[int(15)]);
    float3  _S8143 = color_4 + (*ch_coeffs_4)[int(0)] + make_float3 (0.5f);
    float3  _S8144 = make_float3 (0.0f);
    float3  _S8145 = color_4 - (*ch_coeffs_4)[int(0)] * make_float3 (0.5f);
    float _S8146 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S8147 = make_float3 (_S8146);
    float3  _S8148 = (*ch_coeffs_4)[int(1)] * make_float3 (_S8146);
    float3  _S8149 = _S8145 + _S8148 + make_float3 (0.5f);
    float3  _S8150 = _S8145 - _S8148 + make_float3 (0.5f);
    float3  _S8151 = vert1_c_4 - vert0_c_4;
    float3  _S8152 = vert2_c_4 - vert0_c_4;
    float3  _S8153 = s_primal_ctx_cross_0(_S8151, _S8152);
    float3  _S8154 = normalize_0(_S8153);
    float3  _S8155 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S8154, mean_c_75)))))) * v_normal_0;
    float3  _S8156 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8157;
    (&_S8157)->primal_0 = _S8154;
    (&_S8157)->differential_0 = _S8156;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8158;
    (&_S8158)->primal_0 = mean_c_75;
    (&_S8158)->differential_0 = _S8156;
    s_bwd_prop_dot_0(&_S8157, &_S8158, 0.0f);
    float3  _S8159 = _S8155 + _S8157.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8160;
    (&_S8160)->primal_0 = _S8153;
    (&_S8160)->differential_0 = _S8156;
    s_bwd_normalize_impl_0(&_S8160, _S8159);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8161;
    (&_S8161)->primal_0 = _S8151;
    (&_S8161)->differential_0 = _S8156;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8162;
    (&_S8162)->primal_0 = _S8152;
    (&_S8162)->differential_0 = _S8156;
    s_bwd_prop_cross_0(&_S8161, &_S8162, _S8160.differential_0);
    float3  _S8163 = - _S8162.differential_0;
    float3  _S8164 = - _S8161.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8165;
    (&_S8165)->primal_0 = _S8150;
    (&_S8165)->differential_0 = _S8156;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8166;
    (&_S8166)->primal_0 = _S8144;
    (&_S8166)->differential_0 = _S8156;
    s_bwd_prop_max_0(&_S8165, &_S8166, (*v_rgb_20)[int(2)]);
    float3  _S8167 = - _S8165.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8168;
    (&_S8168)->primal_0 = _S8149;
    (&_S8168)->differential_0 = _S8156;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8169;
    (&_S8169)->primal_0 = _S8144;
    (&_S8169)->differential_0 = _S8156;
    s_bwd_prop_max_0(&_S8168, &_S8169, (*v_rgb_20)[int(1)]);
    float3  _S8170 = _S8147 * (_S8167 + _S8168.differential_0);
    float3  _S8171 = _S8165.differential_0 + _S8168.differential_0;
    float3  _S8172 = make_float3 (0.5f) * - _S8171;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8173;
    (&_S8173)->primal_0 = _S8143;
    (&_S8173)->differential_0 = _S8156;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8174;
    (&_S8174)->primal_0 = _S8144;
    (&_S8174)->differential_0 = _S8156;
    s_bwd_prop_max_0(&_S8173, &_S8174, (*v_rgb_20)[int(0)]);
    float3  _S8175 = _S8172 + _S8173.differential_0;
    float3  _S8176 = _S8171 + _S8173.differential_0;
    float3  _S8177 = _S8141 * _S8176;
    float3  _S8178 = (*sh_coeffs_19)[int(15)] * _S8176;
    float3  _S8179 = _S8139 * _S8176;
    float3  _S8180 = (*sh_coeffs_19)[int(14)] * _S8176;
    float3  _S8181 = _S8137 * _S8176;
    float3  _S8182 = (*sh_coeffs_19)[int(13)] * _S8176;
    float3  _S8183 = _S8136 * _S8176;
    float3  _S8184 = (*sh_coeffs_19)[int(12)] * _S8176;
    float3  _S8185 = _S8138 * _S8176;
    float3  _S8186 = (*sh_coeffs_19)[int(11)] * _S8176;
    float3  _S8187 = _S8140 * _S8176;
    float3  _S8188 = (*sh_coeffs_19)[int(10)] * _S8176;
    float3  _S8189 = _S8142 * _S8176;
    float3  _S8190 = (*sh_coeffs_19)[int(9)] * _S8176;
    float s_diff_fS2_T_5 = -0.59004360437393188f * (_S8190.x + _S8190.y + _S8190.z);
    float s_diff_fC2_T_5 = -0.59004360437393188f * (_S8178.x + _S8178.y + _S8178.z);
    float _S8191 = _S8188.x + _S8188.y + _S8188.z;
    float _S8192 = _S8180.x + _S8180.y + _S8180.z;
    float _S8193 = _S8186.x + _S8186.y + _S8186.z;
    float _S8194 = _S8182.x + _S8182.y + _S8182.z;
    float _S8195 = _S8184.x + _S8184.y + _S8184.z;
    float _S8196 = - s_diff_fC2_T_5;
    float3  _S8197 = _S8133 * _S8176;
    float3  _S8198 = (*sh_coeffs_19)[int(8)] * _S8176;
    float3  _S8199 = _S8131 * _S8176;
    float3  _S8200 = (*sh_coeffs_19)[int(7)] * _S8176;
    float3  _S8201 = _S8130 * _S8176;
    float3  _S8202 = (*sh_coeffs_19)[int(6)] * _S8176;
    float3  _S8203 = _S8132 * _S8176;
    float3  _S8204 = (*sh_coeffs_19)[int(5)] * _S8176;
    float3  _S8205 = _S8134 * _S8176;
    float3  _S8206 = (*sh_coeffs_19)[int(4)] * _S8176;
    float _S8207 = _S8204.x + _S8204.y + _S8204.z;
    float _S8208 = _S8200.x + _S8200.y + _S8200.z;
    float _S8209 = fTmp1B_19 * _S8191 + x_79 * s_diff_fS2_T_5 + y_22 * _S8196 + 0.54627424478530884f * (_S8206.x + _S8206.y + _S8206.z);
    float _S8210 = fTmp1B_19 * _S8192 + y_22 * s_diff_fS2_T_5 + x_79 * s_diff_fC2_T_5 + 0.54627424478530884f * (_S8198.x + _S8198.y + _S8198.z);
    float _S8211 = y_22 * - _S8210;
    float _S8212 = x_79 * _S8210;
    float _S8213 = z_19 * (1.86588168144226074f * (z_19 * _S8195) + -2.28522896766662598f * (y_22 * _S8193 + x_79 * _S8194) + 0.94617468118667603f * (_S8202.x + _S8202.y + _S8202.z));
    float3  _S8214 = make_float3 (0.48860251903533936f) * _S8176;
    float3  _S8215 = - _S8214;
    float3  _S8216 = _S8124 * _S8215;
    float3  _S8217 = (*sh_coeffs_19)[int(3)] * _S8215;
    float3  _S8218 = _S8126 * _S8214;
    float3  _S8219 = (*sh_coeffs_19)[int(2)] * _S8214;
    float3  _S8220 = _S8128 * _S8214;
    float3  _S8221 = (*sh_coeffs_19)[int(1)] * _S8214;
    float _S8222 = (_S8135 * _S8195 + 1.44530570507049561f * (fS1_19 * _S8191 + fC1_19 * _S8192) + -1.09254848957061768f * (y_22 * _S8207 + x_79 * _S8208) + _S8213 + _S8213 + _S8219.x + _S8219.y + _S8219.z) / _S8125;
    float _S8223 = _S8123 * _S8222;
    float _S8224 = (fTmp0C_19 * _S8193 + fC1_19 * s_diff_fS2_T_5 + fS1_19 * _S8196 + fTmp0B_19 * _S8207 + _S8129 * _S8209 + _S8211 + _S8211 + - (_S8221.x + _S8221.y + _S8221.z)) / _S8125;
    float _S8225 = _S8123 * _S8224;
    float _S8226 = (fTmp0C_19 * _S8194 + fS1_19 * s_diff_fS2_T_5 + fC1_19 * s_diff_fC2_T_5 + fTmp0B_19 * _S8208 + 2.0f * (y_22 * _S8209) + _S8212 + _S8212 + _S8217.x + _S8217.y + _S8217.z) / _S8125;
    float _S8227 = _S8123 * _S8226;
    float _S8228 = _S8121 * - _S8222 + _S8120 * - _S8224 + _S8119 * - _S8226;
    DiffPair_float_0 _S8229;
    (&_S8229)->primal_0 = _S8122;
    (&_S8229)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8229, _S8228);
    float _S8230 = _S8121 * _S8229.differential_0;
    float _S8231 = _S8120 * _S8229.differential_0;
    float _S8232 = _S8119 * _S8229.differential_0;
    float3  _S8233 = make_float3 (0.282094806432724f) * _S8176;
    float3  _S8234 = make_float3 (_S8227 + _S8232 + _S8232, _S8225 + _S8231 + _S8231, _S8223 + _S8230 + _S8230);
    float3  _S8235 = - - _S8234;
    Matrix<float, 3, 3>  _S8236 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8237;
    (&_S8237)->primal_0 = _S8117;
    (&_S8237)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8238;
    (&_S8238)->primal_0 = t_64;
    (&_S8238)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8237, &_S8238, _S8235);
    Matrix<float, 3, 3>  _S8239 = transpose_0(_S8237.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8240;
    (&_S8240)->primal_0 = _S8116;
    (&_S8240)->differential_0 = _S8156;
    s_bwd_prop_log_1(&_S8240, v_depth_20);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8241;
    (&_S8241)->primal_0 = vert2_c_4;
    (&_S8241)->differential_0 = _S8156;
    s_bwd_length_impl_1(&_S8241, _S8240.differential_0.z);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8242;
    (&_S8242)->primal_0 = vert1_c_4;
    (&_S8242)->differential_0 = _S8156;
    s_bwd_length_impl_1(&_S8242, _S8240.differential_0.y);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8243;
    (&_S8243)->primal_0 = vert0_c_4;
    (&_S8243)->differential_0 = _S8156;
    s_bwd_length_impl_1(&_S8243, _S8240.differential_0.x);
    DiffPair_float_0 _S8244;
    (&_S8244)->primal_0 = _S8115;
    (&_S8244)->differential_0 = 0.0f;
    DiffPair_float_0 _S8245;
    (&_S8245)->primal_0 = _S8102;
    (&_S8245)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8244, &_S8245, 0.0f);
    DiffPair_float_0 _S8246;
    (&_S8246)->primal_0 = _S8066;
    (&_S8246)->differential_0 = 0.0f;
    DiffPair_float_0 _S8247;
    (&_S8247)->primal_0 = _S8084;
    (&_S8247)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8246, &_S8247, _S8244.differential_0);
    DiffPair_float_0 _S8248;
    (&_S8248)->primal_0 = _S8114;
    (&_S8248)->differential_0 = 0.0f;
    DiffPair_float_0 _S8249;
    (&_S8249)->primal_0 = _S8102;
    (&_S8249)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8248, &_S8249, 0.0f);
    DiffPair_float_0 _S8250;
    (&_S8250)->primal_0 = _S8066;
    (&_S8250)->differential_0 = 0.0f;
    DiffPair_float_0 _S8251;
    (&_S8251)->primal_0 = _S8084;
    (&_S8251)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8250, &_S8251, _S8248.differential_0);
    DiffPair_float_0 _S8252;
    (&_S8252)->primal_0 = _S8113;
    (&_S8252)->differential_0 = 0.0f;
    DiffPair_float_0 _S8253;
    (&_S8253)->primal_0 = _S8101;
    (&_S8253)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8252, &_S8253, 0.0f);
    DiffPair_float_0 _S8254;
    (&_S8254)->primal_0 = _S8065;
    (&_S8254)->differential_0 = 0.0f;
    DiffPair_float_0 _S8255;
    (&_S8255)->primal_0 = _S8083;
    (&_S8255)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8254, &_S8255, _S8252.differential_0);
    DiffPair_float_0 _S8256;
    (&_S8256)->primal_0 = _S8112;
    (&_S8256)->differential_0 = 0.0f;
    DiffPair_float_0 _S8257;
    (&_S8257)->primal_0 = _S8101;
    (&_S8257)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8256, &_S8257, 0.0f);
    DiffPair_float_0 _S8258;
    (&_S8258)->primal_0 = _S8065;
    (&_S8258)->differential_0 = 0.0f;
    DiffPair_float_0 _S8259;
    (&_S8259)->primal_0 = _S8083;
    (&_S8259)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8258, &_S8259, _S8256.differential_0);
    DiffPair_float_0 _S8260;
    (&_S8260)->primal_0 = _S8110;
    (&_S8260)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S8260, 0.0f);
    float _S8261 = - (-1.0f * - (_S8260.differential_0 / _S8111));
    float2  _S8262 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8263;
    (&_S8263)->primal_0 = e2_0;
    (&_S8263)->differential_0 = _S8262;
    s_bwd_length_impl_0(&_S8263, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8264;
    (&_S8264)->primal_0 = e1_4;
    (&_S8264)->differential_0 = _S8262;
    s_bwd_length_impl_0(&_S8264, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8265;
    (&_S8265)->primal_0 = e0_4;
    (&_S8265)->differential_0 = _S8262;
    s_bwd_length_impl_0(&_S8265, -0.0f);
    DiffPair_float_0 _S8266;
    (&_S8266)->primal_0 = _S8108;
    (&_S8266)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S8266, 0.0f);
    float _S8267 = - _S8266.differential_0;
    float2  _S8268 = _S8264.differential_0 + make_float2 (_S8106 * _S8267, _S8104 * _S8266.differential_0);
    float2  _S8269 = _S8265.differential_0 + make_float2 (_S8105 * _S8266.differential_0, _S8107 * _S8267);
    float2  _S8270 = v_uv2_0 + - _S8263.differential_0 + _S8268;
    float _S8271 = fx_98 * (_S8253.differential_0 + _S8257.differential_0 + _S8270.x);
    float2  _S8272 = make_float2 (_S8271, fy_98 * (_S8245.differential_0 + _S8249.differential_0 + _S8270.y)) + make_float2 ((*dist_coeffs_102)[int(8)] * _S8271, (*dist_coeffs_102)[int(9)] * _S8271);
    float2  _S8273 = _S8089 * _S8272;
    float _S8274 = (*dist_coeffs_102)[int(4)] * _S8272.y;
    float _S8275 = (*dist_coeffs_102)[int(5)] * _S8272.x;
    float _S8276 = _S8273.x + _S8273.y;
    float _S8277 = r2_58 * _S8276;
    float _S8278 = r2_58 * _S8277;
    float _S8279 = (*dist_coeffs_102)[int(7)] * _S8272.y + _S8274 + (*dist_coeffs_102)[int(6)] * _S8272.x + _S8275 + _S8093 * _S8276 + _S8092 * _S8277 + _S8091 * _S8278 + (*dist_coeffs_102)[int(3)] * (r2_58 * _S8278);
    float _S8280 = v_58 * _S8279;
    float _S8281 = u_58 * _S8279;
    float2  _S8282 = (_S8094 * _S8272 + make_float2 (_S8060 * (v_58 * _S8272.y) + _S8096 * _S8275 + 2.0f * (u_58 * _S8275) + _S8057 * (v_58 * _S8272.x) + _S8281 + _S8281, _S8098 * _S8274 + 2.0f * (v_58 * _S8274) + _S8097 * _S8272.y + _S8095 * _S8272.x + _S8280 + _S8280)) / _S8090;
    float2  _S8283 = _S8086 * - _S8282;
    float2  _S8284 = _S8088 * _S8282;
    float2  _S8285 = v_uv1_0 + - _S8268 + _S8269;
    float _S8286 = fx_98 * (_S8255.differential_0 + _S8259.differential_0 + _S8285.x);
    float2  _S8287 = make_float2 (_S8286, fy_98 * (_S8247.differential_0 + _S8251.differential_0 + _S8285.y)) + make_float2 ((*dist_coeffs_102)[int(8)] * _S8286, (*dist_coeffs_102)[int(9)] * _S8286);
    float2  _S8288 = _S8071 * _S8287;
    float _S8289 = (*dist_coeffs_102)[int(4)] * _S8287.y;
    float _S8290 = (*dist_coeffs_102)[int(5)] * _S8287.x;
    float _S8291 = _S8288.x + _S8288.y;
    float _S8292 = r2_57 * _S8291;
    float _S8293 = r2_57 * _S8292;
    float _S8294 = (*dist_coeffs_102)[int(7)] * _S8287.y + _S8289 + (*dist_coeffs_102)[int(6)] * _S8287.x + _S8290 + _S8075 * _S8291 + _S8074 * _S8292 + _S8073 * _S8293 + (*dist_coeffs_102)[int(3)] * (r2_57 * _S8293);
    float _S8295 = v_57 * _S8294;
    float _S8296 = u_57 * _S8294;
    float2  _S8297 = (_S8076 * _S8287 + make_float2 (_S8060 * (v_57 * _S8287.y) + _S8078 * _S8290 + 2.0f * (u_57 * _S8290) + _S8057 * (v_57 * _S8287.x) + _S8296 + _S8296, _S8080 * _S8289 + 2.0f * (v_57 * _S8289) + _S8079 * _S8287.y + _S8077 * _S8287.x + _S8295 + _S8295)) / _S8072;
    float2  _S8298 = _S8068 * - _S8297;
    float2  _S8299 = _S8070 * _S8297;
    float _S8300 = _S8298.x + _S8298.y;
    float2  _S8301 = v_uv0_0 + _S8263.differential_0 + - _S8269;
    float _S8302 = fx_98 * (_S8254.differential_0 + _S8258.differential_0 + _S8301.x);
    float2  _S8303 = make_float2 (_S8302, fy_98 * (_S8246.differential_0 + _S8250.differential_0 + _S8301.y)) + make_float2 ((*dist_coeffs_102)[int(8)] * _S8302, (*dist_coeffs_102)[int(9)] * _S8302);
    float2  _S8304 = _S8051 * _S8303;
    float _S8305 = (*dist_coeffs_102)[int(4)] * _S8303.y;
    float _S8306 = (*dist_coeffs_102)[int(5)] * _S8303.x;
    float _S8307 = _S8304.x + _S8304.y;
    float _S8308 = r2_56 * _S8307;
    float _S8309 = r2_56 * _S8308;
    float _S8310 = (*dist_coeffs_102)[int(7)] * _S8303.y + _S8305 + (*dist_coeffs_102)[int(6)] * _S8303.x + _S8306 + _S8055 * _S8307 + _S8054 * _S8308 + _S8053 * _S8309 + (*dist_coeffs_102)[int(3)] * (r2_56 * _S8309);
    float _S8311 = v_56 * _S8310;
    float _S8312 = u_56 * _S8310;
    float2  _S8313 = (_S8056 * _S8303 + make_float2 (_S8060 * (v_56 * _S8303.y) + _S8059 * _S8306 + 2.0f * (u_56 * _S8306) + _S8057 * (v_56 * _S8303.x) + _S8312 + _S8312, _S8062 * _S8305 + 2.0f * (v_56 * _S8305) + _S8061 * _S8303.y + _S8058 * _S8303.x + _S8311 + _S8311)) / _S8052;
    float2  _S8314 = _S8048 * - _S8313;
    float2  _S8315 = _S8050 * _S8313;
    float _S8316 = _S8314.x + _S8314.y;
    float3  _S8317 = _S8162.differential_0 + _S8241.differential_0 + make_float3 (_S8284.x, _S8284.y, _S8283.x + _S8283.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8318;
    (&_S8318)->primal_0 = R_68;
    (&_S8318)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8319;
    (&_S8319)->primal_0 = vert2_1;
    (&_S8319)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8318, &_S8319, _S8317);
    float3  _S8320 = _S8161.differential_0 + _S8242.differential_0 + make_float3 (_S8299.x, _S8299.y, _S8300);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8321;
    (&_S8321)->primal_0 = R_68;
    (&_S8321)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8322;
    (&_S8322)->primal_0 = vert1_1;
    (&_S8322)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8321, &_S8322, _S8320);
    float3  _S8323 = _S8163 + _S8164 + _S8243.differential_0 + make_float3 (_S8315.x, _S8315.y, _S8316);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8324;
    (&_S8324)->primal_0 = R_68;
    (&_S8324)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8325;
    (&_S8325)->primal_0 = vert0_1;
    (&_S8325)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8324, &_S8325, _S8323);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8326;
    (&_S8326)->primal_0 = _S8042;
    (&_S8326)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8327;
    (&_S8327)->primal_0 = _S8047;
    (&_S8327)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8326, &_S8327, _S8319.differential_0);
    float _S8328 = - _S8327.differential_0.y;
    float _S8329 = _S8046 * _S8327.differential_0.x;
    float _S8330 = - (_S8038 * _S8327.differential_0.x);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8331;
    (&_S8331)->primal_0 = _S8042;
    (&_S8331)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8332;
    (&_S8332)->primal_0 = _S8045;
    (&_S8332)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8331, &_S8332, _S8322.differential_0);
    float _S8333 = _S8038 * _S8332.differential_0.x;
    float _S8334 = _S8044 * _S8332.differential_0.x;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8335;
    (&_S8335)->primal_0 = _S8042;
    (&_S8335)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8336;
    (&_S8336)->primal_0 = _S8043;
    (&_S8336)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8335, &_S8336, _S8325.differential_0);
    Matrix<float, 3, 3>  _S8337 = transpose_0(_S8326.differential_0 + _S8331.differential_0 + _S8335.differential_0);
    float _S8338 = 2.0f * - _S8337.rows[int(2)].z;
    float _S8339 = 2.0f * _S8337.rows[int(2)].y;
    float _S8340 = 2.0f * _S8337.rows[int(2)].x;
    float _S8341 = 2.0f * _S8337.rows[int(1)].z;
    float _S8342 = 2.0f * - _S8337.rows[int(1)].y;
    float _S8343 = 2.0f * _S8337.rows[int(1)].x;
    float _S8344 = 2.0f * _S8337.rows[int(0)].z;
    float _S8345 = 2.0f * _S8337.rows[int(0)].y;
    float _S8346 = 2.0f * - _S8337.rows[int(0)].x;
    float _S8347 = - _S8343 + _S8345;
    float _S8348 = _S8340 + - _S8344;
    float _S8349 = - _S8339 + _S8341;
    float _S8350 = _S8339 + _S8341;
    float _S8351 = _S8340 + _S8344;
    float _S8352 = _S8343 + _S8345;
    float _S8353 = quat_67.w * (_S8342 + _S8346);
    float _S8354 = quat_67.z * (_S8338 + _S8346);
    float _S8355 = quat_67.y * (_S8338 + _S8342);
    float _S8356 = quat_67.x * _S8347 + quat_67.z * _S8350 + quat_67.y * _S8351 + _S8353 + _S8353;
    float _S8357 = quat_67.x * _S8348 + quat_67.w * _S8350 + quat_67.y * _S8352 + _S8354 + _S8354;
    float _S8358 = quat_67.x * _S8349 + quat_67.w * _S8351 + quat_67.z * _S8352 + _S8355 + _S8355;
    float _S8359 = quat_67.w * _S8347 + quat_67.z * _S8348 + quat_67.y * _S8349;
    float _S8360 = _S8330 + _S8333;
    float _S8361 = 0.5f * - _S8360;
    float _S8362 = _S8328 + _S8332.differential_0.y;
    DiffPair_float_0 _S8363;
    (&_S8363)->primal_0 = _S8039;
    (&_S8363)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8363, _S8362);
    float _S8364 = _S8361 + _S8363.differential_0;
    float _S8365 = _S8329 + _S8334 + _S8336.differential_0.x;
    DiffPair_float_0 _S8366;
    (&_S8366)->primal_0 = _S8037;
    (&_S8366)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8366, _S8365);
    float _S8367 = _S8361 + _S8366.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8368;
    (&_S8368)->primal_0 = R_68;
    (&_S8368)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8369;
    (&_S8369)->primal_0 = mean_66;
    (&_S8369)->differential_0 = _S8156;
    s_bwd_prop_mul_1(&_S8368, &_S8369, _S8158.differential_0);
    float3  _S8370 = _S8238.differential_0 + _S8317 + _S8320 + _S8323 + _S8158.differential_0;
    Matrix<float, 3, 3>  _S8371 = _S8239 + _S8318.differential_0 + _S8321.differential_0 + _S8324.differential_0 + _S8368.differential_0;
    FixedArray<float3 , 2>  _S8372;
    _S8372[int(0)] = _S8156;
    _S8372[int(1)] = _S8156;
    _S8372[int(1)] = _S8170;
    _S8372[int(0)] = _S8175;
    FixedArray<float3 , 16>  _S8373;
    _S8373[int(0)] = _S8156;
    _S8373[int(1)] = _S8156;
    _S8373[int(2)] = _S8156;
    _S8373[int(3)] = _S8156;
    _S8373[int(4)] = _S8156;
    _S8373[int(5)] = _S8156;
    _S8373[int(6)] = _S8156;
    _S8373[int(7)] = _S8156;
    _S8373[int(8)] = _S8156;
    _S8373[int(9)] = _S8156;
    _S8373[int(10)] = _S8156;
    _S8373[int(11)] = _S8156;
    _S8373[int(12)] = _S8156;
    _S8373[int(13)] = _S8156;
    _S8373[int(14)] = _S8156;
    _S8373[int(15)] = _S8156;
    _S8373[int(15)] = _S8177;
    _S8373[int(14)] = _S8179;
    _S8373[int(13)] = _S8181;
    _S8373[int(12)] = _S8183;
    _S8373[int(11)] = _S8185;
    _S8373[int(10)] = _S8187;
    _S8373[int(9)] = _S8189;
    _S8373[int(8)] = _S8197;
    _S8373[int(7)] = _S8199;
    _S8373[int(6)] = _S8201;
    _S8373[int(5)] = _S8203;
    _S8373[int(4)] = _S8205;
    _S8373[int(3)] = _S8216;
    _S8373[int(2)] = _S8218;
    _S8373[int(1)] = _S8220;
    _S8373[int(0)] = _S8233;
    float2  _S8374 = v_out_hardness_0 + make_float2 (0.0f, _S8261);
    float3  _S8375 = make_float3 (_S8367, _S8364, _S8360);
    float4  _S8376 = make_float4 (0.0f);
    *&((&_S8376)->w) = _S8356;
    *&((&_S8376)->z) = _S8357;
    *&((&_S8376)->y) = _S8358;
    *&((&_S8376)->x) = _S8359;
    *v_mean_21 = _S8234 + _S8319.differential_0 + _S8322.differential_0 + _S8325.differential_0 + _S8369.differential_0;
    *v_quat_20 = _S8376;
    *v_scale_20 = _S8375;
    *v_hardness_0 = _S8374;
    *v_sh_coeffs_5 = _S8373;
    *v_ch_coeffs_0 = _S8372;
    *v_R_21 = _S8371;
    *v_t_20 = _S8370;
    return;
}

inline __device__ void projection_opaque_triangle_fisheye_vjp(float3  mean_67, float4  quat_68, float3  scale_67, float2  hardness_5, FixedArray<float3 , 16>  * sh_coeffs_20, FixedArray<float3 , 2>  * ch_coeffs_5, Matrix<float, 3, 3>  R_69, float3  t_65, float fx_99, float fy_99, float cx_94, float cy_94, FixedArray<float, 10>  * dist_coeffs_103, uint image_width_90, uint image_height_90, float2  v_uv0_1, float2  v_uv1_1, float2  v_uv2_1, float3  v_depth_21, float2  v_out_hardness_1, FixedArray<float3 , 3>  * v_rgb_21, float3  v_normal_1, float3  * v_mean_22, float4  * v_quat_21, float3  * v_scale_21, float2  * v_hardness_1, FixedArray<float3 , 16>  * v_sh_coeffs_6, FixedArray<float3 , 2>  * v_ch_coeffs_1, Matrix<float, 3, 3>  * v_R_22, float3  * v_t_21)
{
    float3  mean_c_76 = s_primal_ctx_mul_0(R_69, mean_67) + t_65;
    float _S8377 = scale_67.x;
    float _S8378 = s_primal_ctx_exp_1(_S8377);
    float _S8379 = scale_67.y;
    float _S8380 = s_primal_ctx_exp_1(_S8379);
    float sz_6 = scale_67.z - 0.5f * (_S8377 + _S8379);
    float _S8381 = quat_68.y;
    float x2_82 = _S8381 * _S8381;
    float y2_82 = quat_68.z * quat_68.z;
    float z2_102 = quat_68.w * quat_68.w;
    float xy_82 = quat_68.y * quat_68.z;
    float xz_82 = quat_68.y * quat_68.w;
    float yz_82 = quat_68.z * quat_68.w;
    float wx_82 = quat_68.x * quat_68.y;
    float wy_82 = quat_68.x * quat_68.z;
    float wz_82 = quat_68.x * quat_68.w;
    Matrix<float, 3, 3>  _S8382 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_82 + z2_102), 2.0f * (xy_82 + wz_82), 2.0f * (xz_82 - wy_82), 2.0f * (xy_82 - wz_82), 1.0f - 2.0f * (x2_82 + z2_102), 2.0f * (yz_82 + wx_82), 2.0f * (xz_82 + wy_82), 2.0f * (yz_82 - wx_82), 1.0f - 2.0f * (x2_82 + y2_82)));
    float3  _S8383 = make_float3 (_S8378, 0.0f, 0.0f);
    float3  vert0_2 = s_primal_ctx_mul_0(_S8382, _S8383) + mean_67;
    float _S8384 = -0.5f + sz_6;
    float3  _S8385 = make_float3 (_S8378 * _S8384, _S8380, 0.0f);
    float3  vert1_2 = s_primal_ctx_mul_0(_S8382, _S8385) + mean_67;
    float _S8386 = -0.5f - sz_6;
    float3  _S8387 = make_float3 (_S8378 * _S8386, - _S8380, 0.0f);
    float3  vert2_2 = s_primal_ctx_mul_0(_S8382, _S8387) + mean_67;
    float3  vert0_c_5 = s_primal_ctx_mul_0(R_69, vert0_2) + t_65;
    float3  vert1_c_5 = s_primal_ctx_mul_0(R_69, vert1_2) + t_65;
    float3  vert2_c_5 = s_primal_ctx_mul_0(R_69, vert2_2) + t_65;
    float _S8388 = length_1(vert0_c_5);
    float _S8389 = length_1(vert1_c_5);
    float _S8390 = length_1(vert2_c_5);
    float2  _S8391 = float2 {vert0_c_5.x, vert0_c_5.y};
    float _S8392 = length_0(_S8391);
    float _S8393 = vert0_c_5.z;
    float _S8394 = s_primal_ctx_atan2_0(_S8392, _S8393);
    bool _S8395 = _S8394 < 0.00100000004749745f;
    float k_9;
    float _S8396;
    float _S8397;
    float _S8398;
    if(_S8395)
    {
        float _S8399 = 1.0f - _S8394 * _S8394 / 3.0f;
        float _S8400 = _S8393 * _S8393;
        k_9 = _S8399 / _S8393;
        _S8396 = 0.0f;
        _S8397 = _S8400;
        _S8398 = _S8399;
    }
    else
    {
        float _S8401 = _S8392 * _S8392;
        k_9 = _S8394 / _S8392;
        _S8396 = _S8401;
        _S8397 = 0.0f;
        _S8398 = 0.0f;
    }
    float2  _S8402 = make_float2 (k_9);
    float2  _S8403 = _S8391 * make_float2 (k_9);
    float u_59 = _S8403.x;
    float v_59 = _S8403.y;
    float r2_59 = u_59 * u_59 + v_59 * v_59;
    float _S8404 = (*dist_coeffs_103)[int(2)] + r2_59 * (*dist_coeffs_103)[int(3)];
    float _S8405 = (*dist_coeffs_103)[int(1)] + r2_59 * _S8404;
    float _S8406 = (*dist_coeffs_103)[int(0)] + r2_59 * _S8405;
    float radial_4 = 1.0f + r2_59 * _S8406;
    float2  _S8407 = make_float2 (radial_4);
    float _S8408 = 2.0f * (*dist_coeffs_103)[int(4)];
    float _S8409 = _S8408 * u_59;
    float _S8410 = 2.0f * u_59;
    float _S8411 = 2.0f * (*dist_coeffs_103)[int(5)];
    float _S8412 = _S8411 * u_59;
    float _S8413 = 2.0f * v_59;
    float2  _S8414 = _S8403 * make_float2 (radial_4) + make_float2 (_S8409 * v_59 + (*dist_coeffs_103)[int(5)] * (r2_59 + _S8410 * u_59) + (*dist_coeffs_103)[int(6)] * r2_59, _S8412 * v_59 + (*dist_coeffs_103)[int(4)] * (r2_59 + _S8413 * v_59) + (*dist_coeffs_103)[int(7)] * r2_59);
    float2  _S8415 = _S8414 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8414.x + (*dist_coeffs_103)[int(9)] * _S8414.y, 0.0f);
    float _S8416 = fx_99 * _S8415.x + cx_94;
    float _S8417 = fy_99 * _S8415.y + cy_94;
    float2  _S8418 = make_float2 (_S8416, _S8417);
    float2  _S8419 = float2 {vert1_c_5.x, vert1_c_5.y};
    float _S8420 = length_0(_S8419);
    float _S8421 = vert1_c_5.z;
    float _S8422 = s_primal_ctx_atan2_0(_S8420, _S8421);
    bool _S8423 = _S8422 < 0.00100000004749745f;
    float _S8424;
    float _S8425;
    float _S8426;
    if(_S8423)
    {
        float _S8427 = 1.0f - _S8422 * _S8422 / 3.0f;
        float _S8428 = _S8421 * _S8421;
        k_9 = _S8427 / _S8421;
        _S8424 = 0.0f;
        _S8425 = _S8428;
        _S8426 = _S8427;
    }
    else
    {
        float _S8429 = _S8420 * _S8420;
        k_9 = _S8422 / _S8420;
        _S8424 = _S8429;
        _S8425 = 0.0f;
        _S8426 = 0.0f;
    }
    float2  _S8430 = make_float2 (k_9);
    float2  _S8431 = _S8419 * make_float2 (k_9);
    float u_60 = _S8431.x;
    float v_60 = _S8431.y;
    float r2_60 = u_60 * u_60 + v_60 * v_60;
    float _S8432 = (*dist_coeffs_103)[int(2)] + r2_60 * (*dist_coeffs_103)[int(3)];
    float _S8433 = (*dist_coeffs_103)[int(1)] + r2_60 * _S8432;
    float _S8434 = (*dist_coeffs_103)[int(0)] + r2_60 * _S8433;
    float radial_5 = 1.0f + r2_60 * _S8434;
    float2  _S8435 = make_float2 (radial_5);
    float _S8436 = _S8408 * u_60;
    float _S8437 = 2.0f * u_60;
    float _S8438 = _S8411 * u_60;
    float _S8439 = 2.0f * v_60;
    float2  _S8440 = _S8431 * make_float2 (radial_5) + make_float2 (_S8436 * v_60 + (*dist_coeffs_103)[int(5)] * (r2_60 + _S8437 * u_60) + (*dist_coeffs_103)[int(6)] * r2_60, _S8438 * v_60 + (*dist_coeffs_103)[int(4)] * (r2_60 + _S8439 * v_60) + (*dist_coeffs_103)[int(7)] * r2_60);
    float2  _S8441 = _S8440 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8440.x + (*dist_coeffs_103)[int(9)] * _S8440.y, 0.0f);
    float _S8442 = fx_99 * _S8441.x + cx_94;
    float _S8443 = fy_99 * _S8441.y + cy_94;
    float2  _S8444 = make_float2 (_S8442, _S8443);
    float2  _S8445 = float2 {vert2_c_5.x, vert2_c_5.y};
    float _S8446 = length_0(_S8445);
    float _S8447 = vert2_c_5.z;
    float _S8448 = s_primal_ctx_atan2_0(_S8446, _S8447);
    bool _S8449 = _S8448 < 0.00100000004749745f;
    float _S8450;
    float _S8451;
    float _S8452;
    if(_S8449)
    {
        float _S8453 = 1.0f - _S8448 * _S8448 / 3.0f;
        float _S8454 = _S8447 * _S8447;
        k_9 = _S8453 / _S8447;
        _S8450 = 0.0f;
        _S8451 = _S8454;
        _S8452 = _S8453;
    }
    else
    {
        float _S8455 = _S8446 * _S8446;
        k_9 = _S8448 / _S8446;
        _S8450 = _S8455;
        _S8451 = 0.0f;
        _S8452 = 0.0f;
    }
    float2  _S8456 = make_float2 (k_9);
    float2  _S8457 = _S8445 * make_float2 (k_9);
    float u_61 = _S8457.x;
    float v_61 = _S8457.y;
    float r2_61 = u_61 * u_61 + v_61 * v_61;
    float _S8458 = (*dist_coeffs_103)[int(2)] + r2_61 * (*dist_coeffs_103)[int(3)];
    float _S8459 = (*dist_coeffs_103)[int(1)] + r2_61 * _S8458;
    float _S8460 = (*dist_coeffs_103)[int(0)] + r2_61 * _S8459;
    float radial_6 = 1.0f + r2_61 * _S8460;
    float2  _S8461 = make_float2 (radial_6);
    float _S8462 = _S8408 * u_61;
    float _S8463 = 2.0f * u_61;
    float _S8464 = _S8411 * u_61;
    float _S8465 = 2.0f * v_61;
    float2  _S8466 = _S8457 * make_float2 (radial_6) + make_float2 (_S8462 * v_61 + (*dist_coeffs_103)[int(5)] * (r2_61 + _S8463 * u_61) + (*dist_coeffs_103)[int(6)] * r2_61, _S8464 * v_61 + (*dist_coeffs_103)[int(4)] * (r2_61 + _S8465 * v_61) + (*dist_coeffs_103)[int(7)] * r2_61);
    float2  _S8467 = _S8466 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8466.x + (*dist_coeffs_103)[int(9)] * _S8466.y, 0.0f);
    float _S8468 = fx_99 * _S8467.x + cx_94;
    float _S8469 = fy_99 * _S8467.y + cy_94;
    float2  _S8470 = make_float2 (_S8468, _S8469);
    float2  e0_5 = _S8444 - _S8418;
    float2  e1_5 = _S8470 - _S8444;
    float2  e2_1 = _S8418 - _S8470;
    float _S8471 = e0_5.x;
    float _S8472 = e1_5.y;
    float _S8473 = e0_5.y;
    float _S8474 = e1_5.x;
    float _S8475 = _S8471 * _S8472 - _S8473 * _S8474;
    float _S8476 = 1.0f - hardness_5.y;
    float _S8477 = -1.0f / _S8476;
    float _S8478 = _S8476 * _S8476;
    float _S8479 = s_primal_ctx_max_0(_S8416, _S8442);
    float _S8480 = s_primal_ctx_min_0(_S8416, _S8442);
    float _S8481 = s_primal_ctx_max_0(_S8417, _S8443);
    float _S8482 = s_primal_ctx_min_0(_S8417, _S8443);
    float3  _S8483 = make_float3 (_S8388, _S8389, _S8390) + make_float3 (9.999999960041972e-13f);
    Matrix<float, 3, 3>  _S8484 = transpose_0(R_69);
    float3  _S8485 = mean_67 - - s_primal_ctx_mul_0(_S8484, t_65);
    float _S8486 = _S8485.x;
    float _S8487 = _S8485.y;
    float _S8488 = _S8485.z;
    float _S8489 = _S8486 * _S8486 + _S8487 * _S8487 + _S8488 * _S8488;
    float _S8490 = s_primal_ctx_sqrt_0(_S8489);
    float x_80 = _S8486 / _S8490;
    float3  _S8491 = make_float3 (x_80);
    float _S8492 = _S8490 * _S8490;
    float y_23 = _S8487 / _S8490;
    float z_20 = _S8488 / _S8490;
    float3  _S8493 = make_float3 (z_20);
    float _S8494 = - y_23;
    float3  _S8495 = make_float3 (_S8494);
    float z2_103 = z_20 * z_20;
    float fTmp0B_20 = -1.09254848957061768f * z_20;
    float fC1_20 = x_80 * x_80 - y_23 * y_23;
    float _S8496 = 2.0f * x_80;
    float fS1_20 = _S8496 * y_23;
    float pSH6_6 = 0.94617468118667603f * z2_103 - 0.31539157032966614f;
    float3  _S8497 = make_float3 (pSH6_6);
    float pSH7_6 = fTmp0B_20 * x_80;
    float3  _S8498 = make_float3 (pSH7_6);
    float pSH5_6 = fTmp0B_20 * y_23;
    float3  _S8499 = make_float3 (pSH5_6);
    float pSH8_6 = 0.54627424478530884f * fC1_20;
    float3  _S8500 = make_float3 (pSH8_6);
    float pSH4_6 = 0.54627424478530884f * fS1_20;
    float3  _S8501 = make_float3 (pSH4_6);
    float fTmp0C_20 = -2.28522896766662598f * z2_103 + 0.4570457935333252f;
    float fTmp1B_20 = 1.44530570507049561f * z_20;
    float _S8502 = 1.86588168144226074f * z2_103 - 1.11952900886535645f;
    float pSH12_6 = z_20 * _S8502;
    float3  _S8503 = make_float3 (pSH12_6);
    float pSH13_6 = fTmp0C_20 * x_80;
    float3  _S8504 = make_float3 (pSH13_6);
    float pSH11_6 = fTmp0C_20 * y_23;
    float3  _S8505 = make_float3 (pSH11_6);
    float pSH14_6 = fTmp1B_20 * fC1_20;
    float3  _S8506 = make_float3 (pSH14_6);
    float pSH10_6 = fTmp1B_20 * fS1_20;
    float3  _S8507 = make_float3 (pSH10_6);
    float pSH15_6 = -0.59004360437393188f * (x_80 * fC1_20 - y_23 * fS1_20);
    float3  _S8508 = make_float3 (pSH15_6);
    float pSH9_6 = -0.59004360437393188f * (x_80 * fS1_20 + y_23 * fC1_20);
    float3  _S8509 = make_float3 (pSH9_6);
    float3  color_5 = make_float3 (0.282094806432724f) * (*sh_coeffs_20)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S8494) * (*sh_coeffs_20)[int(1)] + make_float3 (z_20) * (*sh_coeffs_20)[int(2)] - make_float3 (x_80) * (*sh_coeffs_20)[int(3)]) + (make_float3 (pSH4_6) * (*sh_coeffs_20)[int(4)] + make_float3 (pSH5_6) * (*sh_coeffs_20)[int(5)] + make_float3 (pSH6_6) * (*sh_coeffs_20)[int(6)] + make_float3 (pSH7_6) * (*sh_coeffs_20)[int(7)] + make_float3 (pSH8_6) * (*sh_coeffs_20)[int(8)]) + (make_float3 (pSH9_6) * (*sh_coeffs_20)[int(9)] + make_float3 (pSH10_6) * (*sh_coeffs_20)[int(10)] + make_float3 (pSH11_6) * (*sh_coeffs_20)[int(11)] + make_float3 (pSH12_6) * (*sh_coeffs_20)[int(12)] + make_float3 (pSH13_6) * (*sh_coeffs_20)[int(13)] + make_float3 (pSH14_6) * (*sh_coeffs_20)[int(14)] + make_float3 (pSH15_6) * (*sh_coeffs_20)[int(15)]);
    float3  _S8510 = color_5 + (*ch_coeffs_5)[int(0)] + make_float3 (0.5f);
    float3  _S8511 = make_float3 (0.0f);
    float3  _S8512 = color_5 - (*ch_coeffs_5)[int(0)] * make_float3 (0.5f);
    float _S8513 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S8514 = make_float3 (_S8513);
    float3  _S8515 = (*ch_coeffs_5)[int(1)] * make_float3 (_S8513);
    float3  _S8516 = _S8512 + _S8515 + make_float3 (0.5f);
    float3  _S8517 = _S8512 - _S8515 + make_float3 (0.5f);
    float3  _S8518 = vert1_c_5 - vert0_c_5;
    float3  _S8519 = vert2_c_5 - vert0_c_5;
    float3  _S8520 = s_primal_ctx_cross_0(_S8518, _S8519);
    float3  _S8521 = normalize_0(_S8520);
    float3  _S8522 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S8521, mean_c_76)))))) * v_normal_1;
    float3  _S8523 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8524;
    (&_S8524)->primal_0 = _S8521;
    (&_S8524)->differential_0 = _S8523;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8525;
    (&_S8525)->primal_0 = mean_c_76;
    (&_S8525)->differential_0 = _S8523;
    s_bwd_prop_dot_0(&_S8524, &_S8525, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8526 = _S8525;
    float3  _S8527 = _S8522 + _S8524.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8528;
    (&_S8528)->primal_0 = _S8520;
    (&_S8528)->differential_0 = _S8523;
    s_bwd_normalize_impl_0(&_S8528, _S8527);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8529;
    (&_S8529)->primal_0 = _S8518;
    (&_S8529)->differential_0 = _S8523;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8530;
    (&_S8530)->primal_0 = _S8519;
    (&_S8530)->differential_0 = _S8523;
    s_bwd_prop_cross_0(&_S8529, &_S8530, _S8528.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8531 = _S8529;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8532 = _S8530;
    float3  _S8533 = - _S8530.differential_0;
    float3  _S8534 = - _S8529.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8535;
    (&_S8535)->primal_0 = _S8517;
    (&_S8535)->differential_0 = _S8523;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8536;
    (&_S8536)->primal_0 = _S8511;
    (&_S8536)->differential_0 = _S8523;
    s_bwd_prop_max_0(&_S8535, &_S8536, (*v_rgb_21)[int(2)]);
    float3  _S8537 = - _S8535.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8538;
    (&_S8538)->primal_0 = _S8516;
    (&_S8538)->differential_0 = _S8523;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8539;
    (&_S8539)->primal_0 = _S8511;
    (&_S8539)->differential_0 = _S8523;
    s_bwd_prop_max_0(&_S8538, &_S8539, (*v_rgb_21)[int(1)]);
    float3  _S8540 = _S8514 * (_S8537 + _S8538.differential_0);
    float3  _S8541 = _S8535.differential_0 + _S8538.differential_0;
    float3  _S8542 = make_float3 (0.5f) * - _S8541;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8543;
    (&_S8543)->primal_0 = _S8510;
    (&_S8543)->differential_0 = _S8523;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8544;
    (&_S8544)->primal_0 = _S8511;
    (&_S8544)->differential_0 = _S8523;
    s_bwd_prop_max_0(&_S8543, &_S8544, (*v_rgb_21)[int(0)]);
    float3  _S8545 = _S8542 + _S8543.differential_0;
    float3  _S8546 = _S8541 + _S8543.differential_0;
    float3  _S8547 = _S8508 * _S8546;
    float3  _S8548 = (*sh_coeffs_20)[int(15)] * _S8546;
    float3  _S8549 = _S8506 * _S8546;
    float3  _S8550 = (*sh_coeffs_20)[int(14)] * _S8546;
    float3  _S8551 = _S8504 * _S8546;
    float3  _S8552 = (*sh_coeffs_20)[int(13)] * _S8546;
    float3  _S8553 = _S8503 * _S8546;
    float3  _S8554 = (*sh_coeffs_20)[int(12)] * _S8546;
    float3  _S8555 = _S8505 * _S8546;
    float3  _S8556 = (*sh_coeffs_20)[int(11)] * _S8546;
    float3  _S8557 = _S8507 * _S8546;
    float3  _S8558 = (*sh_coeffs_20)[int(10)] * _S8546;
    float3  _S8559 = _S8509 * _S8546;
    float3  _S8560 = (*sh_coeffs_20)[int(9)] * _S8546;
    float s_diff_fS2_T_6 = -0.59004360437393188f * (_S8560.x + _S8560.y + _S8560.z);
    float s_diff_fC2_T_6 = -0.59004360437393188f * (_S8548.x + _S8548.y + _S8548.z);
    float _S8561 = _S8558.x + _S8558.y + _S8558.z;
    float _S8562 = _S8550.x + _S8550.y + _S8550.z;
    float _S8563 = _S8556.x + _S8556.y + _S8556.z;
    float _S8564 = _S8552.x + _S8552.y + _S8552.z;
    float _S8565 = _S8554.x + _S8554.y + _S8554.z;
    float _S8566 = - s_diff_fC2_T_6;
    float3  _S8567 = _S8500 * _S8546;
    float3  _S8568 = (*sh_coeffs_20)[int(8)] * _S8546;
    float3  _S8569 = _S8498 * _S8546;
    float3  _S8570 = (*sh_coeffs_20)[int(7)] * _S8546;
    float3  _S8571 = _S8497 * _S8546;
    float3  _S8572 = (*sh_coeffs_20)[int(6)] * _S8546;
    float3  _S8573 = _S8499 * _S8546;
    float3  _S8574 = (*sh_coeffs_20)[int(5)] * _S8546;
    float3  _S8575 = _S8501 * _S8546;
    float3  _S8576 = (*sh_coeffs_20)[int(4)] * _S8546;
    float _S8577 = _S8574.x + _S8574.y + _S8574.z;
    float _S8578 = _S8570.x + _S8570.y + _S8570.z;
    float _S8579 = fTmp1B_20 * _S8561 + x_80 * s_diff_fS2_T_6 + y_23 * _S8566 + 0.54627424478530884f * (_S8576.x + _S8576.y + _S8576.z);
    float _S8580 = fTmp1B_20 * _S8562 + y_23 * s_diff_fS2_T_6 + x_80 * s_diff_fC2_T_6 + 0.54627424478530884f * (_S8568.x + _S8568.y + _S8568.z);
    float _S8581 = y_23 * - _S8580;
    float _S8582 = x_80 * _S8580;
    float _S8583 = z_20 * (1.86588168144226074f * (z_20 * _S8565) + -2.28522896766662598f * (y_23 * _S8563 + x_80 * _S8564) + 0.94617468118667603f * (_S8572.x + _S8572.y + _S8572.z));
    float3  _S8584 = make_float3 (0.48860251903533936f) * _S8546;
    float3  _S8585 = - _S8584;
    float3  _S8586 = _S8491 * _S8585;
    float3  _S8587 = (*sh_coeffs_20)[int(3)] * _S8585;
    float3  _S8588 = _S8493 * _S8584;
    float3  _S8589 = (*sh_coeffs_20)[int(2)] * _S8584;
    float3  _S8590 = _S8495 * _S8584;
    float3  _S8591 = (*sh_coeffs_20)[int(1)] * _S8584;
    float _S8592 = (_S8502 * _S8565 + 1.44530570507049561f * (fS1_20 * _S8561 + fC1_20 * _S8562) + -1.09254848957061768f * (y_23 * _S8577 + x_80 * _S8578) + _S8583 + _S8583 + _S8589.x + _S8589.y + _S8589.z) / _S8492;
    float _S8593 = _S8490 * _S8592;
    float _S8594 = (fTmp0C_20 * _S8563 + fC1_20 * s_diff_fS2_T_6 + fS1_20 * _S8566 + fTmp0B_20 * _S8577 + _S8496 * _S8579 + _S8581 + _S8581 + - (_S8591.x + _S8591.y + _S8591.z)) / _S8492;
    float _S8595 = _S8490 * _S8594;
    float _S8596 = (fTmp0C_20 * _S8564 + fS1_20 * s_diff_fS2_T_6 + fC1_20 * s_diff_fC2_T_6 + fTmp0B_20 * _S8578 + 2.0f * (y_23 * _S8579) + _S8582 + _S8582 + _S8587.x + _S8587.y + _S8587.z) / _S8492;
    float _S8597 = _S8490 * _S8596;
    float _S8598 = _S8488 * - _S8592 + _S8487 * - _S8594 + _S8486 * - _S8596;
    DiffPair_float_0 _S8599;
    (&_S8599)->primal_0 = _S8489;
    (&_S8599)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8599, _S8598);
    float _S8600 = _S8488 * _S8599.differential_0;
    float _S8601 = _S8487 * _S8599.differential_0;
    float _S8602 = _S8486 * _S8599.differential_0;
    float3  _S8603 = make_float3 (0.282094806432724f) * _S8546;
    float3  _S8604 = make_float3 (_S8597 + _S8602 + _S8602, _S8595 + _S8601 + _S8601, _S8593 + _S8600 + _S8600);
    float3  _S8605 = - - _S8604;
    Matrix<float, 3, 3>  _S8606 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8607;
    (&_S8607)->primal_0 = _S8484;
    (&_S8607)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8608;
    (&_S8608)->primal_0 = t_65;
    (&_S8608)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8607, &_S8608, _S8605);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8609 = _S8608;
    Matrix<float, 3, 3>  _S8610 = transpose_0(_S8607.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8611;
    (&_S8611)->primal_0 = _S8483;
    (&_S8611)->differential_0 = _S8523;
    s_bwd_prop_log_1(&_S8611, v_depth_21);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8612 = _S8611;
    DiffPair_float_0 _S8613;
    (&_S8613)->primal_0 = _S8482;
    (&_S8613)->differential_0 = 0.0f;
    DiffPair_float_0 _S8614;
    (&_S8614)->primal_0 = _S8469;
    (&_S8614)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8613, &_S8614, 0.0f);
    DiffPair_float_0 _S8615;
    (&_S8615)->primal_0 = _S8417;
    (&_S8615)->differential_0 = 0.0f;
    DiffPair_float_0 _S8616;
    (&_S8616)->primal_0 = _S8443;
    (&_S8616)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8615, &_S8616, _S8613.differential_0);
    DiffPair_float_0 _S8617;
    (&_S8617)->primal_0 = _S8481;
    (&_S8617)->differential_0 = 0.0f;
    DiffPair_float_0 _S8618;
    (&_S8618)->primal_0 = _S8469;
    (&_S8618)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8617, &_S8618, 0.0f);
    DiffPair_float_0 _S8619;
    (&_S8619)->primal_0 = _S8417;
    (&_S8619)->differential_0 = 0.0f;
    DiffPair_float_0 _S8620;
    (&_S8620)->primal_0 = _S8443;
    (&_S8620)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8619, &_S8620, _S8617.differential_0);
    DiffPair_float_0 _S8621;
    (&_S8621)->primal_0 = _S8480;
    (&_S8621)->differential_0 = 0.0f;
    DiffPair_float_0 _S8622;
    (&_S8622)->primal_0 = _S8468;
    (&_S8622)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8621, &_S8622, 0.0f);
    DiffPair_float_0 _S8623;
    (&_S8623)->primal_0 = _S8416;
    (&_S8623)->differential_0 = 0.0f;
    DiffPair_float_0 _S8624;
    (&_S8624)->primal_0 = _S8442;
    (&_S8624)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8623, &_S8624, _S8621.differential_0);
    DiffPair_float_0 _S8625;
    (&_S8625)->primal_0 = _S8479;
    (&_S8625)->differential_0 = 0.0f;
    DiffPair_float_0 _S8626;
    (&_S8626)->primal_0 = _S8468;
    (&_S8626)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8625, &_S8626, 0.0f);
    DiffPair_float_0 _S8627;
    (&_S8627)->primal_0 = _S8416;
    (&_S8627)->differential_0 = 0.0f;
    DiffPair_float_0 _S8628;
    (&_S8628)->primal_0 = _S8442;
    (&_S8628)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8627, &_S8628, _S8625.differential_0);
    DiffPair_float_0 _S8629;
    (&_S8629)->primal_0 = _S8477;
    (&_S8629)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S8629, 0.0f);
    float _S8630 = - (-1.0f * - (_S8629.differential_0 / _S8478));
    float2  _S8631 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8632;
    (&_S8632)->primal_0 = e2_1;
    (&_S8632)->differential_0 = _S8631;
    s_bwd_length_impl_0(&_S8632, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8633;
    (&_S8633)->primal_0 = e1_5;
    (&_S8633)->differential_0 = _S8631;
    s_bwd_length_impl_0(&_S8633, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8634;
    (&_S8634)->primal_0 = e0_5;
    (&_S8634)->differential_0 = _S8631;
    s_bwd_length_impl_0(&_S8634, -0.0f);
    DiffPair_float_0 _S8635;
    (&_S8635)->primal_0 = _S8475;
    (&_S8635)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S8635, 0.0f);
    float _S8636 = - _S8635.differential_0;
    float2  _S8637 = _S8633.differential_0 + make_float2 (_S8473 * _S8636, _S8471 * _S8635.differential_0);
    float2  _S8638 = _S8634.differential_0 + make_float2 (_S8472 * _S8635.differential_0, _S8474 * _S8636);
    float2  _S8639 = v_uv2_1 + - _S8632.differential_0 + _S8637;
    float _S8640 = fx_99 * (_S8622.differential_0 + _S8626.differential_0 + _S8639.x);
    float2  _S8641 = make_float2 (_S8640, fy_99 * (_S8614.differential_0 + _S8618.differential_0 + _S8639.y)) + make_float2 ((*dist_coeffs_103)[int(8)] * _S8640, (*dist_coeffs_103)[int(9)] * _S8640);
    float2  _S8642 = _S8457 * _S8641;
    float2  _S8643 = _S8461 * _S8641;
    float _S8644 = (*dist_coeffs_103)[int(4)] * _S8641.y;
    float _S8645 = (*dist_coeffs_103)[int(5)] * _S8641.x;
    float _S8646 = _S8642.x + _S8642.y;
    float _S8647 = r2_61 * _S8646;
    float _S8648 = r2_61 * _S8647;
    float _S8649 = (*dist_coeffs_103)[int(7)] * _S8641.y + _S8644 + (*dist_coeffs_103)[int(6)] * _S8641.x + _S8645 + _S8460 * _S8646 + _S8459 * _S8647 + _S8458 * _S8648 + (*dist_coeffs_103)[int(3)] * (r2_61 * _S8648);
    float _S8650 = v_61 * _S8649;
    float _S8651 = u_61 * _S8649;
    float _S8652 = _S8465 * _S8644 + 2.0f * (v_61 * _S8644) + _S8464 * _S8641.y + _S8462 * _S8641.x + _S8650 + _S8650;
    float _S8653 = _S8411 * (v_61 * _S8641.y) + _S8463 * _S8645 + 2.0f * (u_61 * _S8645) + _S8408 * (v_61 * _S8641.x) + _S8651 + _S8651;
    float2  _S8654 = v_uv0_1 + _S8632.differential_0 + - _S8638;
    float2  _S8655 = v_out_hardness_1 + make_float2 (0.0f, _S8630);
    float _S8656 = _S8624.differential_0 + _S8628.differential_0;
    float2  _S8657 = v_uv1_1 + - _S8637 + _S8638;
    float3  _S8658 = _S8533 + _S8534;
    FixedArray<float3 , 2>  _S8659;
    _S8659[int(0)] = _S8523;
    _S8659[int(1)] = _S8523;
    _S8659[int(1)] = _S8540;
    _S8659[int(0)] = _S8545;
    float3  _S8660 = _S8659[int(0)];
    float3  _S8661 = _S8659[int(1)];
    FixedArray<float3 , 16>  _S8662;
    _S8662[int(0)] = _S8523;
    _S8662[int(1)] = _S8523;
    _S8662[int(2)] = _S8523;
    _S8662[int(3)] = _S8523;
    _S8662[int(4)] = _S8523;
    _S8662[int(5)] = _S8523;
    _S8662[int(6)] = _S8523;
    _S8662[int(7)] = _S8523;
    _S8662[int(8)] = _S8523;
    _S8662[int(9)] = _S8523;
    _S8662[int(10)] = _S8523;
    _S8662[int(11)] = _S8523;
    _S8662[int(12)] = _S8523;
    _S8662[int(13)] = _S8523;
    _S8662[int(14)] = _S8523;
    _S8662[int(15)] = _S8523;
    _S8662[int(7)] = _S8569;
    _S8662[int(0)] = _S8603;
    _S8662[int(1)] = _S8590;
    _S8662[int(2)] = _S8588;
    _S8662[int(3)] = _S8586;
    _S8662[int(4)] = _S8575;
    _S8662[int(5)] = _S8573;
    _S8662[int(6)] = _S8571;
    _S8662[int(15)] = _S8547;
    _S8662[int(8)] = _S8567;
    _S8662[int(9)] = _S8559;
    _S8662[int(10)] = _S8557;
    _S8662[int(11)] = _S8555;
    _S8662[int(12)] = _S8553;
    _S8662[int(13)] = _S8551;
    _S8662[int(14)] = _S8549;
    float3  _S8663 = _S8662[int(0)];
    float3  _S8664 = _S8662[int(1)];
    float3  _S8665 = _S8662[int(2)];
    float3  _S8666 = _S8662[int(3)];
    float3  _S8667 = _S8662[int(4)];
    float3  _S8668 = _S8662[int(5)];
    float3  _S8669 = _S8662[int(6)];
    float3  _S8670 = _S8662[int(7)];
    float3  _S8671 = _S8662[int(8)];
    float3  _S8672 = _S8662[int(9)];
    float3  _S8673 = _S8662[int(10)];
    float3  _S8674 = _S8662[int(11)];
    float3  _S8675 = _S8662[int(12)];
    float3  _S8676 = _S8662[int(13)];
    float3  _S8677 = _S8662[int(14)];
    float3  _S8678 = _S8662[int(15)];
    float _S8679 = _S8623.differential_0 + _S8627.differential_0;
    float _S8680 = _S8615.differential_0 + _S8619.differential_0;
    float _S8681 = _S8616.differential_0 + _S8620.differential_0;
    float2  _S8682 = _S8643 + make_float2 (_S8653, _S8652);
    float2  _S8683 = _S8445 * _S8682;
    float2  _S8684 = _S8456 * _S8682;
    float _S8685 = _S8683.x + _S8683.y;
    if(_S8449)
    {
        float _S8686 = _S8685 / _S8451;
        float _S8687 = _S8452 * - _S8686;
        float _S8688 = _S8448 * (0.3333333432674408f * - (_S8447 * _S8686));
        k_9 = _S8688 + _S8688;
        _S8450 = _S8687;
        _S8451 = 0.0f;
    }
    else
    {
        float _S8689 = _S8685 / _S8450;
        float _S8690 = _S8448 * - _S8689;
        k_9 = _S8446 * _S8689;
        _S8450 = 0.0f;
        _S8451 = _S8690;
    }
    DiffPair_float_0 _S8691;
    (&_S8691)->primal_0 = _S8446;
    (&_S8691)->differential_0 = 0.0f;
    DiffPair_float_0 _S8692;
    (&_S8692)->primal_0 = _S8447;
    (&_S8692)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S8691, &_S8692, k_9);
    float _S8693 = _S8692.differential_0 + _S8450;
    float _S8694 = _S8691.differential_0 + _S8451;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8695;
    (&_S8695)->primal_0 = _S8445;
    (&_S8695)->differential_0 = _S8631;
    s_bwd_length_impl_0(&_S8695, _S8694);
    float2  _S8696 = _S8695.differential_0 + _S8684;
    float _S8697 = fx_99 * (_S8657.x + _S8656);
    float2  _S8698 = make_float2 (_S8697, fy_99 * (_S8657.y + _S8681)) + make_float2 ((*dist_coeffs_103)[int(8)] * _S8697, (*dist_coeffs_103)[int(9)] * _S8697);
    float2  _S8699 = _S8431 * _S8698;
    float _S8700 = (*dist_coeffs_103)[int(4)] * _S8698.y;
    float _S8701 = (*dist_coeffs_103)[int(5)] * _S8698.x;
    float _S8702 = _S8699.x + _S8699.y;
    float _S8703 = r2_60 * _S8702;
    float _S8704 = r2_60 * _S8703;
    float _S8705 = (*dist_coeffs_103)[int(7)] * _S8698.y + _S8700 + (*dist_coeffs_103)[int(6)] * _S8698.x + _S8701 + _S8434 * _S8702 + _S8433 * _S8703 + _S8432 * _S8704 + (*dist_coeffs_103)[int(3)] * (r2_60 * _S8704);
    float _S8706 = v_60 * _S8705;
    float _S8707 = u_60 * _S8705;
    float3  _S8708 = _S8532.differential_0 + make_float3 (_S8696.x, _S8696.y, _S8693);
    float2  _S8709 = _S8435 * _S8698 + make_float2 (_S8411 * (v_60 * _S8698.y) + _S8437 * _S8701 + 2.0f * (u_60 * _S8701) + _S8408 * (v_60 * _S8698.x) + _S8707 + _S8707, _S8439 * _S8700 + 2.0f * (v_60 * _S8700) + _S8438 * _S8698.y + _S8436 * _S8698.x + _S8706 + _S8706);
    float2  _S8710 = _S8419 * _S8709;
    float2  _S8711 = _S8430 * _S8709;
    float _S8712 = _S8710.x + _S8710.y;
    if(_S8423)
    {
        float _S8713 = _S8712 / _S8425;
        float _S8714 = _S8426 * - _S8713;
        float _S8715 = _S8422 * (0.3333333432674408f * - (_S8421 * _S8713));
        k_9 = _S8715 + _S8715;
        _S8424 = _S8714;
        _S8425 = 0.0f;
    }
    else
    {
        float _S8716 = _S8712 / _S8424;
        float _S8717 = _S8422 * - _S8716;
        k_9 = _S8420 * _S8716;
        _S8424 = 0.0f;
        _S8425 = _S8717;
    }
    DiffPair_float_0 _S8718;
    (&_S8718)->primal_0 = _S8420;
    (&_S8718)->differential_0 = 0.0f;
    DiffPair_float_0 _S8719;
    (&_S8719)->primal_0 = _S8421;
    (&_S8719)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S8718, &_S8719, k_9);
    float _S8720 = _S8719.differential_0 + _S8424;
    float _S8721 = _S8718.differential_0 + _S8425;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8722;
    (&_S8722)->primal_0 = _S8419;
    (&_S8722)->differential_0 = _S8631;
    s_bwd_length_impl_0(&_S8722, _S8721);
    float2  _S8723 = _S8722.differential_0 + _S8711;
    float _S8724 = fx_99 * (_S8654.x + _S8679);
    float2  _S8725 = make_float2 (_S8724, fy_99 * (_S8654.y + _S8680)) + make_float2 ((*dist_coeffs_103)[int(8)] * _S8724, (*dist_coeffs_103)[int(9)] * _S8724);
    float2  _S8726 = _S8403 * _S8725;
    float _S8727 = (*dist_coeffs_103)[int(4)] * _S8725.y;
    float _S8728 = (*dist_coeffs_103)[int(5)] * _S8725.x;
    float _S8729 = _S8726.x + _S8726.y;
    float _S8730 = r2_59 * _S8729;
    float _S8731 = r2_59 * _S8730;
    float _S8732 = (*dist_coeffs_103)[int(7)] * _S8725.y + _S8727 + (*dist_coeffs_103)[int(6)] * _S8725.x + _S8728 + _S8406 * _S8729 + _S8405 * _S8730 + _S8404 * _S8731 + (*dist_coeffs_103)[int(3)] * (r2_59 * _S8731);
    float _S8733 = v_59 * _S8732;
    float _S8734 = u_59 * _S8732;
    float3  _S8735 = _S8531.differential_0 + make_float3 (_S8723.x, _S8723.y, _S8720);
    float2  _S8736 = _S8407 * _S8725 + make_float2 (_S8411 * (v_59 * _S8725.y) + _S8410 * _S8728 + 2.0f * (u_59 * _S8728) + _S8408 * (v_59 * _S8725.x) + _S8734 + _S8734, _S8413 * _S8727 + 2.0f * (v_59 * _S8727) + _S8412 * _S8725.y + _S8409 * _S8725.x + _S8733 + _S8733);
    float2  _S8737 = _S8391 * _S8736;
    float2  _S8738 = _S8402 * _S8736;
    float _S8739 = _S8737.x + _S8737.y;
    if(_S8395)
    {
        float _S8740 = _S8739 / _S8397;
        float _S8741 = _S8398 * - _S8740;
        float _S8742 = _S8394 * (0.3333333432674408f * - (_S8393 * _S8740));
        k_9 = _S8742 + _S8742;
        _S8396 = _S8741;
        _S8397 = 0.0f;
    }
    else
    {
        float _S8743 = _S8739 / _S8396;
        float _S8744 = _S8394 * - _S8743;
        k_9 = _S8392 * _S8743;
        _S8396 = 0.0f;
        _S8397 = _S8744;
    }
    DiffPair_float_0 _S8745;
    (&_S8745)->primal_0 = _S8392;
    (&_S8745)->differential_0 = 0.0f;
    DiffPair_float_0 _S8746;
    (&_S8746)->primal_0 = _S8393;
    (&_S8746)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S8745, &_S8746, k_9);
    float _S8747 = _S8746.differential_0 + _S8396;
    float _S8748 = _S8745.differential_0 + _S8397;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8749;
    (&_S8749)->primal_0 = _S8391;
    (&_S8749)->differential_0 = _S8631;
    s_bwd_length_impl_0(&_S8749, _S8748);
    float2  _S8750 = _S8749.differential_0 + _S8738;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8751;
    (&_S8751)->primal_0 = vert2_c_5;
    (&_S8751)->differential_0 = _S8523;
    s_bwd_length_impl_1(&_S8751, _S8612.differential_0.z);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8752;
    (&_S8752)->primal_0 = vert1_c_5;
    (&_S8752)->differential_0 = _S8523;
    s_bwd_length_impl_1(&_S8752, _S8612.differential_0.y);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8753;
    (&_S8753)->primal_0 = vert0_c_5;
    (&_S8753)->differential_0 = _S8523;
    s_bwd_length_impl_1(&_S8753, _S8612.differential_0.x);
    float3  _S8754 = _S8751.differential_0 + _S8708;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8755;
    (&_S8755)->primal_0 = R_69;
    (&_S8755)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8756;
    (&_S8756)->primal_0 = vert2_2;
    (&_S8756)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8755, &_S8756, _S8754);
    float3  _S8757 = _S8752.differential_0 + _S8735;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8758;
    (&_S8758)->primal_0 = R_69;
    (&_S8758)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8759;
    (&_S8759)->primal_0 = vert1_2;
    (&_S8759)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8758, &_S8759, _S8757);
    float3  _S8760 = _S8753.differential_0 + _S8658 + make_float3 (_S8750.x, _S8750.y, _S8747);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8761;
    (&_S8761)->primal_0 = R_69;
    (&_S8761)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8762;
    (&_S8762)->primal_0 = vert0_2;
    (&_S8762)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8761, &_S8762, _S8760);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8763;
    (&_S8763)->primal_0 = _S8382;
    (&_S8763)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8764;
    (&_S8764)->primal_0 = _S8387;
    (&_S8764)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8763, &_S8764, _S8756.differential_0);
    float _S8765 = - _S8764.differential_0.y;
    float _S8766 = _S8386 * _S8764.differential_0.x;
    float _S8767 = - (_S8378 * _S8764.differential_0.x);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8768;
    (&_S8768)->primal_0 = _S8382;
    (&_S8768)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8769;
    (&_S8769)->primal_0 = _S8385;
    (&_S8769)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8768, &_S8769, _S8759.differential_0);
    float _S8770 = _S8378 * _S8769.differential_0.x;
    float _S8771 = _S8384 * _S8769.differential_0.x;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8772;
    (&_S8772)->primal_0 = _S8382;
    (&_S8772)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8773;
    (&_S8773)->primal_0 = _S8383;
    (&_S8773)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8772, &_S8773, _S8762.differential_0);
    Matrix<float, 3, 3>  _S8774 = transpose_0(_S8763.differential_0 + _S8768.differential_0 + _S8772.differential_0);
    float _S8775 = 2.0f * - _S8774.rows[int(2)].z;
    float _S8776 = 2.0f * _S8774.rows[int(2)].y;
    float _S8777 = 2.0f * _S8774.rows[int(2)].x;
    float _S8778 = 2.0f * _S8774.rows[int(1)].z;
    float _S8779 = 2.0f * - _S8774.rows[int(1)].y;
    float _S8780 = 2.0f * _S8774.rows[int(1)].x;
    float _S8781 = 2.0f * _S8774.rows[int(0)].z;
    float _S8782 = 2.0f * _S8774.rows[int(0)].y;
    float _S8783 = 2.0f * - _S8774.rows[int(0)].x;
    float _S8784 = - _S8780 + _S8782;
    float _S8785 = _S8777 + - _S8781;
    float _S8786 = - _S8776 + _S8778;
    float _S8787 = _S8776 + _S8778;
    float _S8788 = _S8777 + _S8781;
    float _S8789 = _S8780 + _S8782;
    float _S8790 = quat_68.w * (_S8779 + _S8783);
    float _S8791 = quat_68.z * (_S8775 + _S8783);
    float _S8792 = quat_68.y * (_S8775 + _S8779);
    float _S8793 = quat_68.x * _S8784 + quat_68.z * _S8787 + quat_68.y * _S8788 + _S8790 + _S8790;
    float _S8794 = quat_68.x * _S8785 + quat_68.w * _S8787 + quat_68.y * _S8789 + _S8791 + _S8791;
    float _S8795 = quat_68.x * _S8786 + quat_68.w * _S8788 + quat_68.z * _S8789 + _S8792 + _S8792;
    float _S8796 = quat_68.w * _S8784 + quat_68.z * _S8785 + quat_68.y * _S8786;
    float _S8797 = _S8767 + _S8770;
    float _S8798 = 0.5f * - _S8797;
    float _S8799 = _S8765 + _S8769.differential_0.y;
    DiffPair_float_0 _S8800;
    (&_S8800)->primal_0 = _S8379;
    (&_S8800)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8800, _S8799);
    float _S8801 = _S8798 + _S8800.differential_0;
    float _S8802 = _S8766 + _S8771 + _S8773.differential_0.x;
    DiffPair_float_0 _S8803;
    (&_S8803)->primal_0 = _S8377;
    (&_S8803)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8803, _S8802);
    float _S8804 = _S8798 + _S8803.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8805;
    (&_S8805)->primal_0 = mean_c_76;
    (&_S8805)->differential_0 = _S8523;
    s_bwd_length_impl_1(&_S8805, 0.0f);
    float3  _S8806 = _S8805.differential_0 + _S8526.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8807;
    (&_S8807)->primal_0 = R_69;
    (&_S8807)->differential_0 = _S8606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8808;
    (&_S8808)->primal_0 = mean_67;
    (&_S8808)->differential_0 = _S8523;
    s_bwd_prop_mul_1(&_S8807, &_S8808, _S8806);
    float3  _S8809 = _S8754 + _S8757 + _S8760 + _S8806 + _S8609.differential_0;
    Matrix<float, 3, 3>  _S8810 = _S8755.differential_0 + _S8758.differential_0 + _S8761.differential_0 + _S8807.differential_0 + _S8610;
    float3  _S8811 = make_float3 (_S8804, _S8801, _S8797);
    float4  _S8812 = make_float4 (0.0f);
    *&((&_S8812)->w) = _S8793;
    *&((&_S8812)->z) = _S8794;
    *&((&_S8812)->y) = _S8795;
    *&((&_S8812)->x) = _S8796;
    float4  _S8813 = _S8812;
    float3  _S8814 = _S8756.differential_0 + _S8759.differential_0 + _S8762.differential_0 + _S8808.differential_0 + _S8604;
    *v_mean_22 = _S8814;
    *v_quat_21 = _S8813;
    *v_scale_21 = _S8811;
    *v_hardness_1 = _S8655;
    (*v_sh_coeffs_6)[int(0)] = _S8663;
    (*v_sh_coeffs_6)[int(1)] = _S8664;
    (*v_sh_coeffs_6)[int(2)] = _S8665;
    (*v_sh_coeffs_6)[int(3)] = _S8666;
    (*v_sh_coeffs_6)[int(4)] = _S8667;
    (*v_sh_coeffs_6)[int(5)] = _S8668;
    (*v_sh_coeffs_6)[int(6)] = _S8669;
    (*v_sh_coeffs_6)[int(7)] = _S8670;
    (*v_sh_coeffs_6)[int(8)] = _S8671;
    (*v_sh_coeffs_6)[int(9)] = _S8672;
    (*v_sh_coeffs_6)[int(10)] = _S8673;
    (*v_sh_coeffs_6)[int(11)] = _S8674;
    (*v_sh_coeffs_6)[int(12)] = _S8675;
    (*v_sh_coeffs_6)[int(13)] = _S8676;
    (*v_sh_coeffs_6)[int(14)] = _S8677;
    (*v_sh_coeffs_6)[int(15)] = _S8678;
    (*v_ch_coeffs_1)[int(0)] = _S8660;
    (*v_ch_coeffs_1)[int(1)] = _S8661;
    *v_R_22 = _S8810;
    *v_t_21 = _S8809;
    return;
}

inline __device__ void _d_pow_0(DiffPair_float_0 * dpx_18, DiffPair_float_0 * dpy_6, float dOut_21)
{
    if(((*dpx_18).primal_0) < 9.99999997475242708e-07f)
    {
        dpx_18->primal_0 = (*dpx_18).primal_0;
        dpx_18->differential_0 = 0.0f;
        dpy_6->primal_0 = (*dpy_6).primal_0;
        dpy_6->differential_0 = 0.0f;
    }
    else
    {
        float val_0 = (F32_pow(((*dpx_18).primal_0), ((*dpy_6).primal_0)));
        DiffPair_float_0 _S8815 = *dpx_18;
        float _S8816 = val_0 * (*dpy_6).primal_0 / (*dpx_18).primal_0 * dOut_21;
        dpx_18->primal_0 = (*dpx_18).primal_0;
        dpx_18->differential_0 = _S8816;
        float _S8817 = val_0 * (F32_log((_S8815.primal_0))) * dOut_21;
        dpy_6->primal_0 = (*dpy_6).primal_0;
        dpy_6->differential_0 = _S8817;
    }
    return;
}

inline __device__ float evaluate_alpha_opaque_triangle_fast(float2  v0_0, float2  v1_0, float2  v2_0, float2  hardness_6, float2  p_1)
{
    float2  e0_6 = v1_0 - v0_0;
    float2  e1_6 = v2_0 - v1_0;
    float2  e2_2 = v0_0 - v2_0;
    float _S8818 = e0_6.x * e1_6.y - e0_6.y * e1_6.x;
    float se_0 = float((F32_sign((_S8818))));
    float2  _S8819 = p_1 - v0_0;
    float2  _S8820 = normalize_1(e0_6);
    float2  _S8821 = p_1 - v1_0;
    float2  _S8822 = normalize_1(e1_6);
    float2  _S8823 = p_1 - v2_0;
    float2  _S8824 = normalize_1(e2_2);
    float _S8825 = hardness_6.x;
    float _S8826 = 1.0f - clamp_0(hardness_6.y, 0.00499999988824129f, 0.98000001907348633f);
    float a_1 = 1.0f - (1.0f + (F32_max(((F32_max((se_0 * (_S8819.x * _S8820.y - _S8819.y * _S8820.x)), (se_0 * (_S8821.x * _S8822.y - _S8821.y * _S8822.x))))), (se_0 * (_S8823.x * _S8824.y - _S8823.y * _S8824.x)))) / ((F32_abs((_S8818))) / (length_0(e0_6) + length_0(e1_6) + length_0(e2_2)))) * (1.0f - (F32_exp2((-1.0f / _S8826))));
    float _S8827;
    if(a_1 <= 0.0f)
    {
        _S8827 = 0.0f;
    }
    else
    {
        _S8827 = (F32_min(((F32_pow((a_1), (_S8826)))), (0.99900001287460327f)));
    }
    return _S8825 * _S8827;
}

inline __device__ float s_primal_ctx_abs_0(float _S8828)
{
    return (F32_abs((_S8828)));
}

inline __device__ float s_primal_ctx_clamp_0(float _S8829, float _S8830, float _S8831)
{
    return clamp_0(_S8829, _S8830, _S8831);
}

inline __device__ float s_primal_ctx_exp2_0(float _S8832)
{
    return (F32_exp2((_S8832)));
}

inline __device__ float s_primal_ctx_pow_0(float _S8833, float _S8834)
{
    return (F32_pow((_S8833), (_S8834)));
}

inline __device__ void s_bwd_prop_pow_0(DiffPair_float_0 * _S8835, DiffPair_float_0 * _S8836, float _S8837)
{
    _d_pow_0(_S8835, _S8836, _S8837);
    return;
}

inline __device__ void s_bwd_prop_clamp_0(DiffPair_float_0 * _S8838, DiffPair_float_0 * _S8839, DiffPair_float_0 * _S8840, float _S8841)
{
    _d_clamp_0(_S8838, _S8839, _S8840, _S8841);
    return;
}

inline __device__ void s_bwd_prop_normalize_impl_1(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpx_19, float2  _s_dOut_10)
{
    float _S8842 = length_0((*dpx_19).primal_0);
    float2  _S8843 = (*dpx_19).primal_0 * _s_dOut_10;
    float2  _S8844 = make_float2 (1.0f / _S8842) * _s_dOut_10;
    float _S8845 = - ((_S8843.x + _S8843.y) / (_S8842 * _S8842));
    float2  _S8846 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8847;
    (&_S8847)->primal_0 = (*dpx_19).primal_0;
    (&_S8847)->differential_0 = _S8846;
    s_bwd_length_impl_0(&_S8847, _S8845);
    float2  _S8848 = _S8844 + _S8847.differential_0;
    dpx_19->primal_0 = (*dpx_19).primal_0;
    dpx_19->differential_0 = _S8848;
    return;
}

inline __device__ void s_bwd_normalize_impl_1(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S8849, float2  _S8850)
{
    s_bwd_prop_normalize_impl_1(_S8849, _S8850);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_opaque_triangle_fast_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv0_0, DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv1_0, DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv2_0, DiffPair_vectorx3Cfloatx2C2x3E_0 * dphardness_0, float2  p_2, float _s_dOut_11)
{
    float2  e0_7 = (*dpv1_0).primal_0 - (*dpv0_0).primal_0;
    float2  e1_7 = (*dpv2_0).primal_0 - (*dpv1_0).primal_0;
    float2  e2_3 = (*dpv0_0).primal_0 - (*dpv2_0).primal_0;
    float _S8851 = e0_7.x;
    float _S8852 = e1_7.y;
    float _S8853 = e0_7.y;
    float _S8854 = e1_7.x;
    float _S8855 = _S8851 * _S8852 - _S8853 * _S8854;
    float se_1 = float((F32_sign((_S8855))));
    float2  _S8856 = p_2 - (*dpv0_0).primal_0;
    float2  _S8857 = normalize_1(e0_7);
    float _S8858 = _S8856.x;
    float _S8859 = _S8857.y;
    float _S8860 = _S8856.y;
    float _S8861 = _S8857.x;
    float de0_0 = se_1 * (_S8858 * _S8859 - _S8860 * _S8861);
    float2  _S8862 = p_2 - (*dpv1_0).primal_0;
    float2  _S8863 = normalize_1(e1_7);
    float _S8864 = _S8862.x;
    float _S8865 = _S8863.y;
    float _S8866 = _S8862.y;
    float _S8867 = _S8863.x;
    float de1_0 = se_1 * (_S8864 * _S8865 - _S8866 * _S8867);
    float2  _S8868 = p_2 - (*dpv2_0).primal_0;
    float2  _S8869 = normalize_1(e2_3);
    float _S8870 = _S8868.x;
    float _S8871 = _S8869.y;
    float _S8872 = _S8868.y;
    float _S8873 = _S8869.x;
    float de2_0 = se_1 * (_S8870 * _S8871 - _S8872 * _S8873);
    float _S8874 = s_primal_ctx_max_0(de0_0, de1_0);
    float _S8875 = s_primal_ctx_max_0(_S8874, de2_0);
    float _S8876 = s_primal_ctx_abs_0(_S8855);
    float _S8877 = length_0(e0_7) + length_0(e1_7) + length_0(e2_3);
    float dmax_0 = _S8876 / _S8877;
    float _S8878 = _S8877 * _S8877;
    float _S8879 = (*dphardness_0).primal_0.x;
    float _S8880 = (*dphardness_0).primal_0.y;
    float _S8881 = dmax_0 * dmax_0;
    float _S8882 = 1.0f + _S8875 / dmax_0;
    float _S8883 = 1.0f - s_primal_ctx_clamp_0(_S8880, 0.00499999988824129f, 0.98000001907348633f);
    float _S8884 = -1.0f / _S8883;
    float _S8885 = _S8883 * _S8883;
    float _S8886 = 1.0f - s_primal_ctx_exp2_0(_S8884);
    float a_2 = 1.0f - _S8882 * _S8886;
    bool _S8887 = a_2 <= 0.0f;
    float _S8888;
    float _S8889;
    if(_S8887)
    {
        _S8888 = 0.0f;
        _S8889 = 0.0f;
    }
    else
    {
        float _S8890 = s_primal_ctx_pow_0(a_2, _S8883);
        _S8888 = s_primal_ctx_min_0(_S8890, 0.99900001287460327f);
        _S8889 = _S8890;
    }
    float _S8891 = _S8879 * _s_dOut_11;
    float _S8892 = _S8888 * _s_dOut_11;
    if(_S8887)
    {
        _S8888 = 0.0f;
        _S8889 = 0.0f;
    }
    else
    {
        DiffPair_float_0 _S8893;
        (&_S8893)->primal_0 = _S8889;
        (&_S8893)->differential_0 = 0.0f;
        DiffPair_float_0 _S8894;
        (&_S8894)->primal_0 = 0.99900001287460327f;
        (&_S8894)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S8893, &_S8894, _S8891);
        DiffPair_float_0 _S8895;
        (&_S8895)->primal_0 = a_2;
        (&_S8895)->differential_0 = 0.0f;
        DiffPair_float_0 _S8896;
        (&_S8896)->primal_0 = _S8883;
        (&_S8896)->differential_0 = 0.0f;
        s_bwd_prop_pow_0(&_S8895, &_S8896, _S8893.differential_0);
        _S8888 = _S8895.differential_0;
        _S8889 = _S8896.differential_0;
    }
    float _S8897 = - _S8888;
    float _S8898 = _S8886 * _S8897;
    float _S8899 = - (_S8882 * _S8897);
    DiffPair_float_0 _S8900;
    (&_S8900)->primal_0 = _S8884;
    (&_S8900)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S8900, _S8899);
    float _S8901 = - (-1.0f * - (_S8900.differential_0 / _S8885) + _S8889);
    float _S8902 = _S8898 / _S8881;
    float s_diff_dmax_T_0 = _S8875 * - _S8902;
    float _S8903 = dmax_0 * _S8902;
    DiffPair_float_0 _S8904;
    (&_S8904)->primal_0 = _S8880;
    (&_S8904)->differential_0 = 0.0f;
    DiffPair_float_0 _S8905;
    (&_S8905)->primal_0 = 0.00499999988824129f;
    (&_S8905)->differential_0 = 0.0f;
    DiffPair_float_0 _S8906;
    (&_S8906)->primal_0 = 0.98000001907348633f;
    (&_S8906)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S8904, &_S8905, &_S8906, _S8901);
    float _S8907 = s_diff_dmax_T_0 / _S8878;
    float _S8908 = _S8876 * - _S8907;
    float _S8909 = _S8877 * _S8907;
    float2  _S8910 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8911;
    (&_S8911)->primal_0 = e2_3;
    (&_S8911)->differential_0 = _S8910;
    s_bwd_length_impl_0(&_S8911, _S8908);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8912;
    (&_S8912)->primal_0 = e1_7;
    (&_S8912)->differential_0 = _S8910;
    s_bwd_length_impl_0(&_S8912, _S8908);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8913;
    (&_S8913)->primal_0 = e0_7;
    (&_S8913)->differential_0 = _S8910;
    s_bwd_length_impl_0(&_S8913, _S8908);
    DiffPair_float_0 _S8914;
    (&_S8914)->primal_0 = _S8855;
    (&_S8914)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S8914, _S8909);
    DiffPair_float_0 _S8915;
    (&_S8915)->primal_0 = _S8874;
    (&_S8915)->differential_0 = 0.0f;
    DiffPair_float_0 _S8916;
    (&_S8916)->primal_0 = de2_0;
    (&_S8916)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8915, &_S8916, _S8903);
    DiffPair_float_0 _S8917;
    (&_S8917)->primal_0 = de0_0;
    (&_S8917)->differential_0 = 0.0f;
    DiffPair_float_0 _S8918;
    (&_S8918)->primal_0 = de1_0;
    (&_S8918)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8917, &_S8918, _S8915.differential_0);
    float _S8919 = se_1 * _S8916.differential_0;
    float _S8920 = - _S8919;
    float _S8921 = _S8873 * _S8920;
    float _S8922 = _S8871 * _S8919;
    float2  _S8923 = make_float2 (_S8872 * _S8920, _S8870 * _S8919);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8924;
    (&_S8924)->primal_0 = e2_3;
    (&_S8924)->differential_0 = _S8910;
    s_bwd_normalize_impl_1(&_S8924, _S8923);
    float2  _S8925 = - make_float2 (_S8922, _S8921);
    float _S8926 = se_1 * _S8918.differential_0;
    float _S8927 = - _S8926;
    float _S8928 = _S8867 * _S8927;
    float _S8929 = _S8865 * _S8926;
    float2  _S8930 = make_float2 (_S8866 * _S8927, _S8864 * _S8926);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8931;
    (&_S8931)->primal_0 = e1_7;
    (&_S8931)->differential_0 = _S8910;
    s_bwd_normalize_impl_1(&_S8931, _S8930);
    float2  _S8932 = - make_float2 (_S8929, _S8928);
    float _S8933 = se_1 * _S8917.differential_0;
    float _S8934 = - _S8933;
    float _S8935 = _S8861 * _S8934;
    float _S8936 = _S8859 * _S8933;
    float2  _S8937 = make_float2 (_S8860 * _S8934, _S8858 * _S8933);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8938;
    (&_S8938)->primal_0 = e0_7;
    (&_S8938)->differential_0 = _S8910;
    s_bwd_normalize_impl_1(&_S8938, _S8937);
    float2  _S8939 = - make_float2 (_S8936, _S8935);
    float _S8940 = - _S8914.differential_0;
    float2  _S8941 = _S8911.differential_0 + _S8924.differential_0;
    float2  _S8942 = - _S8941;
    float2  _S8943 = _S8912.differential_0 + _S8931.differential_0 + make_float2 (_S8853 * _S8940, _S8851 * _S8914.differential_0);
    float2  _S8944 = - _S8943;
    float2  _S8945 = _S8913.differential_0 + _S8938.differential_0 + make_float2 (_S8852 * _S8914.differential_0, _S8854 * _S8940);
    float2  _S8946 = - _S8945;
    float2  _S8947 = make_float2 (_S8892, _S8904.differential_0);
    dphardness_0->primal_0 = (*dphardness_0).primal_0;
    dphardness_0->differential_0 = _S8947;
    float2  _S8948 = _S8925 + _S8942 + _S8943;
    dpv2_0->primal_0 = (*dpv2_0).primal_0;
    dpv2_0->differential_0 = _S8948;
    float2  _S8949 = _S8932 + _S8944 + _S8945;
    dpv1_0->primal_0 = (*dpv1_0).primal_0;
    dpv1_0->differential_0 = _S8949;
    float2  _S8950 = _S8939 + _S8941 + _S8946;
    dpv0_0->primal_0 = (*dpv0_0).primal_0;
    dpv0_0->differential_0 = _S8950;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_opaque_triangle_fast_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S8951, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S8952, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S8953, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S8954, float2  _S8955, float _S8956)
{
    s_bwd_prop_evaluate_alpha_opaque_triangle_fast_0(_S8951, _S8952, _S8953, _S8954, _S8955, _S8956);
    return;
}

inline __device__ void evaluate_alpha_opaque_triangle_fast_vjp(float2  v0_1, float2  v1_1, float2  v2_1, float2  hardness_7, float2  p_3, float v_alpha_1, float2  * v_v0_0, float2  * v_v1_0, float2  * v_v2_0, float2  * v_hardness_2)
{
    float2  _S8957 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v0_0;
    (&dp_v0_0)->primal_0 = v0_1;
    (&dp_v0_0)->differential_0 = _S8957;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v1_0;
    (&dp_v1_0)->primal_0 = v1_1;
    (&dp_v1_0)->differential_0 = _S8957;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v2_0;
    (&dp_v2_0)->primal_0 = v2_1;
    (&dp_v2_0)->differential_0 = _S8957;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_hardness_0;
    (&dp_hardness_0)->primal_0 = hardness_7;
    (&dp_hardness_0)->differential_0 = _S8957;
    s_bwd_evaluate_alpha_opaque_triangle_fast_0(&dp_v0_0, &dp_v1_0, &dp_v2_0, &dp_hardness_0, p_3, v_alpha_1);
    *v_v0_0 = dp_v0_0.differential_0;
    *v_v1_0 = dp_v2_0.differential_0;
    *v_v2_0 = dp_v1_0.differential_0;
    *v_hardness_2 = dp_hardness_0.differential_0;
    return;
}

inline __device__ float evaluate_alpha_opaque_triangle_precise(float2  v0_2, float2  v1_2, float2  v2_2, float2  hardness_8, float2  p_4)
{
    float2  e0_8 = v1_2 - v0_2;
    float2  e1_8 = v2_2 - v1_2;
    float2  e2_4 = v0_2 - v2_2;
    float2  _S8958 = p_4 - v0_2;
    float2  _S8959 = p_4 - v1_2;
    float2  _S8960 = p_4 - v2_2;
    float _S8961 = e0_8.x;
    float _S8962 = e1_8.y;
    float _S8963 = e0_8.y;
    float _S8964 = e1_8.x;
    float _S8965 = _S8961 * _S8962 - _S8963 * _S8964;
    float se_2 = float((F32_sign((_S8965))));
    float _S8966 = hardness_8.x;
    float _S8967 = 1.0f - clamp_0(hardness_8.y, 0.00499999988824129f, 0.98000001907348633f);
    float a_3 = 1.0f - (1.0f + float((F32_sign(((F32_max(((F32_max((se_2 * (_S8958.x * _S8963 - _S8958.y * _S8961)), (se_2 * (_S8959.x * _S8962 - _S8959.y * _S8964))))), (se_2 * (_S8960.x * e2_4.y - _S8960.y * e2_4.x)))))))) * (F32_min(((F32_min((length_0(_S8958 - e0_8 * make_float2 (clamp_0(dot_1(_S8958, e0_8) / dot_1(e0_8, e0_8), 0.0f, 1.0f)))), (length_0(_S8959 - e1_8 * make_float2 (clamp_0(dot_1(_S8959, e1_8) / dot_1(e1_8, e1_8), 0.0f, 1.0f))))))), (length_0(_S8960 - e2_4 * make_float2 (clamp_0(dot_1(_S8960, e2_4) / dot_1(e2_4, e2_4), 0.0f, 1.0f)))))) / ((F32_abs((_S8965))) / (length_0(e0_8) + length_0(e1_8) + length_0(e2_4)))) * (1.0f - (F32_exp2((-1.0f / _S8967))));
    float _S8968;
    if(a_3 <= 0.0f)
    {
        _S8968 = 0.0f;
    }
    else
    {
        _S8968 = (F32_min(((F32_pow((a_3), (_S8967)))), (0.99900001287460327f)));
    }
    return _S8966 * _S8968;
}

inline __device__ float s_primal_ctx_dot_1(float2  _S8969, float2  _S8970)
{
    return dot_1(_S8969, _S8970);
}

inline __device__ void s_bwd_prop_dot_1(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S8971, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S8972, float _S8973)
{
    _d_dot_1(_S8971, _S8972, _S8973);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_opaque_triangle_precise_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv0_1, DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv1_1, DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv2_1, DiffPair_vectorx3Cfloatx2C2x3E_0 * dphardness_1, float2  p_5, float _s_dOut_12)
{
    float2  e0_9 = (*dpv1_1).primal_0 - (*dpv0_1).primal_0;
    float2  e1_9 = (*dpv2_1).primal_0 - (*dpv1_1).primal_0;
    float2  e2_5 = (*dpv0_1).primal_0 - (*dpv2_1).primal_0;
    float2  _S8974 = p_5 - (*dpv0_1).primal_0;
    float _S8975 = s_primal_ctx_dot_1(_S8974, e0_9);
    float _S8976 = s_primal_ctx_dot_1(e0_9, e0_9);
    float _S8977 = _S8975 / _S8976;
    float _S8978 = _S8976 * _S8976;
    float _S8979 = s_primal_ctx_clamp_0(_S8977, 0.0f, 1.0f);
    float2  _S8980 = make_float2 (_S8979);
    float2  _S8981 = _S8974 - e0_9 * make_float2 (_S8979);
    float _S8982 = length_0(_S8981);
    float2  _S8983 = p_5 - (*dpv1_1).primal_0;
    float _S8984 = s_primal_ctx_dot_1(_S8983, e1_9);
    float _S8985 = s_primal_ctx_dot_1(e1_9, e1_9);
    float _S8986 = _S8984 / _S8985;
    float _S8987 = _S8985 * _S8985;
    float _S8988 = s_primal_ctx_clamp_0(_S8986, 0.0f, 1.0f);
    float2  _S8989 = make_float2 (_S8988);
    float2  _S8990 = _S8983 - e1_9 * make_float2 (_S8988);
    float _S8991 = length_0(_S8990);
    float2  _S8992 = p_5 - (*dpv2_1).primal_0;
    float _S8993 = s_primal_ctx_dot_1(_S8992, e2_5);
    float _S8994 = s_primal_ctx_dot_1(e2_5, e2_5);
    float _S8995 = _S8993 / _S8994;
    float _S8996 = _S8994 * _S8994;
    float _S8997 = s_primal_ctx_clamp_0(_S8995, 0.0f, 1.0f);
    float2  _S8998 = make_float2 (_S8997);
    float2  _S8999 = _S8992 - e2_5 * make_float2 (_S8997);
    float _S9000 = length_0(_S8999);
    float _S9001 = e0_9.x;
    float _S9002 = e1_9.y;
    float _S9003 = e0_9.y;
    float _S9004 = e1_9.x;
    float _S9005 = _S9001 * _S9002 - _S9003 * _S9004;
    float se_3 = float((F32_sign((_S9005))));
    float _S9006 = _S8974.x;
    float _S9007 = _S8974.y;
    float s0_0 = se_3 * (_S9006 * _S9003 - _S9007 * _S9001);
    float _S9008 = _S8983.x;
    float _S9009 = _S8983.y;
    float s1_0 = se_3 * (_S9008 * _S9002 - _S9009 * _S9004);
    float _S9010 = _S8992.x;
    float _S9011 = e2_5.y;
    float _S9012 = _S8992.y;
    float _S9013 = e2_5.x;
    float s2_0 = se_3 * (_S9010 * _S9011 - _S9012 * _S9013);
    float _S9014 = s_primal_ctx_max_0(s0_0, s1_0);
    float sv_0 = float((F32_sign((s_primal_ctx_max_0(_S9014, s2_0)))));
    float _S9015 = s_primal_ctx_min_0(_S8982, _S8991);
    float dv_0 = sv_0 * s_primal_ctx_min_0(_S9015, _S9000);
    float _S9016 = s_primal_ctx_abs_0(_S9005);
    float _S9017 = length_0(e0_9) + length_0(e1_9) + length_0(e2_5);
    float dmax_1 = _S9016 / _S9017;
    float _S9018 = _S9017 * _S9017;
    float _S9019 = (*dphardness_1).primal_0.x;
    float _S9020 = (*dphardness_1).primal_0.y;
    float _S9021 = dmax_1 * dmax_1;
    float _S9022 = 1.0f + dv_0 / dmax_1;
    float _S9023 = 1.0f - s_primal_ctx_clamp_0(_S9020, 0.00499999988824129f, 0.98000001907348633f);
    float _S9024 = -1.0f / _S9023;
    float _S9025 = _S9023 * _S9023;
    float _S9026 = 1.0f - s_primal_ctx_exp2_0(_S9024);
    float a_4 = 1.0f - _S9022 * _S9026;
    bool _S9027 = a_4 <= 0.0f;
    float _S9028;
    float _S9029;
    if(_S9027)
    {
        _S9028 = 0.0f;
        _S9029 = 0.0f;
    }
    else
    {
        float _S9030 = s_primal_ctx_pow_0(a_4, _S9023);
        _S9028 = s_primal_ctx_min_0(_S9030, 0.99900001287460327f);
        _S9029 = _S9030;
    }
    float _S9031 = _S9019 * _s_dOut_12;
    float _S9032 = _S9028 * _s_dOut_12;
    if(_S9027)
    {
        _S9028 = 0.0f;
        _S9029 = 0.0f;
    }
    else
    {
        DiffPair_float_0 _S9033;
        (&_S9033)->primal_0 = _S9029;
        (&_S9033)->differential_0 = 0.0f;
        DiffPair_float_0 _S9034;
        (&_S9034)->primal_0 = 0.99900001287460327f;
        (&_S9034)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S9033, &_S9034, _S9031);
        DiffPair_float_0 _S9035;
        (&_S9035)->primal_0 = a_4;
        (&_S9035)->differential_0 = 0.0f;
        DiffPair_float_0 _S9036;
        (&_S9036)->primal_0 = _S9023;
        (&_S9036)->differential_0 = 0.0f;
        s_bwd_prop_pow_0(&_S9035, &_S9036, _S9033.differential_0);
        _S9028 = _S9035.differential_0;
        _S9029 = _S9036.differential_0;
    }
    float _S9037 = - _S9028;
    float _S9038 = _S9026 * _S9037;
    float _S9039 = - (_S9022 * _S9037);
    DiffPair_float_0 _S9040;
    (&_S9040)->primal_0 = _S9024;
    (&_S9040)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S9040, _S9039);
    float _S9041 = - (-1.0f * - (_S9040.differential_0 / _S9025) + _S9029);
    float _S9042 = _S9038 / _S9021;
    float s_diff_dmax_T_1 = dv_0 * - _S9042;
    float s_diff_dv_T_0 = dmax_1 * _S9042;
    DiffPair_float_0 _S9043;
    (&_S9043)->primal_0 = _S9020;
    (&_S9043)->differential_0 = 0.0f;
    DiffPair_float_0 _S9044;
    (&_S9044)->primal_0 = 0.00499999988824129f;
    (&_S9044)->differential_0 = 0.0f;
    DiffPair_float_0 _S9045;
    (&_S9045)->primal_0 = 0.98000001907348633f;
    (&_S9045)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S9043, &_S9044, &_S9045, _S9041);
    float _S9046 = s_diff_dmax_T_1 / _S9018;
    float _S9047 = _S9016 * - _S9046;
    float _S9048 = _S9017 * _S9046;
    float2  _S9049 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9050;
    (&_S9050)->primal_0 = e2_5;
    (&_S9050)->differential_0 = _S9049;
    s_bwd_length_impl_0(&_S9050, _S9047);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9051;
    (&_S9051)->primal_0 = e1_9;
    (&_S9051)->differential_0 = _S9049;
    s_bwd_length_impl_0(&_S9051, _S9047);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9052;
    (&_S9052)->primal_0 = e0_9;
    (&_S9052)->differential_0 = _S9049;
    s_bwd_length_impl_0(&_S9052, _S9047);
    DiffPair_float_0 _S9053;
    (&_S9053)->primal_0 = _S9005;
    (&_S9053)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S9053, _S9048);
    float _S9054 = sv_0 * s_diff_dv_T_0;
    DiffPair_float_0 _S9055;
    (&_S9055)->primal_0 = _S9015;
    (&_S9055)->differential_0 = 0.0f;
    DiffPair_float_0 _S9056;
    (&_S9056)->primal_0 = _S9000;
    (&_S9056)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9055, &_S9056, _S9054);
    DiffPair_float_0 _S9057;
    (&_S9057)->primal_0 = _S8982;
    (&_S9057)->differential_0 = 0.0f;
    DiffPair_float_0 _S9058;
    (&_S9058)->primal_0 = _S8991;
    (&_S9058)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9057, &_S9058, _S9055.differential_0);
    DiffPair_float_0 _S9059;
    (&_S9059)->primal_0 = _S9014;
    (&_S9059)->differential_0 = 0.0f;
    DiffPair_float_0 _S9060;
    (&_S9060)->primal_0 = s2_0;
    (&_S9060)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9059, &_S9060, 0.0f);
    DiffPair_float_0 _S9061;
    (&_S9061)->primal_0 = s0_0;
    (&_S9061)->differential_0 = 0.0f;
    DiffPair_float_0 _S9062;
    (&_S9062)->primal_0 = s1_0;
    (&_S9062)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9061, &_S9062, _S9059.differential_0);
    float _S9063 = se_3 * _S9060.differential_0;
    float _S9064 = - _S9063;
    float _S9065 = _S9012 * _S9064;
    float _S9066 = _S9013 * _S9064;
    float _S9067 = _S9010 * _S9063;
    float _S9068 = _S9011 * _S9063;
    float _S9069 = se_3 * _S9062.differential_0;
    float _S9070 = - _S9069;
    float _S9071 = _S9004 * _S9070;
    float _S9072 = _S9002 * _S9069;
    float _S9073 = se_3 * _S9061.differential_0;
    float _S9074 = - _S9073;
    float _S9075 = _S9001 * _S9074;
    float _S9076 = _S9003 * _S9073;
    float _S9077 = - _S9053.differential_0;
    float _S9078 = _S9009 * _S9070 + _S9003 * _S9077;
    float _S9079 = _S9006 * _S9073 + _S9004 * _S9077;
    float _S9080 = _S9008 * _S9069 + _S9001 * _S9053.differential_0;
    float _S9081 = _S9007 * _S9074 + _S9002 * _S9053.differential_0;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9082;
    (&_S9082)->primal_0 = _S8999;
    (&_S9082)->differential_0 = _S9049;
    s_bwd_length_impl_0(&_S9082, _S9056.differential_0);
    float2  _S9083 = - _S9082.differential_0;
    float2  _S9084 = e2_5 * _S9083;
    float2  _S9085 = _S8998 * _S9083;
    float _S9086 = _S9084.x + _S9084.y;
    DiffPair_float_0 _S9087;
    (&_S9087)->primal_0 = _S8995;
    (&_S9087)->differential_0 = 0.0f;
    DiffPair_float_0 _S9088;
    (&_S9088)->primal_0 = 0.0f;
    (&_S9088)->differential_0 = 0.0f;
    DiffPair_float_0 _S9089;
    (&_S9089)->primal_0 = 1.0f;
    (&_S9089)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S9087, &_S9088, &_S9089, _S9086);
    float _S9090 = _S9087.differential_0 / _S8996;
    float _S9091 = _S8993 * - _S9090;
    float _S9092 = _S8994 * _S9090;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9093;
    (&_S9093)->primal_0 = e2_5;
    (&_S9093)->differential_0 = _S9049;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9094;
    (&_S9094)->primal_0 = e2_5;
    (&_S9094)->differential_0 = _S9049;
    s_bwd_prop_dot_1(&_S9093, &_S9094, _S9091);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9095;
    (&_S9095)->primal_0 = _S8992;
    (&_S9095)->differential_0 = _S9049;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9096;
    (&_S9096)->primal_0 = e2_5;
    (&_S9096)->differential_0 = _S9049;
    s_bwd_prop_dot_1(&_S9095, &_S9096, _S9092);
    float2  _S9097 = - (_S9082.differential_0 + _S9095.differential_0 + make_float2 (_S9068, _S9066));
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9098;
    (&_S9098)->primal_0 = _S8990;
    (&_S9098)->differential_0 = _S9049;
    s_bwd_length_impl_0(&_S9098, _S9058.differential_0);
    float2  _S9099 = - _S9098.differential_0;
    float2  _S9100 = e1_9 * _S9099;
    float2  _S9101 = _S8989 * _S9099;
    float _S9102 = _S9100.x + _S9100.y;
    DiffPair_float_0 _S9103;
    (&_S9103)->primal_0 = _S8986;
    (&_S9103)->differential_0 = 0.0f;
    DiffPair_float_0 _S9104;
    (&_S9104)->primal_0 = 0.0f;
    (&_S9104)->differential_0 = 0.0f;
    DiffPair_float_0 _S9105;
    (&_S9105)->primal_0 = 1.0f;
    (&_S9105)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S9103, &_S9104, &_S9105, _S9102);
    float _S9106 = _S9103.differential_0 / _S8987;
    float _S9107 = _S8984 * - _S9106;
    float _S9108 = _S8985 * _S9106;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9109;
    (&_S9109)->primal_0 = e1_9;
    (&_S9109)->differential_0 = _S9049;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9110;
    (&_S9110)->primal_0 = e1_9;
    (&_S9110)->differential_0 = _S9049;
    s_bwd_prop_dot_1(&_S9109, &_S9110, _S9107);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9111;
    (&_S9111)->primal_0 = _S8983;
    (&_S9111)->differential_0 = _S9049;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9112;
    (&_S9112)->primal_0 = e1_9;
    (&_S9112)->differential_0 = _S9049;
    s_bwd_prop_dot_1(&_S9111, &_S9112, _S9108);
    float2  _S9113 = - (_S9098.differential_0 + _S9111.differential_0 + make_float2 (_S9072, _S9071));
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9114;
    (&_S9114)->primal_0 = _S8981;
    (&_S9114)->differential_0 = _S9049;
    s_bwd_length_impl_0(&_S9114, _S9057.differential_0);
    float2  _S9115 = - _S9114.differential_0;
    float2  _S9116 = e0_9 * _S9115;
    float2  _S9117 = _S8980 * _S9115;
    float _S9118 = _S9116.x + _S9116.y;
    DiffPair_float_0 _S9119;
    (&_S9119)->primal_0 = _S8977;
    (&_S9119)->differential_0 = 0.0f;
    DiffPair_float_0 _S9120;
    (&_S9120)->primal_0 = 0.0f;
    (&_S9120)->differential_0 = 0.0f;
    DiffPair_float_0 _S9121;
    (&_S9121)->primal_0 = 1.0f;
    (&_S9121)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S9119, &_S9120, &_S9121, _S9118);
    float _S9122 = _S9119.differential_0 / _S8978;
    float _S9123 = _S8975 * - _S9122;
    float _S9124 = _S8976 * _S9122;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9125;
    (&_S9125)->primal_0 = e0_9;
    (&_S9125)->differential_0 = _S9049;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9126;
    (&_S9126)->primal_0 = e0_9;
    (&_S9126)->differential_0 = _S9049;
    s_bwd_prop_dot_1(&_S9125, &_S9126, _S9123);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9127;
    (&_S9127)->primal_0 = _S8974;
    (&_S9127)->differential_0 = _S9049;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9128;
    (&_S9128)->primal_0 = e0_9;
    (&_S9128)->differential_0 = _S9049;
    s_bwd_prop_dot_1(&_S9127, &_S9128, _S9124);
    float2  _S9129 = - (_S9114.differential_0 + _S9127.differential_0 + make_float2 (_S9076, _S9075));
    float2  _S9130 = _S9050.differential_0 + _S9085 + _S9094.differential_0 + _S9093.differential_0 + _S9096.differential_0 + make_float2 (_S9065, _S9067);
    float2  _S9131 = - _S9130;
    float2  _S9132 = _S9051.differential_0 + _S9101 + _S9110.differential_0 + _S9109.differential_0 + _S9112.differential_0 + make_float2 (_S9078, _S9080);
    float2  _S9133 = - _S9132;
    float2  _S9134 = _S9052.differential_0 + _S9117 + _S9126.differential_0 + _S9125.differential_0 + _S9128.differential_0 + make_float2 (_S9081, _S9079);
    float2  _S9135 = - _S9134;
    float2  _S9136 = make_float2 (_S9032, _S9043.differential_0);
    dphardness_1->primal_0 = (*dphardness_1).primal_0;
    dphardness_1->differential_0 = _S9136;
    float2  _S9137 = _S9097 + _S9131 + _S9132;
    dpv2_1->primal_0 = (*dpv2_1).primal_0;
    dpv2_1->differential_0 = _S9137;
    float2  _S9138 = _S9113 + _S9133 + _S9134;
    dpv1_1->primal_0 = (*dpv1_1).primal_0;
    dpv1_1->differential_0 = _S9138;
    float2  _S9139 = _S9129 + _S9130 + _S9135;
    dpv0_1->primal_0 = (*dpv0_1).primal_0;
    dpv0_1->differential_0 = _S9139;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_opaque_triangle_precise_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9140, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9141, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9142, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9143, float2  _S9144, float _S9145)
{
    s_bwd_prop_evaluate_alpha_opaque_triangle_precise_0(_S9140, _S9141, _S9142, _S9143, _S9144, _S9145);
    return;
}

inline __device__ void evaluate_alpha_opaque_triangle_precise_vjp(float2  v0_3, float2  v1_3, float2  v2_3, float2  hardness_9, float2  p_6, float v_alpha_2, float2  * v_v0_1, float2  * v_v1_1, float2  * v_v2_1, float2  * v_hardness_3)
{
    float2  _S9146 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v0_1;
    (&dp_v0_1)->primal_0 = v0_3;
    (&dp_v0_1)->differential_0 = _S9146;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v1_1;
    (&dp_v1_1)->primal_0 = v1_3;
    (&dp_v1_1)->differential_0 = _S9146;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v2_1;
    (&dp_v2_1)->primal_0 = v2_3;
    (&dp_v2_1)->differential_0 = _S9146;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_hardness_1;
    (&dp_hardness_1)->primal_0 = hardness_9;
    (&dp_hardness_1)->differential_0 = _S9146;
    s_bwd_evaluate_alpha_opaque_triangle_precise_0(&dp_v0_1, &dp_v1_1, &dp_v2_1, &dp_hardness_1, p_6, v_alpha_2);
    *v_v0_1 = dp_v0_1.differential_0;
    *v_v1_1 = dp_v2_1.differential_0;
    *v_v2_1 = dp_v1_1.differential_0;
    *v_hardness_3 = dp_hardness_1.differential_0;
    return;
}

inline __device__ void evaluate_color_opaque_triangle(float2  v0_4, float2  v1_4, float2  v2_4, FixedArray<float3 , 3>  * colors_0, float3  depths_0, float2  p_7, float3  * color_6, float * depth_43)
{
    *color_6 = ((*colors_0)[int(0)] + (*colors_0)[int(1)] + (*colors_0)[int(2)]) / make_float3 (3.0f);
    *depth_43 = (depths_0.x + depths_0.y + depths_0.z) / 3.0f;
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_opaque_triangle_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv0_2, DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv1_2, DiffPair_vectorx3Cfloatx2C2x3E_0 * dpv2_2, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpcolors_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpdepths_0, float2  p_8, float3  dpcolor_0, float dpdepth_29)
{
    float _S9147 = 0.3333333432674408f * dpdepth_29;
    float3  _S9148 = make_float3 (0.3333333432674408f) * dpcolor_0;
    float3  _S9149 = make_float3 (0.0f);
    float3  _S9150 = _S9149;
    *&((&_S9150)->z) = _S9147;
    *&((&_S9150)->y) = _S9147;
    *&((&_S9150)->x) = _S9147;
    dpdepths_0->primal_0 = (*dpdepths_0).primal_0;
    dpdepths_0->differential_0 = _S9150;
    FixedArray<float3 , 3>  _S9151;
    _S9151[int(0)] = _S9149;
    _S9151[int(1)] = _S9149;
    _S9151[int(2)] = _S9149;
    _S9151[int(2)] = _S9148;
    _S9151[int(1)] = _S9148;
    _S9151[int(0)] = _S9148;
    dpcolors_0->primal_0 = dpcolors_0->primal_0;
    dpcolors_0->differential_0 = _S9151;
    float2  _S9152 = make_float2 (0.0f);
    dpv2_2->primal_0 = (*dpv2_2).primal_0;
    dpv2_2->differential_0 = _S9152;
    dpv1_2->primal_0 = (*dpv1_2).primal_0;
    dpv1_2->differential_0 = _S9152;
    dpv0_2->primal_0 = (*dpv0_2).primal_0;
    dpv0_2->differential_0 = _S9152;
    return;
}

inline __device__ void s_bwd_evaluate_color_opaque_triangle_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9153, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9154, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9155, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S9156, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9157, float2  _S9158, float3  _S9159, float _S9160)
{
    s_bwd_prop_evaluate_color_opaque_triangle_0(_S9153, _S9154, _S9155, _S9156, _S9157, _S9158, _S9159, _S9160);
    return;
}

inline __device__ void evaluate_color_opaque_triangle_vjp(float2  v0_5, float2  v1_5, float2  v2_5, FixedArray<float3 , 3>  * colors_1, float3  depths_1, float2  p_9, float3  v_color_0, float v_depth_22, float2  * v_v0_2, float2  * v_v1_2, float2  * v_v2_2, FixedArray<float3 , 3>  * v_colors_0, float3  * v_depths_0)
{
    float2  _S9161 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v0_2;
    (&dp_v0_2)->primal_0 = v0_5;
    (&dp_v0_2)->differential_0 = _S9161;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v1_2;
    (&dp_v1_2)->primal_0 = v1_5;
    (&dp_v1_2)->differential_0 = _S9161;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_v2_2;
    (&dp_v2_2)->primal_0 = v2_5;
    (&dp_v2_2)->differential_0 = _S9161;
    float3  _S9162 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S9163 = { _S9162, _S9162, _S9162 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_colors_0;
    (&dp_colors_0)->primal_0 = *colors_1;
    (&dp_colors_0)->differential_0 = _S9163;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_depths_0;
    (&dp_depths_0)->primal_0 = depths_1;
    (&dp_depths_0)->differential_0 = _S9162;
    s_bwd_evaluate_color_opaque_triangle_0(&dp_v0_2, &dp_v1_2, &dp_v2_2, &dp_colors_0, &dp_depths_0, p_9, v_color_0, v_depth_22);
    *v_v0_2 = dp_v0_2.differential_0;
    *v_v1_2 = dp_v2_2.differential_0;
    *v_v2_2 = dp_v1_2.differential_0;
    *v_colors_0 = (&dp_colors_0)->differential_0;
    *v_depths_0 = dp_depths_0.differential_0;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp(float3  mean_68, float4  quat_69, float3  scale_68, float2  hardness_10, FixedArray<float3 , 16>  * sh_coeffs_21, FixedArray<float3 , 2>  * ch_coeffs_6, Matrix<float, 3, 3>  R_70, float3  t_66, float fx_100, float fy_100, float cx_95, float cy_95, FixedArray<float, 10>  * dist_coeffs_104, uint image_width_91, uint image_height_91, float near_plane_70, float far_plane_70, int4  * aabb_xyxy_56, float * depth_44, FixedArray<float3 , 3>  * verts_0, FixedArray<float3 , 3>  * rgbs_0, float3  * normal_4)
{
    for(;;)
    {
        float3  mean_c_77 = mul_0(R_70, mean_68) + t_66;
        float _S9164 = mean_c_77.z;
        bool _S9165;
        if(_S9164 < near_plane_70)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = _S9164 > far_plane_70;
        }
        if(_S9165)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9166 = scale_68.x;
        float sx_5 = (F32_exp((_S9166)));
        float _S9167 = scale_68.y;
        float sy_5 = (F32_exp((_S9167)));
        float sz_7 = scale_68.z - 0.5f * (_S9166 + _S9167);
        float x_81 = quat_69.y;
        float x2_83 = x_81 * x_81;
        float y2_83 = quat_69.z * quat_69.z;
        float z2_104 = quat_69.w * quat_69.w;
        float xy_83 = quat_69.y * quat_69.z;
        float xz_83 = quat_69.y * quat_69.w;
        float yz_83 = quat_69.z * quat_69.w;
        float wx_83 = quat_69.x * quat_69.y;
        float wy_83 = quat_69.x * quat_69.z;
        float wz_83 = quat_69.x * quat_69.w;
        Matrix<float, 3, 3>  _S9168 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_83 + z2_104), 2.0f * (xy_83 + wz_83), 2.0f * (xz_83 - wy_83), 2.0f * (xy_83 - wz_83), 1.0f - 2.0f * (x2_83 + z2_104), 2.0f * (yz_83 + wx_83), 2.0f * (xz_83 + wy_83), 2.0f * (yz_83 - wx_83), 1.0f - 2.0f * (x2_83 + y2_83)));
        float3  vert0_3 = mul_0(_S9168, make_float3 (sx_5, 0.0f, 0.0f)) + mean_68;
        float3  vert1_3 = mul_0(_S9168, make_float3 (sx_5 * (-0.5f + sz_7), sy_5, 0.0f)) + mean_68;
        float3  vert2_3 = mul_0(_S9168, make_float3 (sx_5 * (-0.5f - sz_7), - sy_5, 0.0f)) + mean_68;
        float3  vert0_c_6 = mul_0(R_70, vert0_3) + t_66;
        float3  vert1_c_6 = mul_0(R_70, vert1_3) + t_66;
        float3  vert2_c_6 = mul_0(R_70, vert2_3) + t_66;
        float _S9169 = vert0_c_6.z;
        float _S9170 = vert1_c_6.z;
        float _S9171 = vert2_c_6.z;
        if(_S9169 < near_plane_70)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = _S9169 > far_plane_70;
        }
        if(_S9165)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = _S9170 < near_plane_70;
        }
        if(_S9165)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = _S9170 > far_plane_70;
        }
        if(_S9165)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = _S9171 < near_plane_70;
        }
        if(_S9165)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = _S9171 > far_plane_70;
        }
        if(_S9165)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_4;
        for(;;)
        {
            float2  uv0_5 = float2 {vert0_c_6.x, vert0_c_6.y} / make_float2 (_S9169);
            if(_S9169 < 0.0f)
            {
                _S9165 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S9172 = camera_distortion_jac_0(uv0_5, dist_coeffs_104);
                _S9165 = !((F32_min((determinant_0(_S9172)), ((F32_min((_S9172.rows[int(0)].x), (_S9172.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S9165)
            {
                uv0_4 = uv0_5;
                break;
            }
            float u_62 = uv0_5.x;
            float v_62 = uv0_5.y;
            float r2_62 = u_62 * u_62 + v_62 * v_62;
            float2  _S9173 = uv0_5 * make_float2 (1.0f + r2_62 * ((*dist_coeffs_104)[int(0)] + r2_62 * ((*dist_coeffs_104)[int(1)] + r2_62 * ((*dist_coeffs_104)[int(2)] + r2_62 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_62 * v_62 + (*dist_coeffs_104)[int(5)] * (r2_62 + 2.0f * u_62 * u_62) + (*dist_coeffs_104)[int(6)] * r2_62, 2.0f * (*dist_coeffs_104)[int(5)] * u_62 * v_62 + (*dist_coeffs_104)[int(4)] * (r2_62 + 2.0f * v_62 * v_62) + (*dist_coeffs_104)[int(7)] * r2_62);
            float2  _S9174 = _S9173 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9173.x + (*dist_coeffs_104)[int(9)] * _S9173.y, 0.0f);
            uv0_4 = make_float2 (fx_100 * _S9174.x + cx_95, fy_100 * _S9174.y + cy_95);
            break;
        }
        float2  uv1_4;
        bool all_valid_12 = true & (!_S9165);
        for(;;)
        {
            float2  uv1_5 = float2 {vert1_c_6.x, vert1_c_6.y} / make_float2 (_S9170);
            if(_S9170 < 0.0f)
            {
                _S9165 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S9175 = camera_distortion_jac_0(uv1_5, dist_coeffs_104);
                _S9165 = !((F32_min((determinant_0(_S9175)), ((F32_min((_S9175.rows[int(0)].x), (_S9175.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S9165)
            {
                uv1_4 = uv1_5;
                break;
            }
            float u_63 = uv1_5.x;
            float v_63 = uv1_5.y;
            float r2_63 = u_63 * u_63 + v_63 * v_63;
            float2  _S9176 = uv1_5 * make_float2 (1.0f + r2_63 * ((*dist_coeffs_104)[int(0)] + r2_63 * ((*dist_coeffs_104)[int(1)] + r2_63 * ((*dist_coeffs_104)[int(2)] + r2_63 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_63 * v_63 + (*dist_coeffs_104)[int(5)] * (r2_63 + 2.0f * u_63 * u_63) + (*dist_coeffs_104)[int(6)] * r2_63, 2.0f * (*dist_coeffs_104)[int(5)] * u_63 * v_63 + (*dist_coeffs_104)[int(4)] * (r2_63 + 2.0f * v_63 * v_63) + (*dist_coeffs_104)[int(7)] * r2_63);
            float2  _S9177 = _S9176 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9176.x + (*dist_coeffs_104)[int(9)] * _S9176.y, 0.0f);
            uv1_4 = make_float2 (fx_100 * _S9177.x + cx_95, fy_100 * _S9177.y + cy_95);
            break;
        }
        float2  uv2_4;
        bool all_valid_13 = all_valid_12 & (!_S9165);
        for(;;)
        {
            float2  uv2_5 = float2 {vert2_c_6.x, vert2_c_6.y} / make_float2 (_S9171);
            if(_S9171 < 0.0f)
            {
                _S9165 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S9178 = camera_distortion_jac_0(uv2_5, dist_coeffs_104);
                _S9165 = !((F32_min((determinant_0(_S9178)), ((F32_min((_S9178.rows[int(0)].x), (_S9178.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S9165)
            {
                uv2_4 = uv2_5;
                break;
            }
            float u_64 = uv2_5.x;
            float v_64 = uv2_5.y;
            float r2_64 = u_64 * u_64 + v_64 * v_64;
            float2  _S9179 = uv2_5 * make_float2 (1.0f + r2_64 * ((*dist_coeffs_104)[int(0)] + r2_64 * ((*dist_coeffs_104)[int(1)] + r2_64 * ((*dist_coeffs_104)[int(2)] + r2_64 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_64 * v_64 + (*dist_coeffs_104)[int(5)] * (r2_64 + 2.0f * u_64 * u_64) + (*dist_coeffs_104)[int(6)] * r2_64, 2.0f * (*dist_coeffs_104)[int(5)] * u_64 * v_64 + (*dist_coeffs_104)[int(4)] * (r2_64 + 2.0f * v_64 * v_64) + (*dist_coeffs_104)[int(7)] * r2_64);
            float2  _S9180 = _S9179 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9179.x + (*dist_coeffs_104)[int(9)] * _S9179.y, 0.0f);
            uv2_4 = make_float2 (fx_100 * _S9180.x + cx_95, fy_100 * _S9180.y + cy_95);
            break;
        }
        if(!(all_valid_13 & (!_S9165)))
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_10 = uv1_4 - uv0_4;
        float2  e1_10 = uv2_4 - uv1_4;
        float offset_4 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_10.y))))) - 1.0f) * ((F32_abs((e0_10.x * e1_10.y - e0_10.y * e1_10.x))) / (length_0(e0_10) + length_0(e1_10) + length_0(uv0_4 - uv2_4)));
        float _S9181 = uv0_4.x;
        float _S9182 = uv1_4.x;
        float _S9183 = uv2_4.x;
        float xmax_21 = (F32_max(((F32_max((_S9181), (_S9182)))), (_S9183))) + offset_4;
        float xmin_21 = (F32_min(((F32_min((_S9181), (_S9182)))), (_S9183))) - offset_4;
        float _S9184 = uv0_4.y;
        float _S9185 = uv1_4.y;
        float _S9186 = uv2_4.y;
        float ymax_21 = (F32_max(((F32_max((_S9184), (_S9185)))), (_S9186))) + offset_4;
        float ymin_21 = (F32_min(((F32_min((_S9184), (_S9185)))), (_S9186))) - offset_4;
        if(xmax_21 <= 0.0f)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = xmin_21 >= float(image_width_91);
        }
        if(_S9165)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = ymax_21 <= 0.0f;
        }
        if(_S9165)
        {
            _S9165 = true;
        }
        else
        {
            _S9165 = ymin_21 >= float(image_height_91);
        }
        if(_S9165)
        {
            _S9165 = true;
        }
        else
        {
            if(_S9164 <= 0.0f)
            {
                if(xmin_21 <= 0.0f)
                {
                    _S9165 = xmax_21 >= float(image_width_91);
                }
                else
                {
                    _S9165 = false;
                }
                if(_S9165)
                {
                    _S9165 = true;
                }
                else
                {
                    if(ymin_21 <= 0.0f)
                    {
                        _S9165 = ymax_21 >= float(image_width_91);
                    }
                    else
                    {
                        _S9165 = false;
                    }
                }
            }
            else
            {
                _S9165 = false;
            }
        }
        if(_S9165)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_56 = make_int4 (int((F32_floor((xmin_21)))), int((F32_floor((ymin_21)))), int((F32_ceil((xmax_21)))), int((F32_ceil((ymax_21)))));
        *depth_44 = (F32_log((length_1(vert0_c_6 + vert1_c_6 + vert2_c_6) / 3.0f + 9.999999960041972e-13f)));
        float3  _S9187 = mean_68 - - mul_0(transpose_0(R_70), t_66);
        float _S9188 = _S9187.x;
        float _S9189 = _S9187.y;
        float _S9190 = _S9187.z;
        float norm_14 = (F32_sqrt((_S9188 * _S9188 + _S9189 * _S9189 + _S9190 * _S9190)));
        float x_82 = _S9188 / norm_14;
        float y_24 = _S9189 / norm_14;
        float z_21 = _S9190 / norm_14;
        float z2_105 = z_21 * z_21;
        float fTmp0B_21 = -1.09254848957061768f * z_21;
        float fC1_21 = x_82 * x_82 - y_24 * y_24;
        float fS1_21 = 2.0f * x_82 * y_24;
        float fTmp0C_21 = -2.28522896766662598f * z2_105 + 0.4570457935333252f;
        float fTmp1B_21 = 1.44530570507049561f * z_21;
        float3  color_7 = make_float3 (0.282094806432724f) * (*sh_coeffs_21)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_24) * (*sh_coeffs_21)[int(1)] + make_float3 (z_21) * (*sh_coeffs_21)[int(2)] - make_float3 (x_82) * (*sh_coeffs_21)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_21) * (*sh_coeffs_21)[int(4)] + make_float3 (fTmp0B_21 * y_24) * (*sh_coeffs_21)[int(5)] + make_float3 (0.94617468118667603f * z2_105 - 0.31539157032966614f) * (*sh_coeffs_21)[int(6)] + make_float3 (fTmp0B_21 * x_82) * (*sh_coeffs_21)[int(7)] + make_float3 (0.54627424478530884f * fC1_21) * (*sh_coeffs_21)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_82 * fS1_21 + y_24 * fC1_21)) * (*sh_coeffs_21)[int(9)] + make_float3 (fTmp1B_21 * fS1_21) * (*sh_coeffs_21)[int(10)] + make_float3 (fTmp0C_21 * y_24) * (*sh_coeffs_21)[int(11)] + make_float3 (z_21 * (1.86588168144226074f * z2_105 - 1.11952900886535645f)) * (*sh_coeffs_21)[int(12)] + make_float3 (fTmp0C_21 * x_82) * (*sh_coeffs_21)[int(13)] + make_float3 (fTmp1B_21 * fC1_21) * (*sh_coeffs_21)[int(14)] + make_float3 (-0.59004360437393188f * (x_82 * fC1_21 - y_24 * fS1_21)) * (*sh_coeffs_21)[int(15)]);
        float3  _S9191 = make_float3 (0.0f);
        (*rgbs_0)[int(0)] = max_0(color_7 + (*ch_coeffs_6)[int(0)] + make_float3 (0.5f), _S9191);
        float3  _S9192 = color_7 - (*ch_coeffs_6)[int(0)] * make_float3 (0.5f);
        float3  _S9193 = (*ch_coeffs_6)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_0)[int(1)] = max_0(_S9192 + _S9193 + make_float3 (0.5f), _S9191);
        (*rgbs_0)[int(2)] = max_0(_S9192 - _S9193 + make_float3 (0.5f), _S9191);
        (*verts_0)[int(0)] = vert0_3;
        (*verts_0)[int(1)] = vert1_3;
        (*verts_0)[int(2)] = vert2_3;
        float3  _S9194 = normalize_0(cross_0(vert1_c_6 - vert0_c_6, vert2_c_6 - vert0_c_6));
        *normal_4 = _S9194 * make_float3 (float(- (F32_sign((dot_0(_S9194, mean_c_77))))));
        break;
    }
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye(float3  mean_69, float4  quat_70, float3  scale_69, float2  hardness_11, FixedArray<float3 , 16>  * sh_coeffs_22, FixedArray<float3 , 2>  * ch_coeffs_7, Matrix<float, 3, 3>  R_71, float3  t_67, float fx_101, float fy_101, float cx_96, float cy_96, FixedArray<float, 10>  * dist_coeffs_105, uint image_width_92, uint image_height_92, float near_plane_71, float far_plane_71, int4  * aabb_xyxy_57, float * depth_45, FixedArray<float3 , 3>  * verts_1, FixedArray<float3 , 3>  * rgbs_1, float3  * normal_5)
{
    bool _S9195;
    bool _S9196;
    bool _S9197;
    for(;;)
    {
        float3  mean_c_78 = mul_0(R_71, mean_69) + t_67;
        float _S9198 = length_1(mean_c_78);
        bool _S9199;
        if(_S9198 < near_plane_71)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = _S9198 > far_plane_71;
        }
        if(_S9199)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9200 = scale_69.x;
        float sx_6 = (F32_exp((_S9200)));
        float _S9201 = scale_69.y;
        float sy_6 = (F32_exp((_S9201)));
        float sz_8 = scale_69.z - 0.5f * (_S9200 + _S9201);
        float x_83 = quat_70.y;
        float x2_84 = x_83 * x_83;
        float y2_84 = quat_70.z * quat_70.z;
        float z2_106 = quat_70.w * quat_70.w;
        float xy_84 = quat_70.y * quat_70.z;
        float xz_84 = quat_70.y * quat_70.w;
        float yz_84 = quat_70.z * quat_70.w;
        float wx_84 = quat_70.x * quat_70.y;
        float wy_84 = quat_70.x * quat_70.z;
        float wz_84 = quat_70.x * quat_70.w;
        Matrix<float, 3, 3>  _S9202 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_84 + z2_106), 2.0f * (xy_84 + wz_84), 2.0f * (xz_84 - wy_84), 2.0f * (xy_84 - wz_84), 1.0f - 2.0f * (x2_84 + z2_106), 2.0f * (yz_84 + wx_84), 2.0f * (xz_84 + wy_84), 2.0f * (yz_84 - wx_84), 1.0f - 2.0f * (x2_84 + y2_84)));
        float3  vert0_4 = mul_0(_S9202, make_float3 (sx_6, 0.0f, 0.0f)) + mean_69;
        float3  vert1_4 = mul_0(_S9202, make_float3 (sx_6 * (-0.5f + sz_8), sy_6, 0.0f)) + mean_69;
        float3  vert2_4 = mul_0(_S9202, make_float3 (sx_6 * (-0.5f - sz_8), - sy_6, 0.0f)) + mean_69;
        float3  vert0_c_7 = mul_0(R_71, vert0_4) + t_67;
        float3  vert1_c_7 = mul_0(R_71, vert1_4) + t_67;
        float3  vert2_c_7 = mul_0(R_71, vert2_4) + t_67;
        float _S9203 = length_1(vert0_c_7);
        float _S9204 = length_1(vert1_c_7);
        float _S9205 = length_1(vert2_c_7);
        if(_S9203 < near_plane_71)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = _S9203 > far_plane_71;
        }
        if(_S9199)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = _S9204 < near_plane_71;
        }
        if(_S9199)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = _S9204 > far_plane_71;
        }
        if(_S9199)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = _S9205 < near_plane_71;
        }
        if(_S9199)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = _S9205 > far_plane_71;
        }
        if(_S9199)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_6;
        float k_10;
        for(;;)
        {
            float2  _S9206 = float2 {vert0_c_7.x, vert0_c_7.y};
            float r_30 = length_0(_S9206);
            float _S9207 = vert0_c_7.z;
            float theta_26 = (F32_atan2((r_30), (_S9207)));
            if(theta_26 < 0.00100000004749745f)
            {
                k_10 = (1.0f - theta_26 * theta_26 / 3.0f) / _S9207;
            }
            else
            {
                k_10 = theta_26 / r_30;
            }
            float2  uv0_7 = _S9206 * make_float2 (k_10);
            Matrix<float, 2, 2>  _S9208 = camera_distortion_jac_0(uv0_7, dist_coeffs_105);
            bool _S9209 = !((F32_min((determinant_0(_S9208)), ((F32_min((_S9208.rows[int(0)].x), (_S9208.rows[int(1)].y)))))) > 0.0f);
            _S9195 = _S9209;
            if(_S9209)
            {
                uv0_6 = uv0_7;
                break;
            }
            float u_65 = uv0_7.x;
            float v_65 = uv0_7.y;
            float r2_65 = u_65 * u_65 + v_65 * v_65;
            float2  _S9210 = uv0_7 * make_float2 (1.0f + r2_65 * ((*dist_coeffs_105)[int(0)] + r2_65 * ((*dist_coeffs_105)[int(1)] + r2_65 * ((*dist_coeffs_105)[int(2)] + r2_65 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_65 * v_65 + (*dist_coeffs_105)[int(5)] * (r2_65 + 2.0f * u_65 * u_65) + (*dist_coeffs_105)[int(6)] * r2_65, 2.0f * (*dist_coeffs_105)[int(5)] * u_65 * v_65 + (*dist_coeffs_105)[int(4)] * (r2_65 + 2.0f * v_65 * v_65) + (*dist_coeffs_105)[int(7)] * r2_65);
            float2  _S9211 = _S9210 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9210.x + (*dist_coeffs_105)[int(9)] * _S9210.y, 0.0f);
            uv0_6 = make_float2 (fx_101 * _S9211.x + cx_96, fy_101 * _S9211.y + cy_96);
            break;
        }
        float2  uv1_6;
        bool all_valid_14 = true & (!_S9195);
        for(;;)
        {
            float2  _S9212 = float2 {vert1_c_7.x, vert1_c_7.y};
            float r_31 = length_0(_S9212);
            float _S9213 = vert1_c_7.z;
            float theta_27 = (F32_atan2((r_31), (_S9213)));
            if(theta_27 < 0.00100000004749745f)
            {
                k_10 = (1.0f - theta_27 * theta_27 / 3.0f) / _S9213;
            }
            else
            {
                k_10 = theta_27 / r_31;
            }
            float2  uv1_7 = _S9212 * make_float2 (k_10);
            Matrix<float, 2, 2>  _S9214 = camera_distortion_jac_0(uv1_7, dist_coeffs_105);
            bool _S9215 = !((F32_min((determinant_0(_S9214)), ((F32_min((_S9214.rows[int(0)].x), (_S9214.rows[int(1)].y)))))) > 0.0f);
            _S9196 = _S9215;
            if(_S9215)
            {
                uv1_6 = uv1_7;
                break;
            }
            float u_66 = uv1_7.x;
            float v_66 = uv1_7.y;
            float r2_66 = u_66 * u_66 + v_66 * v_66;
            float2  _S9216 = uv1_7 * make_float2 (1.0f + r2_66 * ((*dist_coeffs_105)[int(0)] + r2_66 * ((*dist_coeffs_105)[int(1)] + r2_66 * ((*dist_coeffs_105)[int(2)] + r2_66 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_66 * v_66 + (*dist_coeffs_105)[int(5)] * (r2_66 + 2.0f * u_66 * u_66) + (*dist_coeffs_105)[int(6)] * r2_66, 2.0f * (*dist_coeffs_105)[int(5)] * u_66 * v_66 + (*dist_coeffs_105)[int(4)] * (r2_66 + 2.0f * v_66 * v_66) + (*dist_coeffs_105)[int(7)] * r2_66);
            float2  _S9217 = _S9216 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9216.x + (*dist_coeffs_105)[int(9)] * _S9216.y, 0.0f);
            uv1_6 = make_float2 (fx_101 * _S9217.x + cx_96, fy_101 * _S9217.y + cy_96);
            break;
        }
        float2  uv2_6;
        bool all_valid_15 = all_valid_14 & (!_S9196);
        for(;;)
        {
            float2  _S9218 = float2 {vert2_c_7.x, vert2_c_7.y};
            float r_32 = length_0(_S9218);
            float _S9219 = vert2_c_7.z;
            float theta_28 = (F32_atan2((r_32), (_S9219)));
            if(theta_28 < 0.00100000004749745f)
            {
                k_10 = (1.0f - theta_28 * theta_28 / 3.0f) / _S9219;
            }
            else
            {
                k_10 = theta_28 / r_32;
            }
            float2  uv2_7 = _S9218 * make_float2 (k_10);
            Matrix<float, 2, 2>  _S9220 = camera_distortion_jac_0(uv2_7, dist_coeffs_105);
            bool _S9221 = !((F32_min((determinant_0(_S9220)), ((F32_min((_S9220.rows[int(0)].x), (_S9220.rows[int(1)].y)))))) > 0.0f);
            _S9197 = _S9221;
            if(_S9221)
            {
                uv2_6 = uv2_7;
                break;
            }
            float u_67 = uv2_7.x;
            float v_67 = uv2_7.y;
            float r2_67 = u_67 * u_67 + v_67 * v_67;
            float2  _S9222 = uv2_7 * make_float2 (1.0f + r2_67 * ((*dist_coeffs_105)[int(0)] + r2_67 * ((*dist_coeffs_105)[int(1)] + r2_67 * ((*dist_coeffs_105)[int(2)] + r2_67 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_67 * v_67 + (*dist_coeffs_105)[int(5)] * (r2_67 + 2.0f * u_67 * u_67) + (*dist_coeffs_105)[int(6)] * r2_67, 2.0f * (*dist_coeffs_105)[int(5)] * u_67 * v_67 + (*dist_coeffs_105)[int(4)] * (r2_67 + 2.0f * v_67 * v_67) + (*dist_coeffs_105)[int(7)] * r2_67);
            float2  _S9223 = _S9222 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9222.x + (*dist_coeffs_105)[int(9)] * _S9222.y, 0.0f);
            uv2_6 = make_float2 (fx_101 * _S9223.x + cx_96, fy_101 * _S9223.y + cy_96);
            break;
        }
        if(!(all_valid_15 & (!_S9197)))
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_11 = uv1_6 - uv0_6;
        float2  e1_11 = uv2_6 - uv1_6;
        float offset_5 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_11.y))))) - 1.0f) * ((F32_abs((e0_11.x * e1_11.y - e0_11.y * e1_11.x))) / (length_0(e0_11) + length_0(e1_11) + length_0(uv0_6 - uv2_6)));
        float _S9224 = uv0_6.x;
        float _S9225 = uv1_6.x;
        float _S9226 = uv2_6.x;
        float xmax_22 = (F32_max(((F32_max((_S9224), (_S9225)))), (_S9226))) + offset_5;
        float xmin_22 = (F32_min(((F32_min((_S9224), (_S9225)))), (_S9226))) - offset_5;
        float _S9227 = uv0_6.y;
        float _S9228 = uv1_6.y;
        float _S9229 = uv2_6.y;
        float ymax_22 = (F32_max(((F32_max((_S9227), (_S9228)))), (_S9229))) + offset_5;
        float ymin_22 = (F32_min(((F32_min((_S9227), (_S9228)))), (_S9229))) - offset_5;
        if(xmax_22 <= 0.0f)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = xmin_22 >= float(image_width_92);
        }
        if(_S9199)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = ymax_22 <= 0.0f;
        }
        if(_S9199)
        {
            _S9199 = true;
        }
        else
        {
            _S9199 = ymin_22 >= float(image_height_92);
        }
        if(_S9199)
        {
            _S9199 = true;
        }
        else
        {
            if((mean_c_78.z) <= 0.0f)
            {
                if(xmin_22 <= 0.0f)
                {
                    _S9199 = xmax_22 >= float(image_width_92);
                }
                else
                {
                    _S9199 = false;
                }
                if(_S9199)
                {
                    _S9199 = true;
                }
                else
                {
                    if(ymin_22 <= 0.0f)
                    {
                        _S9199 = ymax_22 >= float(image_width_92);
                    }
                    else
                    {
                        _S9199 = false;
                    }
                }
            }
            else
            {
                _S9199 = false;
            }
        }
        if(_S9199)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_57 = make_int4 (int((F32_floor((xmin_22)))), int((F32_floor((ymin_22)))), int((F32_ceil((xmax_22)))), int((F32_ceil((ymax_22)))));
        *depth_45 = (F32_log((length_1(vert0_c_7 + vert1_c_7 + vert2_c_7) / 3.0f + 9.999999960041972e-13f)));
        float3  _S9230 = mean_69 - - mul_0(transpose_0(R_71), t_67);
        float _S9231 = _S9230.x;
        float _S9232 = _S9230.y;
        float _S9233 = _S9230.z;
        float norm_15 = (F32_sqrt((_S9231 * _S9231 + _S9232 * _S9232 + _S9233 * _S9233)));
        float x_84 = _S9231 / norm_15;
        float y_25 = _S9232 / norm_15;
        float z_22 = _S9233 / norm_15;
        float z2_107 = z_22 * z_22;
        float fTmp0B_22 = -1.09254848957061768f * z_22;
        float fC1_22 = x_84 * x_84 - y_25 * y_25;
        float fS1_22 = 2.0f * x_84 * y_25;
        float fTmp0C_22 = -2.28522896766662598f * z2_107 + 0.4570457935333252f;
        float fTmp1B_22 = 1.44530570507049561f * z_22;
        float3  color_8 = make_float3 (0.282094806432724f) * (*sh_coeffs_22)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_25) * (*sh_coeffs_22)[int(1)] + make_float3 (z_22) * (*sh_coeffs_22)[int(2)] - make_float3 (x_84) * (*sh_coeffs_22)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_22) * (*sh_coeffs_22)[int(4)] + make_float3 (fTmp0B_22 * y_25) * (*sh_coeffs_22)[int(5)] + make_float3 (0.94617468118667603f * z2_107 - 0.31539157032966614f) * (*sh_coeffs_22)[int(6)] + make_float3 (fTmp0B_22 * x_84) * (*sh_coeffs_22)[int(7)] + make_float3 (0.54627424478530884f * fC1_22) * (*sh_coeffs_22)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_84 * fS1_22 + y_25 * fC1_22)) * (*sh_coeffs_22)[int(9)] + make_float3 (fTmp1B_22 * fS1_22) * (*sh_coeffs_22)[int(10)] + make_float3 (fTmp0C_22 * y_25) * (*sh_coeffs_22)[int(11)] + make_float3 (z_22 * (1.86588168144226074f * z2_107 - 1.11952900886535645f)) * (*sh_coeffs_22)[int(12)] + make_float3 (fTmp0C_22 * x_84) * (*sh_coeffs_22)[int(13)] + make_float3 (fTmp1B_22 * fC1_22) * (*sh_coeffs_22)[int(14)] + make_float3 (-0.59004360437393188f * (x_84 * fC1_22 - y_25 * fS1_22)) * (*sh_coeffs_22)[int(15)]);
        float3  _S9234 = make_float3 (0.0f);
        (*rgbs_1)[int(0)] = max_0(color_8 + (*ch_coeffs_7)[int(0)] + make_float3 (0.5f), _S9234);
        float3  _S9235 = color_8 - (*ch_coeffs_7)[int(0)] * make_float3 (0.5f);
        float3  _S9236 = (*ch_coeffs_7)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_1)[int(1)] = max_0(_S9235 + _S9236 + make_float3 (0.5f), _S9234);
        (*rgbs_1)[int(2)] = max_0(_S9235 - _S9236 + make_float3 (0.5f), _S9234);
        (*verts_1)[int(0)] = vert0_4;
        (*verts_1)[int(1)] = vert1_4;
        (*verts_1)[int(2)] = vert2_4;
        float3  _S9237 = normalize_0(cross_0(vert1_c_7 - vert0_c_7, vert2_c_7 - vert0_c_7));
        *normal_5 = _S9237 * make_float3 (float(- (F32_sign((dot_0(_S9237, mean_c_78))))));
        break;
    }
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_persp_differentiable(float3  mean_70, float4  quat_71, float3  scale_70, float2  hardness_12, FixedArray<float3 , 16>  * sh_coeffs_23, FixedArray<float3 , 2>  * ch_coeffs_8, Matrix<float, 3, 3>  R_72, float3  t_68, float fx_102, float fy_102, float cx_97, float cy_97, FixedArray<float, 10>  * dist_coeffs_106, uint image_width_93, uint image_height_93, float near_plane_72, float far_plane_72, int4  * aabb_xyxy_58, float * depth_46, FixedArray<float3 , 3>  * verts_2, FixedArray<float3 , 3>  * rgbs_2, float3  * normal_6)
{
    float3  mean_c_79 = mul_0(R_72, mean_70) + t_68;
    float _S9238 = scale_70.x;
    float sx_7 = (F32_exp((_S9238)));
    float _S9239 = scale_70.y;
    float sy_7 = (F32_exp((_S9239)));
    float sz_9 = scale_70.z - 0.5f * (_S9238 + _S9239);
    float x_85 = quat_71.y;
    float x2_85 = x_85 * x_85;
    float y2_85 = quat_71.z * quat_71.z;
    float z2_108 = quat_71.w * quat_71.w;
    float xy_85 = quat_71.y * quat_71.z;
    float xz_85 = quat_71.y * quat_71.w;
    float yz_85 = quat_71.z * quat_71.w;
    float wx_85 = quat_71.x * quat_71.y;
    float wy_85 = quat_71.x * quat_71.z;
    float wz_85 = quat_71.x * quat_71.w;
    Matrix<float, 3, 3>  _S9240 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_85 + z2_108), 2.0f * (xy_85 + wz_85), 2.0f * (xz_85 - wy_85), 2.0f * (xy_85 - wz_85), 1.0f - 2.0f * (x2_85 + z2_108), 2.0f * (yz_85 + wx_85), 2.0f * (xz_85 + wy_85), 2.0f * (yz_85 - wx_85), 1.0f - 2.0f * (x2_85 + y2_85)));
    float3  vert0_5 = mul_0(_S9240, make_float3 (sx_7, 0.0f, 0.0f)) + mean_70;
    float3  vert1_5 = mul_0(_S9240, make_float3 (sx_7 * (-0.5f + sz_9), sy_7, 0.0f)) + mean_70;
    float3  vert2_5 = mul_0(_S9240, make_float3 (sx_7 * (-0.5f - sz_9), - sy_7, 0.0f)) + mean_70;
    float3  vert0_c_8 = mul_0(R_72, vert0_5) + t_68;
    float3  vert1_c_8 = mul_0(R_72, vert1_5) + t_68;
    float3  vert2_c_8 = mul_0(R_72, vert2_5) + t_68;
    float2  _S9241 = float2 {vert0_c_8.x, vert0_c_8.y} / make_float2 (vert0_c_8.z);
    float u_68 = _S9241.x;
    float v_68 = _S9241.y;
    float r2_68 = u_68 * u_68 + v_68 * v_68;
    float _S9242 = 2.0f * (*dist_coeffs_106)[int(4)];
    float _S9243 = 2.0f * (*dist_coeffs_106)[int(5)];
    float2  _S9244 = _S9241 * make_float2 (1.0f + r2_68 * ((*dist_coeffs_106)[int(0)] + r2_68 * ((*dist_coeffs_106)[int(1)] + r2_68 * ((*dist_coeffs_106)[int(2)] + r2_68 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9242 * u_68 * v_68 + (*dist_coeffs_106)[int(5)] * (r2_68 + 2.0f * u_68 * u_68) + (*dist_coeffs_106)[int(6)] * r2_68, _S9243 * u_68 * v_68 + (*dist_coeffs_106)[int(4)] * (r2_68 + 2.0f * v_68 * v_68) + (*dist_coeffs_106)[int(7)] * r2_68);
    float2  _S9245 = _S9244 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9244.x + (*dist_coeffs_106)[int(9)] * _S9244.y, 0.0f);
    float _S9246 = fx_102 * _S9245.x + cx_97;
    float _S9247 = fy_102 * _S9245.y + cy_97;
    float2  uv0_8 = make_float2 (_S9246, _S9247);
    float2  _S9248 = float2 {vert1_c_8.x, vert1_c_8.y} / make_float2 (vert1_c_8.z);
    float u_69 = _S9248.x;
    float v_69 = _S9248.y;
    float r2_69 = u_69 * u_69 + v_69 * v_69;
    float2  _S9249 = _S9248 * make_float2 (1.0f + r2_69 * ((*dist_coeffs_106)[int(0)] + r2_69 * ((*dist_coeffs_106)[int(1)] + r2_69 * ((*dist_coeffs_106)[int(2)] + r2_69 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9242 * u_69 * v_69 + (*dist_coeffs_106)[int(5)] * (r2_69 + 2.0f * u_69 * u_69) + (*dist_coeffs_106)[int(6)] * r2_69, _S9243 * u_69 * v_69 + (*dist_coeffs_106)[int(4)] * (r2_69 + 2.0f * v_69 * v_69) + (*dist_coeffs_106)[int(7)] * r2_69);
    float2  _S9250 = _S9249 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9249.x + (*dist_coeffs_106)[int(9)] * _S9249.y, 0.0f);
    float _S9251 = fx_102 * _S9250.x + cx_97;
    float _S9252 = fy_102 * _S9250.y + cy_97;
    float2  uv1_8 = make_float2 (_S9251, _S9252);
    float2  _S9253 = float2 {vert2_c_8.x, vert2_c_8.y} / make_float2 (vert2_c_8.z);
    float u_70 = _S9253.x;
    float v_70 = _S9253.y;
    float r2_70 = u_70 * u_70 + v_70 * v_70;
    float2  _S9254 = _S9253 * make_float2 (1.0f + r2_70 * ((*dist_coeffs_106)[int(0)] + r2_70 * ((*dist_coeffs_106)[int(1)] + r2_70 * ((*dist_coeffs_106)[int(2)] + r2_70 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9242 * u_70 * v_70 + (*dist_coeffs_106)[int(5)] * (r2_70 + 2.0f * u_70 * u_70) + (*dist_coeffs_106)[int(6)] * r2_70, _S9243 * u_70 * v_70 + (*dist_coeffs_106)[int(4)] * (r2_70 + 2.0f * v_70 * v_70) + (*dist_coeffs_106)[int(7)] * r2_70);
    float2  _S9255 = _S9254 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9254.x + (*dist_coeffs_106)[int(9)] * _S9254.y, 0.0f);
    float _S9256 = fx_102 * _S9255.x + cx_97;
    float _S9257 = fy_102 * _S9255.y + cy_97;
    float2  uv2_8 = make_float2 (_S9256, _S9257);
    float2  e0_12 = uv1_8 - uv0_8;
    float2  e1_12 = uv2_8 - uv1_8;
    float offset_6 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_12.y))))) - 1.0f) * ((F32_abs((e0_12.x * e1_12.y - e0_12.y * e1_12.x))) / (length_0(e0_12) + length_0(e1_12) + length_0(uv0_8 - uv2_8)));
    *aabb_xyxy_58 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S9246), (_S9251)))), (_S9256))) - offset_6)))), int((F32_floor(((F32_min(((F32_min((_S9247), (_S9252)))), (_S9257))) - offset_6)))), int((F32_ceil(((F32_max(((F32_max((_S9246), (_S9251)))), (_S9256))) + offset_6)))), int((F32_ceil(((F32_max(((F32_max((_S9247), (_S9252)))), (_S9257))) + offset_6)))));
    *depth_46 = (F32_log((length_1(vert0_c_8 + vert1_c_8 + vert2_c_8) / 3.0f + 9.999999960041972e-13f)));
    float3  _S9258 = mean_70 - - mul_0(transpose_0(R_72), t_68);
    float _S9259 = _S9258.x;
    float _S9260 = _S9258.y;
    float _S9261 = _S9258.z;
    float norm_16 = (F32_sqrt((_S9259 * _S9259 + _S9260 * _S9260 + _S9261 * _S9261)));
    float x_86 = _S9259 / norm_16;
    float y_26 = _S9260 / norm_16;
    float z_23 = _S9261 / norm_16;
    float z2_109 = z_23 * z_23;
    float fTmp0B_23 = -1.09254848957061768f * z_23;
    float fC1_23 = x_86 * x_86 - y_26 * y_26;
    float fS1_23 = 2.0f * x_86 * y_26;
    float fTmp0C_23 = -2.28522896766662598f * z2_109 + 0.4570457935333252f;
    float fTmp1B_23 = 1.44530570507049561f * z_23;
    float3  color_9 = make_float3 (0.282094806432724f) * (*sh_coeffs_23)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_26) * (*sh_coeffs_23)[int(1)] + make_float3 (z_23) * (*sh_coeffs_23)[int(2)] - make_float3 (x_86) * (*sh_coeffs_23)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_23) * (*sh_coeffs_23)[int(4)] + make_float3 (fTmp0B_23 * y_26) * (*sh_coeffs_23)[int(5)] + make_float3 (0.94617468118667603f * z2_109 - 0.31539157032966614f) * (*sh_coeffs_23)[int(6)] + make_float3 (fTmp0B_23 * x_86) * (*sh_coeffs_23)[int(7)] + make_float3 (0.54627424478530884f * fC1_23) * (*sh_coeffs_23)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_86 * fS1_23 + y_26 * fC1_23)) * (*sh_coeffs_23)[int(9)] + make_float3 (fTmp1B_23 * fS1_23) * (*sh_coeffs_23)[int(10)] + make_float3 (fTmp0C_23 * y_26) * (*sh_coeffs_23)[int(11)] + make_float3 (z_23 * (1.86588168144226074f * z2_109 - 1.11952900886535645f)) * (*sh_coeffs_23)[int(12)] + make_float3 (fTmp0C_23 * x_86) * (*sh_coeffs_23)[int(13)] + make_float3 (fTmp1B_23 * fC1_23) * (*sh_coeffs_23)[int(14)] + make_float3 (-0.59004360437393188f * (x_86 * fC1_23 - y_26 * fS1_23)) * (*sh_coeffs_23)[int(15)]);
    float3  _S9262 = make_float3 (0.0f);
    (*rgbs_2)[int(0)] = max_0(color_9 + (*ch_coeffs_8)[int(0)] + make_float3 (0.5f), _S9262);
    float3  _S9263 = color_9 - (*ch_coeffs_8)[int(0)] * make_float3 (0.5f);
    float3  _S9264 = (*ch_coeffs_8)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_2)[int(1)] = max_0(_S9263 + _S9264 + make_float3 (0.5f), _S9262);
    (*rgbs_2)[int(2)] = max_0(_S9263 - _S9264 + make_float3 (0.5f), _S9262);
    (*verts_2)[int(0)] = vert0_5;
    (*verts_2)[int(1)] = vert1_5;
    (*verts_2)[int(2)] = vert2_5;
    float3  _S9265 = normalize_0(cross_0(vert1_c_8 - vert0_c_8, vert2_c_8 - vert0_c_8));
    *normal_6 = _S9265 * make_float3 (float(- (F32_sign((dot_0(_S9265, mean_c_79))))));
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_fisheye_differentiable(float3  mean_71, float4  quat_72, float3  scale_71, float2  hardness_13, FixedArray<float3 , 16>  * sh_coeffs_24, FixedArray<float3 , 2>  * ch_coeffs_9, Matrix<float, 3, 3>  R_73, float3  t_69, float fx_103, float fy_103, float cx_98, float cy_98, FixedArray<float, 10>  * dist_coeffs_107, uint image_width_94, uint image_height_94, float near_plane_73, float far_plane_73, int4  * aabb_xyxy_59, float * depth_47, FixedArray<float3 , 3>  * verts_3, FixedArray<float3 , 3>  * rgbs_3, float3  * normal_7)
{
    float3  mean_c_80 = mul_0(R_73, mean_71) + t_69;
    float _S9266 = scale_71.x;
    float sx_8 = (F32_exp((_S9266)));
    float _S9267 = scale_71.y;
    float sy_8 = (F32_exp((_S9267)));
    float sz_10 = scale_71.z - 0.5f * (_S9266 + _S9267);
    float x_87 = quat_72.y;
    float x2_86 = x_87 * x_87;
    float y2_86 = quat_72.z * quat_72.z;
    float z2_110 = quat_72.w * quat_72.w;
    float xy_86 = quat_72.y * quat_72.z;
    float xz_86 = quat_72.y * quat_72.w;
    float yz_86 = quat_72.z * quat_72.w;
    float wx_86 = quat_72.x * quat_72.y;
    float wy_86 = quat_72.x * quat_72.z;
    float wz_86 = quat_72.x * quat_72.w;
    Matrix<float, 3, 3>  _S9268 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_86 + z2_110), 2.0f * (xy_86 + wz_86), 2.0f * (xz_86 - wy_86), 2.0f * (xy_86 - wz_86), 1.0f - 2.0f * (x2_86 + z2_110), 2.0f * (yz_86 + wx_86), 2.0f * (xz_86 + wy_86), 2.0f * (yz_86 - wx_86), 1.0f - 2.0f * (x2_86 + y2_86)));
    float3  vert0_6 = mul_0(_S9268, make_float3 (sx_8, 0.0f, 0.0f)) + mean_71;
    float3  vert1_6 = mul_0(_S9268, make_float3 (sx_8 * (-0.5f + sz_10), sy_8, 0.0f)) + mean_71;
    float3  vert2_6 = mul_0(_S9268, make_float3 (sx_8 * (-0.5f - sz_10), - sy_8, 0.0f)) + mean_71;
    float3  vert0_c_9 = mul_0(R_73, vert0_6) + t_69;
    float3  vert1_c_9 = mul_0(R_73, vert1_6) + t_69;
    float3  vert2_c_9 = mul_0(R_73, vert2_6) + t_69;
    float2  _S9269 = float2 {vert0_c_9.x, vert0_c_9.y};
    float r_33 = length_0(_S9269);
    float _S9270 = vert0_c_9.z;
    float theta_29 = (F32_atan2((r_33), (_S9270)));
    float k_11;
    if(theta_29 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_29 * theta_29 / 3.0f) / _S9270;
    }
    else
    {
        k_11 = theta_29 / r_33;
    }
    float2  _S9271 = _S9269 * make_float2 (k_11);
    float u_71 = _S9271.x;
    float v_71 = _S9271.y;
    float r2_71 = u_71 * u_71 + v_71 * v_71;
    float _S9272 = 2.0f * (*dist_coeffs_107)[int(4)];
    float _S9273 = 2.0f * (*dist_coeffs_107)[int(5)];
    float2  _S9274 = _S9271 * make_float2 (1.0f + r2_71 * ((*dist_coeffs_107)[int(0)] + r2_71 * ((*dist_coeffs_107)[int(1)] + r2_71 * ((*dist_coeffs_107)[int(2)] + r2_71 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9272 * u_71 * v_71 + (*dist_coeffs_107)[int(5)] * (r2_71 + 2.0f * u_71 * u_71) + (*dist_coeffs_107)[int(6)] * r2_71, _S9273 * u_71 * v_71 + (*dist_coeffs_107)[int(4)] * (r2_71 + 2.0f * v_71 * v_71) + (*dist_coeffs_107)[int(7)] * r2_71);
    float2  _S9275 = _S9274 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9274.x + (*dist_coeffs_107)[int(9)] * _S9274.y, 0.0f);
    float _S9276 = fx_103 * _S9275.x + cx_98;
    float _S9277 = fy_103 * _S9275.y + cy_98;
    float2  uv0_9 = make_float2 (_S9276, _S9277);
    float2  _S9278 = float2 {vert1_c_9.x, vert1_c_9.y};
    float r_34 = length_0(_S9278);
    float _S9279 = vert1_c_9.z;
    float theta_30 = (F32_atan2((r_34), (_S9279)));
    if(theta_30 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_30 * theta_30 / 3.0f) / _S9279;
    }
    else
    {
        k_11 = theta_30 / r_34;
    }
    float2  _S9280 = _S9278 * make_float2 (k_11);
    float u_72 = _S9280.x;
    float v_72 = _S9280.y;
    float r2_72 = u_72 * u_72 + v_72 * v_72;
    float2  _S9281 = _S9280 * make_float2 (1.0f + r2_72 * ((*dist_coeffs_107)[int(0)] + r2_72 * ((*dist_coeffs_107)[int(1)] + r2_72 * ((*dist_coeffs_107)[int(2)] + r2_72 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9272 * u_72 * v_72 + (*dist_coeffs_107)[int(5)] * (r2_72 + 2.0f * u_72 * u_72) + (*dist_coeffs_107)[int(6)] * r2_72, _S9273 * u_72 * v_72 + (*dist_coeffs_107)[int(4)] * (r2_72 + 2.0f * v_72 * v_72) + (*dist_coeffs_107)[int(7)] * r2_72);
    float2  _S9282 = _S9281 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9281.x + (*dist_coeffs_107)[int(9)] * _S9281.y, 0.0f);
    float _S9283 = fx_103 * _S9282.x + cx_98;
    float _S9284 = fy_103 * _S9282.y + cy_98;
    float2  uv1_9 = make_float2 (_S9283, _S9284);
    float2  _S9285 = float2 {vert2_c_9.x, vert2_c_9.y};
    float r_35 = length_0(_S9285);
    float _S9286 = vert2_c_9.z;
    float theta_31 = (F32_atan2((r_35), (_S9286)));
    if(theta_31 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_31 * theta_31 / 3.0f) / _S9286;
    }
    else
    {
        k_11 = theta_31 / r_35;
    }
    float2  _S9287 = _S9285 * make_float2 (k_11);
    float u_73 = _S9287.x;
    float v_73 = _S9287.y;
    float r2_73 = u_73 * u_73 + v_73 * v_73;
    float2  _S9288 = _S9287 * make_float2 (1.0f + r2_73 * ((*dist_coeffs_107)[int(0)] + r2_73 * ((*dist_coeffs_107)[int(1)] + r2_73 * ((*dist_coeffs_107)[int(2)] + r2_73 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9272 * u_73 * v_73 + (*dist_coeffs_107)[int(5)] * (r2_73 + 2.0f * u_73 * u_73) + (*dist_coeffs_107)[int(6)] * r2_73, _S9273 * u_73 * v_73 + (*dist_coeffs_107)[int(4)] * (r2_73 + 2.0f * v_73 * v_73) + (*dist_coeffs_107)[int(7)] * r2_73);
    float2  _S9289 = _S9288 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9288.x + (*dist_coeffs_107)[int(9)] * _S9288.y, 0.0f);
    float _S9290 = fx_103 * _S9289.x + cx_98;
    float _S9291 = fy_103 * _S9289.y + cy_98;
    float2  uv2_9 = make_float2 (_S9290, _S9291);
    float2  e0_13 = uv1_9 - uv0_9;
    float2  e1_13 = uv2_9 - uv1_9;
    float offset_7 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_13.y))))) - 1.0f) * ((F32_abs((e0_13.x * e1_13.y - e0_13.y * e1_13.x))) / (length_0(e0_13) + length_0(e1_13) + length_0(uv0_9 - uv2_9)));
    *aabb_xyxy_59 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S9276), (_S9283)))), (_S9290))) - offset_7)))), int((F32_floor(((F32_min(((F32_min((_S9277), (_S9284)))), (_S9291))) - offset_7)))), int((F32_ceil(((F32_max(((F32_max((_S9276), (_S9283)))), (_S9290))) + offset_7)))), int((F32_ceil(((F32_max(((F32_max((_S9277), (_S9284)))), (_S9291))) + offset_7)))));
    *depth_47 = (F32_log((length_1(vert0_c_9 + vert1_c_9 + vert2_c_9) / 3.0f + 9.999999960041972e-13f)));
    float3  _S9292 = mean_71 - - mul_0(transpose_0(R_73), t_69);
    float _S9293 = _S9292.x;
    float _S9294 = _S9292.y;
    float _S9295 = _S9292.z;
    float norm_17 = (F32_sqrt((_S9293 * _S9293 + _S9294 * _S9294 + _S9295 * _S9295)));
    float x_88 = _S9293 / norm_17;
    float y_27 = _S9294 / norm_17;
    float z_24 = _S9295 / norm_17;
    float z2_111 = z_24 * z_24;
    float fTmp0B_24 = -1.09254848957061768f * z_24;
    float fC1_24 = x_88 * x_88 - y_27 * y_27;
    float fS1_24 = 2.0f * x_88 * y_27;
    float fTmp0C_24 = -2.28522896766662598f * z2_111 + 0.4570457935333252f;
    float fTmp1B_24 = 1.44530570507049561f * z_24;
    float3  color_10 = make_float3 (0.282094806432724f) * (*sh_coeffs_24)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_27) * (*sh_coeffs_24)[int(1)] + make_float3 (z_24) * (*sh_coeffs_24)[int(2)] - make_float3 (x_88) * (*sh_coeffs_24)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_24) * (*sh_coeffs_24)[int(4)] + make_float3 (fTmp0B_24 * y_27) * (*sh_coeffs_24)[int(5)] + make_float3 (0.94617468118667603f * z2_111 - 0.31539157032966614f) * (*sh_coeffs_24)[int(6)] + make_float3 (fTmp0B_24 * x_88) * (*sh_coeffs_24)[int(7)] + make_float3 (0.54627424478530884f * fC1_24) * (*sh_coeffs_24)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_88 * fS1_24 + y_27 * fC1_24)) * (*sh_coeffs_24)[int(9)] + make_float3 (fTmp1B_24 * fS1_24) * (*sh_coeffs_24)[int(10)] + make_float3 (fTmp0C_24 * y_27) * (*sh_coeffs_24)[int(11)] + make_float3 (z_24 * (1.86588168144226074f * z2_111 - 1.11952900886535645f)) * (*sh_coeffs_24)[int(12)] + make_float3 (fTmp0C_24 * x_88) * (*sh_coeffs_24)[int(13)] + make_float3 (fTmp1B_24 * fC1_24) * (*sh_coeffs_24)[int(14)] + make_float3 (-0.59004360437393188f * (x_88 * fC1_24 - y_27 * fS1_24)) * (*sh_coeffs_24)[int(15)]);
    float3  _S9296 = make_float3 (0.0f);
    (*rgbs_3)[int(0)] = max_0(color_10 + (*ch_coeffs_9)[int(0)] + make_float3 (0.5f), _S9296);
    float3  _S9297 = color_10 - (*ch_coeffs_9)[int(0)] * make_float3 (0.5f);
    float3  _S9298 = (*ch_coeffs_9)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_3)[int(1)] = max_0(_S9297 + _S9298 + make_float3 (0.5f), _S9296);
    (*rgbs_3)[int(2)] = max_0(_S9297 - _S9298 + make_float3 (0.5f), _S9296);
    (*verts_3)[int(0)] = vert0_6;
    (*verts_3)[int(1)] = vert1_6;
    (*verts_3)[int(2)] = vert2_6;
    float3  _S9299 = normalize_0(cross_0(vert1_c_9 - vert0_c_9, vert2_c_9 - vert0_c_9));
    *normal_7 = _S9299 * make_float3 (float(- (F32_sign((dot_0(_S9299, mean_c_80))))));
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp_vjp(float3  mean_72, float4  quat_73, float3  scale_72, float2  hardness_14, FixedArray<float3 , 16>  * sh_coeffs_25, FixedArray<float3 , 2>  * ch_coeffs_10, Matrix<float, 3, 3>  R_74, float3  t_70, float fx_104, float fy_104, float cx_99, float cy_99, FixedArray<float, 10>  * dist_coeffs_108, uint image_width_95, uint image_height_95, float v_depth_23, FixedArray<float3 , 3>  * v_verts_0, FixedArray<float3 , 3>  * v_rgbs_0, float3  v_normal_2, float3  * v_mean_23, float4  * v_quat_22, float3  * v_scale_22, float2  * v_hardness_4, FixedArray<float3 , 16>  * v_sh_coeffs_7, FixedArray<float3 , 2>  * v_ch_coeffs_2, Matrix<float, 3, 3>  * v_R_23, float3  * v_t_22)
{
    float3  mean_c_81 = s_primal_ctx_mul_0(R_74, mean_72) + t_70;
    float _S9300 = scale_72.x;
    float _S9301 = s_primal_ctx_exp_1(_S9300);
    float _S9302 = scale_72.y;
    float _S9303 = s_primal_ctx_exp_1(_S9302);
    float sz_11 = scale_72.z - 0.5f * (_S9300 + _S9302);
    float _S9304 = quat_73.y;
    float x2_87 = _S9304 * _S9304;
    float y2_87 = quat_73.z * quat_73.z;
    float z2_112 = quat_73.w * quat_73.w;
    float xy_87 = quat_73.y * quat_73.z;
    float xz_87 = quat_73.y * quat_73.w;
    float yz_87 = quat_73.z * quat_73.w;
    float wx_87 = quat_73.x * quat_73.y;
    float wy_87 = quat_73.x * quat_73.z;
    float wz_87 = quat_73.x * quat_73.w;
    Matrix<float, 3, 3>  _S9305 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_87 + z2_112), 2.0f * (xy_87 + wz_87), 2.0f * (xz_87 - wy_87), 2.0f * (xy_87 - wz_87), 1.0f - 2.0f * (x2_87 + z2_112), 2.0f * (yz_87 + wx_87), 2.0f * (xz_87 + wy_87), 2.0f * (yz_87 - wx_87), 1.0f - 2.0f * (x2_87 + y2_87)));
    float3  _S9306 = make_float3 (_S9301, 0.0f, 0.0f);
    float3  vert0_7 = s_primal_ctx_mul_0(_S9305, _S9306) + mean_72;
    float _S9307 = -0.5f + sz_11;
    float3  _S9308 = make_float3 (_S9301 * _S9307, _S9303, 0.0f);
    float3  vert1_7 = s_primal_ctx_mul_0(_S9305, _S9308) + mean_72;
    float _S9309 = -0.5f - sz_11;
    float3  _S9310 = make_float3 (_S9301 * _S9309, - _S9303, 0.0f);
    float3  vert2_7 = s_primal_ctx_mul_0(_S9305, _S9310) + mean_72;
    float3  vert0_c_10 = s_primal_ctx_mul_0(R_74, vert0_7) + t_70;
    float3  vert1_c_10 = s_primal_ctx_mul_0(R_74, vert1_7) + t_70;
    float3  vert2_c_10 = s_primal_ctx_mul_0(R_74, vert2_7) + t_70;
    float2  _S9311 = float2 {vert0_c_10.x, vert0_c_10.y};
    float _S9312 = vert0_c_10.z;
    float2  _S9313 = make_float2 (_S9312);
    float2  _S9314 = _S9311 / make_float2 (_S9312);
    float2  _S9315 = make_float2 (_S9312 * _S9312);
    float u_74 = _S9314.x;
    float v_74 = _S9314.y;
    float r2_74 = u_74 * u_74 + v_74 * v_74;
    float _S9316 = (*dist_coeffs_108)[int(2)] + r2_74 * (*dist_coeffs_108)[int(3)];
    float _S9317 = (*dist_coeffs_108)[int(1)] + r2_74 * _S9316;
    float _S9318 = (*dist_coeffs_108)[int(0)] + r2_74 * _S9317;
    float radial_7 = 1.0f + r2_74 * _S9318;
    float2  _S9319 = make_float2 (radial_7);
    float _S9320 = 2.0f * (*dist_coeffs_108)[int(4)];
    float _S9321 = _S9320 * u_74;
    float _S9322 = 2.0f * u_74;
    float _S9323 = 2.0f * (*dist_coeffs_108)[int(5)];
    float _S9324 = _S9323 * u_74;
    float _S9325 = 2.0f * v_74;
    float2  _S9326 = _S9314 * make_float2 (radial_7) + make_float2 (_S9321 * v_74 + (*dist_coeffs_108)[int(5)] * (r2_74 + _S9322 * u_74) + (*dist_coeffs_108)[int(6)] * r2_74, _S9324 * v_74 + (*dist_coeffs_108)[int(4)] * (r2_74 + _S9325 * v_74) + (*dist_coeffs_108)[int(7)] * r2_74);
    float2  _S9327 = _S9326 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9326.x + (*dist_coeffs_108)[int(9)] * _S9326.y, 0.0f);
    float _S9328 = fx_104 * _S9327.x + cx_99;
    float _S9329 = fy_104 * _S9327.y + cy_99;
    float2  uv0_10 = make_float2 (_S9328, _S9329);
    float2  _S9330 = float2 {vert1_c_10.x, vert1_c_10.y};
    float _S9331 = vert1_c_10.z;
    float2  _S9332 = make_float2 (_S9331);
    float2  _S9333 = _S9330 / make_float2 (_S9331);
    float2  _S9334 = make_float2 (_S9331 * _S9331);
    float u_75 = _S9333.x;
    float v_75 = _S9333.y;
    float r2_75 = u_75 * u_75 + v_75 * v_75;
    float _S9335 = (*dist_coeffs_108)[int(2)] + r2_75 * (*dist_coeffs_108)[int(3)];
    float _S9336 = (*dist_coeffs_108)[int(1)] + r2_75 * _S9335;
    float _S9337 = (*dist_coeffs_108)[int(0)] + r2_75 * _S9336;
    float radial_8 = 1.0f + r2_75 * _S9337;
    float2  _S9338 = make_float2 (radial_8);
    float _S9339 = _S9320 * u_75;
    float _S9340 = 2.0f * u_75;
    float _S9341 = _S9323 * u_75;
    float _S9342 = 2.0f * v_75;
    float2  _S9343 = _S9333 * make_float2 (radial_8) + make_float2 (_S9339 * v_75 + (*dist_coeffs_108)[int(5)] * (r2_75 + _S9340 * u_75) + (*dist_coeffs_108)[int(6)] * r2_75, _S9341 * v_75 + (*dist_coeffs_108)[int(4)] * (r2_75 + _S9342 * v_75) + (*dist_coeffs_108)[int(7)] * r2_75);
    float2  _S9344 = _S9343 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9343.x + (*dist_coeffs_108)[int(9)] * _S9343.y, 0.0f);
    float _S9345 = fx_104 * _S9344.x + cx_99;
    float _S9346 = fy_104 * _S9344.y + cy_99;
    float2  uv1_10 = make_float2 (_S9345, _S9346);
    float2  _S9347 = float2 {vert2_c_10.x, vert2_c_10.y};
    float _S9348 = vert2_c_10.z;
    float2  _S9349 = make_float2 (_S9348);
    float2  _S9350 = _S9347 / make_float2 (_S9348);
    float2  _S9351 = make_float2 (_S9348 * _S9348);
    float u_76 = _S9350.x;
    float v_76 = _S9350.y;
    float r2_76 = u_76 * u_76 + v_76 * v_76;
    float _S9352 = (*dist_coeffs_108)[int(2)] + r2_76 * (*dist_coeffs_108)[int(3)];
    float _S9353 = (*dist_coeffs_108)[int(1)] + r2_76 * _S9352;
    float _S9354 = (*dist_coeffs_108)[int(0)] + r2_76 * _S9353;
    float radial_9 = 1.0f + r2_76 * _S9354;
    float2  _S9355 = make_float2 (radial_9);
    float _S9356 = _S9320 * u_76;
    float _S9357 = 2.0f * u_76;
    float _S9358 = _S9323 * u_76;
    float _S9359 = 2.0f * v_76;
    float2  _S9360 = _S9350 * make_float2 (radial_9) + make_float2 (_S9356 * v_76 + (*dist_coeffs_108)[int(5)] * (r2_76 + _S9357 * u_76) + (*dist_coeffs_108)[int(6)] * r2_76, _S9358 * v_76 + (*dist_coeffs_108)[int(4)] * (r2_76 + _S9359 * v_76) + (*dist_coeffs_108)[int(7)] * r2_76);
    float2  _S9361 = _S9360 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9360.x + (*dist_coeffs_108)[int(9)] * _S9360.y, 0.0f);
    float _S9362 = fx_104 * _S9361.x + cx_99;
    float _S9363 = fy_104 * _S9361.y + cy_99;
    float2  uv2_10 = make_float2 (_S9362, _S9363);
    float2  e0_14 = uv1_10 - uv0_10;
    float2  e1_14 = uv2_10 - uv1_10;
    float2  e2_6 = uv0_10 - uv2_10;
    float _S9364 = e0_14.x;
    float _S9365 = e1_14.y;
    float _S9366 = e0_14.y;
    float _S9367 = e1_14.x;
    float _S9368 = _S9364 * _S9365 - _S9366 * _S9367;
    float _S9369 = 1.0f - hardness_14.y;
    float _S9370 = -1.0f / _S9369;
    float _S9371 = _S9369 * _S9369;
    float _S9372 = s_primal_ctx_max_0(_S9328, _S9345);
    float _S9373 = s_primal_ctx_min_0(_S9328, _S9345);
    float _S9374 = s_primal_ctx_max_0(_S9329, _S9346);
    float _S9375 = s_primal_ctx_min_0(_S9329, _S9346);
    float3  _S9376 = vert0_c_10 + vert1_c_10 + vert2_c_10;
    float _S9377 = length_1(_S9376) / 3.0f + 9.999999960041972e-13f;
    Matrix<float, 3, 3>  _S9378 = transpose_0(R_74);
    float3  _S9379 = mean_72 - - s_primal_ctx_mul_0(_S9378, t_70);
    float _S9380 = _S9379.x;
    float _S9381 = _S9379.y;
    float _S9382 = _S9379.z;
    float _S9383 = _S9380 * _S9380 + _S9381 * _S9381 + _S9382 * _S9382;
    float _S9384 = s_primal_ctx_sqrt_0(_S9383);
    float x_89 = _S9380 / _S9384;
    float3  _S9385 = make_float3 (x_89);
    float _S9386 = _S9384 * _S9384;
    float y_28 = _S9381 / _S9384;
    float z_25 = _S9382 / _S9384;
    float3  _S9387 = make_float3 (z_25);
    float _S9388 = - y_28;
    float3  _S9389 = make_float3 (_S9388);
    float z2_113 = z_25 * z_25;
    float fTmp0B_25 = -1.09254848957061768f * z_25;
    float fC1_25 = x_89 * x_89 - y_28 * y_28;
    float _S9390 = 2.0f * x_89;
    float fS1_25 = _S9390 * y_28;
    float pSH6_7 = 0.94617468118667603f * z2_113 - 0.31539157032966614f;
    float3  _S9391 = make_float3 (pSH6_7);
    float pSH7_7 = fTmp0B_25 * x_89;
    float3  _S9392 = make_float3 (pSH7_7);
    float pSH5_7 = fTmp0B_25 * y_28;
    float3  _S9393 = make_float3 (pSH5_7);
    float pSH8_7 = 0.54627424478530884f * fC1_25;
    float3  _S9394 = make_float3 (pSH8_7);
    float pSH4_7 = 0.54627424478530884f * fS1_25;
    float3  _S9395 = make_float3 (pSH4_7);
    float fTmp0C_25 = -2.28522896766662598f * z2_113 + 0.4570457935333252f;
    float fTmp1B_25 = 1.44530570507049561f * z_25;
    float _S9396 = 1.86588168144226074f * z2_113 - 1.11952900886535645f;
    float pSH12_7 = z_25 * _S9396;
    float3  _S9397 = make_float3 (pSH12_7);
    float pSH13_7 = fTmp0C_25 * x_89;
    float3  _S9398 = make_float3 (pSH13_7);
    float pSH11_7 = fTmp0C_25 * y_28;
    float3  _S9399 = make_float3 (pSH11_7);
    float pSH14_7 = fTmp1B_25 * fC1_25;
    float3  _S9400 = make_float3 (pSH14_7);
    float pSH10_7 = fTmp1B_25 * fS1_25;
    float3  _S9401 = make_float3 (pSH10_7);
    float pSH15_7 = -0.59004360437393188f * (x_89 * fC1_25 - y_28 * fS1_25);
    float3  _S9402 = make_float3 (pSH15_7);
    float pSH9_7 = -0.59004360437393188f * (x_89 * fS1_25 + y_28 * fC1_25);
    float3  _S9403 = make_float3 (pSH9_7);
    float3  color_11 = make_float3 (0.282094806432724f) * (*sh_coeffs_25)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S9388) * (*sh_coeffs_25)[int(1)] + make_float3 (z_25) * (*sh_coeffs_25)[int(2)] - make_float3 (x_89) * (*sh_coeffs_25)[int(3)]) + (make_float3 (pSH4_7) * (*sh_coeffs_25)[int(4)] + make_float3 (pSH5_7) * (*sh_coeffs_25)[int(5)] + make_float3 (pSH6_7) * (*sh_coeffs_25)[int(6)] + make_float3 (pSH7_7) * (*sh_coeffs_25)[int(7)] + make_float3 (pSH8_7) * (*sh_coeffs_25)[int(8)]) + (make_float3 (pSH9_7) * (*sh_coeffs_25)[int(9)] + make_float3 (pSH10_7) * (*sh_coeffs_25)[int(10)] + make_float3 (pSH11_7) * (*sh_coeffs_25)[int(11)] + make_float3 (pSH12_7) * (*sh_coeffs_25)[int(12)] + make_float3 (pSH13_7) * (*sh_coeffs_25)[int(13)] + make_float3 (pSH14_7) * (*sh_coeffs_25)[int(14)] + make_float3 (pSH15_7) * (*sh_coeffs_25)[int(15)]);
    float3  _S9404 = color_11 + (*ch_coeffs_10)[int(0)] + make_float3 (0.5f);
    float3  _S9405 = make_float3 (0.0f);
    float3  _S9406 = color_11 - (*ch_coeffs_10)[int(0)] * make_float3 (0.5f);
    float _S9407 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S9408 = make_float3 (_S9407);
    float3  _S9409 = (*ch_coeffs_10)[int(1)] * make_float3 (_S9407);
    float3  _S9410 = _S9406 + _S9409 + make_float3 (0.5f);
    float3  _S9411 = _S9406 - _S9409 + make_float3 (0.5f);
    float3  _S9412 = vert1_c_10 - vert0_c_10;
    float3  _S9413 = vert2_c_10 - vert0_c_10;
    float3  _S9414 = s_primal_ctx_cross_0(_S9412, _S9413);
    float3  _S9415 = normalize_0(_S9414);
    float3  _S9416 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S9415, mean_c_81)))))) * v_normal_2;
    float3  _S9417 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9418;
    (&_S9418)->primal_0 = _S9415;
    (&_S9418)->differential_0 = _S9417;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9419;
    (&_S9419)->primal_0 = mean_c_81;
    (&_S9419)->differential_0 = _S9417;
    s_bwd_prop_dot_0(&_S9418, &_S9419, 0.0f);
    float3  _S9420 = _S9416 + _S9418.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9421;
    (&_S9421)->primal_0 = _S9414;
    (&_S9421)->differential_0 = _S9417;
    s_bwd_normalize_impl_0(&_S9421, _S9420);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9422;
    (&_S9422)->primal_0 = _S9412;
    (&_S9422)->differential_0 = _S9417;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9423;
    (&_S9423)->primal_0 = _S9413;
    (&_S9423)->differential_0 = _S9417;
    s_bwd_prop_cross_0(&_S9422, &_S9423, _S9421.differential_0);
    float3  _S9424 = - _S9423.differential_0;
    float3  _S9425 = - _S9422.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9426;
    (&_S9426)->primal_0 = _S9411;
    (&_S9426)->differential_0 = _S9417;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9427;
    (&_S9427)->primal_0 = _S9405;
    (&_S9427)->differential_0 = _S9417;
    s_bwd_prop_max_0(&_S9426, &_S9427, (*v_rgbs_0)[int(2)]);
    float3  _S9428 = - _S9426.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9429;
    (&_S9429)->primal_0 = _S9410;
    (&_S9429)->differential_0 = _S9417;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9430;
    (&_S9430)->primal_0 = _S9405;
    (&_S9430)->differential_0 = _S9417;
    s_bwd_prop_max_0(&_S9429, &_S9430, (*v_rgbs_0)[int(1)]);
    float3  _S9431 = _S9408 * (_S9428 + _S9429.differential_0);
    float3  _S9432 = _S9426.differential_0 + _S9429.differential_0;
    float3  _S9433 = make_float3 (0.5f) * - _S9432;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9434;
    (&_S9434)->primal_0 = _S9404;
    (&_S9434)->differential_0 = _S9417;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9435;
    (&_S9435)->primal_0 = _S9405;
    (&_S9435)->differential_0 = _S9417;
    s_bwd_prop_max_0(&_S9434, &_S9435, (*v_rgbs_0)[int(0)]);
    float3  _S9436 = _S9433 + _S9434.differential_0;
    float3  _S9437 = _S9432 + _S9434.differential_0;
    float3  _S9438 = _S9402 * _S9437;
    float3  _S9439 = (*sh_coeffs_25)[int(15)] * _S9437;
    float3  _S9440 = _S9400 * _S9437;
    float3  _S9441 = (*sh_coeffs_25)[int(14)] * _S9437;
    float3  _S9442 = _S9398 * _S9437;
    float3  _S9443 = (*sh_coeffs_25)[int(13)] * _S9437;
    float3  _S9444 = _S9397 * _S9437;
    float3  _S9445 = (*sh_coeffs_25)[int(12)] * _S9437;
    float3  _S9446 = _S9399 * _S9437;
    float3  _S9447 = (*sh_coeffs_25)[int(11)] * _S9437;
    float3  _S9448 = _S9401 * _S9437;
    float3  _S9449 = (*sh_coeffs_25)[int(10)] * _S9437;
    float3  _S9450 = _S9403 * _S9437;
    float3  _S9451 = (*sh_coeffs_25)[int(9)] * _S9437;
    float s_diff_fS2_T_7 = -0.59004360437393188f * (_S9451.x + _S9451.y + _S9451.z);
    float s_diff_fC2_T_7 = -0.59004360437393188f * (_S9439.x + _S9439.y + _S9439.z);
    float _S9452 = _S9449.x + _S9449.y + _S9449.z;
    float _S9453 = _S9441.x + _S9441.y + _S9441.z;
    float _S9454 = _S9447.x + _S9447.y + _S9447.z;
    float _S9455 = _S9443.x + _S9443.y + _S9443.z;
    float _S9456 = _S9445.x + _S9445.y + _S9445.z;
    float _S9457 = - s_diff_fC2_T_7;
    float3  _S9458 = _S9394 * _S9437;
    float3  _S9459 = (*sh_coeffs_25)[int(8)] * _S9437;
    float3  _S9460 = _S9392 * _S9437;
    float3  _S9461 = (*sh_coeffs_25)[int(7)] * _S9437;
    float3  _S9462 = _S9391 * _S9437;
    float3  _S9463 = (*sh_coeffs_25)[int(6)] * _S9437;
    float3  _S9464 = _S9393 * _S9437;
    float3  _S9465 = (*sh_coeffs_25)[int(5)] * _S9437;
    float3  _S9466 = _S9395 * _S9437;
    float3  _S9467 = (*sh_coeffs_25)[int(4)] * _S9437;
    float _S9468 = _S9465.x + _S9465.y + _S9465.z;
    float _S9469 = _S9461.x + _S9461.y + _S9461.z;
    float _S9470 = fTmp1B_25 * _S9452 + x_89 * s_diff_fS2_T_7 + y_28 * _S9457 + 0.54627424478530884f * (_S9467.x + _S9467.y + _S9467.z);
    float _S9471 = fTmp1B_25 * _S9453 + y_28 * s_diff_fS2_T_7 + x_89 * s_diff_fC2_T_7 + 0.54627424478530884f * (_S9459.x + _S9459.y + _S9459.z);
    float _S9472 = y_28 * - _S9471;
    float _S9473 = x_89 * _S9471;
    float _S9474 = z_25 * (1.86588168144226074f * (z_25 * _S9456) + -2.28522896766662598f * (y_28 * _S9454 + x_89 * _S9455) + 0.94617468118667603f * (_S9463.x + _S9463.y + _S9463.z));
    float3  _S9475 = make_float3 (0.48860251903533936f) * _S9437;
    float3  _S9476 = - _S9475;
    float3  _S9477 = _S9385 * _S9476;
    float3  _S9478 = (*sh_coeffs_25)[int(3)] * _S9476;
    float3  _S9479 = _S9387 * _S9475;
    float3  _S9480 = (*sh_coeffs_25)[int(2)] * _S9475;
    float3  _S9481 = _S9389 * _S9475;
    float3  _S9482 = (*sh_coeffs_25)[int(1)] * _S9475;
    float _S9483 = (_S9396 * _S9456 + 1.44530570507049561f * (fS1_25 * _S9452 + fC1_25 * _S9453) + -1.09254848957061768f * (y_28 * _S9468 + x_89 * _S9469) + _S9474 + _S9474 + _S9480.x + _S9480.y + _S9480.z) / _S9386;
    float _S9484 = _S9384 * _S9483;
    float _S9485 = (fTmp0C_25 * _S9454 + fC1_25 * s_diff_fS2_T_7 + fS1_25 * _S9457 + fTmp0B_25 * _S9468 + _S9390 * _S9470 + _S9472 + _S9472 + - (_S9482.x + _S9482.y + _S9482.z)) / _S9386;
    float _S9486 = _S9384 * _S9485;
    float _S9487 = (fTmp0C_25 * _S9455 + fS1_25 * s_diff_fS2_T_7 + fC1_25 * s_diff_fC2_T_7 + fTmp0B_25 * _S9469 + 2.0f * (y_28 * _S9470) + _S9473 + _S9473 + _S9478.x + _S9478.y + _S9478.z) / _S9386;
    float _S9488 = _S9384 * _S9487;
    float _S9489 = _S9382 * - _S9483 + _S9381 * - _S9485 + _S9380 * - _S9487;
    DiffPair_float_0 _S9490;
    (&_S9490)->primal_0 = _S9383;
    (&_S9490)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9490, _S9489);
    float _S9491 = _S9382 * _S9490.differential_0;
    float _S9492 = _S9381 * _S9490.differential_0;
    float _S9493 = _S9380 * _S9490.differential_0;
    float3  _S9494 = make_float3 (0.282094806432724f) * _S9437;
    float3  _S9495 = make_float3 (_S9488 + _S9493 + _S9493, _S9486 + _S9492 + _S9492, _S9484 + _S9491 + _S9491);
    float3  _S9496 = - - _S9495;
    Matrix<float, 3, 3>  _S9497 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9498;
    (&_S9498)->primal_0 = _S9378;
    (&_S9498)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9499;
    (&_S9499)->primal_0 = t_70;
    (&_S9499)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9498, &_S9499, _S9496);
    Matrix<float, 3, 3>  _S9500 = transpose_0(_S9498.differential_0);
    DiffPair_float_0 _S9501;
    (&_S9501)->primal_0 = _S9377;
    (&_S9501)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S9501, v_depth_23);
    float _S9502 = 0.3333333432674408f * _S9501.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9503;
    (&_S9503)->primal_0 = _S9376;
    (&_S9503)->differential_0 = _S9417;
    s_bwd_length_impl_1(&_S9503, _S9502);
    DiffPair_float_0 _S9504;
    (&_S9504)->primal_0 = _S9375;
    (&_S9504)->differential_0 = 0.0f;
    DiffPair_float_0 _S9505;
    (&_S9505)->primal_0 = _S9363;
    (&_S9505)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9504, &_S9505, 0.0f);
    DiffPair_float_0 _S9506;
    (&_S9506)->primal_0 = _S9329;
    (&_S9506)->differential_0 = 0.0f;
    DiffPair_float_0 _S9507;
    (&_S9507)->primal_0 = _S9346;
    (&_S9507)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9506, &_S9507, _S9504.differential_0);
    DiffPair_float_0 _S9508;
    (&_S9508)->primal_0 = _S9374;
    (&_S9508)->differential_0 = 0.0f;
    DiffPair_float_0 _S9509;
    (&_S9509)->primal_0 = _S9363;
    (&_S9509)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9508, &_S9509, 0.0f);
    DiffPair_float_0 _S9510;
    (&_S9510)->primal_0 = _S9329;
    (&_S9510)->differential_0 = 0.0f;
    DiffPair_float_0 _S9511;
    (&_S9511)->primal_0 = _S9346;
    (&_S9511)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9510, &_S9511, _S9508.differential_0);
    DiffPair_float_0 _S9512;
    (&_S9512)->primal_0 = _S9373;
    (&_S9512)->differential_0 = 0.0f;
    DiffPair_float_0 _S9513;
    (&_S9513)->primal_0 = _S9362;
    (&_S9513)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9512, &_S9513, 0.0f);
    DiffPair_float_0 _S9514;
    (&_S9514)->primal_0 = _S9328;
    (&_S9514)->differential_0 = 0.0f;
    DiffPair_float_0 _S9515;
    (&_S9515)->primal_0 = _S9345;
    (&_S9515)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9514, &_S9515, _S9512.differential_0);
    DiffPair_float_0 _S9516;
    (&_S9516)->primal_0 = _S9372;
    (&_S9516)->differential_0 = 0.0f;
    DiffPair_float_0 _S9517;
    (&_S9517)->primal_0 = _S9362;
    (&_S9517)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9516, &_S9517, 0.0f);
    DiffPair_float_0 _S9518;
    (&_S9518)->primal_0 = _S9328;
    (&_S9518)->differential_0 = 0.0f;
    DiffPair_float_0 _S9519;
    (&_S9519)->primal_0 = _S9345;
    (&_S9519)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9518, &_S9519, _S9516.differential_0);
    DiffPair_float_0 _S9520;
    (&_S9520)->primal_0 = _S9370;
    (&_S9520)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S9520, 0.0f);
    float _S9521 = - (-1.0f * - (_S9520.differential_0 / _S9371));
    float2  _S9522 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9523;
    (&_S9523)->primal_0 = e2_6;
    (&_S9523)->differential_0 = _S9522;
    s_bwd_length_impl_0(&_S9523, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9524;
    (&_S9524)->primal_0 = e1_14;
    (&_S9524)->differential_0 = _S9522;
    s_bwd_length_impl_0(&_S9524, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9525;
    (&_S9525)->primal_0 = e0_14;
    (&_S9525)->differential_0 = _S9522;
    s_bwd_length_impl_0(&_S9525, -0.0f);
    DiffPair_float_0 _S9526;
    (&_S9526)->primal_0 = _S9368;
    (&_S9526)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S9526, 0.0f);
    float _S9527 = - _S9526.differential_0;
    float2  _S9528 = _S9524.differential_0 + make_float2 (_S9366 * _S9527, _S9364 * _S9526.differential_0);
    float2  _S9529 = _S9525.differential_0 + make_float2 (_S9365 * _S9526.differential_0, _S9367 * _S9527);
    float2  _S9530 = - _S9523.differential_0 + _S9528;
    float _S9531 = fx_104 * (_S9513.differential_0 + _S9517.differential_0 + _S9530.x);
    float2  _S9532 = make_float2 (_S9531, fy_104 * (_S9505.differential_0 + _S9509.differential_0 + _S9530.y)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9531, (*dist_coeffs_108)[int(9)] * _S9531);
    float2  _S9533 = _S9350 * _S9532;
    float _S9534 = (*dist_coeffs_108)[int(4)] * _S9532.y;
    float _S9535 = (*dist_coeffs_108)[int(5)] * _S9532.x;
    float _S9536 = _S9533.x + _S9533.y;
    float _S9537 = r2_76 * _S9536;
    float _S9538 = r2_76 * _S9537;
    float _S9539 = (*dist_coeffs_108)[int(7)] * _S9532.y + _S9534 + (*dist_coeffs_108)[int(6)] * _S9532.x + _S9535 + _S9354 * _S9536 + _S9353 * _S9537 + _S9352 * _S9538 + (*dist_coeffs_108)[int(3)] * (r2_76 * _S9538);
    float _S9540 = v_76 * _S9539;
    float _S9541 = u_76 * _S9539;
    float2  _S9542 = (_S9355 * _S9532 + make_float2 (_S9323 * (v_76 * _S9532.y) + _S9357 * _S9535 + 2.0f * (u_76 * _S9535) + _S9320 * (v_76 * _S9532.x) + _S9541 + _S9541, _S9359 * _S9534 + 2.0f * (v_76 * _S9534) + _S9358 * _S9532.y + _S9356 * _S9532.x + _S9540 + _S9540)) / _S9351;
    float2  _S9543 = _S9347 * - _S9542;
    float2  _S9544 = _S9349 * _S9542;
    float2  _S9545 = - _S9528 + _S9529;
    float _S9546 = fx_104 * (_S9515.differential_0 + _S9519.differential_0 + _S9545.x);
    float2  _S9547 = make_float2 (_S9546, fy_104 * (_S9507.differential_0 + _S9511.differential_0 + _S9545.y)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9546, (*dist_coeffs_108)[int(9)] * _S9546);
    float2  _S9548 = _S9333 * _S9547;
    float _S9549 = (*dist_coeffs_108)[int(4)] * _S9547.y;
    float _S9550 = (*dist_coeffs_108)[int(5)] * _S9547.x;
    float _S9551 = _S9548.x + _S9548.y;
    float _S9552 = r2_75 * _S9551;
    float _S9553 = r2_75 * _S9552;
    float _S9554 = (*dist_coeffs_108)[int(7)] * _S9547.y + _S9549 + (*dist_coeffs_108)[int(6)] * _S9547.x + _S9550 + _S9337 * _S9551 + _S9336 * _S9552 + _S9335 * _S9553 + (*dist_coeffs_108)[int(3)] * (r2_75 * _S9553);
    float _S9555 = v_75 * _S9554;
    float _S9556 = u_75 * _S9554;
    float2  _S9557 = (_S9338 * _S9547 + make_float2 (_S9323 * (v_75 * _S9547.y) + _S9340 * _S9550 + 2.0f * (u_75 * _S9550) + _S9320 * (v_75 * _S9547.x) + _S9556 + _S9556, _S9342 * _S9549 + 2.0f * (v_75 * _S9549) + _S9341 * _S9547.y + _S9339 * _S9547.x + _S9555 + _S9555)) / _S9334;
    float2  _S9558 = _S9330 * - _S9557;
    float2  _S9559 = _S9332 * _S9557;
    float _S9560 = _S9558.x + _S9558.y;
    float2  _S9561 = _S9523.differential_0 + - _S9529;
    float _S9562 = fx_104 * (_S9514.differential_0 + _S9518.differential_0 + _S9561.x);
    float2  _S9563 = make_float2 (_S9562, fy_104 * (_S9506.differential_0 + _S9510.differential_0 + _S9561.y)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9562, (*dist_coeffs_108)[int(9)] * _S9562);
    float2  _S9564 = _S9314 * _S9563;
    float _S9565 = (*dist_coeffs_108)[int(4)] * _S9563.y;
    float _S9566 = (*dist_coeffs_108)[int(5)] * _S9563.x;
    float _S9567 = _S9564.x + _S9564.y;
    float _S9568 = r2_74 * _S9567;
    float _S9569 = r2_74 * _S9568;
    float _S9570 = (*dist_coeffs_108)[int(7)] * _S9563.y + _S9565 + (*dist_coeffs_108)[int(6)] * _S9563.x + _S9566 + _S9318 * _S9567 + _S9317 * _S9568 + _S9316 * _S9569 + (*dist_coeffs_108)[int(3)] * (r2_74 * _S9569);
    float _S9571 = v_74 * _S9570;
    float _S9572 = u_74 * _S9570;
    float2  _S9573 = (_S9319 * _S9563 + make_float2 (_S9323 * (v_74 * _S9563.y) + _S9322 * _S9566 + 2.0f * (u_74 * _S9566) + _S9320 * (v_74 * _S9563.x) + _S9572 + _S9572, _S9325 * _S9565 + 2.0f * (v_74 * _S9565) + _S9324 * _S9563.y + _S9321 * _S9563.x + _S9571 + _S9571)) / _S9315;
    float2  _S9574 = _S9311 * - _S9573;
    float2  _S9575 = _S9313 * _S9573;
    float _S9576 = _S9574.x + _S9574.y;
    float3  _S9577 = _S9423.differential_0 + _S9503.differential_0 + make_float3 (_S9544.x, _S9544.y, _S9543.x + _S9543.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9578;
    (&_S9578)->primal_0 = R_74;
    (&_S9578)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9579;
    (&_S9579)->primal_0 = vert2_7;
    (&_S9579)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9578, &_S9579, _S9577);
    float3  _S9580 = _S9422.differential_0 + _S9503.differential_0 + make_float3 (_S9559.x, _S9559.y, _S9560);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9581;
    (&_S9581)->primal_0 = R_74;
    (&_S9581)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9582;
    (&_S9582)->primal_0 = vert1_7;
    (&_S9582)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9581, &_S9582, _S9580);
    float3  _S9583 = _S9424 + _S9425 + _S9503.differential_0 + make_float3 (_S9575.x, _S9575.y, _S9576);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9584;
    (&_S9584)->primal_0 = R_74;
    (&_S9584)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9585;
    (&_S9585)->primal_0 = vert0_7;
    (&_S9585)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9584, &_S9585, _S9583);
    float3  _S9586 = (*v_verts_0)[int(2)] + _S9579.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9587;
    (&_S9587)->primal_0 = _S9305;
    (&_S9587)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9588;
    (&_S9588)->primal_0 = _S9310;
    (&_S9588)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9587, &_S9588, _S9586);
    float _S9589 = - _S9588.differential_0.y;
    float _S9590 = _S9309 * _S9588.differential_0.x;
    float _S9591 = - (_S9301 * _S9588.differential_0.x);
    float3  _S9592 = (*v_verts_0)[int(1)] + _S9582.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9593;
    (&_S9593)->primal_0 = _S9305;
    (&_S9593)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9594;
    (&_S9594)->primal_0 = _S9308;
    (&_S9594)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9593, &_S9594, _S9592);
    float _S9595 = _S9301 * _S9594.differential_0.x;
    float _S9596 = _S9307 * _S9594.differential_0.x;
    float3  _S9597 = (*v_verts_0)[int(0)] + _S9585.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9598;
    (&_S9598)->primal_0 = _S9305;
    (&_S9598)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9599;
    (&_S9599)->primal_0 = _S9306;
    (&_S9599)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9598, &_S9599, _S9597);
    Matrix<float, 3, 3>  _S9600 = transpose_0(_S9587.differential_0 + _S9593.differential_0 + _S9598.differential_0);
    float _S9601 = 2.0f * - _S9600.rows[int(2)].z;
    float _S9602 = 2.0f * _S9600.rows[int(2)].y;
    float _S9603 = 2.0f * _S9600.rows[int(2)].x;
    float _S9604 = 2.0f * _S9600.rows[int(1)].z;
    float _S9605 = 2.0f * - _S9600.rows[int(1)].y;
    float _S9606 = 2.0f * _S9600.rows[int(1)].x;
    float _S9607 = 2.0f * _S9600.rows[int(0)].z;
    float _S9608 = 2.0f * _S9600.rows[int(0)].y;
    float _S9609 = 2.0f * - _S9600.rows[int(0)].x;
    float _S9610 = - _S9606 + _S9608;
    float _S9611 = _S9603 + - _S9607;
    float _S9612 = - _S9602 + _S9604;
    float _S9613 = _S9602 + _S9604;
    float _S9614 = _S9603 + _S9607;
    float _S9615 = _S9606 + _S9608;
    float _S9616 = quat_73.w * (_S9605 + _S9609);
    float _S9617 = quat_73.z * (_S9601 + _S9609);
    float _S9618 = quat_73.y * (_S9601 + _S9605);
    float _S9619 = quat_73.x * _S9610 + quat_73.z * _S9613 + quat_73.y * _S9614 + _S9616 + _S9616;
    float _S9620 = quat_73.x * _S9611 + quat_73.w * _S9613 + quat_73.y * _S9615 + _S9617 + _S9617;
    float _S9621 = quat_73.x * _S9612 + quat_73.w * _S9614 + quat_73.z * _S9615 + _S9618 + _S9618;
    float _S9622 = quat_73.w * _S9610 + quat_73.z * _S9611 + quat_73.y * _S9612;
    float _S9623 = _S9591 + _S9595;
    float _S9624 = 0.5f * - _S9623;
    float _S9625 = _S9589 + _S9594.differential_0.y;
    DiffPair_float_0 _S9626;
    (&_S9626)->primal_0 = _S9302;
    (&_S9626)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9626, _S9625);
    float _S9627 = _S9624 + _S9626.differential_0;
    float _S9628 = _S9590 + _S9596 + _S9599.differential_0.x;
    DiffPair_float_0 _S9629;
    (&_S9629)->primal_0 = _S9300;
    (&_S9629)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9629, _S9628);
    float _S9630 = _S9624 + _S9629.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9631;
    (&_S9631)->primal_0 = R_74;
    (&_S9631)->differential_0 = _S9497;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9632;
    (&_S9632)->primal_0 = mean_72;
    (&_S9632)->differential_0 = _S9417;
    s_bwd_prop_mul_1(&_S9631, &_S9632, _S9419.differential_0);
    float3  _S9633 = _S9499.differential_0 + _S9577 + _S9580 + _S9583 + _S9419.differential_0;
    Matrix<float, 3, 3>  _S9634 = _S9500 + _S9578.differential_0 + _S9581.differential_0 + _S9584.differential_0 + _S9631.differential_0;
    FixedArray<float3 , 2>  _S9635;
    _S9635[int(0)] = _S9417;
    _S9635[int(1)] = _S9417;
    _S9635[int(1)] = _S9431;
    _S9635[int(0)] = _S9436;
    FixedArray<float3 , 16>  _S9636;
    _S9636[int(0)] = _S9417;
    _S9636[int(1)] = _S9417;
    _S9636[int(2)] = _S9417;
    _S9636[int(3)] = _S9417;
    _S9636[int(4)] = _S9417;
    _S9636[int(5)] = _S9417;
    _S9636[int(6)] = _S9417;
    _S9636[int(7)] = _S9417;
    _S9636[int(8)] = _S9417;
    _S9636[int(9)] = _S9417;
    _S9636[int(10)] = _S9417;
    _S9636[int(11)] = _S9417;
    _S9636[int(12)] = _S9417;
    _S9636[int(13)] = _S9417;
    _S9636[int(14)] = _S9417;
    _S9636[int(15)] = _S9417;
    _S9636[int(15)] = _S9438;
    _S9636[int(14)] = _S9440;
    _S9636[int(13)] = _S9442;
    _S9636[int(12)] = _S9444;
    _S9636[int(11)] = _S9446;
    _S9636[int(10)] = _S9448;
    _S9636[int(9)] = _S9450;
    _S9636[int(8)] = _S9458;
    _S9636[int(7)] = _S9460;
    _S9636[int(6)] = _S9462;
    _S9636[int(5)] = _S9464;
    _S9636[int(4)] = _S9466;
    _S9636[int(3)] = _S9477;
    _S9636[int(2)] = _S9479;
    _S9636[int(1)] = _S9481;
    _S9636[int(0)] = _S9494;
    float2  _S9637 = make_float2 (0.0f, _S9521);
    float3  _S9638 = make_float3 (_S9630, _S9627, _S9623);
    float4  _S9639 = make_float4 (0.0f);
    *&((&_S9639)->w) = _S9619;
    *&((&_S9639)->z) = _S9620;
    *&((&_S9639)->y) = _S9621;
    *&((&_S9639)->x) = _S9622;
    *v_mean_23 = _S9495 + _S9586 + _S9592 + _S9597 + _S9632.differential_0;
    *v_quat_22 = _S9639;
    *v_scale_22 = _S9638;
    *v_hardness_4 = _S9637;
    *v_sh_coeffs_7 = _S9636;
    *v_ch_coeffs_2 = _S9635;
    *v_R_23 = _S9634;
    *v_t_22 = _S9633;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye_vjp(float3  mean_73, float4  quat_74, float3  scale_73, float2  hardness_15, FixedArray<float3 , 16>  * sh_coeffs_26, FixedArray<float3 , 2>  * ch_coeffs_11, Matrix<float, 3, 3>  R_75, float3  t_71, float fx_105, float fy_105, float cx_100, float cy_100, FixedArray<float, 10>  * dist_coeffs_109, uint image_width_96, uint image_height_96, float v_depth_24, FixedArray<float3 , 3>  * v_verts_1, FixedArray<float3 , 3>  * v_rgbs_1, float3  v_normal_3, float3  * v_mean_24, float4  * v_quat_23, float3  * v_scale_23, float2  * v_hardness_5, FixedArray<float3 , 16>  * v_sh_coeffs_8, FixedArray<float3 , 2>  * v_ch_coeffs_3, Matrix<float, 3, 3>  * v_R_24, float3  * v_t_23)
{
    float3  mean_c_82 = s_primal_ctx_mul_0(R_75, mean_73) + t_71;
    float _S9640 = scale_73.x;
    float _S9641 = s_primal_ctx_exp_1(_S9640);
    float _S9642 = scale_73.y;
    float _S9643 = s_primal_ctx_exp_1(_S9642);
    float sz_12 = scale_73.z - 0.5f * (_S9640 + _S9642);
    float _S9644 = quat_74.y;
    float x2_88 = _S9644 * _S9644;
    float y2_88 = quat_74.z * quat_74.z;
    float z2_114 = quat_74.w * quat_74.w;
    float xy_88 = quat_74.y * quat_74.z;
    float xz_88 = quat_74.y * quat_74.w;
    float yz_88 = quat_74.z * quat_74.w;
    float wx_88 = quat_74.x * quat_74.y;
    float wy_88 = quat_74.x * quat_74.z;
    float wz_88 = quat_74.x * quat_74.w;
    Matrix<float, 3, 3>  _S9645 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_88 + z2_114), 2.0f * (xy_88 + wz_88), 2.0f * (xz_88 - wy_88), 2.0f * (xy_88 - wz_88), 1.0f - 2.0f * (x2_88 + z2_114), 2.0f * (yz_88 + wx_88), 2.0f * (xz_88 + wy_88), 2.0f * (yz_88 - wx_88), 1.0f - 2.0f * (x2_88 + y2_88)));
    float3  _S9646 = make_float3 (_S9641, 0.0f, 0.0f);
    float3  vert0_8 = s_primal_ctx_mul_0(_S9645, _S9646) + mean_73;
    float _S9647 = -0.5f + sz_12;
    float3  _S9648 = make_float3 (_S9641 * _S9647, _S9643, 0.0f);
    float3  vert1_8 = s_primal_ctx_mul_0(_S9645, _S9648) + mean_73;
    float _S9649 = -0.5f - sz_12;
    float3  _S9650 = make_float3 (_S9641 * _S9649, - _S9643, 0.0f);
    float3  vert2_8 = s_primal_ctx_mul_0(_S9645, _S9650) + mean_73;
    float3  vert0_c_11 = s_primal_ctx_mul_0(R_75, vert0_8) + t_71;
    float3  vert1_c_11 = s_primal_ctx_mul_0(R_75, vert1_8) + t_71;
    float3  vert2_c_11 = s_primal_ctx_mul_0(R_75, vert2_8) + t_71;
    float2  _S9651 = float2 {vert0_c_11.x, vert0_c_11.y};
    float _S9652 = length_0(_S9651);
    float _S9653 = vert0_c_11.z;
    float _S9654 = s_primal_ctx_atan2_0(_S9652, _S9653);
    bool _S9655 = _S9654 < 0.00100000004749745f;
    float k_12;
    float _S9656;
    float _S9657;
    float _S9658;
    if(_S9655)
    {
        float _S9659 = 1.0f - _S9654 * _S9654 / 3.0f;
        float _S9660 = _S9653 * _S9653;
        k_12 = _S9659 / _S9653;
        _S9656 = 0.0f;
        _S9657 = _S9660;
        _S9658 = _S9659;
    }
    else
    {
        float _S9661 = _S9652 * _S9652;
        k_12 = _S9654 / _S9652;
        _S9656 = _S9661;
        _S9657 = 0.0f;
        _S9658 = 0.0f;
    }
    float2  _S9662 = make_float2 (k_12);
    float2  _S9663 = _S9651 * make_float2 (k_12);
    float u_77 = _S9663.x;
    float v_77 = _S9663.y;
    float r2_77 = u_77 * u_77 + v_77 * v_77;
    float _S9664 = (*dist_coeffs_109)[int(2)] + r2_77 * (*dist_coeffs_109)[int(3)];
    float _S9665 = (*dist_coeffs_109)[int(1)] + r2_77 * _S9664;
    float _S9666 = (*dist_coeffs_109)[int(0)] + r2_77 * _S9665;
    float radial_10 = 1.0f + r2_77 * _S9666;
    float2  _S9667 = make_float2 (radial_10);
    float _S9668 = 2.0f * (*dist_coeffs_109)[int(4)];
    float _S9669 = _S9668 * u_77;
    float _S9670 = 2.0f * u_77;
    float _S9671 = 2.0f * (*dist_coeffs_109)[int(5)];
    float _S9672 = _S9671 * u_77;
    float _S9673 = 2.0f * v_77;
    float2  _S9674 = _S9663 * make_float2 (radial_10) + make_float2 (_S9669 * v_77 + (*dist_coeffs_109)[int(5)] * (r2_77 + _S9670 * u_77) + (*dist_coeffs_109)[int(6)] * r2_77, _S9672 * v_77 + (*dist_coeffs_109)[int(4)] * (r2_77 + _S9673 * v_77) + (*dist_coeffs_109)[int(7)] * r2_77);
    float2  _S9675 = _S9674 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9674.x + (*dist_coeffs_109)[int(9)] * _S9674.y, 0.0f);
    float _S9676 = fx_105 * _S9675.x + cx_100;
    float _S9677 = fy_105 * _S9675.y + cy_100;
    float2  uv0_11 = make_float2 (_S9676, _S9677);
    float2  _S9678 = float2 {vert1_c_11.x, vert1_c_11.y};
    float _S9679 = length_0(_S9678);
    float _S9680 = vert1_c_11.z;
    float _S9681 = s_primal_ctx_atan2_0(_S9679, _S9680);
    bool _S9682 = _S9681 < 0.00100000004749745f;
    float _S9683;
    float _S9684;
    float _S9685;
    if(_S9682)
    {
        float _S9686 = 1.0f - _S9681 * _S9681 / 3.0f;
        float _S9687 = _S9680 * _S9680;
        k_12 = _S9686 / _S9680;
        _S9683 = 0.0f;
        _S9684 = _S9687;
        _S9685 = _S9686;
    }
    else
    {
        float _S9688 = _S9679 * _S9679;
        k_12 = _S9681 / _S9679;
        _S9683 = _S9688;
        _S9684 = 0.0f;
        _S9685 = 0.0f;
    }
    float2  _S9689 = make_float2 (k_12);
    float2  _S9690 = _S9678 * make_float2 (k_12);
    float u_78 = _S9690.x;
    float v_78 = _S9690.y;
    float r2_78 = u_78 * u_78 + v_78 * v_78;
    float _S9691 = (*dist_coeffs_109)[int(2)] + r2_78 * (*dist_coeffs_109)[int(3)];
    float _S9692 = (*dist_coeffs_109)[int(1)] + r2_78 * _S9691;
    float _S9693 = (*dist_coeffs_109)[int(0)] + r2_78 * _S9692;
    float radial_11 = 1.0f + r2_78 * _S9693;
    float2  _S9694 = make_float2 (radial_11);
    float _S9695 = _S9668 * u_78;
    float _S9696 = 2.0f * u_78;
    float _S9697 = _S9671 * u_78;
    float _S9698 = 2.0f * v_78;
    float2  _S9699 = _S9690 * make_float2 (radial_11) + make_float2 (_S9695 * v_78 + (*dist_coeffs_109)[int(5)] * (r2_78 + _S9696 * u_78) + (*dist_coeffs_109)[int(6)] * r2_78, _S9697 * v_78 + (*dist_coeffs_109)[int(4)] * (r2_78 + _S9698 * v_78) + (*dist_coeffs_109)[int(7)] * r2_78);
    float2  _S9700 = _S9699 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9699.x + (*dist_coeffs_109)[int(9)] * _S9699.y, 0.0f);
    float _S9701 = fx_105 * _S9700.x + cx_100;
    float _S9702 = fy_105 * _S9700.y + cy_100;
    float2  uv1_11 = make_float2 (_S9701, _S9702);
    float2  _S9703 = float2 {vert2_c_11.x, vert2_c_11.y};
    float _S9704 = length_0(_S9703);
    float _S9705 = vert2_c_11.z;
    float _S9706 = s_primal_ctx_atan2_0(_S9704, _S9705);
    bool _S9707 = _S9706 < 0.00100000004749745f;
    float _S9708;
    float _S9709;
    float _S9710;
    if(_S9707)
    {
        float _S9711 = 1.0f - _S9706 * _S9706 / 3.0f;
        float _S9712 = _S9705 * _S9705;
        k_12 = _S9711 / _S9705;
        _S9708 = 0.0f;
        _S9709 = _S9712;
        _S9710 = _S9711;
    }
    else
    {
        float _S9713 = _S9704 * _S9704;
        k_12 = _S9706 / _S9704;
        _S9708 = _S9713;
        _S9709 = 0.0f;
        _S9710 = 0.0f;
    }
    float2  _S9714 = make_float2 (k_12);
    float2  _S9715 = _S9703 * make_float2 (k_12);
    float u_79 = _S9715.x;
    float v_79 = _S9715.y;
    float r2_79 = u_79 * u_79 + v_79 * v_79;
    float _S9716 = (*dist_coeffs_109)[int(2)] + r2_79 * (*dist_coeffs_109)[int(3)];
    float _S9717 = (*dist_coeffs_109)[int(1)] + r2_79 * _S9716;
    float _S9718 = (*dist_coeffs_109)[int(0)] + r2_79 * _S9717;
    float radial_12 = 1.0f + r2_79 * _S9718;
    float2  _S9719 = make_float2 (radial_12);
    float _S9720 = _S9668 * u_79;
    float _S9721 = 2.0f * u_79;
    float _S9722 = _S9671 * u_79;
    float _S9723 = 2.0f * v_79;
    float2  _S9724 = _S9715 * make_float2 (radial_12) + make_float2 (_S9720 * v_79 + (*dist_coeffs_109)[int(5)] * (r2_79 + _S9721 * u_79) + (*dist_coeffs_109)[int(6)] * r2_79, _S9722 * v_79 + (*dist_coeffs_109)[int(4)] * (r2_79 + _S9723 * v_79) + (*dist_coeffs_109)[int(7)] * r2_79);
    float2  _S9725 = _S9724 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9724.x + (*dist_coeffs_109)[int(9)] * _S9724.y, 0.0f);
    float _S9726 = fx_105 * _S9725.x + cx_100;
    float _S9727 = fy_105 * _S9725.y + cy_100;
    float2  uv2_11 = make_float2 (_S9726, _S9727);
    float2  e0_15 = uv1_11 - uv0_11;
    float2  e1_15 = uv2_11 - uv1_11;
    float2  e2_7 = uv0_11 - uv2_11;
    float _S9728 = e0_15.x;
    float _S9729 = e1_15.y;
    float _S9730 = e0_15.y;
    float _S9731 = e1_15.x;
    float _S9732 = _S9728 * _S9729 - _S9730 * _S9731;
    float _S9733 = 1.0f - hardness_15.y;
    float _S9734 = -1.0f / _S9733;
    float _S9735 = _S9733 * _S9733;
    float _S9736 = s_primal_ctx_max_0(_S9676, _S9701);
    float _S9737 = s_primal_ctx_min_0(_S9676, _S9701);
    float _S9738 = s_primal_ctx_max_0(_S9677, _S9702);
    float _S9739 = s_primal_ctx_min_0(_S9677, _S9702);
    float3  _S9740 = vert0_c_11 + vert1_c_11 + vert2_c_11;
    float _S9741 = length_1(_S9740) / 3.0f + 9.999999960041972e-13f;
    Matrix<float, 3, 3>  _S9742 = transpose_0(R_75);
    float3  _S9743 = mean_73 - - s_primal_ctx_mul_0(_S9742, t_71);
    float _S9744 = _S9743.x;
    float _S9745 = _S9743.y;
    float _S9746 = _S9743.z;
    float _S9747 = _S9744 * _S9744 + _S9745 * _S9745 + _S9746 * _S9746;
    float _S9748 = s_primal_ctx_sqrt_0(_S9747);
    float x_90 = _S9744 / _S9748;
    float3  _S9749 = make_float3 (x_90);
    float _S9750 = _S9748 * _S9748;
    float y_29 = _S9745 / _S9748;
    float z_26 = _S9746 / _S9748;
    float3  _S9751 = make_float3 (z_26);
    float _S9752 = - y_29;
    float3  _S9753 = make_float3 (_S9752);
    float z2_115 = z_26 * z_26;
    float fTmp0B_26 = -1.09254848957061768f * z_26;
    float fC1_26 = x_90 * x_90 - y_29 * y_29;
    float _S9754 = 2.0f * x_90;
    float fS1_26 = _S9754 * y_29;
    float pSH6_8 = 0.94617468118667603f * z2_115 - 0.31539157032966614f;
    float3  _S9755 = make_float3 (pSH6_8);
    float pSH7_8 = fTmp0B_26 * x_90;
    float3  _S9756 = make_float3 (pSH7_8);
    float pSH5_8 = fTmp0B_26 * y_29;
    float3  _S9757 = make_float3 (pSH5_8);
    float pSH8_8 = 0.54627424478530884f * fC1_26;
    float3  _S9758 = make_float3 (pSH8_8);
    float pSH4_8 = 0.54627424478530884f * fS1_26;
    float3  _S9759 = make_float3 (pSH4_8);
    float fTmp0C_26 = -2.28522896766662598f * z2_115 + 0.4570457935333252f;
    float fTmp1B_26 = 1.44530570507049561f * z_26;
    float _S9760 = 1.86588168144226074f * z2_115 - 1.11952900886535645f;
    float pSH12_8 = z_26 * _S9760;
    float3  _S9761 = make_float3 (pSH12_8);
    float pSH13_8 = fTmp0C_26 * x_90;
    float3  _S9762 = make_float3 (pSH13_8);
    float pSH11_8 = fTmp0C_26 * y_29;
    float3  _S9763 = make_float3 (pSH11_8);
    float pSH14_8 = fTmp1B_26 * fC1_26;
    float3  _S9764 = make_float3 (pSH14_8);
    float pSH10_8 = fTmp1B_26 * fS1_26;
    float3  _S9765 = make_float3 (pSH10_8);
    float pSH15_8 = -0.59004360437393188f * (x_90 * fC1_26 - y_29 * fS1_26);
    float3  _S9766 = make_float3 (pSH15_8);
    float pSH9_8 = -0.59004360437393188f * (x_90 * fS1_26 + y_29 * fC1_26);
    float3  _S9767 = make_float3 (pSH9_8);
    float3  color_12 = make_float3 (0.282094806432724f) * (*sh_coeffs_26)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S9752) * (*sh_coeffs_26)[int(1)] + make_float3 (z_26) * (*sh_coeffs_26)[int(2)] - make_float3 (x_90) * (*sh_coeffs_26)[int(3)]) + (make_float3 (pSH4_8) * (*sh_coeffs_26)[int(4)] + make_float3 (pSH5_8) * (*sh_coeffs_26)[int(5)] + make_float3 (pSH6_8) * (*sh_coeffs_26)[int(6)] + make_float3 (pSH7_8) * (*sh_coeffs_26)[int(7)] + make_float3 (pSH8_8) * (*sh_coeffs_26)[int(8)]) + (make_float3 (pSH9_8) * (*sh_coeffs_26)[int(9)] + make_float3 (pSH10_8) * (*sh_coeffs_26)[int(10)] + make_float3 (pSH11_8) * (*sh_coeffs_26)[int(11)] + make_float3 (pSH12_8) * (*sh_coeffs_26)[int(12)] + make_float3 (pSH13_8) * (*sh_coeffs_26)[int(13)] + make_float3 (pSH14_8) * (*sh_coeffs_26)[int(14)] + make_float3 (pSH15_8) * (*sh_coeffs_26)[int(15)]);
    float3  _S9768 = color_12 + (*ch_coeffs_11)[int(0)] + make_float3 (0.5f);
    float3  _S9769 = make_float3 (0.0f);
    float3  _S9770 = color_12 - (*ch_coeffs_11)[int(0)] * make_float3 (0.5f);
    float _S9771 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S9772 = make_float3 (_S9771);
    float3  _S9773 = (*ch_coeffs_11)[int(1)] * make_float3 (_S9771);
    float3  _S9774 = _S9770 + _S9773 + make_float3 (0.5f);
    float3  _S9775 = _S9770 - _S9773 + make_float3 (0.5f);
    float3  _S9776 = vert1_c_11 - vert0_c_11;
    float3  _S9777 = vert2_c_11 - vert0_c_11;
    float3  _S9778 = s_primal_ctx_cross_0(_S9776, _S9777);
    float3  _S9779 = normalize_0(_S9778);
    float3  _S9780 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S9779, mean_c_82)))))) * v_normal_3;
    float3  _S9781 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9782;
    (&_S9782)->primal_0 = _S9779;
    (&_S9782)->differential_0 = _S9781;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9783;
    (&_S9783)->primal_0 = mean_c_82;
    (&_S9783)->differential_0 = _S9781;
    s_bwd_prop_dot_0(&_S9782, &_S9783, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9784 = _S9783;
    float3  _S9785 = _S9780 + _S9782.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9786;
    (&_S9786)->primal_0 = _S9778;
    (&_S9786)->differential_0 = _S9781;
    s_bwd_normalize_impl_0(&_S9786, _S9785);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9787;
    (&_S9787)->primal_0 = _S9776;
    (&_S9787)->differential_0 = _S9781;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9788;
    (&_S9788)->primal_0 = _S9777;
    (&_S9788)->differential_0 = _S9781;
    s_bwd_prop_cross_0(&_S9787, &_S9788, _S9786.differential_0);
    float3  _S9789 = - _S9788.differential_0;
    float3  _S9790 = - _S9787.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9791;
    (&_S9791)->primal_0 = _S9775;
    (&_S9791)->differential_0 = _S9781;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9792;
    (&_S9792)->primal_0 = _S9769;
    (&_S9792)->differential_0 = _S9781;
    s_bwd_prop_max_0(&_S9791, &_S9792, (*v_rgbs_1)[int(2)]);
    float3  _S9793 = - _S9791.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9794;
    (&_S9794)->primal_0 = _S9774;
    (&_S9794)->differential_0 = _S9781;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9795;
    (&_S9795)->primal_0 = _S9769;
    (&_S9795)->differential_0 = _S9781;
    s_bwd_prop_max_0(&_S9794, &_S9795, (*v_rgbs_1)[int(1)]);
    float3  _S9796 = _S9772 * (_S9793 + _S9794.differential_0);
    float3  _S9797 = _S9791.differential_0 + _S9794.differential_0;
    float3  _S9798 = make_float3 (0.5f) * - _S9797;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9799;
    (&_S9799)->primal_0 = _S9768;
    (&_S9799)->differential_0 = _S9781;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9800;
    (&_S9800)->primal_0 = _S9769;
    (&_S9800)->differential_0 = _S9781;
    s_bwd_prop_max_0(&_S9799, &_S9800, (*v_rgbs_1)[int(0)]);
    float3  _S9801 = _S9798 + _S9799.differential_0;
    float3  _S9802 = _S9797 + _S9799.differential_0;
    float3  _S9803 = _S9766 * _S9802;
    float3  _S9804 = (*sh_coeffs_26)[int(15)] * _S9802;
    float3  _S9805 = _S9764 * _S9802;
    float3  _S9806 = (*sh_coeffs_26)[int(14)] * _S9802;
    float3  _S9807 = _S9762 * _S9802;
    float3  _S9808 = (*sh_coeffs_26)[int(13)] * _S9802;
    float3  _S9809 = _S9761 * _S9802;
    float3  _S9810 = (*sh_coeffs_26)[int(12)] * _S9802;
    float3  _S9811 = _S9763 * _S9802;
    float3  _S9812 = (*sh_coeffs_26)[int(11)] * _S9802;
    float3  _S9813 = _S9765 * _S9802;
    float3  _S9814 = (*sh_coeffs_26)[int(10)] * _S9802;
    float3  _S9815 = _S9767 * _S9802;
    float3  _S9816 = (*sh_coeffs_26)[int(9)] * _S9802;
    float s_diff_fS2_T_8 = -0.59004360437393188f * (_S9816.x + _S9816.y + _S9816.z);
    float s_diff_fC2_T_8 = -0.59004360437393188f * (_S9804.x + _S9804.y + _S9804.z);
    float _S9817 = _S9814.x + _S9814.y + _S9814.z;
    float _S9818 = _S9806.x + _S9806.y + _S9806.z;
    float _S9819 = _S9812.x + _S9812.y + _S9812.z;
    float _S9820 = _S9808.x + _S9808.y + _S9808.z;
    float _S9821 = _S9810.x + _S9810.y + _S9810.z;
    float _S9822 = - s_diff_fC2_T_8;
    float3  _S9823 = _S9758 * _S9802;
    float3  _S9824 = (*sh_coeffs_26)[int(8)] * _S9802;
    float3  _S9825 = _S9756 * _S9802;
    float3  _S9826 = (*sh_coeffs_26)[int(7)] * _S9802;
    float3  _S9827 = _S9755 * _S9802;
    float3  _S9828 = (*sh_coeffs_26)[int(6)] * _S9802;
    float3  _S9829 = _S9757 * _S9802;
    float3  _S9830 = (*sh_coeffs_26)[int(5)] * _S9802;
    float3  _S9831 = _S9759 * _S9802;
    float3  _S9832 = (*sh_coeffs_26)[int(4)] * _S9802;
    float _S9833 = _S9830.x + _S9830.y + _S9830.z;
    float _S9834 = _S9826.x + _S9826.y + _S9826.z;
    float _S9835 = fTmp1B_26 * _S9817 + x_90 * s_diff_fS2_T_8 + y_29 * _S9822 + 0.54627424478530884f * (_S9832.x + _S9832.y + _S9832.z);
    float _S9836 = fTmp1B_26 * _S9818 + y_29 * s_diff_fS2_T_8 + x_90 * s_diff_fC2_T_8 + 0.54627424478530884f * (_S9824.x + _S9824.y + _S9824.z);
    float _S9837 = y_29 * - _S9836;
    float _S9838 = x_90 * _S9836;
    float _S9839 = z_26 * (1.86588168144226074f * (z_26 * _S9821) + -2.28522896766662598f * (y_29 * _S9819 + x_90 * _S9820) + 0.94617468118667603f * (_S9828.x + _S9828.y + _S9828.z));
    float3  _S9840 = make_float3 (0.48860251903533936f) * _S9802;
    float3  _S9841 = - _S9840;
    float3  _S9842 = _S9749 * _S9841;
    float3  _S9843 = (*sh_coeffs_26)[int(3)] * _S9841;
    float3  _S9844 = _S9751 * _S9840;
    float3  _S9845 = (*sh_coeffs_26)[int(2)] * _S9840;
    float3  _S9846 = _S9753 * _S9840;
    float3  _S9847 = (*sh_coeffs_26)[int(1)] * _S9840;
    float _S9848 = (_S9760 * _S9821 + 1.44530570507049561f * (fS1_26 * _S9817 + fC1_26 * _S9818) + -1.09254848957061768f * (y_29 * _S9833 + x_90 * _S9834) + _S9839 + _S9839 + _S9845.x + _S9845.y + _S9845.z) / _S9750;
    float _S9849 = _S9748 * _S9848;
    float _S9850 = (fTmp0C_26 * _S9819 + fC1_26 * s_diff_fS2_T_8 + fS1_26 * _S9822 + fTmp0B_26 * _S9833 + _S9754 * _S9835 + _S9837 + _S9837 + - (_S9847.x + _S9847.y + _S9847.z)) / _S9750;
    float _S9851 = _S9748 * _S9850;
    float _S9852 = (fTmp0C_26 * _S9820 + fS1_26 * s_diff_fS2_T_8 + fC1_26 * s_diff_fC2_T_8 + fTmp0B_26 * _S9834 + 2.0f * (y_29 * _S9835) + _S9838 + _S9838 + _S9843.x + _S9843.y + _S9843.z) / _S9750;
    float _S9853 = _S9748 * _S9852;
    float _S9854 = _S9746 * - _S9848 + _S9745 * - _S9850 + _S9744 * - _S9852;
    DiffPair_float_0 _S9855;
    (&_S9855)->primal_0 = _S9747;
    (&_S9855)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9855, _S9854);
    float _S9856 = _S9746 * _S9855.differential_0;
    float _S9857 = _S9745 * _S9855.differential_0;
    float _S9858 = _S9744 * _S9855.differential_0;
    float3  _S9859 = make_float3 (0.282094806432724f) * _S9802;
    float3  _S9860 = make_float3 (_S9853 + _S9858 + _S9858, _S9851 + _S9857 + _S9857, _S9849 + _S9856 + _S9856);
    float3  _S9861 = - - _S9860;
    Matrix<float, 3, 3>  _S9862 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9863;
    (&_S9863)->primal_0 = _S9742;
    (&_S9863)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9864;
    (&_S9864)->primal_0 = t_71;
    (&_S9864)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S9863, &_S9864, _S9861);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9865 = _S9864;
    Matrix<float, 3, 3>  _S9866 = transpose_0(_S9863.differential_0);
    DiffPair_float_0 _S9867;
    (&_S9867)->primal_0 = _S9741;
    (&_S9867)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S9867, v_depth_24);
    float _S9868 = 0.3333333432674408f * _S9867.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9869;
    (&_S9869)->primal_0 = _S9740;
    (&_S9869)->differential_0 = _S9781;
    s_bwd_length_impl_1(&_S9869, _S9868);
    DiffPair_float_0 _S9870;
    (&_S9870)->primal_0 = _S9739;
    (&_S9870)->differential_0 = 0.0f;
    DiffPair_float_0 _S9871;
    (&_S9871)->primal_0 = _S9727;
    (&_S9871)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9870, &_S9871, 0.0f);
    DiffPair_float_0 _S9872;
    (&_S9872)->primal_0 = _S9677;
    (&_S9872)->differential_0 = 0.0f;
    DiffPair_float_0 _S9873;
    (&_S9873)->primal_0 = _S9702;
    (&_S9873)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9872, &_S9873, _S9870.differential_0);
    DiffPair_float_0 _S9874;
    (&_S9874)->primal_0 = _S9738;
    (&_S9874)->differential_0 = 0.0f;
    DiffPair_float_0 _S9875;
    (&_S9875)->primal_0 = _S9727;
    (&_S9875)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9874, &_S9875, 0.0f);
    DiffPair_float_0 _S9876;
    (&_S9876)->primal_0 = _S9677;
    (&_S9876)->differential_0 = 0.0f;
    DiffPair_float_0 _S9877;
    (&_S9877)->primal_0 = _S9702;
    (&_S9877)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9876, &_S9877, _S9874.differential_0);
    DiffPair_float_0 _S9878;
    (&_S9878)->primal_0 = _S9737;
    (&_S9878)->differential_0 = 0.0f;
    DiffPair_float_0 _S9879;
    (&_S9879)->primal_0 = _S9726;
    (&_S9879)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9878, &_S9879, 0.0f);
    DiffPair_float_0 _S9880;
    (&_S9880)->primal_0 = _S9676;
    (&_S9880)->differential_0 = 0.0f;
    DiffPair_float_0 _S9881;
    (&_S9881)->primal_0 = _S9701;
    (&_S9881)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9880, &_S9881, _S9878.differential_0);
    DiffPair_float_0 _S9882;
    (&_S9882)->primal_0 = _S9736;
    (&_S9882)->differential_0 = 0.0f;
    DiffPair_float_0 _S9883;
    (&_S9883)->primal_0 = _S9726;
    (&_S9883)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9882, &_S9883, 0.0f);
    DiffPair_float_0 _S9884;
    (&_S9884)->primal_0 = _S9676;
    (&_S9884)->differential_0 = 0.0f;
    DiffPair_float_0 _S9885;
    (&_S9885)->primal_0 = _S9701;
    (&_S9885)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9884, &_S9885, _S9882.differential_0);
    DiffPair_float_0 _S9886;
    (&_S9886)->primal_0 = _S9734;
    (&_S9886)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S9886, 0.0f);
    float _S9887 = - (-1.0f * - (_S9886.differential_0 / _S9735));
    float2  _S9888 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9889;
    (&_S9889)->primal_0 = e2_7;
    (&_S9889)->differential_0 = _S9888;
    s_bwd_length_impl_0(&_S9889, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9890;
    (&_S9890)->primal_0 = e1_15;
    (&_S9890)->differential_0 = _S9888;
    s_bwd_length_impl_0(&_S9890, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9891;
    (&_S9891)->primal_0 = e0_15;
    (&_S9891)->differential_0 = _S9888;
    s_bwd_length_impl_0(&_S9891, -0.0f);
    DiffPair_float_0 _S9892;
    (&_S9892)->primal_0 = _S9732;
    (&_S9892)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S9892, 0.0f);
    float _S9893 = - _S9892.differential_0;
    float2  _S9894 = _S9890.differential_0 + make_float2 (_S9730 * _S9893, _S9728 * _S9892.differential_0);
    float2  _S9895 = - _S9894;
    float2  _S9896 = _S9891.differential_0 + make_float2 (_S9729 * _S9892.differential_0, _S9731 * _S9893);
    float2  _S9897 = - _S9896;
    float2  _S9898 = - _S9889.differential_0 + _S9894;
    float _S9899 = fx_105 * (_S9879.differential_0 + _S9883.differential_0 + _S9898.x);
    float2  _S9900 = make_float2 (_S9899, fy_105 * (_S9871.differential_0 + _S9875.differential_0 + _S9898.y)) + make_float2 ((*dist_coeffs_109)[int(8)] * _S9899, (*dist_coeffs_109)[int(9)] * _S9899);
    float2  _S9901 = _S9715 * _S9900;
    float2  _S9902 = _S9719 * _S9900;
    float _S9903 = (*dist_coeffs_109)[int(4)] * _S9900.y;
    float _S9904 = (*dist_coeffs_109)[int(5)] * _S9900.x;
    float _S9905 = _S9901.x + _S9901.y;
    float _S9906 = r2_79 * _S9905;
    float _S9907 = r2_79 * _S9906;
    float _S9908 = (*dist_coeffs_109)[int(7)] * _S9900.y + _S9903 + (*dist_coeffs_109)[int(6)] * _S9900.x + _S9904 + _S9718 * _S9905 + _S9717 * _S9906 + _S9716 * _S9907 + (*dist_coeffs_109)[int(3)] * (r2_79 * _S9907);
    float _S9909 = v_79 * _S9908;
    float _S9910 = u_79 * _S9908;
    float _S9911 = _S9723 * _S9903 + 2.0f * (v_79 * _S9903) + _S9722 * _S9900.y + _S9720 * _S9900.x + _S9909 + _S9909;
    float _S9912 = _S9671 * (v_79 * _S9900.y) + _S9721 * _S9904 + 2.0f * (u_79 * _S9904) + _S9668 * (v_79 * _S9900.x) + _S9910 + _S9910;
    float3  _S9913 = _S9787.differential_0 + _S9869.differential_0;
    float3  _S9914 = _S9789 + _S9790 + _S9869.differential_0;
    float3  _S9915 = _S9788.differential_0 + _S9869.differential_0;
    FixedArray<float3 , 2>  _S9916;
    _S9916[int(0)] = _S9781;
    _S9916[int(1)] = _S9781;
    _S9916[int(1)] = _S9796;
    _S9916[int(0)] = _S9801;
    float3  _S9917 = _S9916[int(0)];
    float3  _S9918 = _S9916[int(1)];
    FixedArray<float3 , 16>  _S9919;
    _S9919[int(0)] = _S9781;
    _S9919[int(1)] = _S9781;
    _S9919[int(2)] = _S9781;
    _S9919[int(3)] = _S9781;
    _S9919[int(4)] = _S9781;
    _S9919[int(5)] = _S9781;
    _S9919[int(6)] = _S9781;
    _S9919[int(7)] = _S9781;
    _S9919[int(8)] = _S9781;
    _S9919[int(9)] = _S9781;
    _S9919[int(10)] = _S9781;
    _S9919[int(11)] = _S9781;
    _S9919[int(12)] = _S9781;
    _S9919[int(13)] = _S9781;
    _S9919[int(14)] = _S9781;
    _S9919[int(15)] = _S9781;
    _S9919[int(7)] = _S9825;
    _S9919[int(0)] = _S9859;
    _S9919[int(1)] = _S9846;
    _S9919[int(2)] = _S9844;
    _S9919[int(3)] = _S9842;
    _S9919[int(4)] = _S9831;
    _S9919[int(5)] = _S9829;
    _S9919[int(6)] = _S9827;
    _S9919[int(15)] = _S9803;
    _S9919[int(8)] = _S9823;
    _S9919[int(9)] = _S9815;
    _S9919[int(10)] = _S9813;
    _S9919[int(11)] = _S9811;
    _S9919[int(12)] = _S9809;
    _S9919[int(13)] = _S9807;
    _S9919[int(14)] = _S9805;
    float3  _S9920 = _S9919[int(0)];
    float3  _S9921 = _S9919[int(1)];
    float3  _S9922 = _S9919[int(2)];
    float3  _S9923 = _S9919[int(3)];
    float3  _S9924 = _S9919[int(4)];
    float3  _S9925 = _S9919[int(5)];
    float3  _S9926 = _S9919[int(6)];
    float3  _S9927 = _S9919[int(7)];
    float3  _S9928 = _S9919[int(8)];
    float3  _S9929 = _S9919[int(9)];
    float3  _S9930 = _S9919[int(10)];
    float3  _S9931 = _S9919[int(11)];
    float3  _S9932 = _S9919[int(12)];
    float3  _S9933 = _S9919[int(13)];
    float3  _S9934 = _S9919[int(14)];
    float3  _S9935 = _S9919[int(15)];
    float _S9936 = _S9880.differential_0 + _S9884.differential_0;
    float2  _S9937 = _S9889.differential_0 + _S9897;
    float _S9938 = _S9873.differential_0 + _S9877.differential_0;
    float _S9939 = _S9872.differential_0 + _S9876.differential_0;
    float2  _S9940 = _S9895 + _S9896;
    float _S9941 = _S9881.differential_0 + _S9885.differential_0;
    float2  _S9942 = make_float2 (0.0f, _S9887);
    float2  _S9943 = _S9902 + make_float2 (_S9912, _S9911);
    float2  _S9944 = _S9703 * _S9943;
    float2  _S9945 = _S9714 * _S9943;
    float _S9946 = _S9944.x + _S9944.y;
    if(_S9707)
    {
        float _S9947 = _S9946 / _S9709;
        float _S9948 = _S9710 * - _S9947;
        float _S9949 = _S9706 * (0.3333333432674408f * - (_S9705 * _S9947));
        k_12 = _S9949 + _S9949;
        _S9708 = _S9948;
        _S9709 = 0.0f;
    }
    else
    {
        float _S9950 = _S9946 / _S9708;
        float _S9951 = _S9706 * - _S9950;
        k_12 = _S9704 * _S9950;
        _S9708 = 0.0f;
        _S9709 = _S9951;
    }
    DiffPair_float_0 _S9952;
    (&_S9952)->primal_0 = _S9704;
    (&_S9952)->differential_0 = 0.0f;
    DiffPair_float_0 _S9953;
    (&_S9953)->primal_0 = _S9705;
    (&_S9953)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S9952, &_S9953, k_12);
    float _S9954 = _S9953.differential_0 + _S9708;
    float _S9955 = _S9952.differential_0 + _S9709;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9956;
    (&_S9956)->primal_0 = _S9703;
    (&_S9956)->differential_0 = _S9888;
    s_bwd_length_impl_0(&_S9956, _S9955);
    float2  _S9957 = _S9956.differential_0 + _S9945;
    float _S9958 = fx_105 * (_S9940.x + _S9941);
    float2  _S9959 = make_float2 (_S9958, fy_105 * (_S9940.y + _S9938)) + make_float2 ((*dist_coeffs_109)[int(8)] * _S9958, (*dist_coeffs_109)[int(9)] * _S9958);
    float2  _S9960 = _S9690 * _S9959;
    float _S9961 = (*dist_coeffs_109)[int(4)] * _S9959.y;
    float _S9962 = (*dist_coeffs_109)[int(5)] * _S9959.x;
    float _S9963 = _S9960.x + _S9960.y;
    float _S9964 = r2_78 * _S9963;
    float _S9965 = r2_78 * _S9964;
    float _S9966 = (*dist_coeffs_109)[int(7)] * _S9959.y + _S9961 + (*dist_coeffs_109)[int(6)] * _S9959.x + _S9962 + _S9693 * _S9963 + _S9692 * _S9964 + _S9691 * _S9965 + (*dist_coeffs_109)[int(3)] * (r2_78 * _S9965);
    float _S9967 = v_78 * _S9966;
    float _S9968 = u_78 * _S9966;
    float3  _S9969 = _S9915 + make_float3 (_S9957.x, _S9957.y, _S9954);
    float2  _S9970 = _S9694 * _S9959 + make_float2 (_S9671 * (v_78 * _S9959.y) + _S9696 * _S9962 + 2.0f * (u_78 * _S9962) + _S9668 * (v_78 * _S9959.x) + _S9968 + _S9968, _S9698 * _S9961 + 2.0f * (v_78 * _S9961) + _S9697 * _S9959.y + _S9695 * _S9959.x + _S9967 + _S9967);
    float2  _S9971 = _S9678 * _S9970;
    float2  _S9972 = _S9689 * _S9970;
    float _S9973 = _S9971.x + _S9971.y;
    if(_S9682)
    {
        float _S9974 = _S9973 / _S9684;
        float _S9975 = _S9685 * - _S9974;
        float _S9976 = _S9681 * (0.3333333432674408f * - (_S9680 * _S9974));
        k_12 = _S9976 + _S9976;
        _S9683 = _S9975;
        _S9684 = 0.0f;
    }
    else
    {
        float _S9977 = _S9973 / _S9683;
        float _S9978 = _S9681 * - _S9977;
        k_12 = _S9679 * _S9977;
        _S9683 = 0.0f;
        _S9684 = _S9978;
    }
    DiffPair_float_0 _S9979;
    (&_S9979)->primal_0 = _S9679;
    (&_S9979)->differential_0 = 0.0f;
    DiffPair_float_0 _S9980;
    (&_S9980)->primal_0 = _S9680;
    (&_S9980)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S9979, &_S9980, k_12);
    float _S9981 = _S9980.differential_0 + _S9683;
    float _S9982 = _S9979.differential_0 + _S9684;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9983;
    (&_S9983)->primal_0 = _S9678;
    (&_S9983)->differential_0 = _S9888;
    s_bwd_length_impl_0(&_S9983, _S9982);
    float2  _S9984 = _S9983.differential_0 + _S9972;
    float _S9985 = fx_105 * (_S9937.x + _S9936);
    float2  _S9986 = make_float2 (_S9985, fy_105 * (_S9937.y + _S9939)) + make_float2 ((*dist_coeffs_109)[int(8)] * _S9985, (*dist_coeffs_109)[int(9)] * _S9985);
    float2  _S9987 = _S9663 * _S9986;
    float _S9988 = (*dist_coeffs_109)[int(4)] * _S9986.y;
    float _S9989 = (*dist_coeffs_109)[int(5)] * _S9986.x;
    float _S9990 = _S9987.x + _S9987.y;
    float _S9991 = r2_77 * _S9990;
    float _S9992 = r2_77 * _S9991;
    float _S9993 = (*dist_coeffs_109)[int(7)] * _S9986.y + _S9988 + (*dist_coeffs_109)[int(6)] * _S9986.x + _S9989 + _S9666 * _S9990 + _S9665 * _S9991 + _S9664 * _S9992 + (*dist_coeffs_109)[int(3)] * (r2_77 * _S9992);
    float _S9994 = v_77 * _S9993;
    float _S9995 = u_77 * _S9993;
    float3  _S9996 = _S9913 + make_float3 (_S9984.x, _S9984.y, _S9981);
    float2  _S9997 = _S9667 * _S9986 + make_float2 (_S9671 * (v_77 * _S9986.y) + _S9670 * _S9989 + 2.0f * (u_77 * _S9989) + _S9668 * (v_77 * _S9986.x) + _S9995 + _S9995, _S9673 * _S9988 + 2.0f * (v_77 * _S9988) + _S9672 * _S9986.y + _S9669 * _S9986.x + _S9994 + _S9994);
    float2  _S9998 = _S9651 * _S9997;
    float2  _S9999 = _S9662 * _S9997;
    float _S10000 = _S9998.x + _S9998.y;
    if(_S9655)
    {
        float _S10001 = _S10000 / _S9657;
        float _S10002 = _S9658 * - _S10001;
        float _S10003 = _S9654 * (0.3333333432674408f * - (_S9653 * _S10001));
        k_12 = _S10003 + _S10003;
        _S9656 = _S10002;
        _S9657 = 0.0f;
    }
    else
    {
        float _S10004 = _S10000 / _S9656;
        float _S10005 = _S9654 * - _S10004;
        k_12 = _S9652 * _S10004;
        _S9656 = 0.0f;
        _S9657 = _S10005;
    }
    DiffPair_float_0 _S10006;
    (&_S10006)->primal_0 = _S9652;
    (&_S10006)->differential_0 = 0.0f;
    DiffPair_float_0 _S10007;
    (&_S10007)->primal_0 = _S9653;
    (&_S10007)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10006, &_S10007, k_12);
    float _S10008 = _S10007.differential_0 + _S9656;
    float _S10009 = _S10006.differential_0 + _S9657;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10010;
    (&_S10010)->primal_0 = _S9651;
    (&_S10010)->differential_0 = _S9888;
    s_bwd_length_impl_0(&_S10010, _S10009);
    float2  _S10011 = _S10010.differential_0 + _S9999;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10012;
    (&_S10012)->primal_0 = vert2_c_11;
    (&_S10012)->differential_0 = _S9781;
    s_bwd_length_impl_1(&_S10012, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10013;
    (&_S10013)->primal_0 = vert1_c_11;
    (&_S10013)->differential_0 = _S9781;
    s_bwd_length_impl_1(&_S10013, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10014;
    (&_S10014)->primal_0 = vert0_c_11;
    (&_S10014)->differential_0 = _S9781;
    s_bwd_length_impl_1(&_S10014, 0.0f);
    float3  _S10015 = _S10012.differential_0 + _S9969;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10016;
    (&_S10016)->primal_0 = R_75;
    (&_S10016)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10017;
    (&_S10017)->primal_0 = vert2_8;
    (&_S10017)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S10016, &_S10017, _S10015);
    float3  _S10018 = _S10013.differential_0 + _S9996;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10019;
    (&_S10019)->primal_0 = R_75;
    (&_S10019)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10020;
    (&_S10020)->primal_0 = vert1_8;
    (&_S10020)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S10019, &_S10020, _S10018);
    float3  _S10021 = _S10014.differential_0 + _S9914 + make_float3 (_S10011.x, _S10011.y, _S10008);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10022;
    (&_S10022)->primal_0 = R_75;
    (&_S10022)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10023;
    (&_S10023)->primal_0 = vert0_8;
    (&_S10023)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S10022, &_S10023, _S10021);
    float3  _S10024 = _S10017.differential_0 + (*v_verts_1)[int(2)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10025;
    (&_S10025)->primal_0 = _S9645;
    (&_S10025)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10026;
    (&_S10026)->primal_0 = _S9650;
    (&_S10026)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S10025, &_S10026, _S10024);
    float _S10027 = - _S10026.differential_0.y;
    float _S10028 = _S9649 * _S10026.differential_0.x;
    float _S10029 = - (_S9641 * _S10026.differential_0.x);
    float3  _S10030 = _S10020.differential_0 + (*v_verts_1)[int(1)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10031;
    (&_S10031)->primal_0 = _S9645;
    (&_S10031)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10032;
    (&_S10032)->primal_0 = _S9648;
    (&_S10032)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S10031, &_S10032, _S10030);
    float _S10033 = _S9641 * _S10032.differential_0.x;
    float _S10034 = _S9647 * _S10032.differential_0.x;
    float3  _S10035 = _S10023.differential_0 + (*v_verts_1)[int(0)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10036;
    (&_S10036)->primal_0 = _S9645;
    (&_S10036)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10037;
    (&_S10037)->primal_0 = _S9646;
    (&_S10037)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S10036, &_S10037, _S10035);
    Matrix<float, 3, 3>  _S10038 = transpose_0(_S10025.differential_0 + _S10031.differential_0 + _S10036.differential_0);
    float _S10039 = 2.0f * - _S10038.rows[int(2)].z;
    float _S10040 = 2.0f * _S10038.rows[int(2)].y;
    float _S10041 = 2.0f * _S10038.rows[int(2)].x;
    float _S10042 = 2.0f * _S10038.rows[int(1)].z;
    float _S10043 = 2.0f * - _S10038.rows[int(1)].y;
    float _S10044 = 2.0f * _S10038.rows[int(1)].x;
    float _S10045 = 2.0f * _S10038.rows[int(0)].z;
    float _S10046 = 2.0f * _S10038.rows[int(0)].y;
    float _S10047 = 2.0f * - _S10038.rows[int(0)].x;
    float _S10048 = - _S10044 + _S10046;
    float _S10049 = _S10041 + - _S10045;
    float _S10050 = - _S10040 + _S10042;
    float _S10051 = _S10040 + _S10042;
    float _S10052 = _S10041 + _S10045;
    float _S10053 = _S10044 + _S10046;
    float _S10054 = quat_74.w * (_S10043 + _S10047);
    float _S10055 = quat_74.z * (_S10039 + _S10047);
    float _S10056 = quat_74.y * (_S10039 + _S10043);
    float _S10057 = quat_74.x * _S10048 + quat_74.z * _S10051 + quat_74.y * _S10052 + _S10054 + _S10054;
    float _S10058 = quat_74.x * _S10049 + quat_74.w * _S10051 + quat_74.y * _S10053 + _S10055 + _S10055;
    float _S10059 = quat_74.x * _S10050 + quat_74.w * _S10052 + quat_74.z * _S10053 + _S10056 + _S10056;
    float _S10060 = quat_74.w * _S10048 + quat_74.z * _S10049 + quat_74.y * _S10050;
    float _S10061 = _S10029 + _S10033;
    float _S10062 = 0.5f * - _S10061;
    float _S10063 = _S10027 + _S10032.differential_0.y;
    DiffPair_float_0 _S10064;
    (&_S10064)->primal_0 = _S9642;
    (&_S10064)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S10064, _S10063);
    float _S10065 = _S10062 + _S10064.differential_0;
    float _S10066 = _S10028 + _S10034 + _S10037.differential_0.x;
    DiffPair_float_0 _S10067;
    (&_S10067)->primal_0 = _S9640;
    (&_S10067)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S10067, _S10066);
    float _S10068 = _S10062 + _S10067.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10069;
    (&_S10069)->primal_0 = mean_c_82;
    (&_S10069)->differential_0 = _S9781;
    s_bwd_length_impl_1(&_S10069, 0.0f);
    float3  _S10070 = _S10069.differential_0 + _S9784.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10071;
    (&_S10071)->primal_0 = R_75;
    (&_S10071)->differential_0 = _S9862;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10072;
    (&_S10072)->primal_0 = mean_73;
    (&_S10072)->differential_0 = _S9781;
    s_bwd_prop_mul_1(&_S10071, &_S10072, _S10070);
    float3  _S10073 = _S10015 + _S10018 + _S10021 + _S10070 + _S9865.differential_0;
    Matrix<float, 3, 3>  _S10074 = _S10016.differential_0 + _S10019.differential_0 + _S10022.differential_0 + _S10071.differential_0 + _S9866;
    float3  _S10075 = make_float3 (_S10068, _S10065, _S10061);
    float4  _S10076 = make_float4 (0.0f);
    *&((&_S10076)->w) = _S10057;
    *&((&_S10076)->z) = _S10058;
    *&((&_S10076)->y) = _S10059;
    *&((&_S10076)->x) = _S10060;
    float4  _S10077 = _S10076;
    float3  _S10078 = _S10024 + _S10030 + _S10035 + _S10072.differential_0 + _S9860;
    *v_mean_24 = _S10078;
    *v_quat_23 = _S10077;
    *v_scale_23 = _S10075;
    *v_hardness_5 = _S9942;
    (*v_sh_coeffs_8)[int(0)] = _S9920;
    (*v_sh_coeffs_8)[int(1)] = _S9921;
    (*v_sh_coeffs_8)[int(2)] = _S9922;
    (*v_sh_coeffs_8)[int(3)] = _S9923;
    (*v_sh_coeffs_8)[int(4)] = _S9924;
    (*v_sh_coeffs_8)[int(5)] = _S9925;
    (*v_sh_coeffs_8)[int(6)] = _S9926;
    (*v_sh_coeffs_8)[int(7)] = _S9927;
    (*v_sh_coeffs_8)[int(8)] = _S9928;
    (*v_sh_coeffs_8)[int(9)] = _S9929;
    (*v_sh_coeffs_8)[int(10)] = _S9930;
    (*v_sh_coeffs_8)[int(11)] = _S9931;
    (*v_sh_coeffs_8)[int(12)] = _S9932;
    (*v_sh_coeffs_8)[int(13)] = _S9933;
    (*v_sh_coeffs_8)[int(14)] = _S9934;
    (*v_sh_coeffs_8)[int(15)] = _S9935;
    (*v_ch_coeffs_3)[int(0)] = _S9917;
    (*v_ch_coeffs_3)[int(1)] = _S9918;
    *v_R_24 = _S10074;
    *v_t_23 = _S10073;
    return;
}

inline __device__ bool ray_triangle_intersection_uvt(float3  ray_o_4, float3  ray_d_4, FixedArray<float3 , 3>  * verts_4, float * u_80, float * v_80, float * t_72)
{
    float3  v1v0_0 = (*verts_4)[int(1)] - (*verts_4)[int(0)];
    float3  v2v0_0 = (*verts_4)[int(2)] - (*verts_4)[int(0)];
    float3  rov0_0 = ray_o_4 - (*verts_4)[int(0)];
    float3  n_0 = cross_0(v1v0_0, v2v0_0);
    float3  q_2 = cross_0(rov0_0, ray_d_4);
    float d_28 = 1.0f / dot_0(ray_d_4, n_0);
    *u_80 = d_28 * dot_0(- q_2, v2v0_0);
    *v_80 = d_28 * dot_0(q_2, v1v0_0);
    *t_72 = d_28 * dot_0(- n_0, rov0_0);
    bool _S10079;
    if((*u_80) >= 0.0f)
    {
        _S10079 = (*v_80) >= 0.0f;
    }
    else
    {
        _S10079 = false;
    }
    if(_S10079)
    {
        _S10079 = (*u_80 + *v_80) <= 1.0f;
    }
    else
    {
        _S10079 = false;
    }
    if(_S10079)
    {
        _S10079 = (*t_72) >= 0.0f;
    }
    else
    {
        _S10079 = false;
    }
    return _S10079;
}

inline __device__ float evaluate_alpha_opaque_triangle(FixedArray<float3 , 3>  * verts_5, float2  hardness_16, float3  ray_o_5, float3  ray_d_5)
{
    float3  v1v0_1 = (*verts_5)[int(1)] - (*verts_5)[int(0)];
    float3  v2v0_1 = (*verts_5)[int(2)] - (*verts_5)[int(0)];
    float3  rov0_1 = ray_o_5 - (*verts_5)[int(0)];
    float3  n_1 = cross_0(v1v0_1, v2v0_1);
    float3  q_3 = cross_0(rov0_1, ray_d_5);
    float d_29 = 1.0f / dot_0(ray_d_5, n_1);
    float u_81 = d_29 * dot_0(- q_3, v2v0_1);
    float v_81 = d_29 * dot_0(q_3, v1v0_1);
    float t_73 = d_29 * dot_0(- n_1, rov0_1);
    bool _S10080;
    if(u_81 >= 0.0f)
    {
        _S10080 = v_81 >= 0.0f;
    }
    else
    {
        _S10080 = false;
    }
    if(_S10080)
    {
        _S10080 = (u_81 + v_81) <= 1.0f;
    }
    else
    {
        _S10080 = false;
    }
    if(_S10080)
    {
        _S10080 = t_73 >= 0.0f;
    }
    else
    {
        _S10080 = false;
    }
    if(!_S10080)
    {
        return 0.0f;
    }
    float opac_0 = (F32_min(((F32_min((u_81), (v_81)))), ((F32_sqrt((0.5f))) * (1.0f - u_81 - v_81)))) * (2.0f + (F32_sqrt((2.0f))));
    float w_140 = 1.0f - (F32_pow((1.0f - opac_0), (1.0f / (1.0f - clamp_0(hardness_16.y, 0.0f, 0.99989998340606689f)))));
    float o_0 = hardness_16.x;
    float _S10081;
    if(opac_0 < 0.0f)
    {
        _S10081 = 0.0f;
    }
    else
    {
        _S10081 = (F32_min((o_0 * w_140), (0.99500000476837158f)));
    }
    return _S10081;
}

inline __device__ void s_bwd_prop_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_0, DiffPair_vectorx3Cfloatx2C2x3E_0 * dphardness_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_2, float _s_dOut_13)
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10082 = *dphardness_2;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10083 = *dpray_d_2;
    float3  v1v0_2 = dpverts_0->primal_0[int(1)] - dpverts_0->primal_0[int(0)];
    float3  v2v0_2 = dpverts_0->primal_0[int(2)] - dpverts_0->primal_0[int(0)];
    float3  rov0_2 = (*dpray_o_2).primal_0 - dpverts_0->primal_0[int(0)];
    float3  _S10084 = s_primal_ctx_cross_0(v1v0_2, v2v0_2);
    float3  _S10085 = s_primal_ctx_cross_0(rov0_2, (*dpray_d_2).primal_0);
    float _S10086 = s_primal_ctx_dot_0((*dpray_d_2).primal_0, _S10084);
    float d_30 = 1.0f / _S10086;
    float _S10087 = _S10086 * _S10086;
    float3  _S10088 = - _S10085;
    float _S10089 = s_primal_ctx_dot_0(_S10088, v2v0_2);
    float u_82 = d_30 * _S10089;
    float _S10090 = s_primal_ctx_dot_0(_S10085, v1v0_2);
    float v_82 = d_30 * _S10090;
    float3  _S10091 = - _S10084;
    float t_74 = d_30 * s_primal_ctx_dot_0(_S10091, rov0_2);
    bool _S10092;
    if(u_82 >= 0.0f)
    {
        _S10092 = v_82 >= 0.0f;
    }
    else
    {
        _S10092 = false;
    }
    if(_S10092)
    {
        _S10092 = (u_82 + v_82) <= 1.0f;
    }
    else
    {
        _S10092 = false;
    }
    if(_S10092)
    {
        _S10092 = t_74 >= 0.0f;
    }
    else
    {
        _S10092 = false;
    }
    bool _S10093 = !!_S10092;
    float _S10094;
    float _S10095;
    float _S10096;
    float _S10097;
    float _S10098;
    float _S10099;
    float _S10100;
    float _S10101;
    float _S10102;
    float _S10103;
    float _S10104;
    if(_S10093)
    {
        float _S10105 = s_primal_ctx_min_0(u_82, v_82);
        float _S10106 = s_primal_ctx_sqrt_0(0.5f);
        float _S10107 = _S10106 * (1.0f - u_82 - v_82);
        float _S10108 = 2.0f + s_primal_ctx_sqrt_0(2.0f);
        float opac_1 = s_primal_ctx_min_0(_S10105, _S10107) * _S10108;
        float _S10109 = _S10082.primal_0.y;
        float _S10110 = 1.0f - opac_1;
        float _S10111 = 1.0f - s_primal_ctx_clamp_0(_S10109, 0.0f, 0.99989998340606689f);
        float _S10112 = 1.0f / _S10111;
        float _S10113 = _S10111 * _S10111;
        float w_141 = 1.0f - s_primal_ctx_pow_0(_S10110, _S10112);
        float o_1 = _S10082.primal_0.x;
        bool _S10114 = opac_1 < 0.0f;
        if(_S10114)
        {
            _S10094 = 0.0f;
        }
        else
        {
            _S10094 = o_1 * w_141;
        }
        _S10092 = _S10114;
        _S10095 = o_1;
        _S10096 = w_141;
        _S10097 = _S10110;
        _S10098 = _S10112;
        _S10099 = _S10113;
        _S10100 = _S10109;
        _S10101 = _S10108;
        _S10102 = _S10105;
        _S10103 = _S10107;
        _S10104 = _S10106;
    }
    else
    {
        _S10092 = false;
        _S10094 = 0.0f;
        _S10095 = 0.0f;
        _S10096 = 0.0f;
        _S10097 = 0.0f;
        _S10098 = 0.0f;
        _S10099 = 0.0f;
        _S10100 = 0.0f;
        _S10101 = 0.0f;
        _S10102 = 0.0f;
        _S10103 = 0.0f;
        _S10104 = 0.0f;
    }
    float2  _S10115 = make_float2 (0.0f);
    float2  _S10116;
    if(_S10093)
    {
        if(_S10092)
        {
            _S10094 = 0.0f;
            _S10095 = 0.0f;
        }
        else
        {
            DiffPair_float_0 _S10117;
            (&_S10117)->primal_0 = _S10094;
            (&_S10117)->differential_0 = 0.0f;
            DiffPair_float_0 _S10118;
            (&_S10118)->primal_0 = 0.99500000476837158f;
            (&_S10118)->differential_0 = 0.0f;
            s_bwd_prop_min_0(&_S10117, &_S10118, _s_dOut_13);
            float _S10119 = _S10095 * _S10117.differential_0;
            _S10094 = _S10096 * _S10117.differential_0;
            _S10095 = _S10119;
        }
        float _S10120 = - _S10095;
        DiffPair_float_0 _S10121;
        (&_S10121)->primal_0 = _S10097;
        (&_S10121)->differential_0 = 0.0f;
        DiffPair_float_0 _S10122;
        (&_S10122)->primal_0 = _S10098;
        (&_S10122)->differential_0 = 0.0f;
        s_bwd_prop_pow_0(&_S10121, &_S10122, _S10120);
        float _S10123 = - - (_S10122.differential_0 / _S10099);
        float s_diff_opac_T_0 = - _S10121.differential_0;
        DiffPair_float_0 _S10124;
        (&_S10124)->primal_0 = _S10100;
        (&_S10124)->differential_0 = 0.0f;
        DiffPair_float_0 _S10125;
        (&_S10125)->primal_0 = 0.0f;
        (&_S10125)->differential_0 = 0.0f;
        DiffPair_float_0 _S10126;
        (&_S10126)->primal_0 = 0.99989998340606689f;
        (&_S10126)->differential_0 = 0.0f;
        s_bwd_prop_clamp_0(&_S10124, &_S10125, &_S10126, _S10123);
        float _S10127 = _S10101 * s_diff_opac_T_0;
        DiffPair_float_0 _S10128;
        (&_S10128)->primal_0 = _S10102;
        (&_S10128)->differential_0 = 0.0f;
        DiffPair_float_0 _S10129;
        (&_S10129)->primal_0 = _S10103;
        (&_S10129)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S10128, &_S10129, _S10127);
        float _S10130 = - (_S10104 * _S10129.differential_0);
        DiffPair_float_0 _S10131;
        (&_S10131)->primal_0 = u_82;
        (&_S10131)->differential_0 = 0.0f;
        DiffPair_float_0 _S10132;
        (&_S10132)->primal_0 = v_82;
        (&_S10132)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S10131, &_S10132, _S10128.differential_0);
        float2  _S10133 = make_float2 (_S10094, _S10124.differential_0);
        float _S10134 = _S10130 + _S10132.differential_0;
        _S10094 = _S10130 + _S10131.differential_0;
        _S10095 = _S10134;
        _S10116 = _S10133;
    }
    else
    {
        _S10094 = 0.0f;
        _S10095 = 0.0f;
        _S10116 = _S10115;
    }
    float3  _S10135 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10136;
    (&_S10136)->primal_0 = _S10091;
    (&_S10136)->differential_0 = _S10135;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10137;
    (&_S10137)->primal_0 = rov0_2;
    (&_S10137)->differential_0 = _S10135;
    s_bwd_prop_dot_0(&_S10136, &_S10137, 0.0f);
    float3  _S10138 = - _S10136.differential_0;
    float _S10139 = d_30 * _S10095;
    float _S10140 = _S10090 * _S10095;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10141;
    (&_S10141)->primal_0 = _S10085;
    (&_S10141)->differential_0 = _S10135;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10142;
    (&_S10142)->primal_0 = v1v0_2;
    (&_S10142)->differential_0 = _S10135;
    s_bwd_prop_dot_0(&_S10141, &_S10142, _S10139);
    float _S10143 = d_30 * _S10094;
    float _S10144 = _S10089 * _S10094;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10145;
    (&_S10145)->primal_0 = _S10088;
    (&_S10145)->differential_0 = _S10135;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10146;
    (&_S10146)->primal_0 = v2v0_2;
    (&_S10146)->differential_0 = _S10135;
    s_bwd_prop_dot_0(&_S10145, &_S10146, _S10143);
    float3  _S10147 = - _S10145.differential_0;
    float _S10148 = - ((_S10140 + _S10144) / _S10087);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10149;
    (&_S10149)->primal_0 = _S10083.primal_0;
    (&_S10149)->differential_0 = _S10135;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10150;
    (&_S10150)->primal_0 = _S10084;
    (&_S10150)->differential_0 = _S10135;
    s_bwd_prop_dot_0(&_S10149, &_S10150, _S10148);
    float3  _S10151 = _S10141.differential_0 + _S10147;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10152;
    (&_S10152)->primal_0 = rov0_2;
    (&_S10152)->differential_0 = _S10135;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10153;
    (&_S10153)->primal_0 = _S10083.primal_0;
    (&_S10153)->differential_0 = _S10135;
    s_bwd_prop_cross_0(&_S10152, &_S10153, _S10151);
    float3  _S10154 = _S10138 + _S10150.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10155;
    (&_S10155)->primal_0 = v1v0_2;
    (&_S10155)->differential_0 = _S10135;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10156;
    (&_S10156)->primal_0 = v2v0_2;
    (&_S10156)->differential_0 = _S10135;
    s_bwd_prop_cross_0(&_S10155, &_S10156, _S10154);
    float3  _S10157 = _S10137.differential_0 + _S10152.differential_0;
    float3  _S10158 = _S10146.differential_0 + _S10156.differential_0;
    float3  _S10159 = _S10142.differential_0 + _S10155.differential_0;
    float3  _S10160 = - _S10157 + - _S10158 + - _S10159;
    float3  _S10161 = _S10149.differential_0 + _S10153.differential_0;
    dpray_d_2->primal_0 = (*dpray_d_2).primal_0;
    dpray_d_2->differential_0 = _S10161;
    dpray_o_2->primal_0 = (*dpray_o_2).primal_0;
    dpray_o_2->differential_0 = _S10157;
    dphardness_2->primal_0 = (*dphardness_2).primal_0;
    dphardness_2->differential_0 = _S10116;
    FixedArray<float3 , 3>  _S10162;
    _S10162[int(0)] = _S10135;
    _S10162[int(1)] = _S10135;
    _S10162[int(2)] = _S10135;
    _S10162[int(2)] = _S10158;
    _S10162[int(0)] = _S10160;
    _S10162[int(1)] = _S10159;
    dpverts_0->primal_0 = dpverts_0->primal_0;
    dpverts_0->differential_0 = _S10162;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S10163, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S10164, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10165, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10166, float _S10167)
{
    s_bwd_prop_evaluate_alpha_opaque_triangle_0(_S10163, _S10164, _S10165, _S10166, _S10167);
    return;
}

inline __device__ void evaluate_alpha_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_6, float2  hardness_17, float3  ray_o_6, float3  ray_d_6, float v_alpha_3, FixedArray<float3 , 3>  * v_verts_2, float2  * v_hardness_6, float3  * v_ray_o_3, float3  * v_ray_d_3)
{
    float3  _S10168 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S10169 = { _S10168, _S10168, _S10168 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_0;
    (&dp_verts_0)->primal_0 = *verts_6;
    (&dp_verts_0)->differential_0 = _S10169;
    float2  _S10170 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_hardness_2;
    (&dp_hardness_2)->primal_0 = hardness_17;
    (&dp_hardness_2)->differential_0 = _S10170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_2;
    (&dp_ray_o_2)->primal_0 = ray_o_6;
    (&dp_ray_o_2)->differential_0 = _S10168;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_2;
    (&dp_ray_d_2)->primal_0 = ray_d_6;
    (&dp_ray_d_2)->differential_0 = _S10168;
    s_bwd_evaluate_alpha_opaque_triangle_0(&dp_verts_0, &dp_hardness_2, &dp_ray_o_2, &dp_ray_d_2, v_alpha_3);
    *v_verts_2 = (&dp_verts_0)->differential_0;
    *v_hardness_6 = dp_hardness_2.differential_0;
    *v_ray_o_3 = dp_ray_o_2.differential_0;
    *v_ray_d_3 = dp_ray_d_2.differential_0;
    return;
}

inline __device__ float evaluate_sorting_depth_opaque_triangle(FixedArray<float3 , 3>  * verts_7, FixedArray<float3 , 3>  * rgbs_4, float3  ray_o_7, float3  ray_d_7)
{
    float3  n_2 = cross_0((*verts_7)[int(1)] - (*verts_7)[int(0)], (*verts_7)[int(2)] - (*verts_7)[int(0)]);
    return 1.0f / dot_0(ray_d_7, n_2) * dot_0(- n_2, ray_o_7 - (*verts_7)[int(0)]);
}

inline __device__ void evaluate_color_opaque_triangle(FixedArray<float3 , 3>  * verts_8, FixedArray<float3 , 3>  * rgbs_5, float3  ray_o_8, float3  ray_d_8, float3  * color_13, float * depth_48)
{
    float3  v1v0_3 = (*verts_8)[int(1)] - (*verts_8)[int(0)];
    float3  v2v0_3 = (*verts_8)[int(2)] - (*verts_8)[int(0)];
    float3  rov0_3 = ray_o_8 - (*verts_8)[int(0)];
    float3  n_3 = cross_0(v1v0_3, v2v0_3);
    float3  q_4 = cross_0(rov0_3, ray_d_8);
    float d_31 = 1.0f / dot_0(ray_d_8, n_3);
    float u_83 = d_31 * dot_0(- q_4, v2v0_3);
    float v_83 = d_31 * dot_0(q_4, v1v0_3);
    *depth_48 = d_31 * dot_0(- n_3, rov0_3);
    *color_13 = (*rgbs_5)[int(0)] * make_float3 (1.0f - u_83 - v_83) + (*rgbs_5)[int(1)] * make_float3 (u_83) + (*rgbs_5)[int(2)] * make_float3 (v_83);
    *depth_48 = (F32_log(((F32_max((*depth_48), (9.999999960041972e-13f))))));
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_opaque_triangle_1(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dprgbs_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_3, float3  dpcolor_1, float dpdepth_30)
{
    float3  v1v0_4 = dpverts_1->primal_0[int(1)] - dpverts_1->primal_0[int(0)];
    float3  v2v0_4 = dpverts_1->primal_0[int(2)] - dpverts_1->primal_0[int(0)];
    float3  rov0_4 = (*dpray_o_3).primal_0 - dpverts_1->primal_0[int(0)];
    float3  _S10171 = s_primal_ctx_cross_0(v1v0_4, v2v0_4);
    float3  _S10172 = s_primal_ctx_cross_0(rov0_4, (*dpray_d_3).primal_0);
    float _S10173 = s_primal_ctx_dot_0((*dpray_d_3).primal_0, _S10171);
    float d_32 = 1.0f / _S10173;
    float _S10174 = _S10173 * _S10173;
    float3  _S10175 = - _S10172;
    float _S10176 = s_primal_ctx_dot_0(_S10175, v2v0_4);
    float u_84 = d_32 * _S10176;
    float3  _S10177 = make_float3 (u_84);
    float _S10178 = s_primal_ctx_dot_0(_S10172, v1v0_4);
    float v_84 = d_32 * _S10178;
    float3  _S10179 = make_float3 (v_84);
    float3  _S10180 = - _S10171;
    float _S10181 = s_primal_ctx_dot_0(_S10180, rov0_4);
    float _S10182 = d_32 * _S10181;
    float3  _S10183 = make_float3 (1.0f - u_84 - v_84);
    DiffPair_float_0 _S10184;
    (&_S10184)->primal_0 = s_primal_ctx_max_0(_S10182, 9.999999960041972e-13f);
    (&_S10184)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S10184, dpdepth_30);
    DiffPair_float_0 _S10185;
    (&_S10185)->primal_0 = _S10182;
    (&_S10185)->differential_0 = 0.0f;
    DiffPair_float_0 _S10186;
    (&_S10186)->primal_0 = 9.999999960041972e-13f;
    (&_S10186)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10185, &_S10186, _S10184.differential_0);
    float3  _S10187 = dprgbs_0->primal_0[int(2)] * dpcolor_1;
    float3  _S10188 = _S10179 * dpcolor_1;
    float3  _S10189 = dprgbs_0->primal_0[int(1)] * dpcolor_1;
    float3  _S10190 = _S10177 * dpcolor_1;
    float3  _S10191 = dprgbs_0->primal_0[int(0)] * dpcolor_1;
    float3  _S10192 = _S10183 * dpcolor_1;
    float _S10193 = - (_S10191.x + _S10191.y + _S10191.z);
    float _S10194 = d_32 * _S10185.differential_0;
    float _S10195 = _S10181 * _S10185.differential_0;
    float3  _S10196 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10197;
    (&_S10197)->primal_0 = _S10180;
    (&_S10197)->differential_0 = _S10196;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10198;
    (&_S10198)->primal_0 = rov0_4;
    (&_S10198)->differential_0 = _S10196;
    s_bwd_prop_dot_0(&_S10197, &_S10198, _S10194);
    float3  _S10199 = - _S10197.differential_0;
    float _S10200 = _S10193 + _S10187.x + _S10187.y + _S10187.z;
    float _S10201 = d_32 * _S10200;
    float _S10202 = _S10178 * _S10200;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10203;
    (&_S10203)->primal_0 = _S10172;
    (&_S10203)->differential_0 = _S10196;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10204;
    (&_S10204)->primal_0 = v1v0_4;
    (&_S10204)->differential_0 = _S10196;
    s_bwd_prop_dot_0(&_S10203, &_S10204, _S10201);
    float _S10205 = _S10193 + _S10189.x + _S10189.y + _S10189.z;
    float _S10206 = d_32 * _S10205;
    float _S10207 = _S10176 * _S10205;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10208;
    (&_S10208)->primal_0 = _S10175;
    (&_S10208)->differential_0 = _S10196;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10209;
    (&_S10209)->primal_0 = v2v0_4;
    (&_S10209)->differential_0 = _S10196;
    s_bwd_prop_dot_0(&_S10208, &_S10209, _S10206);
    float3  _S10210 = - _S10208.differential_0;
    float _S10211 = - ((_S10195 + _S10202 + _S10207) / _S10174);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10212;
    (&_S10212)->primal_0 = (*dpray_d_3).primal_0;
    (&_S10212)->differential_0 = _S10196;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10213;
    (&_S10213)->primal_0 = _S10171;
    (&_S10213)->differential_0 = _S10196;
    s_bwd_prop_dot_0(&_S10212, &_S10213, _S10211);
    float3  _S10214 = _S10203.differential_0 + _S10210;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10215;
    (&_S10215)->primal_0 = rov0_4;
    (&_S10215)->differential_0 = _S10196;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10216;
    (&_S10216)->primal_0 = (*dpray_d_3).primal_0;
    (&_S10216)->differential_0 = _S10196;
    s_bwd_prop_cross_0(&_S10215, &_S10216, _S10214);
    float3  _S10217 = _S10199 + _S10213.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10218;
    (&_S10218)->primal_0 = v1v0_4;
    (&_S10218)->differential_0 = _S10196;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10219;
    (&_S10219)->primal_0 = v2v0_4;
    (&_S10219)->differential_0 = _S10196;
    s_bwd_prop_cross_0(&_S10218, &_S10219, _S10217);
    float3  _S10220 = _S10198.differential_0 + _S10215.differential_0;
    float3  _S10221 = _S10209.differential_0 + _S10219.differential_0;
    float3  _S10222 = _S10204.differential_0 + _S10218.differential_0;
    float3  _S10223 = - _S10220 + - _S10221 + - _S10222;
    float3  _S10224 = _S10212.differential_0 + _S10216.differential_0;
    dpray_d_3->primal_0 = (*dpray_d_3).primal_0;
    dpray_d_3->differential_0 = _S10224;
    dpray_o_3->primal_0 = (*dpray_o_3).primal_0;
    dpray_o_3->differential_0 = _S10220;
    FixedArray<float3 , 3>  _S10225;
    _S10225[int(0)] = _S10196;
    _S10225[int(1)] = _S10196;
    _S10225[int(2)] = _S10196;
    _S10225[int(2)] = _S10188;
    _S10225[int(1)] = _S10190;
    _S10225[int(0)] = _S10192;
    dprgbs_0->primal_0 = dprgbs_0->primal_0;
    dprgbs_0->differential_0 = _S10225;
    FixedArray<float3 , 3>  _S10226;
    _S10226[int(0)] = _S10196;
    _S10226[int(1)] = _S10196;
    _S10226[int(2)] = _S10196;
    _S10226[int(2)] = _S10221;
    _S10226[int(0)] = _S10223;
    _S10226[int(1)] = _S10222;
    dpverts_1->primal_0 = dpverts_1->primal_0;
    dpverts_1->differential_0 = _S10226;
    return;
}

inline __device__ void s_bwd_evaluate_color_opaque_triangle_1(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S10227, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S10228, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10229, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10230, float3  _S10231, float _S10232)
{
    s_bwd_prop_evaluate_color_opaque_triangle_1(_S10227, _S10228, _S10229, _S10230, _S10231, _S10232);
    return;
}

inline __device__ void evaluate_color_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_9, FixedArray<float3 , 3>  * rgbs_6, float3  ray_o_9, float3  ray_d_9, float3  v_color_1, float v_depth_25, FixedArray<float3 , 3>  * v_verts_3, FixedArray<float3 , 3>  * v_rgbs_2, float3  * v_ray_o_4, float3  * v_ray_d_4)
{
    float3  _S10233 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S10234 = { _S10233, _S10233, _S10233 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_1;
    (&dp_verts_1)->primal_0 = *verts_9;
    (&dp_verts_1)->differential_0 = _S10234;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_rgbs_0;
    (&dp_rgbs_0)->primal_0 = *rgbs_6;
    (&dp_rgbs_0)->differential_0 = _S10234;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_3;
    (&dp_ray_o_3)->primal_0 = ray_o_9;
    (&dp_ray_o_3)->differential_0 = _S10233;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_3;
    (&dp_ray_d_3)->primal_0 = ray_d_9;
    (&dp_ray_d_3)->differential_0 = _S10233;
    s_bwd_evaluate_color_opaque_triangle_1(&dp_verts_1, &dp_rgbs_0, &dp_ray_o_3, &dp_ray_d_3, v_color_1, v_depth_25);
    *v_verts_3 = (&dp_verts_1)->differential_0;
    *v_rgbs_2 = (&dp_rgbs_0)->differential_0;
    *v_ray_o_4 = dp_ray_o_3.differential_0;
    *v_ray_d_4 = dp_ray_d_3.differential_0;
    return;
}

inline __device__ void projection_voxel_eval3d_persp(float3  pos_0, float size_0, FixedArray<float, 8>  * densities_0, FixedArray<float3 , 16>  * sh_coeffs_27, Matrix<float, 3, 3>  R_76, float3  t_75, float fx_106, float fy_106, float cx_101, float cy_101, FixedArray<float, 10>  * dist_coeffs_110, uint image_width_97, uint image_height_97, float near_plane_74, float far_plane_74, int4  * aabb_xyxy_60, float * depth_49, float3  * rgbs_7)
{
    float2  * _S10235;
    float2  * _S10236;
    float2  * _S10237;
    float2  * _S10238;
    float2  * _S10239;
    float2  * _S10240;
    float2  * _S10241;
    float2  * _S10242;
    bool _S10243;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_0;
        float3  _S10244 = mul_0(R_76, pos_0) + t_75;
        pos_c_0[int(0)] = _S10244;
        float _S10245 = _S10244.z;
        float _S10246 = (F32_min((far_plane_74), (_S10245)));
        float _S10247 = (F32_max((near_plane_74), (_S10245)));
        float3  _S10248 = mul_0(R_76, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 0.0f)) + t_75;
        pos_c_0[int(1)] = _S10248;
        float _S10249 = _S10248.z;
        float _S10250 = (F32_min((_S10246), (_S10249)));
        float _S10251 = (F32_max((_S10247), (_S10249)));
        float3  _S10252 = mul_0(R_76, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 0.0f)) + t_75;
        pos_c_0[int(2)] = _S10252;
        float _S10253 = _S10252.z;
        float _S10254 = (F32_min((_S10250), (_S10253)));
        float _S10255 = (F32_max((_S10251), (_S10253)));
        float3  _S10256 = mul_0(R_76, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 1.0f, 0.0f)) + t_75;
        pos_c_0[int(3)] = _S10256;
        float _S10257 = _S10256.z;
        float _S10258 = (F32_min((_S10254), (_S10257)));
        float _S10259 = (F32_max((_S10255), (_S10257)));
        float3  _S10260 = mul_0(R_76, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 0.0f, 1.0f)) + t_75;
        pos_c_0[int(4)] = _S10260;
        float _S10261 = _S10260.z;
        float _S10262 = (F32_min((_S10258), (_S10261)));
        float _S10263 = (F32_max((_S10259), (_S10261)));
        float3  _S10264 = mul_0(R_76, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 1.0f)) + t_75;
        pos_c_0[int(5)] = _S10264;
        float _S10265 = _S10264.z;
        float _S10266 = (F32_min((_S10262), (_S10265)));
        float _S10267 = (F32_max((_S10263), (_S10265)));
        float3  _S10268 = mul_0(R_76, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 1.0f)) + t_75;
        pos_c_0[int(6)] = _S10268;
        float _S10269 = _S10268.z;
        float _S10270 = (F32_min((_S10266), (_S10269)));
        float _S10271 = (F32_max((_S10267), (_S10269)));
        float3  _S10272 = mul_0(R_76, pos_0 + make_float3 (size_0)) + t_75;
        pos_c_0[int(7)] = _S10272;
        float _S10273 = _S10272.z;
        float _S10274 = (F32_min((_S10270), (_S10273)));
        float _S10275 = (F32_max((_S10271), (_S10273)));
        bool _S10276;
        if(_S10274 < near_plane_74)
        {
            _S10276 = true;
        }
        else
        {
            _S10276 = _S10275 > far_plane_74;
        }
        if(_S10276)
        {
            *aabb_xyxy_60 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_83 = mul_0(R_76, pos_0 + make_float3 (0.5f * size_0)) + t_75;
        FixedArray<float2 , 8>  uv_7;
        for(;;)
        {
            float3  _S10277 = pos_c_0[int(0)];
            _S10235 = &uv_7[int(0)];
            for(;;)
            {
                float _S10278 = _S10277.z;
                uv_7[int(0)] = float2 {_S10277.x, _S10277.y} / make_float2 (_S10278);
                if(_S10278 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10279 = camera_distortion_jac_0(uv_7[int(0)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10279)), ((F32_min((_S10279.rows[int(0)].x), (_S10279.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_85 = uv_7[int(0)].x;
                float v_85 = uv_7[int(0)].y;
                float r2_80 = u_85 * u_85 + v_85 * v_85;
                float2  _S10280 = uv_7[int(0)] * make_float2 (1.0f + r2_80 * ((*dist_coeffs_110)[int(0)] + r2_80 * ((*dist_coeffs_110)[int(1)] + r2_80 * ((*dist_coeffs_110)[int(2)] + r2_80 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_85 * v_85 + (*dist_coeffs_110)[int(5)] * (r2_80 + 2.0f * u_85 * u_85) + (*dist_coeffs_110)[int(6)] * r2_80, 2.0f * (*dist_coeffs_110)[int(5)] * u_85 * v_85 + (*dist_coeffs_110)[int(4)] * (r2_80 + 2.0f * v_85 * v_85) + (*dist_coeffs_110)[int(7)] * r2_80);
                float2  _S10281 = _S10280 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10280.x + (*dist_coeffs_110)[int(9)] * _S10280.y, 0.0f);
                uv_7[int(0)] = make_float2 (fx_106 * _S10281.x + cx_101, fy_106 * _S10281.y + cy_101);
                break;
            }
            bool all_valid_16 = true & (!_S10276);
            float3  _S10282 = pos_c_0[int(1)];
            _S10236 = &uv_7[int(1)];
            for(;;)
            {
                float _S10283 = _S10282.z;
                uv_7[int(1)] = float2 {_S10282.x, _S10282.y} / make_float2 (_S10283);
                if(_S10283 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10284 = camera_distortion_jac_0(uv_7[int(1)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10284)), ((F32_min((_S10284.rows[int(0)].x), (_S10284.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_86 = uv_7[int(1)].x;
                float v_86 = uv_7[int(1)].y;
                float r2_81 = u_86 * u_86 + v_86 * v_86;
                float2  _S10285 = uv_7[int(1)] * make_float2 (1.0f + r2_81 * ((*dist_coeffs_110)[int(0)] + r2_81 * ((*dist_coeffs_110)[int(1)] + r2_81 * ((*dist_coeffs_110)[int(2)] + r2_81 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_86 * v_86 + (*dist_coeffs_110)[int(5)] * (r2_81 + 2.0f * u_86 * u_86) + (*dist_coeffs_110)[int(6)] * r2_81, 2.0f * (*dist_coeffs_110)[int(5)] * u_86 * v_86 + (*dist_coeffs_110)[int(4)] * (r2_81 + 2.0f * v_86 * v_86) + (*dist_coeffs_110)[int(7)] * r2_81);
                float2  _S10286 = _S10285 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10285.x + (*dist_coeffs_110)[int(9)] * _S10285.y, 0.0f);
                uv_7[int(1)] = make_float2 (fx_106 * _S10286.x + cx_101, fy_106 * _S10286.y + cy_101);
                break;
            }
            bool all_valid_17 = all_valid_16 & (!_S10276);
            float3  _S10287 = pos_c_0[int(2)];
            _S10237 = &uv_7[int(2)];
            for(;;)
            {
                float _S10288 = _S10287.z;
                uv_7[int(2)] = float2 {_S10287.x, _S10287.y} / make_float2 (_S10288);
                if(_S10288 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10289 = camera_distortion_jac_0(uv_7[int(2)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10289)), ((F32_min((_S10289.rows[int(0)].x), (_S10289.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_87 = uv_7[int(2)].x;
                float v_87 = uv_7[int(2)].y;
                float r2_82 = u_87 * u_87 + v_87 * v_87;
                float2  _S10290 = uv_7[int(2)] * make_float2 (1.0f + r2_82 * ((*dist_coeffs_110)[int(0)] + r2_82 * ((*dist_coeffs_110)[int(1)] + r2_82 * ((*dist_coeffs_110)[int(2)] + r2_82 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_87 * v_87 + (*dist_coeffs_110)[int(5)] * (r2_82 + 2.0f * u_87 * u_87) + (*dist_coeffs_110)[int(6)] * r2_82, 2.0f * (*dist_coeffs_110)[int(5)] * u_87 * v_87 + (*dist_coeffs_110)[int(4)] * (r2_82 + 2.0f * v_87 * v_87) + (*dist_coeffs_110)[int(7)] * r2_82);
                float2  _S10291 = _S10290 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10290.x + (*dist_coeffs_110)[int(9)] * _S10290.y, 0.0f);
                uv_7[int(2)] = make_float2 (fx_106 * _S10291.x + cx_101, fy_106 * _S10291.y + cy_101);
                break;
            }
            bool all_valid_18 = all_valid_17 & (!_S10276);
            float3  _S10292 = pos_c_0[int(3)];
            _S10238 = &uv_7[int(3)];
            for(;;)
            {
                float _S10293 = _S10292.z;
                uv_7[int(3)] = float2 {_S10292.x, _S10292.y} / make_float2 (_S10293);
                if(_S10293 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10294 = camera_distortion_jac_0(uv_7[int(3)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10294)), ((F32_min((_S10294.rows[int(0)].x), (_S10294.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_88 = uv_7[int(3)].x;
                float v_88 = uv_7[int(3)].y;
                float r2_83 = u_88 * u_88 + v_88 * v_88;
                float2  _S10295 = uv_7[int(3)] * make_float2 (1.0f + r2_83 * ((*dist_coeffs_110)[int(0)] + r2_83 * ((*dist_coeffs_110)[int(1)] + r2_83 * ((*dist_coeffs_110)[int(2)] + r2_83 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_88 * v_88 + (*dist_coeffs_110)[int(5)] * (r2_83 + 2.0f * u_88 * u_88) + (*dist_coeffs_110)[int(6)] * r2_83, 2.0f * (*dist_coeffs_110)[int(5)] * u_88 * v_88 + (*dist_coeffs_110)[int(4)] * (r2_83 + 2.0f * v_88 * v_88) + (*dist_coeffs_110)[int(7)] * r2_83);
                float2  _S10296 = _S10295 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10295.x + (*dist_coeffs_110)[int(9)] * _S10295.y, 0.0f);
                uv_7[int(3)] = make_float2 (fx_106 * _S10296.x + cx_101, fy_106 * _S10296.y + cy_101);
                break;
            }
            bool all_valid_19 = all_valid_18 & (!_S10276);
            float3  _S10297 = pos_c_0[int(4)];
            _S10239 = &uv_7[int(4)];
            for(;;)
            {
                float _S10298 = _S10297.z;
                uv_7[int(4)] = float2 {_S10297.x, _S10297.y} / make_float2 (_S10298);
                if(_S10298 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10299 = camera_distortion_jac_0(uv_7[int(4)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10299)), ((F32_min((_S10299.rows[int(0)].x), (_S10299.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_89 = uv_7[int(4)].x;
                float v_89 = uv_7[int(4)].y;
                float r2_84 = u_89 * u_89 + v_89 * v_89;
                float2  _S10300 = uv_7[int(4)] * make_float2 (1.0f + r2_84 * ((*dist_coeffs_110)[int(0)] + r2_84 * ((*dist_coeffs_110)[int(1)] + r2_84 * ((*dist_coeffs_110)[int(2)] + r2_84 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_89 * v_89 + (*dist_coeffs_110)[int(5)] * (r2_84 + 2.0f * u_89 * u_89) + (*dist_coeffs_110)[int(6)] * r2_84, 2.0f * (*dist_coeffs_110)[int(5)] * u_89 * v_89 + (*dist_coeffs_110)[int(4)] * (r2_84 + 2.0f * v_89 * v_89) + (*dist_coeffs_110)[int(7)] * r2_84);
                float2  _S10301 = _S10300 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10300.x + (*dist_coeffs_110)[int(9)] * _S10300.y, 0.0f);
                uv_7[int(4)] = make_float2 (fx_106 * _S10301.x + cx_101, fy_106 * _S10301.y + cy_101);
                break;
            }
            bool all_valid_20 = all_valid_19 & (!_S10276);
            float3  _S10302 = pos_c_0[int(5)];
            _S10240 = &uv_7[int(5)];
            for(;;)
            {
                float _S10303 = _S10302.z;
                uv_7[int(5)] = float2 {_S10302.x, _S10302.y} / make_float2 (_S10303);
                if(_S10303 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10304 = camera_distortion_jac_0(uv_7[int(5)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10304)), ((F32_min((_S10304.rows[int(0)].x), (_S10304.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_90 = uv_7[int(5)].x;
                float v_90 = uv_7[int(5)].y;
                float r2_85 = u_90 * u_90 + v_90 * v_90;
                float2  _S10305 = uv_7[int(5)] * make_float2 (1.0f + r2_85 * ((*dist_coeffs_110)[int(0)] + r2_85 * ((*dist_coeffs_110)[int(1)] + r2_85 * ((*dist_coeffs_110)[int(2)] + r2_85 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_90 * v_90 + (*dist_coeffs_110)[int(5)] * (r2_85 + 2.0f * u_90 * u_90) + (*dist_coeffs_110)[int(6)] * r2_85, 2.0f * (*dist_coeffs_110)[int(5)] * u_90 * v_90 + (*dist_coeffs_110)[int(4)] * (r2_85 + 2.0f * v_90 * v_90) + (*dist_coeffs_110)[int(7)] * r2_85);
                float2  _S10306 = _S10305 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10305.x + (*dist_coeffs_110)[int(9)] * _S10305.y, 0.0f);
                uv_7[int(5)] = make_float2 (fx_106 * _S10306.x + cx_101, fy_106 * _S10306.y + cy_101);
                break;
            }
            bool all_valid_21 = all_valid_20 & (!_S10276);
            float3  _S10307 = pos_c_0[int(6)];
            _S10241 = &uv_7[int(6)];
            for(;;)
            {
                float _S10308 = _S10307.z;
                uv_7[int(6)] = float2 {_S10307.x, _S10307.y} / make_float2 (_S10308);
                if(_S10308 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10309 = camera_distortion_jac_0(uv_7[int(6)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10309)), ((F32_min((_S10309.rows[int(0)].x), (_S10309.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_91 = uv_7[int(6)].x;
                float v_91 = uv_7[int(6)].y;
                float r2_86 = u_91 * u_91 + v_91 * v_91;
                float2  _S10310 = uv_7[int(6)] * make_float2 (1.0f + r2_86 * ((*dist_coeffs_110)[int(0)] + r2_86 * ((*dist_coeffs_110)[int(1)] + r2_86 * ((*dist_coeffs_110)[int(2)] + r2_86 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_91 * v_91 + (*dist_coeffs_110)[int(5)] * (r2_86 + 2.0f * u_91 * u_91) + (*dist_coeffs_110)[int(6)] * r2_86, 2.0f * (*dist_coeffs_110)[int(5)] * u_91 * v_91 + (*dist_coeffs_110)[int(4)] * (r2_86 + 2.0f * v_91 * v_91) + (*dist_coeffs_110)[int(7)] * r2_86);
                float2  _S10311 = _S10310 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10310.x + (*dist_coeffs_110)[int(9)] * _S10310.y, 0.0f);
                uv_7[int(6)] = make_float2 (fx_106 * _S10311.x + cx_101, fy_106 * _S10311.y + cy_101);
                break;
            }
            bool all_valid_22 = all_valid_21 & (!_S10276);
            float3  _S10312 = pos_c_0[int(7)];
            _S10242 = &uv_7[int(7)];
            for(;;)
            {
                float _S10313 = _S10312.z;
                uv_7[int(7)] = float2 {_S10312.x, _S10312.y} / make_float2 (_S10313);
                if(_S10313 < 0.0f)
                {
                    _S10276 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10314 = camera_distortion_jac_0(uv_7[int(7)], dist_coeffs_110);
                    _S10276 = !((F32_min((determinant_0(_S10314)), ((F32_min((_S10314.rows[int(0)].x), (_S10314.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10276)
                {
                    break;
                }
                float u_92 = uv_7[int(7)].x;
                float v_92 = uv_7[int(7)].y;
                float r2_87 = u_92 * u_92 + v_92 * v_92;
                float2  _S10315 = uv_7[int(7)] * make_float2 (1.0f + r2_87 * ((*dist_coeffs_110)[int(0)] + r2_87 * ((*dist_coeffs_110)[int(1)] + r2_87 * ((*dist_coeffs_110)[int(2)] + r2_87 * (*dist_coeffs_110)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_110)[int(4)] * u_92 * v_92 + (*dist_coeffs_110)[int(5)] * (r2_87 + 2.0f * u_92 * u_92) + (*dist_coeffs_110)[int(6)] * r2_87, 2.0f * (*dist_coeffs_110)[int(5)] * u_92 * v_92 + (*dist_coeffs_110)[int(4)] * (r2_87 + 2.0f * v_92 * v_92) + (*dist_coeffs_110)[int(7)] * r2_87);
                float2  _S10316 = _S10315 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10315.x + (*dist_coeffs_110)[int(9)] * _S10315.y, 0.0f);
                uv_7[int(7)] = make_float2 (fx_106 * _S10316.x + cx_101, fy_106 * _S10316.y + cy_101);
                break;
            }
            _S10243 = all_valid_22 & (!_S10276);
            break;
        }
        if(!_S10243)
        {
            *aabb_xyxy_60 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_0)[int(0)]), ((*densities_0)[int(1)])))), ((*densities_0)[int(2)])))), ((*densities_0)[int(3)])))), ((*densities_0)[int(4)])))), ((*densities_0)[int(5)])))), ((*densities_0)[int(6)])))), ((*densities_0)[int(7)]))) * size_0 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_60 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S10317 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10235).x), ((*_S10236).x)))), ((*_S10237).x)))), ((*_S10238).x)))), ((*_S10239).x)))), ((*_S10240).x)))), ((*_S10241).x)))), ((*_S10242).x)));
        float _S10318 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10235).x), ((*_S10236).x)))), ((*_S10237).x)))), ((*_S10238).x)))), ((*_S10239).x)))), ((*_S10240).x)))), ((*_S10241).x)))), ((*_S10242).x)));
        float _S10319 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10235).y), ((*_S10236).y)))), ((*_S10237).y)))), ((*_S10238).y)))), ((*_S10239).y)))), ((*_S10240).y)))), ((*_S10241).y)))), ((*_S10242).y)));
        float _S10320 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10235).y), ((*_S10236).y)))), ((*_S10237).y)))), ((*_S10238).y)))), ((*_S10239).y)))), ((*_S10240).y)))), ((*_S10241).y)))), ((*_S10242).y)));
        if(_S10317 <= 0.0f)
        {
            _S10276 = true;
        }
        else
        {
            _S10276 = _S10318 >= float(image_width_97);
        }
        if(_S10276)
        {
            _S10276 = true;
        }
        else
        {
            _S10276 = _S10319 <= 0.0f;
        }
        if(_S10276)
        {
            _S10276 = true;
        }
        else
        {
            _S10276 = _S10320 >= float(image_height_97);
        }
        if(_S10276)
        {
            _S10276 = true;
        }
        else
        {
            if(_S10274 <= 0.0f)
            {
                if(_S10318 <= 0.0f)
                {
                    _S10276 = _S10317 >= float(image_width_97);
                }
                else
                {
                    _S10276 = false;
                }
                if(_S10276)
                {
                    _S10276 = true;
                }
                else
                {
                    if(_S10320 <= 0.0f)
                    {
                        _S10276 = _S10319 >= float(image_width_97);
                    }
                    else
                    {
                        _S10276 = false;
                    }
                }
            }
            else
            {
                _S10276 = false;
            }
        }
        if(_S10276)
        {
            *aabb_xyxy_60 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_60 = make_int4 (int((F32_floor((_S10318)))), int((F32_floor((_S10320)))), int((F32_ceil((_S10317)))), int((F32_ceil((_S10319)))));
        *depth_49 = 0.5f * (F32_log((dot_0(mean_c_83, mean_c_83) + 9.99999997475242708e-07f)));
        float3  _S10321 = mean_c_83 - - mul_0(transpose_0(R_76), t_75);
        float3  _S10322 = make_float3 (0.282094806432724f) * (*sh_coeffs_27)[int(0)];
        *rgbs_7 = _S10322;
        float _S10323 = _S10321.x;
        float _S10324 = _S10321.y;
        float _S10325 = _S10321.z;
        float norm_18 = (F32_sqrt((_S10323 * _S10323 + _S10324 * _S10324 + _S10325 * _S10325)));
        float x_91 = _S10323 / norm_18;
        float y_30 = _S10324 / norm_18;
        float z_27 = _S10325 / norm_18;
        float3  _S10326 = _S10322 + make_float3 (0.48860251903533936f) * (make_float3 (- y_30) * (*sh_coeffs_27)[int(1)] + make_float3 (z_27) * (*sh_coeffs_27)[int(2)] - make_float3 (x_91) * (*sh_coeffs_27)[int(3)]);
        *rgbs_7 = _S10326;
        float z2_116 = z_27 * z_27;
        float fTmp0B_27 = -1.09254848957061768f * z_27;
        float fC1_27 = x_91 * x_91 - y_30 * y_30;
        float fS1_27 = 2.0f * x_91 * y_30;
        float3  _S10327 = _S10326 + (make_float3 (0.54627424478530884f * fS1_27) * (*sh_coeffs_27)[int(4)] + make_float3 (fTmp0B_27 * y_30) * (*sh_coeffs_27)[int(5)] + make_float3 (0.94617468118667603f * z2_116 - 0.31539157032966614f) * (*sh_coeffs_27)[int(6)] + make_float3 (fTmp0B_27 * x_91) * (*sh_coeffs_27)[int(7)] + make_float3 (0.54627424478530884f * fC1_27) * (*sh_coeffs_27)[int(8)]);
        *rgbs_7 = _S10327;
        float fTmp0C_27 = -2.28522896766662598f * z2_116 + 0.4570457935333252f;
        float fTmp1B_27 = 1.44530570507049561f * z_27;
        *rgbs_7 = max_0(_S10327 + (make_float3 (-0.59004360437393188f * (x_91 * fS1_27 + y_30 * fC1_27)) * (*sh_coeffs_27)[int(9)] + make_float3 (fTmp1B_27 * fS1_27) * (*sh_coeffs_27)[int(10)] + make_float3 (fTmp0C_27 * y_30) * (*sh_coeffs_27)[int(11)] + make_float3 (z_27 * (1.86588168144226074f * z2_116 - 1.11952900886535645f)) * (*sh_coeffs_27)[int(12)] + make_float3 (fTmp0C_27 * x_91) * (*sh_coeffs_27)[int(13)] + make_float3 (fTmp1B_27 * fC1_27) * (*sh_coeffs_27)[int(14)] + make_float3 (-0.59004360437393188f * (x_91 * fC1_27 - y_30 * fS1_27)) * (*sh_coeffs_27)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye(float3  pos_1, float size_1, FixedArray<float, 8>  * densities_1, FixedArray<float3 , 16>  * sh_coeffs_28, Matrix<float, 3, 3>  R_77, float3  t_76, float fx_107, float fy_107, float cx_102, float cy_102, FixedArray<float, 10>  * dist_coeffs_111, uint image_width_98, uint image_height_98, float near_plane_75, float far_plane_75, int4  * aabb_xyxy_61, float * depth_50, float3  * rgbs_8)
{
    float2  * _S10328;
    bool _S10329;
    float2  * _S10330;
    bool _S10331;
    float2  * _S10332;
    bool _S10333;
    float2  * _S10334;
    bool _S10335;
    float2  * _S10336;
    bool _S10337;
    float2  * _S10338;
    bool _S10339;
    float2  * _S10340;
    bool _S10341;
    float2  * _S10342;
    bool _S10343;
    bool _S10344;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_1;
        float3  _S10345 = mul_0(R_77, pos_1) + t_76;
        pos_c_1[int(0)] = _S10345;
        float _S10346 = length_1(_S10345);
        float _S10347 = (F32_min((far_plane_75), (_S10346)));
        float _S10348 = (F32_max((near_plane_75), (_S10346)));
        float3  _S10349 = mul_0(R_77, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 0.0f)) + t_76;
        pos_c_1[int(1)] = _S10349;
        float _S10350 = length_1(_S10349);
        float _S10351 = (F32_min((_S10347), (_S10350)));
        float _S10352 = (F32_max((_S10348), (_S10350)));
        float3  _S10353 = mul_0(R_77, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 0.0f)) + t_76;
        pos_c_1[int(2)] = _S10353;
        float _S10354 = length_1(_S10353);
        float _S10355 = (F32_min((_S10351), (_S10354)));
        float _S10356 = (F32_max((_S10352), (_S10354)));
        float3  _S10357 = mul_0(R_77, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 1.0f, 0.0f)) + t_76;
        pos_c_1[int(3)] = _S10357;
        float _S10358 = length_1(_S10357);
        float _S10359 = (F32_min((_S10355), (_S10358)));
        float _S10360 = (F32_max((_S10356), (_S10358)));
        float3  _S10361 = mul_0(R_77, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 0.0f, 1.0f)) + t_76;
        pos_c_1[int(4)] = _S10361;
        float _S10362 = length_1(_S10361);
        float _S10363 = (F32_min((_S10359), (_S10362)));
        float _S10364 = (F32_max((_S10360), (_S10362)));
        float3  _S10365 = mul_0(R_77, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 1.0f)) + t_76;
        pos_c_1[int(5)] = _S10365;
        float _S10366 = length_1(_S10365);
        float _S10367 = (F32_min((_S10363), (_S10366)));
        float _S10368 = (F32_max((_S10364), (_S10366)));
        float3  _S10369 = mul_0(R_77, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 1.0f)) + t_76;
        pos_c_1[int(6)] = _S10369;
        float _S10370 = length_1(_S10369);
        float _S10371 = (F32_min((_S10367), (_S10370)));
        float _S10372 = (F32_max((_S10368), (_S10370)));
        float3  _S10373 = mul_0(R_77, pos_1 + make_float3 (size_1)) + t_76;
        pos_c_1[int(7)] = _S10373;
        float _S10374 = length_1(_S10373);
        float _S10375 = (F32_min((_S10371), (_S10374)));
        float _S10376 = (F32_max((_S10372), (_S10374)));
        bool _S10377;
        if(_S10375 < near_plane_75)
        {
            _S10377 = true;
        }
        else
        {
            _S10377 = _S10376 > far_plane_75;
        }
        if(_S10377)
        {
            *aabb_xyxy_61 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_84 = mul_0(R_77, pos_1 + make_float3 (0.5f * size_1)) + t_76;
        FixedArray<float2 , 8>  uv_8;
        for(;;)
        {
            float k_13;
            float3  _S10378 = pos_c_1[int(0)];
            _S10328 = &uv_8[int(0)];
            for(;;)
            {
                float2  _S10379 = float2 {_S10378.x, _S10378.y};
                float r_36 = length_0(_S10379);
                float _S10380 = _S10378.z;
                float theta_32 = (F32_atan2((r_36), (_S10380)));
                if(theta_32 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_32 * theta_32 / 3.0f) / _S10380;
                }
                else
                {
                    k_13 = theta_32 / r_36;
                }
                float2  _S10381 = _S10379 * make_float2 (k_13);
                uv_8[int(0)] = _S10381;
                Matrix<float, 2, 2>  _S10382 = camera_distortion_jac_0(_S10381, dist_coeffs_111);
                bool _S10383 = !((F32_min((determinant_0(_S10382)), ((F32_min((_S10382.rows[int(0)].x), (_S10382.rows[int(1)].y)))))) > 0.0f);
                _S10329 = _S10383;
                if(_S10383)
                {
                    break;
                }
                float u_93 = uv_8[int(0)].x;
                float v_93 = uv_8[int(0)].y;
                float r2_88 = u_93 * u_93 + v_93 * v_93;
                float2  _S10384 = uv_8[int(0)] * make_float2 (1.0f + r2_88 * ((*dist_coeffs_111)[int(0)] + r2_88 * ((*dist_coeffs_111)[int(1)] + r2_88 * ((*dist_coeffs_111)[int(2)] + r2_88 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_93 * v_93 + (*dist_coeffs_111)[int(5)] * (r2_88 + 2.0f * u_93 * u_93) + (*dist_coeffs_111)[int(6)] * r2_88, 2.0f * (*dist_coeffs_111)[int(5)] * u_93 * v_93 + (*dist_coeffs_111)[int(4)] * (r2_88 + 2.0f * v_93 * v_93) + (*dist_coeffs_111)[int(7)] * r2_88);
                float2  _S10385 = _S10384 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10384.x + (*dist_coeffs_111)[int(9)] * _S10384.y, 0.0f);
                uv_8[int(0)] = make_float2 (fx_107 * _S10385.x + cx_102, fy_107 * _S10385.y + cy_102);
                break;
            }
            bool all_valid_23 = true & (!_S10329);
            float3  _S10386 = pos_c_1[int(1)];
            _S10330 = &uv_8[int(1)];
            for(;;)
            {
                float2  _S10387 = float2 {_S10386.x, _S10386.y};
                float r_37 = length_0(_S10387);
                float _S10388 = _S10386.z;
                float theta_33 = (F32_atan2((r_37), (_S10388)));
                if(theta_33 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_33 * theta_33 / 3.0f) / _S10388;
                }
                else
                {
                    k_13 = theta_33 / r_37;
                }
                float2  _S10389 = _S10387 * make_float2 (k_13);
                uv_8[int(1)] = _S10389;
                Matrix<float, 2, 2>  _S10390 = camera_distortion_jac_0(_S10389, dist_coeffs_111);
                bool _S10391 = !((F32_min((determinant_0(_S10390)), ((F32_min((_S10390.rows[int(0)].x), (_S10390.rows[int(1)].y)))))) > 0.0f);
                _S10331 = _S10391;
                if(_S10391)
                {
                    break;
                }
                float u_94 = uv_8[int(1)].x;
                float v_94 = uv_8[int(1)].y;
                float r2_89 = u_94 * u_94 + v_94 * v_94;
                float2  _S10392 = uv_8[int(1)] * make_float2 (1.0f + r2_89 * ((*dist_coeffs_111)[int(0)] + r2_89 * ((*dist_coeffs_111)[int(1)] + r2_89 * ((*dist_coeffs_111)[int(2)] + r2_89 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_94 * v_94 + (*dist_coeffs_111)[int(5)] * (r2_89 + 2.0f * u_94 * u_94) + (*dist_coeffs_111)[int(6)] * r2_89, 2.0f * (*dist_coeffs_111)[int(5)] * u_94 * v_94 + (*dist_coeffs_111)[int(4)] * (r2_89 + 2.0f * v_94 * v_94) + (*dist_coeffs_111)[int(7)] * r2_89);
                float2  _S10393 = _S10392 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10392.x + (*dist_coeffs_111)[int(9)] * _S10392.y, 0.0f);
                uv_8[int(1)] = make_float2 (fx_107 * _S10393.x + cx_102, fy_107 * _S10393.y + cy_102);
                break;
            }
            bool all_valid_24 = all_valid_23 & (!_S10331);
            float3  _S10394 = pos_c_1[int(2)];
            _S10332 = &uv_8[int(2)];
            for(;;)
            {
                float2  _S10395 = float2 {_S10394.x, _S10394.y};
                float r_38 = length_0(_S10395);
                float _S10396 = _S10394.z;
                float theta_34 = (F32_atan2((r_38), (_S10396)));
                if(theta_34 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_34 * theta_34 / 3.0f) / _S10396;
                }
                else
                {
                    k_13 = theta_34 / r_38;
                }
                float2  _S10397 = _S10395 * make_float2 (k_13);
                uv_8[int(2)] = _S10397;
                Matrix<float, 2, 2>  _S10398 = camera_distortion_jac_0(_S10397, dist_coeffs_111);
                bool _S10399 = !((F32_min((determinant_0(_S10398)), ((F32_min((_S10398.rows[int(0)].x), (_S10398.rows[int(1)].y)))))) > 0.0f);
                _S10333 = _S10399;
                if(_S10399)
                {
                    break;
                }
                float u_95 = uv_8[int(2)].x;
                float v_95 = uv_8[int(2)].y;
                float r2_90 = u_95 * u_95 + v_95 * v_95;
                float2  _S10400 = uv_8[int(2)] * make_float2 (1.0f + r2_90 * ((*dist_coeffs_111)[int(0)] + r2_90 * ((*dist_coeffs_111)[int(1)] + r2_90 * ((*dist_coeffs_111)[int(2)] + r2_90 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_95 * v_95 + (*dist_coeffs_111)[int(5)] * (r2_90 + 2.0f * u_95 * u_95) + (*dist_coeffs_111)[int(6)] * r2_90, 2.0f * (*dist_coeffs_111)[int(5)] * u_95 * v_95 + (*dist_coeffs_111)[int(4)] * (r2_90 + 2.0f * v_95 * v_95) + (*dist_coeffs_111)[int(7)] * r2_90);
                float2  _S10401 = _S10400 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10400.x + (*dist_coeffs_111)[int(9)] * _S10400.y, 0.0f);
                uv_8[int(2)] = make_float2 (fx_107 * _S10401.x + cx_102, fy_107 * _S10401.y + cy_102);
                break;
            }
            bool all_valid_25 = all_valid_24 & (!_S10333);
            float3  _S10402 = pos_c_1[int(3)];
            _S10334 = &uv_8[int(3)];
            for(;;)
            {
                float2  _S10403 = float2 {_S10402.x, _S10402.y};
                float r_39 = length_0(_S10403);
                float _S10404 = _S10402.z;
                float theta_35 = (F32_atan2((r_39), (_S10404)));
                if(theta_35 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_35 * theta_35 / 3.0f) / _S10404;
                }
                else
                {
                    k_13 = theta_35 / r_39;
                }
                float2  _S10405 = _S10403 * make_float2 (k_13);
                uv_8[int(3)] = _S10405;
                Matrix<float, 2, 2>  _S10406 = camera_distortion_jac_0(_S10405, dist_coeffs_111);
                bool _S10407 = !((F32_min((determinant_0(_S10406)), ((F32_min((_S10406.rows[int(0)].x), (_S10406.rows[int(1)].y)))))) > 0.0f);
                _S10335 = _S10407;
                if(_S10407)
                {
                    break;
                }
                float u_96 = uv_8[int(3)].x;
                float v_96 = uv_8[int(3)].y;
                float r2_91 = u_96 * u_96 + v_96 * v_96;
                float2  _S10408 = uv_8[int(3)] * make_float2 (1.0f + r2_91 * ((*dist_coeffs_111)[int(0)] + r2_91 * ((*dist_coeffs_111)[int(1)] + r2_91 * ((*dist_coeffs_111)[int(2)] + r2_91 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_96 * v_96 + (*dist_coeffs_111)[int(5)] * (r2_91 + 2.0f * u_96 * u_96) + (*dist_coeffs_111)[int(6)] * r2_91, 2.0f * (*dist_coeffs_111)[int(5)] * u_96 * v_96 + (*dist_coeffs_111)[int(4)] * (r2_91 + 2.0f * v_96 * v_96) + (*dist_coeffs_111)[int(7)] * r2_91);
                float2  _S10409 = _S10408 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10408.x + (*dist_coeffs_111)[int(9)] * _S10408.y, 0.0f);
                uv_8[int(3)] = make_float2 (fx_107 * _S10409.x + cx_102, fy_107 * _S10409.y + cy_102);
                break;
            }
            bool all_valid_26 = all_valid_25 & (!_S10335);
            float3  _S10410 = pos_c_1[int(4)];
            _S10336 = &uv_8[int(4)];
            for(;;)
            {
                float2  _S10411 = float2 {_S10410.x, _S10410.y};
                float r_40 = length_0(_S10411);
                float _S10412 = _S10410.z;
                float theta_36 = (F32_atan2((r_40), (_S10412)));
                if(theta_36 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_36 * theta_36 / 3.0f) / _S10412;
                }
                else
                {
                    k_13 = theta_36 / r_40;
                }
                float2  _S10413 = _S10411 * make_float2 (k_13);
                uv_8[int(4)] = _S10413;
                Matrix<float, 2, 2>  _S10414 = camera_distortion_jac_0(_S10413, dist_coeffs_111);
                bool _S10415 = !((F32_min((determinant_0(_S10414)), ((F32_min((_S10414.rows[int(0)].x), (_S10414.rows[int(1)].y)))))) > 0.0f);
                _S10337 = _S10415;
                if(_S10415)
                {
                    break;
                }
                float u_97 = uv_8[int(4)].x;
                float v_97 = uv_8[int(4)].y;
                float r2_92 = u_97 * u_97 + v_97 * v_97;
                float2  _S10416 = uv_8[int(4)] * make_float2 (1.0f + r2_92 * ((*dist_coeffs_111)[int(0)] + r2_92 * ((*dist_coeffs_111)[int(1)] + r2_92 * ((*dist_coeffs_111)[int(2)] + r2_92 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_97 * v_97 + (*dist_coeffs_111)[int(5)] * (r2_92 + 2.0f * u_97 * u_97) + (*dist_coeffs_111)[int(6)] * r2_92, 2.0f * (*dist_coeffs_111)[int(5)] * u_97 * v_97 + (*dist_coeffs_111)[int(4)] * (r2_92 + 2.0f * v_97 * v_97) + (*dist_coeffs_111)[int(7)] * r2_92);
                float2  _S10417 = _S10416 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10416.x + (*dist_coeffs_111)[int(9)] * _S10416.y, 0.0f);
                uv_8[int(4)] = make_float2 (fx_107 * _S10417.x + cx_102, fy_107 * _S10417.y + cy_102);
                break;
            }
            bool all_valid_27 = all_valid_26 & (!_S10337);
            float3  _S10418 = pos_c_1[int(5)];
            _S10338 = &uv_8[int(5)];
            for(;;)
            {
                float2  _S10419 = float2 {_S10418.x, _S10418.y};
                float r_41 = length_0(_S10419);
                float _S10420 = _S10418.z;
                float theta_37 = (F32_atan2((r_41), (_S10420)));
                if(theta_37 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_37 * theta_37 / 3.0f) / _S10420;
                }
                else
                {
                    k_13 = theta_37 / r_41;
                }
                float2  _S10421 = _S10419 * make_float2 (k_13);
                uv_8[int(5)] = _S10421;
                Matrix<float, 2, 2>  _S10422 = camera_distortion_jac_0(_S10421, dist_coeffs_111);
                bool _S10423 = !((F32_min((determinant_0(_S10422)), ((F32_min((_S10422.rows[int(0)].x), (_S10422.rows[int(1)].y)))))) > 0.0f);
                _S10339 = _S10423;
                if(_S10423)
                {
                    break;
                }
                float u_98 = uv_8[int(5)].x;
                float v_98 = uv_8[int(5)].y;
                float r2_93 = u_98 * u_98 + v_98 * v_98;
                float2  _S10424 = uv_8[int(5)] * make_float2 (1.0f + r2_93 * ((*dist_coeffs_111)[int(0)] + r2_93 * ((*dist_coeffs_111)[int(1)] + r2_93 * ((*dist_coeffs_111)[int(2)] + r2_93 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_98 * v_98 + (*dist_coeffs_111)[int(5)] * (r2_93 + 2.0f * u_98 * u_98) + (*dist_coeffs_111)[int(6)] * r2_93, 2.0f * (*dist_coeffs_111)[int(5)] * u_98 * v_98 + (*dist_coeffs_111)[int(4)] * (r2_93 + 2.0f * v_98 * v_98) + (*dist_coeffs_111)[int(7)] * r2_93);
                float2  _S10425 = _S10424 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10424.x + (*dist_coeffs_111)[int(9)] * _S10424.y, 0.0f);
                uv_8[int(5)] = make_float2 (fx_107 * _S10425.x + cx_102, fy_107 * _S10425.y + cy_102);
                break;
            }
            bool all_valid_28 = all_valid_27 & (!_S10339);
            float3  _S10426 = pos_c_1[int(6)];
            _S10340 = &uv_8[int(6)];
            for(;;)
            {
                float2  _S10427 = float2 {_S10426.x, _S10426.y};
                float r_42 = length_0(_S10427);
                float _S10428 = _S10426.z;
                float theta_38 = (F32_atan2((r_42), (_S10428)));
                if(theta_38 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_38 * theta_38 / 3.0f) / _S10428;
                }
                else
                {
                    k_13 = theta_38 / r_42;
                }
                float2  _S10429 = _S10427 * make_float2 (k_13);
                uv_8[int(6)] = _S10429;
                Matrix<float, 2, 2>  _S10430 = camera_distortion_jac_0(_S10429, dist_coeffs_111);
                bool _S10431 = !((F32_min((determinant_0(_S10430)), ((F32_min((_S10430.rows[int(0)].x), (_S10430.rows[int(1)].y)))))) > 0.0f);
                _S10341 = _S10431;
                if(_S10431)
                {
                    break;
                }
                float u_99 = uv_8[int(6)].x;
                float v_99 = uv_8[int(6)].y;
                float r2_94 = u_99 * u_99 + v_99 * v_99;
                float2  _S10432 = uv_8[int(6)] * make_float2 (1.0f + r2_94 * ((*dist_coeffs_111)[int(0)] + r2_94 * ((*dist_coeffs_111)[int(1)] + r2_94 * ((*dist_coeffs_111)[int(2)] + r2_94 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_99 * v_99 + (*dist_coeffs_111)[int(5)] * (r2_94 + 2.0f * u_99 * u_99) + (*dist_coeffs_111)[int(6)] * r2_94, 2.0f * (*dist_coeffs_111)[int(5)] * u_99 * v_99 + (*dist_coeffs_111)[int(4)] * (r2_94 + 2.0f * v_99 * v_99) + (*dist_coeffs_111)[int(7)] * r2_94);
                float2  _S10433 = _S10432 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10432.x + (*dist_coeffs_111)[int(9)] * _S10432.y, 0.0f);
                uv_8[int(6)] = make_float2 (fx_107 * _S10433.x + cx_102, fy_107 * _S10433.y + cy_102);
                break;
            }
            bool all_valid_29 = all_valid_28 & (!_S10341);
            float3  _S10434 = pos_c_1[int(7)];
            _S10342 = &uv_8[int(7)];
            for(;;)
            {
                float2  _S10435 = float2 {_S10434.x, _S10434.y};
                float r_43 = length_0(_S10435);
                float _S10436 = _S10434.z;
                float theta_39 = (F32_atan2((r_43), (_S10436)));
                if(theta_39 < 0.00100000004749745f)
                {
                    k_13 = (1.0f - theta_39 * theta_39 / 3.0f) / _S10436;
                }
                else
                {
                    k_13 = theta_39 / r_43;
                }
                float2  _S10437 = _S10435 * make_float2 (k_13);
                uv_8[int(7)] = _S10437;
                Matrix<float, 2, 2>  _S10438 = camera_distortion_jac_0(_S10437, dist_coeffs_111);
                bool _S10439 = !((F32_min((determinant_0(_S10438)), ((F32_min((_S10438.rows[int(0)].x), (_S10438.rows[int(1)].y)))))) > 0.0f);
                _S10343 = _S10439;
                if(_S10439)
                {
                    break;
                }
                float u_100 = uv_8[int(7)].x;
                float v_100 = uv_8[int(7)].y;
                float r2_95 = u_100 * u_100 + v_100 * v_100;
                float2  _S10440 = uv_8[int(7)] * make_float2 (1.0f + r2_95 * ((*dist_coeffs_111)[int(0)] + r2_95 * ((*dist_coeffs_111)[int(1)] + r2_95 * ((*dist_coeffs_111)[int(2)] + r2_95 * (*dist_coeffs_111)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_111)[int(4)] * u_100 * v_100 + (*dist_coeffs_111)[int(5)] * (r2_95 + 2.0f * u_100 * u_100) + (*dist_coeffs_111)[int(6)] * r2_95, 2.0f * (*dist_coeffs_111)[int(5)] * u_100 * v_100 + (*dist_coeffs_111)[int(4)] * (r2_95 + 2.0f * v_100 * v_100) + (*dist_coeffs_111)[int(7)] * r2_95);
                float2  _S10441 = _S10440 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10440.x + (*dist_coeffs_111)[int(9)] * _S10440.y, 0.0f);
                uv_8[int(7)] = make_float2 (fx_107 * _S10441.x + cx_102, fy_107 * _S10441.y + cy_102);
                break;
            }
            _S10344 = all_valid_29 & (!_S10343);
            break;
        }
        if(!_S10344)
        {
            *aabb_xyxy_61 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_1)[int(0)]), ((*densities_1)[int(1)])))), ((*densities_1)[int(2)])))), ((*densities_1)[int(3)])))), ((*densities_1)[int(4)])))), ((*densities_1)[int(5)])))), ((*densities_1)[int(6)])))), ((*densities_1)[int(7)]))) * size_1 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_61 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S10442 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10328).x), ((*_S10330).x)))), ((*_S10332).x)))), ((*_S10334).x)))), ((*_S10336).x)))), ((*_S10338).x)))), ((*_S10340).x)))), ((*_S10342).x)));
        float _S10443 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10328).x), ((*_S10330).x)))), ((*_S10332).x)))), ((*_S10334).x)))), ((*_S10336).x)))), ((*_S10338).x)))), ((*_S10340).x)))), ((*_S10342).x)));
        float _S10444 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10328).y), ((*_S10330).y)))), ((*_S10332).y)))), ((*_S10334).y)))), ((*_S10336).y)))), ((*_S10338).y)))), ((*_S10340).y)))), ((*_S10342).y)));
        float _S10445 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10328).y), ((*_S10330).y)))), ((*_S10332).y)))), ((*_S10334).y)))), ((*_S10336).y)))), ((*_S10338).y)))), ((*_S10340).y)))), ((*_S10342).y)));
        if(_S10442 <= 0.0f)
        {
            _S10377 = true;
        }
        else
        {
            _S10377 = _S10443 >= float(image_width_98);
        }
        if(_S10377)
        {
            _S10377 = true;
        }
        else
        {
            _S10377 = _S10444 <= 0.0f;
        }
        if(_S10377)
        {
            _S10377 = true;
        }
        else
        {
            _S10377 = _S10445 >= float(image_height_98);
        }
        if(_S10377)
        {
            _S10377 = true;
        }
        else
        {
            if(_S10375 <= 0.0f)
            {
                if(_S10443 <= 0.0f)
                {
                    _S10377 = _S10442 >= float(image_width_98);
                }
                else
                {
                    _S10377 = false;
                }
                if(_S10377)
                {
                    _S10377 = true;
                }
                else
                {
                    if(_S10445 <= 0.0f)
                    {
                        _S10377 = _S10444 >= float(image_width_98);
                    }
                    else
                    {
                        _S10377 = false;
                    }
                }
            }
            else
            {
                _S10377 = false;
            }
        }
        if(_S10377)
        {
            *aabb_xyxy_61 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_61 = make_int4 (int((F32_floor((_S10443)))), int((F32_floor((_S10445)))), int((F32_ceil((_S10442)))), int((F32_ceil((_S10444)))));
        *depth_50 = 0.5f * (F32_log((dot_0(mean_c_84, mean_c_84) + 9.99999997475242708e-07f)));
        float3  _S10446 = mean_c_84 - - mul_0(transpose_0(R_77), t_76);
        float3  _S10447 = make_float3 (0.282094806432724f) * (*sh_coeffs_28)[int(0)];
        *rgbs_8 = _S10447;
        float _S10448 = _S10446.x;
        float _S10449 = _S10446.y;
        float _S10450 = _S10446.z;
        float norm_19 = (F32_sqrt((_S10448 * _S10448 + _S10449 * _S10449 + _S10450 * _S10450)));
        float x_92 = _S10448 / norm_19;
        float y_31 = _S10449 / norm_19;
        float z_28 = _S10450 / norm_19;
        float3  _S10451 = _S10447 + make_float3 (0.48860251903533936f) * (make_float3 (- y_31) * (*sh_coeffs_28)[int(1)] + make_float3 (z_28) * (*sh_coeffs_28)[int(2)] - make_float3 (x_92) * (*sh_coeffs_28)[int(3)]);
        *rgbs_8 = _S10451;
        float z2_117 = z_28 * z_28;
        float fTmp0B_28 = -1.09254848957061768f * z_28;
        float fC1_28 = x_92 * x_92 - y_31 * y_31;
        float fS1_28 = 2.0f * x_92 * y_31;
        float3  _S10452 = _S10451 + (make_float3 (0.54627424478530884f * fS1_28) * (*sh_coeffs_28)[int(4)] + make_float3 (fTmp0B_28 * y_31) * (*sh_coeffs_28)[int(5)] + make_float3 (0.94617468118667603f * z2_117 - 0.31539157032966614f) * (*sh_coeffs_28)[int(6)] + make_float3 (fTmp0B_28 * x_92) * (*sh_coeffs_28)[int(7)] + make_float3 (0.54627424478530884f * fC1_28) * (*sh_coeffs_28)[int(8)]);
        *rgbs_8 = _S10452;
        float fTmp0C_28 = -2.28522896766662598f * z2_117 + 0.4570457935333252f;
        float fTmp1B_28 = 1.44530570507049561f * z_28;
        *rgbs_8 = max_0(_S10452 + (make_float3 (-0.59004360437393188f * (x_92 * fS1_28 + y_31 * fC1_28)) * (*sh_coeffs_28)[int(9)] + make_float3 (fTmp1B_28 * fS1_28) * (*sh_coeffs_28)[int(10)] + make_float3 (fTmp0C_28 * y_31) * (*sh_coeffs_28)[int(11)] + make_float3 (z_28 * (1.86588168144226074f * z2_117 - 1.11952900886535645f)) * (*sh_coeffs_28)[int(12)] + make_float3 (fTmp0C_28 * x_92) * (*sh_coeffs_28)[int(13)] + make_float3 (fTmp1B_28 * fC1_28) * (*sh_coeffs_28)[int(14)] + make_float3 (-0.59004360437393188f * (x_92 * fC1_28 - y_31 * fS1_28)) * (*sh_coeffs_28)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_voxel_eval3d_persp_differentiable(float3  pos_2, float size_2, FixedArray<float, 8>  * densities_2, FixedArray<float3 , 16>  * sh_coeffs_29, Matrix<float, 3, 3>  R_78, float3  t_77, float fx_108, float fy_108, float cx_103, float cy_103, FixedArray<float, 10>  * dist_coeffs_112, uint image_width_99, uint image_height_99, float near_plane_76, float far_plane_76, int4  * aabb_xyxy_62, float * depth_51, float3  * rgbs_9)
{
    FixedArray<float3 , 8>  pos_c_2;
    float3  _S10453 = mul_0(R_78, pos_2) + t_77;
    pos_c_2[int(0)] = _S10453;
    float3  _S10454 = mul_0(R_78, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 0.0f)) + t_77;
    pos_c_2[int(1)] = _S10454;
    float3  _S10455 = mul_0(R_78, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 0.0f)) + t_77;
    pos_c_2[int(2)] = _S10455;
    float3  _S10456 = mul_0(R_78, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 1.0f, 0.0f)) + t_77;
    pos_c_2[int(3)] = _S10456;
    float3  _S10457 = mul_0(R_78, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 0.0f, 1.0f)) + t_77;
    pos_c_2[int(4)] = _S10457;
    float3  _S10458 = mul_0(R_78, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 1.0f)) + t_77;
    pos_c_2[int(5)] = _S10458;
    float3  _S10459 = mul_0(R_78, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 1.0f)) + t_77;
    pos_c_2[int(6)] = _S10459;
    float3  _S10460 = mul_0(R_78, pos_2 + make_float3 (size_2)) + t_77;
    pos_c_2[int(7)] = _S10460;
    float3  mean_c_85 = mul_0(R_78, pos_2 + make_float3 (0.5f * size_2)) + t_77;
    FixedArray<float2 , 8>  uv_9;
    float2  _S10461 = float2 {_S10453.x, _S10453.y} / make_float2 (_S10453.z);
    float u_101 = _S10461.x;
    float v_101 = _S10461.y;
    float r2_96 = u_101 * u_101 + v_101 * v_101;
    float _S10462 = 2.0f * (*dist_coeffs_112)[int(4)];
    float _S10463 = 2.0f * (*dist_coeffs_112)[int(5)];
    float2  _S10464 = _S10461 * make_float2 (1.0f + r2_96 * ((*dist_coeffs_112)[int(0)] + r2_96 * ((*dist_coeffs_112)[int(1)] + r2_96 * ((*dist_coeffs_112)[int(2)] + r2_96 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_101 * v_101 + (*dist_coeffs_112)[int(5)] * (r2_96 + 2.0f * u_101 * u_101) + (*dist_coeffs_112)[int(6)] * r2_96, _S10463 * u_101 * v_101 + (*dist_coeffs_112)[int(4)] * (r2_96 + 2.0f * v_101 * v_101) + (*dist_coeffs_112)[int(7)] * r2_96);
    float2  _S10465 = _S10464 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10464.x + (*dist_coeffs_112)[int(9)] * _S10464.y, 0.0f);
    float _S10466 = fx_108 * _S10465.x + cx_103;
    float _S10467 = fy_108 * _S10465.y + cy_103;
    uv_9[int(0)] = make_float2 (_S10466, _S10467);
    float2  _S10468 = float2 {_S10454.x, _S10454.y} / make_float2 (_S10454.z);
    float u_102 = _S10468.x;
    float v_102 = _S10468.y;
    float r2_97 = u_102 * u_102 + v_102 * v_102;
    float2  _S10469 = _S10468 * make_float2 (1.0f + r2_97 * ((*dist_coeffs_112)[int(0)] + r2_97 * ((*dist_coeffs_112)[int(1)] + r2_97 * ((*dist_coeffs_112)[int(2)] + r2_97 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_102 * v_102 + (*dist_coeffs_112)[int(5)] * (r2_97 + 2.0f * u_102 * u_102) + (*dist_coeffs_112)[int(6)] * r2_97, _S10463 * u_102 * v_102 + (*dist_coeffs_112)[int(4)] * (r2_97 + 2.0f * v_102 * v_102) + (*dist_coeffs_112)[int(7)] * r2_97);
    float2  _S10470 = _S10469 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10469.x + (*dist_coeffs_112)[int(9)] * _S10469.y, 0.0f);
    float _S10471 = fx_108 * _S10470.x + cx_103;
    float _S10472 = fy_108 * _S10470.y + cy_103;
    uv_9[int(1)] = make_float2 (_S10471, _S10472);
    float2  _S10473 = float2 {_S10455.x, _S10455.y} / make_float2 (_S10455.z);
    float u_103 = _S10473.x;
    float v_103 = _S10473.y;
    float r2_98 = u_103 * u_103 + v_103 * v_103;
    float2  _S10474 = _S10473 * make_float2 (1.0f + r2_98 * ((*dist_coeffs_112)[int(0)] + r2_98 * ((*dist_coeffs_112)[int(1)] + r2_98 * ((*dist_coeffs_112)[int(2)] + r2_98 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_103 * v_103 + (*dist_coeffs_112)[int(5)] * (r2_98 + 2.0f * u_103 * u_103) + (*dist_coeffs_112)[int(6)] * r2_98, _S10463 * u_103 * v_103 + (*dist_coeffs_112)[int(4)] * (r2_98 + 2.0f * v_103 * v_103) + (*dist_coeffs_112)[int(7)] * r2_98);
    float2  _S10475 = _S10474 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10474.x + (*dist_coeffs_112)[int(9)] * _S10474.y, 0.0f);
    float _S10476 = fx_108 * _S10475.x + cx_103;
    float _S10477 = fy_108 * _S10475.y + cy_103;
    uv_9[int(2)] = make_float2 (_S10476, _S10477);
    float2  _S10478 = float2 {_S10456.x, _S10456.y} / make_float2 (_S10456.z);
    float u_104 = _S10478.x;
    float v_104 = _S10478.y;
    float r2_99 = u_104 * u_104 + v_104 * v_104;
    float2  _S10479 = _S10478 * make_float2 (1.0f + r2_99 * ((*dist_coeffs_112)[int(0)] + r2_99 * ((*dist_coeffs_112)[int(1)] + r2_99 * ((*dist_coeffs_112)[int(2)] + r2_99 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_104 * v_104 + (*dist_coeffs_112)[int(5)] * (r2_99 + 2.0f * u_104 * u_104) + (*dist_coeffs_112)[int(6)] * r2_99, _S10463 * u_104 * v_104 + (*dist_coeffs_112)[int(4)] * (r2_99 + 2.0f * v_104 * v_104) + (*dist_coeffs_112)[int(7)] * r2_99);
    float2  _S10480 = _S10479 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10479.x + (*dist_coeffs_112)[int(9)] * _S10479.y, 0.0f);
    float _S10481 = fx_108 * _S10480.x + cx_103;
    float _S10482 = fy_108 * _S10480.y + cy_103;
    uv_9[int(3)] = make_float2 (_S10481, _S10482);
    float2  _S10483 = float2 {_S10457.x, _S10457.y} / make_float2 (_S10457.z);
    float u_105 = _S10483.x;
    float v_105 = _S10483.y;
    float r2_100 = u_105 * u_105 + v_105 * v_105;
    float2  _S10484 = _S10483 * make_float2 (1.0f + r2_100 * ((*dist_coeffs_112)[int(0)] + r2_100 * ((*dist_coeffs_112)[int(1)] + r2_100 * ((*dist_coeffs_112)[int(2)] + r2_100 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_105 * v_105 + (*dist_coeffs_112)[int(5)] * (r2_100 + 2.0f * u_105 * u_105) + (*dist_coeffs_112)[int(6)] * r2_100, _S10463 * u_105 * v_105 + (*dist_coeffs_112)[int(4)] * (r2_100 + 2.0f * v_105 * v_105) + (*dist_coeffs_112)[int(7)] * r2_100);
    float2  _S10485 = _S10484 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10484.x + (*dist_coeffs_112)[int(9)] * _S10484.y, 0.0f);
    float _S10486 = fx_108 * _S10485.x + cx_103;
    float _S10487 = fy_108 * _S10485.y + cy_103;
    uv_9[int(4)] = make_float2 (_S10486, _S10487);
    float2  _S10488 = float2 {_S10458.x, _S10458.y} / make_float2 (_S10458.z);
    float u_106 = _S10488.x;
    float v_106 = _S10488.y;
    float r2_101 = u_106 * u_106 + v_106 * v_106;
    float2  _S10489 = _S10488 * make_float2 (1.0f + r2_101 * ((*dist_coeffs_112)[int(0)] + r2_101 * ((*dist_coeffs_112)[int(1)] + r2_101 * ((*dist_coeffs_112)[int(2)] + r2_101 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_106 * v_106 + (*dist_coeffs_112)[int(5)] * (r2_101 + 2.0f * u_106 * u_106) + (*dist_coeffs_112)[int(6)] * r2_101, _S10463 * u_106 * v_106 + (*dist_coeffs_112)[int(4)] * (r2_101 + 2.0f * v_106 * v_106) + (*dist_coeffs_112)[int(7)] * r2_101);
    float2  _S10490 = _S10489 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10489.x + (*dist_coeffs_112)[int(9)] * _S10489.y, 0.0f);
    float _S10491 = fx_108 * _S10490.x + cx_103;
    float _S10492 = fy_108 * _S10490.y + cy_103;
    uv_9[int(5)] = make_float2 (_S10491, _S10492);
    float2  _S10493 = float2 {_S10459.x, _S10459.y} / make_float2 (_S10459.z);
    float u_107 = _S10493.x;
    float v_107 = _S10493.y;
    float r2_102 = u_107 * u_107 + v_107 * v_107;
    float2  _S10494 = _S10493 * make_float2 (1.0f + r2_102 * ((*dist_coeffs_112)[int(0)] + r2_102 * ((*dist_coeffs_112)[int(1)] + r2_102 * ((*dist_coeffs_112)[int(2)] + r2_102 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_107 * v_107 + (*dist_coeffs_112)[int(5)] * (r2_102 + 2.0f * u_107 * u_107) + (*dist_coeffs_112)[int(6)] * r2_102, _S10463 * u_107 * v_107 + (*dist_coeffs_112)[int(4)] * (r2_102 + 2.0f * v_107 * v_107) + (*dist_coeffs_112)[int(7)] * r2_102);
    float2  _S10495 = _S10494 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10494.x + (*dist_coeffs_112)[int(9)] * _S10494.y, 0.0f);
    float _S10496 = fx_108 * _S10495.x + cx_103;
    float _S10497 = fy_108 * _S10495.y + cy_103;
    uv_9[int(6)] = make_float2 (_S10496, _S10497);
    float2  _S10498 = float2 {_S10460.x, _S10460.y} / make_float2 (_S10460.z);
    float u_108 = _S10498.x;
    float v_108 = _S10498.y;
    float r2_103 = u_108 * u_108 + v_108 * v_108;
    float2  _S10499 = _S10498 * make_float2 (1.0f + r2_103 * ((*dist_coeffs_112)[int(0)] + r2_103 * ((*dist_coeffs_112)[int(1)] + r2_103 * ((*dist_coeffs_112)[int(2)] + r2_103 * (*dist_coeffs_112)[int(3)])))) + make_float2 (_S10462 * u_108 * v_108 + (*dist_coeffs_112)[int(5)] * (r2_103 + 2.0f * u_108 * u_108) + (*dist_coeffs_112)[int(6)] * r2_103, _S10463 * u_108 * v_108 + (*dist_coeffs_112)[int(4)] * (r2_103 + 2.0f * v_108 * v_108) + (*dist_coeffs_112)[int(7)] * r2_103);
    float2  _S10500 = _S10499 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10499.x + (*dist_coeffs_112)[int(9)] * _S10499.y, 0.0f);
    float _S10501 = fx_108 * _S10500.x + cx_103;
    float _S10502 = fy_108 * _S10500.y + cy_103;
    uv_9[int(7)] = make_float2 (_S10501, _S10502);
    *aabb_xyxy_62 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S10466), (_S10471)))), (_S10476)))), (_S10481)))), (_S10486)))), (_S10491)))), (_S10496)))), (_S10501))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S10467), (_S10472)))), (_S10477)))), (_S10482)))), (_S10487)))), (_S10492)))), (_S10497)))), (_S10502))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S10466), (_S10471)))), (_S10476)))), (_S10481)))), (_S10486)))), (_S10491)))), (_S10496)))), (_S10501))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S10467), (_S10472)))), (_S10477)))), (_S10482)))), (_S10487)))), (_S10492)))), (_S10497)))), (_S10502))))))));
    *depth_51 = 0.5f * (F32_log((dot_0(mean_c_85, mean_c_85) + 9.99999997475242708e-07f)));
    float3  _S10503 = mean_c_85 - - mul_0(transpose_0(R_78), t_77);
    float3  _S10504 = make_float3 (0.282094806432724f) * (*sh_coeffs_29)[int(0)];
    *rgbs_9 = _S10504;
    float _S10505 = _S10503.x;
    float _S10506 = _S10503.y;
    float _S10507 = _S10503.z;
    float norm_20 = (F32_sqrt((_S10505 * _S10505 + _S10506 * _S10506 + _S10507 * _S10507)));
    float x_93 = _S10505 / norm_20;
    float y_32 = _S10506 / norm_20;
    float z_29 = _S10507 / norm_20;
    float3  _S10508 = _S10504 + make_float3 (0.48860251903533936f) * (make_float3 (- y_32) * (*sh_coeffs_29)[int(1)] + make_float3 (z_29) * (*sh_coeffs_29)[int(2)] - make_float3 (x_93) * (*sh_coeffs_29)[int(3)]);
    *rgbs_9 = _S10508;
    float z2_118 = z_29 * z_29;
    float fTmp0B_29 = -1.09254848957061768f * z_29;
    float fC1_29 = x_93 * x_93 - y_32 * y_32;
    float fS1_29 = 2.0f * x_93 * y_32;
    float3  _S10509 = _S10508 + (make_float3 (0.54627424478530884f * fS1_29) * (*sh_coeffs_29)[int(4)] + make_float3 (fTmp0B_29 * y_32) * (*sh_coeffs_29)[int(5)] + make_float3 (0.94617468118667603f * z2_118 - 0.31539157032966614f) * (*sh_coeffs_29)[int(6)] + make_float3 (fTmp0B_29 * x_93) * (*sh_coeffs_29)[int(7)] + make_float3 (0.54627424478530884f * fC1_29) * (*sh_coeffs_29)[int(8)]);
    *rgbs_9 = _S10509;
    float fTmp0C_29 = -2.28522896766662598f * z2_118 + 0.4570457935333252f;
    float fTmp1B_29 = 1.44530570507049561f * z_29;
    *rgbs_9 = max_0(_S10509 + (make_float3 (-0.59004360437393188f * (x_93 * fS1_29 + y_32 * fC1_29)) * (*sh_coeffs_29)[int(9)] + make_float3 (fTmp1B_29 * fS1_29) * (*sh_coeffs_29)[int(10)] + make_float3 (fTmp0C_29 * y_32) * (*sh_coeffs_29)[int(11)] + make_float3 (z_29 * (1.86588168144226074f * z2_118 - 1.11952900886535645f)) * (*sh_coeffs_29)[int(12)] + make_float3 (fTmp0C_29 * x_93) * (*sh_coeffs_29)[int(13)] + make_float3 (fTmp1B_29 * fC1_29) * (*sh_coeffs_29)[int(14)] + make_float3 (-0.59004360437393188f * (x_93 * fC1_29 - y_32 * fS1_29)) * (*sh_coeffs_29)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_voxel_eval3d_fisheye_differentiable(float3  pos_3, float size_3, FixedArray<float, 8>  * densities_3, FixedArray<float3 , 16>  * sh_coeffs_30, Matrix<float, 3, 3>  R_79, float3  t_78, float fx_109, float fy_109, float cx_104, float cy_104, FixedArray<float, 10>  * dist_coeffs_113, uint image_width_100, uint image_height_100, float near_plane_77, float far_plane_77, int4  * aabb_xyxy_63, float * depth_52, float3  * rgbs_10)
{
    FixedArray<float3 , 8>  pos_c_3;
    float3  _S10510 = mul_0(R_79, pos_3) + t_78;
    pos_c_3[int(0)] = _S10510;
    pos_c_3[int(1)] = mul_0(R_79, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 0.0f)) + t_78;
    pos_c_3[int(2)] = mul_0(R_79, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 0.0f)) + t_78;
    pos_c_3[int(3)] = mul_0(R_79, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 1.0f, 0.0f)) + t_78;
    pos_c_3[int(4)] = mul_0(R_79, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 0.0f, 1.0f)) + t_78;
    pos_c_3[int(5)] = mul_0(R_79, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 1.0f)) + t_78;
    pos_c_3[int(6)] = mul_0(R_79, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 1.0f)) + t_78;
    pos_c_3[int(7)] = mul_0(R_79, pos_3 + make_float3 (size_3)) + t_78;
    float3  mean_c_86 = mul_0(R_79, pos_3 + make_float3 (0.5f * size_3)) + t_78;
    FixedArray<float2 , 8>  uv_10;
    float2  _S10511 = float2 {_S10510.x, _S10510.y};
    float r_44 = length_0(_S10511);
    float _S10512 = _S10510.z;
    float theta_40 = (F32_atan2((r_44), (_S10512)));
    float k_14;
    if(theta_40 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_40 * theta_40 / 3.0f) / _S10512;
    }
    else
    {
        k_14 = theta_40 / r_44;
    }
    float2  _S10513 = _S10511 * make_float2 (k_14);
    float u_109 = _S10513.x;
    float v_109 = _S10513.y;
    float r2_104 = u_109 * u_109 + v_109 * v_109;
    float _S10514 = 2.0f * (*dist_coeffs_113)[int(4)];
    float _S10515 = 2.0f * (*dist_coeffs_113)[int(5)];
    float2  _S10516 = _S10513 * make_float2 (1.0f + r2_104 * ((*dist_coeffs_113)[int(0)] + r2_104 * ((*dist_coeffs_113)[int(1)] + r2_104 * ((*dist_coeffs_113)[int(2)] + r2_104 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_109 * v_109 + (*dist_coeffs_113)[int(5)] * (r2_104 + 2.0f * u_109 * u_109) + (*dist_coeffs_113)[int(6)] * r2_104, _S10515 * u_109 * v_109 + (*dist_coeffs_113)[int(4)] * (r2_104 + 2.0f * v_109 * v_109) + (*dist_coeffs_113)[int(7)] * r2_104);
    float2  _S10517 = _S10516 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10516.x + (*dist_coeffs_113)[int(9)] * _S10516.y, 0.0f);
    uv_10[int(0)] = make_float2 (fx_109 * _S10517.x + cx_104, fy_109 * _S10517.y + cy_104);
    float2  _S10518 = float2 {pos_c_3[int(1)].x, pos_c_3[int(1)].y};
    float r_45 = length_0(_S10518);
    float _S10519 = pos_c_3[int(1)].z;
    float theta_41 = (F32_atan2((r_45), (_S10519)));
    if(theta_41 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_41 * theta_41 / 3.0f) / _S10519;
    }
    else
    {
        k_14 = theta_41 / r_45;
    }
    float2  _S10520 = _S10518 * make_float2 (k_14);
    float u_110 = _S10520.x;
    float v_110 = _S10520.y;
    float r2_105 = u_110 * u_110 + v_110 * v_110;
    float2  _S10521 = _S10520 * make_float2 (1.0f + r2_105 * ((*dist_coeffs_113)[int(0)] + r2_105 * ((*dist_coeffs_113)[int(1)] + r2_105 * ((*dist_coeffs_113)[int(2)] + r2_105 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_110 * v_110 + (*dist_coeffs_113)[int(5)] * (r2_105 + 2.0f * u_110 * u_110) + (*dist_coeffs_113)[int(6)] * r2_105, _S10515 * u_110 * v_110 + (*dist_coeffs_113)[int(4)] * (r2_105 + 2.0f * v_110 * v_110) + (*dist_coeffs_113)[int(7)] * r2_105);
    float2  _S10522 = _S10521 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10521.x + (*dist_coeffs_113)[int(9)] * _S10521.y, 0.0f);
    uv_10[int(1)] = make_float2 (fx_109 * _S10522.x + cx_104, fy_109 * _S10522.y + cy_104);
    float2  _S10523 = float2 {pos_c_3[int(2)].x, pos_c_3[int(2)].y};
    float r_46 = length_0(_S10523);
    float _S10524 = pos_c_3[int(2)].z;
    float theta_42 = (F32_atan2((r_46), (_S10524)));
    if(theta_42 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_42 * theta_42 / 3.0f) / _S10524;
    }
    else
    {
        k_14 = theta_42 / r_46;
    }
    float2  _S10525 = _S10523 * make_float2 (k_14);
    float u_111 = _S10525.x;
    float v_111 = _S10525.y;
    float r2_106 = u_111 * u_111 + v_111 * v_111;
    float2  _S10526 = _S10525 * make_float2 (1.0f + r2_106 * ((*dist_coeffs_113)[int(0)] + r2_106 * ((*dist_coeffs_113)[int(1)] + r2_106 * ((*dist_coeffs_113)[int(2)] + r2_106 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_111 * v_111 + (*dist_coeffs_113)[int(5)] * (r2_106 + 2.0f * u_111 * u_111) + (*dist_coeffs_113)[int(6)] * r2_106, _S10515 * u_111 * v_111 + (*dist_coeffs_113)[int(4)] * (r2_106 + 2.0f * v_111 * v_111) + (*dist_coeffs_113)[int(7)] * r2_106);
    float2  _S10527 = _S10526 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10526.x + (*dist_coeffs_113)[int(9)] * _S10526.y, 0.0f);
    uv_10[int(2)] = make_float2 (fx_109 * _S10527.x + cx_104, fy_109 * _S10527.y + cy_104);
    float2  _S10528 = float2 {pos_c_3[int(3)].x, pos_c_3[int(3)].y};
    float r_47 = length_0(_S10528);
    float _S10529 = pos_c_3[int(3)].z;
    float theta_43 = (F32_atan2((r_47), (_S10529)));
    if(theta_43 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_43 * theta_43 / 3.0f) / _S10529;
    }
    else
    {
        k_14 = theta_43 / r_47;
    }
    float2  _S10530 = _S10528 * make_float2 (k_14);
    float u_112 = _S10530.x;
    float v_112 = _S10530.y;
    float r2_107 = u_112 * u_112 + v_112 * v_112;
    float2  _S10531 = _S10530 * make_float2 (1.0f + r2_107 * ((*dist_coeffs_113)[int(0)] + r2_107 * ((*dist_coeffs_113)[int(1)] + r2_107 * ((*dist_coeffs_113)[int(2)] + r2_107 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_112 * v_112 + (*dist_coeffs_113)[int(5)] * (r2_107 + 2.0f * u_112 * u_112) + (*dist_coeffs_113)[int(6)] * r2_107, _S10515 * u_112 * v_112 + (*dist_coeffs_113)[int(4)] * (r2_107 + 2.0f * v_112 * v_112) + (*dist_coeffs_113)[int(7)] * r2_107);
    float2  _S10532 = _S10531 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10531.x + (*dist_coeffs_113)[int(9)] * _S10531.y, 0.0f);
    uv_10[int(3)] = make_float2 (fx_109 * _S10532.x + cx_104, fy_109 * _S10532.y + cy_104);
    float2  _S10533 = float2 {pos_c_3[int(4)].x, pos_c_3[int(4)].y};
    float r_48 = length_0(_S10533);
    float _S10534 = pos_c_3[int(4)].z;
    float theta_44 = (F32_atan2((r_48), (_S10534)));
    if(theta_44 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_44 * theta_44 / 3.0f) / _S10534;
    }
    else
    {
        k_14 = theta_44 / r_48;
    }
    float2  _S10535 = _S10533 * make_float2 (k_14);
    float u_113 = _S10535.x;
    float v_113 = _S10535.y;
    float r2_108 = u_113 * u_113 + v_113 * v_113;
    float2  _S10536 = _S10535 * make_float2 (1.0f + r2_108 * ((*dist_coeffs_113)[int(0)] + r2_108 * ((*dist_coeffs_113)[int(1)] + r2_108 * ((*dist_coeffs_113)[int(2)] + r2_108 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_113 * v_113 + (*dist_coeffs_113)[int(5)] * (r2_108 + 2.0f * u_113 * u_113) + (*dist_coeffs_113)[int(6)] * r2_108, _S10515 * u_113 * v_113 + (*dist_coeffs_113)[int(4)] * (r2_108 + 2.0f * v_113 * v_113) + (*dist_coeffs_113)[int(7)] * r2_108);
    float2  _S10537 = _S10536 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10536.x + (*dist_coeffs_113)[int(9)] * _S10536.y, 0.0f);
    uv_10[int(4)] = make_float2 (fx_109 * _S10537.x + cx_104, fy_109 * _S10537.y + cy_104);
    float2  _S10538 = float2 {pos_c_3[int(5)].x, pos_c_3[int(5)].y};
    float r_49 = length_0(_S10538);
    float _S10539 = pos_c_3[int(5)].z;
    float theta_45 = (F32_atan2((r_49), (_S10539)));
    if(theta_45 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_45 * theta_45 / 3.0f) / _S10539;
    }
    else
    {
        k_14 = theta_45 / r_49;
    }
    float2  _S10540 = _S10538 * make_float2 (k_14);
    float u_114 = _S10540.x;
    float v_114 = _S10540.y;
    float r2_109 = u_114 * u_114 + v_114 * v_114;
    float2  _S10541 = _S10540 * make_float2 (1.0f + r2_109 * ((*dist_coeffs_113)[int(0)] + r2_109 * ((*dist_coeffs_113)[int(1)] + r2_109 * ((*dist_coeffs_113)[int(2)] + r2_109 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_114 * v_114 + (*dist_coeffs_113)[int(5)] * (r2_109 + 2.0f * u_114 * u_114) + (*dist_coeffs_113)[int(6)] * r2_109, _S10515 * u_114 * v_114 + (*dist_coeffs_113)[int(4)] * (r2_109 + 2.0f * v_114 * v_114) + (*dist_coeffs_113)[int(7)] * r2_109);
    float2  _S10542 = _S10541 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10541.x + (*dist_coeffs_113)[int(9)] * _S10541.y, 0.0f);
    uv_10[int(5)] = make_float2 (fx_109 * _S10542.x + cx_104, fy_109 * _S10542.y + cy_104);
    float2  _S10543 = float2 {pos_c_3[int(6)].x, pos_c_3[int(6)].y};
    float r_50 = length_0(_S10543);
    float _S10544 = pos_c_3[int(6)].z;
    float theta_46 = (F32_atan2((r_50), (_S10544)));
    if(theta_46 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_46 * theta_46 / 3.0f) / _S10544;
    }
    else
    {
        k_14 = theta_46 / r_50;
    }
    float2  _S10545 = _S10543 * make_float2 (k_14);
    float u_115 = _S10545.x;
    float v_115 = _S10545.y;
    float r2_110 = u_115 * u_115 + v_115 * v_115;
    float2  _S10546 = _S10545 * make_float2 (1.0f + r2_110 * ((*dist_coeffs_113)[int(0)] + r2_110 * ((*dist_coeffs_113)[int(1)] + r2_110 * ((*dist_coeffs_113)[int(2)] + r2_110 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_115 * v_115 + (*dist_coeffs_113)[int(5)] * (r2_110 + 2.0f * u_115 * u_115) + (*dist_coeffs_113)[int(6)] * r2_110, _S10515 * u_115 * v_115 + (*dist_coeffs_113)[int(4)] * (r2_110 + 2.0f * v_115 * v_115) + (*dist_coeffs_113)[int(7)] * r2_110);
    float2  _S10547 = _S10546 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10546.x + (*dist_coeffs_113)[int(9)] * _S10546.y, 0.0f);
    uv_10[int(6)] = make_float2 (fx_109 * _S10547.x + cx_104, fy_109 * _S10547.y + cy_104);
    float2  _S10548 = float2 {pos_c_3[int(7)].x, pos_c_3[int(7)].y};
    float r_51 = length_0(_S10548);
    float _S10549 = pos_c_3[int(7)].z;
    float theta_47 = (F32_atan2((r_51), (_S10549)));
    if(theta_47 < 0.00100000004749745f)
    {
        k_14 = (1.0f - theta_47 * theta_47 / 3.0f) / _S10549;
    }
    else
    {
        k_14 = theta_47 / r_51;
    }
    float2  _S10550 = _S10548 * make_float2 (k_14);
    float u_116 = _S10550.x;
    float v_116 = _S10550.y;
    float r2_111 = u_116 * u_116 + v_116 * v_116;
    float2  _S10551 = _S10550 * make_float2 (1.0f + r2_111 * ((*dist_coeffs_113)[int(0)] + r2_111 * ((*dist_coeffs_113)[int(1)] + r2_111 * ((*dist_coeffs_113)[int(2)] + r2_111 * (*dist_coeffs_113)[int(3)])))) + make_float2 (_S10514 * u_116 * v_116 + (*dist_coeffs_113)[int(5)] * (r2_111 + 2.0f * u_116 * u_116) + (*dist_coeffs_113)[int(6)] * r2_111, _S10515 * u_116 * v_116 + (*dist_coeffs_113)[int(4)] * (r2_111 + 2.0f * v_116 * v_116) + (*dist_coeffs_113)[int(7)] * r2_111);
    float2  _S10552 = _S10551 + make_float2 ((*dist_coeffs_113)[int(8)] * _S10551.x + (*dist_coeffs_113)[int(9)] * _S10551.y, 0.0f);
    float _S10553 = fx_109 * _S10552.x + cx_104;
    float _S10554 = fy_109 * _S10552.y + cy_104;
    uv_10[int(7)] = make_float2 (_S10553, _S10554);
    *aabb_xyxy_63 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S10553))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S10554))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S10553))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S10554))))))));
    *depth_52 = 0.5f * (F32_log((dot_0(mean_c_86, mean_c_86) + 9.99999997475242708e-07f)));
    float3  _S10555 = mean_c_86 - - mul_0(transpose_0(R_79), t_78);
    float3  _S10556 = make_float3 (0.282094806432724f) * (*sh_coeffs_30)[int(0)];
    *rgbs_10 = _S10556;
    float _S10557 = _S10555.x;
    float _S10558 = _S10555.y;
    float _S10559 = _S10555.z;
    float norm_21 = (F32_sqrt((_S10557 * _S10557 + _S10558 * _S10558 + _S10559 * _S10559)));
    float x_94 = _S10557 / norm_21;
    float y_33 = _S10558 / norm_21;
    float z_30 = _S10559 / norm_21;
    float3  _S10560 = _S10556 + make_float3 (0.48860251903533936f) * (make_float3 (- y_33) * (*sh_coeffs_30)[int(1)] + make_float3 (z_30) * (*sh_coeffs_30)[int(2)] - make_float3 (x_94) * (*sh_coeffs_30)[int(3)]);
    *rgbs_10 = _S10560;
    float z2_119 = z_30 * z_30;
    float fTmp0B_30 = -1.09254848957061768f * z_30;
    float fC1_30 = x_94 * x_94 - y_33 * y_33;
    float fS1_30 = 2.0f * x_94 * y_33;
    float3  _S10561 = _S10560 + (make_float3 (0.54627424478530884f * fS1_30) * (*sh_coeffs_30)[int(4)] + make_float3 (fTmp0B_30 * y_33) * (*sh_coeffs_30)[int(5)] + make_float3 (0.94617468118667603f * z2_119 - 0.31539157032966614f) * (*sh_coeffs_30)[int(6)] + make_float3 (fTmp0B_30 * x_94) * (*sh_coeffs_30)[int(7)] + make_float3 (0.54627424478530884f * fC1_30) * (*sh_coeffs_30)[int(8)]);
    *rgbs_10 = _S10561;
    float fTmp0C_30 = -2.28522896766662598f * z2_119 + 0.4570457935333252f;
    float fTmp1B_30 = 1.44530570507049561f * z_30;
    *rgbs_10 = max_0(_S10561 + (make_float3 (-0.59004360437393188f * (x_94 * fS1_30 + y_33 * fC1_30)) * (*sh_coeffs_30)[int(9)] + make_float3 (fTmp1B_30 * fS1_30) * (*sh_coeffs_30)[int(10)] + make_float3 (fTmp0C_30 * y_33) * (*sh_coeffs_30)[int(11)] + make_float3 (z_30 * (1.86588168144226074f * z2_119 - 1.11952900886535645f)) * (*sh_coeffs_30)[int(12)] + make_float3 (fTmp0C_30 * x_94) * (*sh_coeffs_30)[int(13)] + make_float3 (fTmp1B_30 * fC1_30) * (*sh_coeffs_30)[int(14)] + make_float3 (-0.59004360437393188f * (x_94 * fC1_30 - y_33 * fS1_30)) * (*sh_coeffs_30)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void projection_voxel_eval3d_persp_vjp(float3  pos_4, float size_4, FixedArray<float, 8>  * densities_4, FixedArray<float3 , 16>  * sh_coeffs_31, Matrix<float, 3, 3>  R_80, float3  t_79, float fx_110, float fy_110, float cx_105, float cy_105, FixedArray<float, 10>  * dist_coeffs_114, uint image_width_101, uint image_height_101, float3  v_rgb_22, FixedArray<float, 8>  * v_densities_0, FixedArray<float3 , 16>  * v_sh_coeffs_9, Matrix<float, 3, 3>  * v_R_25, float3  * v_t_24)
{
    float3  _S10562 = s_primal_ctx_mul_0(R_80, pos_4) + t_79;
    float _S10563 = _S10562.z;
    float2  _S10564 = make_float2 (_S10563);
    float _S10565 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S10563);
    float _S10566 = s_primal_ctx_max_0(0.0f, _S10563);
    float3  pos_i_0 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S10567 = s_primal_ctx_mul_0(R_80, pos_i_0) + t_79;
    float _S10568 = _S10567.z;
    float2  _S10569 = make_float2 (_S10568);
    float _S10570 = s_primal_ctx_min_0(_S10565, _S10568);
    float _S10571 = s_primal_ctx_max_0(_S10566, _S10568);
    float3  pos_i_1 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S10572 = s_primal_ctx_mul_0(R_80, pos_i_1) + t_79;
    float _S10573 = _S10572.z;
    float2  _S10574 = make_float2 (_S10573);
    float _S10575 = s_primal_ctx_min_0(_S10570, _S10573);
    float _S10576 = s_primal_ctx_max_0(_S10571, _S10573);
    float3  pos_i_2 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S10577 = s_primal_ctx_mul_0(R_80, pos_i_2) + t_79;
    float _S10578 = _S10577.z;
    float2  _S10579 = make_float2 (_S10578);
    float _S10580 = s_primal_ctx_min_0(_S10575, _S10578);
    float _S10581 = s_primal_ctx_max_0(_S10576, _S10578);
    float3  pos_i_3 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S10582 = s_primal_ctx_mul_0(R_80, pos_i_3) + t_79;
    float _S10583 = _S10582.z;
    float2  _S10584 = make_float2 (_S10583);
    float _S10585 = s_primal_ctx_min_0(_S10580, _S10583);
    float _S10586 = s_primal_ctx_max_0(_S10581, _S10583);
    float3  pos_i_4 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S10587 = s_primal_ctx_mul_0(R_80, pos_i_4) + t_79;
    float _S10588 = _S10587.z;
    float2  _S10589 = make_float2 (_S10588);
    float _S10590 = s_primal_ctx_min_0(_S10585, _S10588);
    float _S10591 = s_primal_ctx_max_0(_S10586, _S10588);
    float3  pos_i_5 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S10592 = s_primal_ctx_mul_0(R_80, pos_i_5) + t_79;
    float _S10593 = _S10592.z;
    float2  _S10594 = make_float2 (_S10593);
    float _S10595 = s_primal_ctx_min_0(_S10590, _S10593);
    float _S10596 = s_primal_ctx_max_0(_S10591, _S10593);
    float3  pos_i_6 = pos_4 + make_float3 (size_4);
    float3  _S10597 = s_primal_ctx_mul_0(R_80, pos_i_6) + t_79;
    float _S10598 = _S10597.z;
    float2  _S10599 = make_float2 (_S10598);
    float3  _S10600 = pos_4 + make_float3 (0.5f * size_4);
    float3  mean_c_87 = s_primal_ctx_mul_0(R_80, _S10600) + t_79;
    float2  _S10601 = float2 {_S10562.x, _S10562.y};
    float2  _S10602 = _S10601 / make_float2 (_S10563);
    float2  _S10603 = make_float2 (_S10563 * _S10563);
    float u_117 = _S10602.x;
    float v_117 = _S10602.y;
    float r2_112 = u_117 * u_117 + v_117 * v_117;
    float _S10604 = (*dist_coeffs_114)[int(2)] + r2_112 * (*dist_coeffs_114)[int(3)];
    float _S10605 = (*dist_coeffs_114)[int(1)] + r2_112 * _S10604;
    float _S10606 = (*dist_coeffs_114)[int(0)] + r2_112 * _S10605;
    float radial_13 = 1.0f + r2_112 * _S10606;
    float2  _S10607 = make_float2 (radial_13);
    float _S10608 = 2.0f * (*dist_coeffs_114)[int(4)];
    float _S10609 = _S10608 * u_117;
    float _S10610 = 2.0f * u_117;
    float _S10611 = 2.0f * (*dist_coeffs_114)[int(5)];
    float _S10612 = _S10611 * u_117;
    float _S10613 = 2.0f * v_117;
    float2  _S10614 = _S10602 * make_float2 (radial_13) + make_float2 (_S10609 * v_117 + (*dist_coeffs_114)[int(5)] * (r2_112 + _S10610 * u_117) + (*dist_coeffs_114)[int(6)] * r2_112, _S10612 * v_117 + (*dist_coeffs_114)[int(4)] * (r2_112 + _S10613 * v_117) + (*dist_coeffs_114)[int(7)] * r2_112);
    float2  _S10615 = _S10614 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10614.x + (*dist_coeffs_114)[int(9)] * _S10614.y, 0.0f);
    float _S10616 = fx_110 * _S10615.x + cx_105;
    float _S10617 = fy_110 * _S10615.y + cy_105;
    float2  _S10618 = float2 {_S10567.x, _S10567.y};
    float2  _S10619 = _S10618 / make_float2 (_S10568);
    float2  _S10620 = make_float2 (_S10568 * _S10568);
    float u_118 = _S10619.x;
    float v_118 = _S10619.y;
    float r2_113 = u_118 * u_118 + v_118 * v_118;
    float _S10621 = (*dist_coeffs_114)[int(2)] + r2_113 * (*dist_coeffs_114)[int(3)];
    float _S10622 = (*dist_coeffs_114)[int(1)] + r2_113 * _S10621;
    float _S10623 = (*dist_coeffs_114)[int(0)] + r2_113 * _S10622;
    float radial_14 = 1.0f + r2_113 * _S10623;
    float2  _S10624 = make_float2 (radial_14);
    float _S10625 = _S10608 * u_118;
    float _S10626 = 2.0f * u_118;
    float _S10627 = _S10611 * u_118;
    float _S10628 = 2.0f * v_118;
    float2  _S10629 = _S10619 * make_float2 (radial_14) + make_float2 (_S10625 * v_118 + (*dist_coeffs_114)[int(5)] * (r2_113 + _S10626 * u_118) + (*dist_coeffs_114)[int(6)] * r2_113, _S10627 * v_118 + (*dist_coeffs_114)[int(4)] * (r2_113 + _S10628 * v_118) + (*dist_coeffs_114)[int(7)] * r2_113);
    float2  _S10630 = _S10629 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10629.x + (*dist_coeffs_114)[int(9)] * _S10629.y, 0.0f);
    float _S10631 = fx_110 * _S10630.x + cx_105;
    float _S10632 = fy_110 * _S10630.y + cy_105;
    float2  _S10633 = float2 {_S10572.x, _S10572.y};
    float2  _S10634 = _S10633 / make_float2 (_S10573);
    float2  _S10635 = make_float2 (_S10573 * _S10573);
    float u_119 = _S10634.x;
    float v_119 = _S10634.y;
    float r2_114 = u_119 * u_119 + v_119 * v_119;
    float _S10636 = (*dist_coeffs_114)[int(2)] + r2_114 * (*dist_coeffs_114)[int(3)];
    float _S10637 = (*dist_coeffs_114)[int(1)] + r2_114 * _S10636;
    float _S10638 = (*dist_coeffs_114)[int(0)] + r2_114 * _S10637;
    float radial_15 = 1.0f + r2_114 * _S10638;
    float2  _S10639 = make_float2 (radial_15);
    float _S10640 = _S10608 * u_119;
    float _S10641 = 2.0f * u_119;
    float _S10642 = _S10611 * u_119;
    float _S10643 = 2.0f * v_119;
    float2  _S10644 = _S10634 * make_float2 (radial_15) + make_float2 (_S10640 * v_119 + (*dist_coeffs_114)[int(5)] * (r2_114 + _S10641 * u_119) + (*dist_coeffs_114)[int(6)] * r2_114, _S10642 * v_119 + (*dist_coeffs_114)[int(4)] * (r2_114 + _S10643 * v_119) + (*dist_coeffs_114)[int(7)] * r2_114);
    float2  _S10645 = _S10644 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10644.x + (*dist_coeffs_114)[int(9)] * _S10644.y, 0.0f);
    float _S10646 = fx_110 * _S10645.x + cx_105;
    float _S10647 = fy_110 * _S10645.y + cy_105;
    float2  _S10648 = float2 {_S10577.x, _S10577.y};
    float2  _S10649 = _S10648 / make_float2 (_S10578);
    float2  _S10650 = make_float2 (_S10578 * _S10578);
    float u_120 = _S10649.x;
    float v_120 = _S10649.y;
    float r2_115 = u_120 * u_120 + v_120 * v_120;
    float _S10651 = (*dist_coeffs_114)[int(2)] + r2_115 * (*dist_coeffs_114)[int(3)];
    float _S10652 = (*dist_coeffs_114)[int(1)] + r2_115 * _S10651;
    float _S10653 = (*dist_coeffs_114)[int(0)] + r2_115 * _S10652;
    float radial_16 = 1.0f + r2_115 * _S10653;
    float2  _S10654 = make_float2 (radial_16);
    float _S10655 = _S10608 * u_120;
    float _S10656 = 2.0f * u_120;
    float _S10657 = _S10611 * u_120;
    float _S10658 = 2.0f * v_120;
    float2  _S10659 = _S10649 * make_float2 (radial_16) + make_float2 (_S10655 * v_120 + (*dist_coeffs_114)[int(5)] * (r2_115 + _S10656 * u_120) + (*dist_coeffs_114)[int(6)] * r2_115, _S10657 * v_120 + (*dist_coeffs_114)[int(4)] * (r2_115 + _S10658 * v_120) + (*dist_coeffs_114)[int(7)] * r2_115);
    float2  _S10660 = _S10659 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10659.x + (*dist_coeffs_114)[int(9)] * _S10659.y, 0.0f);
    float _S10661 = fx_110 * _S10660.x + cx_105;
    float _S10662 = fy_110 * _S10660.y + cy_105;
    float2  _S10663 = float2 {_S10582.x, _S10582.y};
    float2  _S10664 = _S10663 / make_float2 (_S10583);
    float2  _S10665 = make_float2 (_S10583 * _S10583);
    float u_121 = _S10664.x;
    float v_121 = _S10664.y;
    float r2_116 = u_121 * u_121 + v_121 * v_121;
    float _S10666 = (*dist_coeffs_114)[int(2)] + r2_116 * (*dist_coeffs_114)[int(3)];
    float _S10667 = (*dist_coeffs_114)[int(1)] + r2_116 * _S10666;
    float _S10668 = (*dist_coeffs_114)[int(0)] + r2_116 * _S10667;
    float radial_17 = 1.0f + r2_116 * _S10668;
    float2  _S10669 = make_float2 (radial_17);
    float _S10670 = _S10608 * u_121;
    float _S10671 = 2.0f * u_121;
    float _S10672 = _S10611 * u_121;
    float _S10673 = 2.0f * v_121;
    float2  _S10674 = _S10664 * make_float2 (radial_17) + make_float2 (_S10670 * v_121 + (*dist_coeffs_114)[int(5)] * (r2_116 + _S10671 * u_121) + (*dist_coeffs_114)[int(6)] * r2_116, _S10672 * v_121 + (*dist_coeffs_114)[int(4)] * (r2_116 + _S10673 * v_121) + (*dist_coeffs_114)[int(7)] * r2_116);
    float2  _S10675 = _S10674 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10674.x + (*dist_coeffs_114)[int(9)] * _S10674.y, 0.0f);
    float _S10676 = fx_110 * _S10675.x + cx_105;
    float _S10677 = fy_110 * _S10675.y + cy_105;
    float2  _S10678 = float2 {_S10587.x, _S10587.y};
    float2  _S10679 = _S10678 / make_float2 (_S10588);
    float2  _S10680 = make_float2 (_S10588 * _S10588);
    float u_122 = _S10679.x;
    float v_122 = _S10679.y;
    float r2_117 = u_122 * u_122 + v_122 * v_122;
    float _S10681 = (*dist_coeffs_114)[int(2)] + r2_117 * (*dist_coeffs_114)[int(3)];
    float _S10682 = (*dist_coeffs_114)[int(1)] + r2_117 * _S10681;
    float _S10683 = (*dist_coeffs_114)[int(0)] + r2_117 * _S10682;
    float radial_18 = 1.0f + r2_117 * _S10683;
    float2  _S10684 = make_float2 (radial_18);
    float _S10685 = _S10608 * u_122;
    float _S10686 = 2.0f * u_122;
    float _S10687 = _S10611 * u_122;
    float _S10688 = 2.0f * v_122;
    float2  _S10689 = _S10679 * make_float2 (radial_18) + make_float2 (_S10685 * v_122 + (*dist_coeffs_114)[int(5)] * (r2_117 + _S10686 * u_122) + (*dist_coeffs_114)[int(6)] * r2_117, _S10687 * v_122 + (*dist_coeffs_114)[int(4)] * (r2_117 + _S10688 * v_122) + (*dist_coeffs_114)[int(7)] * r2_117);
    float2  _S10690 = _S10689 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10689.x + (*dist_coeffs_114)[int(9)] * _S10689.y, 0.0f);
    float _S10691 = fx_110 * _S10690.x + cx_105;
    float _S10692 = fy_110 * _S10690.y + cy_105;
    float2  _S10693 = float2 {_S10592.x, _S10592.y};
    float2  _S10694 = _S10693 / make_float2 (_S10593);
    float2  _S10695 = make_float2 (_S10593 * _S10593);
    float u_123 = _S10694.x;
    float v_123 = _S10694.y;
    float r2_118 = u_123 * u_123 + v_123 * v_123;
    float _S10696 = (*dist_coeffs_114)[int(2)] + r2_118 * (*dist_coeffs_114)[int(3)];
    float _S10697 = (*dist_coeffs_114)[int(1)] + r2_118 * _S10696;
    float _S10698 = (*dist_coeffs_114)[int(0)] + r2_118 * _S10697;
    float radial_19 = 1.0f + r2_118 * _S10698;
    float2  _S10699 = make_float2 (radial_19);
    float _S10700 = _S10608 * u_123;
    float _S10701 = 2.0f * u_123;
    float _S10702 = _S10611 * u_123;
    float _S10703 = 2.0f * v_123;
    float2  _S10704 = _S10694 * make_float2 (radial_19) + make_float2 (_S10700 * v_123 + (*dist_coeffs_114)[int(5)] * (r2_118 + _S10701 * u_123) + (*dist_coeffs_114)[int(6)] * r2_118, _S10702 * v_123 + (*dist_coeffs_114)[int(4)] * (r2_118 + _S10703 * v_123) + (*dist_coeffs_114)[int(7)] * r2_118);
    float2  _S10705 = _S10704 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10704.x + (*dist_coeffs_114)[int(9)] * _S10704.y, 0.0f);
    float _S10706 = fx_110 * _S10705.x + cx_105;
    float _S10707 = fy_110 * _S10705.y + cy_105;
    float2  _S10708 = float2 {_S10597.x, _S10597.y};
    float2  _S10709 = _S10708 / make_float2 (_S10598);
    float2  _S10710 = make_float2 (_S10598 * _S10598);
    float u_124 = _S10709.x;
    float v_124 = _S10709.y;
    float r2_119 = u_124 * u_124 + v_124 * v_124;
    float _S10711 = (*dist_coeffs_114)[int(2)] + r2_119 * (*dist_coeffs_114)[int(3)];
    float _S10712 = (*dist_coeffs_114)[int(1)] + r2_119 * _S10711;
    float _S10713 = (*dist_coeffs_114)[int(0)] + r2_119 * _S10712;
    float radial_20 = 1.0f + r2_119 * _S10713;
    float2  _S10714 = make_float2 (radial_20);
    float _S10715 = _S10608 * u_124;
    float _S10716 = 2.0f * u_124;
    float _S10717 = _S10611 * u_124;
    float _S10718 = 2.0f * v_124;
    float2  _S10719 = _S10709 * make_float2 (radial_20) + make_float2 (_S10715 * v_124 + (*dist_coeffs_114)[int(5)] * (r2_119 + _S10716 * u_124) + (*dist_coeffs_114)[int(6)] * r2_119, _S10717 * v_124 + (*dist_coeffs_114)[int(4)] * (r2_119 + _S10718 * v_124) + (*dist_coeffs_114)[int(7)] * r2_119);
    float2  _S10720 = _S10719 + make_float2 ((*dist_coeffs_114)[int(8)] * _S10719.x + (*dist_coeffs_114)[int(9)] * _S10719.y, 0.0f);
    float _S10721 = fx_110 * _S10720.x + cx_105;
    float _S10722 = fy_110 * _S10720.y + cy_105;
    float _S10723 = s_primal_ctx_max_0(_S10616, _S10631);
    float _S10724 = s_primal_ctx_min_0(_S10616, _S10631);
    float _S10725 = s_primal_ctx_max_0(_S10617, _S10632);
    float _S10726 = s_primal_ctx_min_0(_S10617, _S10632);
    float _S10727 = s_primal_ctx_max_0(_S10723, _S10646);
    float _S10728 = s_primal_ctx_min_0(_S10724, _S10646);
    float _S10729 = s_primal_ctx_max_0(_S10725, _S10647);
    float _S10730 = s_primal_ctx_min_0(_S10726, _S10647);
    float _S10731 = s_primal_ctx_max_0(_S10727, _S10661);
    float _S10732 = s_primal_ctx_min_0(_S10728, _S10661);
    float _S10733 = s_primal_ctx_max_0(_S10729, _S10662);
    float _S10734 = s_primal_ctx_min_0(_S10730, _S10662);
    float _S10735 = s_primal_ctx_max_0(_S10731, _S10676);
    float _S10736 = s_primal_ctx_min_0(_S10732, _S10676);
    float _S10737 = s_primal_ctx_max_0(_S10733, _S10677);
    float _S10738 = s_primal_ctx_min_0(_S10734, _S10677);
    float _S10739 = s_primal_ctx_max_0(_S10735, _S10691);
    float _S10740 = s_primal_ctx_min_0(_S10736, _S10691);
    float _S10741 = s_primal_ctx_max_0(_S10737, _S10692);
    float _S10742 = s_primal_ctx_min_0(_S10738, _S10692);
    float _S10743 = s_primal_ctx_max_0(_S10739, _S10706);
    float _S10744 = s_primal_ctx_min_0(_S10740, _S10706);
    float _S10745 = s_primal_ctx_max_0(_S10741, _S10707);
    float _S10746 = s_primal_ctx_min_0(_S10742, _S10707);
    float _S10747 = s_primal_ctx_dot_0(mean_c_87, mean_c_87) + 9.99999997475242708e-07f;
    Matrix<float, 3, 3>  _S10748 = transpose_0(R_80);
    float3  _S10749 = mean_c_87 - - s_primal_ctx_mul_0(_S10748, t_79);
    float _S10750 = _S10749.x;
    float _S10751 = _S10749.y;
    float _S10752 = _S10749.z;
    float _S10753 = _S10750 * _S10750 + _S10751 * _S10751 + _S10752 * _S10752;
    float _S10754 = s_primal_ctx_sqrt_0(_S10753);
    float x_95 = _S10750 / _S10754;
    float3  _S10755 = make_float3 (x_95);
    float _S10756 = _S10754 * _S10754;
    float y_34 = _S10751 / _S10754;
    float z_31 = _S10752 / _S10754;
    float3  _S10757 = make_float3 (z_31);
    float _S10758 = - y_34;
    float3  _S10759 = make_float3 (_S10758);
    float z2_120 = z_31 * z_31;
    float fTmp0B_31 = -1.09254848957061768f * z_31;
    float fC1_31 = x_95 * x_95 - y_34 * y_34;
    float _S10760 = 2.0f * x_95;
    float fS1_31 = _S10760 * y_34;
    float pSH6_9 = 0.94617468118667603f * z2_120 - 0.31539157032966614f;
    float3  _S10761 = make_float3 (pSH6_9);
    float pSH7_9 = fTmp0B_31 * x_95;
    float3  _S10762 = make_float3 (pSH7_9);
    float pSH5_9 = fTmp0B_31 * y_34;
    float3  _S10763 = make_float3 (pSH5_9);
    float pSH8_9 = 0.54627424478530884f * fC1_31;
    float3  _S10764 = make_float3 (pSH8_9);
    float pSH4_9 = 0.54627424478530884f * fS1_31;
    float3  _S10765 = make_float3 (pSH4_9);
    float fTmp0C_31 = -2.28522896766662598f * z2_120 + 0.4570457935333252f;
    float fTmp1B_31 = 1.44530570507049561f * z_31;
    float _S10766 = 1.86588168144226074f * z2_120 - 1.11952900886535645f;
    float pSH12_9 = z_31 * _S10766;
    float3  _S10767 = make_float3 (pSH12_9);
    float pSH13_9 = fTmp0C_31 * x_95;
    float3  _S10768 = make_float3 (pSH13_9);
    float pSH11_9 = fTmp0C_31 * y_34;
    float3  _S10769 = make_float3 (pSH11_9);
    float pSH14_9 = fTmp1B_31 * fC1_31;
    float3  _S10770 = make_float3 (pSH14_9);
    float pSH10_9 = fTmp1B_31 * fS1_31;
    float3  _S10771 = make_float3 (pSH10_9);
    float pSH15_9 = -0.59004360437393188f * (x_95 * fC1_31 - y_34 * fS1_31);
    float3  _S10772 = make_float3 (pSH15_9);
    float pSH9_9 = -0.59004360437393188f * (x_95 * fS1_31 + y_34 * fC1_31);
    float3  _S10773 = make_float3 (pSH9_9);
    float3  _S10774 = make_float3 (0.0f);
    float3  _S10775 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10776;
    (&_S10776)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_31)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S10758) * (*sh_coeffs_31)[int(1)] + make_float3 (z_31) * (*sh_coeffs_31)[int(2)] - make_float3 (x_95) * (*sh_coeffs_31)[int(3)]) + (make_float3 (pSH4_9) * (*sh_coeffs_31)[int(4)] + make_float3 (pSH5_9) * (*sh_coeffs_31)[int(5)] + make_float3 (pSH6_9) * (*sh_coeffs_31)[int(6)] + make_float3 (pSH7_9) * (*sh_coeffs_31)[int(7)] + make_float3 (pSH8_9) * (*sh_coeffs_31)[int(8)]) + (make_float3 (pSH9_9) * (*sh_coeffs_31)[int(9)] + make_float3 (pSH10_9) * (*sh_coeffs_31)[int(10)] + make_float3 (pSH11_9) * (*sh_coeffs_31)[int(11)] + make_float3 (pSH12_9) * (*sh_coeffs_31)[int(12)] + make_float3 (pSH13_9) * (*sh_coeffs_31)[int(13)] + make_float3 (pSH14_9) * (*sh_coeffs_31)[int(14)] + make_float3 (pSH15_9) * (*sh_coeffs_31)[int(15)]) + make_float3 (0.5f);
    (&_S10776)->differential_0 = _S10775;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10777;
    (&_S10777)->primal_0 = _S10774;
    (&_S10777)->differential_0 = _S10775;
    s_bwd_prop_max_0(&_S10776, &_S10777, v_rgb_22);
    float3  _S10778 = _S10772 * _S10776.differential_0;
    float3  _S10779 = (*sh_coeffs_31)[int(15)] * _S10776.differential_0;
    float3  _S10780 = _S10770 * _S10776.differential_0;
    float3  _S10781 = (*sh_coeffs_31)[int(14)] * _S10776.differential_0;
    float3  _S10782 = _S10768 * _S10776.differential_0;
    float3  _S10783 = (*sh_coeffs_31)[int(13)] * _S10776.differential_0;
    float3  _S10784 = _S10767 * _S10776.differential_0;
    float3  _S10785 = (*sh_coeffs_31)[int(12)] * _S10776.differential_0;
    float3  _S10786 = _S10769 * _S10776.differential_0;
    float3  _S10787 = (*sh_coeffs_31)[int(11)] * _S10776.differential_0;
    float3  _S10788 = _S10771 * _S10776.differential_0;
    float3  _S10789 = (*sh_coeffs_31)[int(10)] * _S10776.differential_0;
    float3  _S10790 = _S10773 * _S10776.differential_0;
    float3  _S10791 = (*sh_coeffs_31)[int(9)] * _S10776.differential_0;
    float s_diff_fS2_T_9 = -0.59004360437393188f * (_S10791.x + _S10791.y + _S10791.z);
    float s_diff_fC2_T_9 = -0.59004360437393188f * (_S10779.x + _S10779.y + _S10779.z);
    float _S10792 = _S10789.x + _S10789.y + _S10789.z;
    float _S10793 = _S10781.x + _S10781.y + _S10781.z;
    float _S10794 = _S10787.x + _S10787.y + _S10787.z;
    float _S10795 = _S10783.x + _S10783.y + _S10783.z;
    float _S10796 = _S10785.x + _S10785.y + _S10785.z;
    float _S10797 = - s_diff_fC2_T_9;
    float3  _S10798 = _S10764 * _S10776.differential_0;
    float3  _S10799 = (*sh_coeffs_31)[int(8)] * _S10776.differential_0;
    float3  _S10800 = _S10762 * _S10776.differential_0;
    float3  _S10801 = (*sh_coeffs_31)[int(7)] * _S10776.differential_0;
    float3  _S10802 = _S10761 * _S10776.differential_0;
    float3  _S10803 = (*sh_coeffs_31)[int(6)] * _S10776.differential_0;
    float3  _S10804 = _S10763 * _S10776.differential_0;
    float3  _S10805 = (*sh_coeffs_31)[int(5)] * _S10776.differential_0;
    float3  _S10806 = _S10765 * _S10776.differential_0;
    float3  _S10807 = (*sh_coeffs_31)[int(4)] * _S10776.differential_0;
    float _S10808 = _S10805.x + _S10805.y + _S10805.z;
    float _S10809 = _S10801.x + _S10801.y + _S10801.z;
    float _S10810 = fTmp1B_31 * _S10792 + x_95 * s_diff_fS2_T_9 + y_34 * _S10797 + 0.54627424478530884f * (_S10807.x + _S10807.y + _S10807.z);
    float _S10811 = fTmp1B_31 * _S10793 + y_34 * s_diff_fS2_T_9 + x_95 * s_diff_fC2_T_9 + 0.54627424478530884f * (_S10799.x + _S10799.y + _S10799.z);
    float _S10812 = y_34 * - _S10811;
    float _S10813 = x_95 * _S10811;
    float _S10814 = z_31 * (1.86588168144226074f * (z_31 * _S10796) + -2.28522896766662598f * (y_34 * _S10794 + x_95 * _S10795) + 0.94617468118667603f * (_S10803.x + _S10803.y + _S10803.z));
    float3  _S10815 = make_float3 (0.48860251903533936f) * _S10776.differential_0;
    float3  _S10816 = - _S10815;
    float3  _S10817 = _S10755 * _S10816;
    float3  _S10818 = (*sh_coeffs_31)[int(3)] * _S10816;
    float3  _S10819 = _S10757 * _S10815;
    float3  _S10820 = (*sh_coeffs_31)[int(2)] * _S10815;
    float3  _S10821 = _S10759 * _S10815;
    float3  _S10822 = (*sh_coeffs_31)[int(1)] * _S10815;
    float _S10823 = (_S10766 * _S10796 + 1.44530570507049561f * (fS1_31 * _S10792 + fC1_31 * _S10793) + -1.09254848957061768f * (y_34 * _S10808 + x_95 * _S10809) + _S10814 + _S10814 + _S10820.x + _S10820.y + _S10820.z) / _S10756;
    float _S10824 = _S10754 * _S10823;
    float _S10825 = (fTmp0C_31 * _S10794 + fC1_31 * s_diff_fS2_T_9 + fS1_31 * _S10797 + fTmp0B_31 * _S10808 + _S10760 * _S10810 + _S10812 + _S10812 + - (_S10822.x + _S10822.y + _S10822.z)) / _S10756;
    float _S10826 = _S10754 * _S10825;
    float _S10827 = (fTmp0C_31 * _S10795 + fS1_31 * s_diff_fS2_T_9 + fC1_31 * s_diff_fC2_T_9 + fTmp0B_31 * _S10809 + 2.0f * (y_34 * _S10810) + _S10813 + _S10813 + _S10818.x + _S10818.y + _S10818.z) / _S10756;
    float _S10828 = _S10754 * _S10827;
    float _S10829 = _S10752 * - _S10823 + _S10751 * - _S10825 + _S10750 * - _S10827;
    DiffPair_float_0 _S10830;
    (&_S10830)->primal_0 = _S10753;
    (&_S10830)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S10830, _S10829);
    float _S10831 = _S10752 * _S10830.differential_0;
    float _S10832 = _S10751 * _S10830.differential_0;
    float _S10833 = _S10750 * _S10830.differential_0;
    float3  _S10834 = make_float3 (0.282094806432724f) * _S10776.differential_0;
    float3  _S10835 = make_float3 (_S10828 + _S10833 + _S10833, _S10826 + _S10832 + _S10832, _S10824 + _S10831 + _S10831);
    float3  _S10836 = - - _S10835;
    Matrix<float, 3, 3>  _S10837 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10838;
    (&_S10838)->primal_0 = _S10748;
    (&_S10838)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10839;
    (&_S10839)->primal_0 = t_79;
    (&_S10839)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S10838, &_S10839, _S10836);
    Matrix<float, 3, 3>  _S10840 = transpose_0(_S10838.differential_0);
    DiffPair_float_0 _S10841;
    (&_S10841)->primal_0 = _S10747;
    (&_S10841)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S10841, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10842;
    (&_S10842)->primal_0 = mean_c_87;
    (&_S10842)->differential_0 = _S10775;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10843;
    (&_S10843)->primal_0 = mean_c_87;
    (&_S10843)->differential_0 = _S10775;
    s_bwd_prop_dot_0(&_S10842, &_S10843, _S10841.differential_0);
    DiffPair_float_0 _S10844;
    (&_S10844)->primal_0 = _S10746;
    (&_S10844)->differential_0 = 0.0f;
    DiffPair_float_0 _S10845;
    (&_S10845)->primal_0 = _S10722;
    (&_S10845)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10844, &_S10845, 0.0f);
    DiffPair_float_0 _S10846;
    (&_S10846)->primal_0 = _S10745;
    (&_S10846)->differential_0 = 0.0f;
    DiffPair_float_0 _S10847;
    (&_S10847)->primal_0 = _S10722;
    (&_S10847)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10846, &_S10847, 0.0f);
    DiffPair_float_0 _S10848;
    (&_S10848)->primal_0 = _S10744;
    (&_S10848)->differential_0 = 0.0f;
    DiffPair_float_0 _S10849;
    (&_S10849)->primal_0 = _S10721;
    (&_S10849)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10848, &_S10849, 0.0f);
    DiffPair_float_0 _S10850;
    (&_S10850)->primal_0 = _S10743;
    (&_S10850)->differential_0 = 0.0f;
    DiffPair_float_0 _S10851;
    (&_S10851)->primal_0 = _S10721;
    (&_S10851)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10850, &_S10851, 0.0f);
    DiffPair_float_0 _S10852;
    (&_S10852)->primal_0 = _S10742;
    (&_S10852)->differential_0 = 0.0f;
    DiffPair_float_0 _S10853;
    (&_S10853)->primal_0 = _S10707;
    (&_S10853)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10852, &_S10853, _S10844.differential_0);
    DiffPair_float_0 _S10854;
    (&_S10854)->primal_0 = _S10741;
    (&_S10854)->differential_0 = 0.0f;
    DiffPair_float_0 _S10855;
    (&_S10855)->primal_0 = _S10707;
    (&_S10855)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10854, &_S10855, _S10846.differential_0);
    DiffPair_float_0 _S10856;
    (&_S10856)->primal_0 = _S10740;
    (&_S10856)->differential_0 = 0.0f;
    DiffPair_float_0 _S10857;
    (&_S10857)->primal_0 = _S10706;
    (&_S10857)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10856, &_S10857, _S10848.differential_0);
    DiffPair_float_0 _S10858;
    (&_S10858)->primal_0 = _S10739;
    (&_S10858)->differential_0 = 0.0f;
    DiffPair_float_0 _S10859;
    (&_S10859)->primal_0 = _S10706;
    (&_S10859)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10858, &_S10859, _S10850.differential_0);
    DiffPair_float_0 _S10860;
    (&_S10860)->primal_0 = _S10738;
    (&_S10860)->differential_0 = 0.0f;
    DiffPair_float_0 _S10861;
    (&_S10861)->primal_0 = _S10692;
    (&_S10861)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10860, &_S10861, _S10852.differential_0);
    DiffPair_float_0 _S10862;
    (&_S10862)->primal_0 = _S10737;
    (&_S10862)->differential_0 = 0.0f;
    DiffPair_float_0 _S10863;
    (&_S10863)->primal_0 = _S10692;
    (&_S10863)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10862, &_S10863, _S10854.differential_0);
    DiffPair_float_0 _S10864;
    (&_S10864)->primal_0 = _S10736;
    (&_S10864)->differential_0 = 0.0f;
    DiffPair_float_0 _S10865;
    (&_S10865)->primal_0 = _S10691;
    (&_S10865)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10864, &_S10865, _S10856.differential_0);
    DiffPair_float_0 _S10866;
    (&_S10866)->primal_0 = _S10735;
    (&_S10866)->differential_0 = 0.0f;
    DiffPair_float_0 _S10867;
    (&_S10867)->primal_0 = _S10691;
    (&_S10867)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10866, &_S10867, _S10858.differential_0);
    DiffPair_float_0 _S10868;
    (&_S10868)->primal_0 = _S10734;
    (&_S10868)->differential_0 = 0.0f;
    DiffPair_float_0 _S10869;
    (&_S10869)->primal_0 = _S10677;
    (&_S10869)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10868, &_S10869, _S10860.differential_0);
    DiffPair_float_0 _S10870;
    (&_S10870)->primal_0 = _S10733;
    (&_S10870)->differential_0 = 0.0f;
    DiffPair_float_0 _S10871;
    (&_S10871)->primal_0 = _S10677;
    (&_S10871)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10870, &_S10871, _S10862.differential_0);
    DiffPair_float_0 _S10872;
    (&_S10872)->primal_0 = _S10732;
    (&_S10872)->differential_0 = 0.0f;
    DiffPair_float_0 _S10873;
    (&_S10873)->primal_0 = _S10676;
    (&_S10873)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10872, &_S10873, _S10864.differential_0);
    DiffPair_float_0 _S10874;
    (&_S10874)->primal_0 = _S10731;
    (&_S10874)->differential_0 = 0.0f;
    DiffPair_float_0 _S10875;
    (&_S10875)->primal_0 = _S10676;
    (&_S10875)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10874, &_S10875, _S10866.differential_0);
    DiffPair_float_0 _S10876;
    (&_S10876)->primal_0 = _S10730;
    (&_S10876)->differential_0 = 0.0f;
    DiffPair_float_0 _S10877;
    (&_S10877)->primal_0 = _S10662;
    (&_S10877)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10876, &_S10877, _S10868.differential_0);
    DiffPair_float_0 _S10878;
    (&_S10878)->primal_0 = _S10729;
    (&_S10878)->differential_0 = 0.0f;
    DiffPair_float_0 _S10879;
    (&_S10879)->primal_0 = _S10662;
    (&_S10879)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10878, &_S10879, _S10870.differential_0);
    DiffPair_float_0 _S10880;
    (&_S10880)->primal_0 = _S10728;
    (&_S10880)->differential_0 = 0.0f;
    DiffPair_float_0 _S10881;
    (&_S10881)->primal_0 = _S10661;
    (&_S10881)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10880, &_S10881, _S10872.differential_0);
    DiffPair_float_0 _S10882;
    (&_S10882)->primal_0 = _S10727;
    (&_S10882)->differential_0 = 0.0f;
    DiffPair_float_0 _S10883;
    (&_S10883)->primal_0 = _S10661;
    (&_S10883)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10882, &_S10883, _S10874.differential_0);
    DiffPair_float_0 _S10884;
    (&_S10884)->primal_0 = _S10726;
    (&_S10884)->differential_0 = 0.0f;
    DiffPair_float_0 _S10885;
    (&_S10885)->primal_0 = _S10647;
    (&_S10885)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10884, &_S10885, _S10876.differential_0);
    DiffPair_float_0 _S10886;
    (&_S10886)->primal_0 = _S10725;
    (&_S10886)->differential_0 = 0.0f;
    DiffPair_float_0 _S10887;
    (&_S10887)->primal_0 = _S10647;
    (&_S10887)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10886, &_S10887, _S10878.differential_0);
    DiffPair_float_0 _S10888;
    (&_S10888)->primal_0 = _S10724;
    (&_S10888)->differential_0 = 0.0f;
    DiffPair_float_0 _S10889;
    (&_S10889)->primal_0 = _S10646;
    (&_S10889)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10888, &_S10889, _S10880.differential_0);
    DiffPair_float_0 _S10890;
    (&_S10890)->primal_0 = _S10723;
    (&_S10890)->differential_0 = 0.0f;
    DiffPair_float_0 _S10891;
    (&_S10891)->primal_0 = _S10646;
    (&_S10891)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10890, &_S10891, _S10882.differential_0);
    DiffPair_float_0 _S10892;
    (&_S10892)->primal_0 = _S10617;
    (&_S10892)->differential_0 = 0.0f;
    DiffPair_float_0 _S10893;
    (&_S10893)->primal_0 = _S10632;
    (&_S10893)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10892, &_S10893, _S10884.differential_0);
    DiffPair_float_0 _S10894;
    (&_S10894)->primal_0 = _S10617;
    (&_S10894)->differential_0 = 0.0f;
    DiffPair_float_0 _S10895;
    (&_S10895)->primal_0 = _S10632;
    (&_S10895)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10894, &_S10895, _S10886.differential_0);
    DiffPair_float_0 _S10896;
    (&_S10896)->primal_0 = _S10616;
    (&_S10896)->differential_0 = 0.0f;
    DiffPair_float_0 _S10897;
    (&_S10897)->primal_0 = _S10631;
    (&_S10897)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10896, &_S10897, _S10888.differential_0);
    DiffPair_float_0 _S10898;
    (&_S10898)->primal_0 = _S10616;
    (&_S10898)->differential_0 = 0.0f;
    DiffPair_float_0 _S10899;
    (&_S10899)->primal_0 = _S10631;
    (&_S10899)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10898, &_S10899, _S10890.differential_0);
    float _S10900 = fx_110 * (_S10849.differential_0 + _S10851.differential_0);
    float2  _S10901 = make_float2 (_S10900, fy_110 * (_S10845.differential_0 + _S10847.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10900, (*dist_coeffs_114)[int(9)] * _S10900);
    float2  _S10902 = _S10709 * _S10901;
    float _S10903 = (*dist_coeffs_114)[int(4)] * _S10901.y;
    float _S10904 = (*dist_coeffs_114)[int(5)] * _S10901.x;
    float _S10905 = _S10902.x + _S10902.y;
    float _S10906 = r2_119 * _S10905;
    float _S10907 = r2_119 * _S10906;
    float _S10908 = (*dist_coeffs_114)[int(7)] * _S10901.y + _S10903 + (*dist_coeffs_114)[int(6)] * _S10901.x + _S10904 + _S10713 * _S10905 + _S10712 * _S10906 + _S10711 * _S10907 + (*dist_coeffs_114)[int(3)] * (r2_119 * _S10907);
    float _S10909 = v_124 * _S10908;
    float _S10910 = u_124 * _S10908;
    float2  _S10911 = (_S10714 * _S10901 + make_float2 (_S10611 * (v_124 * _S10901.y) + _S10716 * _S10904 + 2.0f * (u_124 * _S10904) + _S10608 * (v_124 * _S10901.x) + _S10910 + _S10910, _S10718 * _S10903 + 2.0f * (v_124 * _S10903) + _S10717 * _S10901.y + _S10715 * _S10901.x + _S10909 + _S10909)) / _S10710;
    float2  _S10912 = _S10708 * - _S10911;
    float2  _S10913 = _S10599 * _S10911;
    float _S10914 = fx_110 * (_S10857.differential_0 + _S10859.differential_0);
    float2  _S10915 = make_float2 (_S10914, fy_110 * (_S10853.differential_0 + _S10855.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10914, (*dist_coeffs_114)[int(9)] * _S10914);
    float2  _S10916 = _S10694 * _S10915;
    float _S10917 = (*dist_coeffs_114)[int(4)] * _S10915.y;
    float _S10918 = (*dist_coeffs_114)[int(5)] * _S10915.x;
    float _S10919 = _S10916.x + _S10916.y;
    float _S10920 = r2_118 * _S10919;
    float _S10921 = r2_118 * _S10920;
    float _S10922 = (*dist_coeffs_114)[int(7)] * _S10915.y + _S10917 + (*dist_coeffs_114)[int(6)] * _S10915.x + _S10918 + _S10698 * _S10919 + _S10697 * _S10920 + _S10696 * _S10921 + (*dist_coeffs_114)[int(3)] * (r2_118 * _S10921);
    float _S10923 = v_123 * _S10922;
    float _S10924 = u_123 * _S10922;
    float2  _S10925 = (_S10699 * _S10915 + make_float2 (_S10611 * (v_123 * _S10915.y) + _S10701 * _S10918 + 2.0f * (u_123 * _S10918) + _S10608 * (v_123 * _S10915.x) + _S10924 + _S10924, _S10703 * _S10917 + 2.0f * (v_123 * _S10917) + _S10702 * _S10915.y + _S10700 * _S10915.x + _S10923 + _S10923)) / _S10695;
    float2  _S10926 = _S10693 * - _S10925;
    float2  _S10927 = _S10594 * _S10925;
    float _S10928 = fx_110 * (_S10865.differential_0 + _S10867.differential_0);
    float2  _S10929 = make_float2 (_S10928, fy_110 * (_S10861.differential_0 + _S10863.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10928, (*dist_coeffs_114)[int(9)] * _S10928);
    float2  _S10930 = _S10679 * _S10929;
    float _S10931 = (*dist_coeffs_114)[int(4)] * _S10929.y;
    float _S10932 = (*dist_coeffs_114)[int(5)] * _S10929.x;
    float _S10933 = _S10930.x + _S10930.y;
    float _S10934 = r2_117 * _S10933;
    float _S10935 = r2_117 * _S10934;
    float _S10936 = (*dist_coeffs_114)[int(7)] * _S10929.y + _S10931 + (*dist_coeffs_114)[int(6)] * _S10929.x + _S10932 + _S10683 * _S10933 + _S10682 * _S10934 + _S10681 * _S10935 + (*dist_coeffs_114)[int(3)] * (r2_117 * _S10935);
    float _S10937 = v_122 * _S10936;
    float _S10938 = u_122 * _S10936;
    float2  _S10939 = (_S10684 * _S10929 + make_float2 (_S10611 * (v_122 * _S10929.y) + _S10686 * _S10932 + 2.0f * (u_122 * _S10932) + _S10608 * (v_122 * _S10929.x) + _S10938 + _S10938, _S10688 * _S10931 + 2.0f * (v_122 * _S10931) + _S10687 * _S10929.y + _S10685 * _S10929.x + _S10937 + _S10937)) / _S10680;
    float2  _S10940 = _S10678 * - _S10939;
    float2  _S10941 = _S10589 * _S10939;
    float _S10942 = fx_110 * (_S10873.differential_0 + _S10875.differential_0);
    float2  _S10943 = make_float2 (_S10942, fy_110 * (_S10869.differential_0 + _S10871.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10942, (*dist_coeffs_114)[int(9)] * _S10942);
    float2  _S10944 = _S10664 * _S10943;
    float _S10945 = (*dist_coeffs_114)[int(4)] * _S10943.y;
    float _S10946 = (*dist_coeffs_114)[int(5)] * _S10943.x;
    float _S10947 = _S10944.x + _S10944.y;
    float _S10948 = r2_116 * _S10947;
    float _S10949 = r2_116 * _S10948;
    float _S10950 = (*dist_coeffs_114)[int(7)] * _S10943.y + _S10945 + (*dist_coeffs_114)[int(6)] * _S10943.x + _S10946 + _S10668 * _S10947 + _S10667 * _S10948 + _S10666 * _S10949 + (*dist_coeffs_114)[int(3)] * (r2_116 * _S10949);
    float _S10951 = v_121 * _S10950;
    float _S10952 = u_121 * _S10950;
    float2  _S10953 = (_S10669 * _S10943 + make_float2 (_S10611 * (v_121 * _S10943.y) + _S10671 * _S10946 + 2.0f * (u_121 * _S10946) + _S10608 * (v_121 * _S10943.x) + _S10952 + _S10952, _S10673 * _S10945 + 2.0f * (v_121 * _S10945) + _S10672 * _S10943.y + _S10670 * _S10943.x + _S10951 + _S10951)) / _S10665;
    float2  _S10954 = _S10663 * - _S10953;
    float2  _S10955 = _S10584 * _S10953;
    float _S10956 = fx_110 * (_S10881.differential_0 + _S10883.differential_0);
    float2  _S10957 = make_float2 (_S10956, fy_110 * (_S10877.differential_0 + _S10879.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10956, (*dist_coeffs_114)[int(9)] * _S10956);
    float2  _S10958 = _S10649 * _S10957;
    float _S10959 = (*dist_coeffs_114)[int(4)] * _S10957.y;
    float _S10960 = (*dist_coeffs_114)[int(5)] * _S10957.x;
    float _S10961 = _S10958.x + _S10958.y;
    float _S10962 = r2_115 * _S10961;
    float _S10963 = r2_115 * _S10962;
    float _S10964 = (*dist_coeffs_114)[int(7)] * _S10957.y + _S10959 + (*dist_coeffs_114)[int(6)] * _S10957.x + _S10960 + _S10653 * _S10961 + _S10652 * _S10962 + _S10651 * _S10963 + (*dist_coeffs_114)[int(3)] * (r2_115 * _S10963);
    float _S10965 = v_120 * _S10964;
    float _S10966 = u_120 * _S10964;
    float2  _S10967 = (_S10654 * _S10957 + make_float2 (_S10611 * (v_120 * _S10957.y) + _S10656 * _S10960 + 2.0f * (u_120 * _S10960) + _S10608 * (v_120 * _S10957.x) + _S10966 + _S10966, _S10658 * _S10959 + 2.0f * (v_120 * _S10959) + _S10657 * _S10957.y + _S10655 * _S10957.x + _S10965 + _S10965)) / _S10650;
    float2  _S10968 = _S10648 * - _S10967;
    float2  _S10969 = _S10579 * _S10967;
    float _S10970 = fx_110 * (_S10889.differential_0 + _S10891.differential_0);
    float2  _S10971 = make_float2 (_S10970, fy_110 * (_S10885.differential_0 + _S10887.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10970, (*dist_coeffs_114)[int(9)] * _S10970);
    float2  _S10972 = _S10634 * _S10971;
    float _S10973 = (*dist_coeffs_114)[int(4)] * _S10971.y;
    float _S10974 = (*dist_coeffs_114)[int(5)] * _S10971.x;
    float _S10975 = _S10972.x + _S10972.y;
    float _S10976 = r2_114 * _S10975;
    float _S10977 = r2_114 * _S10976;
    float _S10978 = (*dist_coeffs_114)[int(7)] * _S10971.y + _S10973 + (*dist_coeffs_114)[int(6)] * _S10971.x + _S10974 + _S10638 * _S10975 + _S10637 * _S10976 + _S10636 * _S10977 + (*dist_coeffs_114)[int(3)] * (r2_114 * _S10977);
    float _S10979 = v_119 * _S10978;
    float _S10980 = u_119 * _S10978;
    float2  _S10981 = (_S10639 * _S10971 + make_float2 (_S10611 * (v_119 * _S10971.y) + _S10641 * _S10974 + 2.0f * (u_119 * _S10974) + _S10608 * (v_119 * _S10971.x) + _S10980 + _S10980, _S10643 * _S10973 + 2.0f * (v_119 * _S10973) + _S10642 * _S10971.y + _S10640 * _S10971.x + _S10979 + _S10979)) / _S10635;
    float2  _S10982 = _S10633 * - _S10981;
    float2  _S10983 = _S10574 * _S10981;
    float _S10984 = fx_110 * (_S10897.differential_0 + _S10899.differential_0);
    float2  _S10985 = make_float2 (_S10984, fy_110 * (_S10893.differential_0 + _S10895.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10984, (*dist_coeffs_114)[int(9)] * _S10984);
    float2  _S10986 = _S10619 * _S10985;
    float _S10987 = (*dist_coeffs_114)[int(4)] * _S10985.y;
    float _S10988 = (*dist_coeffs_114)[int(5)] * _S10985.x;
    float _S10989 = _S10986.x + _S10986.y;
    float _S10990 = r2_113 * _S10989;
    float _S10991 = r2_113 * _S10990;
    float _S10992 = (*dist_coeffs_114)[int(7)] * _S10985.y + _S10987 + (*dist_coeffs_114)[int(6)] * _S10985.x + _S10988 + _S10623 * _S10989 + _S10622 * _S10990 + _S10621 * _S10991 + (*dist_coeffs_114)[int(3)] * (r2_113 * _S10991);
    float _S10993 = v_118 * _S10992;
    float _S10994 = u_118 * _S10992;
    float2  _S10995 = (_S10624 * _S10985 + make_float2 (_S10611 * (v_118 * _S10985.y) + _S10626 * _S10988 + 2.0f * (u_118 * _S10988) + _S10608 * (v_118 * _S10985.x) + _S10994 + _S10994, _S10628 * _S10987 + 2.0f * (v_118 * _S10987) + _S10627 * _S10985.y + _S10625 * _S10985.x + _S10993 + _S10993)) / _S10620;
    float2  _S10996 = _S10618 * - _S10995;
    float2  _S10997 = _S10569 * _S10995;
    float _S10998 = fx_110 * (_S10896.differential_0 + _S10898.differential_0);
    float2  _S10999 = make_float2 (_S10998, fy_110 * (_S10892.differential_0 + _S10894.differential_0)) + make_float2 ((*dist_coeffs_114)[int(8)] * _S10998, (*dist_coeffs_114)[int(9)] * _S10998);
    float2  _S11000 = _S10602 * _S10999;
    float _S11001 = (*dist_coeffs_114)[int(4)] * _S10999.y;
    float _S11002 = (*dist_coeffs_114)[int(5)] * _S10999.x;
    float _S11003 = _S11000.x + _S11000.y;
    float _S11004 = r2_112 * _S11003;
    float _S11005 = r2_112 * _S11004;
    float _S11006 = (*dist_coeffs_114)[int(7)] * _S10999.y + _S11001 + (*dist_coeffs_114)[int(6)] * _S10999.x + _S11002 + _S10606 * _S11003 + _S10605 * _S11004 + _S10604 * _S11005 + (*dist_coeffs_114)[int(3)] * (r2_112 * _S11005);
    float _S11007 = v_117 * _S11006;
    float _S11008 = u_117 * _S11006;
    float2  _S11009 = (_S10607 * _S10999 + make_float2 (_S10611 * (v_117 * _S10999.y) + _S10610 * _S11002 + 2.0f * (u_117 * _S11002) + _S10608 * (v_117 * _S10999.x) + _S11008 + _S11008, _S10613 * _S11001 + 2.0f * (v_117 * _S11001) + _S10612 * _S10999.y + _S10609 * _S10999.x + _S11007 + _S11007)) / _S10603;
    float2  _S11010 = _S10601 * - _S11009;
    float2  _S11011 = _S10564 * _S11009;
    float3  _S11012 = _S10835 + _S10843.differential_0 + _S10842.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11013;
    (&_S11013)->primal_0 = R_80;
    (&_S11013)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11014;
    (&_S11014)->primal_0 = _S10600;
    (&_S11014)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11013, &_S11014, _S11012);
    DiffPair_float_0 _S11015;
    (&_S11015)->primal_0 = _S10596;
    (&_S11015)->differential_0 = 0.0f;
    DiffPair_float_0 _S11016;
    (&_S11016)->primal_0 = _S10598;
    (&_S11016)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11015, &_S11016, 0.0f);
    DiffPair_float_0 _S11017;
    (&_S11017)->primal_0 = _S10595;
    (&_S11017)->differential_0 = 0.0f;
    DiffPair_float_0 _S11018;
    (&_S11018)->primal_0 = _S10598;
    (&_S11018)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11017, &_S11018, 0.0f);
    float3  _S11019 = make_float3 (_S10913.x, _S10913.y, _S11016.differential_0 + _S11018.differential_0 + _S10912.x + _S10912.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11020;
    (&_S11020)->primal_0 = R_80;
    (&_S11020)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11021;
    (&_S11021)->primal_0 = pos_i_6;
    (&_S11021)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11020, &_S11021, _S11019);
    DiffPair_float_0 _S11022;
    (&_S11022)->primal_0 = _S10591;
    (&_S11022)->differential_0 = 0.0f;
    DiffPair_float_0 _S11023;
    (&_S11023)->primal_0 = _S10593;
    (&_S11023)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11022, &_S11023, _S11015.differential_0);
    DiffPair_float_0 _S11024;
    (&_S11024)->primal_0 = _S10590;
    (&_S11024)->differential_0 = 0.0f;
    DiffPair_float_0 _S11025;
    (&_S11025)->primal_0 = _S10593;
    (&_S11025)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11024, &_S11025, _S11017.differential_0);
    float3  _S11026 = make_float3 (_S10927.x, _S10927.y, _S11023.differential_0 + _S11025.differential_0 + _S10926.x + _S10926.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11027;
    (&_S11027)->primal_0 = R_80;
    (&_S11027)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11028;
    (&_S11028)->primal_0 = pos_i_5;
    (&_S11028)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11027, &_S11028, _S11026);
    DiffPair_float_0 _S11029;
    (&_S11029)->primal_0 = _S10586;
    (&_S11029)->differential_0 = 0.0f;
    DiffPair_float_0 _S11030;
    (&_S11030)->primal_0 = _S10588;
    (&_S11030)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11029, &_S11030, _S11022.differential_0);
    DiffPair_float_0 _S11031;
    (&_S11031)->primal_0 = _S10585;
    (&_S11031)->differential_0 = 0.0f;
    DiffPair_float_0 _S11032;
    (&_S11032)->primal_0 = _S10588;
    (&_S11032)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11031, &_S11032, _S11024.differential_0);
    float3  _S11033 = make_float3 (_S10941.x, _S10941.y, _S11030.differential_0 + _S11032.differential_0 + _S10940.x + _S10940.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11034;
    (&_S11034)->primal_0 = R_80;
    (&_S11034)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11035;
    (&_S11035)->primal_0 = pos_i_4;
    (&_S11035)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11034, &_S11035, _S11033);
    DiffPair_float_0 _S11036;
    (&_S11036)->primal_0 = _S10581;
    (&_S11036)->differential_0 = 0.0f;
    DiffPair_float_0 _S11037;
    (&_S11037)->primal_0 = _S10583;
    (&_S11037)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11036, &_S11037, _S11029.differential_0);
    DiffPair_float_0 _S11038;
    (&_S11038)->primal_0 = _S10580;
    (&_S11038)->differential_0 = 0.0f;
    DiffPair_float_0 _S11039;
    (&_S11039)->primal_0 = _S10583;
    (&_S11039)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11038, &_S11039, _S11031.differential_0);
    float3  _S11040 = make_float3 (_S10955.x, _S10955.y, _S11037.differential_0 + _S11039.differential_0 + _S10954.x + _S10954.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11041;
    (&_S11041)->primal_0 = R_80;
    (&_S11041)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11042;
    (&_S11042)->primal_0 = pos_i_3;
    (&_S11042)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11041, &_S11042, _S11040);
    DiffPair_float_0 _S11043;
    (&_S11043)->primal_0 = _S10576;
    (&_S11043)->differential_0 = 0.0f;
    DiffPair_float_0 _S11044;
    (&_S11044)->primal_0 = _S10578;
    (&_S11044)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11043, &_S11044, _S11036.differential_0);
    DiffPair_float_0 _S11045;
    (&_S11045)->primal_0 = _S10575;
    (&_S11045)->differential_0 = 0.0f;
    DiffPair_float_0 _S11046;
    (&_S11046)->primal_0 = _S10578;
    (&_S11046)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11045, &_S11046, _S11038.differential_0);
    float3  _S11047 = make_float3 (_S10969.x, _S10969.y, _S11044.differential_0 + _S11046.differential_0 + _S10968.x + _S10968.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11048;
    (&_S11048)->primal_0 = R_80;
    (&_S11048)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11049;
    (&_S11049)->primal_0 = pos_i_2;
    (&_S11049)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11048, &_S11049, _S11047);
    DiffPair_float_0 _S11050;
    (&_S11050)->primal_0 = _S10571;
    (&_S11050)->differential_0 = 0.0f;
    DiffPair_float_0 _S11051;
    (&_S11051)->primal_0 = _S10573;
    (&_S11051)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11050, &_S11051, _S11043.differential_0);
    DiffPair_float_0 _S11052;
    (&_S11052)->primal_0 = _S10570;
    (&_S11052)->differential_0 = 0.0f;
    DiffPair_float_0 _S11053;
    (&_S11053)->primal_0 = _S10573;
    (&_S11053)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11052, &_S11053, _S11045.differential_0);
    float3  _S11054 = make_float3 (_S10983.x, _S10983.y, _S11051.differential_0 + _S11053.differential_0 + _S10982.x + _S10982.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11055;
    (&_S11055)->primal_0 = R_80;
    (&_S11055)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11056;
    (&_S11056)->primal_0 = pos_i_1;
    (&_S11056)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11055, &_S11056, _S11054);
    DiffPair_float_0 _S11057;
    (&_S11057)->primal_0 = _S10566;
    (&_S11057)->differential_0 = 0.0f;
    DiffPair_float_0 _S11058;
    (&_S11058)->primal_0 = _S10568;
    (&_S11058)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11057, &_S11058, _S11050.differential_0);
    DiffPair_float_0 _S11059;
    (&_S11059)->primal_0 = _S10565;
    (&_S11059)->differential_0 = 0.0f;
    DiffPair_float_0 _S11060;
    (&_S11060)->primal_0 = _S10568;
    (&_S11060)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11059, &_S11060, _S11052.differential_0);
    float3  _S11061 = make_float3 (_S10997.x, _S10997.y, _S11058.differential_0 + _S11060.differential_0 + _S10996.x + _S10996.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11062;
    (&_S11062)->primal_0 = R_80;
    (&_S11062)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11063;
    (&_S11063)->primal_0 = pos_i_0;
    (&_S11063)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11062, &_S11063, _S11061);
    DiffPair_float_0 _S11064;
    (&_S11064)->primal_0 = 0.0f;
    (&_S11064)->differential_0 = 0.0f;
    DiffPair_float_0 _S11065;
    (&_S11065)->primal_0 = _S10563;
    (&_S11065)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11064, &_S11065, _S11057.differential_0);
    DiffPair_float_0 _S11066;
    (&_S11066)->primal_0 = 1.00000001504746622e+30f;
    (&_S11066)->differential_0 = 0.0f;
    DiffPair_float_0 _S11067;
    (&_S11067)->primal_0 = _S10563;
    (&_S11067)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11066, &_S11067, _S11059.differential_0);
    float3  _S11068 = make_float3 (_S11011.x, _S11011.y, _S11065.differential_0 + _S11067.differential_0 + _S11010.x + _S11010.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11069;
    (&_S11069)->primal_0 = R_80;
    (&_S11069)->differential_0 = _S10837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11070;
    (&_S11070)->primal_0 = pos_4;
    (&_S11070)->differential_0 = _S10775;
    s_bwd_prop_mul_1(&_S11069, &_S11070, _S11068);
    float3  _S11071 = _S10839.differential_0 + _S11012 + _S11019 + _S11026 + _S11033 + _S11040 + _S11047 + _S11054 + _S11061 + _S11068;
    Matrix<float, 3, 3>  _S11072 = _S10840 + _S11013.differential_0 + _S11020.differential_0 + _S11027.differential_0 + _S11034.differential_0 + _S11041.differential_0 + _S11048.differential_0 + _S11055.differential_0 + _S11062.differential_0 + _S11069.differential_0;
    FixedArray<float3 , 16>  _S11073;
    _S11073[int(0)] = _S10775;
    _S11073[int(1)] = _S10775;
    _S11073[int(2)] = _S10775;
    _S11073[int(3)] = _S10775;
    _S11073[int(4)] = _S10775;
    _S11073[int(5)] = _S10775;
    _S11073[int(6)] = _S10775;
    _S11073[int(7)] = _S10775;
    _S11073[int(8)] = _S10775;
    _S11073[int(9)] = _S10775;
    _S11073[int(10)] = _S10775;
    _S11073[int(11)] = _S10775;
    _S11073[int(12)] = _S10775;
    _S11073[int(13)] = _S10775;
    _S11073[int(14)] = _S10775;
    _S11073[int(15)] = _S10775;
    _S11073[int(15)] = _S10778;
    _S11073[int(14)] = _S10780;
    _S11073[int(13)] = _S10782;
    _S11073[int(12)] = _S10784;
    _S11073[int(11)] = _S10786;
    _S11073[int(10)] = _S10788;
    _S11073[int(9)] = _S10790;
    _S11073[int(8)] = _S10798;
    _S11073[int(7)] = _S10800;
    _S11073[int(6)] = _S10802;
    _S11073[int(5)] = _S10804;
    _S11073[int(4)] = _S10806;
    _S11073[int(3)] = _S10817;
    _S11073[int(2)] = _S10819;
    _S11073[int(1)] = _S10821;
    _S11073[int(0)] = _S10834;
    (*v_densities_0)[int(0)] = 0.0f;
    (*v_densities_0)[int(1)] = 0.0f;
    (*v_densities_0)[int(2)] = 0.0f;
    (*v_densities_0)[int(3)] = 0.0f;
    (*v_densities_0)[int(4)] = 0.0f;
    (*v_densities_0)[int(5)] = 0.0f;
    (*v_densities_0)[int(6)] = 0.0f;
    (*v_densities_0)[int(7)] = 0.0f;
    *v_sh_coeffs_9 = _S11073;
    *v_R_25 = _S11072;
    *v_t_24 = _S11071;
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye_vjp(float3  pos_5, float size_5, FixedArray<float, 8>  * densities_5, FixedArray<float3 , 16>  * sh_coeffs_32, Matrix<float, 3, 3>  R_81, float3  t_80, float fx_111, float fy_111, float cx_106, float cy_106, FixedArray<float, 10>  * dist_coeffs_115, uint image_width_102, uint image_height_102, float3  v_rgb_23, FixedArray<float, 8>  * v_densities_1, FixedArray<float3 , 16>  * v_sh_coeffs_10, Matrix<float, 3, 3>  * v_R_26, float3  * v_t_25)
{
    float3  _S11074 = s_primal_ctx_mul_0(R_81, pos_5) + t_80;
    float _S11075 = length_1(_S11074);
    float _S11076 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S11075);
    float _S11077 = s_primal_ctx_max_0(0.0f, _S11075);
    float3  pos_i_7 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S11078 = s_primal_ctx_mul_0(R_81, pos_i_7) + t_80;
    float _S11079 = length_1(_S11078);
    float _S11080 = s_primal_ctx_min_0(_S11076, _S11079);
    float _S11081 = s_primal_ctx_max_0(_S11077, _S11079);
    float3  pos_i_8 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S11082 = s_primal_ctx_mul_0(R_81, pos_i_8) + t_80;
    float _S11083 = length_1(_S11082);
    float _S11084 = s_primal_ctx_min_0(_S11080, _S11083);
    float _S11085 = s_primal_ctx_max_0(_S11081, _S11083);
    float3  pos_i_9 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S11086 = s_primal_ctx_mul_0(R_81, pos_i_9) + t_80;
    float _S11087 = length_1(_S11086);
    float _S11088 = s_primal_ctx_min_0(_S11084, _S11087);
    float _S11089 = s_primal_ctx_max_0(_S11085, _S11087);
    float3  pos_i_10 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S11090 = s_primal_ctx_mul_0(R_81, pos_i_10) + t_80;
    float _S11091 = length_1(_S11090);
    float _S11092 = s_primal_ctx_min_0(_S11088, _S11091);
    float _S11093 = s_primal_ctx_max_0(_S11089, _S11091);
    float3  pos_i_11 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S11094 = s_primal_ctx_mul_0(R_81, pos_i_11) + t_80;
    float _S11095 = length_1(_S11094);
    float _S11096 = s_primal_ctx_min_0(_S11092, _S11095);
    float _S11097 = s_primal_ctx_max_0(_S11093, _S11095);
    float3  pos_i_12 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S11098 = s_primal_ctx_mul_0(R_81, pos_i_12) + t_80;
    float _S11099 = length_1(_S11098);
    float _S11100 = s_primal_ctx_min_0(_S11096, _S11099);
    float _S11101 = s_primal_ctx_max_0(_S11097, _S11099);
    float3  pos_i_13 = pos_5 + make_float3 (size_5);
    float3  _S11102 = s_primal_ctx_mul_0(R_81, pos_i_13) + t_80;
    float _S11103 = length_1(_S11102);
    float3  _S11104 = pos_5 + make_float3 (0.5f * size_5);
    float3  mean_c_88 = s_primal_ctx_mul_0(R_81, _S11104) + t_80;
    float2  _S11105 = float2 {_S11074.x, _S11074.y};
    float _S11106 = length_0(_S11105);
    float _S11107 = _S11074.z;
    float _S11108 = s_primal_ctx_atan2_0(_S11106, _S11107);
    bool _S11109 = _S11108 < 0.00100000004749745f;
    float k_15;
    float _S11110;
    float _S11111;
    float _S11112;
    if(_S11109)
    {
        float _S11113 = 1.0f - _S11108 * _S11108 / 3.0f;
        float _S11114 = _S11107 * _S11107;
        k_15 = _S11113 / _S11107;
        _S11110 = 0.0f;
        _S11111 = _S11114;
        _S11112 = _S11113;
    }
    else
    {
        float _S11115 = _S11106 * _S11106;
        k_15 = _S11108 / _S11106;
        _S11110 = _S11115;
        _S11111 = 0.0f;
        _S11112 = 0.0f;
    }
    float2  _S11116 = make_float2 (k_15);
    float2  _S11117 = _S11105 * make_float2 (k_15);
    float u_125 = _S11117.x;
    float v_125 = _S11117.y;
    float r2_120 = u_125 * u_125 + v_125 * v_125;
    float _S11118 = (*dist_coeffs_115)[int(2)] + r2_120 * (*dist_coeffs_115)[int(3)];
    float _S11119 = (*dist_coeffs_115)[int(1)] + r2_120 * _S11118;
    float _S11120 = (*dist_coeffs_115)[int(0)] + r2_120 * _S11119;
    float radial_21 = 1.0f + r2_120 * _S11120;
    float2  _S11121 = make_float2 (radial_21);
    float _S11122 = 2.0f * (*dist_coeffs_115)[int(4)];
    float _S11123 = _S11122 * u_125;
    float _S11124 = 2.0f * u_125;
    float _S11125 = 2.0f * (*dist_coeffs_115)[int(5)];
    float _S11126 = _S11125 * u_125;
    float _S11127 = 2.0f * v_125;
    float2  _S11128 = _S11117 * make_float2 (radial_21) + make_float2 (_S11123 * v_125 + (*dist_coeffs_115)[int(5)] * (r2_120 + _S11124 * u_125) + (*dist_coeffs_115)[int(6)] * r2_120, _S11126 * v_125 + (*dist_coeffs_115)[int(4)] * (r2_120 + _S11127 * v_125) + (*dist_coeffs_115)[int(7)] * r2_120);
    float2  _S11129 = _S11128 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11128.x + (*dist_coeffs_115)[int(9)] * _S11128.y, 0.0f);
    float _S11130 = fx_111 * _S11129.x + cx_106;
    float _S11131 = fy_111 * _S11129.y + cy_106;
    float2  _S11132 = float2 {_S11078.x, _S11078.y};
    float _S11133 = length_0(_S11132);
    float _S11134 = _S11078.z;
    float _S11135 = s_primal_ctx_atan2_0(_S11133, _S11134);
    bool _S11136 = _S11135 < 0.00100000004749745f;
    float _S11137;
    float _S11138;
    float _S11139;
    if(_S11136)
    {
        float _S11140 = 1.0f - _S11135 * _S11135 / 3.0f;
        float _S11141 = _S11134 * _S11134;
        k_15 = _S11140 / _S11134;
        _S11137 = 0.0f;
        _S11138 = _S11141;
        _S11139 = _S11140;
    }
    else
    {
        float _S11142 = _S11133 * _S11133;
        k_15 = _S11135 / _S11133;
        _S11137 = _S11142;
        _S11138 = 0.0f;
        _S11139 = 0.0f;
    }
    float2  _S11143 = make_float2 (k_15);
    float2  _S11144 = _S11132 * make_float2 (k_15);
    float u_126 = _S11144.x;
    float v_126 = _S11144.y;
    float r2_121 = u_126 * u_126 + v_126 * v_126;
    float _S11145 = (*dist_coeffs_115)[int(2)] + r2_121 * (*dist_coeffs_115)[int(3)];
    float _S11146 = (*dist_coeffs_115)[int(1)] + r2_121 * _S11145;
    float _S11147 = (*dist_coeffs_115)[int(0)] + r2_121 * _S11146;
    float radial_22 = 1.0f + r2_121 * _S11147;
    float2  _S11148 = make_float2 (radial_22);
    float _S11149 = _S11122 * u_126;
    float _S11150 = 2.0f * u_126;
    float _S11151 = _S11125 * u_126;
    float _S11152 = 2.0f * v_126;
    float2  _S11153 = _S11144 * make_float2 (radial_22) + make_float2 (_S11149 * v_126 + (*dist_coeffs_115)[int(5)] * (r2_121 + _S11150 * u_126) + (*dist_coeffs_115)[int(6)] * r2_121, _S11151 * v_126 + (*dist_coeffs_115)[int(4)] * (r2_121 + _S11152 * v_126) + (*dist_coeffs_115)[int(7)] * r2_121);
    float2  _S11154 = _S11153 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11153.x + (*dist_coeffs_115)[int(9)] * _S11153.y, 0.0f);
    float _S11155 = fx_111 * _S11154.x + cx_106;
    float _S11156 = fy_111 * _S11154.y + cy_106;
    float2  _S11157 = float2 {_S11082.x, _S11082.y};
    float _S11158 = length_0(_S11157);
    float _S11159 = _S11082.z;
    float _S11160 = s_primal_ctx_atan2_0(_S11158, _S11159);
    bool _S11161 = _S11160 < 0.00100000004749745f;
    float _S11162;
    float _S11163;
    float _S11164;
    if(_S11161)
    {
        float _S11165 = 1.0f - _S11160 * _S11160 / 3.0f;
        float _S11166 = _S11159 * _S11159;
        k_15 = _S11165 / _S11159;
        _S11162 = 0.0f;
        _S11163 = _S11166;
        _S11164 = _S11165;
    }
    else
    {
        float _S11167 = _S11158 * _S11158;
        k_15 = _S11160 / _S11158;
        _S11162 = _S11167;
        _S11163 = 0.0f;
        _S11164 = 0.0f;
    }
    float2  _S11168 = make_float2 (k_15);
    float2  _S11169 = _S11157 * make_float2 (k_15);
    float u_127 = _S11169.x;
    float v_127 = _S11169.y;
    float r2_122 = u_127 * u_127 + v_127 * v_127;
    float _S11170 = (*dist_coeffs_115)[int(2)] + r2_122 * (*dist_coeffs_115)[int(3)];
    float _S11171 = (*dist_coeffs_115)[int(1)] + r2_122 * _S11170;
    float _S11172 = (*dist_coeffs_115)[int(0)] + r2_122 * _S11171;
    float radial_23 = 1.0f + r2_122 * _S11172;
    float2  _S11173 = make_float2 (radial_23);
    float _S11174 = _S11122 * u_127;
    float _S11175 = 2.0f * u_127;
    float _S11176 = _S11125 * u_127;
    float _S11177 = 2.0f * v_127;
    float2  _S11178 = _S11169 * make_float2 (radial_23) + make_float2 (_S11174 * v_127 + (*dist_coeffs_115)[int(5)] * (r2_122 + _S11175 * u_127) + (*dist_coeffs_115)[int(6)] * r2_122, _S11176 * v_127 + (*dist_coeffs_115)[int(4)] * (r2_122 + _S11177 * v_127) + (*dist_coeffs_115)[int(7)] * r2_122);
    float2  _S11179 = _S11178 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11178.x + (*dist_coeffs_115)[int(9)] * _S11178.y, 0.0f);
    float _S11180 = fx_111 * _S11179.x + cx_106;
    float _S11181 = fy_111 * _S11179.y + cy_106;
    float2  _S11182 = float2 {_S11086.x, _S11086.y};
    float _S11183 = length_0(_S11182);
    float _S11184 = _S11086.z;
    float _S11185 = s_primal_ctx_atan2_0(_S11183, _S11184);
    bool _S11186 = _S11185 < 0.00100000004749745f;
    float _S11187;
    float _S11188;
    float _S11189;
    if(_S11186)
    {
        float _S11190 = 1.0f - _S11185 * _S11185 / 3.0f;
        float _S11191 = _S11184 * _S11184;
        k_15 = _S11190 / _S11184;
        _S11187 = 0.0f;
        _S11188 = _S11191;
        _S11189 = _S11190;
    }
    else
    {
        float _S11192 = _S11183 * _S11183;
        k_15 = _S11185 / _S11183;
        _S11187 = _S11192;
        _S11188 = 0.0f;
        _S11189 = 0.0f;
    }
    float2  _S11193 = make_float2 (k_15);
    float2  _S11194 = _S11182 * make_float2 (k_15);
    float u_128 = _S11194.x;
    float v_128 = _S11194.y;
    float r2_123 = u_128 * u_128 + v_128 * v_128;
    float _S11195 = (*dist_coeffs_115)[int(2)] + r2_123 * (*dist_coeffs_115)[int(3)];
    float _S11196 = (*dist_coeffs_115)[int(1)] + r2_123 * _S11195;
    float _S11197 = (*dist_coeffs_115)[int(0)] + r2_123 * _S11196;
    float radial_24 = 1.0f + r2_123 * _S11197;
    float2  _S11198 = make_float2 (radial_24);
    float _S11199 = _S11122 * u_128;
    float _S11200 = 2.0f * u_128;
    float _S11201 = _S11125 * u_128;
    float _S11202 = 2.0f * v_128;
    float2  _S11203 = _S11194 * make_float2 (radial_24) + make_float2 (_S11199 * v_128 + (*dist_coeffs_115)[int(5)] * (r2_123 + _S11200 * u_128) + (*dist_coeffs_115)[int(6)] * r2_123, _S11201 * v_128 + (*dist_coeffs_115)[int(4)] * (r2_123 + _S11202 * v_128) + (*dist_coeffs_115)[int(7)] * r2_123);
    float2  _S11204 = _S11203 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11203.x + (*dist_coeffs_115)[int(9)] * _S11203.y, 0.0f);
    float _S11205 = fx_111 * _S11204.x + cx_106;
    float _S11206 = fy_111 * _S11204.y + cy_106;
    float2  _S11207 = float2 {_S11090.x, _S11090.y};
    float _S11208 = length_0(_S11207);
    float _S11209 = _S11090.z;
    float _S11210 = s_primal_ctx_atan2_0(_S11208, _S11209);
    bool _S11211 = _S11210 < 0.00100000004749745f;
    float _S11212;
    float _S11213;
    float _S11214;
    if(_S11211)
    {
        float _S11215 = 1.0f - _S11210 * _S11210 / 3.0f;
        float _S11216 = _S11209 * _S11209;
        k_15 = _S11215 / _S11209;
        _S11212 = 0.0f;
        _S11213 = _S11216;
        _S11214 = _S11215;
    }
    else
    {
        float _S11217 = _S11208 * _S11208;
        k_15 = _S11210 / _S11208;
        _S11212 = _S11217;
        _S11213 = 0.0f;
        _S11214 = 0.0f;
    }
    float2  _S11218 = make_float2 (k_15);
    float2  _S11219 = _S11207 * make_float2 (k_15);
    float u_129 = _S11219.x;
    float v_129 = _S11219.y;
    float r2_124 = u_129 * u_129 + v_129 * v_129;
    float _S11220 = (*dist_coeffs_115)[int(2)] + r2_124 * (*dist_coeffs_115)[int(3)];
    float _S11221 = (*dist_coeffs_115)[int(1)] + r2_124 * _S11220;
    float _S11222 = (*dist_coeffs_115)[int(0)] + r2_124 * _S11221;
    float radial_25 = 1.0f + r2_124 * _S11222;
    float2  _S11223 = make_float2 (radial_25);
    float _S11224 = _S11122 * u_129;
    float _S11225 = 2.0f * u_129;
    float _S11226 = _S11125 * u_129;
    float _S11227 = 2.0f * v_129;
    float2  _S11228 = _S11219 * make_float2 (radial_25) + make_float2 (_S11224 * v_129 + (*dist_coeffs_115)[int(5)] * (r2_124 + _S11225 * u_129) + (*dist_coeffs_115)[int(6)] * r2_124, _S11226 * v_129 + (*dist_coeffs_115)[int(4)] * (r2_124 + _S11227 * v_129) + (*dist_coeffs_115)[int(7)] * r2_124);
    float2  _S11229 = _S11228 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11228.x + (*dist_coeffs_115)[int(9)] * _S11228.y, 0.0f);
    float _S11230 = fx_111 * _S11229.x + cx_106;
    float _S11231 = fy_111 * _S11229.y + cy_106;
    float2  _S11232 = float2 {_S11094.x, _S11094.y};
    float _S11233 = length_0(_S11232);
    float _S11234 = _S11094.z;
    float _S11235 = s_primal_ctx_atan2_0(_S11233, _S11234);
    bool _S11236 = _S11235 < 0.00100000004749745f;
    float _S11237;
    float _S11238;
    float _S11239;
    if(_S11236)
    {
        float _S11240 = 1.0f - _S11235 * _S11235 / 3.0f;
        float _S11241 = _S11234 * _S11234;
        k_15 = _S11240 / _S11234;
        _S11237 = 0.0f;
        _S11238 = _S11241;
        _S11239 = _S11240;
    }
    else
    {
        float _S11242 = _S11233 * _S11233;
        k_15 = _S11235 / _S11233;
        _S11237 = _S11242;
        _S11238 = 0.0f;
        _S11239 = 0.0f;
    }
    float2  _S11243 = make_float2 (k_15);
    float2  _S11244 = _S11232 * make_float2 (k_15);
    float u_130 = _S11244.x;
    float v_130 = _S11244.y;
    float r2_125 = u_130 * u_130 + v_130 * v_130;
    float _S11245 = (*dist_coeffs_115)[int(2)] + r2_125 * (*dist_coeffs_115)[int(3)];
    float _S11246 = (*dist_coeffs_115)[int(1)] + r2_125 * _S11245;
    float _S11247 = (*dist_coeffs_115)[int(0)] + r2_125 * _S11246;
    float radial_26 = 1.0f + r2_125 * _S11247;
    float2  _S11248 = make_float2 (radial_26);
    float _S11249 = _S11122 * u_130;
    float _S11250 = 2.0f * u_130;
    float _S11251 = _S11125 * u_130;
    float _S11252 = 2.0f * v_130;
    float2  _S11253 = _S11244 * make_float2 (radial_26) + make_float2 (_S11249 * v_130 + (*dist_coeffs_115)[int(5)] * (r2_125 + _S11250 * u_130) + (*dist_coeffs_115)[int(6)] * r2_125, _S11251 * v_130 + (*dist_coeffs_115)[int(4)] * (r2_125 + _S11252 * v_130) + (*dist_coeffs_115)[int(7)] * r2_125);
    float2  _S11254 = _S11253 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11253.x + (*dist_coeffs_115)[int(9)] * _S11253.y, 0.0f);
    float _S11255 = fx_111 * _S11254.x + cx_106;
    float _S11256 = fy_111 * _S11254.y + cy_106;
    float2  _S11257 = float2 {_S11098.x, _S11098.y};
    float _S11258 = length_0(_S11257);
    float _S11259 = _S11098.z;
    float _S11260 = s_primal_ctx_atan2_0(_S11258, _S11259);
    bool _S11261 = _S11260 < 0.00100000004749745f;
    float _S11262;
    float _S11263;
    float _S11264;
    if(_S11261)
    {
        float _S11265 = 1.0f - _S11260 * _S11260 / 3.0f;
        float _S11266 = _S11259 * _S11259;
        k_15 = _S11265 / _S11259;
        _S11262 = 0.0f;
        _S11263 = _S11266;
        _S11264 = _S11265;
    }
    else
    {
        float _S11267 = _S11258 * _S11258;
        k_15 = _S11260 / _S11258;
        _S11262 = _S11267;
        _S11263 = 0.0f;
        _S11264 = 0.0f;
    }
    float2  _S11268 = make_float2 (k_15);
    float2  _S11269 = _S11257 * make_float2 (k_15);
    float u_131 = _S11269.x;
    float v_131 = _S11269.y;
    float r2_126 = u_131 * u_131 + v_131 * v_131;
    float _S11270 = (*dist_coeffs_115)[int(2)] + r2_126 * (*dist_coeffs_115)[int(3)];
    float _S11271 = (*dist_coeffs_115)[int(1)] + r2_126 * _S11270;
    float _S11272 = (*dist_coeffs_115)[int(0)] + r2_126 * _S11271;
    float radial_27 = 1.0f + r2_126 * _S11272;
    float2  _S11273 = make_float2 (radial_27);
    float _S11274 = _S11122 * u_131;
    float _S11275 = 2.0f * u_131;
    float _S11276 = _S11125 * u_131;
    float _S11277 = 2.0f * v_131;
    float2  _S11278 = _S11269 * make_float2 (radial_27) + make_float2 (_S11274 * v_131 + (*dist_coeffs_115)[int(5)] * (r2_126 + _S11275 * u_131) + (*dist_coeffs_115)[int(6)] * r2_126, _S11276 * v_131 + (*dist_coeffs_115)[int(4)] * (r2_126 + _S11277 * v_131) + (*dist_coeffs_115)[int(7)] * r2_126);
    float2  _S11279 = _S11278 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11278.x + (*dist_coeffs_115)[int(9)] * _S11278.y, 0.0f);
    float _S11280 = fx_111 * _S11279.x + cx_106;
    float _S11281 = fy_111 * _S11279.y + cy_106;
    float2  _S11282 = float2 {_S11102.x, _S11102.y};
    float _S11283 = length_0(_S11282);
    float _S11284 = _S11102.z;
    float _S11285 = s_primal_ctx_atan2_0(_S11283, _S11284);
    bool _S11286 = _S11285 < 0.00100000004749745f;
    float _S11287;
    float _S11288;
    float _S11289;
    if(_S11286)
    {
        float _S11290 = 1.0f - _S11285 * _S11285 / 3.0f;
        float _S11291 = _S11284 * _S11284;
        k_15 = _S11290 / _S11284;
        _S11287 = 0.0f;
        _S11288 = _S11291;
        _S11289 = _S11290;
    }
    else
    {
        float _S11292 = _S11283 * _S11283;
        k_15 = _S11285 / _S11283;
        _S11287 = _S11292;
        _S11288 = 0.0f;
        _S11289 = 0.0f;
    }
    float2  _S11293 = make_float2 (k_15);
    float2  _S11294 = _S11282 * make_float2 (k_15);
    float u_132 = _S11294.x;
    float v_132 = _S11294.y;
    float r2_127 = u_132 * u_132 + v_132 * v_132;
    float _S11295 = (*dist_coeffs_115)[int(2)] + r2_127 * (*dist_coeffs_115)[int(3)];
    float _S11296 = (*dist_coeffs_115)[int(1)] + r2_127 * _S11295;
    float _S11297 = (*dist_coeffs_115)[int(0)] + r2_127 * _S11296;
    float radial_28 = 1.0f + r2_127 * _S11297;
    float2  _S11298 = make_float2 (radial_28);
    float _S11299 = _S11122 * u_132;
    float _S11300 = 2.0f * u_132;
    float _S11301 = _S11125 * u_132;
    float _S11302 = 2.0f * v_132;
    float2  _S11303 = _S11294 * make_float2 (radial_28) + make_float2 (_S11299 * v_132 + (*dist_coeffs_115)[int(5)] * (r2_127 + _S11300 * u_132) + (*dist_coeffs_115)[int(6)] * r2_127, _S11301 * v_132 + (*dist_coeffs_115)[int(4)] * (r2_127 + _S11302 * v_132) + (*dist_coeffs_115)[int(7)] * r2_127);
    float2  _S11304 = _S11303 + make_float2 ((*dist_coeffs_115)[int(8)] * _S11303.x + (*dist_coeffs_115)[int(9)] * _S11303.y, 0.0f);
    float _S11305 = fx_111 * _S11304.x + cx_106;
    float _S11306 = fy_111 * _S11304.y + cy_106;
    float _S11307 = s_primal_ctx_max_0(_S11130, _S11155);
    float _S11308 = s_primal_ctx_min_0(_S11130, _S11155);
    float _S11309 = s_primal_ctx_max_0(_S11131, _S11156);
    float _S11310 = s_primal_ctx_min_0(_S11131, _S11156);
    float _S11311 = s_primal_ctx_max_0(_S11307, _S11180);
    float _S11312 = s_primal_ctx_min_0(_S11308, _S11180);
    float _S11313 = s_primal_ctx_max_0(_S11309, _S11181);
    float _S11314 = s_primal_ctx_min_0(_S11310, _S11181);
    float _S11315 = s_primal_ctx_max_0(_S11311, _S11205);
    float _S11316 = s_primal_ctx_min_0(_S11312, _S11205);
    float _S11317 = s_primal_ctx_max_0(_S11313, _S11206);
    float _S11318 = s_primal_ctx_min_0(_S11314, _S11206);
    float _S11319 = s_primal_ctx_max_0(_S11315, _S11230);
    float _S11320 = s_primal_ctx_min_0(_S11316, _S11230);
    float _S11321 = s_primal_ctx_max_0(_S11317, _S11231);
    float _S11322 = s_primal_ctx_min_0(_S11318, _S11231);
    float _S11323 = s_primal_ctx_max_0(_S11319, _S11255);
    float _S11324 = s_primal_ctx_min_0(_S11320, _S11255);
    float _S11325 = s_primal_ctx_max_0(_S11321, _S11256);
    float _S11326 = s_primal_ctx_min_0(_S11322, _S11256);
    float _S11327 = s_primal_ctx_max_0(_S11323, _S11280);
    float _S11328 = s_primal_ctx_min_0(_S11324, _S11280);
    float _S11329 = s_primal_ctx_max_0(_S11325, _S11281);
    float _S11330 = s_primal_ctx_min_0(_S11326, _S11281);
    float _S11331 = s_primal_ctx_dot_0(mean_c_88, mean_c_88) + 9.99999997475242708e-07f;
    Matrix<float, 3, 3>  _S11332 = transpose_0(R_81);
    float3  _S11333 = mean_c_88 - - s_primal_ctx_mul_0(_S11332, t_80);
    float _S11334 = _S11333.x;
    float _S11335 = _S11333.y;
    float _S11336 = _S11333.z;
    float _S11337 = _S11334 * _S11334 + _S11335 * _S11335 + _S11336 * _S11336;
    float _S11338 = s_primal_ctx_sqrt_0(_S11337);
    float x_96 = _S11334 / _S11338;
    float3  _S11339 = make_float3 (x_96);
    float _S11340 = _S11338 * _S11338;
    float y_35 = _S11335 / _S11338;
    float z_32 = _S11336 / _S11338;
    float3  _S11341 = make_float3 (z_32);
    float _S11342 = - y_35;
    float3  _S11343 = make_float3 (_S11342);
    float z2_121 = z_32 * z_32;
    float fTmp0B_32 = -1.09254848957061768f * z_32;
    float fC1_32 = x_96 * x_96 - y_35 * y_35;
    float _S11344 = 2.0f * x_96;
    float fS1_32 = _S11344 * y_35;
    float pSH6_10 = 0.94617468118667603f * z2_121 - 0.31539157032966614f;
    float3  _S11345 = make_float3 (pSH6_10);
    float pSH7_10 = fTmp0B_32 * x_96;
    float3  _S11346 = make_float3 (pSH7_10);
    float pSH5_10 = fTmp0B_32 * y_35;
    float3  _S11347 = make_float3 (pSH5_10);
    float pSH8_10 = 0.54627424478530884f * fC1_32;
    float3  _S11348 = make_float3 (pSH8_10);
    float pSH4_10 = 0.54627424478530884f * fS1_32;
    float3  _S11349 = make_float3 (pSH4_10);
    float fTmp0C_32 = -2.28522896766662598f * z2_121 + 0.4570457935333252f;
    float fTmp1B_32 = 1.44530570507049561f * z_32;
    float _S11350 = 1.86588168144226074f * z2_121 - 1.11952900886535645f;
    float pSH12_10 = z_32 * _S11350;
    float3  _S11351 = make_float3 (pSH12_10);
    float pSH13_10 = fTmp0C_32 * x_96;
    float3  _S11352 = make_float3 (pSH13_10);
    float pSH11_10 = fTmp0C_32 * y_35;
    float3  _S11353 = make_float3 (pSH11_10);
    float pSH14_10 = fTmp1B_32 * fC1_32;
    float3  _S11354 = make_float3 (pSH14_10);
    float pSH10_10 = fTmp1B_32 * fS1_32;
    float3  _S11355 = make_float3 (pSH10_10);
    float pSH15_10 = -0.59004360437393188f * (x_96 * fC1_32 - y_35 * fS1_32);
    float3  _S11356 = make_float3 (pSH15_10);
    float pSH9_10 = -0.59004360437393188f * (x_96 * fS1_32 + y_35 * fC1_32);
    float3  _S11357 = make_float3 (pSH9_10);
    float3  _S11358 = make_float3 (0.0f);
    float3  _S11359 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11360;
    (&_S11360)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_32)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S11342) * (*sh_coeffs_32)[int(1)] + make_float3 (z_32) * (*sh_coeffs_32)[int(2)] - make_float3 (x_96) * (*sh_coeffs_32)[int(3)]) + (make_float3 (pSH4_10) * (*sh_coeffs_32)[int(4)] + make_float3 (pSH5_10) * (*sh_coeffs_32)[int(5)] + make_float3 (pSH6_10) * (*sh_coeffs_32)[int(6)] + make_float3 (pSH7_10) * (*sh_coeffs_32)[int(7)] + make_float3 (pSH8_10) * (*sh_coeffs_32)[int(8)]) + (make_float3 (pSH9_10) * (*sh_coeffs_32)[int(9)] + make_float3 (pSH10_10) * (*sh_coeffs_32)[int(10)] + make_float3 (pSH11_10) * (*sh_coeffs_32)[int(11)] + make_float3 (pSH12_10) * (*sh_coeffs_32)[int(12)] + make_float3 (pSH13_10) * (*sh_coeffs_32)[int(13)] + make_float3 (pSH14_10) * (*sh_coeffs_32)[int(14)] + make_float3 (pSH15_10) * (*sh_coeffs_32)[int(15)]) + make_float3 (0.5f);
    (&_S11360)->differential_0 = _S11359;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11361;
    (&_S11361)->primal_0 = _S11358;
    (&_S11361)->differential_0 = _S11359;
    s_bwd_prop_max_0(&_S11360, &_S11361, v_rgb_23);
    float3  _S11362 = _S11356 * _S11360.differential_0;
    float3  _S11363 = (*sh_coeffs_32)[int(15)] * _S11360.differential_0;
    float3  _S11364 = _S11354 * _S11360.differential_0;
    float3  _S11365 = (*sh_coeffs_32)[int(14)] * _S11360.differential_0;
    float3  _S11366 = _S11352 * _S11360.differential_0;
    float3  _S11367 = (*sh_coeffs_32)[int(13)] * _S11360.differential_0;
    float3  _S11368 = _S11351 * _S11360.differential_0;
    float3  _S11369 = (*sh_coeffs_32)[int(12)] * _S11360.differential_0;
    float3  _S11370 = _S11353 * _S11360.differential_0;
    float3  _S11371 = (*sh_coeffs_32)[int(11)] * _S11360.differential_0;
    float3  _S11372 = _S11355 * _S11360.differential_0;
    float3  _S11373 = (*sh_coeffs_32)[int(10)] * _S11360.differential_0;
    float3  _S11374 = _S11357 * _S11360.differential_0;
    float3  _S11375 = (*sh_coeffs_32)[int(9)] * _S11360.differential_0;
    float s_diff_fS2_T_10 = -0.59004360437393188f * (_S11375.x + _S11375.y + _S11375.z);
    float s_diff_fC2_T_10 = -0.59004360437393188f * (_S11363.x + _S11363.y + _S11363.z);
    float _S11376 = _S11373.x + _S11373.y + _S11373.z;
    float _S11377 = _S11365.x + _S11365.y + _S11365.z;
    float _S11378 = _S11371.x + _S11371.y + _S11371.z;
    float _S11379 = _S11367.x + _S11367.y + _S11367.z;
    float _S11380 = _S11369.x + _S11369.y + _S11369.z;
    float _S11381 = - s_diff_fC2_T_10;
    float3  _S11382 = _S11348 * _S11360.differential_0;
    float3  _S11383 = (*sh_coeffs_32)[int(8)] * _S11360.differential_0;
    float3  _S11384 = _S11346 * _S11360.differential_0;
    float3  _S11385 = (*sh_coeffs_32)[int(7)] * _S11360.differential_0;
    float3  _S11386 = _S11345 * _S11360.differential_0;
    float3  _S11387 = (*sh_coeffs_32)[int(6)] * _S11360.differential_0;
    float3  _S11388 = _S11347 * _S11360.differential_0;
    float3  _S11389 = (*sh_coeffs_32)[int(5)] * _S11360.differential_0;
    float3  _S11390 = _S11349 * _S11360.differential_0;
    float3  _S11391 = (*sh_coeffs_32)[int(4)] * _S11360.differential_0;
    float _S11392 = _S11389.x + _S11389.y + _S11389.z;
    float _S11393 = _S11385.x + _S11385.y + _S11385.z;
    float _S11394 = fTmp1B_32 * _S11376 + x_96 * s_diff_fS2_T_10 + y_35 * _S11381 + 0.54627424478530884f * (_S11391.x + _S11391.y + _S11391.z);
    float _S11395 = fTmp1B_32 * _S11377 + y_35 * s_diff_fS2_T_10 + x_96 * s_diff_fC2_T_10 + 0.54627424478530884f * (_S11383.x + _S11383.y + _S11383.z);
    float _S11396 = y_35 * - _S11395;
    float _S11397 = x_96 * _S11395;
    float _S11398 = z_32 * (1.86588168144226074f * (z_32 * _S11380) + -2.28522896766662598f * (y_35 * _S11378 + x_96 * _S11379) + 0.94617468118667603f * (_S11387.x + _S11387.y + _S11387.z));
    float3  _S11399 = make_float3 (0.48860251903533936f) * _S11360.differential_0;
    float3  _S11400 = - _S11399;
    float3  _S11401 = _S11339 * _S11400;
    float3  _S11402 = (*sh_coeffs_32)[int(3)] * _S11400;
    float3  _S11403 = _S11341 * _S11399;
    float3  _S11404 = (*sh_coeffs_32)[int(2)] * _S11399;
    float3  _S11405 = _S11343 * _S11399;
    float3  _S11406 = (*sh_coeffs_32)[int(1)] * _S11399;
    float _S11407 = (_S11350 * _S11380 + 1.44530570507049561f * (fS1_32 * _S11376 + fC1_32 * _S11377) + -1.09254848957061768f * (y_35 * _S11392 + x_96 * _S11393) + _S11398 + _S11398 + _S11404.x + _S11404.y + _S11404.z) / _S11340;
    float _S11408 = _S11338 * _S11407;
    float _S11409 = (fTmp0C_32 * _S11378 + fC1_32 * s_diff_fS2_T_10 + fS1_32 * _S11381 + fTmp0B_32 * _S11392 + _S11344 * _S11394 + _S11396 + _S11396 + - (_S11406.x + _S11406.y + _S11406.z)) / _S11340;
    float _S11410 = _S11338 * _S11409;
    float _S11411 = (fTmp0C_32 * _S11379 + fS1_32 * s_diff_fS2_T_10 + fC1_32 * s_diff_fC2_T_10 + fTmp0B_32 * _S11393 + 2.0f * (y_35 * _S11394) + _S11397 + _S11397 + _S11402.x + _S11402.y + _S11402.z) / _S11340;
    float _S11412 = _S11338 * _S11411;
    float _S11413 = _S11336 * - _S11407 + _S11335 * - _S11409 + _S11334 * - _S11411;
    DiffPair_float_0 _S11414;
    (&_S11414)->primal_0 = _S11337;
    (&_S11414)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S11414, _S11413);
    float _S11415 = _S11336 * _S11414.differential_0;
    float _S11416 = _S11335 * _S11414.differential_0;
    float _S11417 = _S11334 * _S11414.differential_0;
    float3  _S11418 = make_float3 (0.282094806432724f) * _S11360.differential_0;
    float3  _S11419 = make_float3 (_S11412 + _S11417 + _S11417, _S11410 + _S11416 + _S11416, _S11408 + _S11415 + _S11415);
    float3  _S11420 = - - _S11419;
    Matrix<float, 3, 3>  _S11421 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11422;
    (&_S11422)->primal_0 = _S11332;
    (&_S11422)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11423;
    (&_S11423)->primal_0 = t_80;
    (&_S11423)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11422, &_S11423, _S11420);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11424 = _S11423;
    Matrix<float, 3, 3>  _S11425 = transpose_0(_S11422.differential_0);
    DiffPair_float_0 _S11426;
    (&_S11426)->primal_0 = _S11331;
    (&_S11426)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S11426, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11427;
    (&_S11427)->primal_0 = mean_c_88;
    (&_S11427)->differential_0 = _S11359;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11428;
    (&_S11428)->primal_0 = mean_c_88;
    (&_S11428)->differential_0 = _S11359;
    s_bwd_prop_dot_0(&_S11427, &_S11428, _S11426.differential_0);
    DiffPair_float_0 _S11429;
    (&_S11429)->primal_0 = _S11330;
    (&_S11429)->differential_0 = 0.0f;
    DiffPair_float_0 _S11430;
    (&_S11430)->primal_0 = _S11306;
    (&_S11430)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11429, &_S11430, 0.0f);
    DiffPair_float_0 _S11431;
    (&_S11431)->primal_0 = _S11329;
    (&_S11431)->differential_0 = 0.0f;
    DiffPair_float_0 _S11432;
    (&_S11432)->primal_0 = _S11306;
    (&_S11432)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11431, &_S11432, 0.0f);
    DiffPair_float_0 _S11433;
    (&_S11433)->primal_0 = _S11328;
    (&_S11433)->differential_0 = 0.0f;
    DiffPair_float_0 _S11434;
    (&_S11434)->primal_0 = _S11305;
    (&_S11434)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11433, &_S11434, 0.0f);
    DiffPair_float_0 _S11435;
    (&_S11435)->primal_0 = _S11327;
    (&_S11435)->differential_0 = 0.0f;
    DiffPair_float_0 _S11436;
    (&_S11436)->primal_0 = _S11305;
    (&_S11436)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11435, &_S11436, 0.0f);
    DiffPair_float_0 _S11437;
    (&_S11437)->primal_0 = _S11326;
    (&_S11437)->differential_0 = 0.0f;
    DiffPair_float_0 _S11438;
    (&_S11438)->primal_0 = _S11281;
    (&_S11438)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11437, &_S11438, _S11429.differential_0);
    DiffPair_float_0 _S11439;
    (&_S11439)->primal_0 = _S11325;
    (&_S11439)->differential_0 = 0.0f;
    DiffPair_float_0 _S11440;
    (&_S11440)->primal_0 = _S11281;
    (&_S11440)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11439, &_S11440, _S11431.differential_0);
    DiffPair_float_0 _S11441;
    (&_S11441)->primal_0 = _S11324;
    (&_S11441)->differential_0 = 0.0f;
    DiffPair_float_0 _S11442;
    (&_S11442)->primal_0 = _S11280;
    (&_S11442)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11441, &_S11442, _S11433.differential_0);
    DiffPair_float_0 _S11443;
    (&_S11443)->primal_0 = _S11323;
    (&_S11443)->differential_0 = 0.0f;
    DiffPair_float_0 _S11444;
    (&_S11444)->primal_0 = _S11280;
    (&_S11444)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11443, &_S11444, _S11435.differential_0);
    DiffPair_float_0 _S11445;
    (&_S11445)->primal_0 = _S11322;
    (&_S11445)->differential_0 = 0.0f;
    DiffPair_float_0 _S11446;
    (&_S11446)->primal_0 = _S11256;
    (&_S11446)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11445, &_S11446, _S11437.differential_0);
    DiffPair_float_0 _S11447;
    (&_S11447)->primal_0 = _S11321;
    (&_S11447)->differential_0 = 0.0f;
    DiffPair_float_0 _S11448;
    (&_S11448)->primal_0 = _S11256;
    (&_S11448)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11447, &_S11448, _S11439.differential_0);
    DiffPair_float_0 _S11449;
    (&_S11449)->primal_0 = _S11320;
    (&_S11449)->differential_0 = 0.0f;
    DiffPair_float_0 _S11450;
    (&_S11450)->primal_0 = _S11255;
    (&_S11450)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11449, &_S11450, _S11441.differential_0);
    DiffPair_float_0 _S11451;
    (&_S11451)->primal_0 = _S11319;
    (&_S11451)->differential_0 = 0.0f;
    DiffPair_float_0 _S11452;
    (&_S11452)->primal_0 = _S11255;
    (&_S11452)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11451, &_S11452, _S11443.differential_0);
    DiffPair_float_0 _S11453;
    (&_S11453)->primal_0 = _S11318;
    (&_S11453)->differential_0 = 0.0f;
    DiffPair_float_0 _S11454;
    (&_S11454)->primal_0 = _S11231;
    (&_S11454)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11453, &_S11454, _S11445.differential_0);
    DiffPair_float_0 _S11455;
    (&_S11455)->primal_0 = _S11317;
    (&_S11455)->differential_0 = 0.0f;
    DiffPair_float_0 _S11456;
    (&_S11456)->primal_0 = _S11231;
    (&_S11456)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11455, &_S11456, _S11447.differential_0);
    DiffPair_float_0 _S11457;
    (&_S11457)->primal_0 = _S11316;
    (&_S11457)->differential_0 = 0.0f;
    DiffPair_float_0 _S11458;
    (&_S11458)->primal_0 = _S11230;
    (&_S11458)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11457, &_S11458, _S11449.differential_0);
    DiffPair_float_0 _S11459;
    (&_S11459)->primal_0 = _S11315;
    (&_S11459)->differential_0 = 0.0f;
    DiffPair_float_0 _S11460;
    (&_S11460)->primal_0 = _S11230;
    (&_S11460)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11459, &_S11460, _S11451.differential_0);
    DiffPair_float_0 _S11461;
    (&_S11461)->primal_0 = _S11314;
    (&_S11461)->differential_0 = 0.0f;
    DiffPair_float_0 _S11462;
    (&_S11462)->primal_0 = _S11206;
    (&_S11462)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11461, &_S11462, _S11453.differential_0);
    DiffPair_float_0 _S11463;
    (&_S11463)->primal_0 = _S11313;
    (&_S11463)->differential_0 = 0.0f;
    DiffPair_float_0 _S11464;
    (&_S11464)->primal_0 = _S11206;
    (&_S11464)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11463, &_S11464, _S11455.differential_0);
    DiffPair_float_0 _S11465;
    (&_S11465)->primal_0 = _S11312;
    (&_S11465)->differential_0 = 0.0f;
    DiffPair_float_0 _S11466;
    (&_S11466)->primal_0 = _S11205;
    (&_S11466)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11465, &_S11466, _S11457.differential_0);
    DiffPair_float_0 _S11467;
    (&_S11467)->primal_0 = _S11311;
    (&_S11467)->differential_0 = 0.0f;
    DiffPair_float_0 _S11468;
    (&_S11468)->primal_0 = _S11205;
    (&_S11468)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11467, &_S11468, _S11459.differential_0);
    DiffPair_float_0 _S11469;
    (&_S11469)->primal_0 = _S11310;
    (&_S11469)->differential_0 = 0.0f;
    DiffPair_float_0 _S11470;
    (&_S11470)->primal_0 = _S11181;
    (&_S11470)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11469, &_S11470, _S11461.differential_0);
    DiffPair_float_0 _S11471;
    (&_S11471)->primal_0 = _S11309;
    (&_S11471)->differential_0 = 0.0f;
    DiffPair_float_0 _S11472;
    (&_S11472)->primal_0 = _S11181;
    (&_S11472)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11471, &_S11472, _S11463.differential_0);
    DiffPair_float_0 _S11473;
    (&_S11473)->primal_0 = _S11308;
    (&_S11473)->differential_0 = 0.0f;
    DiffPair_float_0 _S11474;
    (&_S11474)->primal_0 = _S11180;
    (&_S11474)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11473, &_S11474, _S11465.differential_0);
    DiffPair_float_0 _S11475;
    (&_S11475)->primal_0 = _S11307;
    (&_S11475)->differential_0 = 0.0f;
    DiffPair_float_0 _S11476;
    (&_S11476)->primal_0 = _S11180;
    (&_S11476)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11475, &_S11476, _S11467.differential_0);
    DiffPair_float_0 _S11477;
    (&_S11477)->primal_0 = _S11131;
    (&_S11477)->differential_0 = 0.0f;
    DiffPair_float_0 _S11478;
    (&_S11478)->primal_0 = _S11156;
    (&_S11478)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11477, &_S11478, _S11469.differential_0);
    DiffPair_float_0 _S11479;
    (&_S11479)->primal_0 = _S11131;
    (&_S11479)->differential_0 = 0.0f;
    DiffPair_float_0 _S11480;
    (&_S11480)->primal_0 = _S11156;
    (&_S11480)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11479, &_S11480, _S11471.differential_0);
    DiffPair_float_0 _S11481;
    (&_S11481)->primal_0 = _S11130;
    (&_S11481)->differential_0 = 0.0f;
    DiffPair_float_0 _S11482;
    (&_S11482)->primal_0 = _S11155;
    (&_S11482)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11481, &_S11482, _S11473.differential_0);
    DiffPair_float_0 _S11483;
    (&_S11483)->primal_0 = _S11130;
    (&_S11483)->differential_0 = 0.0f;
    DiffPair_float_0 _S11484;
    (&_S11484)->primal_0 = _S11155;
    (&_S11484)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11483, &_S11484, _S11475.differential_0);
    float _S11485 = fx_111 * (_S11434.differential_0 + _S11436.differential_0);
    float2  _S11486 = make_float2 (_S11485, fy_111 * (_S11430.differential_0 + _S11432.differential_0)) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11485, (*dist_coeffs_115)[int(9)] * _S11485);
    float2  _S11487 = _S11294 * _S11486;
    float2  _S11488 = _S11298 * _S11486;
    float _S11489 = (*dist_coeffs_115)[int(4)] * _S11486.y;
    float _S11490 = (*dist_coeffs_115)[int(5)] * _S11486.x;
    float _S11491 = _S11487.x + _S11487.y;
    float _S11492 = r2_127 * _S11491;
    float _S11493 = r2_127 * _S11492;
    float _S11494 = (*dist_coeffs_115)[int(7)] * _S11486.y + _S11489 + (*dist_coeffs_115)[int(6)] * _S11486.x + _S11490 + _S11297 * _S11491 + _S11296 * _S11492 + _S11295 * _S11493 + (*dist_coeffs_115)[int(3)] * (r2_127 * _S11493);
    float _S11495 = v_132 * _S11494;
    float _S11496 = u_132 * _S11494;
    float _S11497 = _S11302 * _S11489 + 2.0f * (v_132 * _S11489) + _S11301 * _S11486.y + _S11299 * _S11486.x + _S11495 + _S11495;
    float _S11498 = _S11125 * (v_132 * _S11486.y) + _S11300 * _S11490 + 2.0f * (u_132 * _S11490) + _S11122 * (v_132 * _S11486.x) + _S11496 + _S11496;
    FixedArray<float3 , 16>  _S11499;
    _S11499[int(0)] = _S11359;
    _S11499[int(1)] = _S11359;
    _S11499[int(2)] = _S11359;
    _S11499[int(3)] = _S11359;
    _S11499[int(4)] = _S11359;
    _S11499[int(5)] = _S11359;
    _S11499[int(6)] = _S11359;
    _S11499[int(7)] = _S11359;
    _S11499[int(8)] = _S11359;
    _S11499[int(9)] = _S11359;
    _S11499[int(10)] = _S11359;
    _S11499[int(11)] = _S11359;
    _S11499[int(12)] = _S11359;
    _S11499[int(13)] = _S11359;
    _S11499[int(14)] = _S11359;
    _S11499[int(15)] = _S11359;
    _S11499[int(7)] = _S11384;
    _S11499[int(0)] = _S11418;
    _S11499[int(1)] = _S11405;
    _S11499[int(2)] = _S11403;
    _S11499[int(3)] = _S11401;
    _S11499[int(4)] = _S11390;
    _S11499[int(5)] = _S11388;
    _S11499[int(6)] = _S11386;
    _S11499[int(15)] = _S11362;
    _S11499[int(8)] = _S11382;
    _S11499[int(9)] = _S11374;
    _S11499[int(10)] = _S11372;
    _S11499[int(11)] = _S11370;
    _S11499[int(12)] = _S11368;
    _S11499[int(13)] = _S11366;
    _S11499[int(14)] = _S11364;
    float3  _S11500 = _S11499[int(0)];
    float3  _S11501 = _S11499[int(1)];
    float3  _S11502 = _S11499[int(2)];
    float3  _S11503 = _S11499[int(3)];
    float3  _S11504 = _S11499[int(4)];
    float3  _S11505 = _S11499[int(5)];
    float3  _S11506 = _S11499[int(6)];
    float3  _S11507 = _S11499[int(7)];
    float3  _S11508 = _S11499[int(8)];
    float3  _S11509 = _S11499[int(9)];
    float3  _S11510 = _S11499[int(10)];
    float3  _S11511 = _S11499[int(11)];
    float3  _S11512 = _S11499[int(12)];
    float3  _S11513 = _S11499[int(13)];
    float3  _S11514 = _S11499[int(14)];
    float3  _S11515 = _S11499[int(15)];
    float3  _S11516 = _S11419 + _S11428.differential_0 + _S11427.differential_0;
    float _S11517 = _S11482.differential_0 + _S11484.differential_0;
    float _S11518 = _S11477.differential_0 + _S11479.differential_0;
    float _S11519 = _S11478.differential_0 + _S11480.differential_0;
    float _S11520 = _S11474.differential_0 + _S11476.differential_0;
    float _S11521 = _S11481.differential_0 + _S11483.differential_0;
    float _S11522 = _S11438.differential_0 + _S11440.differential_0;
    float _S11523 = _S11442.differential_0 + _S11444.differential_0;
    float _S11524 = _S11446.differential_0 + _S11448.differential_0;
    float _S11525 = _S11450.differential_0 + _S11452.differential_0;
    float _S11526 = _S11454.differential_0 + _S11456.differential_0;
    float _S11527 = _S11458.differential_0 + _S11460.differential_0;
    float _S11528 = _S11462.differential_0 + _S11464.differential_0;
    float _S11529 = _S11466.differential_0 + _S11468.differential_0;
    float _S11530 = _S11470.differential_0 + _S11472.differential_0;
    float2  _S11531 = _S11488 + make_float2 (_S11498, _S11497);
    float2  _S11532 = _S11282 * _S11531;
    float2  _S11533 = _S11293 * _S11531;
    float _S11534 = _S11532.x + _S11532.y;
    if(_S11286)
    {
        float _S11535 = _S11534 / _S11288;
        float _S11536 = _S11289 * - _S11535;
        float _S11537 = _S11285 * (0.3333333432674408f * - (_S11284 * _S11535));
        k_15 = _S11537 + _S11537;
        _S11287 = _S11536;
        _S11288 = 0.0f;
    }
    else
    {
        float _S11538 = _S11534 / _S11287;
        float _S11539 = _S11285 * - _S11538;
        k_15 = _S11283 * _S11538;
        _S11287 = 0.0f;
        _S11288 = _S11539;
    }
    DiffPair_float_0 _S11540;
    (&_S11540)->primal_0 = _S11283;
    (&_S11540)->differential_0 = 0.0f;
    DiffPair_float_0 _S11541;
    (&_S11541)->primal_0 = _S11284;
    (&_S11541)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11540, &_S11541, k_15);
    float _S11542 = _S11541.differential_0 + _S11287;
    float _S11543 = _S11540.differential_0 + _S11288;
    float2  _S11544 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11545;
    (&_S11545)->primal_0 = _S11282;
    (&_S11545)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11545, _S11543);
    float2  _S11546 = _S11545.differential_0 + _S11533;
    float _S11547 = fx_111 * _S11523;
    float2  _S11548 = make_float2 (_S11547, fy_111 * _S11522) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11547, (*dist_coeffs_115)[int(9)] * _S11547);
    float2  _S11549 = _S11269 * _S11548;
    float _S11550 = (*dist_coeffs_115)[int(4)] * _S11548.y;
    float _S11551 = (*dist_coeffs_115)[int(5)] * _S11548.x;
    float _S11552 = _S11549.x + _S11549.y;
    float _S11553 = r2_126 * _S11552;
    float _S11554 = r2_126 * _S11553;
    float _S11555 = (*dist_coeffs_115)[int(7)] * _S11548.y + _S11550 + (*dist_coeffs_115)[int(6)] * _S11548.x + _S11551 + _S11272 * _S11552 + _S11271 * _S11553 + _S11270 * _S11554 + (*dist_coeffs_115)[int(3)] * (r2_126 * _S11554);
    float _S11556 = v_131 * _S11555;
    float _S11557 = u_131 * _S11555;
    float3  _S11558 = make_float3 (_S11546.x, _S11546.y, _S11542);
    float2  _S11559 = _S11273 * _S11548 + make_float2 (_S11125 * (v_131 * _S11548.y) + _S11275 * _S11551 + 2.0f * (u_131 * _S11551) + _S11122 * (v_131 * _S11548.x) + _S11557 + _S11557, _S11277 * _S11550 + 2.0f * (v_131 * _S11550) + _S11276 * _S11548.y + _S11274 * _S11548.x + _S11556 + _S11556);
    float2  _S11560 = _S11257 * _S11559;
    float2  _S11561 = _S11268 * _S11559;
    float _S11562 = _S11560.x + _S11560.y;
    if(_S11261)
    {
        float _S11563 = _S11562 / _S11263;
        float _S11564 = _S11264 * - _S11563;
        float _S11565 = _S11260 * (0.3333333432674408f * - (_S11259 * _S11563));
        k_15 = _S11565 + _S11565;
        _S11262 = _S11564;
        _S11263 = 0.0f;
    }
    else
    {
        float _S11566 = _S11562 / _S11262;
        float _S11567 = _S11260 * - _S11566;
        k_15 = _S11258 * _S11566;
        _S11262 = 0.0f;
        _S11263 = _S11567;
    }
    DiffPair_float_0 _S11568;
    (&_S11568)->primal_0 = _S11258;
    (&_S11568)->differential_0 = 0.0f;
    DiffPair_float_0 _S11569;
    (&_S11569)->primal_0 = _S11259;
    (&_S11569)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11568, &_S11569, k_15);
    float _S11570 = _S11569.differential_0 + _S11262;
    float _S11571 = _S11568.differential_0 + _S11263;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11572;
    (&_S11572)->primal_0 = _S11257;
    (&_S11572)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11572, _S11571);
    float2  _S11573 = _S11572.differential_0 + _S11561;
    float _S11574 = fx_111 * _S11525;
    float2  _S11575 = make_float2 (_S11574, fy_111 * _S11524) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11574, (*dist_coeffs_115)[int(9)] * _S11574);
    float2  _S11576 = _S11244 * _S11575;
    float _S11577 = (*dist_coeffs_115)[int(4)] * _S11575.y;
    float _S11578 = (*dist_coeffs_115)[int(5)] * _S11575.x;
    float _S11579 = _S11576.x + _S11576.y;
    float _S11580 = r2_125 * _S11579;
    float _S11581 = r2_125 * _S11580;
    float _S11582 = (*dist_coeffs_115)[int(7)] * _S11575.y + _S11577 + (*dist_coeffs_115)[int(6)] * _S11575.x + _S11578 + _S11247 * _S11579 + _S11246 * _S11580 + _S11245 * _S11581 + (*dist_coeffs_115)[int(3)] * (r2_125 * _S11581);
    float _S11583 = v_130 * _S11582;
    float _S11584 = u_130 * _S11582;
    float3  _S11585 = make_float3 (_S11573.x, _S11573.y, _S11570);
    float2  _S11586 = _S11248 * _S11575 + make_float2 (_S11125 * (v_130 * _S11575.y) + _S11250 * _S11578 + 2.0f * (u_130 * _S11578) + _S11122 * (v_130 * _S11575.x) + _S11584 + _S11584, _S11252 * _S11577 + 2.0f * (v_130 * _S11577) + _S11251 * _S11575.y + _S11249 * _S11575.x + _S11583 + _S11583);
    float2  _S11587 = _S11232 * _S11586;
    float2  _S11588 = _S11243 * _S11586;
    float _S11589 = _S11587.x + _S11587.y;
    if(_S11236)
    {
        float _S11590 = _S11589 / _S11238;
        float _S11591 = _S11239 * - _S11590;
        float _S11592 = _S11235 * (0.3333333432674408f * - (_S11234 * _S11590));
        k_15 = _S11592 + _S11592;
        _S11237 = _S11591;
        _S11238 = 0.0f;
    }
    else
    {
        float _S11593 = _S11589 / _S11237;
        float _S11594 = _S11235 * - _S11593;
        k_15 = _S11233 * _S11593;
        _S11237 = 0.0f;
        _S11238 = _S11594;
    }
    DiffPair_float_0 _S11595;
    (&_S11595)->primal_0 = _S11233;
    (&_S11595)->differential_0 = 0.0f;
    DiffPair_float_0 _S11596;
    (&_S11596)->primal_0 = _S11234;
    (&_S11596)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11595, &_S11596, k_15);
    float _S11597 = _S11596.differential_0 + _S11237;
    float _S11598 = _S11595.differential_0 + _S11238;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11599;
    (&_S11599)->primal_0 = _S11232;
    (&_S11599)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11599, _S11598);
    float2  _S11600 = _S11599.differential_0 + _S11588;
    float _S11601 = fx_111 * _S11527;
    float2  _S11602 = make_float2 (_S11601, fy_111 * _S11526) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11601, (*dist_coeffs_115)[int(9)] * _S11601);
    float2  _S11603 = _S11219 * _S11602;
    float _S11604 = (*dist_coeffs_115)[int(4)] * _S11602.y;
    float _S11605 = (*dist_coeffs_115)[int(5)] * _S11602.x;
    float _S11606 = _S11603.x + _S11603.y;
    float _S11607 = r2_124 * _S11606;
    float _S11608 = r2_124 * _S11607;
    float _S11609 = (*dist_coeffs_115)[int(7)] * _S11602.y + _S11604 + (*dist_coeffs_115)[int(6)] * _S11602.x + _S11605 + _S11222 * _S11606 + _S11221 * _S11607 + _S11220 * _S11608 + (*dist_coeffs_115)[int(3)] * (r2_124 * _S11608);
    float _S11610 = v_129 * _S11609;
    float _S11611 = u_129 * _S11609;
    float3  _S11612 = make_float3 (_S11600.x, _S11600.y, _S11597);
    float2  _S11613 = _S11223 * _S11602 + make_float2 (_S11125 * (v_129 * _S11602.y) + _S11225 * _S11605 + 2.0f * (u_129 * _S11605) + _S11122 * (v_129 * _S11602.x) + _S11611 + _S11611, _S11227 * _S11604 + 2.0f * (v_129 * _S11604) + _S11226 * _S11602.y + _S11224 * _S11602.x + _S11610 + _S11610);
    float2  _S11614 = _S11207 * _S11613;
    float2  _S11615 = _S11218 * _S11613;
    float _S11616 = _S11614.x + _S11614.y;
    if(_S11211)
    {
        float _S11617 = _S11616 / _S11213;
        float _S11618 = _S11214 * - _S11617;
        float _S11619 = _S11210 * (0.3333333432674408f * - (_S11209 * _S11617));
        k_15 = _S11619 + _S11619;
        _S11212 = _S11618;
        _S11213 = 0.0f;
    }
    else
    {
        float _S11620 = _S11616 / _S11212;
        float _S11621 = _S11210 * - _S11620;
        k_15 = _S11208 * _S11620;
        _S11212 = 0.0f;
        _S11213 = _S11621;
    }
    DiffPair_float_0 _S11622;
    (&_S11622)->primal_0 = _S11208;
    (&_S11622)->differential_0 = 0.0f;
    DiffPair_float_0 _S11623;
    (&_S11623)->primal_0 = _S11209;
    (&_S11623)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11622, &_S11623, k_15);
    float _S11624 = _S11623.differential_0 + _S11212;
    float _S11625 = _S11622.differential_0 + _S11213;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11626;
    (&_S11626)->primal_0 = _S11207;
    (&_S11626)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11626, _S11625);
    float2  _S11627 = _S11626.differential_0 + _S11615;
    float _S11628 = fx_111 * _S11529;
    float2  _S11629 = make_float2 (_S11628, fy_111 * _S11528) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11628, (*dist_coeffs_115)[int(9)] * _S11628);
    float2  _S11630 = _S11194 * _S11629;
    float _S11631 = (*dist_coeffs_115)[int(4)] * _S11629.y;
    float _S11632 = (*dist_coeffs_115)[int(5)] * _S11629.x;
    float _S11633 = _S11630.x + _S11630.y;
    float _S11634 = r2_123 * _S11633;
    float _S11635 = r2_123 * _S11634;
    float _S11636 = (*dist_coeffs_115)[int(7)] * _S11629.y + _S11631 + (*dist_coeffs_115)[int(6)] * _S11629.x + _S11632 + _S11197 * _S11633 + _S11196 * _S11634 + _S11195 * _S11635 + (*dist_coeffs_115)[int(3)] * (r2_123 * _S11635);
    float _S11637 = v_128 * _S11636;
    float _S11638 = u_128 * _S11636;
    float3  _S11639 = make_float3 (_S11627.x, _S11627.y, _S11624);
    float2  _S11640 = _S11198 * _S11629 + make_float2 (_S11125 * (v_128 * _S11629.y) + _S11200 * _S11632 + 2.0f * (u_128 * _S11632) + _S11122 * (v_128 * _S11629.x) + _S11638 + _S11638, _S11202 * _S11631 + 2.0f * (v_128 * _S11631) + _S11201 * _S11629.y + _S11199 * _S11629.x + _S11637 + _S11637);
    float2  _S11641 = _S11182 * _S11640;
    float2  _S11642 = _S11193 * _S11640;
    float _S11643 = _S11641.x + _S11641.y;
    if(_S11186)
    {
        float _S11644 = _S11643 / _S11188;
        float _S11645 = _S11189 * - _S11644;
        float _S11646 = _S11185 * (0.3333333432674408f * - (_S11184 * _S11644));
        k_15 = _S11646 + _S11646;
        _S11187 = _S11645;
        _S11188 = 0.0f;
    }
    else
    {
        float _S11647 = _S11643 / _S11187;
        float _S11648 = _S11185 * - _S11647;
        k_15 = _S11183 * _S11647;
        _S11187 = 0.0f;
        _S11188 = _S11648;
    }
    DiffPair_float_0 _S11649;
    (&_S11649)->primal_0 = _S11183;
    (&_S11649)->differential_0 = 0.0f;
    DiffPair_float_0 _S11650;
    (&_S11650)->primal_0 = _S11184;
    (&_S11650)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11649, &_S11650, k_15);
    float _S11651 = _S11650.differential_0 + _S11187;
    float _S11652 = _S11649.differential_0 + _S11188;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11653;
    (&_S11653)->primal_0 = _S11182;
    (&_S11653)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11653, _S11652);
    float2  _S11654 = _S11653.differential_0 + _S11642;
    float _S11655 = fx_111 * _S11520;
    float2  _S11656 = make_float2 (_S11655, fy_111 * _S11530) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11655, (*dist_coeffs_115)[int(9)] * _S11655);
    float2  _S11657 = _S11169 * _S11656;
    float _S11658 = (*dist_coeffs_115)[int(4)] * _S11656.y;
    float _S11659 = (*dist_coeffs_115)[int(5)] * _S11656.x;
    float _S11660 = _S11657.x + _S11657.y;
    float _S11661 = r2_122 * _S11660;
    float _S11662 = r2_122 * _S11661;
    float _S11663 = (*dist_coeffs_115)[int(7)] * _S11656.y + _S11658 + (*dist_coeffs_115)[int(6)] * _S11656.x + _S11659 + _S11172 * _S11660 + _S11171 * _S11661 + _S11170 * _S11662 + (*dist_coeffs_115)[int(3)] * (r2_122 * _S11662);
    float _S11664 = v_127 * _S11663;
    float _S11665 = u_127 * _S11663;
    float3  _S11666 = make_float3 (_S11654.x, _S11654.y, _S11651);
    float2  _S11667 = _S11173 * _S11656 + make_float2 (_S11125 * (v_127 * _S11656.y) + _S11175 * _S11659 + 2.0f * (u_127 * _S11659) + _S11122 * (v_127 * _S11656.x) + _S11665 + _S11665, _S11177 * _S11658 + 2.0f * (v_127 * _S11658) + _S11176 * _S11656.y + _S11174 * _S11656.x + _S11664 + _S11664);
    float2  _S11668 = _S11157 * _S11667;
    float2  _S11669 = _S11168 * _S11667;
    float _S11670 = _S11668.x + _S11668.y;
    if(_S11161)
    {
        float _S11671 = _S11670 / _S11163;
        float _S11672 = _S11164 * - _S11671;
        float _S11673 = _S11160 * (0.3333333432674408f * - (_S11159 * _S11671));
        k_15 = _S11673 + _S11673;
        _S11162 = _S11672;
        _S11163 = 0.0f;
    }
    else
    {
        float _S11674 = _S11670 / _S11162;
        float _S11675 = _S11160 * - _S11674;
        k_15 = _S11158 * _S11674;
        _S11162 = 0.0f;
        _S11163 = _S11675;
    }
    DiffPair_float_0 _S11676;
    (&_S11676)->primal_0 = _S11158;
    (&_S11676)->differential_0 = 0.0f;
    DiffPair_float_0 _S11677;
    (&_S11677)->primal_0 = _S11159;
    (&_S11677)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11676, &_S11677, k_15);
    float _S11678 = _S11677.differential_0 + _S11162;
    float _S11679 = _S11676.differential_0 + _S11163;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11680;
    (&_S11680)->primal_0 = _S11157;
    (&_S11680)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11680, _S11679);
    float2  _S11681 = _S11680.differential_0 + _S11669;
    float _S11682 = fx_111 * _S11517;
    float2  _S11683 = make_float2 (_S11682, fy_111 * _S11519) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11682, (*dist_coeffs_115)[int(9)] * _S11682);
    float2  _S11684 = _S11144 * _S11683;
    float _S11685 = (*dist_coeffs_115)[int(4)] * _S11683.y;
    float _S11686 = (*dist_coeffs_115)[int(5)] * _S11683.x;
    float _S11687 = _S11684.x + _S11684.y;
    float _S11688 = r2_121 * _S11687;
    float _S11689 = r2_121 * _S11688;
    float _S11690 = (*dist_coeffs_115)[int(7)] * _S11683.y + _S11685 + (*dist_coeffs_115)[int(6)] * _S11683.x + _S11686 + _S11147 * _S11687 + _S11146 * _S11688 + _S11145 * _S11689 + (*dist_coeffs_115)[int(3)] * (r2_121 * _S11689);
    float _S11691 = v_126 * _S11690;
    float _S11692 = u_126 * _S11690;
    float3  _S11693 = make_float3 (_S11681.x, _S11681.y, _S11678);
    float2  _S11694 = _S11148 * _S11683 + make_float2 (_S11125 * (v_126 * _S11683.y) + _S11150 * _S11686 + 2.0f * (u_126 * _S11686) + _S11122 * (v_126 * _S11683.x) + _S11692 + _S11692, _S11152 * _S11685 + 2.0f * (v_126 * _S11685) + _S11151 * _S11683.y + _S11149 * _S11683.x + _S11691 + _S11691);
    float2  _S11695 = _S11132 * _S11694;
    float2  _S11696 = _S11143 * _S11694;
    float _S11697 = _S11695.x + _S11695.y;
    if(_S11136)
    {
        float _S11698 = _S11697 / _S11138;
        float _S11699 = _S11139 * - _S11698;
        float _S11700 = _S11135 * (0.3333333432674408f * - (_S11134 * _S11698));
        k_15 = _S11700 + _S11700;
        _S11137 = _S11699;
        _S11138 = 0.0f;
    }
    else
    {
        float _S11701 = _S11697 / _S11137;
        float _S11702 = _S11135 * - _S11701;
        k_15 = _S11133 * _S11701;
        _S11137 = 0.0f;
        _S11138 = _S11702;
    }
    DiffPair_float_0 _S11703;
    (&_S11703)->primal_0 = _S11133;
    (&_S11703)->differential_0 = 0.0f;
    DiffPair_float_0 _S11704;
    (&_S11704)->primal_0 = _S11134;
    (&_S11704)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11703, &_S11704, k_15);
    float _S11705 = _S11704.differential_0 + _S11137;
    float _S11706 = _S11703.differential_0 + _S11138;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11707;
    (&_S11707)->primal_0 = _S11132;
    (&_S11707)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11707, _S11706);
    float2  _S11708 = _S11707.differential_0 + _S11696;
    float _S11709 = fx_111 * _S11521;
    float2  _S11710 = make_float2 (_S11709, fy_111 * _S11518) + make_float2 ((*dist_coeffs_115)[int(8)] * _S11709, (*dist_coeffs_115)[int(9)] * _S11709);
    float2  _S11711 = _S11117 * _S11710;
    float _S11712 = (*dist_coeffs_115)[int(4)] * _S11710.y;
    float _S11713 = (*dist_coeffs_115)[int(5)] * _S11710.x;
    float _S11714 = _S11711.x + _S11711.y;
    float _S11715 = r2_120 * _S11714;
    float _S11716 = r2_120 * _S11715;
    float _S11717 = (*dist_coeffs_115)[int(7)] * _S11710.y + _S11712 + (*dist_coeffs_115)[int(6)] * _S11710.x + _S11713 + _S11120 * _S11714 + _S11119 * _S11715 + _S11118 * _S11716 + (*dist_coeffs_115)[int(3)] * (r2_120 * _S11716);
    float _S11718 = v_125 * _S11717;
    float _S11719 = u_125 * _S11717;
    float3  _S11720 = make_float3 (_S11708.x, _S11708.y, _S11705);
    float2  _S11721 = _S11121 * _S11710 + make_float2 (_S11125 * (v_125 * _S11710.y) + _S11124 * _S11713 + 2.0f * (u_125 * _S11713) + _S11122 * (v_125 * _S11710.x) + _S11719 + _S11719, _S11127 * _S11712 + 2.0f * (v_125 * _S11712) + _S11126 * _S11710.y + _S11123 * _S11710.x + _S11718 + _S11718);
    float2  _S11722 = _S11105 * _S11721;
    float2  _S11723 = _S11116 * _S11721;
    float _S11724 = _S11722.x + _S11722.y;
    if(_S11109)
    {
        float _S11725 = _S11724 / _S11111;
        float _S11726 = _S11112 * - _S11725;
        float _S11727 = _S11108 * (0.3333333432674408f * - (_S11107 * _S11725));
        k_15 = _S11727 + _S11727;
        _S11110 = _S11726;
        _S11111 = 0.0f;
    }
    else
    {
        float _S11728 = _S11724 / _S11110;
        float _S11729 = _S11108 * - _S11728;
        k_15 = _S11106 * _S11728;
        _S11110 = 0.0f;
        _S11111 = _S11729;
    }
    DiffPair_float_0 _S11730;
    (&_S11730)->primal_0 = _S11106;
    (&_S11730)->differential_0 = 0.0f;
    DiffPair_float_0 _S11731;
    (&_S11731)->primal_0 = _S11107;
    (&_S11731)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11730, &_S11731, k_15);
    float _S11732 = _S11731.differential_0 + _S11110;
    float _S11733 = _S11730.differential_0 + _S11111;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11734;
    (&_S11734)->primal_0 = _S11105;
    (&_S11734)->differential_0 = _S11544;
    s_bwd_length_impl_0(&_S11734, _S11733);
    float2  _S11735 = _S11734.differential_0 + _S11723;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11736;
    (&_S11736)->primal_0 = R_81;
    (&_S11736)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11737;
    (&_S11737)->primal_0 = _S11104;
    (&_S11737)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11736, &_S11737, _S11516);
    DiffPair_float_0 _S11738;
    (&_S11738)->primal_0 = _S11101;
    (&_S11738)->differential_0 = 0.0f;
    DiffPair_float_0 _S11739;
    (&_S11739)->primal_0 = _S11103;
    (&_S11739)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11738, &_S11739, 0.0f);
    DiffPair_float_0 _S11740;
    (&_S11740)->primal_0 = _S11100;
    (&_S11740)->differential_0 = 0.0f;
    DiffPair_float_0 _S11741;
    (&_S11741)->primal_0 = _S11103;
    (&_S11741)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11740, &_S11741, 0.0f);
    float _S11742 = _S11739.differential_0 + _S11741.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11743;
    (&_S11743)->primal_0 = _S11102;
    (&_S11743)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11743, _S11742);
    float3  _S11744 = _S11743.differential_0 + _S11558;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11745;
    (&_S11745)->primal_0 = R_81;
    (&_S11745)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11746;
    (&_S11746)->primal_0 = pos_i_13;
    (&_S11746)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11745, &_S11746, _S11744);
    DiffPair_float_0 _S11747;
    (&_S11747)->primal_0 = _S11097;
    (&_S11747)->differential_0 = 0.0f;
    DiffPair_float_0 _S11748;
    (&_S11748)->primal_0 = _S11099;
    (&_S11748)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11747, &_S11748, _S11738.differential_0);
    DiffPair_float_0 _S11749;
    (&_S11749)->primal_0 = _S11096;
    (&_S11749)->differential_0 = 0.0f;
    DiffPair_float_0 _S11750;
    (&_S11750)->primal_0 = _S11099;
    (&_S11750)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11749, &_S11750, _S11740.differential_0);
    float _S11751 = _S11748.differential_0 + _S11750.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11752;
    (&_S11752)->primal_0 = _S11098;
    (&_S11752)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11752, _S11751);
    float3  _S11753 = _S11752.differential_0 + _S11585;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11754;
    (&_S11754)->primal_0 = R_81;
    (&_S11754)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11755;
    (&_S11755)->primal_0 = pos_i_12;
    (&_S11755)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11754, &_S11755, _S11753);
    DiffPair_float_0 _S11756;
    (&_S11756)->primal_0 = _S11093;
    (&_S11756)->differential_0 = 0.0f;
    DiffPair_float_0 _S11757;
    (&_S11757)->primal_0 = _S11095;
    (&_S11757)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11756, &_S11757, _S11747.differential_0);
    DiffPair_float_0 _S11758;
    (&_S11758)->primal_0 = _S11092;
    (&_S11758)->differential_0 = 0.0f;
    DiffPair_float_0 _S11759;
    (&_S11759)->primal_0 = _S11095;
    (&_S11759)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11758, &_S11759, _S11749.differential_0);
    float _S11760 = _S11757.differential_0 + _S11759.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11761;
    (&_S11761)->primal_0 = _S11094;
    (&_S11761)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11761, _S11760);
    float3  _S11762 = _S11761.differential_0 + _S11612;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11763;
    (&_S11763)->primal_0 = R_81;
    (&_S11763)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11764;
    (&_S11764)->primal_0 = pos_i_11;
    (&_S11764)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11763, &_S11764, _S11762);
    DiffPair_float_0 _S11765;
    (&_S11765)->primal_0 = _S11089;
    (&_S11765)->differential_0 = 0.0f;
    DiffPair_float_0 _S11766;
    (&_S11766)->primal_0 = _S11091;
    (&_S11766)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11765, &_S11766, _S11756.differential_0);
    DiffPair_float_0 _S11767;
    (&_S11767)->primal_0 = _S11088;
    (&_S11767)->differential_0 = 0.0f;
    DiffPair_float_0 _S11768;
    (&_S11768)->primal_0 = _S11091;
    (&_S11768)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11767, &_S11768, _S11758.differential_0);
    float _S11769 = _S11766.differential_0 + _S11768.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11770;
    (&_S11770)->primal_0 = _S11090;
    (&_S11770)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11770, _S11769);
    float3  _S11771 = _S11770.differential_0 + _S11639;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11772;
    (&_S11772)->primal_0 = R_81;
    (&_S11772)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11773;
    (&_S11773)->primal_0 = pos_i_10;
    (&_S11773)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11772, &_S11773, _S11771);
    DiffPair_float_0 _S11774;
    (&_S11774)->primal_0 = _S11085;
    (&_S11774)->differential_0 = 0.0f;
    DiffPair_float_0 _S11775;
    (&_S11775)->primal_0 = _S11087;
    (&_S11775)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11774, &_S11775, _S11765.differential_0);
    DiffPair_float_0 _S11776;
    (&_S11776)->primal_0 = _S11084;
    (&_S11776)->differential_0 = 0.0f;
    DiffPair_float_0 _S11777;
    (&_S11777)->primal_0 = _S11087;
    (&_S11777)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11776, &_S11777, _S11767.differential_0);
    float _S11778 = _S11775.differential_0 + _S11777.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11779;
    (&_S11779)->primal_0 = _S11086;
    (&_S11779)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11779, _S11778);
    float3  _S11780 = _S11779.differential_0 + _S11666;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11781;
    (&_S11781)->primal_0 = R_81;
    (&_S11781)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11782;
    (&_S11782)->primal_0 = pos_i_9;
    (&_S11782)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11781, &_S11782, _S11780);
    DiffPair_float_0 _S11783;
    (&_S11783)->primal_0 = _S11081;
    (&_S11783)->differential_0 = 0.0f;
    DiffPair_float_0 _S11784;
    (&_S11784)->primal_0 = _S11083;
    (&_S11784)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11783, &_S11784, _S11774.differential_0);
    DiffPair_float_0 _S11785;
    (&_S11785)->primal_0 = _S11080;
    (&_S11785)->differential_0 = 0.0f;
    DiffPair_float_0 _S11786;
    (&_S11786)->primal_0 = _S11083;
    (&_S11786)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11785, &_S11786, _S11776.differential_0);
    float _S11787 = _S11784.differential_0 + _S11786.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11788;
    (&_S11788)->primal_0 = _S11082;
    (&_S11788)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11788, _S11787);
    float3  _S11789 = _S11788.differential_0 + _S11693;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11790;
    (&_S11790)->primal_0 = R_81;
    (&_S11790)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11791;
    (&_S11791)->primal_0 = pos_i_8;
    (&_S11791)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11790, &_S11791, _S11789);
    DiffPair_float_0 _S11792;
    (&_S11792)->primal_0 = _S11077;
    (&_S11792)->differential_0 = 0.0f;
    DiffPair_float_0 _S11793;
    (&_S11793)->primal_0 = _S11079;
    (&_S11793)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11792, &_S11793, _S11783.differential_0);
    DiffPair_float_0 _S11794;
    (&_S11794)->primal_0 = _S11076;
    (&_S11794)->differential_0 = 0.0f;
    DiffPair_float_0 _S11795;
    (&_S11795)->primal_0 = _S11079;
    (&_S11795)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11794, &_S11795, _S11785.differential_0);
    float _S11796 = _S11793.differential_0 + _S11795.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11797;
    (&_S11797)->primal_0 = _S11078;
    (&_S11797)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11797, _S11796);
    float3  _S11798 = _S11797.differential_0 + _S11720;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11799;
    (&_S11799)->primal_0 = R_81;
    (&_S11799)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11800;
    (&_S11800)->primal_0 = pos_i_7;
    (&_S11800)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11799, &_S11800, _S11798);
    DiffPair_float_0 _S11801;
    (&_S11801)->primal_0 = 0.0f;
    (&_S11801)->differential_0 = 0.0f;
    DiffPair_float_0 _S11802;
    (&_S11802)->primal_0 = _S11075;
    (&_S11802)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11801, &_S11802, _S11792.differential_0);
    DiffPair_float_0 _S11803;
    (&_S11803)->primal_0 = 1.00000001504746622e+30f;
    (&_S11803)->differential_0 = 0.0f;
    DiffPair_float_0 _S11804;
    (&_S11804)->primal_0 = _S11075;
    (&_S11804)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11803, &_S11804, _S11794.differential_0);
    float _S11805 = _S11802.differential_0 + _S11804.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11806;
    (&_S11806)->primal_0 = _S11074;
    (&_S11806)->differential_0 = _S11359;
    s_bwd_length_impl_1(&_S11806, _S11805);
    float3  _S11807 = _S11806.differential_0 + make_float3 (_S11735.x, _S11735.y, _S11732);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11808;
    (&_S11808)->primal_0 = R_81;
    (&_S11808)->differential_0 = _S11421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11809;
    (&_S11809)->primal_0 = pos_5;
    (&_S11809)->differential_0 = _S11359;
    s_bwd_prop_mul_1(&_S11808, &_S11809, _S11807);
    float3  _S11810 = _S11516 + _S11744 + _S11753 + _S11762 + _S11771 + _S11780 + _S11789 + _S11798 + _S11807 + _S11424.differential_0;
    Matrix<float, 3, 3>  _S11811 = _S11736.differential_0 + _S11745.differential_0 + _S11754.differential_0 + _S11763.differential_0 + _S11772.differential_0 + _S11781.differential_0 + _S11790.differential_0 + _S11799.differential_0 + _S11808.differential_0 + _S11425;
    (*v_densities_1)[int(0)] = 0.0f;
    (*v_densities_1)[int(1)] = 0.0f;
    (*v_densities_1)[int(2)] = 0.0f;
    (*v_densities_1)[int(3)] = 0.0f;
    (*v_densities_1)[int(4)] = 0.0f;
    (*v_densities_1)[int(5)] = 0.0f;
    (*v_densities_1)[int(6)] = 0.0f;
    (*v_densities_1)[int(7)] = 0.0f;
    (*v_sh_coeffs_10)[int(0)] = _S11500;
    (*v_sh_coeffs_10)[int(1)] = _S11501;
    (*v_sh_coeffs_10)[int(2)] = _S11502;
    (*v_sh_coeffs_10)[int(3)] = _S11503;
    (*v_sh_coeffs_10)[int(4)] = _S11504;
    (*v_sh_coeffs_10)[int(5)] = _S11505;
    (*v_sh_coeffs_10)[int(6)] = _S11506;
    (*v_sh_coeffs_10)[int(7)] = _S11507;
    (*v_sh_coeffs_10)[int(8)] = _S11508;
    (*v_sh_coeffs_10)[int(9)] = _S11509;
    (*v_sh_coeffs_10)[int(10)] = _S11510;
    (*v_sh_coeffs_10)[int(11)] = _S11511;
    (*v_sh_coeffs_10)[int(12)] = _S11512;
    (*v_sh_coeffs_10)[int(13)] = _S11513;
    (*v_sh_coeffs_10)[int(14)] = _S11514;
    (*v_sh_coeffs_10)[int(15)] = _S11515;
    *v_R_26 = _S11811;
    *v_t_25 = _S11810;
    return;
}

inline __device__ void _d_abs_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_20, float3  dOut_22)
{
    float3  _S11812 = _slang_select(((*dpx_20).primal_0) > make_float3 (0.0f), make_float3 (1.0f),_slang_select(((*dpx_20).primal_0) == make_float3 (0.0f), make_float3 (0.0f),make_float3 (-1.0f))) * dOut_22;
    dpx_20->primal_0 = (*dpx_20).primal_0;
    dpx_20->differential_0 = _S11812;
    return;
}

inline __device__ float3  abs_0(float3  x_97)
{
    float3  result_15;
    int i_11 = int(0);
    for(;;)
    {
        if(i_11 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_15, i_11) = (F32_abs((_slang_vector_get_element(x_97, i_11))));
        i_11 = i_11 + int(1);
    }
    return result_15;
}

inline __device__ bool ray_aabb_intersection(float3  ray_o_10, float3  ray_d_10, float3  center_0, float radius_0, float * t0_0, float * t1_0)
{
    float3  m_2 = make_float3 (1.0f) / ray_d_10;
    float3  k_16 = abs_0(m_2) * make_float3 (radius_0);
    float3  _S11813 = - (m_2 * (ray_o_10 - center_0));
    float3  ta_0 = _S11813 - k_16;
    float3  tb_0 = _S11813 + k_16;
    *t0_0 = (F32_max(((F32_max((ta_0.x), (ta_0.y)))), ((F32_max((ta_0.z), (0.0f))))));
    float _S11814 = (F32_min(((F32_min((tb_0.x), (tb_0.y)))), (tb_0.z)));
    *t1_0 = _S11814;
    return (*t0_0) < _S11814;
}

inline __device__ void _d_lerp_0(DiffPair_float_0 * dpx_21, DiffPair_float_0 * dpy_7, DiffPair_float_0 * dps_0, float dOut_23)
{
    float _S11815 = (1.0f - (*dps_0).primal_0) * dOut_23;
    dpx_21->primal_0 = (*dpx_21).primal_0;
    dpx_21->differential_0 = _S11815;
    DiffPair_float_0 _S11816 = *dpy_7;
    float _S11817 = (*dps_0).primal_0 * dOut_23;
    dpy_7->primal_0 = (*dpy_7).primal_0;
    dpy_7->differential_0 = _S11817;
    float _S11818 = (_S11816.primal_0 - (*dpx_21).primal_0) * dOut_23;
    dps_0->primal_0 = _S11816.primal_0;
    dps_0->differential_0 = _S11818;
    return;
}

inline __device__ float lerp_0(float x_98, float y_36, float s_0)
{
    return x_98 + (y_36 - x_98) * s_0;
}

inline __device__ float interp_0(FixedArray<float, 8>  * densities_6, float3  w_142)
{
    float _S11819 = w_142.z;
    float _S11820 = 1.0f - _S11819;
    float _S11821 = w_142.y;
    float _S11822 = 1.0f - _S11821;
    float _S11823 = _S11820 * _S11822;
    float _S11824 = w_142.x;
    float _S11825 = 1.0f - _S11824;
    float _S11826 = _S11820 * _S11821;
    float _S11827 = _S11819 * _S11822;
    float _S11828 = _S11819 * _S11821;
    return _S11823 * _S11825 * (*densities_6)[int(0)] + _S11823 * _S11824 * (*densities_6)[int(1)] + _S11826 * _S11825 * (*densities_6)[int(2)] + _S11826 * _S11824 * (*densities_6)[int(3)] + _S11827 * _S11825 * (*densities_6)[int(4)] + _S11827 * _S11824 * (*densities_6)[int(5)] + _S11828 * _S11825 * (*densities_6)[int(6)] + _S11828 * _S11824 * (*densities_6)[int(7)];
}

inline __device__ float evaluate_alpha_voxel(float3  pos_6, float size_6, FixedArray<float, 8>  * densities_7, float3  ray_o_11, float3  ray_d_11)
{
    float _S11829 = 0.5f * size_6;
    float3  m_3 = make_float3 (1.0f) / ray_d_11;
    float3  k_17 = abs_0(m_3) * make_float3 (_S11829);
    float3  _S11830 = - (m_3 * (ray_o_11 - (pos_6 + make_float3 (_S11829))));
    float3  ta_1 = _S11830 - k_17;
    float3  tb_1 = _S11830 + k_17;
    float t0_1 = (F32_max(((F32_max((ta_1.x), (ta_1.y)))), ((F32_max((ta_1.z), (0.0f))))));
    float t1_1 = (F32_min(((F32_min((tb_1.x), (tb_1.y)))), (tb_1.z)));
    if(!(t0_1 < t1_1))
    {
        return 0.0f;
    }
    int i_12 = int(0);
    float accum_0 = 0.0f;
    for(;;)
    {
        if(i_12 < int(8))
        {
        }
        else
        {
            break;
        }
        float _S11831 = interp_0(densities_7, (ray_o_11 + ray_d_11 * make_float3 (lerp_0(t0_1, t1_1, (float(i_12) + 0.5f) / 8.0f)) - pos_6) / make_float3 (size_6));
        float _S11832;
        if(_S11831 > 1.10000002384185791f)
        {
            _S11832 = _S11831;
        }
        else
        {
            _S11832 = (F32_exp((0.90909093618392944f * _S11831 - 0.90468984842300415f)));
        }
        float accum_1 = accum_0 + _S11832;
        i_12 = i_12 + int(1);
        accum_0 = accum_1;
    }
    return (F32_min((1.0f - (F32_exp((- (t1_1 - t0_1) / 8.0f * accum_0)))), (0.99900001287460327f)));
}

struct DiffPair_arrayx3Cfloatx2C8x3E_0
{
    FixedArray<float, 8>  primal_0;
    FixedArray<float, 8>  differential_0;
};

struct s_bwd_prop_evaluate_alpha_voxel_Intermediates_0
{
    float _S11833;
};

inline __device__ float3  s_primal_ctx_abs_1(float3  _S11834)
{
    return abs_0(_S11834);
}

inline __device__ float s_primal_ctx_lerp_0(float _S11835, float _S11836, float _S11837)
{
    return lerp_0(_S11835, _S11836, _S11837);
}

inline __device__ float s_primal_ctx_interp_0(FixedArray<float, 8>  * dpdensities_0, float3  dpw_0)
{
    float _S11838 = dpw_0.z;
    float _S11839 = 1.0f - _S11838;
    float _S11840 = dpw_0.y;
    float _S11841 = 1.0f - _S11840;
    float _S11842 = _S11839 * _S11841;
    float _S11843 = dpw_0.x;
    float _S11844 = 1.0f - _S11843;
    float _S11845 = _S11839 * _S11840;
    float _S11846 = _S11838 * _S11841;
    float _S11847 = _S11838 * _S11840;
    return _S11842 * _S11844 * (*dpdensities_0)[int(0)] + _S11842 * _S11843 * (*dpdensities_0)[int(1)] + _S11845 * _S11844 * (*dpdensities_0)[int(2)] + _S11845 * _S11843 * (*dpdensities_0)[int(3)] + _S11846 * _S11844 * (*dpdensities_0)[int(4)] + _S11846 * _S11843 * (*dpdensities_0)[int(5)] + _S11847 * _S11844 * (*dpdensities_0)[int(6)] + _S11847 * _S11843 * (*dpdensities_0)[int(7)];
}

inline __device__ float s_primal_ctx_evaluate_alpha_voxel_0(float3  pos_7, float size_7, FixedArray<float, 8>  * dpdensities_1, float3  dpray_o_4, float3  dpray_d_4, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_42)
{
    _s_diff_ctx_42->_S11833 = 0.0f;
    _s_diff_ctx_42->_S11833 = 0.0f;
    float _S11848 = 0.5f * size_7;
    float3  m_4 = make_float3 (1.0f) / dpray_d_4;
    float3  k_18 = s_primal_ctx_abs_1(m_4) * make_float3 (_S11848);
    float3  _S11849 = - (m_4 * (dpray_o_4 - (pos_7 + make_float3 (_S11848))));
    float3  ta_2 = _S11849 - k_18;
    float3  tb_2 = _S11849 + k_18;
    float _S11850 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_2.x, ta_2.y), s_primal_ctx_max_0(ta_2.z, 0.0f));
    float _S11851 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_2.x, tb_2.y), tb_2.z);
    float accum_2;
    if(!!(_S11850 < _S11851))
    {
        float _S11852 = - (_S11851 - _S11850);
        bool _runFlag_0 = true;
        accum_2 = 0.0f;
        int i_13 = int(0);
        int _pc_0 = int(0);
        for(;;)
        {
            _s_diff_ctx_42->_S11833 = accum_2;
            if(_runFlag_0)
            {
            }
            else
            {
                break;
            }
            float _S11853;
            int _S11854;
            if(i_13 < int(8))
            {
                float _S11855 = s_primal_ctx_interp_0(dpdensities_1, (dpray_o_4 + dpray_d_4 * make_float3 (s_primal_ctx_lerp_0(_S11850, _S11851, (float(i_13) + 0.5f) / 8.0f)) - pos_7) / make_float3 (size_7));
                if(_S11855 > 1.10000002384185791f)
                {
                    _S11853 = _S11855;
                }
                else
                {
                    _S11853 = s_primal_ctx_exp_1(0.90909093618392944f * _S11855 - 0.90468984842300415f);
                }
                float accum_3 = accum_2 + _S11853;
                _S11854 = int(2);
                _S11853 = accum_3;
            }
            else
            {
                _S11854 = int(1);
                _S11853 = 0.0f;
            }
            if(_S11854 != int(2))
            {
                _runFlag_0 = false;
            }
            if(_runFlag_0)
            {
                int _S11856 = i_13 + int(1);
                accum_2 = _S11853;
                i_13 = _S11856;
            }
            _pc_0 = _pc_0 + int(1);
        }
        accum_2 = s_primal_ctx_min_0(1.0f - s_primal_ctx_exp_1(_S11852 / 8.0f * accum_2), 0.99900001287460327f);
    }
    else
    {
        accum_2 = 0.0f;
    }
    return accum_2;
}

inline __device__ void s_bwd_prop_abs_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11857, float3  _S11858)
{
    _d_abs_vector_0(_S11857, _S11858);
    return;
}

inline __device__ void s_bwd_prop_interp_0(DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpw_1, float _s_dOut_14)
{
    float _S11859 = (*dpw_1).primal_0.z;
    float _S11860 = 1.0f - _S11859;
    float _S11861 = (*dpw_1).primal_0.y;
    float _S11862 = 1.0f - _S11861;
    float _S11863 = _S11860 * _S11862;
    float _S11864 = (*dpw_1).primal_0.x;
    float _S11865 = 1.0f - _S11864;
    float _S11866 = _S11860 * _S11861;
    float _S11867 = _S11859 * _S11862;
    float _S11868 = _S11859 * _S11861;
    float _S11869 = _S11868 * _S11864 * _s_dOut_14;
    float s_diff_w7_T_0 = dpdensities_2->primal_0[int(7)] * _s_dOut_14;
    float _S11870 = _S11868 * _S11865 * _s_dOut_14;
    float s_diff_w6_T_0 = dpdensities_2->primal_0[int(6)] * _s_dOut_14;
    float _S11871 = _S11867 * _S11864 * _s_dOut_14;
    float s_diff_w5_T_0 = dpdensities_2->primal_0[int(5)] * _s_dOut_14;
    float _S11872 = _S11867 * _S11865 * _s_dOut_14;
    float s_diff_w4_T_0 = dpdensities_2->primal_0[int(4)] * _s_dOut_14;
    float _S11873 = _S11866 * _S11864 * _s_dOut_14;
    float s_diff_w3_T_0 = dpdensities_2->primal_0[int(3)] * _s_dOut_14;
    float _S11874 = _S11866 * _S11865 * _s_dOut_14;
    float s_diff_w2_T_0 = dpdensities_2->primal_0[int(2)] * _s_dOut_14;
    float _S11875 = _S11863 * _S11864 * _s_dOut_14;
    float s_diff_w1_T_0 = dpdensities_2->primal_0[int(1)] * _s_dOut_14;
    float _S11876 = _S11863 * _S11865 * _s_dOut_14;
    float s_diff_w0_T_0 = dpdensities_2->primal_0[int(0)] * _s_dOut_14;
    float _S11877 = _S11864 * s_diff_w7_T_0 + _S11865 * s_diff_w6_T_0;
    float _S11878 = _S11864 * s_diff_w5_T_0 + _S11865 * s_diff_w4_T_0;
    float _S11879 = _S11864 * s_diff_w3_T_0 + _S11865 * s_diff_w2_T_0;
    float _S11880 = _S11864 * s_diff_w1_T_0 + _S11865 * s_diff_w0_T_0;
    float3  _S11881 = make_float3 (_S11868 * s_diff_w7_T_0 + _S11867 * s_diff_w5_T_0 + _S11866 * s_diff_w3_T_0 + _S11863 * s_diff_w1_T_0 + - (_S11868 * s_diff_w6_T_0 + _S11867 * s_diff_w4_T_0 + _S11866 * s_diff_w2_T_0 + _S11863 * s_diff_w0_T_0), _S11859 * _S11877 + _S11860 * _S11879 + - (_S11859 * _S11878 + _S11860 * _S11880), _S11861 * _S11877 + _S11862 * _S11878 + - (_S11861 * _S11879 + _S11862 * _S11880));
    dpw_1->primal_0 = (*dpw_1).primal_0;
    dpw_1->differential_0 = _S11881;
    FixedArray<float, 8>  _S11882;
    _S11882[int(0)] = 0.0f;
    _S11882[int(1)] = 0.0f;
    _S11882[int(2)] = 0.0f;
    _S11882[int(3)] = 0.0f;
    _S11882[int(4)] = 0.0f;
    _S11882[int(5)] = 0.0f;
    _S11882[int(6)] = 0.0f;
    _S11882[int(7)] = 0.0f;
    _S11882[int(7)] = _S11869;
    _S11882[int(6)] = _S11870;
    _S11882[int(5)] = _S11871;
    _S11882[int(4)] = _S11872;
    _S11882[int(3)] = _S11873;
    _S11882[int(2)] = _S11874;
    _S11882[int(1)] = _S11875;
    _S11882[int(0)] = _S11876;
    dpdensities_2->primal_0 = dpdensities_2->primal_0;
    dpdensities_2->differential_0 = _S11882;
    return;
}

inline __device__ void s_bwd_prop_lerp_0(DiffPair_float_0 * _S11883, DiffPair_float_0 * _S11884, DiffPair_float_0 * _S11885, float _S11886)
{
    _d_lerp_0(_S11883, _S11884, _S11885, _S11886);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_voxel_0(float3  pos_8, float size_8, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_5, float _s_dOut_15, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_43)
{
    FixedArray<float, 8>  _S11887 = dpdensities_3->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11888 = *dpray_o_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11889 = *dpray_d_5;
    float _S11890 = 0.5f * size_8;
    float3  _S11891 = make_float3 (_S11890);
    float3  _S11892 = make_float3 (size_8);
    float3  m_5 = make_float3 (1.0f) / (*dpray_d_5).primal_0;
    float3  _S11893 = (*dpray_d_5).primal_0 * (*dpray_d_5).primal_0;
    float3  _S11894 = (*dpray_o_5).primal_0 - (pos_8 + make_float3 (_S11890));
    float3  k_19 = s_primal_ctx_abs_1(m_5) * make_float3 (_S11890);
    float3  _S11895 = - (m_5 * _S11894);
    float3  ta_3 = _S11895 - k_19;
    float3  tb_3 = _S11895 + k_19;
    float _S11896 = ta_3.x;
    float _S11897 = ta_3.y;
    float _S11898 = s_primal_ctx_max_0(_S11896, _S11897);
    float _S11899 = ta_3.z;
    float _S11900 = s_primal_ctx_max_0(_S11899, 0.0f);
    float _S11901 = s_primal_ctx_max_0(_S11898, _S11900);
    float _S11902 = tb_3.x;
    float _S11903 = tb_3.y;
    float _S11904 = s_primal_ctx_min_0(_S11902, _S11903);
    float _S11905 = tb_3.z;
    float _S11906 = s_primal_ctx_min_0(_S11904, _S11905);
    bool _S11907 = !!(_S11901 < _S11906);
    float _S11908;
    float _S11909;
    float _S11910;
    if(_S11907)
    {
        float _S11911 = - (_S11906 - _S11901) / 8.0f;
        float _S11912 = _S11911 * _s_diff_ctx_43->_S11833;
        _S11908 = 1.0f - s_primal_ctx_exp_1(_S11912);
        _S11909 = _S11912;
        _S11910 = _S11911;
    }
    else
    {
        _S11908 = 0.0f;
        _S11909 = 0.0f;
        _S11910 = 0.0f;
    }
    float3  _S11913 = make_float3 (0.0f);
    FixedArray<float, 8>  _S11914 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    float3  _S11915;
    float3  _S11916;
    FixedArray<float, 8>  _S11917;
    if(_S11907)
    {
        DiffPair_float_0 _S11918;
        (&_S11918)->primal_0 = _S11908;
        (&_S11918)->differential_0 = 0.0f;
        DiffPair_float_0 _S11919;
        (&_S11919)->primal_0 = 0.99900001287460327f;
        (&_S11919)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S11918, &_S11919, _s_dOut_15);
        float _S11920 = - _S11918.differential_0;
        DiffPair_float_0 _S11921;
        (&_S11921)->primal_0 = _S11909;
        (&_S11921)->differential_0 = 0.0f;
        s_bwd_prop_exp_0(&_S11921, _S11920);
        float _S11922 = _S11910 * _S11921.differential_0;
        float _S11923 = 0.125f * (_s_diff_ctx_43->_S11833 * _S11921.differential_0);
        int _dc_0 = int(8);
        _S11908 = _S11922;
        _S11909 = 0.0f;
        _S11910 = 0.0f;
        _S11915 = _S11913;
        _S11916 = _S11913;
        _S11917[int(0)] = 0.0f;
        _S11917[int(1)] = 0.0f;
        _S11917[int(2)] = 0.0f;
        _S11917[int(3)] = 0.0f;
        _S11917[int(4)] = 0.0f;
        _S11917[int(5)] = 0.0f;
        _S11917[int(6)] = 0.0f;
        _S11917[int(7)] = 0.0f;
        for(;;)
        {
            if(_dc_0 >= int(0))
            {
            }
            else
            {
                break;
            }
            bool _S11924 = _dc_0 < int(8);
            float _S11925;
            float _S11926;
            int _S11927;
            float3  _S11928;
            float3  _S11929;
            bool _S11930;
            if(_S11924)
            {
                float _S11931 = (float(_dc_0) + 0.5f) / 8.0f;
                float _S11932 = s_primal_ctx_lerp_0(_S11901, _S11906, _S11931);
                float3  _S11933 = make_float3 (_S11932);
                float3  _S11934 = (_S11888.primal_0 + _S11889.primal_0 * make_float3 (_S11932) - pos_8) / make_float3 (size_8);
                FixedArray<float, 8>  _S11935 = _S11887;
                float _S11936 = s_primal_ctx_interp_0(&_S11935, _S11934);
                bool _S11937 = _S11936 > 1.10000002384185791f;
                if(_S11937)
                {
                    _S11925 = 0.0f;
                }
                else
                {
                    _S11925 = 0.90909093618392944f * _S11936 - 0.90468984842300415f;
                }
                _S11927 = int(2);
                _S11930 = _S11937;
                _S11928 = _S11934;
                _S11929 = _S11933;
                _S11926 = _S11931;
            }
            else
            {
                _S11927 = int(1);
                _S11930 = false;
                _S11925 = 0.0f;
                _S11928 = _S11913;
                _S11929 = _S11913;
                _S11926 = 0.0f;
            }
            float _S11938;
            float _S11939;
            if(!(_S11927 != int(2)))
            {
                _S11938 = _S11908;
                _S11939 = 0.0f;
            }
            else
            {
                _S11938 = 0.0f;
                _S11939 = _S11908;
            }
            if(_S11924)
            {
                float _S11940 = _S11938 + _S11939;
                float _S11941;
                if(_S11930)
                {
                    _S11941 = _S11938;
                }
                else
                {
                    DiffPair_float_0 _S11942;
                    (&_S11942)->primal_0 = _S11925;
                    (&_S11942)->differential_0 = 0.0f;
                    s_bwd_prop_exp_0(&_S11942, _S11938);
                    _S11941 = 0.90909093618392944f * _S11942.differential_0;
                }
                DiffPair_arrayx3Cfloatx2C8x3E_0 _S11943;
                (&_S11943)->primal_0 = _S11887;
                (&_S11943)->differential_0 = _S11914;
                DiffPair_vectorx3Cfloatx2C3x3E_0 _S11944;
                (&_S11944)->primal_0 = _S11928;
                (&_S11944)->differential_0 = _S11913;
                s_bwd_prop_interp_0(&_S11943, &_S11944, _S11941);
                float3  _S11945 = _S11944.differential_0 / _S11892;
                float3  _S11946 = _S11889.primal_0 * _S11945;
                float3  _S11947 = _S11929 * _S11945;
                float _S11948 = _S11946.x + _S11946.y + _S11946.z;
                DiffPair_float_0 _S11949;
                (&_S11949)->primal_0 = _S11901;
                (&_S11949)->differential_0 = 0.0f;
                DiffPair_float_0 _S11950;
                (&_S11950)->primal_0 = _S11906;
                (&_S11950)->differential_0 = 0.0f;
                DiffPair_float_0 _S11951;
                (&_S11951)->primal_0 = _S11926;
                (&_S11951)->differential_0 = 0.0f;
                s_bwd_prop_lerp_0(&_S11949, &_S11950, &_S11951, _S11948);
                float _S11952 = (&_S11943)->differential_0[int(0)] + _S11917[int(0)];
                float _S11953 = (&_S11943)->differential_0[int(1)] + _S11917[int(1)];
                float _S11954 = (&_S11943)->differential_0[int(2)] + _S11917[int(2)];
                float _S11955 = (&_S11943)->differential_0[int(3)] + _S11917[int(3)];
                float _S11956 = (&_S11943)->differential_0[int(4)] + _S11917[int(4)];
                float _S11957 = (&_S11943)->differential_0[int(5)] + _S11917[int(5)];
                float _S11958 = (&_S11943)->differential_0[int(6)] + _S11917[int(6)];
                float _S11959 = (&_S11943)->differential_0[int(7)] + _S11917[int(7)];
                float3  _S11960 = _S11945 + _S11916;
                float3  _S11961 = _S11947 + _S11915;
                float _S11962 = _S11950.differential_0 + _S11909;
                float _S11963 = _S11949.differential_0 + _S11910;
                _S11908 = _S11940;
                _S11909 = _S11962;
                _S11910 = _S11963;
                _S11915 = _S11961;
                _S11916 = _S11960;
                _S11917[int(0)] = _S11952;
                _S11917[int(1)] = _S11953;
                _S11917[int(2)] = _S11954;
                _S11917[int(3)] = _S11955;
                _S11917[int(4)] = _S11956;
                _S11917[int(5)] = _S11957;
                _S11917[int(6)] = _S11958;
                _S11917[int(7)] = _S11959;
            }
            else
            {
                _S11908 = _S11939;
            }
            _dc_0 = _dc_0 - int(1);
        }
        float _S11964 = - _S11923;
        float _S11965 = - _S11964 + _S11910;
        _S11908 = _S11964 + _S11909;
        _S11909 = _S11965;
    }
    else
    {
        _S11908 = 0.0f;
        _S11909 = 0.0f;
        _S11915 = _S11913;
        _S11916 = _S11913;
        _S11917[int(0)] = 0.0f;
        _S11917[int(1)] = 0.0f;
        _S11917[int(2)] = 0.0f;
        _S11917[int(3)] = 0.0f;
        _S11917[int(4)] = 0.0f;
        _S11917[int(5)] = 0.0f;
        _S11917[int(6)] = 0.0f;
        _S11917[int(7)] = 0.0f;
    }
    DiffPair_float_0 _S11966;
    (&_S11966)->primal_0 = _S11904;
    (&_S11966)->differential_0 = 0.0f;
    DiffPair_float_0 _S11967;
    (&_S11967)->primal_0 = _S11905;
    (&_S11967)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11966, &_S11967, _S11908);
    DiffPair_float_0 _S11968;
    (&_S11968)->primal_0 = _S11902;
    (&_S11968)->differential_0 = 0.0f;
    DiffPair_float_0 _S11969;
    (&_S11969)->primal_0 = _S11903;
    (&_S11969)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11968, &_S11969, _S11966.differential_0);
    DiffPair_float_0 _S11970;
    (&_S11970)->primal_0 = _S11898;
    (&_S11970)->differential_0 = 0.0f;
    DiffPair_float_0 _S11971;
    (&_S11971)->primal_0 = _S11900;
    (&_S11971)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11970, &_S11971, _S11909);
    DiffPair_float_0 _S11972;
    (&_S11972)->primal_0 = _S11899;
    (&_S11972)->differential_0 = 0.0f;
    DiffPair_float_0 _S11973;
    (&_S11973)->primal_0 = 0.0f;
    (&_S11973)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11972, &_S11973, _S11971.differential_0);
    DiffPair_float_0 _S11974;
    (&_S11974)->primal_0 = _S11896;
    (&_S11974)->differential_0 = 0.0f;
    DiffPair_float_0 _S11975;
    (&_S11975)->primal_0 = _S11897;
    (&_S11975)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11974, &_S11975, _S11970.differential_0);
    float3  s_diff_tb_T_0 = make_float3 (_S11968.differential_0, _S11969.differential_0, _S11967.differential_0);
    float3  s_diff_ta_T_0 = make_float3 (_S11974.differential_0, _S11975.differential_0, _S11972.differential_0);
    float3  s_diff_n_T_0 = - (s_diff_tb_T_0 + s_diff_ta_T_0);
    float3  _S11976 = _S11891 * (s_diff_tb_T_0 + - s_diff_ta_T_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11977;
    (&_S11977)->primal_0 = m_5;
    (&_S11977)->differential_0 = _S11913;
    s_bwd_prop_abs_1(&_S11977, _S11976);
    float3  _S11978 = m_5 * s_diff_n_T_0;
    float3  _S11979 = - ((_S11977.differential_0 + _S11894 * s_diff_n_T_0) / _S11893) + _S11915;
    dpray_d_5->primal_0 = (*dpray_d_5).primal_0;
    dpray_d_5->differential_0 = _S11979;
    float3  _S11980 = _S11978 + _S11916;
    dpray_o_5->primal_0 = (*dpray_o_5).primal_0;
    dpray_o_5->differential_0 = _S11980;
    dpdensities_3->primal_0 = dpdensities_3->primal_0;
    dpdensities_3->differential_0 = _S11917;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_voxel_0(float3  _S11981, float _S11982, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S11983, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11984, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11985, float _S11986)
{
    FixedArray<float, 8>  _S11987 = _S11983->primal_0;
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S11988;
    float _S11989 = s_primal_ctx_evaluate_alpha_voxel_0(_S11981, _S11982, &_S11987, (*_S11984).primal_0, (*_S11985).primal_0, &_S11988);
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S11990 = _S11988;
    s_bwd_prop_evaluate_alpha_voxel_0(_S11981, _S11982, _S11983, _S11984, _S11985, _S11986, &_S11990);
    return;
}

inline __device__ void evaluate_alpha_voxel_vjp(float3  pos_9, float size_9, FixedArray<float, 8>  * densities_8, float3  ray_o_12, float3  ray_d_12, float v_alpha_4, FixedArray<float, 8>  * v_densities_2, float3  * v_ray_o_5, float3  * v_ray_d_5)
{
    FixedArray<float, 8>  _S11991 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_0;
    (&dp_densities_0)->primal_0 = *densities_8;
    (&dp_densities_0)->differential_0 = _S11991;
    float3  _S11992 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_4;
    (&dp_ray_o_4)->primal_0 = ray_o_12;
    (&dp_ray_o_4)->differential_0 = _S11992;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_4;
    (&dp_ray_d_4)->primal_0 = ray_d_12;
    (&dp_ray_d_4)->differential_0 = _S11992;
    s_bwd_evaluate_alpha_voxel_0(pos_9, size_9, &dp_densities_0, &dp_ray_o_4, &dp_ray_d_4, v_alpha_4);
    *v_densities_2 = (&dp_densities_0)->differential_0;
    *v_ray_o_5 = dp_ray_o_4.differential_0;
    *v_ray_d_5 = dp_ray_d_4.differential_0;
    return;
}

inline __device__ void evaluate_color_voxel(float3  pos_10, float size_10, FixedArray<float, 8>  * densities_9, float3  rgb_44, float3  ray_o_13, float3  ray_d_13, float3  * out_rgb_1, float * depth_53)
{
    *out_rgb_1 = rgb_44;
    float _S11993 = 0.5f * size_10;
    float3  m_6 = make_float3 (1.0f) / ray_d_13;
    float3  k_20 = abs_0(m_6) * make_float3 (_S11993);
    float3  _S11994 = - (m_6 * (ray_o_13 - (pos_10 + make_float3 (_S11993))));
    float3  ta_4 = _S11994 - k_20;
    float3  tb_4 = _S11994 + k_20;
    float _S11995 = (F32_max(((F32_max((ta_4.x), (ta_4.y)))), ((F32_max((ta_4.z), (0.0f))))));
    float _S11996 = (F32_min(((F32_min((tb_4.x), (tb_4.y)))), (tb_4.z)));
    int i_14 = int(0);
    float accum_4 = 0.0f;
    float depth_accum_0 = 0.0f;
    for(;;)
    {
        if(i_14 < int(8))
        {
        }
        else
        {
            break;
        }
        float t_81 = lerp_0(_S11995, _S11996, (float(i_14) + 0.5f) / 8.0f);
        float _S11997 = interp_0(densities_9, (ray_o_13 + ray_d_13 * make_float3 (t_81) - pos_10) / make_float3 (size_10));
        float _S11998;
        if(_S11997 > 1.10000002384185791f)
        {
            _S11998 = _S11997;
        }
        else
        {
            _S11998 = (F32_exp((0.90909093618392944f * _S11997 - 0.90468984842300415f)));
        }
        float accum_5 = accum_4 + _S11998;
        float depth_accum_1 = depth_accum_0 + t_81 * _S11998;
        i_14 = i_14 + int(1);
        accum_4 = accum_5;
        depth_accum_0 = depth_accum_1;
    }
    *depth_53 = (F32_log(((F32_max((depth_accum_0 / accum_4), (0.0f))) + 9.99999997475242708e-07f)));
    return;
}

struct s_bwd_prop_evaluate_color_voxel_Intermediates_0
{
    float _S11999;
    float _S12000;
};

inline __device__ void s_primal_ctx_evaluate_color_voxel_0(float3  pos_11, float size_11, FixedArray<float, 8>  * dpdensities_4, float3  dprgb_29, float3  dpray_o_6, float3  dpray_d_6, float3  * dpout_rgb_1, float * dpdepth_31, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_44)
{
    _s_diff_ctx_44->_S11999 = 0.0f;
    _s_diff_ctx_44->_S12000 = 0.0f;
    float _S12001 = 0.5f * size_11;
    float3  m_7 = make_float3 (1.0f) / dpray_d_6;
    float3  k_21 = s_primal_ctx_abs_1(m_7) * make_float3 (_S12001);
    float3  _S12002 = - (m_7 * (dpray_o_6 - (pos_11 + make_float3 (_S12001))));
    float3  ta_5 = _S12002 - k_21;
    float3  tb_5 = _S12002 + k_21;
    float _S12003 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_5.x, ta_5.y), s_primal_ctx_max_0(ta_5.z, 0.0f));
    float _S12004 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_5.x, tb_5.y), tb_5.z);
    bool _runFlag_1 = true;
    float accum_6 = 0.0f;
    float depth_accum_2 = 0.0f;
    int i_15 = int(0);
    int _pc_1 = int(0);
    for(;;)
    {
        _s_diff_ctx_44->_S11999 = depth_accum_2;
        _s_diff_ctx_44->_S12000 = accum_6;
        if(_runFlag_1)
        {
        }
        else
        {
            break;
        }
        float _S12005;
        float _S12006;
        int _S12007;
        if(i_15 < int(8))
        {
            float _S12008 = s_primal_ctx_lerp_0(_S12003, _S12004, (float(i_15) + 0.5f) / 8.0f);
            float _S12009 = s_primal_ctx_interp_0(dpdensities_4, (dpray_o_6 + dpray_d_6 * make_float3 (_S12008) - pos_11) / make_float3 (size_11));
            if(_S12009 > 1.10000002384185791f)
            {
                _S12005 = _S12009;
            }
            else
            {
                _S12005 = s_primal_ctx_exp_1(0.90909093618392944f * _S12009 - 0.90468984842300415f);
            }
            float accum_7 = accum_6 + _S12005;
            float depth_accum_3 = depth_accum_2 + _S12008 * _S12005;
            _S12007 = int(1);
            _S12005 = accum_7;
            _S12006 = depth_accum_3;
        }
        else
        {
            _S12007 = int(0);
            _S12005 = 0.0f;
            _S12006 = 0.0f;
        }
        if(_S12007 != int(1))
        {
            _runFlag_1 = false;
        }
        if(_runFlag_1)
        {
            int _S12010 = i_15 + int(1);
            accum_6 = _S12005;
            depth_accum_2 = _S12006;
            i_15 = _S12010;
        }
        _pc_1 = _pc_1 + int(1);
    }
    float _S12011 = s_primal_ctx_log_0(s_primal_ctx_max_0(depth_accum_2 / accum_6, 0.0f) + 9.99999997475242708e-07f);
    *dpout_rgb_1 = dprgb_29;
    *dpdepth_31 = _S12011;
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_voxel_0(float3  pos_12, float size_12, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_30, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_7, float3  dpout_rgb_2, float dpdepth_32, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_45)
{
    FixedArray<float, 8>  _S12012 = dpdensities_5->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12013 = *dpray_o_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12014 = *dpray_d_7;
    float3  _S12015 = make_float3 (size_12);
    float _S12016 = 0.5f * size_12;
    float3  _S12017 = make_float3 (_S12016);
    float3  m_8 = make_float3 (1.0f) / (*dpray_d_7).primal_0;
    float3  _S12018 = (*dpray_d_7).primal_0 * (*dpray_d_7).primal_0;
    float3  _S12019 = (*dpray_o_7).primal_0 - (pos_12 + make_float3 (_S12016));
    float3  k_22 = s_primal_ctx_abs_1(m_8) * make_float3 (_S12016);
    float3  _S12020 = - (m_8 * _S12019);
    float3  ta_6 = _S12020 - k_22;
    float3  tb_6 = _S12020 + k_22;
    float _S12021 = ta_6.x;
    float _S12022 = ta_6.y;
    float _S12023 = s_primal_ctx_max_0(_S12021, _S12022);
    float _S12024 = ta_6.z;
    float _S12025 = s_primal_ctx_max_0(_S12024, 0.0f);
    float _S12026 = s_primal_ctx_max_0(_S12023, _S12025);
    float _S12027 = tb_6.x;
    float _S12028 = tb_6.y;
    float _S12029 = s_primal_ctx_min_0(_S12027, _S12028);
    float _S12030 = tb_6.z;
    float _S12031 = s_primal_ctx_min_0(_S12029, _S12030);
    float _S12032 = _s_diff_ctx_45->_S11999 / _s_diff_ctx_45->_S12000;
    float _S12033 = _s_diff_ctx_45->_S12000 * _s_diff_ctx_45->_S12000;
    float3  _S12034 = make_float3 (0.0f);
    FixedArray<float, 8>  _S12035 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_float_0 _S12036;
    (&_S12036)->primal_0 = s_primal_ctx_max_0(_S12032, 0.0f) + 9.99999997475242708e-07f;
    (&_S12036)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S12036, dpdepth_32);
    DiffPair_float_0 _S12037;
    (&_S12037)->primal_0 = _S12032;
    (&_S12037)->differential_0 = 0.0f;
    DiffPair_float_0 _S12038;
    (&_S12038)->primal_0 = 0.0f;
    (&_S12038)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12037, &_S12038, _S12036.differential_0);
    float _S12039 = _S12037.differential_0 / _S12033;
    float _S12040 = _s_diff_ctx_45->_S11999 * - _S12039;
    float _S12041 = _s_diff_ctx_45->_S12000 * _S12039;
    int _dc_1 = int(8);
    float _S12042 = _S12040;
    float _S12043 = _S12041;
    float _S12044 = 0.0f;
    float _S12045 = 0.0f;
    float3  _S12046 = _S12034;
    float3  _S12047 = _S12034;
    FixedArray<float, 8>  _S12048;
    _S12048[int(0)] = 0.0f;
    _S12048[int(1)] = 0.0f;
    _S12048[int(2)] = 0.0f;
    _S12048[int(3)] = 0.0f;
    _S12048[int(4)] = 0.0f;
    _S12048[int(5)] = 0.0f;
    _S12048[int(6)] = 0.0f;
    _S12048[int(7)] = 0.0f;
    for(;;)
    {
        if(_dc_1 >= int(0))
        {
        }
        else
        {
            break;
        }
        bool _S12049 = _dc_1 < int(8);
        int _S12050;
        float _S12051;
        float _S12052;
        float _S12053;
        float _S12054;
        float3  _S12055;
        float3  _S12056;
        bool _S12057;
        if(_S12049)
        {
            float _S12058 = (float(_dc_1) + 0.5f) / 8.0f;
            float _S12059 = s_primal_ctx_lerp_0(_S12026, _S12031, _S12058);
            float3  _S12060 = make_float3 (_S12059);
            float3  _S12061 = (_S12013.primal_0 + _S12014.primal_0 * make_float3 (_S12059) - pos_12) / make_float3 (size_12);
            FixedArray<float, 8>  _S12062 = _S12012;
            float _S12063 = s_primal_ctx_interp_0(&_S12062, _S12061);
            bool _S12064 = _S12063 > 1.10000002384185791f;
            if(_S12064)
            {
                _S12051 = _S12063;
                _S12052 = 0.0f;
            }
            else
            {
                float _S12065 = 0.90909093618392944f * _S12063 - 0.90468984842300415f;
                _S12051 = s_primal_ctx_exp_1(_S12065);
                _S12052 = _S12065;
            }
            float _S12066 = _S12051;
            float _S12067 = _S12052;
            _S12050 = int(1);
            _S12051 = _S12059;
            _S12052 = _S12066;
            _S12057 = _S12064;
            _S12053 = _S12067;
            _S12055 = _S12061;
            _S12056 = _S12060;
            _S12054 = _S12058;
        }
        else
        {
            _S12050 = int(0);
            _S12051 = 0.0f;
            _S12052 = 0.0f;
            _S12057 = false;
            _S12053 = 0.0f;
            _S12055 = _S12034;
            _S12056 = _S12034;
            _S12054 = 0.0f;
        }
        float _S12068;
        float _S12069;
        float _S12070;
        float _S12071;
        if(!(_S12050 != int(1)))
        {
            _S12068 = _S12042;
            _S12069 = _S12043;
            _S12070 = 0.0f;
            _S12071 = 0.0f;
        }
        else
        {
            _S12068 = 0.0f;
            _S12069 = 0.0f;
            _S12070 = _S12043;
            _S12071 = _S12042;
        }
        if(_S12049)
        {
            float _S12072 = _S12052 * _S12069;
            float _S12073 = _S12069 + _S12070;
            float _S12074 = _S12051 * _S12069 + _S12068;
            float _S12075 = _S12068 + _S12071;
            float _S12076;
            if(_S12057)
            {
                _S12076 = _S12074;
            }
            else
            {
                DiffPair_float_0 _S12077;
                (&_S12077)->primal_0 = _S12053;
                (&_S12077)->differential_0 = 0.0f;
                s_bwd_prop_exp_0(&_S12077, _S12074);
                _S12076 = 0.90909093618392944f * _S12077.differential_0;
            }
            DiffPair_arrayx3Cfloatx2C8x3E_0 _S12078;
            (&_S12078)->primal_0 = _S12012;
            (&_S12078)->differential_0 = _S12035;
            DiffPair_vectorx3Cfloatx2C3x3E_0 _S12079;
            (&_S12079)->primal_0 = _S12055;
            (&_S12079)->differential_0 = _S12034;
            s_bwd_prop_interp_0(&_S12078, &_S12079, _S12076);
            float3  _S12080 = _S12079.differential_0 / _S12015;
            float3  _S12081 = _S12014.primal_0 * _S12080;
            float3  _S12082 = _S12056 * _S12080;
            float _S12083 = _S12081.x + _S12081.y + _S12081.z + _S12072;
            DiffPair_float_0 _S12084;
            (&_S12084)->primal_0 = _S12026;
            (&_S12084)->differential_0 = 0.0f;
            DiffPair_float_0 _S12085;
            (&_S12085)->primal_0 = _S12031;
            (&_S12085)->differential_0 = 0.0f;
            DiffPair_float_0 _S12086;
            (&_S12086)->primal_0 = _S12054;
            (&_S12086)->differential_0 = 0.0f;
            s_bwd_prop_lerp_0(&_S12084, &_S12085, &_S12086, _S12083);
            float _S12087 = (&_S12078)->differential_0[int(0)] + _S12048[int(0)];
            float _S12088 = (&_S12078)->differential_0[int(1)] + _S12048[int(1)];
            float _S12089 = (&_S12078)->differential_0[int(2)] + _S12048[int(2)];
            float _S12090 = (&_S12078)->differential_0[int(3)] + _S12048[int(3)];
            float _S12091 = (&_S12078)->differential_0[int(4)] + _S12048[int(4)];
            float _S12092 = (&_S12078)->differential_0[int(5)] + _S12048[int(5)];
            float _S12093 = (&_S12078)->differential_0[int(6)] + _S12048[int(6)];
            float _S12094 = (&_S12078)->differential_0[int(7)] + _S12048[int(7)];
            float3  _S12095 = _S12080 + _S12047;
            float3  _S12096 = _S12082 + _S12046;
            float _S12097 = _S12085.differential_0 + _S12044;
            float _S12098 = _S12084.differential_0 + _S12045;
            _S12042 = _S12075;
            _S12043 = _S12073;
            _S12044 = _S12097;
            _S12045 = _S12098;
            _S12046 = _S12096;
            _S12047 = _S12095;
            _S12048[int(0)] = _S12087;
            _S12048[int(1)] = _S12088;
            _S12048[int(2)] = _S12089;
            _S12048[int(3)] = _S12090;
            _S12048[int(4)] = _S12091;
            _S12048[int(5)] = _S12092;
            _S12048[int(6)] = _S12093;
            _S12048[int(7)] = _S12094;
        }
        else
        {
            _S12042 = _S12071;
            _S12043 = _S12070;
        }
        _dc_1 = _dc_1 - int(1);
    }
    DiffPair_float_0 _S12099;
    (&_S12099)->primal_0 = _S12029;
    (&_S12099)->differential_0 = 0.0f;
    DiffPair_float_0 _S12100;
    (&_S12100)->primal_0 = _S12030;
    (&_S12100)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S12099, &_S12100, _S12044);
    DiffPair_float_0 _S12101;
    (&_S12101)->primal_0 = _S12027;
    (&_S12101)->differential_0 = 0.0f;
    DiffPair_float_0 _S12102;
    (&_S12102)->primal_0 = _S12028;
    (&_S12102)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S12101, &_S12102, _S12099.differential_0);
    DiffPair_float_0 _S12103;
    (&_S12103)->primal_0 = _S12023;
    (&_S12103)->differential_0 = 0.0f;
    DiffPair_float_0 _S12104;
    (&_S12104)->primal_0 = _S12025;
    (&_S12104)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12103, &_S12104, _S12045);
    DiffPair_float_0 _S12105;
    (&_S12105)->primal_0 = _S12024;
    (&_S12105)->differential_0 = 0.0f;
    DiffPair_float_0 _S12106;
    (&_S12106)->primal_0 = 0.0f;
    (&_S12106)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12105, &_S12106, _S12104.differential_0);
    DiffPair_float_0 _S12107;
    (&_S12107)->primal_0 = _S12021;
    (&_S12107)->differential_0 = 0.0f;
    DiffPair_float_0 _S12108;
    (&_S12108)->primal_0 = _S12022;
    (&_S12108)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12107, &_S12108, _S12103.differential_0);
    float3  s_diff_tb_T_1 = make_float3 (_S12101.differential_0, _S12102.differential_0, _S12100.differential_0);
    float3  s_diff_ta_T_1 = make_float3 (_S12107.differential_0, _S12108.differential_0, _S12105.differential_0);
    float3  s_diff_n_T_1 = - (s_diff_tb_T_1 + s_diff_ta_T_1);
    float3  _S12109 = _S12017 * (s_diff_tb_T_1 + - s_diff_ta_T_1);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12110;
    (&_S12110)->primal_0 = m_8;
    (&_S12110)->differential_0 = _S12034;
    s_bwd_prop_abs_1(&_S12110, _S12109);
    float3  _S12111 = m_8 * s_diff_n_T_1;
    float3  _S12112 = - ((_S12110.differential_0 + _S12019 * s_diff_n_T_1) / _S12018) + _S12046;
    dpray_d_7->primal_0 = (*dpray_d_7).primal_0;
    dpray_d_7->differential_0 = _S12112;
    float3  _S12113 = _S12111 + _S12047;
    dpray_o_7->primal_0 = (*dpray_o_7).primal_0;
    dpray_o_7->differential_0 = _S12113;
    dprgb_30->primal_0 = (*dprgb_30).primal_0;
    dprgb_30->differential_0 = dpout_rgb_2;
    dpdensities_5->primal_0 = dpdensities_5->primal_0;
    dpdensities_5->differential_0 = _S12048;
    return;
}

inline __device__ void s_bwd_evaluate_color_voxel_0(float3  _S12114, float _S12115, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S12116, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12117, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12118, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12119, float3  _S12120, float _S12121)
{
    FixedArray<float, 8>  _S12122 = _S12116->primal_0;
    float3  _S12123;
    float _S12124;
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S12125;
    s_primal_ctx_evaluate_color_voxel_0(_S12114, _S12115, &_S12122, (*_S12117).primal_0, (*_S12118).primal_0, (*_S12119).primal_0, &_S12123, &_S12124, &_S12125);
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S12126 = _S12125;
    s_bwd_prop_evaluate_color_voxel_0(_S12114, _S12115, _S12116, _S12117, _S12118, _S12119, _S12120, _S12121, &_S12126);
    return;
}

inline __device__ void evaluate_color_voxel_vjp(float3  pos_13, float size_13, FixedArray<float, 8>  * densities_10, float3  rgb_45, float3  ray_o_14, float3  ray_d_14, float3  v_out_rgb_1, float v_depth_26, FixedArray<float, 8>  * v_densities_3, float3  * v_rgb_24, float3  * v_ray_o_6, float3  * v_ray_d_6)
{
    FixedArray<float, 8>  _S12127 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_1;
    (&dp_densities_1)->primal_0 = *densities_10;
    (&dp_densities_1)->differential_0 = _S12127;
    float3  _S12128 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_1;
    (&dp_rgb_1)->primal_0 = rgb_45;
    (&dp_rgb_1)->differential_0 = _S12128;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_5;
    (&dp_ray_o_5)->primal_0 = ray_o_14;
    (&dp_ray_o_5)->differential_0 = _S12128;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_5;
    (&dp_ray_d_5)->primal_0 = ray_d_14;
    (&dp_ray_d_5)->differential_0 = _S12128;
    s_bwd_evaluate_color_voxel_0(pos_13, size_13, &dp_densities_1, &dp_rgb_1, &dp_ray_o_5, &dp_ray_d_5, v_out_rgb_1, v_depth_26);
    *v_densities_3 = (&dp_densities_1)->differential_0;
    *v_rgb_24 = dp_rgb_1.differential_0;
    *v_ray_o_6 = dp_ray_o_5.differential_0;
    *v_ray_d_6 = dp_ray_d_5.differential_0;
    return;
}

