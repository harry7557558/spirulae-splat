#pragma once

// #if defined(CUDART_VERSION) && CUDART_VERSION >= 12000
// typedef double4_32a my_double4;
// typedef longlong4_32a my_longlong4;
// typedef ulonglong4_32a my_ulonglong4;
// #else
// typedef double4 my_double4;
// typedef longlong4 my_longlong4;
// typedef ulonglong4 my_ulonglong4;
// #endif

#include "slang.cuh"

inline __device__ Matrix<float, 3, 3>  transpose_0(Matrix<float, 3, 3>  x_0)
{
    Matrix<float, 3, 3>  result_0;
    int r_0 = int(0);
    for(;;)
    {
        if(r_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_0 = int(0);
        for(;;)
        {
            if(c_0 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_0)->rows + (r_0)), c_0) = _slang_vector_get_element(x_0.rows[c_0], r_0);
            c_0 = c_0 + int(1);
        }
        r_0 = r_0 + int(1);
    }
    return result_0;
}

inline __device__ Matrix<float, 3, 2>  transpose_1(Matrix<float, 2, 3>  x_1)
{
    Matrix<float, 3, 2>  result_1;
    int r_1 = int(0);
    for(;;)
    {
        if(r_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_1 = int(0);
        for(;;)
        {
            if(c_1 < int(2))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_1)->rows + (r_1)), c_1) = _slang_vector_get_element(x_1.rows[c_1], r_1);
            c_1 = c_1 + int(1);
        }
        r_1 = r_1 + int(1);
    }
    return result_1;
}

inline __device__ Matrix<float, 2, 3>  transpose_2(Matrix<float, 3, 2>  x_2)
{
    Matrix<float, 2, 3>  result_2;
    int r_2 = int(0);
    for(;;)
    {
        if(r_2 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_2 = int(0);
        for(;;)
        {
            if(c_2 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_2)->rows + (r_2)), c_2) = _slang_vector_get_element(x_2.rows[c_2], r_2);
            c_2 = c_2 + int(1);
        }
        r_2 = r_2 + int(1);
    }
    return result_2;
}

inline __device__ Matrix<float, 3, 3>  normalized_quat_to_rotmat(float4  quat_0)
{
    float x_3 = quat_0.y;
    float x2_0 = x_3 * x_3;
    float y2_0 = quat_0.z * quat_0.z;
    float z2_0 = quat_0.w * quat_0.w;
    float xy_0 = quat_0.y * quat_0.z;
    float xz_0 = quat_0.y * quat_0.w;
    float yz_0 = quat_0.z * quat_0.w;
    float wx_0 = quat_0.x * quat_0.y;
    float wy_0 = quat_0.x * quat_0.z;
    float wz_0 = quat_0.x * quat_0.w;
    return transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_0 + z2_0), 2.0f * (xy_0 + wz_0), 2.0f * (xz_0 - wy_0), 2.0f * (xy_0 - wz_0), 1.0f - 2.0f * (x2_0 + z2_0), 2.0f * (yz_0 + wx_0), 2.0f * (xz_0 + wy_0), 2.0f * (yz_0 - wx_0), 1.0f - 2.0f * (x2_0 + y2_0)));
}

struct DiffPair_matrixx3Cfloatx2C3x2C3x3E_0
{
    Matrix<float, 3, 3>  primal_0;
    Matrix<float, 3, 3>  differential_0;
};

struct DiffPair_vectorx3Cfloatx2C3x3E_0
{
    float3  primal_0;
    float3  differential_0;
};

inline __device__ void _d_mul_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * right_0, float3  dOut_0)
{
    float _S1 = (*left_0).primal_0.rows[int(0)].x * dOut_0.x;
    Matrix<float, 3, 3>  left_d_result_0;
    *&(((&left_d_result_0)->rows + (int(0)))->x) = (*right_0).primal_0.x * dOut_0.x;
    float sum_0 = _S1 + (*left_0).primal_0.rows[int(1)].x * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->x) = (*right_0).primal_0.x * dOut_0.y;
    float sum_1 = sum_0 + (*left_0).primal_0.rows[int(2)].x * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->x) = (*right_0).primal_0.x * dOut_0.z;
    float3  right_d_result_0;
    *&((&right_d_result_0)->x) = sum_1;
    float _S2 = (*left_0).primal_0.rows[int(0)].y * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->y) = (*right_0).primal_0.y * dOut_0.x;
    float sum_2 = _S2 + (*left_0).primal_0.rows[int(1)].y * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->y) = (*right_0).primal_0.y * dOut_0.y;
    float sum_3 = sum_2 + (*left_0).primal_0.rows[int(2)].y * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->y) = (*right_0).primal_0.y * dOut_0.z;
    *&((&right_d_result_0)->y) = sum_3;
    float _S3 = (*left_0).primal_0.rows[int(0)].z * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->z) = (*right_0).primal_0.z * dOut_0.x;
    float sum_4 = _S3 + (*left_0).primal_0.rows[int(1)].z * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->z) = (*right_0).primal_0.z * dOut_0.y;
    float sum_5 = sum_4 + (*left_0).primal_0.rows[int(2)].z * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->z) = (*right_0).primal_0.z * dOut_0.z;
    *&((&right_d_result_0)->z) = sum_5;
    left_0->primal_0 = (*left_0).primal_0;
    left_0->differential_0 = left_d_result_0;
    right_0->primal_0 = (*right_0).primal_0;
    right_0->differential_0 = right_d_result_0;
    return;
}

inline __device__ float3  mul_0(Matrix<float, 3, 3>  left_1, float3  right_1)
{
    float3  result_3;
    int i_0 = int(0);
    for(;;)
    {
        if(i_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int j_0 = int(0);
        float sum_6 = 0.0f;
        for(;;)
        {
            if(j_0 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_7 = sum_6 + _slang_vector_get_element(left_1.rows[i_0], j_0) * _slang_vector_get_element(right_1, j_0);
            j_0 = j_0 + int(1);
            sum_6 = sum_7;
        }
        *_slang_vector_get_element_ptr(&result_3, i_0) = sum_6;
        i_0 = i_0 + int(1);
    }
    return result_3;
}

inline __device__ void posW2C(Matrix<float, 3, 3>  R_0, float3  t_0, float3  pW_0, float3  * pC_0)
{
    *pC_0 = mul_0(R_0, pW_0) + t_0;
    return;
}

inline __device__ void mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_2, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_2, Matrix<float, 3, 3>  dOut_1)
{
    Matrix<float, 3, 3>  left_d_result_1;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_1;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    left_2->primal_0 = (*left_2).primal_0;
    left_2->differential_0 = left_d_result_1;
    right_2->primal_0 = (*right_2).primal_0;
    right_2->differential_0 = right_d_result_1;
    return;
}

struct DiffPair_matrixx3Cfloatx2C2x2C3x3E_0
{
    Matrix<float, 2, 3>  primal_0;
    Matrix<float, 2, 3>  differential_0;
};

inline __device__ void mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_3, Matrix<float, 2, 3>  dOut_2)
{
    Matrix<float, 2, 3>  left_d_result_2;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_2;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    left_3->primal_0 = (*left_3).primal_0;
    left_3->differential_0 = left_d_result_2;
    right_3->primal_0 = (*right_3).primal_0;
    right_3->differential_0 = right_d_result_2;
    return;
}

struct DiffPair_matrixx3Cfloatx2C3x2C2x3E_0
{
    Matrix<float, 3, 2>  primal_0;
    Matrix<float, 3, 2>  differential_0;
};

inline __device__ void mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_4, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * right_4, Matrix<float, 2, 2>  dOut_3)
{
    Matrix<float, 2, 3>  left_d_result_3;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 2>  right_d_result_3;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].y;
    left_4->primal_0 = (*left_4).primal_0;
    left_4->differential_0 = left_d_result_3;
    right_4->primal_0 = (*right_4).primal_0;
    right_4->differential_0 = right_d_result_3;
    return;
}

inline __device__ Matrix<float, 3, 3>  mul_4(Matrix<float, 3, 3>  left_5, Matrix<float, 3, 3>  right_5)
{
    Matrix<float, 3, 3>  result_4;
    int r_3 = int(0);
    for(;;)
    {
        if(r_3 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_3 = int(0);
        for(;;)
        {
            if(c_3 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_1 = int(0);
            float sum_8 = 0.0f;
            for(;;)
            {
                if(i_1 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_9 = sum_8 + _slang_vector_get_element(left_5.rows[r_3], i_1) * _slang_vector_get_element(right_5.rows[i_1], c_3);
                i_1 = i_1 + int(1);
                sum_8 = sum_9;
            }
            *_slang_vector_get_element_ptr(((&result_4)->rows + (r_3)), c_3) = sum_8;
            c_3 = c_3 + int(1);
        }
        r_3 = r_3 + int(1);
    }
    return result_4;
}

inline __device__ Matrix<float, 2, 3>  mul_5(Matrix<float, 2, 3>  left_6, Matrix<float, 3, 3>  right_6)
{
    Matrix<float, 2, 3>  result_5;
    int r_4 = int(0);
    for(;;)
    {
        if(r_4 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_4 = int(0);
        for(;;)
        {
            if(c_4 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_2 = int(0);
            float sum_10 = 0.0f;
            for(;;)
            {
                if(i_2 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_11 = sum_10 + _slang_vector_get_element(left_6.rows[r_4], i_2) * _slang_vector_get_element(right_6.rows[i_2], c_4);
                i_2 = i_2 + int(1);
                sum_10 = sum_11;
            }
            *_slang_vector_get_element_ptr(((&result_5)->rows + (r_4)), c_4) = sum_10;
            c_4 = c_4 + int(1);
        }
        r_4 = r_4 + int(1);
    }
    return result_5;
}

inline __device__ Matrix<float, 2, 2>  mul_6(Matrix<float, 2, 3>  left_7, Matrix<float, 3, 2>  right_7)
{
    Matrix<float, 2, 2>  result_6;
    int r_5 = int(0);
    for(;;)
    {
        if(r_5 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_5 = int(0);
        for(;;)
        {
            if(c_5 < int(2))
            {
            }
            else
            {
                break;
            }
            int i_3 = int(0);
            float sum_12 = 0.0f;
            for(;;)
            {
                if(i_3 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_13 = sum_12 + _slang_vector_get_element(left_7.rows[r_5], i_3) * _slang_vector_get_element(right_7.rows[i_3], c_5);
                i_3 = i_3 + int(1);
                sum_12 = sum_13;
            }
            *_slang_vector_get_element_ptr(((&result_6)->rows + (r_5)), c_5) = sum_12;
            c_5 = c_5 + int(1);
        }
        r_5 = r_5 + int(1);
    }
    return result_6;
}

inline __device__ void covarW2C(Matrix<float, 3, 3>  R_1, Matrix<float, 3, 3>  covarW_0, Matrix<float, 3, 3>  * covarC_0)
{
    *covarC_0 = mul_4(mul_4(R_1, covarW_0), transpose_0(R_1));
    return;
}

inline __device__ void quat_scale_to_covar(float4  quat_1, float3  scale_0, Matrix<float, 3, 3>  * covar_0)
{
    float x_4 = quat_1.y;
    float x2_1 = x_4 * x_4;
    float y2_1 = quat_1.z * quat_1.z;
    float z2_1 = quat_1.w * quat_1.w;
    float xy_1 = quat_1.y * quat_1.z;
    float xz_1 = quat_1.y * quat_1.w;
    float yz_1 = quat_1.z * quat_1.w;
    float wx_1 = quat_1.x * quat_1.y;
    float wy_1 = quat_1.x * quat_1.z;
    float wz_1 = quat_1.x * quat_1.w;
    Matrix<float, 3, 3>  M_0 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_1 + z2_1), 2.0f * (xy_1 + wz_1), 2.0f * (xz_1 - wy_1), 2.0f * (xy_1 - wz_1), 1.0f - 2.0f * (x2_1 + z2_1), 2.0f * (yz_1 + wx_1), 2.0f * (xz_1 + wy_1), 2.0f * (yz_1 - wx_1), 1.0f - 2.0f * (x2_1 + y2_1))), makeMatrix<float, 3, 3> (scale_0.x, 0.0f, 0.0f, 0.0f, scale_0.y, 0.0f, 0.0f, 0.0f, scale_0.z));
    *covar_0 = mul_4(M_0, transpose_0(M_0));
    return;
}

inline __device__ void quat_scale_to_sqrt_covar(float4  quat_2, float3  scale_1, Matrix<float, 3, 3>  * M_1)
{
    float x_5 = quat_2.y;
    float x2_2 = x_5 * x_5;
    float y2_2 = quat_2.z * quat_2.z;
    float z2_2 = quat_2.w * quat_2.w;
    float xy_2 = quat_2.y * quat_2.z;
    float xz_2 = quat_2.y * quat_2.w;
    float yz_2 = quat_2.z * quat_2.w;
    float wx_2 = quat_2.x * quat_2.y;
    float wy_2 = quat_2.x * quat_2.z;
    float wz_2 = quat_2.x * quat_2.w;
    *M_1 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_2 + z2_2), 2.0f * (xy_2 + wz_2), 2.0f * (xz_2 - wy_2), 2.0f * (xy_2 - wz_2), 1.0f - 2.0f * (x2_2 + z2_2), 2.0f * (yz_2 + wx_2), 2.0f * (xz_2 + wy_2), 2.0f * (yz_2 - wx_2), 1.0f - 2.0f * (x2_2 + y2_2))), makeMatrix<float, 3, 3> (scale_1.x, 0.0f, 0.0f, 0.0f, scale_1.y, 0.0f, 0.0f, 0.0f, scale_1.z));
    return;
}

inline __device__ Matrix<float, 2, 2>  inverse(Matrix<float, 2, 2>  m_0)
{
    float invdet_0 = 1.0f / (m_0.rows[int(0)].x * m_0.rows[int(1)].y - m_0.rows[int(0)].y * m_0.rows[int(1)].x);
    return makeMatrix<float, 2, 2> (m_0.rows[int(1)].y * invdet_0, - m_0.rows[int(0)].y * invdet_0, - m_0.rows[int(1)].x * invdet_0, m_0.rows[int(0)].x * invdet_0);
}

inline __device__ Matrix<float, 2, 2>  camera_distortion_jac_0(float2  uv_0, FixedArray<float, 10>  * dist_coeffs_0)
{
    float u_0 = uv_0.x;
    float v_0 = uv_0.y;
    float r2_0 = u_0 * u_0 + v_0 * v_0;
    float _S4 = (*dist_coeffs_0)[int(2)] + r2_0 * (*dist_coeffs_0)[int(3)];
    float _S5 = (*dist_coeffs_0)[int(1)] + r2_0 * _S4;
    float _S6 = (*dist_coeffs_0)[int(0)] + r2_0 * _S5;
    float2  _S7 = make_float2 (1.0f + r2_0 * _S6);
    float _S8 = 2.0f * (*dist_coeffs_0)[int(4)];
    float _S9 = _S8 * u_0;
    float _S10 = 2.0f * u_0;
    float _S11 = 2.0f * (*dist_coeffs_0)[int(5)];
    float _S12 = _S11 * u_0;
    float _S13 = 2.0f * v_0;
    float2  _S14 = make_float2 (1.0f, 0.0f) + make_float2 ((*dist_coeffs_0)[int(8)], (*dist_coeffs_0)[int(9)]);
    float2  _S15 = uv_0 * _S14;
    float _S16 = (*dist_coeffs_0)[int(4)] * _S14.y;
    float _S17 = (*dist_coeffs_0)[int(5)] * _S14.x;
    float _S18 = _S15.x + _S15.y;
    float _S19 = r2_0 * _S18;
    float _S20 = r2_0 * _S19;
    float _S21 = (*dist_coeffs_0)[int(7)] * _S14.y + _S16 + (*dist_coeffs_0)[int(6)] * _S14.x + _S17 + _S6 * _S18 + _S5 * _S19 + _S4 * _S20 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S20);
    float _S22 = v_0 * _S21;
    float _S23 = u_0 * _S21;
    float2  _S24 = make_float2 (0.0f, 1.0f) + make_float2 (0.0f, 0.0f);
    float2  _S25 = uv_0 * _S24;
    float _S26 = (*dist_coeffs_0)[int(4)] * _S24.y;
    float _S27 = (*dist_coeffs_0)[int(5)] * _S24.x;
    float _S28 = _S25.x + _S25.y;
    float _S29 = r2_0 * _S28;
    float _S30 = r2_0 * _S29;
    float _S31 = (*dist_coeffs_0)[int(7)] * _S24.y + _S26 + (*dist_coeffs_0)[int(6)] * _S24.x + _S27 + _S6 * _S28 + _S5 * _S29 + _S4 * _S30 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S30);
    float _S32 = v_0 * _S31;
    float _S33 = u_0 * _S31;
    return makeMatrix<float, 2, 2> (_S7 * _S14 + make_float2 (_S11 * (v_0 * _S14.y) + _S10 * _S17 + 2.0f * (u_0 * _S17) + _S8 * (v_0 * _S14.x) + _S23 + _S23, _S13 * _S16 + 2.0f * (v_0 * _S16) + _S12 * _S14.y + _S9 * _S14.x + _S22 + _S22), _S7 * _S24 + make_float2 (_S11 * (v_0 * _S24.y) + _S10 * _S27 + 2.0f * (u_0 * _S27) + _S8 * (v_0 * _S24.x) + _S33 + _S33, _S13 * _S26 + 2.0f * (v_0 * _S26) + _S12 * _S24.y + _S9 * _S24.x + _S32 + _S32));
}

inline __device__ float determinant_0(Matrix<float, 2, 2>  m_1)
{
    return m_1.rows[int(0)].x * m_1.rows[int(1)].y - m_1.rows[int(0)].y * m_1.rows[int(1)].x;
}

struct DiffPair_float_0
{
    float primal_0;
    float differential_0;
};

inline __device__ void _d_min_0(DiffPair_float_0 * dpx_0, DiffPair_float_0 * dpy_0, float dOut_4)
{
    DiffPair_float_0 _S34 = *dpx_0;
    float _S35;
    if(((*dpx_0).primal_0) < ((*dpy_0).primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpx_0).primal_0) > ((*dpy_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpx_0->primal_0 = _S34.primal_0;
    dpx_0->differential_0 = _S35;
    DiffPair_float_0 _S36 = *dpy_0;
    if(((*dpy_0).primal_0) < (_S34.primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpy_0).primal_0) > ((*dpx_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpy_0->primal_0 = _S36.primal_0;
    dpy_0->differential_0 = _S35;
    return;
}

inline __device__ bool is_valid_distortion(float2  uv_1, FixedArray<float, 10>  * dist_coeffs_1)
{
    Matrix<float, 2, 2>  _S37 = camera_distortion_jac_0(uv_1, dist_coeffs_1);
    return (F32_min((determinant_0(_S37)), ((F32_min((_S37.rows[int(0)].x), (_S37.rows[int(1)].y)))))) > 0.0f;
}

inline __device__ void _d_max_0(DiffPair_float_0 * dpx_1, DiffPair_float_0 * dpy_1, float dOut_5)
{
    DiffPair_float_0 _S38 = *dpx_1;
    float _S39;
    if(((*dpx_1).primal_0) > ((*dpy_1).primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpx_1).primal_0) < ((*dpy_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpx_1->primal_0 = _S38.primal_0;
    dpx_1->differential_0 = _S39;
    DiffPair_float_0 _S40 = *dpy_1;
    if(((*dpy_1).primal_0) > (_S38.primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpy_1).primal_0) < ((*dpx_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpy_1->primal_0 = _S40.primal_0;
    dpy_1->differential_0 = _S39;
    return;
}

inline __device__ DiffPair_float_0 _d_max_1(DiffPair_float_0 * dpx_2, DiffPair_float_0 * dpy_2)
{
    float _S41 = (F32_max((dpx_2->primal_0), (dpy_2->primal_0)));
    float _S42;
    if((dpx_2->primal_0) > (dpy_2->primal_0))
    {
        _S42 = dpx_2->differential_0;
    }
    else
    {
        if((dpx_2->primal_0) < (dpy_2->primal_0))
        {
            _S42 = dpy_2->differential_0;
        }
        else
        {
            _S42 = 0.5f * (dpx_2->differential_0 + dpy_2->differential_0);
        }
    }
    DiffPair_float_0 _S43 = { _S41, _S42 };
    return _S43;
}

inline __device__ void _d_sqrt_0(DiffPair_float_0 * dpx_3, float dOut_6)
{
    float _S44 = 0.5f / (F32_sqrt(((F32_max((1.00000001168609742e-07f), ((*dpx_3).primal_0)))))) * dOut_6;
    dpx_3->primal_0 = (*dpx_3).primal_0;
    dpx_3->differential_0 = _S44;
    return;
}

inline __device__ DiffPair_float_0 _d_sqrt_1(DiffPair_float_0 * dpx_4)
{
    DiffPair_float_0 _S45 = { (F32_sqrt((dpx_4->primal_0))), 0.5f / (F32_sqrt(((F32_max((1.00000001168609742e-07f), (dpx_4->primal_0)))))) * dpx_4->differential_0 };
    return _S45;
}

inline __device__ void _d_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_3, float dOut_7)
{
    float3  x_d_result_0;
    *&((&x_d_result_0)->x) = (*dpy_3).primal_0.x * dOut_7;
    float3  y_d_result_0;
    *&((&y_d_result_0)->x) = (*dpx_5).primal_0.x * dOut_7;
    *&((&x_d_result_0)->y) = (*dpy_3).primal_0.y * dOut_7;
    *&((&y_d_result_0)->y) = (*dpx_5).primal_0.y * dOut_7;
    *&((&x_d_result_0)->z) = (*dpy_3).primal_0.z * dOut_7;
    *&((&y_d_result_0)->z) = (*dpx_5).primal_0.z * dOut_7;
    dpx_5->primal_0 = (*dpx_5).primal_0;
    dpx_5->differential_0 = x_d_result_0;
    dpy_3->primal_0 = (*dpy_3).primal_0;
    dpy_3->differential_0 = y_d_result_0;
    return;
}

inline __device__ float dot_0(float2  x_6, float2  y_0)
{
    int i_4 = int(0);
    float result_7 = 0.0f;
    for(;;)
    {
        if(i_4 < int(2))
        {
        }
        else
        {
            break;
        }
        float result_8 = result_7 + _slang_vector_get_element(x_6, i_4) * _slang_vector_get_element(y_0, i_4);
        i_4 = i_4 + int(1);
        result_7 = result_8;
    }
    return result_7;
}

inline __device__ float dot_1(float3  x_7, float3  y_1)
{
    int i_5 = int(0);
    float result_9 = 0.0f;
    for(;;)
    {
        if(i_5 < int(3))
        {
        }
        else
        {
            break;
        }
        float result_10 = result_9 + _slang_vector_get_element(x_7, i_5) * _slang_vector_get_element(y_1, i_5);
        i_5 = i_5 + int(1);
        result_9 = result_10;
    }
    return result_9;
}

inline __device__ float length_0(float2  x_8)
{
    return (F32_sqrt((dot_0(x_8, x_8))));
}

inline __device__ float length_1(float3  x_9)
{
    return (F32_sqrt((dot_1(x_9, x_9))));
}

inline __device__ float2  distort_point(float2  uv_2, bool is_fisheye_0, FixedArray<float, 10>  * dist_coeffs_2)
{
    float2  _S46;
    if(is_fisheye_0)
    {
        float r_6 = length_0(uv_2);
        float theta_0 = (F32_atan((r_6)));
        float _S47;
        if(r_6 < 0.00100000004749745f)
        {
            _S47 = 1.0f - r_6 * r_6 / 3.0f;
        }
        else
        {
            _S47 = theta_0 / r_6;
        }
        _S46 = uv_2 * make_float2 (_S47);
    }
    else
    {
        _S46 = uv_2;
    }
    float u_1 = _S46.x;
    float v_1 = _S46.y;
    float r2_1 = u_1 * u_1 + v_1 * v_1;
    float2  _S48 = _S46 * make_float2 (1.0f + r2_1 * ((*dist_coeffs_2)[int(0)] + r2_1 * ((*dist_coeffs_2)[int(1)] + r2_1 * ((*dist_coeffs_2)[int(2)] + r2_1 * (*dist_coeffs_2)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_2)[int(4)] * u_1 * v_1 + (*dist_coeffs_2)[int(5)] * (r2_1 + 2.0f * u_1 * u_1) + (*dist_coeffs_2)[int(6)] * r2_1, 2.0f * (*dist_coeffs_2)[int(5)] * u_1 * v_1 + (*dist_coeffs_2)[int(4)] * (r2_1 + 2.0f * v_1 * v_1) + (*dist_coeffs_2)[int(7)] * r2_1);
    return _S48 + make_float2 ((*dist_coeffs_2)[int(8)] * _S48.x + (*dist_coeffs_2)[int(9)] * _S48.y, 0.0f);
}

inline __device__ bool undistort_point_0(float2  uv_3, FixedArray<float, 10>  * dist_coeffs_3, int maxiter_0, float2  * uv_undist_0)
{
    int i_6 = int(0);
    float2  q_0 = uv_3;
    for(;;)
    {
        if(i_6 < maxiter_0)
        {
        }
        else
        {
            break;
        }
        float u_2 = q_0.x;
        float v_2 = q_0.y;
        float r2_2 = u_2 * u_2 + v_2 * v_2;
        float2  _S49 = q_0 * make_float2 (1.0f + r2_2 * ((*dist_coeffs_3)[int(0)] + r2_2 * ((*dist_coeffs_3)[int(1)] + r2_2 * ((*dist_coeffs_3)[int(2)] + r2_2 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_2 * v_2 + (*dist_coeffs_3)[int(5)] * (r2_2 + 2.0f * u_2 * u_2) + (*dist_coeffs_3)[int(6)] * r2_2, 2.0f * (*dist_coeffs_3)[int(5)] * u_2 * v_2 + (*dist_coeffs_3)[int(4)] * (r2_2 + 2.0f * v_2 * v_2) + (*dist_coeffs_3)[int(7)] * r2_2);
        float2  r_7 = _S49 + make_float2 ((*dist_coeffs_3)[int(8)] * _S49.x + (*dist_coeffs_3)[int(9)] * _S49.y, 0.0f) - uv_3;
        Matrix<float, 2, 2>  _S50 = camera_distortion_jac_0(q_0, dist_coeffs_3);
        float inv_det_0 = 1.0f / (_S50.rows[int(0)].x * _S50.rows[int(1)].y - _S50.rows[int(0)].y * _S50.rows[int(1)].x);
        float _S51 = r_7.x;
        float _S52 = r_7.y;
        float2  q_1 = q_0 - make_float2 ((_S51 * _S50.rows[int(1)].y - _S52 * _S50.rows[int(0)].y) * inv_det_0, (- _S51 * _S50.rows[int(1)].x + _S52 * _S50.rows[int(0)].x) * inv_det_0);
        i_6 = i_6 + int(1);
        q_0 = q_1;
    }
    *uv_undist_0 = q_0;
    Matrix<float, 2, 2>  _S53 = camera_distortion_jac_0(q_0, dist_coeffs_3);
    bool _S54;
    if((F32_min((determinant_0(_S53)), ((F32_min((_S53.rows[int(0)].x), (_S53.rows[int(1)].y)))))) > 0.0f)
    {
        float u_3 = (*uv_undist_0).x;
        float v_3 = (*uv_undist_0).y;
        float r2_3 = u_3 * u_3 + v_3 * v_3;
        float2  _S55 = *uv_undist_0 * make_float2 (1.0f + r2_3 * ((*dist_coeffs_3)[int(0)] + r2_3 * ((*dist_coeffs_3)[int(1)] + r2_3 * ((*dist_coeffs_3)[int(2)] + r2_3 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_3 * v_3 + (*dist_coeffs_3)[int(5)] * (r2_3 + 2.0f * u_3 * u_3) + (*dist_coeffs_3)[int(6)] * r2_3, 2.0f * (*dist_coeffs_3)[int(5)] * u_3 * v_3 + (*dist_coeffs_3)[int(4)] * (r2_3 + 2.0f * v_3 * v_3) + (*dist_coeffs_3)[int(7)] * r2_3);
        _S54 = (length_0(_S55 + make_float2 ((*dist_coeffs_3)[int(8)] * _S55.x + (*dist_coeffs_3)[int(9)] * _S55.y, 0.0f) - uv_3)) < 0.00999999977648258f;
    }
    else
    {
        _S54 = false;
    }
    return _S54;
}

inline __device__ bool undistort_point(float2  uv_4, bool is_fisheye_1, FixedArray<float, 10>  * dist_coeffs_4, float2  * uv_undist_1)
{
    float2  _S56 = uv_4;
    bool _S57 = undistort_point_0(uv_4, dist_coeffs_4, int(8), &_S56);
    if(!_S57)
    {
        return false;
    }
    float3  raydir_0;
    if(is_fisheye_1)
    {
        float2  _S58 = _S56;
        float theta_1 = length_0(_S56);
        float _S59;
        if(theta_1 < 0.00100000004749745f)
        {
            _S59 = 1.0f - theta_1 * theta_1 / 6.0f;
        }
        else
        {
            _S59 = (F32_sin((theta_1))) / theta_1;
        }
        float3  _S60 = make_float3 ((_S58 * make_float2 (_S59)).x, (_S58 * make_float2 (_S59)).y, (F32_cos((theta_1))));
        raydir_0 = _S60;
    }
    else
    {
        raydir_0 = make_float3 (_S56.x, _S56.y, 1.0f);
    }
    *uv_undist_1 = float2 {raydir_0.x, raydir_0.y} / make_float2 ((F32_max((raydir_0.z), (9.999999960041972e-13f))));
    return true;
}

inline __device__ bool unproject_point(float2  uv_5, bool is_fisheye_2, FixedArray<float, 10>  * dist_coeffs_5, float3  * raydir_1)
{
    float2  _S61 = uv_5;
    int3  _S62 = make_int3 (int(0));
    float3  _S63 = make_float3 ((float)_S62.x, (float)_S62.y, (float)_S62.z);
    *raydir_1 = _S63;
    bool _S64 = undistort_point_0(uv_5, dist_coeffs_5, int(8), &_S61);
    if(!_S64)
    {
        return false;
    }
    float3  _S65;
    if(is_fisheye_2)
    {
        float2  _S66 = _S61;
        float theta_2 = length_0(_S61);
        float _S67;
        if(theta_2 < 0.00100000004749745f)
        {
            _S67 = 1.0f - theta_2 * theta_2 / 6.0f;
        }
        else
        {
            _S67 = (F32_sin((theta_2))) / theta_2;
        }
        float3  _S68 = make_float3 ((_S66 * make_float2 (_S67)).x, (_S66 * make_float2 (_S67)).y, (F32_cos((theta_2))));
        _S65 = _S68;
    }
    else
    {
        _S65 = make_float3 (_S61.x, _S61.y, 1.0f);
    }
    *raydir_1 = _S65;
    return true;
}

inline __device__ float3  normalize_0(float3  x_10)
{
    return x_10 / make_float3 (length_1(x_10));
}

inline __device__ bool generate_ray(float2  uv_6, bool is_fisheye_3, FixedArray<float, 10>  * dist_coeffs_6, float3  * raydir_2)
{
    float2  _S69 = uv_6;
    bool _S70 = undistort_point_0(uv_6, dist_coeffs_6, int(8), &_S69);
    if(!_S70)
    {
        int3  _S71 = make_int3 (int(0));
        float3  _S72 = make_float3 ((float)_S71.x, (float)_S71.y, (float)_S71.z);
        *raydir_2 = _S72;
        return false;
    }
    float3  _S73;
    if(is_fisheye_3)
    {
        float2  _S74 = _S69;
        float theta_3 = length_0(_S69);
        float _S75;
        if(theta_3 < 0.00100000004749745f)
        {
            _S75 = 1.0f - theta_3 * theta_3 / 6.0f;
        }
        else
        {
            _S75 = (F32_sin((theta_3))) / theta_3;
        }
        float3  _S76 = make_float3 ((_S74 * make_float2 (_S75)).x, (_S74 * make_float2 (_S75)).y, (F32_cos((theta_3))));
        _S73 = _S76;
    }
    else
    {
        _S73 = make_float3 (_S69.x, _S69.y, 1.0f);
    }
    *raydir_2 = normalize_0(_S73);
    return true;
}

inline __device__ void _d_mul_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * left_8, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_8, float3  dOut_8)
{
    float _S77 = (*right_8).primal_0.rows[int(0)].x * dOut_8.x;
    Matrix<float, 3, 3>  right_d_result_4;
    *&(((&right_d_result_4)->rows + (int(0)))->x) = (*left_8).primal_0.x * dOut_8.x;
    float sum_14 = _S77 + (*right_8).primal_0.rows[int(0)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(0)))->y) = (*left_8).primal_0.x * dOut_8.y;
    float sum_15 = sum_14 + (*right_8).primal_0.rows[int(0)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(0)))->z) = (*left_8).primal_0.x * dOut_8.z;
    float3  left_d_result_4;
    *&((&left_d_result_4)->x) = sum_15;
    float _S78 = (*right_8).primal_0.rows[int(1)].x * dOut_8.x;
    *&(((&right_d_result_4)->rows + (int(1)))->x) = (*left_8).primal_0.y * dOut_8.x;
    float sum_16 = _S78 + (*right_8).primal_0.rows[int(1)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(1)))->y) = (*left_8).primal_0.y * dOut_8.y;
    float sum_17 = sum_16 + (*right_8).primal_0.rows[int(1)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(1)))->z) = (*left_8).primal_0.y * dOut_8.z;
    *&((&left_d_result_4)->y) = sum_17;
    float _S79 = (*right_8).primal_0.rows[int(2)].x * dOut_8.x;
    *&(((&right_d_result_4)->rows + (int(2)))->x) = (*left_8).primal_0.z * dOut_8.x;
    float sum_18 = _S79 + (*right_8).primal_0.rows[int(2)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(2)))->y) = (*left_8).primal_0.z * dOut_8.y;
    float sum_19 = sum_18 + (*right_8).primal_0.rows[int(2)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(2)))->z) = (*left_8).primal_0.z * dOut_8.z;
    *&((&left_d_result_4)->z) = sum_19;
    left_8->primal_0 = (*left_8).primal_0;
    left_8->differential_0 = left_d_result_4;
    right_8->primal_0 = (*right_8).primal_0;
    right_8->differential_0 = right_d_result_4;
    return;
}

inline __device__ float3  mul_7(float3  left_9, Matrix<float, 3, 3>  right_9)
{
    float3  result_11;
    int j_1 = int(0);
    for(;;)
    {
        if(j_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int i_7 = int(0);
        float sum_20 = 0.0f;
        for(;;)
        {
            if(i_7 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_21 = sum_20 + _slang_vector_get_element(left_9, i_7) * _slang_vector_get_element(right_9.rows[i_7], j_1);
            i_7 = i_7 + int(1);
            sum_20 = sum_21;
        }
        *_slang_vector_get_element_ptr(&result_11, j_1) = sum_20;
        j_1 = j_1 + int(1);
    }
    return result_11;
}

inline __device__ float3  transform_ray_o(Matrix<float, 3, 3>  R_2, float3  t_1)
{
    return - mul_7(t_1, R_2);
}

inline __device__ float3  transform_ray_d(Matrix<float, 3, 3>  R_3, float3  raydir_3)
{
    return mul_7(raydir_3, R_3);
}

inline __device__ float3  undo_transform_ray_d(Matrix<float, 3, 3>  R_4, float3  raydir_4)
{
    return mul_7(raydir_4, transpose_0(R_4));
}

inline __device__ void s_bwd_prop_mul_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S80, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S81, float3  _S82)
{
    _d_mul_1(_S80, _S81, _S82);
    return;
}

inline __device__ void s_bwd_prop_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_0, float3  _s_dOut_0)
{
    float3  _S83 = - _s_dOut_0;
    float3  _S84 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S85;
    (&_S85)->primal_0 = (*dpt_0).primal_0;
    (&_S85)->differential_0 = _S84;
    Matrix<float, 3, 3>  _S86 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S87;
    (&_S87)->primal_0 = (*dpR_0).primal_0;
    (&_S87)->differential_0 = _S86;
    s_bwd_prop_mul_0(&_S85, &_S87, _S83);
    dpt_0->primal_0 = (*dpt_0).primal_0;
    dpt_0->differential_0 = _S85.differential_0;
    dpR_0->primal_0 = (*dpR_0).primal_0;
    dpR_0->differential_0 = _S87.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S88, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S89, float3  _S90)
{
    s_bwd_prop_transform_ray_o_0(_S88, _S89, _S90);
    return;
}

inline __device__ void transform_ray_o_vjp(Matrix<float, 3, 3>  R_5, float3  t_2, float3  v_ray_o_0, Matrix<float, 3, 3>  * v_R_0, float3  * v_t_0)
{
    Matrix<float, 3, 3>  _S91 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_0;
    (&dp_R_0)->primal_0 = R_5;
    (&dp_R_0)->differential_0 = _S91;
    float3  _S92 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_0;
    (&dp_t_0)->primal_0 = t_2;
    (&dp_t_0)->differential_0 = _S92;
    s_bwd_transform_ray_o_0(&dp_R_0, &dp_t_0, v_ray_o_0);
    *v_R_0 = dp_R_0.differential_0;
    *v_t_0 = dp_t_0.differential_0;
    return;
}

inline __device__ void s_bwd_prop_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpraydir_0, float3  _s_dOut_1)
{
    float3  _S93 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S94;
    (&_S94)->primal_0 = (*dpraydir_0).primal_0;
    (&_S94)->differential_0 = _S93;
    Matrix<float, 3, 3>  _S95 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S96;
    (&_S96)->primal_0 = (*dpR_1).primal_0;
    (&_S96)->differential_0 = _S95;
    s_bwd_prop_mul_0(&_S94, &_S96, _s_dOut_1);
    dpraydir_0->primal_0 = (*dpraydir_0).primal_0;
    dpraydir_0->differential_0 = _S94.differential_0;
    dpR_1->primal_0 = (*dpR_1).primal_0;
    dpR_1->differential_0 = _S96.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S97, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S98, float3  _S99)
{
    s_bwd_prop_transform_ray_d_0(_S97, _S98, _S99);
    return;
}

inline __device__ void transform_ray_d_vjp(Matrix<float, 3, 3>  R_6, float3  raydir_5, float3  v_ray_d_0, Matrix<float, 3, 3>  * v_R_1, float3  * v_raydir_0)
{
    Matrix<float, 3, 3>  _S100 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_1;
    (&dp_R_1)->primal_0 = R_6;
    (&dp_R_1)->differential_0 = _S100;
    float3  _S101 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_raydir_0;
    (&dp_raydir_0)->primal_0 = raydir_5;
    (&dp_raydir_0)->differential_0 = _S101;
    s_bwd_transform_ray_d_0(&dp_R_1, &dp_raydir_0, v_ray_d_0);
    *v_R_1 = dp_R_1.differential_0;
    *v_raydir_0 = dp_raydir_0.differential_0;
    return;
}

inline __device__ void _d_exp_0(DiffPair_float_0 * dpx_6, float dOut_9)
{
    float _S102 = (F32_exp(((*dpx_6).primal_0))) * dOut_9;
    dpx_6->primal_0 = (*dpx_6).primal_0;
    dpx_6->differential_0 = _S102;
    return;
}

inline __device__ DiffPair_float_0 _d_exp_1(DiffPair_float_0 * dpx_7)
{
    float _S103 = (F32_exp((dpx_7->primal_0)));
    DiffPair_float_0 _S104 = { _S103, _S103 * dpx_7->differential_0 };
    return _S104;
}

inline __device__ void map_opaque_triangle(float3  mean_0, float4  quat_3, float3  scale_2, float3  * vert0_0, float3  * vert1_0, float3  * vert2_0)
{
    float _S105 = scale_2.x;
    float sx_0 = (F32_exp((_S105)));
    float _S106 = scale_2.y;
    float sy_0 = (F32_exp((_S106)));
    float sz_0 = scale_2.z - 0.5f * (_S105 + _S106);
    float x_11 = quat_3.y;
    float x2_3 = x_11 * x_11;
    float y2_3 = quat_3.z * quat_3.z;
    float z2_3 = quat_3.w * quat_3.w;
    float xy_3 = quat_3.y * quat_3.z;
    float xz_3 = quat_3.y * quat_3.w;
    float yz_3 = quat_3.z * quat_3.w;
    float wx_3 = quat_3.x * quat_3.y;
    float wy_3 = quat_3.x * quat_3.z;
    float wz_3 = quat_3.x * quat_3.w;
    Matrix<float, 3, 3>  _S107 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_3 + z2_3), 2.0f * (xy_3 + wz_3), 2.0f * (xz_3 - wy_3), 2.0f * (xy_3 - wz_3), 1.0f - 2.0f * (x2_3 + z2_3), 2.0f * (yz_3 + wx_3), 2.0f * (xz_3 + wy_3), 2.0f * (yz_3 - wx_3), 1.0f - 2.0f * (x2_3 + y2_3)));
    *vert0_0 = mul_0(_S107, make_float3 (sx_0, 0.0f, 0.0f)) + mean_0;
    *vert1_0 = mul_0(_S107, make_float3 (sx_0 * (-0.5f + sz_0), sy_0, 0.0f)) + mean_0;
    *vert2_0 = mul_0(_S107, make_float3 (sx_0 * (-0.5f - sz_0), - sy_0, 0.0f)) + mean_0;
    return;
}

inline __device__ void _d_clamp_0(DiffPair_float_0 * dpx_8, DiffPair_float_0 * dpMin_0, DiffPair_float_0 * dpMax_0, float dOut_10)
{
    DiffPair_float_0 _S108 = *dpx_8;
    bool _S109;
    if(((*dpx_8).primal_0) >= ((*dpMin_0).primal_0))
    {
        _S109 = ((*dpx_8).primal_0) <= ((*dpMax_0).primal_0);
    }
    else
    {
        _S109 = false;
    }
    float _S110;
    if(_S109)
    {
        _S110 = dOut_10;
    }
    else
    {
        _S110 = 0.0f;
    }
    dpx_8->primal_0 = _S108.primal_0;
    dpx_8->differential_0 = _S110;
    DiffPair_float_0 _S111 = *dpMin_0;
    if((_S108.primal_0) < ((*dpMin_0).primal_0))
    {
        _S110 = dOut_10;
    }
    else
    {
        _S110 = 0.0f;
    }
    dpMin_0->primal_0 = _S111.primal_0;
    dpMin_0->differential_0 = _S110;
    DiffPair_float_0 _S112 = *dpMax_0;
    if(((*dpx_8).primal_0) > ((*dpMax_0).primal_0))
    {
        _S110 = dOut_10;
    }
    else
    {
        _S110 = 0.0f;
    }
    dpMax_0->primal_0 = _S112.primal_0;
    dpMax_0->differential_0 = _S110;
    return;
}

inline __device__ float clamp_0(float x_12, float minBound_0, float maxBound_0)
{
    return (F32_min(((F32_max((x_12), (minBound_0)))), (maxBound_0)));
}

inline __device__ bool persp_proj_3dgs_0(float3  mean3d_0, Matrix<float, 3, 3>  cov3d_0, float4  intrins_0, FixedArray<float, 10>  * dist_coeffs_7, uint width_0, uint height_0, Matrix<float, 2, 2>  * cov2d_0, float2  * mean2d_0)
{
    bool _S113;
    float2  _S114;
    float _S115;
    float cx_0 = intrins_0.z;
    float cy_0 = intrins_0.w;
    for(;;)
    {
        float2  _S116 = float2 {mean3d_0.x, mean3d_0.y};
        _S114 = _S116;
        float _S117 = mean3d_0.z;
        _S115 = _S117;
        *mean2d_0 = _S116 / make_float2 (_S117);
        if(_S117 < 0.0f)
        {
            _S113 = true;
        }
        else
        {
            Matrix<float, 2, 2>  _S118 = camera_distortion_jac_0(*mean2d_0, dist_coeffs_7);
            _S113 = !((F32_min((determinant_0(_S118)), ((F32_min((_S118.rows[int(0)].x), (_S118.rows[int(1)].y)))))) > 0.0f);
        }
        if(_S113)
        {
            break;
        }
        float u_4 = (*mean2d_0).x;
        float v_4 = (*mean2d_0).y;
        float r2_4 = u_4 * u_4 + v_4 * v_4;
        float2  _S119 = *mean2d_0 * make_float2 (1.0f + r2_4 * ((*dist_coeffs_7)[int(0)] + r2_4 * ((*dist_coeffs_7)[int(1)] + r2_4 * ((*dist_coeffs_7)[int(2)] + r2_4 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_4 * v_4 + (*dist_coeffs_7)[int(5)] * (r2_4 + 2.0f * u_4 * u_4) + (*dist_coeffs_7)[int(6)] * r2_4, 2.0f * (*dist_coeffs_7)[int(5)] * u_4 * v_4 + (*dist_coeffs_7)[int(4)] * (r2_4 + 2.0f * v_4 * v_4) + (*dist_coeffs_7)[int(7)] * r2_4);
        float2  _S120 = _S119 + make_float2 ((*dist_coeffs_7)[int(8)] * _S119.x + (*dist_coeffs_7)[int(9)] * _S119.y, 0.0f);
        *mean2d_0 = make_float2 (intrins_0.x * _S120.x + cx_0, intrins_0.y * _S120.y + cy_0);
        break;
    }
    if(!!_S113)
    {
        return false;
    }
    Matrix<float, 2, 3>  J_0;
    float2  _S121 = make_float2 (0.0f);
    float2  seed_0 = _S121;
    *&((&seed_0)->x) = 1.0f;
    float2  _S122 = make_float2 (_S115);
    float2  _S123 = _S114 / make_float2 (_S115);
    float2  _S124 = make_float2 (_S115 * _S115);
    float u_5 = _S123.x;
    float v_5 = _S123.y;
    float r2_5 = u_5 * u_5 + v_5 * v_5;
    float _S125 = (*dist_coeffs_7)[int(2)] + r2_5 * (*dist_coeffs_7)[int(3)];
    float _S126 = (*dist_coeffs_7)[int(1)] + r2_5 * _S125;
    float _S127 = (*dist_coeffs_7)[int(0)] + r2_5 * _S126;
    float _S128 = 2.0f * (*dist_coeffs_7)[int(4)];
    float _S129 = 2.0f * (*dist_coeffs_7)[int(5)];
    float fx_0 = intrins_0.x;
    float fy_0 = intrins_0.y;
    float _S130 = fx_0 * seed_0.x;
    float2  _S131 = make_float2 (_S130, fy_0 * seed_0.y) + make_float2 ((*dist_coeffs_7)[int(8)] * _S130, (*dist_coeffs_7)[int(9)] * _S130);
    float2  _S132 = _S123 * _S131;
    float _S133 = (*dist_coeffs_7)[int(4)] * _S131.y;
    float _S134 = (*dist_coeffs_7)[int(5)] * _S131.x;
    float _S135 = _S132.x + _S132.y;
    float _S136 = r2_5 * _S135;
    float _S137 = r2_5 * _S136;
    float _S138 = (*dist_coeffs_7)[int(7)] * _S131.y + _S133 + (*dist_coeffs_7)[int(6)] * _S131.x + _S134 + _S127 * _S135 + _S126 * _S136 + _S125 * _S137 + (*dist_coeffs_7)[int(3)] * (r2_5 * _S137);
    float _S139 = v_5 * _S138;
    float _S140 = u_5 * _S138;
    float2  _S141 = (make_float2 (1.0f + r2_5 * _S127) * _S131 + make_float2 (_S129 * (v_5 * _S131.y) + 2.0f * u_5 * _S134 + 2.0f * (u_5 * _S134) + _S128 * (v_5 * _S131.x) + _S140 + _S140, 2.0f * v_5 * _S133 + 2.0f * (v_5 * _S133) + _S129 * u_5 * _S131.y + _S128 * u_5 * _S131.x + _S139 + _S139)) / _S124;
    float2  _S142 = _S114 * - _S141;
    float2  _S143 = _S122 * _S141;
    Matrix<float, 2, 3>  J_1;
    J_1[int(0)] = make_float3 (_S143.x, _S143.y, _S142.x + _S142.y);
    float2  seed_1 = _S121;
    *&((&seed_1)->y) = 1.0f;
    float2  _S144 = _S114 / make_float2 (_S115);
    float u_6 = _S144.x;
    float v_6 = _S144.y;
    float r2_6 = u_6 * u_6 + v_6 * v_6;
    float _S145 = (*dist_coeffs_7)[int(2)] + r2_6 * (*dist_coeffs_7)[int(3)];
    float _S146 = (*dist_coeffs_7)[int(1)] + r2_6 * _S145;
    float _S147 = (*dist_coeffs_7)[int(0)] + r2_6 * _S146;
    float _S148 = fx_0 * seed_1.x;
    float2  _S149 = make_float2 (_S148, fy_0 * seed_1.y) + make_float2 ((*dist_coeffs_7)[int(8)] * _S148, (*dist_coeffs_7)[int(9)] * _S148);
    float2  _S150 = _S144 * _S149;
    float _S151 = (*dist_coeffs_7)[int(4)] * _S149.y;
    float _S152 = (*dist_coeffs_7)[int(5)] * _S149.x;
    float _S153 = _S150.x + _S150.y;
    float _S154 = r2_6 * _S153;
    float _S155 = r2_6 * _S154;
    float _S156 = (*dist_coeffs_7)[int(7)] * _S149.y + _S151 + (*dist_coeffs_7)[int(6)] * _S149.x + _S152 + _S147 * _S153 + _S146 * _S154 + _S145 * _S155 + (*dist_coeffs_7)[int(3)] * (r2_6 * _S155);
    float _S157 = v_6 * _S156;
    float _S158 = u_6 * _S156;
    float2  _S159 = (make_float2 (1.0f + r2_6 * _S147) * _S149 + make_float2 (_S129 * (v_6 * _S149.y) + 2.0f * u_6 * _S152 + 2.0f * (u_6 * _S152) + _S128 * (v_6 * _S149.x) + _S158 + _S158, 2.0f * v_6 * _S151 + 2.0f * (v_6 * _S151) + _S129 * u_6 * _S149.y + _S128 * u_6 * _S149.x + _S157 + _S157)) / _S124;
    float2  _S160 = _S114 * - _S159;
    float2  _S161 = _S122 * _S159;
    J_1[int(1)] = make_float3 (_S161.x, _S161.y, _S160.x + _S160.y);
    J_0 = J_1;
    float _S162 = float(width_0);
    float _S163 = 0.30000001192092896f * (0.5f * _S162);
    float lim_x_pos_0 = _S162 + _S163;
    float rz_0 = 1.0f / _S115;
    float _S164 = - _S163;
    float max_Jyz_0 = - (_S164 - cy_0) * rz_0;
    float min_Jyz_0 = - (lim_x_pos_0 - cy_0) * rz_0;
    *&(((&J_0)->rows + (int(0)))->z) = clamp_0(*&(((&J_0)->rows + (int(0)))->z), - (lim_x_pos_0 - cx_0) * rz_0, - (_S164 - cx_0) * rz_0);
    *&(((&J_0)->rows + (int(1)))->z) = clamp_0(*&(((&J_0)->rows + (int(1)))->z), min_Jyz_0, max_Jyz_0);
    *cov2d_0 = mul_6(mul_5(J_0, cov3d_0), transpose_1(J_0));
    return true;
}

inline __device__ bool persp_proj_3dgs_1(float3  mean3d_1, Matrix<float, 3, 3>  cov3d_1, float4  intrins_1, FixedArray<float, 10>  * dist_coeffs_8, uint width_1, uint height_1, Matrix<float, 2, 2>  * cov2d_1, float2  * mean2d_1)
{
    float cx_1 = intrins_1.z;
    float cy_1 = intrins_1.w;
    float2  _S165 = float2 {mean3d_1.x, mean3d_1.y};
    float _S166 = mean3d_1.z;
    float2  _S167 = _S165 / make_float2 (_S166);
    float u_7 = _S167.x;
    float v_7 = _S167.y;
    float r2_7 = u_7 * u_7 + v_7 * v_7;
    float _S168 = 2.0f * (*dist_coeffs_8)[int(4)];
    float _S169 = 2.0f * (*dist_coeffs_8)[int(5)];
    float2  _S170 = _S167 * make_float2 (1.0f + r2_7 * ((*dist_coeffs_8)[int(0)] + r2_7 * ((*dist_coeffs_8)[int(1)] + r2_7 * ((*dist_coeffs_8)[int(2)] + r2_7 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S168 * u_7 * v_7 + (*dist_coeffs_8)[int(5)] * (r2_7 + 2.0f * u_7 * u_7) + (*dist_coeffs_8)[int(6)] * r2_7, _S169 * u_7 * v_7 + (*dist_coeffs_8)[int(4)] * (r2_7 + 2.0f * v_7 * v_7) + (*dist_coeffs_8)[int(7)] * r2_7);
    float2  _S171 = _S170 + make_float2 ((*dist_coeffs_8)[int(8)] * _S170.x + (*dist_coeffs_8)[int(9)] * _S170.y, 0.0f);
    float fx_1 = intrins_1.x;
    float fy_1 = intrins_1.y;
    *mean2d_1 = make_float2 (fx_1 * _S171.x + cx_1, fy_1 * _S171.y + cy_1);
    float2  _S172 = make_float2 (0.0f);
    float2  seed_2 = _S172;
    *&((&seed_2)->x) = 1.0f;
    float2  _S173 = make_float2 (_S166);
    float2  _S174 = _S165 / make_float2 (_S166);
    float2  _S175 = make_float2 (_S166 * _S166);
    float u_8 = _S174.x;
    float v_8 = _S174.y;
    float r2_8 = u_8 * u_8 + v_8 * v_8;
    float _S176 = (*dist_coeffs_8)[int(2)] + r2_8 * (*dist_coeffs_8)[int(3)];
    float _S177 = (*dist_coeffs_8)[int(1)] + r2_8 * _S176;
    float _S178 = (*dist_coeffs_8)[int(0)] + r2_8 * _S177;
    float _S179 = fx_1 * seed_2.x;
    float2  _S180 = make_float2 (_S179, fy_1 * seed_2.y) + make_float2 ((*dist_coeffs_8)[int(8)] * _S179, (*dist_coeffs_8)[int(9)] * _S179);
    float2  _S181 = _S174 * _S180;
    float _S182 = (*dist_coeffs_8)[int(4)] * _S180.y;
    float _S183 = (*dist_coeffs_8)[int(5)] * _S180.x;
    float _S184 = _S181.x + _S181.y;
    float _S185 = r2_8 * _S184;
    float _S186 = r2_8 * _S185;
    float _S187 = (*dist_coeffs_8)[int(7)] * _S180.y + _S182 + (*dist_coeffs_8)[int(6)] * _S180.x + _S183 + _S178 * _S184 + _S177 * _S185 + _S176 * _S186 + (*dist_coeffs_8)[int(3)] * (r2_8 * _S186);
    float _S188 = v_8 * _S187;
    float _S189 = u_8 * _S187;
    float2  _S190 = (make_float2 (1.0f + r2_8 * _S178) * _S180 + make_float2 (_S169 * (v_8 * _S180.y) + 2.0f * u_8 * _S183 + 2.0f * (u_8 * _S183) + _S168 * (v_8 * _S180.x) + _S189 + _S189, 2.0f * v_8 * _S182 + 2.0f * (v_8 * _S182) + _S169 * u_8 * _S180.y + _S168 * u_8 * _S180.x + _S188 + _S188)) / _S175;
    float2  _S191 = _S165 * - _S190;
    float2  _S192 = _S173 * _S190;
    Matrix<float, 2, 3>  J_2;
    J_2[int(0)] = make_float3 (_S192.x, _S192.y, _S191.x + _S191.y);
    float2  seed_3 = _S172;
    *&((&seed_3)->y) = 1.0f;
    float2  _S193 = _S165 / make_float2 (_S166);
    float u_9 = _S193.x;
    float v_9 = _S193.y;
    float r2_9 = u_9 * u_9 + v_9 * v_9;
    float _S194 = (*dist_coeffs_8)[int(2)] + r2_9 * (*dist_coeffs_8)[int(3)];
    float _S195 = (*dist_coeffs_8)[int(1)] + r2_9 * _S194;
    float _S196 = (*dist_coeffs_8)[int(0)] + r2_9 * _S195;
    float _S197 = fx_1 * seed_3.x;
    float2  _S198 = make_float2 (_S197, fy_1 * seed_3.y) + make_float2 ((*dist_coeffs_8)[int(8)] * _S197, (*dist_coeffs_8)[int(9)] * _S197);
    float2  _S199 = _S193 * _S198;
    float _S200 = (*dist_coeffs_8)[int(4)] * _S198.y;
    float _S201 = (*dist_coeffs_8)[int(5)] * _S198.x;
    float _S202 = _S199.x + _S199.y;
    float _S203 = r2_9 * _S202;
    float _S204 = r2_9 * _S203;
    float _S205 = (*dist_coeffs_8)[int(7)] * _S198.y + _S200 + (*dist_coeffs_8)[int(6)] * _S198.x + _S201 + _S196 * _S202 + _S195 * _S203 + _S194 * _S204 + (*dist_coeffs_8)[int(3)] * (r2_9 * _S204);
    float _S206 = v_9 * _S205;
    float _S207 = u_9 * _S205;
    float2  _S208 = (make_float2 (1.0f + r2_9 * _S196) * _S198 + make_float2 (_S169 * (v_9 * _S198.y) + 2.0f * u_9 * _S201 + 2.0f * (u_9 * _S201) + _S168 * (v_9 * _S198.x) + _S207 + _S207, 2.0f * v_9 * _S200 + 2.0f * (v_9 * _S200) + _S169 * u_9 * _S198.y + _S168 * u_9 * _S198.x + _S206 + _S206)) / _S175;
    float2  _S209 = _S165 * - _S208;
    float2  _S210 = _S173 * _S208;
    J_2[int(1)] = make_float3 (_S210.x, _S210.y, _S209.x + _S209.y);
    Matrix<float, 2, 3>  J_3 = J_2;
    float _S211 = float(width_1);
    float _S212 = 0.30000001192092896f * (0.5f * _S211);
    float lim_x_pos_1 = _S211 + _S212;
    float rz_1 = 1.0f / _S166;
    float _S213 = - _S212;
    float max_Jyz_1 = - (_S213 - cy_1) * rz_1;
    float min_Jyz_1 = - (lim_x_pos_1 - cy_1) * rz_1;
    *&(((&J_3)->rows + (int(0)))->z) = clamp_0(*&(((&J_3)->rows + (int(0)))->z), - (lim_x_pos_1 - cx_1) * rz_1, - (_S213 - cx_1) * rz_1);
    *&(((&J_3)->rows + (int(1)))->z) = clamp_0(*&(((&J_3)->rows + (int(1)))->z), min_Jyz_1, max_Jyz_1);
    *cov2d_1 = mul_6(mul_5(J_3, cov3d_1), transpose_1(J_3));
    return true;
}

struct SigmaPoints_0
{
    FixedArray<float3 , 7>  p_0;
    FixedArray<float, 7>  w_mean_0;
    FixedArray<float, 7>  w_cov_0;
};

inline __device__ bool persp_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_0, float4  intrins_2, FixedArray<float, 10>  * dist_coeffs_9, uint width_2, uint height_2, Matrix<float, 2, 2>  * cov2d_2, float2  * mean2d_2)
{
    float2  * _S214;
    float2  * _S215;
    float2  * _S216;
    bool _S217;
    float2  * _S218;
    float2  * _S219;
    float2  * _S220;
    bool _S221;
    float2  * _S222;
    bool _S223;
    int2  _S224 = make_int2 (int(0));
    float2  _S225 = make_float2 ((float)_S224.x, (float)_S224.y);
    *mean2d_2 = _S225;
    *cov2d_2 = makeMatrix<float, 2, 2> (0.0f);
    float fx_2 = intrins_2.x;
    float fy_2 = intrins_2.y;
    float _S226 = float(width_2);
    float _S227 = float(height_2);
    float _S228 = 0.30000001192092896f * (0.5f * _S226 / fx_2) * fx_2;
    float lim_x_pos_2 = _S226 + _S228;
    float _S229 = 0.30000001192092896f * (0.5f * _S227 / fy_2) * fy_2;
    float lim_y_pos_0 = _S227 + _S229;
    FixedArray<float2 , 7>  proj_points_0;
    for(;;)
    {
        bool _S230;
        _S214 = &proj_points_0[int(0)];
        for(;;)
        {
            float _S231 = sigmas_0->p_0[int(0)].z;
            proj_points_0[int(0)] = float2 {sigmas_0->p_0[int(0)].x, sigmas_0->p_0[int(0)].y} / make_float2 (_S231);
            if(_S231 < 0.0f)
            {
                _S230 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S232 = camera_distortion_jac_0(proj_points_0[int(0)], dist_coeffs_9);
                _S230 = !((F32_min((determinant_0(_S232)), ((F32_min((_S232.rows[int(0)].x), (_S232.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S230)
            {
                break;
            }
            float u_10 = proj_points_0[int(0)].x;
            float v_10 = proj_points_0[int(0)].y;
            float r2_10 = u_10 * u_10 + v_10 * v_10;
            float2  _S233 = proj_points_0[int(0)] * make_float2 (1.0f + r2_10 * ((*dist_coeffs_9)[int(0)] + r2_10 * ((*dist_coeffs_9)[int(1)] + r2_10 * ((*dist_coeffs_9)[int(2)] + r2_10 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_10 * v_10 + (*dist_coeffs_9)[int(5)] * (r2_10 + 2.0f * u_10 * u_10) + (*dist_coeffs_9)[int(6)] * r2_10, 2.0f * (*dist_coeffs_9)[int(5)] * u_10 * v_10 + (*dist_coeffs_9)[int(4)] * (r2_10 + 2.0f * v_10 * v_10) + (*dist_coeffs_9)[int(7)] * r2_10);
            float2  _S234 = _S233 + make_float2 ((*dist_coeffs_9)[int(8)] * _S233.x + (*dist_coeffs_9)[int(9)] * _S233.y, 0.0f);
            proj_points_0[int(0)] = make_float2 (fx_2 * _S234.x + intrins_2.z, fy_2 * _S234.y + intrins_2.w);
            break;
        }
        bool all_valid_0 = true & (!_S230);
        _S215 = &proj_points_0[int(1)];
        for(;;)
        {
            float _S235 = sigmas_0->p_0[int(1)].z;
            proj_points_0[int(1)] = float2 {sigmas_0->p_0[int(1)].x, sigmas_0->p_0[int(1)].y} / make_float2 (_S235);
            if(_S235 < 0.0f)
            {
                _S230 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S236 = camera_distortion_jac_0(proj_points_0[int(1)], dist_coeffs_9);
                _S230 = !((F32_min((determinant_0(_S236)), ((F32_min((_S236.rows[int(0)].x), (_S236.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S230)
            {
                break;
            }
            float u_11 = proj_points_0[int(1)].x;
            float v_11 = proj_points_0[int(1)].y;
            float r2_11 = u_11 * u_11 + v_11 * v_11;
            float2  _S237 = proj_points_0[int(1)] * make_float2 (1.0f + r2_11 * ((*dist_coeffs_9)[int(0)] + r2_11 * ((*dist_coeffs_9)[int(1)] + r2_11 * ((*dist_coeffs_9)[int(2)] + r2_11 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_11 * v_11 + (*dist_coeffs_9)[int(5)] * (r2_11 + 2.0f * u_11 * u_11) + (*dist_coeffs_9)[int(6)] * r2_11, 2.0f * (*dist_coeffs_9)[int(5)] * u_11 * v_11 + (*dist_coeffs_9)[int(4)] * (r2_11 + 2.0f * v_11 * v_11) + (*dist_coeffs_9)[int(7)] * r2_11);
            float2  _S238 = _S237 + make_float2 ((*dist_coeffs_9)[int(8)] * _S237.x + (*dist_coeffs_9)[int(9)] * _S237.y, 0.0f);
            proj_points_0[int(1)] = make_float2 (fx_2 * _S238.x + intrins_2.z, fy_2 * _S238.y + intrins_2.w);
            break;
        }
        bool all_valid_1 = all_valid_0 & (!_S230);
        for(;;)
        {
            _S216 = &proj_points_0[int(2)];
            for(;;)
            {
                float _S239 = sigmas_0->p_0[int(2)].z;
                proj_points_0[int(2)] = float2 {sigmas_0->p_0[int(2)].x, sigmas_0->p_0[int(2)].y} / make_float2 (_S239);
                if(_S239 < 0.0f)
                {
                    _S230 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S240 = camera_distortion_jac_0(proj_points_0[int(2)], dist_coeffs_9);
                    _S230 = !((F32_min((determinant_0(_S240)), ((F32_min((_S240.rows[int(0)].x), (_S240.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S230)
                {
                    break;
                }
                float u_12 = proj_points_0[int(2)].x;
                float v_12 = proj_points_0[int(2)].y;
                float r2_12 = u_12 * u_12 + v_12 * v_12;
                float2  _S241 = proj_points_0[int(2)] * make_float2 (1.0f + r2_12 * ((*dist_coeffs_9)[int(0)] + r2_12 * ((*dist_coeffs_9)[int(1)] + r2_12 * ((*dist_coeffs_9)[int(2)] + r2_12 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_12 * v_12 + (*dist_coeffs_9)[int(5)] * (r2_12 + 2.0f * u_12 * u_12) + (*dist_coeffs_9)[int(6)] * r2_12, 2.0f * (*dist_coeffs_9)[int(5)] * u_12 * v_12 + (*dist_coeffs_9)[int(4)] * (r2_12 + 2.0f * v_12 * v_12) + (*dist_coeffs_9)[int(7)] * r2_12);
                float2  _S242 = _S241 + make_float2 ((*dist_coeffs_9)[int(8)] * _S241.x + (*dist_coeffs_9)[int(9)] * _S241.y, 0.0f);
                proj_points_0[int(2)] = make_float2 (fx_2 * _S242.x + intrins_2.z, fy_2 * _S242.y + intrins_2.w);
                break;
            }
            _S217 = all_valid_1 & (!_S230);
            break;
        }
        _S218 = &proj_points_0[int(3)];
        for(;;)
        {
            float _S243 = sigmas_0->p_0[int(3)].z;
            proj_points_0[int(3)] = float2 {sigmas_0->p_0[int(3)].x, sigmas_0->p_0[int(3)].y} / make_float2 (_S243);
            if(_S243 < 0.0f)
            {
                _S230 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S244 = camera_distortion_jac_0(proj_points_0[int(3)], dist_coeffs_9);
                _S230 = !((F32_min((determinant_0(_S244)), ((F32_min((_S244.rows[int(0)].x), (_S244.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S230)
            {
                break;
            }
            float u_13 = proj_points_0[int(3)].x;
            float v_13 = proj_points_0[int(3)].y;
            float r2_13 = u_13 * u_13 + v_13 * v_13;
            float2  _S245 = proj_points_0[int(3)] * make_float2 (1.0f + r2_13 * ((*dist_coeffs_9)[int(0)] + r2_13 * ((*dist_coeffs_9)[int(1)] + r2_13 * ((*dist_coeffs_9)[int(2)] + r2_13 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_13 * v_13 + (*dist_coeffs_9)[int(5)] * (r2_13 + 2.0f * u_13 * u_13) + (*dist_coeffs_9)[int(6)] * r2_13, 2.0f * (*dist_coeffs_9)[int(5)] * u_13 * v_13 + (*dist_coeffs_9)[int(4)] * (r2_13 + 2.0f * v_13 * v_13) + (*dist_coeffs_9)[int(7)] * r2_13);
            float2  _S246 = _S245 + make_float2 ((*dist_coeffs_9)[int(8)] * _S245.x + (*dist_coeffs_9)[int(9)] * _S245.y, 0.0f);
            proj_points_0[int(3)] = make_float2 (fx_2 * _S246.x + intrins_2.z, fy_2 * _S246.y + intrins_2.w);
            break;
        }
        bool all_valid_2 = _S217 & (!_S230);
        _S219 = &proj_points_0[int(4)];
        for(;;)
        {
            float _S247 = sigmas_0->p_0[int(4)].z;
            proj_points_0[int(4)] = float2 {sigmas_0->p_0[int(4)].x, sigmas_0->p_0[int(4)].y} / make_float2 (_S247);
            if(_S247 < 0.0f)
            {
                _S230 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S248 = camera_distortion_jac_0(proj_points_0[int(4)], dist_coeffs_9);
                _S230 = !((F32_min((determinant_0(_S248)), ((F32_min((_S248.rows[int(0)].x), (_S248.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S230)
            {
                break;
            }
            float u_14 = proj_points_0[int(4)].x;
            float v_14 = proj_points_0[int(4)].y;
            float r2_14 = u_14 * u_14 + v_14 * v_14;
            float2  _S249 = proj_points_0[int(4)] * make_float2 (1.0f + r2_14 * ((*dist_coeffs_9)[int(0)] + r2_14 * ((*dist_coeffs_9)[int(1)] + r2_14 * ((*dist_coeffs_9)[int(2)] + r2_14 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_14 * v_14 + (*dist_coeffs_9)[int(5)] * (r2_14 + 2.0f * u_14 * u_14) + (*dist_coeffs_9)[int(6)] * r2_14, 2.0f * (*dist_coeffs_9)[int(5)] * u_14 * v_14 + (*dist_coeffs_9)[int(4)] * (r2_14 + 2.0f * v_14 * v_14) + (*dist_coeffs_9)[int(7)] * r2_14);
            float2  _S250 = _S249 + make_float2 ((*dist_coeffs_9)[int(8)] * _S249.x + (*dist_coeffs_9)[int(9)] * _S249.y, 0.0f);
            proj_points_0[int(4)] = make_float2 (fx_2 * _S250.x + intrins_2.z, fy_2 * _S250.y + intrins_2.w);
            break;
        }
        bool all_valid_3 = all_valid_2 & (!_S230);
        for(;;)
        {
            _S220 = &proj_points_0[int(5)];
            for(;;)
            {
                float _S251 = sigmas_0->p_0[int(5)].z;
                proj_points_0[int(5)] = float2 {sigmas_0->p_0[int(5)].x, sigmas_0->p_0[int(5)].y} / make_float2 (_S251);
                if(_S251 < 0.0f)
                {
                    _S230 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S252 = camera_distortion_jac_0(proj_points_0[int(5)], dist_coeffs_9);
                    _S230 = !((F32_min((determinant_0(_S252)), ((F32_min((_S252.rows[int(0)].x), (_S252.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S230)
                {
                    break;
                }
                float u_15 = proj_points_0[int(5)].x;
                float v_15 = proj_points_0[int(5)].y;
                float r2_15 = u_15 * u_15 + v_15 * v_15;
                float2  _S253 = proj_points_0[int(5)] * make_float2 (1.0f + r2_15 * ((*dist_coeffs_9)[int(0)] + r2_15 * ((*dist_coeffs_9)[int(1)] + r2_15 * ((*dist_coeffs_9)[int(2)] + r2_15 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_15 * v_15 + (*dist_coeffs_9)[int(5)] * (r2_15 + 2.0f * u_15 * u_15) + (*dist_coeffs_9)[int(6)] * r2_15, 2.0f * (*dist_coeffs_9)[int(5)] * u_15 * v_15 + (*dist_coeffs_9)[int(4)] * (r2_15 + 2.0f * v_15 * v_15) + (*dist_coeffs_9)[int(7)] * r2_15);
                float2  _S254 = _S253 + make_float2 ((*dist_coeffs_9)[int(8)] * _S253.x + (*dist_coeffs_9)[int(9)] * _S253.y, 0.0f);
                proj_points_0[int(5)] = make_float2 (fx_2 * _S254.x + intrins_2.z, fy_2 * _S254.y + intrins_2.w);
                break;
            }
            _S221 = all_valid_3 & (!_S230);
            break;
        }
        _S222 = &proj_points_0[int(6)];
        for(;;)
        {
            float _S255 = sigmas_0->p_0[int(6)].z;
            proj_points_0[int(6)] = float2 {sigmas_0->p_0[int(6)].x, sigmas_0->p_0[int(6)].y} / make_float2 (_S255);
            if(_S255 < 0.0f)
            {
                _S230 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S256 = camera_distortion_jac_0(proj_points_0[int(6)], dist_coeffs_9);
                _S230 = !((F32_min((determinant_0(_S256)), ((F32_min((_S256.rows[int(0)].x), (_S256.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S230)
            {
                break;
            }
            float u_16 = proj_points_0[int(6)].x;
            float v_16 = proj_points_0[int(6)].y;
            float r2_16 = u_16 * u_16 + v_16 * v_16;
            float2  _S257 = proj_points_0[int(6)] * make_float2 (1.0f + r2_16 * ((*dist_coeffs_9)[int(0)] + r2_16 * ((*dist_coeffs_9)[int(1)] + r2_16 * ((*dist_coeffs_9)[int(2)] + r2_16 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_16 * v_16 + (*dist_coeffs_9)[int(5)] * (r2_16 + 2.0f * u_16 * u_16) + (*dist_coeffs_9)[int(6)] * r2_16, 2.0f * (*dist_coeffs_9)[int(5)] * u_16 * v_16 + (*dist_coeffs_9)[int(4)] * (r2_16 + 2.0f * v_16 * v_16) + (*dist_coeffs_9)[int(7)] * r2_16);
            float2  _S258 = _S257 + make_float2 ((*dist_coeffs_9)[int(8)] * _S257.x + (*dist_coeffs_9)[int(9)] * _S257.y, 0.0f);
            proj_points_0[int(6)] = make_float2 (fx_2 * _S258.x + intrins_2.z, fy_2 * _S258.y + intrins_2.w);
            break;
        }
        _S223 = _S221 & (!_S230);
        break;
    }
    if(!_S223)
    {
        return false;
    }
    float2  _S259 = *mean2d_2 + make_float2 (sigmas_0->w_mean_0[int(0)]) * *_S214;
    *mean2d_2 = _S259;
    float2  _S260 = _S259 + make_float2 (sigmas_0->w_mean_0[int(1)]) * *_S215;
    *mean2d_2 = _S260;
    float2  _S261 = _S260 + make_float2 (sigmas_0->w_mean_0[int(2)]) * *_S216;
    *mean2d_2 = _S261;
    float2  _S262 = _S261 + make_float2 (sigmas_0->w_mean_0[int(3)]) * *_S218;
    *mean2d_2 = _S262;
    float2  _S263 = _S262 + make_float2 (sigmas_0->w_mean_0[int(4)]) * *_S219;
    *mean2d_2 = _S263;
    float2  _S264 = _S263 + make_float2 (sigmas_0->w_mean_0[int(5)]) * *_S220;
    *mean2d_2 = _S264;
    float2  _S265 = _S264 + make_float2 (sigmas_0->w_mean_0[int(6)]) * *_S222;
    *mean2d_2 = _S265;
    float _S266 = - _S228;
    float _S267 = - _S229;
    float2  _S268 = make_float2 (clamp_0(_S265.x, _S266, lim_x_pos_2), clamp_0(_S265.y, _S267, lim_y_pos_0));
    float2  d_0 = make_float2 (clamp_0((*_S214).x, _S266, lim_x_pos_2), clamp_0((*_S214).y, _S267, lim_y_pos_0)) - _S268;
    float _S269 = d_0.x;
    float _S270 = d_0.y;
    float _S271 = _S269 * _S270;
    Matrix<float, 2, 2>  _S272 = *cov2d_2 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S269 * _S269, _S271, _S271, _S270 * _S270);
    *cov2d_2 = _S272;
    float2  d_1 = make_float2 (clamp_0((*_S215).x, _S266, lim_x_pos_2), clamp_0((*_S215).y, _S267, lim_y_pos_0)) - _S268;
    float _S273 = d_1.x;
    float _S274 = d_1.y;
    float _S275 = _S273 * _S274;
    Matrix<float, 2, 2>  _S276 = _S272 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S273 * _S273, _S275, _S275, _S274 * _S274);
    *cov2d_2 = _S276;
    float2  d_2 = make_float2 (clamp_0((*_S216).x, _S266, lim_x_pos_2), clamp_0((*_S216).y, _S267, lim_y_pos_0)) - _S268;
    float _S277 = d_2.x;
    float _S278 = d_2.y;
    float _S279 = _S277 * _S278;
    Matrix<float, 2, 2>  _S280 = _S276 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S277 * _S277, _S279, _S279, _S278 * _S278);
    *cov2d_2 = _S280;
    float2  d_3 = make_float2 (clamp_0((*_S218).x, _S266, lim_x_pos_2), clamp_0((*_S218).y, _S267, lim_y_pos_0)) - _S268;
    float _S281 = d_3.x;
    float _S282 = d_3.y;
    float _S283 = _S281 * _S282;
    Matrix<float, 2, 2>  _S284 = _S280 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S281 * _S281, _S283, _S283, _S282 * _S282);
    *cov2d_2 = _S284;
    float2  d_4 = make_float2 (clamp_0((*_S219).x, _S266, lim_x_pos_2), clamp_0((*_S219).y, _S267, lim_y_pos_0)) - _S268;
    float _S285 = d_4.x;
    float _S286 = d_4.y;
    float _S287 = _S285 * _S286;
    Matrix<float, 2, 2>  _S288 = _S284 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S285 * _S285, _S287, _S287, _S286 * _S286);
    *cov2d_2 = _S288;
    float2  d_5 = make_float2 (clamp_0((*_S220).x, _S266, lim_x_pos_2), clamp_0((*_S220).y, _S267, lim_y_pos_0)) - _S268;
    float _S289 = d_5.x;
    float _S290 = d_5.y;
    float _S291 = _S289 * _S290;
    Matrix<float, 2, 2>  _S292 = _S288 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S289 * _S289, _S291, _S291, _S290 * _S290);
    *cov2d_2 = _S292;
    float2  d_6 = make_float2 (clamp_0((*_S222).x, _S266, lim_x_pos_2), clamp_0((*_S222).y, _S267, lim_y_pos_0)) - _S268;
    float _S293 = d_6.x;
    float _S294 = d_6.y;
    float _S295 = _S293 * _S294;
    *cov2d_2 = _S292 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S293 * _S293, _S295, _S295, _S294 * _S294);
    return true;
}

inline __device__ bool persp_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_1, float4  intrins_3, FixedArray<float, 10>  * dist_coeffs_10, uint width_3, uint height_3, Matrix<float, 2, 2>  * cov2d_3, float2  * mean2d_3)
{
    int2  _S296 = make_int2 (int(0));
    float2  _S297 = make_float2 ((float)_S296.x, (float)_S296.y);
    *mean2d_3 = _S297;
    *cov2d_3 = makeMatrix<float, 2, 2> (0.0f);
    float fx_3 = intrins_3.x;
    float fy_3 = intrins_3.y;
    float _S298 = float(width_3);
    float _S299 = float(height_3);
    float _S300 = 0.30000001192092896f * (0.5f * _S298 / fx_3) * fx_3;
    float lim_x_pos_3 = _S298 + _S300;
    float _S301 = 0.30000001192092896f * (0.5f * _S299 / fy_3) * fy_3;
    float lim_y_pos_1 = _S299 + _S301;
    FixedArray<float2 , 7>  proj_points_1;
    float2  _S302 = float2 {sigmas_1->p_0[int(0)].x, sigmas_1->p_0[int(0)].y} / make_float2 (sigmas_1->p_0[int(0)].z);
    float u_17 = _S302.x;
    float v_17 = _S302.y;
    float r2_17 = u_17 * u_17 + v_17 * v_17;
    float _S303 = 2.0f * (*dist_coeffs_10)[int(4)];
    float _S304 = 2.0f * (*dist_coeffs_10)[int(5)];
    float2  _S305 = _S302 * make_float2 (1.0f + r2_17 * ((*dist_coeffs_10)[int(0)] + r2_17 * ((*dist_coeffs_10)[int(1)] + r2_17 * ((*dist_coeffs_10)[int(2)] + r2_17 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S303 * u_17 * v_17 + (*dist_coeffs_10)[int(5)] * (r2_17 + 2.0f * u_17 * u_17) + (*dist_coeffs_10)[int(6)] * r2_17, _S304 * u_17 * v_17 + (*dist_coeffs_10)[int(4)] * (r2_17 + 2.0f * v_17 * v_17) + (*dist_coeffs_10)[int(7)] * r2_17);
    float2  _S306 = _S305 + make_float2 ((*dist_coeffs_10)[int(8)] * _S305.x + (*dist_coeffs_10)[int(9)] * _S305.y, 0.0f);
    float cx_2 = intrins_3.z;
    float cy_2 = intrins_3.w;
    float _S307 = fx_3 * _S306.x + cx_2;
    float _S308 = fy_3 * _S306.y + cy_2;
    float2  _S309 = make_float2 (_S307, _S308);
    proj_points_1[int(0)] = _S309;
    float2  _S310 = float2 {sigmas_1->p_0[int(1)].x, sigmas_1->p_0[int(1)].y} / make_float2 (sigmas_1->p_0[int(1)].z);
    float u_18 = _S310.x;
    float v_18 = _S310.y;
    float r2_18 = u_18 * u_18 + v_18 * v_18;
    float2  _S311 = _S310 * make_float2 (1.0f + r2_18 * ((*dist_coeffs_10)[int(0)] + r2_18 * ((*dist_coeffs_10)[int(1)] + r2_18 * ((*dist_coeffs_10)[int(2)] + r2_18 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S303 * u_18 * v_18 + (*dist_coeffs_10)[int(5)] * (r2_18 + 2.0f * u_18 * u_18) + (*dist_coeffs_10)[int(6)] * r2_18, _S304 * u_18 * v_18 + (*dist_coeffs_10)[int(4)] * (r2_18 + 2.0f * v_18 * v_18) + (*dist_coeffs_10)[int(7)] * r2_18);
    float2  _S312 = _S311 + make_float2 ((*dist_coeffs_10)[int(8)] * _S311.x + (*dist_coeffs_10)[int(9)] * _S311.y, 0.0f);
    float _S313 = fx_3 * _S312.x + cx_2;
    float _S314 = fy_3 * _S312.y + cy_2;
    float2  _S315 = make_float2 (_S313, _S314);
    proj_points_1[int(1)] = _S315;
    float2  _S316 = float2 {sigmas_1->p_0[int(2)].x, sigmas_1->p_0[int(2)].y} / make_float2 (sigmas_1->p_0[int(2)].z);
    float u_19 = _S316.x;
    float v_19 = _S316.y;
    float r2_19 = u_19 * u_19 + v_19 * v_19;
    float2  _S317 = _S316 * make_float2 (1.0f + r2_19 * ((*dist_coeffs_10)[int(0)] + r2_19 * ((*dist_coeffs_10)[int(1)] + r2_19 * ((*dist_coeffs_10)[int(2)] + r2_19 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S303 * u_19 * v_19 + (*dist_coeffs_10)[int(5)] * (r2_19 + 2.0f * u_19 * u_19) + (*dist_coeffs_10)[int(6)] * r2_19, _S304 * u_19 * v_19 + (*dist_coeffs_10)[int(4)] * (r2_19 + 2.0f * v_19 * v_19) + (*dist_coeffs_10)[int(7)] * r2_19);
    float2  _S318 = _S317 + make_float2 ((*dist_coeffs_10)[int(8)] * _S317.x + (*dist_coeffs_10)[int(9)] * _S317.y, 0.0f);
    float _S319 = fx_3 * _S318.x + cx_2;
    float _S320 = fy_3 * _S318.y + cy_2;
    float2  _S321 = make_float2 (_S319, _S320);
    proj_points_1[int(2)] = _S321;
    float2  _S322 = float2 {sigmas_1->p_0[int(3)].x, sigmas_1->p_0[int(3)].y} / make_float2 (sigmas_1->p_0[int(3)].z);
    float u_20 = _S322.x;
    float v_20 = _S322.y;
    float r2_20 = u_20 * u_20 + v_20 * v_20;
    float2  _S323 = _S322 * make_float2 (1.0f + r2_20 * ((*dist_coeffs_10)[int(0)] + r2_20 * ((*dist_coeffs_10)[int(1)] + r2_20 * ((*dist_coeffs_10)[int(2)] + r2_20 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S303 * u_20 * v_20 + (*dist_coeffs_10)[int(5)] * (r2_20 + 2.0f * u_20 * u_20) + (*dist_coeffs_10)[int(6)] * r2_20, _S304 * u_20 * v_20 + (*dist_coeffs_10)[int(4)] * (r2_20 + 2.0f * v_20 * v_20) + (*dist_coeffs_10)[int(7)] * r2_20);
    float2  _S324 = _S323 + make_float2 ((*dist_coeffs_10)[int(8)] * _S323.x + (*dist_coeffs_10)[int(9)] * _S323.y, 0.0f);
    float _S325 = fx_3 * _S324.x + cx_2;
    float _S326 = fy_3 * _S324.y + cy_2;
    float2  _S327 = make_float2 (_S325, _S326);
    proj_points_1[int(3)] = _S327;
    float2  _S328 = float2 {sigmas_1->p_0[int(4)].x, sigmas_1->p_0[int(4)].y} / make_float2 (sigmas_1->p_0[int(4)].z);
    float u_21 = _S328.x;
    float v_21 = _S328.y;
    float r2_21 = u_21 * u_21 + v_21 * v_21;
    float2  _S329 = _S328 * make_float2 (1.0f + r2_21 * ((*dist_coeffs_10)[int(0)] + r2_21 * ((*dist_coeffs_10)[int(1)] + r2_21 * ((*dist_coeffs_10)[int(2)] + r2_21 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S303 * u_21 * v_21 + (*dist_coeffs_10)[int(5)] * (r2_21 + 2.0f * u_21 * u_21) + (*dist_coeffs_10)[int(6)] * r2_21, _S304 * u_21 * v_21 + (*dist_coeffs_10)[int(4)] * (r2_21 + 2.0f * v_21 * v_21) + (*dist_coeffs_10)[int(7)] * r2_21);
    float2  _S330 = _S329 + make_float2 ((*dist_coeffs_10)[int(8)] * _S329.x + (*dist_coeffs_10)[int(9)] * _S329.y, 0.0f);
    float _S331 = fx_3 * _S330.x + cx_2;
    float _S332 = fy_3 * _S330.y + cy_2;
    float2  _S333 = make_float2 (_S331, _S332);
    proj_points_1[int(4)] = _S333;
    float2  _S334 = float2 {sigmas_1->p_0[int(5)].x, sigmas_1->p_0[int(5)].y} / make_float2 (sigmas_1->p_0[int(5)].z);
    float u_22 = _S334.x;
    float v_22 = _S334.y;
    float r2_22 = u_22 * u_22 + v_22 * v_22;
    float2  _S335 = _S334 * make_float2 (1.0f + r2_22 * ((*dist_coeffs_10)[int(0)] + r2_22 * ((*dist_coeffs_10)[int(1)] + r2_22 * ((*dist_coeffs_10)[int(2)] + r2_22 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S303 * u_22 * v_22 + (*dist_coeffs_10)[int(5)] * (r2_22 + 2.0f * u_22 * u_22) + (*dist_coeffs_10)[int(6)] * r2_22, _S304 * u_22 * v_22 + (*dist_coeffs_10)[int(4)] * (r2_22 + 2.0f * v_22 * v_22) + (*dist_coeffs_10)[int(7)] * r2_22);
    float2  _S336 = _S335 + make_float2 ((*dist_coeffs_10)[int(8)] * _S335.x + (*dist_coeffs_10)[int(9)] * _S335.y, 0.0f);
    float _S337 = fx_3 * _S336.x + cx_2;
    float _S338 = fy_3 * _S336.y + cy_2;
    float2  _S339 = make_float2 (_S337, _S338);
    proj_points_1[int(5)] = _S339;
    float2  _S340 = float2 {sigmas_1->p_0[int(6)].x, sigmas_1->p_0[int(6)].y} / make_float2 (sigmas_1->p_0[int(6)].z);
    float u_23 = _S340.x;
    float v_23 = _S340.y;
    float r2_23 = u_23 * u_23 + v_23 * v_23;
    float2  _S341 = _S340 * make_float2 (1.0f + r2_23 * ((*dist_coeffs_10)[int(0)] + r2_23 * ((*dist_coeffs_10)[int(1)] + r2_23 * ((*dist_coeffs_10)[int(2)] + r2_23 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S303 * u_23 * v_23 + (*dist_coeffs_10)[int(5)] * (r2_23 + 2.0f * u_23 * u_23) + (*dist_coeffs_10)[int(6)] * r2_23, _S304 * u_23 * v_23 + (*dist_coeffs_10)[int(4)] * (r2_23 + 2.0f * v_23 * v_23) + (*dist_coeffs_10)[int(7)] * r2_23);
    float2  _S342 = _S341 + make_float2 ((*dist_coeffs_10)[int(8)] * _S341.x + (*dist_coeffs_10)[int(9)] * _S341.y, 0.0f);
    float _S343 = fx_3 * _S342.x + cx_2;
    float _S344 = fy_3 * _S342.y + cy_2;
    float2  _S345 = make_float2 (_S343, _S344);
    proj_points_1[int(6)] = _S345;
    float2  _S346 = *mean2d_3 + make_float2 (sigmas_1->w_mean_0[int(0)]) * _S309;
    *mean2d_3 = _S346;
    float2  _S347 = _S346 + make_float2 (sigmas_1->w_mean_0[int(1)]) * _S315;
    *mean2d_3 = _S347;
    float2  _S348 = _S347 + make_float2 (sigmas_1->w_mean_0[int(2)]) * _S321;
    *mean2d_3 = _S348;
    float2  _S349 = _S348 + make_float2 (sigmas_1->w_mean_0[int(3)]) * _S327;
    *mean2d_3 = _S349;
    float2  _S350 = _S349 + make_float2 (sigmas_1->w_mean_0[int(4)]) * _S333;
    *mean2d_3 = _S350;
    float2  _S351 = _S350 + make_float2 (sigmas_1->w_mean_0[int(5)]) * _S339;
    *mean2d_3 = _S351;
    float2  _S352 = _S351 + make_float2 (sigmas_1->w_mean_0[int(6)]) * _S345;
    *mean2d_3 = _S352;
    float _S353 = - _S300;
    float _S354 = - _S301;
    float2  _S355 = make_float2 (clamp_0(_S352.x, _S353, lim_x_pos_3), clamp_0(_S352.y, _S354, lim_y_pos_1));
    float2  d_7 = make_float2 (clamp_0(_S307, _S353, lim_x_pos_3), clamp_0(_S308, _S354, lim_y_pos_1)) - _S355;
    float _S356 = d_7.x;
    float _S357 = d_7.y;
    float _S358 = _S356 * _S357;
    Matrix<float, 2, 2>  _S359 = *cov2d_3 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S356 * _S356, _S358, _S358, _S357 * _S357);
    *cov2d_3 = _S359;
    float2  d_8 = make_float2 (clamp_0(_S313, _S353, lim_x_pos_3), clamp_0(_S314, _S354, lim_y_pos_1)) - _S355;
    float _S360 = d_8.x;
    float _S361 = d_8.y;
    float _S362 = _S360 * _S361;
    Matrix<float, 2, 2>  _S363 = _S359 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S360 * _S360, _S362, _S362, _S361 * _S361);
    *cov2d_3 = _S363;
    float2  d_9 = make_float2 (clamp_0(_S319, _S353, lim_x_pos_3), clamp_0(_S320, _S354, lim_y_pos_1)) - _S355;
    float _S364 = d_9.x;
    float _S365 = d_9.y;
    float _S366 = _S364 * _S365;
    Matrix<float, 2, 2>  _S367 = _S363 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S364 * _S364, _S366, _S366, _S365 * _S365);
    *cov2d_3 = _S367;
    float2  d_10 = make_float2 (clamp_0(_S325, _S353, lim_x_pos_3), clamp_0(_S326, _S354, lim_y_pos_1)) - _S355;
    float _S368 = d_10.x;
    float _S369 = d_10.y;
    float _S370 = _S368 * _S369;
    Matrix<float, 2, 2>  _S371 = _S367 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S368 * _S368, _S370, _S370, _S369 * _S369);
    *cov2d_3 = _S371;
    float2  d_11 = make_float2 (clamp_0(_S331, _S353, lim_x_pos_3), clamp_0(_S332, _S354, lim_y_pos_1)) - _S355;
    float _S372 = d_11.x;
    float _S373 = d_11.y;
    float _S374 = _S372 * _S373;
    Matrix<float, 2, 2>  _S375 = _S371 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S372 * _S372, _S374, _S374, _S373 * _S373);
    *cov2d_3 = _S375;
    float2  d_12 = make_float2 (clamp_0(_S337, _S353, lim_x_pos_3), clamp_0(_S338, _S354, lim_y_pos_1)) - _S355;
    float _S376 = d_12.x;
    float _S377 = d_12.y;
    float _S378 = _S376 * _S377;
    Matrix<float, 2, 2>  _S379 = _S375 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S376 * _S376, _S378, _S378, _S377 * _S377);
    *cov2d_3 = _S379;
    float2  d_13 = make_float2 (clamp_0(_S343, _S353, lim_x_pos_3), clamp_0(_S344, _S354, lim_y_pos_1)) - _S355;
    float _S380 = d_13.x;
    float _S381 = d_13.y;
    float _S382 = _S380 * _S381;
    *cov2d_3 = _S379 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S380 * _S380, _S382, _S382, _S381 * _S381);
    return true;
}

inline __device__ void _d_atan2_0(DiffPair_float_0 * dpy_4, DiffPair_float_0 * dpx_9, float dOut_11)
{
    DiffPair_float_0 _S383 = *dpx_9;
    float _S384 = - (*dpy_4).primal_0 / ((*dpx_9).primal_0 * (*dpx_9).primal_0 + (*dpy_4).primal_0 * (*dpy_4).primal_0) * dOut_11;
    dpx_9->primal_0 = (*dpx_9).primal_0;
    dpx_9->differential_0 = _S384;
    float _S385 = _S383.primal_0 / (_S383.primal_0 * _S383.primal_0 + (*dpy_4).primal_0 * (*dpy_4).primal_0) * dOut_11;
    dpy_4->primal_0 = (*dpy_4).primal_0;
    dpy_4->differential_0 = _S385;
    return;
}

inline __device__ float s_primal_ctx_atan2_0(float _S386, float _S387)
{
    return (F32_atan2((_S386), (_S387)));
}

inline __device__ void s_bwd_prop_atan2_0(DiffPair_float_0 * _S388, DiffPair_float_0 * _S389, float _S390)
{
    _d_atan2_0(_S388, _S389, _S390);
    return;
}

struct DiffPair_vectorx3Cfloatx2C2x3E_0
{
    float2  primal_0;
    float2  differential_0;
};

inline __device__ void s_bwd_prop_sqrt_0(DiffPair_float_0 * _S391, float _S392)
{
    _d_sqrt_0(_S391, _S392);
    return;
}

inline __device__ void s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpx_10, float _s_dOut_2)
{
    float _S393 = (*dpx_10).primal_0.x;
    float _S394 = (*dpx_10).primal_0.y;
    DiffPair_float_0 _S395;
    (&_S395)->primal_0 = _S393 * _S393 + _S394 * _S394;
    (&_S395)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S395, _s_dOut_2);
    float _S396 = (*dpx_10).primal_0.y * _S395.differential_0;
    float _S397 = _S396 + _S396;
    float _S398 = (*dpx_10).primal_0.x * _S395.differential_0;
    float _S399 = _S398 + _S398;
    float2  _S400 = make_float2 (0.0f);
    *&((&_S400)->y) = _S397;
    *&((&_S400)->x) = _S399;
    dpx_10->primal_0 = (*dpx_10).primal_0;
    dpx_10->differential_0 = _S400;
    return;
}

inline __device__ void s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S401, float _S402)
{
    s_bwd_prop_length_impl_0(_S401, _S402);
    return;
}

inline __device__ bool fisheye_proj_3dgs_0(float3  mean3d_2, Matrix<float, 3, 3>  cov3d_2, float4  intrins_4, FixedArray<float, 10>  * dist_coeffs_11, Matrix<float, 2, 2>  * cov2d_4, float2  * mean2d_4)
{
    float k_0;
    float2  _S403;
    float _S404;
    float _S405;
    bool _S406;
    for(;;)
    {
        float2  _S407 = float2 {mean3d_2.x, mean3d_2.y};
        _S403 = _S407;
        float r_8 = length_0(_S407);
        _S404 = r_8;
        float _S408 = mean3d_2.z;
        _S405 = _S408;
        float theta_4 = (F32_atan2((r_8), (_S408)));
        if(theta_4 < 0.00100000004749745f)
        {
            k_0 = (1.0f - theta_4 * theta_4 / 3.0f) / _S408;
        }
        else
        {
            k_0 = theta_4 / r_8;
        }
        float2  _S409 = _S407 * make_float2 (k_0);
        *mean2d_4 = _S409;
        Matrix<float, 2, 2>  _S410 = camera_distortion_jac_0(_S409, dist_coeffs_11);
        bool _S411 = !((F32_min((determinant_0(_S410)), ((F32_min((_S410.rows[int(0)].x), (_S410.rows[int(1)].y)))))) > 0.0f);
        _S406 = _S411;
        if(_S411)
        {
            break;
        }
        float u_24 = (*mean2d_4).x;
        float v_24 = (*mean2d_4).y;
        float r2_24 = u_24 * u_24 + v_24 * v_24;
        float2  _S412 = *mean2d_4 * make_float2 (1.0f + r2_24 * ((*dist_coeffs_11)[int(0)] + r2_24 * ((*dist_coeffs_11)[int(1)] + r2_24 * ((*dist_coeffs_11)[int(2)] + r2_24 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_24 * v_24 + (*dist_coeffs_11)[int(5)] * (r2_24 + 2.0f * u_24 * u_24) + (*dist_coeffs_11)[int(6)] * r2_24, 2.0f * (*dist_coeffs_11)[int(5)] * u_24 * v_24 + (*dist_coeffs_11)[int(4)] * (r2_24 + 2.0f * v_24 * v_24) + (*dist_coeffs_11)[int(7)] * r2_24);
        float2  _S413 = _S412 + make_float2 ((*dist_coeffs_11)[int(8)] * _S412.x + (*dist_coeffs_11)[int(9)] * _S412.y, 0.0f);
        *mean2d_4 = make_float2 (intrins_4.x * _S413.x + intrins_4.z, intrins_4.y * _S413.y + intrins_4.w);
        break;
    }
    if(!!_S406)
    {
        return false;
    }
    Matrix<float, 2, 3>  J_4;
    float2  _S414 = make_float2 (0.0f);
    float2  seed_4 = _S414;
    *&((&seed_4)->x) = 1.0f;
    float2  _S415 = seed_4;
    float _S416 = s_primal_ctx_atan2_0(_S404, _S405);
    bool _S417 = _S416 < 0.00100000004749745f;
    float _S418;
    float _S419;
    float _S420;
    if(_S417)
    {
        float _S421 = 1.0f - _S416 * _S416 / 3.0f;
        float _S422 = _S405 * _S405;
        k_0 = _S421 / _S405;
        _S418 = 0.0f;
        _S419 = _S422;
        _S420 = _S421;
    }
    else
    {
        float _S423 = _S404 * _S404;
        k_0 = _S416 / _S404;
        _S418 = _S423;
        _S419 = 0.0f;
        _S420 = 0.0f;
    }
    float2  _S424 = make_float2 (k_0);
    float2  _S425 = _S403 * make_float2 (k_0);
    float u_25 = _S425.x;
    float v_25 = _S425.y;
    float r2_25 = u_25 * u_25 + v_25 * v_25;
    float _S426 = (*dist_coeffs_11)[int(2)] + r2_25 * (*dist_coeffs_11)[int(3)];
    float _S427 = (*dist_coeffs_11)[int(1)] + r2_25 * _S426;
    float _S428 = (*dist_coeffs_11)[int(0)] + r2_25 * _S427;
    float _S429 = 2.0f * (*dist_coeffs_11)[int(4)];
    float _S430 = 2.0f * (*dist_coeffs_11)[int(5)];
    float fx_4 = intrins_4.x;
    float fy_4 = intrins_4.y;
    float _S431 = fx_4 * _S415.x;
    float2  _S432 = make_float2 (_S431, fy_4 * _S415.y) + make_float2 ((*dist_coeffs_11)[int(8)] * _S431, (*dist_coeffs_11)[int(9)] * _S431);
    float2  _S433 = _S425 * _S432;
    float _S434 = (*dist_coeffs_11)[int(4)] * _S432.y;
    float _S435 = (*dist_coeffs_11)[int(5)] * _S432.x;
    float _S436 = _S433.x + _S433.y;
    float _S437 = r2_25 * _S436;
    float _S438 = r2_25 * _S437;
    float _S439 = (*dist_coeffs_11)[int(7)] * _S432.y + _S434 + (*dist_coeffs_11)[int(6)] * _S432.x + _S435 + _S428 * _S436 + _S427 * _S437 + _S426 * _S438 + (*dist_coeffs_11)[int(3)] * (r2_25 * _S438);
    float _S440 = v_25 * _S439;
    float _S441 = u_25 * _S439;
    float2  _S442 = make_float2 (1.0f + r2_25 * _S428) * _S432 + make_float2 (_S430 * (v_25 * _S432.y) + 2.0f * u_25 * _S435 + 2.0f * (u_25 * _S435) + _S429 * (v_25 * _S432.x) + _S441 + _S441, 2.0f * v_25 * _S434 + 2.0f * (v_25 * _S434) + _S430 * u_25 * _S432.y + _S429 * u_25 * _S432.x + _S440 + _S440);
    float2  _S443 = _S403 * _S442;
    float2  _S444 = _S424 * _S442;
    float _S445 = _S443.x + _S443.y;
    if(_S417)
    {
        float _S446 = _S445 / _S419;
        float _S447 = _S420 * - _S446;
        float _S448 = _S416 * (0.3333333432674408f * - (_S405 * _S446));
        k_0 = _S448 + _S448;
        _S418 = _S447;
        _S419 = 0.0f;
    }
    else
    {
        float _S449 = _S445 / _S418;
        float _S450 = _S416 * - _S449;
        k_0 = _S404 * _S449;
        _S418 = 0.0f;
        _S419 = _S450;
    }
    float _S451 = _S404;
    DiffPair_float_0 _S452;
    (&_S452)->primal_0 = _S404;
    (&_S452)->differential_0 = 0.0f;
    float _S453 = _S405;
    DiffPair_float_0 _S454;
    (&_S454)->primal_0 = _S405;
    (&_S454)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S452, &_S454, k_0);
    float _S455 = _S454.differential_0 + _S418;
    float _S456 = _S452.differential_0 + _S419;
    float2  _S457 = make_float2 (0.0f);
    float2  _S458 = _S403;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S459;
    (&_S459)->primal_0 = _S403;
    (&_S459)->differential_0 = _S457;
    s_bwd_length_impl_0(&_S459, _S456);
    float2  _S460 = _S459.differential_0 + _S444;
    float3  _S461 = make_float3 (_S460.x, _S460.y, _S455);
    J_4[int(0)] = _S461;
    float2  seed_5 = _S414;
    *&((&seed_5)->y) = 1.0f;
    float2  _S462 = seed_5;
    if(_S417)
    {
        float _S463 = 1.0f - _S416 * _S416 / 3.0f;
        float _S464 = _S405 * _S405;
        k_0 = _S463 / _S405;
        _S418 = 0.0f;
        _S419 = _S464;
        _S420 = _S463;
    }
    else
    {
        float _S465 = _S404 * _S404;
        k_0 = _S416 / _S404;
        _S418 = _S465;
        _S419 = 0.0f;
        _S420 = 0.0f;
    }
    float2  _S466 = make_float2 (k_0);
    float2  _S467 = _S403 * make_float2 (k_0);
    float u_26 = _S467.x;
    float v_26 = _S467.y;
    float r2_26 = u_26 * u_26 + v_26 * v_26;
    float _S468 = (*dist_coeffs_11)[int(2)] + r2_26 * (*dist_coeffs_11)[int(3)];
    float _S469 = (*dist_coeffs_11)[int(1)] + r2_26 * _S468;
    float _S470 = (*dist_coeffs_11)[int(0)] + r2_26 * _S469;
    float _S471 = fx_4 * _S462.x;
    float2  _S472 = make_float2 (_S471, fy_4 * _S462.y) + make_float2 ((*dist_coeffs_11)[int(8)] * _S471, (*dist_coeffs_11)[int(9)] * _S471);
    float2  _S473 = _S467 * _S472;
    float _S474 = (*dist_coeffs_11)[int(4)] * _S472.y;
    float _S475 = (*dist_coeffs_11)[int(5)] * _S472.x;
    float _S476 = _S473.x + _S473.y;
    float _S477 = r2_26 * _S476;
    float _S478 = r2_26 * _S477;
    float _S479 = (*dist_coeffs_11)[int(7)] * _S472.y + _S474 + (*dist_coeffs_11)[int(6)] * _S472.x + _S475 + _S470 * _S476 + _S469 * _S477 + _S468 * _S478 + (*dist_coeffs_11)[int(3)] * (r2_26 * _S478);
    float _S480 = v_26 * _S479;
    float _S481 = u_26 * _S479;
    float2  _S482 = make_float2 (1.0f + r2_26 * _S470) * _S472 + make_float2 (_S430 * (v_26 * _S472.y) + 2.0f * u_26 * _S475 + 2.0f * (u_26 * _S475) + _S429 * (v_26 * _S472.x) + _S481 + _S481, 2.0f * v_26 * _S474 + 2.0f * (v_26 * _S474) + _S430 * u_26 * _S472.y + _S429 * u_26 * _S472.x + _S480 + _S480);
    float2  _S483 = _S403 * _S482;
    float2  _S484 = _S466 * _S482;
    float _S485 = _S483.x + _S483.y;
    if(_S417)
    {
        float _S486 = _S485 / _S419;
        float _S487 = _S420 * - _S486;
        float _S488 = _S416 * (0.3333333432674408f * - (_S405 * _S486));
        k_0 = _S488 + _S488;
        _S418 = _S487;
        _S419 = 0.0f;
    }
    else
    {
        float _S489 = _S485 / _S418;
        float _S490 = _S416 * - _S489;
        k_0 = _S404 * _S489;
        _S418 = 0.0f;
        _S419 = _S490;
    }
    DiffPair_float_0 _S491;
    (&_S491)->primal_0 = _S451;
    (&_S491)->differential_0 = 0.0f;
    DiffPair_float_0 _S492;
    (&_S492)->primal_0 = _S453;
    (&_S492)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S491, &_S492, k_0);
    float _S493 = _S492.differential_0 + _S418;
    float _S494 = _S491.differential_0 + _S419;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S495;
    (&_S495)->primal_0 = _S458;
    (&_S495)->differential_0 = _S457;
    s_bwd_length_impl_0(&_S495, _S494);
    float2  _S496 = _S495.differential_0 + _S484;
    float3  _S497 = make_float3 (_S496.x, _S496.y, _S493);
    J_4[int(1)] = _S497;
    *cov2d_4 = mul_6(mul_5(J_4, cov3d_2), transpose_1(J_4));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_1(float3  mean3d_3, Matrix<float, 3, 3>  cov3d_3, float4  intrins_5, FixedArray<float, 10>  * dist_coeffs_12, Matrix<float, 2, 2>  * cov2d_5, float2  * mean2d_5)
{
    float2  _S498 = float2 {mean3d_3.x, mean3d_3.y};
    float r_9 = length_0(_S498);
    float _S499 = mean3d_3.z;
    float theta_5 = (F32_atan2((r_9), (_S499)));
    float k_1;
    if(theta_5 < 0.00100000004749745f)
    {
        k_1 = (1.0f - theta_5 * theta_5 / 3.0f) / _S499;
    }
    else
    {
        k_1 = theta_5 / r_9;
    }
    float2  _S500 = _S498 * make_float2 (k_1);
    float u_27 = _S500.x;
    float v_27 = _S500.y;
    float r2_27 = u_27 * u_27 + v_27 * v_27;
    float _S501 = 2.0f * (*dist_coeffs_12)[int(4)];
    float _S502 = 2.0f * (*dist_coeffs_12)[int(5)];
    float2  _S503 = _S500 * make_float2 (1.0f + r2_27 * ((*dist_coeffs_12)[int(0)] + r2_27 * ((*dist_coeffs_12)[int(1)] + r2_27 * ((*dist_coeffs_12)[int(2)] + r2_27 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S501 * u_27 * v_27 + (*dist_coeffs_12)[int(5)] * (r2_27 + 2.0f * u_27 * u_27) + (*dist_coeffs_12)[int(6)] * r2_27, _S502 * u_27 * v_27 + (*dist_coeffs_12)[int(4)] * (r2_27 + 2.0f * v_27 * v_27) + (*dist_coeffs_12)[int(7)] * r2_27);
    float2  _S504 = _S503 + make_float2 ((*dist_coeffs_12)[int(8)] * _S503.x + (*dist_coeffs_12)[int(9)] * _S503.y, 0.0f);
    float fx_5 = intrins_5.x;
    float fy_5 = intrins_5.y;
    *mean2d_5 = make_float2 (fx_5 * _S504.x + intrins_5.z, fy_5 * _S504.y + intrins_5.w);
    Matrix<float, 2, 3>  J_5;
    float2  _S505 = make_float2 (0.0f);
    float2  seed_6 = _S505;
    *&((&seed_6)->x) = 1.0f;
    float2  _S506 = seed_6;
    float _S507 = s_primal_ctx_atan2_0(r_9, _S499);
    bool _S508 = _S507 < 0.00100000004749745f;
    float _S509;
    float _S510;
    float _S511;
    if(_S508)
    {
        float _S512 = 1.0f - _S507 * _S507 / 3.0f;
        float _S513 = _S499 * _S499;
        k_1 = _S512 / _S499;
        _S509 = 0.0f;
        _S510 = _S513;
        _S511 = _S512;
    }
    else
    {
        float _S514 = r_9 * r_9;
        k_1 = _S507 / r_9;
        _S509 = _S514;
        _S510 = 0.0f;
        _S511 = 0.0f;
    }
    float2  _S515 = make_float2 (k_1);
    float2  _S516 = _S498 * make_float2 (k_1);
    float u_28 = _S516.x;
    float v_28 = _S516.y;
    float r2_28 = u_28 * u_28 + v_28 * v_28;
    float _S517 = (*dist_coeffs_12)[int(2)] + r2_28 * (*dist_coeffs_12)[int(3)];
    float _S518 = (*dist_coeffs_12)[int(1)] + r2_28 * _S517;
    float _S519 = (*dist_coeffs_12)[int(0)] + r2_28 * _S518;
    float _S520 = fx_5 * _S506.x;
    float2  _S521 = make_float2 (_S520, fy_5 * _S506.y) + make_float2 ((*dist_coeffs_12)[int(8)] * _S520, (*dist_coeffs_12)[int(9)] * _S520);
    float2  _S522 = _S516 * _S521;
    float _S523 = (*dist_coeffs_12)[int(4)] * _S521.y;
    float _S524 = (*dist_coeffs_12)[int(5)] * _S521.x;
    float _S525 = _S522.x + _S522.y;
    float _S526 = r2_28 * _S525;
    float _S527 = r2_28 * _S526;
    float _S528 = (*dist_coeffs_12)[int(7)] * _S521.y + _S523 + (*dist_coeffs_12)[int(6)] * _S521.x + _S524 + _S519 * _S525 + _S518 * _S526 + _S517 * _S527 + (*dist_coeffs_12)[int(3)] * (r2_28 * _S527);
    float _S529 = v_28 * _S528;
    float _S530 = u_28 * _S528;
    float2  _S531 = make_float2 (1.0f + r2_28 * _S519) * _S521 + make_float2 (_S502 * (v_28 * _S521.y) + 2.0f * u_28 * _S524 + 2.0f * (u_28 * _S524) + _S501 * (v_28 * _S521.x) + _S530 + _S530, 2.0f * v_28 * _S523 + 2.0f * (v_28 * _S523) + _S502 * u_28 * _S521.y + _S501 * u_28 * _S521.x + _S529 + _S529);
    float2  _S532 = _S498 * _S531;
    float2  _S533 = _S515 * _S531;
    float _S534 = _S532.x + _S532.y;
    if(_S508)
    {
        float _S535 = _S534 / _S510;
        float _S536 = _S511 * - _S535;
        float _S537 = _S507 * (0.3333333432674408f * - (_S499 * _S535));
        k_1 = _S537 + _S537;
        _S509 = _S536;
        _S510 = 0.0f;
    }
    else
    {
        float _S538 = _S534 / _S509;
        float _S539 = _S507 * - _S538;
        k_1 = r_9 * _S538;
        _S509 = 0.0f;
        _S510 = _S539;
    }
    DiffPair_float_0 _S540;
    (&_S540)->primal_0 = r_9;
    (&_S540)->differential_0 = 0.0f;
    DiffPair_float_0 _S541;
    (&_S541)->primal_0 = _S499;
    (&_S541)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S540, &_S541, k_1);
    float _S542 = _S541.differential_0 + _S509;
    float _S543 = _S540.differential_0 + _S510;
    float2  _S544 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S545;
    (&_S545)->primal_0 = _S498;
    (&_S545)->differential_0 = _S544;
    s_bwd_length_impl_0(&_S545, _S543);
    float2  _S546 = _S545.differential_0 + _S533;
    float3  _S547 = make_float3 (_S546.x, _S546.y, _S542);
    J_5[int(0)] = _S547;
    float2  seed_7 = _S505;
    *&((&seed_7)->y) = 1.0f;
    float2  _S548 = seed_7;
    if(_S508)
    {
        float _S549 = 1.0f - _S507 * _S507 / 3.0f;
        float _S550 = _S499 * _S499;
        k_1 = _S549 / _S499;
        _S509 = 0.0f;
        _S510 = _S550;
        _S511 = _S549;
    }
    else
    {
        float _S551 = r_9 * r_9;
        k_1 = _S507 / r_9;
        _S509 = _S551;
        _S510 = 0.0f;
        _S511 = 0.0f;
    }
    float2  _S552 = make_float2 (k_1);
    float2  _S553 = _S498 * make_float2 (k_1);
    float u_29 = _S553.x;
    float v_29 = _S553.y;
    float r2_29 = u_29 * u_29 + v_29 * v_29;
    float _S554 = (*dist_coeffs_12)[int(2)] + r2_29 * (*dist_coeffs_12)[int(3)];
    float _S555 = (*dist_coeffs_12)[int(1)] + r2_29 * _S554;
    float _S556 = (*dist_coeffs_12)[int(0)] + r2_29 * _S555;
    float _S557 = fx_5 * _S548.x;
    float2  _S558 = make_float2 (_S557, fy_5 * _S548.y) + make_float2 ((*dist_coeffs_12)[int(8)] * _S557, (*dist_coeffs_12)[int(9)] * _S557);
    float2  _S559 = _S553 * _S558;
    float _S560 = (*dist_coeffs_12)[int(4)] * _S558.y;
    float _S561 = (*dist_coeffs_12)[int(5)] * _S558.x;
    float _S562 = _S559.x + _S559.y;
    float _S563 = r2_29 * _S562;
    float _S564 = r2_29 * _S563;
    float _S565 = (*dist_coeffs_12)[int(7)] * _S558.y + _S560 + (*dist_coeffs_12)[int(6)] * _S558.x + _S561 + _S556 * _S562 + _S555 * _S563 + _S554 * _S564 + (*dist_coeffs_12)[int(3)] * (r2_29 * _S564);
    float _S566 = v_29 * _S565;
    float _S567 = u_29 * _S565;
    float2  _S568 = make_float2 (1.0f + r2_29 * _S556) * _S558 + make_float2 (_S502 * (v_29 * _S558.y) + 2.0f * u_29 * _S561 + 2.0f * (u_29 * _S561) + _S501 * (v_29 * _S558.x) + _S567 + _S567, 2.0f * v_29 * _S560 + 2.0f * (v_29 * _S560) + _S502 * u_29 * _S558.y + _S501 * u_29 * _S558.x + _S566 + _S566);
    float2  _S569 = _S498 * _S568;
    float2  _S570 = _S552 * _S568;
    float _S571 = _S569.x + _S569.y;
    if(_S508)
    {
        float _S572 = _S571 / _S510;
        float _S573 = _S511 * - _S572;
        float _S574 = _S507 * (0.3333333432674408f * - (_S499 * _S572));
        k_1 = _S574 + _S574;
        _S509 = _S573;
        _S510 = 0.0f;
    }
    else
    {
        float _S575 = _S571 / _S509;
        float _S576 = _S507 * - _S575;
        k_1 = r_9 * _S575;
        _S509 = 0.0f;
        _S510 = _S576;
    }
    DiffPair_float_0 _S577;
    (&_S577)->primal_0 = r_9;
    (&_S577)->differential_0 = 0.0f;
    DiffPair_float_0 _S578;
    (&_S578)->primal_0 = _S499;
    (&_S578)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S577, &_S578, k_1);
    float _S579 = _S578.differential_0 + _S509;
    float _S580 = _S577.differential_0 + _S510;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S581;
    (&_S581)->primal_0 = _S498;
    (&_S581)->differential_0 = _S544;
    s_bwd_length_impl_0(&_S581, _S580);
    float2  _S582 = _S581.differential_0 + _S570;
    float3  _S583 = make_float3 (_S582.x, _S582.y, _S579);
    J_5[int(1)] = _S583;
    *cov2d_5 = mul_6(mul_5(J_5, cov3d_3), transpose_1(J_5));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_2, float4  intrins_6, FixedArray<float, 10>  * dist_coeffs_13, Matrix<float, 2, 2>  * cov2d_6, float2  * mean2d_6)
{
    float2  * _S584;
    bool _S585;
    float2  * _S586;
    bool _S587;
    float2  * _S588;
    bool _S589;
    bool _S590;
    float2  * _S591;
    bool _S592;
    float2  * _S593;
    bool _S594;
    float2  * _S595;
    bool _S596;
    bool _S597;
    float2  * _S598;
    bool _S599;
    bool _S600;
    int2  _S601 = make_int2 (int(0));
    float2  _S602 = make_float2 ((float)_S601.x, (float)_S601.y);
    *mean2d_6 = _S602;
    *cov2d_6 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_2;
    for(;;)
    {
        float k_2;
        _S584 = &proj_points_2[int(0)];
        for(;;)
        {
            float2  _S603 = float2 {sigmas_2->p_0[int(0)].x, sigmas_2->p_0[int(0)].y};
            float r_10 = length_0(_S603);
            float _S604 = sigmas_2->p_0[int(0)].z;
            float theta_6 = (F32_atan2((r_10), (_S604)));
            if(theta_6 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_6 * theta_6 / 3.0f) / _S604;
            }
            else
            {
                k_2 = theta_6 / r_10;
            }
            float2  _S605 = _S603 * make_float2 (k_2);
            proj_points_2[int(0)] = _S605;
            Matrix<float, 2, 2>  _S606 = camera_distortion_jac_0(_S605, dist_coeffs_13);
            bool _S607 = !((F32_min((determinant_0(_S606)), ((F32_min((_S606.rows[int(0)].x), (_S606.rows[int(1)].y)))))) > 0.0f);
            _S585 = _S607;
            if(_S607)
            {
                break;
            }
            float u_30 = proj_points_2[int(0)].x;
            float v_30 = proj_points_2[int(0)].y;
            float r2_30 = u_30 * u_30 + v_30 * v_30;
            float2  _S608 = proj_points_2[int(0)] * make_float2 (1.0f + r2_30 * ((*dist_coeffs_13)[int(0)] + r2_30 * ((*dist_coeffs_13)[int(1)] + r2_30 * ((*dist_coeffs_13)[int(2)] + r2_30 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_30 * v_30 + (*dist_coeffs_13)[int(5)] * (r2_30 + 2.0f * u_30 * u_30) + (*dist_coeffs_13)[int(6)] * r2_30, 2.0f * (*dist_coeffs_13)[int(5)] * u_30 * v_30 + (*dist_coeffs_13)[int(4)] * (r2_30 + 2.0f * v_30 * v_30) + (*dist_coeffs_13)[int(7)] * r2_30);
            float2  _S609 = _S608 + make_float2 ((*dist_coeffs_13)[int(8)] * _S608.x + (*dist_coeffs_13)[int(9)] * _S608.y, 0.0f);
            proj_points_2[int(0)] = make_float2 (intrins_6.x * _S609.x + intrins_6.z, intrins_6.y * _S609.y + intrins_6.w);
            break;
        }
        bool all_valid_4 = true & (!_S585);
        _S586 = &proj_points_2[int(1)];
        for(;;)
        {
            float2  _S610 = float2 {sigmas_2->p_0[int(1)].x, sigmas_2->p_0[int(1)].y};
            float r_11 = length_0(_S610);
            float _S611 = sigmas_2->p_0[int(1)].z;
            float theta_7 = (F32_atan2((r_11), (_S611)));
            if(theta_7 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_7 * theta_7 / 3.0f) / _S611;
            }
            else
            {
                k_2 = theta_7 / r_11;
            }
            float2  _S612 = _S610 * make_float2 (k_2);
            proj_points_2[int(1)] = _S612;
            Matrix<float, 2, 2>  _S613 = camera_distortion_jac_0(_S612, dist_coeffs_13);
            bool _S614 = !((F32_min((determinant_0(_S613)), ((F32_min((_S613.rows[int(0)].x), (_S613.rows[int(1)].y)))))) > 0.0f);
            _S587 = _S614;
            if(_S614)
            {
                break;
            }
            float u_31 = proj_points_2[int(1)].x;
            float v_31 = proj_points_2[int(1)].y;
            float r2_31 = u_31 * u_31 + v_31 * v_31;
            float2  _S615 = proj_points_2[int(1)] * make_float2 (1.0f + r2_31 * ((*dist_coeffs_13)[int(0)] + r2_31 * ((*dist_coeffs_13)[int(1)] + r2_31 * ((*dist_coeffs_13)[int(2)] + r2_31 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_31 * v_31 + (*dist_coeffs_13)[int(5)] * (r2_31 + 2.0f * u_31 * u_31) + (*dist_coeffs_13)[int(6)] * r2_31, 2.0f * (*dist_coeffs_13)[int(5)] * u_31 * v_31 + (*dist_coeffs_13)[int(4)] * (r2_31 + 2.0f * v_31 * v_31) + (*dist_coeffs_13)[int(7)] * r2_31);
            float2  _S616 = _S615 + make_float2 ((*dist_coeffs_13)[int(8)] * _S615.x + (*dist_coeffs_13)[int(9)] * _S615.y, 0.0f);
            proj_points_2[int(1)] = make_float2 (intrins_6.x * _S616.x + intrins_6.z, intrins_6.y * _S616.y + intrins_6.w);
            break;
        }
        bool all_valid_5 = all_valid_4 & (!_S587);
        for(;;)
        {
            _S588 = &proj_points_2[int(2)];
            for(;;)
            {
                float2  _S617 = float2 {sigmas_2->p_0[int(2)].x, sigmas_2->p_0[int(2)].y};
                float r_12 = length_0(_S617);
                float _S618 = sigmas_2->p_0[int(2)].z;
                float theta_8 = (F32_atan2((r_12), (_S618)));
                if(theta_8 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_8 * theta_8 / 3.0f) / _S618;
                }
                else
                {
                    k_2 = theta_8 / r_12;
                }
                float2  _S619 = _S617 * make_float2 (k_2);
                proj_points_2[int(2)] = _S619;
                Matrix<float, 2, 2>  _S620 = camera_distortion_jac_0(_S619, dist_coeffs_13);
                bool _S621 = !((F32_min((determinant_0(_S620)), ((F32_min((_S620.rows[int(0)].x), (_S620.rows[int(1)].y)))))) > 0.0f);
                _S589 = _S621;
                if(_S621)
                {
                    break;
                }
                float u_32 = proj_points_2[int(2)].x;
                float v_32 = proj_points_2[int(2)].y;
                float r2_32 = u_32 * u_32 + v_32 * v_32;
                float2  _S622 = proj_points_2[int(2)] * make_float2 (1.0f + r2_32 * ((*dist_coeffs_13)[int(0)] + r2_32 * ((*dist_coeffs_13)[int(1)] + r2_32 * ((*dist_coeffs_13)[int(2)] + r2_32 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_32 * v_32 + (*dist_coeffs_13)[int(5)] * (r2_32 + 2.0f * u_32 * u_32) + (*dist_coeffs_13)[int(6)] * r2_32, 2.0f * (*dist_coeffs_13)[int(5)] * u_32 * v_32 + (*dist_coeffs_13)[int(4)] * (r2_32 + 2.0f * v_32 * v_32) + (*dist_coeffs_13)[int(7)] * r2_32);
                float2  _S623 = _S622 + make_float2 ((*dist_coeffs_13)[int(8)] * _S622.x + (*dist_coeffs_13)[int(9)] * _S622.y, 0.0f);
                proj_points_2[int(2)] = make_float2 (intrins_6.x * _S623.x + intrins_6.z, intrins_6.y * _S623.y + intrins_6.w);
                break;
            }
            _S590 = all_valid_5 & (!_S589);
            break;
        }
        _S591 = &proj_points_2[int(3)];
        for(;;)
        {
            float2  _S624 = float2 {sigmas_2->p_0[int(3)].x, sigmas_2->p_0[int(3)].y};
            float r_13 = length_0(_S624);
            float _S625 = sigmas_2->p_0[int(3)].z;
            float theta_9 = (F32_atan2((r_13), (_S625)));
            if(theta_9 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_9 * theta_9 / 3.0f) / _S625;
            }
            else
            {
                k_2 = theta_9 / r_13;
            }
            float2  _S626 = _S624 * make_float2 (k_2);
            proj_points_2[int(3)] = _S626;
            Matrix<float, 2, 2>  _S627 = camera_distortion_jac_0(_S626, dist_coeffs_13);
            bool _S628 = !((F32_min((determinant_0(_S627)), ((F32_min((_S627.rows[int(0)].x), (_S627.rows[int(1)].y)))))) > 0.0f);
            _S592 = _S628;
            if(_S628)
            {
                break;
            }
            float u_33 = proj_points_2[int(3)].x;
            float v_33 = proj_points_2[int(3)].y;
            float r2_33 = u_33 * u_33 + v_33 * v_33;
            float2  _S629 = proj_points_2[int(3)] * make_float2 (1.0f + r2_33 * ((*dist_coeffs_13)[int(0)] + r2_33 * ((*dist_coeffs_13)[int(1)] + r2_33 * ((*dist_coeffs_13)[int(2)] + r2_33 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_33 * v_33 + (*dist_coeffs_13)[int(5)] * (r2_33 + 2.0f * u_33 * u_33) + (*dist_coeffs_13)[int(6)] * r2_33, 2.0f * (*dist_coeffs_13)[int(5)] * u_33 * v_33 + (*dist_coeffs_13)[int(4)] * (r2_33 + 2.0f * v_33 * v_33) + (*dist_coeffs_13)[int(7)] * r2_33);
            float2  _S630 = _S629 + make_float2 ((*dist_coeffs_13)[int(8)] * _S629.x + (*dist_coeffs_13)[int(9)] * _S629.y, 0.0f);
            proj_points_2[int(3)] = make_float2 (intrins_6.x * _S630.x + intrins_6.z, intrins_6.y * _S630.y + intrins_6.w);
            break;
        }
        bool all_valid_6 = _S590 & (!_S592);
        _S593 = &proj_points_2[int(4)];
        for(;;)
        {
            float2  _S631 = float2 {sigmas_2->p_0[int(4)].x, sigmas_2->p_0[int(4)].y};
            float r_14 = length_0(_S631);
            float _S632 = sigmas_2->p_0[int(4)].z;
            float theta_10 = (F32_atan2((r_14), (_S632)));
            if(theta_10 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_10 * theta_10 / 3.0f) / _S632;
            }
            else
            {
                k_2 = theta_10 / r_14;
            }
            float2  _S633 = _S631 * make_float2 (k_2);
            proj_points_2[int(4)] = _S633;
            Matrix<float, 2, 2>  _S634 = camera_distortion_jac_0(_S633, dist_coeffs_13);
            bool _S635 = !((F32_min((determinant_0(_S634)), ((F32_min((_S634.rows[int(0)].x), (_S634.rows[int(1)].y)))))) > 0.0f);
            _S594 = _S635;
            if(_S635)
            {
                break;
            }
            float u_34 = proj_points_2[int(4)].x;
            float v_34 = proj_points_2[int(4)].y;
            float r2_34 = u_34 * u_34 + v_34 * v_34;
            float2  _S636 = proj_points_2[int(4)] * make_float2 (1.0f + r2_34 * ((*dist_coeffs_13)[int(0)] + r2_34 * ((*dist_coeffs_13)[int(1)] + r2_34 * ((*dist_coeffs_13)[int(2)] + r2_34 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_34 * v_34 + (*dist_coeffs_13)[int(5)] * (r2_34 + 2.0f * u_34 * u_34) + (*dist_coeffs_13)[int(6)] * r2_34, 2.0f * (*dist_coeffs_13)[int(5)] * u_34 * v_34 + (*dist_coeffs_13)[int(4)] * (r2_34 + 2.0f * v_34 * v_34) + (*dist_coeffs_13)[int(7)] * r2_34);
            float2  _S637 = _S636 + make_float2 ((*dist_coeffs_13)[int(8)] * _S636.x + (*dist_coeffs_13)[int(9)] * _S636.y, 0.0f);
            proj_points_2[int(4)] = make_float2 (intrins_6.x * _S637.x + intrins_6.z, intrins_6.y * _S637.y + intrins_6.w);
            break;
        }
        bool all_valid_7 = all_valid_6 & (!_S594);
        for(;;)
        {
            _S595 = &proj_points_2[int(5)];
            for(;;)
            {
                float2  _S638 = float2 {sigmas_2->p_0[int(5)].x, sigmas_2->p_0[int(5)].y};
                float r_15 = length_0(_S638);
                float _S639 = sigmas_2->p_0[int(5)].z;
                float theta_11 = (F32_atan2((r_15), (_S639)));
                if(theta_11 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_11 * theta_11 / 3.0f) / _S639;
                }
                else
                {
                    k_2 = theta_11 / r_15;
                }
                float2  _S640 = _S638 * make_float2 (k_2);
                proj_points_2[int(5)] = _S640;
                Matrix<float, 2, 2>  _S641 = camera_distortion_jac_0(_S640, dist_coeffs_13);
                bool _S642 = !((F32_min((determinant_0(_S641)), ((F32_min((_S641.rows[int(0)].x), (_S641.rows[int(1)].y)))))) > 0.0f);
                _S596 = _S642;
                if(_S642)
                {
                    break;
                }
                float u_35 = proj_points_2[int(5)].x;
                float v_35 = proj_points_2[int(5)].y;
                float r2_35 = u_35 * u_35 + v_35 * v_35;
                float2  _S643 = proj_points_2[int(5)] * make_float2 (1.0f + r2_35 * ((*dist_coeffs_13)[int(0)] + r2_35 * ((*dist_coeffs_13)[int(1)] + r2_35 * ((*dist_coeffs_13)[int(2)] + r2_35 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_35 * v_35 + (*dist_coeffs_13)[int(5)] * (r2_35 + 2.0f * u_35 * u_35) + (*dist_coeffs_13)[int(6)] * r2_35, 2.0f * (*dist_coeffs_13)[int(5)] * u_35 * v_35 + (*dist_coeffs_13)[int(4)] * (r2_35 + 2.0f * v_35 * v_35) + (*dist_coeffs_13)[int(7)] * r2_35);
                float2  _S644 = _S643 + make_float2 ((*dist_coeffs_13)[int(8)] * _S643.x + (*dist_coeffs_13)[int(9)] * _S643.y, 0.0f);
                proj_points_2[int(5)] = make_float2 (intrins_6.x * _S644.x + intrins_6.z, intrins_6.y * _S644.y + intrins_6.w);
                break;
            }
            _S597 = all_valid_7 & (!_S596);
            break;
        }
        _S598 = &proj_points_2[int(6)];
        for(;;)
        {
            float2  _S645 = float2 {sigmas_2->p_0[int(6)].x, sigmas_2->p_0[int(6)].y};
            float r_16 = length_0(_S645);
            float _S646 = sigmas_2->p_0[int(6)].z;
            float theta_12 = (F32_atan2((r_16), (_S646)));
            if(theta_12 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_12 * theta_12 / 3.0f) / _S646;
            }
            else
            {
                k_2 = theta_12 / r_16;
            }
            float2  _S647 = _S645 * make_float2 (k_2);
            proj_points_2[int(6)] = _S647;
            Matrix<float, 2, 2>  _S648 = camera_distortion_jac_0(_S647, dist_coeffs_13);
            bool _S649 = !((F32_min((determinant_0(_S648)), ((F32_min((_S648.rows[int(0)].x), (_S648.rows[int(1)].y)))))) > 0.0f);
            _S599 = _S649;
            if(_S649)
            {
                break;
            }
            float u_36 = proj_points_2[int(6)].x;
            float v_36 = proj_points_2[int(6)].y;
            float r2_36 = u_36 * u_36 + v_36 * v_36;
            float2  _S650 = proj_points_2[int(6)] * make_float2 (1.0f + r2_36 * ((*dist_coeffs_13)[int(0)] + r2_36 * ((*dist_coeffs_13)[int(1)] + r2_36 * ((*dist_coeffs_13)[int(2)] + r2_36 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_36 * v_36 + (*dist_coeffs_13)[int(5)] * (r2_36 + 2.0f * u_36 * u_36) + (*dist_coeffs_13)[int(6)] * r2_36, 2.0f * (*dist_coeffs_13)[int(5)] * u_36 * v_36 + (*dist_coeffs_13)[int(4)] * (r2_36 + 2.0f * v_36 * v_36) + (*dist_coeffs_13)[int(7)] * r2_36);
            float2  _S651 = _S650 + make_float2 ((*dist_coeffs_13)[int(8)] * _S650.x + (*dist_coeffs_13)[int(9)] * _S650.y, 0.0f);
            proj_points_2[int(6)] = make_float2 (intrins_6.x * _S651.x + intrins_6.z, intrins_6.y * _S651.y + intrins_6.w);
            break;
        }
        _S600 = _S597 & (!_S599);
        break;
    }
    if(!_S600)
    {
        return false;
    }
    float2  _S652 = *mean2d_6 + make_float2 (sigmas_2->w_mean_0[int(0)]) * *_S584;
    *mean2d_6 = _S652;
    float2  _S653 = _S652 + make_float2 (sigmas_2->w_mean_0[int(1)]) * *_S586;
    *mean2d_6 = _S653;
    float2  _S654 = _S653 + make_float2 (sigmas_2->w_mean_0[int(2)]) * *_S588;
    *mean2d_6 = _S654;
    float2  _S655 = _S654 + make_float2 (sigmas_2->w_mean_0[int(3)]) * *_S591;
    *mean2d_6 = _S655;
    float2  _S656 = _S655 + make_float2 (sigmas_2->w_mean_0[int(4)]) * *_S593;
    *mean2d_6 = _S656;
    float2  _S657 = _S656 + make_float2 (sigmas_2->w_mean_0[int(5)]) * *_S595;
    *mean2d_6 = _S657;
    float2  _S658 = _S657 + make_float2 (sigmas_2->w_mean_0[int(6)]) * *_S598;
    *mean2d_6 = _S658;
    float2  d_14 = *_S584 - _S658;
    float _S659 = d_14.x;
    float _S660 = d_14.y;
    float _S661 = _S659 * _S660;
    Matrix<float, 2, 2>  _S662 = *cov2d_6 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S659 * _S659, _S661, _S661, _S660 * _S660);
    *cov2d_6 = _S662;
    float2  d_15 = *_S586 - *mean2d_6;
    float _S663 = d_15.x;
    float _S664 = d_15.y;
    float _S665 = _S663 * _S664;
    Matrix<float, 2, 2>  _S666 = _S662 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S663 * _S663, _S665, _S665, _S664 * _S664);
    *cov2d_6 = _S666;
    float2  d_16 = *_S588 - *mean2d_6;
    float _S667 = d_16.x;
    float _S668 = d_16.y;
    float _S669 = _S667 * _S668;
    Matrix<float, 2, 2>  _S670 = _S666 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S667 * _S667, _S669, _S669, _S668 * _S668);
    *cov2d_6 = _S670;
    float2  d_17 = *_S591 - *mean2d_6;
    float _S671 = d_17.x;
    float _S672 = d_17.y;
    float _S673 = _S671 * _S672;
    Matrix<float, 2, 2>  _S674 = _S670 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S671 * _S671, _S673, _S673, _S672 * _S672);
    *cov2d_6 = _S674;
    float2  d_18 = *_S593 - *mean2d_6;
    float _S675 = d_18.x;
    float _S676 = d_18.y;
    float _S677 = _S675 * _S676;
    Matrix<float, 2, 2>  _S678 = _S674 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S675 * _S675, _S677, _S677, _S676 * _S676);
    *cov2d_6 = _S678;
    float2  d_19 = *_S595 - *mean2d_6;
    float _S679 = d_19.x;
    float _S680 = d_19.y;
    float _S681 = _S679 * _S680;
    Matrix<float, 2, 2>  _S682 = _S678 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S679 * _S679, _S681, _S681, _S680 * _S680);
    *cov2d_6 = _S682;
    float2  d_20 = *_S598 - *mean2d_6;
    float _S683 = d_20.x;
    float _S684 = d_20.y;
    float _S685 = _S683 * _S684;
    *cov2d_6 = _S682 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S683 * _S683, _S685, _S685, _S684 * _S684);
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_3, float4  intrins_7, FixedArray<float, 10>  * dist_coeffs_14, Matrix<float, 2, 2>  * cov2d_7, float2  * mean2d_7)
{
    int2  _S686 = make_int2 (int(0));
    float2  _S687 = make_float2 ((float)_S686.x, (float)_S686.y);
    *mean2d_7 = _S687;
    *cov2d_7 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_3;
    float2  _S688 = float2 {sigmas_3->p_0[int(0)].x, sigmas_3->p_0[int(0)].y};
    float r_17 = length_0(_S688);
    float _S689 = sigmas_3->p_0[int(0)].z;
    float theta_13 = (F32_atan2((r_17), (_S689)));
    float k_3;
    if(theta_13 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_13 * theta_13 / 3.0f) / _S689;
    }
    else
    {
        k_3 = theta_13 / r_17;
    }
    float2  _S690 = _S688 * make_float2 (k_3);
    float u_37 = _S690.x;
    float v_37 = _S690.y;
    float r2_37 = u_37 * u_37 + v_37 * v_37;
    float _S691 = 2.0f * (*dist_coeffs_14)[int(4)];
    float _S692 = 2.0f * (*dist_coeffs_14)[int(5)];
    float2  _S693 = _S690 * make_float2 (1.0f + r2_37 * ((*dist_coeffs_14)[int(0)] + r2_37 * ((*dist_coeffs_14)[int(1)] + r2_37 * ((*dist_coeffs_14)[int(2)] + r2_37 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S691 * u_37 * v_37 + (*dist_coeffs_14)[int(5)] * (r2_37 + 2.0f * u_37 * u_37) + (*dist_coeffs_14)[int(6)] * r2_37, _S692 * u_37 * v_37 + (*dist_coeffs_14)[int(4)] * (r2_37 + 2.0f * v_37 * v_37) + (*dist_coeffs_14)[int(7)] * r2_37);
    float2  _S694 = _S693 + make_float2 ((*dist_coeffs_14)[int(8)] * _S693.x + (*dist_coeffs_14)[int(9)] * _S693.y, 0.0f);
    float fx_6 = intrins_7.x;
    float fy_6 = intrins_7.y;
    float cx_3 = intrins_7.z;
    float cy_3 = intrins_7.w;
    proj_points_3[int(0)] = make_float2 (fx_6 * _S694.x + cx_3, fy_6 * _S694.y + cy_3);
    float2  _S695 = float2 {sigmas_3->p_0[int(1)].x, sigmas_3->p_0[int(1)].y};
    float r_18 = length_0(_S695);
    float _S696 = sigmas_3->p_0[int(1)].z;
    float theta_14 = (F32_atan2((r_18), (_S696)));
    if(theta_14 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_14 * theta_14 / 3.0f) / _S696;
    }
    else
    {
        k_3 = theta_14 / r_18;
    }
    float2  _S697 = _S695 * make_float2 (k_3);
    float u_38 = _S697.x;
    float v_38 = _S697.y;
    float r2_38 = u_38 * u_38 + v_38 * v_38;
    float2  _S698 = _S697 * make_float2 (1.0f + r2_38 * ((*dist_coeffs_14)[int(0)] + r2_38 * ((*dist_coeffs_14)[int(1)] + r2_38 * ((*dist_coeffs_14)[int(2)] + r2_38 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S691 * u_38 * v_38 + (*dist_coeffs_14)[int(5)] * (r2_38 + 2.0f * u_38 * u_38) + (*dist_coeffs_14)[int(6)] * r2_38, _S692 * u_38 * v_38 + (*dist_coeffs_14)[int(4)] * (r2_38 + 2.0f * v_38 * v_38) + (*dist_coeffs_14)[int(7)] * r2_38);
    float2  _S699 = _S698 + make_float2 ((*dist_coeffs_14)[int(8)] * _S698.x + (*dist_coeffs_14)[int(9)] * _S698.y, 0.0f);
    proj_points_3[int(1)] = make_float2 (fx_6 * _S699.x + cx_3, fy_6 * _S699.y + cy_3);
    float2  _S700 = float2 {sigmas_3->p_0[int(2)].x, sigmas_3->p_0[int(2)].y};
    float r_19 = length_0(_S700);
    float _S701 = sigmas_3->p_0[int(2)].z;
    float theta_15 = (F32_atan2((r_19), (_S701)));
    if(theta_15 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_15 * theta_15 / 3.0f) / _S701;
    }
    else
    {
        k_3 = theta_15 / r_19;
    }
    float2  _S702 = _S700 * make_float2 (k_3);
    float u_39 = _S702.x;
    float v_39 = _S702.y;
    float r2_39 = u_39 * u_39 + v_39 * v_39;
    float2  _S703 = _S702 * make_float2 (1.0f + r2_39 * ((*dist_coeffs_14)[int(0)] + r2_39 * ((*dist_coeffs_14)[int(1)] + r2_39 * ((*dist_coeffs_14)[int(2)] + r2_39 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S691 * u_39 * v_39 + (*dist_coeffs_14)[int(5)] * (r2_39 + 2.0f * u_39 * u_39) + (*dist_coeffs_14)[int(6)] * r2_39, _S692 * u_39 * v_39 + (*dist_coeffs_14)[int(4)] * (r2_39 + 2.0f * v_39 * v_39) + (*dist_coeffs_14)[int(7)] * r2_39);
    float2  _S704 = _S703 + make_float2 ((*dist_coeffs_14)[int(8)] * _S703.x + (*dist_coeffs_14)[int(9)] * _S703.y, 0.0f);
    proj_points_3[int(2)] = make_float2 (fx_6 * _S704.x + cx_3, fy_6 * _S704.y + cy_3);
    float2  _S705 = float2 {sigmas_3->p_0[int(3)].x, sigmas_3->p_0[int(3)].y};
    float r_20 = length_0(_S705);
    float _S706 = sigmas_3->p_0[int(3)].z;
    float theta_16 = (F32_atan2((r_20), (_S706)));
    if(theta_16 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_16 * theta_16 / 3.0f) / _S706;
    }
    else
    {
        k_3 = theta_16 / r_20;
    }
    float2  _S707 = _S705 * make_float2 (k_3);
    float u_40 = _S707.x;
    float v_40 = _S707.y;
    float r2_40 = u_40 * u_40 + v_40 * v_40;
    float2  _S708 = _S707 * make_float2 (1.0f + r2_40 * ((*dist_coeffs_14)[int(0)] + r2_40 * ((*dist_coeffs_14)[int(1)] + r2_40 * ((*dist_coeffs_14)[int(2)] + r2_40 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S691 * u_40 * v_40 + (*dist_coeffs_14)[int(5)] * (r2_40 + 2.0f * u_40 * u_40) + (*dist_coeffs_14)[int(6)] * r2_40, _S692 * u_40 * v_40 + (*dist_coeffs_14)[int(4)] * (r2_40 + 2.0f * v_40 * v_40) + (*dist_coeffs_14)[int(7)] * r2_40);
    float2  _S709 = _S708 + make_float2 ((*dist_coeffs_14)[int(8)] * _S708.x + (*dist_coeffs_14)[int(9)] * _S708.y, 0.0f);
    proj_points_3[int(3)] = make_float2 (fx_6 * _S709.x + cx_3, fy_6 * _S709.y + cy_3);
    float2  _S710 = float2 {sigmas_3->p_0[int(4)].x, sigmas_3->p_0[int(4)].y};
    float r_21 = length_0(_S710);
    float _S711 = sigmas_3->p_0[int(4)].z;
    float theta_17 = (F32_atan2((r_21), (_S711)));
    if(theta_17 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_17 * theta_17 / 3.0f) / _S711;
    }
    else
    {
        k_3 = theta_17 / r_21;
    }
    float2  _S712 = _S710 * make_float2 (k_3);
    float u_41 = _S712.x;
    float v_41 = _S712.y;
    float r2_41 = u_41 * u_41 + v_41 * v_41;
    float2  _S713 = _S712 * make_float2 (1.0f + r2_41 * ((*dist_coeffs_14)[int(0)] + r2_41 * ((*dist_coeffs_14)[int(1)] + r2_41 * ((*dist_coeffs_14)[int(2)] + r2_41 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S691 * u_41 * v_41 + (*dist_coeffs_14)[int(5)] * (r2_41 + 2.0f * u_41 * u_41) + (*dist_coeffs_14)[int(6)] * r2_41, _S692 * u_41 * v_41 + (*dist_coeffs_14)[int(4)] * (r2_41 + 2.0f * v_41 * v_41) + (*dist_coeffs_14)[int(7)] * r2_41);
    float2  _S714 = _S713 + make_float2 ((*dist_coeffs_14)[int(8)] * _S713.x + (*dist_coeffs_14)[int(9)] * _S713.y, 0.0f);
    proj_points_3[int(4)] = make_float2 (fx_6 * _S714.x + cx_3, fy_6 * _S714.y + cy_3);
    float2  _S715 = float2 {sigmas_3->p_0[int(5)].x, sigmas_3->p_0[int(5)].y};
    float r_22 = length_0(_S715);
    float _S716 = sigmas_3->p_0[int(5)].z;
    float theta_18 = (F32_atan2((r_22), (_S716)));
    if(theta_18 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_18 * theta_18 / 3.0f) / _S716;
    }
    else
    {
        k_3 = theta_18 / r_22;
    }
    float2  _S717 = _S715 * make_float2 (k_3);
    float u_42 = _S717.x;
    float v_42 = _S717.y;
    float r2_42 = u_42 * u_42 + v_42 * v_42;
    float2  _S718 = _S717 * make_float2 (1.0f + r2_42 * ((*dist_coeffs_14)[int(0)] + r2_42 * ((*dist_coeffs_14)[int(1)] + r2_42 * ((*dist_coeffs_14)[int(2)] + r2_42 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S691 * u_42 * v_42 + (*dist_coeffs_14)[int(5)] * (r2_42 + 2.0f * u_42 * u_42) + (*dist_coeffs_14)[int(6)] * r2_42, _S692 * u_42 * v_42 + (*dist_coeffs_14)[int(4)] * (r2_42 + 2.0f * v_42 * v_42) + (*dist_coeffs_14)[int(7)] * r2_42);
    float2  _S719 = _S718 + make_float2 ((*dist_coeffs_14)[int(8)] * _S718.x + (*dist_coeffs_14)[int(9)] * _S718.y, 0.0f);
    proj_points_3[int(5)] = make_float2 (fx_6 * _S719.x + cx_3, fy_6 * _S719.y + cy_3);
    float2  _S720 = float2 {sigmas_3->p_0[int(6)].x, sigmas_3->p_0[int(6)].y};
    float r_23 = length_0(_S720);
    float _S721 = sigmas_3->p_0[int(6)].z;
    float theta_19 = (F32_atan2((r_23), (_S721)));
    if(theta_19 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_19 * theta_19 / 3.0f) / _S721;
    }
    else
    {
        k_3 = theta_19 / r_23;
    }
    float2  _S722 = _S720 * make_float2 (k_3);
    float u_43 = _S722.x;
    float v_43 = _S722.y;
    float r2_43 = u_43 * u_43 + v_43 * v_43;
    float2  _S723 = _S722 * make_float2 (1.0f + r2_43 * ((*dist_coeffs_14)[int(0)] + r2_43 * ((*dist_coeffs_14)[int(1)] + r2_43 * ((*dist_coeffs_14)[int(2)] + r2_43 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S691 * u_43 * v_43 + (*dist_coeffs_14)[int(5)] * (r2_43 + 2.0f * u_43 * u_43) + (*dist_coeffs_14)[int(6)] * r2_43, _S692 * u_43 * v_43 + (*dist_coeffs_14)[int(4)] * (r2_43 + 2.0f * v_43 * v_43) + (*dist_coeffs_14)[int(7)] * r2_43);
    float2  _S724 = _S723 + make_float2 ((*dist_coeffs_14)[int(8)] * _S723.x + (*dist_coeffs_14)[int(9)] * _S723.y, 0.0f);
    float2  _S725 = make_float2 (fx_6 * _S724.x + cx_3, fy_6 * _S724.y + cy_3);
    proj_points_3[int(6)] = _S725;
    float2  _S726 = *mean2d_7 + make_float2 (sigmas_3->w_mean_0[int(0)]) * proj_points_3[int(0)];
    *mean2d_7 = _S726;
    float2  _S727 = _S726 + make_float2 (sigmas_3->w_mean_0[int(1)]) * proj_points_3[int(1)];
    *mean2d_7 = _S727;
    float2  _S728 = _S727 + make_float2 (sigmas_3->w_mean_0[int(2)]) * proj_points_3[int(2)];
    *mean2d_7 = _S728;
    float2  _S729 = _S728 + make_float2 (sigmas_3->w_mean_0[int(3)]) * proj_points_3[int(3)];
    *mean2d_7 = _S729;
    float2  _S730 = _S729 + make_float2 (sigmas_3->w_mean_0[int(4)]) * proj_points_3[int(4)];
    *mean2d_7 = _S730;
    float2  _S731 = _S730 + make_float2 (sigmas_3->w_mean_0[int(5)]) * proj_points_3[int(5)];
    *mean2d_7 = _S731;
    float2  _S732 = _S731 + make_float2 (sigmas_3->w_mean_0[int(6)]) * _S725;
    *mean2d_7 = _S732;
    float2  d_21 = proj_points_3[int(0)] - _S732;
    float _S733 = d_21.x;
    float _S734 = d_21.y;
    float _S735 = _S733 * _S734;
    Matrix<float, 2, 2>  _S736 = *cov2d_7 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S733 * _S733, _S735, _S735, _S734 * _S734);
    *cov2d_7 = _S736;
    float2  d_22 = proj_points_3[int(1)] - *mean2d_7;
    float _S737 = d_22.x;
    float _S738 = d_22.y;
    float _S739 = _S737 * _S738;
    Matrix<float, 2, 2>  _S740 = _S736 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S737 * _S737, _S739, _S739, _S738 * _S738);
    *cov2d_7 = _S740;
    float2  d_23 = proj_points_3[int(2)] - *mean2d_7;
    float _S741 = d_23.x;
    float _S742 = d_23.y;
    float _S743 = _S741 * _S742;
    Matrix<float, 2, 2>  _S744 = _S740 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S741 * _S741, _S743, _S743, _S742 * _S742);
    *cov2d_7 = _S744;
    float2  d_24 = proj_points_3[int(3)] - *mean2d_7;
    float _S745 = d_24.x;
    float _S746 = d_24.y;
    float _S747 = _S745 * _S746;
    Matrix<float, 2, 2>  _S748 = _S744 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S745 * _S745, _S747, _S747, _S746 * _S746);
    *cov2d_7 = _S748;
    float2  d_25 = proj_points_3[int(4)] - *mean2d_7;
    float _S749 = d_25.x;
    float _S750 = d_25.y;
    float _S751 = _S749 * _S750;
    Matrix<float, 2, 2>  _S752 = _S748 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S749 * _S749, _S751, _S751, _S750 * _S750);
    *cov2d_7 = _S752;
    float2  d_26 = proj_points_3[int(5)] - *mean2d_7;
    float _S753 = d_26.x;
    float _S754 = d_26.y;
    float _S755 = _S753 * _S754;
    Matrix<float, 2, 2>  _S756 = _S752 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S753 * _S753, _S755, _S755, _S754 * _S754);
    *cov2d_7 = _S756;
    float2  d_27 = _S725 - *mean2d_7;
    float _S757 = d_27.x;
    float _S758 = d_27.y;
    float _S759 = _S757 * _S758;
    *cov2d_7 = _S756 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S757 * _S757, _S759, _S759, _S758 * _S758);
    return true;
}

inline __device__ void ortho_proj_3dgs(float3  mean3d_4, Matrix<float, 3, 3>  cov3d_4, float fx_7, float fy_7, float cx_4, float cy_4, Matrix<float, 2, 2>  * cov2d_8, float2  * mean2d_8)
{
    Matrix<float, 2, 3>  J_6 = makeMatrix<float, 2, 3> (fx_7, 0.0f, 0.0f, 0.0f, fy_7, 0.0f);
    *cov2d_8 = mul_6(mul_5(J_6, cov3d_4), transpose_1(J_6));
    *mean2d_8 = make_float2 (fx_7 * mean3d_4.x + cx_4, fy_7 * mean3d_4.y + cy_4);
    return;
}

inline __device__ float add_blur(float eps2d_0, Matrix<float, 2, 2>  * covar_1, float * compensation_0)
{
    float det_orig_0 = *&((covar_1->rows + (int(0)))->x) * *&((covar_1->rows + (int(1)))->y) - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    float _S760 = *&((covar_1->rows + (int(0)))->x) + eps2d_0;
    *&((covar_1->rows + (int(0)))->x) = _S760;
    float _S761 = *&((covar_1->rows + (int(1)))->y) + eps2d_0;
    *&((covar_1->rows + (int(1)))->y) = _S761;
    float det_blur_0 = _S760 * _S761 - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    *compensation_0 = (F32_sqrt(((F32_max((0.0f), (det_orig_0 / det_blur_0))))));
    return det_blur_0;
}

inline __device__ float3  exp_0(float3  x_13)
{
    float3  result_12;
    int i_8 = int(0);
    for(;;)
    {
        if(i_8 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_12, i_8) = (F32_exp((_slang_vector_get_element(x_13, i_8))));
        i_8 = i_8 + int(1);
    }
    return result_12;
}

inline __device__ void _d_exp_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_11, float3  dOut_12)
{
    float3  _S762 = exp_0((*dpx_11).primal_0) * dOut_12;
    dpx_11->primal_0 = (*dpx_11).primal_0;
    dpx_11->differential_0 = _S762;
    return;
}

inline __device__ DiffPair_vectorx3Cfloatx2C3x3E_0 _d_exp_vector_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_12)
{
    float3  _S763 = exp_0(dpx_12->primal_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S764 = { _S763, _S763 * dpx_12->differential_0 };
    return _S764;
}

inline __device__ void _d_log_0(DiffPair_float_0 * dpx_13, float dOut_13)
{
    float _S765 = 1.0f / (*dpx_13).primal_0 * dOut_13;
    dpx_13->primal_0 = (*dpx_13).primal_0;
    dpx_13->differential_0 = _S765;
    return;
}

inline __device__ void _d_max_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_14, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_5, float3  dOut_14)
{
    DiffPair_float_0 left_dp_0;
    (&left_dp_0)->primal_0 = (*dpx_14).primal_0.x;
    (&left_dp_0)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_0;
    (&right_dp_0)->primal_0 = (*dpy_5).primal_0.x;
    (&right_dp_0)->differential_0 = 0.0f;
    _d_max_0(&left_dp_0, &right_dp_0, dOut_14.x);
    float3  left_d_result_5;
    *&((&left_d_result_5)->x) = left_dp_0.differential_0;
    float3  right_d_result_5;
    *&((&right_d_result_5)->x) = right_dp_0.differential_0;
    DiffPair_float_0 left_dp_1;
    (&left_dp_1)->primal_0 = (*dpx_14).primal_0.y;
    (&left_dp_1)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_1;
    (&right_dp_1)->primal_0 = (*dpy_5).primal_0.y;
    (&right_dp_1)->differential_0 = 0.0f;
    _d_max_0(&left_dp_1, &right_dp_1, dOut_14.y);
    *&((&left_d_result_5)->y) = left_dp_1.differential_0;
    *&((&right_d_result_5)->y) = right_dp_1.differential_0;
    DiffPair_float_0 left_dp_2;
    (&left_dp_2)->primal_0 = (*dpx_14).primal_0.z;
    (&left_dp_2)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_2;
    (&right_dp_2)->primal_0 = (*dpy_5).primal_0.z;
    (&right_dp_2)->differential_0 = 0.0f;
    _d_max_0(&left_dp_2, &right_dp_2, dOut_14.z);
    *&((&left_d_result_5)->z) = left_dp_2.differential_0;
    *&((&right_d_result_5)->z) = right_dp_2.differential_0;
    dpx_14->primal_0 = (*dpx_14).primal_0;
    dpx_14->differential_0 = left_d_result_5;
    dpy_5->primal_0 = (*dpy_5).primal_0;
    dpy_5->differential_0 = right_d_result_5;
    return;
}

inline __device__ DiffPair_vectorx3Cfloatx2C3x3E_0 _d_max_vector_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_15, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_6)
{
    DiffPair_float_0 _S766;
    (&_S766)->primal_0 = *&((&dpx_15->primal_0)->x);
    (&_S766)->differential_0 = *&((&dpx_15->differential_0)->x);
    DiffPair_float_0 _S767;
    (&_S767)->primal_0 = *&((&dpy_6->primal_0)->x);
    (&_S767)->differential_0 = *&((&dpy_6->differential_0)->x);
    DiffPair_float_0 _S768 = _d_max_1(&_S766, &_S767);
    float3  result_13;
    *&((&result_13)->x) = _S768.primal_0;
    float3  d_result_0;
    *&((&d_result_0)->x) = _S768.differential_0;
    DiffPair_float_0 _S769;
    (&_S769)->primal_0 = *&((&dpx_15->primal_0)->y);
    (&_S769)->differential_0 = *&((&dpx_15->differential_0)->y);
    DiffPair_float_0 _S770;
    (&_S770)->primal_0 = *&((&dpy_6->primal_0)->y);
    (&_S770)->differential_0 = *&((&dpy_6->differential_0)->y);
    DiffPair_float_0 _S771 = _d_max_1(&_S769, &_S770);
    *&((&result_13)->y) = _S771.primal_0;
    *&((&d_result_0)->y) = _S771.differential_0;
    DiffPair_float_0 _S772;
    (&_S772)->primal_0 = *&((&dpx_15->primal_0)->z);
    (&_S772)->differential_0 = *&((&dpx_15->differential_0)->z);
    DiffPair_float_0 _S773;
    (&_S773)->primal_0 = *&((&dpy_6->primal_0)->z);
    (&_S773)->differential_0 = *&((&dpy_6->differential_0)->z);
    DiffPair_float_0 _S774 = _d_max_1(&_S772, &_S773);
    *&((&result_13)->z) = _S774.primal_0;
    *&((&d_result_0)->z) = _S774.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S775 = { result_13, d_result_0 };
    return _S775;
}

inline __device__ float3  max_0(float3  x_14, float3  y_2)
{
    float3  result_14;
    int i_9 = int(0);
    for(;;)
    {
        if(i_9 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_14, i_9) = (F32_max((_slang_vector_get_element(x_14, i_9)), (_slang_vector_get_element(y_2, i_9))));
        i_9 = i_9 + int(1);
    }
    return result_14;
}

inline __device__ void projection_3dgs_persp(bool antialiased_0, float3  mean_1, float4  quat_4, float3  scale_3, float in_opacity_0, FixedArray<float3 , 16>  * sh_coeffs_0, Matrix<float, 3, 3>  R_7, float3  t_3, float fx_8, float fy_8, float cx_5, float cy_5, FixedArray<float, 10>  * dist_coeffs_15, uint image_width_0, uint image_height_0, float near_plane_0, float far_plane_0, int4  * aabb_xyxy_0, float2  * mean2d_9, float * depth_0, float3  * conic_0, float * opacity_0, float3  * rgb_0)
{
    for(;;)
    {
        float3  mean_c_0 = mul_0(R_7, mean_1) + t_3;
        float _S776 = mean_c_0.z;
        bool _S777;
        if(_S776 < near_plane_0)
        {
            _S777 = true;
        }
        else
        {
            _S777 = _S776 > far_plane_0;
        }
        if(_S777)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_8 = make_float4 (fx_8, fy_8, cx_5, cy_5);
        Matrix<float, 2, 2>  covar2d_0;
        float3  _S778 = exp_0(scale_3);
        float x_15 = quat_4.y;
        float x2_4 = x_15 * x_15;
        float y2_4 = quat_4.z * quat_4.z;
        float z2_4 = quat_4.w * quat_4.w;
        float xy_4 = quat_4.y * quat_4.z;
        float xz_4 = quat_4.y * quat_4.w;
        float yz_4 = quat_4.z * quat_4.w;
        float wx_4 = quat_4.x * quat_4.y;
        float wy_4 = quat_4.x * quat_4.z;
        float wz_4 = quat_4.x * quat_4.w;
        Matrix<float, 3, 3>  M_2 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_4 + z2_4), 2.0f * (xy_4 + wz_4), 2.0f * (xz_4 - wy_4), 2.0f * (xy_4 - wz_4), 1.0f - 2.0f * (x2_4 + z2_4), 2.0f * (yz_4 + wx_4), 2.0f * (xz_4 + wy_4), 2.0f * (yz_4 - wx_4), 1.0f - 2.0f * (x2_4 + y2_4))), makeMatrix<float, 3, 3> (_S778.x, 0.0f, 0.0f, 0.0f, _S778.y, 0.0f, 0.0f, 0.0f, _S778.z));
        Matrix<float, 3, 3>  _S779 = transpose_0(R_7);
        bool _S780 = persp_proj_3dgs_0(mean_c_0, mul_4(mul_4(R_7, mul_4(M_2, transpose_0(M_2))), _S779), intrins_8, dist_coeffs_15, image_width_0, image_height_0, &covar2d_0, mean2d_9);
        if(!(true & _S780))
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_1 = *&(((&covar2d_0)->rows + (int(0)))->x) * *&(((&covar2d_0)->rows + (int(1)))->y) - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float _S781 = *&(((&covar2d_0)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(0)))->x) = _S781;
        float _S782 = *&(((&covar2d_0)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(1)))->y) = _S782;
        float det_blur_1 = _S781 * _S782 - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float compensation_1 = (F32_sqrt(((F32_max((0.0f), (det_orig_1 / det_blur_1))))));
        if(det_blur_1 <= 0.0f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_1 = 1.0f / (covar2d_0.rows[int(0)].x * covar2d_0.rows[int(1)].y - covar2d_0.rows[int(0)].y * covar2d_0.rows[int(1)].x);
        Matrix<float, 2, 2>  _S783 = makeMatrix<float, 2, 2> (covar2d_0.rows[int(1)].y * invdet_1, - covar2d_0.rows[int(0)].y * invdet_1, - covar2d_0.rows[int(1)].x * invdet_1, covar2d_0.rows[int(0)].x * invdet_1);
        *opacity_0 = 1.0f / (1.0f + (F32_exp((- in_opacity_0))));
        if(antialiased_0)
        {
            *opacity_0 = *opacity_0 * compensation_1;
        }
        if((*opacity_0) < 0.00392156885936856f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_0 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_0 / 0.00392156885936856f)))))))));
        float radius_x_0 = extend_0 * (F32_sqrt((covar2d_0[int(0)].x)));
        float radius_y_0 = extend_0 * (F32_sqrt((covar2d_0[int(1)].y)));
        float xmin_0 = (F32_floor(((*mean2d_9).x - radius_x_0)));
        float xmax_0 = (F32_ceil(((*mean2d_9).x + radius_x_0)));
        float ymin_0 = (F32_floor(((*mean2d_9).y - radius_y_0)));
        float ymax_0 = (F32_ceil(((*mean2d_9).y + radius_y_0)));
        if(xmax_0 <= 0.0f)
        {
            _S777 = true;
        }
        else
        {
            _S777 = xmin_0 >= float(image_width_0);
        }
        if(_S777)
        {
            _S777 = true;
        }
        else
        {
            _S777 = ymax_0 <= 0.0f;
        }
        if(_S777)
        {
            _S777 = true;
        }
        else
        {
            _S777 = ymin_0 >= float(image_height_0);
        }
        if(_S777)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_0 = make_int4 (int(xmin_0), int(ymin_0), int(xmax_0), int(ymax_0));
        *depth_0 = length_1(mean_c_0);
        *conic_0 = make_float3 (_S783.rows[int(0)].x, _S783.rows[int(0)].y, _S783.rows[int(1)].y);
        float3  _S784 = mean_1 - - mul_0(_S779, t_3);
        float3  _S785 = make_float3 (0.282094806432724f) * (*sh_coeffs_0)[int(0)];
        *rgb_0 = _S785;
        float _S786 = _S784.x;
        float _S787 = _S784.y;
        float _S788 = _S784.z;
        float norm_0 = (F32_sqrt((_S786 * _S786 + _S787 * _S787 + _S788 * _S788)));
        float x_16 = _S786 / norm_0;
        float y_3 = _S787 / norm_0;
        float z_0 = _S788 / norm_0;
        float3  _S789 = _S785 + make_float3 (0.48860251903533936f) * (make_float3 (- y_3) * (*sh_coeffs_0)[int(1)] + make_float3 (z_0) * (*sh_coeffs_0)[int(2)] - make_float3 (x_16) * (*sh_coeffs_0)[int(3)]);
        *rgb_0 = _S789;
        float z2_5 = z_0 * z_0;
        float fTmp0B_0 = -1.09254848957061768f * z_0;
        float fC1_0 = x_16 * x_16 - y_3 * y_3;
        float fS1_0 = 2.0f * x_16 * y_3;
        float3  _S790 = _S789 + (make_float3 (0.54627424478530884f * fS1_0) * (*sh_coeffs_0)[int(4)] + make_float3 (fTmp0B_0 * y_3) * (*sh_coeffs_0)[int(5)] + make_float3 (0.94617468118667603f * z2_5 - 0.31539157032966614f) * (*sh_coeffs_0)[int(6)] + make_float3 (fTmp0B_0 * x_16) * (*sh_coeffs_0)[int(7)] + make_float3 (0.54627424478530884f * fC1_0) * (*sh_coeffs_0)[int(8)]);
        *rgb_0 = _S790;
        float fTmp0C_0 = -2.28522896766662598f * z2_5 + 0.4570457935333252f;
        float fTmp1B_0 = 1.44530570507049561f * z_0;
        *rgb_0 = max_0(_S790 + (make_float3 (-0.59004360437393188f * (x_16 * fS1_0 + y_3 * fC1_0)) * (*sh_coeffs_0)[int(9)] + make_float3 (fTmp1B_0 * fS1_0) * (*sh_coeffs_0)[int(10)] + make_float3 (fTmp0C_0 * y_3) * (*sh_coeffs_0)[int(11)] + make_float3 (z_0 * (1.86588168144226074f * z2_5 - 1.11952900886535645f)) * (*sh_coeffs_0)[int(12)] + make_float3 (fTmp0C_0 * x_16) * (*sh_coeffs_0)[int(13)] + make_float3 (fTmp1B_0 * fC1_0) * (*sh_coeffs_0)[int(14)] + make_float3 (-0.59004360437393188f * (x_16 * fC1_0 - y_3 * fS1_0)) * (*sh_coeffs_0)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_fisheye(bool antialiased_1, float3  mean_2, float4  quat_5, float3  scale_4, float in_opacity_1, FixedArray<float3 , 16>  * sh_coeffs_1, Matrix<float, 3, 3>  R_8, float3  t_4, float fx_9, float fy_9, float cx_6, float cy_6, FixedArray<float, 10>  * dist_coeffs_16, uint image_width_1, uint image_height_1, float near_plane_1, float far_plane_1, int4  * aabb_xyxy_1, float2  * mean2d_10, float * depth_1, float3  * conic_1, float * opacity_1, float3  * rgb_1)
{
    for(;;)
    {
        float3  mean_c_1 = mul_0(R_8, mean_2) + t_4;
        float _S791 = length_1(mean_c_1);
        bool _S792;
        if(_S791 < near_plane_1)
        {
            _S792 = true;
        }
        else
        {
            _S792 = _S791 > far_plane_1;
        }
        if(_S792)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_9 = make_float4 (fx_9, fy_9, cx_6, cy_6);
        Matrix<float, 2, 2>  covar2d_1;
        float3  _S793 = exp_0(scale_4);
        float x_17 = quat_5.y;
        float x2_5 = x_17 * x_17;
        float y2_5 = quat_5.z * quat_5.z;
        float z2_6 = quat_5.w * quat_5.w;
        float xy_5 = quat_5.y * quat_5.z;
        float xz_5 = quat_5.y * quat_5.w;
        float yz_5 = quat_5.z * quat_5.w;
        float wx_5 = quat_5.x * quat_5.y;
        float wy_5 = quat_5.x * quat_5.z;
        float wz_5 = quat_5.x * quat_5.w;
        Matrix<float, 3, 3>  M_3 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_5 + z2_6), 2.0f * (xy_5 + wz_5), 2.0f * (xz_5 - wy_5), 2.0f * (xy_5 - wz_5), 1.0f - 2.0f * (x2_5 + z2_6), 2.0f * (yz_5 + wx_5), 2.0f * (xz_5 + wy_5), 2.0f * (yz_5 - wx_5), 1.0f - 2.0f * (x2_5 + y2_5))), makeMatrix<float, 3, 3> (_S793.x, 0.0f, 0.0f, 0.0f, _S793.y, 0.0f, 0.0f, 0.0f, _S793.z));
        Matrix<float, 3, 3>  _S794 = transpose_0(R_8);
        bool _S795 = fisheye_proj_3dgs_0(mean_c_1, mul_4(mul_4(R_8, mul_4(M_3, transpose_0(M_3))), _S794), intrins_9, dist_coeffs_16, &covar2d_1, mean2d_10);
        if(!(true & _S795))
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_2 = *&(((&covar2d_1)->rows + (int(0)))->x) * *&(((&covar2d_1)->rows + (int(1)))->y) - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float _S796 = *&(((&covar2d_1)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(0)))->x) = _S796;
        float _S797 = *&(((&covar2d_1)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(1)))->y) = _S797;
        float det_blur_2 = _S796 * _S797 - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float compensation_2 = (F32_sqrt(((F32_max((0.0f), (det_orig_2 / det_blur_2))))));
        if(det_blur_2 <= 0.0f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_2 = 1.0f / (covar2d_1.rows[int(0)].x * covar2d_1.rows[int(1)].y - covar2d_1.rows[int(0)].y * covar2d_1.rows[int(1)].x);
        Matrix<float, 2, 2>  _S798 = makeMatrix<float, 2, 2> (covar2d_1.rows[int(1)].y * invdet_2, - covar2d_1.rows[int(0)].y * invdet_2, - covar2d_1.rows[int(1)].x * invdet_2, covar2d_1.rows[int(0)].x * invdet_2);
        *opacity_1 = 1.0f / (1.0f + (F32_exp((- in_opacity_1))));
        if(antialiased_1)
        {
            *opacity_1 = *opacity_1 * compensation_2;
        }
        if((*opacity_1) < 0.00392156885936856f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_1 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_1 / 0.00392156885936856f)))))))));
        float radius_x_1 = extend_1 * (F32_sqrt((covar2d_1[int(0)].x)));
        float radius_y_1 = extend_1 * (F32_sqrt((covar2d_1[int(1)].y)));
        float xmin_1 = (F32_floor(((*mean2d_10).x - radius_x_1)));
        float xmax_1 = (F32_ceil(((*mean2d_10).x + radius_x_1)));
        float ymin_1 = (F32_floor(((*mean2d_10).y - radius_y_1)));
        float ymax_1 = (F32_ceil(((*mean2d_10).y + radius_y_1)));
        if(xmax_1 <= 0.0f)
        {
            _S792 = true;
        }
        else
        {
            _S792 = xmin_1 >= float(image_width_1);
        }
        if(_S792)
        {
            _S792 = true;
        }
        else
        {
            _S792 = ymax_1 <= 0.0f;
        }
        if(_S792)
        {
            _S792 = true;
        }
        else
        {
            _S792 = ymin_1 >= float(image_height_1);
        }
        if(_S792)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_1 = make_int4 (int(xmin_1), int(ymin_1), int(xmax_1), int(ymax_1));
        *depth_1 = _S791;
        *conic_1 = make_float3 (_S798.rows[int(0)].x, _S798.rows[int(0)].y, _S798.rows[int(1)].y);
        float3  _S799 = mean_2 - - mul_0(_S794, t_4);
        float3  _S800 = make_float3 (0.282094806432724f) * (*sh_coeffs_1)[int(0)];
        *rgb_1 = _S800;
        float _S801 = _S799.x;
        float _S802 = _S799.y;
        float _S803 = _S799.z;
        float norm_1 = (F32_sqrt((_S801 * _S801 + _S802 * _S802 + _S803 * _S803)));
        float x_18 = _S801 / norm_1;
        float y_4 = _S802 / norm_1;
        float z_1 = _S803 / norm_1;
        float3  _S804 = _S800 + make_float3 (0.48860251903533936f) * (make_float3 (- y_4) * (*sh_coeffs_1)[int(1)] + make_float3 (z_1) * (*sh_coeffs_1)[int(2)] - make_float3 (x_18) * (*sh_coeffs_1)[int(3)]);
        *rgb_1 = _S804;
        float z2_7 = z_1 * z_1;
        float fTmp0B_1 = -1.09254848957061768f * z_1;
        float fC1_1 = x_18 * x_18 - y_4 * y_4;
        float fS1_1 = 2.0f * x_18 * y_4;
        float3  _S805 = _S804 + (make_float3 (0.54627424478530884f * fS1_1) * (*sh_coeffs_1)[int(4)] + make_float3 (fTmp0B_1 * y_4) * (*sh_coeffs_1)[int(5)] + make_float3 (0.94617468118667603f * z2_7 - 0.31539157032966614f) * (*sh_coeffs_1)[int(6)] + make_float3 (fTmp0B_1 * x_18) * (*sh_coeffs_1)[int(7)] + make_float3 (0.54627424478530884f * fC1_1) * (*sh_coeffs_1)[int(8)]);
        *rgb_1 = _S805;
        float fTmp0C_1 = -2.28522896766662598f * z2_7 + 0.4570457935333252f;
        float fTmp1B_1 = 1.44530570507049561f * z_1;
        *rgb_1 = max_0(_S805 + (make_float3 (-0.59004360437393188f * (x_18 * fS1_1 + y_4 * fC1_1)) * (*sh_coeffs_1)[int(9)] + make_float3 (fTmp1B_1 * fS1_1) * (*sh_coeffs_1)[int(10)] + make_float3 (fTmp0C_1 * y_4) * (*sh_coeffs_1)[int(11)] + make_float3 (z_1 * (1.86588168144226074f * z2_7 - 1.11952900886535645f)) * (*sh_coeffs_1)[int(12)] + make_float3 (fTmp0C_1 * x_18) * (*sh_coeffs_1)[int(13)] + make_float3 (fTmp1B_1 * fC1_1) * (*sh_coeffs_1)[int(14)] + make_float3 (-0.59004360437393188f * (x_18 * fC1_1 - y_4 * fS1_1)) * (*sh_coeffs_1)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_ortho(bool antialiased_2, float3  mean_3, float4  quat_6, float3  scale_5, float in_opacity_2, FixedArray<float3 , 16>  * sh_coeffs_2, Matrix<float, 3, 3>  R_9, float3  t_5, float fx_10, float fy_10, float cx_7, float cy_7, FixedArray<float, 10>  * dist_coeffs_17, uint image_width_2, uint image_height_2, float near_plane_2, float far_plane_2, int4  * aabb_xyxy_2, float2  * mean2d_11, float * depth_2, float3  * conic_2, float * opacity_2, float3  * rgb_2)
{
    for(;;)
    {
        float3  mean_c_2 = mul_0(R_9, mean_3) + t_5;
        float _S806 = mean_c_2.z;
        bool _S807;
        if(_S806 < near_plane_2)
        {
            _S807 = true;
        }
        else
        {
            _S807 = _S806 > far_plane_2;
        }
        if(_S807)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        Matrix<float, 2, 2>  covar2d_2;
        float3  _S808 = exp_0(scale_5);
        float x_19 = quat_6.y;
        float x2_6 = x_19 * x_19;
        float y2_6 = quat_6.z * quat_6.z;
        float z2_8 = quat_6.w * quat_6.w;
        float xy_6 = quat_6.y * quat_6.z;
        float xz_6 = quat_6.y * quat_6.w;
        float yz_6 = quat_6.z * quat_6.w;
        float wx_6 = quat_6.x * quat_6.y;
        float wy_6 = quat_6.x * quat_6.z;
        float wz_6 = quat_6.x * quat_6.w;
        Matrix<float, 3, 3>  M_4 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_6 + z2_8), 2.0f * (xy_6 + wz_6), 2.0f * (xz_6 - wy_6), 2.0f * (xy_6 - wz_6), 1.0f - 2.0f * (x2_6 + z2_8), 2.0f * (yz_6 + wx_6), 2.0f * (xz_6 + wy_6), 2.0f * (yz_6 - wx_6), 1.0f - 2.0f * (x2_6 + y2_6))), makeMatrix<float, 3, 3> (_S808.x, 0.0f, 0.0f, 0.0f, _S808.y, 0.0f, 0.0f, 0.0f, _S808.z));
        Matrix<float, 3, 3>  _S809 = transpose_0(R_9);
        Matrix<float, 2, 3>  J_7 = makeMatrix<float, 2, 3> (fx_10, 0.0f, 0.0f, 0.0f, fy_10, 0.0f);
        covar2d_2 = mul_6(mul_5(J_7, mul_4(mul_4(R_9, mul_4(M_4, transpose_0(M_4))), _S809)), transpose_1(J_7));
        *mean2d_11 = make_float2 (fx_10 * mean_c_2.x + cx_7, fy_10 * mean_c_2.y + cy_7);
        float det_orig_3 = *&(((&covar2d_2)->rows + (int(0)))->x) * *&(((&covar2d_2)->rows + (int(1)))->y) - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float _S810 = *&(((&covar2d_2)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(0)))->x) = _S810;
        float _S811 = *&(((&covar2d_2)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(1)))->y) = _S811;
        float det_blur_3 = _S810 * _S811 - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float compensation_3 = (F32_sqrt(((F32_max((0.0f), (det_orig_3 / det_blur_3))))));
        if(det_blur_3 <= 0.0f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_3 = 1.0f / (covar2d_2.rows[int(0)].x * covar2d_2.rows[int(1)].y - covar2d_2.rows[int(0)].y * covar2d_2.rows[int(1)].x);
        Matrix<float, 2, 2>  _S812 = makeMatrix<float, 2, 2> (covar2d_2.rows[int(1)].y * invdet_3, - covar2d_2.rows[int(0)].y * invdet_3, - covar2d_2.rows[int(1)].x * invdet_3, covar2d_2.rows[int(0)].x * invdet_3);
        *opacity_2 = 1.0f / (1.0f + (F32_exp((- in_opacity_2))));
        if(antialiased_2)
        {
            *opacity_2 = *opacity_2 * compensation_3;
        }
        if((*opacity_2) < 0.00392156885936856f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_2 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_2 / 0.00392156885936856f)))))))));
        float radius_x_2 = extend_2 * (F32_sqrt((covar2d_2[int(0)].x)));
        float radius_y_2 = extend_2 * (F32_sqrt((covar2d_2[int(1)].y)));
        float xmin_2 = (F32_floor(((*mean2d_11).x - radius_x_2)));
        float xmax_2 = (F32_ceil(((*mean2d_11).x + radius_x_2)));
        float ymin_2 = (F32_floor(((*mean2d_11).y - radius_y_2)));
        float ymax_2 = (F32_ceil(((*mean2d_11).y + radius_y_2)));
        if(xmax_2 <= 0.0f)
        {
            _S807 = true;
        }
        else
        {
            _S807 = xmin_2 >= float(image_width_2);
        }
        if(_S807)
        {
            _S807 = true;
        }
        else
        {
            _S807 = ymax_2 <= 0.0f;
        }
        if(_S807)
        {
            _S807 = true;
        }
        else
        {
            _S807 = ymin_2 >= float(image_height_2);
        }
        if(_S807)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_2 = make_int4 (int(xmin_2), int(ymin_2), int(xmax_2), int(ymax_2));
        *depth_2 = length_1(mean_c_2);
        *conic_2 = make_float3 (_S812.rows[int(0)].x, _S812.rows[int(0)].y, _S812.rows[int(1)].y);
        float3  _S813 = mean_3 - - mul_0(_S809, t_5);
        float3  _S814 = make_float3 (0.282094806432724f) * (*sh_coeffs_2)[int(0)];
        *rgb_2 = _S814;
        float _S815 = _S813.x;
        float _S816 = _S813.y;
        float _S817 = _S813.z;
        float norm_2 = (F32_sqrt((_S815 * _S815 + _S816 * _S816 + _S817 * _S817)));
        float x_20 = _S815 / norm_2;
        float y_5 = _S816 / norm_2;
        float z_2 = _S817 / norm_2;
        float3  _S818 = _S814 + make_float3 (0.48860251903533936f) * (make_float3 (- y_5) * (*sh_coeffs_2)[int(1)] + make_float3 (z_2) * (*sh_coeffs_2)[int(2)] - make_float3 (x_20) * (*sh_coeffs_2)[int(3)]);
        *rgb_2 = _S818;
        float z2_9 = z_2 * z_2;
        float fTmp0B_2 = -1.09254848957061768f * z_2;
        float fC1_2 = x_20 * x_20 - y_5 * y_5;
        float fS1_2 = 2.0f * x_20 * y_5;
        float3  _S819 = _S818 + (make_float3 (0.54627424478530884f * fS1_2) * (*sh_coeffs_2)[int(4)] + make_float3 (fTmp0B_2 * y_5) * (*sh_coeffs_2)[int(5)] + make_float3 (0.94617468118667603f * z2_9 - 0.31539157032966614f) * (*sh_coeffs_2)[int(6)] + make_float3 (fTmp0B_2 * x_20) * (*sh_coeffs_2)[int(7)] + make_float3 (0.54627424478530884f * fC1_2) * (*sh_coeffs_2)[int(8)]);
        *rgb_2 = _S819;
        float fTmp0C_2 = -2.28522896766662598f * z2_9 + 0.4570457935333252f;
        float fTmp1B_2 = 1.44530570507049561f * z_2;
        *rgb_2 = max_0(_S819 + (make_float3 (-0.59004360437393188f * (x_20 * fS1_2 + y_5 * fC1_2)) * (*sh_coeffs_2)[int(9)] + make_float3 (fTmp1B_2 * fS1_2) * (*sh_coeffs_2)[int(10)] + make_float3 (fTmp0C_2 * y_5) * (*sh_coeffs_2)[int(11)] + make_float3 (z_2 * (1.86588168144226074f * z2_9 - 1.11952900886535645f)) * (*sh_coeffs_2)[int(12)] + make_float3 (fTmp0C_2 * x_20) * (*sh_coeffs_2)[int(13)] + make_float3 (fTmp1B_2 * fC1_2) * (*sh_coeffs_2)[int(14)] + make_float3 (-0.59004360437393188f * (x_20 * fC1_2 - y_5 * fS1_2)) * (*sh_coeffs_2)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_persp(bool antialiased_3, float3  mean_4, float4  quat_7, float3  scale_6, float in_opacity_3, FixedArray<float3 , 16>  * sh_coeffs_3, Matrix<float, 3, 3>  R_10, float3  t_6, float fx_11, float fy_11, float cx_8, float cy_8, FixedArray<float, 10>  * dist_coeffs_18, uint image_width_3, uint image_height_3, float near_plane_3, float far_plane_3, int4  * aabb_xyxy_3, float2  * mean2d_12, float * depth_3, float3  * conic_3, float * opacity_3, float3  * rgb_3)
{
    for(;;)
    {
        float3  mean_c_3 = mul_0(R_10, mean_4) + t_6;
        float _S820 = mean_c_3.z;
        bool _S821;
        if(_S820 < near_plane_3)
        {
            _S821 = true;
        }
        else
        {
            _S821 = _S820 > far_plane_3;
        }
        if(_S821)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_10 = make_float4 (fx_11, fy_11, cx_8, cy_8);
        Matrix<float, 2, 2>  covar2d_3;
        float3  _S822 = exp_0(scale_6);
        float x_21 = quat_7.y;
        float x2_7 = x_21 * x_21;
        float y2_7 = quat_7.z * quat_7.z;
        float z2_10 = quat_7.w * quat_7.w;
        float xy_7 = quat_7.y * quat_7.z;
        float xz_7 = quat_7.y * quat_7.w;
        float yz_7 = quat_7.z * quat_7.w;
        float wx_7 = quat_7.x * quat_7.y;
        float wy_7 = quat_7.x * quat_7.z;
        float wz_7 = quat_7.x * quat_7.w;
        Matrix<float, 3, 3>  _S823 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_7 + z2_10), 2.0f * (xy_7 + wz_7), 2.0f * (xz_7 - wy_7), 2.0f * (xy_7 - wz_7), 1.0f - 2.0f * (x2_7 + z2_10), 2.0f * (yz_7 + wx_7), 2.0f * (xz_7 + wy_7), 2.0f * (yz_7 - wx_7), 1.0f - 2.0f * (x2_7 + y2_7))));
        SigmaPoints_0 ret_0;
        (&ret_0)->p_0[int(0)] = mean_4;
        (&ret_0)->w_mean_0[int(0)] = 0.0f;
        (&ret_0)->w_cov_0[int(0)] = 2.0f;
        float _S824 = (F32_sqrt((3.0f)));
        float3  delta_0 = make_float3 (_S824 * _S822.x) * _S823.rows[0U];
        float3  _S825 = mean_4 + delta_0;
        float3  _S826 = mean_4 - delta_0;
        float3  delta_1 = make_float3 (_S824 * _S822.y) * _S823.rows[1U];
        float3  _S827 = mean_4 + delta_1;
        float3  _S828 = mean_4 - delta_1;
        float3  delta_2 = make_float3 (_S824 * _S822.z) * _S823.rows[2U];
        float3  _S829 = mean_4 + delta_2;
        float3  _S830 = mean_4 - delta_2;
        (&ret_0)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_0)->p_0[0U] = mul_0(R_10, (&ret_0)->p_0[0U]) + t_6;
        (&ret_0)->p_0[1U] = mul_0(R_10, _S825) + t_6;
        (&ret_0)->p_0[2U] = mul_0(R_10, _S827) + t_6;
        (&ret_0)->p_0[3U] = mul_0(R_10, _S829) + t_6;
        (&ret_0)->p_0[4U] = mul_0(R_10, _S826) + t_6;
        (&ret_0)->p_0[5U] = mul_0(R_10, _S828) + t_6;
        (&ret_0)->p_0[6U] = mul_0(R_10, _S830) + t_6;
        SigmaPoints_0 _S831 = ret_0;
        bool _S832 = persp_proj_3dgs_ut_0(&_S831, intrins_10, dist_coeffs_18, image_width_3, image_height_3, &covar2d_3, mean2d_12);
        if(!(true & _S832))
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_4 = *&(((&covar2d_3)->rows + (int(0)))->x) * *&(((&covar2d_3)->rows + (int(1)))->y) - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float _S833 = *&(((&covar2d_3)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(0)))->x) = _S833;
        float _S834 = *&(((&covar2d_3)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(1)))->y) = _S834;
        float det_blur_4 = _S833 * _S834 - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float compensation_4 = (F32_sqrt(((F32_max((0.0f), (det_orig_4 / det_blur_4))))));
        if(det_blur_4 <= 0.0f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_3 = 1.0f / (1.0f + (F32_exp((- in_opacity_3))));
        if(antialiased_3)
        {
            *opacity_3 = *opacity_3 * compensation_4;
        }
        if((*opacity_3) < 0.00392156885936856f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_3 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_3 / 0.00392156885936856f)))))))));
        float radius_x_3 = extend_3 * (F32_sqrt((covar2d_3[int(0)].x)));
        float radius_y_3 = extend_3 * (F32_sqrt((covar2d_3[int(1)].y)));
        float xmin_3 = (F32_floor(((*mean2d_12).x - radius_x_3)));
        float xmax_3 = (F32_ceil(((*mean2d_12).x + radius_x_3)));
        float ymin_3 = (F32_floor(((*mean2d_12).y - radius_y_3)));
        float ymax_3 = (F32_ceil(((*mean2d_12).y + radius_y_3)));
        if(xmax_3 <= 0.0f)
        {
            _S821 = true;
        }
        else
        {
            _S821 = xmin_3 >= float(image_width_3);
        }
        if(_S821)
        {
            _S821 = true;
        }
        else
        {
            _S821 = ymax_3 <= 0.0f;
        }
        if(_S821)
        {
            _S821 = true;
        }
        else
        {
            _S821 = ymin_3 >= float(image_height_3);
        }
        if(_S821)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_3 = make_int4 (int(xmin_3), int(ymin_3), int(xmax_3), int(ymax_3));
        *depth_3 = (F32_max((_S820), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S820 + length_1(mean_c_3)))));
        *conic_3 = exp_0(- scale_6);
        float3  _S835 = mean_4 - - mul_0(transpose_0(R_10), t_6);
        float3  _S836 = make_float3 (0.282094806432724f) * (*sh_coeffs_3)[int(0)];
        *rgb_3 = _S836;
        float _S837 = _S835.x;
        float _S838 = _S835.y;
        float _S839 = _S835.z;
        float norm_3 = (F32_sqrt((_S837 * _S837 + _S838 * _S838 + _S839 * _S839)));
        float x_22 = _S837 / norm_3;
        float y_6 = _S838 / norm_3;
        float z_3 = _S839 / norm_3;
        float3  _S840 = _S836 + make_float3 (0.48860251903533936f) * (make_float3 (- y_6) * (*sh_coeffs_3)[int(1)] + make_float3 (z_3) * (*sh_coeffs_3)[int(2)] - make_float3 (x_22) * (*sh_coeffs_3)[int(3)]);
        *rgb_3 = _S840;
        float z2_11 = z_3 * z_3;
        float fTmp0B_3 = -1.09254848957061768f * z_3;
        float fC1_3 = x_22 * x_22 - y_6 * y_6;
        float fS1_3 = 2.0f * x_22 * y_6;
        float3  _S841 = _S840 + (make_float3 (0.54627424478530884f * fS1_3) * (*sh_coeffs_3)[int(4)] + make_float3 (fTmp0B_3 * y_6) * (*sh_coeffs_3)[int(5)] + make_float3 (0.94617468118667603f * z2_11 - 0.31539157032966614f) * (*sh_coeffs_3)[int(6)] + make_float3 (fTmp0B_3 * x_22) * (*sh_coeffs_3)[int(7)] + make_float3 (0.54627424478530884f * fC1_3) * (*sh_coeffs_3)[int(8)]);
        *rgb_3 = _S841;
        float fTmp0C_3 = -2.28522896766662598f * z2_11 + 0.4570457935333252f;
        float fTmp1B_3 = 1.44530570507049561f * z_3;
        *rgb_3 = max_0(_S841 + (make_float3 (-0.59004360437393188f * (x_22 * fS1_3 + y_6 * fC1_3)) * (*sh_coeffs_3)[int(9)] + make_float3 (fTmp1B_3 * fS1_3) * (*sh_coeffs_3)[int(10)] + make_float3 (fTmp0C_3 * y_6) * (*sh_coeffs_3)[int(11)] + make_float3 (z_3 * (1.86588168144226074f * z2_11 - 1.11952900886535645f)) * (*sh_coeffs_3)[int(12)] + make_float3 (fTmp0C_3 * x_22) * (*sh_coeffs_3)[int(13)] + make_float3 (fTmp1B_3 * fC1_3) * (*sh_coeffs_3)[int(14)] + make_float3 (-0.59004360437393188f * (x_22 * fC1_3 - y_6 * fS1_3)) * (*sh_coeffs_3)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_fisheye(bool antialiased_4, float3  mean_5, float4  quat_8, float3  scale_7, float in_opacity_4, FixedArray<float3 , 16>  * sh_coeffs_4, Matrix<float, 3, 3>  R_11, float3  t_7, float fx_12, float fy_12, float cx_9, float cy_9, FixedArray<float, 10>  * dist_coeffs_19, uint image_width_4, uint image_height_4, float near_plane_4, float far_plane_4, int4  * aabb_xyxy_4, float2  * mean2d_13, float * depth_4, float3  * conic_4, float * opacity_4, float3  * rgb_4)
{
    for(;;)
    {
        float3  mean_c_4 = mul_0(R_11, mean_5) + t_7;
        float _S842 = length_1(mean_c_4);
        bool _S843;
        if(_S842 < near_plane_4)
        {
            _S843 = true;
        }
        else
        {
            _S843 = _S842 > far_plane_4;
        }
        if(_S843)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_11 = make_float4 (fx_12, fy_12, cx_9, cy_9);
        Matrix<float, 2, 2>  covar2d_4;
        float3  _S844 = exp_0(scale_7);
        float x_23 = quat_8.y;
        float x2_8 = x_23 * x_23;
        float y2_8 = quat_8.z * quat_8.z;
        float z2_12 = quat_8.w * quat_8.w;
        float xy_8 = quat_8.y * quat_8.z;
        float xz_8 = quat_8.y * quat_8.w;
        float yz_8 = quat_8.z * quat_8.w;
        float wx_8 = quat_8.x * quat_8.y;
        float wy_8 = quat_8.x * quat_8.z;
        float wz_8 = quat_8.x * quat_8.w;
        Matrix<float, 3, 3>  _S845 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_8 + z2_12), 2.0f * (xy_8 + wz_8), 2.0f * (xz_8 - wy_8), 2.0f * (xy_8 - wz_8), 1.0f - 2.0f * (x2_8 + z2_12), 2.0f * (yz_8 + wx_8), 2.0f * (xz_8 + wy_8), 2.0f * (yz_8 - wx_8), 1.0f - 2.0f * (x2_8 + y2_8))));
        SigmaPoints_0 ret_1;
        (&ret_1)->p_0[int(0)] = mean_5;
        (&ret_1)->w_mean_0[int(0)] = 0.0f;
        (&ret_1)->w_cov_0[int(0)] = 2.0f;
        float _S846 = (F32_sqrt((3.0f)));
        float3  delta_3 = make_float3 (_S846 * _S844.x) * _S845.rows[0U];
        float3  _S847 = mean_5 + delta_3;
        float3  _S848 = mean_5 - delta_3;
        float3  delta_4 = make_float3 (_S846 * _S844.y) * _S845.rows[1U];
        float3  _S849 = mean_5 + delta_4;
        float3  _S850 = mean_5 - delta_4;
        float3  delta_5 = make_float3 (_S846 * _S844.z) * _S845.rows[2U];
        float3  _S851 = mean_5 + delta_5;
        float3  _S852 = mean_5 - delta_5;
        (&ret_1)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_1)->p_0[0U] = mul_0(R_11, (&ret_1)->p_0[0U]) + t_7;
        (&ret_1)->p_0[1U] = mul_0(R_11, _S847) + t_7;
        (&ret_1)->p_0[2U] = mul_0(R_11, _S849) + t_7;
        (&ret_1)->p_0[3U] = mul_0(R_11, _S851) + t_7;
        (&ret_1)->p_0[4U] = mul_0(R_11, _S848) + t_7;
        (&ret_1)->p_0[5U] = mul_0(R_11, _S850) + t_7;
        (&ret_1)->p_0[6U] = mul_0(R_11, _S852) + t_7;
        SigmaPoints_0 _S853 = ret_1;
        bool _S854 = fisheye_proj_3dgs_ut_0(&_S853, intrins_11, dist_coeffs_19, &covar2d_4, mean2d_13);
        if(!(true & _S854))
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_5 = *&(((&covar2d_4)->rows + (int(0)))->x) * *&(((&covar2d_4)->rows + (int(1)))->y) - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float _S855 = *&(((&covar2d_4)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(0)))->x) = _S855;
        float _S856 = *&(((&covar2d_4)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(1)))->y) = _S856;
        float det_blur_5 = _S855 * _S856 - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float compensation_5 = (F32_sqrt(((F32_max((0.0f), (det_orig_5 / det_blur_5))))));
        if(det_blur_5 <= 0.0f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_4 = 1.0f / (1.0f + (F32_exp((- in_opacity_4))));
        if(antialiased_4)
        {
            *opacity_4 = *opacity_4 * compensation_5;
        }
        if((*opacity_4) < 0.00392156885936856f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_4 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_4 / 0.00392156885936856f)))))))));
        float radius_x_4 = extend_4 * (F32_sqrt((covar2d_4[int(0)].x)));
        float radius_y_4 = extend_4 * (F32_sqrt((covar2d_4[int(1)].y)));
        float xmin_4 = (F32_floor(((*mean2d_13).x - radius_x_4)));
        float xmax_4 = (F32_ceil(((*mean2d_13).x + radius_x_4)));
        float ymin_4 = (F32_floor(((*mean2d_13).y - radius_y_4)));
        float ymax_4 = (F32_ceil(((*mean2d_13).y + radius_y_4)));
        if(xmax_4 <= 0.0f)
        {
            _S843 = true;
        }
        else
        {
            _S843 = xmin_4 >= float(image_width_4);
        }
        if(_S843)
        {
            _S843 = true;
        }
        else
        {
            _S843 = ymax_4 <= 0.0f;
        }
        if(_S843)
        {
            _S843 = true;
        }
        else
        {
            _S843 = ymin_4 >= float(image_height_4);
        }
        if(_S843)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_4 = make_int4 (int(xmin_4), int(ymin_4), int(xmax_4), int(ymax_4));
        float _S857 = mean_c_4.z;
        *depth_4 = (F32_max((_S857), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S857 + _S842))));
        *conic_4 = exp_0(- scale_7);
        float3  _S858 = mean_5 - - mul_0(transpose_0(R_11), t_7);
        float3  _S859 = make_float3 (0.282094806432724f) * (*sh_coeffs_4)[int(0)];
        *rgb_4 = _S859;
        float _S860 = _S858.x;
        float _S861 = _S858.y;
        float _S862 = _S858.z;
        float norm_4 = (F32_sqrt((_S860 * _S860 + _S861 * _S861 + _S862 * _S862)));
        float x_24 = _S860 / norm_4;
        float y_7 = _S861 / norm_4;
        float z_4 = _S862 / norm_4;
        float3  _S863 = _S859 + make_float3 (0.48860251903533936f) * (make_float3 (- y_7) * (*sh_coeffs_4)[int(1)] + make_float3 (z_4) * (*sh_coeffs_4)[int(2)] - make_float3 (x_24) * (*sh_coeffs_4)[int(3)]);
        *rgb_4 = _S863;
        float z2_13 = z_4 * z_4;
        float fTmp0B_4 = -1.09254848957061768f * z_4;
        float fC1_4 = x_24 * x_24 - y_7 * y_7;
        float fS1_4 = 2.0f * x_24 * y_7;
        float3  _S864 = _S863 + (make_float3 (0.54627424478530884f * fS1_4) * (*sh_coeffs_4)[int(4)] + make_float3 (fTmp0B_4 * y_7) * (*sh_coeffs_4)[int(5)] + make_float3 (0.94617468118667603f * z2_13 - 0.31539157032966614f) * (*sh_coeffs_4)[int(6)] + make_float3 (fTmp0B_4 * x_24) * (*sh_coeffs_4)[int(7)] + make_float3 (0.54627424478530884f * fC1_4) * (*sh_coeffs_4)[int(8)]);
        *rgb_4 = _S864;
        float fTmp0C_4 = -2.28522896766662598f * z2_13 + 0.4570457935333252f;
        float fTmp1B_4 = 1.44530570507049561f * z_4;
        *rgb_4 = max_0(_S864 + (make_float3 (-0.59004360437393188f * (x_24 * fS1_4 + y_7 * fC1_4)) * (*sh_coeffs_4)[int(9)] + make_float3 (fTmp1B_4 * fS1_4) * (*sh_coeffs_4)[int(10)] + make_float3 (fTmp0C_4 * y_7) * (*sh_coeffs_4)[int(11)] + make_float3 (z_4 * (1.86588168144226074f * z2_13 - 1.11952900886535645f)) * (*sh_coeffs_4)[int(12)] + make_float3 (fTmp0C_4 * x_24) * (*sh_coeffs_4)[int(13)] + make_float3 (fTmp1B_4 * fC1_4) * (*sh_coeffs_4)[int(14)] + make_float3 (-0.59004360437393188f * (x_24 * fC1_4 - y_7 * fS1_4)) * (*sh_coeffs_4)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgs_persp_differentiable(bool antialiased_5, float3  mean_6, float4  quat_9, float3  scale_8, float in_opacity_5, FixedArray<float3 , 16>  * sh_coeffs_5, Matrix<float, 3, 3>  R_12, float3  t_8, float fx_13, float fy_13, float cx_10, float cy_10, FixedArray<float, 10>  * dist_coeffs_20, uint image_width_5, uint image_height_5, float near_plane_5, float far_plane_5, int4  * aabb_xyxy_5, float2  * mean2d_14, float * depth_5, float3  * conic_5, float * opacity_5, float3  * rgb_5)
{
    float3  mean_c_5 = mul_0(R_12, mean_6) + t_8;
    float3  _S865 = exp_0(scale_8);
    float x_25 = quat_9.y;
    float x2_9 = x_25 * x_25;
    float y2_9 = quat_9.z * quat_9.z;
    float z2_14 = quat_9.w * quat_9.w;
    float xy_9 = quat_9.y * quat_9.z;
    float xz_9 = quat_9.y * quat_9.w;
    float yz_9 = quat_9.z * quat_9.w;
    float wx_9 = quat_9.x * quat_9.y;
    float wy_9 = quat_9.x * quat_9.z;
    float wz_9 = quat_9.x * quat_9.w;
    Matrix<float, 3, 3>  M_5 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_9 + z2_14), 2.0f * (xy_9 + wz_9), 2.0f * (xz_9 - wy_9), 2.0f * (xy_9 - wz_9), 1.0f - 2.0f * (x2_9 + z2_14), 2.0f * (yz_9 + wx_9), 2.0f * (xz_9 + wy_9), 2.0f * (yz_9 - wx_9), 1.0f - 2.0f * (x2_9 + y2_9))), makeMatrix<float, 3, 3> (_S865.x, 0.0f, 0.0f, 0.0f, _S865.y, 0.0f, 0.0f, 0.0f, _S865.z));
    Matrix<float, 3, 3>  _S866 = transpose_0(R_12);
    Matrix<float, 2, 2>  covar2d_5;
    bool _S867 = persp_proj_3dgs_1(mean_c_5, mul_4(mul_4(R_12, mul_4(M_5, transpose_0(M_5))), _S866), make_float4 (fx_13, fy_13, cx_10, cy_10), dist_coeffs_20, image_width_5, image_height_5, &covar2d_5, mean2d_14);
    float det_orig_6 = *&(((&covar2d_5)->rows + (int(0)))->x) * *&(((&covar2d_5)->rows + (int(1)))->y) - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x);
    float _S868 = *&(((&covar2d_5)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(0)))->x) = _S868;
    float _S869 = *&(((&covar2d_5)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(1)))->y) = _S869;
    float compensation_6 = (F32_sqrt(((F32_max((0.0f), (det_orig_6 / (_S868 * _S869 - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x))))))));
    float invdet_4 = 1.0f / (covar2d_5.rows[int(0)].x * covar2d_5.rows[int(1)].y - covar2d_5.rows[int(0)].y * covar2d_5.rows[int(1)].x);
    Matrix<float, 2, 2>  _S870 = makeMatrix<float, 2, 2> (covar2d_5.rows[int(1)].y * invdet_4, - covar2d_5.rows[int(0)].y * invdet_4, - covar2d_5.rows[int(1)].x * invdet_4, covar2d_5.rows[int(0)].x * invdet_4);
    *opacity_5 = 1.0f / (1.0f + (F32_exp((- in_opacity_5))));
    if(antialiased_5)
    {
        *opacity_5 = *opacity_5 * compensation_6;
    }
    float extend_5 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_5 / 0.00392156885936856f)))))))));
    float radius_x_5 = extend_5 * (F32_sqrt((covar2d_5[int(0)].x)));
    float radius_y_5 = extend_5 * (F32_sqrt((covar2d_5[int(1)].y)));
    *aabb_xyxy_5 = make_int4 (int((F32_floor(((*mean2d_14).x - radius_x_5)))), int((F32_floor(((*mean2d_14).y - radius_y_5)))), int((F32_ceil(((*mean2d_14).x + radius_x_5)))), int((F32_ceil(((*mean2d_14).y + radius_y_5)))));
    *depth_5 = length_1(mean_c_5);
    *conic_5 = make_float3 (_S870.rows[int(0)].x, _S870.rows[int(0)].y, _S870.rows[int(1)].y);
    float3  _S871 = mean_6 - - mul_0(_S866, t_8);
    float3  _S872 = make_float3 (0.282094806432724f) * (*sh_coeffs_5)[int(0)];
    *rgb_5 = _S872;
    float _S873 = _S871.x;
    float _S874 = _S871.y;
    float _S875 = _S871.z;
    float norm_5 = (F32_sqrt((_S873 * _S873 + _S874 * _S874 + _S875 * _S875)));
    float x_26 = _S873 / norm_5;
    float y_8 = _S874 / norm_5;
    float z_5 = _S875 / norm_5;
    float3  _S876 = _S872 + make_float3 (0.48860251903533936f) * (make_float3 (- y_8) * (*sh_coeffs_5)[int(1)] + make_float3 (z_5) * (*sh_coeffs_5)[int(2)] - make_float3 (x_26) * (*sh_coeffs_5)[int(3)]);
    *rgb_5 = _S876;
    float z2_15 = z_5 * z_5;
    float fTmp0B_5 = -1.09254848957061768f * z_5;
    float fC1_5 = x_26 * x_26 - y_8 * y_8;
    float fS1_5 = 2.0f * x_26 * y_8;
    float3  _S877 = _S876 + (make_float3 (0.54627424478530884f * fS1_5) * (*sh_coeffs_5)[int(4)] + make_float3 (fTmp0B_5 * y_8) * (*sh_coeffs_5)[int(5)] + make_float3 (0.94617468118667603f * z2_15 - 0.31539157032966614f) * (*sh_coeffs_5)[int(6)] + make_float3 (fTmp0B_5 * x_26) * (*sh_coeffs_5)[int(7)] + make_float3 (0.54627424478530884f * fC1_5) * (*sh_coeffs_5)[int(8)]);
    *rgb_5 = _S877;
    float fTmp0C_5 = -2.28522896766662598f * z2_15 + 0.4570457935333252f;
    float fTmp1B_5 = 1.44530570507049561f * z_5;
    *rgb_5 = max_0(_S877 + (make_float3 (-0.59004360437393188f * (x_26 * fS1_5 + y_8 * fC1_5)) * (*sh_coeffs_5)[int(9)] + make_float3 (fTmp1B_5 * fS1_5) * (*sh_coeffs_5)[int(10)] + make_float3 (fTmp0C_5 * y_8) * (*sh_coeffs_5)[int(11)] + make_float3 (z_5 * (1.86588168144226074f * z2_15 - 1.11952900886535645f)) * (*sh_coeffs_5)[int(12)] + make_float3 (fTmp0C_5 * x_26) * (*sh_coeffs_5)[int(13)] + make_float3 (fTmp1B_5 * fC1_5) * (*sh_coeffs_5)[int(14)] + make_float3 (-0.59004360437393188f * (x_26 * fC1_5 - y_8 * fS1_5)) * (*sh_coeffs_5)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_fisheye_differentiable(bool antialiased_6, float3  mean_7, float4  quat_10, float3  scale_9, float in_opacity_6, FixedArray<float3 , 16>  * sh_coeffs_6, Matrix<float, 3, 3>  R_13, float3  t_9, float fx_14, float fy_14, float cx_11, float cy_11, FixedArray<float, 10>  * dist_coeffs_21, uint image_width_6, uint image_height_6, float near_plane_6, float far_plane_6, int4  * aabb_xyxy_6, float2  * mean2d_15, float * depth_6, float3  * conic_6, float * opacity_6, float3  * rgb_6)
{
    float3  mean_c_6 = mul_0(R_13, mean_7) + t_9;
    float3  _S878 = exp_0(scale_9);
    float x_27 = quat_10.y;
    float x2_10 = x_27 * x_27;
    float y2_10 = quat_10.z * quat_10.z;
    float z2_16 = quat_10.w * quat_10.w;
    float xy_10 = quat_10.y * quat_10.z;
    float xz_10 = quat_10.y * quat_10.w;
    float yz_10 = quat_10.z * quat_10.w;
    float wx_10 = quat_10.x * quat_10.y;
    float wy_10 = quat_10.x * quat_10.z;
    float wz_10 = quat_10.x * quat_10.w;
    Matrix<float, 3, 3>  M_6 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_10 + z2_16), 2.0f * (xy_10 + wz_10), 2.0f * (xz_10 - wy_10), 2.0f * (xy_10 - wz_10), 1.0f - 2.0f * (x2_10 + z2_16), 2.0f * (yz_10 + wx_10), 2.0f * (xz_10 + wy_10), 2.0f * (yz_10 - wx_10), 1.0f - 2.0f * (x2_10 + y2_10))), makeMatrix<float, 3, 3> (_S878.x, 0.0f, 0.0f, 0.0f, _S878.y, 0.0f, 0.0f, 0.0f, _S878.z));
    Matrix<float, 3, 3>  _S879 = transpose_0(R_13);
    Matrix<float, 2, 2>  covar2d_6;
    bool _S880 = fisheye_proj_3dgs_1(mean_c_6, mul_4(mul_4(R_13, mul_4(M_6, transpose_0(M_6))), _S879), make_float4 (fx_14, fy_14, cx_11, cy_11), dist_coeffs_21, &covar2d_6, mean2d_15);
    float det_orig_7 = *&(((&covar2d_6)->rows + (int(0)))->x) * *&(((&covar2d_6)->rows + (int(1)))->y) - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x);
    float _S881 = *&(((&covar2d_6)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(0)))->x) = _S881;
    float _S882 = *&(((&covar2d_6)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(1)))->y) = _S882;
    float compensation_7 = (F32_sqrt(((F32_max((0.0f), (det_orig_7 / (_S881 * _S882 - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x))))))));
    float invdet_5 = 1.0f / (covar2d_6.rows[int(0)].x * covar2d_6.rows[int(1)].y - covar2d_6.rows[int(0)].y * covar2d_6.rows[int(1)].x);
    Matrix<float, 2, 2>  _S883 = makeMatrix<float, 2, 2> (covar2d_6.rows[int(1)].y * invdet_5, - covar2d_6.rows[int(0)].y * invdet_5, - covar2d_6.rows[int(1)].x * invdet_5, covar2d_6.rows[int(0)].x * invdet_5);
    *opacity_6 = 1.0f / (1.0f + (F32_exp((- in_opacity_6))));
    if(antialiased_6)
    {
        *opacity_6 = *opacity_6 * compensation_7;
    }
    float extend_6 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_6 / 0.00392156885936856f)))))))));
    float radius_x_6 = extend_6 * (F32_sqrt((covar2d_6[int(0)].x)));
    float radius_y_6 = extend_6 * (F32_sqrt((covar2d_6[int(1)].y)));
    *aabb_xyxy_6 = make_int4 (int((F32_floor(((*mean2d_15).x - radius_x_6)))), int((F32_floor(((*mean2d_15).y - radius_y_6)))), int((F32_ceil(((*mean2d_15).x + radius_x_6)))), int((F32_ceil(((*mean2d_15).y + radius_y_6)))));
    *depth_6 = length_1(mean_c_6);
    *conic_6 = make_float3 (_S883.rows[int(0)].x, _S883.rows[int(0)].y, _S883.rows[int(1)].y);
    float3  _S884 = mean_7 - - mul_0(_S879, t_9);
    float3  _S885 = make_float3 (0.282094806432724f) * (*sh_coeffs_6)[int(0)];
    *rgb_6 = _S885;
    float _S886 = _S884.x;
    float _S887 = _S884.y;
    float _S888 = _S884.z;
    float norm_6 = (F32_sqrt((_S886 * _S886 + _S887 * _S887 + _S888 * _S888)));
    float x_28 = _S886 / norm_6;
    float y_9 = _S887 / norm_6;
    float z_6 = _S888 / norm_6;
    float3  _S889 = _S885 + make_float3 (0.48860251903533936f) * (make_float3 (- y_9) * (*sh_coeffs_6)[int(1)] + make_float3 (z_6) * (*sh_coeffs_6)[int(2)] - make_float3 (x_28) * (*sh_coeffs_6)[int(3)]);
    *rgb_6 = _S889;
    float z2_17 = z_6 * z_6;
    float fTmp0B_6 = -1.09254848957061768f * z_6;
    float fC1_6 = x_28 * x_28 - y_9 * y_9;
    float fS1_6 = 2.0f * x_28 * y_9;
    float3  _S890 = _S889 + (make_float3 (0.54627424478530884f * fS1_6) * (*sh_coeffs_6)[int(4)] + make_float3 (fTmp0B_6 * y_9) * (*sh_coeffs_6)[int(5)] + make_float3 (0.94617468118667603f * z2_17 - 0.31539157032966614f) * (*sh_coeffs_6)[int(6)] + make_float3 (fTmp0B_6 * x_28) * (*sh_coeffs_6)[int(7)] + make_float3 (0.54627424478530884f * fC1_6) * (*sh_coeffs_6)[int(8)]);
    *rgb_6 = _S890;
    float fTmp0C_6 = -2.28522896766662598f * z2_17 + 0.4570457935333252f;
    float fTmp1B_6 = 1.44530570507049561f * z_6;
    *rgb_6 = max_0(_S890 + (make_float3 (-0.59004360437393188f * (x_28 * fS1_6 + y_9 * fC1_6)) * (*sh_coeffs_6)[int(9)] + make_float3 (fTmp1B_6 * fS1_6) * (*sh_coeffs_6)[int(10)] + make_float3 (fTmp0C_6 * y_9) * (*sh_coeffs_6)[int(11)] + make_float3 (z_6 * (1.86588168144226074f * z2_17 - 1.11952900886535645f)) * (*sh_coeffs_6)[int(12)] + make_float3 (fTmp0C_6 * x_28) * (*sh_coeffs_6)[int(13)] + make_float3 (fTmp1B_6 * fC1_6) * (*sh_coeffs_6)[int(14)] + make_float3 (-0.59004360437393188f * (x_28 * fC1_6 - y_9 * fS1_6)) * (*sh_coeffs_6)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_ortho_differentiable(bool antialiased_7, float3  mean_8, float4  quat_11, float3  scale_10, float in_opacity_7, FixedArray<float3 , 16>  * sh_coeffs_7, Matrix<float, 3, 3>  R_14, float3  t_10, float fx_15, float fy_15, float cx_12, float cy_12, FixedArray<float, 10>  * dist_coeffs_22, uint image_width_7, uint image_height_7, float near_plane_7, float far_plane_7, int4  * aabb_xyxy_7, float2  * mean2d_16, float * depth_7, float3  * conic_7, float * opacity_7, float3  * rgb_7)
{
    float3  mean_c_7 = mul_0(R_14, mean_8) + t_10;
    float3  _S891 = exp_0(scale_10);
    float x_29 = quat_11.y;
    float x2_11 = x_29 * x_29;
    float y2_11 = quat_11.z * quat_11.z;
    float z2_18 = quat_11.w * quat_11.w;
    float xy_11 = quat_11.y * quat_11.z;
    float xz_11 = quat_11.y * quat_11.w;
    float yz_11 = quat_11.z * quat_11.w;
    float wx_11 = quat_11.x * quat_11.y;
    float wy_11 = quat_11.x * quat_11.z;
    float wz_11 = quat_11.x * quat_11.w;
    Matrix<float, 3, 3>  M_7 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_11 + z2_18), 2.0f * (xy_11 + wz_11), 2.0f * (xz_11 - wy_11), 2.0f * (xy_11 - wz_11), 1.0f - 2.0f * (x2_11 + z2_18), 2.0f * (yz_11 + wx_11), 2.0f * (xz_11 + wy_11), 2.0f * (yz_11 - wx_11), 1.0f - 2.0f * (x2_11 + y2_11))), makeMatrix<float, 3, 3> (_S891.x, 0.0f, 0.0f, 0.0f, _S891.y, 0.0f, 0.0f, 0.0f, _S891.z));
    Matrix<float, 3, 3>  _S892 = transpose_0(R_14);
    Matrix<float, 2, 3>  J_8 = makeMatrix<float, 2, 3> (fx_15, 0.0f, 0.0f, 0.0f, fy_15, 0.0f);
    Matrix<float, 2, 2>  covar2d_7 = mul_6(mul_5(J_8, mul_4(mul_4(R_14, mul_4(M_7, transpose_0(M_7))), _S892)), transpose_1(J_8));
    *mean2d_16 = make_float2 (fx_15 * mean_c_7.x + cx_12, fy_15 * mean_c_7.y + cy_12);
    float det_orig_8 = *&(((&covar2d_7)->rows + (int(0)))->x) * *&(((&covar2d_7)->rows + (int(1)))->y) - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x);
    float _S893 = *&(((&covar2d_7)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(0)))->x) = _S893;
    float _S894 = *&(((&covar2d_7)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(1)))->y) = _S894;
    float compensation_8 = (F32_sqrt(((F32_max((0.0f), (det_orig_8 / (_S893 * _S894 - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x))))))));
    float invdet_6 = 1.0f / (covar2d_7.rows[int(0)].x * covar2d_7.rows[int(1)].y - covar2d_7.rows[int(0)].y * covar2d_7.rows[int(1)].x);
    Matrix<float, 2, 2>  _S895 = makeMatrix<float, 2, 2> (covar2d_7.rows[int(1)].y * invdet_6, - covar2d_7.rows[int(0)].y * invdet_6, - covar2d_7.rows[int(1)].x * invdet_6, covar2d_7.rows[int(0)].x * invdet_6);
    *opacity_7 = 1.0f / (1.0f + (F32_exp((- in_opacity_7))));
    if(antialiased_7)
    {
        *opacity_7 = *opacity_7 * compensation_8;
    }
    float extend_7 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_7 / 0.00392156885936856f)))))))));
    float radius_x_7 = extend_7 * (F32_sqrt((covar2d_7[int(0)].x)));
    float radius_y_7 = extend_7 * (F32_sqrt((covar2d_7[int(1)].y)));
    *aabb_xyxy_7 = make_int4 (int((F32_floor(((*mean2d_16).x - radius_x_7)))), int((F32_floor(((*mean2d_16).y - radius_y_7)))), int((F32_ceil(((*mean2d_16).x + radius_x_7)))), int((F32_ceil(((*mean2d_16).y + radius_y_7)))));
    *depth_7 = length_1(mean_c_7);
    *conic_7 = make_float3 (_S895.rows[int(0)].x, _S895.rows[int(0)].y, _S895.rows[int(1)].y);
    float3  _S896 = mean_8 - - mul_0(_S892, t_10);
    float3  _S897 = make_float3 (0.282094806432724f) * (*sh_coeffs_7)[int(0)];
    *rgb_7 = _S897;
    float _S898 = _S896.x;
    float _S899 = _S896.y;
    float _S900 = _S896.z;
    float norm_7 = (F32_sqrt((_S898 * _S898 + _S899 * _S899 + _S900 * _S900)));
    float x_30 = _S898 / norm_7;
    float y_10 = _S899 / norm_7;
    float z_7 = _S900 / norm_7;
    float3  _S901 = _S897 + make_float3 (0.48860251903533936f) * (make_float3 (- y_10) * (*sh_coeffs_7)[int(1)] + make_float3 (z_7) * (*sh_coeffs_7)[int(2)] - make_float3 (x_30) * (*sh_coeffs_7)[int(3)]);
    *rgb_7 = _S901;
    float z2_19 = z_7 * z_7;
    float fTmp0B_7 = -1.09254848957061768f * z_7;
    float fC1_7 = x_30 * x_30 - y_10 * y_10;
    float fS1_7 = 2.0f * x_30 * y_10;
    float3  _S902 = _S901 + (make_float3 (0.54627424478530884f * fS1_7) * (*sh_coeffs_7)[int(4)] + make_float3 (fTmp0B_7 * y_10) * (*sh_coeffs_7)[int(5)] + make_float3 (0.94617468118667603f * z2_19 - 0.31539157032966614f) * (*sh_coeffs_7)[int(6)] + make_float3 (fTmp0B_7 * x_30) * (*sh_coeffs_7)[int(7)] + make_float3 (0.54627424478530884f * fC1_7) * (*sh_coeffs_7)[int(8)]);
    *rgb_7 = _S902;
    float fTmp0C_7 = -2.28522896766662598f * z2_19 + 0.4570457935333252f;
    float fTmp1B_7 = 1.44530570507049561f * z_7;
    *rgb_7 = max_0(_S902 + (make_float3 (-0.59004360437393188f * (x_30 * fS1_7 + y_10 * fC1_7)) * (*sh_coeffs_7)[int(9)] + make_float3 (fTmp1B_7 * fS1_7) * (*sh_coeffs_7)[int(10)] + make_float3 (fTmp0C_7 * y_10) * (*sh_coeffs_7)[int(11)] + make_float3 (z_7 * (1.86588168144226074f * z2_19 - 1.11952900886535645f)) * (*sh_coeffs_7)[int(12)] + make_float3 (fTmp0C_7 * x_30) * (*sh_coeffs_7)[int(13)] + make_float3 (fTmp1B_7 * fC1_7) * (*sh_coeffs_7)[int(14)] + make_float3 (-0.59004360437393188f * (x_30 * fC1_7 - y_10 * fS1_7)) * (*sh_coeffs_7)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_persp_differentiable(bool antialiased_8, float3  mean_9, float4  quat_12, float3  scale_11, float in_opacity_8, FixedArray<float3 , 16>  * sh_coeffs_8, Matrix<float, 3, 3>  R_15, float3  t_11, float fx_16, float fy_16, float cx_13, float cy_13, FixedArray<float, 10>  * dist_coeffs_23, uint image_width_8, uint image_height_8, float near_plane_8, float far_plane_8, int4  * aabb_xyxy_8, float2  * mean2d_17, float * depth_8, float3  * conic_8, float * opacity_8, float3  * rgb_8)
{
    float3  mean_c_8 = mul_0(R_15, mean_9) + t_11;
    float4  intrins_12 = make_float4 (fx_16, fy_16, cx_13, cy_13);
    float3  _S903 = exp_0(scale_11);
    float x_31 = quat_12.y;
    float x2_12 = x_31 * x_31;
    float y2_12 = quat_12.z * quat_12.z;
    float z2_20 = quat_12.w * quat_12.w;
    float xy_12 = quat_12.y * quat_12.z;
    float xz_12 = quat_12.y * quat_12.w;
    float yz_12 = quat_12.z * quat_12.w;
    float wx_12 = quat_12.x * quat_12.y;
    float wy_12 = quat_12.x * quat_12.z;
    float wz_12 = quat_12.x * quat_12.w;
    Matrix<float, 3, 3>  _S904 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_12 + z2_20), 2.0f * (xy_12 + wz_12), 2.0f * (xz_12 - wy_12), 2.0f * (xy_12 - wz_12), 1.0f - 2.0f * (x2_12 + z2_20), 2.0f * (yz_12 + wx_12), 2.0f * (xz_12 + wy_12), 2.0f * (yz_12 - wx_12), 1.0f - 2.0f * (x2_12 + y2_12))));
    SigmaPoints_0 ret_2;
    (&ret_2)->p_0[int(0)] = mean_9;
    (&ret_2)->w_mean_0[int(0)] = 0.0f;
    (&ret_2)->w_cov_0[int(0)] = 2.0f;
    float _S905 = (F32_sqrt((3.0f)));
    float3  delta_6 = make_float3 (_S905 * _S903.x) * _S904.rows[0U];
    float3  _S906 = mean_9 + delta_6;
    float3  _S907 = mean_9 - delta_6;
    float3  delta_7 = make_float3 (_S905 * _S903.y) * _S904.rows[1U];
    float3  _S908 = mean_9 + delta_7;
    float3  _S909 = mean_9 - delta_7;
    float3  delta_8 = make_float3 (_S905 * _S903.z) * _S904.rows[2U];
    float3  _S910 = mean_9 + delta_8;
    float3  _S911 = mean_9 - delta_8;
    (&ret_2)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_2)->p_0[0U] = mul_0(R_15, (&ret_2)->p_0[0U]) + t_11;
    (&ret_2)->p_0[1U] = mul_0(R_15, _S906) + t_11;
    (&ret_2)->p_0[2U] = mul_0(R_15, _S908) + t_11;
    (&ret_2)->p_0[3U] = mul_0(R_15, _S910) + t_11;
    (&ret_2)->p_0[4U] = mul_0(R_15, _S907) + t_11;
    (&ret_2)->p_0[5U] = mul_0(R_15, _S909) + t_11;
    (&ret_2)->p_0[6U] = mul_0(R_15, _S911) + t_11;
    SigmaPoints_0 _S912 = ret_2;
    Matrix<float, 2, 2>  covar2d_8;
    bool _S913 = persp_proj_3dgs_ut_1(&_S912, intrins_12, dist_coeffs_23, image_width_8, image_height_8, &covar2d_8, mean2d_17);
    float det_orig_9 = *&(((&covar2d_8)->rows + (int(0)))->x) * *&(((&covar2d_8)->rows + (int(1)))->y) - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x);
    float _S914 = *&(((&covar2d_8)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(0)))->x) = _S914;
    float _S915 = *&(((&covar2d_8)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(1)))->y) = _S915;
    float compensation_9 = (F32_sqrt(((F32_max((0.0f), (det_orig_9 / (_S914 * _S915 - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x))))))));
    *opacity_8 = 1.0f / (1.0f + (F32_exp((- in_opacity_8))));
    if(antialiased_8)
    {
        *opacity_8 = *opacity_8 * compensation_9;
    }
    float extend_8 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_8 / 0.00392156885936856f)))))))));
    float radius_x_8 = extend_8 * (F32_sqrt((covar2d_8[int(0)].x)));
    float radius_y_8 = extend_8 * (F32_sqrt((covar2d_8[int(1)].y)));
    *aabb_xyxy_8 = make_int4 (int((F32_floor(((*mean2d_17).x - radius_x_8)))), int((F32_floor(((*mean2d_17).y - radius_y_8)))), int((F32_ceil(((*mean2d_17).x + radius_x_8)))), int((F32_ceil(((*mean2d_17).y + radius_y_8)))));
    float _S916 = mean_c_8.z;
    *depth_8 = (F32_max((_S916), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S916 + length_1(mean_c_8)))));
    *conic_8 = exp_0(- scale_11);
    float3  _S917 = mean_9 - - mul_0(transpose_0(R_15), t_11);
    float3  _S918 = make_float3 (0.282094806432724f) * (*sh_coeffs_8)[int(0)];
    *rgb_8 = _S918;
    float _S919 = _S917.x;
    float _S920 = _S917.y;
    float _S921 = _S917.z;
    float norm_8 = (F32_sqrt((_S919 * _S919 + _S920 * _S920 + _S921 * _S921)));
    float x_32 = _S919 / norm_8;
    float y_11 = _S920 / norm_8;
    float z_8 = _S921 / norm_8;
    float3  _S922 = _S918 + make_float3 (0.48860251903533936f) * (make_float3 (- y_11) * (*sh_coeffs_8)[int(1)] + make_float3 (z_8) * (*sh_coeffs_8)[int(2)] - make_float3 (x_32) * (*sh_coeffs_8)[int(3)]);
    *rgb_8 = _S922;
    float z2_21 = z_8 * z_8;
    float fTmp0B_8 = -1.09254848957061768f * z_8;
    float fC1_8 = x_32 * x_32 - y_11 * y_11;
    float fS1_8 = 2.0f * x_32 * y_11;
    float3  _S923 = _S922 + (make_float3 (0.54627424478530884f * fS1_8) * (*sh_coeffs_8)[int(4)] + make_float3 (fTmp0B_8 * y_11) * (*sh_coeffs_8)[int(5)] + make_float3 (0.94617468118667603f * z2_21 - 0.31539157032966614f) * (*sh_coeffs_8)[int(6)] + make_float3 (fTmp0B_8 * x_32) * (*sh_coeffs_8)[int(7)] + make_float3 (0.54627424478530884f * fC1_8) * (*sh_coeffs_8)[int(8)]);
    *rgb_8 = _S923;
    float fTmp0C_8 = -2.28522896766662598f * z2_21 + 0.4570457935333252f;
    float fTmp1B_8 = 1.44530570507049561f * z_8;
    *rgb_8 = max_0(_S923 + (make_float3 (-0.59004360437393188f * (x_32 * fS1_8 + y_11 * fC1_8)) * (*sh_coeffs_8)[int(9)] + make_float3 (fTmp1B_8 * fS1_8) * (*sh_coeffs_8)[int(10)] + make_float3 (fTmp0C_8 * y_11) * (*sh_coeffs_8)[int(11)] + make_float3 (z_8 * (1.86588168144226074f * z2_21 - 1.11952900886535645f)) * (*sh_coeffs_8)[int(12)] + make_float3 (fTmp0C_8 * x_32) * (*sh_coeffs_8)[int(13)] + make_float3 (fTmp1B_8 * fC1_8) * (*sh_coeffs_8)[int(14)] + make_float3 (-0.59004360437393188f * (x_32 * fC1_8 - y_11 * fS1_8)) * (*sh_coeffs_8)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_fisheye_differentiable(bool antialiased_9, float3  mean_10, float4  quat_13, float3  scale_12, float in_opacity_9, FixedArray<float3 , 16>  * sh_coeffs_9, Matrix<float, 3, 3>  R_16, float3  t_12, float fx_17, float fy_17, float cx_14, float cy_14, FixedArray<float, 10>  * dist_coeffs_24, uint image_width_9, uint image_height_9, float near_plane_9, float far_plane_9, int4  * aabb_xyxy_9, float2  * mean2d_18, float * depth_9, float3  * conic_9, float * opacity_9, float3  * rgb_9)
{
    float3  mean_c_9 = mul_0(R_16, mean_10) + t_12;
    float4  intrins_13 = make_float4 (fx_17, fy_17, cx_14, cy_14);
    float3  _S924 = exp_0(scale_12);
    float x_33 = quat_13.y;
    float x2_13 = x_33 * x_33;
    float y2_13 = quat_13.z * quat_13.z;
    float z2_22 = quat_13.w * quat_13.w;
    float xy_13 = quat_13.y * quat_13.z;
    float xz_13 = quat_13.y * quat_13.w;
    float yz_13 = quat_13.z * quat_13.w;
    float wx_13 = quat_13.x * quat_13.y;
    float wy_13 = quat_13.x * quat_13.z;
    float wz_13 = quat_13.x * quat_13.w;
    Matrix<float, 3, 3>  _S925 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_13 + z2_22), 2.0f * (xy_13 + wz_13), 2.0f * (xz_13 - wy_13), 2.0f * (xy_13 - wz_13), 1.0f - 2.0f * (x2_13 + z2_22), 2.0f * (yz_13 + wx_13), 2.0f * (xz_13 + wy_13), 2.0f * (yz_13 - wx_13), 1.0f - 2.0f * (x2_13 + y2_13))));
    SigmaPoints_0 ret_3;
    (&ret_3)->p_0[int(0)] = mean_10;
    (&ret_3)->w_mean_0[int(0)] = 0.0f;
    (&ret_3)->w_cov_0[int(0)] = 2.0f;
    float _S926 = (F32_sqrt((3.0f)));
    float3  delta_9 = make_float3 (_S926 * _S924.x) * _S925.rows[0U];
    float3  _S927 = mean_10 + delta_9;
    float3  _S928 = mean_10 - delta_9;
    float3  delta_10 = make_float3 (_S926 * _S924.y) * _S925.rows[1U];
    float3  _S929 = mean_10 + delta_10;
    float3  _S930 = mean_10 - delta_10;
    float3  delta_11 = make_float3 (_S926 * _S924.z) * _S925.rows[2U];
    float3  _S931 = mean_10 + delta_11;
    float3  _S932 = mean_10 - delta_11;
    (&ret_3)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_3)->p_0[0U] = mul_0(R_16, (&ret_3)->p_0[0U]) + t_12;
    (&ret_3)->p_0[1U] = mul_0(R_16, _S927) + t_12;
    (&ret_3)->p_0[2U] = mul_0(R_16, _S929) + t_12;
    (&ret_3)->p_0[3U] = mul_0(R_16, _S931) + t_12;
    (&ret_3)->p_0[4U] = mul_0(R_16, _S928) + t_12;
    (&ret_3)->p_0[5U] = mul_0(R_16, _S930) + t_12;
    (&ret_3)->p_0[6U] = mul_0(R_16, _S932) + t_12;
    SigmaPoints_0 _S933 = ret_3;
    Matrix<float, 2, 2>  covar2d_9;
    bool _S934 = fisheye_proj_3dgs_ut_1(&_S933, intrins_13, dist_coeffs_24, &covar2d_9, mean2d_18);
    float det_orig_10 = *&(((&covar2d_9)->rows + (int(0)))->x) * *&(((&covar2d_9)->rows + (int(1)))->y) - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x);
    float _S935 = *&(((&covar2d_9)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(0)))->x) = _S935;
    float _S936 = *&(((&covar2d_9)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(1)))->y) = _S936;
    float compensation_10 = (F32_sqrt(((F32_max((0.0f), (det_orig_10 / (_S935 * _S936 - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x))))))));
    *opacity_9 = 1.0f / (1.0f + (F32_exp((- in_opacity_9))));
    if(antialiased_9)
    {
        *opacity_9 = *opacity_9 * compensation_10;
    }
    float extend_9 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_9 / 0.00392156885936856f)))))))));
    float radius_x_9 = extend_9 * (F32_sqrt((covar2d_9[int(0)].x)));
    float radius_y_9 = extend_9 * (F32_sqrt((covar2d_9[int(1)].y)));
    *aabb_xyxy_9 = make_int4 (int((F32_floor(((*mean2d_18).x - radius_x_9)))), int((F32_floor(((*mean2d_18).y - radius_y_9)))), int((F32_ceil(((*mean2d_18).x + radius_x_9)))), int((F32_ceil(((*mean2d_18).y + radius_y_9)))));
    float _S937 = mean_c_9.z;
    *depth_9 = (F32_max((_S937), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S937 + length_1(mean_c_9)))));
    *conic_9 = exp_0(- scale_12);
    float3  _S938 = mean_10 - - mul_0(transpose_0(R_16), t_12);
    float3  _S939 = make_float3 (0.282094806432724f) * (*sh_coeffs_9)[int(0)];
    *rgb_9 = _S939;
    float _S940 = _S938.x;
    float _S941 = _S938.y;
    float _S942 = _S938.z;
    float norm_9 = (F32_sqrt((_S940 * _S940 + _S941 * _S941 + _S942 * _S942)));
    float x_34 = _S940 / norm_9;
    float y_12 = _S941 / norm_9;
    float z_9 = _S942 / norm_9;
    float3  _S943 = _S939 + make_float3 (0.48860251903533936f) * (make_float3 (- y_12) * (*sh_coeffs_9)[int(1)] + make_float3 (z_9) * (*sh_coeffs_9)[int(2)] - make_float3 (x_34) * (*sh_coeffs_9)[int(3)]);
    *rgb_9 = _S943;
    float z2_23 = z_9 * z_9;
    float fTmp0B_9 = -1.09254848957061768f * z_9;
    float fC1_9 = x_34 * x_34 - y_12 * y_12;
    float fS1_9 = 2.0f * x_34 * y_12;
    float3  _S944 = _S943 + (make_float3 (0.54627424478530884f * fS1_9) * (*sh_coeffs_9)[int(4)] + make_float3 (fTmp0B_9 * y_12) * (*sh_coeffs_9)[int(5)] + make_float3 (0.94617468118667603f * z2_23 - 0.31539157032966614f) * (*sh_coeffs_9)[int(6)] + make_float3 (fTmp0B_9 * x_34) * (*sh_coeffs_9)[int(7)] + make_float3 (0.54627424478530884f * fC1_9) * (*sh_coeffs_9)[int(8)]);
    *rgb_9 = _S944;
    float fTmp0C_9 = -2.28522896766662598f * z2_23 + 0.4570457935333252f;
    float fTmp1B_9 = 1.44530570507049561f * z_9;
    *rgb_9 = max_0(_S944 + (make_float3 (-0.59004360437393188f * (x_34 * fS1_9 + y_12 * fC1_9)) * (*sh_coeffs_9)[int(9)] + make_float3 (fTmp1B_9 * fS1_9) * (*sh_coeffs_9)[int(10)] + make_float3 (fTmp0C_9 * y_12) * (*sh_coeffs_9)[int(11)] + make_float3 (z_9 * (1.86588168144226074f * z2_23 - 1.11952900886535645f)) * (*sh_coeffs_9)[int(12)] + make_float3 (fTmp0C_9 * x_34) * (*sh_coeffs_9)[int(13)] + make_float3 (fTmp1B_9 * fC1_9) * (*sh_coeffs_9)[int(14)] + make_float3 (-0.59004360437393188f * (x_34 * fC1_9 - y_12 * fS1_9)) * (*sh_coeffs_9)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct s_bwd_prop_projection_3dgs_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S945;
};

inline __device__ float3  s_primal_ctx_mul_0(Matrix<float, 3, 3>  _S946, float3  _S947)
{
    return mul_0(_S946, _S947);
}

inline __device__ float3  s_primal_ctx_exp_0(float3  _S948)
{
    return exp_0(_S948);
}

inline __device__ Matrix<float, 3, 3>  s_primal_ctx_mul_1(Matrix<float, 3, 3>  _S949, Matrix<float, 3, 3>  _S950)
{
    return mul_4(_S949, _S950);
}

inline __device__ float s_primal_ctx_clamp_0(float _S951, float _S952, float _S953)
{
    return clamp_0(_S951, _S952, _S953);
}

inline __device__ Matrix<float, 2, 3>  s_primal_ctx_mul_2(Matrix<float, 2, 3>  _S954, Matrix<float, 3, 3>  _S955)
{
    return mul_5(_S954, _S955);
}

inline __device__ Matrix<float, 2, 2>  s_primal_ctx_mul_3(Matrix<float, 2, 3>  _S956, Matrix<float, 3, 2>  _S957)
{
    return mul_6(_S956, _S957);
}

inline __device__ bool s_primal_ctx_persp_proj_3dgs_0(float3  dpmean3d_0, Matrix<float, 3, 3>  dpcov3d_0, float4  dpintrins_0, FixedArray<float, 10>  * dpdist_coeffs_0, uint width_4, uint height_4, Matrix<float, 2, 2>  * dpcov2d_0, float2  * dpmean2d_0)
{
    float cx_15 = dpintrins_0.z;
    float cy_15 = dpintrins_0.w;
    float2  _S958 = float2 {dpmean3d_0.x, dpmean3d_0.y};
    float _S959 = dpmean3d_0.z;
    float2  _S960 = _S958 / make_float2 (_S959);
    float u_44 = _S960.x;
    float v_44 = _S960.y;
    float r2_44 = u_44 * u_44 + v_44 * v_44;
    float _S961 = 2.0f * (*dpdist_coeffs_0)[int(4)];
    float _S962 = 2.0f * (*dpdist_coeffs_0)[int(5)];
    float2  _S963 = _S960 * make_float2 (1.0f + r2_44 * ((*dpdist_coeffs_0)[int(0)] + r2_44 * ((*dpdist_coeffs_0)[int(1)] + r2_44 * ((*dpdist_coeffs_0)[int(2)] + r2_44 * (*dpdist_coeffs_0)[int(3)])))) + make_float2 (_S961 * u_44 * v_44 + (*dpdist_coeffs_0)[int(5)] * (r2_44 + 2.0f * u_44 * u_44) + (*dpdist_coeffs_0)[int(6)] * r2_44, _S962 * u_44 * v_44 + (*dpdist_coeffs_0)[int(4)] * (r2_44 + 2.0f * v_44 * v_44) + (*dpdist_coeffs_0)[int(7)] * r2_44);
    float2  _S964 = _S963 + make_float2 ((*dpdist_coeffs_0)[int(8)] * _S963.x + (*dpdist_coeffs_0)[int(9)] * _S963.y, 0.0f);
    float fx_18 = dpintrins_0.x;
    float fy_18 = dpintrins_0.y;
    float2  _S965 = make_float2 (fx_18 * _S964.x + cx_15, fy_18 * _S964.y + cy_15);
    float2  _S966 = make_float2 (_S959);
    float2  _S967 = _S958 / make_float2 (_S959);
    float2  _S968 = make_float2 (_S959 * _S959);
    float u_45 = _S967.x;
    float v_45 = _S967.y;
    float r2_45 = u_45 * u_45 + v_45 * v_45;
    float _S969 = (*dpdist_coeffs_0)[int(2)] + r2_45 * (*dpdist_coeffs_0)[int(3)];
    float _S970 = (*dpdist_coeffs_0)[int(1)] + r2_45 * _S969;
    float _S971 = (*dpdist_coeffs_0)[int(0)] + r2_45 * _S970;
    float2  _S972 = make_float2 (fx_18, 0.0f) + make_float2 ((*dpdist_coeffs_0)[int(8)] * fx_18, (*dpdist_coeffs_0)[int(9)] * fx_18);
    float2  _S973 = _S967 * _S972;
    float _S974 = (*dpdist_coeffs_0)[int(4)] * _S972.y;
    float _S975 = (*dpdist_coeffs_0)[int(5)] * _S972.x;
    float _S976 = _S973.x + _S973.y;
    float _S977 = r2_45 * _S976;
    float _S978 = r2_45 * _S977;
    float _S979 = (*dpdist_coeffs_0)[int(7)] * _S972.y + _S974 + (*dpdist_coeffs_0)[int(6)] * _S972.x + _S975 + _S971 * _S976 + _S970 * _S977 + _S969 * _S978 + (*dpdist_coeffs_0)[int(3)] * (r2_45 * _S978);
    float _S980 = v_45 * _S979;
    float _S981 = u_45 * _S979;
    float2  _S982 = (make_float2 (1.0f + r2_45 * _S971) * _S972 + make_float2 (_S962 * (v_45 * _S972.y) + 2.0f * u_45 * _S975 + 2.0f * (u_45 * _S975) + _S961 * (v_45 * _S972.x) + _S981 + _S981, 2.0f * v_45 * _S974 + 2.0f * (v_45 * _S974) + _S962 * u_45 * _S972.y + _S961 * u_45 * _S972.x + _S980 + _S980)) / _S968;
    float2  _S983 = _S958 * - _S982;
    float2  _S984 = _S966 * _S982;
    float _S985 = _S983.x + _S983.y;
    float3  _S986 = make_float3 (_S984.x, _S984.y, _S985);
    Matrix<float, 2, 3>  _S987 = makeMatrix<float, 2, 3> (0.0f);
    _S987[int(0)] = _S986;
    float2  _S988 = _S958 / make_float2 (_S959);
    float u_46 = _S988.x;
    float v_46 = _S988.y;
    float r2_46 = u_46 * u_46 + v_46 * v_46;
    float _S989 = (*dpdist_coeffs_0)[int(2)] + r2_46 * (*dpdist_coeffs_0)[int(3)];
    float _S990 = (*dpdist_coeffs_0)[int(1)] + r2_46 * _S989;
    float _S991 = (*dpdist_coeffs_0)[int(0)] + r2_46 * _S990;
    float2  _S992 = make_float2 (0.0f, fy_18);
    float2  _S993 = _S988 * _S992;
    float _S994 = (*dpdist_coeffs_0)[int(4)] * fy_18;
    float _S995 = _S993.x + _S993.y;
    float _S996 = r2_46 * _S995;
    float _S997 = r2_46 * _S996;
    float _S998 = (*dpdist_coeffs_0)[int(7)] * fy_18 + _S994 + _S991 * _S995 + _S990 * _S996 + _S989 * _S997 + (*dpdist_coeffs_0)[int(3)] * (r2_46 * _S997);
    float _S999 = v_46 * _S998;
    float _S1000 = u_46 * _S998;
    float2  _S1001 = (make_float2 (1.0f + r2_46 * _S991) * _S992 + make_float2 (_S962 * (v_46 * fy_18) + _S1000 + _S1000, 2.0f * v_46 * _S994 + 2.0f * (v_46 * _S994) + _S962 * u_46 * fy_18 + _S999 + _S999)) / _S968;
    float2  _S1002 = _S958 * - _S1001;
    float2  _S1003 = _S966 * _S1001;
    float _S1004 = _S1002.x + _S1002.y;
    _S987[int(1)] = make_float3 (_S1003.x, _S1003.y, _S1004);
    float _S1005 = float(width_4);
    float _S1006 = 0.30000001192092896f * (0.5f * _S1005);
    float lim_x_pos_4 = _S1005 + _S1006;
    float rz_2 = 1.0f / _S959;
    float _S1007 = - _S1006;
    float max_Jyz_2 = - (_S1007 - cy_15) * rz_2;
    float min_Jyz_2 = - (lim_x_pos_4 - cy_15) * rz_2;
    *&(((&_S987)->rows + (int(0)))->z) = s_primal_ctx_clamp_0(_S985, - (lim_x_pos_4 - cx_15) * rz_2, - (_S1007 - cx_15) * rz_2);
    *&(((&_S987)->rows + (int(1)))->z) = s_primal_ctx_clamp_0(_S1004, min_Jyz_2, max_Jyz_2);
    *dpcov2d_0 = s_primal_ctx_mul_3(s_primal_ctx_mul_2(_S987, dpcov3d_0), transpose_1(_S987));
    *dpmean2d_0 = _S965;
    return true;
}

inline __device__ float s_primal_ctx_max_0(float _S1008, float _S1009)
{
    return (F32_max((_S1008), (_S1009)));
}

inline __device__ float s_primal_ctx_sqrt_0(float _S1010)
{
    return (F32_sqrt((_S1010)));
}

inline __device__ float s_primal_ctx_exp_1(float _S1011)
{
    return (F32_exp((_S1011)));
}

inline __device__ float s_primal_ctx_log_0(float _S1012)
{
    return (F32_log((_S1012)));
}

inline __device__ void s_bwd_prop_max_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1013, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1014, float3  _S1015)
{
    _d_max_vector_0(_S1013, _S1014, _S1015);
    return;
}

inline __device__ void s_bwd_prop_mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S1016, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1017, float3  _S1018)
{
    _d_mul_0(_S1016, _S1017, _S1018);
    return;
}

inline __device__ void s_bwd_prop_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_16, float _s_dOut_3)
{
    float _S1019 = (*dpx_16).primal_0.x;
    float _S1020 = (*dpx_16).primal_0.y;
    float _S1021 = (*dpx_16).primal_0.z;
    DiffPair_float_0 _S1022;
    (&_S1022)->primal_0 = _S1019 * _S1019 + _S1020 * _S1020 + _S1021 * _S1021;
    (&_S1022)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1022, _s_dOut_3);
    float _S1023 = (*dpx_16).primal_0.z * _S1022.differential_0;
    float _S1024 = _S1023 + _S1023;
    float _S1025 = (*dpx_16).primal_0.y * _S1022.differential_0;
    float _S1026 = _S1025 + _S1025;
    float _S1027 = (*dpx_16).primal_0.x * _S1022.differential_0;
    float _S1028 = _S1027 + _S1027;
    float3  _S1029 = make_float3 (0.0f);
    *&((&_S1029)->z) = _S1024;
    *&((&_S1029)->y) = _S1026;
    *&((&_S1029)->x) = _S1028;
    dpx_16->primal_0 = (*dpx_16).primal_0;
    dpx_16->differential_0 = _S1029;
    return;
}

inline __device__ void s_bwd_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1030, float _S1031)
{
    s_bwd_prop_length_impl_1(_S1030, _S1031);
    return;
}

inline __device__ void s_bwd_prop_min_0(DiffPair_float_0 * _S1032, DiffPair_float_0 * _S1033, float _S1034)
{
    _d_min_0(_S1032, _S1033, _S1034);
    return;
}

inline __device__ void s_bwd_prop_log_0(DiffPair_float_0 * _S1035, float _S1036)
{
    _d_log_0(_S1035, _S1036);
    return;
}

inline __device__ void s_bwd_prop_exp_0(DiffPair_float_0 * _S1037, float _S1038)
{
    _d_exp_0(_S1037, _S1038);
    return;
}

inline __device__ void s_bwd_prop_max_1(DiffPair_float_0 * _S1039, DiffPair_float_0 * _S1040, float _S1041)
{
    _d_max_0(_S1039, _S1040, _S1041);
    return;
}

struct DiffPair_vectorx3Cfloatx2C4x3E_0
{
    float4  primal_0;
    float4  differential_0;
};

struct DiffPair_arrayx3Cfloatx2C10x3E_0
{
    FixedArray<float, 10>  primal_0;
    FixedArray<float, 10>  differential_0;
};

inline __device__ void s_bwd_prop_mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S1042, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * _S1043, Matrix<float, 2, 2>  _S1044)
{
    mul_3(_S1042, _S1043, _S1044);
    return;
}

inline __device__ void s_bwd_prop_mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S1045, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S1046, Matrix<float, 2, 3>  _S1047)
{
    mul_2(_S1045, _S1046, _S1047);
    return;
}

inline __device__ void s_bwd_prop_clamp_0(DiffPair_float_0 * _S1048, DiffPair_float_0 * _S1049, DiffPair_float_0 * _S1050, float _S1051)
{
    _d_clamp_0(_S1048, _S1049, _S1050, _S1051);
    return;
}

inline __device__ void s_bwd_prop_persp_proj_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean3d_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpcov3d_1, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpintrins_1, DiffPair_arrayx3Cfloatx2C10x3E_0 * dpdist_coeffs_1, uint width_5, uint height_5, Matrix<float, 2, 2>  dpcov2d_1, float2  dpmean2d_1)
{
    float cx_16 = (*dpintrins_1).primal_0.z;
    float cy_16 = (*dpintrins_1).primal_0.w;
    float2  _S1052 = float2 {(*dpmean3d_1).primal_0.x, (*dpmean3d_1).primal_0.y};
    float _S1053 = (*dpmean3d_1).primal_0.z;
    float2  _S1054 = make_float2 (_S1053);
    float2  _S1055 = _S1052 / make_float2 (_S1053);
    float _S1056 = _S1053 * _S1053;
    float2  _S1057 = make_float2 (_S1056);
    float u_47 = _S1055.x;
    float v_47 = _S1055.y;
    float r2_47 = u_47 * u_47 + v_47 * v_47;
    float _S1058 = dpdist_coeffs_1->primal_0[int(2)] + r2_47 * dpdist_coeffs_1->primal_0[int(3)];
    float _S1059 = dpdist_coeffs_1->primal_0[int(1)] + r2_47 * _S1058;
    float _S1060 = dpdist_coeffs_1->primal_0[int(0)] + r2_47 * _S1059;
    float radial_0 = 1.0f + r2_47 * _S1060;
    float2  _S1061 = make_float2 (radial_0);
    float _S1062 = 2.0f * dpdist_coeffs_1->primal_0[int(4)];
    float _S1063 = _S1062 * u_47;
    float _S1064 = 2.0f * u_47;
    float _S1065 = r2_47 + _S1064 * u_47;
    float _S1066 = 2.0f * dpdist_coeffs_1->primal_0[int(5)];
    float _S1067 = _S1066 * u_47;
    float _S1068 = 2.0f * v_47;
    float _S1069 = r2_47 + _S1068 * v_47;
    float2  _S1070 = _S1055 * make_float2 (radial_0) + make_float2 (_S1063 * v_47 + dpdist_coeffs_1->primal_0[int(5)] * _S1065 + dpdist_coeffs_1->primal_0[int(6)] * r2_47, _S1067 * v_47 + dpdist_coeffs_1->primal_0[int(4)] * _S1069 + dpdist_coeffs_1->primal_0[int(7)] * r2_47);
    float _S1071 = _S1070.x;
    float _S1072 = _S1070.y;
    float2  _S1073 = _S1070 + make_float2 (dpdist_coeffs_1->primal_0[int(8)] * _S1071 + dpdist_coeffs_1->primal_0[int(9)] * _S1072, 0.0f);
    float fx_19 = (*dpintrins_1).primal_0.x;
    float fy_19 = (*dpintrins_1).primal_0.y;
    float _S1074 = _S1073.x;
    float _S1075 = _S1073.y;
    Matrix<float, 2, 3>  J_9 = makeMatrix<float, 2, 3> (0.0f);
    float2  _S1076 = _S1052 / make_float2 (_S1053);
    float u_48 = _S1076.x;
    float v_48 = _S1076.y;
    float r2_48 = u_48 * u_48 + v_48 * v_48;
    float _S1077 = dpdist_coeffs_1->primal_0[int(2)] + r2_48 * dpdist_coeffs_1->primal_0[int(3)];
    float _S1078 = dpdist_coeffs_1->primal_0[int(1)] + r2_48 * _S1077;
    float _S1079 = dpdist_coeffs_1->primal_0[int(0)] + r2_48 * _S1078;
    float2  _S1080 = make_float2 (1.0f + r2_48 * _S1079);
    float _S1081 = _S1062 * u_48;
    float _S1082 = 2.0f * u_48;
    float _S1083 = _S1066 * u_48;
    float _S1084 = 2.0f * v_48;
    float2  _S1085 = make_float2 (fx_19, 0.0f) + make_float2 (dpdist_coeffs_1->primal_0[int(8)] * fx_19, dpdist_coeffs_1->primal_0[int(9)] * fx_19);
    float2  _S1086 = _S1076 * _S1085;
    float _S1087 = dpdist_coeffs_1->primal_0[int(4)] * _S1085.y;
    float _S1088 = v_48 * _S1085.y;
    float _S1089 = dpdist_coeffs_1->primal_0[int(5)] * _S1085.x;
    float _S1090 = v_48 * _S1085.x;
    float _S1091 = _S1086.x + _S1086.y;
    float _S1092 = r2_48 * _S1091;
    float _S1093 = r2_48 * _S1092;
    float _S1094 = r2_48 * _S1093;
    float _S1095 = dpdist_coeffs_1->primal_0[int(7)] * _S1085.y + _S1087 + dpdist_coeffs_1->primal_0[int(6)] * _S1085.x + _S1089 + _S1079 * _S1091 + _S1078 * _S1092 + _S1077 * _S1093 + dpdist_coeffs_1->primal_0[int(3)] * _S1094;
    float _S1096 = v_48 * _S1095;
    float _S1097 = u_48 * _S1095;
    float2  _S1098 = _S1080 * _S1085 + make_float2 (_S1066 * _S1088 + _S1082 * _S1089 + 2.0f * (u_48 * _S1089) + _S1062 * _S1090 + _S1097 + _S1097, _S1084 * _S1087 + 2.0f * (v_48 * _S1087) + _S1083 * _S1085.y + _S1081 * _S1085.x + _S1096 + _S1096);
    float2  _S1099 = _S1098 / _S1057;
    float2  _S1100 = _S1057 * _S1057;
    float2  _S1101 = - _S1099;
    float2  _S1102 = _S1052 * _S1101;
    float2  _S1103 = _S1054 * _S1099;
    float _S1104 = _S1102.x + _S1102.y;
    float3  _S1105 = make_float3 (_S1103.x, _S1103.y, _S1104);
    Matrix<float, 2, 3>  _S1106 = J_9;
    _S1106[int(0)] = _S1105;
    float2  _S1107 = _S1052 / make_float2 (_S1053);
    float u_49 = _S1107.x;
    float v_49 = _S1107.y;
    float r2_49 = u_49 * u_49 + v_49 * v_49;
    float _S1108 = dpdist_coeffs_1->primal_0[int(2)] + r2_49 * dpdist_coeffs_1->primal_0[int(3)];
    float _S1109 = dpdist_coeffs_1->primal_0[int(1)] + r2_49 * _S1108;
    float _S1110 = dpdist_coeffs_1->primal_0[int(0)] + r2_49 * _S1109;
    float2  _S1111 = make_float2 (1.0f + r2_49 * _S1110);
    float _S1112 = _S1062 * u_49;
    float _S1113 = 2.0f * u_49;
    float _S1114 = _S1066 * u_49;
    float _S1115 = 2.0f * v_49;
    float2  _S1116 = make_float2 (0.0f, fy_19);
    float2  _S1117 = _S1107 * _S1116;
    float _S1118 = dpdist_coeffs_1->primal_0[int(4)] * fy_19;
    float _S1119 = v_49 * fy_19;
    float _S1120 = _S1117.x + _S1117.y;
    float _S1121 = r2_49 * _S1120;
    float _S1122 = r2_49 * _S1121;
    float _S1123 = r2_49 * _S1122;
    float _S1124 = dpdist_coeffs_1->primal_0[int(7)] * fy_19 + _S1118 + _S1110 * _S1120 + _S1109 * _S1121 + _S1108 * _S1122 + dpdist_coeffs_1->primal_0[int(3)] * _S1123;
    float _S1125 = v_49 * _S1124;
    float _S1126 = u_49 * _S1124;
    float2  _S1127 = _S1111 * _S1116 + make_float2 (_S1066 * _S1119 + _S1126 + _S1126, _S1115 * _S1118 + 2.0f * (v_49 * _S1118) + _S1114 * fy_19 + _S1125 + _S1125);
    float2  _S1128 = _S1127 / _S1057;
    float2  _S1129 = - _S1128;
    float2  _S1130 = _S1052 * _S1129;
    float2  _S1131 = _S1054 * _S1128;
    float _S1132 = _S1130.x + _S1130.y;
    _S1106[int(1)] = make_float3 (_S1131.x, _S1131.y, _S1132);
    float _S1133 = float(width_5);
    float _S1134 = 0.30000001192092896f * (0.5f * _S1133);
    float lim_x_pos_5 = _S1133 + _S1134;
    float rz_3 = 1.0f / _S1053;
    float _S1135 = - _S1134;
    float _S1136 = - (_S1135 - cx_16);
    float max_Jxz_0 = _S1136 * rz_3;
    float _S1137 = - (lim_x_pos_5 - cx_16);
    float min_Jxz_0 = _S1137 * rz_3;
    float _S1138 = - (_S1135 - cy_16);
    float max_Jyz_3 = _S1138 * rz_3;
    float _S1139 = - (lim_x_pos_5 - cy_16);
    float min_Jyz_3 = _S1139 * rz_3;
    *&(((&_S1106)->rows + (int(0)))->z) = s_primal_ctx_clamp_0(_S1104, min_Jxz_0, max_Jxz_0);
    *&(((&_S1106)->rows + (int(1)))->z) = s_primal_ctx_clamp_0(_S1132, min_Jyz_3, max_Jyz_3);
    Matrix<float, 3, 2>  _S1140 = transpose_1(_S1106);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1141;
    (&_S1141)->primal_0 = s_primal_ctx_mul_2(_S1106, (*dpcov3d_1).primal_0);
    (&_S1141)->differential_0 = J_9;
    Matrix<float, 3, 2>  _S1142 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S1143;
    (&_S1143)->primal_0 = _S1140;
    (&_S1143)->differential_0 = _S1142;
    s_bwd_prop_mul_2(&_S1141, &_S1143, dpcov2d_1);
    Matrix<float, 2, 3>  _S1144 = transpose_2(_S1143.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1145;
    (&_S1145)->primal_0 = _S1106;
    (&_S1145)->differential_0 = J_9;
    Matrix<float, 3, 3>  _S1146 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1147;
    (&_S1147)->primal_0 = (*dpcov3d_1).primal_0;
    (&_S1147)->differential_0 = _S1146;
    s_bwd_prop_mul_3(&_S1145, &_S1147, _S1141.differential_0);
    Matrix<float, 2, 3>  _S1148 = _S1144 + _S1145.differential_0;
    _S1106 = _S1148;
    *&(((&_S1106)->rows + (int(1)))->z) = 0.0f;
    DiffPair_float_0 _S1149;
    (&_S1149)->primal_0 = _S1132;
    (&_S1149)->differential_0 = 0.0f;
    DiffPair_float_0 _S1150;
    (&_S1150)->primal_0 = min_Jyz_3;
    (&_S1150)->differential_0 = 0.0f;
    DiffPair_float_0 _S1151;
    (&_S1151)->primal_0 = max_Jyz_3;
    (&_S1151)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S1149, &_S1150, &_S1151, _S1148.rows[int(1)].z);
    *&(((&_S1106)->rows + (int(0)))->z) = 0.0f;
    DiffPair_float_0 _S1152;
    (&_S1152)->primal_0 = _S1104;
    (&_S1152)->differential_0 = 0.0f;
    DiffPair_float_0 _S1153;
    (&_S1153)->primal_0 = min_Jxz_0;
    (&_S1153)->differential_0 = 0.0f;
    DiffPair_float_0 _S1154;
    (&_S1154)->primal_0 = max_Jxz_0;
    (&_S1154)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S1152, &_S1153, &_S1154, _S1148.rows[int(0)].z);
    float _S1155 = - - (rz_3 * _S1150.differential_0);
    float _S1156 = - - (rz_3 * _S1151.differential_0);
    float _S1157 = - - (rz_3 * _S1153.differential_0);
    float _S1158 = - - (rz_3 * _S1154.differential_0);
    float _S1159 = - ((_S1139 * _S1150.differential_0 + _S1138 * _S1151.differential_0 + _S1137 * _S1153.differential_0 + _S1136 * _S1154.differential_0) / _S1056);
    float3  _S1160 = make_float3 (0.0f);
    float3  _S1161 = _S1160;
    *&((&_S1161)->z) = _S1149.differential_0;
    float3  _S1162 = _S1106.rows[int(1)] + _S1161;
    float2  _S1163 = make_float2 (0.0f);
    float2  _S1164 = _S1163;
    *&((&_S1164)->y) = _S1162.y;
    *&((&_S1164)->x) = _S1162.x;
    float2  _S1165 = _S1054 * _S1164;
    float2  _S1166 = _S1128 * _S1164;
    float2  _S1167 = _S1163;
    *&((&_S1167)->y) = _S1162.z;
    *&((&_S1167)->x) = _S1162.z;
    float2  _S1168 = _S1129 * _S1167;
    float2  _S1169 = (_S1165 + - (_S1052 * _S1167)) / _S1100;
    float2  _S1170 = _S1127 * - _S1169;
    float2  _S1171 = _S1057 * _S1169;
    float _S1172 = _S1171.x;
    float _S1173 = _S1172 + _S1172;
    float _S1174 = _S1124 * _S1173;
    float _S1175 = _S1171.y + _S1171.y;
    float _S1176 = _S1124 * _S1175;
    float _S1177 = u_49 * _S1173 + v_49 * _S1175;
    float _S1178 = dpdist_coeffs_1->primal_0[int(3)] * _S1177;
    float _S1179 = _S1123 * _S1177;
    float _S1180 = _S1122 * _S1177;
    float _S1181 = _S1122 * _S1178;
    float _S1182 = _S1121 * _S1177;
    float _S1183 = _S1108 * _S1177 + r2_49 * _S1178;
    float _S1184 = _S1121 * _S1183;
    float _S1185 = _S1120 * _S1177;
    float _S1186 = _S1109 * _S1177 + r2_49 * _S1183;
    float _S1187 = _S1120 * _S1186;
    float _S1188 = _S1110 * _S1177 + r2_49 * _S1186;
    float _S1189 = v_49 * (_S1062 * _S1171.x);
    float _S1190 = _S1112 * _S1171.y;
    float _S1191 = dpdist_coeffs_1->primal_0[int(5)] * (_S1177 + u_49 * (2.0f * _S1171.x) + _S1113 * _S1171.x);
    float _S1192 = dpdist_coeffs_1->primal_0[int(6)] * _S1177;
    float _S1193 = _S1066 * _S1171.x;
    float _S1194 = _S1119 * _S1171.x;
    float _S1195 = v_49 * _S1193;
    float _S1196 = fy_19 * _S1193;
    float _S1197 = _S1114 * _S1171.y;
    float _S1198 = fy_19 * _S1171.y;
    float _S1199 = 2.0f * _S1171.y;
    float _S1200 = _S1118 * _S1199;
    float _S1201 = _S1118 * _S1171.y;
    float _S1202 = _S1177 + v_49 * _S1199 + _S1115 * _S1171.y;
    float _S1203 = dpdist_coeffs_1->primal_0[int(4)] * _S1202;
    float _S1204 = fy_19 * _S1202;
    float _S1205 = dpdist_coeffs_1->primal_0[int(7)] * _S1177;
    float _S1206 = fy_19 * _S1177;
    float2  _S1207 = _S1111 * _S1171;
    float2  _S1208 = _S1116 * _S1171;
    float2  _S1209 = _S1163;
    *&((&_S1209)->y) = _S1188;
    *&((&_S1209)->x) = _S1188;
    float2  _S1210 = _S1116 * _S1209;
    float _S1211 = _S1195 + _S1197 + _S1203 + _S1205;
    float _S1212 = _S1189 + _S1190 + _S1191 + _S1192;
    float2  _S1213 = _S1207 + _S1107 * _S1209;
    float2  _S1214 = _S1163;
    *&((&_S1214)->y) = _S1211;
    *&((&_S1214)->x) = _S1212;
    float2  _S1215 = _S1213 + _S1214;
    float _S1216 = u_49 * _S1198;
    float _S1217 = _S1208.x + _S1208.y;
    float _S1218 = _S1185 + r2_49 * _S1217;
    float _S1219 = _S1182 + r2_49 * _S1218;
    float _S1220 = _S1180 + r2_49 * _S1219;
    float _S1221 = r2_49 * _S1220;
    float _S1222 = _S1181 + _S1184 + _S1187 + _S1110 * _S1217 + _S1109 * _S1218 + _S1108 * _S1219 + dpdist_coeffs_1->primal_0[int(3)] * _S1220;
    float _S1223 = v_49 * _S1222;
    float _S1224 = u_49 * _S1222;
    float _S1225 = _S1053 * (_S1170.x + _S1170.y);
    float2  _S1226 = (_S1210 + make_float2 (_S1174 + _S1066 * _S1198 + _S1224 + _S1224, _S1176 + _S1196 + _S1200 + 2.0f * _S1201 + _S1223 + _S1223)) / _S1057;
    float2  _S1227 = _S1052 * - _S1226;
    float2  _S1228 = _S1168 + _S1054 * _S1226;
    float3  _S1229 = make_float3 (_S1228.x, _S1228.y, _S1225 + _S1225 + _S1166.x + _S1166.y + _S1227.x + _S1227.y);
    float3  _S1230 = _S1160;
    *&((&_S1230)->z) = _S1152.differential_0;
    float3  _S1231 = _S1106.rows[int(0)] + _S1230;
    float2  _S1232 = _S1163;
    *&((&_S1232)->y) = _S1231.y;
    *&((&_S1232)->x) = _S1231.x;
    float2  _S1233 = _S1054 * _S1232;
    float2  _S1234 = _S1099 * _S1232;
    float2  _S1235 = _S1163;
    *&((&_S1235)->y) = _S1231.z;
    *&((&_S1235)->x) = _S1231.z;
    float2  _S1236 = _S1101 * _S1235;
    float2  _S1237 = (_S1233 + - (_S1052 * _S1235)) / _S1100;
    float2  _S1238 = _S1098 * - _S1237;
    float2  _S1239 = _S1057 * _S1237;
    float _S1240 = _S1239.x;
    float _S1241 = _S1240 + _S1240;
    float _S1242 = _S1095 * _S1241;
    float _S1243 = _S1239.y + _S1239.y;
    float _S1244 = _S1095 * _S1243;
    float _S1245 = u_48 * _S1241 + v_48 * _S1243;
    float _S1246 = dpdist_coeffs_1->primal_0[int(3)] * _S1245;
    float _S1247 = _S1094 * _S1245;
    float _S1248 = _S1093 * _S1245;
    float _S1249 = _S1093 * _S1246;
    float _S1250 = _S1092 * _S1245;
    float _S1251 = _S1077 * _S1245 + r2_48 * _S1246;
    float _S1252 = _S1092 * _S1251;
    float _S1253 = _S1091 * _S1245;
    float _S1254 = _S1078 * _S1245 + r2_48 * _S1251;
    float _S1255 = _S1091 * _S1254;
    float _S1256 = _S1079 * _S1245 + r2_48 * _S1254;
    float _S1257 = _S1062 * _S1239.x;
    float _S1258 = _S1090 * _S1239.x;
    float _S1259 = v_48 * _S1257;
    float _S1260 = _S1085.x * _S1257;
    float _S1261 = _S1081 * _S1239.y;
    float _S1262 = _S1085.x * _S1239.y;
    float _S1263 = 2.0f * _S1239.x;
    float _S1264 = _S1089 * _S1263;
    float _S1265 = _S1089 * _S1239.x;
    float _S1266 = _S1245 + u_48 * _S1263 + _S1082 * _S1239.x;
    float _S1267 = dpdist_coeffs_1->primal_0[int(5)] * _S1266;
    float _S1268 = _S1085.x * _S1266;
    float _S1269 = dpdist_coeffs_1->primal_0[int(6)] * _S1245;
    float _S1270 = _S1085.x * _S1245;
    float _S1271 = _S1066 * _S1239.x;
    float _S1272 = _S1088 * _S1239.x;
    float _S1273 = v_48 * _S1271;
    float _S1274 = _S1085.y * _S1271;
    float _S1275 = _S1083 * _S1239.y;
    float _S1276 = _S1085.y * _S1239.y;
    float _S1277 = 2.0f * _S1239.y;
    float _S1278 = _S1087 * _S1277;
    float _S1279 = _S1087 * _S1239.y;
    float _S1280 = _S1245 + v_48 * _S1277 + _S1084 * _S1239.y;
    float _S1281 = dpdist_coeffs_1->primal_0[int(4)] * _S1280;
    float _S1282 = _S1085.y * _S1280;
    float _S1283 = dpdist_coeffs_1->primal_0[int(7)] * _S1245;
    float _S1284 = _S1085.y * _S1245;
    float2  _S1285 = _S1080 * _S1239;
    float2  _S1286 = _S1085 * _S1239;
    float2  _S1287 = _S1163;
    *&((&_S1287)->y) = _S1256;
    *&((&_S1287)->x) = _S1256;
    float2  _S1288 = _S1085 * _S1287;
    float _S1289 = _S1273 + _S1275 + _S1281 + _S1283;
    float _S1290 = _S1259 + _S1261 + _S1267 + _S1269;
    float2  _S1291 = _S1285 + _S1076 * _S1287;
    float2  _S1292 = _S1163;
    *&((&_S1292)->y) = _S1289;
    *&((&_S1292)->x) = _S1290;
    float2  _S1293 = _S1291 + _S1292;
    float _S1294 = _S1286.x + _S1286.y;
    float _S1295 = _S1253 + r2_48 * _S1294;
    float _S1296 = _S1250 + r2_48 * _S1295;
    float _S1297 = _S1248 + r2_48 * _S1296;
    float _S1298 = _S1249 + _S1252 + _S1255 + _S1079 * _S1294 + _S1078 * _S1295 + _S1077 * _S1296 + dpdist_coeffs_1->primal_0[int(3)] * _S1297;
    float _S1299 = v_48 * _S1298;
    float _S1300 = u_48 * _S1298;
    float _S1301 = _S1053 * (_S1238.x + _S1238.y);
    float2  _S1302 = (_S1288 + make_float2 (_S1242 + _S1264 + _S1066 * _S1276 + 2.0f * _S1265 + _S1062 * _S1262 + _S1300 + _S1300, _S1244 + _S1260 + _S1274 + _S1278 + 2.0f * _S1279 + _S1299 + _S1299)) / _S1057;
    float2  _S1303 = _S1052 * - _S1302;
    float2  _S1304 = _S1236 + _S1054 * _S1302;
    float3  _S1305 = make_float3 (_S1304.x, _S1304.y, _S1301 + _S1301 + _S1234.x + _S1234.y + _S1303.x + _S1303.y);
    float _S1306 = fx_19 * dpmean2d_1.x;
    float _S1307 = _S1215.y + _S1075 * dpmean2d_1.y;
    float _S1308 = dpdist_coeffs_1->primal_0[int(8)] * _S1293.x + dpdist_coeffs_1->primal_0[int(9)] * _S1293.y + _S1293.x + _S1074 * dpmean2d_1.x;
    float2  _S1309 = make_float2 (_S1306, fy_19 * dpmean2d_1.y) + make_float2 (dpdist_coeffs_1->primal_0[int(8)] * _S1306, dpdist_coeffs_1->primal_0[int(9)] * _S1306);
    float2  _S1310 = _S1055 * _S1309;
    float _S1311 = dpdist_coeffs_1->primal_0[int(4)] * _S1309.y;
    float _S1312 = v_47 * _S1309.y;
    float _S1313 = dpdist_coeffs_1->primal_0[int(5)] * _S1309.x;
    float _S1314 = v_47 * _S1309.x;
    float _S1315 = _S1310.x + _S1310.y;
    float _S1316 = r2_47 * _S1315;
    float _S1317 = r2_47 * _S1316;
    float _S1318 = r2_47 * _S1317;
    float _S1319 = dpdist_coeffs_1->primal_0[int(7)] * _S1309.y + _S1311 + dpdist_coeffs_1->primal_0[int(6)] * _S1309.x + _S1313 + _S1060 * _S1315 + _S1059 * _S1316 + _S1058 * _S1317 + dpdist_coeffs_1->primal_0[int(3)] * _S1318;
    float _S1320 = v_47 * _S1319;
    float _S1321 = u_47 * _S1319;
    float _S1322 = fx_19 * _S1293.y + _S1072 * _S1306;
    float _S1323 = fx_19 * _S1293.x + _S1071 * _S1306;
    float _S1324 = _S1206 + _S1284 + r2_47 * _S1309.y;
    float _S1325 = _S1270 + r2_47 * _S1309.x;
    float _S1326 = _S1268 + 2.0f * (_S1194 + _S1216 + _S1272 + u_48 * _S1276 + u_47 * _S1312) + _S1065 * _S1309.x;
    float _S1327 = _S1204 + _S1282 + _S1069 * _S1309.y + 2.0f * (_S1258 + u_48 * _S1262 + u_47 * _S1314);
    float _S1328 = _S1179 + _S1221 + _S1247 + r2_48 * _S1297 + r2_47 * _S1318;
    float _S1329 = _S1220 + _S1297 + _S1318;
    float _S1330 = _S1219 + _S1296 + _S1317;
    float _S1331 = _S1218 + _S1295 + _S1316;
    float2  _S1332 = (_S1061 * _S1309 + make_float2 (_S1066 * _S1312 + _S1064 * _S1313 + 2.0f * (u_47 * _S1313) + _S1062 * _S1314 + _S1321 + _S1321, _S1068 * _S1311 + 2.0f * (v_47 * _S1311) + _S1067 * _S1309.y + _S1063 * _S1309.x + _S1320 + _S1320)) / _S1057;
    float2  _S1333 = _S1052 * - _S1332;
    float2  _S1334 = _S1054 * _S1332;
    float _S1335 = _S1159 + _S1333.x + _S1333.y;
    float _S1336 = _S1155 + _S1156 + dpmean2d_1.y;
    float _S1337 = _S1157 + _S1158 + dpmean2d_1.x;
    FixedArray<float, 10>  _S1338;
    _S1338[int(0)] = 0.0f;
    _S1338[int(1)] = 0.0f;
    _S1338[int(2)] = 0.0f;
    _S1338[int(3)] = 0.0f;
    _S1338[int(4)] = 0.0f;
    _S1338[int(5)] = 0.0f;
    _S1338[int(6)] = 0.0f;
    _S1338[int(7)] = 0.0f;
    _S1338[int(8)] = 0.0f;
    _S1338[int(9)] = 0.0f;
    _S1338[int(9)] = _S1322;
    _S1338[int(8)] = _S1323;
    _S1338[int(7)] = _S1324;
    _S1338[int(6)] = _S1325;
    _S1338[int(5)] = _S1326;
    _S1338[int(4)] = _S1327;
    _S1338[int(3)] = _S1328;
    _S1338[int(2)] = _S1329;
    _S1338[int(1)] = _S1330;
    _S1338[int(0)] = _S1331;
    dpdist_coeffs_1->primal_0 = dpdist_coeffs_1->primal_0;
    dpdist_coeffs_1->differential_0 = _S1338;
    float4  _S1339 = make_float4 (_S1308, _S1307, _S1337, _S1336);
    dpintrins_1->primal_0 = (*dpintrins_1).primal_0;
    dpintrins_1->differential_0 = _S1339;
    dpcov3d_1->primal_0 = (*dpcov3d_1).primal_0;
    dpcov3d_1->differential_0 = _S1147.differential_0;
    float3  _S1340 = _S1229 + _S1305 + make_float3 (_S1334.x, _S1334.y, _S1335);
    dpmean3d_1->primal_0 = (*dpmean3d_1).primal_0;
    dpmean3d_1->differential_0 = _S1340;
    return;
}

inline __device__ void s_bwd_prop_mul_4(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S1341, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S1342, Matrix<float, 3, 3>  _S1343)
{
    mul_1(_S1341, _S1342, _S1343);
    return;
}

inline __device__ void s_bwd_prop_exp_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1344, float3  _S1345)
{
    _d_exp_vector_0(_S1344, _S1345);
    return;
}

inline __device__ void projection_3dgs_persp_vjp(bool antialiased_10, float3  mean_11, float4  quat_14, float3  scale_13, float in_opacity_10, FixedArray<float3 , 16>  * sh_coeffs_10, Matrix<float, 3, 3>  R_17, float3  t_13, float fx_20, float fy_20, float cx_17, float cy_17, FixedArray<float, 10>  * dist_coeffs_25, uint image_width_10, uint image_height_10, float2  v_mean2d_0, float v_depth_0, float3  v_conic_0, float v_opacity_0, float3  v_rgb_0, float3  * v_mean_0, float4  * v_quat_0, float3  * v_scale_0, float * v_in_opacity_0, FixedArray<float3 , 16>  * v_sh_coeffs_0, Matrix<float, 3, 3>  * v_R_2, float3  * v_t_1)
{
    Matrix<float, 2, 2>  _S1346 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgs_persp_differentiable_Intermediates_0 _S1347;
    (&_S1347)->_S945 = _S1346;
    float3  mean_c_10 = s_primal_ctx_mul_0(R_17, mean_11) + t_13;
    float4  intrins_14 = make_float4 (fx_20, fy_20, cx_17, cy_17);
    float3  _S1348 = s_primal_ctx_exp_0(scale_13);
    float _S1349 = quat_14.y;
    float x2_14 = _S1349 * _S1349;
    float y2_14 = quat_14.z * quat_14.z;
    float z2_24 = quat_14.w * quat_14.w;
    float xy_14 = quat_14.y * quat_14.z;
    float xz_14 = quat_14.y * quat_14.w;
    float yz_14 = quat_14.z * quat_14.w;
    float wx_14 = quat_14.x * quat_14.y;
    float wy_14 = quat_14.x * quat_14.z;
    float wz_14 = quat_14.x * quat_14.w;
    Matrix<float, 3, 3>  _S1350 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_14 + z2_24), 2.0f * (xy_14 + wz_14), 2.0f * (xz_14 - wy_14), 2.0f * (xy_14 - wz_14), 1.0f - 2.0f * (x2_14 + z2_24), 2.0f * (yz_14 + wx_14), 2.0f * (xz_14 + wy_14), 2.0f * (yz_14 - wx_14), 1.0f - 2.0f * (x2_14 + y2_14)));
    Matrix<float, 3, 3>  S_0 = makeMatrix<float, 3, 3> (_S1348.x, 0.0f, 0.0f, 0.0f, _S1348.y, 0.0f, 0.0f, 0.0f, _S1348.z);
    Matrix<float, 3, 3>  _S1351 = s_primal_ctx_mul_1(_S1350, S_0);
    Matrix<float, 3, 3>  _S1352 = transpose_0(_S1351);
    Matrix<float, 3, 3>  _S1353 = s_primal_ctx_mul_1(_S1351, _S1352);
    Matrix<float, 3, 3>  _S1354 = s_primal_ctx_mul_1(R_17, _S1353);
    Matrix<float, 3, 3>  _S1355 = transpose_0(R_17);
    Matrix<float, 3, 3>  _S1356 = s_primal_ctx_mul_1(_S1354, _S1355);
    Matrix<float, 2, 2>  _S1357 = _S1346;
    float2  _S1358 = make_float2 (0.0f);
    float2  _S1359 = _S1358;
    bool _S1360 = s_primal_ctx_persp_proj_3dgs_0(mean_c_10, _S1356, intrins_14, dist_coeffs_25, image_width_10, image_height_10, &_S1357, &_S1359);
    (&_S1347)->_S945 = _S1357;
    s_bwd_prop_projection_3dgs_persp_differentiable_Intermediates_0 _S1361 = _S1347;
    float _S1362 = _S1347._S945.rows[int(0)].y * _S1347._S945.rows[int(1)].x;
    float det_orig_11 = _S1347._S945.rows[int(0)].x * _S1347._S945.rows[int(1)].y - _S1362;
    float _S1363 = _S1347._S945.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S1364 = _S1347._S945;
    *&(((&_S1364)->rows + (int(0)))->x) = _S1363;
    float _S1365 = _S1347._S945.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S1364)->rows + (int(1)))->y) = _S1365;
    Matrix<float, 2, 2>  _S1366 = _S1364;
    Matrix<float, 2, 2>  _S1367 = _S1364;
    float det_blur_6 = _S1363 * _S1365 - _S1362;
    float _S1368 = det_orig_11 / det_blur_6;
    float _S1369 = det_blur_6 * det_blur_6;
    float _S1370 = s_primal_ctx_max_0(0.0f, _S1368);
    float _S1371 = s_primal_ctx_sqrt_0(_S1370);
    float invdet_7 = 1.0f / det_blur_6;
    float _S1372 = - _S1347._S945.rows[int(0)].y;
    float _S1373 = - _S1347._S945.rows[int(1)].x;
    float _S1374 = - in_opacity_10;
    float _S1375 = 1.0f + s_primal_ctx_exp_1(_S1374);
    float _S1376 = 1.0f / _S1375;
    float _S1377 = _S1375 * _S1375;
    float _S1378;
    if(antialiased_10)
    {
        _S1378 = _S1376 * _S1371;
    }
    else
    {
        _S1378 = _S1376;
    }
    float _S1379 = _S1378 / 0.00392156885936856f;
    float _S1380 = 2.0f * s_primal_ctx_log_0(_S1379);
    float _S1381 = s_primal_ctx_sqrt_0(_S1380);
    float _S1382 = _S1366.rows[int(0)].x;
    float _S1383 = _S1367.rows[int(1)].y;
    float3  _S1384 = mean_11 - - s_primal_ctx_mul_0(_S1355, t_13);
    float _S1385 = _S1384.x;
    float _S1386 = _S1384.y;
    float _S1387 = _S1384.z;
    float _S1388 = _S1385 * _S1385 + _S1386 * _S1386 + _S1387 * _S1387;
    float _S1389 = s_primal_ctx_sqrt_0(_S1388);
    float x_35 = _S1385 / _S1389;
    float3  _S1390 = make_float3 (x_35);
    float _S1391 = _S1389 * _S1389;
    float y_13 = _S1386 / _S1389;
    float z_10 = _S1387 / _S1389;
    float3  _S1392 = make_float3 (z_10);
    float _S1393 = - y_13;
    float3  _S1394 = make_float3 (_S1393);
    float z2_25 = z_10 * z_10;
    float fTmp0B_10 = -1.09254848957061768f * z_10;
    float fC1_10 = x_35 * x_35 - y_13 * y_13;
    float _S1395 = 2.0f * x_35;
    float fS1_10 = _S1395 * y_13;
    float pSH6_0 = 0.94617468118667603f * z2_25 - 0.31539157032966614f;
    float3  _S1396 = make_float3 (pSH6_0);
    float pSH7_0 = fTmp0B_10 * x_35;
    float3  _S1397 = make_float3 (pSH7_0);
    float pSH5_0 = fTmp0B_10 * y_13;
    float3  _S1398 = make_float3 (pSH5_0);
    float pSH8_0 = 0.54627424478530884f * fC1_10;
    float3  _S1399 = make_float3 (pSH8_0);
    float pSH4_0 = 0.54627424478530884f * fS1_10;
    float3  _S1400 = make_float3 (pSH4_0);
    float fTmp0C_10 = -2.28522896766662598f * z2_25 + 0.4570457935333252f;
    float fTmp1B_10 = 1.44530570507049561f * z_10;
    float _S1401 = 1.86588168144226074f * z2_25 - 1.11952900886535645f;
    float pSH12_0 = z_10 * _S1401;
    float3  _S1402 = make_float3 (pSH12_0);
    float pSH13_0 = fTmp0C_10 * x_35;
    float3  _S1403 = make_float3 (pSH13_0);
    float pSH11_0 = fTmp0C_10 * y_13;
    float3  _S1404 = make_float3 (pSH11_0);
    float pSH14_0 = fTmp1B_10 * fC1_10;
    float3  _S1405 = make_float3 (pSH14_0);
    float pSH10_0 = fTmp1B_10 * fS1_10;
    float3  _S1406 = make_float3 (pSH10_0);
    float pSH15_0 = -0.59004360437393188f * (x_35 * fC1_10 - y_13 * fS1_10);
    float3  _S1407 = make_float3 (pSH15_0);
    float pSH9_0 = -0.59004360437393188f * (x_35 * fS1_10 + y_13 * fC1_10);
    float3  _S1408 = make_float3 (pSH9_0);
    float3  _S1409 = make_float3 (0.0f);
    float3  _S1410 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1411;
    (&_S1411)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_10)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S1393) * (*sh_coeffs_10)[int(1)] + make_float3 (z_10) * (*sh_coeffs_10)[int(2)] - make_float3 (x_35) * (*sh_coeffs_10)[int(3)]) + (make_float3 (pSH4_0) * (*sh_coeffs_10)[int(4)] + make_float3 (pSH5_0) * (*sh_coeffs_10)[int(5)] + make_float3 (pSH6_0) * (*sh_coeffs_10)[int(6)] + make_float3 (pSH7_0) * (*sh_coeffs_10)[int(7)] + make_float3 (pSH8_0) * (*sh_coeffs_10)[int(8)]) + (make_float3 (pSH9_0) * (*sh_coeffs_10)[int(9)] + make_float3 (pSH10_0) * (*sh_coeffs_10)[int(10)] + make_float3 (pSH11_0) * (*sh_coeffs_10)[int(11)] + make_float3 (pSH12_0) * (*sh_coeffs_10)[int(12)] + make_float3 (pSH13_0) * (*sh_coeffs_10)[int(13)] + make_float3 (pSH14_0) * (*sh_coeffs_10)[int(14)] + make_float3 (pSH15_0) * (*sh_coeffs_10)[int(15)]) + make_float3 (0.5f);
    (&_S1411)->differential_0 = _S1410;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1412;
    (&_S1412)->primal_0 = _S1409;
    (&_S1412)->differential_0 = _S1410;
    s_bwd_prop_max_0(&_S1411, &_S1412, v_rgb_0);
    float3  _S1413 = _S1407 * _S1411.differential_0;
    float3  _S1414 = (*sh_coeffs_10)[int(15)] * _S1411.differential_0;
    float3  _S1415 = _S1405 * _S1411.differential_0;
    float3  _S1416 = (*sh_coeffs_10)[int(14)] * _S1411.differential_0;
    float3  _S1417 = _S1403 * _S1411.differential_0;
    float3  _S1418 = (*sh_coeffs_10)[int(13)] * _S1411.differential_0;
    float3  _S1419 = _S1402 * _S1411.differential_0;
    float3  _S1420 = (*sh_coeffs_10)[int(12)] * _S1411.differential_0;
    float3  _S1421 = _S1404 * _S1411.differential_0;
    float3  _S1422 = (*sh_coeffs_10)[int(11)] * _S1411.differential_0;
    float3  _S1423 = _S1406 * _S1411.differential_0;
    float3  _S1424 = (*sh_coeffs_10)[int(10)] * _S1411.differential_0;
    float3  _S1425 = _S1408 * _S1411.differential_0;
    float3  _S1426 = (*sh_coeffs_10)[int(9)] * _S1411.differential_0;
    float s_diff_fS2_T_0 = -0.59004360437393188f * (_S1426.x + _S1426.y + _S1426.z);
    float s_diff_fC2_T_0 = -0.59004360437393188f * (_S1414.x + _S1414.y + _S1414.z);
    float _S1427 = _S1424.x + _S1424.y + _S1424.z;
    float _S1428 = _S1416.x + _S1416.y + _S1416.z;
    float _S1429 = _S1422.x + _S1422.y + _S1422.z;
    float _S1430 = _S1418.x + _S1418.y + _S1418.z;
    float _S1431 = _S1420.x + _S1420.y + _S1420.z;
    float _S1432 = - s_diff_fC2_T_0;
    float3  _S1433 = _S1399 * _S1411.differential_0;
    float3  _S1434 = (*sh_coeffs_10)[int(8)] * _S1411.differential_0;
    float3  _S1435 = _S1397 * _S1411.differential_0;
    float3  _S1436 = (*sh_coeffs_10)[int(7)] * _S1411.differential_0;
    float3  _S1437 = _S1396 * _S1411.differential_0;
    float3  _S1438 = (*sh_coeffs_10)[int(6)] * _S1411.differential_0;
    float3  _S1439 = _S1398 * _S1411.differential_0;
    float3  _S1440 = (*sh_coeffs_10)[int(5)] * _S1411.differential_0;
    float3  _S1441 = _S1400 * _S1411.differential_0;
    float3  _S1442 = (*sh_coeffs_10)[int(4)] * _S1411.differential_0;
    float _S1443 = _S1440.x + _S1440.y + _S1440.z;
    float _S1444 = _S1436.x + _S1436.y + _S1436.z;
    float _S1445 = fTmp1B_10 * _S1427 + x_35 * s_diff_fS2_T_0 + y_13 * _S1432 + 0.54627424478530884f * (_S1442.x + _S1442.y + _S1442.z);
    float _S1446 = fTmp1B_10 * _S1428 + y_13 * s_diff_fS2_T_0 + x_35 * s_diff_fC2_T_0 + 0.54627424478530884f * (_S1434.x + _S1434.y + _S1434.z);
    float _S1447 = y_13 * - _S1446;
    float _S1448 = x_35 * _S1446;
    float _S1449 = z_10 * (1.86588168144226074f * (z_10 * _S1431) + -2.28522896766662598f * (y_13 * _S1429 + x_35 * _S1430) + 0.94617468118667603f * (_S1438.x + _S1438.y + _S1438.z));
    float3  _S1450 = make_float3 (0.48860251903533936f) * _S1411.differential_0;
    float3  _S1451 = - _S1450;
    float3  _S1452 = _S1390 * _S1451;
    float3  _S1453 = (*sh_coeffs_10)[int(3)] * _S1451;
    float3  _S1454 = _S1392 * _S1450;
    float3  _S1455 = (*sh_coeffs_10)[int(2)] * _S1450;
    float3  _S1456 = _S1394 * _S1450;
    float3  _S1457 = (*sh_coeffs_10)[int(1)] * _S1450;
    float _S1458 = (_S1401 * _S1431 + 1.44530570507049561f * (fS1_10 * _S1427 + fC1_10 * _S1428) + -1.09254848957061768f * (y_13 * _S1443 + x_35 * _S1444) + _S1449 + _S1449 + _S1455.x + _S1455.y + _S1455.z) / _S1391;
    float _S1459 = _S1389 * _S1458;
    float _S1460 = (fTmp0C_10 * _S1429 + fC1_10 * s_diff_fS2_T_0 + fS1_10 * _S1432 + fTmp0B_10 * _S1443 + _S1395 * _S1445 + _S1447 + _S1447 + - (_S1457.x + _S1457.y + _S1457.z)) / _S1391;
    float _S1461 = _S1389 * _S1460;
    float _S1462 = (fTmp0C_10 * _S1430 + fS1_10 * s_diff_fS2_T_0 + fC1_10 * s_diff_fC2_T_0 + fTmp0B_10 * _S1444 + 2.0f * (y_13 * _S1445) + _S1448 + _S1448 + _S1453.x + _S1453.y + _S1453.z) / _S1391;
    float _S1463 = _S1389 * _S1462;
    float _S1464 = _S1387 * - _S1458 + _S1386 * - _S1460 + _S1385 * - _S1462;
    DiffPair_float_0 _S1465;
    (&_S1465)->primal_0 = _S1388;
    (&_S1465)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1465, _S1464);
    float _S1466 = _S1387 * _S1465.differential_0;
    float _S1467 = _S1386 * _S1465.differential_0;
    float _S1468 = _S1385 * _S1465.differential_0;
    float3  _S1469 = make_float3 (0.282094806432724f) * _S1411.differential_0;
    float3  _S1470 = make_float3 (_S1463 + _S1468 + _S1468, _S1461 + _S1467 + _S1467, _S1459 + _S1466 + _S1466);
    float3  _S1471 = - - _S1470;
    Matrix<float, 3, 3>  _S1472 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1473;
    (&_S1473)->primal_0 = _S1355;
    (&_S1473)->differential_0 = _S1472;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1474;
    (&_S1474)->primal_0 = t_13;
    (&_S1474)->differential_0 = _S1410;
    s_bwd_prop_mul_1(&_S1473, &_S1474, _S1471);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1475 = _S1473;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1476 = _S1474;
    float2  _S1477 = _S1358;
    *&((&_S1477)->y) = v_conic_0.z;
    float2  _S1478 = _S1358;
    *&((&_S1478)->y) = v_conic_0.y;
    *&((&_S1478)->x) = v_conic_0.x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1479;
    (&_S1479)->primal_0 = mean_c_10;
    (&_S1479)->differential_0 = _S1410;
    s_bwd_length_impl_1(&_S1479, v_depth_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1480 = _S1479;
    DiffPair_float_0 _S1481;
    (&_S1481)->primal_0 = _S1383;
    (&_S1481)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1481, 0.0f);
    DiffPair_float_0 _S1482;
    (&_S1482)->primal_0 = _S1382;
    (&_S1482)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1482, 0.0f);
    DiffPair_float_0 _S1483;
    (&_S1483)->primal_0 = 3.32999992370605469f;
    (&_S1483)->differential_0 = 0.0f;
    DiffPair_float_0 _S1484;
    (&_S1484)->primal_0 = _S1381;
    (&_S1484)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1483, &_S1484, 0.0f);
    DiffPair_float_0 _S1485;
    (&_S1485)->primal_0 = _S1380;
    (&_S1485)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1485, _S1484.differential_0);
    float _S1486 = 2.0f * _S1485.differential_0;
    DiffPair_float_0 _S1487;
    (&_S1487)->primal_0 = _S1379;
    (&_S1487)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S1487, _S1486);
    float2  _S1488 = make_float2 (_S1482.differential_0, 0.0f);
    float _S1489 = v_opacity_0 + 254.9999847412109375f * _S1487.differential_0;
    Matrix<float, 2, 2>  _S1490 = _S1346;
    _S1490[int(1)] = _S1477;
    _S1490[int(0)] = _S1478;
    Matrix<float, 2, 2>  _S1491 = _S1490;
    FixedArray<float3 , 16>  _S1492;
    _S1492[int(0)] = _S1410;
    _S1492[int(1)] = _S1410;
    _S1492[int(2)] = _S1410;
    _S1492[int(3)] = _S1410;
    _S1492[int(4)] = _S1410;
    _S1492[int(5)] = _S1410;
    _S1492[int(6)] = _S1410;
    _S1492[int(7)] = _S1410;
    _S1492[int(8)] = _S1410;
    _S1492[int(9)] = _S1410;
    _S1492[int(10)] = _S1410;
    _S1492[int(11)] = _S1410;
    _S1492[int(12)] = _S1410;
    _S1492[int(13)] = _S1410;
    _S1492[int(14)] = _S1410;
    _S1492[int(15)] = _S1410;
    _S1492[int(7)] = _S1435;
    _S1492[int(0)] = _S1469;
    _S1492[int(1)] = _S1456;
    _S1492[int(2)] = _S1454;
    _S1492[int(3)] = _S1452;
    _S1492[int(4)] = _S1441;
    _S1492[int(5)] = _S1439;
    _S1492[int(6)] = _S1437;
    _S1492[int(15)] = _S1413;
    _S1492[int(8)] = _S1433;
    _S1492[int(9)] = _S1425;
    _S1492[int(10)] = _S1423;
    _S1492[int(11)] = _S1421;
    _S1492[int(12)] = _S1419;
    _S1492[int(13)] = _S1417;
    _S1492[int(14)] = _S1415;
    float3  _S1493 = _S1492[int(0)];
    float3  _S1494 = _S1492[int(1)];
    float3  _S1495 = _S1492[int(2)];
    float3  _S1496 = _S1492[int(3)];
    float3  _S1497 = _S1492[int(4)];
    float3  _S1498 = _S1492[int(5)];
    float3  _S1499 = _S1492[int(6)];
    float3  _S1500 = _S1492[int(7)];
    float3  _S1501 = _S1492[int(8)];
    float3  _S1502 = _S1492[int(9)];
    float3  _S1503 = _S1492[int(10)];
    float3  _S1504 = _S1492[int(11)];
    float3  _S1505 = _S1492[int(12)];
    float3  _S1506 = _S1492[int(13)];
    float3  _S1507 = _S1492[int(14)];
    float3  _S1508 = _S1492[int(15)];
    float2  _S1509 = make_float2 (0.0f, _S1481.differential_0);
    float _S1510;
    if(antialiased_10)
    {
        float _S1511 = _S1376 * _S1489;
        _S1378 = _S1371 * _S1489;
        _S1510 = _S1511;
    }
    else
    {
        _S1378 = _S1489;
        _S1510 = 0.0f;
    }
    float _S1512 = - (_S1378 / _S1377);
    DiffPair_float_0 _S1513;
    (&_S1513)->primal_0 = _S1374;
    (&_S1513)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S1513, _S1512);
    float _S1514 = - _S1513.differential_0;
    float _S1515 = invdet_7 * _S1491.rows[int(1)].y;
    float _S1516 = - (invdet_7 * _S1491.rows[int(1)].x);
    float _S1517 = - (invdet_7 * _S1491.rows[int(0)].y);
    float _S1518 = invdet_7 * _S1491.rows[int(0)].x;
    float _S1519 = - ((_S1363 * _S1491.rows[int(1)].y + _S1373 * _S1491.rows[int(1)].x + _S1372 * _S1491.rows[int(0)].y + _S1365 * _S1491.rows[int(0)].x) / _S1369);
    DiffPair_float_0 _S1520;
    (&_S1520)->primal_0 = _S1370;
    (&_S1520)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1520, _S1510);
    DiffPair_float_0 _S1521;
    (&_S1521)->primal_0 = 0.0f;
    (&_S1521)->differential_0 = 0.0f;
    DiffPair_float_0 _S1522;
    (&_S1522)->primal_0 = _S1368;
    (&_S1522)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1521, &_S1522, _S1520.differential_0);
    float _S1523 = _S1522.differential_0 / _S1369;
    float s_diff_det_orig_T_0 = det_blur_6 * _S1523;
    float _S1524 = _S1519 + det_orig_11 * - _S1523;
    float _S1525 = - _S1524;
    float _S1526 = _S1363 * _S1524;
    float _S1527 = _S1365 * _S1524;
    Matrix<float, 2, 2>  _S1528 = _S1346;
    _S1528[int(1)] = _S1509;
    _S1528[int(0)] = _S1488;
    _S1364 = _S1528;
    *&(((&_S1364)->rows + (int(1)))->y) = 0.0f;
    float _S1529 = _S1518 + _S1526 + _S1528.rows[int(1)].y;
    *&(((&_S1364)->rows + (int(0)))->x) = 0.0f;
    float _S1530 = _S1515 + _S1527 + _S1528.rows[int(0)].x;
    float _S1531 = _S1525 + - s_diff_det_orig_T_0;
    float _S1532 = _S1516 + _S1361._S945.rows[int(0)].y * _S1531;
    float _S1533 = _S1517 + _S1361._S945.rows[int(1)].x * _S1531;
    float _S1534 = _S1361._S945.rows[int(1)].y * s_diff_det_orig_T_0;
    float _S1535 = _S1529 + _S1361._S945.rows[int(0)].x * s_diff_det_orig_T_0;
    float2  _S1536 = _S1358;
    *&((&_S1536)->x) = _S1532;
    *&((&_S1536)->y) = _S1535;
    float _S1537 = _S1530 + _S1534;
    float2  _S1538 = _S1358;
    *&((&_S1538)->y) = _S1533;
    *&((&_S1538)->x) = _S1537;
    Matrix<float, 2, 2>  _S1539 = _S1346;
    _S1539[int(1)] = _S1536;
    _S1539[int(0)] = _S1538;
    Matrix<float, 2, 2>  _S1540 = _S1364 + _S1539;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1541;
    (&_S1541)->primal_0 = mean_c_10;
    (&_S1541)->differential_0 = _S1410;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1542;
    (&_S1542)->primal_0 = _S1356;
    (&_S1542)->differential_0 = _S1472;
    float4  _S1543 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S1544;
    (&_S1544)->primal_0 = intrins_14;
    (&_S1544)->differential_0 = _S1543;
    FixedArray<float, 10>  _S1545 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C10x3E_0 _S1546;
    (&_S1546)->primal_0 = *dist_coeffs_25;
    (&_S1546)->differential_0 = _S1545;
    s_bwd_prop_persp_proj_3dgs_0(&_S1541, &_S1542, &_S1544, &_S1546, image_width_10, image_height_10, _S1540, v_mean2d_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1547;
    (&_S1547)->primal_0 = _S1354;
    (&_S1547)->differential_0 = _S1472;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1548;
    (&_S1548)->primal_0 = _S1355;
    (&_S1548)->differential_0 = _S1472;
    s_bwd_prop_mul_4(&_S1547, &_S1548, _S1542.differential_0);
    Matrix<float, 3, 3>  _S1549 = transpose_0(_S1548.differential_0 + _S1475.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1550;
    (&_S1550)->primal_0 = R_17;
    (&_S1550)->differential_0 = _S1472;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1551;
    (&_S1551)->primal_0 = _S1353;
    (&_S1551)->differential_0 = _S1472;
    s_bwd_prop_mul_4(&_S1550, &_S1551, _S1547.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1552;
    (&_S1552)->primal_0 = _S1351;
    (&_S1552)->differential_0 = _S1472;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1553;
    (&_S1553)->primal_0 = _S1352;
    (&_S1553)->differential_0 = _S1472;
    s_bwd_prop_mul_4(&_S1552, &_S1553, _S1551.differential_0);
    Matrix<float, 3, 3>  _S1554 = _S1552.differential_0 + transpose_0(_S1553.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1555;
    (&_S1555)->primal_0 = _S1350;
    (&_S1555)->differential_0 = _S1472;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1556;
    (&_S1556)->primal_0 = S_0;
    (&_S1556)->differential_0 = _S1472;
    s_bwd_prop_mul_4(&_S1555, &_S1556, _S1554);
    Matrix<float, 3, 3>  _S1557 = transpose_0(_S1555.differential_0);
    float _S1558 = 2.0f * - _S1557.rows[int(2)].z;
    float _S1559 = 2.0f * _S1557.rows[int(2)].y;
    float _S1560 = 2.0f * _S1557.rows[int(2)].x;
    float _S1561 = 2.0f * _S1557.rows[int(1)].z;
    float _S1562 = 2.0f * - _S1557.rows[int(1)].y;
    float _S1563 = 2.0f * _S1557.rows[int(1)].x;
    float _S1564 = 2.0f * _S1557.rows[int(0)].z;
    float _S1565 = 2.0f * _S1557.rows[int(0)].y;
    float _S1566 = 2.0f * - _S1557.rows[int(0)].x;
    float _S1567 = - _S1563 + _S1565;
    float _S1568 = _S1560 + - _S1564;
    float _S1569 = - _S1559 + _S1561;
    float _S1570 = _S1559 + _S1561;
    float _S1571 = _S1560 + _S1564;
    float _S1572 = _S1563 + _S1565;
    float _S1573 = quat_14.w * (_S1562 + _S1566);
    float _S1574 = quat_14.z * (_S1558 + _S1566);
    float _S1575 = quat_14.y * (_S1558 + _S1562);
    float _S1576 = quat_14.x * _S1567 + quat_14.z * _S1570 + quat_14.y * _S1571 + _S1573 + _S1573;
    float _S1577 = quat_14.x * _S1568 + quat_14.w * _S1570 + quat_14.y * _S1572 + _S1574 + _S1574;
    float _S1578 = quat_14.x * _S1569 + quat_14.w * _S1571 + quat_14.z * _S1572 + _S1575 + _S1575;
    float _S1579 = quat_14.w * _S1567 + quat_14.z * _S1568 + quat_14.y * _S1569;
    float3  _S1580 = _S1410;
    *&((&_S1580)->z) = _S1556.differential_0.rows[int(2)].z;
    *&((&_S1580)->y) = _S1556.differential_0.rows[int(1)].y;
    *&((&_S1580)->x) = _S1556.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1581;
    (&_S1581)->primal_0 = scale_13;
    (&_S1581)->differential_0 = _S1410;
    s_bwd_prop_exp_1(&_S1581, _S1580);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1582 = _S1581;
    float3  _S1583 = _S1541.differential_0 + _S1480.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1584;
    (&_S1584)->primal_0 = R_17;
    (&_S1584)->differential_0 = _S1472;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1585;
    (&_S1585)->primal_0 = mean_11;
    (&_S1585)->differential_0 = _S1410;
    s_bwd_prop_mul_1(&_S1584, &_S1585, _S1583);
    float3  _S1586 = _S1583 + _S1476.differential_0;
    Matrix<float, 3, 3>  _S1587 = _S1549 + _S1550.differential_0 + _S1584.differential_0;
    float4  _S1588 = _S1543;
    *&((&_S1588)->w) = _S1576;
    *&((&_S1588)->z) = _S1577;
    *&((&_S1588)->y) = _S1578;
    *&((&_S1588)->x) = _S1579;
    float4  _S1589 = _S1588;
    float3  _S1590 = _S1585.differential_0 + _S1470;
    *v_mean_0 = _S1590;
    *v_quat_0 = _S1589;
    *v_scale_0 = _S1582.differential_0;
    *v_in_opacity_0 = _S1514;
    (*v_sh_coeffs_0)[int(0)] = _S1493;
    (*v_sh_coeffs_0)[int(1)] = _S1494;
    (*v_sh_coeffs_0)[int(2)] = _S1495;
    (*v_sh_coeffs_0)[int(3)] = _S1496;
    (*v_sh_coeffs_0)[int(4)] = _S1497;
    (*v_sh_coeffs_0)[int(5)] = _S1498;
    (*v_sh_coeffs_0)[int(6)] = _S1499;
    (*v_sh_coeffs_0)[int(7)] = _S1500;
    (*v_sh_coeffs_0)[int(8)] = _S1501;
    (*v_sh_coeffs_0)[int(9)] = _S1502;
    (*v_sh_coeffs_0)[int(10)] = _S1503;
    (*v_sh_coeffs_0)[int(11)] = _S1504;
    (*v_sh_coeffs_0)[int(12)] = _S1505;
    (*v_sh_coeffs_0)[int(13)] = _S1506;
    (*v_sh_coeffs_0)[int(14)] = _S1507;
    (*v_sh_coeffs_0)[int(15)] = _S1508;
    *v_R_2 = _S1587;
    *v_t_1 = _S1586;
    return;
}

struct s_bwd_prop_s_bwd_prop_atan2_Intermediates_0
{
    DiffPair_float_0 _S1591;
    DiffPair_float_0 _S1592;
};

struct s_bwd_prop_fisheye_proj_3dgs_Intermediates_0
{
    DiffPair_float_0 _S1593;
    DiffPair_float_0 _S1594;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1595;
    DiffPair_float_0 _S1596;
    DiffPair_float_0 _S1597;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1598;
};

struct s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S1599;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S1600;
};

inline __device__ float s_primal_ctx_s_primal_ctx_atan2_0(float _S1601, float _S1602)
{
    return s_primal_ctx_atan2_0(_S1601, _S1602);
}

struct s_bwd_prop_d_atan2_Intermediates_0
{
    DiffPair_float_0 _S1603;
    DiffPair_float_0 _S1604;
};

inline __device__ void s_primal_ctx_d_atan2_0(DiffPair_float_0 * dpdpy_0, DiffPair_float_0 * dpdpx_0, float dpdOut_0, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_0)
{
    DiffPair_float_0 _S1605 = { 0.0f, 0.0f };
    _s_diff_ctx_0->_S1603 = _S1605;
    _s_diff_ctx_0->_S1604 = _S1605;
    (&_s_diff_ctx_0->_S1603)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1603)->differential_0 = 0.0f;
    (&_s_diff_ctx_0->_S1604)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1604)->differential_0 = 0.0f;
    DiffPair_float_0 _S1606 = *dpdpy_0;
    _s_diff_ctx_0->_S1603 = *dpdpy_0;
    DiffPair_float_0 _S1607 = *dpdpx_0;
    _s_diff_ctx_0->_S1604 = *dpdpx_0;
    float _S1608 = _S1607.primal_0 * _S1607.primal_0 + _S1606.primal_0 * _S1606.primal_0;
    float _S1609 = - _S1606.primal_0 / _S1608 * dpdOut_0;
    float _S1610 = _S1607.primal_0 / _S1608 * dpdOut_0;
    dpdpy_0->primal_0 = _S1606.primal_0;
    dpdpy_0->differential_0 = _S1610;
    dpdpx_0->primal_0 = _S1607.primal_0;
    dpdpx_0->differential_0 = _S1609;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_atan2_0(DiffPair_float_0 * _S1611, DiffPair_float_0 * _S1612, float _S1613, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_1)
{
    DiffPair_float_0 _S1614 = { 0.0f, 0.0f };
    _s_diff_ctx_1->_S1591 = _S1614;
    _s_diff_ctx_1->_S1592 = _S1614;
    (&_s_diff_ctx_1->_S1591)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1591)->differential_0 = 0.0f;
    (&_s_diff_ctx_1->_S1592)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1592)->differential_0 = 0.0f;
    DiffPair_float_0 _S1615 = *_S1611;
    _s_diff_ctx_1->_S1591 = *_S1611;
    DiffPair_float_0 _S1616 = *_S1612;
    _s_diff_ctx_1->_S1592 = *_S1612;
    DiffPair_float_0 _S1617 = _S1615;
    DiffPair_float_0 _S1618 = _S1616;
    s_bwd_prop_d_atan2_Intermediates_0 _S1619;
    (&_S1619)->_S1603 = _S1614;
    (&_S1619)->_S1604 = _S1614;
    s_primal_ctx_d_atan2_0(&_S1617, &_S1618, _S1613, &_S1619);
    *_S1611 = _S1617;
    *_S1612 = _S1618;
    return;
}

struct s_bwd_prop_s_bwd_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1620;
};

struct s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1621;
};

struct s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1622;
    DiffPair_float_0 _S1623;
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1624;
};

struct s_bwd_prop_d_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1625;
};

inline __device__ void s_primal_ctx_d_sqrt_0(DiffPair_float_0 * dpdpx_1, float dpdOut_1, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_2)
{
    DiffPair_float_0 _S1626 = { 0.0f, 0.0f };
    _s_diff_ctx_2->_S1625 = _S1626;
    (&_s_diff_ctx_2->_S1625)->primal_0 = 0.0f;
    (&_s_diff_ctx_2->_S1625)->differential_0 = 0.0f;
    DiffPair_float_0 _S1627 = *dpdpx_1;
    _s_diff_ctx_2->_S1625 = *dpdpx_1;
    float _S1628 = 0.5f / s_primal_ctx_sqrt_0(s_primal_ctx_max_0(1.00000001168609742e-07f, _S1627.primal_0)) * dpdOut_1;
    dpdpx_1->primal_0 = _S1627.primal_0;
    dpdpx_1->differential_0 = _S1628;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_sqrt_0(DiffPair_float_0 * _S1629, float _S1630, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_3)
{
    DiffPair_float_0 _S1631 = { 0.0f, 0.0f };
    _s_diff_ctx_3->_S1621 = _S1631;
    (&_s_diff_ctx_3->_S1621)->primal_0 = 0.0f;
    (&_s_diff_ctx_3->_S1621)->differential_0 = 0.0f;
    DiffPair_float_0 _S1632 = *_S1629;
    _s_diff_ctx_3->_S1621 = *_S1629;
    DiffPair_float_0 _S1633 = _S1632;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1634;
    (&_S1634)->_S1625 = _S1631;
    s_primal_ctx_d_sqrt_0(&_S1633, _S1630, &_S1634);
    *_S1629 = _S1633;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_2, float dp_s_dOut_0, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_4)
{
    float2  _S1635 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1636 = { _S1635, _S1635 };
    DiffPair_float_0 _S1637 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1638 = { _S1637 };
    _s_diff_ctx_4->_S1622 = _S1636;
    _s_diff_ctx_4->_S1623 = _S1637;
    _s_diff_ctx_4->_S1624 = _S1638;
    (&_s_diff_ctx_4->_S1622)->primal_0 = _S1635;
    (&_s_diff_ctx_4->_S1622)->differential_0 = _S1635;
    (&_s_diff_ctx_4->_S1623)->primal_0 = 0.0f;
    (&_s_diff_ctx_4->_S1623)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1639 = *dpdpx_2;
    _s_diff_ctx_4->_S1622 = *dpdpx_2;
    float _S1640 = _S1639.primal_0.x;
    float _S1641 = _S1639.primal_0.y;
    DiffPair_float_0 _S1642;
    (&_S1642)->primal_0 = _S1640 * _S1640 + _S1641 * _S1641;
    (&_S1642)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_sqrt_0(&_S1642, dp_s_dOut_0, &_s_diff_ctx_4->_S1624);
    _s_diff_ctx_4->_S1623 = _S1642;
    float _S1643 = _S1639.primal_0.y * _S1642.differential_0;
    float _S1644 = _S1643 + _S1643;
    float _S1645 = _S1639.primal_0.x * _S1642.differential_0;
    float _S1646 = _S1645 + _S1645;
    float2  _S1647 = _S1635;
    *&((&_S1647)->y) = _S1644;
    *&((&_S1647)->x) = _S1646;
    dpdpx_2->primal_0 = _S1639.primal_0;
    dpdpx_2->differential_0 = _S1647;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S1648, float _S1649, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_5)
{
    float2  _S1650 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1651 = { _S1650, _S1650 };
    _s_diff_ctx_5->_S1620 = _S1651;
    (&_s_diff_ctx_5->_S1620)->primal_0 = _S1650;
    (&_s_diff_ctx_5->_S1620)->differential_0 = _S1650;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1652 = *_S1648;
    _s_diff_ctx_5->_S1620 = *_S1648;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1653 = _S1652;
    DiffPair_float_0 _S1654 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1655 = { _S1654 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1656;
    (&_S1656)->_S1622 = _S1651;
    (&_S1656)->_S1623 = _S1654;
    (&_S1656)->_S1624 = _S1655;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1653, _S1649, &_S1656);
    *_S1648 = _S1653;
    return;
}

inline __device__ bool s_primal_ctx_fisheye_proj_3dgs_0(float3  dpmean3d_2, Matrix<float, 3, 3>  dpcov3d_2, float4  dpintrins_2, FixedArray<float, 10>  * dpdist_coeffs_2, Matrix<float, 2, 2>  * dpcov2d_2, float2  * dpmean2d_2, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_6)
{
    DiffPair_float_0 _S1657 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1658 = { _S1657, _S1657 };
    _s_diff_ctx_6->_S1593 = _S1657;
    _s_diff_ctx_6->_S1594 = _S1657;
    _s_diff_ctx_6->_S1595 = _S1658;
    _s_diff_ctx_6->_S1596 = _S1657;
    _s_diff_ctx_6->_S1597 = _S1657;
    _s_diff_ctx_6->_S1598 = _S1658;
    (&_s_diff_ctx_6->_S1593)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1593)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1594)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1594)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1596)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1596)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1597)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1597)->differential_0 = 0.0f;
    float2  _S1659 = make_float2 (0.0f);
    float2  _S1660 = float2 {dpmean3d_2.x, dpmean3d_2.y};
    float _S1661 = length_0(_S1660);
    float _S1662 = dpmean3d_2.z;
    float _S1663 = s_primal_ctx_atan2_0(_S1661, _S1662);
    float k_4;
    if(_S1663 < 0.00100000004749745f)
    {
        k_4 = (1.0f - _S1663 * _S1663 / 3.0f) / _S1662;
    }
    else
    {
        k_4 = _S1663 / _S1661;
    }
    float2  _S1664 = _S1660 * make_float2 (k_4);
    float u_50 = _S1664.x;
    float v_50 = _S1664.y;
    float r2_50 = u_50 * u_50 + v_50 * v_50;
    float _S1665 = 2.0f * (*dpdist_coeffs_2)[int(4)];
    float _S1666 = 2.0f * (*dpdist_coeffs_2)[int(5)];
    float2  _S1667 = _S1664 * make_float2 (1.0f + r2_50 * ((*dpdist_coeffs_2)[int(0)] + r2_50 * ((*dpdist_coeffs_2)[int(1)] + r2_50 * ((*dpdist_coeffs_2)[int(2)] + r2_50 * (*dpdist_coeffs_2)[int(3)])))) + make_float2 (_S1665 * u_50 * v_50 + (*dpdist_coeffs_2)[int(5)] * (r2_50 + 2.0f * u_50 * u_50) + (*dpdist_coeffs_2)[int(6)] * r2_50, _S1666 * u_50 * v_50 + (*dpdist_coeffs_2)[int(4)] * (r2_50 + 2.0f * v_50 * v_50) + (*dpdist_coeffs_2)[int(7)] * r2_50);
    float2  _S1668 = _S1667 + make_float2 ((*dpdist_coeffs_2)[int(8)] * _S1667.x + (*dpdist_coeffs_2)[int(9)] * _S1667.y, 0.0f);
    float fx_21 = dpintrins_2.x;
    float fy_21 = dpintrins_2.y;
    float2  _S1669 = make_float2 (fx_21 * _S1668.x + dpintrins_2.z, fy_21 * _S1668.y + dpintrins_2.w);
    Matrix<float, 2, 3>  J_10 = makeMatrix<float, 2, 3> (0.0f);
    float _S1670 = s_primal_ctx_s_primal_ctx_atan2_0(_S1661, _S1662);
    bool _S1671 = _S1670 < 0.00100000004749745f;
    float _S1672;
    float _S1673;
    float _S1674;
    if(_S1671)
    {
        float _S1675 = 1.0f - _S1670 * _S1670 / 3.0f;
        float _S1676 = _S1662 * _S1662;
        k_4 = _S1675 / _S1662;
        _S1672 = 0.0f;
        _S1673 = _S1676;
        _S1674 = _S1675;
    }
    else
    {
        float _S1677 = _S1661 * _S1661;
        k_4 = _S1670 / _S1661;
        _S1672 = _S1677;
        _S1673 = 0.0f;
        _S1674 = 0.0f;
    }
    float2  _S1678 = make_float2 (k_4);
    float2  _S1679 = _S1660 * make_float2 (k_4);
    float u_51 = _S1679.x;
    float v_51 = _S1679.y;
    float r2_51 = u_51 * u_51 + v_51 * v_51;
    float _S1680 = (*dpdist_coeffs_2)[int(2)] + r2_51 * (*dpdist_coeffs_2)[int(3)];
    float _S1681 = (*dpdist_coeffs_2)[int(1)] + r2_51 * _S1680;
    float _S1682 = (*dpdist_coeffs_2)[int(0)] + r2_51 * _S1681;
    float2  _S1683 = make_float2 (fx_21, 0.0f) + make_float2 ((*dpdist_coeffs_2)[int(8)] * fx_21, (*dpdist_coeffs_2)[int(9)] * fx_21);
    float2  _S1684 = _S1679 * _S1683;
    float _S1685 = (*dpdist_coeffs_2)[int(4)] * _S1683.y;
    float _S1686 = (*dpdist_coeffs_2)[int(5)] * _S1683.x;
    float _S1687 = _S1684.x + _S1684.y;
    float _S1688 = r2_51 * _S1687;
    float _S1689 = r2_51 * _S1688;
    float _S1690 = (*dpdist_coeffs_2)[int(7)] * _S1683.y + _S1685 + (*dpdist_coeffs_2)[int(6)] * _S1683.x + _S1686 + _S1682 * _S1687 + _S1681 * _S1688 + _S1680 * _S1689 + (*dpdist_coeffs_2)[int(3)] * (r2_51 * _S1689);
    float _S1691 = v_51 * _S1690;
    float _S1692 = u_51 * _S1690;
    float2  _S1693 = make_float2 (1.0f + r2_51 * _S1682) * _S1683 + make_float2 (_S1666 * (v_51 * _S1683.y) + 2.0f * u_51 * _S1686 + 2.0f * (u_51 * _S1686) + _S1665 * (v_51 * _S1683.x) + _S1692 + _S1692, 2.0f * v_51 * _S1685 + 2.0f * (v_51 * _S1685) + _S1666 * u_51 * _S1683.y + _S1665 * u_51 * _S1683.x + _S1691 + _S1691);
    float2  _S1694 = _S1660 * _S1693;
    float2  _S1695 = _S1678 * _S1693;
    float _S1696 = _S1694.x + _S1694.y;
    if(_S1671)
    {
        float _S1697 = _S1696 / _S1673;
        float _S1698 = _S1674 * - _S1697;
        float _S1699 = _S1670 * (0.3333333432674408f * - (_S1662 * _S1697));
        k_4 = _S1699 + _S1699;
        _S1672 = _S1698;
        _S1673 = 0.0f;
    }
    else
    {
        float _S1700 = _S1696 / _S1672;
        float _S1701 = _S1670 * - _S1700;
        k_4 = _S1661 * _S1700;
        _S1672 = 0.0f;
        _S1673 = _S1701;
    }
    DiffPair_float_0 _S1702;
    (&_S1702)->primal_0 = _S1661;
    (&_S1702)->differential_0 = 0.0f;
    DiffPair_float_0 _S1703;
    (&_S1703)->primal_0 = _S1662;
    (&_S1703)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1702, &_S1703, k_4, &_s_diff_ctx_6->_S1595);
    _s_diff_ctx_6->_S1593 = _S1702;
    _s_diff_ctx_6->_S1594 = _S1703;
    float _S1704 = _S1703.differential_0 + _S1672;
    float _S1705 = _S1702.differential_0 + _S1673;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1706;
    (&_S1706)->primal_0 = _S1660;
    (&_S1706)->differential_0 = _S1659;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1707 = { _S1659, _S1659 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1708;
    (&_S1708)->_S1620 = _S1707;
    s_primal_ctx_s_bwd_length_impl_0(&_S1706, _S1705, &_S1708);
    float2  _S1709 = _S1706.differential_0 + _S1695;
    float3  _S1710 = make_float3 (_S1709.x, _S1709.y, _S1704);
    Matrix<float, 2, 3>  _S1711 = J_10;
    _S1711[int(0)] = _S1710;
    if(_S1671)
    {
        float _S1712 = 1.0f - _S1670 * _S1670 / 3.0f;
        float _S1713 = _S1662 * _S1662;
        k_4 = _S1712 / _S1662;
        _S1672 = 0.0f;
        _S1673 = _S1713;
        _S1674 = _S1712;
    }
    else
    {
        float _S1714 = _S1661 * _S1661;
        k_4 = _S1670 / _S1661;
        _S1672 = _S1714;
        _S1673 = 0.0f;
        _S1674 = 0.0f;
    }
    float2  _S1715 = make_float2 (k_4);
    float2  _S1716 = _S1660 * make_float2 (k_4);
    float u_52 = _S1716.x;
    float v_52 = _S1716.y;
    float r2_52 = u_52 * u_52 + v_52 * v_52;
    float _S1717 = (*dpdist_coeffs_2)[int(2)] + r2_52 * (*dpdist_coeffs_2)[int(3)];
    float _S1718 = (*dpdist_coeffs_2)[int(1)] + r2_52 * _S1717;
    float _S1719 = (*dpdist_coeffs_2)[int(0)] + r2_52 * _S1718;
    float2  _S1720 = make_float2 (0.0f, fy_21);
    float2  _S1721 = _S1716 * _S1720;
    float _S1722 = (*dpdist_coeffs_2)[int(4)] * fy_21;
    float _S1723 = _S1721.x + _S1721.y;
    float _S1724 = r2_52 * _S1723;
    float _S1725 = r2_52 * _S1724;
    float _S1726 = (*dpdist_coeffs_2)[int(7)] * fy_21 + _S1722 + _S1719 * _S1723 + _S1718 * _S1724 + _S1717 * _S1725 + (*dpdist_coeffs_2)[int(3)] * (r2_52 * _S1725);
    float _S1727 = v_52 * _S1726;
    float _S1728 = u_52 * _S1726;
    float2  _S1729 = make_float2 (1.0f + r2_52 * _S1719) * _S1720 + make_float2 (_S1666 * (v_52 * fy_21) + _S1728 + _S1728, 2.0f * v_52 * _S1722 + 2.0f * (v_52 * _S1722) + _S1666 * u_52 * fy_21 + _S1727 + _S1727);
    float2  _S1730 = _S1660 * _S1729;
    float2  _S1731 = _S1715 * _S1729;
    float _S1732 = _S1730.x + _S1730.y;
    if(_S1671)
    {
        float _S1733 = _S1732 / _S1673;
        float _S1734 = _S1674 * - _S1733;
        float _S1735 = _S1670 * (0.3333333432674408f * - (_S1662 * _S1733));
        k_4 = _S1735 + _S1735;
        _S1672 = _S1734;
        _S1673 = 0.0f;
    }
    else
    {
        float _S1736 = _S1732 / _S1672;
        float _S1737 = _S1670 * - _S1736;
        k_4 = _S1661 * _S1736;
        _S1672 = 0.0f;
        _S1673 = _S1737;
    }
    DiffPair_float_0 _S1738;
    (&_S1738)->primal_0 = _S1661;
    (&_S1738)->differential_0 = 0.0f;
    DiffPair_float_0 _S1739;
    (&_S1739)->primal_0 = _S1662;
    (&_S1739)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1738, &_S1739, k_4, &_s_diff_ctx_6->_S1598);
    _s_diff_ctx_6->_S1596 = _S1738;
    _s_diff_ctx_6->_S1597 = _S1739;
    float _S1740 = _S1739.differential_0 + _S1672;
    float _S1741 = _S1738.differential_0 + _S1673;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1742;
    (&_S1742)->primal_0 = _S1660;
    (&_S1742)->differential_0 = _S1659;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1743;
    (&_S1743)->_S1620 = _S1707;
    s_primal_ctx_s_bwd_length_impl_0(&_S1742, _S1741, &_S1743);
    float2  _S1744 = _S1742.differential_0 + _S1731;
    float3  _S1745 = make_float3 (_S1744.x, _S1744.y, _S1740);
    _S1711[int(1)] = _S1745;
    *dpcov2d_2 = s_primal_ctx_mul_3(s_primal_ctx_mul_2(_S1711, dpcov3d_2), transpose_1(_S1711));
    *dpmean2d_2 = _S1669;
    return true;
}

struct DiffPair_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 primal_0;
    DiffPair_vectorx3Cfloatx2C2x3E_0 differential_0;
};

struct DiffPair_1
{
    DiffPair_float_0 primal_0;
    DiffPair_float_0 differential_0;
};

inline __device__ void s_bwd_prop_d_sqrt_0(DiffPair_1 * dpdpx_3, DiffPair_float_0 * dpdOut_2, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_7)
{
    DiffPair_1 _S1746 = *dpdpx_3;
    float _S1747 = s_primal_ctx_max_0(1.00000001168609742e-07f, (&_s_diff_ctx_7->_S1625)->primal_0);
    float _S1748 = s_primal_ctx_sqrt_0(_S1747);
    float _S1749 = 0.5f / _S1748 * (*dpdpx_3).differential_0.differential_0;
    float _S1750 = 0.5f * - ((*dpdOut_2).primal_0 * (*dpdpx_3).differential_0.differential_0 / (_S1748 * _S1748));
    DiffPair_float_0 _S1751;
    (&_S1751)->primal_0 = _S1747;
    (&_S1751)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1751, _S1750);
    DiffPair_float_0 _S1752;
    (&_S1752)->primal_0 = 1.00000001168609742e-07f;
    (&_S1752)->differential_0 = 0.0f;
    DiffPair_float_0 _S1753;
    (&_S1753)->primal_0 = (&_s_diff_ctx_7->_S1625)->primal_0;
    (&_S1753)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1752, &_S1753, _S1751.differential_0);
    DiffPair_float_0 dpdpx_4 = { _S1753.differential_0 + (*dpdpx_3).differential_0.primal_0, 0.0f };
    dpdOut_2->primal_0 = (*dpdOut_2).primal_0;
    dpdOut_2->differential_0 = _S1749;
    dpdpx_3->primal_0 = _S1746.primal_0;
    dpdpx_3->differential_0 = dpdpx_4;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_sqrt_0(DiffPair_1 * _S1754, DiffPair_float_0 * _S1755, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_8)
{
    DiffPair_1 _S1756 = *_S1754;
    DiffPair_float_0 _S1757 = _s_diff_ctx_8->_S1621;
    DiffPair_float_0 _S1758 = { 0.0f, 0.0f };
    s_bwd_prop_d_sqrt_Intermediates_0 _S1759;
    (&_S1759)->_S1625 = _S1758;
    s_primal_ctx_d_sqrt_0(&_S1757, (*_S1755).primal_0, &_S1759);
    DiffPair_float_0 _S1760 = { (*_S1754).differential_0.primal_0, (*_S1754).differential_0.differential_0 };
    DiffPair_1 _S1761;
    (&_S1761)->primal_0 = _s_diff_ctx_8->_S1621;
    (&_S1761)->differential_0 = _S1760;
    DiffPair_float_0 _S1762;
    (&_S1762)->primal_0 = (*_S1755).primal_0;
    (&_S1762)->differential_0 = 0.0f;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1763 = _S1759;
    s_bwd_prop_d_sqrt_0(&_S1761, &_S1762, &_S1763);
    DiffPair_float_0 _S1764 = { _S1761.differential_0.primal_0, _S1761.differential_0.differential_0 };
    _S1755->primal_0 = (*_S1755).primal_0;
    _S1755->differential_0 = _S1762.differential_0;
    _S1754->primal_0 = _S1756.primal_0;
    _S1754->differential_0 = _S1764;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_sqrt_0(DiffPair_float_0 * _S1765, float _s_dOut_4)
{
    DiffPair_float_0 _S1766;
    (&_S1766)->primal_0 = (*_S1765).primal_0;
    (&_S1766)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1766, _s_dOut_4);
    _S1765->primal_0 = (*_S1765).primal_0;
    _S1765->differential_0 = _S1766.differential_0;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_length_impl_0(DiffPair_0 * dpdpx_5, DiffPair_float_0 * dp_s_dOut_1, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_9)
{
    DiffPair_0 _S1767 = *dpdpx_5;
    float len_0 = *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->x) * *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->x) + *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->y) * *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->y);
    DiffPair_float_0 _S1768 = { len_0, 0.0f };
    float2  _S1769 = make_float2 (0.0f);
    float _S1770 = (*dpdpx_5).differential_0.differential_0.x;
    float _S1771 = _S1770 + _S1770;
    float _S1772 = (&_s_diff_ctx_9->_S1623)->differential_0 * _S1771;
    float _S1773 = (*dpdpx_5).differential_0.differential_0.y + (*dpdpx_5).differential_0.differential_0.y;
    float _S1774 = (&_s_diff_ctx_9->_S1623)->differential_0 * _S1773;
    DiffPair_float_0 _S1775 = { 0.0f, *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->x) * _S1771 + *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->y) * _S1773 };
    DiffPair_1 _S1776;
    (&_S1776)->primal_0 = _S1768;
    (&_S1776)->differential_0 = _S1775;
    DiffPair_float_0 _S1777;
    (&_S1777)->primal_0 = (*dp_s_dOut_1).primal_0;
    (&_S1777)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_sqrt_0(&_S1776, &_S1777, &_s_diff_ctx_9->_S1624);
    DiffPair_float_0 _S1778;
    (&_S1778)->primal_0 = len_0;
    (&_S1778)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1778, 0.0f);
    float _S1779 = _S1776.differential_0.primal_0 + _S1778.differential_0;
    float _S1780 = *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->y) * _S1779;
    float _S1781 = _S1774 + _S1780 + _S1780;
    float _S1782 = *&((&(&_s_diff_ctx_9->_S1622)->primal_0)->x) * _S1779;
    float _S1783 = _S1772 + _S1782 + _S1782;
    float2  _S1784 = _S1769;
    *&((&_S1784)->y) = _S1781;
    *&((&_S1784)->x) = _S1783;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dpdpx_6 = { _S1767.differential_0.primal_0 + _S1784, _S1769 };
    dp_s_dOut_1->primal_0 = (*dp_s_dOut_1).primal_0;
    dp_s_dOut_1->differential_0 = _S1777.differential_0;
    dpdpx_5->primal_0 = _S1767.primal_0;
    dpdpx_5->differential_0 = dpdpx_6;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_7, float _s_dOut_5)
{
    float _S1785 = (*dpdpx_7).primal_0.x;
    float _S1786 = (*dpdpx_7).primal_0.y;
    DiffPair_float_0 _S1787;
    (&_S1787)->primal_0 = _S1785 * _S1785 + _S1786 * _S1786;
    (&_S1787)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1787, _s_dOut_5);
    float _S1788 = (*dpdpx_7).primal_0.y * _S1787.differential_0;
    float _S1789 = _S1788 + _S1788;
    float _S1790 = (*dpdpx_7).primal_0.x * _S1787.differential_0;
    float _S1791 = _S1790 + _S1790;
    float2  _S1792 = make_float2 (0.0f);
    *&((&_S1792)->y) = _S1789;
    *&((&_S1792)->x) = _S1791;
    dpdpx_7->primal_0 = (*dpdpx_7).primal_0;
    dpdpx_7->differential_0 = _S1792;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_length_impl_0(DiffPair_0 * _S1793, DiffPair_float_0 * _S1794, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_10)
{
    DiffPair_0 _S1795 = *_S1793;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1796 = _s_diff_ctx_10->_S1620;
    float2  _S1797 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1798 = { _S1797, _S1797 };
    DiffPair_float_0 _S1799 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1800 = { _S1799 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1801;
    (&_S1801)->_S1622 = _S1798;
    (&_S1801)->_S1623 = _S1799;
    (&_S1801)->_S1624 = _S1800;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1796, (*_S1794).primal_0, &_S1801);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1802 = { (*_S1793).differential_0.primal_0, (*_S1793).differential_0.differential_0 };
    DiffPair_0 _S1803;
    (&_S1803)->primal_0 = _s_diff_ctx_10->_S1620;
    (&_S1803)->differential_0 = _S1802;
    DiffPair_float_0 _S1804;
    (&_S1804)->primal_0 = (*_S1794).primal_0;
    (&_S1804)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1805 = _S1801;
    s_bwd_prop_s_bwd_prop_length_impl_0(&_S1803, &_S1804, &_S1805);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1806;
    (&_S1806)->primal_0 = (&_s_diff_ctx_10->_S1620)->primal_0;
    (&_S1806)->differential_0 = _S1797;
    s_bwd_prop_s_primal_ctx_length_impl_0(&_S1806, 0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1807 = { _S1803.differential_0.primal_0 + _S1806.differential_0, _S1803.differential_0.differential_0 };
    _S1794->primal_0 = (*_S1794).primal_0;
    _S1794->differential_0 = _S1804.differential_0;
    _S1793->primal_0 = _S1795.primal_0;
    _S1793->differential_0 = _S1807;
    return;
}

inline __device__ void s_bwd_prop_d_atan2_0(DiffPair_1 * dpdpy_1, DiffPair_1 * dpdpx_8, DiffPair_float_0 * dpdOut_3, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_11)
{
    DiffPair_1 _S1808 = *dpdpy_1;
    DiffPair_1 _S1809 = *dpdpx_8;
    float _S1810 = - (&_s_diff_ctx_11->_S1603)->primal_0;
    float _S1811 = (&_s_diff_ctx_11->_S1604)->primal_0 * (&_s_diff_ctx_11->_S1604)->primal_0 + (&_s_diff_ctx_11->_S1603)->primal_0 * (&_s_diff_ctx_11->_S1603)->primal_0;
    float _S1812 = _S1811 * _S1811;
    float _S1813 = (*dpdOut_3).primal_0 * (*dpdpy_1).differential_0.differential_0 / _S1812;
    float _S1814 = (&_s_diff_ctx_11->_S1604)->primal_0 * - _S1813;
    float _S1815 = (&_s_diff_ctx_11->_S1603)->primal_0 * _S1814;
    float _S1816 = (&_s_diff_ctx_11->_S1604)->primal_0 * _S1814;
    float _S1817 = (*dpdOut_3).primal_0 * (*dpdpx_8).differential_0.differential_0 / _S1812;
    float _S1818 = _S1810 * - _S1817;
    float _S1819 = (&_s_diff_ctx_11->_S1603)->primal_0 * _S1818;
    float _S1820 = (&_s_diff_ctx_11->_S1604)->primal_0 * _S1818;
    DiffPair_float_0 dpdpx_9 = { _S1820 + _S1820 + ((*dpdpx_8).differential_0.primal_0 + (_S1816 + _S1816 + _S1811 * _S1813)), 0.0f };
    DiffPair_float_0 dpdpy_2 = { _S1815 + _S1815 + (*dpdpy_1).differential_0.primal_0 + _S1819 + _S1819 + - (_S1811 * _S1817), 0.0f };
    float _S1821 = (&_s_diff_ctx_11->_S1604)->primal_0 / _S1811 * (*dpdpy_1).differential_0.differential_0 + _S1810 / _S1811 * (*dpdpx_8).differential_0.differential_0;
    dpdOut_3->primal_0 = (*dpdOut_3).primal_0;
    dpdOut_3->differential_0 = _S1821;
    dpdpy_1->primal_0 = _S1808.primal_0;
    dpdpy_1->differential_0 = dpdpy_2;
    dpdpx_8->primal_0 = _S1809.primal_0;
    dpdpx_8->differential_0 = dpdpx_9;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_atan2_0(DiffPair_1 * _S1822, DiffPair_1 * _S1823, DiffPair_float_0 * _S1824, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_12)
{
    DiffPair_1 _S1825 = *_S1822;
    DiffPair_1 _S1826 = *_S1823;
    DiffPair_float_0 _S1827 = _s_diff_ctx_12->_S1591;
    DiffPair_float_0 _S1828 = _s_diff_ctx_12->_S1592;
    DiffPair_float_0 _S1829 = { 0.0f, 0.0f };
    s_bwd_prop_d_atan2_Intermediates_0 _S1830;
    (&_S1830)->_S1603 = _S1829;
    (&_S1830)->_S1604 = _S1829;
    s_primal_ctx_d_atan2_0(&_S1827, &_S1828, (*_S1824).primal_0, &_S1830);
    DiffPair_float_0 _S1831 = { (*_S1823).differential_0.primal_0, (*_S1823).differential_0.differential_0 };
    DiffPair_float_0 _S1832 = { (*_S1822).differential_0.primal_0, (*_S1822).differential_0.differential_0 };
    DiffPair_1 _S1833;
    (&_S1833)->primal_0 = _s_diff_ctx_12->_S1591;
    (&_S1833)->differential_0 = _S1832;
    DiffPair_1 _S1834;
    (&_S1834)->primal_0 = _s_diff_ctx_12->_S1592;
    (&_S1834)->differential_0 = _S1831;
    DiffPair_float_0 _S1835;
    (&_S1835)->primal_0 = (*_S1824).primal_0;
    (&_S1835)->differential_0 = 0.0f;
    s_bwd_prop_d_atan2_Intermediates_0 _S1836 = _S1830;
    s_bwd_prop_d_atan2_0(&_S1833, &_S1834, &_S1835, &_S1836);
    DiffPair_float_0 _S1837 = { _S1834.differential_0.primal_0, _S1834.differential_0.differential_0 };
    DiffPair_float_0 _S1838 = { _S1833.differential_0.primal_0, _S1833.differential_0.differential_0 };
    _S1824->primal_0 = (*_S1824).primal_0;
    _S1824->differential_0 = _S1835.differential_0;
    _S1822->primal_0 = _S1825.primal_0;
    _S1822->differential_0 = _S1838;
    _S1823->primal_0 = _S1826.primal_0;
    _S1823->differential_0 = _S1837;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_atan2_0(DiffPair_float_0 * _S1839, DiffPair_float_0 * _S1840, float _s_dOut_6)
{
    DiffPair_float_0 _S1841;
    (&_S1841)->primal_0 = (*_S1839).primal_0;
    (&_S1841)->differential_0 = 0.0f;
    DiffPair_float_0 _S1842;
    (&_S1842)->primal_0 = (*_S1840).primal_0;
    (&_S1842)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S1841, &_S1842, _s_dOut_6);
    _S1840->primal_0 = (*_S1840).primal_0;
    _S1840->differential_0 = _S1842.differential_0;
    _S1839->primal_0 = (*_S1839).primal_0;
    _S1839->differential_0 = _S1841.differential_0;
    return;
}

inline __device__ void s_bwd_prop_fisheye_proj_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean3d_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpcov3d_3, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpintrins_3, DiffPair_arrayx3Cfloatx2C10x3E_0 * dpdist_coeffs_3, Matrix<float, 2, 2>  dpcov2d_3, float2  dpmean2d_3, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_13)
{
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1843 = *dpcov3d_3;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S1844 = *dpintrins_3;
    FixedArray<float, 10>  _S1845 = dpdist_coeffs_3->primal_0;
    float2  _S1846 = make_float2 (0.0f);
    float2  _S1847 = float2 {(*dpmean3d_3).primal_0.x, (*dpmean3d_3).primal_0.y};
    float _S1848 = length_0(_S1847);
    float _S1849 = (*dpmean3d_3).primal_0.z;
    float _S1850 = s_primal_ctx_atan2_0(_S1848, _S1849);
    bool _S1851 = _S1850 < 0.00100000004749745f;
    float k_5;
    float _S1852;
    float _S1853;
    float _S1854;
    if(_S1851)
    {
        float _S1855 = 1.0f - _S1850 * _S1850 / 3.0f;
        float _S1856 = _S1849 * _S1849;
        k_5 = _S1855 / _S1849;
        _S1852 = 0.0f;
        _S1853 = _S1856;
        _S1854 = _S1855;
    }
    else
    {
        float _S1857 = _S1848 * _S1848;
        k_5 = _S1850 / _S1848;
        _S1852 = _S1857;
        _S1853 = 0.0f;
        _S1854 = 0.0f;
    }
    float2  _S1858 = make_float2 (k_5);
    float2  _S1859 = _S1847 * make_float2 (k_5);
    float u_53 = _S1859.x;
    float v_53 = _S1859.y;
    float r2_53 = u_53 * u_53 + v_53 * v_53;
    float _S1860 = _S1845[int(2)] + r2_53 * _S1845[int(3)];
    float _S1861 = _S1845[int(1)] + r2_53 * _S1860;
    float _S1862 = _S1845[int(0)] + r2_53 * _S1861;
    float radial_1 = 1.0f + r2_53 * _S1862;
    float2  _S1863 = make_float2 (radial_1);
    float _S1864 = 2.0f * _S1845[int(4)];
    float _S1865 = _S1864 * u_53;
    float _S1866 = 2.0f * u_53;
    float _S1867 = r2_53 + _S1866 * u_53;
    float _S1868 = 2.0f * _S1845[int(5)];
    float _S1869 = _S1868 * u_53;
    float _S1870 = 2.0f * v_53;
    float _S1871 = r2_53 + _S1870 * v_53;
    float2  _S1872 = _S1859 * make_float2 (radial_1) + make_float2 (_S1865 * v_53 + _S1845[int(5)] * _S1867 + _S1845[int(6)] * r2_53, _S1869 * v_53 + _S1845[int(4)] * _S1871 + _S1845[int(7)] * r2_53);
    float _S1873 = _S1872.x;
    float _S1874 = _S1872.y;
    float2  _S1875 = _S1872 + make_float2 (_S1845[int(8)] * _S1873 + _S1845[int(9)] * _S1874, 0.0f);
    float fx_22 = _S1844.primal_0.x;
    float fy_22 = _S1844.primal_0.y;
    float _S1876 = _S1875.x;
    float _S1877 = _S1875.y;
    Matrix<float, 2, 3>  J_11 = makeMatrix<float, 2, 3> (0.0f);
    float _S1878 = s_primal_ctx_s_primal_ctx_atan2_0(_S1848, _S1849);
    bool _S1879 = _S1878 < 0.00100000004749745f;
    float _S1880;
    float _S1881;
    float _S1882;
    if(_S1879)
    {
        float _S1883 = 1.0f - _S1878 * _S1878 / 3.0f;
        float _S1884 = _S1849 * _S1849;
        k_5 = _S1883 / _S1849;
        _S1880 = 0.0f;
        _S1881 = _S1884;
        _S1882 = _S1883;
    }
    else
    {
        float _S1885 = _S1848 * _S1848;
        k_5 = _S1878 / _S1848;
        _S1880 = _S1885;
        _S1881 = 0.0f;
        _S1882 = 0.0f;
    }
    float2  _S1886 = make_float2 (k_5);
    float2  _S1887 = _S1847 * make_float2 (k_5);
    float u_54 = _S1887.x;
    float v_54 = _S1887.y;
    float r2_54 = u_54 * u_54 + v_54 * v_54;
    float _S1888 = _S1845[int(2)] + r2_54 * _S1845[int(3)];
    float _S1889 = _S1845[int(1)] + r2_54 * _S1888;
    float _S1890 = _S1845[int(0)] + r2_54 * _S1889;
    float2  _S1891 = make_float2 (1.0f + r2_54 * _S1890);
    float _S1892 = _S1864 * u_54;
    float _S1893 = 2.0f * u_54;
    float _S1894 = _S1868 * u_54;
    float _S1895 = 2.0f * v_54;
    float2  _S1896 = make_float2 (fx_22, 0.0f) + make_float2 (_S1845[int(8)] * fx_22, _S1845[int(9)] * fx_22);
    float2  _S1897 = _S1887 * _S1896;
    float _S1898 = _S1845[int(4)] * _S1896.y;
    float _S1899 = v_54 * _S1896.y;
    float _S1900 = _S1845[int(5)] * _S1896.x;
    float _S1901 = v_54 * _S1896.x;
    float _S1902 = _S1897.x + _S1897.y;
    float _S1903 = r2_54 * _S1902;
    float _S1904 = r2_54 * _S1903;
    float _S1905 = r2_54 * _S1904;
    float _S1906 = _S1845[int(7)] * _S1896.y + _S1898 + _S1845[int(6)] * _S1896.x + _S1900 + _S1890 * _S1902 + _S1889 * _S1903 + _S1888 * _S1904 + _S1845[int(3)] * _S1905;
    float _S1907 = v_54 * _S1906;
    float _S1908 = u_54 * _S1906;
    float2  _S1909 = _S1891 * _S1896 + make_float2 (_S1868 * _S1899 + _S1893 * _S1900 + 2.0f * (u_54 * _S1900) + _S1864 * _S1901 + _S1908 + _S1908, _S1895 * _S1898 + 2.0f * (v_54 * _S1898) + _S1894 * _S1896.y + _S1892 * _S1896.x + _S1907 + _S1907);
    float2  _S1910 = _S1847 * _S1909;
    float2  _S1911 = _S1886 * _S1909;
    float _S1912 = _S1910.x + _S1910.y;
    float k_6;
    float _S1913;
    float _S1914;
    float _S1915;
    float _S1916;
    float _S1917;
    float _S1918;
    float _S1919;
    float _S1920;
    if(_S1879)
    {
        float _S1921 = _S1912 / _S1881;
        float _S1922 = _S1881 * _S1881;
        float _S1923 = - _S1921;
        float _S1924 = _S1882 * _S1923;
        float _S1925 = 0.3333333432674408f * - (_S1849 * _S1921);
        float _S1926 = _S1878 * _S1925;
        k_5 = _S1926 + _S1926;
        k_6 = _S1924;
        _S1913 = 0.0f;
        _S1914 = 0.0f;
        _S1915 = 0.0f;
        _S1916 = 0.0f;
        _S1917 = _S1925;
        _S1918 = _S1921;
        _S1919 = _S1923;
        _S1920 = _S1922;
    }
    else
    {
        float _S1927 = _S1912 / _S1880;
        float _S1928 = _S1880 * _S1880;
        float _S1929 = - _S1927;
        float _S1930 = _S1878 * _S1929;
        k_5 = _S1848 * _S1927;
        k_6 = 0.0f;
        _S1913 = _S1930;
        _S1914 = _S1927;
        _S1915 = _S1929;
        _S1916 = _S1928;
        _S1917 = 0.0f;
        _S1918 = 0.0f;
        _S1919 = 0.0f;
        _S1920 = 0.0f;
    }
    DiffPair_float_0 _S1931 = { _S1848, 0.0f };
    DiffPair_float_0 _S1932 = { _S1849, 0.0f };
    float _S1933 = (&_s_diff_ctx_13->_S1594)->differential_0 + k_6;
    float _S1934 = (&_s_diff_ctx_13->_S1593)->differential_0 + _S1913;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1935 = { _S1847, _S1846 };
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1936;
    (&_S1936)->primal_0 = _S1847;
    (&_S1936)->differential_0 = _S1846;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1937 = { _S1846, _S1846 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1938;
    (&_S1938)->_S1620 = _S1937;
    s_primal_ctx_s_bwd_length_impl_0(&_S1936, _S1934, &_S1938);
    float2  _S1939 = _S1936.differential_0 + _S1911;
    float3  _S1940 = make_float3 (_S1939.x, _S1939.y, _S1933);
    Matrix<float, 2, 3>  _S1941 = J_11;
    _S1941[int(0)] = _S1940;
    float _S1942;
    float _S1943;
    if(_S1879)
    {
        float _S1944 = 1.0f - _S1878 * _S1878 / 3.0f;
        float _S1945 = _S1849 * _S1849;
        k_6 = _S1944 / _S1849;
        _S1913 = 0.0f;
        _S1942 = _S1945;
        _S1943 = _S1944;
    }
    else
    {
        float _S1946 = _S1848 * _S1848;
        k_6 = _S1878 / _S1848;
        _S1913 = _S1946;
        _S1942 = 0.0f;
        _S1943 = 0.0f;
    }
    float2  _S1947 = make_float2 (k_6);
    float2  _S1948 = _S1847 * make_float2 (k_6);
    float u_55 = _S1948.x;
    float v_55 = _S1948.y;
    float r2_55 = u_55 * u_55 + v_55 * v_55;
    float _S1949 = _S1845[int(2)] + r2_55 * _S1845[int(3)];
    float _S1950 = _S1845[int(1)] + r2_55 * _S1949;
    float _S1951 = _S1845[int(0)] + r2_55 * _S1950;
    float2  _S1952 = make_float2 (1.0f + r2_55 * _S1951);
    float _S1953 = _S1864 * u_55;
    float _S1954 = 2.0f * u_55;
    float _S1955 = _S1868 * u_55;
    float _S1956 = 2.0f * v_55;
    float2  _S1957 = make_float2 (0.0f, fy_22);
    float2  _S1958 = _S1948 * _S1957;
    float _S1959 = _S1845[int(4)] * fy_22;
    float _S1960 = v_55 * fy_22;
    float _S1961 = _S1958.x + _S1958.y;
    float _S1962 = r2_55 * _S1961;
    float _S1963 = r2_55 * _S1962;
    float _S1964 = r2_55 * _S1963;
    float _S1965 = _S1845[int(7)] * fy_22 + _S1959 + _S1951 * _S1961 + _S1950 * _S1962 + _S1949 * _S1963 + _S1845[int(3)] * _S1964;
    float _S1966 = v_55 * _S1965;
    float _S1967 = u_55 * _S1965;
    float2  _S1968 = _S1952 * _S1957 + make_float2 (_S1868 * _S1960 + _S1967 + _S1967, _S1956 * _S1959 + 2.0f * (v_55 * _S1959) + _S1955 * fy_22 + _S1966 + _S1966);
    float2  _S1969 = _S1847 * _S1968;
    float2  _S1970 = _S1947 * _S1968;
    float _S1971 = _S1969.x + _S1969.y;
    float _S1972;
    float _S1973;
    float _S1974;
    float _S1975;
    float _S1976;
    float _S1977;
    float _S1978;
    float _S1979;
    float _S1980;
    if(_S1879)
    {
        float _S1981 = _S1971 / _S1942;
        float _S1982 = _S1942 * _S1942;
        float _S1983 = - _S1981;
        float _S1984 = _S1943 * _S1983;
        float _S1985 = 0.3333333432674408f * - (_S1849 * _S1981);
        float _S1986 = _S1878 * _S1985;
        k_6 = _S1986 + _S1986;
        _S1972 = _S1984;
        _S1973 = 0.0f;
        _S1974 = 0.0f;
        _S1975 = 0.0f;
        _S1976 = 0.0f;
        _S1977 = _S1985;
        _S1978 = _S1981;
        _S1979 = _S1983;
        _S1980 = _S1982;
    }
    else
    {
        float _S1987 = _S1971 / _S1913;
        float _S1988 = _S1913 * _S1913;
        float _S1989 = - _S1987;
        float _S1990 = _S1878 * _S1989;
        k_6 = _S1848 * _S1987;
        _S1972 = 0.0f;
        _S1973 = _S1990;
        _S1974 = _S1987;
        _S1975 = _S1989;
        _S1976 = _S1988;
        _S1977 = 0.0f;
        _S1978 = 0.0f;
        _S1979 = 0.0f;
        _S1980 = 0.0f;
    }
    float _S1991 = (&_s_diff_ctx_13->_S1597)->differential_0 + _S1972;
    float _S1992 = (&_s_diff_ctx_13->_S1596)->differential_0 + _S1973;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1993;
    (&_S1993)->primal_0 = _S1847;
    (&_S1993)->differential_0 = _S1846;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1994;
    (&_S1994)->_S1620 = _S1937;
    s_primal_ctx_s_bwd_length_impl_0(&_S1993, _S1992, &_S1994);
    float2  _S1995 = _S1993.differential_0 + _S1970;
    float3  _S1996 = make_float3 (_S1995.x, _S1995.y, _S1991);
    _S1941[int(1)] = _S1996;
    Matrix<float, 3, 2>  _S1997 = transpose_1(_S1941);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1998;
    (&_S1998)->primal_0 = s_primal_ctx_mul_2(_S1941, _S1843.primal_0);
    (&_S1998)->differential_0 = J_11;
    Matrix<float, 3, 2>  _S1999 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S2000;
    (&_S2000)->primal_0 = _S1997;
    (&_S2000)->differential_0 = _S1999;
    s_bwd_prop_mul_2(&_S1998, &_S2000, dpcov2d_3);
    Matrix<float, 2, 3>  _S2001 = transpose_2(_S2000.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2002;
    (&_S2002)->primal_0 = _S1941;
    (&_S2002)->differential_0 = J_11;
    Matrix<float, 3, 3>  _S2003 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2004;
    (&_S2004)->primal_0 = _S1843.primal_0;
    (&_S2004)->differential_0 = _S2003;
    s_bwd_prop_mul_3(&_S2002, &_S2004, _S1998.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2005 = _S2004;
    Matrix<float, 2, 3>  _S2006 = _S2001 + _S2002.differential_0;
    float2  _S2007 = _S1846;
    *&((&_S2007)->y) = _S2006.rows[int(1)].y;
    *&((&_S2007)->x) = _S2006.rows[int(1)].x;
    float2  _S2008 = _S2007;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2009 = { _S1846, _S2007 };
    DiffPair_0 _S2010;
    (&_S2010)->primal_0 = _S1935;
    (&_S2010)->differential_0 = _S2009;
    DiffPair_float_0 _S2011;
    (&_S2011)->primal_0 = _S1992;
    (&_S2011)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S2012 = _S1994;
    s_bwd_prop_s_bwd_length_impl_0(&_S2010, &_S2011, &_S2012);
    DiffPair_0 _S2013 = _S2010;
    DiffPair_float_0 _S2014 = _S2011;
    DiffPair_float_0 _S2015 = { 0.0f, _S2006.rows[int(1)].z };
    DiffPair_float_0 _S2016 = { 0.0f, _S2011.differential_0 };
    DiffPair_1 _S2017;
    (&_S2017)->primal_0 = _S1931;
    (&_S2017)->differential_0 = _S2016;
    DiffPair_1 _S2018;
    (&_S2018)->primal_0 = _S1932;
    (&_S2018)->differential_0 = _S2015;
    DiffPair_float_0 _S2019;
    (&_S2019)->primal_0 = k_6;
    (&_S2019)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S2017, &_S2018, &_S2019, &_s_diff_ctx_13->_S1598);
    DiffPair_1 _S2020 = _S2017;
    DiffPair_1 _S2021 = _S2018;
    DiffPair_float_0 _S2022 = _S2019;
    if(_S1879)
    {
        float _S2023 = _S2022.differential_0 + _S2022.differential_0;
        float _S2024 = _S1977 * _S2023;
        float _S2025 = - (0.3333333432674408f * (_S1878 * _S2023));
        float _S2026 = _S1979 * _S2006.rows[int(1)].z;
        float _S2027 = (_S1849 * _S2025 + - (_S1943 * _S2006.rows[int(1)].z)) / _S1980;
        float _S2028 = _S1971 * - _S2027;
        float _S2029 = _S1978 * _S2025 + _S2021.differential_0.primal_0;
        k_6 = _S1942 * _S2027;
        _S1972 = 0.0f;
        _S1973 = _S2028;
        _S1974 = _S2026;
        _S1975 = _S2020.differential_0.primal_0;
        _S1976 = _S2024;
        _S1977 = _S2029;
    }
    else
    {
        float _S2030 = _S1975 * _S2014.differential_0;
        float _S2031 = (_S1848 * _S2022.differential_0 + - (_S1878 * _S2014.differential_0)) / _S1976;
        float _S2032 = _S1971 * - _S2031;
        float _S2033 = _S1974 * _S2022.differential_0 + _S2020.differential_0.primal_0;
        k_6 = _S1913 * _S2031;
        _S1972 = _S2032;
        _S1973 = 0.0f;
        _S1974 = 0.0f;
        _S1975 = _S2033;
        _S1976 = _S2030;
        _S1977 = _S2021.differential_0.primal_0;
    }
    float2  _S2034 = _S1947 * _S2008;
    float2  _S2035 = _S1968 * _S2008;
    float2  _S2036 = _S1846;
    *&((&_S2036)->y) = k_6;
    *&((&_S2036)->x) = k_6;
    float2  _S2037 = _S1968 * _S2036;
    float2  _S2038 = _S2034 + _S1847 * _S2036;
    float _S2039 = _S2038.x;
    float _S2040 = _S2039 + _S2039;
    float _S2041 = _S1965 * _S2040;
    float _S2042 = _S2038.y + _S2038.y;
    float _S2043 = _S1965 * _S2042;
    float _S2044 = u_55 * _S2040 + v_55 * _S2042;
    float _S2045 = _S1845[int(3)] * _S2044;
    float _S2046 = _S1964 * _S2044;
    float _S2047 = _S1963 * _S2044;
    float _S2048 = _S1963 * _S2045;
    float _S2049 = _S1962 * _S2044;
    float _S2050 = _S1949 * _S2044 + r2_55 * _S2045;
    float _S2051 = _S1962 * _S2050;
    float _S2052 = _S1961 * _S2044;
    float _S2053 = _S1950 * _S2044 + r2_55 * _S2050;
    float _S2054 = _S1961 * _S2053;
    float _S2055 = _S1951 * _S2044 + r2_55 * _S2053;
    float _S2056 = v_55 * (_S1864 * _S2038.x);
    float _S2057 = _S1953 * _S2038.y;
    float _S2058 = _S1845[int(5)] * (_S2044 + u_55 * (2.0f * _S2038.x) + _S1954 * _S2038.x);
    float _S2059 = _S1845[int(6)] * _S2044;
    float _S2060 = _S1868 * _S2038.x;
    float _S2061 = _S1960 * _S2038.x;
    float _S2062 = v_55 * _S2060;
    float _S2063 = fy_22 * _S2060;
    float _S2064 = _S1955 * _S2038.y;
    float _S2065 = fy_22 * _S2038.y;
    float _S2066 = 2.0f * _S2038.y;
    float _S2067 = _S1959 * _S2066;
    float _S2068 = _S1959 * _S2038.y;
    float _S2069 = _S2044 + v_55 * _S2066 + _S1956 * _S2038.y;
    float _S2070 = _S1845[int(4)] * _S2069;
    float _S2071 = fy_22 * _S2069;
    float _S2072 = _S1845[int(7)] * _S2044;
    float _S2073 = fy_22 * _S2044;
    float2  _S2074 = _S1952 * _S2038;
    float2  _S2075 = _S1957 * _S2038;
    float2  _S2076 = _S1846;
    *&((&_S2076)->y) = _S2055;
    *&((&_S2076)->x) = _S2055;
    float2  _S2077 = _S1957 * _S2076;
    float _S2078 = _S2062 + _S2064 + _S2070 + _S2072;
    float _S2079 = _S2056 + _S2057 + _S2058 + _S2059;
    float2  _S2080 = _S2074 + _S1948 * _S2076;
    float2  _S2081 = _S1846;
    *&((&_S2081)->y) = _S2078;
    *&((&_S2081)->x) = _S2079;
    float2  _S2082 = _S2080 + _S2081;
    float _S2083 = _S2075.x + _S2075.y;
    float _S2084 = _S2052 + r2_55 * _S2083;
    float _S2085 = _S2049 + r2_55 * _S2084;
    float _S2086 = _S2047 + r2_55 * _S2085;
    float _S2087 = _S2048 + _S2051 + _S2054 + _S1951 * _S2083 + _S1950 * _S2084 + _S1949 * _S2085 + _S1845[int(3)] * _S2086;
    float _S2088 = v_55 * _S2087;
    float _S2089 = u_55 * _S2087;
    float2  _S2090 = _S2037 + _S2013.differential_0.primal_0;
    float2  _S2091 = _S2077 + make_float2 (_S2041 + _S1868 * _S2065 + _S2089 + _S2089, _S2043 + _S2063 + _S2067 + 2.0f * _S2068 + _S2088 + _S2088);
    float _S2092 = _S2061 + u_55 * _S2065;
    float _S2093 = _S2046 + r2_55 * _S2086;
    float2  _S2094 = _S1847 * _S2091;
    float _S2095 = _S2035.x + _S2035.y + _S2094.x + _S2094.y;
    float2  _S2096 = _S1947 * _S2091 + _S2090;
    if(_S1879)
    {
        float _S2097 = _S1849 * _S1973;
        float _S2098 = _S2095 / _S1942;
        float _S2099 = _S1878 * (0.3333333432674408f * - (_S1974 + _S1849 * _S2098));
        float _S2100 = _S2097 + _S2097 + _S1943 * - _S2098 + _S1977;
        k_6 = _S2099 + _S2099 + _S1976;
        _S1913 = _S2100;
        _S1942 = _S1975;
    }
    else
    {
        float _S2101 = _S1848 * _S1972;
        float _S2102 = _S2095 / _S1913;
        float _S2103 = _S2101 + _S2101 + _S1878 * - _S2102 + _S1975;
        k_6 = _S1848 * _S2102 + _S1976;
        _S1913 = _S1977;
        _S1942 = _S2103;
    }
    DiffPair_float_0 _S2104;
    (&_S2104)->primal_0 = _S1848;
    (&_S2104)->differential_0 = 0.0f;
    DiffPair_float_0 _S2105;
    (&_S2105)->primal_0 = _S1849;
    (&_S2105)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S2104, &_S2105, k_6);
    float _S2106 = _S2105.differential_0 + _S1913;
    float _S2107 = _S2104.differential_0 + _S1942;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2108;
    (&_S2108)->primal_0 = _S1847;
    (&_S2108)->differential_0 = _S1846;
    s_bwd_length_impl_0(&_S2108, _S2107);
    float2  _S2109 = _S2108.differential_0 + _S2096;
    float3  _S2110 = make_float3 (_S2109.x, _S2109.y, _S2106);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2111;
    (&_S2111)->primal_0 = _S1847;
    (&_S2111)->differential_0 = _S1846;
    s_bwd_length_impl_0(&_S2111, 0.0f);
    float3  _S2112 = _S2110 + make_float3 (_S2111.differential_0.x, _S2111.differential_0.y, 0.0f);
    float2  _S2113 = _S1846;
    *&((&_S2113)->y) = _S2006.rows[int(0)].y;
    *&((&_S2113)->x) = _S2006.rows[int(0)].x;
    float2  _S2114 = _S2113;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2115 = { _S1846, _S2113 };
    DiffPair_0 _S2116;
    (&_S2116)->primal_0 = _S1935;
    (&_S2116)->differential_0 = _S2115;
    DiffPair_float_0 _S2117;
    (&_S2117)->primal_0 = _S1934;
    (&_S2117)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S2118 = _S1938;
    s_bwd_prop_s_bwd_length_impl_0(&_S2116, &_S2117, &_S2118);
    DiffPair_0 _S2119 = _S2116;
    DiffPair_float_0 _S2120 = _S2117;
    DiffPair_float_0 _S2121 = { 0.0f, _S2006.rows[int(0)].z };
    DiffPair_float_0 _S2122 = { 0.0f, _S2117.differential_0 };
    DiffPair_1 _S2123;
    (&_S2123)->primal_0 = _S1931;
    (&_S2123)->differential_0 = _S2122;
    DiffPair_1 _S2124;
    (&_S2124)->primal_0 = _S1932;
    (&_S2124)->differential_0 = _S2121;
    DiffPair_float_0 _S2125;
    (&_S2125)->primal_0 = k_5;
    (&_S2125)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S2123, &_S2124, &_S2125, &_s_diff_ctx_13->_S1595);
    DiffPair_1 _S2126 = _S2123;
    DiffPair_1 _S2127 = _S2124;
    DiffPair_float_0 _S2128 = _S2125;
    if(_S1879)
    {
        float _S2129 = _S2128.differential_0 + _S2128.differential_0;
        float _S2130 = _S1917 * _S2129;
        float _S2131 = - (0.3333333432674408f * (_S1878 * _S2129));
        float _S2132 = _S1919 * _S2006.rows[int(0)].z;
        float _S2133 = (_S1849 * _S2131 + - (_S1882 * _S2006.rows[int(0)].z)) / _S1920;
        float _S2134 = _S1912 * - _S2133;
        float _S2135 = _S1918 * _S2131 + _S2127.differential_0.primal_0;
        k_5 = _S1881 * _S2133;
        k_6 = 0.0f;
        _S1913 = _S2134;
        _S1914 = _S2132;
        _S1915 = _S2126.differential_0.primal_0;
        _S1916 = _S2130;
        _S1917 = _S2135;
    }
    else
    {
        float _S2136 = _S1915 * _S2120.differential_0;
        float _S2137 = (_S1848 * _S2128.differential_0 + - (_S1878 * _S2120.differential_0)) / _S1916;
        float _S2138 = _S1912 * - _S2137;
        float _S2139 = _S1914 * _S2128.differential_0 + _S2126.differential_0.primal_0;
        k_5 = _S1880 * _S2137;
        k_6 = _S2138;
        _S1913 = 0.0f;
        _S1914 = 0.0f;
        _S1915 = _S2139;
        _S1916 = _S2136;
        _S1917 = _S2127.differential_0.primal_0;
    }
    float2  _S2140 = _S1886 * _S2114;
    float2  _S2141 = _S1909 * _S2114;
    float2  _S2142 = _S1846;
    *&((&_S2142)->y) = k_5;
    *&((&_S2142)->x) = k_5;
    float2  _S2143 = _S1909 * _S2142;
    float2  _S2144 = _S2140 + _S1847 * _S2142;
    float _S2145 = _S2144.x;
    float _S2146 = _S2145 + _S2145;
    float _S2147 = _S1906 * _S2146;
    float _S2148 = _S2144.y + _S2144.y;
    float _S2149 = _S1906 * _S2148;
    float _S2150 = u_54 * _S2146 + v_54 * _S2148;
    float _S2151 = _S1845[int(3)] * _S2150;
    float _S2152 = _S1905 * _S2150;
    float _S2153 = _S1904 * _S2150;
    float _S2154 = _S1904 * _S2151;
    float _S2155 = _S1903 * _S2150;
    float _S2156 = _S1888 * _S2150 + r2_54 * _S2151;
    float _S2157 = _S1903 * _S2156;
    float _S2158 = _S1902 * _S2150;
    float _S2159 = _S1889 * _S2150 + r2_54 * _S2156;
    float _S2160 = _S1902 * _S2159;
    float _S2161 = _S1890 * _S2150 + r2_54 * _S2159;
    float _S2162 = _S1864 * _S2144.x;
    float _S2163 = _S1901 * _S2144.x;
    float _S2164 = v_54 * _S2162;
    float _S2165 = _S1896.x * _S2162;
    float _S2166 = _S1892 * _S2144.y;
    float _S2167 = _S1896.x * _S2144.y;
    float _S2168 = 2.0f * _S2144.x;
    float _S2169 = _S1900 * _S2168;
    float _S2170 = _S1900 * _S2144.x;
    float _S2171 = _S2150 + u_54 * _S2168 + _S1893 * _S2144.x;
    float _S2172 = _S1845[int(5)] * _S2171;
    float _S2173 = _S1896.x * _S2171;
    float _S2174 = _S1845[int(6)] * _S2150;
    float _S2175 = _S1896.x * _S2150;
    float _S2176 = _S1868 * _S2144.x;
    float _S2177 = _S1899 * _S2144.x;
    float _S2178 = v_54 * _S2176;
    float _S2179 = _S1896.y * _S2176;
    float _S2180 = _S1894 * _S2144.y;
    float _S2181 = _S1896.y * _S2144.y;
    float _S2182 = 2.0f * _S2144.y;
    float _S2183 = _S1898 * _S2182;
    float _S2184 = _S1898 * _S2144.y;
    float _S2185 = _S2150 + v_54 * _S2182 + _S1895 * _S2144.y;
    float _S2186 = _S1845[int(4)] * _S2185;
    float _S2187 = _S1896.y * _S2185;
    float _S2188 = _S1845[int(7)] * _S2150;
    float _S2189 = _S1896.y * _S2150;
    float2  _S2190 = _S1891 * _S2144;
    float2  _S2191 = _S1896 * _S2144;
    float2  _S2192 = _S1846;
    *&((&_S2192)->y) = _S2161;
    *&((&_S2192)->x) = _S2161;
    float2  _S2193 = _S1896 * _S2192;
    float _S2194 = _S2178 + _S2180 + _S2186 + _S2188;
    float _S2195 = _S2164 + _S2166 + _S2172 + _S2174;
    float2  _S2196 = _S2190 + _S1887 * _S2192;
    float2  _S2197 = _S1846;
    *&((&_S2197)->y) = _S2194;
    *&((&_S2197)->x) = _S2195;
    float2  _S2198 = _S2196 + _S2197;
    float _S2199 = fx_22 * _S2198.x;
    float _S2200 = fx_22 * _S2198.y;
    float _S2201 = _S2191.x + _S2191.y;
    float _S2202 = _S2158 + r2_54 * _S2201;
    float _S2203 = _S2155 + r2_54 * _S2202;
    float _S2204 = _S2153 + r2_54 * _S2203;
    float _S2205 = _S2154 + _S2157 + _S2160 + _S1890 * _S2201 + _S1889 * _S2202 + _S1888 * _S2203 + _S1845[int(3)] * _S2204;
    float _S2206 = v_54 * _S2205;
    float _S2207 = u_54 * _S2205;
    float2  _S2208 = _S2143 + _S2119.differential_0.primal_0;
    float _S2209 = _S2189 + _S2073;
    float _S2210 = _S2163 + u_54 * _S2167;
    float _S2211 = _S1845[int(8)] * _S2198.x + _S1845[int(9)] * _S2198.y + _S2198.x;
    float _S2212 = _S2203 + _S2085;
    float _S2213 = _S2202 + _S2084;
    float2  _S2214 = _S2193 + make_float2 (_S2147 + _S2169 + _S1868 * _S2181 + 2.0f * _S2170 + _S1864 * _S2167 + _S2207 + _S2207, _S2149 + _S2165 + _S2179 + _S2183 + 2.0f * _S2184 + _S2206 + _S2206);
    float _S2215 = _S2177 + u_54 * _S2181 + _S2092;
    float _S2216 = _S2152 + r2_54 * _S2204 + _S2093;
    float _S2217 = _S2204 + _S2086;
    float _S2218 = _S2187 + _S2071;
    float2  _S2219 = _S1847 * _S2214;
    float _S2220 = _S2141.x + _S2141.y + _S2219.x + _S2219.y;
    float2  _S2221 = _S1886 * _S2214 + _S2208;
    if(_S1879)
    {
        float _S2222 = _S1849 * _S1913;
        float _S2223 = _S2220 / _S1881;
        float _S2224 = _S1878 * (0.3333333432674408f * - (_S1914 + _S1849 * _S2223));
        float _S2225 = _S2222 + _S2222 + _S1882 * - _S2223 + _S1917;
        k_5 = _S2224 + _S2224 + _S1916;
        _S1880 = _S2225;
        _S1881 = _S1915;
    }
    else
    {
        float _S2226 = _S1848 * k_6;
        float _S2227 = _S2220 / _S1880;
        float _S2228 = _S2226 + _S2226 + _S1878 * - _S2227 + _S1915;
        k_5 = _S1848 * _S2227 + _S1916;
        _S1880 = _S1917;
        _S1881 = _S2228;
    }
    DiffPair_float_0 _S2229;
    (&_S2229)->primal_0 = _S1848;
    (&_S2229)->differential_0 = 0.0f;
    DiffPair_float_0 _S2230;
    (&_S2230)->primal_0 = _S1849;
    (&_S2230)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S2229, &_S2230, k_5);
    float _S2231 = _S2230.differential_0 + _S1880;
    float _S2232 = _S2229.differential_0 + _S1881;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2233;
    (&_S2233)->primal_0 = _S1847;
    (&_S2233)->differential_0 = _S1846;
    s_bwd_length_impl_0(&_S2233, _S2232);
    float2  _S2234 = _S2233.differential_0 + _S2221;
    float3  _S2235 = make_float3 (_S2234.x, _S2234.y, _S2231);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2236;
    (&_S2236)->primal_0 = _S1847;
    (&_S2236)->differential_0 = _S1846;
    s_bwd_length_impl_0(&_S2236, 0.0f);
    float _S2237 = fx_22 * dpmean2d_3.x;
    float2  _S2238 = make_float2 (_S2237, fy_22 * dpmean2d_3.y) + make_float2 (_S1845[int(8)] * _S2237, _S1845[int(9)] * _S2237);
    float2  _S2239 = _S1859 * _S2238;
    float2  _S2240 = _S1863 * _S2238;
    float _S2241 = _S1845[int(4)] * _S2238.y;
    float _S2242 = v_53 * _S2238.y;
    float _S2243 = _S1845[int(5)] * _S2238.x;
    float _S2244 = v_53 * _S2238.x;
    float _S2245 = _S2239.x + _S2239.y;
    float _S2246 = r2_53 * _S2245;
    float _S2247 = r2_53 * _S2246;
    float _S2248 = r2_53 * _S2247;
    float _S2249 = _S1845[int(7)] * _S2238.y + _S2241 + _S1845[int(6)] * _S2238.x + _S2243 + _S1862 * _S2245 + _S1861 * _S2246 + _S1860 * _S2247 + _S1845[int(3)] * _S2248;
    float _S2250 = v_53 * _S2249;
    float _S2251 = u_53 * _S2249;
    float _S2252 = _S1870 * _S2241 + 2.0f * (v_53 * _S2241) + _S1869 * _S2238.y + _S1865 * _S2238.x + _S2250 + _S2250;
    float _S2253 = _S1868 * _S2242 + _S1866 * _S2243 + 2.0f * (u_53 * _S2243) + _S1864 * _S2244 + _S2251 + _S2251;
    float _S2254 = _S1874 * _S2237 + _S2200;
    float _S2255 = _S1873 * _S2237 + _S2199;
    float _S2256 = r2_53 * _S2238.y + _S2209;
    float _S2257 = r2_53 * _S2238.x + _S2175;
    float _S2258 = 2.0f * (u_53 * _S2242 + _S2215) + _S1867 * _S2238.x + _S2173;
    float _S2259 = _S1871 * _S2238.y + 2.0f * (u_53 * _S2244 + _S2210) + _S2218;
    float _S2260 = r2_53 * _S2248 + _S2216;
    float _S2261 = _S2248 + _S2217;
    float _S2262 = _S2247 + _S2212;
    float _S2263 = _S2246 + _S2213;
    float3  _S2264 = _S2235 + make_float3 (_S2236.differential_0.x, _S2236.differential_0.y, 0.0f) + _S2112;
    float4  _S2265 = make_float4 (_S1876 * dpmean2d_3.x + _S2211, _S1877 * dpmean2d_3.y + _S2082.y, dpmean2d_3.x, dpmean2d_3.y);
    FixedArray<float, 10>  _S2266;
    _S2266[int(0)] = 0.0f;
    _S2266[int(1)] = 0.0f;
    _S2266[int(2)] = 0.0f;
    _S2266[int(3)] = 0.0f;
    _S2266[int(4)] = 0.0f;
    _S2266[int(5)] = 0.0f;
    _S2266[int(6)] = 0.0f;
    _S2266[int(7)] = 0.0f;
    _S2266[int(8)] = 0.0f;
    _S2266[int(9)] = 0.0f;
    _S2266[int(9)] = _S2254;
    _S2266[int(8)] = _S2255;
    _S2266[int(7)] = _S2256;
    _S2266[int(6)] = _S2257;
    _S2266[int(5)] = _S2258;
    _S2266[int(4)] = _S2259;
    _S2266[int(3)] = _S2260;
    _S2266[int(2)] = _S2261;
    _S2266[int(1)] = _S2262;
    _S2266[int(0)] = _S2263;
    FixedArray<float, 10>  _S2267 = {
        _S2266[int(0)], _S2266[int(1)], _S2266[int(2)], _S2266[int(3)], _S2266[int(4)], _S2266[int(5)], _S2266[int(6)], _S2266[int(7)], _S2266[int(8)], _S2266[int(9)]
    };
    float2  _S2268 = _S2240 + make_float2 (_S2253, _S2252);
    float2  _S2269 = _S1847 * _S2268;
    float2  _S2270 = _S1858 * _S2268;
    float _S2271 = _S2269.x + _S2269.y;
    if(_S1851)
    {
        float _S2272 = _S2271 / _S1853;
        float _S2273 = _S1854 * - _S2272;
        float _S2274 = _S1850 * (0.3333333432674408f * - (_S1849 * _S2272));
        k_5 = _S2274 + _S2274;
        _S1852 = _S2273;
        _S1853 = 0.0f;
    }
    else
    {
        float _S2275 = _S2271 / _S1852;
        float _S2276 = _S1850 * - _S2275;
        k_5 = _S1848 * _S2275;
        _S1852 = 0.0f;
        _S1853 = _S2276;
    }
    DiffPair_float_0 _S2277;
    (&_S2277)->primal_0 = _S1848;
    (&_S2277)->differential_0 = 0.0f;
    DiffPair_float_0 _S2278;
    (&_S2278)->primal_0 = _S1849;
    (&_S2278)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S2277, &_S2278, k_5);
    float _S2279 = _S2278.differential_0 + _S1852;
    float _S2280 = _S2277.differential_0 + _S1853;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2281;
    (&_S2281)->primal_0 = _S1847;
    (&_S2281)->differential_0 = _S1846;
    s_bwd_length_impl_0(&_S2281, _S2280);
    float2  _S2282 = _S2281.differential_0 + _S2270;
    dpdist_coeffs_3->primal_0 = dpdist_coeffs_3->primal_0;
    dpdist_coeffs_3->differential_0 = _S2267;
    dpintrins_3->primal_0 = (*dpintrins_3).primal_0;
    dpintrins_3->differential_0 = _S2265;
    dpcov3d_3->primal_0 = (*dpcov3d_3).primal_0;
    dpcov3d_3->differential_0 = _S2005.differential_0;
    float3  _S2283 = _S2264 + make_float3 (_S2282.x, _S2282.y, _S2279);
    dpmean3d_3->primal_0 = (*dpmean3d_3).primal_0;
    dpmean3d_3->differential_0 = _S2283;
    return;
}

inline __device__ void projection_3dgs_fisheye_vjp(bool antialiased_11, float3  mean_12, float4  quat_15, float3  scale_14, float in_opacity_11, FixedArray<float3 , 16>  * sh_coeffs_11, Matrix<float, 3, 3>  R_18, float3  t_14, float fx_23, float fy_23, float cx_18, float cy_18, FixedArray<float, 10>  * dist_coeffs_26, uint image_width_11, uint image_height_11, float2  v_mean2d_1, float v_depth_1, float3  v_conic_1, float v_opacity_1, float3  v_rgb_1, float3  * v_mean_1, float4  * v_quat_1, float3  * v_scale_1, float * v_in_opacity_1, FixedArray<float3 , 16>  * v_sh_coeffs_1, Matrix<float, 3, 3>  * v_R_3, float3  * v_t_2)
{
    Matrix<float, 2, 2>  _S2284 = makeMatrix<float, 2, 2> (0.0f);
    DiffPair_float_0 _S2285 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S2286 = { _S2285, _S2285 };
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S2287 = { _S2285, _S2285, _S2286, _S2285, _S2285, _S2286 };
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S2288;
    (&_S2288)->_S1599 = _S2284;
    (&_S2288)->_S1600 = _S2287;
    float3  mean_c_11 = s_primal_ctx_mul_0(R_18, mean_12) + t_14;
    float4  intrins_15 = make_float4 (fx_23, fy_23, cx_18, cy_18);
    float3  _S2289 = s_primal_ctx_exp_0(scale_14);
    float _S2290 = quat_15.y;
    float x2_15 = _S2290 * _S2290;
    float y2_15 = quat_15.z * quat_15.z;
    float z2_26 = quat_15.w * quat_15.w;
    float xy_15 = quat_15.y * quat_15.z;
    float xz_15 = quat_15.y * quat_15.w;
    float yz_15 = quat_15.z * quat_15.w;
    float wx_15 = quat_15.x * quat_15.y;
    float wy_15 = quat_15.x * quat_15.z;
    float wz_15 = quat_15.x * quat_15.w;
    Matrix<float, 3, 3>  _S2291 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_15 + z2_26), 2.0f * (xy_15 + wz_15), 2.0f * (xz_15 - wy_15), 2.0f * (xy_15 - wz_15), 1.0f - 2.0f * (x2_15 + z2_26), 2.0f * (yz_15 + wx_15), 2.0f * (xz_15 + wy_15), 2.0f * (yz_15 - wx_15), 1.0f - 2.0f * (x2_15 + y2_15)));
    Matrix<float, 3, 3>  S_1 = makeMatrix<float, 3, 3> (_S2289.x, 0.0f, 0.0f, 0.0f, _S2289.y, 0.0f, 0.0f, 0.0f, _S2289.z);
    Matrix<float, 3, 3>  _S2292 = s_primal_ctx_mul_1(_S2291, S_1);
    Matrix<float, 3, 3>  _S2293 = transpose_0(_S2292);
    Matrix<float, 3, 3>  _S2294 = s_primal_ctx_mul_1(_S2292, _S2293);
    Matrix<float, 3, 3>  _S2295 = s_primal_ctx_mul_1(R_18, _S2294);
    Matrix<float, 3, 3>  _S2296 = transpose_0(R_18);
    Matrix<float, 3, 3>  _S2297 = s_primal_ctx_mul_1(_S2295, _S2296);
    Matrix<float, 2, 2>  _S2298 = _S2284;
    float2  _S2299 = make_float2 (0.0f);
    float2  _S2300 = _S2299;
    bool _S2301 = s_primal_ctx_fisheye_proj_3dgs_0(mean_c_11, _S2297, intrins_15, dist_coeffs_26, &_S2298, &_S2300, &(&_S2288)->_S1600);
    (&_S2288)->_S1599 = _S2298;
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S2302 = _S2288;
    float _S2303 = _S2288._S1599.rows[int(0)].y * _S2288._S1599.rows[int(1)].x;
    float det_orig_12 = _S2288._S1599.rows[int(0)].x * _S2288._S1599.rows[int(1)].y - _S2303;
    float _S2304 = _S2288._S1599.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2305 = _S2288._S1599;
    *&(((&_S2305)->rows + (int(0)))->x) = _S2304;
    float _S2306 = _S2288._S1599.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2305)->rows + (int(1)))->y) = _S2306;
    Matrix<float, 2, 2>  _S2307 = _S2305;
    Matrix<float, 2, 2>  _S2308 = _S2305;
    float det_blur_7 = _S2304 * _S2306 - _S2303;
    float _S2309 = det_orig_12 / det_blur_7;
    float _S2310 = det_blur_7 * det_blur_7;
    float _S2311 = s_primal_ctx_max_0(0.0f, _S2309);
    float _S2312 = s_primal_ctx_sqrt_0(_S2311);
    float invdet_8 = 1.0f / det_blur_7;
    float _S2313 = - _S2288._S1599.rows[int(0)].y;
    float _S2314 = - _S2288._S1599.rows[int(1)].x;
    float _S2315 = - in_opacity_11;
    float _S2316 = 1.0f + s_primal_ctx_exp_1(_S2315);
    float _S2317 = 1.0f / _S2316;
    float _S2318 = _S2316 * _S2316;
    float _S2319;
    if(antialiased_11)
    {
        _S2319 = _S2317 * _S2312;
    }
    else
    {
        _S2319 = _S2317;
    }
    float _S2320 = _S2319 / 0.00392156885936856f;
    float _S2321 = 2.0f * s_primal_ctx_log_0(_S2320);
    float _S2322 = s_primal_ctx_sqrt_0(_S2321);
    float _S2323 = _S2307.rows[int(0)].x;
    float _S2324 = _S2308.rows[int(1)].y;
    float3  _S2325 = mean_12 - - s_primal_ctx_mul_0(_S2296, t_14);
    float _S2326 = _S2325.x;
    float _S2327 = _S2325.y;
    float _S2328 = _S2325.z;
    float _S2329 = _S2326 * _S2326 + _S2327 * _S2327 + _S2328 * _S2328;
    float _S2330 = s_primal_ctx_sqrt_0(_S2329);
    float x_36 = _S2326 / _S2330;
    float3  _S2331 = make_float3 (x_36);
    float _S2332 = _S2330 * _S2330;
    float y_14 = _S2327 / _S2330;
    float z_11 = _S2328 / _S2330;
    float3  _S2333 = make_float3 (z_11);
    float _S2334 = - y_14;
    float3  _S2335 = make_float3 (_S2334);
    float z2_27 = z_11 * z_11;
    float fTmp0B_11 = -1.09254848957061768f * z_11;
    float fC1_11 = x_36 * x_36 - y_14 * y_14;
    float _S2336 = 2.0f * x_36;
    float fS1_11 = _S2336 * y_14;
    float pSH6_1 = 0.94617468118667603f * z2_27 - 0.31539157032966614f;
    float3  _S2337 = make_float3 (pSH6_1);
    float pSH7_1 = fTmp0B_11 * x_36;
    float3  _S2338 = make_float3 (pSH7_1);
    float pSH5_1 = fTmp0B_11 * y_14;
    float3  _S2339 = make_float3 (pSH5_1);
    float pSH8_1 = 0.54627424478530884f * fC1_11;
    float3  _S2340 = make_float3 (pSH8_1);
    float pSH4_1 = 0.54627424478530884f * fS1_11;
    float3  _S2341 = make_float3 (pSH4_1);
    float fTmp0C_11 = -2.28522896766662598f * z2_27 + 0.4570457935333252f;
    float fTmp1B_11 = 1.44530570507049561f * z_11;
    float _S2342 = 1.86588168144226074f * z2_27 - 1.11952900886535645f;
    float pSH12_1 = z_11 * _S2342;
    float3  _S2343 = make_float3 (pSH12_1);
    float pSH13_1 = fTmp0C_11 * x_36;
    float3  _S2344 = make_float3 (pSH13_1);
    float pSH11_1 = fTmp0C_11 * y_14;
    float3  _S2345 = make_float3 (pSH11_1);
    float pSH14_1 = fTmp1B_11 * fC1_11;
    float3  _S2346 = make_float3 (pSH14_1);
    float pSH10_1 = fTmp1B_11 * fS1_11;
    float3  _S2347 = make_float3 (pSH10_1);
    float pSH15_1 = -0.59004360437393188f * (x_36 * fC1_11 - y_14 * fS1_11);
    float3  _S2348 = make_float3 (pSH15_1);
    float pSH9_1 = -0.59004360437393188f * (x_36 * fS1_11 + y_14 * fC1_11);
    float3  _S2349 = make_float3 (pSH9_1);
    float3  _S2350 = make_float3 (0.0f);
    float3  _S2351 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2352;
    (&_S2352)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_11)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2334) * (*sh_coeffs_11)[int(1)] + make_float3 (z_11) * (*sh_coeffs_11)[int(2)] - make_float3 (x_36) * (*sh_coeffs_11)[int(3)]) + (make_float3 (pSH4_1) * (*sh_coeffs_11)[int(4)] + make_float3 (pSH5_1) * (*sh_coeffs_11)[int(5)] + make_float3 (pSH6_1) * (*sh_coeffs_11)[int(6)] + make_float3 (pSH7_1) * (*sh_coeffs_11)[int(7)] + make_float3 (pSH8_1) * (*sh_coeffs_11)[int(8)]) + (make_float3 (pSH9_1) * (*sh_coeffs_11)[int(9)] + make_float3 (pSH10_1) * (*sh_coeffs_11)[int(10)] + make_float3 (pSH11_1) * (*sh_coeffs_11)[int(11)] + make_float3 (pSH12_1) * (*sh_coeffs_11)[int(12)] + make_float3 (pSH13_1) * (*sh_coeffs_11)[int(13)] + make_float3 (pSH14_1) * (*sh_coeffs_11)[int(14)] + make_float3 (pSH15_1) * (*sh_coeffs_11)[int(15)]) + make_float3 (0.5f);
    (&_S2352)->differential_0 = _S2351;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2353;
    (&_S2353)->primal_0 = _S2350;
    (&_S2353)->differential_0 = _S2351;
    s_bwd_prop_max_0(&_S2352, &_S2353, v_rgb_1);
    float3  _S2354 = _S2348 * _S2352.differential_0;
    float3  _S2355 = (*sh_coeffs_11)[int(15)] * _S2352.differential_0;
    float3  _S2356 = _S2346 * _S2352.differential_0;
    float3  _S2357 = (*sh_coeffs_11)[int(14)] * _S2352.differential_0;
    float3  _S2358 = _S2344 * _S2352.differential_0;
    float3  _S2359 = (*sh_coeffs_11)[int(13)] * _S2352.differential_0;
    float3  _S2360 = _S2343 * _S2352.differential_0;
    float3  _S2361 = (*sh_coeffs_11)[int(12)] * _S2352.differential_0;
    float3  _S2362 = _S2345 * _S2352.differential_0;
    float3  _S2363 = (*sh_coeffs_11)[int(11)] * _S2352.differential_0;
    float3  _S2364 = _S2347 * _S2352.differential_0;
    float3  _S2365 = (*sh_coeffs_11)[int(10)] * _S2352.differential_0;
    float3  _S2366 = _S2349 * _S2352.differential_0;
    float3  _S2367 = (*sh_coeffs_11)[int(9)] * _S2352.differential_0;
    float s_diff_fS2_T_1 = -0.59004360437393188f * (_S2367.x + _S2367.y + _S2367.z);
    float s_diff_fC2_T_1 = -0.59004360437393188f * (_S2355.x + _S2355.y + _S2355.z);
    float _S2368 = _S2365.x + _S2365.y + _S2365.z;
    float _S2369 = _S2357.x + _S2357.y + _S2357.z;
    float _S2370 = _S2363.x + _S2363.y + _S2363.z;
    float _S2371 = _S2359.x + _S2359.y + _S2359.z;
    float _S2372 = _S2361.x + _S2361.y + _S2361.z;
    float _S2373 = - s_diff_fC2_T_1;
    float3  _S2374 = _S2340 * _S2352.differential_0;
    float3  _S2375 = (*sh_coeffs_11)[int(8)] * _S2352.differential_0;
    float3  _S2376 = _S2338 * _S2352.differential_0;
    float3  _S2377 = (*sh_coeffs_11)[int(7)] * _S2352.differential_0;
    float3  _S2378 = _S2337 * _S2352.differential_0;
    float3  _S2379 = (*sh_coeffs_11)[int(6)] * _S2352.differential_0;
    float3  _S2380 = _S2339 * _S2352.differential_0;
    float3  _S2381 = (*sh_coeffs_11)[int(5)] * _S2352.differential_0;
    float3  _S2382 = _S2341 * _S2352.differential_0;
    float3  _S2383 = (*sh_coeffs_11)[int(4)] * _S2352.differential_0;
    float _S2384 = _S2381.x + _S2381.y + _S2381.z;
    float _S2385 = _S2377.x + _S2377.y + _S2377.z;
    float _S2386 = fTmp1B_11 * _S2368 + x_36 * s_diff_fS2_T_1 + y_14 * _S2373 + 0.54627424478530884f * (_S2383.x + _S2383.y + _S2383.z);
    float _S2387 = fTmp1B_11 * _S2369 + y_14 * s_diff_fS2_T_1 + x_36 * s_diff_fC2_T_1 + 0.54627424478530884f * (_S2375.x + _S2375.y + _S2375.z);
    float _S2388 = y_14 * - _S2387;
    float _S2389 = x_36 * _S2387;
    float _S2390 = z_11 * (1.86588168144226074f * (z_11 * _S2372) + -2.28522896766662598f * (y_14 * _S2370 + x_36 * _S2371) + 0.94617468118667603f * (_S2379.x + _S2379.y + _S2379.z));
    float3  _S2391 = make_float3 (0.48860251903533936f) * _S2352.differential_0;
    float3  _S2392 = - _S2391;
    float3  _S2393 = _S2331 * _S2392;
    float3  _S2394 = (*sh_coeffs_11)[int(3)] * _S2392;
    float3  _S2395 = _S2333 * _S2391;
    float3  _S2396 = (*sh_coeffs_11)[int(2)] * _S2391;
    float3  _S2397 = _S2335 * _S2391;
    float3  _S2398 = (*sh_coeffs_11)[int(1)] * _S2391;
    float _S2399 = (_S2342 * _S2372 + 1.44530570507049561f * (fS1_11 * _S2368 + fC1_11 * _S2369) + -1.09254848957061768f * (y_14 * _S2384 + x_36 * _S2385) + _S2390 + _S2390 + _S2396.x + _S2396.y + _S2396.z) / _S2332;
    float _S2400 = _S2330 * _S2399;
    float _S2401 = (fTmp0C_11 * _S2370 + fC1_11 * s_diff_fS2_T_1 + fS1_11 * _S2373 + fTmp0B_11 * _S2384 + _S2336 * _S2386 + _S2388 + _S2388 + - (_S2398.x + _S2398.y + _S2398.z)) / _S2332;
    float _S2402 = _S2330 * _S2401;
    float _S2403 = (fTmp0C_11 * _S2371 + fS1_11 * s_diff_fS2_T_1 + fC1_11 * s_diff_fC2_T_1 + fTmp0B_11 * _S2385 + 2.0f * (y_14 * _S2386) + _S2389 + _S2389 + _S2394.x + _S2394.y + _S2394.z) / _S2332;
    float _S2404 = _S2330 * _S2403;
    float _S2405 = _S2328 * - _S2399 + _S2327 * - _S2401 + _S2326 * - _S2403;
    DiffPair_float_0 _S2406;
    (&_S2406)->primal_0 = _S2329;
    (&_S2406)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2406, _S2405);
    float _S2407 = _S2328 * _S2406.differential_0;
    float _S2408 = _S2327 * _S2406.differential_0;
    float _S2409 = _S2326 * _S2406.differential_0;
    float3  _S2410 = make_float3 (0.282094806432724f) * _S2352.differential_0;
    float3  _S2411 = make_float3 (_S2404 + _S2409 + _S2409, _S2402 + _S2408 + _S2408, _S2400 + _S2407 + _S2407);
    float3  _S2412 = - - _S2411;
    Matrix<float, 3, 3>  _S2413 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2414;
    (&_S2414)->primal_0 = _S2296;
    (&_S2414)->differential_0 = _S2413;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2415;
    (&_S2415)->primal_0 = t_14;
    (&_S2415)->differential_0 = _S2351;
    s_bwd_prop_mul_1(&_S2414, &_S2415, _S2412);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2416 = _S2414;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2417 = _S2415;
    float2  _S2418 = _S2299;
    *&((&_S2418)->y) = v_conic_1.z;
    float2  _S2419 = _S2299;
    *&((&_S2419)->y) = v_conic_1.y;
    *&((&_S2419)->x) = v_conic_1.x;
    DiffPair_float_0 _S2420;
    (&_S2420)->primal_0 = _S2324;
    (&_S2420)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2420, 0.0f);
    DiffPair_float_0 _S2421;
    (&_S2421)->primal_0 = _S2323;
    (&_S2421)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2421, 0.0f);
    DiffPair_float_0 _S2422;
    (&_S2422)->primal_0 = 3.32999992370605469f;
    (&_S2422)->differential_0 = 0.0f;
    DiffPair_float_0 _S2423;
    (&_S2423)->primal_0 = _S2322;
    (&_S2423)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2422, &_S2423, 0.0f);
    DiffPair_float_0 _S2424;
    (&_S2424)->primal_0 = _S2321;
    (&_S2424)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2424, _S2423.differential_0);
    float _S2425 = 2.0f * _S2424.differential_0;
    DiffPair_float_0 _S2426;
    (&_S2426)->primal_0 = _S2320;
    (&_S2426)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2426, _S2425);
    float2  _S2427 = make_float2 (_S2421.differential_0, 0.0f);
    float _S2428 = v_opacity_1 + 254.9999847412109375f * _S2426.differential_0;
    FixedArray<float3 , 16>  _S2429;
    _S2429[int(0)] = _S2351;
    _S2429[int(1)] = _S2351;
    _S2429[int(2)] = _S2351;
    _S2429[int(3)] = _S2351;
    _S2429[int(4)] = _S2351;
    _S2429[int(5)] = _S2351;
    _S2429[int(6)] = _S2351;
    _S2429[int(7)] = _S2351;
    _S2429[int(8)] = _S2351;
    _S2429[int(9)] = _S2351;
    _S2429[int(10)] = _S2351;
    _S2429[int(11)] = _S2351;
    _S2429[int(12)] = _S2351;
    _S2429[int(13)] = _S2351;
    _S2429[int(14)] = _S2351;
    _S2429[int(15)] = _S2351;
    _S2429[int(7)] = _S2376;
    _S2429[int(0)] = _S2410;
    _S2429[int(1)] = _S2397;
    _S2429[int(2)] = _S2395;
    _S2429[int(3)] = _S2393;
    _S2429[int(4)] = _S2382;
    _S2429[int(5)] = _S2380;
    _S2429[int(6)] = _S2378;
    _S2429[int(15)] = _S2354;
    _S2429[int(8)] = _S2374;
    _S2429[int(9)] = _S2366;
    _S2429[int(10)] = _S2364;
    _S2429[int(11)] = _S2362;
    _S2429[int(12)] = _S2360;
    _S2429[int(13)] = _S2358;
    _S2429[int(14)] = _S2356;
    float3  _S2430 = _S2429[int(0)];
    float3  _S2431 = _S2429[int(1)];
    float3  _S2432 = _S2429[int(2)];
    float3  _S2433 = _S2429[int(3)];
    float3  _S2434 = _S2429[int(4)];
    float3  _S2435 = _S2429[int(5)];
    float3  _S2436 = _S2429[int(6)];
    float3  _S2437 = _S2429[int(7)];
    float3  _S2438 = _S2429[int(8)];
    float3  _S2439 = _S2429[int(9)];
    float3  _S2440 = _S2429[int(10)];
    float3  _S2441 = _S2429[int(11)];
    float3  _S2442 = _S2429[int(12)];
    float3  _S2443 = _S2429[int(13)];
    float3  _S2444 = _S2429[int(14)];
    float3  _S2445 = _S2429[int(15)];
    Matrix<float, 2, 2>  _S2446 = _S2284;
    _S2446[int(1)] = _S2418;
    _S2446[int(0)] = _S2419;
    Matrix<float, 2, 2>  _S2447 = _S2446;
    float2  _S2448 = make_float2 (0.0f, _S2420.differential_0);
    float _S2449;
    if(antialiased_11)
    {
        float _S2450 = _S2317 * _S2428;
        _S2319 = _S2312 * _S2428;
        _S2449 = _S2450;
    }
    else
    {
        _S2319 = _S2428;
        _S2449 = 0.0f;
    }
    float _S2451 = - (_S2319 / _S2318);
    DiffPair_float_0 _S2452;
    (&_S2452)->primal_0 = _S2315;
    (&_S2452)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2452, _S2451);
    float _S2453 = - _S2452.differential_0;
    float _S2454 = invdet_8 * _S2447.rows[int(1)].y;
    float _S2455 = - (invdet_8 * _S2447.rows[int(1)].x);
    float _S2456 = - (invdet_8 * _S2447.rows[int(0)].y);
    float _S2457 = invdet_8 * _S2447.rows[int(0)].x;
    float _S2458 = - ((_S2304 * _S2447.rows[int(1)].y + _S2314 * _S2447.rows[int(1)].x + _S2313 * _S2447.rows[int(0)].y + _S2306 * _S2447.rows[int(0)].x) / _S2310);
    DiffPair_float_0 _S2459;
    (&_S2459)->primal_0 = _S2311;
    (&_S2459)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2459, _S2449);
    DiffPair_float_0 _S2460;
    (&_S2460)->primal_0 = 0.0f;
    (&_S2460)->differential_0 = 0.0f;
    DiffPair_float_0 _S2461;
    (&_S2461)->primal_0 = _S2309;
    (&_S2461)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2460, &_S2461, _S2459.differential_0);
    float _S2462 = _S2461.differential_0 / _S2310;
    float s_diff_det_orig_T_1 = det_blur_7 * _S2462;
    float _S2463 = _S2458 + det_orig_12 * - _S2462;
    float _S2464 = - _S2463;
    float _S2465 = _S2304 * _S2463;
    float _S2466 = _S2306 * _S2463;
    Matrix<float, 2, 2>  _S2467 = _S2284;
    _S2467[int(1)] = _S2448;
    _S2467[int(0)] = _S2427;
    _S2305 = _S2467;
    *&(((&_S2305)->rows + (int(1)))->y) = 0.0f;
    float _S2468 = _S2457 + _S2465 + _S2467.rows[int(1)].y;
    *&(((&_S2305)->rows + (int(0)))->x) = 0.0f;
    float _S2469 = _S2454 + _S2466 + _S2467.rows[int(0)].x;
    float _S2470 = _S2464 + - s_diff_det_orig_T_1;
    float _S2471 = _S2455 + _S2302._S1599.rows[int(0)].y * _S2470;
    float _S2472 = _S2456 + _S2302._S1599.rows[int(1)].x * _S2470;
    float _S2473 = _S2302._S1599.rows[int(1)].y * s_diff_det_orig_T_1;
    float _S2474 = _S2468 + _S2302._S1599.rows[int(0)].x * s_diff_det_orig_T_1;
    float2  _S2475 = _S2299;
    *&((&_S2475)->x) = _S2471;
    *&((&_S2475)->y) = _S2474;
    float _S2476 = _S2469 + _S2473;
    float2  _S2477 = _S2299;
    *&((&_S2477)->y) = _S2472;
    *&((&_S2477)->x) = _S2476;
    Matrix<float, 2, 2>  _S2478 = _S2284;
    _S2478[int(1)] = _S2475;
    _S2478[int(0)] = _S2477;
    Matrix<float, 2, 2>  _S2479 = _S2305 + _S2478;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2480;
    (&_S2480)->primal_0 = mean_c_11;
    (&_S2480)->differential_0 = _S2351;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2481;
    (&_S2481)->primal_0 = _S2297;
    (&_S2481)->differential_0 = _S2413;
    float4  _S2482 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S2483;
    (&_S2483)->primal_0 = intrins_15;
    (&_S2483)->differential_0 = _S2482;
    FixedArray<float, 10>  _S2484 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C10x3E_0 _S2485;
    (&_S2485)->primal_0 = *dist_coeffs_26;
    (&_S2485)->differential_0 = _S2484;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S2486 = _S2302._S1600;
    s_bwd_prop_fisheye_proj_3dgs_0(&_S2480, &_S2481, &_S2483, &_S2485, _S2479, v_mean2d_1, &_S2486);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2487;
    (&_S2487)->primal_0 = _S2295;
    (&_S2487)->differential_0 = _S2413;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2488;
    (&_S2488)->primal_0 = _S2296;
    (&_S2488)->differential_0 = _S2413;
    s_bwd_prop_mul_4(&_S2487, &_S2488, _S2481.differential_0);
    Matrix<float, 3, 3>  _S2489 = transpose_0(_S2488.differential_0 + _S2416.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2490;
    (&_S2490)->primal_0 = R_18;
    (&_S2490)->differential_0 = _S2413;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2491;
    (&_S2491)->primal_0 = _S2294;
    (&_S2491)->differential_0 = _S2413;
    s_bwd_prop_mul_4(&_S2490, &_S2491, _S2487.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2492;
    (&_S2492)->primal_0 = _S2292;
    (&_S2492)->differential_0 = _S2413;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2493;
    (&_S2493)->primal_0 = _S2293;
    (&_S2493)->differential_0 = _S2413;
    s_bwd_prop_mul_4(&_S2492, &_S2493, _S2491.differential_0);
    Matrix<float, 3, 3>  _S2494 = _S2492.differential_0 + transpose_0(_S2493.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2495;
    (&_S2495)->primal_0 = _S2291;
    (&_S2495)->differential_0 = _S2413;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2496;
    (&_S2496)->primal_0 = S_1;
    (&_S2496)->differential_0 = _S2413;
    s_bwd_prop_mul_4(&_S2495, &_S2496, _S2494);
    Matrix<float, 3, 3>  _S2497 = transpose_0(_S2495.differential_0);
    float _S2498 = 2.0f * - _S2497.rows[int(2)].z;
    float _S2499 = 2.0f * _S2497.rows[int(2)].y;
    float _S2500 = 2.0f * _S2497.rows[int(2)].x;
    float _S2501 = 2.0f * _S2497.rows[int(1)].z;
    float _S2502 = 2.0f * - _S2497.rows[int(1)].y;
    float _S2503 = 2.0f * _S2497.rows[int(1)].x;
    float _S2504 = 2.0f * _S2497.rows[int(0)].z;
    float _S2505 = 2.0f * _S2497.rows[int(0)].y;
    float _S2506 = 2.0f * - _S2497.rows[int(0)].x;
    float _S2507 = - _S2503 + _S2505;
    float _S2508 = _S2500 + - _S2504;
    float _S2509 = - _S2499 + _S2501;
    float _S2510 = _S2499 + _S2501;
    float _S2511 = _S2500 + _S2504;
    float _S2512 = _S2503 + _S2505;
    float _S2513 = quat_15.w * (_S2502 + _S2506);
    float _S2514 = quat_15.z * (_S2498 + _S2506);
    float _S2515 = quat_15.y * (_S2498 + _S2502);
    float _S2516 = quat_15.x * _S2507 + quat_15.z * _S2510 + quat_15.y * _S2511 + _S2513 + _S2513;
    float _S2517 = quat_15.x * _S2508 + quat_15.w * _S2510 + quat_15.y * _S2512 + _S2514 + _S2514;
    float _S2518 = quat_15.x * _S2509 + quat_15.w * _S2511 + quat_15.z * _S2512 + _S2515 + _S2515;
    float _S2519 = quat_15.w * _S2507 + quat_15.z * _S2508 + quat_15.y * _S2509;
    float3  _S2520 = _S2351;
    *&((&_S2520)->z) = _S2496.differential_0.rows[int(2)].z;
    *&((&_S2520)->y) = _S2496.differential_0.rows[int(1)].y;
    *&((&_S2520)->x) = _S2496.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2521;
    (&_S2521)->primal_0 = scale_14;
    (&_S2521)->differential_0 = _S2351;
    s_bwd_prop_exp_1(&_S2521, _S2520);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2522 = _S2521;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2523;
    (&_S2523)->primal_0 = mean_c_11;
    (&_S2523)->differential_0 = _S2351;
    s_bwd_length_impl_1(&_S2523, v_depth_1);
    float3  _S2524 = _S2480.differential_0 + _S2523.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2525;
    (&_S2525)->primal_0 = R_18;
    (&_S2525)->differential_0 = _S2413;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2526;
    (&_S2526)->primal_0 = mean_12;
    (&_S2526)->differential_0 = _S2351;
    s_bwd_prop_mul_1(&_S2525, &_S2526, _S2524);
    float3  _S2527 = _S2524 + _S2417.differential_0;
    Matrix<float, 3, 3>  _S2528 = _S2489 + _S2490.differential_0 + _S2525.differential_0;
    float4  _S2529 = _S2482;
    *&((&_S2529)->w) = _S2516;
    *&((&_S2529)->z) = _S2517;
    *&((&_S2529)->y) = _S2518;
    *&((&_S2529)->x) = _S2519;
    float4  _S2530 = _S2529;
    float3  _S2531 = _S2526.differential_0 + _S2411;
    *v_mean_1 = _S2531;
    *v_quat_1 = _S2530;
    *v_scale_1 = _S2522.differential_0;
    *v_in_opacity_1 = _S2453;
    (*v_sh_coeffs_1)[int(0)] = _S2430;
    (*v_sh_coeffs_1)[int(1)] = _S2431;
    (*v_sh_coeffs_1)[int(2)] = _S2432;
    (*v_sh_coeffs_1)[int(3)] = _S2433;
    (*v_sh_coeffs_1)[int(4)] = _S2434;
    (*v_sh_coeffs_1)[int(5)] = _S2435;
    (*v_sh_coeffs_1)[int(6)] = _S2436;
    (*v_sh_coeffs_1)[int(7)] = _S2437;
    (*v_sh_coeffs_1)[int(8)] = _S2438;
    (*v_sh_coeffs_1)[int(9)] = _S2439;
    (*v_sh_coeffs_1)[int(10)] = _S2440;
    (*v_sh_coeffs_1)[int(11)] = _S2441;
    (*v_sh_coeffs_1)[int(12)] = _S2442;
    (*v_sh_coeffs_1)[int(13)] = _S2443;
    (*v_sh_coeffs_1)[int(14)] = _S2444;
    (*v_sh_coeffs_1)[int(15)] = _S2445;
    *v_R_3 = _S2528;
    *v_t_2 = _S2527;
    return;
}

inline __device__ void projection_3dgs_ortho_vjp(bool antialiased_12, float3  mean_13, float4  quat_16, float3  scale_15, float in_opacity_12, FixedArray<float3 , 16>  * sh_coeffs_12, Matrix<float, 3, 3>  R_19, float3  t_15, float fx_24, float fy_24, float cx_19, float cy_19, FixedArray<float, 10>  * dist_coeffs_27, uint image_width_12, uint image_height_12, float2  v_mean2d_2, float v_depth_2, float3  v_conic_2, float v_opacity_2, float3  v_rgb_2, float3  * v_mean_2, float4  * v_quat_2, float3  * v_scale_2, float * v_in_opacity_2, FixedArray<float3 , 16>  * v_sh_coeffs_2, Matrix<float, 3, 3>  * v_R_4, float3  * v_t_3)
{
    float3  mean_c_12 = s_primal_ctx_mul_0(R_19, mean_13) + t_15;
    float3  _S2532 = s_primal_ctx_exp_0(scale_15);
    float _S2533 = quat_16.y;
    float x2_16 = _S2533 * _S2533;
    float y2_16 = quat_16.z * quat_16.z;
    float z2_28 = quat_16.w * quat_16.w;
    float xy_16 = quat_16.y * quat_16.z;
    float xz_16 = quat_16.y * quat_16.w;
    float yz_16 = quat_16.z * quat_16.w;
    float wx_16 = quat_16.x * quat_16.y;
    float wy_16 = quat_16.x * quat_16.z;
    float wz_16 = quat_16.x * quat_16.w;
    Matrix<float, 3, 3>  _S2534 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_16 + z2_28), 2.0f * (xy_16 + wz_16), 2.0f * (xz_16 - wy_16), 2.0f * (xy_16 - wz_16), 1.0f - 2.0f * (x2_16 + z2_28), 2.0f * (yz_16 + wx_16), 2.0f * (xz_16 + wy_16), 2.0f * (yz_16 - wx_16), 1.0f - 2.0f * (x2_16 + y2_16)));
    Matrix<float, 3, 3>  S_2 = makeMatrix<float, 3, 3> (_S2532.x, 0.0f, 0.0f, 0.0f, _S2532.y, 0.0f, 0.0f, 0.0f, _S2532.z);
    Matrix<float, 3, 3>  _S2535 = s_primal_ctx_mul_1(_S2534, S_2);
    Matrix<float, 3, 3>  _S2536 = transpose_0(_S2535);
    Matrix<float, 3, 3>  _S2537 = s_primal_ctx_mul_1(_S2535, _S2536);
    Matrix<float, 3, 3>  _S2538 = s_primal_ctx_mul_1(R_19, _S2537);
    Matrix<float, 3, 3>  _S2539 = transpose_0(R_19);
    Matrix<float, 3, 3>  _S2540 = s_primal_ctx_mul_1(_S2538, _S2539);
    Matrix<float, 2, 3>  J_12 = makeMatrix<float, 2, 3> (fx_24, 0.0f, 0.0f, 0.0f, fy_24, 0.0f);
    Matrix<float, 2, 3>  _S2541 = s_primal_ctx_mul_2(J_12, _S2540);
    Matrix<float, 3, 2>  _S2542 = transpose_1(J_12);
    Matrix<float, 2, 2>  _S2543 = s_primal_ctx_mul_3(_S2541, _S2542);
    float _S2544 = _S2543.rows[int(0)].y * _S2543.rows[int(1)].x;
    float det_orig_13 = _S2543.rows[int(0)].x * _S2543.rows[int(1)].y - _S2544;
    float _S2545 = _S2543.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2546 = _S2543;
    *&(((&_S2546)->rows + (int(0)))->x) = _S2545;
    float _S2547 = _S2543.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2546)->rows + (int(1)))->y) = _S2547;
    Matrix<float, 2, 2>  _S2548 = _S2546;
    Matrix<float, 2, 2>  _S2549 = _S2546;
    float det_blur_8 = _S2545 * _S2547 - _S2544;
    float _S2550 = det_orig_13 / det_blur_8;
    float _S2551 = det_blur_8 * det_blur_8;
    float _S2552 = s_primal_ctx_max_0(0.0f, _S2550);
    float _S2553 = s_primal_ctx_sqrt_0(_S2552);
    float invdet_9 = 1.0f / det_blur_8;
    float _S2554 = - _S2543.rows[int(0)].y;
    float _S2555 = - _S2543.rows[int(1)].x;
    float _S2556 = - in_opacity_12;
    float _S2557 = 1.0f + s_primal_ctx_exp_1(_S2556);
    float _S2558 = 1.0f / _S2557;
    float _S2559 = _S2557 * _S2557;
    float _S2560;
    if(antialiased_12)
    {
        _S2560 = _S2558 * _S2553;
    }
    else
    {
        _S2560 = _S2558;
    }
    float _S2561 = _S2560 / 0.00392156885936856f;
    float _S2562 = 2.0f * s_primal_ctx_log_0(_S2561);
    float _S2563 = s_primal_ctx_sqrt_0(_S2562);
    float _S2564 = _S2548.rows[int(0)].x;
    float _S2565 = _S2549.rows[int(1)].y;
    float3  _S2566 = mean_13 - - s_primal_ctx_mul_0(_S2539, t_15);
    float _S2567 = _S2566.x;
    float _S2568 = _S2566.y;
    float _S2569 = _S2566.z;
    float _S2570 = _S2567 * _S2567 + _S2568 * _S2568 + _S2569 * _S2569;
    float _S2571 = s_primal_ctx_sqrt_0(_S2570);
    float x_37 = _S2567 / _S2571;
    float3  _S2572 = make_float3 (x_37);
    float _S2573 = _S2571 * _S2571;
    float y_15 = _S2568 / _S2571;
    float z_12 = _S2569 / _S2571;
    float3  _S2574 = make_float3 (z_12);
    float _S2575 = - y_15;
    float3  _S2576 = make_float3 (_S2575);
    float z2_29 = z_12 * z_12;
    float fTmp0B_12 = -1.09254848957061768f * z_12;
    float fC1_12 = x_37 * x_37 - y_15 * y_15;
    float _S2577 = 2.0f * x_37;
    float fS1_12 = _S2577 * y_15;
    float pSH6_2 = 0.94617468118667603f * z2_29 - 0.31539157032966614f;
    float3  _S2578 = make_float3 (pSH6_2);
    float pSH7_2 = fTmp0B_12 * x_37;
    float3  _S2579 = make_float3 (pSH7_2);
    float pSH5_2 = fTmp0B_12 * y_15;
    float3  _S2580 = make_float3 (pSH5_2);
    float pSH8_2 = 0.54627424478530884f * fC1_12;
    float3  _S2581 = make_float3 (pSH8_2);
    float pSH4_2 = 0.54627424478530884f * fS1_12;
    float3  _S2582 = make_float3 (pSH4_2);
    float fTmp0C_12 = -2.28522896766662598f * z2_29 + 0.4570457935333252f;
    float fTmp1B_12 = 1.44530570507049561f * z_12;
    float _S2583 = 1.86588168144226074f * z2_29 - 1.11952900886535645f;
    float pSH12_2 = z_12 * _S2583;
    float3  _S2584 = make_float3 (pSH12_2);
    float pSH13_2 = fTmp0C_12 * x_37;
    float3  _S2585 = make_float3 (pSH13_2);
    float pSH11_2 = fTmp0C_12 * y_15;
    float3  _S2586 = make_float3 (pSH11_2);
    float pSH14_2 = fTmp1B_12 * fC1_12;
    float3  _S2587 = make_float3 (pSH14_2);
    float pSH10_2 = fTmp1B_12 * fS1_12;
    float3  _S2588 = make_float3 (pSH10_2);
    float pSH15_2 = -0.59004360437393188f * (x_37 * fC1_12 - y_15 * fS1_12);
    float3  _S2589 = make_float3 (pSH15_2);
    float pSH9_2 = -0.59004360437393188f * (x_37 * fS1_12 + y_15 * fC1_12);
    float3  _S2590 = make_float3 (pSH9_2);
    float3  _S2591 = make_float3 (0.0f);
    float3  _S2592 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2593;
    (&_S2593)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_12)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2575) * (*sh_coeffs_12)[int(1)] + make_float3 (z_12) * (*sh_coeffs_12)[int(2)] - make_float3 (x_37) * (*sh_coeffs_12)[int(3)]) + (make_float3 (pSH4_2) * (*sh_coeffs_12)[int(4)] + make_float3 (pSH5_2) * (*sh_coeffs_12)[int(5)] + make_float3 (pSH6_2) * (*sh_coeffs_12)[int(6)] + make_float3 (pSH7_2) * (*sh_coeffs_12)[int(7)] + make_float3 (pSH8_2) * (*sh_coeffs_12)[int(8)]) + (make_float3 (pSH9_2) * (*sh_coeffs_12)[int(9)] + make_float3 (pSH10_2) * (*sh_coeffs_12)[int(10)] + make_float3 (pSH11_2) * (*sh_coeffs_12)[int(11)] + make_float3 (pSH12_2) * (*sh_coeffs_12)[int(12)] + make_float3 (pSH13_2) * (*sh_coeffs_12)[int(13)] + make_float3 (pSH14_2) * (*sh_coeffs_12)[int(14)] + make_float3 (pSH15_2) * (*sh_coeffs_12)[int(15)]) + make_float3 (0.5f);
    (&_S2593)->differential_0 = _S2592;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2594;
    (&_S2594)->primal_0 = _S2591;
    (&_S2594)->differential_0 = _S2592;
    s_bwd_prop_max_0(&_S2593, &_S2594, v_rgb_2);
    float3  _S2595 = _S2589 * _S2593.differential_0;
    float3  _S2596 = (*sh_coeffs_12)[int(15)] * _S2593.differential_0;
    float3  _S2597 = _S2587 * _S2593.differential_0;
    float3  _S2598 = (*sh_coeffs_12)[int(14)] * _S2593.differential_0;
    float3  _S2599 = _S2585 * _S2593.differential_0;
    float3  _S2600 = (*sh_coeffs_12)[int(13)] * _S2593.differential_0;
    float3  _S2601 = _S2584 * _S2593.differential_0;
    float3  _S2602 = (*sh_coeffs_12)[int(12)] * _S2593.differential_0;
    float3  _S2603 = _S2586 * _S2593.differential_0;
    float3  _S2604 = (*sh_coeffs_12)[int(11)] * _S2593.differential_0;
    float3  _S2605 = _S2588 * _S2593.differential_0;
    float3  _S2606 = (*sh_coeffs_12)[int(10)] * _S2593.differential_0;
    float3  _S2607 = _S2590 * _S2593.differential_0;
    float3  _S2608 = (*sh_coeffs_12)[int(9)] * _S2593.differential_0;
    float s_diff_fS2_T_2 = -0.59004360437393188f * (_S2608.x + _S2608.y + _S2608.z);
    float s_diff_fC2_T_2 = -0.59004360437393188f * (_S2596.x + _S2596.y + _S2596.z);
    float _S2609 = _S2606.x + _S2606.y + _S2606.z;
    float _S2610 = _S2598.x + _S2598.y + _S2598.z;
    float _S2611 = _S2604.x + _S2604.y + _S2604.z;
    float _S2612 = _S2600.x + _S2600.y + _S2600.z;
    float _S2613 = _S2602.x + _S2602.y + _S2602.z;
    float _S2614 = - s_diff_fC2_T_2;
    float3  _S2615 = _S2581 * _S2593.differential_0;
    float3  _S2616 = (*sh_coeffs_12)[int(8)] * _S2593.differential_0;
    float3  _S2617 = _S2579 * _S2593.differential_0;
    float3  _S2618 = (*sh_coeffs_12)[int(7)] * _S2593.differential_0;
    float3  _S2619 = _S2578 * _S2593.differential_0;
    float3  _S2620 = (*sh_coeffs_12)[int(6)] * _S2593.differential_0;
    float3  _S2621 = _S2580 * _S2593.differential_0;
    float3  _S2622 = (*sh_coeffs_12)[int(5)] * _S2593.differential_0;
    float3  _S2623 = _S2582 * _S2593.differential_0;
    float3  _S2624 = (*sh_coeffs_12)[int(4)] * _S2593.differential_0;
    float _S2625 = _S2622.x + _S2622.y + _S2622.z;
    float _S2626 = _S2618.x + _S2618.y + _S2618.z;
    float _S2627 = fTmp1B_12 * _S2609 + x_37 * s_diff_fS2_T_2 + y_15 * _S2614 + 0.54627424478530884f * (_S2624.x + _S2624.y + _S2624.z);
    float _S2628 = fTmp1B_12 * _S2610 + y_15 * s_diff_fS2_T_2 + x_37 * s_diff_fC2_T_2 + 0.54627424478530884f * (_S2616.x + _S2616.y + _S2616.z);
    float _S2629 = y_15 * - _S2628;
    float _S2630 = x_37 * _S2628;
    float _S2631 = z_12 * (1.86588168144226074f * (z_12 * _S2613) + -2.28522896766662598f * (y_15 * _S2611 + x_37 * _S2612) + 0.94617468118667603f * (_S2620.x + _S2620.y + _S2620.z));
    float3  _S2632 = make_float3 (0.48860251903533936f) * _S2593.differential_0;
    float3  _S2633 = - _S2632;
    float3  _S2634 = _S2572 * _S2633;
    float3  _S2635 = (*sh_coeffs_12)[int(3)] * _S2633;
    float3  _S2636 = _S2574 * _S2632;
    float3  _S2637 = (*sh_coeffs_12)[int(2)] * _S2632;
    float3  _S2638 = _S2576 * _S2632;
    float3  _S2639 = (*sh_coeffs_12)[int(1)] * _S2632;
    float _S2640 = (_S2583 * _S2613 + 1.44530570507049561f * (fS1_12 * _S2609 + fC1_12 * _S2610) + -1.09254848957061768f * (y_15 * _S2625 + x_37 * _S2626) + _S2631 + _S2631 + _S2637.x + _S2637.y + _S2637.z) / _S2573;
    float _S2641 = _S2571 * _S2640;
    float _S2642 = (fTmp0C_12 * _S2611 + fC1_12 * s_diff_fS2_T_2 + fS1_12 * _S2614 + fTmp0B_12 * _S2625 + _S2577 * _S2627 + _S2629 + _S2629 + - (_S2639.x + _S2639.y + _S2639.z)) / _S2573;
    float _S2643 = _S2571 * _S2642;
    float _S2644 = (fTmp0C_12 * _S2612 + fS1_12 * s_diff_fS2_T_2 + fC1_12 * s_diff_fC2_T_2 + fTmp0B_12 * _S2626 + 2.0f * (y_15 * _S2627) + _S2630 + _S2630 + _S2635.x + _S2635.y + _S2635.z) / _S2573;
    float _S2645 = _S2571 * _S2644;
    float _S2646 = _S2569 * - _S2640 + _S2568 * - _S2642 + _S2567 * - _S2644;
    DiffPair_float_0 _S2647;
    (&_S2647)->primal_0 = _S2570;
    (&_S2647)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2647, _S2646);
    float _S2648 = _S2569 * _S2647.differential_0;
    float _S2649 = _S2568 * _S2647.differential_0;
    float _S2650 = _S2567 * _S2647.differential_0;
    float3  _S2651 = make_float3 (0.282094806432724f) * _S2593.differential_0;
    float3  _S2652 = make_float3 (_S2645 + _S2650 + _S2650, _S2643 + _S2649 + _S2649, _S2641 + _S2648 + _S2648);
    float3  _S2653 = - - _S2652;
    Matrix<float, 3, 3>  _S2654 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2655;
    (&_S2655)->primal_0 = _S2539;
    (&_S2655)->differential_0 = _S2654;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2656;
    (&_S2656)->primal_0 = t_15;
    (&_S2656)->differential_0 = _S2592;
    s_bwd_prop_mul_1(&_S2655, &_S2656, _S2653);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2657 = _S2655;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2658 = _S2656;
    float2  _S2659 = make_float2 (0.0f);
    float2  _S2660 = _S2659;
    *&((&_S2660)->y) = v_conic_2.z;
    float2  _S2661 = _S2659;
    *&((&_S2661)->y) = v_conic_2.y;
    *&((&_S2661)->x) = v_conic_2.x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2662;
    (&_S2662)->primal_0 = mean_c_12;
    (&_S2662)->differential_0 = _S2592;
    s_bwd_length_impl_1(&_S2662, v_depth_2);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2663 = _S2662;
    DiffPair_float_0 _S2664;
    (&_S2664)->primal_0 = _S2565;
    (&_S2664)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2664, 0.0f);
    DiffPair_float_0 _S2665;
    (&_S2665)->primal_0 = _S2564;
    (&_S2665)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2665, 0.0f);
    DiffPair_float_0 _S2666;
    (&_S2666)->primal_0 = 3.32999992370605469f;
    (&_S2666)->differential_0 = 0.0f;
    DiffPair_float_0 _S2667;
    (&_S2667)->primal_0 = _S2563;
    (&_S2667)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2666, &_S2667, 0.0f);
    DiffPair_float_0 _S2668;
    (&_S2668)->primal_0 = _S2562;
    (&_S2668)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2668, _S2667.differential_0);
    float _S2669 = 2.0f * _S2668.differential_0;
    DiffPair_float_0 _S2670;
    (&_S2670)->primal_0 = _S2561;
    (&_S2670)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2670, _S2669);
    float _S2671 = v_opacity_2 + 254.9999847412109375f * _S2670.differential_0;
    Matrix<float, 2, 2>  _S2672 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S2673 = _S2672;
    _S2673[int(1)] = _S2660;
    _S2673[int(0)] = _S2661;
    Matrix<float, 2, 2>  _S2674 = _S2673;
    FixedArray<float3 , 16>  _S2675;
    _S2675[int(0)] = _S2592;
    _S2675[int(1)] = _S2592;
    _S2675[int(2)] = _S2592;
    _S2675[int(3)] = _S2592;
    _S2675[int(4)] = _S2592;
    _S2675[int(5)] = _S2592;
    _S2675[int(6)] = _S2592;
    _S2675[int(7)] = _S2592;
    _S2675[int(8)] = _S2592;
    _S2675[int(9)] = _S2592;
    _S2675[int(10)] = _S2592;
    _S2675[int(11)] = _S2592;
    _S2675[int(12)] = _S2592;
    _S2675[int(13)] = _S2592;
    _S2675[int(14)] = _S2592;
    _S2675[int(15)] = _S2592;
    _S2675[int(7)] = _S2617;
    _S2675[int(0)] = _S2651;
    _S2675[int(1)] = _S2638;
    _S2675[int(2)] = _S2636;
    _S2675[int(3)] = _S2634;
    _S2675[int(4)] = _S2623;
    _S2675[int(5)] = _S2621;
    _S2675[int(6)] = _S2619;
    _S2675[int(15)] = _S2595;
    _S2675[int(8)] = _S2615;
    _S2675[int(9)] = _S2607;
    _S2675[int(10)] = _S2605;
    _S2675[int(11)] = _S2603;
    _S2675[int(12)] = _S2601;
    _S2675[int(13)] = _S2599;
    _S2675[int(14)] = _S2597;
    float3  _S2676 = _S2675[int(0)];
    float3  _S2677 = _S2675[int(1)];
    float3  _S2678 = _S2675[int(2)];
    float3  _S2679 = _S2675[int(3)];
    float3  _S2680 = _S2675[int(4)];
    float3  _S2681 = _S2675[int(5)];
    float3  _S2682 = _S2675[int(6)];
    float3  _S2683 = _S2675[int(7)];
    float3  _S2684 = _S2675[int(8)];
    float3  _S2685 = _S2675[int(9)];
    float3  _S2686 = _S2675[int(10)];
    float3  _S2687 = _S2675[int(11)];
    float3  _S2688 = _S2675[int(12)];
    float3  _S2689 = _S2675[int(13)];
    float3  _S2690 = _S2675[int(14)];
    float3  _S2691 = _S2675[int(15)];
    float2  _S2692 = make_float2 (0.0f, _S2664.differential_0);
    float2  _S2693 = make_float2 (_S2665.differential_0, 0.0f);
    float _S2694;
    if(antialiased_12)
    {
        float _S2695 = _S2558 * _S2671;
        _S2560 = _S2553 * _S2671;
        _S2694 = _S2695;
    }
    else
    {
        _S2560 = _S2671;
        _S2694 = 0.0f;
    }
    float _S2696 = - (_S2560 / _S2559);
    DiffPair_float_0 _S2697;
    (&_S2697)->primal_0 = _S2556;
    (&_S2697)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2697, _S2696);
    float _S2698 = - _S2697.differential_0;
    float _S2699 = invdet_9 * _S2674.rows[int(1)].y;
    float _S2700 = - (invdet_9 * _S2674.rows[int(1)].x);
    float _S2701 = - (invdet_9 * _S2674.rows[int(0)].y);
    float _S2702 = invdet_9 * _S2674.rows[int(0)].x;
    float _S2703 = - ((_S2545 * _S2674.rows[int(1)].y + _S2555 * _S2674.rows[int(1)].x + _S2554 * _S2674.rows[int(0)].y + _S2547 * _S2674.rows[int(0)].x) / _S2551);
    DiffPair_float_0 _S2704;
    (&_S2704)->primal_0 = _S2552;
    (&_S2704)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2704, _S2694);
    DiffPair_float_0 _S2705;
    (&_S2705)->primal_0 = 0.0f;
    (&_S2705)->differential_0 = 0.0f;
    DiffPair_float_0 _S2706;
    (&_S2706)->primal_0 = _S2550;
    (&_S2706)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2705, &_S2706, _S2704.differential_0);
    float _S2707 = _S2706.differential_0 / _S2551;
    float s_diff_det_orig_T_2 = det_blur_8 * _S2707;
    float _S2708 = _S2703 + det_orig_13 * - _S2707;
    float _S2709 = - _S2708;
    float _S2710 = _S2545 * _S2708;
    float _S2711 = _S2547 * _S2708;
    Matrix<float, 2, 2>  _S2712 = _S2672;
    _S2712[int(1)] = _S2692;
    _S2712[int(0)] = _S2693;
    _S2546 = _S2712;
    *&(((&_S2546)->rows + (int(1)))->y) = 0.0f;
    float _S2713 = _S2702 + _S2710 + _S2712.rows[int(1)].y;
    *&(((&_S2546)->rows + (int(0)))->x) = 0.0f;
    float _S2714 = _S2699 + _S2711 + _S2712.rows[int(0)].x;
    float _S2715 = _S2709 + - s_diff_det_orig_T_2;
    float _S2716 = _S2700 + _S2543.rows[int(0)].y * _S2715;
    float _S2717 = _S2701 + _S2543.rows[int(1)].x * _S2715;
    float _S2718 = _S2543.rows[int(1)].y * s_diff_det_orig_T_2;
    float _S2719 = _S2713 + _S2543.rows[int(0)].x * s_diff_det_orig_T_2;
    float2  _S2720 = _S2659;
    *&((&_S2720)->x) = _S2716;
    *&((&_S2720)->y) = _S2719;
    float _S2721 = _S2714 + _S2718;
    float2  _S2722 = _S2659;
    *&((&_S2722)->y) = _S2717;
    *&((&_S2722)->x) = _S2721;
    float _S2723 = fy_24 * v_mean2d_2.y;
    float _S2724 = fx_24 * v_mean2d_2.x;
    Matrix<float, 2, 2>  _S2725 = _S2672;
    _S2725[int(1)] = _S2720;
    _S2725[int(0)] = _S2722;
    Matrix<float, 2, 2>  _S2726 = _S2546 + _S2725;
    Matrix<float, 2, 3>  _S2727 = makeMatrix<float, 2, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2728;
    (&_S2728)->primal_0 = _S2541;
    (&_S2728)->differential_0 = _S2727;
    Matrix<float, 3, 2>  _S2729 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S2730;
    (&_S2730)->primal_0 = _S2542;
    (&_S2730)->differential_0 = _S2729;
    s_bwd_prop_mul_2(&_S2728, &_S2730, _S2726);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2731;
    (&_S2731)->primal_0 = J_12;
    (&_S2731)->differential_0 = _S2727;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2732;
    (&_S2732)->primal_0 = _S2540;
    (&_S2732)->differential_0 = _S2654;
    s_bwd_prop_mul_3(&_S2731, &_S2732, _S2728.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2733;
    (&_S2733)->primal_0 = _S2538;
    (&_S2733)->differential_0 = _S2654;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2734;
    (&_S2734)->primal_0 = _S2539;
    (&_S2734)->differential_0 = _S2654;
    s_bwd_prop_mul_4(&_S2733, &_S2734, _S2732.differential_0);
    Matrix<float, 3, 3>  _S2735 = transpose_0(_S2734.differential_0 + _S2657.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2736;
    (&_S2736)->primal_0 = R_19;
    (&_S2736)->differential_0 = _S2654;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2737;
    (&_S2737)->primal_0 = _S2537;
    (&_S2737)->differential_0 = _S2654;
    s_bwd_prop_mul_4(&_S2736, &_S2737, _S2733.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2738;
    (&_S2738)->primal_0 = _S2535;
    (&_S2738)->differential_0 = _S2654;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2739;
    (&_S2739)->primal_0 = _S2536;
    (&_S2739)->differential_0 = _S2654;
    s_bwd_prop_mul_4(&_S2738, &_S2739, _S2737.differential_0);
    Matrix<float, 3, 3>  _S2740 = _S2738.differential_0 + transpose_0(_S2739.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2741;
    (&_S2741)->primal_0 = _S2534;
    (&_S2741)->differential_0 = _S2654;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2742;
    (&_S2742)->primal_0 = S_2;
    (&_S2742)->differential_0 = _S2654;
    s_bwd_prop_mul_4(&_S2741, &_S2742, _S2740);
    Matrix<float, 3, 3>  _S2743 = transpose_0(_S2741.differential_0);
    float _S2744 = 2.0f * - _S2743.rows[int(2)].z;
    float _S2745 = 2.0f * _S2743.rows[int(2)].y;
    float _S2746 = 2.0f * _S2743.rows[int(2)].x;
    float _S2747 = 2.0f * _S2743.rows[int(1)].z;
    float _S2748 = 2.0f * - _S2743.rows[int(1)].y;
    float _S2749 = 2.0f * _S2743.rows[int(1)].x;
    float _S2750 = 2.0f * _S2743.rows[int(0)].z;
    float _S2751 = 2.0f * _S2743.rows[int(0)].y;
    float _S2752 = 2.0f * - _S2743.rows[int(0)].x;
    float _S2753 = - _S2749 + _S2751;
    float _S2754 = _S2746 + - _S2750;
    float _S2755 = - _S2745 + _S2747;
    float _S2756 = _S2745 + _S2747;
    float _S2757 = _S2746 + _S2750;
    float _S2758 = _S2749 + _S2751;
    float _S2759 = quat_16.w * (_S2748 + _S2752);
    float _S2760 = quat_16.z * (_S2744 + _S2752);
    float _S2761 = quat_16.y * (_S2744 + _S2748);
    float _S2762 = quat_16.x * _S2753 + quat_16.z * _S2756 + quat_16.y * _S2757 + _S2759 + _S2759;
    float _S2763 = quat_16.x * _S2754 + quat_16.w * _S2756 + quat_16.y * _S2758 + _S2760 + _S2760;
    float _S2764 = quat_16.x * _S2755 + quat_16.w * _S2757 + quat_16.z * _S2758 + _S2761 + _S2761;
    float _S2765 = quat_16.w * _S2753 + quat_16.z * _S2754 + quat_16.y * _S2755;
    float3  _S2766 = _S2592;
    *&((&_S2766)->z) = _S2742.differential_0.rows[int(2)].z;
    *&((&_S2766)->y) = _S2742.differential_0.rows[int(1)].y;
    *&((&_S2766)->x) = _S2742.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2767;
    (&_S2767)->primal_0 = scale_15;
    (&_S2767)->differential_0 = _S2592;
    s_bwd_prop_exp_1(&_S2767, _S2766);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2768 = _S2767;
    float3  _S2769 = _S2592;
    *&((&_S2769)->y) = _S2723;
    *&((&_S2769)->x) = _S2724;
    float3  _S2770 = _S2663.differential_0 + _S2769;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2771;
    (&_S2771)->primal_0 = R_19;
    (&_S2771)->differential_0 = _S2654;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2772;
    (&_S2772)->primal_0 = mean_13;
    (&_S2772)->differential_0 = _S2592;
    s_bwd_prop_mul_1(&_S2771, &_S2772, _S2770);
    float3  _S2773 = _S2770 + _S2658.differential_0;
    Matrix<float, 3, 3>  _S2774 = _S2735 + _S2736.differential_0 + _S2771.differential_0;
    float4  _S2775 = make_float4 (0.0f);
    *&((&_S2775)->w) = _S2762;
    *&((&_S2775)->z) = _S2763;
    *&((&_S2775)->y) = _S2764;
    *&((&_S2775)->x) = _S2765;
    float4  _S2776 = _S2775;
    float3  _S2777 = _S2772.differential_0 + _S2652;
    *v_mean_2 = _S2777;
    *v_quat_2 = _S2776;
    *v_scale_2 = _S2768.differential_0;
    *v_in_opacity_2 = _S2698;
    (*v_sh_coeffs_2)[int(0)] = _S2676;
    (*v_sh_coeffs_2)[int(1)] = _S2677;
    (*v_sh_coeffs_2)[int(2)] = _S2678;
    (*v_sh_coeffs_2)[int(3)] = _S2679;
    (*v_sh_coeffs_2)[int(4)] = _S2680;
    (*v_sh_coeffs_2)[int(5)] = _S2681;
    (*v_sh_coeffs_2)[int(6)] = _S2682;
    (*v_sh_coeffs_2)[int(7)] = _S2683;
    (*v_sh_coeffs_2)[int(8)] = _S2684;
    (*v_sh_coeffs_2)[int(9)] = _S2685;
    (*v_sh_coeffs_2)[int(10)] = _S2686;
    (*v_sh_coeffs_2)[int(11)] = _S2687;
    (*v_sh_coeffs_2)[int(12)] = _S2688;
    (*v_sh_coeffs_2)[int(13)] = _S2689;
    (*v_sh_coeffs_2)[int(14)] = _S2690;
    (*v_sh_coeffs_2)[int(15)] = _S2691;
    *v_R_4 = _S2774;
    *v_t_3 = _S2773;
    return;
}

struct s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S2778;
};

inline __device__ void projection_3dgut_persp_vjp(bool antialiased_13, float3  mean_14, float4  quat_17, float3  scale_16, float in_opacity_13, FixedArray<float3 , 16>  * sh_coeffs_13, Matrix<float, 3, 3>  R_20, float3  t_16, float fx_25, float fy_25, float cx_20, float cy_20, FixedArray<float, 10>  * dist_coeffs_28, uint image_width_13, uint image_height_13, float2  v_mean2d_3, float v_depth_3, float3  v_conic_3, float v_opacity_3, float3  v_rgb_3, float3  * v_mean_3, float4  * v_quat_3, float3  * v_scale_3, float * v_in_opacity_3, FixedArray<float3 , 16>  * v_sh_coeffs_3, Matrix<float, 3, 3>  * v_R_5, float3  * v_t_4)
{
    Matrix<float, 2, 2>  _S2779 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2780;
    (&_S2780)->_S2778 = _S2779;
    float2  _S2781 = make_float2 (0.0f);
    float3  _S2782 = make_float3 (0.0f);
    float4  intrins_16 = make_float4 (fx_25, fy_25, cx_20, cy_20);
    float3  _S2783 = s_primal_ctx_exp_0(scale_16);
    float _S2784 = quat_17.y;
    float x2_17 = _S2784 * _S2784;
    float y2_17 = quat_17.z * quat_17.z;
    float z2_30 = quat_17.w * quat_17.w;
    float xy_17 = quat_17.y * quat_17.z;
    float xz_17 = quat_17.y * quat_17.w;
    float yz_17 = quat_17.z * quat_17.w;
    float wx_17 = quat_17.x * quat_17.y;
    float wy_17 = quat_17.x * quat_17.z;
    float wz_17 = quat_17.x * quat_17.w;
    Matrix<float, 3, 3>  _S2785 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_17 + z2_30), 2.0f * (xy_17 + wz_17), 2.0f * (xz_17 - wy_17), 2.0f * (xy_17 - wz_17), 1.0f - 2.0f * (x2_17 + z2_30), 2.0f * (yz_17 + wx_17), 2.0f * (xz_17 + wy_17), 2.0f * (yz_17 - wx_17), 1.0f - 2.0f * (x2_17 + y2_17))));
    FixedArray<float3 , 7>  _S2786 = {
        _S2782, _S2782, _S2782, _S2782, _S2782, _S2782, _S2782
    };
    FixedArray<float, 7>  _S2787 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S2788;
    (&_S2788)->p_0 = _S2786;
    (&_S2788)->w_mean_0 = _S2787;
    (&_S2788)->w_cov_0 = _S2787;
    (&_S2788)->p_0[int(0)] = mean_14;
    SigmaPoints_0 _S2789 = _S2788;
    (&_S2789)->w_mean_0[int(0)] = 0.0f;
    (&_S2789)->w_cov_0[int(0)] = 2.0f;
    float _S2790 = s_primal_ctx_sqrt_0(3.0f);
    float _S2791 = _S2790 * _S2783.x;
    float3  delta_12 = make_float3 (_S2791) * _S2785.rows[0U];
    float3  _S2792 = mean_14 + delta_12;
    float3  _S2793 = mean_14 - delta_12;
    float _S2794 = _S2790 * _S2783.y;
    float3  delta_13 = make_float3 (_S2794) * _S2785.rows[1U];
    float3  _S2795 = mean_14 + delta_13;
    float3  _S2796 = mean_14 - delta_13;
    float _S2797 = _S2790 * _S2783.z;
    float3  delta_14 = make_float3 (_S2797) * _S2785.rows[2U];
    float3  _S2798 = mean_14 + delta_14;
    float3  _S2799 = mean_14 - delta_14;
    (&_S2789)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S2789)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S2789)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S2789)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S2789)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S2789)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S2789)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S2789)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S2789)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S2789)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S2789)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S2789)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S2800 = _S2788;
    (&_S2789)->p_0[0U] = s_primal_ctx_mul_0(R_20, _S2788.p_0[0U]) + t_16;
    (&_S2789)->p_0[1U] = s_primal_ctx_mul_0(R_20, _S2792) + t_16;
    (&_S2789)->p_0[2U] = s_primal_ctx_mul_0(R_20, _S2795) + t_16;
    (&_S2789)->p_0[3U] = s_primal_ctx_mul_0(R_20, _S2798) + t_16;
    (&_S2789)->p_0[4U] = s_primal_ctx_mul_0(R_20, _S2793) + t_16;
    (&_S2789)->p_0[5U] = s_primal_ctx_mul_0(R_20, _S2796) + t_16;
    (&_S2789)->p_0[6U] = s_primal_ctx_mul_0(R_20, _S2799) + t_16;
    float2  _S2801 = _S2781;
    Matrix<float, 2, 2>  _S2802 = _S2779;
    SigmaPoints_0 _S2803 = _S2789;
    bool _S2804 = persp_proj_3dgs_ut_1(&_S2803, intrins_16, dist_coeffs_28, image_width_13, image_height_13, &_S2802, &_S2801);
    (&_S2780)->_S2778 = _S2802;
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2805 = _S2780;
    float3  mean_c_13 = s_primal_ctx_mul_0(R_20, mean_14) + t_16;
    float3  _S2806 = make_float3 (_S2791);
    float3  _S2807 = make_float3 (_S2794);
    float3  _S2808 = make_float3 (_S2797);
    float _S2809 = _S2780._S2778.rows[int(0)].y * _S2780._S2778.rows[int(1)].x;
    float det_orig_14 = _S2780._S2778.rows[int(0)].x * _S2780._S2778.rows[int(1)].y - _S2809;
    float _S2810 = _S2780._S2778.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2811 = _S2780._S2778;
    *&(((&_S2811)->rows + (int(0)))->x) = _S2810;
    float _S2812 = _S2780._S2778.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2811)->rows + (int(1)))->y) = _S2812;
    Matrix<float, 2, 2>  _S2813 = _S2811;
    Matrix<float, 2, 2>  _S2814 = _S2811;
    float det_blur_9 = _S2810 * _S2812 - _S2809;
    float _S2815 = det_orig_14 / det_blur_9;
    float _S2816 = det_blur_9 * det_blur_9;
    float _S2817 = s_primal_ctx_max_0(0.0f, _S2815);
    float _S2818 = s_primal_ctx_sqrt_0(_S2817);
    float _S2819 = - in_opacity_13;
    float _S2820 = 1.0f + s_primal_ctx_exp_1(_S2819);
    float _S2821 = 1.0f / _S2820;
    float _S2822 = _S2820 * _S2820;
    float _S2823;
    if(antialiased_13)
    {
        _S2823 = _S2821 * _S2818;
    }
    else
    {
        _S2823 = _S2821;
    }
    float _S2824 = _S2823 / 0.00392156885936856f;
    float _S2825 = 2.0f * s_primal_ctx_log_0(_S2824);
    float _S2826 = s_primal_ctx_sqrt_0(_S2825);
    float _S2827 = _S2813.rows[int(0)].x;
    float _S2828 = _S2814.rows[int(1)].y;
    float _S2829 = mean_c_13.z;
    float _S2830 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S2831 = _S2830 * (_S2829 + length_1(mean_c_13));
    float3  _S2832 = - scale_16;
    Matrix<float, 3, 3>  _S2833 = transpose_0(R_20);
    float3  _S2834 = mean_14 - - s_primal_ctx_mul_0(_S2833, t_16);
    float _S2835 = _S2834.x;
    float _S2836 = _S2834.y;
    float _S2837 = _S2834.z;
    float _S2838 = _S2835 * _S2835 + _S2836 * _S2836 + _S2837 * _S2837;
    float _S2839 = s_primal_ctx_sqrt_0(_S2838);
    float x_38 = _S2835 / _S2839;
    float3  _S2840 = make_float3 (x_38);
    float _S2841 = _S2839 * _S2839;
    float y_16 = _S2836 / _S2839;
    float z_13 = _S2837 / _S2839;
    float3  _S2842 = make_float3 (z_13);
    float _S2843 = - y_16;
    float3  _S2844 = make_float3 (_S2843);
    float z2_31 = z_13 * z_13;
    float fTmp0B_13 = -1.09254848957061768f * z_13;
    float fC1_13 = x_38 * x_38 - y_16 * y_16;
    float _S2845 = 2.0f * x_38;
    float fS1_13 = _S2845 * y_16;
    float pSH6_3 = 0.94617468118667603f * z2_31 - 0.31539157032966614f;
    float3  _S2846 = make_float3 (pSH6_3);
    float pSH7_3 = fTmp0B_13 * x_38;
    float3  _S2847 = make_float3 (pSH7_3);
    float pSH5_3 = fTmp0B_13 * y_16;
    float3  _S2848 = make_float3 (pSH5_3);
    float pSH8_3 = 0.54627424478530884f * fC1_13;
    float3  _S2849 = make_float3 (pSH8_3);
    float pSH4_3 = 0.54627424478530884f * fS1_13;
    float3  _S2850 = make_float3 (pSH4_3);
    float fTmp0C_13 = -2.28522896766662598f * z2_31 + 0.4570457935333252f;
    float fTmp1B_13 = 1.44530570507049561f * z_13;
    float _S2851 = 1.86588168144226074f * z2_31 - 1.11952900886535645f;
    float pSH12_3 = z_13 * _S2851;
    float3  _S2852 = make_float3 (pSH12_3);
    float pSH13_3 = fTmp0C_13 * x_38;
    float3  _S2853 = make_float3 (pSH13_3);
    float pSH11_3 = fTmp0C_13 * y_16;
    float3  _S2854 = make_float3 (pSH11_3);
    float pSH14_3 = fTmp1B_13 * fC1_13;
    float3  _S2855 = make_float3 (pSH14_3);
    float pSH10_3 = fTmp1B_13 * fS1_13;
    float3  _S2856 = make_float3 (pSH10_3);
    float pSH15_3 = -0.59004360437393188f * (x_38 * fC1_13 - y_16 * fS1_13);
    float3  _S2857 = make_float3 (pSH15_3);
    float pSH9_3 = -0.59004360437393188f * (x_38 * fS1_13 + y_16 * fC1_13);
    float3  _S2858 = make_float3 (pSH9_3);
    float3  _S2859 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2860;
    (&_S2860)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_13)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2843) * (*sh_coeffs_13)[int(1)] + make_float3 (z_13) * (*sh_coeffs_13)[int(2)] - make_float3 (x_38) * (*sh_coeffs_13)[int(3)]) + (make_float3 (pSH4_3) * (*sh_coeffs_13)[int(4)] + make_float3 (pSH5_3) * (*sh_coeffs_13)[int(5)] + make_float3 (pSH6_3) * (*sh_coeffs_13)[int(6)] + make_float3 (pSH7_3) * (*sh_coeffs_13)[int(7)] + make_float3 (pSH8_3) * (*sh_coeffs_13)[int(8)]) + (make_float3 (pSH9_3) * (*sh_coeffs_13)[int(9)] + make_float3 (pSH10_3) * (*sh_coeffs_13)[int(10)] + make_float3 (pSH11_3) * (*sh_coeffs_13)[int(11)] + make_float3 (pSH12_3) * (*sh_coeffs_13)[int(12)] + make_float3 (pSH13_3) * (*sh_coeffs_13)[int(13)] + make_float3 (pSH14_3) * (*sh_coeffs_13)[int(14)] + make_float3 (pSH15_3) * (*sh_coeffs_13)[int(15)]) + make_float3 (0.5f);
    (&_S2860)->differential_0 = _S2782;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2861;
    (&_S2861)->primal_0 = _S2859;
    (&_S2861)->differential_0 = _S2782;
    s_bwd_prop_max_0(&_S2860, &_S2861, v_rgb_3);
    float3  _S2862 = _S2857 * _S2860.differential_0;
    float3  _S2863 = (*sh_coeffs_13)[int(15)] * _S2860.differential_0;
    float3  _S2864 = _S2855 * _S2860.differential_0;
    float3  _S2865 = (*sh_coeffs_13)[int(14)] * _S2860.differential_0;
    float3  _S2866 = _S2853 * _S2860.differential_0;
    float3  _S2867 = (*sh_coeffs_13)[int(13)] * _S2860.differential_0;
    float3  _S2868 = _S2852 * _S2860.differential_0;
    float3  _S2869 = (*sh_coeffs_13)[int(12)] * _S2860.differential_0;
    float3  _S2870 = _S2854 * _S2860.differential_0;
    float3  _S2871 = (*sh_coeffs_13)[int(11)] * _S2860.differential_0;
    float3  _S2872 = _S2856 * _S2860.differential_0;
    float3  _S2873 = (*sh_coeffs_13)[int(10)] * _S2860.differential_0;
    float3  _S2874 = _S2858 * _S2860.differential_0;
    float3  _S2875 = (*sh_coeffs_13)[int(9)] * _S2860.differential_0;
    float s_diff_fS2_T_3 = -0.59004360437393188f * (_S2875.x + _S2875.y + _S2875.z);
    float s_diff_fC2_T_3 = -0.59004360437393188f * (_S2863.x + _S2863.y + _S2863.z);
    float _S2876 = _S2873.x + _S2873.y + _S2873.z;
    float _S2877 = _S2865.x + _S2865.y + _S2865.z;
    float _S2878 = _S2871.x + _S2871.y + _S2871.z;
    float _S2879 = _S2867.x + _S2867.y + _S2867.z;
    float _S2880 = _S2869.x + _S2869.y + _S2869.z;
    float _S2881 = - s_diff_fC2_T_3;
    float3  _S2882 = _S2849 * _S2860.differential_0;
    float3  _S2883 = (*sh_coeffs_13)[int(8)] * _S2860.differential_0;
    float3  _S2884 = _S2847 * _S2860.differential_0;
    float3  _S2885 = (*sh_coeffs_13)[int(7)] * _S2860.differential_0;
    float3  _S2886 = _S2846 * _S2860.differential_0;
    float3  _S2887 = (*sh_coeffs_13)[int(6)] * _S2860.differential_0;
    float3  _S2888 = _S2848 * _S2860.differential_0;
    float3  _S2889 = (*sh_coeffs_13)[int(5)] * _S2860.differential_0;
    float3  _S2890 = _S2850 * _S2860.differential_0;
    float3  _S2891 = (*sh_coeffs_13)[int(4)] * _S2860.differential_0;
    float _S2892 = _S2889.x + _S2889.y + _S2889.z;
    float _S2893 = _S2885.x + _S2885.y + _S2885.z;
    float _S2894 = fTmp1B_13 * _S2876 + x_38 * s_diff_fS2_T_3 + y_16 * _S2881 + 0.54627424478530884f * (_S2891.x + _S2891.y + _S2891.z);
    float _S2895 = fTmp1B_13 * _S2877 + y_16 * s_diff_fS2_T_3 + x_38 * s_diff_fC2_T_3 + 0.54627424478530884f * (_S2883.x + _S2883.y + _S2883.z);
    float _S2896 = y_16 * - _S2895;
    float _S2897 = x_38 * _S2895;
    float _S2898 = z_13 * (1.86588168144226074f * (z_13 * _S2880) + -2.28522896766662598f * (y_16 * _S2878 + x_38 * _S2879) + 0.94617468118667603f * (_S2887.x + _S2887.y + _S2887.z));
    float3  _S2899 = make_float3 (0.48860251903533936f) * _S2860.differential_0;
    float3  _S2900 = - _S2899;
    float3  _S2901 = _S2840 * _S2900;
    float3  _S2902 = (*sh_coeffs_13)[int(3)] * _S2900;
    float3  _S2903 = _S2842 * _S2899;
    float3  _S2904 = (*sh_coeffs_13)[int(2)] * _S2899;
    float3  _S2905 = _S2844 * _S2899;
    float3  _S2906 = (*sh_coeffs_13)[int(1)] * _S2899;
    float _S2907 = (_S2851 * _S2880 + 1.44530570507049561f * (fS1_13 * _S2876 + fC1_13 * _S2877) + -1.09254848957061768f * (y_16 * _S2892 + x_38 * _S2893) + _S2898 + _S2898 + _S2904.x + _S2904.y + _S2904.z) / _S2841;
    float _S2908 = _S2839 * _S2907;
    float _S2909 = (fTmp0C_13 * _S2878 + fC1_13 * s_diff_fS2_T_3 + fS1_13 * _S2881 + fTmp0B_13 * _S2892 + _S2845 * _S2894 + _S2896 + _S2896 + - (_S2906.x + _S2906.y + _S2906.z)) / _S2841;
    float _S2910 = _S2839 * _S2909;
    float _S2911 = (fTmp0C_13 * _S2879 + fS1_13 * s_diff_fS2_T_3 + fC1_13 * s_diff_fC2_T_3 + fTmp0B_13 * _S2893 + 2.0f * (y_16 * _S2894) + _S2897 + _S2897 + _S2902.x + _S2902.y + _S2902.z) / _S2841;
    float _S2912 = _S2839 * _S2911;
    float _S2913 = _S2837 * - _S2907 + _S2836 * - _S2909 + _S2835 * - _S2911;
    DiffPair_float_0 _S2914;
    (&_S2914)->primal_0 = _S2838;
    (&_S2914)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2914, _S2913);
    float _S2915 = _S2837 * _S2914.differential_0;
    float _S2916 = _S2836 * _S2914.differential_0;
    float _S2917 = _S2835 * _S2914.differential_0;
    float3  _S2918 = make_float3 (0.282094806432724f) * _S2860.differential_0;
    float3  _S2919 = make_float3 (_S2912 + _S2917 + _S2917, _S2910 + _S2916 + _S2916, _S2908 + _S2915 + _S2915);
    float3  _S2920 = - - _S2919;
    Matrix<float, 3, 3>  _S2921 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2922;
    (&_S2922)->primal_0 = _S2833;
    (&_S2922)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2923;
    (&_S2923)->primal_0 = t_16;
    (&_S2923)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2922, &_S2923, _S2920);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2924 = _S2923;
    Matrix<float, 3, 3>  _S2925 = transpose_0(_S2922.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2926;
    (&_S2926)->primal_0 = _S2832;
    (&_S2926)->differential_0 = _S2782;
    s_bwd_prop_exp_1(&_S2926, v_conic_3);
    float3  _S2927 = - _S2926.differential_0;
    DiffPair_float_0 _S2928;
    (&_S2928)->primal_0 = _S2829;
    (&_S2928)->differential_0 = 0.0f;
    DiffPair_float_0 _S2929;
    (&_S2929)->primal_0 = _S2831;
    (&_S2929)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2928, &_S2929, v_depth_3);
    float _S2930 = _S2830 * _S2929.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2931;
    (&_S2931)->primal_0 = mean_c_13;
    (&_S2931)->differential_0 = _S2782;
    s_bwd_length_impl_1(&_S2931, _S2930);
    float _S2932 = _S2928.differential_0 + _S2930;
    DiffPair_float_0 _S2933;
    (&_S2933)->primal_0 = _S2828;
    (&_S2933)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2933, 0.0f);
    DiffPair_float_0 _S2934;
    (&_S2934)->primal_0 = _S2827;
    (&_S2934)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2934, 0.0f);
    DiffPair_float_0 _S2935;
    (&_S2935)->primal_0 = 3.32999992370605469f;
    (&_S2935)->differential_0 = 0.0f;
    DiffPair_float_0 _S2936;
    (&_S2936)->primal_0 = _S2826;
    (&_S2936)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2935, &_S2936, 0.0f);
    DiffPair_float_0 _S2937;
    (&_S2937)->primal_0 = _S2825;
    (&_S2937)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2937, _S2936.differential_0);
    float _S2938 = 2.0f * _S2937.differential_0;
    DiffPair_float_0 _S2939;
    (&_S2939)->primal_0 = _S2824;
    (&_S2939)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2939, _S2938);
    float _S2940 = v_opacity_3 + 254.9999847412109375f * _S2939.differential_0;
    FixedArray<float3 , 16>  _S2941;
    _S2941[int(0)] = _S2782;
    _S2941[int(1)] = _S2782;
    _S2941[int(2)] = _S2782;
    _S2941[int(3)] = _S2782;
    _S2941[int(4)] = _S2782;
    _S2941[int(5)] = _S2782;
    _S2941[int(6)] = _S2782;
    _S2941[int(7)] = _S2782;
    _S2941[int(8)] = _S2782;
    _S2941[int(9)] = _S2782;
    _S2941[int(10)] = _S2782;
    _S2941[int(11)] = _S2782;
    _S2941[int(12)] = _S2782;
    _S2941[int(13)] = _S2782;
    _S2941[int(14)] = _S2782;
    _S2941[int(15)] = _S2782;
    _S2941[int(7)] = _S2884;
    _S2941[int(0)] = _S2918;
    _S2941[int(1)] = _S2905;
    _S2941[int(2)] = _S2903;
    _S2941[int(3)] = _S2901;
    _S2941[int(4)] = _S2890;
    _S2941[int(5)] = _S2888;
    _S2941[int(6)] = _S2886;
    _S2941[int(15)] = _S2862;
    _S2941[int(8)] = _S2882;
    _S2941[int(9)] = _S2874;
    _S2941[int(10)] = _S2872;
    _S2941[int(11)] = _S2870;
    _S2941[int(12)] = _S2868;
    _S2941[int(13)] = _S2866;
    _S2941[int(14)] = _S2864;
    float3  _S2942 = _S2941[int(0)];
    float3  _S2943 = _S2941[int(1)];
    float3  _S2944 = _S2941[int(2)];
    float3  _S2945 = _S2941[int(3)];
    float3  _S2946 = _S2941[int(4)];
    float3  _S2947 = _S2941[int(5)];
    float3  _S2948 = _S2941[int(6)];
    float3  _S2949 = _S2941[int(7)];
    float3  _S2950 = _S2941[int(8)];
    float3  _S2951 = _S2941[int(9)];
    float3  _S2952 = _S2941[int(10)];
    float3  _S2953 = _S2941[int(11)];
    float3  _S2954 = _S2941[int(12)];
    float3  _S2955 = _S2941[int(13)];
    float3  _S2956 = _S2941[int(14)];
    float3  _S2957 = _S2941[int(15)];
    float3  _S2958 = _S2931.differential_0 + make_float3 (0.0f, 0.0f, _S2932);
    float2  _S2959 = make_float2 (0.0f, _S2933.differential_0);
    float2  _S2960 = make_float2 (_S2934.differential_0, 0.0f);
    float _S2961;
    if(antialiased_13)
    {
        float _S2962 = _S2821 * _S2940;
        _S2823 = _S2818 * _S2940;
        _S2961 = _S2962;
    }
    else
    {
        _S2823 = _S2940;
        _S2961 = 0.0f;
    }
    float _S2963 = - (_S2823 / _S2822);
    DiffPair_float_0 _S2964;
    (&_S2964)->primal_0 = _S2819;
    (&_S2964)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2964, _S2963);
    float _S2965 = - _S2964.differential_0;
    DiffPair_float_0 _S2966;
    (&_S2966)->primal_0 = _S2817;
    (&_S2966)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2966, _S2961);
    DiffPair_float_0 _S2967;
    (&_S2967)->primal_0 = 0.0f;
    (&_S2967)->differential_0 = 0.0f;
    DiffPair_float_0 _S2968;
    (&_S2968)->primal_0 = _S2815;
    (&_S2968)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2967, &_S2968, _S2966.differential_0);
    float _S2969 = _S2968.differential_0 / _S2816;
    float s_diff_det_blur_T_0 = det_orig_14 * - _S2969;
    float s_diff_det_orig_T_3 = det_blur_9 * _S2969;
    float _S2970 = - s_diff_det_blur_T_0;
    float _S2971 = _S2810 * s_diff_det_blur_T_0;
    float _S2972 = _S2812 * s_diff_det_blur_T_0;
    Matrix<float, 2, 2>  _S2973 = _S2779;
    _S2973[int(1)] = _S2959;
    _S2973[int(0)] = _S2960;
    float _S2974 = _S2972 + _S2973.rows[int(0)].x;
    float _S2975 = _S2970 + - s_diff_det_orig_T_3;
    float _S2976 = _S2805._S2778.rows[int(0)].y * _S2975;
    float _S2977 = _S2805._S2778.rows[int(1)].x * _S2975;
    float _S2978 = _S2805._S2778.rows[int(1)].y * s_diff_det_orig_T_3;
    float _S2979 = _S2971 + _S2973.rows[int(1)].y + _S2805._S2778.rows[int(0)].x * s_diff_det_orig_T_3;
    float2  _S2980 = _S2781;
    *&((&_S2980)->x) = _S2976;
    *&((&_S2980)->y) = _S2979;
    float _S2981 = _S2974 + _S2978;
    float2  _S2982 = _S2781;
    *&((&_S2982)->y) = _S2977;
    *&((&_S2982)->x) = _S2981;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2983;
    (&_S2983)->primal_0 = R_20;
    (&_S2983)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2984;
    (&_S2984)->primal_0 = _S2799;
    (&_S2984)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2983, &_S2984, _S2782);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2985;
    (&_S2985)->primal_0 = R_20;
    (&_S2985)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2986;
    (&_S2986)->primal_0 = _S2796;
    (&_S2986)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2985, &_S2986, _S2782);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2987;
    (&_S2987)->primal_0 = R_20;
    (&_S2987)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2988;
    (&_S2988)->primal_0 = _S2793;
    (&_S2988)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2987, &_S2988, _S2782);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2989;
    (&_S2989)->primal_0 = R_20;
    (&_S2989)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2990;
    (&_S2990)->primal_0 = _S2798;
    (&_S2990)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2989, &_S2990, _S2782);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2991;
    (&_S2991)->primal_0 = R_20;
    (&_S2991)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2992;
    (&_S2992)->primal_0 = _S2795;
    (&_S2992)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2991, &_S2992, _S2782);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2993;
    (&_S2993)->primal_0 = R_20;
    (&_S2993)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2994;
    (&_S2994)->primal_0 = _S2792;
    (&_S2994)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2993, &_S2994, _S2782);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2995;
    (&_S2995)->primal_0 = R_20;
    (&_S2995)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2996;
    (&_S2996)->primal_0 = _S2800.p_0[0U];
    (&_S2996)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S2995, &_S2996, _S2782);
    float3  _S2997 = - _S2984.differential_0 + _S2990.differential_0;
    float3  _S2998 = _S2808 * _S2997;
    float3  _S2999 = _S2785.rows[2U] * _S2997;
    float _S3000 = _S2790 * (_S2999.x + _S2999.y + _S2999.z);
    float3  _S3001 = - _S2986.differential_0 + _S2992.differential_0;
    float3  _S3002 = _S2807 * _S3001;
    float3  _S3003 = _S2785.rows[1U] * _S3001;
    float _S3004 = _S2790 * (_S3003.x + _S3003.y + _S3003.z);
    float3  _S3005 = - _S2988.differential_0 + _S2994.differential_0;
    float3  _S3006 = _S2806 * _S3005;
    float3  _S3007 = _S2785.rows[0U] * _S3005;
    float _S3008 = _S2790 * (_S3007.x + _S3007.y + _S3007.z);
    Matrix<float, 3, 3>  _S3009 = _S2921;
    _S3009[2U] = _S2998;
    _S3009[1U] = _S3002;
    _S3009[0U] = _S3006;
    Matrix<float, 3, 3>  _S3010 = transpose_0(transpose_0(_S3009));
    float _S3011 = 2.0f * - _S3010.rows[int(2)].z;
    float _S3012 = 2.0f * _S3010.rows[int(2)].y;
    float _S3013 = 2.0f * _S3010.rows[int(2)].x;
    float _S3014 = 2.0f * _S3010.rows[int(1)].z;
    float _S3015 = 2.0f * - _S3010.rows[int(1)].y;
    float _S3016 = 2.0f * _S3010.rows[int(1)].x;
    float _S3017 = 2.0f * _S3010.rows[int(0)].z;
    float _S3018 = 2.0f * _S3010.rows[int(0)].y;
    float _S3019 = 2.0f * - _S3010.rows[int(0)].x;
    float _S3020 = - _S3016 + _S3018;
    float _S3021 = _S3013 + - _S3017;
    float _S3022 = - _S3012 + _S3014;
    float _S3023 = _S3012 + _S3014;
    float _S3024 = _S3013 + _S3017;
    float _S3025 = _S3016 + _S3018;
    float _S3026 = quat_17.w * (_S3015 + _S3019);
    float _S3027 = quat_17.z * (_S3011 + _S3019);
    float _S3028 = quat_17.y * (_S3011 + _S3015);
    float _S3029 = quat_17.x * _S3020 + quat_17.z * _S3023 + quat_17.y * _S3024 + _S3026 + _S3026;
    float _S3030 = quat_17.x * _S3021 + quat_17.w * _S3023 + quat_17.y * _S3025 + _S3027 + _S3027;
    float _S3031 = quat_17.x * _S3022 + quat_17.w * _S3024 + quat_17.z * _S3025 + _S3028 + _S3028;
    float _S3032 = quat_17.w * _S3020 + quat_17.z * _S3021 + quat_17.y * _S3022;
    float3  _S3033 = _S2782;
    *&((&_S3033)->z) = _S3000;
    *&((&_S3033)->y) = _S3004;
    *&((&_S3033)->x) = _S3008;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3034;
    (&_S3034)->primal_0 = scale_16;
    (&_S3034)->differential_0 = _S2782;
    s_bwd_prop_exp_1(&_S3034, _S3033);
    Matrix<float, 2, 2>  _S3035 = _S2779;
    _S3035[int(1)] = _S2980;
    _S3035[int(0)] = _S2982;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3036;
    (&_S3036)->primal_0 = R_20;
    (&_S3036)->differential_0 = _S2921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3037;
    (&_S3037)->primal_0 = mean_14;
    (&_S3037)->differential_0 = _S2782;
    s_bwd_prop_mul_1(&_S3036, &_S3037, _S2958);
    float3  _S3038 = _S2958 + _S2924.differential_0;
    Matrix<float, 3, 3>  _S3039 = _S2983.differential_0 + _S2985.differential_0 + _S2987.differential_0 + _S2989.differential_0 + _S2991.differential_0 + _S2993.differential_0 + _S2995.differential_0 + _S3036.differential_0 + _S2925;
    float3  _S3040 = _S3034.differential_0 + _S2927;
    float4  _S3041 = make_float4 (0.0f);
    *&((&_S3041)->w) = _S3029;
    *&((&_S3041)->z) = _S3030;
    *&((&_S3041)->y) = _S3031;
    *&((&_S3041)->x) = _S3032;
    float4  _S3042 = _S3041;
    float3  _S3043 = _S2984.differential_0 + _S2990.differential_0 + _S2986.differential_0 + _S2992.differential_0 + _S2988.differential_0 + _S2994.differential_0 + _S3037.differential_0 + _S2919;
    *v_mean_3 = _S3043;
    *v_quat_3 = _S3042;
    *v_scale_3 = _S3040;
    *v_in_opacity_3 = _S2965;
    (*v_sh_coeffs_3)[int(0)] = _S2942;
    (*v_sh_coeffs_3)[int(1)] = _S2943;
    (*v_sh_coeffs_3)[int(2)] = _S2944;
    (*v_sh_coeffs_3)[int(3)] = _S2945;
    (*v_sh_coeffs_3)[int(4)] = _S2946;
    (*v_sh_coeffs_3)[int(5)] = _S2947;
    (*v_sh_coeffs_3)[int(6)] = _S2948;
    (*v_sh_coeffs_3)[int(7)] = _S2949;
    (*v_sh_coeffs_3)[int(8)] = _S2950;
    (*v_sh_coeffs_3)[int(9)] = _S2951;
    (*v_sh_coeffs_3)[int(10)] = _S2952;
    (*v_sh_coeffs_3)[int(11)] = _S2953;
    (*v_sh_coeffs_3)[int(12)] = _S2954;
    (*v_sh_coeffs_3)[int(13)] = _S2955;
    (*v_sh_coeffs_3)[int(14)] = _S2956;
    (*v_sh_coeffs_3)[int(15)] = _S2957;
    *v_R_5 = _S3039;
    *v_t_4 = _S3038;
    return;
}

struct s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S3044;
};

inline __device__ void projection_3dgut_fisheye_vjp(bool antialiased_14, float3  mean_15, float4  quat_18, float3  scale_17, float in_opacity_14, FixedArray<float3 , 16>  * sh_coeffs_14, Matrix<float, 3, 3>  R_21, float3  t_17, float fx_26, float fy_26, float cx_21, float cy_21, FixedArray<float, 10>  * dist_coeffs_29, uint image_width_14, uint image_height_14, float2  v_mean2d_4, float v_depth_4, float3  v_conic_4, float v_opacity_4, float3  v_rgb_4, float3  * v_mean_4, float4  * v_quat_4, float3  * v_scale_4, float * v_in_opacity_4, FixedArray<float3 , 16>  * v_sh_coeffs_4, Matrix<float, 3, 3>  * v_R_6, float3  * v_t_5)
{
    Matrix<float, 2, 2>  _S3045 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S3046;
    (&_S3046)->_S3044 = _S3045;
    float2  _S3047 = make_float2 (0.0f);
    float3  _S3048 = make_float3 (0.0f);
    float4  intrins_17 = make_float4 (fx_26, fy_26, cx_21, cy_21);
    float3  _S3049 = s_primal_ctx_exp_0(scale_17);
    float _S3050 = quat_18.y;
    float x2_18 = _S3050 * _S3050;
    float y2_18 = quat_18.z * quat_18.z;
    float z2_32 = quat_18.w * quat_18.w;
    float xy_18 = quat_18.y * quat_18.z;
    float xz_18 = quat_18.y * quat_18.w;
    float yz_18 = quat_18.z * quat_18.w;
    float wx_18 = quat_18.x * quat_18.y;
    float wy_18 = quat_18.x * quat_18.z;
    float wz_18 = quat_18.x * quat_18.w;
    Matrix<float, 3, 3>  _S3051 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_18 + z2_32), 2.0f * (xy_18 + wz_18), 2.0f * (xz_18 - wy_18), 2.0f * (xy_18 - wz_18), 1.0f - 2.0f * (x2_18 + z2_32), 2.0f * (yz_18 + wx_18), 2.0f * (xz_18 + wy_18), 2.0f * (yz_18 - wx_18), 1.0f - 2.0f * (x2_18 + y2_18))));
    FixedArray<float3 , 7>  _S3052 = {
        _S3048, _S3048, _S3048, _S3048, _S3048, _S3048, _S3048
    };
    FixedArray<float, 7>  _S3053 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3054;
    (&_S3054)->p_0 = _S3052;
    (&_S3054)->w_mean_0 = _S3053;
    (&_S3054)->w_cov_0 = _S3053;
    (&_S3054)->p_0[int(0)] = mean_15;
    SigmaPoints_0 _S3055 = _S3054;
    (&_S3055)->w_mean_0[int(0)] = 0.0f;
    (&_S3055)->w_cov_0[int(0)] = 2.0f;
    float _S3056 = s_primal_ctx_sqrt_0(3.0f);
    float _S3057 = _S3056 * _S3049.x;
    float3  delta_15 = make_float3 (_S3057) * _S3051.rows[0U];
    float3  _S3058 = mean_15 + delta_15;
    float3  _S3059 = mean_15 - delta_15;
    float _S3060 = _S3056 * _S3049.y;
    float3  delta_16 = make_float3 (_S3060) * _S3051.rows[1U];
    float3  _S3061 = mean_15 + delta_16;
    float3  _S3062 = mean_15 - delta_16;
    float _S3063 = _S3056 * _S3049.z;
    float3  delta_17 = make_float3 (_S3063) * _S3051.rows[2U];
    float3  _S3064 = mean_15 + delta_17;
    float3  _S3065 = mean_15 - delta_17;
    (&_S3055)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3055)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3055)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3055)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3055)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3055)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3055)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3055)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3055)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3055)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3055)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3055)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S3066 = _S3054;
    (&_S3055)->p_0[0U] = s_primal_ctx_mul_0(R_21, _S3054.p_0[0U]) + t_17;
    (&_S3055)->p_0[1U] = s_primal_ctx_mul_0(R_21, _S3058) + t_17;
    (&_S3055)->p_0[2U] = s_primal_ctx_mul_0(R_21, _S3061) + t_17;
    (&_S3055)->p_0[3U] = s_primal_ctx_mul_0(R_21, _S3064) + t_17;
    (&_S3055)->p_0[4U] = s_primal_ctx_mul_0(R_21, _S3059) + t_17;
    (&_S3055)->p_0[5U] = s_primal_ctx_mul_0(R_21, _S3062) + t_17;
    (&_S3055)->p_0[6U] = s_primal_ctx_mul_0(R_21, _S3065) + t_17;
    float2  _S3067 = _S3047;
    Matrix<float, 2, 2>  _S3068 = _S3045;
    SigmaPoints_0 _S3069 = _S3055;
    bool _S3070 = fisheye_proj_3dgs_ut_1(&_S3069, intrins_17, dist_coeffs_29, &_S3068, &_S3067);
    (&_S3046)->_S3044 = _S3068;
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S3071 = _S3046;
    float3  mean_c_14 = s_primal_ctx_mul_0(R_21, mean_15) + t_17;
    float _S3072 = length_1(mean_c_14);
    float3  _S3073 = make_float3 (_S3057);
    float3  _S3074 = make_float3 (_S3060);
    float3  _S3075 = make_float3 (_S3063);
    float _S3076 = _S3046._S3044.rows[int(0)].y * _S3046._S3044.rows[int(1)].x;
    float det_orig_15 = _S3046._S3044.rows[int(0)].x * _S3046._S3044.rows[int(1)].y - _S3076;
    float _S3077 = _S3046._S3044.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3078 = _S3046._S3044;
    *&(((&_S3078)->rows + (int(0)))->x) = _S3077;
    float _S3079 = _S3046._S3044.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3078)->rows + (int(1)))->y) = _S3079;
    Matrix<float, 2, 2>  _S3080 = _S3078;
    Matrix<float, 2, 2>  _S3081 = _S3078;
    float det_blur_10 = _S3077 * _S3079 - _S3076;
    float _S3082 = det_orig_15 / det_blur_10;
    float _S3083 = det_blur_10 * det_blur_10;
    float _S3084 = s_primal_ctx_max_0(0.0f, _S3082);
    float _S3085 = s_primal_ctx_sqrt_0(_S3084);
    float _S3086 = - in_opacity_14;
    float _S3087 = 1.0f + s_primal_ctx_exp_1(_S3086);
    float _S3088 = 1.0f / _S3087;
    float _S3089 = _S3087 * _S3087;
    float _S3090;
    if(antialiased_14)
    {
        _S3090 = _S3088 * _S3085;
    }
    else
    {
        _S3090 = _S3088;
    }
    float _S3091 = _S3090 / 0.00392156885936856f;
    float _S3092 = 2.0f * s_primal_ctx_log_0(_S3091);
    float _S3093 = s_primal_ctx_sqrt_0(_S3092);
    float _S3094 = _S3080.rows[int(0)].x;
    float _S3095 = _S3081.rows[int(1)].y;
    float _S3096 = mean_c_14.z;
    float _S3097 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S3098 = _S3097 * (_S3096 + _S3072);
    float3  _S3099 = - scale_17;
    Matrix<float, 3, 3>  _S3100 = transpose_0(R_21);
    float3  _S3101 = mean_15 - - s_primal_ctx_mul_0(_S3100, t_17);
    float _S3102 = _S3101.x;
    float _S3103 = _S3101.y;
    float _S3104 = _S3101.z;
    float _S3105 = _S3102 * _S3102 + _S3103 * _S3103 + _S3104 * _S3104;
    float _S3106 = s_primal_ctx_sqrt_0(_S3105);
    float x_39 = _S3102 / _S3106;
    float3  _S3107 = make_float3 (x_39);
    float _S3108 = _S3106 * _S3106;
    float y_17 = _S3103 / _S3106;
    float z_14 = _S3104 / _S3106;
    float3  _S3109 = make_float3 (z_14);
    float _S3110 = - y_17;
    float3  _S3111 = make_float3 (_S3110);
    float z2_33 = z_14 * z_14;
    float fTmp0B_14 = -1.09254848957061768f * z_14;
    float fC1_14 = x_39 * x_39 - y_17 * y_17;
    float _S3112 = 2.0f * x_39;
    float fS1_14 = _S3112 * y_17;
    float pSH6_4 = 0.94617468118667603f * z2_33 - 0.31539157032966614f;
    float3  _S3113 = make_float3 (pSH6_4);
    float pSH7_4 = fTmp0B_14 * x_39;
    float3  _S3114 = make_float3 (pSH7_4);
    float pSH5_4 = fTmp0B_14 * y_17;
    float3  _S3115 = make_float3 (pSH5_4);
    float pSH8_4 = 0.54627424478530884f * fC1_14;
    float3  _S3116 = make_float3 (pSH8_4);
    float pSH4_4 = 0.54627424478530884f * fS1_14;
    float3  _S3117 = make_float3 (pSH4_4);
    float fTmp0C_14 = -2.28522896766662598f * z2_33 + 0.4570457935333252f;
    float fTmp1B_14 = 1.44530570507049561f * z_14;
    float _S3118 = 1.86588168144226074f * z2_33 - 1.11952900886535645f;
    float pSH12_4 = z_14 * _S3118;
    float3  _S3119 = make_float3 (pSH12_4);
    float pSH13_4 = fTmp0C_14 * x_39;
    float3  _S3120 = make_float3 (pSH13_4);
    float pSH11_4 = fTmp0C_14 * y_17;
    float3  _S3121 = make_float3 (pSH11_4);
    float pSH14_4 = fTmp1B_14 * fC1_14;
    float3  _S3122 = make_float3 (pSH14_4);
    float pSH10_4 = fTmp1B_14 * fS1_14;
    float3  _S3123 = make_float3 (pSH10_4);
    float pSH15_4 = -0.59004360437393188f * (x_39 * fC1_14 - y_17 * fS1_14);
    float3  _S3124 = make_float3 (pSH15_4);
    float pSH9_4 = -0.59004360437393188f * (x_39 * fS1_14 + y_17 * fC1_14);
    float3  _S3125 = make_float3 (pSH9_4);
    float3  _S3126 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3127;
    (&_S3127)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_14)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S3110) * (*sh_coeffs_14)[int(1)] + make_float3 (z_14) * (*sh_coeffs_14)[int(2)] - make_float3 (x_39) * (*sh_coeffs_14)[int(3)]) + (make_float3 (pSH4_4) * (*sh_coeffs_14)[int(4)] + make_float3 (pSH5_4) * (*sh_coeffs_14)[int(5)] + make_float3 (pSH6_4) * (*sh_coeffs_14)[int(6)] + make_float3 (pSH7_4) * (*sh_coeffs_14)[int(7)] + make_float3 (pSH8_4) * (*sh_coeffs_14)[int(8)]) + (make_float3 (pSH9_4) * (*sh_coeffs_14)[int(9)] + make_float3 (pSH10_4) * (*sh_coeffs_14)[int(10)] + make_float3 (pSH11_4) * (*sh_coeffs_14)[int(11)] + make_float3 (pSH12_4) * (*sh_coeffs_14)[int(12)] + make_float3 (pSH13_4) * (*sh_coeffs_14)[int(13)] + make_float3 (pSH14_4) * (*sh_coeffs_14)[int(14)] + make_float3 (pSH15_4) * (*sh_coeffs_14)[int(15)]) + make_float3 (0.5f);
    (&_S3127)->differential_0 = _S3048;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3128;
    (&_S3128)->primal_0 = _S3126;
    (&_S3128)->differential_0 = _S3048;
    s_bwd_prop_max_0(&_S3127, &_S3128, v_rgb_4);
    float3  _S3129 = _S3124 * _S3127.differential_0;
    float3  _S3130 = (*sh_coeffs_14)[int(15)] * _S3127.differential_0;
    float3  _S3131 = _S3122 * _S3127.differential_0;
    float3  _S3132 = (*sh_coeffs_14)[int(14)] * _S3127.differential_0;
    float3  _S3133 = _S3120 * _S3127.differential_0;
    float3  _S3134 = (*sh_coeffs_14)[int(13)] * _S3127.differential_0;
    float3  _S3135 = _S3119 * _S3127.differential_0;
    float3  _S3136 = (*sh_coeffs_14)[int(12)] * _S3127.differential_0;
    float3  _S3137 = _S3121 * _S3127.differential_0;
    float3  _S3138 = (*sh_coeffs_14)[int(11)] * _S3127.differential_0;
    float3  _S3139 = _S3123 * _S3127.differential_0;
    float3  _S3140 = (*sh_coeffs_14)[int(10)] * _S3127.differential_0;
    float3  _S3141 = _S3125 * _S3127.differential_0;
    float3  _S3142 = (*sh_coeffs_14)[int(9)] * _S3127.differential_0;
    float s_diff_fS2_T_4 = -0.59004360437393188f * (_S3142.x + _S3142.y + _S3142.z);
    float s_diff_fC2_T_4 = -0.59004360437393188f * (_S3130.x + _S3130.y + _S3130.z);
    float _S3143 = _S3140.x + _S3140.y + _S3140.z;
    float _S3144 = _S3132.x + _S3132.y + _S3132.z;
    float _S3145 = _S3138.x + _S3138.y + _S3138.z;
    float _S3146 = _S3134.x + _S3134.y + _S3134.z;
    float _S3147 = _S3136.x + _S3136.y + _S3136.z;
    float _S3148 = - s_diff_fC2_T_4;
    float3  _S3149 = _S3116 * _S3127.differential_0;
    float3  _S3150 = (*sh_coeffs_14)[int(8)] * _S3127.differential_0;
    float3  _S3151 = _S3114 * _S3127.differential_0;
    float3  _S3152 = (*sh_coeffs_14)[int(7)] * _S3127.differential_0;
    float3  _S3153 = _S3113 * _S3127.differential_0;
    float3  _S3154 = (*sh_coeffs_14)[int(6)] * _S3127.differential_0;
    float3  _S3155 = _S3115 * _S3127.differential_0;
    float3  _S3156 = (*sh_coeffs_14)[int(5)] * _S3127.differential_0;
    float3  _S3157 = _S3117 * _S3127.differential_0;
    float3  _S3158 = (*sh_coeffs_14)[int(4)] * _S3127.differential_0;
    float _S3159 = _S3156.x + _S3156.y + _S3156.z;
    float _S3160 = _S3152.x + _S3152.y + _S3152.z;
    float _S3161 = fTmp1B_14 * _S3143 + x_39 * s_diff_fS2_T_4 + y_17 * _S3148 + 0.54627424478530884f * (_S3158.x + _S3158.y + _S3158.z);
    float _S3162 = fTmp1B_14 * _S3144 + y_17 * s_diff_fS2_T_4 + x_39 * s_diff_fC2_T_4 + 0.54627424478530884f * (_S3150.x + _S3150.y + _S3150.z);
    float _S3163 = y_17 * - _S3162;
    float _S3164 = x_39 * _S3162;
    float _S3165 = z_14 * (1.86588168144226074f * (z_14 * _S3147) + -2.28522896766662598f * (y_17 * _S3145 + x_39 * _S3146) + 0.94617468118667603f * (_S3154.x + _S3154.y + _S3154.z));
    float3  _S3166 = make_float3 (0.48860251903533936f) * _S3127.differential_0;
    float3  _S3167 = - _S3166;
    float3  _S3168 = _S3107 * _S3167;
    float3  _S3169 = (*sh_coeffs_14)[int(3)] * _S3167;
    float3  _S3170 = _S3109 * _S3166;
    float3  _S3171 = (*sh_coeffs_14)[int(2)] * _S3166;
    float3  _S3172 = _S3111 * _S3166;
    float3  _S3173 = (*sh_coeffs_14)[int(1)] * _S3166;
    float _S3174 = (_S3118 * _S3147 + 1.44530570507049561f * (fS1_14 * _S3143 + fC1_14 * _S3144) + -1.09254848957061768f * (y_17 * _S3159 + x_39 * _S3160) + _S3165 + _S3165 + _S3171.x + _S3171.y + _S3171.z) / _S3108;
    float _S3175 = _S3106 * _S3174;
    float _S3176 = (fTmp0C_14 * _S3145 + fC1_14 * s_diff_fS2_T_4 + fS1_14 * _S3148 + fTmp0B_14 * _S3159 + _S3112 * _S3161 + _S3163 + _S3163 + - (_S3173.x + _S3173.y + _S3173.z)) / _S3108;
    float _S3177 = _S3106 * _S3176;
    float _S3178 = (fTmp0C_14 * _S3146 + fS1_14 * s_diff_fS2_T_4 + fC1_14 * s_diff_fC2_T_4 + fTmp0B_14 * _S3160 + 2.0f * (y_17 * _S3161) + _S3164 + _S3164 + _S3169.x + _S3169.y + _S3169.z) / _S3108;
    float _S3179 = _S3106 * _S3178;
    float _S3180 = _S3104 * - _S3174 + _S3103 * - _S3176 + _S3102 * - _S3178;
    DiffPair_float_0 _S3181;
    (&_S3181)->primal_0 = _S3105;
    (&_S3181)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3181, _S3180);
    float _S3182 = _S3104 * _S3181.differential_0;
    float _S3183 = _S3103 * _S3181.differential_0;
    float _S3184 = _S3102 * _S3181.differential_0;
    float3  _S3185 = make_float3 (0.282094806432724f) * _S3127.differential_0;
    float3  _S3186 = make_float3 (_S3179 + _S3184 + _S3184, _S3177 + _S3183 + _S3183, _S3175 + _S3182 + _S3182);
    float3  _S3187 = - - _S3186;
    Matrix<float, 3, 3>  _S3188 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3189;
    (&_S3189)->primal_0 = _S3100;
    (&_S3189)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3190;
    (&_S3190)->primal_0 = t_17;
    (&_S3190)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3189, &_S3190, _S3187);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3191 = _S3190;
    Matrix<float, 3, 3>  _S3192 = transpose_0(_S3189.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3193;
    (&_S3193)->primal_0 = _S3099;
    (&_S3193)->differential_0 = _S3048;
    s_bwd_prop_exp_1(&_S3193, v_conic_4);
    float3  _S3194 = - _S3193.differential_0;
    DiffPair_float_0 _S3195;
    (&_S3195)->primal_0 = _S3096;
    (&_S3195)->differential_0 = 0.0f;
    DiffPair_float_0 _S3196;
    (&_S3196)->primal_0 = _S3098;
    (&_S3196)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3195, &_S3196, v_depth_4);
    float _S3197 = _S3097 * _S3196.differential_0;
    float _S3198 = _S3195.differential_0 + _S3197;
    DiffPair_float_0 _S3199;
    (&_S3199)->primal_0 = _S3095;
    (&_S3199)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3199, 0.0f);
    DiffPair_float_0 _S3200;
    (&_S3200)->primal_0 = _S3094;
    (&_S3200)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3200, 0.0f);
    DiffPair_float_0 _S3201;
    (&_S3201)->primal_0 = 3.32999992370605469f;
    (&_S3201)->differential_0 = 0.0f;
    DiffPair_float_0 _S3202;
    (&_S3202)->primal_0 = _S3093;
    (&_S3202)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3201, &_S3202, 0.0f);
    DiffPair_float_0 _S3203;
    (&_S3203)->primal_0 = _S3092;
    (&_S3203)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3203, _S3202.differential_0);
    float _S3204 = 2.0f * _S3203.differential_0;
    DiffPair_float_0 _S3205;
    (&_S3205)->primal_0 = _S3091;
    (&_S3205)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3205, _S3204);
    float _S3206 = v_opacity_4 + 254.9999847412109375f * _S3205.differential_0;
    FixedArray<float3 , 16>  _S3207;
    _S3207[int(0)] = _S3048;
    _S3207[int(1)] = _S3048;
    _S3207[int(2)] = _S3048;
    _S3207[int(3)] = _S3048;
    _S3207[int(4)] = _S3048;
    _S3207[int(5)] = _S3048;
    _S3207[int(6)] = _S3048;
    _S3207[int(7)] = _S3048;
    _S3207[int(8)] = _S3048;
    _S3207[int(9)] = _S3048;
    _S3207[int(10)] = _S3048;
    _S3207[int(11)] = _S3048;
    _S3207[int(12)] = _S3048;
    _S3207[int(13)] = _S3048;
    _S3207[int(14)] = _S3048;
    _S3207[int(15)] = _S3048;
    _S3207[int(7)] = _S3151;
    _S3207[int(0)] = _S3185;
    _S3207[int(1)] = _S3172;
    _S3207[int(2)] = _S3170;
    _S3207[int(3)] = _S3168;
    _S3207[int(4)] = _S3157;
    _S3207[int(5)] = _S3155;
    _S3207[int(6)] = _S3153;
    _S3207[int(15)] = _S3129;
    _S3207[int(8)] = _S3149;
    _S3207[int(9)] = _S3141;
    _S3207[int(10)] = _S3139;
    _S3207[int(11)] = _S3137;
    _S3207[int(12)] = _S3135;
    _S3207[int(13)] = _S3133;
    _S3207[int(14)] = _S3131;
    float3  _S3208 = _S3207[int(0)];
    float3  _S3209 = _S3207[int(1)];
    float3  _S3210 = _S3207[int(2)];
    float3  _S3211 = _S3207[int(3)];
    float3  _S3212 = _S3207[int(4)];
    float3  _S3213 = _S3207[int(5)];
    float3  _S3214 = _S3207[int(6)];
    float3  _S3215 = _S3207[int(7)];
    float3  _S3216 = _S3207[int(8)];
    float3  _S3217 = _S3207[int(9)];
    float3  _S3218 = _S3207[int(10)];
    float3  _S3219 = _S3207[int(11)];
    float3  _S3220 = _S3207[int(12)];
    float3  _S3221 = _S3207[int(13)];
    float3  _S3222 = _S3207[int(14)];
    float3  _S3223 = _S3207[int(15)];
    float3  _S3224 = make_float3 (0.0f, 0.0f, _S3198);
    float2  _S3225 = make_float2 (0.0f, _S3199.differential_0);
    float2  _S3226 = make_float2 (_S3200.differential_0, 0.0f);
    float _S3227;
    if(antialiased_14)
    {
        float _S3228 = _S3088 * _S3206;
        _S3090 = _S3085 * _S3206;
        _S3227 = _S3228;
    }
    else
    {
        _S3090 = _S3206;
        _S3227 = 0.0f;
    }
    float _S3229 = - (_S3090 / _S3089);
    DiffPair_float_0 _S3230;
    (&_S3230)->primal_0 = _S3086;
    (&_S3230)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3230, _S3229);
    float _S3231 = - _S3230.differential_0;
    DiffPair_float_0 _S3232;
    (&_S3232)->primal_0 = _S3084;
    (&_S3232)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3232, _S3227);
    DiffPair_float_0 _S3233;
    (&_S3233)->primal_0 = 0.0f;
    (&_S3233)->differential_0 = 0.0f;
    DiffPair_float_0 _S3234;
    (&_S3234)->primal_0 = _S3082;
    (&_S3234)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3233, &_S3234, _S3232.differential_0);
    float _S3235 = _S3234.differential_0 / _S3083;
    float s_diff_det_blur_T_1 = det_orig_15 * - _S3235;
    float s_diff_det_orig_T_4 = det_blur_10 * _S3235;
    float _S3236 = - s_diff_det_blur_T_1;
    float _S3237 = _S3077 * s_diff_det_blur_T_1;
    float _S3238 = _S3079 * s_diff_det_blur_T_1;
    Matrix<float, 2, 2>  _S3239 = _S3045;
    _S3239[int(1)] = _S3225;
    _S3239[int(0)] = _S3226;
    float _S3240 = _S3238 + _S3239.rows[int(0)].x;
    float _S3241 = _S3236 + - s_diff_det_orig_T_4;
    float _S3242 = _S3071._S3044.rows[int(0)].y * _S3241;
    float _S3243 = _S3071._S3044.rows[int(1)].x * _S3241;
    float _S3244 = _S3071._S3044.rows[int(1)].y * s_diff_det_orig_T_4;
    float _S3245 = _S3237 + _S3239.rows[int(1)].y + _S3071._S3044.rows[int(0)].x * s_diff_det_orig_T_4;
    float2  _S3246 = _S3047;
    *&((&_S3246)->x) = _S3242;
    *&((&_S3246)->y) = _S3245;
    float _S3247 = _S3240 + _S3244;
    float2  _S3248 = _S3047;
    *&((&_S3248)->y) = _S3243;
    *&((&_S3248)->x) = _S3247;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3249;
    (&_S3249)->primal_0 = R_21;
    (&_S3249)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3250;
    (&_S3250)->primal_0 = _S3065;
    (&_S3250)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3249, &_S3250, _S3048);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3251;
    (&_S3251)->primal_0 = R_21;
    (&_S3251)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3252;
    (&_S3252)->primal_0 = _S3062;
    (&_S3252)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3251, &_S3252, _S3048);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3253;
    (&_S3253)->primal_0 = R_21;
    (&_S3253)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3254;
    (&_S3254)->primal_0 = _S3059;
    (&_S3254)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3253, &_S3254, _S3048);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3255;
    (&_S3255)->primal_0 = R_21;
    (&_S3255)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3256;
    (&_S3256)->primal_0 = _S3064;
    (&_S3256)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3255, &_S3256, _S3048);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3257;
    (&_S3257)->primal_0 = R_21;
    (&_S3257)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3258;
    (&_S3258)->primal_0 = _S3061;
    (&_S3258)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3257, &_S3258, _S3048);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3259;
    (&_S3259)->primal_0 = R_21;
    (&_S3259)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3260;
    (&_S3260)->primal_0 = _S3058;
    (&_S3260)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3259, &_S3260, _S3048);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3261;
    (&_S3261)->primal_0 = R_21;
    (&_S3261)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3262;
    (&_S3262)->primal_0 = _S3066.p_0[0U];
    (&_S3262)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3261, &_S3262, _S3048);
    float3  _S3263 = - _S3250.differential_0 + _S3256.differential_0;
    float3  _S3264 = _S3075 * _S3263;
    float3  _S3265 = _S3051.rows[2U] * _S3263;
    float _S3266 = _S3056 * (_S3265.x + _S3265.y + _S3265.z);
    float3  _S3267 = - _S3252.differential_0 + _S3258.differential_0;
    float3  _S3268 = _S3074 * _S3267;
    float3  _S3269 = _S3051.rows[1U] * _S3267;
    float _S3270 = _S3056 * (_S3269.x + _S3269.y + _S3269.z);
    float3  _S3271 = - _S3254.differential_0 + _S3260.differential_0;
    float3  _S3272 = _S3073 * _S3271;
    float3  _S3273 = _S3051.rows[0U] * _S3271;
    float _S3274 = _S3056 * (_S3273.x + _S3273.y + _S3273.z);
    Matrix<float, 3, 3>  _S3275 = _S3188;
    _S3275[2U] = _S3264;
    _S3275[1U] = _S3268;
    _S3275[0U] = _S3272;
    Matrix<float, 3, 3>  _S3276 = transpose_0(transpose_0(_S3275));
    float _S3277 = 2.0f * - _S3276.rows[int(2)].z;
    float _S3278 = 2.0f * _S3276.rows[int(2)].y;
    float _S3279 = 2.0f * _S3276.rows[int(2)].x;
    float _S3280 = 2.0f * _S3276.rows[int(1)].z;
    float _S3281 = 2.0f * - _S3276.rows[int(1)].y;
    float _S3282 = 2.0f * _S3276.rows[int(1)].x;
    float _S3283 = 2.0f * _S3276.rows[int(0)].z;
    float _S3284 = 2.0f * _S3276.rows[int(0)].y;
    float _S3285 = 2.0f * - _S3276.rows[int(0)].x;
    float _S3286 = - _S3282 + _S3284;
    float _S3287 = _S3279 + - _S3283;
    float _S3288 = - _S3278 + _S3280;
    float _S3289 = _S3278 + _S3280;
    float _S3290 = _S3279 + _S3283;
    float _S3291 = _S3282 + _S3284;
    float _S3292 = quat_18.w * (_S3281 + _S3285);
    float _S3293 = quat_18.z * (_S3277 + _S3285);
    float _S3294 = quat_18.y * (_S3277 + _S3281);
    float _S3295 = quat_18.x * _S3286 + quat_18.z * _S3289 + quat_18.y * _S3290 + _S3292 + _S3292;
    float _S3296 = quat_18.x * _S3287 + quat_18.w * _S3289 + quat_18.y * _S3291 + _S3293 + _S3293;
    float _S3297 = quat_18.x * _S3288 + quat_18.w * _S3290 + quat_18.z * _S3291 + _S3294 + _S3294;
    float _S3298 = quat_18.w * _S3286 + quat_18.z * _S3287 + quat_18.y * _S3288;
    float3  _S3299 = _S3048;
    *&((&_S3299)->z) = _S3266;
    *&((&_S3299)->y) = _S3270;
    *&((&_S3299)->x) = _S3274;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3300;
    (&_S3300)->primal_0 = scale_17;
    (&_S3300)->differential_0 = _S3048;
    s_bwd_prop_exp_1(&_S3300, _S3299);
    Matrix<float, 2, 2>  _S3301 = _S3045;
    _S3301[int(1)] = _S3246;
    _S3301[int(0)] = _S3248;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3302;
    (&_S3302)->primal_0 = mean_c_14;
    (&_S3302)->differential_0 = _S3048;
    s_bwd_length_impl_1(&_S3302, _S3197);
    float3  _S3303 = _S3302.differential_0 + _S3224;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3304;
    (&_S3304)->primal_0 = R_21;
    (&_S3304)->differential_0 = _S3188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3305;
    (&_S3305)->primal_0 = mean_15;
    (&_S3305)->differential_0 = _S3048;
    s_bwd_prop_mul_1(&_S3304, &_S3305, _S3303);
    float3  _S3306 = _S3303 + _S3191.differential_0;
    Matrix<float, 3, 3>  _S3307 = _S3249.differential_0 + _S3251.differential_0 + _S3253.differential_0 + _S3255.differential_0 + _S3257.differential_0 + _S3259.differential_0 + _S3261.differential_0 + _S3304.differential_0 + _S3192;
    float3  _S3308 = _S3300.differential_0 + _S3194;
    float4  _S3309 = make_float4 (0.0f);
    *&((&_S3309)->w) = _S3295;
    *&((&_S3309)->z) = _S3296;
    *&((&_S3309)->y) = _S3297;
    *&((&_S3309)->x) = _S3298;
    float4  _S3310 = _S3309;
    float3  _S3311 = _S3250.differential_0 + _S3256.differential_0 + _S3252.differential_0 + _S3258.differential_0 + _S3254.differential_0 + _S3260.differential_0 + _S3305.differential_0 + _S3186;
    *v_mean_4 = _S3311;
    *v_quat_4 = _S3310;
    *v_scale_4 = _S3308;
    *v_in_opacity_4 = _S3231;
    (*v_sh_coeffs_4)[int(0)] = _S3208;
    (*v_sh_coeffs_4)[int(1)] = _S3209;
    (*v_sh_coeffs_4)[int(2)] = _S3210;
    (*v_sh_coeffs_4)[int(3)] = _S3211;
    (*v_sh_coeffs_4)[int(4)] = _S3212;
    (*v_sh_coeffs_4)[int(5)] = _S3213;
    (*v_sh_coeffs_4)[int(6)] = _S3214;
    (*v_sh_coeffs_4)[int(7)] = _S3215;
    (*v_sh_coeffs_4)[int(8)] = _S3216;
    (*v_sh_coeffs_4)[int(9)] = _S3217;
    (*v_sh_coeffs_4)[int(10)] = _S3218;
    (*v_sh_coeffs_4)[int(11)] = _S3219;
    (*v_sh_coeffs_4)[int(12)] = _S3220;
    (*v_sh_coeffs_4)[int(13)] = _S3221;
    (*v_sh_coeffs_4)[int(14)] = _S3222;
    (*v_sh_coeffs_4)[int(15)] = _S3223;
    *v_R_6 = _S3307;
    *v_t_5 = _S3306;
    return;
}

inline __device__ DiffPair_float_0 s_fwd_length_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_17)
{
    float _S3312 = *&((&dpx_17->differential_0)->x) * *&((&dpx_17->primal_0)->x);
    float _S3313 = *&((&dpx_17->differential_0)->y) * *&((&dpx_17->primal_0)->y);
    float _S3314 = *&((&dpx_17->differential_0)->z) * *&((&dpx_17->primal_0)->z);
    float s_diff_len_0 = _S3312 + _S3312 + (_S3313 + _S3313) + (_S3314 + _S3314);
    DiffPair_float_0 _S3315;
    (&_S3315)->primal_0 = *&((&dpx_17->primal_0)->x) * *&((&dpx_17->primal_0)->x) + *&((&dpx_17->primal_0)->y) * *&((&dpx_17->primal_0)->y) + *&((&dpx_17->primal_0)->z) * *&((&dpx_17->primal_0)->z);
    (&_S3315)->differential_0 = s_diff_len_0;
    DiffPair_float_0 _S3316 = _d_sqrt_1(&_S3315);
    DiffPair_float_0 _S3317 = { _S3316.primal_0, _S3316.differential_0 };
    return _S3317;
}

inline __device__ void projection_3dgut_persp_vjp(bool antialiased_15, float3  mean_16, float4  quat_19, float3  scale_18, float in_opacity_15, FixedArray<float3 , 16>  * sh_coeffs_15, Matrix<float, 3, 3>  R_22, float3  t_18, float fx_27, float fy_27, float cx_22, float cy_22, FixedArray<float, 10>  * dist_coeffs_30, uint image_width_15, uint image_height_15, float2  v_mean2d_5, float v_depth_5, float3  v_conic_5, float v_opacity_5, float3  v_rgb_5, float2  h_mean2d_0, float h_depth_0, float3  h_conic_0, float h_opacity_0, float3  h_rgb_0, float3  * v_mean_5, float4  * v_quat_5, float3  * v_scale_5, float * v_in_opacity_5, FixedArray<float3 , 16>  * v_sh_coeffs_5, Matrix<float, 3, 3>  * v_R_7, float3  * v_t_6, float3  * h_mean_0)
{
    Matrix<float, 2, 2>  _S3318 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S3319;
    (&_S3319)->_S2778 = _S3318;
    float2  _S3320 = make_float2 (0.0f);
    float3  _S3321 = make_float3 (0.0f);
    float4  intrins_18 = make_float4 (fx_27, fy_27, cx_22, cy_22);
    float3  _S3322 = s_primal_ctx_exp_0(scale_18);
    float _S3323 = quat_19.y;
    float x2_19 = _S3323 * _S3323;
    float y2_19 = quat_19.z * quat_19.z;
    float z2_34 = quat_19.w * quat_19.w;
    float xy_19 = quat_19.y * quat_19.z;
    float xz_19 = quat_19.y * quat_19.w;
    float yz_19 = quat_19.z * quat_19.w;
    float wx_19 = quat_19.x * quat_19.y;
    float wy_19 = quat_19.x * quat_19.z;
    float wz_19 = quat_19.x * quat_19.w;
    Matrix<float, 3, 3>  _S3324 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_19 + z2_34), 2.0f * (xy_19 + wz_19), 2.0f * (xz_19 - wy_19), 2.0f * (xy_19 - wz_19), 1.0f - 2.0f * (x2_19 + z2_34), 2.0f * (yz_19 + wx_19), 2.0f * (xz_19 + wy_19), 2.0f * (yz_19 - wx_19), 1.0f - 2.0f * (x2_19 + y2_19))));
    FixedArray<float3 , 7>  _S3325 = {
        _S3321, _S3321, _S3321, _S3321, _S3321, _S3321, _S3321
    };
    FixedArray<float, 7>  _S3326 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3327;
    (&_S3327)->p_0 = _S3325;
    (&_S3327)->w_mean_0 = _S3326;
    (&_S3327)->w_cov_0 = _S3326;
    (&_S3327)->p_0[int(0)] = mean_16;
    SigmaPoints_0 _S3328 = _S3327;
    (&_S3328)->w_mean_0[int(0)] = 0.0f;
    (&_S3328)->w_cov_0[int(0)] = 2.0f;
    float _S3329 = s_primal_ctx_sqrt_0(3.0f);
    float _S3330 = _S3329 * _S3322.x;
    float3  delta_18 = make_float3 (_S3330) * _S3324.rows[0U];
    float3  _S3331 = mean_16 + delta_18;
    SigmaPoints_0 _S3332 = _S3328;
    float3  _S3333 = mean_16 - delta_18;
    float _S3334 = _S3329 * _S3322.y;
    float3  delta_19 = make_float3 (_S3334) * _S3324.rows[1U];
    float3  _S3335 = mean_16 + delta_19;
    float3  _S3336 = mean_16 - delta_19;
    float _S3337 = _S3329 * _S3322.z;
    float3  delta_20 = make_float3 (_S3337) * _S3324.rows[2U];
    float3  _S3338 = mean_16 + delta_20;
    float3  _S3339 = mean_16 - delta_20;
    (&_S3332)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3332)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3332)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3332)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3332)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3332)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3332)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3332)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3332)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3332)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3332)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3332)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S3340 = _S3327;
    (&_S3332)->p_0[0U] = s_primal_ctx_mul_0(R_22, _S3327.p_0[0U]) + t_18;
    (&_S3332)->p_0[1U] = s_primal_ctx_mul_0(R_22, _S3331) + t_18;
    (&_S3332)->p_0[2U] = s_primal_ctx_mul_0(R_22, _S3335) + t_18;
    (&_S3332)->p_0[3U] = s_primal_ctx_mul_0(R_22, _S3338) + t_18;
    (&_S3332)->p_0[4U] = s_primal_ctx_mul_0(R_22, _S3333) + t_18;
    (&_S3332)->p_0[5U] = s_primal_ctx_mul_0(R_22, _S3336) + t_18;
    (&_S3332)->p_0[6U] = s_primal_ctx_mul_0(R_22, _S3339) + t_18;
    float2  _S3341 = _S3320;
    Matrix<float, 2, 2>  _S3342 = _S3318;
    SigmaPoints_0 _S3343 = _S3332;
    bool _S3344 = persp_proj_3dgs_ut_1(&_S3343, intrins_18, dist_coeffs_30, image_width_15, image_height_15, &_S3342, &_S3341);
    (&_S3319)->_S2778 = _S3342;
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S3345 = _S3319;
    float3  mean_c_15 = s_primal_ctx_mul_0(R_22, mean_16) + t_18;
    float3  _S3346 = make_float3 (_S3330);
    float3  _S3347 = make_float3 (_S3334);
    float3  _S3348 = make_float3 (_S3337);
    float _S3349 = _S3319._S2778.rows[int(0)].y * _S3319._S2778.rows[int(1)].x;
    float det_orig_16 = _S3319._S2778.rows[int(0)].x * _S3319._S2778.rows[int(1)].y - _S3349;
    float _S3350 = _S3319._S2778.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3351 = _S3319._S2778;
    *&(((&_S3351)->rows + (int(0)))->x) = _S3350;
    float _S3352 = _S3319._S2778.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3351)->rows + (int(1)))->y) = _S3352;
    Matrix<float, 2, 2>  _S3353 = _S3351;
    Matrix<float, 2, 2>  _S3354 = _S3351;
    float det_blur_11 = _S3350 * _S3352 - _S3349;
    float _S3355 = det_orig_16 / det_blur_11;
    float _S3356 = det_blur_11 * det_blur_11;
    float _S3357 = s_primal_ctx_max_0(0.0f, _S3355);
    float _S3358 = s_primal_ctx_sqrt_0(_S3357);
    float _S3359 = - in_opacity_15;
    float _S3360 = 1.0f + s_primal_ctx_exp_1(_S3359);
    float _S3361 = 1.0f / _S3360;
    float _S3362 = _S3360 * _S3360;
    float _S3363;
    if(antialiased_15)
    {
        _S3363 = _S3361 * _S3358;
    }
    else
    {
        _S3363 = _S3361;
    }
    float _S3364 = _S3363 / 0.00392156885936856f;
    float _S3365 = 2.0f * s_primal_ctx_log_0(_S3364);
    float _S3366 = s_primal_ctx_sqrt_0(_S3365);
    float _S3367 = _S3353.rows[int(0)].x;
    float _S3368 = _S3354.rows[int(1)].y;
    float _S3369 = mean_c_15.z;
    float _S3370 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S3371 = _S3370 * (_S3369 + length_1(mean_c_15));
    float3  _S3372 = - scale_18;
    Matrix<float, 3, 3>  _S3373 = transpose_0(R_22);
    float3  _S3374 = mean_16 - - s_primal_ctx_mul_0(_S3373, t_18);
    float3  _S3375 = make_float3 (0.282094806432724f) * (*sh_coeffs_15)[int(0)];
    float _S3376 = _S3374.x;
    float _S3377 = _S3374.y;
    float _S3378 = _S3374.z;
    float _S3379 = _S3376 * _S3376 + _S3377 * _S3377 + _S3378 * _S3378;
    float _S3380 = s_primal_ctx_sqrt_0(_S3379);
    float x_40 = _S3376 / _S3380;
    float3  _S3381 = make_float3 (x_40);
    float _S3382 = _S3380 * _S3380;
    float y_18 = _S3377 / _S3380;
    float z_15 = _S3378 / _S3380;
    float3  _S3383 = make_float3 (z_15);
    float _S3384 = - y_18;
    float3  _S3385 = make_float3 (_S3384);
    float z2_35 = z_15 * z_15;
    float fTmp0B_15 = -1.09254848957061768f * z_15;
    float fC1_15 = x_40 * x_40 - y_18 * y_18;
    float _S3386 = 2.0f * x_40;
    float fS1_15 = _S3386 * y_18;
    float pSH6_5 = 0.94617468118667603f * z2_35 - 0.31539157032966614f;
    float3  _S3387 = make_float3 (pSH6_5);
    float pSH7_5 = fTmp0B_15 * x_40;
    float3  _S3388 = make_float3 (pSH7_5);
    float pSH5_5 = fTmp0B_15 * y_18;
    float3  _S3389 = make_float3 (pSH5_5);
    float pSH8_5 = 0.54627424478530884f * fC1_15;
    float3  _S3390 = make_float3 (pSH8_5);
    float pSH4_5 = 0.54627424478530884f * fS1_15;
    float3  _S3391 = make_float3 (pSH4_5);
    float fTmp0C_15 = -2.28522896766662598f * z2_35 + 0.4570457935333252f;
    float fTmp1B_15 = 1.44530570507049561f * z_15;
    float _S3392 = 1.86588168144226074f * z2_35 - 1.11952900886535645f;
    float pSH12_5 = z_15 * _S3392;
    float3  _S3393 = make_float3 (pSH12_5);
    float pSH13_5 = fTmp0C_15 * x_40;
    float3  _S3394 = make_float3 (pSH13_5);
    float pSH11_5 = fTmp0C_15 * y_18;
    float3  _S3395 = make_float3 (pSH11_5);
    float pSH14_5 = fTmp1B_15 * fC1_15;
    float3  _S3396 = make_float3 (pSH14_5);
    float pSH10_5 = fTmp1B_15 * fS1_15;
    float3  _S3397 = make_float3 (pSH10_5);
    float pSH15_5 = -0.59004360437393188f * (x_40 * fC1_15 - y_18 * fS1_15);
    float3  _S3398 = make_float3 (pSH15_5);
    float pSH9_5 = -0.59004360437393188f * (x_40 * fS1_15 + y_18 * fC1_15);
    float3  _S3399 = make_float3 (pSH9_5);
    float3  _S3400 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3401;
    (&_S3401)->primal_0 = _S3375 + make_float3 (0.48860251903533936f) * (make_float3 (_S3384) * (*sh_coeffs_15)[int(1)] + make_float3 (z_15) * (*sh_coeffs_15)[int(2)] - make_float3 (x_40) * (*sh_coeffs_15)[int(3)]) + (make_float3 (pSH4_5) * (*sh_coeffs_15)[int(4)] + make_float3 (pSH5_5) * (*sh_coeffs_15)[int(5)] + make_float3 (pSH6_5) * (*sh_coeffs_15)[int(6)] + make_float3 (pSH7_5) * (*sh_coeffs_15)[int(7)] + make_float3 (pSH8_5) * (*sh_coeffs_15)[int(8)]) + (make_float3 (pSH9_5) * (*sh_coeffs_15)[int(9)] + make_float3 (pSH10_5) * (*sh_coeffs_15)[int(10)] + make_float3 (pSH11_5) * (*sh_coeffs_15)[int(11)] + make_float3 (pSH12_5) * (*sh_coeffs_15)[int(12)] + make_float3 (pSH13_5) * (*sh_coeffs_15)[int(13)] + make_float3 (pSH14_5) * (*sh_coeffs_15)[int(14)] + make_float3 (pSH15_5) * (*sh_coeffs_15)[int(15)]) + make_float3 (0.5f);
    (&_S3401)->differential_0 = _S3321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3402;
    (&_S3402)->primal_0 = _S3400;
    (&_S3402)->differential_0 = _S3321;
    s_bwd_prop_max_0(&_S3401, &_S3402, v_rgb_5);
    float3  _S3403 = _S3398 * _S3401.differential_0;
    float3  _S3404 = (*sh_coeffs_15)[int(15)] * _S3401.differential_0;
    float3  _S3405 = _S3396 * _S3401.differential_0;
    float3  _S3406 = (*sh_coeffs_15)[int(14)] * _S3401.differential_0;
    float3  _S3407 = _S3394 * _S3401.differential_0;
    float3  _S3408 = (*sh_coeffs_15)[int(13)] * _S3401.differential_0;
    float3  _S3409 = _S3393 * _S3401.differential_0;
    float3  _S3410 = (*sh_coeffs_15)[int(12)] * _S3401.differential_0;
    float3  _S3411 = _S3395 * _S3401.differential_0;
    float3  _S3412 = (*sh_coeffs_15)[int(11)] * _S3401.differential_0;
    float3  _S3413 = _S3397 * _S3401.differential_0;
    float3  _S3414 = (*sh_coeffs_15)[int(10)] * _S3401.differential_0;
    float3  _S3415 = _S3399 * _S3401.differential_0;
    float3  _S3416 = (*sh_coeffs_15)[int(9)] * _S3401.differential_0;
    float s_diff_fS2_T_5 = -0.59004360437393188f * (_S3416.x + _S3416.y + _S3416.z);
    float s_diff_fC2_T_5 = -0.59004360437393188f * (_S3404.x + _S3404.y + _S3404.z);
    float _S3417 = _S3414.x + _S3414.y + _S3414.z;
    float _S3418 = _S3406.x + _S3406.y + _S3406.z;
    float _S3419 = _S3412.x + _S3412.y + _S3412.z;
    float _S3420 = _S3408.x + _S3408.y + _S3408.z;
    float _S3421 = _S3410.x + _S3410.y + _S3410.z;
    float _S3422 = - s_diff_fC2_T_5;
    float3  _S3423 = _S3390 * _S3401.differential_0;
    float3  _S3424 = (*sh_coeffs_15)[int(8)] * _S3401.differential_0;
    float3  _S3425 = _S3388 * _S3401.differential_0;
    float3  _S3426 = (*sh_coeffs_15)[int(7)] * _S3401.differential_0;
    float3  _S3427 = _S3387 * _S3401.differential_0;
    float3  _S3428 = (*sh_coeffs_15)[int(6)] * _S3401.differential_0;
    float3  _S3429 = _S3389 * _S3401.differential_0;
    float3  _S3430 = (*sh_coeffs_15)[int(5)] * _S3401.differential_0;
    float3  _S3431 = _S3391 * _S3401.differential_0;
    float3  _S3432 = (*sh_coeffs_15)[int(4)] * _S3401.differential_0;
    float _S3433 = _S3430.x + _S3430.y + _S3430.z;
    float _S3434 = _S3426.x + _S3426.y + _S3426.z;
    float _S3435 = fTmp1B_15 * _S3417 + x_40 * s_diff_fS2_T_5 + y_18 * _S3422 + 0.54627424478530884f * (_S3432.x + _S3432.y + _S3432.z);
    float _S3436 = fTmp1B_15 * _S3418 + y_18 * s_diff_fS2_T_5 + x_40 * s_diff_fC2_T_5 + 0.54627424478530884f * (_S3424.x + _S3424.y + _S3424.z);
    float _S3437 = y_18 * - _S3436;
    float _S3438 = x_40 * _S3436;
    float _S3439 = z_15 * (1.86588168144226074f * (z_15 * _S3421) + -2.28522896766662598f * (y_18 * _S3419 + x_40 * _S3420) + 0.94617468118667603f * (_S3428.x + _S3428.y + _S3428.z));
    float3  _S3440 = make_float3 (0.48860251903533936f) * _S3401.differential_0;
    float3  _S3441 = - _S3440;
    float3  _S3442 = _S3381 * _S3441;
    float3  _S3443 = (*sh_coeffs_15)[int(3)] * _S3441;
    float3  _S3444 = _S3383 * _S3440;
    float3  _S3445 = (*sh_coeffs_15)[int(2)] * _S3440;
    float3  _S3446 = _S3385 * _S3440;
    float3  _S3447 = (*sh_coeffs_15)[int(1)] * _S3440;
    float _S3448 = (_S3392 * _S3421 + 1.44530570507049561f * (fS1_15 * _S3417 + fC1_15 * _S3418) + -1.09254848957061768f * (y_18 * _S3433 + x_40 * _S3434) + _S3439 + _S3439 + _S3445.x + _S3445.y + _S3445.z) / _S3382;
    float _S3449 = _S3380 * _S3448;
    float _S3450 = (fTmp0C_15 * _S3419 + fC1_15 * s_diff_fS2_T_5 + fS1_15 * _S3422 + fTmp0B_15 * _S3433 + _S3386 * _S3435 + _S3437 + _S3437 + - (_S3447.x + _S3447.y + _S3447.z)) / _S3382;
    float _S3451 = _S3380 * _S3450;
    float _S3452 = (fTmp0C_15 * _S3420 + fS1_15 * s_diff_fS2_T_5 + fC1_15 * s_diff_fC2_T_5 + fTmp0B_15 * _S3434 + 2.0f * (y_18 * _S3435) + _S3438 + _S3438 + _S3443.x + _S3443.y + _S3443.z) / _S3382;
    float _S3453 = _S3380 * _S3452;
    float _S3454 = _S3378 * - _S3448 + _S3377 * - _S3450 + _S3376 * - _S3452;
    DiffPair_float_0 _S3455;
    (&_S3455)->primal_0 = _S3379;
    (&_S3455)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3455, _S3454);
    float _S3456 = _S3378 * _S3455.differential_0;
    float _S3457 = _S3377 * _S3455.differential_0;
    float _S3458 = _S3376 * _S3455.differential_0;
    float3  _S3459 = make_float3 (0.282094806432724f) * _S3401.differential_0;
    float3  _S3460 = make_float3 (_S3453 + _S3458 + _S3458, _S3451 + _S3457 + _S3457, _S3449 + _S3456 + _S3456);
    float3  _S3461 = - - _S3460;
    Matrix<float, 3, 3>  _S3462 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3463;
    (&_S3463)->primal_0 = _S3373;
    (&_S3463)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3464;
    (&_S3464)->primal_0 = t_18;
    (&_S3464)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3463, &_S3464, _S3461);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3465 = _S3464;
    Matrix<float, 3, 3>  _S3466 = transpose_0(_S3463.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3467;
    (&_S3467)->primal_0 = _S3372;
    (&_S3467)->differential_0 = _S3321;
    s_bwd_prop_exp_1(&_S3467, v_conic_5);
    float3  _S3468 = - _S3467.differential_0;
    DiffPair_float_0 _S3469;
    (&_S3469)->primal_0 = _S3369;
    (&_S3469)->differential_0 = 0.0f;
    DiffPair_float_0 _S3470;
    (&_S3470)->primal_0 = _S3371;
    (&_S3470)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3469, &_S3470, v_depth_5);
    float _S3471 = _S3370 * _S3470.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3472;
    (&_S3472)->primal_0 = mean_c_15;
    (&_S3472)->differential_0 = _S3321;
    s_bwd_length_impl_1(&_S3472, _S3471);
    float _S3473 = _S3469.differential_0 + _S3471;
    DiffPair_float_0 _S3474;
    (&_S3474)->primal_0 = _S3368;
    (&_S3474)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3474, 0.0f);
    DiffPair_float_0 _S3475;
    (&_S3475)->primal_0 = _S3367;
    (&_S3475)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3475, 0.0f);
    DiffPair_float_0 _S3476;
    (&_S3476)->primal_0 = 3.32999992370605469f;
    (&_S3476)->differential_0 = 0.0f;
    DiffPair_float_0 _S3477;
    (&_S3477)->primal_0 = _S3366;
    (&_S3477)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3476, &_S3477, 0.0f);
    DiffPair_float_0 _S3478;
    (&_S3478)->primal_0 = _S3365;
    (&_S3478)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3478, _S3477.differential_0);
    float _S3479 = 2.0f * _S3478.differential_0;
    DiffPair_float_0 _S3480;
    (&_S3480)->primal_0 = _S3364;
    (&_S3480)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3480, _S3479);
    float _S3481 = v_opacity_5 + 254.9999847412109375f * _S3480.differential_0;
    FixedArray<float3 , 16>  _S3482;
    _S3482[int(0)] = _S3321;
    _S3482[int(1)] = _S3321;
    _S3482[int(2)] = _S3321;
    _S3482[int(3)] = _S3321;
    _S3482[int(4)] = _S3321;
    _S3482[int(5)] = _S3321;
    _S3482[int(6)] = _S3321;
    _S3482[int(7)] = _S3321;
    _S3482[int(8)] = _S3321;
    _S3482[int(9)] = _S3321;
    _S3482[int(10)] = _S3321;
    _S3482[int(11)] = _S3321;
    _S3482[int(12)] = _S3321;
    _S3482[int(13)] = _S3321;
    _S3482[int(14)] = _S3321;
    _S3482[int(15)] = _S3321;
    _S3482[int(7)] = _S3425;
    _S3482[int(0)] = _S3459;
    _S3482[int(1)] = _S3446;
    _S3482[int(2)] = _S3444;
    _S3482[int(3)] = _S3442;
    _S3482[int(4)] = _S3431;
    _S3482[int(5)] = _S3429;
    _S3482[int(6)] = _S3427;
    _S3482[int(15)] = _S3403;
    _S3482[int(8)] = _S3423;
    _S3482[int(9)] = _S3415;
    _S3482[int(10)] = _S3413;
    _S3482[int(11)] = _S3411;
    _S3482[int(12)] = _S3409;
    _S3482[int(13)] = _S3407;
    _S3482[int(14)] = _S3405;
    float3  _S3483 = _S3482[int(0)];
    float3  _S3484 = _S3482[int(1)];
    float3  _S3485 = _S3482[int(2)];
    float3  _S3486 = _S3482[int(3)];
    float3  _S3487 = _S3482[int(4)];
    float3  _S3488 = _S3482[int(5)];
    float3  _S3489 = _S3482[int(6)];
    float3  _S3490 = _S3482[int(7)];
    float3  _S3491 = _S3482[int(8)];
    float3  _S3492 = _S3482[int(9)];
    float3  _S3493 = _S3482[int(10)];
    float3  _S3494 = _S3482[int(11)];
    float3  _S3495 = _S3482[int(12)];
    float3  _S3496 = _S3482[int(13)];
    float3  _S3497 = _S3482[int(14)];
    float3  _S3498 = _S3482[int(15)];
    float3  _S3499 = _S3472.differential_0 + make_float3 (0.0f, 0.0f, _S3473);
    float2  _S3500 = make_float2 (0.0f, _S3474.differential_0);
    float2  _S3501 = make_float2 (_S3475.differential_0, 0.0f);
    float _S3502;
    if(antialiased_15)
    {
        float _S3503 = _S3361 * _S3481;
        _S3363 = _S3358 * _S3481;
        _S3502 = _S3503;
    }
    else
    {
        _S3363 = _S3481;
        _S3502 = 0.0f;
    }
    float _S3504 = - (_S3363 / _S3362);
    DiffPair_float_0 _S3505;
    (&_S3505)->primal_0 = _S3359;
    (&_S3505)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3505, _S3504);
    float _S3506 = - _S3505.differential_0;
    DiffPair_float_0 _S3507;
    (&_S3507)->primal_0 = _S3357;
    (&_S3507)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3507, _S3502);
    DiffPair_float_0 _S3508;
    (&_S3508)->primal_0 = 0.0f;
    (&_S3508)->differential_0 = 0.0f;
    DiffPair_float_0 _S3509;
    (&_S3509)->primal_0 = _S3355;
    (&_S3509)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3508, &_S3509, _S3507.differential_0);
    float _S3510 = _S3509.differential_0 / _S3356;
    float s_diff_det_blur_T_2 = det_orig_16 * - _S3510;
    float s_diff_det_orig_T_5 = det_blur_11 * _S3510;
    float _S3511 = - s_diff_det_blur_T_2;
    float _S3512 = _S3350 * s_diff_det_blur_T_2;
    float _S3513 = _S3352 * s_diff_det_blur_T_2;
    Matrix<float, 2, 2>  _S3514 = _S3318;
    _S3514[int(1)] = _S3500;
    _S3514[int(0)] = _S3501;
    float _S3515 = _S3513 + _S3514.rows[int(0)].x;
    float _S3516 = _S3511 + - s_diff_det_orig_T_5;
    float _S3517 = _S3345._S2778.rows[int(0)].y * _S3516;
    float _S3518 = _S3345._S2778.rows[int(1)].x * _S3516;
    float _S3519 = _S3345._S2778.rows[int(1)].y * s_diff_det_orig_T_5;
    float _S3520 = _S3512 + _S3514.rows[int(1)].y + _S3345._S2778.rows[int(0)].x * s_diff_det_orig_T_5;
    float2  _S3521 = _S3320;
    *&((&_S3521)->x) = _S3517;
    *&((&_S3521)->y) = _S3520;
    float _S3522 = _S3515 + _S3519;
    float2  _S3523 = _S3320;
    *&((&_S3523)->y) = _S3518;
    *&((&_S3523)->x) = _S3522;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3524;
    (&_S3524)->primal_0 = R_22;
    (&_S3524)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3525;
    (&_S3525)->primal_0 = _S3339;
    (&_S3525)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3524, &_S3525, _S3321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3526;
    (&_S3526)->primal_0 = R_22;
    (&_S3526)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3527;
    (&_S3527)->primal_0 = _S3336;
    (&_S3527)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3526, &_S3527, _S3321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3528;
    (&_S3528)->primal_0 = R_22;
    (&_S3528)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3529;
    (&_S3529)->primal_0 = _S3333;
    (&_S3529)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3528, &_S3529, _S3321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3530;
    (&_S3530)->primal_0 = R_22;
    (&_S3530)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3531;
    (&_S3531)->primal_0 = _S3338;
    (&_S3531)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3530, &_S3531, _S3321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3532;
    (&_S3532)->primal_0 = R_22;
    (&_S3532)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3533;
    (&_S3533)->primal_0 = _S3335;
    (&_S3533)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3532, &_S3533, _S3321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3534;
    (&_S3534)->primal_0 = R_22;
    (&_S3534)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3535;
    (&_S3535)->primal_0 = _S3331;
    (&_S3535)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3534, &_S3535, _S3321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3536;
    (&_S3536)->primal_0 = R_22;
    (&_S3536)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3537;
    (&_S3537)->primal_0 = _S3340.p_0[0U];
    (&_S3537)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3536, &_S3537, _S3321);
    float3  _S3538 = - _S3525.differential_0 + _S3531.differential_0;
    float3  _S3539 = _S3348 * _S3538;
    float3  _S3540 = _S3324.rows[2U] * _S3538;
    float _S3541 = _S3329 * (_S3540.x + _S3540.y + _S3540.z);
    float3  _S3542 = - _S3527.differential_0 + _S3533.differential_0;
    float3  _S3543 = _S3347 * _S3542;
    float3  _S3544 = _S3324.rows[1U] * _S3542;
    float _S3545 = _S3329 * (_S3544.x + _S3544.y + _S3544.z);
    float3  _S3546 = - _S3529.differential_0 + _S3535.differential_0;
    float3  _S3547 = _S3346 * _S3546;
    float3  _S3548 = _S3324.rows[0U] * _S3546;
    float _S3549 = _S3329 * (_S3548.x + _S3548.y + _S3548.z);
    Matrix<float, 3, 3>  _S3550 = _S3462;
    _S3550[2U] = _S3539;
    _S3550[1U] = _S3543;
    _S3550[0U] = _S3547;
    Matrix<float, 3, 3>  _S3551 = transpose_0(transpose_0(_S3550));
    float _S3552 = 2.0f * - _S3551.rows[int(2)].z;
    float _S3553 = 2.0f * _S3551.rows[int(2)].y;
    float _S3554 = 2.0f * _S3551.rows[int(2)].x;
    float _S3555 = 2.0f * _S3551.rows[int(1)].z;
    float _S3556 = 2.0f * - _S3551.rows[int(1)].y;
    float _S3557 = 2.0f * _S3551.rows[int(1)].x;
    float _S3558 = 2.0f * _S3551.rows[int(0)].z;
    float _S3559 = 2.0f * _S3551.rows[int(0)].y;
    float _S3560 = 2.0f * - _S3551.rows[int(0)].x;
    float _S3561 = - _S3557 + _S3559;
    float _S3562 = _S3554 + - _S3558;
    float _S3563 = - _S3553 + _S3555;
    float _S3564 = _S3553 + _S3555;
    float _S3565 = _S3554 + _S3558;
    float _S3566 = _S3557 + _S3559;
    float _S3567 = quat_19.w * (_S3556 + _S3560);
    float _S3568 = quat_19.z * (_S3552 + _S3560);
    float _S3569 = quat_19.y * (_S3552 + _S3556);
    float _S3570 = quat_19.x * _S3561 + quat_19.z * _S3564 + quat_19.y * _S3565 + _S3567 + _S3567;
    float _S3571 = quat_19.x * _S3562 + quat_19.w * _S3564 + quat_19.y * _S3566 + _S3568 + _S3568;
    float _S3572 = quat_19.x * _S3563 + quat_19.w * _S3565 + quat_19.z * _S3566 + _S3569 + _S3569;
    float _S3573 = quat_19.w * _S3561 + quat_19.z * _S3562 + quat_19.y * _S3563;
    float3  _S3574 = _S3321;
    *&((&_S3574)->z) = _S3541;
    *&((&_S3574)->y) = _S3545;
    *&((&_S3574)->x) = _S3549;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3575;
    (&_S3575)->primal_0 = scale_18;
    (&_S3575)->differential_0 = _S3321;
    s_bwd_prop_exp_1(&_S3575, _S3574);
    Matrix<float, 2, 2>  _S3576 = _S3318;
    _S3576[int(1)] = _S3521;
    _S3576[int(0)] = _S3523;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3577;
    (&_S3577)->primal_0 = R_22;
    (&_S3577)->differential_0 = _S3462;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3578;
    (&_S3578)->primal_0 = mean_16;
    (&_S3578)->differential_0 = _S3321;
    s_bwd_prop_mul_1(&_S3577, &_S3578, _S3499);
    float3  _S3579 = _S3499 + _S3465.differential_0;
    Matrix<float, 3, 3>  _S3580 = _S3524.differential_0 + _S3526.differential_0 + _S3528.differential_0 + _S3530.differential_0 + _S3532.differential_0 + _S3534.differential_0 + _S3536.differential_0 + _S3577.differential_0 + _S3466;
    float3  _S3581 = _S3575.differential_0 + _S3468;
    float4  _S3582 = make_float4 (0.0f);
    *&((&_S3582)->w) = _S3570;
    *&((&_S3582)->z) = _S3571;
    *&((&_S3582)->y) = _S3572;
    *&((&_S3582)->x) = _S3573;
    float4  _S3583 = _S3582;
    float3  _S3584 = _S3525.differential_0 + _S3531.differential_0 + _S3527.differential_0 + _S3533.differential_0 + _S3529.differential_0 + _S3535.differential_0 + _S3578.differential_0 + _S3460;
    *v_mean_5 = _S3584;
    *v_quat_5 = _S3583;
    *v_scale_5 = _S3581;
    *v_in_opacity_5 = _S3506;
    (*v_sh_coeffs_5)[int(0)] = _S3483;
    (*v_sh_coeffs_5)[int(1)] = _S3484;
    (*v_sh_coeffs_5)[int(2)] = _S3485;
    (*v_sh_coeffs_5)[int(3)] = _S3486;
    (*v_sh_coeffs_5)[int(4)] = _S3487;
    (*v_sh_coeffs_5)[int(5)] = _S3488;
    (*v_sh_coeffs_5)[int(6)] = _S3489;
    (*v_sh_coeffs_5)[int(7)] = _S3490;
    (*v_sh_coeffs_5)[int(8)] = _S3491;
    (*v_sh_coeffs_5)[int(9)] = _S3492;
    (*v_sh_coeffs_5)[int(10)] = _S3493;
    (*v_sh_coeffs_5)[int(11)] = _S3494;
    (*v_sh_coeffs_5)[int(12)] = _S3495;
    (*v_sh_coeffs_5)[int(13)] = _S3496;
    (*v_sh_coeffs_5)[int(14)] = _S3497;
    (*v_sh_coeffs_5)[int(15)] = _S3498;
    *v_R_7 = _S3580;
    *v_t_6 = _S3579;
    float3  _S3585 = make_float3 (1.0f, 0.0f, 0.0f);
    int3  _S3586 = make_int3 (int(0));
    float3  _S3587 = make_float3 ((float)_S3586.x, (float)_S3586.y, (float)_S3586.z);
    float3  _S3588 = mul_0(_S3462, mean_16);
    float3  _S3589 = _S3588 + mul_0(R_22, _S3585);
    float3  mean_c_16 = mul_0(R_22, mean_16) + t_18;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3590;
    (&_S3590)->primal_0 = scale_18;
    (&_S3590)->differential_0 = _S3587;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3591 = _d_exp_vector_1(&_S3590);
    DiffPair_float_0 _S3592;
    (&_S3592)->primal_0 = 3.0f;
    (&_S3592)->differential_0 = 0.0f;
    DiffPair_float_0 _S3593 = _d_sqrt_1(&_S3592);
    float3  delta_21 = make_float3 (_S3593.primal_0 * _S3591.primal_0.x) * _S3324.rows[0U];
    float3  _S3594 = mean_16 + delta_21;
    float3  _S3595 = mean_16 - delta_21;
    float3  delta_22 = make_float3 (_S3593.primal_0 * _S3591.primal_0.y) * _S3324.rows[1U];
    float3  _S3596 = mean_16 + delta_22;
    float3  _S3597 = mean_16 - delta_22;
    float3  delta_23 = make_float3 (_S3593.primal_0 * _S3591.primal_0.z) * _S3324.rows[2U];
    float3  _S3598 = mean_16 + delta_23;
    float3  _S3599 = mean_16 - delta_23;
    DiffPair_float_0 _S3600;
    (&_S3600)->primal_0 = _S3359;
    (&_S3600)->differential_0 = -0.0f;
    DiffPair_float_0 _S3601 = _d_exp_1(&_S3600);
    float _S3602 = 1.0f + _S3601.primal_0;
    DiffPair_float_0 _S3603;
    (&_S3603)->primal_0 = 2.0f;
    (&_S3603)->differential_0 = 0.0f;
    DiffPair_float_0 _S3604 = _d_sqrt_1(&_S3603);
    float _S3605 = 1.0f + _S3604.primal_0;
    float3  _S3606 = - _S3587;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3607;
    (&_S3607)->primal_0 = _S3372;
    (&_S3607)->differential_0 = _S3606;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3608 = _d_exp_vector_1(&_S3607);
    float3  s_diff_campos_0 = - (mul_0(transpose_0(_S3462), t_18) + mul_0(_S3373, _S3587));
    float3  _S3609 = mean_16 - - mul_0(_S3373, t_18);
    float3  _S3610 = _S3585 - s_diff_campos_0;
    float _S3611 = _S3609.x;
    float _S3612 = _S3610.x;
    float _S3613 = _S3612 * _S3611;
    float _S3614 = _S3609.y;
    float _S3615 = _S3610.y;
    float _S3616 = _S3615 * _S3614;
    float _S3617 = _S3609.z;
    float _S3618 = _S3610.z;
    float _S3619 = _S3618 * _S3617;
    float _S3620 = _S3611 * _S3611 + _S3614 * _S3614 + _S3617 * _S3617;
    float _S3621 = _S3613 + _S3613 + (_S3616 + _S3616) + (_S3619 + _S3619);
    DiffPair_float_0 _S3622;
    (&_S3622)->primal_0 = _S3620;
    (&_S3622)->differential_0 = _S3621;
    DiffPair_float_0 _S3623 = _d_sqrt_1(&_S3622);
    (&_S3328)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3328)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3328)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3328)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3328)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3328)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3328)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3328)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3328)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3328)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3328)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3328)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3328)->p_0[0U] = mul_0(R_22, _S3340.p_0[0U]) + t_18;
    (&_S3328)->p_0[1U] = mul_0(R_22, _S3594) + t_18;
    (&_S3328)->p_0[2U] = mul_0(R_22, _S3596) + t_18;
    (&_S3328)->p_0[3U] = mul_0(R_22, _S3598) + t_18;
    (&_S3328)->p_0[4U] = mul_0(R_22, _S3595) + t_18;
    (&_S3328)->p_0[5U] = mul_0(R_22, _S3597) + t_18;
    (&_S3328)->p_0[6U] = mul_0(R_22, _S3599) + t_18;
    float _S3624 = mean_c_16.z;
    float _S3625 = _S3589.z;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3626;
    (&_S3626)->primal_0 = mean_c_16;
    (&_S3626)->differential_0 = _S3589;
    DiffPair_float_0 _S3627 = s_fwd_length_impl_0(&_S3626);
    float _S3628 = _S3624 + _S3627.primal_0;
    float _S3629 = _S3625 + _S3627.differential_0;
    float2  _S3630 = _S3320;
    Matrix<float, 2, 2>  _S3631 = _S3318;
    SigmaPoints_0 _S3632 = _S3328;
    bool _S3633 = persp_proj_3dgs_ut_1(&_S3632, intrins_18, dist_coeffs_30, image_width_15, image_height_15, &_S3631, &_S3630);
    float _S3634 = _S3631.rows[int(0)].y * _S3631.rows[int(1)].x;
    float _S3635 = _S3318.rows[int(0)].y * _S3631.rows[int(1)].x + _S3318.rows[int(1)].x * _S3631.rows[int(0)].y;
    float det_orig_17 = _S3631.rows[int(0)].x * _S3631.rows[int(1)].y - _S3634;
    float _S3636 = _S3631.rows[int(0)].x + 0.30000001192092896f;
    float _S3637 = _S3631.rows[int(1)].y + 0.30000001192092896f;
    float det_blur_12 = _S3636 * _S3637 - _S3634;
    float _S3638 = det_orig_17 / det_blur_12;
    float _S3639 = ((_S3318.rows[int(0)].x * _S3631.rows[int(1)].y + _S3318.rows[int(1)].y * _S3631.rows[int(0)].x - _S3635) * det_blur_12 - det_orig_17 * (_S3318.rows[int(0)].x * _S3637 + _S3318.rows[int(1)].y * _S3636 - _S3635)) / (det_blur_12 * det_blur_12);
    DiffPair_float_0 _S3640;
    (&_S3640)->primal_0 = 0.0f;
    (&_S3640)->differential_0 = 0.0f;
    DiffPair_float_0 _S3641;
    (&_S3641)->primal_0 = _S3638;
    (&_S3641)->differential_0 = _S3639;
    DiffPair_float_0 _S3642 = _d_max_1(&_S3640, &_S3641);
    DiffPair_float_0 _S3643;
    (&_S3643)->primal_0 = _S3642.primal_0;
    (&_S3643)->differential_0 = _S3642.differential_0;
    DiffPair_float_0 _S3644 = _d_sqrt_1(&_S3643);
    float _S3645 = 1.0f / _S3602;
    float _S3646 = 0.0f - _S3601.differential_0;
    float _S3647 = _S3602 * _S3602;
    float _S3648 = _S3646 / _S3647;
    if(antialiased_15)
    {
        _S3363 = _S3648 * _S3644.primal_0 + _S3644.differential_0 * _S3645;
    }
    else
    {
        _S3363 = _S3648;
    }
    float _S3649 = 1.0f / _S3605;
    float _S3650 = 0.0f - _S3604.differential_0;
    float _S3651 = _S3605 * _S3605;
    float _S3652 = _S3649 * _S3628;
    float _S3653 = _S3650 / _S3651 * _S3628 + _S3629 * _S3649;
    DiffPair_float_0 _S3654;
    (&_S3654)->primal_0 = _S3624;
    (&_S3654)->differential_0 = _S3625;
    DiffPair_float_0 _S3655;
    (&_S3655)->primal_0 = _S3652;
    (&_S3655)->differential_0 = _S3653;
    DiffPair_float_0 _S3656 = _d_max_1(&_S3654, &_S3655);
    float x_41 = _S3611 / _S3623.primal_0;
    float _S3657 = _S3623.primal_0 * _S3623.primal_0;
    float s_diff_x_0 = (_S3612 * _S3623.primal_0 - _S3611 * _S3623.differential_0) / _S3657;
    float y_19 = _S3614 / _S3623.primal_0;
    float s_diff_y_0 = (_S3615 * _S3623.primal_0 - _S3614 * _S3623.differential_0) / _S3657;
    float z_16 = _S3617 / _S3623.primal_0;
    float s_diff_z_0 = (_S3618 * _S3623.primal_0 - _S3617 * _S3623.differential_0) / _S3657;
    float _S3658 = - y_19;
    float z2_36 = z_16 * z_16;
    float _S3659 = s_diff_z_0 * z_16;
    float s_diff_z2_0 = _S3659 + _S3659;
    float fTmp0B_16 = -1.09254848957061768f * z_16;
    float _S3660 = s_diff_z_0 * -1.09254848957061768f;
    float _S3661 = s_diff_x_0 * x_41;
    float _S3662 = s_diff_y_0 * y_19;
    float fC1_16 = x_41 * x_41 - y_19 * y_19;
    float s_diff_fC1_0 = _S3661 + _S3661 - (_S3662 + _S3662);
    float _S3663 = 2.0f * x_41;
    float fS1_16 = _S3663 * y_19;
    float s_diff_fS1_0 = s_diff_x_0 * 2.0f * y_19 + s_diff_y_0 * _S3663;
    float pSH6_6 = 0.94617468118667603f * z2_36 - 0.31539157032966614f;
    float pSH7_6 = fTmp0B_16 * x_41;
    float pSH5_6 = fTmp0B_16 * y_19;
    float pSH8_6 = 0.54627424478530884f * fC1_16;
    float pSH4_6 = 0.54627424478530884f * fS1_16;
    float _S3664 = s_diff_z2_0 * -2.28522896766662598f;
    float fTmp0C_16 = -2.28522896766662598f * z2_36 + 0.4570457935333252f;
    float fTmp1B_16 = 1.44530570507049561f * z_16;
    float _S3665 = s_diff_z_0 * 1.44530570507049561f;
    float _S3666 = 1.86588168144226074f * z2_36 - 1.11952900886535645f;
    float pSH12_6 = z_16 * _S3666;
    float pSH13_6 = fTmp0C_16 * x_41;
    float pSH11_6 = fTmp0C_16 * y_19;
    float pSH14_6 = fTmp1B_16 * fC1_16;
    float pSH10_6 = fTmp1B_16 * fS1_16;
    float pSH15_6 = -0.59004360437393188f * (x_41 * fC1_16 - y_19 * fS1_16);
    float pSH9_6 = -0.59004360437393188f * (x_41 * fS1_16 + y_19 * fC1_16);
    float3  _S3667 = (make_float3 (- s_diff_y_0) * (*sh_coeffs_15)[int(1)] + _S3400 * make_float3 (_S3658) + (make_float3 (s_diff_z_0) * (*sh_coeffs_15)[int(2)] + _S3400 * make_float3 (z_16)) - (make_float3 (s_diff_x_0) * (*sh_coeffs_15)[int(3)] + _S3400 * make_float3 (x_41))) * make_float3 (0.48860251903533936f) + (make_float3 (s_diff_fS1_0 * 0.54627424478530884f) * (*sh_coeffs_15)[int(4)] + _S3400 * make_float3 (pSH4_6) + (make_float3 (_S3660 * y_19 + s_diff_y_0 * fTmp0B_16) * (*sh_coeffs_15)[int(5)] + _S3400 * make_float3 (pSH5_6)) + (make_float3 (s_diff_z2_0 * 0.94617468118667603f) * (*sh_coeffs_15)[int(6)] + _S3400 * make_float3 (pSH6_6)) + (make_float3 (_S3660 * x_41 + s_diff_x_0 * fTmp0B_16) * (*sh_coeffs_15)[int(7)] + _S3400 * make_float3 (pSH7_6)) + (make_float3 (s_diff_fC1_0 * 0.54627424478530884f) * (*sh_coeffs_15)[int(8)] + _S3400 * make_float3 (pSH8_6))) + (make_float3 ((s_diff_x_0 * fS1_16 + s_diff_fS1_0 * x_41 + (s_diff_y_0 * fC1_16 + s_diff_fC1_0 * y_19)) * -0.59004360437393188f) * (*sh_coeffs_15)[int(9)] + _S3400 * make_float3 (pSH9_6) + (make_float3 (_S3665 * fS1_16 + s_diff_fS1_0 * fTmp1B_16) * (*sh_coeffs_15)[int(10)] + _S3400 * make_float3 (pSH10_6)) + (make_float3 (_S3664 * y_19 + s_diff_y_0 * fTmp0C_16) * (*sh_coeffs_15)[int(11)] + _S3400 * make_float3 (pSH11_6)) + (make_float3 (s_diff_z_0 * _S3666 + s_diff_z2_0 * 1.86588168144226074f * z_16) * (*sh_coeffs_15)[int(12)] + _S3400 * make_float3 (pSH12_6)) + (make_float3 (_S3664 * x_41 + s_diff_x_0 * fTmp0C_16) * (*sh_coeffs_15)[int(13)] + _S3400 * make_float3 (pSH13_6)) + (make_float3 (_S3665 * fC1_16 + s_diff_fC1_0 * fTmp1B_16) * (*sh_coeffs_15)[int(14)] + _S3400 * make_float3 (pSH14_6)) + (make_float3 ((s_diff_x_0 * fC1_16 + s_diff_fC1_0 * x_41 - (s_diff_y_0 * fS1_16 + s_diff_fS1_0 * y_19)) * -0.59004360437393188f) * (*sh_coeffs_15)[int(15)] + _S3400 * make_float3 (pSH15_6)));
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3668;
    (&_S3668)->primal_0 = _S3375 + make_float3 (0.48860251903533936f) * (make_float3 (_S3658) * (*sh_coeffs_15)[int(1)] + make_float3 (z_16) * (*sh_coeffs_15)[int(2)] - make_float3 (x_41) * (*sh_coeffs_15)[int(3)]) + (make_float3 (pSH4_6) * (*sh_coeffs_15)[int(4)] + make_float3 (pSH5_6) * (*sh_coeffs_15)[int(5)] + make_float3 (pSH6_6) * (*sh_coeffs_15)[int(6)] + make_float3 (pSH7_6) * (*sh_coeffs_15)[int(7)] + make_float3 (pSH8_6) * (*sh_coeffs_15)[int(8)]) + (make_float3 (pSH9_6) * (*sh_coeffs_15)[int(9)] + make_float3 (pSH10_6) * (*sh_coeffs_15)[int(10)] + make_float3 (pSH11_6) * (*sh_coeffs_15)[int(11)] + make_float3 (pSH12_6) * (*sh_coeffs_15)[int(12)] + make_float3 (pSH13_6) * (*sh_coeffs_15)[int(13)] + make_float3 (pSH14_6) * (*sh_coeffs_15)[int(14)] + make_float3 (pSH15_6) * (*sh_coeffs_15)[int(15)]) + make_float3 (0.5f);
    (&_S3668)->differential_0 = _S3667;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3669;
    (&_S3669)->primal_0 = _S3400;
    (&_S3669)->differential_0 = _S3321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3670 = _d_max_vector_1(&_S3668, &_S3669);
    float _S3671 = dot_0(h_mean2d_0, _S3320);
    float _S3672 = dot_1(h_conic_0, _S3608.differential_0 * _S3608.differential_0);
    *&(h_mean_0->x) = _S3671 + h_depth_0 * _S3656.differential_0 * _S3656.differential_0 + _S3672 + h_opacity_0 * _S3363 * _S3363 + dot_1(h_rgb_0, _S3670.differential_0 * _S3670.differential_0);
    float3  _S3673 = make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S3674 = _S3588 + mul_0(R_22, _S3673);
    float3  _S3675 = _S3673 - s_diff_campos_0;
    float _S3676 = _S3675.x;
    float _S3677 = _S3676 * _S3611;
    float _S3678 = _S3675.y;
    float _S3679 = _S3678 * _S3614;
    float _S3680 = _S3675.z;
    float _S3681 = _S3680 * _S3617;
    float _S3682 = _S3677 + _S3677 + (_S3679 + _S3679) + (_S3681 + _S3681);
    DiffPair_float_0 _S3683;
    (&_S3683)->primal_0 = _S3620;
    (&_S3683)->differential_0 = _S3682;
    DiffPair_float_0 _S3684 = _d_sqrt_1(&_S3683);
    float _S3685 = _S3674.z;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3686;
    (&_S3686)->primal_0 = mean_c_16;
    (&_S3686)->differential_0 = _S3674;
    DiffPair_float_0 _S3687 = s_fwd_length_impl_0(&_S3686);
    float _S3688 = _S3624 + _S3687.primal_0;
    float _S3689 = _S3685 + _S3687.differential_0;
    float2  _S3690 = _S3320;
    Matrix<float, 2, 2>  _S3691 = _S3318;
    SigmaPoints_0 _S3692 = _S3328;
    bool _S3693 = persp_proj_3dgs_ut_1(&_S3692, intrins_18, dist_coeffs_30, image_width_15, image_height_15, &_S3691, &_S3690);
    float _S3694 = _S3691.rows[int(0)].y * _S3691.rows[int(1)].x;
    float _S3695 = _S3318.rows[int(0)].y * _S3691.rows[int(1)].x + _S3318.rows[int(1)].x * _S3691.rows[int(0)].y;
    float det_orig_18 = _S3691.rows[int(0)].x * _S3691.rows[int(1)].y - _S3694;
    float _S3696 = _S3691.rows[int(0)].x + 0.30000001192092896f;
    float _S3697 = _S3691.rows[int(1)].y + 0.30000001192092896f;
    float det_blur_13 = _S3696 * _S3697 - _S3694;
    float _S3698 = det_orig_18 / det_blur_13;
    float _S3699 = ((_S3318.rows[int(0)].x * _S3691.rows[int(1)].y + _S3318.rows[int(1)].y * _S3691.rows[int(0)].x - _S3695) * det_blur_13 - det_orig_18 * (_S3318.rows[int(0)].x * _S3697 + _S3318.rows[int(1)].y * _S3696 - _S3695)) / (det_blur_13 * det_blur_13);
    DiffPair_float_0 _S3700;
    (&_S3700)->primal_0 = 0.0f;
    (&_S3700)->differential_0 = 0.0f;
    DiffPair_float_0 _S3701;
    (&_S3701)->primal_0 = _S3698;
    (&_S3701)->differential_0 = _S3699;
    DiffPair_float_0 _S3702 = _d_max_1(&_S3700, &_S3701);
    DiffPair_float_0 _S3703;
    (&_S3703)->primal_0 = _S3702.primal_0;
    (&_S3703)->differential_0 = _S3702.differential_0;
    DiffPair_float_0 _S3704 = _d_sqrt_1(&_S3703);
    float _S3705 = 1.0f / _S3602;
    float _S3706 = _S3646 / _S3647;
    if(antialiased_15)
    {
        _S3363 = _S3706 * _S3704.primal_0 + _S3704.differential_0 * _S3705;
    }
    else
    {
        _S3363 = _S3706;
    }
    float _S3707 = 1.0f / _S3605;
    float _S3708 = _S3707 * _S3688;
    float _S3709 = _S3650 / _S3651 * _S3688 + _S3689 * _S3707;
    DiffPair_float_0 _S3710;
    (&_S3710)->primal_0 = _S3624;
    (&_S3710)->differential_0 = _S3685;
    DiffPair_float_0 _S3711;
    (&_S3711)->primal_0 = _S3708;
    (&_S3711)->differential_0 = _S3709;
    DiffPair_float_0 _S3712 = _d_max_1(&_S3710, &_S3711);
    float x_42 = _S3611 / _S3684.primal_0;
    float _S3713 = _S3684.primal_0 * _S3684.primal_0;
    float s_diff_x_1 = (_S3676 * _S3684.primal_0 - _S3611 * _S3684.differential_0) / _S3713;
    float y_20 = _S3614 / _S3684.primal_0;
    float s_diff_y_1 = (_S3678 * _S3684.primal_0 - _S3614 * _S3684.differential_0) / _S3713;
    float z_17 = _S3617 / _S3684.primal_0;
    float s_diff_z_1 = (_S3680 * _S3684.primal_0 - _S3617 * _S3684.differential_0) / _S3713;
    float _S3714 = - y_20;
    float z2_37 = z_17 * z_17;
    float _S3715 = s_diff_z_1 * z_17;
    float s_diff_z2_1 = _S3715 + _S3715;
    float fTmp0B_17 = -1.09254848957061768f * z_17;
    float _S3716 = s_diff_z_1 * -1.09254848957061768f;
    float _S3717 = s_diff_x_1 * x_42;
    float _S3718 = s_diff_y_1 * y_20;
    float fC1_17 = x_42 * x_42 - y_20 * y_20;
    float s_diff_fC1_1 = _S3717 + _S3717 - (_S3718 + _S3718);
    float _S3719 = 2.0f * x_42;
    float fS1_17 = _S3719 * y_20;
    float s_diff_fS1_1 = s_diff_x_1 * 2.0f * y_20 + s_diff_y_1 * _S3719;
    float pSH6_7 = 0.94617468118667603f * z2_37 - 0.31539157032966614f;
    float pSH7_7 = fTmp0B_17 * x_42;
    float pSH5_7 = fTmp0B_17 * y_20;
    float pSH8_7 = 0.54627424478530884f * fC1_17;
    float pSH4_7 = 0.54627424478530884f * fS1_17;
    float _S3720 = s_diff_z2_1 * -2.28522896766662598f;
    float fTmp0C_17 = -2.28522896766662598f * z2_37 + 0.4570457935333252f;
    float fTmp1B_17 = 1.44530570507049561f * z_17;
    float _S3721 = s_diff_z_1 * 1.44530570507049561f;
    float _S3722 = 1.86588168144226074f * z2_37 - 1.11952900886535645f;
    float pSH12_7 = z_17 * _S3722;
    float pSH13_7 = fTmp0C_17 * x_42;
    float pSH11_7 = fTmp0C_17 * y_20;
    float pSH14_7 = fTmp1B_17 * fC1_17;
    float pSH10_7 = fTmp1B_17 * fS1_17;
    float pSH15_7 = -0.59004360437393188f * (x_42 * fC1_17 - y_20 * fS1_17);
    float pSH9_7 = -0.59004360437393188f * (x_42 * fS1_17 + y_20 * fC1_17);
    float3  _S3723 = (make_float3 (- s_diff_y_1) * (*sh_coeffs_15)[int(1)] + _S3400 * make_float3 (_S3714) + (make_float3 (s_diff_z_1) * (*sh_coeffs_15)[int(2)] + _S3400 * make_float3 (z_17)) - (make_float3 (s_diff_x_1) * (*sh_coeffs_15)[int(3)] + _S3400 * make_float3 (x_42))) * make_float3 (0.48860251903533936f) + (make_float3 (s_diff_fS1_1 * 0.54627424478530884f) * (*sh_coeffs_15)[int(4)] + _S3400 * make_float3 (pSH4_7) + (make_float3 (_S3716 * y_20 + s_diff_y_1 * fTmp0B_17) * (*sh_coeffs_15)[int(5)] + _S3400 * make_float3 (pSH5_7)) + (make_float3 (s_diff_z2_1 * 0.94617468118667603f) * (*sh_coeffs_15)[int(6)] + _S3400 * make_float3 (pSH6_7)) + (make_float3 (_S3716 * x_42 + s_diff_x_1 * fTmp0B_17) * (*sh_coeffs_15)[int(7)] + _S3400 * make_float3 (pSH7_7)) + (make_float3 (s_diff_fC1_1 * 0.54627424478530884f) * (*sh_coeffs_15)[int(8)] + _S3400 * make_float3 (pSH8_7))) + (make_float3 ((s_diff_x_1 * fS1_17 + s_diff_fS1_1 * x_42 + (s_diff_y_1 * fC1_17 + s_diff_fC1_1 * y_20)) * -0.59004360437393188f) * (*sh_coeffs_15)[int(9)] + _S3400 * make_float3 (pSH9_7) + (make_float3 (_S3721 * fS1_17 + s_diff_fS1_1 * fTmp1B_17) * (*sh_coeffs_15)[int(10)] + _S3400 * make_float3 (pSH10_7)) + (make_float3 (_S3720 * y_20 + s_diff_y_1 * fTmp0C_17) * (*sh_coeffs_15)[int(11)] + _S3400 * make_float3 (pSH11_7)) + (make_float3 (s_diff_z_1 * _S3722 + s_diff_z2_1 * 1.86588168144226074f * z_17) * (*sh_coeffs_15)[int(12)] + _S3400 * make_float3 (pSH12_7)) + (make_float3 (_S3720 * x_42 + s_diff_x_1 * fTmp0C_17) * (*sh_coeffs_15)[int(13)] + _S3400 * make_float3 (pSH13_7)) + (make_float3 (_S3721 * fC1_17 + s_diff_fC1_1 * fTmp1B_17) * (*sh_coeffs_15)[int(14)] + _S3400 * make_float3 (pSH14_7)) + (make_float3 ((s_diff_x_1 * fC1_17 + s_diff_fC1_1 * x_42 - (s_diff_y_1 * fS1_17 + s_diff_fS1_1 * y_20)) * -0.59004360437393188f) * (*sh_coeffs_15)[int(15)] + _S3400 * make_float3 (pSH15_7)));
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3724;
    (&_S3724)->primal_0 = _S3375 + make_float3 (0.48860251903533936f) * (make_float3 (_S3714) * (*sh_coeffs_15)[int(1)] + make_float3 (z_17) * (*sh_coeffs_15)[int(2)] - make_float3 (x_42) * (*sh_coeffs_15)[int(3)]) + (make_float3 (pSH4_7) * (*sh_coeffs_15)[int(4)] + make_float3 (pSH5_7) * (*sh_coeffs_15)[int(5)] + make_float3 (pSH6_7) * (*sh_coeffs_15)[int(6)] + make_float3 (pSH7_7) * (*sh_coeffs_15)[int(7)] + make_float3 (pSH8_7) * (*sh_coeffs_15)[int(8)]) + (make_float3 (pSH9_7) * (*sh_coeffs_15)[int(9)] + make_float3 (pSH10_7) * (*sh_coeffs_15)[int(10)] + make_float3 (pSH11_7) * (*sh_coeffs_15)[int(11)] + make_float3 (pSH12_7) * (*sh_coeffs_15)[int(12)] + make_float3 (pSH13_7) * (*sh_coeffs_15)[int(13)] + make_float3 (pSH14_7) * (*sh_coeffs_15)[int(14)] + make_float3 (pSH15_7) * (*sh_coeffs_15)[int(15)]) + make_float3 (0.5f);
    (&_S3724)->differential_0 = _S3723;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3725;
    (&_S3725)->primal_0 = _S3400;
    (&_S3725)->differential_0 = _S3321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3726 = _d_max_vector_1(&_S3724, &_S3725);
    *&(h_mean_0->y) = _S3671 + h_depth_0 * _S3712.differential_0 * _S3712.differential_0 + _S3672 + h_opacity_0 * _S3363 * _S3363 + dot_1(h_rgb_0, _S3726.differential_0 * _S3726.differential_0);
    float3  _S3727 = make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S3728 = _S3588 + mul_0(R_22, _S3727);
    float3  _S3729 = _S3727 - s_diff_campos_0;
    float _S3730 = _S3729.x;
    float _S3731 = _S3730 * _S3611;
    float _S3732 = _S3729.y;
    float _S3733 = _S3732 * _S3614;
    float _S3734 = _S3729.z;
    float _S3735 = _S3734 * _S3617;
    float _S3736 = _S3731 + _S3731 + (_S3733 + _S3733) + (_S3735 + _S3735);
    DiffPair_float_0 _S3737;
    (&_S3737)->primal_0 = _S3620;
    (&_S3737)->differential_0 = _S3736;
    DiffPair_float_0 _S3738 = _d_sqrt_1(&_S3737);
    float _S3739 = _S3728.z;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3740;
    (&_S3740)->primal_0 = mean_c_16;
    (&_S3740)->differential_0 = _S3728;
    DiffPair_float_0 _S3741 = s_fwd_length_impl_0(&_S3740);
    float _S3742 = _S3624 + _S3741.primal_0;
    float _S3743 = _S3739 + _S3741.differential_0;
    float2  _S3744 = _S3320;
    Matrix<float, 2, 2>  _S3745 = _S3318;
    SigmaPoints_0 _S3746 = _S3328;
    bool _S3747 = persp_proj_3dgs_ut_1(&_S3746, intrins_18, dist_coeffs_30, image_width_15, image_height_15, &_S3745, &_S3744);
    float _S3748 = _S3745.rows[int(0)].y * _S3745.rows[int(1)].x;
    float _S3749 = _S3318.rows[int(0)].y * _S3745.rows[int(1)].x + _S3318.rows[int(1)].x * _S3745.rows[int(0)].y;
    float det_orig_19 = _S3745.rows[int(0)].x * _S3745.rows[int(1)].y - _S3748;
    float _S3750 = _S3745.rows[int(0)].x + 0.30000001192092896f;
    float _S3751 = _S3745.rows[int(1)].y + 0.30000001192092896f;
    float det_blur_14 = _S3750 * _S3751 - _S3748;
    float _S3752 = det_orig_19 / det_blur_14;
    float _S3753 = ((_S3318.rows[int(0)].x * _S3745.rows[int(1)].y + _S3318.rows[int(1)].y * _S3745.rows[int(0)].x - _S3749) * det_blur_14 - det_orig_19 * (_S3318.rows[int(0)].x * _S3751 + _S3318.rows[int(1)].y * _S3750 - _S3749)) / (det_blur_14 * det_blur_14);
    DiffPair_float_0 _S3754;
    (&_S3754)->primal_0 = 0.0f;
    (&_S3754)->differential_0 = 0.0f;
    DiffPair_float_0 _S3755;
    (&_S3755)->primal_0 = _S3752;
    (&_S3755)->differential_0 = _S3753;
    DiffPair_float_0 _S3756 = _d_max_1(&_S3754, &_S3755);
    DiffPair_float_0 _S3757;
    (&_S3757)->primal_0 = _S3756.primal_0;
    (&_S3757)->differential_0 = _S3756.differential_0;
    DiffPair_float_0 _S3758 = _d_sqrt_1(&_S3757);
    float _S3759 = 1.0f / _S3602;
    float _S3760 = _S3646 / _S3647;
    if(antialiased_15)
    {
        _S3363 = _S3760 * _S3758.primal_0 + _S3758.differential_0 * _S3759;
    }
    else
    {
        _S3363 = _S3760;
    }
    float _S3761 = 1.0f / _S3605;
    float _S3762 = _S3761 * _S3742;
    float _S3763 = _S3650 / _S3651 * _S3742 + _S3743 * _S3761;
    DiffPair_float_0 _S3764;
    (&_S3764)->primal_0 = _S3624;
    (&_S3764)->differential_0 = _S3739;
    DiffPair_float_0 _S3765;
    (&_S3765)->primal_0 = _S3762;
    (&_S3765)->differential_0 = _S3763;
    DiffPair_float_0 _S3766 = _d_max_1(&_S3764, &_S3765);
    float x_43 = _S3611 / _S3738.primal_0;
    float _S3767 = _S3738.primal_0 * _S3738.primal_0;
    float s_diff_x_2 = (_S3730 * _S3738.primal_0 - _S3611 * _S3738.differential_0) / _S3767;
    float y_21 = _S3614 / _S3738.primal_0;
    float s_diff_y_2 = (_S3732 * _S3738.primal_0 - _S3614 * _S3738.differential_0) / _S3767;
    float z_18 = _S3617 / _S3738.primal_0;
    float s_diff_z_2 = (_S3734 * _S3738.primal_0 - _S3617 * _S3738.differential_0) / _S3767;
    float _S3768 = - y_21;
    float z2_38 = z_18 * z_18;
    float _S3769 = s_diff_z_2 * z_18;
    float s_diff_z2_2 = _S3769 + _S3769;
    float fTmp0B_18 = -1.09254848957061768f * z_18;
    float _S3770 = s_diff_z_2 * -1.09254848957061768f;
    float _S3771 = s_diff_x_2 * x_43;
    float _S3772 = s_diff_y_2 * y_21;
    float fC1_18 = x_43 * x_43 - y_21 * y_21;
    float s_diff_fC1_2 = _S3771 + _S3771 - (_S3772 + _S3772);
    float _S3773 = 2.0f * x_43;
    float fS1_18 = _S3773 * y_21;
    float s_diff_fS1_2 = s_diff_x_2 * 2.0f * y_21 + s_diff_y_2 * _S3773;
    float pSH6_8 = 0.94617468118667603f * z2_38 - 0.31539157032966614f;
    float pSH7_8 = fTmp0B_18 * x_43;
    float pSH5_8 = fTmp0B_18 * y_21;
    float pSH8_8 = 0.54627424478530884f * fC1_18;
    float pSH4_8 = 0.54627424478530884f * fS1_18;
    float _S3774 = s_diff_z2_2 * -2.28522896766662598f;
    float fTmp0C_18 = -2.28522896766662598f * z2_38 + 0.4570457935333252f;
    float fTmp1B_18 = 1.44530570507049561f * z_18;
    float _S3775 = s_diff_z_2 * 1.44530570507049561f;
    float _S3776 = 1.86588168144226074f * z2_38 - 1.11952900886535645f;
    float pSH12_8 = z_18 * _S3776;
    float pSH13_8 = fTmp0C_18 * x_43;
    float pSH11_8 = fTmp0C_18 * y_21;
    float pSH14_8 = fTmp1B_18 * fC1_18;
    float pSH10_8 = fTmp1B_18 * fS1_18;
    float pSH15_8 = -0.59004360437393188f * (x_43 * fC1_18 - y_21 * fS1_18);
    float pSH9_8 = -0.59004360437393188f * (x_43 * fS1_18 + y_21 * fC1_18);
    float3  _S3777 = (make_float3 (- s_diff_y_2) * (*sh_coeffs_15)[int(1)] + _S3400 * make_float3 (_S3768) + (make_float3 (s_diff_z_2) * (*sh_coeffs_15)[int(2)] + _S3400 * make_float3 (z_18)) - (make_float3 (s_diff_x_2) * (*sh_coeffs_15)[int(3)] + _S3400 * make_float3 (x_43))) * make_float3 (0.48860251903533936f) + (make_float3 (s_diff_fS1_2 * 0.54627424478530884f) * (*sh_coeffs_15)[int(4)] + _S3400 * make_float3 (pSH4_8) + (make_float3 (_S3770 * y_21 + s_diff_y_2 * fTmp0B_18) * (*sh_coeffs_15)[int(5)] + _S3400 * make_float3 (pSH5_8)) + (make_float3 (s_diff_z2_2 * 0.94617468118667603f) * (*sh_coeffs_15)[int(6)] + _S3400 * make_float3 (pSH6_8)) + (make_float3 (_S3770 * x_43 + s_diff_x_2 * fTmp0B_18) * (*sh_coeffs_15)[int(7)] + _S3400 * make_float3 (pSH7_8)) + (make_float3 (s_diff_fC1_2 * 0.54627424478530884f) * (*sh_coeffs_15)[int(8)] + _S3400 * make_float3 (pSH8_8))) + (make_float3 ((s_diff_x_2 * fS1_18 + s_diff_fS1_2 * x_43 + (s_diff_y_2 * fC1_18 + s_diff_fC1_2 * y_21)) * -0.59004360437393188f) * (*sh_coeffs_15)[int(9)] + _S3400 * make_float3 (pSH9_8) + (make_float3 (_S3775 * fS1_18 + s_diff_fS1_2 * fTmp1B_18) * (*sh_coeffs_15)[int(10)] + _S3400 * make_float3 (pSH10_8)) + (make_float3 (_S3774 * y_21 + s_diff_y_2 * fTmp0C_18) * (*sh_coeffs_15)[int(11)] + _S3400 * make_float3 (pSH11_8)) + (make_float3 (s_diff_z_2 * _S3776 + s_diff_z2_2 * 1.86588168144226074f * z_18) * (*sh_coeffs_15)[int(12)] + _S3400 * make_float3 (pSH12_8)) + (make_float3 (_S3774 * x_43 + s_diff_x_2 * fTmp0C_18) * (*sh_coeffs_15)[int(13)] + _S3400 * make_float3 (pSH13_8)) + (make_float3 (_S3775 * fC1_18 + s_diff_fC1_2 * fTmp1B_18) * (*sh_coeffs_15)[int(14)] + _S3400 * make_float3 (pSH14_8)) + (make_float3 ((s_diff_x_2 * fC1_18 + s_diff_fC1_2 * x_43 - (s_diff_y_2 * fS1_18 + s_diff_fS1_2 * y_21)) * -0.59004360437393188f) * (*sh_coeffs_15)[int(15)] + _S3400 * make_float3 (pSH15_8)));
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3778;
    (&_S3778)->primal_0 = _S3375 + make_float3 (0.48860251903533936f) * (make_float3 (_S3768) * (*sh_coeffs_15)[int(1)] + make_float3 (z_18) * (*sh_coeffs_15)[int(2)] - make_float3 (x_43) * (*sh_coeffs_15)[int(3)]) + (make_float3 (pSH4_8) * (*sh_coeffs_15)[int(4)] + make_float3 (pSH5_8) * (*sh_coeffs_15)[int(5)] + make_float3 (pSH6_8) * (*sh_coeffs_15)[int(6)] + make_float3 (pSH7_8) * (*sh_coeffs_15)[int(7)] + make_float3 (pSH8_8) * (*sh_coeffs_15)[int(8)]) + (make_float3 (pSH9_8) * (*sh_coeffs_15)[int(9)] + make_float3 (pSH10_8) * (*sh_coeffs_15)[int(10)] + make_float3 (pSH11_8) * (*sh_coeffs_15)[int(11)] + make_float3 (pSH12_8) * (*sh_coeffs_15)[int(12)] + make_float3 (pSH13_8) * (*sh_coeffs_15)[int(13)] + make_float3 (pSH14_8) * (*sh_coeffs_15)[int(14)] + make_float3 (pSH15_8) * (*sh_coeffs_15)[int(15)]) + make_float3 (0.5f);
    (&_S3778)->differential_0 = _S3777;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3779;
    (&_S3779)->primal_0 = _S3400;
    (&_S3779)->differential_0 = _S3321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3780 = _d_max_vector_1(&_S3778, &_S3779);
    *&(h_mean_0->z) = _S3671 + h_depth_0 * _S3766.differential_0 * _S3766.differential_0 + _S3672 + h_opacity_0 * _S3363 * _S3363 + dot_1(h_rgb_0, _S3780.differential_0 * _S3780.differential_0);
    return;
}

inline __device__ void projection_3dgut_fisheye_vjp(bool antialiased_16, float3  mean_17, float4  quat_20, float3  scale_19, float in_opacity_16, FixedArray<float3 , 16>  * sh_coeffs_16, Matrix<float, 3, 3>  R_23, float3  t_19, float fx_28, float fy_28, float cx_23, float cy_23, FixedArray<float, 10>  * dist_coeffs_31, uint image_width_16, uint image_height_16, float2  v_mean2d_6, float v_depth_6, float3  v_conic_6, float v_opacity_6, float3  v_rgb_6, float2  h_mean2d_1, float h_depth_1, float3  h_conic_1, float h_opacity_1, float3  h_rgb_1, float3  * v_mean_6, float4  * v_quat_6, float3  * v_scale_6, float * v_in_opacity_6, FixedArray<float3 , 16>  * v_sh_coeffs_6, Matrix<float, 3, 3>  * v_R_8, float3  * v_t_7, float3  * h_mean_1)
{
    Matrix<float, 2, 2>  _S3781 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S3782;
    (&_S3782)->_S3044 = _S3781;
    float2  _S3783 = make_float2 (0.0f);
    float3  _S3784 = make_float3 (0.0f);
    float4  intrins_19 = make_float4 (fx_28, fy_28, cx_23, cy_23);
    float3  _S3785 = s_primal_ctx_exp_0(scale_19);
    float _S3786 = quat_20.y;
    float x2_20 = _S3786 * _S3786;
    float y2_20 = quat_20.z * quat_20.z;
    float z2_39 = quat_20.w * quat_20.w;
    float xy_20 = quat_20.y * quat_20.z;
    float xz_20 = quat_20.y * quat_20.w;
    float yz_20 = quat_20.z * quat_20.w;
    float wx_20 = quat_20.x * quat_20.y;
    float wy_20 = quat_20.x * quat_20.z;
    float wz_20 = quat_20.x * quat_20.w;
    Matrix<float, 3, 3>  _S3787 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_20 + z2_39), 2.0f * (xy_20 + wz_20), 2.0f * (xz_20 - wy_20), 2.0f * (xy_20 - wz_20), 1.0f - 2.0f * (x2_20 + z2_39), 2.0f * (yz_20 + wx_20), 2.0f * (xz_20 + wy_20), 2.0f * (yz_20 - wx_20), 1.0f - 2.0f * (x2_20 + y2_20))));
    FixedArray<float3 , 7>  _S3788 = {
        _S3784, _S3784, _S3784, _S3784, _S3784, _S3784, _S3784
    };
    FixedArray<float, 7>  _S3789 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3790;
    (&_S3790)->p_0 = _S3788;
    (&_S3790)->w_mean_0 = _S3789;
    (&_S3790)->w_cov_0 = _S3789;
    (&_S3790)->p_0[int(0)] = mean_17;
    SigmaPoints_0 _S3791 = _S3790;
    (&_S3791)->w_mean_0[int(0)] = 0.0f;
    (&_S3791)->w_cov_0[int(0)] = 2.0f;
    float _S3792 = s_primal_ctx_sqrt_0(3.0f);
    float _S3793 = _S3792 * _S3785.x;
    float3  delta_24 = make_float3 (_S3793) * _S3787.rows[0U];
    float3  _S3794 = mean_17 + delta_24;
    SigmaPoints_0 _S3795 = _S3791;
    float3  _S3796 = mean_17 - delta_24;
    float _S3797 = _S3792 * _S3785.y;
    float3  delta_25 = make_float3 (_S3797) * _S3787.rows[1U];
    float3  _S3798 = mean_17 + delta_25;
    float3  _S3799 = mean_17 - delta_25;
    float _S3800 = _S3792 * _S3785.z;
    float3  delta_26 = make_float3 (_S3800) * _S3787.rows[2U];
    float3  _S3801 = mean_17 + delta_26;
    float3  _S3802 = mean_17 - delta_26;
    (&_S3795)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3795)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3795)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3795)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3795)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3795)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3795)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3795)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3795)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3795)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3795)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3795)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S3803 = _S3790;
    (&_S3795)->p_0[0U] = s_primal_ctx_mul_0(R_23, _S3790.p_0[0U]) + t_19;
    (&_S3795)->p_0[1U] = s_primal_ctx_mul_0(R_23, _S3794) + t_19;
    (&_S3795)->p_0[2U] = s_primal_ctx_mul_0(R_23, _S3798) + t_19;
    (&_S3795)->p_0[3U] = s_primal_ctx_mul_0(R_23, _S3801) + t_19;
    (&_S3795)->p_0[4U] = s_primal_ctx_mul_0(R_23, _S3796) + t_19;
    (&_S3795)->p_0[5U] = s_primal_ctx_mul_0(R_23, _S3799) + t_19;
    (&_S3795)->p_0[6U] = s_primal_ctx_mul_0(R_23, _S3802) + t_19;
    float2  _S3804 = _S3783;
    Matrix<float, 2, 2>  _S3805 = _S3781;
    SigmaPoints_0 _S3806 = _S3795;
    bool _S3807 = fisheye_proj_3dgs_ut_1(&_S3806, intrins_19, dist_coeffs_31, &_S3805, &_S3804);
    (&_S3782)->_S3044 = _S3805;
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S3808 = _S3782;
    float3  mean_c_17 = s_primal_ctx_mul_0(R_23, mean_17) + t_19;
    float _S3809 = length_1(mean_c_17);
    float3  _S3810 = make_float3 (_S3793);
    float3  _S3811 = make_float3 (_S3797);
    float3  _S3812 = make_float3 (_S3800);
    float _S3813 = _S3782._S3044.rows[int(0)].y * _S3782._S3044.rows[int(1)].x;
    float det_orig_20 = _S3782._S3044.rows[int(0)].x * _S3782._S3044.rows[int(1)].y - _S3813;
    float _S3814 = _S3782._S3044.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3815 = _S3782._S3044;
    *&(((&_S3815)->rows + (int(0)))->x) = _S3814;
    float _S3816 = _S3782._S3044.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3815)->rows + (int(1)))->y) = _S3816;
    Matrix<float, 2, 2>  _S3817 = _S3815;
    Matrix<float, 2, 2>  _S3818 = _S3815;
    float det_blur_15 = _S3814 * _S3816 - _S3813;
    float _S3819 = det_orig_20 / det_blur_15;
    float _S3820 = det_blur_15 * det_blur_15;
    float _S3821 = s_primal_ctx_max_0(0.0f, _S3819);
    float _S3822 = s_primal_ctx_sqrt_0(_S3821);
    float _S3823 = - in_opacity_16;
    float _S3824 = 1.0f + s_primal_ctx_exp_1(_S3823);
    float _S3825 = 1.0f / _S3824;
    float _S3826 = _S3824 * _S3824;
    float _S3827;
    if(antialiased_16)
    {
        _S3827 = _S3825 * _S3822;
    }
    else
    {
        _S3827 = _S3825;
    }
    float _S3828 = _S3827 / 0.00392156885936856f;
    float _S3829 = 2.0f * s_primal_ctx_log_0(_S3828);
    float _S3830 = s_primal_ctx_sqrt_0(_S3829);
    float _S3831 = _S3817.rows[int(0)].x;
    float _S3832 = _S3818.rows[int(1)].y;
    float _S3833 = mean_c_17.z;
    float _S3834 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S3835 = _S3834 * (_S3833 + _S3809);
    float3  _S3836 = - scale_19;
    Matrix<float, 3, 3>  _S3837 = transpose_0(R_23);
    float3  _S3838 = mean_17 - - s_primal_ctx_mul_0(_S3837, t_19);
    float3  _S3839 = make_float3 (0.282094806432724f) * (*sh_coeffs_16)[int(0)];
    float _S3840 = _S3838.x;
    float _S3841 = _S3838.y;
    float _S3842 = _S3838.z;
    float _S3843 = _S3840 * _S3840 + _S3841 * _S3841 + _S3842 * _S3842;
    float _S3844 = s_primal_ctx_sqrt_0(_S3843);
    float x_44 = _S3840 / _S3844;
    float3  _S3845 = make_float3 (x_44);
    float _S3846 = _S3844 * _S3844;
    float y_22 = _S3841 / _S3844;
    float z_19 = _S3842 / _S3844;
    float3  _S3847 = make_float3 (z_19);
    float _S3848 = - y_22;
    float3  _S3849 = make_float3 (_S3848);
    float z2_40 = z_19 * z_19;
    float fTmp0B_19 = -1.09254848957061768f * z_19;
    float fC1_19 = x_44 * x_44 - y_22 * y_22;
    float _S3850 = 2.0f * x_44;
    float fS1_19 = _S3850 * y_22;
    float pSH6_9 = 0.94617468118667603f * z2_40 - 0.31539157032966614f;
    float3  _S3851 = make_float3 (pSH6_9);
    float pSH7_9 = fTmp0B_19 * x_44;
    float3  _S3852 = make_float3 (pSH7_9);
    float pSH5_9 = fTmp0B_19 * y_22;
    float3  _S3853 = make_float3 (pSH5_9);
    float pSH8_9 = 0.54627424478530884f * fC1_19;
    float3  _S3854 = make_float3 (pSH8_9);
    float pSH4_9 = 0.54627424478530884f * fS1_19;
    float3  _S3855 = make_float3 (pSH4_9);
    float fTmp0C_19 = -2.28522896766662598f * z2_40 + 0.4570457935333252f;
    float fTmp1B_19 = 1.44530570507049561f * z_19;
    float _S3856 = 1.86588168144226074f * z2_40 - 1.11952900886535645f;
    float pSH12_9 = z_19 * _S3856;
    float3  _S3857 = make_float3 (pSH12_9);
    float pSH13_9 = fTmp0C_19 * x_44;
    float3  _S3858 = make_float3 (pSH13_9);
    float pSH11_9 = fTmp0C_19 * y_22;
    float3  _S3859 = make_float3 (pSH11_9);
    float pSH14_9 = fTmp1B_19 * fC1_19;
    float3  _S3860 = make_float3 (pSH14_9);
    float pSH10_9 = fTmp1B_19 * fS1_19;
    float3  _S3861 = make_float3 (pSH10_9);
    float pSH15_9 = -0.59004360437393188f * (x_44 * fC1_19 - y_22 * fS1_19);
    float3  _S3862 = make_float3 (pSH15_9);
    float pSH9_9 = -0.59004360437393188f * (x_44 * fS1_19 + y_22 * fC1_19);
    float3  _S3863 = make_float3 (pSH9_9);
    float3  _S3864 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3865;
    (&_S3865)->primal_0 = _S3839 + make_float3 (0.48860251903533936f) * (make_float3 (_S3848) * (*sh_coeffs_16)[int(1)] + make_float3 (z_19) * (*sh_coeffs_16)[int(2)] - make_float3 (x_44) * (*sh_coeffs_16)[int(3)]) + (make_float3 (pSH4_9) * (*sh_coeffs_16)[int(4)] + make_float3 (pSH5_9) * (*sh_coeffs_16)[int(5)] + make_float3 (pSH6_9) * (*sh_coeffs_16)[int(6)] + make_float3 (pSH7_9) * (*sh_coeffs_16)[int(7)] + make_float3 (pSH8_9) * (*sh_coeffs_16)[int(8)]) + (make_float3 (pSH9_9) * (*sh_coeffs_16)[int(9)] + make_float3 (pSH10_9) * (*sh_coeffs_16)[int(10)] + make_float3 (pSH11_9) * (*sh_coeffs_16)[int(11)] + make_float3 (pSH12_9) * (*sh_coeffs_16)[int(12)] + make_float3 (pSH13_9) * (*sh_coeffs_16)[int(13)] + make_float3 (pSH14_9) * (*sh_coeffs_16)[int(14)] + make_float3 (pSH15_9) * (*sh_coeffs_16)[int(15)]) + make_float3 (0.5f);
    (&_S3865)->differential_0 = _S3784;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3866;
    (&_S3866)->primal_0 = _S3864;
    (&_S3866)->differential_0 = _S3784;
    s_bwd_prop_max_0(&_S3865, &_S3866, v_rgb_6);
    float3  _S3867 = _S3862 * _S3865.differential_0;
    float3  _S3868 = (*sh_coeffs_16)[int(15)] * _S3865.differential_0;
    float3  _S3869 = _S3860 * _S3865.differential_0;
    float3  _S3870 = (*sh_coeffs_16)[int(14)] * _S3865.differential_0;
    float3  _S3871 = _S3858 * _S3865.differential_0;
    float3  _S3872 = (*sh_coeffs_16)[int(13)] * _S3865.differential_0;
    float3  _S3873 = _S3857 * _S3865.differential_0;
    float3  _S3874 = (*sh_coeffs_16)[int(12)] * _S3865.differential_0;
    float3  _S3875 = _S3859 * _S3865.differential_0;
    float3  _S3876 = (*sh_coeffs_16)[int(11)] * _S3865.differential_0;
    float3  _S3877 = _S3861 * _S3865.differential_0;
    float3  _S3878 = (*sh_coeffs_16)[int(10)] * _S3865.differential_0;
    float3  _S3879 = _S3863 * _S3865.differential_0;
    float3  _S3880 = (*sh_coeffs_16)[int(9)] * _S3865.differential_0;
    float s_diff_fS2_T_6 = -0.59004360437393188f * (_S3880.x + _S3880.y + _S3880.z);
    float s_diff_fC2_T_6 = -0.59004360437393188f * (_S3868.x + _S3868.y + _S3868.z);
    float _S3881 = _S3878.x + _S3878.y + _S3878.z;
    float _S3882 = _S3870.x + _S3870.y + _S3870.z;
    float _S3883 = _S3876.x + _S3876.y + _S3876.z;
    float _S3884 = _S3872.x + _S3872.y + _S3872.z;
    float _S3885 = _S3874.x + _S3874.y + _S3874.z;
    float _S3886 = - s_diff_fC2_T_6;
    float3  _S3887 = _S3854 * _S3865.differential_0;
    float3  _S3888 = (*sh_coeffs_16)[int(8)] * _S3865.differential_0;
    float3  _S3889 = _S3852 * _S3865.differential_0;
    float3  _S3890 = (*sh_coeffs_16)[int(7)] * _S3865.differential_0;
    float3  _S3891 = _S3851 * _S3865.differential_0;
    float3  _S3892 = (*sh_coeffs_16)[int(6)] * _S3865.differential_0;
    float3  _S3893 = _S3853 * _S3865.differential_0;
    float3  _S3894 = (*sh_coeffs_16)[int(5)] * _S3865.differential_0;
    float3  _S3895 = _S3855 * _S3865.differential_0;
    float3  _S3896 = (*sh_coeffs_16)[int(4)] * _S3865.differential_0;
    float _S3897 = _S3894.x + _S3894.y + _S3894.z;
    float _S3898 = _S3890.x + _S3890.y + _S3890.z;
    float _S3899 = fTmp1B_19 * _S3881 + x_44 * s_diff_fS2_T_6 + y_22 * _S3886 + 0.54627424478530884f * (_S3896.x + _S3896.y + _S3896.z);
    float _S3900 = fTmp1B_19 * _S3882 + y_22 * s_diff_fS2_T_6 + x_44 * s_diff_fC2_T_6 + 0.54627424478530884f * (_S3888.x + _S3888.y + _S3888.z);
    float _S3901 = y_22 * - _S3900;
    float _S3902 = x_44 * _S3900;
    float _S3903 = z_19 * (1.86588168144226074f * (z_19 * _S3885) + -2.28522896766662598f * (y_22 * _S3883 + x_44 * _S3884) + 0.94617468118667603f * (_S3892.x + _S3892.y + _S3892.z));
    float3  _S3904 = make_float3 (0.48860251903533936f) * _S3865.differential_0;
    float3  _S3905 = - _S3904;
    float3  _S3906 = _S3845 * _S3905;
    float3  _S3907 = (*sh_coeffs_16)[int(3)] * _S3905;
    float3  _S3908 = _S3847 * _S3904;
    float3  _S3909 = (*sh_coeffs_16)[int(2)] * _S3904;
    float3  _S3910 = _S3849 * _S3904;
    float3  _S3911 = (*sh_coeffs_16)[int(1)] * _S3904;
    float _S3912 = (_S3856 * _S3885 + 1.44530570507049561f * (fS1_19 * _S3881 + fC1_19 * _S3882) + -1.09254848957061768f * (y_22 * _S3897 + x_44 * _S3898) + _S3903 + _S3903 + _S3909.x + _S3909.y + _S3909.z) / _S3846;
    float _S3913 = _S3844 * _S3912;
    float _S3914 = (fTmp0C_19 * _S3883 + fC1_19 * s_diff_fS2_T_6 + fS1_19 * _S3886 + fTmp0B_19 * _S3897 + _S3850 * _S3899 + _S3901 + _S3901 + - (_S3911.x + _S3911.y + _S3911.z)) / _S3846;
    float _S3915 = _S3844 * _S3914;
    float _S3916 = (fTmp0C_19 * _S3884 + fS1_19 * s_diff_fS2_T_6 + fC1_19 * s_diff_fC2_T_6 + fTmp0B_19 * _S3898 + 2.0f * (y_22 * _S3899) + _S3902 + _S3902 + _S3907.x + _S3907.y + _S3907.z) / _S3846;
    float _S3917 = _S3844 * _S3916;
    float _S3918 = _S3842 * - _S3912 + _S3841 * - _S3914 + _S3840 * - _S3916;
    DiffPair_float_0 _S3919;
    (&_S3919)->primal_0 = _S3843;
    (&_S3919)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3919, _S3918);
    float _S3920 = _S3842 * _S3919.differential_0;
    float _S3921 = _S3841 * _S3919.differential_0;
    float _S3922 = _S3840 * _S3919.differential_0;
    float3  _S3923 = make_float3 (0.282094806432724f) * _S3865.differential_0;
    float3  _S3924 = make_float3 (_S3917 + _S3922 + _S3922, _S3915 + _S3921 + _S3921, _S3913 + _S3920 + _S3920);
    float3  _S3925 = - - _S3924;
    Matrix<float, 3, 3>  _S3926 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3927;
    (&_S3927)->primal_0 = _S3837;
    (&_S3927)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3928;
    (&_S3928)->primal_0 = t_19;
    (&_S3928)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3927, &_S3928, _S3925);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3929 = _S3928;
    Matrix<float, 3, 3>  _S3930 = transpose_0(_S3927.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3931;
    (&_S3931)->primal_0 = _S3836;
    (&_S3931)->differential_0 = _S3784;
    s_bwd_prop_exp_1(&_S3931, v_conic_6);
    float3  _S3932 = - _S3931.differential_0;
    DiffPair_float_0 _S3933;
    (&_S3933)->primal_0 = _S3833;
    (&_S3933)->differential_0 = 0.0f;
    DiffPair_float_0 _S3934;
    (&_S3934)->primal_0 = _S3835;
    (&_S3934)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3933, &_S3934, v_depth_6);
    float _S3935 = _S3834 * _S3934.differential_0;
    float _S3936 = _S3933.differential_0 + _S3935;
    DiffPair_float_0 _S3937;
    (&_S3937)->primal_0 = _S3832;
    (&_S3937)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3937, 0.0f);
    DiffPair_float_0 _S3938;
    (&_S3938)->primal_0 = _S3831;
    (&_S3938)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3938, 0.0f);
    DiffPair_float_0 _S3939;
    (&_S3939)->primal_0 = 3.32999992370605469f;
    (&_S3939)->differential_0 = 0.0f;
    DiffPair_float_0 _S3940;
    (&_S3940)->primal_0 = _S3830;
    (&_S3940)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3939, &_S3940, 0.0f);
    DiffPair_float_0 _S3941;
    (&_S3941)->primal_0 = _S3829;
    (&_S3941)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3941, _S3940.differential_0);
    float _S3942 = 2.0f * _S3941.differential_0;
    DiffPair_float_0 _S3943;
    (&_S3943)->primal_0 = _S3828;
    (&_S3943)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3943, _S3942);
    float _S3944 = v_opacity_6 + 254.9999847412109375f * _S3943.differential_0;
    FixedArray<float3 , 16>  _S3945;
    _S3945[int(0)] = _S3784;
    _S3945[int(1)] = _S3784;
    _S3945[int(2)] = _S3784;
    _S3945[int(3)] = _S3784;
    _S3945[int(4)] = _S3784;
    _S3945[int(5)] = _S3784;
    _S3945[int(6)] = _S3784;
    _S3945[int(7)] = _S3784;
    _S3945[int(8)] = _S3784;
    _S3945[int(9)] = _S3784;
    _S3945[int(10)] = _S3784;
    _S3945[int(11)] = _S3784;
    _S3945[int(12)] = _S3784;
    _S3945[int(13)] = _S3784;
    _S3945[int(14)] = _S3784;
    _S3945[int(15)] = _S3784;
    _S3945[int(7)] = _S3889;
    _S3945[int(0)] = _S3923;
    _S3945[int(1)] = _S3910;
    _S3945[int(2)] = _S3908;
    _S3945[int(3)] = _S3906;
    _S3945[int(4)] = _S3895;
    _S3945[int(5)] = _S3893;
    _S3945[int(6)] = _S3891;
    _S3945[int(15)] = _S3867;
    _S3945[int(8)] = _S3887;
    _S3945[int(9)] = _S3879;
    _S3945[int(10)] = _S3877;
    _S3945[int(11)] = _S3875;
    _S3945[int(12)] = _S3873;
    _S3945[int(13)] = _S3871;
    _S3945[int(14)] = _S3869;
    float3  _S3946 = _S3945[int(0)];
    float3  _S3947 = _S3945[int(1)];
    float3  _S3948 = _S3945[int(2)];
    float3  _S3949 = _S3945[int(3)];
    float3  _S3950 = _S3945[int(4)];
    float3  _S3951 = _S3945[int(5)];
    float3  _S3952 = _S3945[int(6)];
    float3  _S3953 = _S3945[int(7)];
    float3  _S3954 = _S3945[int(8)];
    float3  _S3955 = _S3945[int(9)];
    float3  _S3956 = _S3945[int(10)];
    float3  _S3957 = _S3945[int(11)];
    float3  _S3958 = _S3945[int(12)];
    float3  _S3959 = _S3945[int(13)];
    float3  _S3960 = _S3945[int(14)];
    float3  _S3961 = _S3945[int(15)];
    float3  _S3962 = make_float3 (0.0f, 0.0f, _S3936);
    float2  _S3963 = make_float2 (0.0f, _S3937.differential_0);
    float2  _S3964 = make_float2 (_S3938.differential_0, 0.0f);
    float _S3965;
    if(antialiased_16)
    {
        float _S3966 = _S3825 * _S3944;
        _S3827 = _S3822 * _S3944;
        _S3965 = _S3966;
    }
    else
    {
        _S3827 = _S3944;
        _S3965 = 0.0f;
    }
    float _S3967 = - (_S3827 / _S3826);
    DiffPair_float_0 _S3968;
    (&_S3968)->primal_0 = _S3823;
    (&_S3968)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3968, _S3967);
    float _S3969 = - _S3968.differential_0;
    DiffPair_float_0 _S3970;
    (&_S3970)->primal_0 = _S3821;
    (&_S3970)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3970, _S3965);
    DiffPair_float_0 _S3971;
    (&_S3971)->primal_0 = 0.0f;
    (&_S3971)->differential_0 = 0.0f;
    DiffPair_float_0 _S3972;
    (&_S3972)->primal_0 = _S3819;
    (&_S3972)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3971, &_S3972, _S3970.differential_0);
    float _S3973 = _S3972.differential_0 / _S3820;
    float s_diff_det_blur_T_3 = det_orig_20 * - _S3973;
    float s_diff_det_orig_T_6 = det_blur_15 * _S3973;
    float _S3974 = - s_diff_det_blur_T_3;
    float _S3975 = _S3814 * s_diff_det_blur_T_3;
    float _S3976 = _S3816 * s_diff_det_blur_T_3;
    Matrix<float, 2, 2>  _S3977 = _S3781;
    _S3977[int(1)] = _S3963;
    _S3977[int(0)] = _S3964;
    float _S3978 = _S3976 + _S3977.rows[int(0)].x;
    float _S3979 = _S3974 + - s_diff_det_orig_T_6;
    float _S3980 = _S3808._S3044.rows[int(0)].y * _S3979;
    float _S3981 = _S3808._S3044.rows[int(1)].x * _S3979;
    float _S3982 = _S3808._S3044.rows[int(1)].y * s_diff_det_orig_T_6;
    float _S3983 = _S3975 + _S3977.rows[int(1)].y + _S3808._S3044.rows[int(0)].x * s_diff_det_orig_T_6;
    float2  _S3984 = _S3783;
    *&((&_S3984)->x) = _S3980;
    *&((&_S3984)->y) = _S3983;
    float _S3985 = _S3978 + _S3982;
    float2  _S3986 = _S3783;
    *&((&_S3986)->y) = _S3981;
    *&((&_S3986)->x) = _S3985;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3987;
    (&_S3987)->primal_0 = R_23;
    (&_S3987)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3988;
    (&_S3988)->primal_0 = _S3802;
    (&_S3988)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3987, &_S3988, _S3784);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3989;
    (&_S3989)->primal_0 = R_23;
    (&_S3989)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3990;
    (&_S3990)->primal_0 = _S3799;
    (&_S3990)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3989, &_S3990, _S3784);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3991;
    (&_S3991)->primal_0 = R_23;
    (&_S3991)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3992;
    (&_S3992)->primal_0 = _S3796;
    (&_S3992)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3991, &_S3992, _S3784);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3993;
    (&_S3993)->primal_0 = R_23;
    (&_S3993)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3994;
    (&_S3994)->primal_0 = _S3801;
    (&_S3994)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3993, &_S3994, _S3784);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3995;
    (&_S3995)->primal_0 = R_23;
    (&_S3995)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3996;
    (&_S3996)->primal_0 = _S3798;
    (&_S3996)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3995, &_S3996, _S3784);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3997;
    (&_S3997)->primal_0 = R_23;
    (&_S3997)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3998;
    (&_S3998)->primal_0 = _S3794;
    (&_S3998)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3997, &_S3998, _S3784);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3999;
    (&_S3999)->primal_0 = R_23;
    (&_S3999)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4000;
    (&_S4000)->primal_0 = _S3803.p_0[0U];
    (&_S4000)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S3999, &_S4000, _S3784);
    float3  _S4001 = - _S3988.differential_0 + _S3994.differential_0;
    float3  _S4002 = _S3812 * _S4001;
    float3  _S4003 = _S3787.rows[2U] * _S4001;
    float _S4004 = _S3792 * (_S4003.x + _S4003.y + _S4003.z);
    float3  _S4005 = - _S3990.differential_0 + _S3996.differential_0;
    float3  _S4006 = _S3811 * _S4005;
    float3  _S4007 = _S3787.rows[1U] * _S4005;
    float _S4008 = _S3792 * (_S4007.x + _S4007.y + _S4007.z);
    float3  _S4009 = - _S3992.differential_0 + _S3998.differential_0;
    float3  _S4010 = _S3810 * _S4009;
    float3  _S4011 = _S3787.rows[0U] * _S4009;
    float _S4012 = _S3792 * (_S4011.x + _S4011.y + _S4011.z);
    Matrix<float, 3, 3>  _S4013 = _S3926;
    _S4013[2U] = _S4002;
    _S4013[1U] = _S4006;
    _S4013[0U] = _S4010;
    Matrix<float, 3, 3>  _S4014 = transpose_0(transpose_0(_S4013));
    float _S4015 = 2.0f * - _S4014.rows[int(2)].z;
    float _S4016 = 2.0f * _S4014.rows[int(2)].y;
    float _S4017 = 2.0f * _S4014.rows[int(2)].x;
    float _S4018 = 2.0f * _S4014.rows[int(1)].z;
    float _S4019 = 2.0f * - _S4014.rows[int(1)].y;
    float _S4020 = 2.0f * _S4014.rows[int(1)].x;
    float _S4021 = 2.0f * _S4014.rows[int(0)].z;
    float _S4022 = 2.0f * _S4014.rows[int(0)].y;
    float _S4023 = 2.0f * - _S4014.rows[int(0)].x;
    float _S4024 = - _S4020 + _S4022;
    float _S4025 = _S4017 + - _S4021;
    float _S4026 = - _S4016 + _S4018;
    float _S4027 = _S4016 + _S4018;
    float _S4028 = _S4017 + _S4021;
    float _S4029 = _S4020 + _S4022;
    float _S4030 = quat_20.w * (_S4019 + _S4023);
    float _S4031 = quat_20.z * (_S4015 + _S4023);
    float _S4032 = quat_20.y * (_S4015 + _S4019);
    float _S4033 = quat_20.x * _S4024 + quat_20.z * _S4027 + quat_20.y * _S4028 + _S4030 + _S4030;
    float _S4034 = quat_20.x * _S4025 + quat_20.w * _S4027 + quat_20.y * _S4029 + _S4031 + _S4031;
    float _S4035 = quat_20.x * _S4026 + quat_20.w * _S4028 + quat_20.z * _S4029 + _S4032 + _S4032;
    float _S4036 = quat_20.w * _S4024 + quat_20.z * _S4025 + quat_20.y * _S4026;
    float3  _S4037 = _S3784;
    *&((&_S4037)->z) = _S4004;
    *&((&_S4037)->y) = _S4008;
    *&((&_S4037)->x) = _S4012;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4038;
    (&_S4038)->primal_0 = scale_19;
    (&_S4038)->differential_0 = _S3784;
    s_bwd_prop_exp_1(&_S4038, _S4037);
    Matrix<float, 2, 2>  _S4039 = _S3781;
    _S4039[int(1)] = _S3984;
    _S4039[int(0)] = _S3986;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4040;
    (&_S4040)->primal_0 = mean_c_17;
    (&_S4040)->differential_0 = _S3784;
    s_bwd_length_impl_1(&_S4040, _S3935);
    float3  _S4041 = _S4040.differential_0 + _S3962;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4042;
    (&_S4042)->primal_0 = R_23;
    (&_S4042)->differential_0 = _S3926;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4043;
    (&_S4043)->primal_0 = mean_17;
    (&_S4043)->differential_0 = _S3784;
    s_bwd_prop_mul_1(&_S4042, &_S4043, _S4041);
    float3  _S4044 = _S4041 + _S3929.differential_0;
    Matrix<float, 3, 3>  _S4045 = _S3987.differential_0 + _S3989.differential_0 + _S3991.differential_0 + _S3993.differential_0 + _S3995.differential_0 + _S3997.differential_0 + _S3999.differential_0 + _S4042.differential_0 + _S3930;
    float3  _S4046 = _S4038.differential_0 + _S3932;
    float4  _S4047 = make_float4 (0.0f);
    *&((&_S4047)->w) = _S4033;
    *&((&_S4047)->z) = _S4034;
    *&((&_S4047)->y) = _S4035;
    *&((&_S4047)->x) = _S4036;
    float4  _S4048 = _S4047;
    float3  _S4049 = _S3988.differential_0 + _S3994.differential_0 + _S3990.differential_0 + _S3996.differential_0 + _S3992.differential_0 + _S3998.differential_0 + _S4043.differential_0 + _S3924;
    *v_mean_6 = _S4049;
    *v_quat_6 = _S4048;
    *v_scale_6 = _S4046;
    *v_in_opacity_6 = _S3969;
    (*v_sh_coeffs_6)[int(0)] = _S3946;
    (*v_sh_coeffs_6)[int(1)] = _S3947;
    (*v_sh_coeffs_6)[int(2)] = _S3948;
    (*v_sh_coeffs_6)[int(3)] = _S3949;
    (*v_sh_coeffs_6)[int(4)] = _S3950;
    (*v_sh_coeffs_6)[int(5)] = _S3951;
    (*v_sh_coeffs_6)[int(6)] = _S3952;
    (*v_sh_coeffs_6)[int(7)] = _S3953;
    (*v_sh_coeffs_6)[int(8)] = _S3954;
    (*v_sh_coeffs_6)[int(9)] = _S3955;
    (*v_sh_coeffs_6)[int(10)] = _S3956;
    (*v_sh_coeffs_6)[int(11)] = _S3957;
    (*v_sh_coeffs_6)[int(12)] = _S3958;
    (*v_sh_coeffs_6)[int(13)] = _S3959;
    (*v_sh_coeffs_6)[int(14)] = _S3960;
    (*v_sh_coeffs_6)[int(15)] = _S3961;
    *v_R_8 = _S4045;
    *v_t_7 = _S4044;
    float3  _S4050 = make_float3 (1.0f, 0.0f, 0.0f);
    int3  _S4051 = make_int3 (int(0));
    float3  _S4052 = make_float3 ((float)_S4051.x, (float)_S4051.y, (float)_S4051.z);
    float3  _S4053 = mul_0(_S3926, mean_17);
    float3  _S4054 = _S4053 + mul_0(R_23, _S4050);
    float3  mean_c_18 = mul_0(R_23, mean_17) + t_19;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4055;
    (&_S4055)->primal_0 = scale_19;
    (&_S4055)->differential_0 = _S4052;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4056 = _d_exp_vector_1(&_S4055);
    DiffPair_float_0 _S4057;
    (&_S4057)->primal_0 = 3.0f;
    (&_S4057)->differential_0 = 0.0f;
    DiffPair_float_0 _S4058 = _d_sqrt_1(&_S4057);
    float3  delta_27 = make_float3 (_S4058.primal_0 * _S4056.primal_0.x) * _S3787.rows[0U];
    float3  _S4059 = mean_17 + delta_27;
    float3  _S4060 = mean_17 - delta_27;
    float3  delta_28 = make_float3 (_S4058.primal_0 * _S4056.primal_0.y) * _S3787.rows[1U];
    float3  _S4061 = mean_17 + delta_28;
    float3  _S4062 = mean_17 - delta_28;
    float3  delta_29 = make_float3 (_S4058.primal_0 * _S4056.primal_0.z) * _S3787.rows[2U];
    float3  _S4063 = mean_17 + delta_29;
    float3  _S4064 = mean_17 - delta_29;
    DiffPair_float_0 _S4065;
    (&_S4065)->primal_0 = _S3823;
    (&_S4065)->differential_0 = -0.0f;
    DiffPair_float_0 _S4066 = _d_exp_1(&_S4065);
    float _S4067 = 1.0f + _S4066.primal_0;
    DiffPair_float_0 _S4068;
    (&_S4068)->primal_0 = 2.0f;
    (&_S4068)->differential_0 = 0.0f;
    DiffPair_float_0 _S4069 = _d_sqrt_1(&_S4068);
    float _S4070 = 1.0f + _S4069.primal_0;
    float3  _S4071 = - _S4052;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4072;
    (&_S4072)->primal_0 = _S3836;
    (&_S4072)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4073 = _d_exp_vector_1(&_S4072);
    float3  s_diff_campos_1 = - (mul_0(transpose_0(_S3926), t_19) + mul_0(_S3837, _S4052));
    float3  _S4074 = mean_17 - - mul_0(_S3837, t_19);
    float3  _S4075 = _S4050 - s_diff_campos_1;
    float _S4076 = _S4074.x;
    float _S4077 = _S4075.x;
    float _S4078 = _S4077 * _S4076;
    float _S4079 = _S4074.y;
    float _S4080 = _S4075.y;
    float _S4081 = _S4080 * _S4079;
    float _S4082 = _S4074.z;
    float _S4083 = _S4075.z;
    float _S4084 = _S4083 * _S4082;
    float _S4085 = _S4076 * _S4076 + _S4079 * _S4079 + _S4082 * _S4082;
    float _S4086 = _S4078 + _S4078 + (_S4081 + _S4081) + (_S4084 + _S4084);
    DiffPair_float_0 _S4087;
    (&_S4087)->primal_0 = _S4085;
    (&_S4087)->differential_0 = _S4086;
    DiffPair_float_0 _S4088 = _d_sqrt_1(&_S4087);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4089;
    (&_S4089)->primal_0 = mean_c_18;
    (&_S4089)->differential_0 = _S4054;
    DiffPair_float_0 _S4090 = s_fwd_length_impl_0(&_S4089);
    (&_S3791)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3791)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3791)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3791)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3791)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3791)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3791)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3791)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3791)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3791)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3791)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3791)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3791)->p_0[0U] = mul_0(R_23, _S3803.p_0[0U]) + t_19;
    (&_S3791)->p_0[1U] = mul_0(R_23, _S4059) + t_19;
    (&_S3791)->p_0[2U] = mul_0(R_23, _S4061) + t_19;
    (&_S3791)->p_0[3U] = mul_0(R_23, _S4063) + t_19;
    (&_S3791)->p_0[4U] = mul_0(R_23, _S4060) + t_19;
    (&_S3791)->p_0[5U] = mul_0(R_23, _S4062) + t_19;
    (&_S3791)->p_0[6U] = mul_0(R_23, _S4064) + t_19;
    float _S4091 = mean_c_18.z;
    float _S4092 = _S4054.z;
    float _S4093 = _S4091 + _S4090.primal_0;
    float _S4094 = _S4092 + _S4090.differential_0;
    float2  _S4095 = _S3783;
    Matrix<float, 2, 2>  _S4096 = _S3781;
    SigmaPoints_0 _S4097 = _S3791;
    bool _S4098 = fisheye_proj_3dgs_ut_1(&_S4097, intrins_19, dist_coeffs_31, &_S4096, &_S4095);
    float _S4099 = _S4096.rows[int(0)].y * _S4096.rows[int(1)].x;
    float _S4100 = _S3781.rows[int(0)].y * _S4096.rows[int(1)].x + _S3781.rows[int(1)].x * _S4096.rows[int(0)].y;
    float det_orig_21 = _S4096.rows[int(0)].x * _S4096.rows[int(1)].y - _S4099;
    float _S4101 = _S4096.rows[int(0)].x + 0.30000001192092896f;
    float _S4102 = _S4096.rows[int(1)].y + 0.30000001192092896f;
    float det_blur_16 = _S4101 * _S4102 - _S4099;
    float _S4103 = det_orig_21 / det_blur_16;
    float _S4104 = ((_S3781.rows[int(0)].x * _S4096.rows[int(1)].y + _S3781.rows[int(1)].y * _S4096.rows[int(0)].x - _S4100) * det_blur_16 - det_orig_21 * (_S3781.rows[int(0)].x * _S4102 + _S3781.rows[int(1)].y * _S4101 - _S4100)) / (det_blur_16 * det_blur_16);
    DiffPair_float_0 _S4105;
    (&_S4105)->primal_0 = 0.0f;
    (&_S4105)->differential_0 = 0.0f;
    DiffPair_float_0 _S4106;
    (&_S4106)->primal_0 = _S4103;
    (&_S4106)->differential_0 = _S4104;
    DiffPair_float_0 _S4107 = _d_max_1(&_S4105, &_S4106);
    DiffPair_float_0 _S4108;
    (&_S4108)->primal_0 = _S4107.primal_0;
    (&_S4108)->differential_0 = _S4107.differential_0;
    DiffPair_float_0 _S4109 = _d_sqrt_1(&_S4108);
    float _S4110 = 1.0f / _S4067;
    float _S4111 = 0.0f - _S4066.differential_0;
    float _S4112 = _S4067 * _S4067;
    float _S4113 = _S4111 / _S4112;
    if(antialiased_16)
    {
        _S3827 = _S4113 * _S4109.primal_0 + _S4109.differential_0 * _S4110;
    }
    else
    {
        _S3827 = _S4113;
    }
    float _S4114 = 1.0f / _S4070;
    float _S4115 = 0.0f - _S4069.differential_0;
    float _S4116 = _S4070 * _S4070;
    float _S4117 = _S4114 * _S4093;
    float _S4118 = _S4115 / _S4116 * _S4093 + _S4094 * _S4114;
    DiffPair_float_0 _S4119;
    (&_S4119)->primal_0 = _S4091;
    (&_S4119)->differential_0 = _S4092;
    DiffPair_float_0 _S4120;
    (&_S4120)->primal_0 = _S4117;
    (&_S4120)->differential_0 = _S4118;
    DiffPair_float_0 _S4121 = _d_max_1(&_S4119, &_S4120);
    float x_45 = _S4076 / _S4088.primal_0;
    float _S4122 = _S4088.primal_0 * _S4088.primal_0;
    float s_diff_x_3 = (_S4077 * _S4088.primal_0 - _S4076 * _S4088.differential_0) / _S4122;
    float y_23 = _S4079 / _S4088.primal_0;
    float s_diff_y_3 = (_S4080 * _S4088.primal_0 - _S4079 * _S4088.differential_0) / _S4122;
    float z_20 = _S4082 / _S4088.primal_0;
    float s_diff_z_3 = (_S4083 * _S4088.primal_0 - _S4082 * _S4088.differential_0) / _S4122;
    float _S4123 = - y_23;
    float z2_41 = z_20 * z_20;
    float _S4124 = s_diff_z_3 * z_20;
    float s_diff_z2_3 = _S4124 + _S4124;
    float fTmp0B_20 = -1.09254848957061768f * z_20;
    float _S4125 = s_diff_z_3 * -1.09254848957061768f;
    float _S4126 = s_diff_x_3 * x_45;
    float _S4127 = s_diff_y_3 * y_23;
    float fC1_20 = x_45 * x_45 - y_23 * y_23;
    float s_diff_fC1_3 = _S4126 + _S4126 - (_S4127 + _S4127);
    float _S4128 = 2.0f * x_45;
    float fS1_20 = _S4128 * y_23;
    float s_diff_fS1_3 = s_diff_x_3 * 2.0f * y_23 + s_diff_y_3 * _S4128;
    float pSH6_10 = 0.94617468118667603f * z2_41 - 0.31539157032966614f;
    float pSH7_10 = fTmp0B_20 * x_45;
    float pSH5_10 = fTmp0B_20 * y_23;
    float pSH8_10 = 0.54627424478530884f * fC1_20;
    float pSH4_10 = 0.54627424478530884f * fS1_20;
    float _S4129 = s_diff_z2_3 * -2.28522896766662598f;
    float fTmp0C_20 = -2.28522896766662598f * z2_41 + 0.4570457935333252f;
    float fTmp1B_20 = 1.44530570507049561f * z_20;
    float _S4130 = s_diff_z_3 * 1.44530570507049561f;
    float _S4131 = 1.86588168144226074f * z2_41 - 1.11952900886535645f;
    float pSH12_10 = z_20 * _S4131;
    float pSH13_10 = fTmp0C_20 * x_45;
    float pSH11_10 = fTmp0C_20 * y_23;
    float pSH14_10 = fTmp1B_20 * fC1_20;
    float pSH10_10 = fTmp1B_20 * fS1_20;
    float pSH15_10 = -0.59004360437393188f * (x_45 * fC1_20 - y_23 * fS1_20);
    float pSH9_10 = -0.59004360437393188f * (x_45 * fS1_20 + y_23 * fC1_20);
    float3  _S4132 = (make_float3 (- s_diff_y_3) * (*sh_coeffs_16)[int(1)] + _S3864 * make_float3 (_S4123) + (make_float3 (s_diff_z_3) * (*sh_coeffs_16)[int(2)] + _S3864 * make_float3 (z_20)) - (make_float3 (s_diff_x_3) * (*sh_coeffs_16)[int(3)] + _S3864 * make_float3 (x_45))) * make_float3 (0.48860251903533936f) + (make_float3 (s_diff_fS1_3 * 0.54627424478530884f) * (*sh_coeffs_16)[int(4)] + _S3864 * make_float3 (pSH4_10) + (make_float3 (_S4125 * y_23 + s_diff_y_3 * fTmp0B_20) * (*sh_coeffs_16)[int(5)] + _S3864 * make_float3 (pSH5_10)) + (make_float3 (s_diff_z2_3 * 0.94617468118667603f) * (*sh_coeffs_16)[int(6)] + _S3864 * make_float3 (pSH6_10)) + (make_float3 (_S4125 * x_45 + s_diff_x_3 * fTmp0B_20) * (*sh_coeffs_16)[int(7)] + _S3864 * make_float3 (pSH7_10)) + (make_float3 (s_diff_fC1_3 * 0.54627424478530884f) * (*sh_coeffs_16)[int(8)] + _S3864 * make_float3 (pSH8_10))) + (make_float3 ((s_diff_x_3 * fS1_20 + s_diff_fS1_3 * x_45 + (s_diff_y_3 * fC1_20 + s_diff_fC1_3 * y_23)) * -0.59004360437393188f) * (*sh_coeffs_16)[int(9)] + _S3864 * make_float3 (pSH9_10) + (make_float3 (_S4130 * fS1_20 + s_diff_fS1_3 * fTmp1B_20) * (*sh_coeffs_16)[int(10)] + _S3864 * make_float3 (pSH10_10)) + (make_float3 (_S4129 * y_23 + s_diff_y_3 * fTmp0C_20) * (*sh_coeffs_16)[int(11)] + _S3864 * make_float3 (pSH11_10)) + (make_float3 (s_diff_z_3 * _S4131 + s_diff_z2_3 * 1.86588168144226074f * z_20) * (*sh_coeffs_16)[int(12)] + _S3864 * make_float3 (pSH12_10)) + (make_float3 (_S4129 * x_45 + s_diff_x_3 * fTmp0C_20) * (*sh_coeffs_16)[int(13)] + _S3864 * make_float3 (pSH13_10)) + (make_float3 (_S4130 * fC1_20 + s_diff_fC1_3 * fTmp1B_20) * (*sh_coeffs_16)[int(14)] + _S3864 * make_float3 (pSH14_10)) + (make_float3 ((s_diff_x_3 * fC1_20 + s_diff_fC1_3 * x_45 - (s_diff_y_3 * fS1_20 + s_diff_fS1_3 * y_23)) * -0.59004360437393188f) * (*sh_coeffs_16)[int(15)] + _S3864 * make_float3 (pSH15_10)));
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4133;
    (&_S4133)->primal_0 = _S3839 + make_float3 (0.48860251903533936f) * (make_float3 (_S4123) * (*sh_coeffs_16)[int(1)] + make_float3 (z_20) * (*sh_coeffs_16)[int(2)] - make_float3 (x_45) * (*sh_coeffs_16)[int(3)]) + (make_float3 (pSH4_10) * (*sh_coeffs_16)[int(4)] + make_float3 (pSH5_10) * (*sh_coeffs_16)[int(5)] + make_float3 (pSH6_10) * (*sh_coeffs_16)[int(6)] + make_float3 (pSH7_10) * (*sh_coeffs_16)[int(7)] + make_float3 (pSH8_10) * (*sh_coeffs_16)[int(8)]) + (make_float3 (pSH9_10) * (*sh_coeffs_16)[int(9)] + make_float3 (pSH10_10) * (*sh_coeffs_16)[int(10)] + make_float3 (pSH11_10) * (*sh_coeffs_16)[int(11)] + make_float3 (pSH12_10) * (*sh_coeffs_16)[int(12)] + make_float3 (pSH13_10) * (*sh_coeffs_16)[int(13)] + make_float3 (pSH14_10) * (*sh_coeffs_16)[int(14)] + make_float3 (pSH15_10) * (*sh_coeffs_16)[int(15)]) + make_float3 (0.5f);
    (&_S4133)->differential_0 = _S4132;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4134;
    (&_S4134)->primal_0 = _S3864;
    (&_S4134)->differential_0 = _S3784;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4135 = _d_max_vector_1(&_S4133, &_S4134);
    float _S4136 = dot_0(h_mean2d_1, _S3783);
    float _S4137 = dot_1(h_conic_1, _S4073.differential_0 * _S4073.differential_0);
    *&(h_mean_1->x) = _S4136 + h_depth_1 * _S4121.differential_0 * _S4121.differential_0 + _S4137 + h_opacity_1 * _S3827 * _S3827 + dot_1(h_rgb_1, _S4135.differential_0 * _S4135.differential_0);
    float3  _S4138 = make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S4139 = _S4053 + mul_0(R_23, _S4138);
    float3  _S4140 = _S4138 - s_diff_campos_1;
    float _S4141 = _S4140.x;
    float _S4142 = _S4141 * _S4076;
    float _S4143 = _S4140.y;
    float _S4144 = _S4143 * _S4079;
    float _S4145 = _S4140.z;
    float _S4146 = _S4145 * _S4082;
    float _S4147 = _S4142 + _S4142 + (_S4144 + _S4144) + (_S4146 + _S4146);
    DiffPair_float_0 _S4148;
    (&_S4148)->primal_0 = _S4085;
    (&_S4148)->differential_0 = _S4147;
    DiffPair_float_0 _S4149 = _d_sqrt_1(&_S4148);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4150;
    (&_S4150)->primal_0 = mean_c_18;
    (&_S4150)->differential_0 = _S4139;
    DiffPair_float_0 _S4151 = s_fwd_length_impl_0(&_S4150);
    float _S4152 = _S4139.z;
    float _S4153 = _S4091 + _S4151.primal_0;
    float _S4154 = _S4152 + _S4151.differential_0;
    float2  _S4155 = _S3783;
    Matrix<float, 2, 2>  _S4156 = _S3781;
    SigmaPoints_0 _S4157 = _S3791;
    bool _S4158 = fisheye_proj_3dgs_ut_1(&_S4157, intrins_19, dist_coeffs_31, &_S4156, &_S4155);
    float _S4159 = _S4156.rows[int(0)].y * _S4156.rows[int(1)].x;
    float _S4160 = _S3781.rows[int(0)].y * _S4156.rows[int(1)].x + _S3781.rows[int(1)].x * _S4156.rows[int(0)].y;
    float det_orig_22 = _S4156.rows[int(0)].x * _S4156.rows[int(1)].y - _S4159;
    float _S4161 = _S4156.rows[int(0)].x + 0.30000001192092896f;
    float _S4162 = _S4156.rows[int(1)].y + 0.30000001192092896f;
    float det_blur_17 = _S4161 * _S4162 - _S4159;
    float _S4163 = det_orig_22 / det_blur_17;
    float _S4164 = ((_S3781.rows[int(0)].x * _S4156.rows[int(1)].y + _S3781.rows[int(1)].y * _S4156.rows[int(0)].x - _S4160) * det_blur_17 - det_orig_22 * (_S3781.rows[int(0)].x * _S4162 + _S3781.rows[int(1)].y * _S4161 - _S4160)) / (det_blur_17 * det_blur_17);
    DiffPair_float_0 _S4165;
    (&_S4165)->primal_0 = 0.0f;
    (&_S4165)->differential_0 = 0.0f;
    DiffPair_float_0 _S4166;
    (&_S4166)->primal_0 = _S4163;
    (&_S4166)->differential_0 = _S4164;
    DiffPair_float_0 _S4167 = _d_max_1(&_S4165, &_S4166);
    DiffPair_float_0 _S4168;
    (&_S4168)->primal_0 = _S4167.primal_0;
    (&_S4168)->differential_0 = _S4167.differential_0;
    DiffPair_float_0 _S4169 = _d_sqrt_1(&_S4168);
    float _S4170 = 1.0f / _S4067;
    float _S4171 = _S4111 / _S4112;
    if(antialiased_16)
    {
        _S3827 = _S4171 * _S4169.primal_0 + _S4169.differential_0 * _S4170;
    }
    else
    {
        _S3827 = _S4171;
    }
    float _S4172 = 1.0f / _S4070;
    float _S4173 = _S4172 * _S4153;
    float _S4174 = _S4115 / _S4116 * _S4153 + _S4154 * _S4172;
    DiffPair_float_0 _S4175;
    (&_S4175)->primal_0 = _S4091;
    (&_S4175)->differential_0 = _S4152;
    DiffPair_float_0 _S4176;
    (&_S4176)->primal_0 = _S4173;
    (&_S4176)->differential_0 = _S4174;
    DiffPair_float_0 _S4177 = _d_max_1(&_S4175, &_S4176);
    float x_46 = _S4076 / _S4149.primal_0;
    float _S4178 = _S4149.primal_0 * _S4149.primal_0;
    float s_diff_x_4 = (_S4141 * _S4149.primal_0 - _S4076 * _S4149.differential_0) / _S4178;
    float y_24 = _S4079 / _S4149.primal_0;
    float s_diff_y_4 = (_S4143 * _S4149.primal_0 - _S4079 * _S4149.differential_0) / _S4178;
    float z_21 = _S4082 / _S4149.primal_0;
    float s_diff_z_4 = (_S4145 * _S4149.primal_0 - _S4082 * _S4149.differential_0) / _S4178;
    float _S4179 = - y_24;
    float z2_42 = z_21 * z_21;
    float _S4180 = s_diff_z_4 * z_21;
    float s_diff_z2_4 = _S4180 + _S4180;
    float fTmp0B_21 = -1.09254848957061768f * z_21;
    float _S4181 = s_diff_z_4 * -1.09254848957061768f;
    float _S4182 = s_diff_x_4 * x_46;
    float _S4183 = s_diff_y_4 * y_24;
    float fC1_21 = x_46 * x_46 - y_24 * y_24;
    float s_diff_fC1_4 = _S4182 + _S4182 - (_S4183 + _S4183);
    float _S4184 = 2.0f * x_46;
    float fS1_21 = _S4184 * y_24;
    float s_diff_fS1_4 = s_diff_x_4 * 2.0f * y_24 + s_diff_y_4 * _S4184;
    float pSH6_11 = 0.94617468118667603f * z2_42 - 0.31539157032966614f;
    float pSH7_11 = fTmp0B_21 * x_46;
    float pSH5_11 = fTmp0B_21 * y_24;
    float pSH8_11 = 0.54627424478530884f * fC1_21;
    float pSH4_11 = 0.54627424478530884f * fS1_21;
    float _S4185 = s_diff_z2_4 * -2.28522896766662598f;
    float fTmp0C_21 = -2.28522896766662598f * z2_42 + 0.4570457935333252f;
    float fTmp1B_21 = 1.44530570507049561f * z_21;
    float _S4186 = s_diff_z_4 * 1.44530570507049561f;
    float _S4187 = 1.86588168144226074f * z2_42 - 1.11952900886535645f;
    float pSH12_11 = z_21 * _S4187;
    float pSH13_11 = fTmp0C_21 * x_46;
    float pSH11_11 = fTmp0C_21 * y_24;
    float pSH14_11 = fTmp1B_21 * fC1_21;
    float pSH10_11 = fTmp1B_21 * fS1_21;
    float pSH15_11 = -0.59004360437393188f * (x_46 * fC1_21 - y_24 * fS1_21);
    float pSH9_11 = -0.59004360437393188f * (x_46 * fS1_21 + y_24 * fC1_21);
    float3  _S4188 = (make_float3 (- s_diff_y_4) * (*sh_coeffs_16)[int(1)] + _S3864 * make_float3 (_S4179) + (make_float3 (s_diff_z_4) * (*sh_coeffs_16)[int(2)] + _S3864 * make_float3 (z_21)) - (make_float3 (s_diff_x_4) * (*sh_coeffs_16)[int(3)] + _S3864 * make_float3 (x_46))) * make_float3 (0.48860251903533936f) + (make_float3 (s_diff_fS1_4 * 0.54627424478530884f) * (*sh_coeffs_16)[int(4)] + _S3864 * make_float3 (pSH4_11) + (make_float3 (_S4181 * y_24 + s_diff_y_4 * fTmp0B_21) * (*sh_coeffs_16)[int(5)] + _S3864 * make_float3 (pSH5_11)) + (make_float3 (s_diff_z2_4 * 0.94617468118667603f) * (*sh_coeffs_16)[int(6)] + _S3864 * make_float3 (pSH6_11)) + (make_float3 (_S4181 * x_46 + s_diff_x_4 * fTmp0B_21) * (*sh_coeffs_16)[int(7)] + _S3864 * make_float3 (pSH7_11)) + (make_float3 (s_diff_fC1_4 * 0.54627424478530884f) * (*sh_coeffs_16)[int(8)] + _S3864 * make_float3 (pSH8_11))) + (make_float3 ((s_diff_x_4 * fS1_21 + s_diff_fS1_4 * x_46 + (s_diff_y_4 * fC1_21 + s_diff_fC1_4 * y_24)) * -0.59004360437393188f) * (*sh_coeffs_16)[int(9)] + _S3864 * make_float3 (pSH9_11) + (make_float3 (_S4186 * fS1_21 + s_diff_fS1_4 * fTmp1B_21) * (*sh_coeffs_16)[int(10)] + _S3864 * make_float3 (pSH10_11)) + (make_float3 (_S4185 * y_24 + s_diff_y_4 * fTmp0C_21) * (*sh_coeffs_16)[int(11)] + _S3864 * make_float3 (pSH11_11)) + (make_float3 (s_diff_z_4 * _S4187 + s_diff_z2_4 * 1.86588168144226074f * z_21) * (*sh_coeffs_16)[int(12)] + _S3864 * make_float3 (pSH12_11)) + (make_float3 (_S4185 * x_46 + s_diff_x_4 * fTmp0C_21) * (*sh_coeffs_16)[int(13)] + _S3864 * make_float3 (pSH13_11)) + (make_float3 (_S4186 * fC1_21 + s_diff_fC1_4 * fTmp1B_21) * (*sh_coeffs_16)[int(14)] + _S3864 * make_float3 (pSH14_11)) + (make_float3 ((s_diff_x_4 * fC1_21 + s_diff_fC1_4 * x_46 - (s_diff_y_4 * fS1_21 + s_diff_fS1_4 * y_24)) * -0.59004360437393188f) * (*sh_coeffs_16)[int(15)] + _S3864 * make_float3 (pSH15_11)));
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4189;
    (&_S4189)->primal_0 = _S3839 + make_float3 (0.48860251903533936f) * (make_float3 (_S4179) * (*sh_coeffs_16)[int(1)] + make_float3 (z_21) * (*sh_coeffs_16)[int(2)] - make_float3 (x_46) * (*sh_coeffs_16)[int(3)]) + (make_float3 (pSH4_11) * (*sh_coeffs_16)[int(4)] + make_float3 (pSH5_11) * (*sh_coeffs_16)[int(5)] + make_float3 (pSH6_11) * (*sh_coeffs_16)[int(6)] + make_float3 (pSH7_11) * (*sh_coeffs_16)[int(7)] + make_float3 (pSH8_11) * (*sh_coeffs_16)[int(8)]) + (make_float3 (pSH9_11) * (*sh_coeffs_16)[int(9)] + make_float3 (pSH10_11) * (*sh_coeffs_16)[int(10)] + make_float3 (pSH11_11) * (*sh_coeffs_16)[int(11)] + make_float3 (pSH12_11) * (*sh_coeffs_16)[int(12)] + make_float3 (pSH13_11) * (*sh_coeffs_16)[int(13)] + make_float3 (pSH14_11) * (*sh_coeffs_16)[int(14)] + make_float3 (pSH15_11) * (*sh_coeffs_16)[int(15)]) + make_float3 (0.5f);
    (&_S4189)->differential_0 = _S4188;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4190;
    (&_S4190)->primal_0 = _S3864;
    (&_S4190)->differential_0 = _S3784;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4191 = _d_max_vector_1(&_S4189, &_S4190);
    *&(h_mean_1->y) = _S4136 + h_depth_1 * _S4177.differential_0 * _S4177.differential_0 + _S4137 + h_opacity_1 * _S3827 * _S3827 + dot_1(h_rgb_1, _S4191.differential_0 * _S4191.differential_0);
    float3  _S4192 = make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S4193 = _S4053 + mul_0(R_23, _S4192);
    float3  _S4194 = _S4192 - s_diff_campos_1;
    float _S4195 = _S4194.x;
    float _S4196 = _S4195 * _S4076;
    float _S4197 = _S4194.y;
    float _S4198 = _S4197 * _S4079;
    float _S4199 = _S4194.z;
    float _S4200 = _S4199 * _S4082;
    float _S4201 = _S4196 + _S4196 + (_S4198 + _S4198) + (_S4200 + _S4200);
    DiffPair_float_0 _S4202;
    (&_S4202)->primal_0 = _S4085;
    (&_S4202)->differential_0 = _S4201;
    DiffPair_float_0 _S4203 = _d_sqrt_1(&_S4202);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4204;
    (&_S4204)->primal_0 = mean_c_18;
    (&_S4204)->differential_0 = _S4193;
    DiffPair_float_0 _S4205 = s_fwd_length_impl_0(&_S4204);
    float _S4206 = _S4193.z;
    float _S4207 = _S4091 + _S4205.primal_0;
    float _S4208 = _S4206 + _S4205.differential_0;
    float2  _S4209 = _S3783;
    Matrix<float, 2, 2>  _S4210 = _S3781;
    SigmaPoints_0 _S4211 = _S3791;
    bool _S4212 = fisheye_proj_3dgs_ut_1(&_S4211, intrins_19, dist_coeffs_31, &_S4210, &_S4209);
    float _S4213 = _S4210.rows[int(0)].y * _S4210.rows[int(1)].x;
    float _S4214 = _S3781.rows[int(0)].y * _S4210.rows[int(1)].x + _S3781.rows[int(1)].x * _S4210.rows[int(0)].y;
    float det_orig_23 = _S4210.rows[int(0)].x * _S4210.rows[int(1)].y - _S4213;
    float _S4215 = _S4210.rows[int(0)].x + 0.30000001192092896f;
    float _S4216 = _S4210.rows[int(1)].y + 0.30000001192092896f;
    float det_blur_18 = _S4215 * _S4216 - _S4213;
    float _S4217 = det_orig_23 / det_blur_18;
    float _S4218 = ((_S3781.rows[int(0)].x * _S4210.rows[int(1)].y + _S3781.rows[int(1)].y * _S4210.rows[int(0)].x - _S4214) * det_blur_18 - det_orig_23 * (_S3781.rows[int(0)].x * _S4216 + _S3781.rows[int(1)].y * _S4215 - _S4214)) / (det_blur_18 * det_blur_18);
    DiffPair_float_0 _S4219;
    (&_S4219)->primal_0 = 0.0f;
    (&_S4219)->differential_0 = 0.0f;
    DiffPair_float_0 _S4220;
    (&_S4220)->primal_0 = _S4217;
    (&_S4220)->differential_0 = _S4218;
    DiffPair_float_0 _S4221 = _d_max_1(&_S4219, &_S4220);
    DiffPair_float_0 _S4222;
    (&_S4222)->primal_0 = _S4221.primal_0;
    (&_S4222)->differential_0 = _S4221.differential_0;
    DiffPair_float_0 _S4223 = _d_sqrt_1(&_S4222);
    float _S4224 = 1.0f / _S4067;
    float _S4225 = _S4111 / _S4112;
    if(antialiased_16)
    {
        _S3827 = _S4225 * _S4223.primal_0 + _S4223.differential_0 * _S4224;
    }
    else
    {
        _S3827 = _S4225;
    }
    float _S4226 = 1.0f / _S4070;
    float _S4227 = _S4226 * _S4207;
    float _S4228 = _S4115 / _S4116 * _S4207 + _S4208 * _S4226;
    DiffPair_float_0 _S4229;
    (&_S4229)->primal_0 = _S4091;
    (&_S4229)->differential_0 = _S4206;
    DiffPair_float_0 _S4230;
    (&_S4230)->primal_0 = _S4227;
    (&_S4230)->differential_0 = _S4228;
    DiffPair_float_0 _S4231 = _d_max_1(&_S4229, &_S4230);
    float x_47 = _S4076 / _S4203.primal_0;
    float _S4232 = _S4203.primal_0 * _S4203.primal_0;
    float s_diff_x_5 = (_S4195 * _S4203.primal_0 - _S4076 * _S4203.differential_0) / _S4232;
    float y_25 = _S4079 / _S4203.primal_0;
    float s_diff_y_5 = (_S4197 * _S4203.primal_0 - _S4079 * _S4203.differential_0) / _S4232;
    float z_22 = _S4082 / _S4203.primal_0;
    float s_diff_z_5 = (_S4199 * _S4203.primal_0 - _S4082 * _S4203.differential_0) / _S4232;
    float _S4233 = - y_25;
    float z2_43 = z_22 * z_22;
    float _S4234 = s_diff_z_5 * z_22;
    float s_diff_z2_5 = _S4234 + _S4234;
    float fTmp0B_22 = -1.09254848957061768f * z_22;
    float _S4235 = s_diff_z_5 * -1.09254848957061768f;
    float _S4236 = s_diff_x_5 * x_47;
    float _S4237 = s_diff_y_5 * y_25;
    float fC1_22 = x_47 * x_47 - y_25 * y_25;
    float s_diff_fC1_5 = _S4236 + _S4236 - (_S4237 + _S4237);
    float _S4238 = 2.0f * x_47;
    float fS1_22 = _S4238 * y_25;
    float s_diff_fS1_5 = s_diff_x_5 * 2.0f * y_25 + s_diff_y_5 * _S4238;
    float pSH6_12 = 0.94617468118667603f * z2_43 - 0.31539157032966614f;
    float pSH7_12 = fTmp0B_22 * x_47;
    float pSH5_12 = fTmp0B_22 * y_25;
    float pSH8_12 = 0.54627424478530884f * fC1_22;
    float pSH4_12 = 0.54627424478530884f * fS1_22;
    float _S4239 = s_diff_z2_5 * -2.28522896766662598f;
    float fTmp0C_22 = -2.28522896766662598f * z2_43 + 0.4570457935333252f;
    float fTmp1B_22 = 1.44530570507049561f * z_22;
    float _S4240 = s_diff_z_5 * 1.44530570507049561f;
    float _S4241 = 1.86588168144226074f * z2_43 - 1.11952900886535645f;
    float pSH12_12 = z_22 * _S4241;
    float pSH13_12 = fTmp0C_22 * x_47;
    float pSH11_12 = fTmp0C_22 * y_25;
    float pSH14_12 = fTmp1B_22 * fC1_22;
    float pSH10_12 = fTmp1B_22 * fS1_22;
    float pSH15_12 = -0.59004360437393188f * (x_47 * fC1_22 - y_25 * fS1_22);
    float pSH9_12 = -0.59004360437393188f * (x_47 * fS1_22 + y_25 * fC1_22);
    float3  _S4242 = (make_float3 (- s_diff_y_5) * (*sh_coeffs_16)[int(1)] + _S3864 * make_float3 (_S4233) + (make_float3 (s_diff_z_5) * (*sh_coeffs_16)[int(2)] + _S3864 * make_float3 (z_22)) - (make_float3 (s_diff_x_5) * (*sh_coeffs_16)[int(3)] + _S3864 * make_float3 (x_47))) * make_float3 (0.48860251903533936f) + (make_float3 (s_diff_fS1_5 * 0.54627424478530884f) * (*sh_coeffs_16)[int(4)] + _S3864 * make_float3 (pSH4_12) + (make_float3 (_S4235 * y_25 + s_diff_y_5 * fTmp0B_22) * (*sh_coeffs_16)[int(5)] + _S3864 * make_float3 (pSH5_12)) + (make_float3 (s_diff_z2_5 * 0.94617468118667603f) * (*sh_coeffs_16)[int(6)] + _S3864 * make_float3 (pSH6_12)) + (make_float3 (_S4235 * x_47 + s_diff_x_5 * fTmp0B_22) * (*sh_coeffs_16)[int(7)] + _S3864 * make_float3 (pSH7_12)) + (make_float3 (s_diff_fC1_5 * 0.54627424478530884f) * (*sh_coeffs_16)[int(8)] + _S3864 * make_float3 (pSH8_12))) + (make_float3 ((s_diff_x_5 * fS1_22 + s_diff_fS1_5 * x_47 + (s_diff_y_5 * fC1_22 + s_diff_fC1_5 * y_25)) * -0.59004360437393188f) * (*sh_coeffs_16)[int(9)] + _S3864 * make_float3 (pSH9_12) + (make_float3 (_S4240 * fS1_22 + s_diff_fS1_5 * fTmp1B_22) * (*sh_coeffs_16)[int(10)] + _S3864 * make_float3 (pSH10_12)) + (make_float3 (_S4239 * y_25 + s_diff_y_5 * fTmp0C_22) * (*sh_coeffs_16)[int(11)] + _S3864 * make_float3 (pSH11_12)) + (make_float3 (s_diff_z_5 * _S4241 + s_diff_z2_5 * 1.86588168144226074f * z_22) * (*sh_coeffs_16)[int(12)] + _S3864 * make_float3 (pSH12_12)) + (make_float3 (_S4239 * x_47 + s_diff_x_5 * fTmp0C_22) * (*sh_coeffs_16)[int(13)] + _S3864 * make_float3 (pSH13_12)) + (make_float3 (_S4240 * fC1_22 + s_diff_fC1_5 * fTmp1B_22) * (*sh_coeffs_16)[int(14)] + _S3864 * make_float3 (pSH14_12)) + (make_float3 ((s_diff_x_5 * fC1_22 + s_diff_fC1_5 * x_47 - (s_diff_y_5 * fS1_22 + s_diff_fS1_5 * y_25)) * -0.59004360437393188f) * (*sh_coeffs_16)[int(15)] + _S3864 * make_float3 (pSH15_12)));
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4243;
    (&_S4243)->primal_0 = _S3839 + make_float3 (0.48860251903533936f) * (make_float3 (_S4233) * (*sh_coeffs_16)[int(1)] + make_float3 (z_22) * (*sh_coeffs_16)[int(2)] - make_float3 (x_47) * (*sh_coeffs_16)[int(3)]) + (make_float3 (pSH4_12) * (*sh_coeffs_16)[int(4)] + make_float3 (pSH5_12) * (*sh_coeffs_16)[int(5)] + make_float3 (pSH6_12) * (*sh_coeffs_16)[int(6)] + make_float3 (pSH7_12) * (*sh_coeffs_16)[int(7)] + make_float3 (pSH8_12) * (*sh_coeffs_16)[int(8)]) + (make_float3 (pSH9_12) * (*sh_coeffs_16)[int(9)] + make_float3 (pSH10_12) * (*sh_coeffs_16)[int(10)] + make_float3 (pSH11_12) * (*sh_coeffs_16)[int(11)] + make_float3 (pSH12_12) * (*sh_coeffs_16)[int(12)] + make_float3 (pSH13_12) * (*sh_coeffs_16)[int(13)] + make_float3 (pSH14_12) * (*sh_coeffs_16)[int(14)] + make_float3 (pSH15_12) * (*sh_coeffs_16)[int(15)]) + make_float3 (0.5f);
    (&_S4243)->differential_0 = _S4242;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4244;
    (&_S4244)->primal_0 = _S3864;
    (&_S4244)->differential_0 = _S3784;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4245 = _d_max_vector_1(&_S4243, &_S4244);
    *&(h_mean_1->z) = _S4136 + h_depth_1 * _S4231.differential_0 * _S4231.differential_0 + _S4137 + h_opacity_1 * _S3827 * _S3827 + dot_1(h_rgb_1, _S4245.differential_0 * _S4245.differential_0);
    return;
}

inline __device__ Matrix<float, 3, 3>  compute_3dgut_iscl_rot(float4  quat_21, float3  scale_20)
{
    float x_48 = quat_21.y;
    float x2_21 = x_48 * x_48;
    float y2_21 = quat_21.z * quat_21.z;
    float z2_44 = quat_21.w * quat_21.w;
    float xy_21 = quat_21.y * quat_21.z;
    float xz_21 = quat_21.y * quat_21.w;
    float yz_21 = quat_21.z * quat_21.w;
    float wx_21 = quat_21.x * quat_21.y;
    float wy_21 = quat_21.x * quat_21.z;
    float wz_21 = quat_21.x * quat_21.w;
    return mul_4(makeMatrix<float, 3, 3> (scale_20.x, 0.0f, 0.0f, 0.0f, scale_20.y, 0.0f, 0.0f, 0.0f, scale_20.z), transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_21 + z2_44), 2.0f * (xy_21 + wz_21), 2.0f * (xz_21 - wy_21), 2.0f * (xy_21 - wz_21), 1.0f - 2.0f * (x2_21 + z2_44), 2.0f * (yz_21 + wx_21), 2.0f * (xz_21 + wy_21), 2.0f * (yz_21 - wx_21), 1.0f - 2.0f * (x2_21 + y2_21)))));
}

inline __device__ void s_bwd_prop_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_0, Matrix<float, 3, 3>  _s_dOut_7)
{
    float _S4246 = (*dpquat_0).primal_0.y;
    float x2_22 = _S4246 * _S4246;
    float y2_22 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.z;
    float z2_45 = (*dpquat_0).primal_0.w * (*dpquat_0).primal_0.w;
    float xy_22 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.z;
    float xz_22 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.w;
    float yz_22 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.w;
    float wx_22 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.y;
    float wy_22 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.z;
    float wz_22 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.w;
    Matrix<float, 3, 3>  _S4247 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_22 + z2_45), 2.0f * (xy_22 + wz_22), 2.0f * (xz_22 - wy_22), 2.0f * (xy_22 - wz_22), 1.0f - 2.0f * (x2_22 + z2_45), 2.0f * (yz_22 + wx_22), 2.0f * (xz_22 + wy_22), 2.0f * (yz_22 - wx_22), 1.0f - 2.0f * (x2_22 + y2_22))));
    Matrix<float, 3, 3>  _S4248 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4249;
    (&_S4249)->primal_0 = makeMatrix<float, 3, 3> ((*dpscale_0).primal_0.x, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.y, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.z);
    (&_S4249)->differential_0 = _S4248;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4250;
    (&_S4250)->primal_0 = _S4247;
    (&_S4250)->differential_0 = _S4248;
    s_bwd_prop_mul_4(&_S4249, &_S4250, _s_dOut_7);
    Matrix<float, 3, 3>  _S4251 = transpose_0(transpose_0(_S4250.differential_0));
    float _S4252 = 2.0f * - _S4251.rows[int(2)].z;
    float _S4253 = 2.0f * _S4251.rows[int(2)].y;
    float _S4254 = 2.0f * _S4251.rows[int(2)].x;
    float _S4255 = 2.0f * _S4251.rows[int(1)].z;
    float _S4256 = 2.0f * - _S4251.rows[int(1)].y;
    float _S4257 = 2.0f * _S4251.rows[int(1)].x;
    float _S4258 = 2.0f * _S4251.rows[int(0)].z;
    float _S4259 = 2.0f * _S4251.rows[int(0)].y;
    float _S4260 = 2.0f * - _S4251.rows[int(0)].x;
    float _S4261 = - _S4257 + _S4259;
    float _S4262 = _S4254 + - _S4258;
    float _S4263 = - _S4253 + _S4255;
    float _S4264 = _S4253 + _S4255;
    float _S4265 = _S4254 + _S4258;
    float _S4266 = _S4257 + _S4259;
    float _S4267 = (*dpquat_0).primal_0.w * (_S4256 + _S4260);
    float _S4268 = (*dpquat_0).primal_0.z * (_S4252 + _S4260);
    float _S4269 = (*dpquat_0).primal_0.y * (_S4252 + _S4256);
    float _S4270 = (*dpquat_0).primal_0.x * _S4261 + (*dpquat_0).primal_0.z * _S4264 + (*dpquat_0).primal_0.y * _S4265 + _S4267 + _S4267;
    float _S4271 = (*dpquat_0).primal_0.x * _S4262 + (*dpquat_0).primal_0.w * _S4264 + (*dpquat_0).primal_0.y * _S4266 + _S4268 + _S4268;
    float _S4272 = (*dpquat_0).primal_0.x * _S4263 + (*dpquat_0).primal_0.w * _S4265 + (*dpquat_0).primal_0.z * _S4266 + _S4269 + _S4269;
    float _S4273 = (*dpquat_0).primal_0.w * _S4261 + (*dpquat_0).primal_0.z * _S4262 + (*dpquat_0).primal_0.y * _S4263;
    float3  _S4274 = make_float3 (_S4249.differential_0.rows[int(0)].x, _S4249.differential_0.rows[int(1)].y, _S4249.differential_0.rows[int(2)].z);
    dpscale_0->primal_0 = (*dpscale_0).primal_0;
    dpscale_0->differential_0 = _S4274;
    float4  _S4275 = make_float4 (0.0f);
    *&((&_S4275)->w) = _S4270;
    *&((&_S4275)->z) = _S4271;
    *&((&_S4275)->y) = _S4272;
    *&((&_S4275)->x) = _S4273;
    dpquat_0->primal_0 = (*dpquat_0).primal_0;
    dpquat_0->differential_0 = _S4275;
    return;
}

inline __device__ void s_bwd_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4276, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4277, Matrix<float, 3, 3>  _S4278)
{
    s_bwd_prop_compute_3dgut_iscl_rot_0(_S4276, _S4277, _S4278);
    return;
}

inline __device__ void compute_3dgut_iscl_rot_vjp(float4  quat_22, float3  scale_21, Matrix<float, 3, 3>  v_iscl_rot_0, float4  * v_quat_7, float3  * v_scale_7)
{
    float4  _S4279 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_0;
    (&dp_quat_0)->primal_0 = quat_22;
    (&dp_quat_0)->differential_0 = _S4279;
    float3  _S4280 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_0;
    (&dp_scale_0)->primal_0 = scale_21;
    (&dp_scale_0)->differential_0 = _S4280;
    s_bwd_compute_3dgut_iscl_rot_0(&dp_quat_0, &dp_scale_0, v_iscl_rot_0);
    *v_quat_7 = dp_quat_0.differential_0;
    *v_scale_7 = dp_scale_0.differential_0;
    return;
}

inline __device__ void _d_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * a_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * b_0, float3  dOut_15)
{
    float _S4281 = dOut_15.y;
    float _S4282 = dOut_15.z;
    float _S4283 = dOut_15.x;
    float _S4284 = (*a_0).primal_0.z * _S4281 + - (*a_0).primal_0.y * _S4282;
    float _S4285 = - (*a_0).primal_0.z * _S4283 + (*a_0).primal_0.x * _S4282;
    float _S4286 = (*a_0).primal_0.y * _S4283 + - (*a_0).primal_0.x * _S4281;
    float3  _S4287 = make_float3 (- (*b_0).primal_0.z * _S4281 + (*b_0).primal_0.y * _S4282, (*b_0).primal_0.z * _S4283 + - (*b_0).primal_0.x * _S4282, - (*b_0).primal_0.y * _S4283 + (*b_0).primal_0.x * _S4281);
    a_0->primal_0 = (*a_0).primal_0;
    a_0->differential_0 = _S4287;
    float3  _S4288 = make_float3 (_S4284, _S4285, _S4286);
    b_0->primal_0 = (*b_0).primal_0;
    b_0->differential_0 = _S4288;
    return;
}

inline __device__ float3  cross_0(float3  left_10, float3  right_10)
{
    float _S4289 = left_10.y;
    float _S4290 = right_10.z;
    float _S4291 = left_10.z;
    float _S4292 = right_10.y;
    float _S4293 = right_10.x;
    float _S4294 = left_10.x;
    return make_float3 (_S4289 * _S4290 - _S4291 * _S4292, _S4291 * _S4293 - _S4294 * _S4290, _S4294 * _S4292 - _S4289 * _S4293);
}

inline __device__ float evaluate_alpha_3dgs(float3  mean_18, Matrix<float, 3, 3>  iscl_rot_0, float opacity_10, float3  ray_o_0, float3  ray_d_0)
{
    float3  grd_0 = mul_0(iscl_rot_0, ray_d_0);
    float3  gcrod_0 = cross_0(grd_0, mul_0(iscl_rot_0, ray_o_0 - mean_18));
    return opacity_10 * (F32_exp((-0.5f * dot_1(gcrod_0, gcrod_0) / dot_1(grd_0, grd_0))));
}

inline __device__ float3  s_primal_ctx_cross_0(float3  _S4295, float3  _S4296)
{
    return cross_0(_S4295, _S4296);
}

inline __device__ float s_primal_ctx_dot_0(float3  _S4297, float3  _S4298)
{
    return dot_1(_S4297, _S4298);
}

inline __device__ void s_bwd_prop_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4299, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4300, float _S4301)
{
    _d_dot_0(_S4299, _S4300, _S4301);
    return;
}

inline __device__ void s_bwd_prop_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4302, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4303, float3  _S4304)
{
    _d_cross_0(_S4302, _S4303, _S4304);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_0, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_0, DiffPair_float_0 * dpopacity_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_0, float _s_dOut_8)
{
    float3  _S4305 = (*dpray_o_0).primal_0 - (*dpmean_0).primal_0;
    float3  _S4306 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, _S4305);
    float3  _S4307 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, (*dpray_d_0).primal_0);
    float3  _S4308 = s_primal_ctx_cross_0(_S4307, _S4306);
    float _S4309 = -0.5f * s_primal_ctx_dot_0(_S4308, _S4308);
    float _S4310 = s_primal_ctx_dot_0(_S4307, _S4307);
    float _S4311 = _S4309 / _S4310;
    float _S4312 = _S4310 * _S4310;
    float _S4313 = (*dpopacity_0).primal_0 * _s_dOut_8;
    float _S4314 = s_primal_ctx_exp_1(_S4311) * _s_dOut_8;
    DiffPair_float_0 _S4315;
    (&_S4315)->primal_0 = _S4311;
    (&_S4315)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4315, _S4313);
    float _S4316 = _S4315.differential_0 / _S4312;
    float _S4317 = _S4309 * - _S4316;
    float _S4318 = _S4310 * _S4316;
    float3  _S4319 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4320;
    (&_S4320)->primal_0 = _S4307;
    (&_S4320)->differential_0 = _S4319;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4321;
    (&_S4321)->primal_0 = _S4307;
    (&_S4321)->differential_0 = _S4319;
    s_bwd_prop_dot_0(&_S4320, &_S4321, _S4317);
    float _S4322 = -0.5f * _S4318;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4323;
    (&_S4323)->primal_0 = _S4308;
    (&_S4323)->differential_0 = _S4319;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4324;
    (&_S4324)->primal_0 = _S4308;
    (&_S4324)->differential_0 = _S4319;
    s_bwd_prop_dot_0(&_S4323, &_S4324, _S4322);
    float3  _S4325 = _S4324.differential_0 + _S4323.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4326;
    (&_S4326)->primal_0 = _S4307;
    (&_S4326)->differential_0 = _S4319;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4327;
    (&_S4327)->primal_0 = _S4306;
    (&_S4327)->differential_0 = _S4319;
    s_bwd_prop_cross_0(&_S4326, &_S4327, _S4325);
    float3  _S4328 = _S4321.differential_0 + _S4320.differential_0 + _S4326.differential_0;
    Matrix<float, 3, 3>  _S4329 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4330;
    (&_S4330)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S4330)->differential_0 = _S4329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4331;
    (&_S4331)->primal_0 = (*dpray_d_0).primal_0;
    (&_S4331)->differential_0 = _S4319;
    s_bwd_prop_mul_1(&_S4330, &_S4331, _S4328);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4332;
    (&_S4332)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S4332)->differential_0 = _S4329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4333;
    (&_S4333)->primal_0 = _S4305;
    (&_S4333)->differential_0 = _S4319;
    s_bwd_prop_mul_1(&_S4332, &_S4333, _S4327.differential_0);
    float3  _S4334 = - _S4333.differential_0;
    dpray_d_0->primal_0 = (*dpray_d_0).primal_0;
    dpray_d_0->differential_0 = _S4331.differential_0;
    dpray_o_0->primal_0 = (*dpray_o_0).primal_0;
    dpray_o_0->differential_0 = _S4333.differential_0;
    dpopacity_0->primal_0 = (*dpopacity_0).primal_0;
    dpopacity_0->differential_0 = _S4314;
    Matrix<float, 3, 3>  _S4335 = _S4330.differential_0 + _S4332.differential_0;
    dpiscl_rot_0->primal_0 = (*dpiscl_rot_0).primal_0;
    dpiscl_rot_0->differential_0 = _S4335;
    dpmean_0->primal_0 = (*dpmean_0).primal_0;
    dpmean_0->differential_0 = _S4334;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4336, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4337, DiffPair_float_0 * _S4338, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4339, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4340, float _S4341)
{
    s_bwd_prop_evaluate_alpha_3dgs_0(_S4336, _S4337, _S4338, _S4339, _S4340, _S4341);
    return;
}

inline __device__ void evaluate_alpha_3dgs_vjp(float3  mean_19, Matrix<float, 3, 3>  iscl_rot_1, float opacity_11, float3  ray_o_1, float3  ray_d_1, float v_alpha_0, float3  * v_mean_7, Matrix<float, 3, 3>  * v_iscl_rot_1, float * v_opacity_7, float3  * v_ray_o_1, float3  * v_ray_d_1)
{
    float3  _S4342 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_0;
    (&dp_mean_0)->primal_0 = mean_19;
    (&dp_mean_0)->differential_0 = _S4342;
    Matrix<float, 3, 3>  _S4343 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_0;
    (&dp_iscl_rot_0)->primal_0 = iscl_rot_1;
    (&dp_iscl_rot_0)->differential_0 = _S4343;
    DiffPair_float_0 dp_opacity_0;
    (&dp_opacity_0)->primal_0 = opacity_11;
    (&dp_opacity_0)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_0;
    (&dp_ray_o_0)->primal_0 = ray_o_1;
    (&dp_ray_o_0)->differential_0 = _S4342;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_0;
    (&dp_ray_d_0)->primal_0 = ray_d_1;
    (&dp_ray_d_0)->differential_0 = _S4342;
    s_bwd_evaluate_alpha_3dgs_0(&dp_mean_0, &dp_iscl_rot_0, &dp_opacity_0, &dp_ray_o_0, &dp_ray_d_0, v_alpha_0);
    *v_mean_7 = dp_mean_0.differential_0;
    *v_iscl_rot_1 = dp_iscl_rot_0.differential_0;
    *v_opacity_7 = dp_opacity_0.differential_0;
    *v_ray_o_1 = dp_ray_o_0.differential_0;
    *v_ray_d_1 = dp_ray_d_0.differential_0;
    return;
}

inline __device__ void evaluate_color_3dgs(float3  mean_20, Matrix<float, 3, 3>  iscl_rot_2, float opacity_12, float3  rgb_10, float3  ray_o_2, float3  ray_d_2, float3  * out_rgb_0, float * depth_10)
{
    *out_rgb_0 = rgb_10;
    float3  grd_1 = mul_0(iscl_rot_2, ray_d_2);
    *depth_10 = - dot_1(mul_0(iscl_rot_2, ray_o_2 - mean_20), grd_1) / dot_1(grd_1, grd_1);
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_1, DiffPair_float_0 * dpopacity_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_1, float3  dpout_rgb_0, float dpdepth_0)
{
    float3  _S4344 = (*dpray_o_1).primal_0 - (*dpmean_1).primal_0;
    float3  _S4345 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, _S4344);
    float3  _S4346 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, (*dpray_d_1).primal_0);
    float _S4347 = s_primal_ctx_dot_0(_S4346, _S4346);
    float _S4348 = dpdepth_0 / (_S4347 * _S4347);
    float _S4349 = - s_primal_ctx_dot_0(_S4345, _S4346) * - _S4348;
    float _S4350 = _S4347 * _S4348;
    float3  _S4351 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4352;
    (&_S4352)->primal_0 = _S4346;
    (&_S4352)->differential_0 = _S4351;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4353;
    (&_S4353)->primal_0 = _S4346;
    (&_S4353)->differential_0 = _S4351;
    s_bwd_prop_dot_0(&_S4352, &_S4353, _S4349);
    float _S4354 = - _S4350;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4355;
    (&_S4355)->primal_0 = _S4345;
    (&_S4355)->differential_0 = _S4351;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4356;
    (&_S4356)->primal_0 = _S4346;
    (&_S4356)->differential_0 = _S4351;
    s_bwd_prop_dot_0(&_S4355, &_S4356, _S4354);
    float3  _S4357 = _S4353.differential_0 + _S4352.differential_0 + _S4356.differential_0;
    Matrix<float, 3, 3>  _S4358 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4359;
    (&_S4359)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S4359)->differential_0 = _S4358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4360;
    (&_S4360)->primal_0 = (*dpray_d_1).primal_0;
    (&_S4360)->differential_0 = _S4351;
    s_bwd_prop_mul_1(&_S4359, &_S4360, _S4357);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4361;
    (&_S4361)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S4361)->differential_0 = _S4358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4362;
    (&_S4362)->primal_0 = _S4344;
    (&_S4362)->differential_0 = _S4351;
    s_bwd_prop_mul_1(&_S4361, &_S4362, _S4355.differential_0);
    float3  _S4363 = - _S4362.differential_0;
    dpray_d_1->primal_0 = (*dpray_d_1).primal_0;
    dpray_d_1->differential_0 = _S4360.differential_0;
    dpray_o_1->primal_0 = (*dpray_o_1).primal_0;
    dpray_o_1->differential_0 = _S4362.differential_0;
    dprgb_0->primal_0 = (*dprgb_0).primal_0;
    dprgb_0->differential_0 = dpout_rgb_0;
    dpopacity_1->primal_0 = (*dpopacity_1).primal_0;
    dpopacity_1->differential_0 = 0.0f;
    Matrix<float, 3, 3>  _S4364 = _S4359.differential_0 + _S4361.differential_0;
    dpiscl_rot_1->primal_0 = (*dpiscl_rot_1).primal_0;
    dpiscl_rot_1->differential_0 = _S4364;
    dpmean_1->primal_0 = (*dpmean_1).primal_0;
    dpmean_1->differential_0 = _S4363;
    return;
}

inline __device__ void s_bwd_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4365, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4366, DiffPair_float_0 * _S4367, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4368, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4369, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4370, float3  _S4371, float _S4372)
{
    s_bwd_prop_evaluate_color_3dgs_0(_S4365, _S4366, _S4367, _S4368, _S4369, _S4370, _S4371, _S4372);
    return;
}

inline __device__ void evaluate_color_3dgs_vjp(float3  mean_21, Matrix<float, 3, 3>  iscl_rot_3, float opacity_13, float3  rgb_11, float3  ray_o_3, float3  ray_d_3, float3  v_out_rgb_0, float v_depth_7, float3  * v_mean_8, Matrix<float, 3, 3>  * v_iscl_rot_2, float * v_opacity_8, float3  * v_rgb_7, float3  * v_ray_o_2, float3  * v_ray_d_2)
{
    float3  _S4373 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_1;
    (&dp_mean_1)->primal_0 = mean_21;
    (&dp_mean_1)->differential_0 = _S4373;
    Matrix<float, 3, 3>  _S4374 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_1;
    (&dp_iscl_rot_1)->primal_0 = iscl_rot_3;
    (&dp_iscl_rot_1)->differential_0 = _S4374;
    DiffPair_float_0 dp_opacity_1;
    (&dp_opacity_1)->primal_0 = opacity_13;
    (&dp_opacity_1)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_0;
    (&dp_rgb_0)->primal_0 = rgb_11;
    (&dp_rgb_0)->differential_0 = _S4373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_1;
    (&dp_ray_o_1)->primal_0 = ray_o_3;
    (&dp_ray_o_1)->differential_0 = _S4373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_1;
    (&dp_ray_d_1)->primal_0 = ray_d_3;
    (&dp_ray_d_1)->differential_0 = _S4373;
    s_bwd_evaluate_color_3dgs_0(&dp_mean_1, &dp_iscl_rot_1, &dp_opacity_1, &dp_rgb_0, &dp_ray_o_1, &dp_ray_d_1, v_out_rgb_0, v_depth_7);
    *v_mean_8 = dp_mean_1.differential_0;
    *v_iscl_rot_2 = dp_iscl_rot_1.differential_0;
    *v_opacity_8 = dp_opacity_1.differential_0;
    *v_rgb_7 = dp_rgb_0.differential_0;
    *v_ray_o_2 = dp_ray_o_1.differential_0;
    *v_ray_d_2 = dp_ray_d_1.differential_0;
    return;
}

inline __device__ void _d_rsqrt_0(DiffPair_float_0 * dpx_18, float dOut_16)
{
    float _S4375 = -0.5f / ((*dpx_18).primal_0 * (F32_sqrt(((*dpx_18).primal_0)))) * dOut_16;
    dpx_18->primal_0 = (*dpx_18).primal_0;
    dpx_18->differential_0 = _S4375;
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_17, float3  mean_22, float4  quat_23, float3  scale_22, float in_opacity_17, FixedArray<float3 , 2>  * sv_sites_0, FixedArray<float3 , 2>  * sv_colors_0, Matrix<float, 3, 3>  R_24, float3  t_20, float fx_29, float fy_29, float cx_24, float cy_24, FixedArray<float, 10>  * dist_coeffs_32, uint image_width_17, uint image_height_17, float near_plane_10, float far_plane_10, int4  * aabb_xyxy_10, float2  * mean2d_19, float * depth_11, float3  * conic_10, float * opacity_14, float3  * rgb_12)
{
    for(;;)
    {
        float3  mean_c_19 = mul_0(R_24, mean_22) + t_20;
        float _S4376 = mean_c_19.z;
        bool _S4377;
        if(_S4376 < near_plane_10)
        {
            _S4377 = true;
        }
        else
        {
            _S4377 = _S4376 > far_plane_10;
        }
        if(_S4377)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_20 = make_float4 (fx_29, fy_29, cx_24, cy_24);
        Matrix<float, 2, 2>  covar2d_10;
        float3  _S4378 = exp_0(scale_22);
        float x_49 = quat_23.y;
        float x2_23 = x_49 * x_49;
        float y2_23 = quat_23.z * quat_23.z;
        float z2_46 = quat_23.w * quat_23.w;
        float xy_23 = quat_23.y * quat_23.z;
        float xz_23 = quat_23.y * quat_23.w;
        float yz_23 = quat_23.z * quat_23.w;
        float wx_23 = quat_23.x * quat_23.y;
        float wy_23 = quat_23.x * quat_23.z;
        float wz_23 = quat_23.x * quat_23.w;
        Matrix<float, 3, 3>  _S4379 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_23 + z2_46), 2.0f * (xy_23 + wz_23), 2.0f * (xz_23 - wy_23), 2.0f * (xy_23 - wz_23), 1.0f - 2.0f * (x2_23 + z2_46), 2.0f * (yz_23 + wx_23), 2.0f * (xz_23 + wy_23), 2.0f * (yz_23 - wx_23), 1.0f - 2.0f * (x2_23 + y2_23))));
        SigmaPoints_0 ret_4;
        (&ret_4)->p_0[int(0)] = mean_22;
        (&ret_4)->w_mean_0[int(0)] = 0.0f;
        (&ret_4)->w_cov_0[int(0)] = 2.0f;
        float _S4380 = (F32_sqrt((3.0f)));
        float3  delta_30 = make_float3 (_S4380 * _S4378.x) * _S4379.rows[0U];
        float3  _S4381 = mean_22 + delta_30;
        float3  _S4382 = mean_22 - delta_30;
        float3  delta_31 = make_float3 (_S4380 * _S4378.y) * _S4379.rows[1U];
        float3  _S4383 = mean_22 + delta_31;
        float3  _S4384 = mean_22 - delta_31;
        float3  delta_32 = make_float3 (_S4380 * _S4378.z) * _S4379.rows[2U];
        float3  _S4385 = mean_22 + delta_32;
        float3  _S4386 = mean_22 - delta_32;
        (&ret_4)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_4)->p_0[0U] = mul_0(R_24, (&ret_4)->p_0[0U]) + t_20;
        (&ret_4)->p_0[1U] = mul_0(R_24, _S4381) + t_20;
        (&ret_4)->p_0[2U] = mul_0(R_24, _S4383) + t_20;
        (&ret_4)->p_0[3U] = mul_0(R_24, _S4385) + t_20;
        (&ret_4)->p_0[4U] = mul_0(R_24, _S4382) + t_20;
        (&ret_4)->p_0[5U] = mul_0(R_24, _S4384) + t_20;
        (&ret_4)->p_0[6U] = mul_0(R_24, _S4386) + t_20;
        SigmaPoints_0 _S4387 = ret_4;
        bool _S4388 = persp_proj_3dgs_ut_0(&_S4387, intrins_20, dist_coeffs_32, image_width_17, image_height_17, &covar2d_10, mean2d_19);
        if(!(true & _S4388))
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_24 = *&(((&covar2d_10)->rows + (int(0)))->x) * *&(((&covar2d_10)->rows + (int(1)))->y) - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float _S4389 = *&(((&covar2d_10)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(0)))->x) = _S4389;
        float _S4390 = *&(((&covar2d_10)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(1)))->y) = _S4390;
        float det_blur_19 = _S4389 * _S4390 - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float compensation_11 = (F32_sqrt(((F32_max((0.0f), (det_orig_24 / det_blur_19))))));
        if(det_blur_19 <= 0.0f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_14 = 1.0f / (1.0f + (F32_exp((- in_opacity_17))));
        if(antialiased_17)
        {
            *opacity_14 = *opacity_14 * compensation_11;
        }
        if((*opacity_14) < 0.00392156885936856f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_10 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_14 / 0.00392156885936856f)))))))));
        float radius_x_10 = extend_10 * (F32_sqrt((covar2d_10[int(0)].x)));
        float radius_y_10 = extend_10 * (F32_sqrt((covar2d_10[int(1)].y)));
        float xmin_5 = (F32_floor(((*mean2d_19).x - radius_x_10)));
        float xmax_5 = (F32_ceil(((*mean2d_19).x + radius_x_10)));
        float ymin_5 = (F32_floor(((*mean2d_19).y - radius_y_10)));
        float ymax_5 = (F32_ceil(((*mean2d_19).y + radius_y_10)));
        if(xmax_5 <= 0.0f)
        {
            _S4377 = true;
        }
        else
        {
            _S4377 = xmin_5 >= float(image_width_17);
        }
        if(_S4377)
        {
            _S4377 = true;
        }
        else
        {
            _S4377 = ymax_5 <= 0.0f;
        }
        if(_S4377)
        {
            _S4377 = true;
        }
        else
        {
            _S4377 = ymin_5 >= float(image_height_17);
        }
        if(_S4377)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_10 = make_int4 (int(xmin_5), int(ymin_5), int(xmax_5), int(ymax_5));
        *depth_11 = (F32_max((_S4376), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4376 + length_1(mean_c_19)))));
        *conic_10 = exp_0(- scale_22);
        float3  _S4391 = mean_22 - - mul_0(transpose_0(R_24), t_20);
        float3  _S4392 = _S4391 * make_float3 ((F32_rsqrt((dot_1(_S4391, _S4391)))));
        float w_0 = (F32_exp((dot_1((*sv_sites_0)[int(0)], _S4392) - dot_1((*sv_sites_0)[int(1)], _S4392))));
        float w_1 = (F32_exp((0.0f)));
        *rgb_12 = max_0((make_float3 (w_0) * (*sv_colors_0)[int(0)] + make_float3 (w_1) * (*sv_colors_0)[int(1)]) / make_float3 (w_0 + w_1) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_18, float3  mean_23, float4  quat_24, float3  scale_23, float in_opacity_18, FixedArray<float3 , 2>  * sv_sites_1, FixedArray<float3 , 2>  * sv_colors_1, Matrix<float, 3, 3>  R_25, float3  t_21, float fx_30, float fy_30, float cx_25, float cy_25, FixedArray<float, 10>  * dist_coeffs_33, uint image_width_18, uint image_height_18, float near_plane_11, float far_plane_11, int4  * aabb_xyxy_11, float2  * mean2d_20, float * depth_12, float3  * conic_11, float * opacity_15, float3  * rgb_13)
{
    for(;;)
    {
        float3  mean_c_20 = mul_0(R_25, mean_23) + t_21;
        float _S4393 = length_1(mean_c_20);
        bool _S4394;
        if(_S4393 < near_plane_11)
        {
            _S4394 = true;
        }
        else
        {
            _S4394 = _S4393 > far_plane_11;
        }
        if(_S4394)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_21 = make_float4 (fx_30, fy_30, cx_25, cy_25);
        Matrix<float, 2, 2>  covar2d_11;
        float3  _S4395 = exp_0(scale_23);
        float x_50 = quat_24.y;
        float x2_24 = x_50 * x_50;
        float y2_24 = quat_24.z * quat_24.z;
        float z2_47 = quat_24.w * quat_24.w;
        float xy_24 = quat_24.y * quat_24.z;
        float xz_24 = quat_24.y * quat_24.w;
        float yz_24 = quat_24.z * quat_24.w;
        float wx_24 = quat_24.x * quat_24.y;
        float wy_24 = quat_24.x * quat_24.z;
        float wz_24 = quat_24.x * quat_24.w;
        Matrix<float, 3, 3>  _S4396 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_24 + z2_47), 2.0f * (xy_24 + wz_24), 2.0f * (xz_24 - wy_24), 2.0f * (xy_24 - wz_24), 1.0f - 2.0f * (x2_24 + z2_47), 2.0f * (yz_24 + wx_24), 2.0f * (xz_24 + wy_24), 2.0f * (yz_24 - wx_24), 1.0f - 2.0f * (x2_24 + y2_24))));
        SigmaPoints_0 ret_5;
        (&ret_5)->p_0[int(0)] = mean_23;
        (&ret_5)->w_mean_0[int(0)] = 0.0f;
        (&ret_5)->w_cov_0[int(0)] = 2.0f;
        float _S4397 = (F32_sqrt((3.0f)));
        float3  delta_33 = make_float3 (_S4397 * _S4395.x) * _S4396.rows[0U];
        float3  _S4398 = mean_23 + delta_33;
        float3  _S4399 = mean_23 - delta_33;
        float3  delta_34 = make_float3 (_S4397 * _S4395.y) * _S4396.rows[1U];
        float3  _S4400 = mean_23 + delta_34;
        float3  _S4401 = mean_23 - delta_34;
        float3  delta_35 = make_float3 (_S4397 * _S4395.z) * _S4396.rows[2U];
        float3  _S4402 = mean_23 + delta_35;
        float3  _S4403 = mean_23 - delta_35;
        (&ret_5)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_5)->p_0[0U] = mul_0(R_25, (&ret_5)->p_0[0U]) + t_21;
        (&ret_5)->p_0[1U] = mul_0(R_25, _S4398) + t_21;
        (&ret_5)->p_0[2U] = mul_0(R_25, _S4400) + t_21;
        (&ret_5)->p_0[3U] = mul_0(R_25, _S4402) + t_21;
        (&ret_5)->p_0[4U] = mul_0(R_25, _S4399) + t_21;
        (&ret_5)->p_0[5U] = mul_0(R_25, _S4401) + t_21;
        (&ret_5)->p_0[6U] = mul_0(R_25, _S4403) + t_21;
        SigmaPoints_0 _S4404 = ret_5;
        bool _S4405 = fisheye_proj_3dgs_ut_0(&_S4404, intrins_21, dist_coeffs_33, &covar2d_11, mean2d_20);
        if(!(true & _S4405))
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_25 = *&(((&covar2d_11)->rows + (int(0)))->x) * *&(((&covar2d_11)->rows + (int(1)))->y) - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float _S4406 = *&(((&covar2d_11)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(0)))->x) = _S4406;
        float _S4407 = *&(((&covar2d_11)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(1)))->y) = _S4407;
        float det_blur_20 = _S4406 * _S4407 - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float compensation_12 = (F32_sqrt(((F32_max((0.0f), (det_orig_25 / det_blur_20))))));
        if(det_blur_20 <= 0.0f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_15 = 1.0f / (1.0f + (F32_exp((- in_opacity_18))));
        if(antialiased_18)
        {
            *opacity_15 = *opacity_15 * compensation_12;
        }
        if((*opacity_15) < 0.00392156885936856f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_11 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_15 / 0.00392156885936856f)))))))));
        float radius_x_11 = extend_11 * (F32_sqrt((covar2d_11[int(0)].x)));
        float radius_y_11 = extend_11 * (F32_sqrt((covar2d_11[int(1)].y)));
        float xmin_6 = (F32_floor(((*mean2d_20).x - radius_x_11)));
        float xmax_6 = (F32_ceil(((*mean2d_20).x + radius_x_11)));
        float ymin_6 = (F32_floor(((*mean2d_20).y - radius_y_11)));
        float ymax_6 = (F32_ceil(((*mean2d_20).y + radius_y_11)));
        if(xmax_6 <= 0.0f)
        {
            _S4394 = true;
        }
        else
        {
            _S4394 = xmin_6 >= float(image_width_18);
        }
        if(_S4394)
        {
            _S4394 = true;
        }
        else
        {
            _S4394 = ymax_6 <= 0.0f;
        }
        if(_S4394)
        {
            _S4394 = true;
        }
        else
        {
            _S4394 = ymin_6 >= float(image_height_18);
        }
        if(_S4394)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_11 = make_int4 (int(xmin_6), int(ymin_6), int(xmax_6), int(ymax_6));
        float _S4408 = mean_c_20.z;
        *depth_12 = (F32_max((_S4408), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4408 + _S4393))));
        *conic_11 = exp_0(- scale_23);
        float3  _S4409 = mean_23 - - mul_0(transpose_0(R_25), t_21);
        float3  _S4410 = _S4409 * make_float3 ((F32_rsqrt((dot_1(_S4409, _S4409)))));
        float w_2 = (F32_exp((dot_1((*sv_sites_1)[int(0)], _S4410) - dot_1((*sv_sites_1)[int(1)], _S4410))));
        float w_3 = (F32_exp((0.0f)));
        *rgb_13 = max_0((make_float3 (w_2) * (*sv_colors_1)[int(0)] + make_float3 (w_3) * (*sv_colors_1)[int(1)]) / make_float3 (w_2 + w_3) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_19, float3  mean_24, float4  quat_25, float3  scale_24, float in_opacity_19, FixedArray<float3 , 3>  * sv_sites_2, FixedArray<float3 , 3>  * sv_colors_2, Matrix<float, 3, 3>  R_26, float3  t_22, float fx_31, float fy_31, float cx_26, float cy_26, FixedArray<float, 10>  * dist_coeffs_34, uint image_width_19, uint image_height_19, float near_plane_12, float far_plane_12, int4  * aabb_xyxy_12, float2  * mean2d_21, float * depth_13, float3  * conic_12, float * opacity_16, float3  * rgb_14)
{
    for(;;)
    {
        float3  mean_c_21 = mul_0(R_26, mean_24) + t_22;
        float _S4411 = mean_c_21.z;
        bool _S4412;
        if(_S4411 < near_plane_12)
        {
            _S4412 = true;
        }
        else
        {
            _S4412 = _S4411 > far_plane_12;
        }
        if(_S4412)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_22 = make_float4 (fx_31, fy_31, cx_26, cy_26);
        Matrix<float, 2, 2>  covar2d_12;
        float3  _S4413 = exp_0(scale_24);
        float x_51 = quat_25.y;
        float x2_25 = x_51 * x_51;
        float y2_25 = quat_25.z * quat_25.z;
        float z2_48 = quat_25.w * quat_25.w;
        float xy_25 = quat_25.y * quat_25.z;
        float xz_25 = quat_25.y * quat_25.w;
        float yz_25 = quat_25.z * quat_25.w;
        float wx_25 = quat_25.x * quat_25.y;
        float wy_25 = quat_25.x * quat_25.z;
        float wz_25 = quat_25.x * quat_25.w;
        Matrix<float, 3, 3>  _S4414 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_25 + z2_48), 2.0f * (xy_25 + wz_25), 2.0f * (xz_25 - wy_25), 2.0f * (xy_25 - wz_25), 1.0f - 2.0f * (x2_25 + z2_48), 2.0f * (yz_25 + wx_25), 2.0f * (xz_25 + wy_25), 2.0f * (yz_25 - wx_25), 1.0f - 2.0f * (x2_25 + y2_25))));
        SigmaPoints_0 ret_6;
        (&ret_6)->p_0[int(0)] = mean_24;
        (&ret_6)->w_mean_0[int(0)] = 0.0f;
        (&ret_6)->w_cov_0[int(0)] = 2.0f;
        float _S4415 = (F32_sqrt((3.0f)));
        float3  delta_36 = make_float3 (_S4415 * _S4413.x) * _S4414.rows[0U];
        float3  _S4416 = mean_24 + delta_36;
        float3  _S4417 = mean_24 - delta_36;
        float3  delta_37 = make_float3 (_S4415 * _S4413.y) * _S4414.rows[1U];
        float3  _S4418 = mean_24 + delta_37;
        float3  _S4419 = mean_24 - delta_37;
        float3  delta_38 = make_float3 (_S4415 * _S4413.z) * _S4414.rows[2U];
        float3  _S4420 = mean_24 + delta_38;
        float3  _S4421 = mean_24 - delta_38;
        (&ret_6)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_6)->p_0[0U] = mul_0(R_26, (&ret_6)->p_0[0U]) + t_22;
        (&ret_6)->p_0[1U] = mul_0(R_26, _S4416) + t_22;
        (&ret_6)->p_0[2U] = mul_0(R_26, _S4418) + t_22;
        (&ret_6)->p_0[3U] = mul_0(R_26, _S4420) + t_22;
        (&ret_6)->p_0[4U] = mul_0(R_26, _S4417) + t_22;
        (&ret_6)->p_0[5U] = mul_0(R_26, _S4419) + t_22;
        (&ret_6)->p_0[6U] = mul_0(R_26, _S4421) + t_22;
        SigmaPoints_0 _S4422 = ret_6;
        bool _S4423 = persp_proj_3dgs_ut_0(&_S4422, intrins_22, dist_coeffs_34, image_width_19, image_height_19, &covar2d_12, mean2d_21);
        if(!(true & _S4423))
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_26 = *&(((&covar2d_12)->rows + (int(0)))->x) * *&(((&covar2d_12)->rows + (int(1)))->y) - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float _S4424 = *&(((&covar2d_12)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(0)))->x) = _S4424;
        float _S4425 = *&(((&covar2d_12)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(1)))->y) = _S4425;
        float det_blur_21 = _S4424 * _S4425 - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float compensation_13 = (F32_sqrt(((F32_max((0.0f), (det_orig_26 / det_blur_21))))));
        if(det_blur_21 <= 0.0f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_16 = 1.0f / (1.0f + (F32_exp((- in_opacity_19))));
        if(antialiased_19)
        {
            *opacity_16 = *opacity_16 * compensation_13;
        }
        if((*opacity_16) < 0.00392156885936856f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_12 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_16 / 0.00392156885936856f)))))))));
        float radius_x_12 = extend_12 * (F32_sqrt((covar2d_12[int(0)].x)));
        float radius_y_12 = extend_12 * (F32_sqrt((covar2d_12[int(1)].y)));
        float xmin_7 = (F32_floor(((*mean2d_21).x - radius_x_12)));
        float xmax_7 = (F32_ceil(((*mean2d_21).x + radius_x_12)));
        float ymin_7 = (F32_floor(((*mean2d_21).y - radius_y_12)));
        float ymax_7 = (F32_ceil(((*mean2d_21).y + radius_y_12)));
        if(xmax_7 <= 0.0f)
        {
            _S4412 = true;
        }
        else
        {
            _S4412 = xmin_7 >= float(image_width_19);
        }
        if(_S4412)
        {
            _S4412 = true;
        }
        else
        {
            _S4412 = ymax_7 <= 0.0f;
        }
        if(_S4412)
        {
            _S4412 = true;
        }
        else
        {
            _S4412 = ymin_7 >= float(image_height_19);
        }
        if(_S4412)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_12 = make_int4 (int(xmin_7), int(ymin_7), int(xmax_7), int(ymax_7));
        *depth_13 = (F32_max((_S4411), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4411 + length_1(mean_c_21)))));
        *conic_12 = exp_0(- scale_24);
        float3  _S4426 = mean_24 - - mul_0(transpose_0(R_26), t_22);
        float3  _S4427 = _S4426 * make_float3 ((F32_rsqrt((dot_1(_S4426, _S4426)))));
        float _S4428 = dot_1((*sv_sites_2)[int(2)], _S4427);
        float w_4 = (F32_exp((dot_1((*sv_sites_2)[int(0)], _S4427) - _S4428)));
        float w_5 = (F32_exp((dot_1((*sv_sites_2)[int(1)], _S4427) - _S4428)));
        float w_6 = (F32_exp((0.0f)));
        *rgb_14 = max_0((make_float3 (w_4) * (*sv_colors_2)[int(0)] + make_float3 (w_5) * (*sv_colors_2)[int(1)] + make_float3 (w_6) * (*sv_colors_2)[int(2)]) / make_float3 (w_4 + w_5 + w_6) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_20, float3  mean_25, float4  quat_26, float3  scale_25, float in_opacity_20, FixedArray<float3 , 3>  * sv_sites_3, FixedArray<float3 , 3>  * sv_colors_3, Matrix<float, 3, 3>  R_27, float3  t_23, float fx_32, float fy_32, float cx_27, float cy_27, FixedArray<float, 10>  * dist_coeffs_35, uint image_width_20, uint image_height_20, float near_plane_13, float far_plane_13, int4  * aabb_xyxy_13, float2  * mean2d_22, float * depth_14, float3  * conic_13, float * opacity_17, float3  * rgb_15)
{
    for(;;)
    {
        float3  mean_c_22 = mul_0(R_27, mean_25) + t_23;
        float _S4429 = length_1(mean_c_22);
        bool _S4430;
        if(_S4429 < near_plane_13)
        {
            _S4430 = true;
        }
        else
        {
            _S4430 = _S4429 > far_plane_13;
        }
        if(_S4430)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_23 = make_float4 (fx_32, fy_32, cx_27, cy_27);
        Matrix<float, 2, 2>  covar2d_13;
        float3  _S4431 = exp_0(scale_25);
        float x_52 = quat_26.y;
        float x2_26 = x_52 * x_52;
        float y2_26 = quat_26.z * quat_26.z;
        float z2_49 = quat_26.w * quat_26.w;
        float xy_26 = quat_26.y * quat_26.z;
        float xz_26 = quat_26.y * quat_26.w;
        float yz_26 = quat_26.z * quat_26.w;
        float wx_26 = quat_26.x * quat_26.y;
        float wy_26 = quat_26.x * quat_26.z;
        float wz_26 = quat_26.x * quat_26.w;
        Matrix<float, 3, 3>  _S4432 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_26 + z2_49), 2.0f * (xy_26 + wz_26), 2.0f * (xz_26 - wy_26), 2.0f * (xy_26 - wz_26), 1.0f - 2.0f * (x2_26 + z2_49), 2.0f * (yz_26 + wx_26), 2.0f * (xz_26 + wy_26), 2.0f * (yz_26 - wx_26), 1.0f - 2.0f * (x2_26 + y2_26))));
        SigmaPoints_0 ret_7;
        (&ret_7)->p_0[int(0)] = mean_25;
        (&ret_7)->w_mean_0[int(0)] = 0.0f;
        (&ret_7)->w_cov_0[int(0)] = 2.0f;
        float _S4433 = (F32_sqrt((3.0f)));
        float3  delta_39 = make_float3 (_S4433 * _S4431.x) * _S4432.rows[0U];
        float3  _S4434 = mean_25 + delta_39;
        float3  _S4435 = mean_25 - delta_39;
        float3  delta_40 = make_float3 (_S4433 * _S4431.y) * _S4432.rows[1U];
        float3  _S4436 = mean_25 + delta_40;
        float3  _S4437 = mean_25 - delta_40;
        float3  delta_41 = make_float3 (_S4433 * _S4431.z) * _S4432.rows[2U];
        float3  _S4438 = mean_25 + delta_41;
        float3  _S4439 = mean_25 - delta_41;
        (&ret_7)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_7)->p_0[0U] = mul_0(R_27, (&ret_7)->p_0[0U]) + t_23;
        (&ret_7)->p_0[1U] = mul_0(R_27, _S4434) + t_23;
        (&ret_7)->p_0[2U] = mul_0(R_27, _S4436) + t_23;
        (&ret_7)->p_0[3U] = mul_0(R_27, _S4438) + t_23;
        (&ret_7)->p_0[4U] = mul_0(R_27, _S4435) + t_23;
        (&ret_7)->p_0[5U] = mul_0(R_27, _S4437) + t_23;
        (&ret_7)->p_0[6U] = mul_0(R_27, _S4439) + t_23;
        SigmaPoints_0 _S4440 = ret_7;
        bool _S4441 = fisheye_proj_3dgs_ut_0(&_S4440, intrins_23, dist_coeffs_35, &covar2d_13, mean2d_22);
        if(!(true & _S4441))
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_27 = *&(((&covar2d_13)->rows + (int(0)))->x) * *&(((&covar2d_13)->rows + (int(1)))->y) - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float _S4442 = *&(((&covar2d_13)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(0)))->x) = _S4442;
        float _S4443 = *&(((&covar2d_13)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(1)))->y) = _S4443;
        float det_blur_22 = _S4442 * _S4443 - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float compensation_14 = (F32_sqrt(((F32_max((0.0f), (det_orig_27 / det_blur_22))))));
        if(det_blur_22 <= 0.0f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_17 = 1.0f / (1.0f + (F32_exp((- in_opacity_20))));
        if(antialiased_20)
        {
            *opacity_17 = *opacity_17 * compensation_14;
        }
        if((*opacity_17) < 0.00392156885936856f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_13 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_17 / 0.00392156885936856f)))))))));
        float radius_x_13 = extend_13 * (F32_sqrt((covar2d_13[int(0)].x)));
        float radius_y_13 = extend_13 * (F32_sqrt((covar2d_13[int(1)].y)));
        float xmin_8 = (F32_floor(((*mean2d_22).x - radius_x_13)));
        float xmax_8 = (F32_ceil(((*mean2d_22).x + radius_x_13)));
        float ymin_8 = (F32_floor(((*mean2d_22).y - radius_y_13)));
        float ymax_8 = (F32_ceil(((*mean2d_22).y + radius_y_13)));
        if(xmax_8 <= 0.0f)
        {
            _S4430 = true;
        }
        else
        {
            _S4430 = xmin_8 >= float(image_width_20);
        }
        if(_S4430)
        {
            _S4430 = true;
        }
        else
        {
            _S4430 = ymax_8 <= 0.0f;
        }
        if(_S4430)
        {
            _S4430 = true;
        }
        else
        {
            _S4430 = ymin_8 >= float(image_height_20);
        }
        if(_S4430)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_13 = make_int4 (int(xmin_8), int(ymin_8), int(xmax_8), int(ymax_8));
        float _S4444 = mean_c_22.z;
        *depth_14 = (F32_max((_S4444), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4444 + _S4429))));
        *conic_13 = exp_0(- scale_25);
        float3  _S4445 = mean_25 - - mul_0(transpose_0(R_27), t_23);
        float3  _S4446 = _S4445 * make_float3 ((F32_rsqrt((dot_1(_S4445, _S4445)))));
        float _S4447 = dot_1((*sv_sites_3)[int(2)], _S4446);
        float w_7 = (F32_exp((dot_1((*sv_sites_3)[int(0)], _S4446) - _S4447)));
        float w_8 = (F32_exp((dot_1((*sv_sites_3)[int(1)], _S4446) - _S4447)));
        float w_9 = (F32_exp((0.0f)));
        *rgb_15 = max_0((make_float3 (w_7) * (*sv_colors_3)[int(0)] + make_float3 (w_8) * (*sv_colors_3)[int(1)] + make_float3 (w_9) * (*sv_colors_3)[int(2)]) / make_float3 (w_7 + w_8 + w_9) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_21, float3  mean_26, float4  quat_27, float3  scale_26, float in_opacity_21, FixedArray<float3 , 4>  * sv_sites_4, FixedArray<float3 , 4>  * sv_colors_4, Matrix<float, 3, 3>  R_28, float3  t_24, float fx_33, float fy_33, float cx_28, float cy_28, FixedArray<float, 10>  * dist_coeffs_36, uint image_width_21, uint image_height_21, float near_plane_14, float far_plane_14, int4  * aabb_xyxy_14, float2  * mean2d_23, float * depth_15, float3  * conic_14, float * opacity_18, float3  * rgb_16)
{
    for(;;)
    {
        float3  mean_c_23 = mul_0(R_28, mean_26) + t_24;
        float _S4448 = mean_c_23.z;
        bool _S4449;
        if(_S4448 < near_plane_14)
        {
            _S4449 = true;
        }
        else
        {
            _S4449 = _S4448 > far_plane_14;
        }
        if(_S4449)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_24 = make_float4 (fx_33, fy_33, cx_28, cy_28);
        Matrix<float, 2, 2>  covar2d_14;
        float3  _S4450 = exp_0(scale_26);
        float x_53 = quat_27.y;
        float x2_27 = x_53 * x_53;
        float y2_27 = quat_27.z * quat_27.z;
        float z2_50 = quat_27.w * quat_27.w;
        float xy_27 = quat_27.y * quat_27.z;
        float xz_27 = quat_27.y * quat_27.w;
        float yz_27 = quat_27.z * quat_27.w;
        float wx_27 = quat_27.x * quat_27.y;
        float wy_27 = quat_27.x * quat_27.z;
        float wz_27 = quat_27.x * quat_27.w;
        Matrix<float, 3, 3>  _S4451 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_27 + z2_50), 2.0f * (xy_27 + wz_27), 2.0f * (xz_27 - wy_27), 2.0f * (xy_27 - wz_27), 1.0f - 2.0f * (x2_27 + z2_50), 2.0f * (yz_27 + wx_27), 2.0f * (xz_27 + wy_27), 2.0f * (yz_27 - wx_27), 1.0f - 2.0f * (x2_27 + y2_27))));
        SigmaPoints_0 ret_8;
        (&ret_8)->p_0[int(0)] = mean_26;
        (&ret_8)->w_mean_0[int(0)] = 0.0f;
        (&ret_8)->w_cov_0[int(0)] = 2.0f;
        float _S4452 = (F32_sqrt((3.0f)));
        float3  delta_42 = make_float3 (_S4452 * _S4450.x) * _S4451.rows[0U];
        float3  _S4453 = mean_26 + delta_42;
        float3  _S4454 = mean_26 - delta_42;
        float3  delta_43 = make_float3 (_S4452 * _S4450.y) * _S4451.rows[1U];
        float3  _S4455 = mean_26 + delta_43;
        float3  _S4456 = mean_26 - delta_43;
        float3  delta_44 = make_float3 (_S4452 * _S4450.z) * _S4451.rows[2U];
        float3  _S4457 = mean_26 + delta_44;
        float3  _S4458 = mean_26 - delta_44;
        (&ret_8)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_8)->p_0[0U] = mul_0(R_28, (&ret_8)->p_0[0U]) + t_24;
        (&ret_8)->p_0[1U] = mul_0(R_28, _S4453) + t_24;
        (&ret_8)->p_0[2U] = mul_0(R_28, _S4455) + t_24;
        (&ret_8)->p_0[3U] = mul_0(R_28, _S4457) + t_24;
        (&ret_8)->p_0[4U] = mul_0(R_28, _S4454) + t_24;
        (&ret_8)->p_0[5U] = mul_0(R_28, _S4456) + t_24;
        (&ret_8)->p_0[6U] = mul_0(R_28, _S4458) + t_24;
        SigmaPoints_0 _S4459 = ret_8;
        bool _S4460 = persp_proj_3dgs_ut_0(&_S4459, intrins_24, dist_coeffs_36, image_width_21, image_height_21, &covar2d_14, mean2d_23);
        if(!(true & _S4460))
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_28 = *&(((&covar2d_14)->rows + (int(0)))->x) * *&(((&covar2d_14)->rows + (int(1)))->y) - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float _S4461 = *&(((&covar2d_14)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(0)))->x) = _S4461;
        float _S4462 = *&(((&covar2d_14)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(1)))->y) = _S4462;
        float det_blur_23 = _S4461 * _S4462 - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float compensation_15 = (F32_sqrt(((F32_max((0.0f), (det_orig_28 / det_blur_23))))));
        if(det_blur_23 <= 0.0f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_18 = 1.0f / (1.0f + (F32_exp((- in_opacity_21))));
        if(antialiased_21)
        {
            *opacity_18 = *opacity_18 * compensation_15;
        }
        if((*opacity_18) < 0.00392156885936856f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_14 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_18 / 0.00392156885936856f)))))))));
        float radius_x_14 = extend_14 * (F32_sqrt((covar2d_14[int(0)].x)));
        float radius_y_14 = extend_14 * (F32_sqrt((covar2d_14[int(1)].y)));
        float xmin_9 = (F32_floor(((*mean2d_23).x - radius_x_14)));
        float xmax_9 = (F32_ceil(((*mean2d_23).x + radius_x_14)));
        float ymin_9 = (F32_floor(((*mean2d_23).y - radius_y_14)));
        float ymax_9 = (F32_ceil(((*mean2d_23).y + radius_y_14)));
        if(xmax_9 <= 0.0f)
        {
            _S4449 = true;
        }
        else
        {
            _S4449 = xmin_9 >= float(image_width_21);
        }
        if(_S4449)
        {
            _S4449 = true;
        }
        else
        {
            _S4449 = ymax_9 <= 0.0f;
        }
        if(_S4449)
        {
            _S4449 = true;
        }
        else
        {
            _S4449 = ymin_9 >= float(image_height_21);
        }
        if(_S4449)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_14 = make_int4 (int(xmin_9), int(ymin_9), int(xmax_9), int(ymax_9));
        *depth_15 = (F32_max((_S4448), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4448 + length_1(mean_c_23)))));
        *conic_14 = exp_0(- scale_26);
        float3  _S4463 = mean_26 - - mul_0(transpose_0(R_28), t_24);
        float3  _S4464 = _S4463 * make_float3 ((F32_rsqrt((dot_1(_S4463, _S4463)))));
        float _S4465 = dot_1((*sv_sites_4)[int(3)], _S4464);
        float w_10 = (F32_exp((dot_1((*sv_sites_4)[int(0)], _S4464) - _S4465)));
        float w_11 = (F32_exp((dot_1((*sv_sites_4)[int(1)], _S4464) - _S4465)));
        float w_12 = (F32_exp((dot_1((*sv_sites_4)[int(2)], _S4464) - _S4465)));
        float w_13 = (F32_exp((0.0f)));
        *rgb_16 = max_0((make_float3 (w_10) * (*sv_colors_4)[int(0)] + make_float3 (w_11) * (*sv_colors_4)[int(1)] + make_float3 (w_12) * (*sv_colors_4)[int(2)] + make_float3 (w_13) * (*sv_colors_4)[int(3)]) / make_float3 (w_10 + w_11 + w_12 + w_13) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_22, float3  mean_27, float4  quat_28, float3  scale_27, float in_opacity_22, FixedArray<float3 , 4>  * sv_sites_5, FixedArray<float3 , 4>  * sv_colors_5, Matrix<float, 3, 3>  R_29, float3  t_25, float fx_34, float fy_34, float cx_29, float cy_29, FixedArray<float, 10>  * dist_coeffs_37, uint image_width_22, uint image_height_22, float near_plane_15, float far_plane_15, int4  * aabb_xyxy_15, float2  * mean2d_24, float * depth_16, float3  * conic_15, float * opacity_19, float3  * rgb_17)
{
    for(;;)
    {
        float3  mean_c_24 = mul_0(R_29, mean_27) + t_25;
        float _S4466 = length_1(mean_c_24);
        bool _S4467;
        if(_S4466 < near_plane_15)
        {
            _S4467 = true;
        }
        else
        {
            _S4467 = _S4466 > far_plane_15;
        }
        if(_S4467)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_25 = make_float4 (fx_34, fy_34, cx_29, cy_29);
        Matrix<float, 2, 2>  covar2d_15;
        float3  _S4468 = exp_0(scale_27);
        float x_54 = quat_28.y;
        float x2_28 = x_54 * x_54;
        float y2_28 = quat_28.z * quat_28.z;
        float z2_51 = quat_28.w * quat_28.w;
        float xy_28 = quat_28.y * quat_28.z;
        float xz_28 = quat_28.y * quat_28.w;
        float yz_28 = quat_28.z * quat_28.w;
        float wx_28 = quat_28.x * quat_28.y;
        float wy_28 = quat_28.x * quat_28.z;
        float wz_28 = quat_28.x * quat_28.w;
        Matrix<float, 3, 3>  _S4469 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_28 + z2_51), 2.0f * (xy_28 + wz_28), 2.0f * (xz_28 - wy_28), 2.0f * (xy_28 - wz_28), 1.0f - 2.0f * (x2_28 + z2_51), 2.0f * (yz_28 + wx_28), 2.0f * (xz_28 + wy_28), 2.0f * (yz_28 - wx_28), 1.0f - 2.0f * (x2_28 + y2_28))));
        SigmaPoints_0 ret_9;
        (&ret_9)->p_0[int(0)] = mean_27;
        (&ret_9)->w_mean_0[int(0)] = 0.0f;
        (&ret_9)->w_cov_0[int(0)] = 2.0f;
        float _S4470 = (F32_sqrt((3.0f)));
        float3  delta_45 = make_float3 (_S4470 * _S4468.x) * _S4469.rows[0U];
        float3  _S4471 = mean_27 + delta_45;
        float3  _S4472 = mean_27 - delta_45;
        float3  delta_46 = make_float3 (_S4470 * _S4468.y) * _S4469.rows[1U];
        float3  _S4473 = mean_27 + delta_46;
        float3  _S4474 = mean_27 - delta_46;
        float3  delta_47 = make_float3 (_S4470 * _S4468.z) * _S4469.rows[2U];
        float3  _S4475 = mean_27 + delta_47;
        float3  _S4476 = mean_27 - delta_47;
        (&ret_9)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_9)->p_0[0U] = mul_0(R_29, (&ret_9)->p_0[0U]) + t_25;
        (&ret_9)->p_0[1U] = mul_0(R_29, _S4471) + t_25;
        (&ret_9)->p_0[2U] = mul_0(R_29, _S4473) + t_25;
        (&ret_9)->p_0[3U] = mul_0(R_29, _S4475) + t_25;
        (&ret_9)->p_0[4U] = mul_0(R_29, _S4472) + t_25;
        (&ret_9)->p_0[5U] = mul_0(R_29, _S4474) + t_25;
        (&ret_9)->p_0[6U] = mul_0(R_29, _S4476) + t_25;
        SigmaPoints_0 _S4477 = ret_9;
        bool _S4478 = fisheye_proj_3dgs_ut_0(&_S4477, intrins_25, dist_coeffs_37, &covar2d_15, mean2d_24);
        if(!(true & _S4478))
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_29 = *&(((&covar2d_15)->rows + (int(0)))->x) * *&(((&covar2d_15)->rows + (int(1)))->y) - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float _S4479 = *&(((&covar2d_15)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(0)))->x) = _S4479;
        float _S4480 = *&(((&covar2d_15)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(1)))->y) = _S4480;
        float det_blur_24 = _S4479 * _S4480 - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float compensation_16 = (F32_sqrt(((F32_max((0.0f), (det_orig_29 / det_blur_24))))));
        if(det_blur_24 <= 0.0f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_19 = 1.0f / (1.0f + (F32_exp((- in_opacity_22))));
        if(antialiased_22)
        {
            *opacity_19 = *opacity_19 * compensation_16;
        }
        if((*opacity_19) < 0.00392156885936856f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_15 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_19 / 0.00392156885936856f)))))))));
        float radius_x_15 = extend_15 * (F32_sqrt((covar2d_15[int(0)].x)));
        float radius_y_15 = extend_15 * (F32_sqrt((covar2d_15[int(1)].y)));
        float xmin_10 = (F32_floor(((*mean2d_24).x - radius_x_15)));
        float xmax_10 = (F32_ceil(((*mean2d_24).x + radius_x_15)));
        float ymin_10 = (F32_floor(((*mean2d_24).y - radius_y_15)));
        float ymax_10 = (F32_ceil(((*mean2d_24).y + radius_y_15)));
        if(xmax_10 <= 0.0f)
        {
            _S4467 = true;
        }
        else
        {
            _S4467 = xmin_10 >= float(image_width_22);
        }
        if(_S4467)
        {
            _S4467 = true;
        }
        else
        {
            _S4467 = ymax_10 <= 0.0f;
        }
        if(_S4467)
        {
            _S4467 = true;
        }
        else
        {
            _S4467 = ymin_10 >= float(image_height_22);
        }
        if(_S4467)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_15 = make_int4 (int(xmin_10), int(ymin_10), int(xmax_10), int(ymax_10));
        float _S4481 = mean_c_24.z;
        *depth_16 = (F32_max((_S4481), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4481 + _S4466))));
        *conic_15 = exp_0(- scale_27);
        float3  _S4482 = mean_27 - - mul_0(transpose_0(R_29), t_25);
        float3  _S4483 = _S4482 * make_float3 ((F32_rsqrt((dot_1(_S4482, _S4482)))));
        float _S4484 = dot_1((*sv_sites_5)[int(3)], _S4483);
        float w_14 = (F32_exp((dot_1((*sv_sites_5)[int(0)], _S4483) - _S4484)));
        float w_15 = (F32_exp((dot_1((*sv_sites_5)[int(1)], _S4483) - _S4484)));
        float w_16 = (F32_exp((dot_1((*sv_sites_5)[int(2)], _S4483) - _S4484)));
        float w_17 = (F32_exp((0.0f)));
        *rgb_17 = max_0((make_float3 (w_14) * (*sv_colors_5)[int(0)] + make_float3 (w_15) * (*sv_colors_5)[int(1)] + make_float3 (w_16) * (*sv_colors_5)[int(2)] + make_float3 (w_17) * (*sv_colors_5)[int(3)]) / make_float3 (w_14 + w_15 + w_16 + w_17) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_23, float3  mean_28, float4  quat_29, float3  scale_28, float in_opacity_23, FixedArray<float3 , 5>  * sv_sites_6, FixedArray<float3 , 5>  * sv_colors_6, Matrix<float, 3, 3>  R_30, float3  t_26, float fx_35, float fy_35, float cx_30, float cy_30, FixedArray<float, 10>  * dist_coeffs_38, uint image_width_23, uint image_height_23, float near_plane_16, float far_plane_16, int4  * aabb_xyxy_16, float2  * mean2d_25, float * depth_17, float3  * conic_16, float * opacity_20, float3  * rgb_18)
{
    for(;;)
    {
        float3  mean_c_25 = mul_0(R_30, mean_28) + t_26;
        float _S4485 = mean_c_25.z;
        bool _S4486;
        if(_S4485 < near_plane_16)
        {
            _S4486 = true;
        }
        else
        {
            _S4486 = _S4485 > far_plane_16;
        }
        if(_S4486)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_26 = make_float4 (fx_35, fy_35, cx_30, cy_30);
        Matrix<float, 2, 2>  covar2d_16;
        float3  _S4487 = exp_0(scale_28);
        float x_55 = quat_29.y;
        float x2_29 = x_55 * x_55;
        float y2_29 = quat_29.z * quat_29.z;
        float z2_52 = quat_29.w * quat_29.w;
        float xy_29 = quat_29.y * quat_29.z;
        float xz_29 = quat_29.y * quat_29.w;
        float yz_29 = quat_29.z * quat_29.w;
        float wx_29 = quat_29.x * quat_29.y;
        float wy_29 = quat_29.x * quat_29.z;
        float wz_29 = quat_29.x * quat_29.w;
        Matrix<float, 3, 3>  _S4488 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_29 + z2_52), 2.0f * (xy_29 + wz_29), 2.0f * (xz_29 - wy_29), 2.0f * (xy_29 - wz_29), 1.0f - 2.0f * (x2_29 + z2_52), 2.0f * (yz_29 + wx_29), 2.0f * (xz_29 + wy_29), 2.0f * (yz_29 - wx_29), 1.0f - 2.0f * (x2_29 + y2_29))));
        SigmaPoints_0 ret_10;
        (&ret_10)->p_0[int(0)] = mean_28;
        (&ret_10)->w_mean_0[int(0)] = 0.0f;
        (&ret_10)->w_cov_0[int(0)] = 2.0f;
        float _S4489 = (F32_sqrt((3.0f)));
        float3  delta_48 = make_float3 (_S4489 * _S4487.x) * _S4488.rows[0U];
        float3  _S4490 = mean_28 + delta_48;
        float3  _S4491 = mean_28 - delta_48;
        float3  delta_49 = make_float3 (_S4489 * _S4487.y) * _S4488.rows[1U];
        float3  _S4492 = mean_28 + delta_49;
        float3  _S4493 = mean_28 - delta_49;
        float3  delta_50 = make_float3 (_S4489 * _S4487.z) * _S4488.rows[2U];
        float3  _S4494 = mean_28 + delta_50;
        float3  _S4495 = mean_28 - delta_50;
        (&ret_10)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_10)->p_0[0U] = mul_0(R_30, (&ret_10)->p_0[0U]) + t_26;
        (&ret_10)->p_0[1U] = mul_0(R_30, _S4490) + t_26;
        (&ret_10)->p_0[2U] = mul_0(R_30, _S4492) + t_26;
        (&ret_10)->p_0[3U] = mul_0(R_30, _S4494) + t_26;
        (&ret_10)->p_0[4U] = mul_0(R_30, _S4491) + t_26;
        (&ret_10)->p_0[5U] = mul_0(R_30, _S4493) + t_26;
        (&ret_10)->p_0[6U] = mul_0(R_30, _S4495) + t_26;
        SigmaPoints_0 _S4496 = ret_10;
        bool _S4497 = persp_proj_3dgs_ut_0(&_S4496, intrins_26, dist_coeffs_38, image_width_23, image_height_23, &covar2d_16, mean2d_25);
        if(!(true & _S4497))
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_30 = *&(((&covar2d_16)->rows + (int(0)))->x) * *&(((&covar2d_16)->rows + (int(1)))->y) - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float _S4498 = *&(((&covar2d_16)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(0)))->x) = _S4498;
        float _S4499 = *&(((&covar2d_16)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(1)))->y) = _S4499;
        float det_blur_25 = _S4498 * _S4499 - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float compensation_17 = (F32_sqrt(((F32_max((0.0f), (det_orig_30 / det_blur_25))))));
        if(det_blur_25 <= 0.0f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_20 = 1.0f / (1.0f + (F32_exp((- in_opacity_23))));
        if(antialiased_23)
        {
            *opacity_20 = *opacity_20 * compensation_17;
        }
        if((*opacity_20) < 0.00392156885936856f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_16 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_20 / 0.00392156885936856f)))))))));
        float radius_x_16 = extend_16 * (F32_sqrt((covar2d_16[int(0)].x)));
        float radius_y_16 = extend_16 * (F32_sqrt((covar2d_16[int(1)].y)));
        float xmin_11 = (F32_floor(((*mean2d_25).x - radius_x_16)));
        float xmax_11 = (F32_ceil(((*mean2d_25).x + radius_x_16)));
        float ymin_11 = (F32_floor(((*mean2d_25).y - radius_y_16)));
        float ymax_11 = (F32_ceil(((*mean2d_25).y + radius_y_16)));
        if(xmax_11 <= 0.0f)
        {
            _S4486 = true;
        }
        else
        {
            _S4486 = xmin_11 >= float(image_width_23);
        }
        if(_S4486)
        {
            _S4486 = true;
        }
        else
        {
            _S4486 = ymax_11 <= 0.0f;
        }
        if(_S4486)
        {
            _S4486 = true;
        }
        else
        {
            _S4486 = ymin_11 >= float(image_height_23);
        }
        if(_S4486)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_16 = make_int4 (int(xmin_11), int(ymin_11), int(xmax_11), int(ymax_11));
        *depth_17 = (F32_max((_S4485), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4485 + length_1(mean_c_25)))));
        *conic_16 = exp_0(- scale_28);
        float3  _S4500 = mean_28 - - mul_0(transpose_0(R_30), t_26);
        float3  _S4501 = _S4500 * make_float3 ((F32_rsqrt((dot_1(_S4500, _S4500)))));
        float _S4502 = dot_1((*sv_sites_6)[int(4)], _S4501);
        float w_18 = (F32_exp((dot_1((*sv_sites_6)[int(0)], _S4501) - _S4502)));
        float w_19 = (F32_exp((dot_1((*sv_sites_6)[int(1)], _S4501) - _S4502)));
        float w_20 = (F32_exp((dot_1((*sv_sites_6)[int(2)], _S4501) - _S4502)));
        float w_21 = (F32_exp((dot_1((*sv_sites_6)[int(3)], _S4501) - _S4502)));
        float w_22 = (F32_exp((0.0f)));
        *rgb_18 = max_0((make_float3 (w_18) * (*sv_colors_6)[int(0)] + make_float3 (w_19) * (*sv_colors_6)[int(1)] + make_float3 (w_20) * (*sv_colors_6)[int(2)] + make_float3 (w_21) * (*sv_colors_6)[int(3)] + make_float3 (w_22) * (*sv_colors_6)[int(4)]) / make_float3 (w_18 + w_19 + w_20 + w_21 + w_22) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_24, float3  mean_29, float4  quat_30, float3  scale_29, float in_opacity_24, FixedArray<float3 , 5>  * sv_sites_7, FixedArray<float3 , 5>  * sv_colors_7, Matrix<float, 3, 3>  R_31, float3  t_27, float fx_36, float fy_36, float cx_31, float cy_31, FixedArray<float, 10>  * dist_coeffs_39, uint image_width_24, uint image_height_24, float near_plane_17, float far_plane_17, int4  * aabb_xyxy_17, float2  * mean2d_26, float * depth_18, float3  * conic_17, float * opacity_21, float3  * rgb_19)
{
    for(;;)
    {
        float3  mean_c_26 = mul_0(R_31, mean_29) + t_27;
        float _S4503 = length_1(mean_c_26);
        bool _S4504;
        if(_S4503 < near_plane_17)
        {
            _S4504 = true;
        }
        else
        {
            _S4504 = _S4503 > far_plane_17;
        }
        if(_S4504)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_27 = make_float4 (fx_36, fy_36, cx_31, cy_31);
        Matrix<float, 2, 2>  covar2d_17;
        float3  _S4505 = exp_0(scale_29);
        float x_56 = quat_30.y;
        float x2_30 = x_56 * x_56;
        float y2_30 = quat_30.z * quat_30.z;
        float z2_53 = quat_30.w * quat_30.w;
        float xy_30 = quat_30.y * quat_30.z;
        float xz_30 = quat_30.y * quat_30.w;
        float yz_30 = quat_30.z * quat_30.w;
        float wx_30 = quat_30.x * quat_30.y;
        float wy_30 = quat_30.x * quat_30.z;
        float wz_30 = quat_30.x * quat_30.w;
        Matrix<float, 3, 3>  _S4506 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_30 + z2_53), 2.0f * (xy_30 + wz_30), 2.0f * (xz_30 - wy_30), 2.0f * (xy_30 - wz_30), 1.0f - 2.0f * (x2_30 + z2_53), 2.0f * (yz_30 + wx_30), 2.0f * (xz_30 + wy_30), 2.0f * (yz_30 - wx_30), 1.0f - 2.0f * (x2_30 + y2_30))));
        SigmaPoints_0 ret_11;
        (&ret_11)->p_0[int(0)] = mean_29;
        (&ret_11)->w_mean_0[int(0)] = 0.0f;
        (&ret_11)->w_cov_0[int(0)] = 2.0f;
        float _S4507 = (F32_sqrt((3.0f)));
        float3  delta_51 = make_float3 (_S4507 * _S4505.x) * _S4506.rows[0U];
        float3  _S4508 = mean_29 + delta_51;
        float3  _S4509 = mean_29 - delta_51;
        float3  delta_52 = make_float3 (_S4507 * _S4505.y) * _S4506.rows[1U];
        float3  _S4510 = mean_29 + delta_52;
        float3  _S4511 = mean_29 - delta_52;
        float3  delta_53 = make_float3 (_S4507 * _S4505.z) * _S4506.rows[2U];
        float3  _S4512 = mean_29 + delta_53;
        float3  _S4513 = mean_29 - delta_53;
        (&ret_11)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_11)->p_0[0U] = mul_0(R_31, (&ret_11)->p_0[0U]) + t_27;
        (&ret_11)->p_0[1U] = mul_0(R_31, _S4508) + t_27;
        (&ret_11)->p_0[2U] = mul_0(R_31, _S4510) + t_27;
        (&ret_11)->p_0[3U] = mul_0(R_31, _S4512) + t_27;
        (&ret_11)->p_0[4U] = mul_0(R_31, _S4509) + t_27;
        (&ret_11)->p_0[5U] = mul_0(R_31, _S4511) + t_27;
        (&ret_11)->p_0[6U] = mul_0(R_31, _S4513) + t_27;
        SigmaPoints_0 _S4514 = ret_11;
        bool _S4515 = fisheye_proj_3dgs_ut_0(&_S4514, intrins_27, dist_coeffs_39, &covar2d_17, mean2d_26);
        if(!(true & _S4515))
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_31 = *&(((&covar2d_17)->rows + (int(0)))->x) * *&(((&covar2d_17)->rows + (int(1)))->y) - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float _S4516 = *&(((&covar2d_17)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(0)))->x) = _S4516;
        float _S4517 = *&(((&covar2d_17)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(1)))->y) = _S4517;
        float det_blur_26 = _S4516 * _S4517 - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float compensation_18 = (F32_sqrt(((F32_max((0.0f), (det_orig_31 / det_blur_26))))));
        if(det_blur_26 <= 0.0f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_21 = 1.0f / (1.0f + (F32_exp((- in_opacity_24))));
        if(antialiased_24)
        {
            *opacity_21 = *opacity_21 * compensation_18;
        }
        if((*opacity_21) < 0.00392156885936856f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_17 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_21 / 0.00392156885936856f)))))))));
        float radius_x_17 = extend_17 * (F32_sqrt((covar2d_17[int(0)].x)));
        float radius_y_17 = extend_17 * (F32_sqrt((covar2d_17[int(1)].y)));
        float xmin_12 = (F32_floor(((*mean2d_26).x - radius_x_17)));
        float xmax_12 = (F32_ceil(((*mean2d_26).x + radius_x_17)));
        float ymin_12 = (F32_floor(((*mean2d_26).y - radius_y_17)));
        float ymax_12 = (F32_ceil(((*mean2d_26).y + radius_y_17)));
        if(xmax_12 <= 0.0f)
        {
            _S4504 = true;
        }
        else
        {
            _S4504 = xmin_12 >= float(image_width_24);
        }
        if(_S4504)
        {
            _S4504 = true;
        }
        else
        {
            _S4504 = ymax_12 <= 0.0f;
        }
        if(_S4504)
        {
            _S4504 = true;
        }
        else
        {
            _S4504 = ymin_12 >= float(image_height_24);
        }
        if(_S4504)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_17 = make_int4 (int(xmin_12), int(ymin_12), int(xmax_12), int(ymax_12));
        float _S4518 = mean_c_26.z;
        *depth_18 = (F32_max((_S4518), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4518 + _S4503))));
        *conic_17 = exp_0(- scale_29);
        float3  _S4519 = mean_29 - - mul_0(transpose_0(R_31), t_27);
        float3  _S4520 = _S4519 * make_float3 ((F32_rsqrt((dot_1(_S4519, _S4519)))));
        float _S4521 = dot_1((*sv_sites_7)[int(4)], _S4520);
        float w_23 = (F32_exp((dot_1((*sv_sites_7)[int(0)], _S4520) - _S4521)));
        float w_24 = (F32_exp((dot_1((*sv_sites_7)[int(1)], _S4520) - _S4521)));
        float w_25 = (F32_exp((dot_1((*sv_sites_7)[int(2)], _S4520) - _S4521)));
        float w_26 = (F32_exp((dot_1((*sv_sites_7)[int(3)], _S4520) - _S4521)));
        float w_27 = (F32_exp((0.0f)));
        *rgb_19 = max_0((make_float3 (w_23) * (*sv_colors_7)[int(0)] + make_float3 (w_24) * (*sv_colors_7)[int(1)] + make_float3 (w_25) * (*sv_colors_7)[int(2)] + make_float3 (w_26) * (*sv_colors_7)[int(3)] + make_float3 (w_27) * (*sv_colors_7)[int(4)]) / make_float3 (w_23 + w_24 + w_25 + w_26 + w_27) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_25, float3  mean_30, float4  quat_31, float3  scale_30, float in_opacity_25, FixedArray<float3 , 6>  * sv_sites_8, FixedArray<float3 , 6>  * sv_colors_8, Matrix<float, 3, 3>  R_32, float3  t_28, float fx_37, float fy_37, float cx_32, float cy_32, FixedArray<float, 10>  * dist_coeffs_40, uint image_width_25, uint image_height_25, float near_plane_18, float far_plane_18, int4  * aabb_xyxy_18, float2  * mean2d_27, float * depth_19, float3  * conic_18, float * opacity_22, float3  * rgb_20)
{
    for(;;)
    {
        float3  mean_c_27 = mul_0(R_32, mean_30) + t_28;
        float _S4522 = mean_c_27.z;
        bool _S4523;
        if(_S4522 < near_plane_18)
        {
            _S4523 = true;
        }
        else
        {
            _S4523 = _S4522 > far_plane_18;
        }
        if(_S4523)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_28 = make_float4 (fx_37, fy_37, cx_32, cy_32);
        Matrix<float, 2, 2>  covar2d_18;
        float3  _S4524 = exp_0(scale_30);
        float x_57 = quat_31.y;
        float x2_31 = x_57 * x_57;
        float y2_31 = quat_31.z * quat_31.z;
        float z2_54 = quat_31.w * quat_31.w;
        float xy_31 = quat_31.y * quat_31.z;
        float xz_31 = quat_31.y * quat_31.w;
        float yz_31 = quat_31.z * quat_31.w;
        float wx_31 = quat_31.x * quat_31.y;
        float wy_31 = quat_31.x * quat_31.z;
        float wz_31 = quat_31.x * quat_31.w;
        Matrix<float, 3, 3>  _S4525 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_31 + z2_54), 2.0f * (xy_31 + wz_31), 2.0f * (xz_31 - wy_31), 2.0f * (xy_31 - wz_31), 1.0f - 2.0f * (x2_31 + z2_54), 2.0f * (yz_31 + wx_31), 2.0f * (xz_31 + wy_31), 2.0f * (yz_31 - wx_31), 1.0f - 2.0f * (x2_31 + y2_31))));
        SigmaPoints_0 ret_12;
        (&ret_12)->p_0[int(0)] = mean_30;
        (&ret_12)->w_mean_0[int(0)] = 0.0f;
        (&ret_12)->w_cov_0[int(0)] = 2.0f;
        float _S4526 = (F32_sqrt((3.0f)));
        float3  delta_54 = make_float3 (_S4526 * _S4524.x) * _S4525.rows[0U];
        float3  _S4527 = mean_30 + delta_54;
        float3  _S4528 = mean_30 - delta_54;
        float3  delta_55 = make_float3 (_S4526 * _S4524.y) * _S4525.rows[1U];
        float3  _S4529 = mean_30 + delta_55;
        float3  _S4530 = mean_30 - delta_55;
        float3  delta_56 = make_float3 (_S4526 * _S4524.z) * _S4525.rows[2U];
        float3  _S4531 = mean_30 + delta_56;
        float3  _S4532 = mean_30 - delta_56;
        (&ret_12)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_12)->p_0[0U] = mul_0(R_32, (&ret_12)->p_0[0U]) + t_28;
        (&ret_12)->p_0[1U] = mul_0(R_32, _S4527) + t_28;
        (&ret_12)->p_0[2U] = mul_0(R_32, _S4529) + t_28;
        (&ret_12)->p_0[3U] = mul_0(R_32, _S4531) + t_28;
        (&ret_12)->p_0[4U] = mul_0(R_32, _S4528) + t_28;
        (&ret_12)->p_0[5U] = mul_0(R_32, _S4530) + t_28;
        (&ret_12)->p_0[6U] = mul_0(R_32, _S4532) + t_28;
        SigmaPoints_0 _S4533 = ret_12;
        bool _S4534 = persp_proj_3dgs_ut_0(&_S4533, intrins_28, dist_coeffs_40, image_width_25, image_height_25, &covar2d_18, mean2d_27);
        if(!(true & _S4534))
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_32 = *&(((&covar2d_18)->rows + (int(0)))->x) * *&(((&covar2d_18)->rows + (int(1)))->y) - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float _S4535 = *&(((&covar2d_18)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(0)))->x) = _S4535;
        float _S4536 = *&(((&covar2d_18)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(1)))->y) = _S4536;
        float det_blur_27 = _S4535 * _S4536 - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float compensation_19 = (F32_sqrt(((F32_max((0.0f), (det_orig_32 / det_blur_27))))));
        if(det_blur_27 <= 0.0f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_22 = 1.0f / (1.0f + (F32_exp((- in_opacity_25))));
        if(antialiased_25)
        {
            *opacity_22 = *opacity_22 * compensation_19;
        }
        if((*opacity_22) < 0.00392156885936856f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_18 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_22 / 0.00392156885936856f)))))))));
        float radius_x_18 = extend_18 * (F32_sqrt((covar2d_18[int(0)].x)));
        float radius_y_18 = extend_18 * (F32_sqrt((covar2d_18[int(1)].y)));
        float xmin_13 = (F32_floor(((*mean2d_27).x - radius_x_18)));
        float xmax_13 = (F32_ceil(((*mean2d_27).x + radius_x_18)));
        float ymin_13 = (F32_floor(((*mean2d_27).y - radius_y_18)));
        float ymax_13 = (F32_ceil(((*mean2d_27).y + radius_y_18)));
        if(xmax_13 <= 0.0f)
        {
            _S4523 = true;
        }
        else
        {
            _S4523 = xmin_13 >= float(image_width_25);
        }
        if(_S4523)
        {
            _S4523 = true;
        }
        else
        {
            _S4523 = ymax_13 <= 0.0f;
        }
        if(_S4523)
        {
            _S4523 = true;
        }
        else
        {
            _S4523 = ymin_13 >= float(image_height_25);
        }
        if(_S4523)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_18 = make_int4 (int(xmin_13), int(ymin_13), int(xmax_13), int(ymax_13));
        *depth_19 = (F32_max((_S4522), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4522 + length_1(mean_c_27)))));
        *conic_18 = exp_0(- scale_30);
        float3  _S4537 = mean_30 - - mul_0(transpose_0(R_32), t_28);
        float3  _S4538 = _S4537 * make_float3 ((F32_rsqrt((dot_1(_S4537, _S4537)))));
        float _S4539 = dot_1((*sv_sites_8)[int(5)], _S4538);
        float w_28 = (F32_exp((dot_1((*sv_sites_8)[int(0)], _S4538) - _S4539)));
        float w_29 = (F32_exp((dot_1((*sv_sites_8)[int(1)], _S4538) - _S4539)));
        float w_30 = (F32_exp((dot_1((*sv_sites_8)[int(2)], _S4538) - _S4539)));
        float w_31 = (F32_exp((dot_1((*sv_sites_8)[int(3)], _S4538) - _S4539)));
        float w_32 = (F32_exp((dot_1((*sv_sites_8)[int(4)], _S4538) - _S4539)));
        float w_33 = (F32_exp((0.0f)));
        *rgb_20 = max_0((make_float3 (w_28) * (*sv_colors_8)[int(0)] + make_float3 (w_29) * (*sv_colors_8)[int(1)] + make_float3 (w_30) * (*sv_colors_8)[int(2)] + make_float3 (w_31) * (*sv_colors_8)[int(3)] + make_float3 (w_32) * (*sv_colors_8)[int(4)] + make_float3 (w_33) * (*sv_colors_8)[int(5)]) / make_float3 (w_28 + w_29 + w_30 + w_31 + w_32 + w_33) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_26, float3  mean_31, float4  quat_32, float3  scale_31, float in_opacity_26, FixedArray<float3 , 6>  * sv_sites_9, FixedArray<float3 , 6>  * sv_colors_9, Matrix<float, 3, 3>  R_33, float3  t_29, float fx_38, float fy_38, float cx_33, float cy_33, FixedArray<float, 10>  * dist_coeffs_41, uint image_width_26, uint image_height_26, float near_plane_19, float far_plane_19, int4  * aabb_xyxy_19, float2  * mean2d_28, float * depth_20, float3  * conic_19, float * opacity_23, float3  * rgb_21)
{
    for(;;)
    {
        float3  mean_c_28 = mul_0(R_33, mean_31) + t_29;
        float _S4540 = length_1(mean_c_28);
        bool _S4541;
        if(_S4540 < near_plane_19)
        {
            _S4541 = true;
        }
        else
        {
            _S4541 = _S4540 > far_plane_19;
        }
        if(_S4541)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_29 = make_float4 (fx_38, fy_38, cx_33, cy_33);
        Matrix<float, 2, 2>  covar2d_19;
        float3  _S4542 = exp_0(scale_31);
        float x_58 = quat_32.y;
        float x2_32 = x_58 * x_58;
        float y2_32 = quat_32.z * quat_32.z;
        float z2_55 = quat_32.w * quat_32.w;
        float xy_32 = quat_32.y * quat_32.z;
        float xz_32 = quat_32.y * quat_32.w;
        float yz_32 = quat_32.z * quat_32.w;
        float wx_32 = quat_32.x * quat_32.y;
        float wy_32 = quat_32.x * quat_32.z;
        float wz_32 = quat_32.x * quat_32.w;
        Matrix<float, 3, 3>  _S4543 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_32 + z2_55), 2.0f * (xy_32 + wz_32), 2.0f * (xz_32 - wy_32), 2.0f * (xy_32 - wz_32), 1.0f - 2.0f * (x2_32 + z2_55), 2.0f * (yz_32 + wx_32), 2.0f * (xz_32 + wy_32), 2.0f * (yz_32 - wx_32), 1.0f - 2.0f * (x2_32 + y2_32))));
        SigmaPoints_0 ret_13;
        (&ret_13)->p_0[int(0)] = mean_31;
        (&ret_13)->w_mean_0[int(0)] = 0.0f;
        (&ret_13)->w_cov_0[int(0)] = 2.0f;
        float _S4544 = (F32_sqrt((3.0f)));
        float3  delta_57 = make_float3 (_S4544 * _S4542.x) * _S4543.rows[0U];
        float3  _S4545 = mean_31 + delta_57;
        float3  _S4546 = mean_31 - delta_57;
        float3  delta_58 = make_float3 (_S4544 * _S4542.y) * _S4543.rows[1U];
        float3  _S4547 = mean_31 + delta_58;
        float3  _S4548 = mean_31 - delta_58;
        float3  delta_59 = make_float3 (_S4544 * _S4542.z) * _S4543.rows[2U];
        float3  _S4549 = mean_31 + delta_59;
        float3  _S4550 = mean_31 - delta_59;
        (&ret_13)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_13)->p_0[0U] = mul_0(R_33, (&ret_13)->p_0[0U]) + t_29;
        (&ret_13)->p_0[1U] = mul_0(R_33, _S4545) + t_29;
        (&ret_13)->p_0[2U] = mul_0(R_33, _S4547) + t_29;
        (&ret_13)->p_0[3U] = mul_0(R_33, _S4549) + t_29;
        (&ret_13)->p_0[4U] = mul_0(R_33, _S4546) + t_29;
        (&ret_13)->p_0[5U] = mul_0(R_33, _S4548) + t_29;
        (&ret_13)->p_0[6U] = mul_0(R_33, _S4550) + t_29;
        SigmaPoints_0 _S4551 = ret_13;
        bool _S4552 = fisheye_proj_3dgs_ut_0(&_S4551, intrins_29, dist_coeffs_41, &covar2d_19, mean2d_28);
        if(!(true & _S4552))
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_33 = *&(((&covar2d_19)->rows + (int(0)))->x) * *&(((&covar2d_19)->rows + (int(1)))->y) - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float _S4553 = *&(((&covar2d_19)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(0)))->x) = _S4553;
        float _S4554 = *&(((&covar2d_19)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(1)))->y) = _S4554;
        float det_blur_28 = _S4553 * _S4554 - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float compensation_20 = (F32_sqrt(((F32_max((0.0f), (det_orig_33 / det_blur_28))))));
        if(det_blur_28 <= 0.0f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_23 = 1.0f / (1.0f + (F32_exp((- in_opacity_26))));
        if(antialiased_26)
        {
            *opacity_23 = *opacity_23 * compensation_20;
        }
        if((*opacity_23) < 0.00392156885936856f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_19 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_23 / 0.00392156885936856f)))))))));
        float radius_x_19 = extend_19 * (F32_sqrt((covar2d_19[int(0)].x)));
        float radius_y_19 = extend_19 * (F32_sqrt((covar2d_19[int(1)].y)));
        float xmin_14 = (F32_floor(((*mean2d_28).x - radius_x_19)));
        float xmax_14 = (F32_ceil(((*mean2d_28).x + radius_x_19)));
        float ymin_14 = (F32_floor(((*mean2d_28).y - radius_y_19)));
        float ymax_14 = (F32_ceil(((*mean2d_28).y + radius_y_19)));
        if(xmax_14 <= 0.0f)
        {
            _S4541 = true;
        }
        else
        {
            _S4541 = xmin_14 >= float(image_width_26);
        }
        if(_S4541)
        {
            _S4541 = true;
        }
        else
        {
            _S4541 = ymax_14 <= 0.0f;
        }
        if(_S4541)
        {
            _S4541 = true;
        }
        else
        {
            _S4541 = ymin_14 >= float(image_height_26);
        }
        if(_S4541)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_19 = make_int4 (int(xmin_14), int(ymin_14), int(xmax_14), int(ymax_14));
        float _S4555 = mean_c_28.z;
        *depth_20 = (F32_max((_S4555), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4555 + _S4540))));
        *conic_19 = exp_0(- scale_31);
        float3  _S4556 = mean_31 - - mul_0(transpose_0(R_33), t_29);
        float3  _S4557 = _S4556 * make_float3 ((F32_rsqrt((dot_1(_S4556, _S4556)))));
        float _S4558 = dot_1((*sv_sites_9)[int(5)], _S4557);
        float w_34 = (F32_exp((dot_1((*sv_sites_9)[int(0)], _S4557) - _S4558)));
        float w_35 = (F32_exp((dot_1((*sv_sites_9)[int(1)], _S4557) - _S4558)));
        float w_36 = (F32_exp((dot_1((*sv_sites_9)[int(2)], _S4557) - _S4558)));
        float w_37 = (F32_exp((dot_1((*sv_sites_9)[int(3)], _S4557) - _S4558)));
        float w_38 = (F32_exp((dot_1((*sv_sites_9)[int(4)], _S4557) - _S4558)));
        float w_39 = (F32_exp((0.0f)));
        *rgb_21 = max_0((make_float3 (w_34) * (*sv_colors_9)[int(0)] + make_float3 (w_35) * (*sv_colors_9)[int(1)] + make_float3 (w_36) * (*sv_colors_9)[int(2)] + make_float3 (w_37) * (*sv_colors_9)[int(3)] + make_float3 (w_38) * (*sv_colors_9)[int(4)] + make_float3 (w_39) * (*sv_colors_9)[int(5)]) / make_float3 (w_34 + w_35 + w_36 + w_37 + w_38 + w_39) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_27, float3  mean_32, float4  quat_33, float3  scale_32, float in_opacity_27, FixedArray<float3 , 7>  * sv_sites_10, FixedArray<float3 , 7>  * sv_colors_10, Matrix<float, 3, 3>  R_34, float3  t_30, float fx_39, float fy_39, float cx_34, float cy_34, FixedArray<float, 10>  * dist_coeffs_42, uint image_width_27, uint image_height_27, float near_plane_20, float far_plane_20, int4  * aabb_xyxy_20, float2  * mean2d_29, float * depth_21, float3  * conic_20, float * opacity_24, float3  * rgb_22)
{
    for(;;)
    {
        float3  mean_c_29 = mul_0(R_34, mean_32) + t_30;
        float _S4559 = mean_c_29.z;
        bool _S4560;
        if(_S4559 < near_plane_20)
        {
            _S4560 = true;
        }
        else
        {
            _S4560 = _S4559 > far_plane_20;
        }
        if(_S4560)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_30 = make_float4 (fx_39, fy_39, cx_34, cy_34);
        Matrix<float, 2, 2>  covar2d_20;
        float3  _S4561 = exp_0(scale_32);
        float x_59 = quat_33.y;
        float x2_33 = x_59 * x_59;
        float y2_33 = quat_33.z * quat_33.z;
        float z2_56 = quat_33.w * quat_33.w;
        float xy_33 = quat_33.y * quat_33.z;
        float xz_33 = quat_33.y * quat_33.w;
        float yz_33 = quat_33.z * quat_33.w;
        float wx_33 = quat_33.x * quat_33.y;
        float wy_33 = quat_33.x * quat_33.z;
        float wz_33 = quat_33.x * quat_33.w;
        Matrix<float, 3, 3>  _S4562 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_33 + z2_56), 2.0f * (xy_33 + wz_33), 2.0f * (xz_33 - wy_33), 2.0f * (xy_33 - wz_33), 1.0f - 2.0f * (x2_33 + z2_56), 2.0f * (yz_33 + wx_33), 2.0f * (xz_33 + wy_33), 2.0f * (yz_33 - wx_33), 1.0f - 2.0f * (x2_33 + y2_33))));
        SigmaPoints_0 ret_14;
        (&ret_14)->p_0[int(0)] = mean_32;
        (&ret_14)->w_mean_0[int(0)] = 0.0f;
        (&ret_14)->w_cov_0[int(0)] = 2.0f;
        float _S4563 = (F32_sqrt((3.0f)));
        float3  delta_60 = make_float3 (_S4563 * _S4561.x) * _S4562.rows[0U];
        float3  _S4564 = mean_32 + delta_60;
        float3  _S4565 = mean_32 - delta_60;
        float3  delta_61 = make_float3 (_S4563 * _S4561.y) * _S4562.rows[1U];
        float3  _S4566 = mean_32 + delta_61;
        float3  _S4567 = mean_32 - delta_61;
        float3  delta_62 = make_float3 (_S4563 * _S4561.z) * _S4562.rows[2U];
        float3  _S4568 = mean_32 + delta_62;
        float3  _S4569 = mean_32 - delta_62;
        (&ret_14)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_14)->p_0[0U] = mul_0(R_34, (&ret_14)->p_0[0U]) + t_30;
        (&ret_14)->p_0[1U] = mul_0(R_34, _S4564) + t_30;
        (&ret_14)->p_0[2U] = mul_0(R_34, _S4566) + t_30;
        (&ret_14)->p_0[3U] = mul_0(R_34, _S4568) + t_30;
        (&ret_14)->p_0[4U] = mul_0(R_34, _S4565) + t_30;
        (&ret_14)->p_0[5U] = mul_0(R_34, _S4567) + t_30;
        (&ret_14)->p_0[6U] = mul_0(R_34, _S4569) + t_30;
        SigmaPoints_0 _S4570 = ret_14;
        bool _S4571 = persp_proj_3dgs_ut_0(&_S4570, intrins_30, dist_coeffs_42, image_width_27, image_height_27, &covar2d_20, mean2d_29);
        if(!(true & _S4571))
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_34 = *&(((&covar2d_20)->rows + (int(0)))->x) * *&(((&covar2d_20)->rows + (int(1)))->y) - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float _S4572 = *&(((&covar2d_20)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(0)))->x) = _S4572;
        float _S4573 = *&(((&covar2d_20)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(1)))->y) = _S4573;
        float det_blur_29 = _S4572 * _S4573 - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float compensation_21 = (F32_sqrt(((F32_max((0.0f), (det_orig_34 / det_blur_29))))));
        if(det_blur_29 <= 0.0f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_24 = 1.0f / (1.0f + (F32_exp((- in_opacity_27))));
        if(antialiased_27)
        {
            *opacity_24 = *opacity_24 * compensation_21;
        }
        if((*opacity_24) < 0.00392156885936856f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_20 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_24 / 0.00392156885936856f)))))))));
        float radius_x_20 = extend_20 * (F32_sqrt((covar2d_20[int(0)].x)));
        float radius_y_20 = extend_20 * (F32_sqrt((covar2d_20[int(1)].y)));
        float xmin_15 = (F32_floor(((*mean2d_29).x - radius_x_20)));
        float xmax_15 = (F32_ceil(((*mean2d_29).x + radius_x_20)));
        float ymin_15 = (F32_floor(((*mean2d_29).y - radius_y_20)));
        float ymax_15 = (F32_ceil(((*mean2d_29).y + radius_y_20)));
        if(xmax_15 <= 0.0f)
        {
            _S4560 = true;
        }
        else
        {
            _S4560 = xmin_15 >= float(image_width_27);
        }
        if(_S4560)
        {
            _S4560 = true;
        }
        else
        {
            _S4560 = ymax_15 <= 0.0f;
        }
        if(_S4560)
        {
            _S4560 = true;
        }
        else
        {
            _S4560 = ymin_15 >= float(image_height_27);
        }
        if(_S4560)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_20 = make_int4 (int(xmin_15), int(ymin_15), int(xmax_15), int(ymax_15));
        *depth_21 = (F32_max((_S4559), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4559 + length_1(mean_c_29)))));
        *conic_20 = exp_0(- scale_32);
        float3  _S4574 = mean_32 - - mul_0(transpose_0(R_34), t_30);
        float3  _S4575 = _S4574 * make_float3 ((F32_rsqrt((dot_1(_S4574, _S4574)))));
        float _S4576 = dot_1((*sv_sites_10)[int(6)], _S4575);
        float w_40 = (F32_exp((dot_1((*sv_sites_10)[int(0)], _S4575) - _S4576)));
        float w_41 = (F32_exp((dot_1((*sv_sites_10)[int(1)], _S4575) - _S4576)));
        float w_42 = (F32_exp((dot_1((*sv_sites_10)[int(2)], _S4575) - _S4576)));
        float w_43 = (F32_exp((dot_1((*sv_sites_10)[int(3)], _S4575) - _S4576)));
        float w_44 = (F32_exp((dot_1((*sv_sites_10)[int(4)], _S4575) - _S4576)));
        float w_45 = (F32_exp((dot_1((*sv_sites_10)[int(5)], _S4575) - _S4576)));
        float w_46 = (F32_exp((0.0f)));
        *rgb_22 = max_0((make_float3 (w_40) * (*sv_colors_10)[int(0)] + make_float3 (w_41) * (*sv_colors_10)[int(1)] + make_float3 (w_42) * (*sv_colors_10)[int(2)] + make_float3 (w_43) * (*sv_colors_10)[int(3)] + make_float3 (w_44) * (*sv_colors_10)[int(4)] + make_float3 (w_45) * (*sv_colors_10)[int(5)] + make_float3 (w_46) * (*sv_colors_10)[int(6)]) / make_float3 (w_40 + w_41 + w_42 + w_43 + w_44 + w_45 + w_46) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_28, float3  mean_33, float4  quat_34, float3  scale_33, float in_opacity_28, FixedArray<float3 , 7>  * sv_sites_11, FixedArray<float3 , 7>  * sv_colors_11, Matrix<float, 3, 3>  R_35, float3  t_31, float fx_40, float fy_40, float cx_35, float cy_35, FixedArray<float, 10>  * dist_coeffs_43, uint image_width_28, uint image_height_28, float near_plane_21, float far_plane_21, int4  * aabb_xyxy_21, float2  * mean2d_30, float * depth_22, float3  * conic_21, float * opacity_25, float3  * rgb_23)
{
    for(;;)
    {
        float3  mean_c_30 = mul_0(R_35, mean_33) + t_31;
        float _S4577 = length_1(mean_c_30);
        bool _S4578;
        if(_S4577 < near_plane_21)
        {
            _S4578 = true;
        }
        else
        {
            _S4578 = _S4577 > far_plane_21;
        }
        if(_S4578)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_31 = make_float4 (fx_40, fy_40, cx_35, cy_35);
        Matrix<float, 2, 2>  covar2d_21;
        float3  _S4579 = exp_0(scale_33);
        float x_60 = quat_34.y;
        float x2_34 = x_60 * x_60;
        float y2_34 = quat_34.z * quat_34.z;
        float z2_57 = quat_34.w * quat_34.w;
        float xy_34 = quat_34.y * quat_34.z;
        float xz_34 = quat_34.y * quat_34.w;
        float yz_34 = quat_34.z * quat_34.w;
        float wx_34 = quat_34.x * quat_34.y;
        float wy_34 = quat_34.x * quat_34.z;
        float wz_34 = quat_34.x * quat_34.w;
        Matrix<float, 3, 3>  _S4580 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_34 + z2_57), 2.0f * (xy_34 + wz_34), 2.0f * (xz_34 - wy_34), 2.0f * (xy_34 - wz_34), 1.0f - 2.0f * (x2_34 + z2_57), 2.0f * (yz_34 + wx_34), 2.0f * (xz_34 + wy_34), 2.0f * (yz_34 - wx_34), 1.0f - 2.0f * (x2_34 + y2_34))));
        SigmaPoints_0 ret_15;
        (&ret_15)->p_0[int(0)] = mean_33;
        (&ret_15)->w_mean_0[int(0)] = 0.0f;
        (&ret_15)->w_cov_0[int(0)] = 2.0f;
        float _S4581 = (F32_sqrt((3.0f)));
        float3  delta_63 = make_float3 (_S4581 * _S4579.x) * _S4580.rows[0U];
        float3  _S4582 = mean_33 + delta_63;
        float3  _S4583 = mean_33 - delta_63;
        float3  delta_64 = make_float3 (_S4581 * _S4579.y) * _S4580.rows[1U];
        float3  _S4584 = mean_33 + delta_64;
        float3  _S4585 = mean_33 - delta_64;
        float3  delta_65 = make_float3 (_S4581 * _S4579.z) * _S4580.rows[2U];
        float3  _S4586 = mean_33 + delta_65;
        float3  _S4587 = mean_33 - delta_65;
        (&ret_15)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_15)->p_0[0U] = mul_0(R_35, (&ret_15)->p_0[0U]) + t_31;
        (&ret_15)->p_0[1U] = mul_0(R_35, _S4582) + t_31;
        (&ret_15)->p_0[2U] = mul_0(R_35, _S4584) + t_31;
        (&ret_15)->p_0[3U] = mul_0(R_35, _S4586) + t_31;
        (&ret_15)->p_0[4U] = mul_0(R_35, _S4583) + t_31;
        (&ret_15)->p_0[5U] = mul_0(R_35, _S4585) + t_31;
        (&ret_15)->p_0[6U] = mul_0(R_35, _S4587) + t_31;
        SigmaPoints_0 _S4588 = ret_15;
        bool _S4589 = fisheye_proj_3dgs_ut_0(&_S4588, intrins_31, dist_coeffs_43, &covar2d_21, mean2d_30);
        if(!(true & _S4589))
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_35 = *&(((&covar2d_21)->rows + (int(0)))->x) * *&(((&covar2d_21)->rows + (int(1)))->y) - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float _S4590 = *&(((&covar2d_21)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(0)))->x) = _S4590;
        float _S4591 = *&(((&covar2d_21)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(1)))->y) = _S4591;
        float det_blur_30 = _S4590 * _S4591 - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float compensation_22 = (F32_sqrt(((F32_max((0.0f), (det_orig_35 / det_blur_30))))));
        if(det_blur_30 <= 0.0f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_25 = 1.0f / (1.0f + (F32_exp((- in_opacity_28))));
        if(antialiased_28)
        {
            *opacity_25 = *opacity_25 * compensation_22;
        }
        if((*opacity_25) < 0.00392156885936856f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_21 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_25 / 0.00392156885936856f)))))))));
        float radius_x_21 = extend_21 * (F32_sqrt((covar2d_21[int(0)].x)));
        float radius_y_21 = extend_21 * (F32_sqrt((covar2d_21[int(1)].y)));
        float xmin_16 = (F32_floor(((*mean2d_30).x - radius_x_21)));
        float xmax_16 = (F32_ceil(((*mean2d_30).x + radius_x_21)));
        float ymin_16 = (F32_floor(((*mean2d_30).y - radius_y_21)));
        float ymax_16 = (F32_ceil(((*mean2d_30).y + radius_y_21)));
        if(xmax_16 <= 0.0f)
        {
            _S4578 = true;
        }
        else
        {
            _S4578 = xmin_16 >= float(image_width_28);
        }
        if(_S4578)
        {
            _S4578 = true;
        }
        else
        {
            _S4578 = ymax_16 <= 0.0f;
        }
        if(_S4578)
        {
            _S4578 = true;
        }
        else
        {
            _S4578 = ymin_16 >= float(image_height_28);
        }
        if(_S4578)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_21 = make_int4 (int(xmin_16), int(ymin_16), int(xmax_16), int(ymax_16));
        float _S4592 = mean_c_30.z;
        *depth_22 = (F32_max((_S4592), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4592 + _S4577))));
        *conic_21 = exp_0(- scale_33);
        float3  _S4593 = mean_33 - - mul_0(transpose_0(R_35), t_31);
        float3  _S4594 = _S4593 * make_float3 ((F32_rsqrt((dot_1(_S4593, _S4593)))));
        float _S4595 = dot_1((*sv_sites_11)[int(6)], _S4594);
        float w_47 = (F32_exp((dot_1((*sv_sites_11)[int(0)], _S4594) - _S4595)));
        float w_48 = (F32_exp((dot_1((*sv_sites_11)[int(1)], _S4594) - _S4595)));
        float w_49 = (F32_exp((dot_1((*sv_sites_11)[int(2)], _S4594) - _S4595)));
        float w_50 = (F32_exp((dot_1((*sv_sites_11)[int(3)], _S4594) - _S4595)));
        float w_51 = (F32_exp((dot_1((*sv_sites_11)[int(4)], _S4594) - _S4595)));
        float w_52 = (F32_exp((dot_1((*sv_sites_11)[int(5)], _S4594) - _S4595)));
        float w_53 = (F32_exp((0.0f)));
        *rgb_23 = max_0((make_float3 (w_47) * (*sv_colors_11)[int(0)] + make_float3 (w_48) * (*sv_colors_11)[int(1)] + make_float3 (w_49) * (*sv_colors_11)[int(2)] + make_float3 (w_50) * (*sv_colors_11)[int(3)] + make_float3 (w_51) * (*sv_colors_11)[int(4)] + make_float3 (w_52) * (*sv_colors_11)[int(5)] + make_float3 (w_53) * (*sv_colors_11)[int(6)]) / make_float3 (w_47 + w_48 + w_49 + w_50 + w_51 + w_52 + w_53) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_29, float3  mean_34, float4  quat_35, float3  scale_34, float in_opacity_29, FixedArray<float3 , 8>  * sv_sites_12, FixedArray<float3 , 8>  * sv_colors_12, Matrix<float, 3, 3>  R_36, float3  t_32, float fx_41, float fy_41, float cx_36, float cy_36, FixedArray<float, 10>  * dist_coeffs_44, uint image_width_29, uint image_height_29, float near_plane_22, float far_plane_22, int4  * aabb_xyxy_22, float2  * mean2d_31, float * depth_23, float3  * conic_22, float * opacity_26, float3  * rgb_24)
{
    for(;;)
    {
        float3  mean_c_31 = mul_0(R_36, mean_34) + t_32;
        float _S4596 = mean_c_31.z;
        bool _S4597;
        if(_S4596 < near_plane_22)
        {
            _S4597 = true;
        }
        else
        {
            _S4597 = _S4596 > far_plane_22;
        }
        if(_S4597)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_32 = make_float4 (fx_41, fy_41, cx_36, cy_36);
        Matrix<float, 2, 2>  covar2d_22;
        float3  _S4598 = exp_0(scale_34);
        float x_61 = quat_35.y;
        float x2_35 = x_61 * x_61;
        float y2_35 = quat_35.z * quat_35.z;
        float z2_58 = quat_35.w * quat_35.w;
        float xy_35 = quat_35.y * quat_35.z;
        float xz_35 = quat_35.y * quat_35.w;
        float yz_35 = quat_35.z * quat_35.w;
        float wx_35 = quat_35.x * quat_35.y;
        float wy_35 = quat_35.x * quat_35.z;
        float wz_35 = quat_35.x * quat_35.w;
        Matrix<float, 3, 3>  _S4599 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_35 + z2_58), 2.0f * (xy_35 + wz_35), 2.0f * (xz_35 - wy_35), 2.0f * (xy_35 - wz_35), 1.0f - 2.0f * (x2_35 + z2_58), 2.0f * (yz_35 + wx_35), 2.0f * (xz_35 + wy_35), 2.0f * (yz_35 - wx_35), 1.0f - 2.0f * (x2_35 + y2_35))));
        SigmaPoints_0 ret_16;
        (&ret_16)->p_0[int(0)] = mean_34;
        (&ret_16)->w_mean_0[int(0)] = 0.0f;
        (&ret_16)->w_cov_0[int(0)] = 2.0f;
        float _S4600 = (F32_sqrt((3.0f)));
        float3  delta_66 = make_float3 (_S4600 * _S4598.x) * _S4599.rows[0U];
        float3  _S4601 = mean_34 + delta_66;
        float3  _S4602 = mean_34 - delta_66;
        float3  delta_67 = make_float3 (_S4600 * _S4598.y) * _S4599.rows[1U];
        float3  _S4603 = mean_34 + delta_67;
        float3  _S4604 = mean_34 - delta_67;
        float3  delta_68 = make_float3 (_S4600 * _S4598.z) * _S4599.rows[2U];
        float3  _S4605 = mean_34 + delta_68;
        float3  _S4606 = mean_34 - delta_68;
        (&ret_16)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_16)->p_0[0U] = mul_0(R_36, (&ret_16)->p_0[0U]) + t_32;
        (&ret_16)->p_0[1U] = mul_0(R_36, _S4601) + t_32;
        (&ret_16)->p_0[2U] = mul_0(R_36, _S4603) + t_32;
        (&ret_16)->p_0[3U] = mul_0(R_36, _S4605) + t_32;
        (&ret_16)->p_0[4U] = mul_0(R_36, _S4602) + t_32;
        (&ret_16)->p_0[5U] = mul_0(R_36, _S4604) + t_32;
        (&ret_16)->p_0[6U] = mul_0(R_36, _S4606) + t_32;
        SigmaPoints_0 _S4607 = ret_16;
        bool _S4608 = persp_proj_3dgs_ut_0(&_S4607, intrins_32, dist_coeffs_44, image_width_29, image_height_29, &covar2d_22, mean2d_31);
        if(!(true & _S4608))
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_36 = *&(((&covar2d_22)->rows + (int(0)))->x) * *&(((&covar2d_22)->rows + (int(1)))->y) - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float _S4609 = *&(((&covar2d_22)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(0)))->x) = _S4609;
        float _S4610 = *&(((&covar2d_22)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(1)))->y) = _S4610;
        float det_blur_31 = _S4609 * _S4610 - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float compensation_23 = (F32_sqrt(((F32_max((0.0f), (det_orig_36 / det_blur_31))))));
        if(det_blur_31 <= 0.0f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_26 = 1.0f / (1.0f + (F32_exp((- in_opacity_29))));
        if(antialiased_29)
        {
            *opacity_26 = *opacity_26 * compensation_23;
        }
        if((*opacity_26) < 0.00392156885936856f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_22 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_26 / 0.00392156885936856f)))))))));
        float radius_x_22 = extend_22 * (F32_sqrt((covar2d_22[int(0)].x)));
        float radius_y_22 = extend_22 * (F32_sqrt((covar2d_22[int(1)].y)));
        float xmin_17 = (F32_floor(((*mean2d_31).x - radius_x_22)));
        float xmax_17 = (F32_ceil(((*mean2d_31).x + radius_x_22)));
        float ymin_17 = (F32_floor(((*mean2d_31).y - radius_y_22)));
        float ymax_17 = (F32_ceil(((*mean2d_31).y + radius_y_22)));
        if(xmax_17 <= 0.0f)
        {
            _S4597 = true;
        }
        else
        {
            _S4597 = xmin_17 >= float(image_width_29);
        }
        if(_S4597)
        {
            _S4597 = true;
        }
        else
        {
            _S4597 = ymax_17 <= 0.0f;
        }
        if(_S4597)
        {
            _S4597 = true;
        }
        else
        {
            _S4597 = ymin_17 >= float(image_height_29);
        }
        if(_S4597)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_22 = make_int4 (int(xmin_17), int(ymin_17), int(xmax_17), int(ymax_17));
        *depth_23 = (F32_max((_S4596), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4596 + length_1(mean_c_31)))));
        *conic_22 = exp_0(- scale_34);
        float3  _S4611 = mean_34 - - mul_0(transpose_0(R_36), t_32);
        float3  _S4612 = _S4611 * make_float3 ((F32_rsqrt((dot_1(_S4611, _S4611)))));
        float _S4613 = dot_1((*sv_sites_12)[int(7)], _S4612);
        float w_54 = (F32_exp((dot_1((*sv_sites_12)[int(0)], _S4612) - _S4613)));
        float w_55 = (F32_exp((dot_1((*sv_sites_12)[int(1)], _S4612) - _S4613)));
        float w_56 = (F32_exp((dot_1((*sv_sites_12)[int(2)], _S4612) - _S4613)));
        float w_57 = (F32_exp((dot_1((*sv_sites_12)[int(3)], _S4612) - _S4613)));
        float w_58 = (F32_exp((dot_1((*sv_sites_12)[int(4)], _S4612) - _S4613)));
        float w_59 = (F32_exp((dot_1((*sv_sites_12)[int(5)], _S4612) - _S4613)));
        float w_60 = (F32_exp((dot_1((*sv_sites_12)[int(6)], _S4612) - _S4613)));
        float w_61 = (F32_exp((0.0f)));
        *rgb_24 = max_0((make_float3 (w_54) * (*sv_colors_12)[int(0)] + make_float3 (w_55) * (*sv_colors_12)[int(1)] + make_float3 (w_56) * (*sv_colors_12)[int(2)] + make_float3 (w_57) * (*sv_colors_12)[int(3)] + make_float3 (w_58) * (*sv_colors_12)[int(4)] + make_float3 (w_59) * (*sv_colors_12)[int(5)] + make_float3 (w_60) * (*sv_colors_12)[int(6)] + make_float3 (w_61) * (*sv_colors_12)[int(7)]) / make_float3 (w_54 + w_55 + w_56 + w_57 + w_58 + w_59 + w_60 + w_61) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_30, float3  mean_35, float4  quat_36, float3  scale_35, float in_opacity_30, FixedArray<float3 , 8>  * sv_sites_13, FixedArray<float3 , 8>  * sv_colors_13, Matrix<float, 3, 3>  R_37, float3  t_33, float fx_42, float fy_42, float cx_37, float cy_37, FixedArray<float, 10>  * dist_coeffs_45, uint image_width_30, uint image_height_30, float near_plane_23, float far_plane_23, int4  * aabb_xyxy_23, float2  * mean2d_32, float * depth_24, float3  * conic_23, float * opacity_27, float3  * rgb_25)
{
    for(;;)
    {
        float3  mean_c_32 = mul_0(R_37, mean_35) + t_33;
        float _S4614 = length_1(mean_c_32);
        bool _S4615;
        if(_S4614 < near_plane_23)
        {
            _S4615 = true;
        }
        else
        {
            _S4615 = _S4614 > far_plane_23;
        }
        if(_S4615)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_33 = make_float4 (fx_42, fy_42, cx_37, cy_37);
        Matrix<float, 2, 2>  covar2d_23;
        float3  _S4616 = exp_0(scale_35);
        float x_62 = quat_36.y;
        float x2_36 = x_62 * x_62;
        float y2_36 = quat_36.z * quat_36.z;
        float z2_59 = quat_36.w * quat_36.w;
        float xy_36 = quat_36.y * quat_36.z;
        float xz_36 = quat_36.y * quat_36.w;
        float yz_36 = quat_36.z * quat_36.w;
        float wx_36 = quat_36.x * quat_36.y;
        float wy_36 = quat_36.x * quat_36.z;
        float wz_36 = quat_36.x * quat_36.w;
        Matrix<float, 3, 3>  _S4617 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_36 + z2_59), 2.0f * (xy_36 + wz_36), 2.0f * (xz_36 - wy_36), 2.0f * (xy_36 - wz_36), 1.0f - 2.0f * (x2_36 + z2_59), 2.0f * (yz_36 + wx_36), 2.0f * (xz_36 + wy_36), 2.0f * (yz_36 - wx_36), 1.0f - 2.0f * (x2_36 + y2_36))));
        SigmaPoints_0 ret_17;
        (&ret_17)->p_0[int(0)] = mean_35;
        (&ret_17)->w_mean_0[int(0)] = 0.0f;
        (&ret_17)->w_cov_0[int(0)] = 2.0f;
        float _S4618 = (F32_sqrt((3.0f)));
        float3  delta_69 = make_float3 (_S4618 * _S4616.x) * _S4617.rows[0U];
        float3  _S4619 = mean_35 + delta_69;
        float3  _S4620 = mean_35 - delta_69;
        float3  delta_70 = make_float3 (_S4618 * _S4616.y) * _S4617.rows[1U];
        float3  _S4621 = mean_35 + delta_70;
        float3  _S4622 = mean_35 - delta_70;
        float3  delta_71 = make_float3 (_S4618 * _S4616.z) * _S4617.rows[2U];
        float3  _S4623 = mean_35 + delta_71;
        float3  _S4624 = mean_35 - delta_71;
        (&ret_17)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_17)->p_0[0U] = mul_0(R_37, (&ret_17)->p_0[0U]) + t_33;
        (&ret_17)->p_0[1U] = mul_0(R_37, _S4619) + t_33;
        (&ret_17)->p_0[2U] = mul_0(R_37, _S4621) + t_33;
        (&ret_17)->p_0[3U] = mul_0(R_37, _S4623) + t_33;
        (&ret_17)->p_0[4U] = mul_0(R_37, _S4620) + t_33;
        (&ret_17)->p_0[5U] = mul_0(R_37, _S4622) + t_33;
        (&ret_17)->p_0[6U] = mul_0(R_37, _S4624) + t_33;
        SigmaPoints_0 _S4625 = ret_17;
        bool _S4626 = fisheye_proj_3dgs_ut_0(&_S4625, intrins_33, dist_coeffs_45, &covar2d_23, mean2d_32);
        if(!(true & _S4626))
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_37 = *&(((&covar2d_23)->rows + (int(0)))->x) * *&(((&covar2d_23)->rows + (int(1)))->y) - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float _S4627 = *&(((&covar2d_23)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(0)))->x) = _S4627;
        float _S4628 = *&(((&covar2d_23)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(1)))->y) = _S4628;
        float det_blur_32 = _S4627 * _S4628 - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float compensation_24 = (F32_sqrt(((F32_max((0.0f), (det_orig_37 / det_blur_32))))));
        if(det_blur_32 <= 0.0f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_27 = 1.0f / (1.0f + (F32_exp((- in_opacity_30))));
        if(antialiased_30)
        {
            *opacity_27 = *opacity_27 * compensation_24;
        }
        if((*opacity_27) < 0.00392156885936856f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_23 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_27 / 0.00392156885936856f)))))))));
        float radius_x_23 = extend_23 * (F32_sqrt((covar2d_23[int(0)].x)));
        float radius_y_23 = extend_23 * (F32_sqrt((covar2d_23[int(1)].y)));
        float xmin_18 = (F32_floor(((*mean2d_32).x - radius_x_23)));
        float xmax_18 = (F32_ceil(((*mean2d_32).x + radius_x_23)));
        float ymin_18 = (F32_floor(((*mean2d_32).y - radius_y_23)));
        float ymax_18 = (F32_ceil(((*mean2d_32).y + radius_y_23)));
        if(xmax_18 <= 0.0f)
        {
            _S4615 = true;
        }
        else
        {
            _S4615 = xmin_18 >= float(image_width_30);
        }
        if(_S4615)
        {
            _S4615 = true;
        }
        else
        {
            _S4615 = ymax_18 <= 0.0f;
        }
        if(_S4615)
        {
            _S4615 = true;
        }
        else
        {
            _S4615 = ymin_18 >= float(image_height_30);
        }
        if(_S4615)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_23 = make_int4 (int(xmin_18), int(ymin_18), int(xmax_18), int(ymax_18));
        float _S4629 = mean_c_32.z;
        *depth_24 = (F32_max((_S4629), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4629 + _S4614))));
        *conic_23 = exp_0(- scale_35);
        float3  _S4630 = mean_35 - - mul_0(transpose_0(R_37), t_33);
        float3  _S4631 = _S4630 * make_float3 ((F32_rsqrt((dot_1(_S4630, _S4630)))));
        float _S4632 = dot_1((*sv_sites_13)[int(7)], _S4631);
        float w_62 = (F32_exp((dot_1((*sv_sites_13)[int(0)], _S4631) - _S4632)));
        float w_63 = (F32_exp((dot_1((*sv_sites_13)[int(1)], _S4631) - _S4632)));
        float w_64 = (F32_exp((dot_1((*sv_sites_13)[int(2)], _S4631) - _S4632)));
        float w_65 = (F32_exp((dot_1((*sv_sites_13)[int(3)], _S4631) - _S4632)));
        float w_66 = (F32_exp((dot_1((*sv_sites_13)[int(4)], _S4631) - _S4632)));
        float w_67 = (F32_exp((dot_1((*sv_sites_13)[int(5)], _S4631) - _S4632)));
        float w_68 = (F32_exp((dot_1((*sv_sites_13)[int(6)], _S4631) - _S4632)));
        float w_69 = (F32_exp((0.0f)));
        *rgb_25 = max_0((make_float3 (w_62) * (*sv_colors_13)[int(0)] + make_float3 (w_63) * (*sv_colors_13)[int(1)] + make_float3 (w_64) * (*sv_colors_13)[int(2)] + make_float3 (w_65) * (*sv_colors_13)[int(3)] + make_float3 (w_66) * (*sv_colors_13)[int(4)] + make_float3 (w_67) * (*sv_colors_13)[int(5)] + make_float3 (w_68) * (*sv_colors_13)[int(6)] + make_float3 (w_69) * (*sv_colors_13)[int(7)]) / make_float3 (w_62 + w_63 + w_64 + w_65 + w_66 + w_67 + w_68 + w_69) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_31, float3  mean_36, float4  quat_37, float3  scale_36, float in_opacity_31, FixedArray<float3 , 2>  * sv_sites_14, FixedArray<float3 , 2>  * sv_colors_14, Matrix<float, 3, 3>  R_38, float3  t_34, float fx_43, float fy_43, float cx_38, float cy_38, FixedArray<float, 10>  * dist_coeffs_46, uint image_width_31, uint image_height_31, float near_plane_24, float far_plane_24, int4  * aabb_xyxy_24, float2  * mean2d_33, float * depth_25, float3  * conic_24, float * opacity_28, float3  * rgb_26)
{
    float3  mean_c_33 = mul_0(R_38, mean_36) + t_34;
    float4  intrins_34 = make_float4 (fx_43, fy_43, cx_38, cy_38);
    float3  _S4633 = exp_0(scale_36);
    float x_63 = quat_37.y;
    float x2_37 = x_63 * x_63;
    float y2_37 = quat_37.z * quat_37.z;
    float z2_60 = quat_37.w * quat_37.w;
    float xy_37 = quat_37.y * quat_37.z;
    float xz_37 = quat_37.y * quat_37.w;
    float yz_37 = quat_37.z * quat_37.w;
    float wx_37 = quat_37.x * quat_37.y;
    float wy_37 = quat_37.x * quat_37.z;
    float wz_37 = quat_37.x * quat_37.w;
    Matrix<float, 3, 3>  _S4634 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_37 + z2_60), 2.0f * (xy_37 + wz_37), 2.0f * (xz_37 - wy_37), 2.0f * (xy_37 - wz_37), 1.0f - 2.0f * (x2_37 + z2_60), 2.0f * (yz_37 + wx_37), 2.0f * (xz_37 + wy_37), 2.0f * (yz_37 - wx_37), 1.0f - 2.0f * (x2_37 + y2_37))));
    SigmaPoints_0 ret_18;
    (&ret_18)->p_0[int(0)] = mean_36;
    (&ret_18)->w_mean_0[int(0)] = 0.0f;
    (&ret_18)->w_cov_0[int(0)] = 2.0f;
    float _S4635 = (F32_sqrt((3.0f)));
    float3  delta_72 = make_float3 (_S4635 * _S4633.x) * _S4634.rows[0U];
    float3  _S4636 = mean_36 + delta_72;
    float3  _S4637 = mean_36 - delta_72;
    float3  delta_73 = make_float3 (_S4635 * _S4633.y) * _S4634.rows[1U];
    float3  _S4638 = mean_36 + delta_73;
    float3  _S4639 = mean_36 - delta_73;
    float3  delta_74 = make_float3 (_S4635 * _S4633.z) * _S4634.rows[2U];
    float3  _S4640 = mean_36 + delta_74;
    float3  _S4641 = mean_36 - delta_74;
    (&ret_18)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_18)->p_0[0U] = mul_0(R_38, (&ret_18)->p_0[0U]) + t_34;
    (&ret_18)->p_0[1U] = mul_0(R_38, _S4636) + t_34;
    (&ret_18)->p_0[2U] = mul_0(R_38, _S4638) + t_34;
    (&ret_18)->p_0[3U] = mul_0(R_38, _S4640) + t_34;
    (&ret_18)->p_0[4U] = mul_0(R_38, _S4637) + t_34;
    (&ret_18)->p_0[5U] = mul_0(R_38, _S4639) + t_34;
    (&ret_18)->p_0[6U] = mul_0(R_38, _S4641) + t_34;
    SigmaPoints_0 _S4642 = ret_18;
    Matrix<float, 2, 2>  covar2d_24;
    bool _S4643 = persp_proj_3dgs_ut_1(&_S4642, intrins_34, dist_coeffs_46, image_width_31, image_height_31, &covar2d_24, mean2d_33);
    float det_orig_38 = *&(((&covar2d_24)->rows + (int(0)))->x) * *&(((&covar2d_24)->rows + (int(1)))->y) - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x);
    float _S4644 = *&(((&covar2d_24)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(0)))->x) = _S4644;
    float _S4645 = *&(((&covar2d_24)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(1)))->y) = _S4645;
    float compensation_25 = (F32_sqrt(((F32_max((0.0f), (det_orig_38 / (_S4644 * _S4645 - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x))))))));
    *opacity_28 = 1.0f / (1.0f + (F32_exp((- in_opacity_31))));
    if(antialiased_31)
    {
        *opacity_28 = *opacity_28 * compensation_25;
    }
    float extend_24 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_28 / 0.00392156885936856f)))))))));
    float radius_x_24 = extend_24 * (F32_sqrt((covar2d_24[int(0)].x)));
    float radius_y_24 = extend_24 * (F32_sqrt((covar2d_24[int(1)].y)));
    *aabb_xyxy_24 = make_int4 (int((F32_floor(((*mean2d_33).x - radius_x_24)))), int((F32_floor(((*mean2d_33).y - radius_y_24)))), int((F32_ceil(((*mean2d_33).x + radius_x_24)))), int((F32_ceil(((*mean2d_33).y + radius_y_24)))));
    float _S4646 = mean_c_33.z;
    *depth_25 = (F32_max((_S4646), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4646 + length_1(mean_c_33)))));
    *conic_24 = exp_0(- scale_36);
    float3  _S4647 = mean_36 - - mul_0(transpose_0(R_38), t_34);
    float3  _S4648 = _S4647 * make_float3 ((F32_rsqrt((dot_1(_S4647, _S4647)))));
    float w_70 = (F32_exp((dot_1((*sv_sites_14)[int(0)], _S4648) - dot_1((*sv_sites_14)[int(1)], _S4648))));
    float w_71 = (F32_exp((0.0f)));
    *rgb_26 = max_0((make_float3 (w_70) * (*sv_colors_14)[int(0)] + make_float3 (w_71) * (*sv_colors_14)[int(1)]) / make_float3 (w_70 + w_71) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_32, float3  mean_37, float4  quat_38, float3  scale_37, float in_opacity_32, FixedArray<float3 , 2>  * sv_sites_15, FixedArray<float3 , 2>  * sv_colors_15, Matrix<float, 3, 3>  R_39, float3  t_35, float fx_44, float fy_44, float cx_39, float cy_39, FixedArray<float, 10>  * dist_coeffs_47, uint image_width_32, uint image_height_32, float near_plane_25, float far_plane_25, int4  * aabb_xyxy_25, float2  * mean2d_34, float * depth_26, float3  * conic_25, float * opacity_29, float3  * rgb_27)
{
    float3  mean_c_34 = mul_0(R_39, mean_37) + t_35;
    float4  intrins_35 = make_float4 (fx_44, fy_44, cx_39, cy_39);
    float3  _S4649 = exp_0(scale_37);
    float x_64 = quat_38.y;
    float x2_38 = x_64 * x_64;
    float y2_38 = quat_38.z * quat_38.z;
    float z2_61 = quat_38.w * quat_38.w;
    float xy_38 = quat_38.y * quat_38.z;
    float xz_38 = quat_38.y * quat_38.w;
    float yz_38 = quat_38.z * quat_38.w;
    float wx_38 = quat_38.x * quat_38.y;
    float wy_38 = quat_38.x * quat_38.z;
    float wz_38 = quat_38.x * quat_38.w;
    Matrix<float, 3, 3>  _S4650 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_38 + z2_61), 2.0f * (xy_38 + wz_38), 2.0f * (xz_38 - wy_38), 2.0f * (xy_38 - wz_38), 1.0f - 2.0f * (x2_38 + z2_61), 2.0f * (yz_38 + wx_38), 2.0f * (xz_38 + wy_38), 2.0f * (yz_38 - wx_38), 1.0f - 2.0f * (x2_38 + y2_38))));
    SigmaPoints_0 ret_19;
    (&ret_19)->p_0[int(0)] = mean_37;
    (&ret_19)->w_mean_0[int(0)] = 0.0f;
    (&ret_19)->w_cov_0[int(0)] = 2.0f;
    float _S4651 = (F32_sqrt((3.0f)));
    float3  delta_75 = make_float3 (_S4651 * _S4649.x) * _S4650.rows[0U];
    float3  _S4652 = mean_37 + delta_75;
    float3  _S4653 = mean_37 - delta_75;
    float3  delta_76 = make_float3 (_S4651 * _S4649.y) * _S4650.rows[1U];
    float3  _S4654 = mean_37 + delta_76;
    float3  _S4655 = mean_37 - delta_76;
    float3  delta_77 = make_float3 (_S4651 * _S4649.z) * _S4650.rows[2U];
    float3  _S4656 = mean_37 + delta_77;
    float3  _S4657 = mean_37 - delta_77;
    (&ret_19)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_19)->p_0[0U] = mul_0(R_39, (&ret_19)->p_0[0U]) + t_35;
    (&ret_19)->p_0[1U] = mul_0(R_39, _S4652) + t_35;
    (&ret_19)->p_0[2U] = mul_0(R_39, _S4654) + t_35;
    (&ret_19)->p_0[3U] = mul_0(R_39, _S4656) + t_35;
    (&ret_19)->p_0[4U] = mul_0(R_39, _S4653) + t_35;
    (&ret_19)->p_0[5U] = mul_0(R_39, _S4655) + t_35;
    (&ret_19)->p_0[6U] = mul_0(R_39, _S4657) + t_35;
    SigmaPoints_0 _S4658 = ret_19;
    Matrix<float, 2, 2>  covar2d_25;
    bool _S4659 = fisheye_proj_3dgs_ut_1(&_S4658, intrins_35, dist_coeffs_47, &covar2d_25, mean2d_34);
    float det_orig_39 = *&(((&covar2d_25)->rows + (int(0)))->x) * *&(((&covar2d_25)->rows + (int(1)))->y) - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x);
    float _S4660 = *&(((&covar2d_25)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(0)))->x) = _S4660;
    float _S4661 = *&(((&covar2d_25)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(1)))->y) = _S4661;
    float compensation_26 = (F32_sqrt(((F32_max((0.0f), (det_orig_39 / (_S4660 * _S4661 - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x))))))));
    *opacity_29 = 1.0f / (1.0f + (F32_exp((- in_opacity_32))));
    if(antialiased_32)
    {
        *opacity_29 = *opacity_29 * compensation_26;
    }
    float extend_25 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_29 / 0.00392156885936856f)))))))));
    float radius_x_25 = extend_25 * (F32_sqrt((covar2d_25[int(0)].x)));
    float radius_y_25 = extend_25 * (F32_sqrt((covar2d_25[int(1)].y)));
    *aabb_xyxy_25 = make_int4 (int((F32_floor(((*mean2d_34).x - radius_x_25)))), int((F32_floor(((*mean2d_34).y - radius_y_25)))), int((F32_ceil(((*mean2d_34).x + radius_x_25)))), int((F32_ceil(((*mean2d_34).y + radius_y_25)))));
    float _S4662 = mean_c_34.z;
    *depth_26 = (F32_max((_S4662), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4662 + length_1(mean_c_34)))));
    *conic_25 = exp_0(- scale_37);
    float3  _S4663 = mean_37 - - mul_0(transpose_0(R_39), t_35);
    float3  _S4664 = _S4663 * make_float3 ((F32_rsqrt((dot_1(_S4663, _S4663)))));
    float w_72 = (F32_exp((dot_1((*sv_sites_15)[int(0)], _S4664) - dot_1((*sv_sites_15)[int(1)], _S4664))));
    float w_73 = (F32_exp((0.0f)));
    *rgb_27 = max_0((make_float3 (w_72) * (*sv_colors_15)[int(0)] + make_float3 (w_73) * (*sv_colors_15)[int(1)]) / make_float3 (w_72 + w_73) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0
{
    FixedArray<float3 , 2>  primal_0;
    FixedArray<float3 , 2>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S4665;
};

inline __device__ float s_primal_ctx_min_0(float _S4666, float _S4667)
{
    return (F32_min((_S4666), (_S4667)));
}

inline __device__ float s_primal_ctx_rsqrt_0(float _S4668)
{
    return (F32_rsqrt((_S4668)));
}

inline __device__ float3  s_primal_ctx_max_1(float3  _S4669, float3  _S4670)
{
    return max_0(_S4669, _S4670);
}

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(bool antialiased_33, float3  dpmean_2, float4  dpquat_1, float3  dpscale_1, float dpin_opacity_0, FixedArray<float3 , 2>  * dpsv_sites_0, FixedArray<float3 , 2>  * dpsv_colors_0, Matrix<float, 3, 3>  dpR_2, float3  dpt_1, float fx_45, float fy_45, float cx_40, float cy_40, FixedArray<float, 10>  * dist_coeffs_48, uint image_width_33, uint image_height_33, float near_plane_26, float far_plane_26, int4  * aabb_xyxy_26, float2  * dpmean2d_4, float * dpdepth_1, float3  * dpconic_0, float * dpopacity_2, float3  * dprgb_1, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_14)
{
    Matrix<float, 2, 2>  _S4671 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_14->_S4665 = _S4671;
    float2  _S4672 = make_float2 (0.0f);
    float3  _S4673 = make_float3 (0.0f);
    float3  mean_c_35 = s_primal_ctx_mul_0(dpR_2, dpmean_2) + dpt_1;
    float4  intrins_36 = make_float4 (fx_45, fy_45, cx_40, cy_40);
    float3  _S4674 = s_primal_ctx_exp_0(dpscale_1);
    float _S4675 = dpquat_1.y;
    float x2_39 = _S4675 * _S4675;
    float y2_39 = dpquat_1.z * dpquat_1.z;
    float z2_62 = dpquat_1.w * dpquat_1.w;
    float xy_39 = dpquat_1.y * dpquat_1.z;
    float xz_39 = dpquat_1.y * dpquat_1.w;
    float yz_39 = dpquat_1.z * dpquat_1.w;
    float wx_39 = dpquat_1.x * dpquat_1.y;
    float wy_39 = dpquat_1.x * dpquat_1.z;
    float wz_39 = dpquat_1.x * dpquat_1.w;
    Matrix<float, 3, 3>  _S4676 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_39 + z2_62), 2.0f * (xy_39 + wz_39), 2.0f * (xz_39 - wy_39), 2.0f * (xy_39 - wz_39), 1.0f - 2.0f * (x2_39 + z2_62), 2.0f * (yz_39 + wx_39), 2.0f * (xz_39 + wy_39), 2.0f * (yz_39 - wx_39), 1.0f - 2.0f * (x2_39 + y2_39))));
    FixedArray<float3 , 7>  _S4677 = {
        _S4673, _S4673, _S4673, _S4673, _S4673, _S4673, _S4673
    };
    FixedArray<float, 7>  _S4678 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4679;
    (&_S4679)->p_0 = _S4677;
    (&_S4679)->w_mean_0 = _S4678;
    (&_S4679)->w_cov_0 = _S4678;
    (&_S4679)->p_0[int(0)] = dpmean_2;
    SigmaPoints_0 _S4680 = _S4679;
    (&_S4680)->w_mean_0[int(0)] = 0.0f;
    (&_S4680)->w_cov_0[int(0)] = 2.0f;
    float _S4681 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_78 = make_float3 (_S4681 * _S4674.x) * _S4676.rows[0U];
    float3  _S4682 = dpmean_2 + delta_78;
    float3  _S4683 = dpmean_2 - delta_78;
    float3  delta_79 = make_float3 (_S4681 * _S4674.y) * _S4676.rows[1U];
    float3  _S4684 = dpmean_2 + delta_79;
    float3  _S4685 = dpmean_2 - delta_79;
    float3  delta_80 = make_float3 (_S4681 * _S4674.z) * _S4676.rows[2U];
    float3  _S4686 = dpmean_2 + delta_80;
    float3  _S4687 = dpmean_2 - delta_80;
    (&_S4680)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4680)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4680)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4680)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4680)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4680)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4680)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4680)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4680)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4680)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4680)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4680)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4680)->p_0[0U] = s_primal_ctx_mul_0(dpR_2, _S4679.p_0[0U]) + dpt_1;
    (&_S4680)->p_0[1U] = s_primal_ctx_mul_0(dpR_2, _S4682) + dpt_1;
    (&_S4680)->p_0[2U] = s_primal_ctx_mul_0(dpR_2, _S4684) + dpt_1;
    (&_S4680)->p_0[3U] = s_primal_ctx_mul_0(dpR_2, _S4686) + dpt_1;
    (&_S4680)->p_0[4U] = s_primal_ctx_mul_0(dpR_2, _S4683) + dpt_1;
    (&_S4680)->p_0[5U] = s_primal_ctx_mul_0(dpR_2, _S4685) + dpt_1;
    (&_S4680)->p_0[6U] = s_primal_ctx_mul_0(dpR_2, _S4687) + dpt_1;
    float2  _S4688 = _S4672;
    Matrix<float, 2, 2>  _S4689 = _S4671;
    SigmaPoints_0 _S4690 = _S4680;
    bool _S4691 = persp_proj_3dgs_ut_1(&_S4690, intrins_36, dist_coeffs_48, image_width_33, image_height_33, &_S4689, &_S4688);
    _s_diff_ctx_14->_S4665 = _S4689;
    float2  _S4692 = _S4688;
    float _S4693 = _S4689.rows[int(0)].y * _S4689.rows[int(1)].x;
    float det_orig_40 = _S4689.rows[int(0)].x * _S4689.rows[int(1)].y - _S4693;
    float _S4694 = _S4689.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4695 = _S4689;
    *&(((&_S4695)->rows + (int(0)))->x) = _S4694;
    float _S4696 = _S4689.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4695)->rows + (int(1)))->y) = _S4696;
    Matrix<float, 2, 2>  _S4697 = _S4695;
    Matrix<float, 2, 2>  _S4698 = _S4695;
    float _S4699 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_40 / (_S4694 * _S4696 - _S4693)));
    float _S4700 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_0));
    float _S4701;
    if(antialiased_33)
    {
        _S4701 = _S4700 * _S4699;
    }
    else
    {
        _S4701 = _S4700;
    }
    float _S4702 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4701 / 0.00392156885936856f)));
    float radius_x_26 = _S4702 * s_primal_ctx_sqrt_0(_S4697.rows[int(0)].x);
    float radius_y_26 = _S4702 * s_primal_ctx_sqrt_0(_S4698.rows[int(1)].y);
    float _S4703 = _S4692.x;
    float _S4704 = _S4692.y;
    float _S4705 = mean_c_35.z;
    float _S4706 = s_primal_ctx_max_0(_S4705, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4705 + length_1(mean_c_35)));
    float3  _S4707 = s_primal_ctx_exp_0(- dpscale_1);
    float3  _S4708 = dpmean_2 - - s_primal_ctx_mul_0(transpose_0(dpR_2), dpt_1);
    float3  _S4709 = _S4708 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4708, _S4708)));
    float _S4710 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_0)[int(0)], _S4709) - s_primal_ctx_dot_0((*dpsv_sites_0)[int(1)], _S4709));
    float _S4711 = s_primal_ctx_exp_1(0.0f);
    float3  _S4712 = s_primal_ctx_max_1((make_float3 (_S4710) * (*dpsv_colors_0)[int(0)] + make_float3 (_S4711) * (*dpsv_colors_0)[int(1)]) / make_float3 (_S4710 + _S4711) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_26 = make_int4 (int((F32_floor((_S4703 - radius_x_26)))), int((F32_floor((_S4704 - radius_y_26)))), int((F32_ceil((_S4703 + radius_x_26)))), int((F32_ceil((_S4704 + radius_y_26)))));
    *dpmean2d_4 = _S4692;
    *dpdepth_1 = _S4706;
    *dpconic_0 = _S4707;
    *dpopacity_2 = _S4701;
    *dprgb_1 = _S4712;
    return;
}

inline __device__ void s_bwd_prop_rsqrt_0(DiffPair_float_0 * _S4713, float _S4714)
{
    _d_rsqrt_0(_S4713, _S4714);
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(bool antialiased_34, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_3, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_2, DiffPair_float_0 * dpin_opacity_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_2, float fx_46, float fy_46, float cx_41, float cy_41, FixedArray<float, 10>  * dist_coeffs_49, uint image_width_34, uint image_height_34, float near_plane_27, float far_plane_27, float2  dpmean2d_5, float dpdepth_2, float3  dpconic_1, float dpopacity_3, float3  dprgb_2, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_15)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4715 = *dpmean_3;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4716 = *dpquat_2;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4717 = *dpscale_2;
    FixedArray<float3 , 2>  _S4718 = dpsv_sites_1->primal_0;
    FixedArray<float3 , 2>  _S4719 = dpsv_colors_1->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4720 = *dpR_3;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4721 = *dpt_2;
    float3  _S4722 = make_float3 (0.0f);
    float3  mean_c_36 = s_primal_ctx_mul_0((*dpR_3).primal_0, (*dpmean_3).primal_0) + (*dpt_2).primal_0;
    float3  _S4723 = s_primal_ctx_exp_0((*dpscale_2).primal_0);
    float _S4724 = (*dpquat_2).primal_0.y;
    float x2_40 = _S4724 * _S4724;
    float y2_40 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.z;
    float z2_63 = (*dpquat_2).primal_0.w * (*dpquat_2).primal_0.w;
    float xy_40 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.z;
    float xz_40 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.w;
    float yz_40 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.w;
    float wx_40 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.y;
    float wy_40 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.z;
    float wz_40 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.w;
    Matrix<float, 3, 3>  _S4725 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_40 + z2_63), 2.0f * (xy_40 + wz_40), 2.0f * (xz_40 - wy_40), 2.0f * (xy_40 - wz_40), 1.0f - 2.0f * (x2_40 + z2_63), 2.0f * (yz_40 + wx_40), 2.0f * (xz_40 + wy_40), 2.0f * (yz_40 - wx_40), 1.0f - 2.0f * (x2_40 + y2_40))));
    FixedArray<float3 , 7>  _S4726 = {
        _S4722, _S4722, _S4722, _S4722, _S4722, _S4722, _S4722
    };
    FixedArray<float, 7>  _S4727 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4728;
    (&_S4728)->p_0 = _S4726;
    (&_S4728)->w_mean_0 = _S4727;
    (&_S4728)->w_cov_0 = _S4727;
    (&_S4728)->p_0[int(0)] = (*dpmean_3).primal_0;
    float _S4729 = s_primal_ctx_sqrt_0(3.0f);
    float _S4730 = _S4729 * _S4723.x;
    float3  _S4731 = make_float3 (_S4730);
    float3  delta_81 = make_float3 (_S4730) * _S4725.rows[0U];
    float3  _S4732 = (*dpmean_3).primal_0 + delta_81;
    float3  _S4733 = (*dpmean_3).primal_0 - delta_81;
    float _S4734 = _S4729 * _S4723.y;
    float3  _S4735 = make_float3 (_S4734);
    float3  delta_82 = make_float3 (_S4734) * _S4725.rows[1U];
    float3  _S4736 = (*dpmean_3).primal_0 + delta_82;
    float3  _S4737 = (*dpmean_3).primal_0 - delta_82;
    float _S4738 = _S4729 * _S4723.z;
    float3  _S4739 = make_float3 (_S4738);
    float3  delta_83 = make_float3 (_S4738) * _S4725.rows[2U];
    float3  _S4740 = (*dpmean_3).primal_0 + delta_83;
    float3  _S4741 = (*dpmean_3).primal_0 - delta_83;
    SigmaPoints_0 _S4742 = _S4728;
    float _S4743 = *&(((&_s_diff_ctx_15->_S4665)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_15->_S4665)->rows + (int(1)))->x);
    float det_orig_41 = *&(((&_s_diff_ctx_15->_S4665)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_15->_S4665)->rows + (int(1)))->y) - _S4743;
    float _S4744 = *&(((&_s_diff_ctx_15->_S4665)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4745 = _s_diff_ctx_15->_S4665;
    *&(((&_S4745)->rows + (int(0)))->x) = _S4744;
    float _S4746 = *&(((&_s_diff_ctx_15->_S4665)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4745)->rows + (int(1)))->y) = _S4746;
    Matrix<float, 2, 2>  _S4747 = _S4745;
    Matrix<float, 2, 2>  _S4748 = _S4745;
    float det_blur_33 = _S4744 * _S4746 - _S4743;
    float _S4749 = det_orig_41 / det_blur_33;
    float _S4750 = det_blur_33 * det_blur_33;
    float _S4751 = s_primal_ctx_max_0(0.0f, _S4749);
    float _S4752 = s_primal_ctx_sqrt_0(_S4751);
    float _S4753 = - (*dpin_opacity_1).primal_0;
    float _S4754 = 1.0f + s_primal_ctx_exp_1(_S4753);
    float _S4755 = 1.0f / _S4754;
    float _S4756 = _S4754 * _S4754;
    float _S4757;
    if(antialiased_34)
    {
        _S4757 = _S4755 * _S4752;
    }
    else
    {
        _S4757 = _S4755;
    }
    float _S4758 = _S4757 / 0.00392156885936856f;
    float _S4759 = 2.0f * s_primal_ctx_log_0(_S4758);
    float _S4760 = s_primal_ctx_sqrt_0(_S4759);
    float _S4761 = _S4747.rows[int(0)].x;
    float _S4762 = _S4748.rows[int(1)].y;
    float _S4763 = mean_c_36.z;
    float _S4764 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4765 = _S4764 * (_S4763 + length_1(mean_c_36));
    float3  _S4766 = - _S4717.primal_0;
    Matrix<float, 3, 3>  _S4767 = transpose_0(_S4720.primal_0);
    float3  _S4768 = _S4715.primal_0 - - s_primal_ctx_mul_0(_S4767, _S4721.primal_0);
    float _S4769 = s_primal_ctx_dot_0(_S4768, _S4768);
    float _S4770 = s_primal_ctx_rsqrt_0(_S4769);
    float3  _S4771 = make_float3 (_S4770);
    float3  _S4772 = _S4768 * make_float3 (_S4770);
    float _S4773 = s_primal_ctx_dot_0(_S4718[int(0)], _S4772) - s_primal_ctx_dot_0(_S4718[int(1)], _S4772);
    float _S4774 = s_primal_ctx_exp_1(_S4773);
    float3  _S4775 = make_float3 (_S4774);
    float _S4776 = s_primal_ctx_exp_1(0.0f);
    float3  _S4777 = make_float3 (_S4776);
    float total_w_0 = _S4774 + _S4776;
    float3  _S4778 = make_float3 (total_w_0);
    float3  total_c_0 = make_float3 (_S4774) * _S4719[int(0)] + make_float3 (_S4776) * _S4719[int(1)];
    float3  _S4779 = make_float3 (total_w_0 * total_w_0);
    float3  _S4780 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4781;
    (&_S4781)->primal_0 = total_c_0 / make_float3 (total_w_0) + make_float3 (0.5f);
    (&_S4781)->differential_0 = _S4722;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4782;
    (&_S4782)->primal_0 = _S4780;
    (&_S4782)->differential_0 = _S4722;
    s_bwd_prop_max_0(&_S4781, &_S4782, dprgb_2);
    float3  _S4783 = _S4781.differential_0 / _S4779;
    float3  _S4784 = total_c_0 * - _S4783;
    float3  s_diff_total_c_T_0 = _S4778 * _S4783;
    float3  _S4785 = _S4777 * s_diff_total_c_T_0;
    float3  _S4786 = _S4775 * s_diff_total_c_T_0;
    float3  _S4787 = _S4719[int(0)] * s_diff_total_c_T_0;
    float _S4788 = _S4784.x + _S4784.y + _S4784.z + _S4787.x + _S4787.y + _S4787.z;
    DiffPair_float_0 _S4789;
    (&_S4789)->primal_0 = _S4773;
    (&_S4789)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4789, _S4788);
    float _S4790 = - _S4789.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4791;
    (&_S4791)->primal_0 = _S4718[int(1)];
    (&_S4791)->differential_0 = _S4722;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4792;
    (&_S4792)->primal_0 = _S4772;
    (&_S4792)->differential_0 = _S4722;
    s_bwd_prop_dot_0(&_S4791, &_S4792, _S4790);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4793;
    (&_S4793)->primal_0 = _S4718[int(0)];
    (&_S4793)->differential_0 = _S4722;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4794;
    (&_S4794)->primal_0 = _S4772;
    (&_S4794)->differential_0 = _S4722;
    s_bwd_prop_dot_0(&_S4793, &_S4794, _S4789.differential_0);
    float3  _S4795 = _S4792.differential_0 + _S4794.differential_0;
    float3  _S4796 = _S4768 * _S4795;
    float3  _S4797 = _S4771 * _S4795;
    float _S4798 = _S4796.x + _S4796.y + _S4796.z;
    DiffPair_float_0 _S4799;
    (&_S4799)->primal_0 = _S4769;
    (&_S4799)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4799, _S4798);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4800;
    (&_S4800)->primal_0 = _S4768;
    (&_S4800)->differential_0 = _S4722;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4801;
    (&_S4801)->primal_0 = _S4768;
    (&_S4801)->differential_0 = _S4722;
    s_bwd_prop_dot_0(&_S4800, &_S4801, _S4799.differential_0);
    float3  _S4802 = _S4797 + _S4801.differential_0 + _S4800.differential_0;
    float3  _S4803 = - - _S4802;
    Matrix<float, 3, 3>  _S4804 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4805;
    (&_S4805)->primal_0 = _S4767;
    (&_S4805)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4806;
    (&_S4806)->primal_0 = _S4721.primal_0;
    (&_S4806)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4805, &_S4806, _S4803);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4807 = _S4806;
    Matrix<float, 3, 3>  _S4808 = transpose_0(_S4805.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4809;
    (&_S4809)->primal_0 = _S4766;
    (&_S4809)->differential_0 = _S4722;
    s_bwd_prop_exp_1(&_S4809, dpconic_1);
    float3  _S4810 = - _S4809.differential_0;
    DiffPair_float_0 _S4811;
    (&_S4811)->primal_0 = _S4763;
    (&_S4811)->differential_0 = 0.0f;
    DiffPair_float_0 _S4812;
    (&_S4812)->primal_0 = _S4765;
    (&_S4812)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4811, &_S4812, dpdepth_2);
    float _S4813 = _S4764 * _S4812.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4814;
    (&_S4814)->primal_0 = mean_c_36;
    (&_S4814)->differential_0 = _S4722;
    s_bwd_length_impl_1(&_S4814, _S4813);
    float _S4815 = _S4811.differential_0 + _S4813;
    DiffPair_float_0 _S4816;
    (&_S4816)->primal_0 = _S4762;
    (&_S4816)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4816, 0.0f);
    DiffPair_float_0 _S4817;
    (&_S4817)->primal_0 = _S4761;
    (&_S4817)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4817, 0.0f);
    DiffPair_float_0 _S4818;
    (&_S4818)->primal_0 = 3.32999992370605469f;
    (&_S4818)->differential_0 = 0.0f;
    DiffPair_float_0 _S4819;
    (&_S4819)->primal_0 = _S4760;
    (&_S4819)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4818, &_S4819, 0.0f);
    DiffPair_float_0 _S4820;
    (&_S4820)->primal_0 = _S4759;
    (&_S4820)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4820, _S4819.differential_0);
    float _S4821 = 2.0f * _S4820.differential_0;
    DiffPair_float_0 _S4822;
    (&_S4822)->primal_0 = _S4758;
    (&_S4822)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4822, _S4821);
    float _S4823 = dpopacity_3 + 254.9999847412109375f * _S4822.differential_0;
    FixedArray<float3 , 2>  _S4824;
    _S4824[int(0)] = _S4722;
    _S4824[int(1)] = _S4722;
    _S4824[int(1)] = _S4785;
    _S4824[int(0)] = _S4786;
    FixedArray<float3 , 2>  _S4825 = {
        _S4824[int(0)], _S4824[int(1)]
    };
    FixedArray<float3 , 2>  _S4826;
    _S4826[int(0)] = _S4722;
    _S4826[int(1)] = _S4722;
    _S4826[int(1)] = _S4791.differential_0;
    _S4826[int(0)] = _S4793.differential_0;
    FixedArray<float3 , 2>  _S4827 = {
        _S4826[int(0)], _S4826[int(1)]
    };
    float3  _S4828 = _S4814.differential_0 + make_float3 (0.0f, 0.0f, _S4815);
    float2  _S4829 = make_float2 (0.0f, _S4816.differential_0);
    float2  _S4830 = make_float2 (_S4817.differential_0, 0.0f);
    float _S4831;
    if(antialiased_34)
    {
        float _S4832 = _S4755 * _S4823;
        _S4757 = _S4752 * _S4823;
        _S4831 = _S4832;
    }
    else
    {
        _S4757 = _S4823;
        _S4831 = 0.0f;
    }
    float _S4833 = - (_S4757 / _S4756);
    DiffPair_float_0 _S4834;
    (&_S4834)->primal_0 = _S4753;
    (&_S4834)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4834, _S4833);
    float _S4835 = - _S4834.differential_0;
    DiffPair_float_0 _S4836;
    (&_S4836)->primal_0 = _S4751;
    (&_S4836)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4836, _S4831);
    DiffPair_float_0 _S4837;
    (&_S4837)->primal_0 = 0.0f;
    (&_S4837)->differential_0 = 0.0f;
    DiffPair_float_0 _S4838;
    (&_S4838)->primal_0 = _S4749;
    (&_S4838)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4837, &_S4838, _S4836.differential_0);
    float _S4839 = _S4838.differential_0 / _S4750;
    float s_diff_det_blur_T_4 = det_orig_41 * - _S4839;
    float s_diff_det_orig_T_7 = det_blur_33 * _S4839;
    float _S4840 = - s_diff_det_blur_T_4;
    float _S4841 = _S4744 * s_diff_det_blur_T_4;
    float _S4842 = _S4746 * s_diff_det_blur_T_4;
    Matrix<float, 2, 2>  _S4843 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4844 = _S4843;
    _S4844[int(1)] = _S4829;
    _S4844[int(0)] = _S4830;
    float _S4845 = _S4842 + _S4844.rows[int(0)].x;
    float _S4846 = _S4840 + - s_diff_det_orig_T_7;
    float _S4847 = *&(((&_s_diff_ctx_15->_S4665)->rows + (int(0)))->y) * _S4846;
    float _S4848 = *&(((&_s_diff_ctx_15->_S4665)->rows + (int(1)))->x) * _S4846;
    float _S4849 = *&(((&_s_diff_ctx_15->_S4665)->rows + (int(1)))->y) * s_diff_det_orig_T_7;
    float _S4850 = _S4841 + _S4844.rows[int(1)].y + *&(((&_s_diff_ctx_15->_S4665)->rows + (int(0)))->x) * s_diff_det_orig_T_7;
    float2  _S4851 = make_float2 (0.0f);
    float2  _S4852 = _S4851;
    *&((&_S4852)->x) = _S4847;
    *&((&_S4852)->y) = _S4850;
    float _S4853 = _S4845 + _S4849;
    float2  _S4854 = _S4851;
    *&((&_S4854)->y) = _S4848;
    *&((&_S4854)->x) = _S4853;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4855;
    (&_S4855)->primal_0 = _S4720.primal_0;
    (&_S4855)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4856;
    (&_S4856)->primal_0 = _S4741;
    (&_S4856)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4855, &_S4856, _S4722);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4857;
    (&_S4857)->primal_0 = _S4720.primal_0;
    (&_S4857)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4858;
    (&_S4858)->primal_0 = _S4737;
    (&_S4858)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4857, &_S4858, _S4722);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4859;
    (&_S4859)->primal_0 = _S4720.primal_0;
    (&_S4859)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4860;
    (&_S4860)->primal_0 = _S4733;
    (&_S4860)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4859, &_S4860, _S4722);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4861;
    (&_S4861)->primal_0 = _S4720.primal_0;
    (&_S4861)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4862;
    (&_S4862)->primal_0 = _S4740;
    (&_S4862)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4861, &_S4862, _S4722);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4863;
    (&_S4863)->primal_0 = _S4720.primal_0;
    (&_S4863)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4864;
    (&_S4864)->primal_0 = _S4736;
    (&_S4864)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4863, &_S4864, _S4722);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4865;
    (&_S4865)->primal_0 = _S4720.primal_0;
    (&_S4865)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4866;
    (&_S4866)->primal_0 = _S4732;
    (&_S4866)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4865, &_S4866, _S4722);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4867;
    (&_S4867)->primal_0 = _S4720.primal_0;
    (&_S4867)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4868;
    (&_S4868)->primal_0 = _S4742.p_0[0U];
    (&_S4868)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4867, &_S4868, _S4722);
    float3  _S4869 = - _S4856.differential_0 + _S4862.differential_0;
    float3  _S4870 = _S4739 * _S4869;
    float3  _S4871 = _S4725.rows[2U] * _S4869;
    float _S4872 = _S4729 * (_S4871.x + _S4871.y + _S4871.z);
    float3  _S4873 = - _S4858.differential_0 + _S4864.differential_0;
    float3  _S4874 = _S4735 * _S4873;
    float3  _S4875 = _S4725.rows[1U] * _S4873;
    float _S4876 = _S4729 * (_S4875.x + _S4875.y + _S4875.z);
    float3  _S4877 = - _S4860.differential_0 + _S4866.differential_0;
    float3  _S4878 = _S4731 * _S4877;
    float3  _S4879 = _S4725.rows[0U] * _S4877;
    float _S4880 = _S4729 * (_S4879.x + _S4879.y + _S4879.z);
    Matrix<float, 3, 3>  _S4881 = _S4804;
    _S4881[2U] = _S4870;
    _S4881[1U] = _S4874;
    _S4881[0U] = _S4878;
    Matrix<float, 3, 3>  _S4882 = transpose_0(transpose_0(_S4881));
    float _S4883 = 2.0f * - _S4882.rows[int(2)].z;
    float _S4884 = 2.0f * _S4882.rows[int(2)].y;
    float _S4885 = 2.0f * _S4882.rows[int(2)].x;
    float _S4886 = 2.0f * _S4882.rows[int(1)].z;
    float _S4887 = 2.0f * - _S4882.rows[int(1)].y;
    float _S4888 = 2.0f * _S4882.rows[int(1)].x;
    float _S4889 = 2.0f * _S4882.rows[int(0)].z;
    float _S4890 = 2.0f * _S4882.rows[int(0)].y;
    float _S4891 = 2.0f * - _S4882.rows[int(0)].x;
    float _S4892 = - _S4888 + _S4890;
    float _S4893 = _S4885 + - _S4889;
    float _S4894 = - _S4884 + _S4886;
    float _S4895 = _S4884 + _S4886;
    float _S4896 = _S4885 + _S4889;
    float _S4897 = _S4888 + _S4890;
    float _S4898 = _S4716.primal_0.w * (_S4887 + _S4891);
    float _S4899 = _S4716.primal_0.z * (_S4883 + _S4891);
    float _S4900 = _S4716.primal_0.y * (_S4883 + _S4887);
    float _S4901 = _S4716.primal_0.x * _S4892 + _S4716.primal_0.z * _S4895 + _S4716.primal_0.y * _S4896 + _S4898 + _S4898;
    float _S4902 = _S4716.primal_0.x * _S4893 + _S4716.primal_0.w * _S4895 + _S4716.primal_0.y * _S4897 + _S4899 + _S4899;
    float _S4903 = _S4716.primal_0.x * _S4894 + _S4716.primal_0.w * _S4896 + _S4716.primal_0.z * _S4897 + _S4900 + _S4900;
    float _S4904 = _S4716.primal_0.w * _S4892 + _S4716.primal_0.z * _S4893 + _S4716.primal_0.y * _S4894;
    float3  _S4905 = _S4722;
    *&((&_S4905)->z) = _S4872;
    *&((&_S4905)->y) = _S4876;
    *&((&_S4905)->x) = _S4880;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4906;
    (&_S4906)->primal_0 = _S4717.primal_0;
    (&_S4906)->differential_0 = _S4722;
    s_bwd_prop_exp_1(&_S4906, _S4905);
    Matrix<float, 2, 2>  _S4907 = _S4843;
    _S4907[int(1)] = _S4852;
    _S4907[int(0)] = _S4854;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4908;
    (&_S4908)->primal_0 = _S4720.primal_0;
    (&_S4908)->differential_0 = _S4804;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4909;
    (&_S4909)->primal_0 = _S4715.primal_0;
    (&_S4909)->differential_0 = _S4722;
    s_bwd_prop_mul_1(&_S4908, &_S4909, _S4828);
    float3  _S4910 = _S4828 + _S4807.differential_0;
    dpt_2->primal_0 = (*dpt_2).primal_0;
    dpt_2->differential_0 = _S4910;
    Matrix<float, 3, 3>  _S4911 = _S4855.differential_0 + _S4857.differential_0 + _S4859.differential_0 + _S4861.differential_0 + _S4863.differential_0 + _S4865.differential_0 + _S4867.differential_0 + _S4908.differential_0 + _S4808;
    dpR_3->primal_0 = (*dpR_3).primal_0;
    dpR_3->differential_0 = _S4911;
    dpsv_colors_1->primal_0 = dpsv_colors_1->primal_0;
    dpsv_colors_1->differential_0 = _S4825;
    dpsv_sites_1->primal_0 = dpsv_sites_1->primal_0;
    dpsv_sites_1->differential_0 = _S4827;
    dpin_opacity_1->primal_0 = (*dpin_opacity_1).primal_0;
    dpin_opacity_1->differential_0 = _S4835;
    float3  _S4912 = _S4906.differential_0 + _S4810;
    dpscale_2->primal_0 = (*dpscale_2).primal_0;
    dpscale_2->differential_0 = _S4912;
    float4  _S4913 = make_float4 (0.0f);
    *&((&_S4913)->w) = _S4901;
    *&((&_S4913)->z) = _S4902;
    *&((&_S4913)->y) = _S4903;
    *&((&_S4913)->x) = _S4904;
    dpquat_2->primal_0 = (*dpquat_2).primal_0;
    dpquat_2->differential_0 = _S4913;
    float3  _S4914 = _S4856.differential_0 + _S4862.differential_0 + _S4858.differential_0 + _S4864.differential_0 + _S4860.differential_0 + _S4866.differential_0 + _S4909.differential_0 + _S4802;
    dpmean_3->primal_0 = (*dpmean_3).primal_0;
    dpmean_3->differential_0 = _S4914;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_0(bool _S4915, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4916, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4917, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4918, DiffPair_float_0 * _S4919, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S4920, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S4921, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4922, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4923, float _S4924, float _S4925, float _S4926, float _S4927, FixedArray<float, 10>  * _S4928, uint _S4929, uint _S4930, float _S4931, float _S4932, float2  _S4933, float _S4934, float3  _S4935, float _S4936, float3  _S4937)
{
    FixedArray<float3 , 2>  _S4938 = _S4920->primal_0;
    FixedArray<float3 , 2>  _S4939 = _S4921->primal_0;
    int4  _S4940;
    float2  _S4941;
    float _S4942;
    float3  _S4943;
    float _S4944;
    float3  _S4945;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S4946;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(_S4915, (*_S4916).primal_0, (*_S4917).primal_0, (*_S4918).primal_0, (*_S4919).primal_0, &_S4938, &_S4939, (*_S4922).primal_0, (*_S4923).primal_0, _S4924, _S4925, _S4926, _S4927, _S4928, _S4929, _S4930, _S4931, _S4932, &_S4940, &_S4941, &_S4942, &_S4943, &_S4944, &_S4945, &_S4946);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S4947 = _S4946;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(_S4915, _S4916, _S4917, _S4918, _S4919, _S4920, _S4921, _S4922, _S4923, _S4924, _S4925, _S4926, _S4927, _S4928, _S4929, _S4930, _S4931, _S4932, _S4933, _S4934, _S4935, _S4936, _S4937, &_S4947);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_35, float3  mean_38, float4  quat_39, float3  scale_38, float in_opacity_33, FixedArray<float3 , 2>  * sv_sites_16, FixedArray<float3 , 2>  * sv_colors_16, Matrix<float, 3, 3>  R_40, float3  t_36, float fx_47, float fy_47, float cx_42, float cy_42, FixedArray<float, 10>  * dist_coeffs_50, uint image_width_35, uint image_height_35, float2  v_mean2d_7, float v_depth_8, float3  v_conic_7, float v_opacity_9, float3  v_rgb_8, float3  * v_mean_9, float4  * v_quat_8, float3  * v_scale_8, float * v_in_opacity_7, FixedArray<float3 , 2>  * v_sv_dirs_0, FixedArray<float3 , 2>  * v_sv_colors_0, Matrix<float, 3, 3>  * v_R_9, float3  * v_t_8)
{
    float3  _S4948 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_2;
    (&dp_mean_2)->primal_0 = mean_38;
    (&dp_mean_2)->differential_0 = _S4948;
    float4  _S4949 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_1;
    (&dp_quat_1)->primal_0 = quat_39;
    (&dp_quat_1)->differential_0 = _S4949;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_1;
    (&dp_scale_1)->primal_0 = scale_38;
    (&dp_scale_1)->differential_0 = _S4948;
    DiffPair_float_0 dp_in_opacity_0;
    (&dp_in_opacity_0)->primal_0 = in_opacity_33;
    (&dp_in_opacity_0)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S4950 = { _S4948, _S4948 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_0;
    (&dp_sv_dirs_0)->primal_0 = *sv_sites_16;
    (&dp_sv_dirs_0)->differential_0 = _S4950;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_0;
    (&dp_sv_colors_0)->primal_0 = *sv_colors_16;
    (&dp_sv_colors_0)->differential_0 = _S4950;
    Matrix<float, 3, 3>  _S4951 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_2;
    (&dp_R_2)->primal_0 = R_40;
    (&dp_R_2)->differential_0 = _S4951;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_1;
    (&dp_t_1)->primal_0 = t_36;
    (&dp_t_1)->differential_0 = _S4948;
    s_bwd_projection_3dgut_sv_persp_differentiable_0(antialiased_35, &dp_mean_2, &dp_quat_1, &dp_scale_1, &dp_in_opacity_0, &dp_sv_dirs_0, &dp_sv_colors_0, &dp_R_2, &dp_t_1, fx_47, fy_47, cx_42, cy_42, dist_coeffs_50, image_width_35, image_height_35, 0.0f, 1.00000001504746622e+30f, v_mean2d_7, v_depth_8, v_conic_7, v_opacity_9, v_rgb_8);
    *v_mean_9 = dp_mean_2.differential_0;
    *v_quat_8 = dp_quat_1.differential_0;
    *v_scale_8 = dp_scale_1.differential_0;
    *v_in_opacity_7 = dp_in_opacity_0.differential_0;
    *v_sv_dirs_0 = (&dp_sv_dirs_0)->differential_0;
    *v_sv_colors_0 = (&dp_sv_colors_0)->differential_0;
    *v_R_9 = dp_R_2.differential_0;
    *v_t_8 = dp_t_1.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S4952;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_36, float3  dpmean_4, float4  dpquat_3, float3  dpscale_3, float dpin_opacity_2, FixedArray<float3 , 2>  * dpsv_sites_2, FixedArray<float3 , 2>  * dpsv_colors_2, Matrix<float, 3, 3>  dpR_4, float3  dpt_3, float fx_48, float fy_48, float cx_43, float cy_43, FixedArray<float, 10>  * dist_coeffs_51, uint image_width_36, uint image_height_36, float near_plane_28, float far_plane_28, int4  * aabb_xyxy_27, float2  * dpmean2d_6, float * dpdepth_3, float3  * dpconic_2, float * dpopacity_4, float3  * dprgb_3, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_16)
{
    Matrix<float, 2, 2>  _S4953 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_16->_S4952 = _S4953;
    float2  _S4954 = make_float2 (0.0f);
    float3  _S4955 = make_float3 (0.0f);
    float3  mean_c_37 = s_primal_ctx_mul_0(dpR_4, dpmean_4) + dpt_3;
    float _S4956 = length_1(mean_c_37);
    float4  intrins_37 = make_float4 (fx_48, fy_48, cx_43, cy_43);
    float3  _S4957 = s_primal_ctx_exp_0(dpscale_3);
    float _S4958 = dpquat_3.y;
    float x2_41 = _S4958 * _S4958;
    float y2_41 = dpquat_3.z * dpquat_3.z;
    float z2_64 = dpquat_3.w * dpquat_3.w;
    float xy_41 = dpquat_3.y * dpquat_3.z;
    float xz_41 = dpquat_3.y * dpquat_3.w;
    float yz_41 = dpquat_3.z * dpquat_3.w;
    float wx_41 = dpquat_3.x * dpquat_3.y;
    float wy_41 = dpquat_3.x * dpquat_3.z;
    float wz_41 = dpquat_3.x * dpquat_3.w;
    Matrix<float, 3, 3>  _S4959 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_41 + z2_64), 2.0f * (xy_41 + wz_41), 2.0f * (xz_41 - wy_41), 2.0f * (xy_41 - wz_41), 1.0f - 2.0f * (x2_41 + z2_64), 2.0f * (yz_41 + wx_41), 2.0f * (xz_41 + wy_41), 2.0f * (yz_41 - wx_41), 1.0f - 2.0f * (x2_41 + y2_41))));
    FixedArray<float3 , 7>  _S4960 = {
        _S4955, _S4955, _S4955, _S4955, _S4955, _S4955, _S4955
    };
    FixedArray<float, 7>  _S4961 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4962;
    (&_S4962)->p_0 = _S4960;
    (&_S4962)->w_mean_0 = _S4961;
    (&_S4962)->w_cov_0 = _S4961;
    (&_S4962)->p_0[int(0)] = dpmean_4;
    SigmaPoints_0 _S4963 = _S4962;
    (&_S4963)->w_mean_0[int(0)] = 0.0f;
    (&_S4963)->w_cov_0[int(0)] = 2.0f;
    float _S4964 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_84 = make_float3 (_S4964 * _S4957.x) * _S4959.rows[0U];
    float3  _S4965 = dpmean_4 + delta_84;
    float3  _S4966 = dpmean_4 - delta_84;
    float3  delta_85 = make_float3 (_S4964 * _S4957.y) * _S4959.rows[1U];
    float3  _S4967 = dpmean_4 + delta_85;
    float3  _S4968 = dpmean_4 - delta_85;
    float3  delta_86 = make_float3 (_S4964 * _S4957.z) * _S4959.rows[2U];
    float3  _S4969 = dpmean_4 + delta_86;
    float3  _S4970 = dpmean_4 - delta_86;
    (&_S4963)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4963)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4963)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4963)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4963)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4963)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4963)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4963)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4963)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4963)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4963)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4963)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4963)->p_0[0U] = s_primal_ctx_mul_0(dpR_4, _S4962.p_0[0U]) + dpt_3;
    (&_S4963)->p_0[1U] = s_primal_ctx_mul_0(dpR_4, _S4965) + dpt_3;
    (&_S4963)->p_0[2U] = s_primal_ctx_mul_0(dpR_4, _S4967) + dpt_3;
    (&_S4963)->p_0[3U] = s_primal_ctx_mul_0(dpR_4, _S4969) + dpt_3;
    (&_S4963)->p_0[4U] = s_primal_ctx_mul_0(dpR_4, _S4966) + dpt_3;
    (&_S4963)->p_0[5U] = s_primal_ctx_mul_0(dpR_4, _S4968) + dpt_3;
    (&_S4963)->p_0[6U] = s_primal_ctx_mul_0(dpR_4, _S4970) + dpt_3;
    float2  _S4971 = _S4954;
    Matrix<float, 2, 2>  _S4972 = _S4953;
    SigmaPoints_0 _S4973 = _S4963;
    bool _S4974 = fisheye_proj_3dgs_ut_1(&_S4973, intrins_37, dist_coeffs_51, &_S4972, &_S4971);
    _s_diff_ctx_16->_S4952 = _S4972;
    float2  _S4975 = _S4971;
    float _S4976 = _S4972.rows[int(0)].y * _S4972.rows[int(1)].x;
    float det_orig_42 = _S4972.rows[int(0)].x * _S4972.rows[int(1)].y - _S4976;
    float _S4977 = _S4972.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4978 = _S4972;
    *&(((&_S4978)->rows + (int(0)))->x) = _S4977;
    float _S4979 = _S4972.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4978)->rows + (int(1)))->y) = _S4979;
    Matrix<float, 2, 2>  _S4980 = _S4978;
    Matrix<float, 2, 2>  _S4981 = _S4978;
    float _S4982 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_42 / (_S4977 * _S4979 - _S4976)));
    float _S4983 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_2));
    float _S4984;
    if(antialiased_36)
    {
        _S4984 = _S4983 * _S4982;
    }
    else
    {
        _S4984 = _S4983;
    }
    float _S4985 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4984 / 0.00392156885936856f)));
    float radius_x_27 = _S4985 * s_primal_ctx_sqrt_0(_S4980.rows[int(0)].x);
    float radius_y_27 = _S4985 * s_primal_ctx_sqrt_0(_S4981.rows[int(1)].y);
    float _S4986 = _S4975.x;
    float _S4987 = _S4975.y;
    float _S4988 = mean_c_37.z;
    float _S4989 = s_primal_ctx_max_0(_S4988, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4988 + _S4956));
    float3  _S4990 = s_primal_ctx_exp_0(- dpscale_3);
    float3  _S4991 = dpmean_4 - - s_primal_ctx_mul_0(transpose_0(dpR_4), dpt_3);
    float3  _S4992 = _S4991 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4991, _S4991)));
    float _S4993 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_2)[int(0)], _S4992) - s_primal_ctx_dot_0((*dpsv_sites_2)[int(1)], _S4992));
    float _S4994 = s_primal_ctx_exp_1(0.0f);
    float3  _S4995 = s_primal_ctx_max_1((make_float3 (_S4993) * (*dpsv_colors_2)[int(0)] + make_float3 (_S4994) * (*dpsv_colors_2)[int(1)]) / make_float3 (_S4993 + _S4994) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_27 = make_int4 (int((F32_floor((_S4986 - radius_x_27)))), int((F32_floor((_S4987 - radius_y_27)))), int((F32_ceil((_S4986 + radius_x_27)))), int((F32_ceil((_S4987 + radius_y_27)))));
    *dpmean2d_6 = _S4975;
    *dpdepth_3 = _S4989;
    *dpconic_2 = _S4990;
    *dpopacity_4 = _S4984;
    *dprgb_3 = _S4995;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_37, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_5, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_4, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_4, DiffPair_float_0 * dpin_opacity_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_4, float fx_49, float fy_49, float cx_44, float cy_44, FixedArray<float, 10>  * dist_coeffs_52, uint image_width_37, uint image_height_37, float near_plane_29, float far_plane_29, float2  dpmean2d_7, float dpdepth_4, float3  dpconic_3, float dpopacity_5, float3  dprgb_4, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_17)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4996 = *dpmean_5;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4997 = *dpquat_4;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4998 = *dpscale_4;
    FixedArray<float3 , 2>  _S4999 = dpsv_sites_3->primal_0;
    FixedArray<float3 , 2>  _S5000 = dpsv_colors_3->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5001 = *dpR_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5002 = *dpt_4;
    float3  _S5003 = make_float3 (0.0f);
    float3  mean_c_38 = s_primal_ctx_mul_0((*dpR_5).primal_0, (*dpmean_5).primal_0) + (*dpt_4).primal_0;
    float _S5004 = length_1(mean_c_38);
    float3  _S5005 = s_primal_ctx_exp_0((*dpscale_4).primal_0);
    float _S5006 = (*dpquat_4).primal_0.y;
    float x2_42 = _S5006 * _S5006;
    float y2_42 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.z;
    float z2_65 = (*dpquat_4).primal_0.w * (*dpquat_4).primal_0.w;
    float xy_42 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.z;
    float xz_42 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.w;
    float yz_42 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.w;
    float wx_42 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.y;
    float wy_42 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.z;
    float wz_42 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.w;
    Matrix<float, 3, 3>  _S5007 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_42 + z2_65), 2.0f * (xy_42 + wz_42), 2.0f * (xz_42 - wy_42), 2.0f * (xy_42 - wz_42), 1.0f - 2.0f * (x2_42 + z2_65), 2.0f * (yz_42 + wx_42), 2.0f * (xz_42 + wy_42), 2.0f * (yz_42 - wx_42), 1.0f - 2.0f * (x2_42 + y2_42))));
    FixedArray<float3 , 7>  _S5008 = {
        _S5003, _S5003, _S5003, _S5003, _S5003, _S5003, _S5003
    };
    FixedArray<float, 7>  _S5009 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5010;
    (&_S5010)->p_0 = _S5008;
    (&_S5010)->w_mean_0 = _S5009;
    (&_S5010)->w_cov_0 = _S5009;
    (&_S5010)->p_0[int(0)] = (*dpmean_5).primal_0;
    float _S5011 = s_primal_ctx_sqrt_0(3.0f);
    float _S5012 = _S5011 * _S5005.x;
    float3  _S5013 = make_float3 (_S5012);
    float3  delta_87 = make_float3 (_S5012) * _S5007.rows[0U];
    float3  _S5014 = (*dpmean_5).primal_0 + delta_87;
    float3  _S5015 = (*dpmean_5).primal_0 - delta_87;
    float _S5016 = _S5011 * _S5005.y;
    float3  _S5017 = make_float3 (_S5016);
    float3  delta_88 = make_float3 (_S5016) * _S5007.rows[1U];
    float3  _S5018 = (*dpmean_5).primal_0 + delta_88;
    float3  _S5019 = (*dpmean_5).primal_0 - delta_88;
    float _S5020 = _S5011 * _S5005.z;
    float3  _S5021 = make_float3 (_S5020);
    float3  delta_89 = make_float3 (_S5020) * _S5007.rows[2U];
    float3  _S5022 = (*dpmean_5).primal_0 + delta_89;
    float3  _S5023 = (*dpmean_5).primal_0 - delta_89;
    SigmaPoints_0 _S5024 = _S5010;
    float _S5025 = *&(((&_s_diff_ctx_17->_S4952)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_17->_S4952)->rows + (int(1)))->x);
    float det_orig_43 = *&(((&_s_diff_ctx_17->_S4952)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_17->_S4952)->rows + (int(1)))->y) - _S5025;
    float _S5026 = *&(((&_s_diff_ctx_17->_S4952)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5027 = _s_diff_ctx_17->_S4952;
    *&(((&_S5027)->rows + (int(0)))->x) = _S5026;
    float _S5028 = *&(((&_s_diff_ctx_17->_S4952)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5027)->rows + (int(1)))->y) = _S5028;
    Matrix<float, 2, 2>  _S5029 = _S5027;
    Matrix<float, 2, 2>  _S5030 = _S5027;
    float det_blur_34 = _S5026 * _S5028 - _S5025;
    float _S5031 = det_orig_43 / det_blur_34;
    float _S5032 = det_blur_34 * det_blur_34;
    float _S5033 = s_primal_ctx_max_0(0.0f, _S5031);
    float _S5034 = s_primal_ctx_sqrt_0(_S5033);
    float _S5035 = - (*dpin_opacity_3).primal_0;
    float _S5036 = 1.0f + s_primal_ctx_exp_1(_S5035);
    float _S5037 = 1.0f / _S5036;
    float _S5038 = _S5036 * _S5036;
    float _S5039;
    if(antialiased_37)
    {
        _S5039 = _S5037 * _S5034;
    }
    else
    {
        _S5039 = _S5037;
    }
    float _S5040 = _S5039 / 0.00392156885936856f;
    float _S5041 = 2.0f * s_primal_ctx_log_0(_S5040);
    float _S5042 = s_primal_ctx_sqrt_0(_S5041);
    float _S5043 = _S5029.rows[int(0)].x;
    float _S5044 = _S5030.rows[int(1)].y;
    float _S5045 = mean_c_38.z;
    float _S5046 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5047 = _S5046 * (_S5045 + _S5004);
    float3  _S5048 = - _S4998.primal_0;
    Matrix<float, 3, 3>  _S5049 = transpose_0(_S5001.primal_0);
    float3  _S5050 = _S4996.primal_0 - - s_primal_ctx_mul_0(_S5049, _S5002.primal_0);
    float _S5051 = s_primal_ctx_dot_0(_S5050, _S5050);
    float _S5052 = s_primal_ctx_rsqrt_0(_S5051);
    float3  _S5053 = make_float3 (_S5052);
    float3  _S5054 = _S5050 * make_float3 (_S5052);
    float _S5055 = s_primal_ctx_dot_0(_S4999[int(0)], _S5054) - s_primal_ctx_dot_0(_S4999[int(1)], _S5054);
    float _S5056 = s_primal_ctx_exp_1(_S5055);
    float3  _S5057 = make_float3 (_S5056);
    float _S5058 = s_primal_ctx_exp_1(0.0f);
    float3  _S5059 = make_float3 (_S5058);
    float total_w_1 = _S5056 + _S5058;
    float3  _S5060 = make_float3 (total_w_1);
    float3  total_c_1 = make_float3 (_S5056) * _S5000[int(0)] + make_float3 (_S5058) * _S5000[int(1)];
    float3  _S5061 = make_float3 (total_w_1 * total_w_1);
    float3  _S5062 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5063;
    (&_S5063)->primal_0 = total_c_1 / make_float3 (total_w_1) + make_float3 (0.5f);
    (&_S5063)->differential_0 = _S5003;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5064;
    (&_S5064)->primal_0 = _S5062;
    (&_S5064)->differential_0 = _S5003;
    s_bwd_prop_max_0(&_S5063, &_S5064, dprgb_4);
    float3  _S5065 = _S5063.differential_0 / _S5061;
    float3  _S5066 = total_c_1 * - _S5065;
    float3  s_diff_total_c_T_1 = _S5060 * _S5065;
    float3  _S5067 = _S5059 * s_diff_total_c_T_1;
    float3  _S5068 = _S5057 * s_diff_total_c_T_1;
    float3  _S5069 = _S5000[int(0)] * s_diff_total_c_T_1;
    float _S5070 = _S5066.x + _S5066.y + _S5066.z + _S5069.x + _S5069.y + _S5069.z;
    DiffPair_float_0 _S5071;
    (&_S5071)->primal_0 = _S5055;
    (&_S5071)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5071, _S5070);
    float _S5072 = - _S5071.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5073;
    (&_S5073)->primal_0 = _S4999[int(1)];
    (&_S5073)->differential_0 = _S5003;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5074;
    (&_S5074)->primal_0 = _S5054;
    (&_S5074)->differential_0 = _S5003;
    s_bwd_prop_dot_0(&_S5073, &_S5074, _S5072);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5075;
    (&_S5075)->primal_0 = _S4999[int(0)];
    (&_S5075)->differential_0 = _S5003;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5076;
    (&_S5076)->primal_0 = _S5054;
    (&_S5076)->differential_0 = _S5003;
    s_bwd_prop_dot_0(&_S5075, &_S5076, _S5071.differential_0);
    float3  _S5077 = _S5074.differential_0 + _S5076.differential_0;
    float3  _S5078 = _S5050 * _S5077;
    float3  _S5079 = _S5053 * _S5077;
    float _S5080 = _S5078.x + _S5078.y + _S5078.z;
    DiffPair_float_0 _S5081;
    (&_S5081)->primal_0 = _S5051;
    (&_S5081)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5081, _S5080);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5082;
    (&_S5082)->primal_0 = _S5050;
    (&_S5082)->differential_0 = _S5003;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5083;
    (&_S5083)->primal_0 = _S5050;
    (&_S5083)->differential_0 = _S5003;
    s_bwd_prop_dot_0(&_S5082, &_S5083, _S5081.differential_0);
    float3  _S5084 = _S5079 + _S5083.differential_0 + _S5082.differential_0;
    float3  _S5085 = - - _S5084;
    Matrix<float, 3, 3>  _S5086 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5087;
    (&_S5087)->primal_0 = _S5049;
    (&_S5087)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5088;
    (&_S5088)->primal_0 = _S5002.primal_0;
    (&_S5088)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5087, &_S5088, _S5085);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5089 = _S5088;
    Matrix<float, 3, 3>  _S5090 = transpose_0(_S5087.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5091;
    (&_S5091)->primal_0 = _S5048;
    (&_S5091)->differential_0 = _S5003;
    s_bwd_prop_exp_1(&_S5091, dpconic_3);
    float3  _S5092 = - _S5091.differential_0;
    DiffPair_float_0 _S5093;
    (&_S5093)->primal_0 = _S5045;
    (&_S5093)->differential_0 = 0.0f;
    DiffPair_float_0 _S5094;
    (&_S5094)->primal_0 = _S5047;
    (&_S5094)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5093, &_S5094, dpdepth_4);
    float _S5095 = _S5046 * _S5094.differential_0;
    float _S5096 = _S5093.differential_0 + _S5095;
    DiffPair_float_0 _S5097;
    (&_S5097)->primal_0 = _S5044;
    (&_S5097)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5097, 0.0f);
    DiffPair_float_0 _S5098;
    (&_S5098)->primal_0 = _S5043;
    (&_S5098)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5098, 0.0f);
    DiffPair_float_0 _S5099;
    (&_S5099)->primal_0 = 3.32999992370605469f;
    (&_S5099)->differential_0 = 0.0f;
    DiffPair_float_0 _S5100;
    (&_S5100)->primal_0 = _S5042;
    (&_S5100)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5099, &_S5100, 0.0f);
    DiffPair_float_0 _S5101;
    (&_S5101)->primal_0 = _S5041;
    (&_S5101)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5101, _S5100.differential_0);
    float _S5102 = 2.0f * _S5101.differential_0;
    DiffPair_float_0 _S5103;
    (&_S5103)->primal_0 = _S5040;
    (&_S5103)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5103, _S5102);
    float _S5104 = dpopacity_5 + 254.9999847412109375f * _S5103.differential_0;
    FixedArray<float3 , 2>  _S5105;
    _S5105[int(0)] = _S5003;
    _S5105[int(1)] = _S5003;
    _S5105[int(1)] = _S5067;
    _S5105[int(0)] = _S5068;
    FixedArray<float3 , 2>  _S5106 = {
        _S5105[int(0)], _S5105[int(1)]
    };
    FixedArray<float3 , 2>  _S5107;
    _S5107[int(0)] = _S5003;
    _S5107[int(1)] = _S5003;
    _S5107[int(1)] = _S5073.differential_0;
    _S5107[int(0)] = _S5075.differential_0;
    FixedArray<float3 , 2>  _S5108 = {
        _S5107[int(0)], _S5107[int(1)]
    };
    float3  _S5109 = make_float3 (0.0f, 0.0f, _S5096);
    float2  _S5110 = make_float2 (0.0f, _S5097.differential_0);
    float2  _S5111 = make_float2 (_S5098.differential_0, 0.0f);
    float _S5112;
    if(antialiased_37)
    {
        float _S5113 = _S5037 * _S5104;
        _S5039 = _S5034 * _S5104;
        _S5112 = _S5113;
    }
    else
    {
        _S5039 = _S5104;
        _S5112 = 0.0f;
    }
    float _S5114 = - (_S5039 / _S5038);
    DiffPair_float_0 _S5115;
    (&_S5115)->primal_0 = _S5035;
    (&_S5115)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5115, _S5114);
    float _S5116 = - _S5115.differential_0;
    DiffPair_float_0 _S5117;
    (&_S5117)->primal_0 = _S5033;
    (&_S5117)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5117, _S5112);
    DiffPair_float_0 _S5118;
    (&_S5118)->primal_0 = 0.0f;
    (&_S5118)->differential_0 = 0.0f;
    DiffPair_float_0 _S5119;
    (&_S5119)->primal_0 = _S5031;
    (&_S5119)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5118, &_S5119, _S5117.differential_0);
    float _S5120 = _S5119.differential_0 / _S5032;
    float s_diff_det_blur_T_5 = det_orig_43 * - _S5120;
    float s_diff_det_orig_T_8 = det_blur_34 * _S5120;
    float _S5121 = - s_diff_det_blur_T_5;
    float _S5122 = _S5026 * s_diff_det_blur_T_5;
    float _S5123 = _S5028 * s_diff_det_blur_T_5;
    Matrix<float, 2, 2>  _S5124 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5125 = _S5124;
    _S5125[int(1)] = _S5110;
    _S5125[int(0)] = _S5111;
    float _S5126 = _S5123 + _S5125.rows[int(0)].x;
    float _S5127 = _S5121 + - s_diff_det_orig_T_8;
    float _S5128 = *&(((&_s_diff_ctx_17->_S4952)->rows + (int(0)))->y) * _S5127;
    float _S5129 = *&(((&_s_diff_ctx_17->_S4952)->rows + (int(1)))->x) * _S5127;
    float _S5130 = *&(((&_s_diff_ctx_17->_S4952)->rows + (int(1)))->y) * s_diff_det_orig_T_8;
    float _S5131 = _S5122 + _S5125.rows[int(1)].y + *&(((&_s_diff_ctx_17->_S4952)->rows + (int(0)))->x) * s_diff_det_orig_T_8;
    float2  _S5132 = make_float2 (0.0f);
    float2  _S5133 = _S5132;
    *&((&_S5133)->x) = _S5128;
    *&((&_S5133)->y) = _S5131;
    float _S5134 = _S5126 + _S5130;
    float2  _S5135 = _S5132;
    *&((&_S5135)->y) = _S5129;
    *&((&_S5135)->x) = _S5134;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5136;
    (&_S5136)->primal_0 = _S5001.primal_0;
    (&_S5136)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5137;
    (&_S5137)->primal_0 = _S5023;
    (&_S5137)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5136, &_S5137, _S5003);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5138;
    (&_S5138)->primal_0 = _S5001.primal_0;
    (&_S5138)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5139;
    (&_S5139)->primal_0 = _S5019;
    (&_S5139)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5138, &_S5139, _S5003);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5140;
    (&_S5140)->primal_0 = _S5001.primal_0;
    (&_S5140)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5141;
    (&_S5141)->primal_0 = _S5015;
    (&_S5141)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5140, &_S5141, _S5003);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5142;
    (&_S5142)->primal_0 = _S5001.primal_0;
    (&_S5142)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5143;
    (&_S5143)->primal_0 = _S5022;
    (&_S5143)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5142, &_S5143, _S5003);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5144;
    (&_S5144)->primal_0 = _S5001.primal_0;
    (&_S5144)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5145;
    (&_S5145)->primal_0 = _S5018;
    (&_S5145)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5144, &_S5145, _S5003);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5146;
    (&_S5146)->primal_0 = _S5001.primal_0;
    (&_S5146)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5147;
    (&_S5147)->primal_0 = _S5014;
    (&_S5147)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5146, &_S5147, _S5003);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5148;
    (&_S5148)->primal_0 = _S5001.primal_0;
    (&_S5148)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5149;
    (&_S5149)->primal_0 = _S5024.p_0[0U];
    (&_S5149)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5148, &_S5149, _S5003);
    float3  _S5150 = - _S5137.differential_0 + _S5143.differential_0;
    float3  _S5151 = _S5021 * _S5150;
    float3  _S5152 = _S5007.rows[2U] * _S5150;
    float _S5153 = _S5011 * (_S5152.x + _S5152.y + _S5152.z);
    float3  _S5154 = - _S5139.differential_0 + _S5145.differential_0;
    float3  _S5155 = _S5017 * _S5154;
    float3  _S5156 = _S5007.rows[1U] * _S5154;
    float _S5157 = _S5011 * (_S5156.x + _S5156.y + _S5156.z);
    float3  _S5158 = - _S5141.differential_0 + _S5147.differential_0;
    float3  _S5159 = _S5013 * _S5158;
    float3  _S5160 = _S5007.rows[0U] * _S5158;
    float _S5161 = _S5011 * (_S5160.x + _S5160.y + _S5160.z);
    Matrix<float, 3, 3>  _S5162 = _S5086;
    _S5162[2U] = _S5151;
    _S5162[1U] = _S5155;
    _S5162[0U] = _S5159;
    Matrix<float, 3, 3>  _S5163 = transpose_0(transpose_0(_S5162));
    float _S5164 = 2.0f * - _S5163.rows[int(2)].z;
    float _S5165 = 2.0f * _S5163.rows[int(2)].y;
    float _S5166 = 2.0f * _S5163.rows[int(2)].x;
    float _S5167 = 2.0f * _S5163.rows[int(1)].z;
    float _S5168 = 2.0f * - _S5163.rows[int(1)].y;
    float _S5169 = 2.0f * _S5163.rows[int(1)].x;
    float _S5170 = 2.0f * _S5163.rows[int(0)].z;
    float _S5171 = 2.0f * _S5163.rows[int(0)].y;
    float _S5172 = 2.0f * - _S5163.rows[int(0)].x;
    float _S5173 = - _S5169 + _S5171;
    float _S5174 = _S5166 + - _S5170;
    float _S5175 = - _S5165 + _S5167;
    float _S5176 = _S5165 + _S5167;
    float _S5177 = _S5166 + _S5170;
    float _S5178 = _S5169 + _S5171;
    float _S5179 = _S4997.primal_0.w * (_S5168 + _S5172);
    float _S5180 = _S4997.primal_0.z * (_S5164 + _S5172);
    float _S5181 = _S4997.primal_0.y * (_S5164 + _S5168);
    float _S5182 = _S4997.primal_0.x * _S5173 + _S4997.primal_0.z * _S5176 + _S4997.primal_0.y * _S5177 + _S5179 + _S5179;
    float _S5183 = _S4997.primal_0.x * _S5174 + _S4997.primal_0.w * _S5176 + _S4997.primal_0.y * _S5178 + _S5180 + _S5180;
    float _S5184 = _S4997.primal_0.x * _S5175 + _S4997.primal_0.w * _S5177 + _S4997.primal_0.z * _S5178 + _S5181 + _S5181;
    float _S5185 = _S4997.primal_0.w * _S5173 + _S4997.primal_0.z * _S5174 + _S4997.primal_0.y * _S5175;
    float3  _S5186 = _S5003;
    *&((&_S5186)->z) = _S5153;
    *&((&_S5186)->y) = _S5157;
    *&((&_S5186)->x) = _S5161;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5187;
    (&_S5187)->primal_0 = _S4998.primal_0;
    (&_S5187)->differential_0 = _S5003;
    s_bwd_prop_exp_1(&_S5187, _S5186);
    Matrix<float, 2, 2>  _S5188 = _S5124;
    _S5188[int(1)] = _S5133;
    _S5188[int(0)] = _S5135;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5189;
    (&_S5189)->primal_0 = mean_c_38;
    (&_S5189)->differential_0 = _S5003;
    s_bwd_length_impl_1(&_S5189, _S5095);
    float3  _S5190 = _S5189.differential_0 + _S5109;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5191;
    (&_S5191)->primal_0 = _S5001.primal_0;
    (&_S5191)->differential_0 = _S5086;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5192;
    (&_S5192)->primal_0 = _S4996.primal_0;
    (&_S5192)->differential_0 = _S5003;
    s_bwd_prop_mul_1(&_S5191, &_S5192, _S5190);
    float3  _S5193 = _S5190 + _S5089.differential_0;
    dpt_4->primal_0 = (*dpt_4).primal_0;
    dpt_4->differential_0 = _S5193;
    Matrix<float, 3, 3>  _S5194 = _S5136.differential_0 + _S5138.differential_0 + _S5140.differential_0 + _S5142.differential_0 + _S5144.differential_0 + _S5146.differential_0 + _S5148.differential_0 + _S5191.differential_0 + _S5090;
    dpR_5->primal_0 = (*dpR_5).primal_0;
    dpR_5->differential_0 = _S5194;
    dpsv_colors_3->primal_0 = dpsv_colors_3->primal_0;
    dpsv_colors_3->differential_0 = _S5106;
    dpsv_sites_3->primal_0 = dpsv_sites_3->primal_0;
    dpsv_sites_3->differential_0 = _S5108;
    dpin_opacity_3->primal_0 = (*dpin_opacity_3).primal_0;
    dpin_opacity_3->differential_0 = _S5116;
    float3  _S5195 = _S5187.differential_0 + _S5092;
    dpscale_4->primal_0 = (*dpscale_4).primal_0;
    dpscale_4->differential_0 = _S5195;
    float4  _S5196 = make_float4 (0.0f);
    *&((&_S5196)->w) = _S5182;
    *&((&_S5196)->z) = _S5183;
    *&((&_S5196)->y) = _S5184;
    *&((&_S5196)->x) = _S5185;
    dpquat_4->primal_0 = (*dpquat_4).primal_0;
    dpquat_4->differential_0 = _S5196;
    float3  _S5197 = _S5137.differential_0 + _S5143.differential_0 + _S5139.differential_0 + _S5145.differential_0 + _S5141.differential_0 + _S5147.differential_0 + _S5192.differential_0 + _S5084;
    dpmean_5->primal_0 = (*dpmean_5).primal_0;
    dpmean_5->differential_0 = _S5197;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_0(bool _S5198, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5199, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5200, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5201, DiffPair_float_0 * _S5202, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S5203, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S5204, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5205, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5206, float _S5207, float _S5208, float _S5209, float _S5210, FixedArray<float, 10>  * _S5211, uint _S5212, uint _S5213, float _S5214, float _S5215, float2  _S5216, float _S5217, float3  _S5218, float _S5219, float3  _S5220)
{
    FixedArray<float3 , 2>  _S5221 = _S5203->primal_0;
    FixedArray<float3 , 2>  _S5222 = _S5204->primal_0;
    int4  _S5223;
    float2  _S5224;
    float _S5225;
    float3  _S5226;
    float _S5227;
    float3  _S5228;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S5229;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(_S5198, (*_S5199).primal_0, (*_S5200).primal_0, (*_S5201).primal_0, (*_S5202).primal_0, &_S5221, &_S5222, (*_S5205).primal_0, (*_S5206).primal_0, _S5207, _S5208, _S5209, _S5210, _S5211, _S5212, _S5213, _S5214, _S5215, &_S5223, &_S5224, &_S5225, &_S5226, &_S5227, &_S5228, &_S5229);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S5230 = _S5229;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(_S5198, _S5199, _S5200, _S5201, _S5202, _S5203, _S5204, _S5205, _S5206, _S5207, _S5208, _S5209, _S5210, _S5211, _S5212, _S5213, _S5214, _S5215, _S5216, _S5217, _S5218, _S5219, _S5220, &_S5230);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_38, float3  mean_39, float4  quat_40, float3  scale_39, float in_opacity_34, FixedArray<float3 , 2>  * sv_sites_17, FixedArray<float3 , 2>  * sv_colors_17, Matrix<float, 3, 3>  R_41, float3  t_37, float fx_50, float fy_50, float cx_45, float cy_45, FixedArray<float, 10>  * dist_coeffs_53, uint image_width_38, uint image_height_38, float2  v_mean2d_8, float v_depth_9, float3  v_conic_8, float v_opacity_10, float3  v_rgb_9, float3  * v_mean_10, float4  * v_quat_9, float3  * v_scale_9, float * v_in_opacity_8, FixedArray<float3 , 2>  * v_sv_dirs_1, FixedArray<float3 , 2>  * v_sv_colors_1, Matrix<float, 3, 3>  * v_R_10, float3  * v_t_9)
{
    float3  _S5231 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_3;
    (&dp_mean_3)->primal_0 = mean_39;
    (&dp_mean_3)->differential_0 = _S5231;
    float4  _S5232 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_2;
    (&dp_quat_2)->primal_0 = quat_40;
    (&dp_quat_2)->differential_0 = _S5232;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_2;
    (&dp_scale_2)->primal_0 = scale_39;
    (&dp_scale_2)->differential_0 = _S5231;
    DiffPair_float_0 dp_in_opacity_1;
    (&dp_in_opacity_1)->primal_0 = in_opacity_34;
    (&dp_in_opacity_1)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S5233 = { _S5231, _S5231 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_1;
    (&dp_sv_dirs_1)->primal_0 = *sv_sites_17;
    (&dp_sv_dirs_1)->differential_0 = _S5233;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_1;
    (&dp_sv_colors_1)->primal_0 = *sv_colors_17;
    (&dp_sv_colors_1)->differential_0 = _S5233;
    Matrix<float, 3, 3>  _S5234 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_3;
    (&dp_R_3)->primal_0 = R_41;
    (&dp_R_3)->differential_0 = _S5234;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_2;
    (&dp_t_2)->primal_0 = t_37;
    (&dp_t_2)->differential_0 = _S5231;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_0(antialiased_38, &dp_mean_3, &dp_quat_2, &dp_scale_2, &dp_in_opacity_1, &dp_sv_dirs_1, &dp_sv_colors_1, &dp_R_3, &dp_t_2, fx_50, fy_50, cx_45, cy_45, dist_coeffs_53, image_width_38, image_height_38, 0.0f, 1.00000001504746622e+30f, v_mean2d_8, v_depth_9, v_conic_8, v_opacity_10, v_rgb_9);
    *v_mean_10 = dp_mean_3.differential_0;
    *v_quat_9 = dp_quat_2.differential_0;
    *v_scale_9 = dp_scale_2.differential_0;
    *v_in_opacity_8 = dp_in_opacity_1.differential_0;
    *v_sv_dirs_1 = (&dp_sv_dirs_1)->differential_0;
    *v_sv_colors_1 = (&dp_sv_colors_1)->differential_0;
    *v_R_10 = dp_R_3.differential_0;
    *v_t_9 = dp_t_2.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_39, float3  mean_40, float4  quat_41, float3  scale_40, float in_opacity_35, FixedArray<float3 , 3>  * sv_sites_18, FixedArray<float3 , 3>  * sv_colors_18, Matrix<float, 3, 3>  R_42, float3  t_38, float fx_51, float fy_51, float cx_46, float cy_46, FixedArray<float, 10>  * dist_coeffs_54, uint image_width_39, uint image_height_39, float near_plane_30, float far_plane_30, int4  * aabb_xyxy_28, float2  * mean2d_35, float * depth_27, float3  * conic_26, float * opacity_30, float3  * rgb_28)
{
    float3  mean_c_39 = mul_0(R_42, mean_40) + t_38;
    float4  intrins_38 = make_float4 (fx_51, fy_51, cx_46, cy_46);
    float3  _S5235 = exp_0(scale_40);
    float x_65 = quat_41.y;
    float x2_43 = x_65 * x_65;
    float y2_43 = quat_41.z * quat_41.z;
    float z2_66 = quat_41.w * quat_41.w;
    float xy_43 = quat_41.y * quat_41.z;
    float xz_43 = quat_41.y * quat_41.w;
    float yz_43 = quat_41.z * quat_41.w;
    float wx_43 = quat_41.x * quat_41.y;
    float wy_43 = quat_41.x * quat_41.z;
    float wz_43 = quat_41.x * quat_41.w;
    Matrix<float, 3, 3>  _S5236 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_43 + z2_66), 2.0f * (xy_43 + wz_43), 2.0f * (xz_43 - wy_43), 2.0f * (xy_43 - wz_43), 1.0f - 2.0f * (x2_43 + z2_66), 2.0f * (yz_43 + wx_43), 2.0f * (xz_43 + wy_43), 2.0f * (yz_43 - wx_43), 1.0f - 2.0f * (x2_43 + y2_43))));
    SigmaPoints_0 ret_20;
    (&ret_20)->p_0[int(0)] = mean_40;
    (&ret_20)->w_mean_0[int(0)] = 0.0f;
    (&ret_20)->w_cov_0[int(0)] = 2.0f;
    float _S5237 = (F32_sqrt((3.0f)));
    float3  delta_90 = make_float3 (_S5237 * _S5235.x) * _S5236.rows[0U];
    float3  _S5238 = mean_40 + delta_90;
    float3  _S5239 = mean_40 - delta_90;
    float3  delta_91 = make_float3 (_S5237 * _S5235.y) * _S5236.rows[1U];
    float3  _S5240 = mean_40 + delta_91;
    float3  _S5241 = mean_40 - delta_91;
    float3  delta_92 = make_float3 (_S5237 * _S5235.z) * _S5236.rows[2U];
    float3  _S5242 = mean_40 + delta_92;
    float3  _S5243 = mean_40 - delta_92;
    (&ret_20)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_20)->p_0[0U] = mul_0(R_42, (&ret_20)->p_0[0U]) + t_38;
    (&ret_20)->p_0[1U] = mul_0(R_42, _S5238) + t_38;
    (&ret_20)->p_0[2U] = mul_0(R_42, _S5240) + t_38;
    (&ret_20)->p_0[3U] = mul_0(R_42, _S5242) + t_38;
    (&ret_20)->p_0[4U] = mul_0(R_42, _S5239) + t_38;
    (&ret_20)->p_0[5U] = mul_0(R_42, _S5241) + t_38;
    (&ret_20)->p_0[6U] = mul_0(R_42, _S5243) + t_38;
    SigmaPoints_0 _S5244 = ret_20;
    Matrix<float, 2, 2>  covar2d_26;
    bool _S5245 = persp_proj_3dgs_ut_1(&_S5244, intrins_38, dist_coeffs_54, image_width_39, image_height_39, &covar2d_26, mean2d_35);
    float det_orig_44 = *&(((&covar2d_26)->rows + (int(0)))->x) * *&(((&covar2d_26)->rows + (int(1)))->y) - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x);
    float _S5246 = *&(((&covar2d_26)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(0)))->x) = _S5246;
    float _S5247 = *&(((&covar2d_26)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(1)))->y) = _S5247;
    float compensation_27 = (F32_sqrt(((F32_max((0.0f), (det_orig_44 / (_S5246 * _S5247 - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x))))))));
    *opacity_30 = 1.0f / (1.0f + (F32_exp((- in_opacity_35))));
    if(antialiased_39)
    {
        *opacity_30 = *opacity_30 * compensation_27;
    }
    float extend_26 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_30 / 0.00392156885936856f)))))))));
    float radius_x_28 = extend_26 * (F32_sqrt((covar2d_26[int(0)].x)));
    float radius_y_28 = extend_26 * (F32_sqrt((covar2d_26[int(1)].y)));
    *aabb_xyxy_28 = make_int4 (int((F32_floor(((*mean2d_35).x - radius_x_28)))), int((F32_floor(((*mean2d_35).y - radius_y_28)))), int((F32_ceil(((*mean2d_35).x + radius_x_28)))), int((F32_ceil(((*mean2d_35).y + radius_y_28)))));
    float _S5248 = mean_c_39.z;
    *depth_27 = (F32_max((_S5248), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5248 + length_1(mean_c_39)))));
    *conic_26 = exp_0(- scale_40);
    float3  _S5249 = mean_40 - - mul_0(transpose_0(R_42), t_38);
    float3  _S5250 = _S5249 * make_float3 ((F32_rsqrt((dot_1(_S5249, _S5249)))));
    float _S5251 = dot_1((*sv_sites_18)[int(2)], _S5250);
    float w_74 = (F32_exp((dot_1((*sv_sites_18)[int(0)], _S5250) - _S5251)));
    float w_75 = (F32_exp((dot_1((*sv_sites_18)[int(1)], _S5250) - _S5251)));
    float w_76 = (F32_exp((0.0f)));
    *rgb_28 = max_0((make_float3 (w_74) * (*sv_colors_18)[int(0)] + make_float3 (w_75) * (*sv_colors_18)[int(1)] + make_float3 (w_76) * (*sv_colors_18)[int(2)]) / make_float3 (w_74 + w_75 + w_76) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_40, float3  mean_41, float4  quat_42, float3  scale_41, float in_opacity_36, FixedArray<float3 , 3>  * sv_sites_19, FixedArray<float3 , 3>  * sv_colors_19, Matrix<float, 3, 3>  R_43, float3  t_39, float fx_52, float fy_52, float cx_47, float cy_47, FixedArray<float, 10>  * dist_coeffs_55, uint image_width_40, uint image_height_40, float near_plane_31, float far_plane_31, int4  * aabb_xyxy_29, float2  * mean2d_36, float * depth_28, float3  * conic_27, float * opacity_31, float3  * rgb_29)
{
    float3  mean_c_40 = mul_0(R_43, mean_41) + t_39;
    float4  intrins_39 = make_float4 (fx_52, fy_52, cx_47, cy_47);
    float3  _S5252 = exp_0(scale_41);
    float x_66 = quat_42.y;
    float x2_44 = x_66 * x_66;
    float y2_44 = quat_42.z * quat_42.z;
    float z2_67 = quat_42.w * quat_42.w;
    float xy_44 = quat_42.y * quat_42.z;
    float xz_44 = quat_42.y * quat_42.w;
    float yz_44 = quat_42.z * quat_42.w;
    float wx_44 = quat_42.x * quat_42.y;
    float wy_44 = quat_42.x * quat_42.z;
    float wz_44 = quat_42.x * quat_42.w;
    Matrix<float, 3, 3>  _S5253 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_44 + z2_67), 2.0f * (xy_44 + wz_44), 2.0f * (xz_44 - wy_44), 2.0f * (xy_44 - wz_44), 1.0f - 2.0f * (x2_44 + z2_67), 2.0f * (yz_44 + wx_44), 2.0f * (xz_44 + wy_44), 2.0f * (yz_44 - wx_44), 1.0f - 2.0f * (x2_44 + y2_44))));
    SigmaPoints_0 ret_21;
    (&ret_21)->p_0[int(0)] = mean_41;
    (&ret_21)->w_mean_0[int(0)] = 0.0f;
    (&ret_21)->w_cov_0[int(0)] = 2.0f;
    float _S5254 = (F32_sqrt((3.0f)));
    float3  delta_93 = make_float3 (_S5254 * _S5252.x) * _S5253.rows[0U];
    float3  _S5255 = mean_41 + delta_93;
    float3  _S5256 = mean_41 - delta_93;
    float3  delta_94 = make_float3 (_S5254 * _S5252.y) * _S5253.rows[1U];
    float3  _S5257 = mean_41 + delta_94;
    float3  _S5258 = mean_41 - delta_94;
    float3  delta_95 = make_float3 (_S5254 * _S5252.z) * _S5253.rows[2U];
    float3  _S5259 = mean_41 + delta_95;
    float3  _S5260 = mean_41 - delta_95;
    (&ret_21)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_21)->p_0[0U] = mul_0(R_43, (&ret_21)->p_0[0U]) + t_39;
    (&ret_21)->p_0[1U] = mul_0(R_43, _S5255) + t_39;
    (&ret_21)->p_0[2U] = mul_0(R_43, _S5257) + t_39;
    (&ret_21)->p_0[3U] = mul_0(R_43, _S5259) + t_39;
    (&ret_21)->p_0[4U] = mul_0(R_43, _S5256) + t_39;
    (&ret_21)->p_0[5U] = mul_0(R_43, _S5258) + t_39;
    (&ret_21)->p_0[6U] = mul_0(R_43, _S5260) + t_39;
    SigmaPoints_0 _S5261 = ret_21;
    Matrix<float, 2, 2>  covar2d_27;
    bool _S5262 = fisheye_proj_3dgs_ut_1(&_S5261, intrins_39, dist_coeffs_55, &covar2d_27, mean2d_36);
    float det_orig_45 = *&(((&covar2d_27)->rows + (int(0)))->x) * *&(((&covar2d_27)->rows + (int(1)))->y) - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x);
    float _S5263 = *&(((&covar2d_27)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(0)))->x) = _S5263;
    float _S5264 = *&(((&covar2d_27)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(1)))->y) = _S5264;
    float compensation_28 = (F32_sqrt(((F32_max((0.0f), (det_orig_45 / (_S5263 * _S5264 - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x))))))));
    *opacity_31 = 1.0f / (1.0f + (F32_exp((- in_opacity_36))));
    if(antialiased_40)
    {
        *opacity_31 = *opacity_31 * compensation_28;
    }
    float extend_27 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_31 / 0.00392156885936856f)))))))));
    float radius_x_29 = extend_27 * (F32_sqrt((covar2d_27[int(0)].x)));
    float radius_y_29 = extend_27 * (F32_sqrt((covar2d_27[int(1)].y)));
    *aabb_xyxy_29 = make_int4 (int((F32_floor(((*mean2d_36).x - radius_x_29)))), int((F32_floor(((*mean2d_36).y - radius_y_29)))), int((F32_ceil(((*mean2d_36).x + radius_x_29)))), int((F32_ceil(((*mean2d_36).y + radius_y_29)))));
    float _S5265 = mean_c_40.z;
    *depth_28 = (F32_max((_S5265), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5265 + length_1(mean_c_40)))));
    *conic_27 = exp_0(- scale_41);
    float3  _S5266 = mean_41 - - mul_0(transpose_0(R_43), t_39);
    float3  _S5267 = _S5266 * make_float3 ((F32_rsqrt((dot_1(_S5266, _S5266)))));
    float _S5268 = dot_1((*sv_sites_19)[int(2)], _S5267);
    float w_77 = (F32_exp((dot_1((*sv_sites_19)[int(0)], _S5267) - _S5268)));
    float w_78 = (F32_exp((dot_1((*sv_sites_19)[int(1)], _S5267) - _S5268)));
    float w_79 = (F32_exp((0.0f)));
    *rgb_29 = max_0((make_float3 (w_77) * (*sv_colors_19)[int(0)] + make_float3 (w_78) * (*sv_colors_19)[int(1)] + make_float3 (w_79) * (*sv_colors_19)[int(2)]) / make_float3 (w_77 + w_78 + w_79) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0
{
    FixedArray<float3 , 3>  primal_0;
    FixedArray<float3 , 3>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S5269;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(bool antialiased_41, float3  dpmean_6, float4  dpquat_5, float3  dpscale_5, float dpin_opacity_4, FixedArray<float3 , 3>  * dpsv_sites_4, FixedArray<float3 , 3>  * dpsv_colors_4, Matrix<float, 3, 3>  dpR_6, float3  dpt_5, float fx_53, float fy_53, float cx_48, float cy_48, FixedArray<float, 10>  * dist_coeffs_56, uint image_width_41, uint image_height_41, float near_plane_32, float far_plane_32, int4  * aabb_xyxy_30, float2  * dpmean2d_8, float * dpdepth_5, float3  * dpconic_4, float * dpopacity_6, float3  * dprgb_5, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_18)
{
    Matrix<float, 2, 2>  _S5270 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_18->_S5269 = _S5270;
    float2  _S5271 = make_float2 (0.0f);
    float3  _S5272 = make_float3 (0.0f);
    float3  mean_c_41 = s_primal_ctx_mul_0(dpR_6, dpmean_6) + dpt_5;
    float4  intrins_40 = make_float4 (fx_53, fy_53, cx_48, cy_48);
    float3  _S5273 = s_primal_ctx_exp_0(dpscale_5);
    float _S5274 = dpquat_5.y;
    float x2_45 = _S5274 * _S5274;
    float y2_45 = dpquat_5.z * dpquat_5.z;
    float z2_68 = dpquat_5.w * dpquat_5.w;
    float xy_45 = dpquat_5.y * dpquat_5.z;
    float xz_45 = dpquat_5.y * dpquat_5.w;
    float yz_45 = dpquat_5.z * dpquat_5.w;
    float wx_45 = dpquat_5.x * dpquat_5.y;
    float wy_45 = dpquat_5.x * dpquat_5.z;
    float wz_45 = dpquat_5.x * dpquat_5.w;
    Matrix<float, 3, 3>  _S5275 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_45 + z2_68), 2.0f * (xy_45 + wz_45), 2.0f * (xz_45 - wy_45), 2.0f * (xy_45 - wz_45), 1.0f - 2.0f * (x2_45 + z2_68), 2.0f * (yz_45 + wx_45), 2.0f * (xz_45 + wy_45), 2.0f * (yz_45 - wx_45), 1.0f - 2.0f * (x2_45 + y2_45))));
    FixedArray<float3 , 7>  _S5276 = {
        _S5272, _S5272, _S5272, _S5272, _S5272, _S5272, _S5272
    };
    FixedArray<float, 7>  _S5277 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5278;
    (&_S5278)->p_0 = _S5276;
    (&_S5278)->w_mean_0 = _S5277;
    (&_S5278)->w_cov_0 = _S5277;
    (&_S5278)->p_0[int(0)] = dpmean_6;
    SigmaPoints_0 _S5279 = _S5278;
    (&_S5279)->w_mean_0[int(0)] = 0.0f;
    (&_S5279)->w_cov_0[int(0)] = 2.0f;
    float _S5280 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_96 = make_float3 (_S5280 * _S5273.x) * _S5275.rows[0U];
    float3  _S5281 = dpmean_6 + delta_96;
    float3  _S5282 = dpmean_6 - delta_96;
    float3  delta_97 = make_float3 (_S5280 * _S5273.y) * _S5275.rows[1U];
    float3  _S5283 = dpmean_6 + delta_97;
    float3  _S5284 = dpmean_6 - delta_97;
    float3  delta_98 = make_float3 (_S5280 * _S5273.z) * _S5275.rows[2U];
    float3  _S5285 = dpmean_6 + delta_98;
    float3  _S5286 = dpmean_6 - delta_98;
    (&_S5279)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5279)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5279)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5279)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5279)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5279)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5279)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5279)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5279)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5279)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5279)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5279)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5279)->p_0[0U] = s_primal_ctx_mul_0(dpR_6, _S5278.p_0[0U]) + dpt_5;
    (&_S5279)->p_0[1U] = s_primal_ctx_mul_0(dpR_6, _S5281) + dpt_5;
    (&_S5279)->p_0[2U] = s_primal_ctx_mul_0(dpR_6, _S5283) + dpt_5;
    (&_S5279)->p_0[3U] = s_primal_ctx_mul_0(dpR_6, _S5285) + dpt_5;
    (&_S5279)->p_0[4U] = s_primal_ctx_mul_0(dpR_6, _S5282) + dpt_5;
    (&_S5279)->p_0[5U] = s_primal_ctx_mul_0(dpR_6, _S5284) + dpt_5;
    (&_S5279)->p_0[6U] = s_primal_ctx_mul_0(dpR_6, _S5286) + dpt_5;
    float2  _S5287 = _S5271;
    Matrix<float, 2, 2>  _S5288 = _S5270;
    SigmaPoints_0 _S5289 = _S5279;
    bool _S5290 = persp_proj_3dgs_ut_1(&_S5289, intrins_40, dist_coeffs_56, image_width_41, image_height_41, &_S5288, &_S5287);
    _s_diff_ctx_18->_S5269 = _S5288;
    float2  _S5291 = _S5287;
    float _S5292 = _S5288.rows[int(0)].y * _S5288.rows[int(1)].x;
    float det_orig_46 = _S5288.rows[int(0)].x * _S5288.rows[int(1)].y - _S5292;
    float _S5293 = _S5288.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5294 = _S5288;
    *&(((&_S5294)->rows + (int(0)))->x) = _S5293;
    float _S5295 = _S5288.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5294)->rows + (int(1)))->y) = _S5295;
    Matrix<float, 2, 2>  _S5296 = _S5294;
    Matrix<float, 2, 2>  _S5297 = _S5294;
    float _S5298 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_46 / (_S5293 * _S5295 - _S5292)));
    float _S5299 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_4));
    float _S5300;
    if(antialiased_41)
    {
        _S5300 = _S5299 * _S5298;
    }
    else
    {
        _S5300 = _S5299;
    }
    float _S5301 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5300 / 0.00392156885936856f)));
    float radius_x_30 = _S5301 * s_primal_ctx_sqrt_0(_S5296.rows[int(0)].x);
    float radius_y_30 = _S5301 * s_primal_ctx_sqrt_0(_S5297.rows[int(1)].y);
    float _S5302 = _S5291.x;
    float _S5303 = _S5291.y;
    float _S5304 = mean_c_41.z;
    float _S5305 = s_primal_ctx_max_0(_S5304, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5304 + length_1(mean_c_41)));
    float3  _S5306 = s_primal_ctx_exp_0(- dpscale_5);
    float3  _S5307 = dpmean_6 - - s_primal_ctx_mul_0(transpose_0(dpR_6), dpt_5);
    float3  _S5308 = _S5307 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5307, _S5307)));
    float _S5309 = s_primal_ctx_dot_0((*dpsv_sites_4)[int(2)], _S5308);
    float _S5310 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(0)], _S5308) - _S5309);
    float _S5311 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(1)], _S5308) - _S5309);
    float _S5312 = s_primal_ctx_exp_1(0.0f);
    float3  _S5313 = s_primal_ctx_max_1((make_float3 (_S5310) * (*dpsv_colors_4)[int(0)] + make_float3 (_S5311) * (*dpsv_colors_4)[int(1)] + make_float3 (_S5312) * (*dpsv_colors_4)[int(2)]) / make_float3 (_S5310 + _S5311 + _S5312) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_30 = make_int4 (int((F32_floor((_S5302 - radius_x_30)))), int((F32_floor((_S5303 - radius_y_30)))), int((F32_ceil((_S5302 + radius_x_30)))), int((F32_ceil((_S5303 + radius_y_30)))));
    *dpmean2d_8 = _S5291;
    *dpdepth_5 = _S5305;
    *dpconic_4 = _S5306;
    *dpopacity_6 = _S5300;
    *dprgb_5 = _S5313;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(bool antialiased_42, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_7, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_6, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_6, DiffPair_float_0 * dpin_opacity_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_5, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_6, float fx_54, float fy_54, float cx_49, float cy_49, FixedArray<float, 10>  * dist_coeffs_57, uint image_width_42, uint image_height_42, float near_plane_33, float far_plane_33, float2  dpmean2d_9, float dpdepth_6, float3  dpconic_5, float dpopacity_7, float3  dprgb_6, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_19)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5314 = *dpmean_7;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5315 = *dpquat_6;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5316 = *dpscale_6;
    FixedArray<float3 , 3>  _S5317 = dpsv_sites_5->primal_0;
    FixedArray<float3 , 3>  _S5318 = dpsv_colors_5->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5319 = *dpR_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5320 = *dpt_6;
    float3  _S5321 = make_float3 (0.0f);
    float3  mean_c_42 = s_primal_ctx_mul_0((*dpR_7).primal_0, (*dpmean_7).primal_0) + (*dpt_6).primal_0;
    float3  _S5322 = s_primal_ctx_exp_0((*dpscale_6).primal_0);
    float _S5323 = (*dpquat_6).primal_0.y;
    float x2_46 = _S5323 * _S5323;
    float y2_46 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.z;
    float z2_69 = (*dpquat_6).primal_0.w * (*dpquat_6).primal_0.w;
    float xy_46 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.z;
    float xz_46 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.w;
    float yz_46 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.w;
    float wx_46 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.y;
    float wy_46 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.z;
    float wz_46 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.w;
    Matrix<float, 3, 3>  _S5324 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_46 + z2_69), 2.0f * (xy_46 + wz_46), 2.0f * (xz_46 - wy_46), 2.0f * (xy_46 - wz_46), 1.0f - 2.0f * (x2_46 + z2_69), 2.0f * (yz_46 + wx_46), 2.0f * (xz_46 + wy_46), 2.0f * (yz_46 - wx_46), 1.0f - 2.0f * (x2_46 + y2_46))));
    FixedArray<float3 , 7>  _S5325 = {
        _S5321, _S5321, _S5321, _S5321, _S5321, _S5321, _S5321
    };
    FixedArray<float, 7>  _S5326 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5327;
    (&_S5327)->p_0 = _S5325;
    (&_S5327)->w_mean_0 = _S5326;
    (&_S5327)->w_cov_0 = _S5326;
    (&_S5327)->p_0[int(0)] = (*dpmean_7).primal_0;
    float _S5328 = s_primal_ctx_sqrt_0(3.0f);
    float _S5329 = _S5328 * _S5322.x;
    float3  _S5330 = make_float3 (_S5329);
    float3  delta_99 = make_float3 (_S5329) * _S5324.rows[0U];
    float3  _S5331 = (*dpmean_7).primal_0 + delta_99;
    float3  _S5332 = (*dpmean_7).primal_0 - delta_99;
    float _S5333 = _S5328 * _S5322.y;
    float3  _S5334 = make_float3 (_S5333);
    float3  delta_100 = make_float3 (_S5333) * _S5324.rows[1U];
    float3  _S5335 = (*dpmean_7).primal_0 + delta_100;
    float3  _S5336 = (*dpmean_7).primal_0 - delta_100;
    float _S5337 = _S5328 * _S5322.z;
    float3  _S5338 = make_float3 (_S5337);
    float3  delta_101 = make_float3 (_S5337) * _S5324.rows[2U];
    float3  _S5339 = (*dpmean_7).primal_0 + delta_101;
    float3  _S5340 = (*dpmean_7).primal_0 - delta_101;
    SigmaPoints_0 _S5341 = _S5327;
    float _S5342 = *&(((&_s_diff_ctx_19->_S5269)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_19->_S5269)->rows + (int(1)))->x);
    float det_orig_47 = *&(((&_s_diff_ctx_19->_S5269)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_19->_S5269)->rows + (int(1)))->y) - _S5342;
    float _S5343 = *&(((&_s_diff_ctx_19->_S5269)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5344 = _s_diff_ctx_19->_S5269;
    *&(((&_S5344)->rows + (int(0)))->x) = _S5343;
    float _S5345 = *&(((&_s_diff_ctx_19->_S5269)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5344)->rows + (int(1)))->y) = _S5345;
    Matrix<float, 2, 2>  _S5346 = _S5344;
    Matrix<float, 2, 2>  _S5347 = _S5344;
    float det_blur_35 = _S5343 * _S5345 - _S5342;
    float _S5348 = det_orig_47 / det_blur_35;
    float _S5349 = det_blur_35 * det_blur_35;
    float _S5350 = s_primal_ctx_max_0(0.0f, _S5348);
    float _S5351 = s_primal_ctx_sqrt_0(_S5350);
    float _S5352 = - (*dpin_opacity_5).primal_0;
    float _S5353 = 1.0f + s_primal_ctx_exp_1(_S5352);
    float _S5354 = 1.0f / _S5353;
    float _S5355 = _S5353 * _S5353;
    float _S5356;
    if(antialiased_42)
    {
        _S5356 = _S5354 * _S5351;
    }
    else
    {
        _S5356 = _S5354;
    }
    float _S5357 = _S5356 / 0.00392156885936856f;
    float _S5358 = 2.0f * s_primal_ctx_log_0(_S5357);
    float _S5359 = s_primal_ctx_sqrt_0(_S5358);
    float _S5360 = _S5346.rows[int(0)].x;
    float _S5361 = _S5347.rows[int(1)].y;
    float _S5362 = mean_c_42.z;
    float _S5363 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5364 = _S5363 * (_S5362 + length_1(mean_c_42));
    float3  _S5365 = - _S5316.primal_0;
    Matrix<float, 3, 3>  _S5366 = transpose_0(_S5319.primal_0);
    float3  _S5367 = _S5314.primal_0 - - s_primal_ctx_mul_0(_S5366, _S5320.primal_0);
    float _S5368 = s_primal_ctx_dot_0(_S5367, _S5367);
    float _S5369 = s_primal_ctx_rsqrt_0(_S5368);
    float3  _S5370 = make_float3 (_S5369);
    float3  _S5371 = _S5367 * make_float3 (_S5369);
    float _S5372 = s_primal_ctx_dot_0(_S5317[int(2)], _S5371);
    float _S5373 = s_primal_ctx_dot_0(_S5317[int(0)], _S5371) - _S5372;
    float _S5374 = s_primal_ctx_exp_1(_S5373);
    float3  _S5375 = make_float3 (_S5374);
    float _S5376 = s_primal_ctx_dot_0(_S5317[int(1)], _S5371) - _S5372;
    float _S5377 = s_primal_ctx_exp_1(_S5376);
    float3  _S5378 = make_float3 (_S5377);
    float _S5379 = s_primal_ctx_exp_1(0.0f);
    float3  _S5380 = make_float3 (_S5379);
    float total_w_2 = _S5374 + _S5377 + _S5379;
    float3  _S5381 = make_float3 (total_w_2);
    float3  total_c_2 = make_float3 (_S5374) * _S5318[int(0)] + make_float3 (_S5377) * _S5318[int(1)] + make_float3 (_S5379) * _S5318[int(2)];
    float3  _S5382 = make_float3 (total_w_2 * total_w_2);
    float3  _S5383 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5384;
    (&_S5384)->primal_0 = total_c_2 / make_float3 (total_w_2) + make_float3 (0.5f);
    (&_S5384)->differential_0 = _S5321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5385;
    (&_S5385)->primal_0 = _S5383;
    (&_S5385)->differential_0 = _S5321;
    s_bwd_prop_max_0(&_S5384, &_S5385, dprgb_6);
    float3  _S5386 = _S5384.differential_0 / _S5382;
    float3  _S5387 = total_c_2 * - _S5386;
    float3  s_diff_total_c_T_2 = _S5381 * _S5386;
    float3  _S5388 = _S5380 * s_diff_total_c_T_2;
    float _S5389 = _S5387.x + _S5387.y + _S5387.z;
    float3  _S5390 = _S5378 * s_diff_total_c_T_2;
    float3  _S5391 = _S5318[int(1)] * s_diff_total_c_T_2;
    float _S5392 = _S5389 + _S5391.x + _S5391.y + _S5391.z;
    DiffPair_float_0 _S5393;
    (&_S5393)->primal_0 = _S5376;
    (&_S5393)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5393, _S5392);
    float _S5394 = - _S5393.differential_0;
    float3  _S5395 = _S5375 * s_diff_total_c_T_2;
    float3  _S5396 = _S5318[int(0)] * s_diff_total_c_T_2;
    float _S5397 = _S5389 + _S5396.x + _S5396.y + _S5396.z;
    DiffPair_float_0 _S5398;
    (&_S5398)->primal_0 = _S5373;
    (&_S5398)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5398, _S5397);
    float _S5399 = _S5394 + - _S5398.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5400;
    (&_S5400)->primal_0 = _S5317[int(2)];
    (&_S5400)->differential_0 = _S5321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5401;
    (&_S5401)->primal_0 = _S5371;
    (&_S5401)->differential_0 = _S5321;
    s_bwd_prop_dot_0(&_S5400, &_S5401, _S5399);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5402;
    (&_S5402)->primal_0 = _S5317[int(1)];
    (&_S5402)->differential_0 = _S5321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5403;
    (&_S5403)->primal_0 = _S5371;
    (&_S5403)->differential_0 = _S5321;
    s_bwd_prop_dot_0(&_S5402, &_S5403, _S5393.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5404;
    (&_S5404)->primal_0 = _S5317[int(0)];
    (&_S5404)->differential_0 = _S5321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5405;
    (&_S5405)->primal_0 = _S5371;
    (&_S5405)->differential_0 = _S5321;
    s_bwd_prop_dot_0(&_S5404, &_S5405, _S5398.differential_0);
    float3  _S5406 = _S5401.differential_0 + _S5403.differential_0 + _S5405.differential_0;
    float3  _S5407 = _S5367 * _S5406;
    float3  _S5408 = _S5370 * _S5406;
    float _S5409 = _S5407.x + _S5407.y + _S5407.z;
    DiffPair_float_0 _S5410;
    (&_S5410)->primal_0 = _S5368;
    (&_S5410)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5410, _S5409);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5411;
    (&_S5411)->primal_0 = _S5367;
    (&_S5411)->differential_0 = _S5321;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5412;
    (&_S5412)->primal_0 = _S5367;
    (&_S5412)->differential_0 = _S5321;
    s_bwd_prop_dot_0(&_S5411, &_S5412, _S5410.differential_0);
    float3  _S5413 = _S5408 + _S5412.differential_0 + _S5411.differential_0;
    float3  _S5414 = - - _S5413;
    Matrix<float, 3, 3>  _S5415 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5416;
    (&_S5416)->primal_0 = _S5366;
    (&_S5416)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5417;
    (&_S5417)->primal_0 = _S5320.primal_0;
    (&_S5417)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5416, &_S5417, _S5414);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5418 = _S5417;
    Matrix<float, 3, 3>  _S5419 = transpose_0(_S5416.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5420;
    (&_S5420)->primal_0 = _S5365;
    (&_S5420)->differential_0 = _S5321;
    s_bwd_prop_exp_1(&_S5420, dpconic_5);
    float3  _S5421 = - _S5420.differential_0;
    DiffPair_float_0 _S5422;
    (&_S5422)->primal_0 = _S5362;
    (&_S5422)->differential_0 = 0.0f;
    DiffPair_float_0 _S5423;
    (&_S5423)->primal_0 = _S5364;
    (&_S5423)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5422, &_S5423, dpdepth_6);
    float _S5424 = _S5363 * _S5423.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5425;
    (&_S5425)->primal_0 = mean_c_42;
    (&_S5425)->differential_0 = _S5321;
    s_bwd_length_impl_1(&_S5425, _S5424);
    float _S5426 = _S5422.differential_0 + _S5424;
    DiffPair_float_0 _S5427;
    (&_S5427)->primal_0 = _S5361;
    (&_S5427)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5427, 0.0f);
    DiffPair_float_0 _S5428;
    (&_S5428)->primal_0 = _S5360;
    (&_S5428)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5428, 0.0f);
    DiffPair_float_0 _S5429;
    (&_S5429)->primal_0 = 3.32999992370605469f;
    (&_S5429)->differential_0 = 0.0f;
    DiffPair_float_0 _S5430;
    (&_S5430)->primal_0 = _S5359;
    (&_S5430)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5429, &_S5430, 0.0f);
    DiffPair_float_0 _S5431;
    (&_S5431)->primal_0 = _S5358;
    (&_S5431)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5431, _S5430.differential_0);
    float _S5432 = 2.0f * _S5431.differential_0;
    DiffPair_float_0 _S5433;
    (&_S5433)->primal_0 = _S5357;
    (&_S5433)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5433, _S5432);
    float _S5434 = dpopacity_7 + 254.9999847412109375f * _S5433.differential_0;
    FixedArray<float3 , 3>  _S5435;
    _S5435[int(0)] = _S5321;
    _S5435[int(1)] = _S5321;
    _S5435[int(2)] = _S5321;
    _S5435[int(2)] = _S5388;
    _S5435[int(1)] = _S5390;
    _S5435[int(0)] = _S5395;
    FixedArray<float3 , 3>  _S5436 = {
        _S5435[int(0)], _S5435[int(1)], _S5435[int(2)]
    };
    FixedArray<float3 , 3>  _S5437;
    _S5437[int(0)] = _S5321;
    _S5437[int(1)] = _S5321;
    _S5437[int(2)] = _S5321;
    _S5437[int(2)] = _S5400.differential_0;
    _S5437[int(1)] = _S5402.differential_0;
    _S5437[int(0)] = _S5404.differential_0;
    FixedArray<float3 , 3>  _S5438 = {
        _S5437[int(0)], _S5437[int(1)], _S5437[int(2)]
    };
    float3  _S5439 = _S5425.differential_0 + make_float3 (0.0f, 0.0f, _S5426);
    float2  _S5440 = make_float2 (0.0f, _S5427.differential_0);
    float2  _S5441 = make_float2 (_S5428.differential_0, 0.0f);
    float _S5442;
    if(antialiased_42)
    {
        float _S5443 = _S5354 * _S5434;
        _S5356 = _S5351 * _S5434;
        _S5442 = _S5443;
    }
    else
    {
        _S5356 = _S5434;
        _S5442 = 0.0f;
    }
    float _S5444 = - (_S5356 / _S5355);
    DiffPair_float_0 _S5445;
    (&_S5445)->primal_0 = _S5352;
    (&_S5445)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5445, _S5444);
    float _S5446 = - _S5445.differential_0;
    DiffPair_float_0 _S5447;
    (&_S5447)->primal_0 = _S5350;
    (&_S5447)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5447, _S5442);
    DiffPair_float_0 _S5448;
    (&_S5448)->primal_0 = 0.0f;
    (&_S5448)->differential_0 = 0.0f;
    DiffPair_float_0 _S5449;
    (&_S5449)->primal_0 = _S5348;
    (&_S5449)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5448, &_S5449, _S5447.differential_0);
    float _S5450 = _S5449.differential_0 / _S5349;
    float s_diff_det_blur_T_6 = det_orig_47 * - _S5450;
    float s_diff_det_orig_T_9 = det_blur_35 * _S5450;
    float _S5451 = - s_diff_det_blur_T_6;
    float _S5452 = _S5343 * s_diff_det_blur_T_6;
    float _S5453 = _S5345 * s_diff_det_blur_T_6;
    Matrix<float, 2, 2>  _S5454 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5455 = _S5454;
    _S5455[int(1)] = _S5440;
    _S5455[int(0)] = _S5441;
    float _S5456 = _S5453 + _S5455.rows[int(0)].x;
    float _S5457 = _S5451 + - s_diff_det_orig_T_9;
    float _S5458 = *&(((&_s_diff_ctx_19->_S5269)->rows + (int(0)))->y) * _S5457;
    float _S5459 = *&(((&_s_diff_ctx_19->_S5269)->rows + (int(1)))->x) * _S5457;
    float _S5460 = *&(((&_s_diff_ctx_19->_S5269)->rows + (int(1)))->y) * s_diff_det_orig_T_9;
    float _S5461 = _S5452 + _S5455.rows[int(1)].y + *&(((&_s_diff_ctx_19->_S5269)->rows + (int(0)))->x) * s_diff_det_orig_T_9;
    float2  _S5462 = make_float2 (0.0f);
    float2  _S5463 = _S5462;
    *&((&_S5463)->x) = _S5458;
    *&((&_S5463)->y) = _S5461;
    float _S5464 = _S5456 + _S5460;
    float2  _S5465 = _S5462;
    *&((&_S5465)->y) = _S5459;
    *&((&_S5465)->x) = _S5464;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5466;
    (&_S5466)->primal_0 = _S5319.primal_0;
    (&_S5466)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5467;
    (&_S5467)->primal_0 = _S5340;
    (&_S5467)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5466, &_S5467, _S5321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5468;
    (&_S5468)->primal_0 = _S5319.primal_0;
    (&_S5468)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5469;
    (&_S5469)->primal_0 = _S5336;
    (&_S5469)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5468, &_S5469, _S5321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5470;
    (&_S5470)->primal_0 = _S5319.primal_0;
    (&_S5470)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5471;
    (&_S5471)->primal_0 = _S5332;
    (&_S5471)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5470, &_S5471, _S5321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5472;
    (&_S5472)->primal_0 = _S5319.primal_0;
    (&_S5472)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5473;
    (&_S5473)->primal_0 = _S5339;
    (&_S5473)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5472, &_S5473, _S5321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5474;
    (&_S5474)->primal_0 = _S5319.primal_0;
    (&_S5474)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5475;
    (&_S5475)->primal_0 = _S5335;
    (&_S5475)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5474, &_S5475, _S5321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5476;
    (&_S5476)->primal_0 = _S5319.primal_0;
    (&_S5476)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5477;
    (&_S5477)->primal_0 = _S5331;
    (&_S5477)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5476, &_S5477, _S5321);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5478;
    (&_S5478)->primal_0 = _S5319.primal_0;
    (&_S5478)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5479;
    (&_S5479)->primal_0 = _S5341.p_0[0U];
    (&_S5479)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5478, &_S5479, _S5321);
    float3  _S5480 = - _S5467.differential_0 + _S5473.differential_0;
    float3  _S5481 = _S5338 * _S5480;
    float3  _S5482 = _S5324.rows[2U] * _S5480;
    float _S5483 = _S5328 * (_S5482.x + _S5482.y + _S5482.z);
    float3  _S5484 = - _S5469.differential_0 + _S5475.differential_0;
    float3  _S5485 = _S5334 * _S5484;
    float3  _S5486 = _S5324.rows[1U] * _S5484;
    float _S5487 = _S5328 * (_S5486.x + _S5486.y + _S5486.z);
    float3  _S5488 = - _S5471.differential_0 + _S5477.differential_0;
    float3  _S5489 = _S5330 * _S5488;
    float3  _S5490 = _S5324.rows[0U] * _S5488;
    float _S5491 = _S5328 * (_S5490.x + _S5490.y + _S5490.z);
    Matrix<float, 3, 3>  _S5492 = _S5415;
    _S5492[2U] = _S5481;
    _S5492[1U] = _S5485;
    _S5492[0U] = _S5489;
    Matrix<float, 3, 3>  _S5493 = transpose_0(transpose_0(_S5492));
    float _S5494 = 2.0f * - _S5493.rows[int(2)].z;
    float _S5495 = 2.0f * _S5493.rows[int(2)].y;
    float _S5496 = 2.0f * _S5493.rows[int(2)].x;
    float _S5497 = 2.0f * _S5493.rows[int(1)].z;
    float _S5498 = 2.0f * - _S5493.rows[int(1)].y;
    float _S5499 = 2.0f * _S5493.rows[int(1)].x;
    float _S5500 = 2.0f * _S5493.rows[int(0)].z;
    float _S5501 = 2.0f * _S5493.rows[int(0)].y;
    float _S5502 = 2.0f * - _S5493.rows[int(0)].x;
    float _S5503 = - _S5499 + _S5501;
    float _S5504 = _S5496 + - _S5500;
    float _S5505 = - _S5495 + _S5497;
    float _S5506 = _S5495 + _S5497;
    float _S5507 = _S5496 + _S5500;
    float _S5508 = _S5499 + _S5501;
    float _S5509 = _S5315.primal_0.w * (_S5498 + _S5502);
    float _S5510 = _S5315.primal_0.z * (_S5494 + _S5502);
    float _S5511 = _S5315.primal_0.y * (_S5494 + _S5498);
    float _S5512 = _S5315.primal_0.x * _S5503 + _S5315.primal_0.z * _S5506 + _S5315.primal_0.y * _S5507 + _S5509 + _S5509;
    float _S5513 = _S5315.primal_0.x * _S5504 + _S5315.primal_0.w * _S5506 + _S5315.primal_0.y * _S5508 + _S5510 + _S5510;
    float _S5514 = _S5315.primal_0.x * _S5505 + _S5315.primal_0.w * _S5507 + _S5315.primal_0.z * _S5508 + _S5511 + _S5511;
    float _S5515 = _S5315.primal_0.w * _S5503 + _S5315.primal_0.z * _S5504 + _S5315.primal_0.y * _S5505;
    float3  _S5516 = _S5321;
    *&((&_S5516)->z) = _S5483;
    *&((&_S5516)->y) = _S5487;
    *&((&_S5516)->x) = _S5491;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5517;
    (&_S5517)->primal_0 = _S5316.primal_0;
    (&_S5517)->differential_0 = _S5321;
    s_bwd_prop_exp_1(&_S5517, _S5516);
    Matrix<float, 2, 2>  _S5518 = _S5454;
    _S5518[int(1)] = _S5463;
    _S5518[int(0)] = _S5465;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5519;
    (&_S5519)->primal_0 = _S5319.primal_0;
    (&_S5519)->differential_0 = _S5415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5520;
    (&_S5520)->primal_0 = _S5314.primal_0;
    (&_S5520)->differential_0 = _S5321;
    s_bwd_prop_mul_1(&_S5519, &_S5520, _S5439);
    float3  _S5521 = _S5439 + _S5418.differential_0;
    dpt_6->primal_0 = (*dpt_6).primal_0;
    dpt_6->differential_0 = _S5521;
    Matrix<float, 3, 3>  _S5522 = _S5466.differential_0 + _S5468.differential_0 + _S5470.differential_0 + _S5472.differential_0 + _S5474.differential_0 + _S5476.differential_0 + _S5478.differential_0 + _S5519.differential_0 + _S5419;
    dpR_7->primal_0 = (*dpR_7).primal_0;
    dpR_7->differential_0 = _S5522;
    dpsv_colors_5->primal_0 = dpsv_colors_5->primal_0;
    dpsv_colors_5->differential_0 = _S5436;
    dpsv_sites_5->primal_0 = dpsv_sites_5->primal_0;
    dpsv_sites_5->differential_0 = _S5438;
    dpin_opacity_5->primal_0 = (*dpin_opacity_5).primal_0;
    dpin_opacity_5->differential_0 = _S5446;
    float3  _S5523 = _S5517.differential_0 + _S5421;
    dpscale_6->primal_0 = (*dpscale_6).primal_0;
    dpscale_6->differential_0 = _S5523;
    float4  _S5524 = make_float4 (0.0f);
    *&((&_S5524)->w) = _S5512;
    *&((&_S5524)->z) = _S5513;
    *&((&_S5524)->y) = _S5514;
    *&((&_S5524)->x) = _S5515;
    dpquat_6->primal_0 = (*dpquat_6).primal_0;
    dpquat_6->differential_0 = _S5524;
    float3  _S5525 = _S5467.differential_0 + _S5473.differential_0 + _S5469.differential_0 + _S5475.differential_0 + _S5471.differential_0 + _S5477.differential_0 + _S5520.differential_0 + _S5413;
    dpmean_7->primal_0 = (*dpmean_7).primal_0;
    dpmean_7->differential_0 = _S5525;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_1(bool _S5526, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5527, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5528, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5529, DiffPair_float_0 * _S5530, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S5531, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S5532, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5533, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5534, float _S5535, float _S5536, float _S5537, float _S5538, FixedArray<float, 10>  * _S5539, uint _S5540, uint _S5541, float _S5542, float _S5543, float2  _S5544, float _S5545, float3  _S5546, float _S5547, float3  _S5548)
{
    FixedArray<float3 , 3>  _S5549 = _S5531->primal_0;
    FixedArray<float3 , 3>  _S5550 = _S5532->primal_0;
    int4  _S5551;
    float2  _S5552;
    float _S5553;
    float3  _S5554;
    float _S5555;
    float3  _S5556;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S5557;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(_S5526, (*_S5527).primal_0, (*_S5528).primal_0, (*_S5529).primal_0, (*_S5530).primal_0, &_S5549, &_S5550, (*_S5533).primal_0, (*_S5534).primal_0, _S5535, _S5536, _S5537, _S5538, _S5539, _S5540, _S5541, _S5542, _S5543, &_S5551, &_S5552, &_S5553, &_S5554, &_S5555, &_S5556, &_S5557);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S5558 = _S5557;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(_S5526, _S5527, _S5528, _S5529, _S5530, _S5531, _S5532, _S5533, _S5534, _S5535, _S5536, _S5537, _S5538, _S5539, _S5540, _S5541, _S5542, _S5543, _S5544, _S5545, _S5546, _S5547, _S5548, &_S5558);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_43, float3  mean_42, float4  quat_43, float3  scale_42, float in_opacity_37, FixedArray<float3 , 3>  * sv_sites_20, FixedArray<float3 , 3>  * sv_colors_20, Matrix<float, 3, 3>  R_44, float3  t_40, float fx_55, float fy_55, float cx_50, float cy_50, FixedArray<float, 10>  * dist_coeffs_58, uint image_width_43, uint image_height_43, float2  v_mean2d_9, float v_depth_10, float3  v_conic_9, float v_opacity_11, float3  v_rgb_10, float3  * v_mean_11, float4  * v_quat_10, float3  * v_scale_10, float * v_in_opacity_9, FixedArray<float3 , 3>  * v_sv_dirs_2, FixedArray<float3 , 3>  * v_sv_colors_2, Matrix<float, 3, 3>  * v_R_11, float3  * v_t_10)
{
    float3  _S5559 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_4;
    (&dp_mean_4)->primal_0 = mean_42;
    (&dp_mean_4)->differential_0 = _S5559;
    float4  _S5560 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_3;
    (&dp_quat_3)->primal_0 = quat_43;
    (&dp_quat_3)->differential_0 = _S5560;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_3;
    (&dp_scale_3)->primal_0 = scale_42;
    (&dp_scale_3)->differential_0 = _S5559;
    DiffPair_float_0 dp_in_opacity_2;
    (&dp_in_opacity_2)->primal_0 = in_opacity_37;
    (&dp_in_opacity_2)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S5561 = { _S5559, _S5559, _S5559 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_2;
    (&dp_sv_dirs_2)->primal_0 = *sv_sites_20;
    (&dp_sv_dirs_2)->differential_0 = _S5561;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_2;
    (&dp_sv_colors_2)->primal_0 = *sv_colors_20;
    (&dp_sv_colors_2)->differential_0 = _S5561;
    Matrix<float, 3, 3>  _S5562 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_4;
    (&dp_R_4)->primal_0 = R_44;
    (&dp_R_4)->differential_0 = _S5562;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_3;
    (&dp_t_3)->primal_0 = t_40;
    (&dp_t_3)->differential_0 = _S5559;
    s_bwd_projection_3dgut_sv_persp_differentiable_1(antialiased_43, &dp_mean_4, &dp_quat_3, &dp_scale_3, &dp_in_opacity_2, &dp_sv_dirs_2, &dp_sv_colors_2, &dp_R_4, &dp_t_3, fx_55, fy_55, cx_50, cy_50, dist_coeffs_58, image_width_43, image_height_43, 0.0f, 1.00000001504746622e+30f, v_mean2d_9, v_depth_10, v_conic_9, v_opacity_11, v_rgb_10);
    *v_mean_11 = dp_mean_4.differential_0;
    *v_quat_10 = dp_quat_3.differential_0;
    *v_scale_10 = dp_scale_3.differential_0;
    *v_in_opacity_9 = dp_in_opacity_2.differential_0;
    *v_sv_dirs_2 = (&dp_sv_dirs_2)->differential_0;
    *v_sv_colors_2 = (&dp_sv_colors_2)->differential_0;
    *v_R_11 = dp_R_4.differential_0;
    *v_t_10 = dp_t_3.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S5563;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_44, float3  dpmean_8, float4  dpquat_7, float3  dpscale_7, float dpin_opacity_6, FixedArray<float3 , 3>  * dpsv_sites_6, FixedArray<float3 , 3>  * dpsv_colors_6, Matrix<float, 3, 3>  dpR_8, float3  dpt_7, float fx_56, float fy_56, float cx_51, float cy_51, FixedArray<float, 10>  * dist_coeffs_59, uint image_width_44, uint image_height_44, float near_plane_34, float far_plane_34, int4  * aabb_xyxy_31, float2  * dpmean2d_10, float * dpdepth_7, float3  * dpconic_6, float * dpopacity_8, float3  * dprgb_7, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_20)
{
    Matrix<float, 2, 2>  _S5564 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_20->_S5563 = _S5564;
    float2  _S5565 = make_float2 (0.0f);
    float3  _S5566 = make_float3 (0.0f);
    float3  mean_c_43 = s_primal_ctx_mul_0(dpR_8, dpmean_8) + dpt_7;
    float _S5567 = length_1(mean_c_43);
    float4  intrins_41 = make_float4 (fx_56, fy_56, cx_51, cy_51);
    float3  _S5568 = s_primal_ctx_exp_0(dpscale_7);
    float _S5569 = dpquat_7.y;
    float x2_47 = _S5569 * _S5569;
    float y2_47 = dpquat_7.z * dpquat_7.z;
    float z2_70 = dpquat_7.w * dpquat_7.w;
    float xy_47 = dpquat_7.y * dpquat_7.z;
    float xz_47 = dpquat_7.y * dpquat_7.w;
    float yz_47 = dpquat_7.z * dpquat_7.w;
    float wx_47 = dpquat_7.x * dpquat_7.y;
    float wy_47 = dpquat_7.x * dpquat_7.z;
    float wz_47 = dpquat_7.x * dpquat_7.w;
    Matrix<float, 3, 3>  _S5570 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_47 + z2_70), 2.0f * (xy_47 + wz_47), 2.0f * (xz_47 - wy_47), 2.0f * (xy_47 - wz_47), 1.0f - 2.0f * (x2_47 + z2_70), 2.0f * (yz_47 + wx_47), 2.0f * (xz_47 + wy_47), 2.0f * (yz_47 - wx_47), 1.0f - 2.0f * (x2_47 + y2_47))));
    FixedArray<float3 , 7>  _S5571 = {
        _S5566, _S5566, _S5566, _S5566, _S5566, _S5566, _S5566
    };
    FixedArray<float, 7>  _S5572 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5573;
    (&_S5573)->p_0 = _S5571;
    (&_S5573)->w_mean_0 = _S5572;
    (&_S5573)->w_cov_0 = _S5572;
    (&_S5573)->p_0[int(0)] = dpmean_8;
    SigmaPoints_0 _S5574 = _S5573;
    (&_S5574)->w_mean_0[int(0)] = 0.0f;
    (&_S5574)->w_cov_0[int(0)] = 2.0f;
    float _S5575 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_102 = make_float3 (_S5575 * _S5568.x) * _S5570.rows[0U];
    float3  _S5576 = dpmean_8 + delta_102;
    float3  _S5577 = dpmean_8 - delta_102;
    float3  delta_103 = make_float3 (_S5575 * _S5568.y) * _S5570.rows[1U];
    float3  _S5578 = dpmean_8 + delta_103;
    float3  _S5579 = dpmean_8 - delta_103;
    float3  delta_104 = make_float3 (_S5575 * _S5568.z) * _S5570.rows[2U];
    float3  _S5580 = dpmean_8 + delta_104;
    float3  _S5581 = dpmean_8 - delta_104;
    (&_S5574)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5574)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5574)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5574)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5574)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5574)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5574)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5574)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5574)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5574)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5574)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5574)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5574)->p_0[0U] = s_primal_ctx_mul_0(dpR_8, _S5573.p_0[0U]) + dpt_7;
    (&_S5574)->p_0[1U] = s_primal_ctx_mul_0(dpR_8, _S5576) + dpt_7;
    (&_S5574)->p_0[2U] = s_primal_ctx_mul_0(dpR_8, _S5578) + dpt_7;
    (&_S5574)->p_0[3U] = s_primal_ctx_mul_0(dpR_8, _S5580) + dpt_7;
    (&_S5574)->p_0[4U] = s_primal_ctx_mul_0(dpR_8, _S5577) + dpt_7;
    (&_S5574)->p_0[5U] = s_primal_ctx_mul_0(dpR_8, _S5579) + dpt_7;
    (&_S5574)->p_0[6U] = s_primal_ctx_mul_0(dpR_8, _S5581) + dpt_7;
    float2  _S5582 = _S5565;
    Matrix<float, 2, 2>  _S5583 = _S5564;
    SigmaPoints_0 _S5584 = _S5574;
    bool _S5585 = fisheye_proj_3dgs_ut_1(&_S5584, intrins_41, dist_coeffs_59, &_S5583, &_S5582);
    _s_diff_ctx_20->_S5563 = _S5583;
    float2  _S5586 = _S5582;
    float _S5587 = _S5583.rows[int(0)].y * _S5583.rows[int(1)].x;
    float det_orig_48 = _S5583.rows[int(0)].x * _S5583.rows[int(1)].y - _S5587;
    float _S5588 = _S5583.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5589 = _S5583;
    *&(((&_S5589)->rows + (int(0)))->x) = _S5588;
    float _S5590 = _S5583.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5589)->rows + (int(1)))->y) = _S5590;
    Matrix<float, 2, 2>  _S5591 = _S5589;
    Matrix<float, 2, 2>  _S5592 = _S5589;
    float _S5593 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_48 / (_S5588 * _S5590 - _S5587)));
    float _S5594 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_6));
    float _S5595;
    if(antialiased_44)
    {
        _S5595 = _S5594 * _S5593;
    }
    else
    {
        _S5595 = _S5594;
    }
    float _S5596 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5595 / 0.00392156885936856f)));
    float radius_x_31 = _S5596 * s_primal_ctx_sqrt_0(_S5591.rows[int(0)].x);
    float radius_y_31 = _S5596 * s_primal_ctx_sqrt_0(_S5592.rows[int(1)].y);
    float _S5597 = _S5586.x;
    float _S5598 = _S5586.y;
    float _S5599 = mean_c_43.z;
    float _S5600 = s_primal_ctx_max_0(_S5599, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5599 + _S5567));
    float3  _S5601 = s_primal_ctx_exp_0(- dpscale_7);
    float3  _S5602 = dpmean_8 - - s_primal_ctx_mul_0(transpose_0(dpR_8), dpt_7);
    float3  _S5603 = _S5602 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5602, _S5602)));
    float _S5604 = s_primal_ctx_dot_0((*dpsv_sites_6)[int(2)], _S5603);
    float _S5605 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(0)], _S5603) - _S5604);
    float _S5606 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(1)], _S5603) - _S5604);
    float _S5607 = s_primal_ctx_exp_1(0.0f);
    float3  _S5608 = s_primal_ctx_max_1((make_float3 (_S5605) * (*dpsv_colors_6)[int(0)] + make_float3 (_S5606) * (*dpsv_colors_6)[int(1)] + make_float3 (_S5607) * (*dpsv_colors_6)[int(2)]) / make_float3 (_S5605 + _S5606 + _S5607) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_31 = make_int4 (int((F32_floor((_S5597 - radius_x_31)))), int((F32_floor((_S5598 - radius_y_31)))), int((F32_ceil((_S5597 + radius_x_31)))), int((F32_ceil((_S5598 + radius_y_31)))));
    *dpmean2d_10 = _S5586;
    *dpdepth_7 = _S5600;
    *dpconic_6 = _S5601;
    *dpopacity_8 = _S5595;
    *dprgb_7 = _S5608;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_45, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_9, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_8, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_8, DiffPair_float_0 * dpin_opacity_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_7, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_9, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_8, float fx_57, float fy_57, float cx_52, float cy_52, FixedArray<float, 10>  * dist_coeffs_60, uint image_width_45, uint image_height_45, float near_plane_35, float far_plane_35, float2  dpmean2d_11, float dpdepth_8, float3  dpconic_7, float dpopacity_9, float3  dprgb_8, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_21)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5609 = *dpmean_9;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5610 = *dpquat_8;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5611 = *dpscale_8;
    FixedArray<float3 , 3>  _S5612 = dpsv_sites_7->primal_0;
    FixedArray<float3 , 3>  _S5613 = dpsv_colors_7->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5614 = *dpR_9;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5615 = *dpt_8;
    float3  _S5616 = make_float3 (0.0f);
    float3  mean_c_44 = s_primal_ctx_mul_0((*dpR_9).primal_0, (*dpmean_9).primal_0) + (*dpt_8).primal_0;
    float _S5617 = length_1(mean_c_44);
    float3  _S5618 = s_primal_ctx_exp_0((*dpscale_8).primal_0);
    float _S5619 = (*dpquat_8).primal_0.y;
    float x2_48 = _S5619 * _S5619;
    float y2_48 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.z;
    float z2_71 = (*dpquat_8).primal_0.w * (*dpquat_8).primal_0.w;
    float xy_48 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.z;
    float xz_48 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.w;
    float yz_48 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.w;
    float wx_48 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.y;
    float wy_48 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.z;
    float wz_48 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.w;
    Matrix<float, 3, 3>  _S5620 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_48 + z2_71), 2.0f * (xy_48 + wz_48), 2.0f * (xz_48 - wy_48), 2.0f * (xy_48 - wz_48), 1.0f - 2.0f * (x2_48 + z2_71), 2.0f * (yz_48 + wx_48), 2.0f * (xz_48 + wy_48), 2.0f * (yz_48 - wx_48), 1.0f - 2.0f * (x2_48 + y2_48))));
    FixedArray<float3 , 7>  _S5621 = {
        _S5616, _S5616, _S5616, _S5616, _S5616, _S5616, _S5616
    };
    FixedArray<float, 7>  _S5622 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5623;
    (&_S5623)->p_0 = _S5621;
    (&_S5623)->w_mean_0 = _S5622;
    (&_S5623)->w_cov_0 = _S5622;
    (&_S5623)->p_0[int(0)] = (*dpmean_9).primal_0;
    float _S5624 = s_primal_ctx_sqrt_0(3.0f);
    float _S5625 = _S5624 * _S5618.x;
    float3  _S5626 = make_float3 (_S5625);
    float3  delta_105 = make_float3 (_S5625) * _S5620.rows[0U];
    float3  _S5627 = (*dpmean_9).primal_0 + delta_105;
    float3  _S5628 = (*dpmean_9).primal_0 - delta_105;
    float _S5629 = _S5624 * _S5618.y;
    float3  _S5630 = make_float3 (_S5629);
    float3  delta_106 = make_float3 (_S5629) * _S5620.rows[1U];
    float3  _S5631 = (*dpmean_9).primal_0 + delta_106;
    float3  _S5632 = (*dpmean_9).primal_0 - delta_106;
    float _S5633 = _S5624 * _S5618.z;
    float3  _S5634 = make_float3 (_S5633);
    float3  delta_107 = make_float3 (_S5633) * _S5620.rows[2U];
    float3  _S5635 = (*dpmean_9).primal_0 + delta_107;
    float3  _S5636 = (*dpmean_9).primal_0 - delta_107;
    SigmaPoints_0 _S5637 = _S5623;
    float _S5638 = *&(((&_s_diff_ctx_21->_S5563)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_21->_S5563)->rows + (int(1)))->x);
    float det_orig_49 = *&(((&_s_diff_ctx_21->_S5563)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_21->_S5563)->rows + (int(1)))->y) - _S5638;
    float _S5639 = *&(((&_s_diff_ctx_21->_S5563)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5640 = _s_diff_ctx_21->_S5563;
    *&(((&_S5640)->rows + (int(0)))->x) = _S5639;
    float _S5641 = *&(((&_s_diff_ctx_21->_S5563)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5640)->rows + (int(1)))->y) = _S5641;
    Matrix<float, 2, 2>  _S5642 = _S5640;
    Matrix<float, 2, 2>  _S5643 = _S5640;
    float det_blur_36 = _S5639 * _S5641 - _S5638;
    float _S5644 = det_orig_49 / det_blur_36;
    float _S5645 = det_blur_36 * det_blur_36;
    float _S5646 = s_primal_ctx_max_0(0.0f, _S5644);
    float _S5647 = s_primal_ctx_sqrt_0(_S5646);
    float _S5648 = - (*dpin_opacity_7).primal_0;
    float _S5649 = 1.0f + s_primal_ctx_exp_1(_S5648);
    float _S5650 = 1.0f / _S5649;
    float _S5651 = _S5649 * _S5649;
    float _S5652;
    if(antialiased_45)
    {
        _S5652 = _S5650 * _S5647;
    }
    else
    {
        _S5652 = _S5650;
    }
    float _S5653 = _S5652 / 0.00392156885936856f;
    float _S5654 = 2.0f * s_primal_ctx_log_0(_S5653);
    float _S5655 = s_primal_ctx_sqrt_0(_S5654);
    float _S5656 = _S5642.rows[int(0)].x;
    float _S5657 = _S5643.rows[int(1)].y;
    float _S5658 = mean_c_44.z;
    float _S5659 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5660 = _S5659 * (_S5658 + _S5617);
    float3  _S5661 = - _S5611.primal_0;
    Matrix<float, 3, 3>  _S5662 = transpose_0(_S5614.primal_0);
    float3  _S5663 = _S5609.primal_0 - - s_primal_ctx_mul_0(_S5662, _S5615.primal_0);
    float _S5664 = s_primal_ctx_dot_0(_S5663, _S5663);
    float _S5665 = s_primal_ctx_rsqrt_0(_S5664);
    float3  _S5666 = make_float3 (_S5665);
    float3  _S5667 = _S5663 * make_float3 (_S5665);
    float _S5668 = s_primal_ctx_dot_0(_S5612[int(2)], _S5667);
    float _S5669 = s_primal_ctx_dot_0(_S5612[int(0)], _S5667) - _S5668;
    float _S5670 = s_primal_ctx_exp_1(_S5669);
    float3  _S5671 = make_float3 (_S5670);
    float _S5672 = s_primal_ctx_dot_0(_S5612[int(1)], _S5667) - _S5668;
    float _S5673 = s_primal_ctx_exp_1(_S5672);
    float3  _S5674 = make_float3 (_S5673);
    float _S5675 = s_primal_ctx_exp_1(0.0f);
    float3  _S5676 = make_float3 (_S5675);
    float total_w_3 = _S5670 + _S5673 + _S5675;
    float3  _S5677 = make_float3 (total_w_3);
    float3  total_c_3 = make_float3 (_S5670) * _S5613[int(0)] + make_float3 (_S5673) * _S5613[int(1)] + make_float3 (_S5675) * _S5613[int(2)];
    float3  _S5678 = make_float3 (total_w_3 * total_w_3);
    float3  _S5679 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5680;
    (&_S5680)->primal_0 = total_c_3 / make_float3 (total_w_3) + make_float3 (0.5f);
    (&_S5680)->differential_0 = _S5616;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5681;
    (&_S5681)->primal_0 = _S5679;
    (&_S5681)->differential_0 = _S5616;
    s_bwd_prop_max_0(&_S5680, &_S5681, dprgb_8);
    float3  _S5682 = _S5680.differential_0 / _S5678;
    float3  _S5683 = total_c_3 * - _S5682;
    float3  s_diff_total_c_T_3 = _S5677 * _S5682;
    float3  _S5684 = _S5676 * s_diff_total_c_T_3;
    float _S5685 = _S5683.x + _S5683.y + _S5683.z;
    float3  _S5686 = _S5674 * s_diff_total_c_T_3;
    float3  _S5687 = _S5613[int(1)] * s_diff_total_c_T_3;
    float _S5688 = _S5685 + _S5687.x + _S5687.y + _S5687.z;
    DiffPair_float_0 _S5689;
    (&_S5689)->primal_0 = _S5672;
    (&_S5689)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5689, _S5688);
    float _S5690 = - _S5689.differential_0;
    float3  _S5691 = _S5671 * s_diff_total_c_T_3;
    float3  _S5692 = _S5613[int(0)] * s_diff_total_c_T_3;
    float _S5693 = _S5685 + _S5692.x + _S5692.y + _S5692.z;
    DiffPair_float_0 _S5694;
    (&_S5694)->primal_0 = _S5669;
    (&_S5694)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5694, _S5693);
    float _S5695 = _S5690 + - _S5694.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5696;
    (&_S5696)->primal_0 = _S5612[int(2)];
    (&_S5696)->differential_0 = _S5616;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5697;
    (&_S5697)->primal_0 = _S5667;
    (&_S5697)->differential_0 = _S5616;
    s_bwd_prop_dot_0(&_S5696, &_S5697, _S5695);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5698;
    (&_S5698)->primal_0 = _S5612[int(1)];
    (&_S5698)->differential_0 = _S5616;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5699;
    (&_S5699)->primal_0 = _S5667;
    (&_S5699)->differential_0 = _S5616;
    s_bwd_prop_dot_0(&_S5698, &_S5699, _S5689.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5700;
    (&_S5700)->primal_0 = _S5612[int(0)];
    (&_S5700)->differential_0 = _S5616;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5701;
    (&_S5701)->primal_0 = _S5667;
    (&_S5701)->differential_0 = _S5616;
    s_bwd_prop_dot_0(&_S5700, &_S5701, _S5694.differential_0);
    float3  _S5702 = _S5697.differential_0 + _S5699.differential_0 + _S5701.differential_0;
    float3  _S5703 = _S5663 * _S5702;
    float3  _S5704 = _S5666 * _S5702;
    float _S5705 = _S5703.x + _S5703.y + _S5703.z;
    DiffPair_float_0 _S5706;
    (&_S5706)->primal_0 = _S5664;
    (&_S5706)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5706, _S5705);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5707;
    (&_S5707)->primal_0 = _S5663;
    (&_S5707)->differential_0 = _S5616;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5708;
    (&_S5708)->primal_0 = _S5663;
    (&_S5708)->differential_0 = _S5616;
    s_bwd_prop_dot_0(&_S5707, &_S5708, _S5706.differential_0);
    float3  _S5709 = _S5704 + _S5708.differential_0 + _S5707.differential_0;
    float3  _S5710 = - - _S5709;
    Matrix<float, 3, 3>  _S5711 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5712;
    (&_S5712)->primal_0 = _S5662;
    (&_S5712)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5713;
    (&_S5713)->primal_0 = _S5615.primal_0;
    (&_S5713)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5712, &_S5713, _S5710);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5714 = _S5713;
    Matrix<float, 3, 3>  _S5715 = transpose_0(_S5712.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5716;
    (&_S5716)->primal_0 = _S5661;
    (&_S5716)->differential_0 = _S5616;
    s_bwd_prop_exp_1(&_S5716, dpconic_7);
    float3  _S5717 = - _S5716.differential_0;
    DiffPair_float_0 _S5718;
    (&_S5718)->primal_0 = _S5658;
    (&_S5718)->differential_0 = 0.0f;
    DiffPair_float_0 _S5719;
    (&_S5719)->primal_0 = _S5660;
    (&_S5719)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5718, &_S5719, dpdepth_8);
    float _S5720 = _S5659 * _S5719.differential_0;
    float _S5721 = _S5718.differential_0 + _S5720;
    DiffPair_float_0 _S5722;
    (&_S5722)->primal_0 = _S5657;
    (&_S5722)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5722, 0.0f);
    DiffPair_float_0 _S5723;
    (&_S5723)->primal_0 = _S5656;
    (&_S5723)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5723, 0.0f);
    DiffPair_float_0 _S5724;
    (&_S5724)->primal_0 = 3.32999992370605469f;
    (&_S5724)->differential_0 = 0.0f;
    DiffPair_float_0 _S5725;
    (&_S5725)->primal_0 = _S5655;
    (&_S5725)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5724, &_S5725, 0.0f);
    DiffPair_float_0 _S5726;
    (&_S5726)->primal_0 = _S5654;
    (&_S5726)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5726, _S5725.differential_0);
    float _S5727 = 2.0f * _S5726.differential_0;
    DiffPair_float_0 _S5728;
    (&_S5728)->primal_0 = _S5653;
    (&_S5728)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5728, _S5727);
    float _S5729 = dpopacity_9 + 254.9999847412109375f * _S5728.differential_0;
    FixedArray<float3 , 3>  _S5730;
    _S5730[int(0)] = _S5616;
    _S5730[int(1)] = _S5616;
    _S5730[int(2)] = _S5616;
    _S5730[int(2)] = _S5684;
    _S5730[int(1)] = _S5686;
    _S5730[int(0)] = _S5691;
    FixedArray<float3 , 3>  _S5731 = {
        _S5730[int(0)], _S5730[int(1)], _S5730[int(2)]
    };
    FixedArray<float3 , 3>  _S5732;
    _S5732[int(0)] = _S5616;
    _S5732[int(1)] = _S5616;
    _S5732[int(2)] = _S5616;
    _S5732[int(2)] = _S5696.differential_0;
    _S5732[int(1)] = _S5698.differential_0;
    _S5732[int(0)] = _S5700.differential_0;
    FixedArray<float3 , 3>  _S5733 = {
        _S5732[int(0)], _S5732[int(1)], _S5732[int(2)]
    };
    float3  _S5734 = make_float3 (0.0f, 0.0f, _S5721);
    float2  _S5735 = make_float2 (0.0f, _S5722.differential_0);
    float2  _S5736 = make_float2 (_S5723.differential_0, 0.0f);
    float _S5737;
    if(antialiased_45)
    {
        float _S5738 = _S5650 * _S5729;
        _S5652 = _S5647 * _S5729;
        _S5737 = _S5738;
    }
    else
    {
        _S5652 = _S5729;
        _S5737 = 0.0f;
    }
    float _S5739 = - (_S5652 / _S5651);
    DiffPair_float_0 _S5740;
    (&_S5740)->primal_0 = _S5648;
    (&_S5740)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5740, _S5739);
    float _S5741 = - _S5740.differential_0;
    DiffPair_float_0 _S5742;
    (&_S5742)->primal_0 = _S5646;
    (&_S5742)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5742, _S5737);
    DiffPair_float_0 _S5743;
    (&_S5743)->primal_0 = 0.0f;
    (&_S5743)->differential_0 = 0.0f;
    DiffPair_float_0 _S5744;
    (&_S5744)->primal_0 = _S5644;
    (&_S5744)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5743, &_S5744, _S5742.differential_0);
    float _S5745 = _S5744.differential_0 / _S5645;
    float s_diff_det_blur_T_7 = det_orig_49 * - _S5745;
    float s_diff_det_orig_T_10 = det_blur_36 * _S5745;
    float _S5746 = - s_diff_det_blur_T_7;
    float _S5747 = _S5639 * s_diff_det_blur_T_7;
    float _S5748 = _S5641 * s_diff_det_blur_T_7;
    Matrix<float, 2, 2>  _S5749 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5750 = _S5749;
    _S5750[int(1)] = _S5735;
    _S5750[int(0)] = _S5736;
    float _S5751 = _S5748 + _S5750.rows[int(0)].x;
    float _S5752 = _S5746 + - s_diff_det_orig_T_10;
    float _S5753 = *&(((&_s_diff_ctx_21->_S5563)->rows + (int(0)))->y) * _S5752;
    float _S5754 = *&(((&_s_diff_ctx_21->_S5563)->rows + (int(1)))->x) * _S5752;
    float _S5755 = *&(((&_s_diff_ctx_21->_S5563)->rows + (int(1)))->y) * s_diff_det_orig_T_10;
    float _S5756 = _S5747 + _S5750.rows[int(1)].y + *&(((&_s_diff_ctx_21->_S5563)->rows + (int(0)))->x) * s_diff_det_orig_T_10;
    float2  _S5757 = make_float2 (0.0f);
    float2  _S5758 = _S5757;
    *&((&_S5758)->x) = _S5753;
    *&((&_S5758)->y) = _S5756;
    float _S5759 = _S5751 + _S5755;
    float2  _S5760 = _S5757;
    *&((&_S5760)->y) = _S5754;
    *&((&_S5760)->x) = _S5759;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5761;
    (&_S5761)->primal_0 = _S5614.primal_0;
    (&_S5761)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5762;
    (&_S5762)->primal_0 = _S5636;
    (&_S5762)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5761, &_S5762, _S5616);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5763;
    (&_S5763)->primal_0 = _S5614.primal_0;
    (&_S5763)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5764;
    (&_S5764)->primal_0 = _S5632;
    (&_S5764)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5763, &_S5764, _S5616);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5765;
    (&_S5765)->primal_0 = _S5614.primal_0;
    (&_S5765)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5766;
    (&_S5766)->primal_0 = _S5628;
    (&_S5766)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5765, &_S5766, _S5616);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5767;
    (&_S5767)->primal_0 = _S5614.primal_0;
    (&_S5767)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5768;
    (&_S5768)->primal_0 = _S5635;
    (&_S5768)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5767, &_S5768, _S5616);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5769;
    (&_S5769)->primal_0 = _S5614.primal_0;
    (&_S5769)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5770;
    (&_S5770)->primal_0 = _S5631;
    (&_S5770)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5769, &_S5770, _S5616);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5771;
    (&_S5771)->primal_0 = _S5614.primal_0;
    (&_S5771)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5772;
    (&_S5772)->primal_0 = _S5627;
    (&_S5772)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5771, &_S5772, _S5616);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5773;
    (&_S5773)->primal_0 = _S5614.primal_0;
    (&_S5773)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5774;
    (&_S5774)->primal_0 = _S5637.p_0[0U];
    (&_S5774)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5773, &_S5774, _S5616);
    float3  _S5775 = - _S5762.differential_0 + _S5768.differential_0;
    float3  _S5776 = _S5634 * _S5775;
    float3  _S5777 = _S5620.rows[2U] * _S5775;
    float _S5778 = _S5624 * (_S5777.x + _S5777.y + _S5777.z);
    float3  _S5779 = - _S5764.differential_0 + _S5770.differential_0;
    float3  _S5780 = _S5630 * _S5779;
    float3  _S5781 = _S5620.rows[1U] * _S5779;
    float _S5782 = _S5624 * (_S5781.x + _S5781.y + _S5781.z);
    float3  _S5783 = - _S5766.differential_0 + _S5772.differential_0;
    float3  _S5784 = _S5626 * _S5783;
    float3  _S5785 = _S5620.rows[0U] * _S5783;
    float _S5786 = _S5624 * (_S5785.x + _S5785.y + _S5785.z);
    Matrix<float, 3, 3>  _S5787 = _S5711;
    _S5787[2U] = _S5776;
    _S5787[1U] = _S5780;
    _S5787[0U] = _S5784;
    Matrix<float, 3, 3>  _S5788 = transpose_0(transpose_0(_S5787));
    float _S5789 = 2.0f * - _S5788.rows[int(2)].z;
    float _S5790 = 2.0f * _S5788.rows[int(2)].y;
    float _S5791 = 2.0f * _S5788.rows[int(2)].x;
    float _S5792 = 2.0f * _S5788.rows[int(1)].z;
    float _S5793 = 2.0f * - _S5788.rows[int(1)].y;
    float _S5794 = 2.0f * _S5788.rows[int(1)].x;
    float _S5795 = 2.0f * _S5788.rows[int(0)].z;
    float _S5796 = 2.0f * _S5788.rows[int(0)].y;
    float _S5797 = 2.0f * - _S5788.rows[int(0)].x;
    float _S5798 = - _S5794 + _S5796;
    float _S5799 = _S5791 + - _S5795;
    float _S5800 = - _S5790 + _S5792;
    float _S5801 = _S5790 + _S5792;
    float _S5802 = _S5791 + _S5795;
    float _S5803 = _S5794 + _S5796;
    float _S5804 = _S5610.primal_0.w * (_S5793 + _S5797);
    float _S5805 = _S5610.primal_0.z * (_S5789 + _S5797);
    float _S5806 = _S5610.primal_0.y * (_S5789 + _S5793);
    float _S5807 = _S5610.primal_0.x * _S5798 + _S5610.primal_0.z * _S5801 + _S5610.primal_0.y * _S5802 + _S5804 + _S5804;
    float _S5808 = _S5610.primal_0.x * _S5799 + _S5610.primal_0.w * _S5801 + _S5610.primal_0.y * _S5803 + _S5805 + _S5805;
    float _S5809 = _S5610.primal_0.x * _S5800 + _S5610.primal_0.w * _S5802 + _S5610.primal_0.z * _S5803 + _S5806 + _S5806;
    float _S5810 = _S5610.primal_0.w * _S5798 + _S5610.primal_0.z * _S5799 + _S5610.primal_0.y * _S5800;
    float3  _S5811 = _S5616;
    *&((&_S5811)->z) = _S5778;
    *&((&_S5811)->y) = _S5782;
    *&((&_S5811)->x) = _S5786;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5812;
    (&_S5812)->primal_0 = _S5611.primal_0;
    (&_S5812)->differential_0 = _S5616;
    s_bwd_prop_exp_1(&_S5812, _S5811);
    Matrix<float, 2, 2>  _S5813 = _S5749;
    _S5813[int(1)] = _S5758;
    _S5813[int(0)] = _S5760;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5814;
    (&_S5814)->primal_0 = mean_c_44;
    (&_S5814)->differential_0 = _S5616;
    s_bwd_length_impl_1(&_S5814, _S5720);
    float3  _S5815 = _S5814.differential_0 + _S5734;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5816;
    (&_S5816)->primal_0 = _S5614.primal_0;
    (&_S5816)->differential_0 = _S5711;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5817;
    (&_S5817)->primal_0 = _S5609.primal_0;
    (&_S5817)->differential_0 = _S5616;
    s_bwd_prop_mul_1(&_S5816, &_S5817, _S5815);
    float3  _S5818 = _S5815 + _S5714.differential_0;
    dpt_8->primal_0 = (*dpt_8).primal_0;
    dpt_8->differential_0 = _S5818;
    Matrix<float, 3, 3>  _S5819 = _S5761.differential_0 + _S5763.differential_0 + _S5765.differential_0 + _S5767.differential_0 + _S5769.differential_0 + _S5771.differential_0 + _S5773.differential_0 + _S5816.differential_0 + _S5715;
    dpR_9->primal_0 = (*dpR_9).primal_0;
    dpR_9->differential_0 = _S5819;
    dpsv_colors_7->primal_0 = dpsv_colors_7->primal_0;
    dpsv_colors_7->differential_0 = _S5731;
    dpsv_sites_7->primal_0 = dpsv_sites_7->primal_0;
    dpsv_sites_7->differential_0 = _S5733;
    dpin_opacity_7->primal_0 = (*dpin_opacity_7).primal_0;
    dpin_opacity_7->differential_0 = _S5741;
    float3  _S5820 = _S5812.differential_0 + _S5717;
    dpscale_8->primal_0 = (*dpscale_8).primal_0;
    dpscale_8->differential_0 = _S5820;
    float4  _S5821 = make_float4 (0.0f);
    *&((&_S5821)->w) = _S5807;
    *&((&_S5821)->z) = _S5808;
    *&((&_S5821)->y) = _S5809;
    *&((&_S5821)->x) = _S5810;
    dpquat_8->primal_0 = (*dpquat_8).primal_0;
    dpquat_8->differential_0 = _S5821;
    float3  _S5822 = _S5762.differential_0 + _S5768.differential_0 + _S5764.differential_0 + _S5770.differential_0 + _S5766.differential_0 + _S5772.differential_0 + _S5817.differential_0 + _S5709;
    dpmean_9->primal_0 = (*dpmean_9).primal_0;
    dpmean_9->differential_0 = _S5822;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_1(bool _S5823, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5824, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5825, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5826, DiffPair_float_0 * _S5827, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S5828, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S5829, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5830, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5831, float _S5832, float _S5833, float _S5834, float _S5835, FixedArray<float, 10>  * _S5836, uint _S5837, uint _S5838, float _S5839, float _S5840, float2  _S5841, float _S5842, float3  _S5843, float _S5844, float3  _S5845)
{
    FixedArray<float3 , 3>  _S5846 = _S5828->primal_0;
    FixedArray<float3 , 3>  _S5847 = _S5829->primal_0;
    int4  _S5848;
    float2  _S5849;
    float _S5850;
    float3  _S5851;
    float _S5852;
    float3  _S5853;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S5854;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(_S5823, (*_S5824).primal_0, (*_S5825).primal_0, (*_S5826).primal_0, (*_S5827).primal_0, &_S5846, &_S5847, (*_S5830).primal_0, (*_S5831).primal_0, _S5832, _S5833, _S5834, _S5835, _S5836, _S5837, _S5838, _S5839, _S5840, &_S5848, &_S5849, &_S5850, &_S5851, &_S5852, &_S5853, &_S5854);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S5855 = _S5854;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(_S5823, _S5824, _S5825, _S5826, _S5827, _S5828, _S5829, _S5830, _S5831, _S5832, _S5833, _S5834, _S5835, _S5836, _S5837, _S5838, _S5839, _S5840, _S5841, _S5842, _S5843, _S5844, _S5845, &_S5855);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_46, float3  mean_43, float4  quat_44, float3  scale_43, float in_opacity_38, FixedArray<float3 , 3>  * sv_sites_21, FixedArray<float3 , 3>  * sv_colors_21, Matrix<float, 3, 3>  R_45, float3  t_41, float fx_58, float fy_58, float cx_53, float cy_53, FixedArray<float, 10>  * dist_coeffs_61, uint image_width_46, uint image_height_46, float2  v_mean2d_10, float v_depth_11, float3  v_conic_10, float v_opacity_12, float3  v_rgb_11, float3  * v_mean_12, float4  * v_quat_11, float3  * v_scale_11, float * v_in_opacity_10, FixedArray<float3 , 3>  * v_sv_dirs_3, FixedArray<float3 , 3>  * v_sv_colors_3, Matrix<float, 3, 3>  * v_R_12, float3  * v_t_11)
{
    float3  _S5856 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_5;
    (&dp_mean_5)->primal_0 = mean_43;
    (&dp_mean_5)->differential_0 = _S5856;
    float4  _S5857 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_4;
    (&dp_quat_4)->primal_0 = quat_44;
    (&dp_quat_4)->differential_0 = _S5857;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_4;
    (&dp_scale_4)->primal_0 = scale_43;
    (&dp_scale_4)->differential_0 = _S5856;
    DiffPair_float_0 dp_in_opacity_3;
    (&dp_in_opacity_3)->primal_0 = in_opacity_38;
    (&dp_in_opacity_3)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S5858 = { _S5856, _S5856, _S5856 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_3;
    (&dp_sv_dirs_3)->primal_0 = *sv_sites_21;
    (&dp_sv_dirs_3)->differential_0 = _S5858;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_3;
    (&dp_sv_colors_3)->primal_0 = *sv_colors_21;
    (&dp_sv_colors_3)->differential_0 = _S5858;
    Matrix<float, 3, 3>  _S5859 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_5;
    (&dp_R_5)->primal_0 = R_45;
    (&dp_R_5)->differential_0 = _S5859;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_4;
    (&dp_t_4)->primal_0 = t_41;
    (&dp_t_4)->differential_0 = _S5856;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_1(antialiased_46, &dp_mean_5, &dp_quat_4, &dp_scale_4, &dp_in_opacity_3, &dp_sv_dirs_3, &dp_sv_colors_3, &dp_R_5, &dp_t_4, fx_58, fy_58, cx_53, cy_53, dist_coeffs_61, image_width_46, image_height_46, 0.0f, 1.00000001504746622e+30f, v_mean2d_10, v_depth_11, v_conic_10, v_opacity_12, v_rgb_11);
    *v_mean_12 = dp_mean_5.differential_0;
    *v_quat_11 = dp_quat_4.differential_0;
    *v_scale_11 = dp_scale_4.differential_0;
    *v_in_opacity_10 = dp_in_opacity_3.differential_0;
    *v_sv_dirs_3 = (&dp_sv_dirs_3)->differential_0;
    *v_sv_colors_3 = (&dp_sv_colors_3)->differential_0;
    *v_R_12 = dp_R_5.differential_0;
    *v_t_11 = dp_t_4.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_47, float3  mean_44, float4  quat_45, float3  scale_44, float in_opacity_39, FixedArray<float3 , 4>  * sv_sites_22, FixedArray<float3 , 4>  * sv_colors_22, Matrix<float, 3, 3>  R_46, float3  t_42, float fx_59, float fy_59, float cx_54, float cy_54, FixedArray<float, 10>  * dist_coeffs_62, uint image_width_47, uint image_height_47, float near_plane_36, float far_plane_36, int4  * aabb_xyxy_32, float2  * mean2d_37, float * depth_29, float3  * conic_28, float * opacity_32, float3  * rgb_30)
{
    float3  mean_c_45 = mul_0(R_46, mean_44) + t_42;
    float4  intrins_42 = make_float4 (fx_59, fy_59, cx_54, cy_54);
    float3  _S5860 = exp_0(scale_44);
    float x_67 = quat_45.y;
    float x2_49 = x_67 * x_67;
    float y2_49 = quat_45.z * quat_45.z;
    float z2_72 = quat_45.w * quat_45.w;
    float xy_49 = quat_45.y * quat_45.z;
    float xz_49 = quat_45.y * quat_45.w;
    float yz_49 = quat_45.z * quat_45.w;
    float wx_49 = quat_45.x * quat_45.y;
    float wy_49 = quat_45.x * quat_45.z;
    float wz_49 = quat_45.x * quat_45.w;
    Matrix<float, 3, 3>  _S5861 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_49 + z2_72), 2.0f * (xy_49 + wz_49), 2.0f * (xz_49 - wy_49), 2.0f * (xy_49 - wz_49), 1.0f - 2.0f * (x2_49 + z2_72), 2.0f * (yz_49 + wx_49), 2.0f * (xz_49 + wy_49), 2.0f * (yz_49 - wx_49), 1.0f - 2.0f * (x2_49 + y2_49))));
    SigmaPoints_0 ret_22;
    (&ret_22)->p_0[int(0)] = mean_44;
    (&ret_22)->w_mean_0[int(0)] = 0.0f;
    (&ret_22)->w_cov_0[int(0)] = 2.0f;
    float _S5862 = (F32_sqrt((3.0f)));
    float3  delta_108 = make_float3 (_S5862 * _S5860.x) * _S5861.rows[0U];
    float3  _S5863 = mean_44 + delta_108;
    float3  _S5864 = mean_44 - delta_108;
    float3  delta_109 = make_float3 (_S5862 * _S5860.y) * _S5861.rows[1U];
    float3  _S5865 = mean_44 + delta_109;
    float3  _S5866 = mean_44 - delta_109;
    float3  delta_110 = make_float3 (_S5862 * _S5860.z) * _S5861.rows[2U];
    float3  _S5867 = mean_44 + delta_110;
    float3  _S5868 = mean_44 - delta_110;
    (&ret_22)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_22)->p_0[0U] = mul_0(R_46, (&ret_22)->p_0[0U]) + t_42;
    (&ret_22)->p_0[1U] = mul_0(R_46, _S5863) + t_42;
    (&ret_22)->p_0[2U] = mul_0(R_46, _S5865) + t_42;
    (&ret_22)->p_0[3U] = mul_0(R_46, _S5867) + t_42;
    (&ret_22)->p_0[4U] = mul_0(R_46, _S5864) + t_42;
    (&ret_22)->p_0[5U] = mul_0(R_46, _S5866) + t_42;
    (&ret_22)->p_0[6U] = mul_0(R_46, _S5868) + t_42;
    SigmaPoints_0 _S5869 = ret_22;
    Matrix<float, 2, 2>  covar2d_28;
    bool _S5870 = persp_proj_3dgs_ut_1(&_S5869, intrins_42, dist_coeffs_62, image_width_47, image_height_47, &covar2d_28, mean2d_37);
    float det_orig_50 = *&(((&covar2d_28)->rows + (int(0)))->x) * *&(((&covar2d_28)->rows + (int(1)))->y) - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x);
    float _S5871 = *&(((&covar2d_28)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(0)))->x) = _S5871;
    float _S5872 = *&(((&covar2d_28)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(1)))->y) = _S5872;
    float compensation_29 = (F32_sqrt(((F32_max((0.0f), (det_orig_50 / (_S5871 * _S5872 - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x))))))));
    *opacity_32 = 1.0f / (1.0f + (F32_exp((- in_opacity_39))));
    if(antialiased_47)
    {
        *opacity_32 = *opacity_32 * compensation_29;
    }
    float extend_28 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_32 / 0.00392156885936856f)))))))));
    float radius_x_32 = extend_28 * (F32_sqrt((covar2d_28[int(0)].x)));
    float radius_y_32 = extend_28 * (F32_sqrt((covar2d_28[int(1)].y)));
    *aabb_xyxy_32 = make_int4 (int((F32_floor(((*mean2d_37).x - radius_x_32)))), int((F32_floor(((*mean2d_37).y - radius_y_32)))), int((F32_ceil(((*mean2d_37).x + radius_x_32)))), int((F32_ceil(((*mean2d_37).y + radius_y_32)))));
    float _S5873 = mean_c_45.z;
    *depth_29 = (F32_max((_S5873), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5873 + length_1(mean_c_45)))));
    *conic_28 = exp_0(- scale_44);
    float3  _S5874 = mean_44 - - mul_0(transpose_0(R_46), t_42);
    float3  _S5875 = _S5874 * make_float3 ((F32_rsqrt((dot_1(_S5874, _S5874)))));
    float _S5876 = dot_1((*sv_sites_22)[int(3)], _S5875);
    float w_80 = (F32_exp((dot_1((*sv_sites_22)[int(0)], _S5875) - _S5876)));
    float w_81 = (F32_exp((dot_1((*sv_sites_22)[int(1)], _S5875) - _S5876)));
    float w_82 = (F32_exp((dot_1((*sv_sites_22)[int(2)], _S5875) - _S5876)));
    float w_83 = (F32_exp((0.0f)));
    *rgb_30 = max_0((make_float3 (w_80) * (*sv_colors_22)[int(0)] + make_float3 (w_81) * (*sv_colors_22)[int(1)] + make_float3 (w_82) * (*sv_colors_22)[int(2)] + make_float3 (w_83) * (*sv_colors_22)[int(3)]) / make_float3 (w_80 + w_81 + w_82 + w_83) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_48, float3  mean_45, float4  quat_46, float3  scale_45, float in_opacity_40, FixedArray<float3 , 4>  * sv_sites_23, FixedArray<float3 , 4>  * sv_colors_23, Matrix<float, 3, 3>  R_47, float3  t_43, float fx_60, float fy_60, float cx_55, float cy_55, FixedArray<float, 10>  * dist_coeffs_63, uint image_width_48, uint image_height_48, float near_plane_37, float far_plane_37, int4  * aabb_xyxy_33, float2  * mean2d_38, float * depth_30, float3  * conic_29, float * opacity_33, float3  * rgb_31)
{
    float3  mean_c_46 = mul_0(R_47, mean_45) + t_43;
    float4  intrins_43 = make_float4 (fx_60, fy_60, cx_55, cy_55);
    float3  _S5877 = exp_0(scale_45);
    float x_68 = quat_46.y;
    float x2_50 = x_68 * x_68;
    float y2_50 = quat_46.z * quat_46.z;
    float z2_73 = quat_46.w * quat_46.w;
    float xy_50 = quat_46.y * quat_46.z;
    float xz_50 = quat_46.y * quat_46.w;
    float yz_50 = quat_46.z * quat_46.w;
    float wx_50 = quat_46.x * quat_46.y;
    float wy_50 = quat_46.x * quat_46.z;
    float wz_50 = quat_46.x * quat_46.w;
    Matrix<float, 3, 3>  _S5878 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_50 + z2_73), 2.0f * (xy_50 + wz_50), 2.0f * (xz_50 - wy_50), 2.0f * (xy_50 - wz_50), 1.0f - 2.0f * (x2_50 + z2_73), 2.0f * (yz_50 + wx_50), 2.0f * (xz_50 + wy_50), 2.0f * (yz_50 - wx_50), 1.0f - 2.0f * (x2_50 + y2_50))));
    SigmaPoints_0 ret_23;
    (&ret_23)->p_0[int(0)] = mean_45;
    (&ret_23)->w_mean_0[int(0)] = 0.0f;
    (&ret_23)->w_cov_0[int(0)] = 2.0f;
    float _S5879 = (F32_sqrt((3.0f)));
    float3  delta_111 = make_float3 (_S5879 * _S5877.x) * _S5878.rows[0U];
    float3  _S5880 = mean_45 + delta_111;
    float3  _S5881 = mean_45 - delta_111;
    float3  delta_112 = make_float3 (_S5879 * _S5877.y) * _S5878.rows[1U];
    float3  _S5882 = mean_45 + delta_112;
    float3  _S5883 = mean_45 - delta_112;
    float3  delta_113 = make_float3 (_S5879 * _S5877.z) * _S5878.rows[2U];
    float3  _S5884 = mean_45 + delta_113;
    float3  _S5885 = mean_45 - delta_113;
    (&ret_23)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_23)->p_0[0U] = mul_0(R_47, (&ret_23)->p_0[0U]) + t_43;
    (&ret_23)->p_0[1U] = mul_0(R_47, _S5880) + t_43;
    (&ret_23)->p_0[2U] = mul_0(R_47, _S5882) + t_43;
    (&ret_23)->p_0[3U] = mul_0(R_47, _S5884) + t_43;
    (&ret_23)->p_0[4U] = mul_0(R_47, _S5881) + t_43;
    (&ret_23)->p_0[5U] = mul_0(R_47, _S5883) + t_43;
    (&ret_23)->p_0[6U] = mul_0(R_47, _S5885) + t_43;
    SigmaPoints_0 _S5886 = ret_23;
    Matrix<float, 2, 2>  covar2d_29;
    bool _S5887 = fisheye_proj_3dgs_ut_1(&_S5886, intrins_43, dist_coeffs_63, &covar2d_29, mean2d_38);
    float det_orig_51 = *&(((&covar2d_29)->rows + (int(0)))->x) * *&(((&covar2d_29)->rows + (int(1)))->y) - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x);
    float _S5888 = *&(((&covar2d_29)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(0)))->x) = _S5888;
    float _S5889 = *&(((&covar2d_29)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(1)))->y) = _S5889;
    float compensation_30 = (F32_sqrt(((F32_max((0.0f), (det_orig_51 / (_S5888 * _S5889 - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x))))))));
    *opacity_33 = 1.0f / (1.0f + (F32_exp((- in_opacity_40))));
    if(antialiased_48)
    {
        *opacity_33 = *opacity_33 * compensation_30;
    }
    float extend_29 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_33 / 0.00392156885936856f)))))))));
    float radius_x_33 = extend_29 * (F32_sqrt((covar2d_29[int(0)].x)));
    float radius_y_33 = extend_29 * (F32_sqrt((covar2d_29[int(1)].y)));
    *aabb_xyxy_33 = make_int4 (int((F32_floor(((*mean2d_38).x - radius_x_33)))), int((F32_floor(((*mean2d_38).y - radius_y_33)))), int((F32_ceil(((*mean2d_38).x + radius_x_33)))), int((F32_ceil(((*mean2d_38).y + radius_y_33)))));
    float _S5890 = mean_c_46.z;
    *depth_30 = (F32_max((_S5890), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5890 + length_1(mean_c_46)))));
    *conic_29 = exp_0(- scale_45);
    float3  _S5891 = mean_45 - - mul_0(transpose_0(R_47), t_43);
    float3  _S5892 = _S5891 * make_float3 ((F32_rsqrt((dot_1(_S5891, _S5891)))));
    float _S5893 = dot_1((*sv_sites_23)[int(3)], _S5892);
    float w_84 = (F32_exp((dot_1((*sv_sites_23)[int(0)], _S5892) - _S5893)));
    float w_85 = (F32_exp((dot_1((*sv_sites_23)[int(1)], _S5892) - _S5893)));
    float w_86 = (F32_exp((dot_1((*sv_sites_23)[int(2)], _S5892) - _S5893)));
    float w_87 = (F32_exp((0.0f)));
    *rgb_31 = max_0((make_float3 (w_84) * (*sv_colors_23)[int(0)] + make_float3 (w_85) * (*sv_colors_23)[int(1)] + make_float3 (w_86) * (*sv_colors_23)[int(2)] + make_float3 (w_87) * (*sv_colors_23)[int(3)]) / make_float3 (w_84 + w_85 + w_86 + w_87) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0
{
    FixedArray<float3 , 4>  primal_0;
    FixedArray<float3 , 4>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S5894;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(bool antialiased_49, float3  dpmean_10, float4  dpquat_9, float3  dpscale_9, float dpin_opacity_8, FixedArray<float3 , 4>  * dpsv_sites_8, FixedArray<float3 , 4>  * dpsv_colors_8, Matrix<float, 3, 3>  dpR_10, float3  dpt_9, float fx_61, float fy_61, float cx_56, float cy_56, FixedArray<float, 10>  * dist_coeffs_64, uint image_width_49, uint image_height_49, float near_plane_38, float far_plane_38, int4  * aabb_xyxy_34, float2  * dpmean2d_12, float * dpdepth_9, float3  * dpconic_8, float * dpopacity_10, float3  * dprgb_9, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_22)
{
    Matrix<float, 2, 2>  _S5895 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_22->_S5894 = _S5895;
    float2  _S5896 = make_float2 (0.0f);
    float3  _S5897 = make_float3 (0.0f);
    float3  mean_c_47 = s_primal_ctx_mul_0(dpR_10, dpmean_10) + dpt_9;
    float4  intrins_44 = make_float4 (fx_61, fy_61, cx_56, cy_56);
    float3  _S5898 = s_primal_ctx_exp_0(dpscale_9);
    float _S5899 = dpquat_9.y;
    float x2_51 = _S5899 * _S5899;
    float y2_51 = dpquat_9.z * dpquat_9.z;
    float z2_74 = dpquat_9.w * dpquat_9.w;
    float xy_51 = dpquat_9.y * dpquat_9.z;
    float xz_51 = dpquat_9.y * dpquat_9.w;
    float yz_51 = dpquat_9.z * dpquat_9.w;
    float wx_51 = dpquat_9.x * dpquat_9.y;
    float wy_51 = dpquat_9.x * dpquat_9.z;
    float wz_51 = dpquat_9.x * dpquat_9.w;
    Matrix<float, 3, 3>  _S5900 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_51 + z2_74), 2.0f * (xy_51 + wz_51), 2.0f * (xz_51 - wy_51), 2.0f * (xy_51 - wz_51), 1.0f - 2.0f * (x2_51 + z2_74), 2.0f * (yz_51 + wx_51), 2.0f * (xz_51 + wy_51), 2.0f * (yz_51 - wx_51), 1.0f - 2.0f * (x2_51 + y2_51))));
    FixedArray<float3 , 7>  _S5901 = {
        _S5897, _S5897, _S5897, _S5897, _S5897, _S5897, _S5897
    };
    FixedArray<float, 7>  _S5902 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5903;
    (&_S5903)->p_0 = _S5901;
    (&_S5903)->w_mean_0 = _S5902;
    (&_S5903)->w_cov_0 = _S5902;
    (&_S5903)->p_0[int(0)] = dpmean_10;
    SigmaPoints_0 _S5904 = _S5903;
    (&_S5904)->w_mean_0[int(0)] = 0.0f;
    (&_S5904)->w_cov_0[int(0)] = 2.0f;
    float _S5905 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_114 = make_float3 (_S5905 * _S5898.x) * _S5900.rows[0U];
    float3  _S5906 = dpmean_10 + delta_114;
    float3  _S5907 = dpmean_10 - delta_114;
    float3  delta_115 = make_float3 (_S5905 * _S5898.y) * _S5900.rows[1U];
    float3  _S5908 = dpmean_10 + delta_115;
    float3  _S5909 = dpmean_10 - delta_115;
    float3  delta_116 = make_float3 (_S5905 * _S5898.z) * _S5900.rows[2U];
    float3  _S5910 = dpmean_10 + delta_116;
    float3  _S5911 = dpmean_10 - delta_116;
    (&_S5904)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5904)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5904)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5904)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5904)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5904)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5904)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5904)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5904)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5904)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5904)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5904)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5904)->p_0[0U] = s_primal_ctx_mul_0(dpR_10, _S5903.p_0[0U]) + dpt_9;
    (&_S5904)->p_0[1U] = s_primal_ctx_mul_0(dpR_10, _S5906) + dpt_9;
    (&_S5904)->p_0[2U] = s_primal_ctx_mul_0(dpR_10, _S5908) + dpt_9;
    (&_S5904)->p_0[3U] = s_primal_ctx_mul_0(dpR_10, _S5910) + dpt_9;
    (&_S5904)->p_0[4U] = s_primal_ctx_mul_0(dpR_10, _S5907) + dpt_9;
    (&_S5904)->p_0[5U] = s_primal_ctx_mul_0(dpR_10, _S5909) + dpt_9;
    (&_S5904)->p_0[6U] = s_primal_ctx_mul_0(dpR_10, _S5911) + dpt_9;
    float2  _S5912 = _S5896;
    Matrix<float, 2, 2>  _S5913 = _S5895;
    SigmaPoints_0 _S5914 = _S5904;
    bool _S5915 = persp_proj_3dgs_ut_1(&_S5914, intrins_44, dist_coeffs_64, image_width_49, image_height_49, &_S5913, &_S5912);
    _s_diff_ctx_22->_S5894 = _S5913;
    float2  _S5916 = _S5912;
    float _S5917 = _S5913.rows[int(0)].y * _S5913.rows[int(1)].x;
    float det_orig_52 = _S5913.rows[int(0)].x * _S5913.rows[int(1)].y - _S5917;
    float _S5918 = _S5913.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5919 = _S5913;
    *&(((&_S5919)->rows + (int(0)))->x) = _S5918;
    float _S5920 = _S5913.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5919)->rows + (int(1)))->y) = _S5920;
    Matrix<float, 2, 2>  _S5921 = _S5919;
    Matrix<float, 2, 2>  _S5922 = _S5919;
    float _S5923 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_52 / (_S5918 * _S5920 - _S5917)));
    float _S5924 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_8));
    float _S5925;
    if(antialiased_49)
    {
        _S5925 = _S5924 * _S5923;
    }
    else
    {
        _S5925 = _S5924;
    }
    float _S5926 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5925 / 0.00392156885936856f)));
    float radius_x_34 = _S5926 * s_primal_ctx_sqrt_0(_S5921.rows[int(0)].x);
    float radius_y_34 = _S5926 * s_primal_ctx_sqrt_0(_S5922.rows[int(1)].y);
    float _S5927 = _S5916.x;
    float _S5928 = _S5916.y;
    float _S5929 = mean_c_47.z;
    float _S5930 = s_primal_ctx_max_0(_S5929, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5929 + length_1(mean_c_47)));
    float3  _S5931 = s_primal_ctx_exp_0(- dpscale_9);
    float3  _S5932 = dpmean_10 - - s_primal_ctx_mul_0(transpose_0(dpR_10), dpt_9);
    float3  _S5933 = _S5932 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5932, _S5932)));
    float _S5934 = s_primal_ctx_dot_0((*dpsv_sites_8)[int(3)], _S5933);
    float _S5935 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(0)], _S5933) - _S5934);
    float _S5936 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(1)], _S5933) - _S5934);
    float _S5937 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(2)], _S5933) - _S5934);
    float _S5938 = s_primal_ctx_exp_1(0.0f);
    float3  _S5939 = s_primal_ctx_max_1((make_float3 (_S5935) * (*dpsv_colors_8)[int(0)] + make_float3 (_S5936) * (*dpsv_colors_8)[int(1)] + make_float3 (_S5937) * (*dpsv_colors_8)[int(2)] + make_float3 (_S5938) * (*dpsv_colors_8)[int(3)]) / make_float3 (_S5935 + _S5936 + _S5937 + _S5938) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_34 = make_int4 (int((F32_floor((_S5927 - radius_x_34)))), int((F32_floor((_S5928 - radius_y_34)))), int((F32_ceil((_S5927 + radius_x_34)))), int((F32_ceil((_S5928 + radius_y_34)))));
    *dpmean2d_12 = _S5916;
    *dpdepth_9 = _S5930;
    *dpconic_8 = _S5931;
    *dpopacity_10 = _S5925;
    *dprgb_9 = _S5939;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(bool antialiased_50, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_11, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_10, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_10, DiffPair_float_0 * dpin_opacity_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_9, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_11, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_10, float fx_62, float fy_62, float cx_57, float cy_57, FixedArray<float, 10>  * dist_coeffs_65, uint image_width_50, uint image_height_50, float near_plane_39, float far_plane_39, float2  dpmean2d_13, float dpdepth_10, float3  dpconic_9, float dpopacity_11, float3  dprgb_10, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_23)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5940 = *dpmean_11;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5941 = *dpquat_10;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5942 = *dpscale_10;
    FixedArray<float3 , 4>  _S5943 = dpsv_sites_9->primal_0;
    FixedArray<float3 , 4>  _S5944 = dpsv_colors_9->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5945 = *dpR_11;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5946 = *dpt_10;
    float3  _S5947 = make_float3 (0.0f);
    float3  mean_c_48 = s_primal_ctx_mul_0((*dpR_11).primal_0, (*dpmean_11).primal_0) + (*dpt_10).primal_0;
    float3  _S5948 = s_primal_ctx_exp_0((*dpscale_10).primal_0);
    float _S5949 = (*dpquat_10).primal_0.y;
    float x2_52 = _S5949 * _S5949;
    float y2_52 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.z;
    float z2_75 = (*dpquat_10).primal_0.w * (*dpquat_10).primal_0.w;
    float xy_52 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.z;
    float xz_52 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.w;
    float yz_52 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.w;
    float wx_52 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.y;
    float wy_52 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.z;
    float wz_52 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.w;
    Matrix<float, 3, 3>  _S5950 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_52 + z2_75), 2.0f * (xy_52 + wz_52), 2.0f * (xz_52 - wy_52), 2.0f * (xy_52 - wz_52), 1.0f - 2.0f * (x2_52 + z2_75), 2.0f * (yz_52 + wx_52), 2.0f * (xz_52 + wy_52), 2.0f * (yz_52 - wx_52), 1.0f - 2.0f * (x2_52 + y2_52))));
    FixedArray<float3 , 7>  _S5951 = {
        _S5947, _S5947, _S5947, _S5947, _S5947, _S5947, _S5947
    };
    FixedArray<float, 7>  _S5952 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5953;
    (&_S5953)->p_0 = _S5951;
    (&_S5953)->w_mean_0 = _S5952;
    (&_S5953)->w_cov_0 = _S5952;
    (&_S5953)->p_0[int(0)] = (*dpmean_11).primal_0;
    float _S5954 = s_primal_ctx_sqrt_0(3.0f);
    float _S5955 = _S5954 * _S5948.x;
    float3  _S5956 = make_float3 (_S5955);
    float3  delta_117 = make_float3 (_S5955) * _S5950.rows[0U];
    float3  _S5957 = (*dpmean_11).primal_0 + delta_117;
    float3  _S5958 = (*dpmean_11).primal_0 - delta_117;
    float _S5959 = _S5954 * _S5948.y;
    float3  _S5960 = make_float3 (_S5959);
    float3  delta_118 = make_float3 (_S5959) * _S5950.rows[1U];
    float3  _S5961 = (*dpmean_11).primal_0 + delta_118;
    float3  _S5962 = (*dpmean_11).primal_0 - delta_118;
    float _S5963 = _S5954 * _S5948.z;
    float3  _S5964 = make_float3 (_S5963);
    float3  delta_119 = make_float3 (_S5963) * _S5950.rows[2U];
    float3  _S5965 = (*dpmean_11).primal_0 + delta_119;
    float3  _S5966 = (*dpmean_11).primal_0 - delta_119;
    SigmaPoints_0 _S5967 = _S5953;
    float _S5968 = *&(((&_s_diff_ctx_23->_S5894)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_23->_S5894)->rows + (int(1)))->x);
    float det_orig_53 = *&(((&_s_diff_ctx_23->_S5894)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_23->_S5894)->rows + (int(1)))->y) - _S5968;
    float _S5969 = *&(((&_s_diff_ctx_23->_S5894)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5970 = _s_diff_ctx_23->_S5894;
    *&(((&_S5970)->rows + (int(0)))->x) = _S5969;
    float _S5971 = *&(((&_s_diff_ctx_23->_S5894)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5970)->rows + (int(1)))->y) = _S5971;
    Matrix<float, 2, 2>  _S5972 = _S5970;
    Matrix<float, 2, 2>  _S5973 = _S5970;
    float det_blur_37 = _S5969 * _S5971 - _S5968;
    float _S5974 = det_orig_53 / det_blur_37;
    float _S5975 = det_blur_37 * det_blur_37;
    float _S5976 = s_primal_ctx_max_0(0.0f, _S5974);
    float _S5977 = s_primal_ctx_sqrt_0(_S5976);
    float _S5978 = - (*dpin_opacity_9).primal_0;
    float _S5979 = 1.0f + s_primal_ctx_exp_1(_S5978);
    float _S5980 = 1.0f / _S5979;
    float _S5981 = _S5979 * _S5979;
    float _S5982;
    if(antialiased_50)
    {
        _S5982 = _S5980 * _S5977;
    }
    else
    {
        _S5982 = _S5980;
    }
    float _S5983 = _S5982 / 0.00392156885936856f;
    float _S5984 = 2.0f * s_primal_ctx_log_0(_S5983);
    float _S5985 = s_primal_ctx_sqrt_0(_S5984);
    float _S5986 = _S5972.rows[int(0)].x;
    float _S5987 = _S5973.rows[int(1)].y;
    float _S5988 = mean_c_48.z;
    float _S5989 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5990 = _S5989 * (_S5988 + length_1(mean_c_48));
    float3  _S5991 = - _S5942.primal_0;
    Matrix<float, 3, 3>  _S5992 = transpose_0(_S5945.primal_0);
    float3  _S5993 = _S5940.primal_0 - - s_primal_ctx_mul_0(_S5992, _S5946.primal_0);
    float _S5994 = s_primal_ctx_dot_0(_S5993, _S5993);
    float _S5995 = s_primal_ctx_rsqrt_0(_S5994);
    float3  _S5996 = make_float3 (_S5995);
    float3  _S5997 = _S5993 * make_float3 (_S5995);
    float _S5998 = s_primal_ctx_dot_0(_S5943[int(3)], _S5997);
    float _S5999 = s_primal_ctx_dot_0(_S5943[int(0)], _S5997) - _S5998;
    float _S6000 = s_primal_ctx_exp_1(_S5999);
    float3  _S6001 = make_float3 (_S6000);
    float _S6002 = s_primal_ctx_dot_0(_S5943[int(1)], _S5997) - _S5998;
    float _S6003 = s_primal_ctx_exp_1(_S6002);
    float3  _S6004 = make_float3 (_S6003);
    float _S6005 = s_primal_ctx_dot_0(_S5943[int(2)], _S5997) - _S5998;
    float _S6006 = s_primal_ctx_exp_1(_S6005);
    float3  _S6007 = make_float3 (_S6006);
    float _S6008 = s_primal_ctx_exp_1(0.0f);
    float3  _S6009 = make_float3 (_S6008);
    float total_w_4 = _S6000 + _S6003 + _S6006 + _S6008;
    float3  _S6010 = make_float3 (total_w_4);
    float3  total_c_4 = make_float3 (_S6000) * _S5944[int(0)] + make_float3 (_S6003) * _S5944[int(1)] + make_float3 (_S6006) * _S5944[int(2)] + make_float3 (_S6008) * _S5944[int(3)];
    float3  _S6011 = make_float3 (total_w_4 * total_w_4);
    float3  _S6012 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6013;
    (&_S6013)->primal_0 = total_c_4 / make_float3 (total_w_4) + make_float3 (0.5f);
    (&_S6013)->differential_0 = _S5947;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6014;
    (&_S6014)->primal_0 = _S6012;
    (&_S6014)->differential_0 = _S5947;
    s_bwd_prop_max_0(&_S6013, &_S6014, dprgb_10);
    float3  _S6015 = _S6013.differential_0 / _S6011;
    float3  _S6016 = total_c_4 * - _S6015;
    float3  s_diff_total_c_T_4 = _S6010 * _S6015;
    float3  _S6017 = _S6009 * s_diff_total_c_T_4;
    float _S6018 = _S6016.x + _S6016.y + _S6016.z;
    float3  _S6019 = _S6007 * s_diff_total_c_T_4;
    float3  _S6020 = _S5944[int(2)] * s_diff_total_c_T_4;
    float _S6021 = _S6018 + _S6020.x + _S6020.y + _S6020.z;
    DiffPair_float_0 _S6022;
    (&_S6022)->primal_0 = _S6005;
    (&_S6022)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6022, _S6021);
    float _S6023 = - _S6022.differential_0;
    float3  _S6024 = _S6004 * s_diff_total_c_T_4;
    float3  _S6025 = _S5944[int(1)] * s_diff_total_c_T_4;
    float _S6026 = _S6018 + _S6025.x + _S6025.y + _S6025.z;
    DiffPair_float_0 _S6027;
    (&_S6027)->primal_0 = _S6002;
    (&_S6027)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6027, _S6026);
    float _S6028 = - _S6027.differential_0;
    float3  _S6029 = _S6001 * s_diff_total_c_T_4;
    float3  _S6030 = _S5944[int(0)] * s_diff_total_c_T_4;
    float _S6031 = _S6018 + _S6030.x + _S6030.y + _S6030.z;
    DiffPair_float_0 _S6032;
    (&_S6032)->primal_0 = _S5999;
    (&_S6032)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6032, _S6031);
    float _S6033 = _S6023 + _S6028 + - _S6032.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6034;
    (&_S6034)->primal_0 = _S5943[int(3)];
    (&_S6034)->differential_0 = _S5947;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6035;
    (&_S6035)->primal_0 = _S5997;
    (&_S6035)->differential_0 = _S5947;
    s_bwd_prop_dot_0(&_S6034, &_S6035, _S6033);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6036;
    (&_S6036)->primal_0 = _S5943[int(2)];
    (&_S6036)->differential_0 = _S5947;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6037;
    (&_S6037)->primal_0 = _S5997;
    (&_S6037)->differential_0 = _S5947;
    s_bwd_prop_dot_0(&_S6036, &_S6037, _S6022.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6038;
    (&_S6038)->primal_0 = _S5943[int(1)];
    (&_S6038)->differential_0 = _S5947;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6039;
    (&_S6039)->primal_0 = _S5997;
    (&_S6039)->differential_0 = _S5947;
    s_bwd_prop_dot_0(&_S6038, &_S6039, _S6027.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6040;
    (&_S6040)->primal_0 = _S5943[int(0)];
    (&_S6040)->differential_0 = _S5947;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6041;
    (&_S6041)->primal_0 = _S5997;
    (&_S6041)->differential_0 = _S5947;
    s_bwd_prop_dot_0(&_S6040, &_S6041, _S6032.differential_0);
    float3  _S6042 = _S6035.differential_0 + _S6037.differential_0 + _S6039.differential_0 + _S6041.differential_0;
    float3  _S6043 = _S5993 * _S6042;
    float3  _S6044 = _S5996 * _S6042;
    float _S6045 = _S6043.x + _S6043.y + _S6043.z;
    DiffPair_float_0 _S6046;
    (&_S6046)->primal_0 = _S5994;
    (&_S6046)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6046, _S6045);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6047;
    (&_S6047)->primal_0 = _S5993;
    (&_S6047)->differential_0 = _S5947;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6048;
    (&_S6048)->primal_0 = _S5993;
    (&_S6048)->differential_0 = _S5947;
    s_bwd_prop_dot_0(&_S6047, &_S6048, _S6046.differential_0);
    float3  _S6049 = _S6044 + _S6048.differential_0 + _S6047.differential_0;
    float3  _S6050 = - - _S6049;
    Matrix<float, 3, 3>  _S6051 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6052;
    (&_S6052)->primal_0 = _S5992;
    (&_S6052)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6053;
    (&_S6053)->primal_0 = _S5946.primal_0;
    (&_S6053)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6052, &_S6053, _S6050);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6054 = _S6053;
    Matrix<float, 3, 3>  _S6055 = transpose_0(_S6052.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6056;
    (&_S6056)->primal_0 = _S5991;
    (&_S6056)->differential_0 = _S5947;
    s_bwd_prop_exp_1(&_S6056, dpconic_9);
    float3  _S6057 = - _S6056.differential_0;
    DiffPair_float_0 _S6058;
    (&_S6058)->primal_0 = _S5988;
    (&_S6058)->differential_0 = 0.0f;
    DiffPair_float_0 _S6059;
    (&_S6059)->primal_0 = _S5990;
    (&_S6059)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6058, &_S6059, dpdepth_10);
    float _S6060 = _S5989 * _S6059.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6061;
    (&_S6061)->primal_0 = mean_c_48;
    (&_S6061)->differential_0 = _S5947;
    s_bwd_length_impl_1(&_S6061, _S6060);
    float _S6062 = _S6058.differential_0 + _S6060;
    DiffPair_float_0 _S6063;
    (&_S6063)->primal_0 = _S5987;
    (&_S6063)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6063, 0.0f);
    DiffPair_float_0 _S6064;
    (&_S6064)->primal_0 = _S5986;
    (&_S6064)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6064, 0.0f);
    DiffPair_float_0 _S6065;
    (&_S6065)->primal_0 = 3.32999992370605469f;
    (&_S6065)->differential_0 = 0.0f;
    DiffPair_float_0 _S6066;
    (&_S6066)->primal_0 = _S5985;
    (&_S6066)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6065, &_S6066, 0.0f);
    DiffPair_float_0 _S6067;
    (&_S6067)->primal_0 = _S5984;
    (&_S6067)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6067, _S6066.differential_0);
    float _S6068 = 2.0f * _S6067.differential_0;
    DiffPair_float_0 _S6069;
    (&_S6069)->primal_0 = _S5983;
    (&_S6069)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6069, _S6068);
    float _S6070 = dpopacity_11 + 254.9999847412109375f * _S6069.differential_0;
    FixedArray<float3 , 4>  _S6071;
    _S6071[int(0)] = _S5947;
    _S6071[int(1)] = _S5947;
    _S6071[int(2)] = _S5947;
    _S6071[int(3)] = _S5947;
    _S6071[int(3)] = _S6017;
    _S6071[int(2)] = _S6019;
    _S6071[int(1)] = _S6024;
    _S6071[int(0)] = _S6029;
    FixedArray<float3 , 4>  _S6072 = {
        _S6071[int(0)], _S6071[int(1)], _S6071[int(2)], _S6071[int(3)]
    };
    FixedArray<float3 , 4>  _S6073;
    _S6073[int(0)] = _S5947;
    _S6073[int(1)] = _S5947;
    _S6073[int(2)] = _S5947;
    _S6073[int(3)] = _S5947;
    _S6073[int(3)] = _S6034.differential_0;
    _S6073[int(2)] = _S6036.differential_0;
    _S6073[int(1)] = _S6038.differential_0;
    _S6073[int(0)] = _S6040.differential_0;
    FixedArray<float3 , 4>  _S6074 = {
        _S6073[int(0)], _S6073[int(1)], _S6073[int(2)], _S6073[int(3)]
    };
    float3  _S6075 = _S6061.differential_0 + make_float3 (0.0f, 0.0f, _S6062);
    float2  _S6076 = make_float2 (0.0f, _S6063.differential_0);
    float2  _S6077 = make_float2 (_S6064.differential_0, 0.0f);
    float _S6078;
    if(antialiased_50)
    {
        float _S6079 = _S5980 * _S6070;
        _S5982 = _S5977 * _S6070;
        _S6078 = _S6079;
    }
    else
    {
        _S5982 = _S6070;
        _S6078 = 0.0f;
    }
    float _S6080 = - (_S5982 / _S5981);
    DiffPair_float_0 _S6081;
    (&_S6081)->primal_0 = _S5978;
    (&_S6081)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6081, _S6080);
    float _S6082 = - _S6081.differential_0;
    DiffPair_float_0 _S6083;
    (&_S6083)->primal_0 = _S5976;
    (&_S6083)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6083, _S6078);
    DiffPair_float_0 _S6084;
    (&_S6084)->primal_0 = 0.0f;
    (&_S6084)->differential_0 = 0.0f;
    DiffPair_float_0 _S6085;
    (&_S6085)->primal_0 = _S5974;
    (&_S6085)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6084, &_S6085, _S6083.differential_0);
    float _S6086 = _S6085.differential_0 / _S5975;
    float s_diff_det_blur_T_8 = det_orig_53 * - _S6086;
    float s_diff_det_orig_T_11 = det_blur_37 * _S6086;
    float _S6087 = - s_diff_det_blur_T_8;
    float _S6088 = _S5969 * s_diff_det_blur_T_8;
    float _S6089 = _S5971 * s_diff_det_blur_T_8;
    Matrix<float, 2, 2>  _S6090 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6091 = _S6090;
    _S6091[int(1)] = _S6076;
    _S6091[int(0)] = _S6077;
    float _S6092 = _S6089 + _S6091.rows[int(0)].x;
    float _S6093 = _S6087 + - s_diff_det_orig_T_11;
    float _S6094 = *&(((&_s_diff_ctx_23->_S5894)->rows + (int(0)))->y) * _S6093;
    float _S6095 = *&(((&_s_diff_ctx_23->_S5894)->rows + (int(1)))->x) * _S6093;
    float _S6096 = *&(((&_s_diff_ctx_23->_S5894)->rows + (int(1)))->y) * s_diff_det_orig_T_11;
    float _S6097 = _S6088 + _S6091.rows[int(1)].y + *&(((&_s_diff_ctx_23->_S5894)->rows + (int(0)))->x) * s_diff_det_orig_T_11;
    float2  _S6098 = make_float2 (0.0f);
    float2  _S6099 = _S6098;
    *&((&_S6099)->x) = _S6094;
    *&((&_S6099)->y) = _S6097;
    float _S6100 = _S6092 + _S6096;
    float2  _S6101 = _S6098;
    *&((&_S6101)->y) = _S6095;
    *&((&_S6101)->x) = _S6100;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6102;
    (&_S6102)->primal_0 = _S5945.primal_0;
    (&_S6102)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6103;
    (&_S6103)->primal_0 = _S5966;
    (&_S6103)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6102, &_S6103, _S5947);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6104;
    (&_S6104)->primal_0 = _S5945.primal_0;
    (&_S6104)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6105;
    (&_S6105)->primal_0 = _S5962;
    (&_S6105)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6104, &_S6105, _S5947);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6106;
    (&_S6106)->primal_0 = _S5945.primal_0;
    (&_S6106)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6107;
    (&_S6107)->primal_0 = _S5958;
    (&_S6107)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6106, &_S6107, _S5947);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6108;
    (&_S6108)->primal_0 = _S5945.primal_0;
    (&_S6108)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6109;
    (&_S6109)->primal_0 = _S5965;
    (&_S6109)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6108, &_S6109, _S5947);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6110;
    (&_S6110)->primal_0 = _S5945.primal_0;
    (&_S6110)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6111;
    (&_S6111)->primal_0 = _S5961;
    (&_S6111)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6110, &_S6111, _S5947);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6112;
    (&_S6112)->primal_0 = _S5945.primal_0;
    (&_S6112)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6113;
    (&_S6113)->primal_0 = _S5957;
    (&_S6113)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6112, &_S6113, _S5947);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6114;
    (&_S6114)->primal_0 = _S5945.primal_0;
    (&_S6114)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6115;
    (&_S6115)->primal_0 = _S5967.p_0[0U];
    (&_S6115)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6114, &_S6115, _S5947);
    float3  _S6116 = - _S6103.differential_0 + _S6109.differential_0;
    float3  _S6117 = _S5964 * _S6116;
    float3  _S6118 = _S5950.rows[2U] * _S6116;
    float _S6119 = _S5954 * (_S6118.x + _S6118.y + _S6118.z);
    float3  _S6120 = - _S6105.differential_0 + _S6111.differential_0;
    float3  _S6121 = _S5960 * _S6120;
    float3  _S6122 = _S5950.rows[1U] * _S6120;
    float _S6123 = _S5954 * (_S6122.x + _S6122.y + _S6122.z);
    float3  _S6124 = - _S6107.differential_0 + _S6113.differential_0;
    float3  _S6125 = _S5956 * _S6124;
    float3  _S6126 = _S5950.rows[0U] * _S6124;
    float _S6127 = _S5954 * (_S6126.x + _S6126.y + _S6126.z);
    Matrix<float, 3, 3>  _S6128 = _S6051;
    _S6128[2U] = _S6117;
    _S6128[1U] = _S6121;
    _S6128[0U] = _S6125;
    Matrix<float, 3, 3>  _S6129 = transpose_0(transpose_0(_S6128));
    float _S6130 = 2.0f * - _S6129.rows[int(2)].z;
    float _S6131 = 2.0f * _S6129.rows[int(2)].y;
    float _S6132 = 2.0f * _S6129.rows[int(2)].x;
    float _S6133 = 2.0f * _S6129.rows[int(1)].z;
    float _S6134 = 2.0f * - _S6129.rows[int(1)].y;
    float _S6135 = 2.0f * _S6129.rows[int(1)].x;
    float _S6136 = 2.0f * _S6129.rows[int(0)].z;
    float _S6137 = 2.0f * _S6129.rows[int(0)].y;
    float _S6138 = 2.0f * - _S6129.rows[int(0)].x;
    float _S6139 = - _S6135 + _S6137;
    float _S6140 = _S6132 + - _S6136;
    float _S6141 = - _S6131 + _S6133;
    float _S6142 = _S6131 + _S6133;
    float _S6143 = _S6132 + _S6136;
    float _S6144 = _S6135 + _S6137;
    float _S6145 = _S5941.primal_0.w * (_S6134 + _S6138);
    float _S6146 = _S5941.primal_0.z * (_S6130 + _S6138);
    float _S6147 = _S5941.primal_0.y * (_S6130 + _S6134);
    float _S6148 = _S5941.primal_0.x * _S6139 + _S5941.primal_0.z * _S6142 + _S5941.primal_0.y * _S6143 + _S6145 + _S6145;
    float _S6149 = _S5941.primal_0.x * _S6140 + _S5941.primal_0.w * _S6142 + _S5941.primal_0.y * _S6144 + _S6146 + _S6146;
    float _S6150 = _S5941.primal_0.x * _S6141 + _S5941.primal_0.w * _S6143 + _S5941.primal_0.z * _S6144 + _S6147 + _S6147;
    float _S6151 = _S5941.primal_0.w * _S6139 + _S5941.primal_0.z * _S6140 + _S5941.primal_0.y * _S6141;
    float3  _S6152 = _S5947;
    *&((&_S6152)->z) = _S6119;
    *&((&_S6152)->y) = _S6123;
    *&((&_S6152)->x) = _S6127;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6153;
    (&_S6153)->primal_0 = _S5942.primal_0;
    (&_S6153)->differential_0 = _S5947;
    s_bwd_prop_exp_1(&_S6153, _S6152);
    Matrix<float, 2, 2>  _S6154 = _S6090;
    _S6154[int(1)] = _S6099;
    _S6154[int(0)] = _S6101;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6155;
    (&_S6155)->primal_0 = _S5945.primal_0;
    (&_S6155)->differential_0 = _S6051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6156;
    (&_S6156)->primal_0 = _S5940.primal_0;
    (&_S6156)->differential_0 = _S5947;
    s_bwd_prop_mul_1(&_S6155, &_S6156, _S6075);
    float3  _S6157 = _S6075 + _S6054.differential_0;
    dpt_10->primal_0 = (*dpt_10).primal_0;
    dpt_10->differential_0 = _S6157;
    Matrix<float, 3, 3>  _S6158 = _S6102.differential_0 + _S6104.differential_0 + _S6106.differential_0 + _S6108.differential_0 + _S6110.differential_0 + _S6112.differential_0 + _S6114.differential_0 + _S6155.differential_0 + _S6055;
    dpR_11->primal_0 = (*dpR_11).primal_0;
    dpR_11->differential_0 = _S6158;
    dpsv_colors_9->primal_0 = dpsv_colors_9->primal_0;
    dpsv_colors_9->differential_0 = _S6072;
    dpsv_sites_9->primal_0 = dpsv_sites_9->primal_0;
    dpsv_sites_9->differential_0 = _S6074;
    dpin_opacity_9->primal_0 = (*dpin_opacity_9).primal_0;
    dpin_opacity_9->differential_0 = _S6082;
    float3  _S6159 = _S6153.differential_0 + _S6057;
    dpscale_10->primal_0 = (*dpscale_10).primal_0;
    dpscale_10->differential_0 = _S6159;
    float4  _S6160 = make_float4 (0.0f);
    *&((&_S6160)->w) = _S6148;
    *&((&_S6160)->z) = _S6149;
    *&((&_S6160)->y) = _S6150;
    *&((&_S6160)->x) = _S6151;
    dpquat_10->primal_0 = (*dpquat_10).primal_0;
    dpquat_10->differential_0 = _S6160;
    float3  _S6161 = _S6103.differential_0 + _S6109.differential_0 + _S6105.differential_0 + _S6111.differential_0 + _S6107.differential_0 + _S6113.differential_0 + _S6156.differential_0 + _S6049;
    dpmean_11->primal_0 = (*dpmean_11).primal_0;
    dpmean_11->differential_0 = _S6161;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_2(bool _S6162, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6163, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6164, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6165, DiffPair_float_0 * _S6166, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S6167, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S6168, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6169, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6170, float _S6171, float _S6172, float _S6173, float _S6174, FixedArray<float, 10>  * _S6175, uint _S6176, uint _S6177, float _S6178, float _S6179, float2  _S6180, float _S6181, float3  _S6182, float _S6183, float3  _S6184)
{
    FixedArray<float3 , 4>  _S6185 = _S6167->primal_0;
    FixedArray<float3 , 4>  _S6186 = _S6168->primal_0;
    int4  _S6187;
    float2  _S6188;
    float _S6189;
    float3  _S6190;
    float _S6191;
    float3  _S6192;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S6193;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(_S6162, (*_S6163).primal_0, (*_S6164).primal_0, (*_S6165).primal_0, (*_S6166).primal_0, &_S6185, &_S6186, (*_S6169).primal_0, (*_S6170).primal_0, _S6171, _S6172, _S6173, _S6174, _S6175, _S6176, _S6177, _S6178, _S6179, &_S6187, &_S6188, &_S6189, &_S6190, &_S6191, &_S6192, &_S6193);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S6194 = _S6193;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(_S6162, _S6163, _S6164, _S6165, _S6166, _S6167, _S6168, _S6169, _S6170, _S6171, _S6172, _S6173, _S6174, _S6175, _S6176, _S6177, _S6178, _S6179, _S6180, _S6181, _S6182, _S6183, _S6184, &_S6194);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_51, float3  mean_46, float4  quat_47, float3  scale_46, float in_opacity_41, FixedArray<float3 , 4>  * sv_sites_24, FixedArray<float3 , 4>  * sv_colors_24, Matrix<float, 3, 3>  R_48, float3  t_44, float fx_63, float fy_63, float cx_58, float cy_58, FixedArray<float, 10>  * dist_coeffs_66, uint image_width_51, uint image_height_51, float2  v_mean2d_11, float v_depth_12, float3  v_conic_11, float v_opacity_13, float3  v_rgb_12, float3  * v_mean_13, float4  * v_quat_12, float3  * v_scale_12, float * v_in_opacity_11, FixedArray<float3 , 4>  * v_sv_dirs_4, FixedArray<float3 , 4>  * v_sv_colors_4, Matrix<float, 3, 3>  * v_R_13, float3  * v_t_12)
{
    float3  _S6195 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_6;
    (&dp_mean_6)->primal_0 = mean_46;
    (&dp_mean_6)->differential_0 = _S6195;
    float4  _S6196 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_5;
    (&dp_quat_5)->primal_0 = quat_47;
    (&dp_quat_5)->differential_0 = _S6196;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_5;
    (&dp_scale_5)->primal_0 = scale_46;
    (&dp_scale_5)->differential_0 = _S6195;
    DiffPair_float_0 dp_in_opacity_4;
    (&dp_in_opacity_4)->primal_0 = in_opacity_41;
    (&dp_in_opacity_4)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S6197 = { _S6195, _S6195, _S6195, _S6195 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_4;
    (&dp_sv_dirs_4)->primal_0 = *sv_sites_24;
    (&dp_sv_dirs_4)->differential_0 = _S6197;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_4;
    (&dp_sv_colors_4)->primal_0 = *sv_colors_24;
    (&dp_sv_colors_4)->differential_0 = _S6197;
    Matrix<float, 3, 3>  _S6198 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_6;
    (&dp_R_6)->primal_0 = R_48;
    (&dp_R_6)->differential_0 = _S6198;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_5;
    (&dp_t_5)->primal_0 = t_44;
    (&dp_t_5)->differential_0 = _S6195;
    s_bwd_projection_3dgut_sv_persp_differentiable_2(antialiased_51, &dp_mean_6, &dp_quat_5, &dp_scale_5, &dp_in_opacity_4, &dp_sv_dirs_4, &dp_sv_colors_4, &dp_R_6, &dp_t_5, fx_63, fy_63, cx_58, cy_58, dist_coeffs_66, image_width_51, image_height_51, 0.0f, 1.00000001504746622e+30f, v_mean2d_11, v_depth_12, v_conic_11, v_opacity_13, v_rgb_12);
    *v_mean_13 = dp_mean_6.differential_0;
    *v_quat_12 = dp_quat_5.differential_0;
    *v_scale_12 = dp_scale_5.differential_0;
    *v_in_opacity_11 = dp_in_opacity_4.differential_0;
    *v_sv_dirs_4 = (&dp_sv_dirs_4)->differential_0;
    *v_sv_colors_4 = (&dp_sv_colors_4)->differential_0;
    *v_R_13 = dp_R_6.differential_0;
    *v_t_12 = dp_t_5.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S6199;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_52, float3  dpmean_12, float4  dpquat_11, float3  dpscale_11, float dpin_opacity_10, FixedArray<float3 , 4>  * dpsv_sites_10, FixedArray<float3 , 4>  * dpsv_colors_10, Matrix<float, 3, 3>  dpR_12, float3  dpt_11, float fx_64, float fy_64, float cx_59, float cy_59, FixedArray<float, 10>  * dist_coeffs_67, uint image_width_52, uint image_height_52, float near_plane_40, float far_plane_40, int4  * aabb_xyxy_35, float2  * dpmean2d_14, float * dpdepth_11, float3  * dpconic_10, float * dpopacity_12, float3  * dprgb_11, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_24)
{
    Matrix<float, 2, 2>  _S6200 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_24->_S6199 = _S6200;
    float2  _S6201 = make_float2 (0.0f);
    float3  _S6202 = make_float3 (0.0f);
    float3  mean_c_49 = s_primal_ctx_mul_0(dpR_12, dpmean_12) + dpt_11;
    float _S6203 = length_1(mean_c_49);
    float4  intrins_45 = make_float4 (fx_64, fy_64, cx_59, cy_59);
    float3  _S6204 = s_primal_ctx_exp_0(dpscale_11);
    float _S6205 = dpquat_11.y;
    float x2_53 = _S6205 * _S6205;
    float y2_53 = dpquat_11.z * dpquat_11.z;
    float z2_76 = dpquat_11.w * dpquat_11.w;
    float xy_53 = dpquat_11.y * dpquat_11.z;
    float xz_53 = dpquat_11.y * dpquat_11.w;
    float yz_53 = dpquat_11.z * dpquat_11.w;
    float wx_53 = dpquat_11.x * dpquat_11.y;
    float wy_53 = dpquat_11.x * dpquat_11.z;
    float wz_53 = dpquat_11.x * dpquat_11.w;
    Matrix<float, 3, 3>  _S6206 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_53 + z2_76), 2.0f * (xy_53 + wz_53), 2.0f * (xz_53 - wy_53), 2.0f * (xy_53 - wz_53), 1.0f - 2.0f * (x2_53 + z2_76), 2.0f * (yz_53 + wx_53), 2.0f * (xz_53 + wy_53), 2.0f * (yz_53 - wx_53), 1.0f - 2.0f * (x2_53 + y2_53))));
    FixedArray<float3 , 7>  _S6207 = {
        _S6202, _S6202, _S6202, _S6202, _S6202, _S6202, _S6202
    };
    FixedArray<float, 7>  _S6208 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6209;
    (&_S6209)->p_0 = _S6207;
    (&_S6209)->w_mean_0 = _S6208;
    (&_S6209)->w_cov_0 = _S6208;
    (&_S6209)->p_0[int(0)] = dpmean_12;
    SigmaPoints_0 _S6210 = _S6209;
    (&_S6210)->w_mean_0[int(0)] = 0.0f;
    (&_S6210)->w_cov_0[int(0)] = 2.0f;
    float _S6211 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_120 = make_float3 (_S6211 * _S6204.x) * _S6206.rows[0U];
    float3  _S6212 = dpmean_12 + delta_120;
    float3  _S6213 = dpmean_12 - delta_120;
    float3  delta_121 = make_float3 (_S6211 * _S6204.y) * _S6206.rows[1U];
    float3  _S6214 = dpmean_12 + delta_121;
    float3  _S6215 = dpmean_12 - delta_121;
    float3  delta_122 = make_float3 (_S6211 * _S6204.z) * _S6206.rows[2U];
    float3  _S6216 = dpmean_12 + delta_122;
    float3  _S6217 = dpmean_12 - delta_122;
    (&_S6210)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6210)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6210)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6210)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6210)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6210)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6210)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6210)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6210)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6210)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6210)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6210)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6210)->p_0[0U] = s_primal_ctx_mul_0(dpR_12, _S6209.p_0[0U]) + dpt_11;
    (&_S6210)->p_0[1U] = s_primal_ctx_mul_0(dpR_12, _S6212) + dpt_11;
    (&_S6210)->p_0[2U] = s_primal_ctx_mul_0(dpR_12, _S6214) + dpt_11;
    (&_S6210)->p_0[3U] = s_primal_ctx_mul_0(dpR_12, _S6216) + dpt_11;
    (&_S6210)->p_0[4U] = s_primal_ctx_mul_0(dpR_12, _S6213) + dpt_11;
    (&_S6210)->p_0[5U] = s_primal_ctx_mul_0(dpR_12, _S6215) + dpt_11;
    (&_S6210)->p_0[6U] = s_primal_ctx_mul_0(dpR_12, _S6217) + dpt_11;
    float2  _S6218 = _S6201;
    Matrix<float, 2, 2>  _S6219 = _S6200;
    SigmaPoints_0 _S6220 = _S6210;
    bool _S6221 = fisheye_proj_3dgs_ut_1(&_S6220, intrins_45, dist_coeffs_67, &_S6219, &_S6218);
    _s_diff_ctx_24->_S6199 = _S6219;
    float2  _S6222 = _S6218;
    float _S6223 = _S6219.rows[int(0)].y * _S6219.rows[int(1)].x;
    float det_orig_54 = _S6219.rows[int(0)].x * _S6219.rows[int(1)].y - _S6223;
    float _S6224 = _S6219.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6225 = _S6219;
    *&(((&_S6225)->rows + (int(0)))->x) = _S6224;
    float _S6226 = _S6219.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6225)->rows + (int(1)))->y) = _S6226;
    Matrix<float, 2, 2>  _S6227 = _S6225;
    Matrix<float, 2, 2>  _S6228 = _S6225;
    float _S6229 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_54 / (_S6224 * _S6226 - _S6223)));
    float _S6230 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_10));
    float _S6231;
    if(antialiased_52)
    {
        _S6231 = _S6230 * _S6229;
    }
    else
    {
        _S6231 = _S6230;
    }
    float _S6232 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6231 / 0.00392156885936856f)));
    float radius_x_35 = _S6232 * s_primal_ctx_sqrt_0(_S6227.rows[int(0)].x);
    float radius_y_35 = _S6232 * s_primal_ctx_sqrt_0(_S6228.rows[int(1)].y);
    float _S6233 = _S6222.x;
    float _S6234 = _S6222.y;
    float _S6235 = mean_c_49.z;
    float _S6236 = s_primal_ctx_max_0(_S6235, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6235 + _S6203));
    float3  _S6237 = s_primal_ctx_exp_0(- dpscale_11);
    float3  _S6238 = dpmean_12 - - s_primal_ctx_mul_0(transpose_0(dpR_12), dpt_11);
    float3  _S6239 = _S6238 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6238, _S6238)));
    float _S6240 = s_primal_ctx_dot_0((*dpsv_sites_10)[int(3)], _S6239);
    float _S6241 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(0)], _S6239) - _S6240);
    float _S6242 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(1)], _S6239) - _S6240);
    float _S6243 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(2)], _S6239) - _S6240);
    float _S6244 = s_primal_ctx_exp_1(0.0f);
    float3  _S6245 = s_primal_ctx_max_1((make_float3 (_S6241) * (*dpsv_colors_10)[int(0)] + make_float3 (_S6242) * (*dpsv_colors_10)[int(1)] + make_float3 (_S6243) * (*dpsv_colors_10)[int(2)] + make_float3 (_S6244) * (*dpsv_colors_10)[int(3)]) / make_float3 (_S6241 + _S6242 + _S6243 + _S6244) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_35 = make_int4 (int((F32_floor((_S6233 - radius_x_35)))), int((F32_floor((_S6234 - radius_y_35)))), int((F32_ceil((_S6233 + radius_x_35)))), int((F32_ceil((_S6234 + radius_y_35)))));
    *dpmean2d_14 = _S6222;
    *dpdepth_11 = _S6236;
    *dpconic_10 = _S6237;
    *dpopacity_12 = _S6231;
    *dprgb_11 = _S6245;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_53, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_13, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_12, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_12, DiffPair_float_0 * dpin_opacity_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_11, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_13, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_12, float fx_65, float fy_65, float cx_60, float cy_60, FixedArray<float, 10>  * dist_coeffs_68, uint image_width_53, uint image_height_53, float near_plane_41, float far_plane_41, float2  dpmean2d_15, float dpdepth_12, float3  dpconic_11, float dpopacity_13, float3  dprgb_12, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_25)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6246 = *dpmean_13;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6247 = *dpquat_12;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6248 = *dpscale_12;
    FixedArray<float3 , 4>  _S6249 = dpsv_sites_11->primal_0;
    FixedArray<float3 , 4>  _S6250 = dpsv_colors_11->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6251 = *dpR_13;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6252 = *dpt_12;
    float3  _S6253 = make_float3 (0.0f);
    float3  mean_c_50 = s_primal_ctx_mul_0((*dpR_13).primal_0, (*dpmean_13).primal_0) + (*dpt_12).primal_0;
    float _S6254 = length_1(mean_c_50);
    float3  _S6255 = s_primal_ctx_exp_0((*dpscale_12).primal_0);
    float _S6256 = (*dpquat_12).primal_0.y;
    float x2_54 = _S6256 * _S6256;
    float y2_54 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.z;
    float z2_77 = (*dpquat_12).primal_0.w * (*dpquat_12).primal_0.w;
    float xy_54 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.z;
    float xz_54 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.w;
    float yz_54 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.w;
    float wx_54 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.y;
    float wy_54 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.z;
    float wz_54 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.w;
    Matrix<float, 3, 3>  _S6257 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_54 + z2_77), 2.0f * (xy_54 + wz_54), 2.0f * (xz_54 - wy_54), 2.0f * (xy_54 - wz_54), 1.0f - 2.0f * (x2_54 + z2_77), 2.0f * (yz_54 + wx_54), 2.0f * (xz_54 + wy_54), 2.0f * (yz_54 - wx_54), 1.0f - 2.0f * (x2_54 + y2_54))));
    FixedArray<float3 , 7>  _S6258 = {
        _S6253, _S6253, _S6253, _S6253, _S6253, _S6253, _S6253
    };
    FixedArray<float, 7>  _S6259 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6260;
    (&_S6260)->p_0 = _S6258;
    (&_S6260)->w_mean_0 = _S6259;
    (&_S6260)->w_cov_0 = _S6259;
    (&_S6260)->p_0[int(0)] = (*dpmean_13).primal_0;
    float _S6261 = s_primal_ctx_sqrt_0(3.0f);
    float _S6262 = _S6261 * _S6255.x;
    float3  _S6263 = make_float3 (_S6262);
    float3  delta_123 = make_float3 (_S6262) * _S6257.rows[0U];
    float3  _S6264 = (*dpmean_13).primal_0 + delta_123;
    float3  _S6265 = (*dpmean_13).primal_0 - delta_123;
    float _S6266 = _S6261 * _S6255.y;
    float3  _S6267 = make_float3 (_S6266);
    float3  delta_124 = make_float3 (_S6266) * _S6257.rows[1U];
    float3  _S6268 = (*dpmean_13).primal_0 + delta_124;
    float3  _S6269 = (*dpmean_13).primal_0 - delta_124;
    float _S6270 = _S6261 * _S6255.z;
    float3  _S6271 = make_float3 (_S6270);
    float3  delta_125 = make_float3 (_S6270) * _S6257.rows[2U];
    float3  _S6272 = (*dpmean_13).primal_0 + delta_125;
    float3  _S6273 = (*dpmean_13).primal_0 - delta_125;
    SigmaPoints_0 _S6274 = _S6260;
    float _S6275 = *&(((&_s_diff_ctx_25->_S6199)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_25->_S6199)->rows + (int(1)))->x);
    float det_orig_55 = *&(((&_s_diff_ctx_25->_S6199)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_25->_S6199)->rows + (int(1)))->y) - _S6275;
    float _S6276 = *&(((&_s_diff_ctx_25->_S6199)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6277 = _s_diff_ctx_25->_S6199;
    *&(((&_S6277)->rows + (int(0)))->x) = _S6276;
    float _S6278 = *&(((&_s_diff_ctx_25->_S6199)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6277)->rows + (int(1)))->y) = _S6278;
    Matrix<float, 2, 2>  _S6279 = _S6277;
    Matrix<float, 2, 2>  _S6280 = _S6277;
    float det_blur_38 = _S6276 * _S6278 - _S6275;
    float _S6281 = det_orig_55 / det_blur_38;
    float _S6282 = det_blur_38 * det_blur_38;
    float _S6283 = s_primal_ctx_max_0(0.0f, _S6281);
    float _S6284 = s_primal_ctx_sqrt_0(_S6283);
    float _S6285 = - (*dpin_opacity_11).primal_0;
    float _S6286 = 1.0f + s_primal_ctx_exp_1(_S6285);
    float _S6287 = 1.0f / _S6286;
    float _S6288 = _S6286 * _S6286;
    float _S6289;
    if(antialiased_53)
    {
        _S6289 = _S6287 * _S6284;
    }
    else
    {
        _S6289 = _S6287;
    }
    float _S6290 = _S6289 / 0.00392156885936856f;
    float _S6291 = 2.0f * s_primal_ctx_log_0(_S6290);
    float _S6292 = s_primal_ctx_sqrt_0(_S6291);
    float _S6293 = _S6279.rows[int(0)].x;
    float _S6294 = _S6280.rows[int(1)].y;
    float _S6295 = mean_c_50.z;
    float _S6296 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6297 = _S6296 * (_S6295 + _S6254);
    float3  _S6298 = - _S6248.primal_0;
    Matrix<float, 3, 3>  _S6299 = transpose_0(_S6251.primal_0);
    float3  _S6300 = _S6246.primal_0 - - s_primal_ctx_mul_0(_S6299, _S6252.primal_0);
    float _S6301 = s_primal_ctx_dot_0(_S6300, _S6300);
    float _S6302 = s_primal_ctx_rsqrt_0(_S6301);
    float3  _S6303 = make_float3 (_S6302);
    float3  _S6304 = _S6300 * make_float3 (_S6302);
    float _S6305 = s_primal_ctx_dot_0(_S6249[int(3)], _S6304);
    float _S6306 = s_primal_ctx_dot_0(_S6249[int(0)], _S6304) - _S6305;
    float _S6307 = s_primal_ctx_exp_1(_S6306);
    float3  _S6308 = make_float3 (_S6307);
    float _S6309 = s_primal_ctx_dot_0(_S6249[int(1)], _S6304) - _S6305;
    float _S6310 = s_primal_ctx_exp_1(_S6309);
    float3  _S6311 = make_float3 (_S6310);
    float _S6312 = s_primal_ctx_dot_0(_S6249[int(2)], _S6304) - _S6305;
    float _S6313 = s_primal_ctx_exp_1(_S6312);
    float3  _S6314 = make_float3 (_S6313);
    float _S6315 = s_primal_ctx_exp_1(0.0f);
    float3  _S6316 = make_float3 (_S6315);
    float total_w_5 = _S6307 + _S6310 + _S6313 + _S6315;
    float3  _S6317 = make_float3 (total_w_5);
    float3  total_c_5 = make_float3 (_S6307) * _S6250[int(0)] + make_float3 (_S6310) * _S6250[int(1)] + make_float3 (_S6313) * _S6250[int(2)] + make_float3 (_S6315) * _S6250[int(3)];
    float3  _S6318 = make_float3 (total_w_5 * total_w_5);
    float3  _S6319 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6320;
    (&_S6320)->primal_0 = total_c_5 / make_float3 (total_w_5) + make_float3 (0.5f);
    (&_S6320)->differential_0 = _S6253;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6321;
    (&_S6321)->primal_0 = _S6319;
    (&_S6321)->differential_0 = _S6253;
    s_bwd_prop_max_0(&_S6320, &_S6321, dprgb_12);
    float3  _S6322 = _S6320.differential_0 / _S6318;
    float3  _S6323 = total_c_5 * - _S6322;
    float3  s_diff_total_c_T_5 = _S6317 * _S6322;
    float3  _S6324 = _S6316 * s_diff_total_c_T_5;
    float _S6325 = _S6323.x + _S6323.y + _S6323.z;
    float3  _S6326 = _S6314 * s_diff_total_c_T_5;
    float3  _S6327 = _S6250[int(2)] * s_diff_total_c_T_5;
    float _S6328 = _S6325 + _S6327.x + _S6327.y + _S6327.z;
    DiffPair_float_0 _S6329;
    (&_S6329)->primal_0 = _S6312;
    (&_S6329)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6329, _S6328);
    float _S6330 = - _S6329.differential_0;
    float3  _S6331 = _S6311 * s_diff_total_c_T_5;
    float3  _S6332 = _S6250[int(1)] * s_diff_total_c_T_5;
    float _S6333 = _S6325 + _S6332.x + _S6332.y + _S6332.z;
    DiffPair_float_0 _S6334;
    (&_S6334)->primal_0 = _S6309;
    (&_S6334)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6334, _S6333);
    float _S6335 = - _S6334.differential_0;
    float3  _S6336 = _S6308 * s_diff_total_c_T_5;
    float3  _S6337 = _S6250[int(0)] * s_diff_total_c_T_5;
    float _S6338 = _S6325 + _S6337.x + _S6337.y + _S6337.z;
    DiffPair_float_0 _S6339;
    (&_S6339)->primal_0 = _S6306;
    (&_S6339)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6339, _S6338);
    float _S6340 = _S6330 + _S6335 + - _S6339.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6341;
    (&_S6341)->primal_0 = _S6249[int(3)];
    (&_S6341)->differential_0 = _S6253;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6342;
    (&_S6342)->primal_0 = _S6304;
    (&_S6342)->differential_0 = _S6253;
    s_bwd_prop_dot_0(&_S6341, &_S6342, _S6340);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6343;
    (&_S6343)->primal_0 = _S6249[int(2)];
    (&_S6343)->differential_0 = _S6253;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6344;
    (&_S6344)->primal_0 = _S6304;
    (&_S6344)->differential_0 = _S6253;
    s_bwd_prop_dot_0(&_S6343, &_S6344, _S6329.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6345;
    (&_S6345)->primal_0 = _S6249[int(1)];
    (&_S6345)->differential_0 = _S6253;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6346;
    (&_S6346)->primal_0 = _S6304;
    (&_S6346)->differential_0 = _S6253;
    s_bwd_prop_dot_0(&_S6345, &_S6346, _S6334.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6347;
    (&_S6347)->primal_0 = _S6249[int(0)];
    (&_S6347)->differential_0 = _S6253;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6348;
    (&_S6348)->primal_0 = _S6304;
    (&_S6348)->differential_0 = _S6253;
    s_bwd_prop_dot_0(&_S6347, &_S6348, _S6339.differential_0);
    float3  _S6349 = _S6342.differential_0 + _S6344.differential_0 + _S6346.differential_0 + _S6348.differential_0;
    float3  _S6350 = _S6300 * _S6349;
    float3  _S6351 = _S6303 * _S6349;
    float _S6352 = _S6350.x + _S6350.y + _S6350.z;
    DiffPair_float_0 _S6353;
    (&_S6353)->primal_0 = _S6301;
    (&_S6353)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6353, _S6352);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6354;
    (&_S6354)->primal_0 = _S6300;
    (&_S6354)->differential_0 = _S6253;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6355;
    (&_S6355)->primal_0 = _S6300;
    (&_S6355)->differential_0 = _S6253;
    s_bwd_prop_dot_0(&_S6354, &_S6355, _S6353.differential_0);
    float3  _S6356 = _S6351 + _S6355.differential_0 + _S6354.differential_0;
    float3  _S6357 = - - _S6356;
    Matrix<float, 3, 3>  _S6358 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6359;
    (&_S6359)->primal_0 = _S6299;
    (&_S6359)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6360;
    (&_S6360)->primal_0 = _S6252.primal_0;
    (&_S6360)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6359, &_S6360, _S6357);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6361 = _S6360;
    Matrix<float, 3, 3>  _S6362 = transpose_0(_S6359.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6363;
    (&_S6363)->primal_0 = _S6298;
    (&_S6363)->differential_0 = _S6253;
    s_bwd_prop_exp_1(&_S6363, dpconic_11);
    float3  _S6364 = - _S6363.differential_0;
    DiffPair_float_0 _S6365;
    (&_S6365)->primal_0 = _S6295;
    (&_S6365)->differential_0 = 0.0f;
    DiffPair_float_0 _S6366;
    (&_S6366)->primal_0 = _S6297;
    (&_S6366)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6365, &_S6366, dpdepth_12);
    float _S6367 = _S6296 * _S6366.differential_0;
    float _S6368 = _S6365.differential_0 + _S6367;
    DiffPair_float_0 _S6369;
    (&_S6369)->primal_0 = _S6294;
    (&_S6369)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6369, 0.0f);
    DiffPair_float_0 _S6370;
    (&_S6370)->primal_0 = _S6293;
    (&_S6370)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6370, 0.0f);
    DiffPair_float_0 _S6371;
    (&_S6371)->primal_0 = 3.32999992370605469f;
    (&_S6371)->differential_0 = 0.0f;
    DiffPair_float_0 _S6372;
    (&_S6372)->primal_0 = _S6292;
    (&_S6372)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6371, &_S6372, 0.0f);
    DiffPair_float_0 _S6373;
    (&_S6373)->primal_0 = _S6291;
    (&_S6373)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6373, _S6372.differential_0);
    float _S6374 = 2.0f * _S6373.differential_0;
    DiffPair_float_0 _S6375;
    (&_S6375)->primal_0 = _S6290;
    (&_S6375)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6375, _S6374);
    float _S6376 = dpopacity_13 + 254.9999847412109375f * _S6375.differential_0;
    FixedArray<float3 , 4>  _S6377;
    _S6377[int(0)] = _S6253;
    _S6377[int(1)] = _S6253;
    _S6377[int(2)] = _S6253;
    _S6377[int(3)] = _S6253;
    _S6377[int(3)] = _S6324;
    _S6377[int(2)] = _S6326;
    _S6377[int(1)] = _S6331;
    _S6377[int(0)] = _S6336;
    FixedArray<float3 , 4>  _S6378 = {
        _S6377[int(0)], _S6377[int(1)], _S6377[int(2)], _S6377[int(3)]
    };
    FixedArray<float3 , 4>  _S6379;
    _S6379[int(0)] = _S6253;
    _S6379[int(1)] = _S6253;
    _S6379[int(2)] = _S6253;
    _S6379[int(3)] = _S6253;
    _S6379[int(3)] = _S6341.differential_0;
    _S6379[int(2)] = _S6343.differential_0;
    _S6379[int(1)] = _S6345.differential_0;
    _S6379[int(0)] = _S6347.differential_0;
    FixedArray<float3 , 4>  _S6380 = {
        _S6379[int(0)], _S6379[int(1)], _S6379[int(2)], _S6379[int(3)]
    };
    float3  _S6381 = make_float3 (0.0f, 0.0f, _S6368);
    float2  _S6382 = make_float2 (0.0f, _S6369.differential_0);
    float2  _S6383 = make_float2 (_S6370.differential_0, 0.0f);
    float _S6384;
    if(antialiased_53)
    {
        float _S6385 = _S6287 * _S6376;
        _S6289 = _S6284 * _S6376;
        _S6384 = _S6385;
    }
    else
    {
        _S6289 = _S6376;
        _S6384 = 0.0f;
    }
    float _S6386 = - (_S6289 / _S6288);
    DiffPair_float_0 _S6387;
    (&_S6387)->primal_0 = _S6285;
    (&_S6387)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6387, _S6386);
    float _S6388 = - _S6387.differential_0;
    DiffPair_float_0 _S6389;
    (&_S6389)->primal_0 = _S6283;
    (&_S6389)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6389, _S6384);
    DiffPair_float_0 _S6390;
    (&_S6390)->primal_0 = 0.0f;
    (&_S6390)->differential_0 = 0.0f;
    DiffPair_float_0 _S6391;
    (&_S6391)->primal_0 = _S6281;
    (&_S6391)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6390, &_S6391, _S6389.differential_0);
    float _S6392 = _S6391.differential_0 / _S6282;
    float s_diff_det_blur_T_9 = det_orig_55 * - _S6392;
    float s_diff_det_orig_T_12 = det_blur_38 * _S6392;
    float _S6393 = - s_diff_det_blur_T_9;
    float _S6394 = _S6276 * s_diff_det_blur_T_9;
    float _S6395 = _S6278 * s_diff_det_blur_T_9;
    Matrix<float, 2, 2>  _S6396 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6397 = _S6396;
    _S6397[int(1)] = _S6382;
    _S6397[int(0)] = _S6383;
    float _S6398 = _S6395 + _S6397.rows[int(0)].x;
    float _S6399 = _S6393 + - s_diff_det_orig_T_12;
    float _S6400 = *&(((&_s_diff_ctx_25->_S6199)->rows + (int(0)))->y) * _S6399;
    float _S6401 = *&(((&_s_diff_ctx_25->_S6199)->rows + (int(1)))->x) * _S6399;
    float _S6402 = *&(((&_s_diff_ctx_25->_S6199)->rows + (int(1)))->y) * s_diff_det_orig_T_12;
    float _S6403 = _S6394 + _S6397.rows[int(1)].y + *&(((&_s_diff_ctx_25->_S6199)->rows + (int(0)))->x) * s_diff_det_orig_T_12;
    float2  _S6404 = make_float2 (0.0f);
    float2  _S6405 = _S6404;
    *&((&_S6405)->x) = _S6400;
    *&((&_S6405)->y) = _S6403;
    float _S6406 = _S6398 + _S6402;
    float2  _S6407 = _S6404;
    *&((&_S6407)->y) = _S6401;
    *&((&_S6407)->x) = _S6406;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6408;
    (&_S6408)->primal_0 = _S6251.primal_0;
    (&_S6408)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6409;
    (&_S6409)->primal_0 = _S6273;
    (&_S6409)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6408, &_S6409, _S6253);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6410;
    (&_S6410)->primal_0 = _S6251.primal_0;
    (&_S6410)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6411;
    (&_S6411)->primal_0 = _S6269;
    (&_S6411)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6410, &_S6411, _S6253);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6412;
    (&_S6412)->primal_0 = _S6251.primal_0;
    (&_S6412)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6413;
    (&_S6413)->primal_0 = _S6265;
    (&_S6413)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6412, &_S6413, _S6253);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6414;
    (&_S6414)->primal_0 = _S6251.primal_0;
    (&_S6414)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6415;
    (&_S6415)->primal_0 = _S6272;
    (&_S6415)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6414, &_S6415, _S6253);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6416;
    (&_S6416)->primal_0 = _S6251.primal_0;
    (&_S6416)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6417;
    (&_S6417)->primal_0 = _S6268;
    (&_S6417)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6416, &_S6417, _S6253);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6418;
    (&_S6418)->primal_0 = _S6251.primal_0;
    (&_S6418)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6419;
    (&_S6419)->primal_0 = _S6264;
    (&_S6419)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6418, &_S6419, _S6253);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6420;
    (&_S6420)->primal_0 = _S6251.primal_0;
    (&_S6420)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6421;
    (&_S6421)->primal_0 = _S6274.p_0[0U];
    (&_S6421)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6420, &_S6421, _S6253);
    float3  _S6422 = - _S6409.differential_0 + _S6415.differential_0;
    float3  _S6423 = _S6271 * _S6422;
    float3  _S6424 = _S6257.rows[2U] * _S6422;
    float _S6425 = _S6261 * (_S6424.x + _S6424.y + _S6424.z);
    float3  _S6426 = - _S6411.differential_0 + _S6417.differential_0;
    float3  _S6427 = _S6267 * _S6426;
    float3  _S6428 = _S6257.rows[1U] * _S6426;
    float _S6429 = _S6261 * (_S6428.x + _S6428.y + _S6428.z);
    float3  _S6430 = - _S6413.differential_0 + _S6419.differential_0;
    float3  _S6431 = _S6263 * _S6430;
    float3  _S6432 = _S6257.rows[0U] * _S6430;
    float _S6433 = _S6261 * (_S6432.x + _S6432.y + _S6432.z);
    Matrix<float, 3, 3>  _S6434 = _S6358;
    _S6434[2U] = _S6423;
    _S6434[1U] = _S6427;
    _S6434[0U] = _S6431;
    Matrix<float, 3, 3>  _S6435 = transpose_0(transpose_0(_S6434));
    float _S6436 = 2.0f * - _S6435.rows[int(2)].z;
    float _S6437 = 2.0f * _S6435.rows[int(2)].y;
    float _S6438 = 2.0f * _S6435.rows[int(2)].x;
    float _S6439 = 2.0f * _S6435.rows[int(1)].z;
    float _S6440 = 2.0f * - _S6435.rows[int(1)].y;
    float _S6441 = 2.0f * _S6435.rows[int(1)].x;
    float _S6442 = 2.0f * _S6435.rows[int(0)].z;
    float _S6443 = 2.0f * _S6435.rows[int(0)].y;
    float _S6444 = 2.0f * - _S6435.rows[int(0)].x;
    float _S6445 = - _S6441 + _S6443;
    float _S6446 = _S6438 + - _S6442;
    float _S6447 = - _S6437 + _S6439;
    float _S6448 = _S6437 + _S6439;
    float _S6449 = _S6438 + _S6442;
    float _S6450 = _S6441 + _S6443;
    float _S6451 = _S6247.primal_0.w * (_S6440 + _S6444);
    float _S6452 = _S6247.primal_0.z * (_S6436 + _S6444);
    float _S6453 = _S6247.primal_0.y * (_S6436 + _S6440);
    float _S6454 = _S6247.primal_0.x * _S6445 + _S6247.primal_0.z * _S6448 + _S6247.primal_0.y * _S6449 + _S6451 + _S6451;
    float _S6455 = _S6247.primal_0.x * _S6446 + _S6247.primal_0.w * _S6448 + _S6247.primal_0.y * _S6450 + _S6452 + _S6452;
    float _S6456 = _S6247.primal_0.x * _S6447 + _S6247.primal_0.w * _S6449 + _S6247.primal_0.z * _S6450 + _S6453 + _S6453;
    float _S6457 = _S6247.primal_0.w * _S6445 + _S6247.primal_0.z * _S6446 + _S6247.primal_0.y * _S6447;
    float3  _S6458 = _S6253;
    *&((&_S6458)->z) = _S6425;
    *&((&_S6458)->y) = _S6429;
    *&((&_S6458)->x) = _S6433;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6459;
    (&_S6459)->primal_0 = _S6248.primal_0;
    (&_S6459)->differential_0 = _S6253;
    s_bwd_prop_exp_1(&_S6459, _S6458);
    Matrix<float, 2, 2>  _S6460 = _S6396;
    _S6460[int(1)] = _S6405;
    _S6460[int(0)] = _S6407;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6461;
    (&_S6461)->primal_0 = mean_c_50;
    (&_S6461)->differential_0 = _S6253;
    s_bwd_length_impl_1(&_S6461, _S6367);
    float3  _S6462 = _S6461.differential_0 + _S6381;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6463;
    (&_S6463)->primal_0 = _S6251.primal_0;
    (&_S6463)->differential_0 = _S6358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6464;
    (&_S6464)->primal_0 = _S6246.primal_0;
    (&_S6464)->differential_0 = _S6253;
    s_bwd_prop_mul_1(&_S6463, &_S6464, _S6462);
    float3  _S6465 = _S6462 + _S6361.differential_0;
    dpt_12->primal_0 = (*dpt_12).primal_0;
    dpt_12->differential_0 = _S6465;
    Matrix<float, 3, 3>  _S6466 = _S6408.differential_0 + _S6410.differential_0 + _S6412.differential_0 + _S6414.differential_0 + _S6416.differential_0 + _S6418.differential_0 + _S6420.differential_0 + _S6463.differential_0 + _S6362;
    dpR_13->primal_0 = (*dpR_13).primal_0;
    dpR_13->differential_0 = _S6466;
    dpsv_colors_11->primal_0 = dpsv_colors_11->primal_0;
    dpsv_colors_11->differential_0 = _S6378;
    dpsv_sites_11->primal_0 = dpsv_sites_11->primal_0;
    dpsv_sites_11->differential_0 = _S6380;
    dpin_opacity_11->primal_0 = (*dpin_opacity_11).primal_0;
    dpin_opacity_11->differential_0 = _S6388;
    float3  _S6467 = _S6459.differential_0 + _S6364;
    dpscale_12->primal_0 = (*dpscale_12).primal_0;
    dpscale_12->differential_0 = _S6467;
    float4  _S6468 = make_float4 (0.0f);
    *&((&_S6468)->w) = _S6454;
    *&((&_S6468)->z) = _S6455;
    *&((&_S6468)->y) = _S6456;
    *&((&_S6468)->x) = _S6457;
    dpquat_12->primal_0 = (*dpquat_12).primal_0;
    dpquat_12->differential_0 = _S6468;
    float3  _S6469 = _S6409.differential_0 + _S6415.differential_0 + _S6411.differential_0 + _S6417.differential_0 + _S6413.differential_0 + _S6419.differential_0 + _S6464.differential_0 + _S6356;
    dpmean_13->primal_0 = (*dpmean_13).primal_0;
    dpmean_13->differential_0 = _S6469;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_2(bool _S6470, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6471, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6472, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6473, DiffPair_float_0 * _S6474, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S6475, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S6476, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6477, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6478, float _S6479, float _S6480, float _S6481, float _S6482, FixedArray<float, 10>  * _S6483, uint _S6484, uint _S6485, float _S6486, float _S6487, float2  _S6488, float _S6489, float3  _S6490, float _S6491, float3  _S6492)
{
    FixedArray<float3 , 4>  _S6493 = _S6475->primal_0;
    FixedArray<float3 , 4>  _S6494 = _S6476->primal_0;
    int4  _S6495;
    float2  _S6496;
    float _S6497;
    float3  _S6498;
    float _S6499;
    float3  _S6500;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S6501;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(_S6470, (*_S6471).primal_0, (*_S6472).primal_0, (*_S6473).primal_0, (*_S6474).primal_0, &_S6493, &_S6494, (*_S6477).primal_0, (*_S6478).primal_0, _S6479, _S6480, _S6481, _S6482, _S6483, _S6484, _S6485, _S6486, _S6487, &_S6495, &_S6496, &_S6497, &_S6498, &_S6499, &_S6500, &_S6501);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S6502 = _S6501;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(_S6470, _S6471, _S6472, _S6473, _S6474, _S6475, _S6476, _S6477, _S6478, _S6479, _S6480, _S6481, _S6482, _S6483, _S6484, _S6485, _S6486, _S6487, _S6488, _S6489, _S6490, _S6491, _S6492, &_S6502);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_54, float3  mean_47, float4  quat_48, float3  scale_47, float in_opacity_42, FixedArray<float3 , 4>  * sv_sites_25, FixedArray<float3 , 4>  * sv_colors_25, Matrix<float, 3, 3>  R_49, float3  t_45, float fx_66, float fy_66, float cx_61, float cy_61, FixedArray<float, 10>  * dist_coeffs_69, uint image_width_54, uint image_height_54, float2  v_mean2d_12, float v_depth_13, float3  v_conic_12, float v_opacity_14, float3  v_rgb_13, float3  * v_mean_14, float4  * v_quat_13, float3  * v_scale_13, float * v_in_opacity_12, FixedArray<float3 , 4>  * v_sv_dirs_5, FixedArray<float3 , 4>  * v_sv_colors_5, Matrix<float, 3, 3>  * v_R_14, float3  * v_t_13)
{
    float3  _S6503 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_7;
    (&dp_mean_7)->primal_0 = mean_47;
    (&dp_mean_7)->differential_0 = _S6503;
    float4  _S6504 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_6;
    (&dp_quat_6)->primal_0 = quat_48;
    (&dp_quat_6)->differential_0 = _S6504;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_6;
    (&dp_scale_6)->primal_0 = scale_47;
    (&dp_scale_6)->differential_0 = _S6503;
    DiffPair_float_0 dp_in_opacity_5;
    (&dp_in_opacity_5)->primal_0 = in_opacity_42;
    (&dp_in_opacity_5)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S6505 = { _S6503, _S6503, _S6503, _S6503 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_5;
    (&dp_sv_dirs_5)->primal_0 = *sv_sites_25;
    (&dp_sv_dirs_5)->differential_0 = _S6505;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_5;
    (&dp_sv_colors_5)->primal_0 = *sv_colors_25;
    (&dp_sv_colors_5)->differential_0 = _S6505;
    Matrix<float, 3, 3>  _S6506 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_7;
    (&dp_R_7)->primal_0 = R_49;
    (&dp_R_7)->differential_0 = _S6506;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_6;
    (&dp_t_6)->primal_0 = t_45;
    (&dp_t_6)->differential_0 = _S6503;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_2(antialiased_54, &dp_mean_7, &dp_quat_6, &dp_scale_6, &dp_in_opacity_5, &dp_sv_dirs_5, &dp_sv_colors_5, &dp_R_7, &dp_t_6, fx_66, fy_66, cx_61, cy_61, dist_coeffs_69, image_width_54, image_height_54, 0.0f, 1.00000001504746622e+30f, v_mean2d_12, v_depth_13, v_conic_12, v_opacity_14, v_rgb_13);
    *v_mean_14 = dp_mean_7.differential_0;
    *v_quat_13 = dp_quat_6.differential_0;
    *v_scale_13 = dp_scale_6.differential_0;
    *v_in_opacity_12 = dp_in_opacity_5.differential_0;
    *v_sv_dirs_5 = (&dp_sv_dirs_5)->differential_0;
    *v_sv_colors_5 = (&dp_sv_colors_5)->differential_0;
    *v_R_14 = dp_R_7.differential_0;
    *v_t_13 = dp_t_6.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_55, float3  mean_48, float4  quat_49, float3  scale_48, float in_opacity_43, FixedArray<float3 , 5>  * sv_sites_26, FixedArray<float3 , 5>  * sv_colors_26, Matrix<float, 3, 3>  R_50, float3  t_46, float fx_67, float fy_67, float cx_62, float cy_62, FixedArray<float, 10>  * dist_coeffs_70, uint image_width_55, uint image_height_55, float near_plane_42, float far_plane_42, int4  * aabb_xyxy_36, float2  * mean2d_39, float * depth_31, float3  * conic_30, float * opacity_34, float3  * rgb_32)
{
    float3  mean_c_51 = mul_0(R_50, mean_48) + t_46;
    float4  intrins_46 = make_float4 (fx_67, fy_67, cx_62, cy_62);
    float3  _S6507 = exp_0(scale_48);
    float x_69 = quat_49.y;
    float x2_55 = x_69 * x_69;
    float y2_55 = quat_49.z * quat_49.z;
    float z2_78 = quat_49.w * quat_49.w;
    float xy_55 = quat_49.y * quat_49.z;
    float xz_55 = quat_49.y * quat_49.w;
    float yz_55 = quat_49.z * quat_49.w;
    float wx_55 = quat_49.x * quat_49.y;
    float wy_55 = quat_49.x * quat_49.z;
    float wz_55 = quat_49.x * quat_49.w;
    Matrix<float, 3, 3>  _S6508 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_55 + z2_78), 2.0f * (xy_55 + wz_55), 2.0f * (xz_55 - wy_55), 2.0f * (xy_55 - wz_55), 1.0f - 2.0f * (x2_55 + z2_78), 2.0f * (yz_55 + wx_55), 2.0f * (xz_55 + wy_55), 2.0f * (yz_55 - wx_55), 1.0f - 2.0f * (x2_55 + y2_55))));
    SigmaPoints_0 ret_24;
    (&ret_24)->p_0[int(0)] = mean_48;
    (&ret_24)->w_mean_0[int(0)] = 0.0f;
    (&ret_24)->w_cov_0[int(0)] = 2.0f;
    float _S6509 = (F32_sqrt((3.0f)));
    float3  delta_126 = make_float3 (_S6509 * _S6507.x) * _S6508.rows[0U];
    float3  _S6510 = mean_48 + delta_126;
    float3  _S6511 = mean_48 - delta_126;
    float3  delta_127 = make_float3 (_S6509 * _S6507.y) * _S6508.rows[1U];
    float3  _S6512 = mean_48 + delta_127;
    float3  _S6513 = mean_48 - delta_127;
    float3  delta_128 = make_float3 (_S6509 * _S6507.z) * _S6508.rows[2U];
    float3  _S6514 = mean_48 + delta_128;
    float3  _S6515 = mean_48 - delta_128;
    (&ret_24)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_24)->p_0[0U] = mul_0(R_50, (&ret_24)->p_0[0U]) + t_46;
    (&ret_24)->p_0[1U] = mul_0(R_50, _S6510) + t_46;
    (&ret_24)->p_0[2U] = mul_0(R_50, _S6512) + t_46;
    (&ret_24)->p_0[3U] = mul_0(R_50, _S6514) + t_46;
    (&ret_24)->p_0[4U] = mul_0(R_50, _S6511) + t_46;
    (&ret_24)->p_0[5U] = mul_0(R_50, _S6513) + t_46;
    (&ret_24)->p_0[6U] = mul_0(R_50, _S6515) + t_46;
    SigmaPoints_0 _S6516 = ret_24;
    Matrix<float, 2, 2>  covar2d_30;
    bool _S6517 = persp_proj_3dgs_ut_1(&_S6516, intrins_46, dist_coeffs_70, image_width_55, image_height_55, &covar2d_30, mean2d_39);
    float det_orig_56 = *&(((&covar2d_30)->rows + (int(0)))->x) * *&(((&covar2d_30)->rows + (int(1)))->y) - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x);
    float _S6518 = *&(((&covar2d_30)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(0)))->x) = _S6518;
    float _S6519 = *&(((&covar2d_30)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(1)))->y) = _S6519;
    float compensation_31 = (F32_sqrt(((F32_max((0.0f), (det_orig_56 / (_S6518 * _S6519 - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x))))))));
    *opacity_34 = 1.0f / (1.0f + (F32_exp((- in_opacity_43))));
    if(antialiased_55)
    {
        *opacity_34 = *opacity_34 * compensation_31;
    }
    float extend_30 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_34 / 0.00392156885936856f)))))))));
    float radius_x_36 = extend_30 * (F32_sqrt((covar2d_30[int(0)].x)));
    float radius_y_36 = extend_30 * (F32_sqrt((covar2d_30[int(1)].y)));
    *aabb_xyxy_36 = make_int4 (int((F32_floor(((*mean2d_39).x - radius_x_36)))), int((F32_floor(((*mean2d_39).y - radius_y_36)))), int((F32_ceil(((*mean2d_39).x + radius_x_36)))), int((F32_ceil(((*mean2d_39).y + radius_y_36)))));
    float _S6520 = mean_c_51.z;
    *depth_31 = (F32_max((_S6520), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6520 + length_1(mean_c_51)))));
    *conic_30 = exp_0(- scale_48);
    float3  _S6521 = mean_48 - - mul_0(transpose_0(R_50), t_46);
    float3  _S6522 = _S6521 * make_float3 ((F32_rsqrt((dot_1(_S6521, _S6521)))));
    float _S6523 = dot_1((*sv_sites_26)[int(4)], _S6522);
    float w_88 = (F32_exp((dot_1((*sv_sites_26)[int(0)], _S6522) - _S6523)));
    float w_89 = (F32_exp((dot_1((*sv_sites_26)[int(1)], _S6522) - _S6523)));
    float w_90 = (F32_exp((dot_1((*sv_sites_26)[int(2)], _S6522) - _S6523)));
    float w_91 = (F32_exp((dot_1((*sv_sites_26)[int(3)], _S6522) - _S6523)));
    float w_92 = (F32_exp((0.0f)));
    *rgb_32 = max_0((make_float3 (w_88) * (*sv_colors_26)[int(0)] + make_float3 (w_89) * (*sv_colors_26)[int(1)] + make_float3 (w_90) * (*sv_colors_26)[int(2)] + make_float3 (w_91) * (*sv_colors_26)[int(3)] + make_float3 (w_92) * (*sv_colors_26)[int(4)]) / make_float3 (w_88 + w_89 + w_90 + w_91 + w_92) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_56, float3  mean_49, float4  quat_50, float3  scale_49, float in_opacity_44, FixedArray<float3 , 5>  * sv_sites_27, FixedArray<float3 , 5>  * sv_colors_27, Matrix<float, 3, 3>  R_51, float3  t_47, float fx_68, float fy_68, float cx_63, float cy_63, FixedArray<float, 10>  * dist_coeffs_71, uint image_width_56, uint image_height_56, float near_plane_43, float far_plane_43, int4  * aabb_xyxy_37, float2  * mean2d_40, float * depth_32, float3  * conic_31, float * opacity_35, float3  * rgb_33)
{
    float3  mean_c_52 = mul_0(R_51, mean_49) + t_47;
    float4  intrins_47 = make_float4 (fx_68, fy_68, cx_63, cy_63);
    float3  _S6524 = exp_0(scale_49);
    float x_70 = quat_50.y;
    float x2_56 = x_70 * x_70;
    float y2_56 = quat_50.z * quat_50.z;
    float z2_79 = quat_50.w * quat_50.w;
    float xy_56 = quat_50.y * quat_50.z;
    float xz_56 = quat_50.y * quat_50.w;
    float yz_56 = quat_50.z * quat_50.w;
    float wx_56 = quat_50.x * quat_50.y;
    float wy_56 = quat_50.x * quat_50.z;
    float wz_56 = quat_50.x * quat_50.w;
    Matrix<float, 3, 3>  _S6525 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_56 + z2_79), 2.0f * (xy_56 + wz_56), 2.0f * (xz_56 - wy_56), 2.0f * (xy_56 - wz_56), 1.0f - 2.0f * (x2_56 + z2_79), 2.0f * (yz_56 + wx_56), 2.0f * (xz_56 + wy_56), 2.0f * (yz_56 - wx_56), 1.0f - 2.0f * (x2_56 + y2_56))));
    SigmaPoints_0 ret_25;
    (&ret_25)->p_0[int(0)] = mean_49;
    (&ret_25)->w_mean_0[int(0)] = 0.0f;
    (&ret_25)->w_cov_0[int(0)] = 2.0f;
    float _S6526 = (F32_sqrt((3.0f)));
    float3  delta_129 = make_float3 (_S6526 * _S6524.x) * _S6525.rows[0U];
    float3  _S6527 = mean_49 + delta_129;
    float3  _S6528 = mean_49 - delta_129;
    float3  delta_130 = make_float3 (_S6526 * _S6524.y) * _S6525.rows[1U];
    float3  _S6529 = mean_49 + delta_130;
    float3  _S6530 = mean_49 - delta_130;
    float3  delta_131 = make_float3 (_S6526 * _S6524.z) * _S6525.rows[2U];
    float3  _S6531 = mean_49 + delta_131;
    float3  _S6532 = mean_49 - delta_131;
    (&ret_25)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_25)->p_0[0U] = mul_0(R_51, (&ret_25)->p_0[0U]) + t_47;
    (&ret_25)->p_0[1U] = mul_0(R_51, _S6527) + t_47;
    (&ret_25)->p_0[2U] = mul_0(R_51, _S6529) + t_47;
    (&ret_25)->p_0[3U] = mul_0(R_51, _S6531) + t_47;
    (&ret_25)->p_0[4U] = mul_0(R_51, _S6528) + t_47;
    (&ret_25)->p_0[5U] = mul_0(R_51, _S6530) + t_47;
    (&ret_25)->p_0[6U] = mul_0(R_51, _S6532) + t_47;
    SigmaPoints_0 _S6533 = ret_25;
    Matrix<float, 2, 2>  covar2d_31;
    bool _S6534 = fisheye_proj_3dgs_ut_1(&_S6533, intrins_47, dist_coeffs_71, &covar2d_31, mean2d_40);
    float det_orig_57 = *&(((&covar2d_31)->rows + (int(0)))->x) * *&(((&covar2d_31)->rows + (int(1)))->y) - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x);
    float _S6535 = *&(((&covar2d_31)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(0)))->x) = _S6535;
    float _S6536 = *&(((&covar2d_31)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(1)))->y) = _S6536;
    float compensation_32 = (F32_sqrt(((F32_max((0.0f), (det_orig_57 / (_S6535 * _S6536 - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x))))))));
    *opacity_35 = 1.0f / (1.0f + (F32_exp((- in_opacity_44))));
    if(antialiased_56)
    {
        *opacity_35 = *opacity_35 * compensation_32;
    }
    float extend_31 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_35 / 0.00392156885936856f)))))))));
    float radius_x_37 = extend_31 * (F32_sqrt((covar2d_31[int(0)].x)));
    float radius_y_37 = extend_31 * (F32_sqrt((covar2d_31[int(1)].y)));
    *aabb_xyxy_37 = make_int4 (int((F32_floor(((*mean2d_40).x - radius_x_37)))), int((F32_floor(((*mean2d_40).y - radius_y_37)))), int((F32_ceil(((*mean2d_40).x + radius_x_37)))), int((F32_ceil(((*mean2d_40).y + radius_y_37)))));
    float _S6537 = mean_c_52.z;
    *depth_32 = (F32_max((_S6537), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6537 + length_1(mean_c_52)))));
    *conic_31 = exp_0(- scale_49);
    float3  _S6538 = mean_49 - - mul_0(transpose_0(R_51), t_47);
    float3  _S6539 = _S6538 * make_float3 ((F32_rsqrt((dot_1(_S6538, _S6538)))));
    float _S6540 = dot_1((*sv_sites_27)[int(4)], _S6539);
    float w_93 = (F32_exp((dot_1((*sv_sites_27)[int(0)], _S6539) - _S6540)));
    float w_94 = (F32_exp((dot_1((*sv_sites_27)[int(1)], _S6539) - _S6540)));
    float w_95 = (F32_exp((dot_1((*sv_sites_27)[int(2)], _S6539) - _S6540)));
    float w_96 = (F32_exp((dot_1((*sv_sites_27)[int(3)], _S6539) - _S6540)));
    float w_97 = (F32_exp((0.0f)));
    *rgb_33 = max_0((make_float3 (w_93) * (*sv_colors_27)[int(0)] + make_float3 (w_94) * (*sv_colors_27)[int(1)] + make_float3 (w_95) * (*sv_colors_27)[int(2)] + make_float3 (w_96) * (*sv_colors_27)[int(3)] + make_float3 (w_97) * (*sv_colors_27)[int(4)]) / make_float3 (w_93 + w_94 + w_95 + w_96 + w_97) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0
{
    FixedArray<float3 , 5>  primal_0;
    FixedArray<float3 , 5>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S6541;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(bool antialiased_57, float3  dpmean_14, float4  dpquat_13, float3  dpscale_13, float dpin_opacity_12, FixedArray<float3 , 5>  * dpsv_sites_12, FixedArray<float3 , 5>  * dpsv_colors_12, Matrix<float, 3, 3>  dpR_14, float3  dpt_13, float fx_69, float fy_69, float cx_64, float cy_64, FixedArray<float, 10>  * dist_coeffs_72, uint image_width_57, uint image_height_57, float near_plane_44, float far_plane_44, int4  * aabb_xyxy_38, float2  * dpmean2d_16, float * dpdepth_13, float3  * dpconic_12, float * dpopacity_14, float3  * dprgb_13, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_26)
{
    Matrix<float, 2, 2>  _S6542 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_26->_S6541 = _S6542;
    float2  _S6543 = make_float2 (0.0f);
    float3  _S6544 = make_float3 (0.0f);
    float3  mean_c_53 = s_primal_ctx_mul_0(dpR_14, dpmean_14) + dpt_13;
    float4  intrins_48 = make_float4 (fx_69, fy_69, cx_64, cy_64);
    float3  _S6545 = s_primal_ctx_exp_0(dpscale_13);
    float _S6546 = dpquat_13.y;
    float x2_57 = _S6546 * _S6546;
    float y2_57 = dpquat_13.z * dpquat_13.z;
    float z2_80 = dpquat_13.w * dpquat_13.w;
    float xy_57 = dpquat_13.y * dpquat_13.z;
    float xz_57 = dpquat_13.y * dpquat_13.w;
    float yz_57 = dpquat_13.z * dpquat_13.w;
    float wx_57 = dpquat_13.x * dpquat_13.y;
    float wy_57 = dpquat_13.x * dpquat_13.z;
    float wz_57 = dpquat_13.x * dpquat_13.w;
    Matrix<float, 3, 3>  _S6547 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_57 + z2_80), 2.0f * (xy_57 + wz_57), 2.0f * (xz_57 - wy_57), 2.0f * (xy_57 - wz_57), 1.0f - 2.0f * (x2_57 + z2_80), 2.0f * (yz_57 + wx_57), 2.0f * (xz_57 + wy_57), 2.0f * (yz_57 - wx_57), 1.0f - 2.0f * (x2_57 + y2_57))));
    FixedArray<float3 , 7>  _S6548 = {
        _S6544, _S6544, _S6544, _S6544, _S6544, _S6544, _S6544
    };
    FixedArray<float, 7>  _S6549 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6550;
    (&_S6550)->p_0 = _S6548;
    (&_S6550)->w_mean_0 = _S6549;
    (&_S6550)->w_cov_0 = _S6549;
    (&_S6550)->p_0[int(0)] = dpmean_14;
    SigmaPoints_0 _S6551 = _S6550;
    (&_S6551)->w_mean_0[int(0)] = 0.0f;
    (&_S6551)->w_cov_0[int(0)] = 2.0f;
    float _S6552 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_132 = make_float3 (_S6552 * _S6545.x) * _S6547.rows[0U];
    float3  _S6553 = dpmean_14 + delta_132;
    float3  _S6554 = dpmean_14 - delta_132;
    float3  delta_133 = make_float3 (_S6552 * _S6545.y) * _S6547.rows[1U];
    float3  _S6555 = dpmean_14 + delta_133;
    float3  _S6556 = dpmean_14 - delta_133;
    float3  delta_134 = make_float3 (_S6552 * _S6545.z) * _S6547.rows[2U];
    float3  _S6557 = dpmean_14 + delta_134;
    float3  _S6558 = dpmean_14 - delta_134;
    (&_S6551)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6551)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6551)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6551)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6551)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6551)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6551)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6551)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6551)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6551)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6551)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6551)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6551)->p_0[0U] = s_primal_ctx_mul_0(dpR_14, _S6550.p_0[0U]) + dpt_13;
    (&_S6551)->p_0[1U] = s_primal_ctx_mul_0(dpR_14, _S6553) + dpt_13;
    (&_S6551)->p_0[2U] = s_primal_ctx_mul_0(dpR_14, _S6555) + dpt_13;
    (&_S6551)->p_0[3U] = s_primal_ctx_mul_0(dpR_14, _S6557) + dpt_13;
    (&_S6551)->p_0[4U] = s_primal_ctx_mul_0(dpR_14, _S6554) + dpt_13;
    (&_S6551)->p_0[5U] = s_primal_ctx_mul_0(dpR_14, _S6556) + dpt_13;
    (&_S6551)->p_0[6U] = s_primal_ctx_mul_0(dpR_14, _S6558) + dpt_13;
    float2  _S6559 = _S6543;
    Matrix<float, 2, 2>  _S6560 = _S6542;
    SigmaPoints_0 _S6561 = _S6551;
    bool _S6562 = persp_proj_3dgs_ut_1(&_S6561, intrins_48, dist_coeffs_72, image_width_57, image_height_57, &_S6560, &_S6559);
    _s_diff_ctx_26->_S6541 = _S6560;
    float2  _S6563 = _S6559;
    float _S6564 = _S6560.rows[int(0)].y * _S6560.rows[int(1)].x;
    float det_orig_58 = _S6560.rows[int(0)].x * _S6560.rows[int(1)].y - _S6564;
    float _S6565 = _S6560.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6566 = _S6560;
    *&(((&_S6566)->rows + (int(0)))->x) = _S6565;
    float _S6567 = _S6560.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6566)->rows + (int(1)))->y) = _S6567;
    Matrix<float, 2, 2>  _S6568 = _S6566;
    Matrix<float, 2, 2>  _S6569 = _S6566;
    float _S6570 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_58 / (_S6565 * _S6567 - _S6564)));
    float _S6571 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_12));
    float _S6572;
    if(antialiased_57)
    {
        _S6572 = _S6571 * _S6570;
    }
    else
    {
        _S6572 = _S6571;
    }
    float _S6573 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6572 / 0.00392156885936856f)));
    float radius_x_38 = _S6573 * s_primal_ctx_sqrt_0(_S6568.rows[int(0)].x);
    float radius_y_38 = _S6573 * s_primal_ctx_sqrt_0(_S6569.rows[int(1)].y);
    float _S6574 = _S6563.x;
    float _S6575 = _S6563.y;
    float _S6576 = mean_c_53.z;
    float _S6577 = s_primal_ctx_max_0(_S6576, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6576 + length_1(mean_c_53)));
    float3  _S6578 = s_primal_ctx_exp_0(- dpscale_13);
    float3  _S6579 = dpmean_14 - - s_primal_ctx_mul_0(transpose_0(dpR_14), dpt_13);
    float3  _S6580 = _S6579 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6579, _S6579)));
    float _S6581 = s_primal_ctx_dot_0((*dpsv_sites_12)[int(4)], _S6580);
    float _S6582 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(0)], _S6580) - _S6581);
    float _S6583 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(1)], _S6580) - _S6581);
    float _S6584 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(2)], _S6580) - _S6581);
    float _S6585 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(3)], _S6580) - _S6581);
    float _S6586 = s_primal_ctx_exp_1(0.0f);
    float3  _S6587 = s_primal_ctx_max_1((make_float3 (_S6582) * (*dpsv_colors_12)[int(0)] + make_float3 (_S6583) * (*dpsv_colors_12)[int(1)] + make_float3 (_S6584) * (*dpsv_colors_12)[int(2)] + make_float3 (_S6585) * (*dpsv_colors_12)[int(3)] + make_float3 (_S6586) * (*dpsv_colors_12)[int(4)]) / make_float3 (_S6582 + _S6583 + _S6584 + _S6585 + _S6586) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_38 = make_int4 (int((F32_floor((_S6574 - radius_x_38)))), int((F32_floor((_S6575 - radius_y_38)))), int((F32_ceil((_S6574 + radius_x_38)))), int((F32_ceil((_S6575 + radius_y_38)))));
    *dpmean2d_16 = _S6563;
    *dpdepth_13 = _S6577;
    *dpconic_12 = _S6578;
    *dpopacity_14 = _S6572;
    *dprgb_13 = _S6587;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(bool antialiased_58, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_15, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_14, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_14, DiffPair_float_0 * dpin_opacity_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_13, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_15, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_14, float fx_70, float fy_70, float cx_65, float cy_65, FixedArray<float, 10>  * dist_coeffs_73, uint image_width_58, uint image_height_58, float near_plane_45, float far_plane_45, float2  dpmean2d_17, float dpdepth_14, float3  dpconic_13, float dpopacity_15, float3  dprgb_14, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_27)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6588 = *dpmean_15;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6589 = *dpquat_14;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6590 = *dpscale_14;
    FixedArray<float3 , 5>  _S6591 = dpsv_sites_13->primal_0;
    FixedArray<float3 , 5>  _S6592 = dpsv_colors_13->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6593 = *dpR_15;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6594 = *dpt_14;
    float3  _S6595 = make_float3 (0.0f);
    float3  mean_c_54 = s_primal_ctx_mul_0((*dpR_15).primal_0, (*dpmean_15).primal_0) + (*dpt_14).primal_0;
    float3  _S6596 = s_primal_ctx_exp_0((*dpscale_14).primal_0);
    float _S6597 = (*dpquat_14).primal_0.y;
    float x2_58 = _S6597 * _S6597;
    float y2_58 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.z;
    float z2_81 = (*dpquat_14).primal_0.w * (*dpquat_14).primal_0.w;
    float xy_58 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.z;
    float xz_58 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.w;
    float yz_58 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.w;
    float wx_58 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.y;
    float wy_58 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.z;
    float wz_58 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.w;
    Matrix<float, 3, 3>  _S6598 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_58 + z2_81), 2.0f * (xy_58 + wz_58), 2.0f * (xz_58 - wy_58), 2.0f * (xy_58 - wz_58), 1.0f - 2.0f * (x2_58 + z2_81), 2.0f * (yz_58 + wx_58), 2.0f * (xz_58 + wy_58), 2.0f * (yz_58 - wx_58), 1.0f - 2.0f * (x2_58 + y2_58))));
    FixedArray<float3 , 7>  _S6599 = {
        _S6595, _S6595, _S6595, _S6595, _S6595, _S6595, _S6595
    };
    FixedArray<float, 7>  _S6600 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6601;
    (&_S6601)->p_0 = _S6599;
    (&_S6601)->w_mean_0 = _S6600;
    (&_S6601)->w_cov_0 = _S6600;
    (&_S6601)->p_0[int(0)] = (*dpmean_15).primal_0;
    float _S6602 = s_primal_ctx_sqrt_0(3.0f);
    float _S6603 = _S6602 * _S6596.x;
    float3  _S6604 = make_float3 (_S6603);
    float3  delta_135 = make_float3 (_S6603) * _S6598.rows[0U];
    float3  _S6605 = (*dpmean_15).primal_0 + delta_135;
    float3  _S6606 = (*dpmean_15).primal_0 - delta_135;
    float _S6607 = _S6602 * _S6596.y;
    float3  _S6608 = make_float3 (_S6607);
    float3  delta_136 = make_float3 (_S6607) * _S6598.rows[1U];
    float3  _S6609 = (*dpmean_15).primal_0 + delta_136;
    float3  _S6610 = (*dpmean_15).primal_0 - delta_136;
    float _S6611 = _S6602 * _S6596.z;
    float3  _S6612 = make_float3 (_S6611);
    float3  delta_137 = make_float3 (_S6611) * _S6598.rows[2U];
    float3  _S6613 = (*dpmean_15).primal_0 + delta_137;
    float3  _S6614 = (*dpmean_15).primal_0 - delta_137;
    SigmaPoints_0 _S6615 = _S6601;
    float _S6616 = *&(((&_s_diff_ctx_27->_S6541)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_27->_S6541)->rows + (int(1)))->x);
    float det_orig_59 = *&(((&_s_diff_ctx_27->_S6541)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_27->_S6541)->rows + (int(1)))->y) - _S6616;
    float _S6617 = *&(((&_s_diff_ctx_27->_S6541)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6618 = _s_diff_ctx_27->_S6541;
    *&(((&_S6618)->rows + (int(0)))->x) = _S6617;
    float _S6619 = *&(((&_s_diff_ctx_27->_S6541)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6618)->rows + (int(1)))->y) = _S6619;
    Matrix<float, 2, 2>  _S6620 = _S6618;
    Matrix<float, 2, 2>  _S6621 = _S6618;
    float det_blur_39 = _S6617 * _S6619 - _S6616;
    float _S6622 = det_orig_59 / det_blur_39;
    float _S6623 = det_blur_39 * det_blur_39;
    float _S6624 = s_primal_ctx_max_0(0.0f, _S6622);
    float _S6625 = s_primal_ctx_sqrt_0(_S6624);
    float _S6626 = - (*dpin_opacity_13).primal_0;
    float _S6627 = 1.0f + s_primal_ctx_exp_1(_S6626);
    float _S6628 = 1.0f / _S6627;
    float _S6629 = _S6627 * _S6627;
    float _S6630;
    if(antialiased_58)
    {
        _S6630 = _S6628 * _S6625;
    }
    else
    {
        _S6630 = _S6628;
    }
    float _S6631 = _S6630 / 0.00392156885936856f;
    float _S6632 = 2.0f * s_primal_ctx_log_0(_S6631);
    float _S6633 = s_primal_ctx_sqrt_0(_S6632);
    float _S6634 = _S6620.rows[int(0)].x;
    float _S6635 = _S6621.rows[int(1)].y;
    float _S6636 = mean_c_54.z;
    float _S6637 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6638 = _S6637 * (_S6636 + length_1(mean_c_54));
    float3  _S6639 = - _S6590.primal_0;
    Matrix<float, 3, 3>  _S6640 = transpose_0(_S6593.primal_0);
    float3  _S6641 = _S6588.primal_0 - - s_primal_ctx_mul_0(_S6640, _S6594.primal_0);
    float _S6642 = s_primal_ctx_dot_0(_S6641, _S6641);
    float _S6643 = s_primal_ctx_rsqrt_0(_S6642);
    float3  _S6644 = make_float3 (_S6643);
    float3  _S6645 = _S6641 * make_float3 (_S6643);
    float _S6646 = s_primal_ctx_dot_0(_S6591[int(4)], _S6645);
    float _S6647 = s_primal_ctx_dot_0(_S6591[int(0)], _S6645) - _S6646;
    float _S6648 = s_primal_ctx_exp_1(_S6647);
    float3  _S6649 = make_float3 (_S6648);
    float _S6650 = s_primal_ctx_dot_0(_S6591[int(1)], _S6645) - _S6646;
    float _S6651 = s_primal_ctx_exp_1(_S6650);
    float3  _S6652 = make_float3 (_S6651);
    float _S6653 = s_primal_ctx_dot_0(_S6591[int(2)], _S6645) - _S6646;
    float _S6654 = s_primal_ctx_exp_1(_S6653);
    float3  _S6655 = make_float3 (_S6654);
    float _S6656 = s_primal_ctx_dot_0(_S6591[int(3)], _S6645) - _S6646;
    float _S6657 = s_primal_ctx_exp_1(_S6656);
    float3  _S6658 = make_float3 (_S6657);
    float _S6659 = s_primal_ctx_exp_1(0.0f);
    float3  _S6660 = make_float3 (_S6659);
    float total_w_6 = _S6648 + _S6651 + _S6654 + _S6657 + _S6659;
    float3  _S6661 = make_float3 (total_w_6);
    float3  total_c_6 = make_float3 (_S6648) * _S6592[int(0)] + make_float3 (_S6651) * _S6592[int(1)] + make_float3 (_S6654) * _S6592[int(2)] + make_float3 (_S6657) * _S6592[int(3)] + make_float3 (_S6659) * _S6592[int(4)];
    float3  _S6662 = make_float3 (total_w_6 * total_w_6);
    float3  _S6663 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6664;
    (&_S6664)->primal_0 = total_c_6 / make_float3 (total_w_6) + make_float3 (0.5f);
    (&_S6664)->differential_0 = _S6595;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6665;
    (&_S6665)->primal_0 = _S6663;
    (&_S6665)->differential_0 = _S6595;
    s_bwd_prop_max_0(&_S6664, &_S6665, dprgb_14);
    float3  _S6666 = _S6664.differential_0 / _S6662;
    float3  _S6667 = total_c_6 * - _S6666;
    float3  s_diff_total_c_T_6 = _S6661 * _S6666;
    float3  _S6668 = _S6660 * s_diff_total_c_T_6;
    float _S6669 = _S6667.x + _S6667.y + _S6667.z;
    float3  _S6670 = _S6658 * s_diff_total_c_T_6;
    float3  _S6671 = _S6592[int(3)] * s_diff_total_c_T_6;
    float _S6672 = _S6669 + _S6671.x + _S6671.y + _S6671.z;
    DiffPair_float_0 _S6673;
    (&_S6673)->primal_0 = _S6656;
    (&_S6673)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6673, _S6672);
    float _S6674 = - _S6673.differential_0;
    float3  _S6675 = _S6655 * s_diff_total_c_T_6;
    float3  _S6676 = _S6592[int(2)] * s_diff_total_c_T_6;
    float _S6677 = _S6669 + _S6676.x + _S6676.y + _S6676.z;
    DiffPair_float_0 _S6678;
    (&_S6678)->primal_0 = _S6653;
    (&_S6678)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6678, _S6677);
    float _S6679 = - _S6678.differential_0;
    float3  _S6680 = _S6652 * s_diff_total_c_T_6;
    float3  _S6681 = _S6592[int(1)] * s_diff_total_c_T_6;
    float _S6682 = _S6669 + _S6681.x + _S6681.y + _S6681.z;
    DiffPair_float_0 _S6683;
    (&_S6683)->primal_0 = _S6650;
    (&_S6683)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6683, _S6682);
    float _S6684 = - _S6683.differential_0;
    float3  _S6685 = _S6649 * s_diff_total_c_T_6;
    float3  _S6686 = _S6592[int(0)] * s_diff_total_c_T_6;
    float _S6687 = _S6669 + _S6686.x + _S6686.y + _S6686.z;
    DiffPair_float_0 _S6688;
    (&_S6688)->primal_0 = _S6647;
    (&_S6688)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6688, _S6687);
    float _S6689 = _S6674 + _S6679 + _S6684 + - _S6688.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6690;
    (&_S6690)->primal_0 = _S6591[int(4)];
    (&_S6690)->differential_0 = _S6595;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6691;
    (&_S6691)->primal_0 = _S6645;
    (&_S6691)->differential_0 = _S6595;
    s_bwd_prop_dot_0(&_S6690, &_S6691, _S6689);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6692;
    (&_S6692)->primal_0 = _S6591[int(3)];
    (&_S6692)->differential_0 = _S6595;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6693;
    (&_S6693)->primal_0 = _S6645;
    (&_S6693)->differential_0 = _S6595;
    s_bwd_prop_dot_0(&_S6692, &_S6693, _S6673.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6694;
    (&_S6694)->primal_0 = _S6591[int(2)];
    (&_S6694)->differential_0 = _S6595;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6695;
    (&_S6695)->primal_0 = _S6645;
    (&_S6695)->differential_0 = _S6595;
    s_bwd_prop_dot_0(&_S6694, &_S6695, _S6678.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6696;
    (&_S6696)->primal_0 = _S6591[int(1)];
    (&_S6696)->differential_0 = _S6595;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6697;
    (&_S6697)->primal_0 = _S6645;
    (&_S6697)->differential_0 = _S6595;
    s_bwd_prop_dot_0(&_S6696, &_S6697, _S6683.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6698;
    (&_S6698)->primal_0 = _S6591[int(0)];
    (&_S6698)->differential_0 = _S6595;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6699;
    (&_S6699)->primal_0 = _S6645;
    (&_S6699)->differential_0 = _S6595;
    s_bwd_prop_dot_0(&_S6698, &_S6699, _S6688.differential_0);
    float3  _S6700 = _S6691.differential_0 + _S6693.differential_0 + _S6695.differential_0 + _S6697.differential_0 + _S6699.differential_0;
    float3  _S6701 = _S6641 * _S6700;
    float3  _S6702 = _S6644 * _S6700;
    float _S6703 = _S6701.x + _S6701.y + _S6701.z;
    DiffPair_float_0 _S6704;
    (&_S6704)->primal_0 = _S6642;
    (&_S6704)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6704, _S6703);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6705;
    (&_S6705)->primal_0 = _S6641;
    (&_S6705)->differential_0 = _S6595;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6706;
    (&_S6706)->primal_0 = _S6641;
    (&_S6706)->differential_0 = _S6595;
    s_bwd_prop_dot_0(&_S6705, &_S6706, _S6704.differential_0);
    float3  _S6707 = _S6702 + _S6706.differential_0 + _S6705.differential_0;
    float3  _S6708 = - - _S6707;
    Matrix<float, 3, 3>  _S6709 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6710;
    (&_S6710)->primal_0 = _S6640;
    (&_S6710)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6711;
    (&_S6711)->primal_0 = _S6594.primal_0;
    (&_S6711)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6710, &_S6711, _S6708);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6712 = _S6711;
    Matrix<float, 3, 3>  _S6713 = transpose_0(_S6710.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6714;
    (&_S6714)->primal_0 = _S6639;
    (&_S6714)->differential_0 = _S6595;
    s_bwd_prop_exp_1(&_S6714, dpconic_13);
    float3  _S6715 = - _S6714.differential_0;
    DiffPair_float_0 _S6716;
    (&_S6716)->primal_0 = _S6636;
    (&_S6716)->differential_0 = 0.0f;
    DiffPair_float_0 _S6717;
    (&_S6717)->primal_0 = _S6638;
    (&_S6717)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6716, &_S6717, dpdepth_14);
    float _S6718 = _S6637 * _S6717.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6719;
    (&_S6719)->primal_0 = mean_c_54;
    (&_S6719)->differential_0 = _S6595;
    s_bwd_length_impl_1(&_S6719, _S6718);
    float _S6720 = _S6716.differential_0 + _S6718;
    DiffPair_float_0 _S6721;
    (&_S6721)->primal_0 = _S6635;
    (&_S6721)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6721, 0.0f);
    DiffPair_float_0 _S6722;
    (&_S6722)->primal_0 = _S6634;
    (&_S6722)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6722, 0.0f);
    DiffPair_float_0 _S6723;
    (&_S6723)->primal_0 = 3.32999992370605469f;
    (&_S6723)->differential_0 = 0.0f;
    DiffPair_float_0 _S6724;
    (&_S6724)->primal_0 = _S6633;
    (&_S6724)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6723, &_S6724, 0.0f);
    DiffPair_float_0 _S6725;
    (&_S6725)->primal_0 = _S6632;
    (&_S6725)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6725, _S6724.differential_0);
    float _S6726 = 2.0f * _S6725.differential_0;
    DiffPair_float_0 _S6727;
    (&_S6727)->primal_0 = _S6631;
    (&_S6727)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6727, _S6726);
    float _S6728 = dpopacity_15 + 254.9999847412109375f * _S6727.differential_0;
    FixedArray<float3 , 5>  _S6729;
    _S6729[int(0)] = _S6595;
    _S6729[int(1)] = _S6595;
    _S6729[int(2)] = _S6595;
    _S6729[int(3)] = _S6595;
    _S6729[int(4)] = _S6595;
    _S6729[int(4)] = _S6668;
    _S6729[int(3)] = _S6670;
    _S6729[int(2)] = _S6675;
    _S6729[int(1)] = _S6680;
    _S6729[int(0)] = _S6685;
    FixedArray<float3 , 5>  _S6730 = {
        _S6729[int(0)], _S6729[int(1)], _S6729[int(2)], _S6729[int(3)], _S6729[int(4)]
    };
    FixedArray<float3 , 5>  _S6731;
    _S6731[int(0)] = _S6595;
    _S6731[int(1)] = _S6595;
    _S6731[int(2)] = _S6595;
    _S6731[int(3)] = _S6595;
    _S6731[int(4)] = _S6595;
    _S6731[int(4)] = _S6690.differential_0;
    _S6731[int(3)] = _S6692.differential_0;
    _S6731[int(2)] = _S6694.differential_0;
    _S6731[int(1)] = _S6696.differential_0;
    _S6731[int(0)] = _S6698.differential_0;
    FixedArray<float3 , 5>  _S6732 = {
        _S6731[int(0)], _S6731[int(1)], _S6731[int(2)], _S6731[int(3)], _S6731[int(4)]
    };
    float3  _S6733 = _S6719.differential_0 + make_float3 (0.0f, 0.0f, _S6720);
    float2  _S6734 = make_float2 (0.0f, _S6721.differential_0);
    float2  _S6735 = make_float2 (_S6722.differential_0, 0.0f);
    float _S6736;
    if(antialiased_58)
    {
        float _S6737 = _S6628 * _S6728;
        _S6630 = _S6625 * _S6728;
        _S6736 = _S6737;
    }
    else
    {
        _S6630 = _S6728;
        _S6736 = 0.0f;
    }
    float _S6738 = - (_S6630 / _S6629);
    DiffPair_float_0 _S6739;
    (&_S6739)->primal_0 = _S6626;
    (&_S6739)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6739, _S6738);
    float _S6740 = - _S6739.differential_0;
    DiffPair_float_0 _S6741;
    (&_S6741)->primal_0 = _S6624;
    (&_S6741)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6741, _S6736);
    DiffPair_float_0 _S6742;
    (&_S6742)->primal_0 = 0.0f;
    (&_S6742)->differential_0 = 0.0f;
    DiffPair_float_0 _S6743;
    (&_S6743)->primal_0 = _S6622;
    (&_S6743)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6742, &_S6743, _S6741.differential_0);
    float _S6744 = _S6743.differential_0 / _S6623;
    float s_diff_det_blur_T_10 = det_orig_59 * - _S6744;
    float s_diff_det_orig_T_13 = det_blur_39 * _S6744;
    float _S6745 = - s_diff_det_blur_T_10;
    float _S6746 = _S6617 * s_diff_det_blur_T_10;
    float _S6747 = _S6619 * s_diff_det_blur_T_10;
    Matrix<float, 2, 2>  _S6748 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6749 = _S6748;
    _S6749[int(1)] = _S6734;
    _S6749[int(0)] = _S6735;
    float _S6750 = _S6747 + _S6749.rows[int(0)].x;
    float _S6751 = _S6745 + - s_diff_det_orig_T_13;
    float _S6752 = *&(((&_s_diff_ctx_27->_S6541)->rows + (int(0)))->y) * _S6751;
    float _S6753 = *&(((&_s_diff_ctx_27->_S6541)->rows + (int(1)))->x) * _S6751;
    float _S6754 = *&(((&_s_diff_ctx_27->_S6541)->rows + (int(1)))->y) * s_diff_det_orig_T_13;
    float _S6755 = _S6746 + _S6749.rows[int(1)].y + *&(((&_s_diff_ctx_27->_S6541)->rows + (int(0)))->x) * s_diff_det_orig_T_13;
    float2  _S6756 = make_float2 (0.0f);
    float2  _S6757 = _S6756;
    *&((&_S6757)->x) = _S6752;
    *&((&_S6757)->y) = _S6755;
    float _S6758 = _S6750 + _S6754;
    float2  _S6759 = _S6756;
    *&((&_S6759)->y) = _S6753;
    *&((&_S6759)->x) = _S6758;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6760;
    (&_S6760)->primal_0 = _S6593.primal_0;
    (&_S6760)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6761;
    (&_S6761)->primal_0 = _S6614;
    (&_S6761)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6760, &_S6761, _S6595);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6762;
    (&_S6762)->primal_0 = _S6593.primal_0;
    (&_S6762)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6763;
    (&_S6763)->primal_0 = _S6610;
    (&_S6763)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6762, &_S6763, _S6595);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6764;
    (&_S6764)->primal_0 = _S6593.primal_0;
    (&_S6764)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6765;
    (&_S6765)->primal_0 = _S6606;
    (&_S6765)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6764, &_S6765, _S6595);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6766;
    (&_S6766)->primal_0 = _S6593.primal_0;
    (&_S6766)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6767;
    (&_S6767)->primal_0 = _S6613;
    (&_S6767)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6766, &_S6767, _S6595);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6768;
    (&_S6768)->primal_0 = _S6593.primal_0;
    (&_S6768)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6769;
    (&_S6769)->primal_0 = _S6609;
    (&_S6769)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6768, &_S6769, _S6595);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6770;
    (&_S6770)->primal_0 = _S6593.primal_0;
    (&_S6770)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6771;
    (&_S6771)->primal_0 = _S6605;
    (&_S6771)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6770, &_S6771, _S6595);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6772;
    (&_S6772)->primal_0 = _S6593.primal_0;
    (&_S6772)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6773;
    (&_S6773)->primal_0 = _S6615.p_0[0U];
    (&_S6773)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6772, &_S6773, _S6595);
    float3  _S6774 = - _S6761.differential_0 + _S6767.differential_0;
    float3  _S6775 = _S6612 * _S6774;
    float3  _S6776 = _S6598.rows[2U] * _S6774;
    float _S6777 = _S6602 * (_S6776.x + _S6776.y + _S6776.z);
    float3  _S6778 = - _S6763.differential_0 + _S6769.differential_0;
    float3  _S6779 = _S6608 * _S6778;
    float3  _S6780 = _S6598.rows[1U] * _S6778;
    float _S6781 = _S6602 * (_S6780.x + _S6780.y + _S6780.z);
    float3  _S6782 = - _S6765.differential_0 + _S6771.differential_0;
    float3  _S6783 = _S6604 * _S6782;
    float3  _S6784 = _S6598.rows[0U] * _S6782;
    float _S6785 = _S6602 * (_S6784.x + _S6784.y + _S6784.z);
    Matrix<float, 3, 3>  _S6786 = _S6709;
    _S6786[2U] = _S6775;
    _S6786[1U] = _S6779;
    _S6786[0U] = _S6783;
    Matrix<float, 3, 3>  _S6787 = transpose_0(transpose_0(_S6786));
    float _S6788 = 2.0f * - _S6787.rows[int(2)].z;
    float _S6789 = 2.0f * _S6787.rows[int(2)].y;
    float _S6790 = 2.0f * _S6787.rows[int(2)].x;
    float _S6791 = 2.0f * _S6787.rows[int(1)].z;
    float _S6792 = 2.0f * - _S6787.rows[int(1)].y;
    float _S6793 = 2.0f * _S6787.rows[int(1)].x;
    float _S6794 = 2.0f * _S6787.rows[int(0)].z;
    float _S6795 = 2.0f * _S6787.rows[int(0)].y;
    float _S6796 = 2.0f * - _S6787.rows[int(0)].x;
    float _S6797 = - _S6793 + _S6795;
    float _S6798 = _S6790 + - _S6794;
    float _S6799 = - _S6789 + _S6791;
    float _S6800 = _S6789 + _S6791;
    float _S6801 = _S6790 + _S6794;
    float _S6802 = _S6793 + _S6795;
    float _S6803 = _S6589.primal_0.w * (_S6792 + _S6796);
    float _S6804 = _S6589.primal_0.z * (_S6788 + _S6796);
    float _S6805 = _S6589.primal_0.y * (_S6788 + _S6792);
    float _S6806 = _S6589.primal_0.x * _S6797 + _S6589.primal_0.z * _S6800 + _S6589.primal_0.y * _S6801 + _S6803 + _S6803;
    float _S6807 = _S6589.primal_0.x * _S6798 + _S6589.primal_0.w * _S6800 + _S6589.primal_0.y * _S6802 + _S6804 + _S6804;
    float _S6808 = _S6589.primal_0.x * _S6799 + _S6589.primal_0.w * _S6801 + _S6589.primal_0.z * _S6802 + _S6805 + _S6805;
    float _S6809 = _S6589.primal_0.w * _S6797 + _S6589.primal_0.z * _S6798 + _S6589.primal_0.y * _S6799;
    float3  _S6810 = _S6595;
    *&((&_S6810)->z) = _S6777;
    *&((&_S6810)->y) = _S6781;
    *&((&_S6810)->x) = _S6785;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6811;
    (&_S6811)->primal_0 = _S6590.primal_0;
    (&_S6811)->differential_0 = _S6595;
    s_bwd_prop_exp_1(&_S6811, _S6810);
    Matrix<float, 2, 2>  _S6812 = _S6748;
    _S6812[int(1)] = _S6757;
    _S6812[int(0)] = _S6759;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6813;
    (&_S6813)->primal_0 = _S6593.primal_0;
    (&_S6813)->differential_0 = _S6709;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6814;
    (&_S6814)->primal_0 = _S6588.primal_0;
    (&_S6814)->differential_0 = _S6595;
    s_bwd_prop_mul_1(&_S6813, &_S6814, _S6733);
    float3  _S6815 = _S6733 + _S6712.differential_0;
    dpt_14->primal_0 = (*dpt_14).primal_0;
    dpt_14->differential_0 = _S6815;
    Matrix<float, 3, 3>  _S6816 = _S6760.differential_0 + _S6762.differential_0 + _S6764.differential_0 + _S6766.differential_0 + _S6768.differential_0 + _S6770.differential_0 + _S6772.differential_0 + _S6813.differential_0 + _S6713;
    dpR_15->primal_0 = (*dpR_15).primal_0;
    dpR_15->differential_0 = _S6816;
    dpsv_colors_13->primal_0 = dpsv_colors_13->primal_0;
    dpsv_colors_13->differential_0 = _S6730;
    dpsv_sites_13->primal_0 = dpsv_sites_13->primal_0;
    dpsv_sites_13->differential_0 = _S6732;
    dpin_opacity_13->primal_0 = (*dpin_opacity_13).primal_0;
    dpin_opacity_13->differential_0 = _S6740;
    float3  _S6817 = _S6811.differential_0 + _S6715;
    dpscale_14->primal_0 = (*dpscale_14).primal_0;
    dpscale_14->differential_0 = _S6817;
    float4  _S6818 = make_float4 (0.0f);
    *&((&_S6818)->w) = _S6806;
    *&((&_S6818)->z) = _S6807;
    *&((&_S6818)->y) = _S6808;
    *&((&_S6818)->x) = _S6809;
    dpquat_14->primal_0 = (*dpquat_14).primal_0;
    dpquat_14->differential_0 = _S6818;
    float3  _S6819 = _S6761.differential_0 + _S6767.differential_0 + _S6763.differential_0 + _S6769.differential_0 + _S6765.differential_0 + _S6771.differential_0 + _S6814.differential_0 + _S6707;
    dpmean_15->primal_0 = (*dpmean_15).primal_0;
    dpmean_15->differential_0 = _S6819;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_3(bool _S6820, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6821, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6822, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6823, DiffPair_float_0 * _S6824, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S6825, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S6826, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6827, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6828, float _S6829, float _S6830, float _S6831, float _S6832, FixedArray<float, 10>  * _S6833, uint _S6834, uint _S6835, float _S6836, float _S6837, float2  _S6838, float _S6839, float3  _S6840, float _S6841, float3  _S6842)
{
    FixedArray<float3 , 5>  _S6843 = _S6825->primal_0;
    FixedArray<float3 , 5>  _S6844 = _S6826->primal_0;
    int4  _S6845;
    float2  _S6846;
    float _S6847;
    float3  _S6848;
    float _S6849;
    float3  _S6850;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S6851;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(_S6820, (*_S6821).primal_0, (*_S6822).primal_0, (*_S6823).primal_0, (*_S6824).primal_0, &_S6843, &_S6844, (*_S6827).primal_0, (*_S6828).primal_0, _S6829, _S6830, _S6831, _S6832, _S6833, _S6834, _S6835, _S6836, _S6837, &_S6845, &_S6846, &_S6847, &_S6848, &_S6849, &_S6850, &_S6851);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S6852 = _S6851;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(_S6820, _S6821, _S6822, _S6823, _S6824, _S6825, _S6826, _S6827, _S6828, _S6829, _S6830, _S6831, _S6832, _S6833, _S6834, _S6835, _S6836, _S6837, _S6838, _S6839, _S6840, _S6841, _S6842, &_S6852);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_59, float3  mean_50, float4  quat_51, float3  scale_50, float in_opacity_45, FixedArray<float3 , 5>  * sv_sites_28, FixedArray<float3 , 5>  * sv_colors_28, Matrix<float, 3, 3>  R_52, float3  t_48, float fx_71, float fy_71, float cx_66, float cy_66, FixedArray<float, 10>  * dist_coeffs_74, uint image_width_59, uint image_height_59, float2  v_mean2d_13, float v_depth_14, float3  v_conic_13, float v_opacity_15, float3  v_rgb_14, float3  * v_mean_15, float4  * v_quat_14, float3  * v_scale_14, float * v_in_opacity_13, FixedArray<float3 , 5>  * v_sv_dirs_6, FixedArray<float3 , 5>  * v_sv_colors_6, Matrix<float, 3, 3>  * v_R_15, float3  * v_t_14)
{
    float3  _S6853 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_8;
    (&dp_mean_8)->primal_0 = mean_50;
    (&dp_mean_8)->differential_0 = _S6853;
    float4  _S6854 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_7;
    (&dp_quat_7)->primal_0 = quat_51;
    (&dp_quat_7)->differential_0 = _S6854;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_7;
    (&dp_scale_7)->primal_0 = scale_50;
    (&dp_scale_7)->differential_0 = _S6853;
    DiffPair_float_0 dp_in_opacity_6;
    (&dp_in_opacity_6)->primal_0 = in_opacity_45;
    (&dp_in_opacity_6)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S6855 = { _S6853, _S6853, _S6853, _S6853, _S6853 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_6;
    (&dp_sv_dirs_6)->primal_0 = *sv_sites_28;
    (&dp_sv_dirs_6)->differential_0 = _S6855;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_6;
    (&dp_sv_colors_6)->primal_0 = *sv_colors_28;
    (&dp_sv_colors_6)->differential_0 = _S6855;
    Matrix<float, 3, 3>  _S6856 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_8;
    (&dp_R_8)->primal_0 = R_52;
    (&dp_R_8)->differential_0 = _S6856;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_7;
    (&dp_t_7)->primal_0 = t_48;
    (&dp_t_7)->differential_0 = _S6853;
    s_bwd_projection_3dgut_sv_persp_differentiable_3(antialiased_59, &dp_mean_8, &dp_quat_7, &dp_scale_7, &dp_in_opacity_6, &dp_sv_dirs_6, &dp_sv_colors_6, &dp_R_8, &dp_t_7, fx_71, fy_71, cx_66, cy_66, dist_coeffs_74, image_width_59, image_height_59, 0.0f, 1.00000001504746622e+30f, v_mean2d_13, v_depth_14, v_conic_13, v_opacity_15, v_rgb_14);
    *v_mean_15 = dp_mean_8.differential_0;
    *v_quat_14 = dp_quat_7.differential_0;
    *v_scale_14 = dp_scale_7.differential_0;
    *v_in_opacity_13 = dp_in_opacity_6.differential_0;
    *v_sv_dirs_6 = (&dp_sv_dirs_6)->differential_0;
    *v_sv_colors_6 = (&dp_sv_colors_6)->differential_0;
    *v_R_15 = dp_R_8.differential_0;
    *v_t_14 = dp_t_7.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S6857;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_60, float3  dpmean_16, float4  dpquat_15, float3  dpscale_15, float dpin_opacity_14, FixedArray<float3 , 5>  * dpsv_sites_14, FixedArray<float3 , 5>  * dpsv_colors_14, Matrix<float, 3, 3>  dpR_16, float3  dpt_15, float fx_72, float fy_72, float cx_67, float cy_67, FixedArray<float, 10>  * dist_coeffs_75, uint image_width_60, uint image_height_60, float near_plane_46, float far_plane_46, int4  * aabb_xyxy_39, float2  * dpmean2d_18, float * dpdepth_15, float3  * dpconic_14, float * dpopacity_16, float3  * dprgb_15, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_28)
{
    Matrix<float, 2, 2>  _S6858 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_28->_S6857 = _S6858;
    float2  _S6859 = make_float2 (0.0f);
    float3  _S6860 = make_float3 (0.0f);
    float3  mean_c_55 = s_primal_ctx_mul_0(dpR_16, dpmean_16) + dpt_15;
    float _S6861 = length_1(mean_c_55);
    float4  intrins_49 = make_float4 (fx_72, fy_72, cx_67, cy_67);
    float3  _S6862 = s_primal_ctx_exp_0(dpscale_15);
    float _S6863 = dpquat_15.y;
    float x2_59 = _S6863 * _S6863;
    float y2_59 = dpquat_15.z * dpquat_15.z;
    float z2_82 = dpquat_15.w * dpquat_15.w;
    float xy_59 = dpquat_15.y * dpquat_15.z;
    float xz_59 = dpquat_15.y * dpquat_15.w;
    float yz_59 = dpquat_15.z * dpquat_15.w;
    float wx_59 = dpquat_15.x * dpquat_15.y;
    float wy_59 = dpquat_15.x * dpquat_15.z;
    float wz_59 = dpquat_15.x * dpquat_15.w;
    Matrix<float, 3, 3>  _S6864 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_59 + z2_82), 2.0f * (xy_59 + wz_59), 2.0f * (xz_59 - wy_59), 2.0f * (xy_59 - wz_59), 1.0f - 2.0f * (x2_59 + z2_82), 2.0f * (yz_59 + wx_59), 2.0f * (xz_59 + wy_59), 2.0f * (yz_59 - wx_59), 1.0f - 2.0f * (x2_59 + y2_59))));
    FixedArray<float3 , 7>  _S6865 = {
        _S6860, _S6860, _S6860, _S6860, _S6860, _S6860, _S6860
    };
    FixedArray<float, 7>  _S6866 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6867;
    (&_S6867)->p_0 = _S6865;
    (&_S6867)->w_mean_0 = _S6866;
    (&_S6867)->w_cov_0 = _S6866;
    (&_S6867)->p_0[int(0)] = dpmean_16;
    SigmaPoints_0 _S6868 = _S6867;
    (&_S6868)->w_mean_0[int(0)] = 0.0f;
    (&_S6868)->w_cov_0[int(0)] = 2.0f;
    float _S6869 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_138 = make_float3 (_S6869 * _S6862.x) * _S6864.rows[0U];
    float3  _S6870 = dpmean_16 + delta_138;
    float3  _S6871 = dpmean_16 - delta_138;
    float3  delta_139 = make_float3 (_S6869 * _S6862.y) * _S6864.rows[1U];
    float3  _S6872 = dpmean_16 + delta_139;
    float3  _S6873 = dpmean_16 - delta_139;
    float3  delta_140 = make_float3 (_S6869 * _S6862.z) * _S6864.rows[2U];
    float3  _S6874 = dpmean_16 + delta_140;
    float3  _S6875 = dpmean_16 - delta_140;
    (&_S6868)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6868)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6868)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6868)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6868)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6868)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6868)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6868)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6868)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6868)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6868)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6868)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6868)->p_0[0U] = s_primal_ctx_mul_0(dpR_16, _S6867.p_0[0U]) + dpt_15;
    (&_S6868)->p_0[1U] = s_primal_ctx_mul_0(dpR_16, _S6870) + dpt_15;
    (&_S6868)->p_0[2U] = s_primal_ctx_mul_0(dpR_16, _S6872) + dpt_15;
    (&_S6868)->p_0[3U] = s_primal_ctx_mul_0(dpR_16, _S6874) + dpt_15;
    (&_S6868)->p_0[4U] = s_primal_ctx_mul_0(dpR_16, _S6871) + dpt_15;
    (&_S6868)->p_0[5U] = s_primal_ctx_mul_0(dpR_16, _S6873) + dpt_15;
    (&_S6868)->p_0[6U] = s_primal_ctx_mul_0(dpR_16, _S6875) + dpt_15;
    float2  _S6876 = _S6859;
    Matrix<float, 2, 2>  _S6877 = _S6858;
    SigmaPoints_0 _S6878 = _S6868;
    bool _S6879 = fisheye_proj_3dgs_ut_1(&_S6878, intrins_49, dist_coeffs_75, &_S6877, &_S6876);
    _s_diff_ctx_28->_S6857 = _S6877;
    float2  _S6880 = _S6876;
    float _S6881 = _S6877.rows[int(0)].y * _S6877.rows[int(1)].x;
    float det_orig_60 = _S6877.rows[int(0)].x * _S6877.rows[int(1)].y - _S6881;
    float _S6882 = _S6877.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6883 = _S6877;
    *&(((&_S6883)->rows + (int(0)))->x) = _S6882;
    float _S6884 = _S6877.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6883)->rows + (int(1)))->y) = _S6884;
    Matrix<float, 2, 2>  _S6885 = _S6883;
    Matrix<float, 2, 2>  _S6886 = _S6883;
    float _S6887 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_60 / (_S6882 * _S6884 - _S6881)));
    float _S6888 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_14));
    float _S6889;
    if(antialiased_60)
    {
        _S6889 = _S6888 * _S6887;
    }
    else
    {
        _S6889 = _S6888;
    }
    float _S6890 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6889 / 0.00392156885936856f)));
    float radius_x_39 = _S6890 * s_primal_ctx_sqrt_0(_S6885.rows[int(0)].x);
    float radius_y_39 = _S6890 * s_primal_ctx_sqrt_0(_S6886.rows[int(1)].y);
    float _S6891 = _S6880.x;
    float _S6892 = _S6880.y;
    float _S6893 = mean_c_55.z;
    float _S6894 = s_primal_ctx_max_0(_S6893, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6893 + _S6861));
    float3  _S6895 = s_primal_ctx_exp_0(- dpscale_15);
    float3  _S6896 = dpmean_16 - - s_primal_ctx_mul_0(transpose_0(dpR_16), dpt_15);
    float3  _S6897 = _S6896 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6896, _S6896)));
    float _S6898 = s_primal_ctx_dot_0((*dpsv_sites_14)[int(4)], _S6897);
    float _S6899 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(0)], _S6897) - _S6898);
    float _S6900 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(1)], _S6897) - _S6898);
    float _S6901 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(2)], _S6897) - _S6898);
    float _S6902 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(3)], _S6897) - _S6898);
    float _S6903 = s_primal_ctx_exp_1(0.0f);
    float3  _S6904 = s_primal_ctx_max_1((make_float3 (_S6899) * (*dpsv_colors_14)[int(0)] + make_float3 (_S6900) * (*dpsv_colors_14)[int(1)] + make_float3 (_S6901) * (*dpsv_colors_14)[int(2)] + make_float3 (_S6902) * (*dpsv_colors_14)[int(3)] + make_float3 (_S6903) * (*dpsv_colors_14)[int(4)]) / make_float3 (_S6899 + _S6900 + _S6901 + _S6902 + _S6903) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_39 = make_int4 (int((F32_floor((_S6891 - radius_x_39)))), int((F32_floor((_S6892 - radius_y_39)))), int((F32_ceil((_S6891 + radius_x_39)))), int((F32_ceil((_S6892 + radius_y_39)))));
    *dpmean2d_18 = _S6880;
    *dpdepth_15 = _S6894;
    *dpconic_14 = _S6895;
    *dpopacity_16 = _S6889;
    *dprgb_15 = _S6904;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_61, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_17, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_16, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_16, DiffPair_float_0 * dpin_opacity_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_15, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_17, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_16, float fx_73, float fy_73, float cx_68, float cy_68, FixedArray<float, 10>  * dist_coeffs_76, uint image_width_61, uint image_height_61, float near_plane_47, float far_plane_47, float2  dpmean2d_19, float dpdepth_16, float3  dpconic_15, float dpopacity_17, float3  dprgb_16, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_29)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6905 = *dpmean_17;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6906 = *dpquat_16;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6907 = *dpscale_16;
    FixedArray<float3 , 5>  _S6908 = dpsv_sites_15->primal_0;
    FixedArray<float3 , 5>  _S6909 = dpsv_colors_15->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6910 = *dpR_17;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6911 = *dpt_16;
    float3  _S6912 = make_float3 (0.0f);
    float3  mean_c_56 = s_primal_ctx_mul_0((*dpR_17).primal_0, (*dpmean_17).primal_0) + (*dpt_16).primal_0;
    float _S6913 = length_1(mean_c_56);
    float3  _S6914 = s_primal_ctx_exp_0((*dpscale_16).primal_0);
    float _S6915 = (*dpquat_16).primal_0.y;
    float x2_60 = _S6915 * _S6915;
    float y2_60 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.z;
    float z2_83 = (*dpquat_16).primal_0.w * (*dpquat_16).primal_0.w;
    float xy_60 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.z;
    float xz_60 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.w;
    float yz_60 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.w;
    float wx_60 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.y;
    float wy_60 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.z;
    float wz_60 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.w;
    Matrix<float, 3, 3>  _S6916 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_60 + z2_83), 2.0f * (xy_60 + wz_60), 2.0f * (xz_60 - wy_60), 2.0f * (xy_60 - wz_60), 1.0f - 2.0f * (x2_60 + z2_83), 2.0f * (yz_60 + wx_60), 2.0f * (xz_60 + wy_60), 2.0f * (yz_60 - wx_60), 1.0f - 2.0f * (x2_60 + y2_60))));
    FixedArray<float3 , 7>  _S6917 = {
        _S6912, _S6912, _S6912, _S6912, _S6912, _S6912, _S6912
    };
    FixedArray<float, 7>  _S6918 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6919;
    (&_S6919)->p_0 = _S6917;
    (&_S6919)->w_mean_0 = _S6918;
    (&_S6919)->w_cov_0 = _S6918;
    (&_S6919)->p_0[int(0)] = (*dpmean_17).primal_0;
    float _S6920 = s_primal_ctx_sqrt_0(3.0f);
    float _S6921 = _S6920 * _S6914.x;
    float3  _S6922 = make_float3 (_S6921);
    float3  delta_141 = make_float3 (_S6921) * _S6916.rows[0U];
    float3  _S6923 = (*dpmean_17).primal_0 + delta_141;
    float3  _S6924 = (*dpmean_17).primal_0 - delta_141;
    float _S6925 = _S6920 * _S6914.y;
    float3  _S6926 = make_float3 (_S6925);
    float3  delta_142 = make_float3 (_S6925) * _S6916.rows[1U];
    float3  _S6927 = (*dpmean_17).primal_0 + delta_142;
    float3  _S6928 = (*dpmean_17).primal_0 - delta_142;
    float _S6929 = _S6920 * _S6914.z;
    float3  _S6930 = make_float3 (_S6929);
    float3  delta_143 = make_float3 (_S6929) * _S6916.rows[2U];
    float3  _S6931 = (*dpmean_17).primal_0 + delta_143;
    float3  _S6932 = (*dpmean_17).primal_0 - delta_143;
    SigmaPoints_0 _S6933 = _S6919;
    float _S6934 = *&(((&_s_diff_ctx_29->_S6857)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_29->_S6857)->rows + (int(1)))->x);
    float det_orig_61 = *&(((&_s_diff_ctx_29->_S6857)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_29->_S6857)->rows + (int(1)))->y) - _S6934;
    float _S6935 = *&(((&_s_diff_ctx_29->_S6857)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6936 = _s_diff_ctx_29->_S6857;
    *&(((&_S6936)->rows + (int(0)))->x) = _S6935;
    float _S6937 = *&(((&_s_diff_ctx_29->_S6857)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6936)->rows + (int(1)))->y) = _S6937;
    Matrix<float, 2, 2>  _S6938 = _S6936;
    Matrix<float, 2, 2>  _S6939 = _S6936;
    float det_blur_40 = _S6935 * _S6937 - _S6934;
    float _S6940 = det_orig_61 / det_blur_40;
    float _S6941 = det_blur_40 * det_blur_40;
    float _S6942 = s_primal_ctx_max_0(0.0f, _S6940);
    float _S6943 = s_primal_ctx_sqrt_0(_S6942);
    float _S6944 = - (*dpin_opacity_15).primal_0;
    float _S6945 = 1.0f + s_primal_ctx_exp_1(_S6944);
    float _S6946 = 1.0f / _S6945;
    float _S6947 = _S6945 * _S6945;
    float _S6948;
    if(antialiased_61)
    {
        _S6948 = _S6946 * _S6943;
    }
    else
    {
        _S6948 = _S6946;
    }
    float _S6949 = _S6948 / 0.00392156885936856f;
    float _S6950 = 2.0f * s_primal_ctx_log_0(_S6949);
    float _S6951 = s_primal_ctx_sqrt_0(_S6950);
    float _S6952 = _S6938.rows[int(0)].x;
    float _S6953 = _S6939.rows[int(1)].y;
    float _S6954 = mean_c_56.z;
    float _S6955 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6956 = _S6955 * (_S6954 + _S6913);
    float3  _S6957 = - _S6907.primal_0;
    Matrix<float, 3, 3>  _S6958 = transpose_0(_S6910.primal_0);
    float3  _S6959 = _S6905.primal_0 - - s_primal_ctx_mul_0(_S6958, _S6911.primal_0);
    float _S6960 = s_primal_ctx_dot_0(_S6959, _S6959);
    float _S6961 = s_primal_ctx_rsqrt_0(_S6960);
    float3  _S6962 = make_float3 (_S6961);
    float3  _S6963 = _S6959 * make_float3 (_S6961);
    float _S6964 = s_primal_ctx_dot_0(_S6908[int(4)], _S6963);
    float _S6965 = s_primal_ctx_dot_0(_S6908[int(0)], _S6963) - _S6964;
    float _S6966 = s_primal_ctx_exp_1(_S6965);
    float3  _S6967 = make_float3 (_S6966);
    float _S6968 = s_primal_ctx_dot_0(_S6908[int(1)], _S6963) - _S6964;
    float _S6969 = s_primal_ctx_exp_1(_S6968);
    float3  _S6970 = make_float3 (_S6969);
    float _S6971 = s_primal_ctx_dot_0(_S6908[int(2)], _S6963) - _S6964;
    float _S6972 = s_primal_ctx_exp_1(_S6971);
    float3  _S6973 = make_float3 (_S6972);
    float _S6974 = s_primal_ctx_dot_0(_S6908[int(3)], _S6963) - _S6964;
    float _S6975 = s_primal_ctx_exp_1(_S6974);
    float3  _S6976 = make_float3 (_S6975);
    float _S6977 = s_primal_ctx_exp_1(0.0f);
    float3  _S6978 = make_float3 (_S6977);
    float total_w_7 = _S6966 + _S6969 + _S6972 + _S6975 + _S6977;
    float3  _S6979 = make_float3 (total_w_7);
    float3  total_c_7 = make_float3 (_S6966) * _S6909[int(0)] + make_float3 (_S6969) * _S6909[int(1)] + make_float3 (_S6972) * _S6909[int(2)] + make_float3 (_S6975) * _S6909[int(3)] + make_float3 (_S6977) * _S6909[int(4)];
    float3  _S6980 = make_float3 (total_w_7 * total_w_7);
    float3  _S6981 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6982;
    (&_S6982)->primal_0 = total_c_7 / make_float3 (total_w_7) + make_float3 (0.5f);
    (&_S6982)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6983;
    (&_S6983)->primal_0 = _S6981;
    (&_S6983)->differential_0 = _S6912;
    s_bwd_prop_max_0(&_S6982, &_S6983, dprgb_16);
    float3  _S6984 = _S6982.differential_0 / _S6980;
    float3  _S6985 = total_c_7 * - _S6984;
    float3  s_diff_total_c_T_7 = _S6979 * _S6984;
    float3  _S6986 = _S6978 * s_diff_total_c_T_7;
    float _S6987 = _S6985.x + _S6985.y + _S6985.z;
    float3  _S6988 = _S6976 * s_diff_total_c_T_7;
    float3  _S6989 = _S6909[int(3)] * s_diff_total_c_T_7;
    float _S6990 = _S6987 + _S6989.x + _S6989.y + _S6989.z;
    DiffPair_float_0 _S6991;
    (&_S6991)->primal_0 = _S6974;
    (&_S6991)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6991, _S6990);
    float _S6992 = - _S6991.differential_0;
    float3  _S6993 = _S6973 * s_diff_total_c_T_7;
    float3  _S6994 = _S6909[int(2)] * s_diff_total_c_T_7;
    float _S6995 = _S6987 + _S6994.x + _S6994.y + _S6994.z;
    DiffPair_float_0 _S6996;
    (&_S6996)->primal_0 = _S6971;
    (&_S6996)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6996, _S6995);
    float _S6997 = - _S6996.differential_0;
    float3  _S6998 = _S6970 * s_diff_total_c_T_7;
    float3  _S6999 = _S6909[int(1)] * s_diff_total_c_T_7;
    float _S7000 = _S6987 + _S6999.x + _S6999.y + _S6999.z;
    DiffPair_float_0 _S7001;
    (&_S7001)->primal_0 = _S6968;
    (&_S7001)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7001, _S7000);
    float _S7002 = - _S7001.differential_0;
    float3  _S7003 = _S6967 * s_diff_total_c_T_7;
    float3  _S7004 = _S6909[int(0)] * s_diff_total_c_T_7;
    float _S7005 = _S6987 + _S7004.x + _S7004.y + _S7004.z;
    DiffPair_float_0 _S7006;
    (&_S7006)->primal_0 = _S6965;
    (&_S7006)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7006, _S7005);
    float _S7007 = _S6992 + _S6997 + _S7002 + - _S7006.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7008;
    (&_S7008)->primal_0 = _S6908[int(4)];
    (&_S7008)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7009;
    (&_S7009)->primal_0 = _S6963;
    (&_S7009)->differential_0 = _S6912;
    s_bwd_prop_dot_0(&_S7008, &_S7009, _S7007);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7010;
    (&_S7010)->primal_0 = _S6908[int(3)];
    (&_S7010)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7011;
    (&_S7011)->primal_0 = _S6963;
    (&_S7011)->differential_0 = _S6912;
    s_bwd_prop_dot_0(&_S7010, &_S7011, _S6991.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7012;
    (&_S7012)->primal_0 = _S6908[int(2)];
    (&_S7012)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7013;
    (&_S7013)->primal_0 = _S6963;
    (&_S7013)->differential_0 = _S6912;
    s_bwd_prop_dot_0(&_S7012, &_S7013, _S6996.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7014;
    (&_S7014)->primal_0 = _S6908[int(1)];
    (&_S7014)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7015;
    (&_S7015)->primal_0 = _S6963;
    (&_S7015)->differential_0 = _S6912;
    s_bwd_prop_dot_0(&_S7014, &_S7015, _S7001.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7016;
    (&_S7016)->primal_0 = _S6908[int(0)];
    (&_S7016)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7017;
    (&_S7017)->primal_0 = _S6963;
    (&_S7017)->differential_0 = _S6912;
    s_bwd_prop_dot_0(&_S7016, &_S7017, _S7006.differential_0);
    float3  _S7018 = _S7009.differential_0 + _S7011.differential_0 + _S7013.differential_0 + _S7015.differential_0 + _S7017.differential_0;
    float3  _S7019 = _S6959 * _S7018;
    float3  _S7020 = _S6962 * _S7018;
    float _S7021 = _S7019.x + _S7019.y + _S7019.z;
    DiffPair_float_0 _S7022;
    (&_S7022)->primal_0 = _S6960;
    (&_S7022)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7022, _S7021);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7023;
    (&_S7023)->primal_0 = _S6959;
    (&_S7023)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7024;
    (&_S7024)->primal_0 = _S6959;
    (&_S7024)->differential_0 = _S6912;
    s_bwd_prop_dot_0(&_S7023, &_S7024, _S7022.differential_0);
    float3  _S7025 = _S7020 + _S7024.differential_0 + _S7023.differential_0;
    float3  _S7026 = - - _S7025;
    Matrix<float, 3, 3>  _S7027 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7028;
    (&_S7028)->primal_0 = _S6958;
    (&_S7028)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7029;
    (&_S7029)->primal_0 = _S6911.primal_0;
    (&_S7029)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7028, &_S7029, _S7026);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7030 = _S7029;
    Matrix<float, 3, 3>  _S7031 = transpose_0(_S7028.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7032;
    (&_S7032)->primal_0 = _S6957;
    (&_S7032)->differential_0 = _S6912;
    s_bwd_prop_exp_1(&_S7032, dpconic_15);
    float3  _S7033 = - _S7032.differential_0;
    DiffPair_float_0 _S7034;
    (&_S7034)->primal_0 = _S6954;
    (&_S7034)->differential_0 = 0.0f;
    DiffPair_float_0 _S7035;
    (&_S7035)->primal_0 = _S6956;
    (&_S7035)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7034, &_S7035, dpdepth_16);
    float _S7036 = _S6955 * _S7035.differential_0;
    float _S7037 = _S7034.differential_0 + _S7036;
    DiffPair_float_0 _S7038;
    (&_S7038)->primal_0 = _S6953;
    (&_S7038)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7038, 0.0f);
    DiffPair_float_0 _S7039;
    (&_S7039)->primal_0 = _S6952;
    (&_S7039)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7039, 0.0f);
    DiffPair_float_0 _S7040;
    (&_S7040)->primal_0 = 3.32999992370605469f;
    (&_S7040)->differential_0 = 0.0f;
    DiffPair_float_0 _S7041;
    (&_S7041)->primal_0 = _S6951;
    (&_S7041)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7040, &_S7041, 0.0f);
    DiffPair_float_0 _S7042;
    (&_S7042)->primal_0 = _S6950;
    (&_S7042)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7042, _S7041.differential_0);
    float _S7043 = 2.0f * _S7042.differential_0;
    DiffPair_float_0 _S7044;
    (&_S7044)->primal_0 = _S6949;
    (&_S7044)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7044, _S7043);
    float _S7045 = dpopacity_17 + 254.9999847412109375f * _S7044.differential_0;
    FixedArray<float3 , 5>  _S7046;
    _S7046[int(0)] = _S6912;
    _S7046[int(1)] = _S6912;
    _S7046[int(2)] = _S6912;
    _S7046[int(3)] = _S6912;
    _S7046[int(4)] = _S6912;
    _S7046[int(4)] = _S6986;
    _S7046[int(3)] = _S6988;
    _S7046[int(2)] = _S6993;
    _S7046[int(1)] = _S6998;
    _S7046[int(0)] = _S7003;
    FixedArray<float3 , 5>  _S7047 = {
        _S7046[int(0)], _S7046[int(1)], _S7046[int(2)], _S7046[int(3)], _S7046[int(4)]
    };
    FixedArray<float3 , 5>  _S7048;
    _S7048[int(0)] = _S6912;
    _S7048[int(1)] = _S6912;
    _S7048[int(2)] = _S6912;
    _S7048[int(3)] = _S6912;
    _S7048[int(4)] = _S6912;
    _S7048[int(4)] = _S7008.differential_0;
    _S7048[int(3)] = _S7010.differential_0;
    _S7048[int(2)] = _S7012.differential_0;
    _S7048[int(1)] = _S7014.differential_0;
    _S7048[int(0)] = _S7016.differential_0;
    FixedArray<float3 , 5>  _S7049 = {
        _S7048[int(0)], _S7048[int(1)], _S7048[int(2)], _S7048[int(3)], _S7048[int(4)]
    };
    float3  _S7050 = make_float3 (0.0f, 0.0f, _S7037);
    float2  _S7051 = make_float2 (0.0f, _S7038.differential_0);
    float2  _S7052 = make_float2 (_S7039.differential_0, 0.0f);
    float _S7053;
    if(antialiased_61)
    {
        float _S7054 = _S6946 * _S7045;
        _S6948 = _S6943 * _S7045;
        _S7053 = _S7054;
    }
    else
    {
        _S6948 = _S7045;
        _S7053 = 0.0f;
    }
    float _S7055 = - (_S6948 / _S6947);
    DiffPair_float_0 _S7056;
    (&_S7056)->primal_0 = _S6944;
    (&_S7056)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7056, _S7055);
    float _S7057 = - _S7056.differential_0;
    DiffPair_float_0 _S7058;
    (&_S7058)->primal_0 = _S6942;
    (&_S7058)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7058, _S7053);
    DiffPair_float_0 _S7059;
    (&_S7059)->primal_0 = 0.0f;
    (&_S7059)->differential_0 = 0.0f;
    DiffPair_float_0 _S7060;
    (&_S7060)->primal_0 = _S6940;
    (&_S7060)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7059, &_S7060, _S7058.differential_0);
    float _S7061 = _S7060.differential_0 / _S6941;
    float s_diff_det_blur_T_11 = det_orig_61 * - _S7061;
    float s_diff_det_orig_T_14 = det_blur_40 * _S7061;
    float _S7062 = - s_diff_det_blur_T_11;
    float _S7063 = _S6935 * s_diff_det_blur_T_11;
    float _S7064 = _S6937 * s_diff_det_blur_T_11;
    Matrix<float, 2, 2>  _S7065 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7066 = _S7065;
    _S7066[int(1)] = _S7051;
    _S7066[int(0)] = _S7052;
    float _S7067 = _S7064 + _S7066.rows[int(0)].x;
    float _S7068 = _S7062 + - s_diff_det_orig_T_14;
    float _S7069 = *&(((&_s_diff_ctx_29->_S6857)->rows + (int(0)))->y) * _S7068;
    float _S7070 = *&(((&_s_diff_ctx_29->_S6857)->rows + (int(1)))->x) * _S7068;
    float _S7071 = *&(((&_s_diff_ctx_29->_S6857)->rows + (int(1)))->y) * s_diff_det_orig_T_14;
    float _S7072 = _S7063 + _S7066.rows[int(1)].y + *&(((&_s_diff_ctx_29->_S6857)->rows + (int(0)))->x) * s_diff_det_orig_T_14;
    float2  _S7073 = make_float2 (0.0f);
    float2  _S7074 = _S7073;
    *&((&_S7074)->x) = _S7069;
    *&((&_S7074)->y) = _S7072;
    float _S7075 = _S7067 + _S7071;
    float2  _S7076 = _S7073;
    *&((&_S7076)->y) = _S7070;
    *&((&_S7076)->x) = _S7075;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7077;
    (&_S7077)->primal_0 = _S6910.primal_0;
    (&_S7077)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7078;
    (&_S7078)->primal_0 = _S6932;
    (&_S7078)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7077, &_S7078, _S6912);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7079;
    (&_S7079)->primal_0 = _S6910.primal_0;
    (&_S7079)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7080;
    (&_S7080)->primal_0 = _S6928;
    (&_S7080)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7079, &_S7080, _S6912);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7081;
    (&_S7081)->primal_0 = _S6910.primal_0;
    (&_S7081)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7082;
    (&_S7082)->primal_0 = _S6924;
    (&_S7082)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7081, &_S7082, _S6912);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7083;
    (&_S7083)->primal_0 = _S6910.primal_0;
    (&_S7083)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7084;
    (&_S7084)->primal_0 = _S6931;
    (&_S7084)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7083, &_S7084, _S6912);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7085;
    (&_S7085)->primal_0 = _S6910.primal_0;
    (&_S7085)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7086;
    (&_S7086)->primal_0 = _S6927;
    (&_S7086)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7085, &_S7086, _S6912);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7087;
    (&_S7087)->primal_0 = _S6910.primal_0;
    (&_S7087)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7088;
    (&_S7088)->primal_0 = _S6923;
    (&_S7088)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7087, &_S7088, _S6912);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7089;
    (&_S7089)->primal_0 = _S6910.primal_0;
    (&_S7089)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7090;
    (&_S7090)->primal_0 = _S6933.p_0[0U];
    (&_S7090)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7089, &_S7090, _S6912);
    float3  _S7091 = - _S7078.differential_0 + _S7084.differential_0;
    float3  _S7092 = _S6930 * _S7091;
    float3  _S7093 = _S6916.rows[2U] * _S7091;
    float _S7094 = _S6920 * (_S7093.x + _S7093.y + _S7093.z);
    float3  _S7095 = - _S7080.differential_0 + _S7086.differential_0;
    float3  _S7096 = _S6926 * _S7095;
    float3  _S7097 = _S6916.rows[1U] * _S7095;
    float _S7098 = _S6920 * (_S7097.x + _S7097.y + _S7097.z);
    float3  _S7099 = - _S7082.differential_0 + _S7088.differential_0;
    float3  _S7100 = _S6922 * _S7099;
    float3  _S7101 = _S6916.rows[0U] * _S7099;
    float _S7102 = _S6920 * (_S7101.x + _S7101.y + _S7101.z);
    Matrix<float, 3, 3>  _S7103 = _S7027;
    _S7103[2U] = _S7092;
    _S7103[1U] = _S7096;
    _S7103[0U] = _S7100;
    Matrix<float, 3, 3>  _S7104 = transpose_0(transpose_0(_S7103));
    float _S7105 = 2.0f * - _S7104.rows[int(2)].z;
    float _S7106 = 2.0f * _S7104.rows[int(2)].y;
    float _S7107 = 2.0f * _S7104.rows[int(2)].x;
    float _S7108 = 2.0f * _S7104.rows[int(1)].z;
    float _S7109 = 2.0f * - _S7104.rows[int(1)].y;
    float _S7110 = 2.0f * _S7104.rows[int(1)].x;
    float _S7111 = 2.0f * _S7104.rows[int(0)].z;
    float _S7112 = 2.0f * _S7104.rows[int(0)].y;
    float _S7113 = 2.0f * - _S7104.rows[int(0)].x;
    float _S7114 = - _S7110 + _S7112;
    float _S7115 = _S7107 + - _S7111;
    float _S7116 = - _S7106 + _S7108;
    float _S7117 = _S7106 + _S7108;
    float _S7118 = _S7107 + _S7111;
    float _S7119 = _S7110 + _S7112;
    float _S7120 = _S6906.primal_0.w * (_S7109 + _S7113);
    float _S7121 = _S6906.primal_0.z * (_S7105 + _S7113);
    float _S7122 = _S6906.primal_0.y * (_S7105 + _S7109);
    float _S7123 = _S6906.primal_0.x * _S7114 + _S6906.primal_0.z * _S7117 + _S6906.primal_0.y * _S7118 + _S7120 + _S7120;
    float _S7124 = _S6906.primal_0.x * _S7115 + _S6906.primal_0.w * _S7117 + _S6906.primal_0.y * _S7119 + _S7121 + _S7121;
    float _S7125 = _S6906.primal_0.x * _S7116 + _S6906.primal_0.w * _S7118 + _S6906.primal_0.z * _S7119 + _S7122 + _S7122;
    float _S7126 = _S6906.primal_0.w * _S7114 + _S6906.primal_0.z * _S7115 + _S6906.primal_0.y * _S7116;
    float3  _S7127 = _S6912;
    *&((&_S7127)->z) = _S7094;
    *&((&_S7127)->y) = _S7098;
    *&((&_S7127)->x) = _S7102;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7128;
    (&_S7128)->primal_0 = _S6907.primal_0;
    (&_S7128)->differential_0 = _S6912;
    s_bwd_prop_exp_1(&_S7128, _S7127);
    Matrix<float, 2, 2>  _S7129 = _S7065;
    _S7129[int(1)] = _S7074;
    _S7129[int(0)] = _S7076;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7130;
    (&_S7130)->primal_0 = mean_c_56;
    (&_S7130)->differential_0 = _S6912;
    s_bwd_length_impl_1(&_S7130, _S7036);
    float3  _S7131 = _S7130.differential_0 + _S7050;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7132;
    (&_S7132)->primal_0 = _S6910.primal_0;
    (&_S7132)->differential_0 = _S7027;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7133;
    (&_S7133)->primal_0 = _S6905.primal_0;
    (&_S7133)->differential_0 = _S6912;
    s_bwd_prop_mul_1(&_S7132, &_S7133, _S7131);
    float3  _S7134 = _S7131 + _S7030.differential_0;
    dpt_16->primal_0 = (*dpt_16).primal_0;
    dpt_16->differential_0 = _S7134;
    Matrix<float, 3, 3>  _S7135 = _S7077.differential_0 + _S7079.differential_0 + _S7081.differential_0 + _S7083.differential_0 + _S7085.differential_0 + _S7087.differential_0 + _S7089.differential_0 + _S7132.differential_0 + _S7031;
    dpR_17->primal_0 = (*dpR_17).primal_0;
    dpR_17->differential_0 = _S7135;
    dpsv_colors_15->primal_0 = dpsv_colors_15->primal_0;
    dpsv_colors_15->differential_0 = _S7047;
    dpsv_sites_15->primal_0 = dpsv_sites_15->primal_0;
    dpsv_sites_15->differential_0 = _S7049;
    dpin_opacity_15->primal_0 = (*dpin_opacity_15).primal_0;
    dpin_opacity_15->differential_0 = _S7057;
    float3  _S7136 = _S7128.differential_0 + _S7033;
    dpscale_16->primal_0 = (*dpscale_16).primal_0;
    dpscale_16->differential_0 = _S7136;
    float4  _S7137 = make_float4 (0.0f);
    *&((&_S7137)->w) = _S7123;
    *&((&_S7137)->z) = _S7124;
    *&((&_S7137)->y) = _S7125;
    *&((&_S7137)->x) = _S7126;
    dpquat_16->primal_0 = (*dpquat_16).primal_0;
    dpquat_16->differential_0 = _S7137;
    float3  _S7138 = _S7078.differential_0 + _S7084.differential_0 + _S7080.differential_0 + _S7086.differential_0 + _S7082.differential_0 + _S7088.differential_0 + _S7133.differential_0 + _S7025;
    dpmean_17->primal_0 = (*dpmean_17).primal_0;
    dpmean_17->differential_0 = _S7138;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_3(bool _S7139, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7140, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7141, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7142, DiffPair_float_0 * _S7143, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S7144, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S7145, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7146, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7147, float _S7148, float _S7149, float _S7150, float _S7151, FixedArray<float, 10>  * _S7152, uint _S7153, uint _S7154, float _S7155, float _S7156, float2  _S7157, float _S7158, float3  _S7159, float _S7160, float3  _S7161)
{
    FixedArray<float3 , 5>  _S7162 = _S7144->primal_0;
    FixedArray<float3 , 5>  _S7163 = _S7145->primal_0;
    int4  _S7164;
    float2  _S7165;
    float _S7166;
    float3  _S7167;
    float _S7168;
    float3  _S7169;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S7170;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(_S7139, (*_S7140).primal_0, (*_S7141).primal_0, (*_S7142).primal_0, (*_S7143).primal_0, &_S7162, &_S7163, (*_S7146).primal_0, (*_S7147).primal_0, _S7148, _S7149, _S7150, _S7151, _S7152, _S7153, _S7154, _S7155, _S7156, &_S7164, &_S7165, &_S7166, &_S7167, &_S7168, &_S7169, &_S7170);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S7171 = _S7170;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(_S7139, _S7140, _S7141, _S7142, _S7143, _S7144, _S7145, _S7146, _S7147, _S7148, _S7149, _S7150, _S7151, _S7152, _S7153, _S7154, _S7155, _S7156, _S7157, _S7158, _S7159, _S7160, _S7161, &_S7171);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_62, float3  mean_51, float4  quat_52, float3  scale_51, float in_opacity_46, FixedArray<float3 , 5>  * sv_sites_29, FixedArray<float3 , 5>  * sv_colors_29, Matrix<float, 3, 3>  R_53, float3  t_49, float fx_74, float fy_74, float cx_69, float cy_69, FixedArray<float, 10>  * dist_coeffs_77, uint image_width_62, uint image_height_62, float2  v_mean2d_14, float v_depth_15, float3  v_conic_14, float v_opacity_16, float3  v_rgb_15, float3  * v_mean_16, float4  * v_quat_15, float3  * v_scale_15, float * v_in_opacity_14, FixedArray<float3 , 5>  * v_sv_dirs_7, FixedArray<float3 , 5>  * v_sv_colors_7, Matrix<float, 3, 3>  * v_R_16, float3  * v_t_15)
{
    float3  _S7172 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_9;
    (&dp_mean_9)->primal_0 = mean_51;
    (&dp_mean_9)->differential_0 = _S7172;
    float4  _S7173 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_8;
    (&dp_quat_8)->primal_0 = quat_52;
    (&dp_quat_8)->differential_0 = _S7173;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_8;
    (&dp_scale_8)->primal_0 = scale_51;
    (&dp_scale_8)->differential_0 = _S7172;
    DiffPair_float_0 dp_in_opacity_7;
    (&dp_in_opacity_7)->primal_0 = in_opacity_46;
    (&dp_in_opacity_7)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S7174 = { _S7172, _S7172, _S7172, _S7172, _S7172 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_7;
    (&dp_sv_dirs_7)->primal_0 = *sv_sites_29;
    (&dp_sv_dirs_7)->differential_0 = _S7174;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_7;
    (&dp_sv_colors_7)->primal_0 = *sv_colors_29;
    (&dp_sv_colors_7)->differential_0 = _S7174;
    Matrix<float, 3, 3>  _S7175 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_9;
    (&dp_R_9)->primal_0 = R_53;
    (&dp_R_9)->differential_0 = _S7175;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_8;
    (&dp_t_8)->primal_0 = t_49;
    (&dp_t_8)->differential_0 = _S7172;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_3(antialiased_62, &dp_mean_9, &dp_quat_8, &dp_scale_8, &dp_in_opacity_7, &dp_sv_dirs_7, &dp_sv_colors_7, &dp_R_9, &dp_t_8, fx_74, fy_74, cx_69, cy_69, dist_coeffs_77, image_width_62, image_height_62, 0.0f, 1.00000001504746622e+30f, v_mean2d_14, v_depth_15, v_conic_14, v_opacity_16, v_rgb_15);
    *v_mean_16 = dp_mean_9.differential_0;
    *v_quat_15 = dp_quat_8.differential_0;
    *v_scale_15 = dp_scale_8.differential_0;
    *v_in_opacity_14 = dp_in_opacity_7.differential_0;
    *v_sv_dirs_7 = (&dp_sv_dirs_7)->differential_0;
    *v_sv_colors_7 = (&dp_sv_colors_7)->differential_0;
    *v_R_16 = dp_R_9.differential_0;
    *v_t_15 = dp_t_8.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_63, float3  mean_52, float4  quat_53, float3  scale_52, float in_opacity_47, FixedArray<float3 , 6>  * sv_sites_30, FixedArray<float3 , 6>  * sv_colors_30, Matrix<float, 3, 3>  R_54, float3  t_50, float fx_75, float fy_75, float cx_70, float cy_70, FixedArray<float, 10>  * dist_coeffs_78, uint image_width_63, uint image_height_63, float near_plane_48, float far_plane_48, int4  * aabb_xyxy_40, float2  * mean2d_41, float * depth_33, float3  * conic_32, float * opacity_36, float3  * rgb_34)
{
    float3  mean_c_57 = mul_0(R_54, mean_52) + t_50;
    float4  intrins_50 = make_float4 (fx_75, fy_75, cx_70, cy_70);
    float3  _S7176 = exp_0(scale_52);
    float x_71 = quat_53.y;
    float x2_61 = x_71 * x_71;
    float y2_61 = quat_53.z * quat_53.z;
    float z2_84 = quat_53.w * quat_53.w;
    float xy_61 = quat_53.y * quat_53.z;
    float xz_61 = quat_53.y * quat_53.w;
    float yz_61 = quat_53.z * quat_53.w;
    float wx_61 = quat_53.x * quat_53.y;
    float wy_61 = quat_53.x * quat_53.z;
    float wz_61 = quat_53.x * quat_53.w;
    Matrix<float, 3, 3>  _S7177 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_61 + z2_84), 2.0f * (xy_61 + wz_61), 2.0f * (xz_61 - wy_61), 2.0f * (xy_61 - wz_61), 1.0f - 2.0f * (x2_61 + z2_84), 2.0f * (yz_61 + wx_61), 2.0f * (xz_61 + wy_61), 2.0f * (yz_61 - wx_61), 1.0f - 2.0f * (x2_61 + y2_61))));
    SigmaPoints_0 ret_26;
    (&ret_26)->p_0[int(0)] = mean_52;
    (&ret_26)->w_mean_0[int(0)] = 0.0f;
    (&ret_26)->w_cov_0[int(0)] = 2.0f;
    float _S7178 = (F32_sqrt((3.0f)));
    float3  delta_144 = make_float3 (_S7178 * _S7176.x) * _S7177.rows[0U];
    float3  _S7179 = mean_52 + delta_144;
    float3  _S7180 = mean_52 - delta_144;
    float3  delta_145 = make_float3 (_S7178 * _S7176.y) * _S7177.rows[1U];
    float3  _S7181 = mean_52 + delta_145;
    float3  _S7182 = mean_52 - delta_145;
    float3  delta_146 = make_float3 (_S7178 * _S7176.z) * _S7177.rows[2U];
    float3  _S7183 = mean_52 + delta_146;
    float3  _S7184 = mean_52 - delta_146;
    (&ret_26)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_26)->p_0[0U] = mul_0(R_54, (&ret_26)->p_0[0U]) + t_50;
    (&ret_26)->p_0[1U] = mul_0(R_54, _S7179) + t_50;
    (&ret_26)->p_0[2U] = mul_0(R_54, _S7181) + t_50;
    (&ret_26)->p_0[3U] = mul_0(R_54, _S7183) + t_50;
    (&ret_26)->p_0[4U] = mul_0(R_54, _S7180) + t_50;
    (&ret_26)->p_0[5U] = mul_0(R_54, _S7182) + t_50;
    (&ret_26)->p_0[6U] = mul_0(R_54, _S7184) + t_50;
    SigmaPoints_0 _S7185 = ret_26;
    Matrix<float, 2, 2>  covar2d_32;
    bool _S7186 = persp_proj_3dgs_ut_1(&_S7185, intrins_50, dist_coeffs_78, image_width_63, image_height_63, &covar2d_32, mean2d_41);
    float det_orig_62 = *&(((&covar2d_32)->rows + (int(0)))->x) * *&(((&covar2d_32)->rows + (int(1)))->y) - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x);
    float _S7187 = *&(((&covar2d_32)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(0)))->x) = _S7187;
    float _S7188 = *&(((&covar2d_32)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(1)))->y) = _S7188;
    float compensation_33 = (F32_sqrt(((F32_max((0.0f), (det_orig_62 / (_S7187 * _S7188 - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x))))))));
    *opacity_36 = 1.0f / (1.0f + (F32_exp((- in_opacity_47))));
    if(antialiased_63)
    {
        *opacity_36 = *opacity_36 * compensation_33;
    }
    float extend_32 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_36 / 0.00392156885936856f)))))))));
    float radius_x_40 = extend_32 * (F32_sqrt((covar2d_32[int(0)].x)));
    float radius_y_40 = extend_32 * (F32_sqrt((covar2d_32[int(1)].y)));
    *aabb_xyxy_40 = make_int4 (int((F32_floor(((*mean2d_41).x - radius_x_40)))), int((F32_floor(((*mean2d_41).y - radius_y_40)))), int((F32_ceil(((*mean2d_41).x + radius_x_40)))), int((F32_ceil(((*mean2d_41).y + radius_y_40)))));
    float _S7189 = mean_c_57.z;
    *depth_33 = (F32_max((_S7189), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7189 + length_1(mean_c_57)))));
    *conic_32 = exp_0(- scale_52);
    float3  _S7190 = mean_52 - - mul_0(transpose_0(R_54), t_50);
    float3  _S7191 = _S7190 * make_float3 ((F32_rsqrt((dot_1(_S7190, _S7190)))));
    float _S7192 = dot_1((*sv_sites_30)[int(5)], _S7191);
    float w_98 = (F32_exp((dot_1((*sv_sites_30)[int(0)], _S7191) - _S7192)));
    float w_99 = (F32_exp((dot_1((*sv_sites_30)[int(1)], _S7191) - _S7192)));
    float w_100 = (F32_exp((dot_1((*sv_sites_30)[int(2)], _S7191) - _S7192)));
    float w_101 = (F32_exp((dot_1((*sv_sites_30)[int(3)], _S7191) - _S7192)));
    float w_102 = (F32_exp((dot_1((*sv_sites_30)[int(4)], _S7191) - _S7192)));
    float w_103 = (F32_exp((0.0f)));
    *rgb_34 = max_0((make_float3 (w_98) * (*sv_colors_30)[int(0)] + make_float3 (w_99) * (*sv_colors_30)[int(1)] + make_float3 (w_100) * (*sv_colors_30)[int(2)] + make_float3 (w_101) * (*sv_colors_30)[int(3)] + make_float3 (w_102) * (*sv_colors_30)[int(4)] + make_float3 (w_103) * (*sv_colors_30)[int(5)]) / make_float3 (w_98 + w_99 + w_100 + w_101 + w_102 + w_103) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_64, float3  mean_53, float4  quat_54, float3  scale_53, float in_opacity_48, FixedArray<float3 , 6>  * sv_sites_31, FixedArray<float3 , 6>  * sv_colors_31, Matrix<float, 3, 3>  R_55, float3  t_51, float fx_76, float fy_76, float cx_71, float cy_71, FixedArray<float, 10>  * dist_coeffs_79, uint image_width_64, uint image_height_64, float near_plane_49, float far_plane_49, int4  * aabb_xyxy_41, float2  * mean2d_42, float * depth_34, float3  * conic_33, float * opacity_37, float3  * rgb_35)
{
    float3  mean_c_58 = mul_0(R_55, mean_53) + t_51;
    float4  intrins_51 = make_float4 (fx_76, fy_76, cx_71, cy_71);
    float3  _S7193 = exp_0(scale_53);
    float x_72 = quat_54.y;
    float x2_62 = x_72 * x_72;
    float y2_62 = quat_54.z * quat_54.z;
    float z2_85 = quat_54.w * quat_54.w;
    float xy_62 = quat_54.y * quat_54.z;
    float xz_62 = quat_54.y * quat_54.w;
    float yz_62 = quat_54.z * quat_54.w;
    float wx_62 = quat_54.x * quat_54.y;
    float wy_62 = quat_54.x * quat_54.z;
    float wz_62 = quat_54.x * quat_54.w;
    Matrix<float, 3, 3>  _S7194 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_62 + z2_85), 2.0f * (xy_62 + wz_62), 2.0f * (xz_62 - wy_62), 2.0f * (xy_62 - wz_62), 1.0f - 2.0f * (x2_62 + z2_85), 2.0f * (yz_62 + wx_62), 2.0f * (xz_62 + wy_62), 2.0f * (yz_62 - wx_62), 1.0f - 2.0f * (x2_62 + y2_62))));
    SigmaPoints_0 ret_27;
    (&ret_27)->p_0[int(0)] = mean_53;
    (&ret_27)->w_mean_0[int(0)] = 0.0f;
    (&ret_27)->w_cov_0[int(0)] = 2.0f;
    float _S7195 = (F32_sqrt((3.0f)));
    float3  delta_147 = make_float3 (_S7195 * _S7193.x) * _S7194.rows[0U];
    float3  _S7196 = mean_53 + delta_147;
    float3  _S7197 = mean_53 - delta_147;
    float3  delta_148 = make_float3 (_S7195 * _S7193.y) * _S7194.rows[1U];
    float3  _S7198 = mean_53 + delta_148;
    float3  _S7199 = mean_53 - delta_148;
    float3  delta_149 = make_float3 (_S7195 * _S7193.z) * _S7194.rows[2U];
    float3  _S7200 = mean_53 + delta_149;
    float3  _S7201 = mean_53 - delta_149;
    (&ret_27)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_27)->p_0[0U] = mul_0(R_55, (&ret_27)->p_0[0U]) + t_51;
    (&ret_27)->p_0[1U] = mul_0(R_55, _S7196) + t_51;
    (&ret_27)->p_0[2U] = mul_0(R_55, _S7198) + t_51;
    (&ret_27)->p_0[3U] = mul_0(R_55, _S7200) + t_51;
    (&ret_27)->p_0[4U] = mul_0(R_55, _S7197) + t_51;
    (&ret_27)->p_0[5U] = mul_0(R_55, _S7199) + t_51;
    (&ret_27)->p_0[6U] = mul_0(R_55, _S7201) + t_51;
    SigmaPoints_0 _S7202 = ret_27;
    Matrix<float, 2, 2>  covar2d_33;
    bool _S7203 = fisheye_proj_3dgs_ut_1(&_S7202, intrins_51, dist_coeffs_79, &covar2d_33, mean2d_42);
    float det_orig_63 = *&(((&covar2d_33)->rows + (int(0)))->x) * *&(((&covar2d_33)->rows + (int(1)))->y) - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x);
    float _S7204 = *&(((&covar2d_33)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(0)))->x) = _S7204;
    float _S7205 = *&(((&covar2d_33)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(1)))->y) = _S7205;
    float compensation_34 = (F32_sqrt(((F32_max((0.0f), (det_orig_63 / (_S7204 * _S7205 - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x))))))));
    *opacity_37 = 1.0f / (1.0f + (F32_exp((- in_opacity_48))));
    if(antialiased_64)
    {
        *opacity_37 = *opacity_37 * compensation_34;
    }
    float extend_33 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_37 / 0.00392156885936856f)))))))));
    float radius_x_41 = extend_33 * (F32_sqrt((covar2d_33[int(0)].x)));
    float radius_y_41 = extend_33 * (F32_sqrt((covar2d_33[int(1)].y)));
    *aabb_xyxy_41 = make_int4 (int((F32_floor(((*mean2d_42).x - radius_x_41)))), int((F32_floor(((*mean2d_42).y - radius_y_41)))), int((F32_ceil(((*mean2d_42).x + radius_x_41)))), int((F32_ceil(((*mean2d_42).y + radius_y_41)))));
    float _S7206 = mean_c_58.z;
    *depth_34 = (F32_max((_S7206), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7206 + length_1(mean_c_58)))));
    *conic_33 = exp_0(- scale_53);
    float3  _S7207 = mean_53 - - mul_0(transpose_0(R_55), t_51);
    float3  _S7208 = _S7207 * make_float3 ((F32_rsqrt((dot_1(_S7207, _S7207)))));
    float _S7209 = dot_1((*sv_sites_31)[int(5)], _S7208);
    float w_104 = (F32_exp((dot_1((*sv_sites_31)[int(0)], _S7208) - _S7209)));
    float w_105 = (F32_exp((dot_1((*sv_sites_31)[int(1)], _S7208) - _S7209)));
    float w_106 = (F32_exp((dot_1((*sv_sites_31)[int(2)], _S7208) - _S7209)));
    float w_107 = (F32_exp((dot_1((*sv_sites_31)[int(3)], _S7208) - _S7209)));
    float w_108 = (F32_exp((dot_1((*sv_sites_31)[int(4)], _S7208) - _S7209)));
    float w_109 = (F32_exp((0.0f)));
    *rgb_35 = max_0((make_float3 (w_104) * (*sv_colors_31)[int(0)] + make_float3 (w_105) * (*sv_colors_31)[int(1)] + make_float3 (w_106) * (*sv_colors_31)[int(2)] + make_float3 (w_107) * (*sv_colors_31)[int(3)] + make_float3 (w_108) * (*sv_colors_31)[int(4)] + make_float3 (w_109) * (*sv_colors_31)[int(5)]) / make_float3 (w_104 + w_105 + w_106 + w_107 + w_108 + w_109) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0
{
    FixedArray<float3 , 6>  primal_0;
    FixedArray<float3 , 6>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S7210;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(bool antialiased_65, float3  dpmean_18, float4  dpquat_17, float3  dpscale_17, float dpin_opacity_16, FixedArray<float3 , 6>  * dpsv_sites_16, FixedArray<float3 , 6>  * dpsv_colors_16, Matrix<float, 3, 3>  dpR_18, float3  dpt_17, float fx_77, float fy_77, float cx_72, float cy_72, FixedArray<float, 10>  * dist_coeffs_80, uint image_width_65, uint image_height_65, float near_plane_50, float far_plane_50, int4  * aabb_xyxy_42, float2  * dpmean2d_20, float * dpdepth_17, float3  * dpconic_16, float * dpopacity_18, float3  * dprgb_17, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_30)
{
    Matrix<float, 2, 2>  _S7211 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_30->_S7210 = _S7211;
    float2  _S7212 = make_float2 (0.0f);
    float3  _S7213 = make_float3 (0.0f);
    float3  mean_c_59 = s_primal_ctx_mul_0(dpR_18, dpmean_18) + dpt_17;
    float4  intrins_52 = make_float4 (fx_77, fy_77, cx_72, cy_72);
    float3  _S7214 = s_primal_ctx_exp_0(dpscale_17);
    float _S7215 = dpquat_17.y;
    float x2_63 = _S7215 * _S7215;
    float y2_63 = dpquat_17.z * dpquat_17.z;
    float z2_86 = dpquat_17.w * dpquat_17.w;
    float xy_63 = dpquat_17.y * dpquat_17.z;
    float xz_63 = dpquat_17.y * dpquat_17.w;
    float yz_63 = dpquat_17.z * dpquat_17.w;
    float wx_63 = dpquat_17.x * dpquat_17.y;
    float wy_63 = dpquat_17.x * dpquat_17.z;
    float wz_63 = dpquat_17.x * dpquat_17.w;
    Matrix<float, 3, 3>  _S7216 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_63 + z2_86), 2.0f * (xy_63 + wz_63), 2.0f * (xz_63 - wy_63), 2.0f * (xy_63 - wz_63), 1.0f - 2.0f * (x2_63 + z2_86), 2.0f * (yz_63 + wx_63), 2.0f * (xz_63 + wy_63), 2.0f * (yz_63 - wx_63), 1.0f - 2.0f * (x2_63 + y2_63))));
    FixedArray<float3 , 7>  _S7217 = {
        _S7213, _S7213, _S7213, _S7213, _S7213, _S7213, _S7213
    };
    FixedArray<float, 7>  _S7218 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7219;
    (&_S7219)->p_0 = _S7217;
    (&_S7219)->w_mean_0 = _S7218;
    (&_S7219)->w_cov_0 = _S7218;
    (&_S7219)->p_0[int(0)] = dpmean_18;
    SigmaPoints_0 _S7220 = _S7219;
    (&_S7220)->w_mean_0[int(0)] = 0.0f;
    (&_S7220)->w_cov_0[int(0)] = 2.0f;
    float _S7221 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_150 = make_float3 (_S7221 * _S7214.x) * _S7216.rows[0U];
    float3  _S7222 = dpmean_18 + delta_150;
    float3  _S7223 = dpmean_18 - delta_150;
    float3  delta_151 = make_float3 (_S7221 * _S7214.y) * _S7216.rows[1U];
    float3  _S7224 = dpmean_18 + delta_151;
    float3  _S7225 = dpmean_18 - delta_151;
    float3  delta_152 = make_float3 (_S7221 * _S7214.z) * _S7216.rows[2U];
    float3  _S7226 = dpmean_18 + delta_152;
    float3  _S7227 = dpmean_18 - delta_152;
    (&_S7220)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7220)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7220)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7220)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7220)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7220)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7220)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7220)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7220)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7220)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7220)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7220)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7220)->p_0[0U] = s_primal_ctx_mul_0(dpR_18, _S7219.p_0[0U]) + dpt_17;
    (&_S7220)->p_0[1U] = s_primal_ctx_mul_0(dpR_18, _S7222) + dpt_17;
    (&_S7220)->p_0[2U] = s_primal_ctx_mul_0(dpR_18, _S7224) + dpt_17;
    (&_S7220)->p_0[3U] = s_primal_ctx_mul_0(dpR_18, _S7226) + dpt_17;
    (&_S7220)->p_0[4U] = s_primal_ctx_mul_0(dpR_18, _S7223) + dpt_17;
    (&_S7220)->p_0[5U] = s_primal_ctx_mul_0(dpR_18, _S7225) + dpt_17;
    (&_S7220)->p_0[6U] = s_primal_ctx_mul_0(dpR_18, _S7227) + dpt_17;
    float2  _S7228 = _S7212;
    Matrix<float, 2, 2>  _S7229 = _S7211;
    SigmaPoints_0 _S7230 = _S7220;
    bool _S7231 = persp_proj_3dgs_ut_1(&_S7230, intrins_52, dist_coeffs_80, image_width_65, image_height_65, &_S7229, &_S7228);
    _s_diff_ctx_30->_S7210 = _S7229;
    float2  _S7232 = _S7228;
    float _S7233 = _S7229.rows[int(0)].y * _S7229.rows[int(1)].x;
    float det_orig_64 = _S7229.rows[int(0)].x * _S7229.rows[int(1)].y - _S7233;
    float _S7234 = _S7229.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7235 = _S7229;
    *&(((&_S7235)->rows + (int(0)))->x) = _S7234;
    float _S7236 = _S7229.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7235)->rows + (int(1)))->y) = _S7236;
    Matrix<float, 2, 2>  _S7237 = _S7235;
    Matrix<float, 2, 2>  _S7238 = _S7235;
    float _S7239 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_64 / (_S7234 * _S7236 - _S7233)));
    float _S7240 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_16));
    float _S7241;
    if(antialiased_65)
    {
        _S7241 = _S7240 * _S7239;
    }
    else
    {
        _S7241 = _S7240;
    }
    float _S7242 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7241 / 0.00392156885936856f)));
    float radius_x_42 = _S7242 * s_primal_ctx_sqrt_0(_S7237.rows[int(0)].x);
    float radius_y_42 = _S7242 * s_primal_ctx_sqrt_0(_S7238.rows[int(1)].y);
    float _S7243 = _S7232.x;
    float _S7244 = _S7232.y;
    float _S7245 = mean_c_59.z;
    float _S7246 = s_primal_ctx_max_0(_S7245, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S7245 + length_1(mean_c_59)));
    float3  _S7247 = s_primal_ctx_exp_0(- dpscale_17);
    float3  _S7248 = dpmean_18 - - s_primal_ctx_mul_0(transpose_0(dpR_18), dpt_17);
    float3  _S7249 = _S7248 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7248, _S7248)));
    float _S7250 = s_primal_ctx_dot_0((*dpsv_sites_16)[int(5)], _S7249);
    float _S7251 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(0)], _S7249) - _S7250);
    float _S7252 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(1)], _S7249) - _S7250);
    float _S7253 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(2)], _S7249) - _S7250);
    float _S7254 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(3)], _S7249) - _S7250);
    float _S7255 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(4)], _S7249) - _S7250);
    float _S7256 = s_primal_ctx_exp_1(0.0f);
    float3  _S7257 = s_primal_ctx_max_1((make_float3 (_S7251) * (*dpsv_colors_16)[int(0)] + make_float3 (_S7252) * (*dpsv_colors_16)[int(1)] + make_float3 (_S7253) * (*dpsv_colors_16)[int(2)] + make_float3 (_S7254) * (*dpsv_colors_16)[int(3)] + make_float3 (_S7255) * (*dpsv_colors_16)[int(4)] + make_float3 (_S7256) * (*dpsv_colors_16)[int(5)]) / make_float3 (_S7251 + _S7252 + _S7253 + _S7254 + _S7255 + _S7256) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_42 = make_int4 (int((F32_floor((_S7243 - radius_x_42)))), int((F32_floor((_S7244 - radius_y_42)))), int((F32_ceil((_S7243 + radius_x_42)))), int((F32_ceil((_S7244 + radius_y_42)))));
    *dpmean2d_20 = _S7232;
    *dpdepth_17 = _S7246;
    *dpconic_16 = _S7247;
    *dpopacity_18 = _S7241;
    *dprgb_17 = _S7257;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(bool antialiased_66, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_19, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_18, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_18, DiffPair_float_0 * dpin_opacity_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_17, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_19, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_18, float fx_78, float fy_78, float cx_73, float cy_73, FixedArray<float, 10>  * dist_coeffs_81, uint image_width_66, uint image_height_66, float near_plane_51, float far_plane_51, float2  dpmean2d_21, float dpdepth_18, float3  dpconic_17, float dpopacity_19, float3  dprgb_18, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_31)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7258 = *dpmean_19;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7259 = *dpquat_18;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7260 = *dpscale_18;
    FixedArray<float3 , 6>  _S7261 = dpsv_sites_17->primal_0;
    FixedArray<float3 , 6>  _S7262 = dpsv_colors_17->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7263 = *dpR_19;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7264 = *dpt_18;
    float3  _S7265 = make_float3 (0.0f);
    float3  mean_c_60 = s_primal_ctx_mul_0((*dpR_19).primal_0, (*dpmean_19).primal_0) + (*dpt_18).primal_0;
    float3  _S7266 = s_primal_ctx_exp_0((*dpscale_18).primal_0);
    float _S7267 = (*dpquat_18).primal_0.y;
    float x2_64 = _S7267 * _S7267;
    float y2_64 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.z;
    float z2_87 = (*dpquat_18).primal_0.w * (*dpquat_18).primal_0.w;
    float xy_64 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.z;
    float xz_64 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.w;
    float yz_64 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.w;
    float wx_64 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.y;
    float wy_64 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.z;
    float wz_64 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.w;
    Matrix<float, 3, 3>  _S7268 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_64 + z2_87), 2.0f * (xy_64 + wz_64), 2.0f * (xz_64 - wy_64), 2.0f * (xy_64 - wz_64), 1.0f - 2.0f * (x2_64 + z2_87), 2.0f * (yz_64 + wx_64), 2.0f * (xz_64 + wy_64), 2.0f * (yz_64 - wx_64), 1.0f - 2.0f * (x2_64 + y2_64))));
    FixedArray<float3 , 7>  _S7269 = {
        _S7265, _S7265, _S7265, _S7265, _S7265, _S7265, _S7265
    };
    FixedArray<float, 7>  _S7270 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7271;
    (&_S7271)->p_0 = _S7269;
    (&_S7271)->w_mean_0 = _S7270;
    (&_S7271)->w_cov_0 = _S7270;
    (&_S7271)->p_0[int(0)] = (*dpmean_19).primal_0;
    float _S7272 = s_primal_ctx_sqrt_0(3.0f);
    float _S7273 = _S7272 * _S7266.x;
    float3  _S7274 = make_float3 (_S7273);
    float3  delta_153 = make_float3 (_S7273) * _S7268.rows[0U];
    float3  _S7275 = (*dpmean_19).primal_0 + delta_153;
    float3  _S7276 = (*dpmean_19).primal_0 - delta_153;
    float _S7277 = _S7272 * _S7266.y;
    float3  _S7278 = make_float3 (_S7277);
    float3  delta_154 = make_float3 (_S7277) * _S7268.rows[1U];
    float3  _S7279 = (*dpmean_19).primal_0 + delta_154;
    float3  _S7280 = (*dpmean_19).primal_0 - delta_154;
    float _S7281 = _S7272 * _S7266.z;
    float3  _S7282 = make_float3 (_S7281);
    float3  delta_155 = make_float3 (_S7281) * _S7268.rows[2U];
    float3  _S7283 = (*dpmean_19).primal_0 + delta_155;
    float3  _S7284 = (*dpmean_19).primal_0 - delta_155;
    SigmaPoints_0 _S7285 = _S7271;
    float _S7286 = *&(((&_s_diff_ctx_31->_S7210)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_31->_S7210)->rows + (int(1)))->x);
    float det_orig_65 = *&(((&_s_diff_ctx_31->_S7210)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_31->_S7210)->rows + (int(1)))->y) - _S7286;
    float _S7287 = *&(((&_s_diff_ctx_31->_S7210)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7288 = _s_diff_ctx_31->_S7210;
    *&(((&_S7288)->rows + (int(0)))->x) = _S7287;
    float _S7289 = *&(((&_s_diff_ctx_31->_S7210)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7288)->rows + (int(1)))->y) = _S7289;
    Matrix<float, 2, 2>  _S7290 = _S7288;
    Matrix<float, 2, 2>  _S7291 = _S7288;
    float det_blur_41 = _S7287 * _S7289 - _S7286;
    float _S7292 = det_orig_65 / det_blur_41;
    float _S7293 = det_blur_41 * det_blur_41;
    float _S7294 = s_primal_ctx_max_0(0.0f, _S7292);
    float _S7295 = s_primal_ctx_sqrt_0(_S7294);
    float _S7296 = - (*dpin_opacity_17).primal_0;
    float _S7297 = 1.0f + s_primal_ctx_exp_1(_S7296);
    float _S7298 = 1.0f / _S7297;
    float _S7299 = _S7297 * _S7297;
    float _S7300;
    if(antialiased_66)
    {
        _S7300 = _S7298 * _S7295;
    }
    else
    {
        _S7300 = _S7298;
    }
    float _S7301 = _S7300 / 0.00392156885936856f;
    float _S7302 = 2.0f * s_primal_ctx_log_0(_S7301);
    float _S7303 = s_primal_ctx_sqrt_0(_S7302);
    float _S7304 = _S7290.rows[int(0)].x;
    float _S7305 = _S7291.rows[int(1)].y;
    float _S7306 = mean_c_60.z;
    float _S7307 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S7308 = _S7307 * (_S7306 + length_1(mean_c_60));
    float3  _S7309 = - _S7260.primal_0;
    Matrix<float, 3, 3>  _S7310 = transpose_0(_S7263.primal_0);
    float3  _S7311 = _S7258.primal_0 - - s_primal_ctx_mul_0(_S7310, _S7264.primal_0);
    float _S7312 = s_primal_ctx_dot_0(_S7311, _S7311);
    float _S7313 = s_primal_ctx_rsqrt_0(_S7312);
    float3  _S7314 = make_float3 (_S7313);
    float3  _S7315 = _S7311 * make_float3 (_S7313);
    float _S7316 = s_primal_ctx_dot_0(_S7261[int(5)], _S7315);
    float _S7317 = s_primal_ctx_dot_0(_S7261[int(0)], _S7315) - _S7316;
    float _S7318 = s_primal_ctx_exp_1(_S7317);
    float3  _S7319 = make_float3 (_S7318);
    float _S7320 = s_primal_ctx_dot_0(_S7261[int(1)], _S7315) - _S7316;
    float _S7321 = s_primal_ctx_exp_1(_S7320);
    float3  _S7322 = make_float3 (_S7321);
    float _S7323 = s_primal_ctx_dot_0(_S7261[int(2)], _S7315) - _S7316;
    float _S7324 = s_primal_ctx_exp_1(_S7323);
    float3  _S7325 = make_float3 (_S7324);
    float _S7326 = s_primal_ctx_dot_0(_S7261[int(3)], _S7315) - _S7316;
    float _S7327 = s_primal_ctx_exp_1(_S7326);
    float3  _S7328 = make_float3 (_S7327);
    float _S7329 = s_primal_ctx_dot_0(_S7261[int(4)], _S7315) - _S7316;
    float _S7330 = s_primal_ctx_exp_1(_S7329);
    float3  _S7331 = make_float3 (_S7330);
    float _S7332 = s_primal_ctx_exp_1(0.0f);
    float3  _S7333 = make_float3 (_S7332);
    float total_w_8 = _S7318 + _S7321 + _S7324 + _S7327 + _S7330 + _S7332;
    float3  _S7334 = make_float3 (total_w_8);
    float3  total_c_8 = make_float3 (_S7318) * _S7262[int(0)] + make_float3 (_S7321) * _S7262[int(1)] + make_float3 (_S7324) * _S7262[int(2)] + make_float3 (_S7327) * _S7262[int(3)] + make_float3 (_S7330) * _S7262[int(4)] + make_float3 (_S7332) * _S7262[int(5)];
    float3  _S7335 = make_float3 (total_w_8 * total_w_8);
    float3  _S7336 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7337;
    (&_S7337)->primal_0 = total_c_8 / make_float3 (total_w_8) + make_float3 (0.5f);
    (&_S7337)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7338;
    (&_S7338)->primal_0 = _S7336;
    (&_S7338)->differential_0 = _S7265;
    s_bwd_prop_max_0(&_S7337, &_S7338, dprgb_18);
    float3  _S7339 = _S7337.differential_0 / _S7335;
    float3  _S7340 = total_c_8 * - _S7339;
    float3  s_diff_total_c_T_8 = _S7334 * _S7339;
    float3  _S7341 = _S7333 * s_diff_total_c_T_8;
    float _S7342 = _S7340.x + _S7340.y + _S7340.z;
    float3  _S7343 = _S7331 * s_diff_total_c_T_8;
    float3  _S7344 = _S7262[int(4)] * s_diff_total_c_T_8;
    float _S7345 = _S7342 + _S7344.x + _S7344.y + _S7344.z;
    DiffPair_float_0 _S7346;
    (&_S7346)->primal_0 = _S7329;
    (&_S7346)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7346, _S7345);
    float _S7347 = - _S7346.differential_0;
    float3  _S7348 = _S7328 * s_diff_total_c_T_8;
    float3  _S7349 = _S7262[int(3)] * s_diff_total_c_T_8;
    float _S7350 = _S7342 + _S7349.x + _S7349.y + _S7349.z;
    DiffPair_float_0 _S7351;
    (&_S7351)->primal_0 = _S7326;
    (&_S7351)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7351, _S7350);
    float _S7352 = - _S7351.differential_0;
    float3  _S7353 = _S7325 * s_diff_total_c_T_8;
    float3  _S7354 = _S7262[int(2)] * s_diff_total_c_T_8;
    float _S7355 = _S7342 + _S7354.x + _S7354.y + _S7354.z;
    DiffPair_float_0 _S7356;
    (&_S7356)->primal_0 = _S7323;
    (&_S7356)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7356, _S7355);
    float _S7357 = - _S7356.differential_0;
    float3  _S7358 = _S7322 * s_diff_total_c_T_8;
    float3  _S7359 = _S7262[int(1)] * s_diff_total_c_T_8;
    float _S7360 = _S7342 + _S7359.x + _S7359.y + _S7359.z;
    DiffPair_float_0 _S7361;
    (&_S7361)->primal_0 = _S7320;
    (&_S7361)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7361, _S7360);
    float _S7362 = - _S7361.differential_0;
    float3  _S7363 = _S7319 * s_diff_total_c_T_8;
    float3  _S7364 = _S7262[int(0)] * s_diff_total_c_T_8;
    float _S7365 = _S7342 + _S7364.x + _S7364.y + _S7364.z;
    DiffPair_float_0 _S7366;
    (&_S7366)->primal_0 = _S7317;
    (&_S7366)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7366, _S7365);
    float _S7367 = _S7347 + _S7352 + _S7357 + _S7362 + - _S7366.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7368;
    (&_S7368)->primal_0 = _S7261[int(5)];
    (&_S7368)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7369;
    (&_S7369)->primal_0 = _S7315;
    (&_S7369)->differential_0 = _S7265;
    s_bwd_prop_dot_0(&_S7368, &_S7369, _S7367);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7370;
    (&_S7370)->primal_0 = _S7261[int(4)];
    (&_S7370)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7371;
    (&_S7371)->primal_0 = _S7315;
    (&_S7371)->differential_0 = _S7265;
    s_bwd_prop_dot_0(&_S7370, &_S7371, _S7346.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7372;
    (&_S7372)->primal_0 = _S7261[int(3)];
    (&_S7372)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7373;
    (&_S7373)->primal_0 = _S7315;
    (&_S7373)->differential_0 = _S7265;
    s_bwd_prop_dot_0(&_S7372, &_S7373, _S7351.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7374;
    (&_S7374)->primal_0 = _S7261[int(2)];
    (&_S7374)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7375;
    (&_S7375)->primal_0 = _S7315;
    (&_S7375)->differential_0 = _S7265;
    s_bwd_prop_dot_0(&_S7374, &_S7375, _S7356.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7376;
    (&_S7376)->primal_0 = _S7261[int(1)];
    (&_S7376)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7377;
    (&_S7377)->primal_0 = _S7315;
    (&_S7377)->differential_0 = _S7265;
    s_bwd_prop_dot_0(&_S7376, &_S7377, _S7361.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7378;
    (&_S7378)->primal_0 = _S7261[int(0)];
    (&_S7378)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7379;
    (&_S7379)->primal_0 = _S7315;
    (&_S7379)->differential_0 = _S7265;
    s_bwd_prop_dot_0(&_S7378, &_S7379, _S7366.differential_0);
    float3  _S7380 = _S7369.differential_0 + _S7371.differential_0 + _S7373.differential_0 + _S7375.differential_0 + _S7377.differential_0 + _S7379.differential_0;
    float3  _S7381 = _S7311 * _S7380;
    float3  _S7382 = _S7314 * _S7380;
    float _S7383 = _S7381.x + _S7381.y + _S7381.z;
    DiffPair_float_0 _S7384;
    (&_S7384)->primal_0 = _S7312;
    (&_S7384)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7384, _S7383);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7385;
    (&_S7385)->primal_0 = _S7311;
    (&_S7385)->differential_0 = _S7265;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7386;
    (&_S7386)->primal_0 = _S7311;
    (&_S7386)->differential_0 = _S7265;
    s_bwd_prop_dot_0(&_S7385, &_S7386, _S7384.differential_0);
    float3  _S7387 = _S7382 + _S7386.differential_0 + _S7385.differential_0;
    float3  _S7388 = - - _S7387;
    Matrix<float, 3, 3>  _S7389 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7390;
    (&_S7390)->primal_0 = _S7310;
    (&_S7390)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7391;
    (&_S7391)->primal_0 = _S7264.primal_0;
    (&_S7391)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7390, &_S7391, _S7388);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7392 = _S7391;
    Matrix<float, 3, 3>  _S7393 = transpose_0(_S7390.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7394;
    (&_S7394)->primal_0 = _S7309;
    (&_S7394)->differential_0 = _S7265;
    s_bwd_prop_exp_1(&_S7394, dpconic_17);
    float3  _S7395 = - _S7394.differential_0;
    DiffPair_float_0 _S7396;
    (&_S7396)->primal_0 = _S7306;
    (&_S7396)->differential_0 = 0.0f;
    DiffPair_float_0 _S7397;
    (&_S7397)->primal_0 = _S7308;
    (&_S7397)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7396, &_S7397, dpdepth_18);
    float _S7398 = _S7307 * _S7397.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7399;
    (&_S7399)->primal_0 = mean_c_60;
    (&_S7399)->differential_0 = _S7265;
    s_bwd_length_impl_1(&_S7399, _S7398);
    float _S7400 = _S7396.differential_0 + _S7398;
    DiffPair_float_0 _S7401;
    (&_S7401)->primal_0 = _S7305;
    (&_S7401)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7401, 0.0f);
    DiffPair_float_0 _S7402;
    (&_S7402)->primal_0 = _S7304;
    (&_S7402)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7402, 0.0f);
    DiffPair_float_0 _S7403;
    (&_S7403)->primal_0 = 3.32999992370605469f;
    (&_S7403)->differential_0 = 0.0f;
    DiffPair_float_0 _S7404;
    (&_S7404)->primal_0 = _S7303;
    (&_S7404)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7403, &_S7404, 0.0f);
    DiffPair_float_0 _S7405;
    (&_S7405)->primal_0 = _S7302;
    (&_S7405)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7405, _S7404.differential_0);
    float _S7406 = 2.0f * _S7405.differential_0;
    DiffPair_float_0 _S7407;
    (&_S7407)->primal_0 = _S7301;
    (&_S7407)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7407, _S7406);
    float _S7408 = dpopacity_19 + 254.9999847412109375f * _S7407.differential_0;
    FixedArray<float3 , 6>  _S7409;
    _S7409[int(0)] = _S7265;
    _S7409[int(1)] = _S7265;
    _S7409[int(2)] = _S7265;
    _S7409[int(3)] = _S7265;
    _S7409[int(4)] = _S7265;
    _S7409[int(5)] = _S7265;
    _S7409[int(5)] = _S7341;
    _S7409[int(4)] = _S7343;
    _S7409[int(3)] = _S7348;
    _S7409[int(2)] = _S7353;
    _S7409[int(1)] = _S7358;
    _S7409[int(0)] = _S7363;
    FixedArray<float3 , 6>  _S7410 = {
        _S7409[int(0)], _S7409[int(1)], _S7409[int(2)], _S7409[int(3)], _S7409[int(4)], _S7409[int(5)]
    };
    FixedArray<float3 , 6>  _S7411;
    _S7411[int(0)] = _S7265;
    _S7411[int(1)] = _S7265;
    _S7411[int(2)] = _S7265;
    _S7411[int(3)] = _S7265;
    _S7411[int(4)] = _S7265;
    _S7411[int(5)] = _S7265;
    _S7411[int(5)] = _S7368.differential_0;
    _S7411[int(4)] = _S7370.differential_0;
    _S7411[int(3)] = _S7372.differential_0;
    _S7411[int(2)] = _S7374.differential_0;
    _S7411[int(1)] = _S7376.differential_0;
    _S7411[int(0)] = _S7378.differential_0;
    FixedArray<float3 , 6>  _S7412 = {
        _S7411[int(0)], _S7411[int(1)], _S7411[int(2)], _S7411[int(3)], _S7411[int(4)], _S7411[int(5)]
    };
    float3  _S7413 = _S7399.differential_0 + make_float3 (0.0f, 0.0f, _S7400);
    float2  _S7414 = make_float2 (0.0f, _S7401.differential_0);
    float2  _S7415 = make_float2 (_S7402.differential_0, 0.0f);
    float _S7416;
    if(antialiased_66)
    {
        float _S7417 = _S7298 * _S7408;
        _S7300 = _S7295 * _S7408;
        _S7416 = _S7417;
    }
    else
    {
        _S7300 = _S7408;
        _S7416 = 0.0f;
    }
    float _S7418 = - (_S7300 / _S7299);
    DiffPair_float_0 _S7419;
    (&_S7419)->primal_0 = _S7296;
    (&_S7419)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7419, _S7418);
    float _S7420 = - _S7419.differential_0;
    DiffPair_float_0 _S7421;
    (&_S7421)->primal_0 = _S7294;
    (&_S7421)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7421, _S7416);
    DiffPair_float_0 _S7422;
    (&_S7422)->primal_0 = 0.0f;
    (&_S7422)->differential_0 = 0.0f;
    DiffPair_float_0 _S7423;
    (&_S7423)->primal_0 = _S7292;
    (&_S7423)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7422, &_S7423, _S7421.differential_0);
    float _S7424 = _S7423.differential_0 / _S7293;
    float s_diff_det_blur_T_12 = det_orig_65 * - _S7424;
    float s_diff_det_orig_T_15 = det_blur_41 * _S7424;
    float _S7425 = - s_diff_det_blur_T_12;
    float _S7426 = _S7287 * s_diff_det_blur_T_12;
    float _S7427 = _S7289 * s_diff_det_blur_T_12;
    Matrix<float, 2, 2>  _S7428 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7429 = _S7428;
    _S7429[int(1)] = _S7414;
    _S7429[int(0)] = _S7415;
    float _S7430 = _S7427 + _S7429.rows[int(0)].x;
    float _S7431 = _S7425 + - s_diff_det_orig_T_15;
    float _S7432 = *&(((&_s_diff_ctx_31->_S7210)->rows + (int(0)))->y) * _S7431;
    float _S7433 = *&(((&_s_diff_ctx_31->_S7210)->rows + (int(1)))->x) * _S7431;
    float _S7434 = *&(((&_s_diff_ctx_31->_S7210)->rows + (int(1)))->y) * s_diff_det_orig_T_15;
    float _S7435 = _S7426 + _S7429.rows[int(1)].y + *&(((&_s_diff_ctx_31->_S7210)->rows + (int(0)))->x) * s_diff_det_orig_T_15;
    float2  _S7436 = make_float2 (0.0f);
    float2  _S7437 = _S7436;
    *&((&_S7437)->x) = _S7432;
    *&((&_S7437)->y) = _S7435;
    float _S7438 = _S7430 + _S7434;
    float2  _S7439 = _S7436;
    *&((&_S7439)->y) = _S7433;
    *&((&_S7439)->x) = _S7438;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7440;
    (&_S7440)->primal_0 = _S7263.primal_0;
    (&_S7440)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7441;
    (&_S7441)->primal_0 = _S7284;
    (&_S7441)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7440, &_S7441, _S7265);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7442;
    (&_S7442)->primal_0 = _S7263.primal_0;
    (&_S7442)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7443;
    (&_S7443)->primal_0 = _S7280;
    (&_S7443)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7442, &_S7443, _S7265);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7444;
    (&_S7444)->primal_0 = _S7263.primal_0;
    (&_S7444)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7445;
    (&_S7445)->primal_0 = _S7276;
    (&_S7445)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7444, &_S7445, _S7265);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7446;
    (&_S7446)->primal_0 = _S7263.primal_0;
    (&_S7446)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7447;
    (&_S7447)->primal_0 = _S7283;
    (&_S7447)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7446, &_S7447, _S7265);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7448;
    (&_S7448)->primal_0 = _S7263.primal_0;
    (&_S7448)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7449;
    (&_S7449)->primal_0 = _S7279;
    (&_S7449)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7448, &_S7449, _S7265);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7450;
    (&_S7450)->primal_0 = _S7263.primal_0;
    (&_S7450)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7451;
    (&_S7451)->primal_0 = _S7275;
    (&_S7451)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7450, &_S7451, _S7265);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7452;
    (&_S7452)->primal_0 = _S7263.primal_0;
    (&_S7452)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7453;
    (&_S7453)->primal_0 = _S7285.p_0[0U];
    (&_S7453)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7452, &_S7453, _S7265);
    float3  _S7454 = - _S7441.differential_0 + _S7447.differential_0;
    float3  _S7455 = _S7282 * _S7454;
    float3  _S7456 = _S7268.rows[2U] * _S7454;
    float _S7457 = _S7272 * (_S7456.x + _S7456.y + _S7456.z);
    float3  _S7458 = - _S7443.differential_0 + _S7449.differential_0;
    float3  _S7459 = _S7278 * _S7458;
    float3  _S7460 = _S7268.rows[1U] * _S7458;
    float _S7461 = _S7272 * (_S7460.x + _S7460.y + _S7460.z);
    float3  _S7462 = - _S7445.differential_0 + _S7451.differential_0;
    float3  _S7463 = _S7274 * _S7462;
    float3  _S7464 = _S7268.rows[0U] * _S7462;
    float _S7465 = _S7272 * (_S7464.x + _S7464.y + _S7464.z);
    Matrix<float, 3, 3>  _S7466 = _S7389;
    _S7466[2U] = _S7455;
    _S7466[1U] = _S7459;
    _S7466[0U] = _S7463;
    Matrix<float, 3, 3>  _S7467 = transpose_0(transpose_0(_S7466));
    float _S7468 = 2.0f * - _S7467.rows[int(2)].z;
    float _S7469 = 2.0f * _S7467.rows[int(2)].y;
    float _S7470 = 2.0f * _S7467.rows[int(2)].x;
    float _S7471 = 2.0f * _S7467.rows[int(1)].z;
    float _S7472 = 2.0f * - _S7467.rows[int(1)].y;
    float _S7473 = 2.0f * _S7467.rows[int(1)].x;
    float _S7474 = 2.0f * _S7467.rows[int(0)].z;
    float _S7475 = 2.0f * _S7467.rows[int(0)].y;
    float _S7476 = 2.0f * - _S7467.rows[int(0)].x;
    float _S7477 = - _S7473 + _S7475;
    float _S7478 = _S7470 + - _S7474;
    float _S7479 = - _S7469 + _S7471;
    float _S7480 = _S7469 + _S7471;
    float _S7481 = _S7470 + _S7474;
    float _S7482 = _S7473 + _S7475;
    float _S7483 = _S7259.primal_0.w * (_S7472 + _S7476);
    float _S7484 = _S7259.primal_0.z * (_S7468 + _S7476);
    float _S7485 = _S7259.primal_0.y * (_S7468 + _S7472);
    float _S7486 = _S7259.primal_0.x * _S7477 + _S7259.primal_0.z * _S7480 + _S7259.primal_0.y * _S7481 + _S7483 + _S7483;
    float _S7487 = _S7259.primal_0.x * _S7478 + _S7259.primal_0.w * _S7480 + _S7259.primal_0.y * _S7482 + _S7484 + _S7484;
    float _S7488 = _S7259.primal_0.x * _S7479 + _S7259.primal_0.w * _S7481 + _S7259.primal_0.z * _S7482 + _S7485 + _S7485;
    float _S7489 = _S7259.primal_0.w * _S7477 + _S7259.primal_0.z * _S7478 + _S7259.primal_0.y * _S7479;
    float3  _S7490 = _S7265;
    *&((&_S7490)->z) = _S7457;
    *&((&_S7490)->y) = _S7461;
    *&((&_S7490)->x) = _S7465;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7491;
    (&_S7491)->primal_0 = _S7260.primal_0;
    (&_S7491)->differential_0 = _S7265;
    s_bwd_prop_exp_1(&_S7491, _S7490);
    Matrix<float, 2, 2>  _S7492 = _S7428;
    _S7492[int(1)] = _S7437;
    _S7492[int(0)] = _S7439;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7493;
    (&_S7493)->primal_0 = _S7263.primal_0;
    (&_S7493)->differential_0 = _S7389;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7494;
    (&_S7494)->primal_0 = _S7258.primal_0;
    (&_S7494)->differential_0 = _S7265;
    s_bwd_prop_mul_1(&_S7493, &_S7494, _S7413);
    float3  _S7495 = _S7413 + _S7392.differential_0;
    dpt_18->primal_0 = (*dpt_18).primal_0;
    dpt_18->differential_0 = _S7495;
    Matrix<float, 3, 3>  _S7496 = _S7440.differential_0 + _S7442.differential_0 + _S7444.differential_0 + _S7446.differential_0 + _S7448.differential_0 + _S7450.differential_0 + _S7452.differential_0 + _S7493.differential_0 + _S7393;
    dpR_19->primal_0 = (*dpR_19).primal_0;
    dpR_19->differential_0 = _S7496;
    dpsv_colors_17->primal_0 = dpsv_colors_17->primal_0;
    dpsv_colors_17->differential_0 = _S7410;
    dpsv_sites_17->primal_0 = dpsv_sites_17->primal_0;
    dpsv_sites_17->differential_0 = _S7412;
    dpin_opacity_17->primal_0 = (*dpin_opacity_17).primal_0;
    dpin_opacity_17->differential_0 = _S7420;
    float3  _S7497 = _S7491.differential_0 + _S7395;
    dpscale_18->primal_0 = (*dpscale_18).primal_0;
    dpscale_18->differential_0 = _S7497;
    float4  _S7498 = make_float4 (0.0f);
    *&((&_S7498)->w) = _S7486;
    *&((&_S7498)->z) = _S7487;
    *&((&_S7498)->y) = _S7488;
    *&((&_S7498)->x) = _S7489;
    dpquat_18->primal_0 = (*dpquat_18).primal_0;
    dpquat_18->differential_0 = _S7498;
    float3  _S7499 = _S7441.differential_0 + _S7447.differential_0 + _S7443.differential_0 + _S7449.differential_0 + _S7445.differential_0 + _S7451.differential_0 + _S7494.differential_0 + _S7387;
    dpmean_19->primal_0 = (*dpmean_19).primal_0;
    dpmean_19->differential_0 = _S7499;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_4(bool _S7500, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7501, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7502, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7503, DiffPair_float_0 * _S7504, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S7505, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S7506, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7507, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7508, float _S7509, float _S7510, float _S7511, float _S7512, FixedArray<float, 10>  * _S7513, uint _S7514, uint _S7515, float _S7516, float _S7517, float2  _S7518, float _S7519, float3  _S7520, float _S7521, float3  _S7522)
{
    FixedArray<float3 , 6>  _S7523 = _S7505->primal_0;
    FixedArray<float3 , 6>  _S7524 = _S7506->primal_0;
    int4  _S7525;
    float2  _S7526;
    float _S7527;
    float3  _S7528;
    float _S7529;
    float3  _S7530;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S7531;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(_S7500, (*_S7501).primal_0, (*_S7502).primal_0, (*_S7503).primal_0, (*_S7504).primal_0, &_S7523, &_S7524, (*_S7507).primal_0, (*_S7508).primal_0, _S7509, _S7510, _S7511, _S7512, _S7513, _S7514, _S7515, _S7516, _S7517, &_S7525, &_S7526, &_S7527, &_S7528, &_S7529, &_S7530, &_S7531);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S7532 = _S7531;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(_S7500, _S7501, _S7502, _S7503, _S7504, _S7505, _S7506, _S7507, _S7508, _S7509, _S7510, _S7511, _S7512, _S7513, _S7514, _S7515, _S7516, _S7517, _S7518, _S7519, _S7520, _S7521, _S7522, &_S7532);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_67, float3  mean_54, float4  quat_55, float3  scale_54, float in_opacity_49, FixedArray<float3 , 6>  * sv_sites_32, FixedArray<float3 , 6>  * sv_colors_32, Matrix<float, 3, 3>  R_56, float3  t_52, float fx_79, float fy_79, float cx_74, float cy_74, FixedArray<float, 10>  * dist_coeffs_82, uint image_width_67, uint image_height_67, float2  v_mean2d_15, float v_depth_16, float3  v_conic_15, float v_opacity_17, float3  v_rgb_16, float3  * v_mean_17, float4  * v_quat_16, float3  * v_scale_16, float * v_in_opacity_15, FixedArray<float3 , 6>  * v_sv_dirs_8, FixedArray<float3 , 6>  * v_sv_colors_8, Matrix<float, 3, 3>  * v_R_17, float3  * v_t_16)
{
    float3  _S7533 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_10;
    (&dp_mean_10)->primal_0 = mean_54;
    (&dp_mean_10)->differential_0 = _S7533;
    float4  _S7534 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_9;
    (&dp_quat_9)->primal_0 = quat_55;
    (&dp_quat_9)->differential_0 = _S7534;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_9;
    (&dp_scale_9)->primal_0 = scale_54;
    (&dp_scale_9)->differential_0 = _S7533;
    DiffPair_float_0 dp_in_opacity_8;
    (&dp_in_opacity_8)->primal_0 = in_opacity_49;
    (&dp_in_opacity_8)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S7535 = { _S7533, _S7533, _S7533, _S7533, _S7533, _S7533 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_8;
    (&dp_sv_dirs_8)->primal_0 = *sv_sites_32;
    (&dp_sv_dirs_8)->differential_0 = _S7535;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_8;
    (&dp_sv_colors_8)->primal_0 = *sv_colors_32;
    (&dp_sv_colors_8)->differential_0 = _S7535;
    Matrix<float, 3, 3>  _S7536 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_10;
    (&dp_R_10)->primal_0 = R_56;
    (&dp_R_10)->differential_0 = _S7536;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_9;
    (&dp_t_9)->primal_0 = t_52;
    (&dp_t_9)->differential_0 = _S7533;
    s_bwd_projection_3dgut_sv_persp_differentiable_4(antialiased_67, &dp_mean_10, &dp_quat_9, &dp_scale_9, &dp_in_opacity_8, &dp_sv_dirs_8, &dp_sv_colors_8, &dp_R_10, &dp_t_9, fx_79, fy_79, cx_74, cy_74, dist_coeffs_82, image_width_67, image_height_67, 0.0f, 1.00000001504746622e+30f, v_mean2d_15, v_depth_16, v_conic_15, v_opacity_17, v_rgb_16);
    *v_mean_17 = dp_mean_10.differential_0;
    *v_quat_16 = dp_quat_9.differential_0;
    *v_scale_16 = dp_scale_9.differential_0;
    *v_in_opacity_15 = dp_in_opacity_8.differential_0;
    *v_sv_dirs_8 = (&dp_sv_dirs_8)->differential_0;
    *v_sv_colors_8 = (&dp_sv_colors_8)->differential_0;
    *v_R_17 = dp_R_10.differential_0;
    *v_t_16 = dp_t_9.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S7537;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_68, float3  dpmean_20, float4  dpquat_19, float3  dpscale_19, float dpin_opacity_18, FixedArray<float3 , 6>  * dpsv_sites_18, FixedArray<float3 , 6>  * dpsv_colors_18, Matrix<float, 3, 3>  dpR_20, float3  dpt_19, float fx_80, float fy_80, float cx_75, float cy_75, FixedArray<float, 10>  * dist_coeffs_83, uint image_width_68, uint image_height_68, float near_plane_52, float far_plane_52, int4  * aabb_xyxy_43, float2  * dpmean2d_22, float * dpdepth_19, float3  * dpconic_18, float * dpopacity_20, float3  * dprgb_19, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_32)
{
    Matrix<float, 2, 2>  _S7538 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_32->_S7537 = _S7538;
    float2  _S7539 = make_float2 (0.0f);
    float3  _S7540 = make_float3 (0.0f);
    float3  mean_c_61 = s_primal_ctx_mul_0(dpR_20, dpmean_20) + dpt_19;
    float _S7541 = length_1(mean_c_61);
    float4  intrins_53 = make_float4 (fx_80, fy_80, cx_75, cy_75);
    float3  _S7542 = s_primal_ctx_exp_0(dpscale_19);
    float _S7543 = dpquat_19.y;
    float x2_65 = _S7543 * _S7543;
    float y2_65 = dpquat_19.z * dpquat_19.z;
    float z2_88 = dpquat_19.w * dpquat_19.w;
    float xy_65 = dpquat_19.y * dpquat_19.z;
    float xz_65 = dpquat_19.y * dpquat_19.w;
    float yz_65 = dpquat_19.z * dpquat_19.w;
    float wx_65 = dpquat_19.x * dpquat_19.y;
    float wy_65 = dpquat_19.x * dpquat_19.z;
    float wz_65 = dpquat_19.x * dpquat_19.w;
    Matrix<float, 3, 3>  _S7544 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_65 + z2_88), 2.0f * (xy_65 + wz_65), 2.0f * (xz_65 - wy_65), 2.0f * (xy_65 - wz_65), 1.0f - 2.0f * (x2_65 + z2_88), 2.0f * (yz_65 + wx_65), 2.0f * (xz_65 + wy_65), 2.0f * (yz_65 - wx_65), 1.0f - 2.0f * (x2_65 + y2_65))));
    FixedArray<float3 , 7>  _S7545 = {
        _S7540, _S7540, _S7540, _S7540, _S7540, _S7540, _S7540
    };
    FixedArray<float, 7>  _S7546 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7547;
    (&_S7547)->p_0 = _S7545;
    (&_S7547)->w_mean_0 = _S7546;
    (&_S7547)->w_cov_0 = _S7546;
    (&_S7547)->p_0[int(0)] = dpmean_20;
    SigmaPoints_0 _S7548 = _S7547;
    (&_S7548)->w_mean_0[int(0)] = 0.0f;
    (&_S7548)->w_cov_0[int(0)] = 2.0f;
    float _S7549 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_156 = make_float3 (_S7549 * _S7542.x) * _S7544.rows[0U];
    float3  _S7550 = dpmean_20 + delta_156;
    float3  _S7551 = dpmean_20 - delta_156;
    float3  delta_157 = make_float3 (_S7549 * _S7542.y) * _S7544.rows[1U];
    float3  _S7552 = dpmean_20 + delta_157;
    float3  _S7553 = dpmean_20 - delta_157;
    float3  delta_158 = make_float3 (_S7549 * _S7542.z) * _S7544.rows[2U];
    float3  _S7554 = dpmean_20 + delta_158;
    float3  _S7555 = dpmean_20 - delta_158;
    (&_S7548)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7548)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7548)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7548)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7548)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7548)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7548)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7548)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7548)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7548)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7548)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7548)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7548)->p_0[0U] = s_primal_ctx_mul_0(dpR_20, _S7547.p_0[0U]) + dpt_19;
    (&_S7548)->p_0[1U] = s_primal_ctx_mul_0(dpR_20, _S7550) + dpt_19;
    (&_S7548)->p_0[2U] = s_primal_ctx_mul_0(dpR_20, _S7552) + dpt_19;
    (&_S7548)->p_0[3U] = s_primal_ctx_mul_0(dpR_20, _S7554) + dpt_19;
    (&_S7548)->p_0[4U] = s_primal_ctx_mul_0(dpR_20, _S7551) + dpt_19;
    (&_S7548)->p_0[5U] = s_primal_ctx_mul_0(dpR_20, _S7553) + dpt_19;
    (&_S7548)->p_0[6U] = s_primal_ctx_mul_0(dpR_20, _S7555) + dpt_19;
    float2  _S7556 = _S7539;
    Matrix<float, 2, 2>  _S7557 = _S7538;
    SigmaPoints_0 _S7558 = _S7548;
    bool _S7559 = fisheye_proj_3dgs_ut_1(&_S7558, intrins_53, dist_coeffs_83, &_S7557, &_S7556);
    _s_diff_ctx_32->_S7537 = _S7557;
    float2  _S7560 = _S7556;
    float _S7561 = _S7557.rows[int(0)].y * _S7557.rows[int(1)].x;
    float det_orig_66 = _S7557.rows[int(0)].x * _S7557.rows[int(1)].y - _S7561;
    float _S7562 = _S7557.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7563 = _S7557;
    *&(((&_S7563)->rows + (int(0)))->x) = _S7562;
    float _S7564 = _S7557.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7563)->rows + (int(1)))->y) = _S7564;
    Matrix<float, 2, 2>  _S7565 = _S7563;
    Matrix<float, 2, 2>  _S7566 = _S7563;
    float _S7567 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_66 / (_S7562 * _S7564 - _S7561)));
    float _S7568 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_18));
    float _S7569;
    if(antialiased_68)
    {
        _S7569 = _S7568 * _S7567;
    }
    else
    {
        _S7569 = _S7568;
    }
    float _S7570 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7569 / 0.00392156885936856f)));
    float radius_x_43 = _S7570 * s_primal_ctx_sqrt_0(_S7565.rows[int(0)].x);
    float radius_y_43 = _S7570 * s_primal_ctx_sqrt_0(_S7566.rows[int(1)].y);
    float _S7571 = _S7560.x;
    float _S7572 = _S7560.y;
    float _S7573 = mean_c_61.z;
    float _S7574 = s_primal_ctx_max_0(_S7573, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S7573 + _S7541));
    float3  _S7575 = s_primal_ctx_exp_0(- dpscale_19);
    float3  _S7576 = dpmean_20 - - s_primal_ctx_mul_0(transpose_0(dpR_20), dpt_19);
    float3  _S7577 = _S7576 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7576, _S7576)));
    float _S7578 = s_primal_ctx_dot_0((*dpsv_sites_18)[int(5)], _S7577);
    float _S7579 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(0)], _S7577) - _S7578);
    float _S7580 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(1)], _S7577) - _S7578);
    float _S7581 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(2)], _S7577) - _S7578);
    float _S7582 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(3)], _S7577) - _S7578);
    float _S7583 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(4)], _S7577) - _S7578);
    float _S7584 = s_primal_ctx_exp_1(0.0f);
    float3  _S7585 = s_primal_ctx_max_1((make_float3 (_S7579) * (*dpsv_colors_18)[int(0)] + make_float3 (_S7580) * (*dpsv_colors_18)[int(1)] + make_float3 (_S7581) * (*dpsv_colors_18)[int(2)] + make_float3 (_S7582) * (*dpsv_colors_18)[int(3)] + make_float3 (_S7583) * (*dpsv_colors_18)[int(4)] + make_float3 (_S7584) * (*dpsv_colors_18)[int(5)]) / make_float3 (_S7579 + _S7580 + _S7581 + _S7582 + _S7583 + _S7584) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_43 = make_int4 (int((F32_floor((_S7571 - radius_x_43)))), int((F32_floor((_S7572 - radius_y_43)))), int((F32_ceil((_S7571 + radius_x_43)))), int((F32_ceil((_S7572 + radius_y_43)))));
    *dpmean2d_22 = _S7560;
    *dpdepth_19 = _S7574;
    *dpconic_18 = _S7575;
    *dpopacity_20 = _S7569;
    *dprgb_19 = _S7585;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_69, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_21, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_20, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_20, DiffPair_float_0 * dpin_opacity_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_19, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_21, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_20, float fx_81, float fy_81, float cx_76, float cy_76, FixedArray<float, 10>  * dist_coeffs_84, uint image_width_69, uint image_height_69, float near_plane_53, float far_plane_53, float2  dpmean2d_23, float dpdepth_20, float3  dpconic_19, float dpopacity_21, float3  dprgb_20, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_33)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7586 = *dpmean_21;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7587 = *dpquat_20;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7588 = *dpscale_20;
    FixedArray<float3 , 6>  _S7589 = dpsv_sites_19->primal_0;
    FixedArray<float3 , 6>  _S7590 = dpsv_colors_19->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7591 = *dpR_21;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7592 = *dpt_20;
    float3  _S7593 = make_float3 (0.0f);
    float3  mean_c_62 = s_primal_ctx_mul_0((*dpR_21).primal_0, (*dpmean_21).primal_0) + (*dpt_20).primal_0;
    float _S7594 = length_1(mean_c_62);
    float3  _S7595 = s_primal_ctx_exp_0((*dpscale_20).primal_0);
    float _S7596 = (*dpquat_20).primal_0.y;
    float x2_66 = _S7596 * _S7596;
    float y2_66 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.z;
    float z2_89 = (*dpquat_20).primal_0.w * (*dpquat_20).primal_0.w;
    float xy_66 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.z;
    float xz_66 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.w;
    float yz_66 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.w;
    float wx_66 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.y;
    float wy_66 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.z;
    float wz_66 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.w;
    Matrix<float, 3, 3>  _S7597 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_66 + z2_89), 2.0f * (xy_66 + wz_66), 2.0f * (xz_66 - wy_66), 2.0f * (xy_66 - wz_66), 1.0f - 2.0f * (x2_66 + z2_89), 2.0f * (yz_66 + wx_66), 2.0f * (xz_66 + wy_66), 2.0f * (yz_66 - wx_66), 1.0f - 2.0f * (x2_66 + y2_66))));
    FixedArray<float3 , 7>  _S7598 = {
        _S7593, _S7593, _S7593, _S7593, _S7593, _S7593, _S7593
    };
    FixedArray<float, 7>  _S7599 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7600;
    (&_S7600)->p_0 = _S7598;
    (&_S7600)->w_mean_0 = _S7599;
    (&_S7600)->w_cov_0 = _S7599;
    (&_S7600)->p_0[int(0)] = (*dpmean_21).primal_0;
    float _S7601 = s_primal_ctx_sqrt_0(3.0f);
    float _S7602 = _S7601 * _S7595.x;
    float3  _S7603 = make_float3 (_S7602);
    float3  delta_159 = make_float3 (_S7602) * _S7597.rows[0U];
    float3  _S7604 = (*dpmean_21).primal_0 + delta_159;
    float3  _S7605 = (*dpmean_21).primal_0 - delta_159;
    float _S7606 = _S7601 * _S7595.y;
    float3  _S7607 = make_float3 (_S7606);
    float3  delta_160 = make_float3 (_S7606) * _S7597.rows[1U];
    float3  _S7608 = (*dpmean_21).primal_0 + delta_160;
    float3  _S7609 = (*dpmean_21).primal_0 - delta_160;
    float _S7610 = _S7601 * _S7595.z;
    float3  _S7611 = make_float3 (_S7610);
    float3  delta_161 = make_float3 (_S7610) * _S7597.rows[2U];
    float3  _S7612 = (*dpmean_21).primal_0 + delta_161;
    float3  _S7613 = (*dpmean_21).primal_0 - delta_161;
    SigmaPoints_0 _S7614 = _S7600;
    float _S7615 = *&(((&_s_diff_ctx_33->_S7537)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_33->_S7537)->rows + (int(1)))->x);
    float det_orig_67 = *&(((&_s_diff_ctx_33->_S7537)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_33->_S7537)->rows + (int(1)))->y) - _S7615;
    float _S7616 = *&(((&_s_diff_ctx_33->_S7537)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7617 = _s_diff_ctx_33->_S7537;
    *&(((&_S7617)->rows + (int(0)))->x) = _S7616;
    float _S7618 = *&(((&_s_diff_ctx_33->_S7537)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7617)->rows + (int(1)))->y) = _S7618;
    Matrix<float, 2, 2>  _S7619 = _S7617;
    Matrix<float, 2, 2>  _S7620 = _S7617;
    float det_blur_42 = _S7616 * _S7618 - _S7615;
    float _S7621 = det_orig_67 / det_blur_42;
    float _S7622 = det_blur_42 * det_blur_42;
    float _S7623 = s_primal_ctx_max_0(0.0f, _S7621);
    float _S7624 = s_primal_ctx_sqrt_0(_S7623);
    float _S7625 = - (*dpin_opacity_19).primal_0;
    float _S7626 = 1.0f + s_primal_ctx_exp_1(_S7625);
    float _S7627 = 1.0f / _S7626;
    float _S7628 = _S7626 * _S7626;
    float _S7629;
    if(antialiased_69)
    {
        _S7629 = _S7627 * _S7624;
    }
    else
    {
        _S7629 = _S7627;
    }
    float _S7630 = _S7629 / 0.00392156885936856f;
    float _S7631 = 2.0f * s_primal_ctx_log_0(_S7630);
    float _S7632 = s_primal_ctx_sqrt_0(_S7631);
    float _S7633 = _S7619.rows[int(0)].x;
    float _S7634 = _S7620.rows[int(1)].y;
    float _S7635 = mean_c_62.z;
    float _S7636 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S7637 = _S7636 * (_S7635 + _S7594);
    float3  _S7638 = - _S7588.primal_0;
    Matrix<float, 3, 3>  _S7639 = transpose_0(_S7591.primal_0);
    float3  _S7640 = _S7586.primal_0 - - s_primal_ctx_mul_0(_S7639, _S7592.primal_0);
    float _S7641 = s_primal_ctx_dot_0(_S7640, _S7640);
    float _S7642 = s_primal_ctx_rsqrt_0(_S7641);
    float3  _S7643 = make_float3 (_S7642);
    float3  _S7644 = _S7640 * make_float3 (_S7642);
    float _S7645 = s_primal_ctx_dot_0(_S7589[int(5)], _S7644);
    float _S7646 = s_primal_ctx_dot_0(_S7589[int(0)], _S7644) - _S7645;
    float _S7647 = s_primal_ctx_exp_1(_S7646);
    float3  _S7648 = make_float3 (_S7647);
    float _S7649 = s_primal_ctx_dot_0(_S7589[int(1)], _S7644) - _S7645;
    float _S7650 = s_primal_ctx_exp_1(_S7649);
    float3  _S7651 = make_float3 (_S7650);
    float _S7652 = s_primal_ctx_dot_0(_S7589[int(2)], _S7644) - _S7645;
    float _S7653 = s_primal_ctx_exp_1(_S7652);
    float3  _S7654 = make_float3 (_S7653);
    float _S7655 = s_primal_ctx_dot_0(_S7589[int(3)], _S7644) - _S7645;
    float _S7656 = s_primal_ctx_exp_1(_S7655);
    float3  _S7657 = make_float3 (_S7656);
    float _S7658 = s_primal_ctx_dot_0(_S7589[int(4)], _S7644) - _S7645;
    float _S7659 = s_primal_ctx_exp_1(_S7658);
    float3  _S7660 = make_float3 (_S7659);
    float _S7661 = s_primal_ctx_exp_1(0.0f);
    float3  _S7662 = make_float3 (_S7661);
    float total_w_9 = _S7647 + _S7650 + _S7653 + _S7656 + _S7659 + _S7661;
    float3  _S7663 = make_float3 (total_w_9);
    float3  total_c_9 = make_float3 (_S7647) * _S7590[int(0)] + make_float3 (_S7650) * _S7590[int(1)] + make_float3 (_S7653) * _S7590[int(2)] + make_float3 (_S7656) * _S7590[int(3)] + make_float3 (_S7659) * _S7590[int(4)] + make_float3 (_S7661) * _S7590[int(5)];
    float3  _S7664 = make_float3 (total_w_9 * total_w_9);
    float3  _S7665 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7666;
    (&_S7666)->primal_0 = total_c_9 / make_float3 (total_w_9) + make_float3 (0.5f);
    (&_S7666)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7667;
    (&_S7667)->primal_0 = _S7665;
    (&_S7667)->differential_0 = _S7593;
    s_bwd_prop_max_0(&_S7666, &_S7667, dprgb_20);
    float3  _S7668 = _S7666.differential_0 / _S7664;
    float3  _S7669 = total_c_9 * - _S7668;
    float3  s_diff_total_c_T_9 = _S7663 * _S7668;
    float3  _S7670 = _S7662 * s_diff_total_c_T_9;
    float _S7671 = _S7669.x + _S7669.y + _S7669.z;
    float3  _S7672 = _S7660 * s_diff_total_c_T_9;
    float3  _S7673 = _S7590[int(4)] * s_diff_total_c_T_9;
    float _S7674 = _S7671 + _S7673.x + _S7673.y + _S7673.z;
    DiffPair_float_0 _S7675;
    (&_S7675)->primal_0 = _S7658;
    (&_S7675)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7675, _S7674);
    float _S7676 = - _S7675.differential_0;
    float3  _S7677 = _S7657 * s_diff_total_c_T_9;
    float3  _S7678 = _S7590[int(3)] * s_diff_total_c_T_9;
    float _S7679 = _S7671 + _S7678.x + _S7678.y + _S7678.z;
    DiffPair_float_0 _S7680;
    (&_S7680)->primal_0 = _S7655;
    (&_S7680)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7680, _S7679);
    float _S7681 = - _S7680.differential_0;
    float3  _S7682 = _S7654 * s_diff_total_c_T_9;
    float3  _S7683 = _S7590[int(2)] * s_diff_total_c_T_9;
    float _S7684 = _S7671 + _S7683.x + _S7683.y + _S7683.z;
    DiffPair_float_0 _S7685;
    (&_S7685)->primal_0 = _S7652;
    (&_S7685)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7685, _S7684);
    float _S7686 = - _S7685.differential_0;
    float3  _S7687 = _S7651 * s_diff_total_c_T_9;
    float3  _S7688 = _S7590[int(1)] * s_diff_total_c_T_9;
    float _S7689 = _S7671 + _S7688.x + _S7688.y + _S7688.z;
    DiffPair_float_0 _S7690;
    (&_S7690)->primal_0 = _S7649;
    (&_S7690)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7690, _S7689);
    float _S7691 = - _S7690.differential_0;
    float3  _S7692 = _S7648 * s_diff_total_c_T_9;
    float3  _S7693 = _S7590[int(0)] * s_diff_total_c_T_9;
    float _S7694 = _S7671 + _S7693.x + _S7693.y + _S7693.z;
    DiffPair_float_0 _S7695;
    (&_S7695)->primal_0 = _S7646;
    (&_S7695)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7695, _S7694);
    float _S7696 = _S7676 + _S7681 + _S7686 + _S7691 + - _S7695.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7697;
    (&_S7697)->primal_0 = _S7589[int(5)];
    (&_S7697)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7698;
    (&_S7698)->primal_0 = _S7644;
    (&_S7698)->differential_0 = _S7593;
    s_bwd_prop_dot_0(&_S7697, &_S7698, _S7696);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7699;
    (&_S7699)->primal_0 = _S7589[int(4)];
    (&_S7699)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7700;
    (&_S7700)->primal_0 = _S7644;
    (&_S7700)->differential_0 = _S7593;
    s_bwd_prop_dot_0(&_S7699, &_S7700, _S7675.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7701;
    (&_S7701)->primal_0 = _S7589[int(3)];
    (&_S7701)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7702;
    (&_S7702)->primal_0 = _S7644;
    (&_S7702)->differential_0 = _S7593;
    s_bwd_prop_dot_0(&_S7701, &_S7702, _S7680.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7703;
    (&_S7703)->primal_0 = _S7589[int(2)];
    (&_S7703)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7704;
    (&_S7704)->primal_0 = _S7644;
    (&_S7704)->differential_0 = _S7593;
    s_bwd_prop_dot_0(&_S7703, &_S7704, _S7685.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7705;
    (&_S7705)->primal_0 = _S7589[int(1)];
    (&_S7705)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7706;
    (&_S7706)->primal_0 = _S7644;
    (&_S7706)->differential_0 = _S7593;
    s_bwd_prop_dot_0(&_S7705, &_S7706, _S7690.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7707;
    (&_S7707)->primal_0 = _S7589[int(0)];
    (&_S7707)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7708;
    (&_S7708)->primal_0 = _S7644;
    (&_S7708)->differential_0 = _S7593;
    s_bwd_prop_dot_0(&_S7707, &_S7708, _S7695.differential_0);
    float3  _S7709 = _S7698.differential_0 + _S7700.differential_0 + _S7702.differential_0 + _S7704.differential_0 + _S7706.differential_0 + _S7708.differential_0;
    float3  _S7710 = _S7640 * _S7709;
    float3  _S7711 = _S7643 * _S7709;
    float _S7712 = _S7710.x + _S7710.y + _S7710.z;
    DiffPair_float_0 _S7713;
    (&_S7713)->primal_0 = _S7641;
    (&_S7713)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7713, _S7712);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7714;
    (&_S7714)->primal_0 = _S7640;
    (&_S7714)->differential_0 = _S7593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7715;
    (&_S7715)->primal_0 = _S7640;
    (&_S7715)->differential_0 = _S7593;
    s_bwd_prop_dot_0(&_S7714, &_S7715, _S7713.differential_0);
    float3  _S7716 = _S7711 + _S7715.differential_0 + _S7714.differential_0;
    float3  _S7717 = - - _S7716;
    Matrix<float, 3, 3>  _S7718 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7719;
    (&_S7719)->primal_0 = _S7639;
    (&_S7719)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7720;
    (&_S7720)->primal_0 = _S7592.primal_0;
    (&_S7720)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7719, &_S7720, _S7717);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7721 = _S7720;
    Matrix<float, 3, 3>  _S7722 = transpose_0(_S7719.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7723;
    (&_S7723)->primal_0 = _S7638;
    (&_S7723)->differential_0 = _S7593;
    s_bwd_prop_exp_1(&_S7723, dpconic_19);
    float3  _S7724 = - _S7723.differential_0;
    DiffPair_float_0 _S7725;
    (&_S7725)->primal_0 = _S7635;
    (&_S7725)->differential_0 = 0.0f;
    DiffPair_float_0 _S7726;
    (&_S7726)->primal_0 = _S7637;
    (&_S7726)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7725, &_S7726, dpdepth_20);
    float _S7727 = _S7636 * _S7726.differential_0;
    float _S7728 = _S7725.differential_0 + _S7727;
    DiffPair_float_0 _S7729;
    (&_S7729)->primal_0 = _S7634;
    (&_S7729)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7729, 0.0f);
    DiffPair_float_0 _S7730;
    (&_S7730)->primal_0 = _S7633;
    (&_S7730)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7730, 0.0f);
    DiffPair_float_0 _S7731;
    (&_S7731)->primal_0 = 3.32999992370605469f;
    (&_S7731)->differential_0 = 0.0f;
    DiffPair_float_0 _S7732;
    (&_S7732)->primal_0 = _S7632;
    (&_S7732)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7731, &_S7732, 0.0f);
    DiffPair_float_0 _S7733;
    (&_S7733)->primal_0 = _S7631;
    (&_S7733)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7733, _S7732.differential_0);
    float _S7734 = 2.0f * _S7733.differential_0;
    DiffPair_float_0 _S7735;
    (&_S7735)->primal_0 = _S7630;
    (&_S7735)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7735, _S7734);
    float _S7736 = dpopacity_21 + 254.9999847412109375f * _S7735.differential_0;
    FixedArray<float3 , 6>  _S7737;
    _S7737[int(0)] = _S7593;
    _S7737[int(1)] = _S7593;
    _S7737[int(2)] = _S7593;
    _S7737[int(3)] = _S7593;
    _S7737[int(4)] = _S7593;
    _S7737[int(5)] = _S7593;
    _S7737[int(5)] = _S7670;
    _S7737[int(4)] = _S7672;
    _S7737[int(3)] = _S7677;
    _S7737[int(2)] = _S7682;
    _S7737[int(1)] = _S7687;
    _S7737[int(0)] = _S7692;
    FixedArray<float3 , 6>  _S7738 = {
        _S7737[int(0)], _S7737[int(1)], _S7737[int(2)], _S7737[int(3)], _S7737[int(4)], _S7737[int(5)]
    };
    FixedArray<float3 , 6>  _S7739;
    _S7739[int(0)] = _S7593;
    _S7739[int(1)] = _S7593;
    _S7739[int(2)] = _S7593;
    _S7739[int(3)] = _S7593;
    _S7739[int(4)] = _S7593;
    _S7739[int(5)] = _S7593;
    _S7739[int(5)] = _S7697.differential_0;
    _S7739[int(4)] = _S7699.differential_0;
    _S7739[int(3)] = _S7701.differential_0;
    _S7739[int(2)] = _S7703.differential_0;
    _S7739[int(1)] = _S7705.differential_0;
    _S7739[int(0)] = _S7707.differential_0;
    FixedArray<float3 , 6>  _S7740 = {
        _S7739[int(0)], _S7739[int(1)], _S7739[int(2)], _S7739[int(3)], _S7739[int(4)], _S7739[int(5)]
    };
    float3  _S7741 = make_float3 (0.0f, 0.0f, _S7728);
    float2  _S7742 = make_float2 (0.0f, _S7729.differential_0);
    float2  _S7743 = make_float2 (_S7730.differential_0, 0.0f);
    float _S7744;
    if(antialiased_69)
    {
        float _S7745 = _S7627 * _S7736;
        _S7629 = _S7624 * _S7736;
        _S7744 = _S7745;
    }
    else
    {
        _S7629 = _S7736;
        _S7744 = 0.0f;
    }
    float _S7746 = - (_S7629 / _S7628);
    DiffPair_float_0 _S7747;
    (&_S7747)->primal_0 = _S7625;
    (&_S7747)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7747, _S7746);
    float _S7748 = - _S7747.differential_0;
    DiffPair_float_0 _S7749;
    (&_S7749)->primal_0 = _S7623;
    (&_S7749)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7749, _S7744);
    DiffPair_float_0 _S7750;
    (&_S7750)->primal_0 = 0.0f;
    (&_S7750)->differential_0 = 0.0f;
    DiffPair_float_0 _S7751;
    (&_S7751)->primal_0 = _S7621;
    (&_S7751)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7750, &_S7751, _S7749.differential_0);
    float _S7752 = _S7751.differential_0 / _S7622;
    float s_diff_det_blur_T_13 = det_orig_67 * - _S7752;
    float s_diff_det_orig_T_16 = det_blur_42 * _S7752;
    float _S7753 = - s_diff_det_blur_T_13;
    float _S7754 = _S7616 * s_diff_det_blur_T_13;
    float _S7755 = _S7618 * s_diff_det_blur_T_13;
    Matrix<float, 2, 2>  _S7756 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7757 = _S7756;
    _S7757[int(1)] = _S7742;
    _S7757[int(0)] = _S7743;
    float _S7758 = _S7755 + _S7757.rows[int(0)].x;
    float _S7759 = _S7753 + - s_diff_det_orig_T_16;
    float _S7760 = *&(((&_s_diff_ctx_33->_S7537)->rows + (int(0)))->y) * _S7759;
    float _S7761 = *&(((&_s_diff_ctx_33->_S7537)->rows + (int(1)))->x) * _S7759;
    float _S7762 = *&(((&_s_diff_ctx_33->_S7537)->rows + (int(1)))->y) * s_diff_det_orig_T_16;
    float _S7763 = _S7754 + _S7757.rows[int(1)].y + *&(((&_s_diff_ctx_33->_S7537)->rows + (int(0)))->x) * s_diff_det_orig_T_16;
    float2  _S7764 = make_float2 (0.0f);
    float2  _S7765 = _S7764;
    *&((&_S7765)->x) = _S7760;
    *&((&_S7765)->y) = _S7763;
    float _S7766 = _S7758 + _S7762;
    float2  _S7767 = _S7764;
    *&((&_S7767)->y) = _S7761;
    *&((&_S7767)->x) = _S7766;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7768;
    (&_S7768)->primal_0 = _S7591.primal_0;
    (&_S7768)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7769;
    (&_S7769)->primal_0 = _S7613;
    (&_S7769)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7768, &_S7769, _S7593);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7770;
    (&_S7770)->primal_0 = _S7591.primal_0;
    (&_S7770)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7771;
    (&_S7771)->primal_0 = _S7609;
    (&_S7771)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7770, &_S7771, _S7593);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7772;
    (&_S7772)->primal_0 = _S7591.primal_0;
    (&_S7772)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7773;
    (&_S7773)->primal_0 = _S7605;
    (&_S7773)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7772, &_S7773, _S7593);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7774;
    (&_S7774)->primal_0 = _S7591.primal_0;
    (&_S7774)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7775;
    (&_S7775)->primal_0 = _S7612;
    (&_S7775)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7774, &_S7775, _S7593);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7776;
    (&_S7776)->primal_0 = _S7591.primal_0;
    (&_S7776)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7777;
    (&_S7777)->primal_0 = _S7608;
    (&_S7777)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7776, &_S7777, _S7593);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7778;
    (&_S7778)->primal_0 = _S7591.primal_0;
    (&_S7778)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7779;
    (&_S7779)->primal_0 = _S7604;
    (&_S7779)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7778, &_S7779, _S7593);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7780;
    (&_S7780)->primal_0 = _S7591.primal_0;
    (&_S7780)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7781;
    (&_S7781)->primal_0 = _S7614.p_0[0U];
    (&_S7781)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7780, &_S7781, _S7593);
    float3  _S7782 = - _S7769.differential_0 + _S7775.differential_0;
    float3  _S7783 = _S7611 * _S7782;
    float3  _S7784 = _S7597.rows[2U] * _S7782;
    float _S7785 = _S7601 * (_S7784.x + _S7784.y + _S7784.z);
    float3  _S7786 = - _S7771.differential_0 + _S7777.differential_0;
    float3  _S7787 = _S7607 * _S7786;
    float3  _S7788 = _S7597.rows[1U] * _S7786;
    float _S7789 = _S7601 * (_S7788.x + _S7788.y + _S7788.z);
    float3  _S7790 = - _S7773.differential_0 + _S7779.differential_0;
    float3  _S7791 = _S7603 * _S7790;
    float3  _S7792 = _S7597.rows[0U] * _S7790;
    float _S7793 = _S7601 * (_S7792.x + _S7792.y + _S7792.z);
    Matrix<float, 3, 3>  _S7794 = _S7718;
    _S7794[2U] = _S7783;
    _S7794[1U] = _S7787;
    _S7794[0U] = _S7791;
    Matrix<float, 3, 3>  _S7795 = transpose_0(transpose_0(_S7794));
    float _S7796 = 2.0f * - _S7795.rows[int(2)].z;
    float _S7797 = 2.0f * _S7795.rows[int(2)].y;
    float _S7798 = 2.0f * _S7795.rows[int(2)].x;
    float _S7799 = 2.0f * _S7795.rows[int(1)].z;
    float _S7800 = 2.0f * - _S7795.rows[int(1)].y;
    float _S7801 = 2.0f * _S7795.rows[int(1)].x;
    float _S7802 = 2.0f * _S7795.rows[int(0)].z;
    float _S7803 = 2.0f * _S7795.rows[int(0)].y;
    float _S7804 = 2.0f * - _S7795.rows[int(0)].x;
    float _S7805 = - _S7801 + _S7803;
    float _S7806 = _S7798 + - _S7802;
    float _S7807 = - _S7797 + _S7799;
    float _S7808 = _S7797 + _S7799;
    float _S7809 = _S7798 + _S7802;
    float _S7810 = _S7801 + _S7803;
    float _S7811 = _S7587.primal_0.w * (_S7800 + _S7804);
    float _S7812 = _S7587.primal_0.z * (_S7796 + _S7804);
    float _S7813 = _S7587.primal_0.y * (_S7796 + _S7800);
    float _S7814 = _S7587.primal_0.x * _S7805 + _S7587.primal_0.z * _S7808 + _S7587.primal_0.y * _S7809 + _S7811 + _S7811;
    float _S7815 = _S7587.primal_0.x * _S7806 + _S7587.primal_0.w * _S7808 + _S7587.primal_0.y * _S7810 + _S7812 + _S7812;
    float _S7816 = _S7587.primal_0.x * _S7807 + _S7587.primal_0.w * _S7809 + _S7587.primal_0.z * _S7810 + _S7813 + _S7813;
    float _S7817 = _S7587.primal_0.w * _S7805 + _S7587.primal_0.z * _S7806 + _S7587.primal_0.y * _S7807;
    float3  _S7818 = _S7593;
    *&((&_S7818)->z) = _S7785;
    *&((&_S7818)->y) = _S7789;
    *&((&_S7818)->x) = _S7793;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7819;
    (&_S7819)->primal_0 = _S7588.primal_0;
    (&_S7819)->differential_0 = _S7593;
    s_bwd_prop_exp_1(&_S7819, _S7818);
    Matrix<float, 2, 2>  _S7820 = _S7756;
    _S7820[int(1)] = _S7765;
    _S7820[int(0)] = _S7767;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7821;
    (&_S7821)->primal_0 = mean_c_62;
    (&_S7821)->differential_0 = _S7593;
    s_bwd_length_impl_1(&_S7821, _S7727);
    float3  _S7822 = _S7821.differential_0 + _S7741;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7823;
    (&_S7823)->primal_0 = _S7591.primal_0;
    (&_S7823)->differential_0 = _S7718;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7824;
    (&_S7824)->primal_0 = _S7586.primal_0;
    (&_S7824)->differential_0 = _S7593;
    s_bwd_prop_mul_1(&_S7823, &_S7824, _S7822);
    float3  _S7825 = _S7822 + _S7721.differential_0;
    dpt_20->primal_0 = (*dpt_20).primal_0;
    dpt_20->differential_0 = _S7825;
    Matrix<float, 3, 3>  _S7826 = _S7768.differential_0 + _S7770.differential_0 + _S7772.differential_0 + _S7774.differential_0 + _S7776.differential_0 + _S7778.differential_0 + _S7780.differential_0 + _S7823.differential_0 + _S7722;
    dpR_21->primal_0 = (*dpR_21).primal_0;
    dpR_21->differential_0 = _S7826;
    dpsv_colors_19->primal_0 = dpsv_colors_19->primal_0;
    dpsv_colors_19->differential_0 = _S7738;
    dpsv_sites_19->primal_0 = dpsv_sites_19->primal_0;
    dpsv_sites_19->differential_0 = _S7740;
    dpin_opacity_19->primal_0 = (*dpin_opacity_19).primal_0;
    dpin_opacity_19->differential_0 = _S7748;
    float3  _S7827 = _S7819.differential_0 + _S7724;
    dpscale_20->primal_0 = (*dpscale_20).primal_0;
    dpscale_20->differential_0 = _S7827;
    float4  _S7828 = make_float4 (0.0f);
    *&((&_S7828)->w) = _S7814;
    *&((&_S7828)->z) = _S7815;
    *&((&_S7828)->y) = _S7816;
    *&((&_S7828)->x) = _S7817;
    dpquat_20->primal_0 = (*dpquat_20).primal_0;
    dpquat_20->differential_0 = _S7828;
    float3  _S7829 = _S7769.differential_0 + _S7775.differential_0 + _S7771.differential_0 + _S7777.differential_0 + _S7773.differential_0 + _S7779.differential_0 + _S7824.differential_0 + _S7716;
    dpmean_21->primal_0 = (*dpmean_21).primal_0;
    dpmean_21->differential_0 = _S7829;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_4(bool _S7830, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7831, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7832, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7833, DiffPair_float_0 * _S7834, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S7835, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S7836, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7837, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7838, float _S7839, float _S7840, float _S7841, float _S7842, FixedArray<float, 10>  * _S7843, uint _S7844, uint _S7845, float _S7846, float _S7847, float2  _S7848, float _S7849, float3  _S7850, float _S7851, float3  _S7852)
{
    FixedArray<float3 , 6>  _S7853 = _S7835->primal_0;
    FixedArray<float3 , 6>  _S7854 = _S7836->primal_0;
    int4  _S7855;
    float2  _S7856;
    float _S7857;
    float3  _S7858;
    float _S7859;
    float3  _S7860;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S7861;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(_S7830, (*_S7831).primal_0, (*_S7832).primal_0, (*_S7833).primal_0, (*_S7834).primal_0, &_S7853, &_S7854, (*_S7837).primal_0, (*_S7838).primal_0, _S7839, _S7840, _S7841, _S7842, _S7843, _S7844, _S7845, _S7846, _S7847, &_S7855, &_S7856, &_S7857, &_S7858, &_S7859, &_S7860, &_S7861);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S7862 = _S7861;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(_S7830, _S7831, _S7832, _S7833, _S7834, _S7835, _S7836, _S7837, _S7838, _S7839, _S7840, _S7841, _S7842, _S7843, _S7844, _S7845, _S7846, _S7847, _S7848, _S7849, _S7850, _S7851, _S7852, &_S7862);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_70, float3  mean_55, float4  quat_56, float3  scale_55, float in_opacity_50, FixedArray<float3 , 6>  * sv_sites_33, FixedArray<float3 , 6>  * sv_colors_33, Matrix<float, 3, 3>  R_57, float3  t_53, float fx_82, float fy_82, float cx_77, float cy_77, FixedArray<float, 10>  * dist_coeffs_85, uint image_width_70, uint image_height_70, float2  v_mean2d_16, float v_depth_17, float3  v_conic_16, float v_opacity_18, float3  v_rgb_17, float3  * v_mean_18, float4  * v_quat_17, float3  * v_scale_17, float * v_in_opacity_16, FixedArray<float3 , 6>  * v_sv_dirs_9, FixedArray<float3 , 6>  * v_sv_colors_9, Matrix<float, 3, 3>  * v_R_18, float3  * v_t_17)
{
    float3  _S7863 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_11;
    (&dp_mean_11)->primal_0 = mean_55;
    (&dp_mean_11)->differential_0 = _S7863;
    float4  _S7864 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_10;
    (&dp_quat_10)->primal_0 = quat_56;
    (&dp_quat_10)->differential_0 = _S7864;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_10;
    (&dp_scale_10)->primal_0 = scale_55;
    (&dp_scale_10)->differential_0 = _S7863;
    DiffPair_float_0 dp_in_opacity_9;
    (&dp_in_opacity_9)->primal_0 = in_opacity_50;
    (&dp_in_opacity_9)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S7865 = { _S7863, _S7863, _S7863, _S7863, _S7863, _S7863 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_9;
    (&dp_sv_dirs_9)->primal_0 = *sv_sites_33;
    (&dp_sv_dirs_9)->differential_0 = _S7865;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_9;
    (&dp_sv_colors_9)->primal_0 = *sv_colors_33;
    (&dp_sv_colors_9)->differential_0 = _S7865;
    Matrix<float, 3, 3>  _S7866 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_11;
    (&dp_R_11)->primal_0 = R_57;
    (&dp_R_11)->differential_0 = _S7866;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_10;
    (&dp_t_10)->primal_0 = t_53;
    (&dp_t_10)->differential_0 = _S7863;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_4(antialiased_70, &dp_mean_11, &dp_quat_10, &dp_scale_10, &dp_in_opacity_9, &dp_sv_dirs_9, &dp_sv_colors_9, &dp_R_11, &dp_t_10, fx_82, fy_82, cx_77, cy_77, dist_coeffs_85, image_width_70, image_height_70, 0.0f, 1.00000001504746622e+30f, v_mean2d_16, v_depth_17, v_conic_16, v_opacity_18, v_rgb_17);
    *v_mean_18 = dp_mean_11.differential_0;
    *v_quat_17 = dp_quat_10.differential_0;
    *v_scale_17 = dp_scale_10.differential_0;
    *v_in_opacity_16 = dp_in_opacity_9.differential_0;
    *v_sv_dirs_9 = (&dp_sv_dirs_9)->differential_0;
    *v_sv_colors_9 = (&dp_sv_colors_9)->differential_0;
    *v_R_18 = dp_R_11.differential_0;
    *v_t_17 = dp_t_10.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_71, float3  mean_56, float4  quat_57, float3  scale_56, float in_opacity_51, FixedArray<float3 , 7>  * sv_sites_34, FixedArray<float3 , 7>  * sv_colors_34, Matrix<float, 3, 3>  R_58, float3  t_54, float fx_83, float fy_83, float cx_78, float cy_78, FixedArray<float, 10>  * dist_coeffs_86, uint image_width_71, uint image_height_71, float near_plane_54, float far_plane_54, int4  * aabb_xyxy_44, float2  * mean2d_43, float * depth_35, float3  * conic_34, float * opacity_38, float3  * rgb_36)
{
    float3  mean_c_63 = mul_0(R_58, mean_56) + t_54;
    float4  intrins_54 = make_float4 (fx_83, fy_83, cx_78, cy_78);
    float3  _S7867 = exp_0(scale_56);
    float x_73 = quat_57.y;
    float x2_67 = x_73 * x_73;
    float y2_67 = quat_57.z * quat_57.z;
    float z2_90 = quat_57.w * quat_57.w;
    float xy_67 = quat_57.y * quat_57.z;
    float xz_67 = quat_57.y * quat_57.w;
    float yz_67 = quat_57.z * quat_57.w;
    float wx_67 = quat_57.x * quat_57.y;
    float wy_67 = quat_57.x * quat_57.z;
    float wz_67 = quat_57.x * quat_57.w;
    Matrix<float, 3, 3>  _S7868 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_67 + z2_90), 2.0f * (xy_67 + wz_67), 2.0f * (xz_67 - wy_67), 2.0f * (xy_67 - wz_67), 1.0f - 2.0f * (x2_67 + z2_90), 2.0f * (yz_67 + wx_67), 2.0f * (xz_67 + wy_67), 2.0f * (yz_67 - wx_67), 1.0f - 2.0f * (x2_67 + y2_67))));
    SigmaPoints_0 ret_28;
    (&ret_28)->p_0[int(0)] = mean_56;
    (&ret_28)->w_mean_0[int(0)] = 0.0f;
    (&ret_28)->w_cov_0[int(0)] = 2.0f;
    float _S7869 = (F32_sqrt((3.0f)));
    float3  delta_162 = make_float3 (_S7869 * _S7867.x) * _S7868.rows[0U];
    float3  _S7870 = mean_56 + delta_162;
    float3  _S7871 = mean_56 - delta_162;
    float3  delta_163 = make_float3 (_S7869 * _S7867.y) * _S7868.rows[1U];
    float3  _S7872 = mean_56 + delta_163;
    float3  _S7873 = mean_56 - delta_163;
    float3  delta_164 = make_float3 (_S7869 * _S7867.z) * _S7868.rows[2U];
    float3  _S7874 = mean_56 + delta_164;
    float3  _S7875 = mean_56 - delta_164;
    (&ret_28)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_28)->p_0[0U] = mul_0(R_58, (&ret_28)->p_0[0U]) + t_54;
    (&ret_28)->p_0[1U] = mul_0(R_58, _S7870) + t_54;
    (&ret_28)->p_0[2U] = mul_0(R_58, _S7872) + t_54;
    (&ret_28)->p_0[3U] = mul_0(R_58, _S7874) + t_54;
    (&ret_28)->p_0[4U] = mul_0(R_58, _S7871) + t_54;
    (&ret_28)->p_0[5U] = mul_0(R_58, _S7873) + t_54;
    (&ret_28)->p_0[6U] = mul_0(R_58, _S7875) + t_54;
    SigmaPoints_0 _S7876 = ret_28;
    Matrix<float, 2, 2>  covar2d_34;
    bool _S7877 = persp_proj_3dgs_ut_1(&_S7876, intrins_54, dist_coeffs_86, image_width_71, image_height_71, &covar2d_34, mean2d_43);
    float det_orig_68 = *&(((&covar2d_34)->rows + (int(0)))->x) * *&(((&covar2d_34)->rows + (int(1)))->y) - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x);
    float _S7878 = *&(((&covar2d_34)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(0)))->x) = _S7878;
    float _S7879 = *&(((&covar2d_34)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(1)))->y) = _S7879;
    float compensation_35 = (F32_sqrt(((F32_max((0.0f), (det_orig_68 / (_S7878 * _S7879 - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x))))))));
    *opacity_38 = 1.0f / (1.0f + (F32_exp((- in_opacity_51))));
    if(antialiased_71)
    {
        *opacity_38 = *opacity_38 * compensation_35;
    }
    float extend_34 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_38 / 0.00392156885936856f)))))))));
    float radius_x_44 = extend_34 * (F32_sqrt((covar2d_34[int(0)].x)));
    float radius_y_44 = extend_34 * (F32_sqrt((covar2d_34[int(1)].y)));
    *aabb_xyxy_44 = make_int4 (int((F32_floor(((*mean2d_43).x - radius_x_44)))), int((F32_floor(((*mean2d_43).y - radius_y_44)))), int((F32_ceil(((*mean2d_43).x + radius_x_44)))), int((F32_ceil(((*mean2d_43).y + radius_y_44)))));
    float _S7880 = mean_c_63.z;
    *depth_35 = (F32_max((_S7880), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7880 + length_1(mean_c_63)))));
    *conic_34 = exp_0(- scale_56);
    float3  _S7881 = mean_56 - - mul_0(transpose_0(R_58), t_54);
    float3  _S7882 = _S7881 * make_float3 ((F32_rsqrt((dot_1(_S7881, _S7881)))));
    float _S7883 = dot_1((*sv_sites_34)[int(6)], _S7882);
    float w_110 = (F32_exp((dot_1((*sv_sites_34)[int(0)], _S7882) - _S7883)));
    float w_111 = (F32_exp((dot_1((*sv_sites_34)[int(1)], _S7882) - _S7883)));
    float w_112 = (F32_exp((dot_1((*sv_sites_34)[int(2)], _S7882) - _S7883)));
    float w_113 = (F32_exp((dot_1((*sv_sites_34)[int(3)], _S7882) - _S7883)));
    float w_114 = (F32_exp((dot_1((*sv_sites_34)[int(4)], _S7882) - _S7883)));
    float w_115 = (F32_exp((dot_1((*sv_sites_34)[int(5)], _S7882) - _S7883)));
    float w_116 = (F32_exp((0.0f)));
    *rgb_36 = max_0((make_float3 (w_110) * (*sv_colors_34)[int(0)] + make_float3 (w_111) * (*sv_colors_34)[int(1)] + make_float3 (w_112) * (*sv_colors_34)[int(2)] + make_float3 (w_113) * (*sv_colors_34)[int(3)] + make_float3 (w_114) * (*sv_colors_34)[int(4)] + make_float3 (w_115) * (*sv_colors_34)[int(5)] + make_float3 (w_116) * (*sv_colors_34)[int(6)]) / make_float3 (w_110 + w_111 + w_112 + w_113 + w_114 + w_115 + w_116) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_72, float3  mean_57, float4  quat_58, float3  scale_57, float in_opacity_52, FixedArray<float3 , 7>  * sv_sites_35, FixedArray<float3 , 7>  * sv_colors_35, Matrix<float, 3, 3>  R_59, float3  t_55, float fx_84, float fy_84, float cx_79, float cy_79, FixedArray<float, 10>  * dist_coeffs_87, uint image_width_72, uint image_height_72, float near_plane_55, float far_plane_55, int4  * aabb_xyxy_45, float2  * mean2d_44, float * depth_36, float3  * conic_35, float * opacity_39, float3  * rgb_37)
{
    float3  mean_c_64 = mul_0(R_59, mean_57) + t_55;
    float4  intrins_55 = make_float4 (fx_84, fy_84, cx_79, cy_79);
    float3  _S7884 = exp_0(scale_57);
    float x_74 = quat_58.y;
    float x2_68 = x_74 * x_74;
    float y2_68 = quat_58.z * quat_58.z;
    float z2_91 = quat_58.w * quat_58.w;
    float xy_68 = quat_58.y * quat_58.z;
    float xz_68 = quat_58.y * quat_58.w;
    float yz_68 = quat_58.z * quat_58.w;
    float wx_68 = quat_58.x * quat_58.y;
    float wy_68 = quat_58.x * quat_58.z;
    float wz_68 = quat_58.x * quat_58.w;
    Matrix<float, 3, 3>  _S7885 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_68 + z2_91), 2.0f * (xy_68 + wz_68), 2.0f * (xz_68 - wy_68), 2.0f * (xy_68 - wz_68), 1.0f - 2.0f * (x2_68 + z2_91), 2.0f * (yz_68 + wx_68), 2.0f * (xz_68 + wy_68), 2.0f * (yz_68 - wx_68), 1.0f - 2.0f * (x2_68 + y2_68))));
    SigmaPoints_0 ret_29;
    (&ret_29)->p_0[int(0)] = mean_57;
    (&ret_29)->w_mean_0[int(0)] = 0.0f;
    (&ret_29)->w_cov_0[int(0)] = 2.0f;
    float _S7886 = (F32_sqrt((3.0f)));
    float3  delta_165 = make_float3 (_S7886 * _S7884.x) * _S7885.rows[0U];
    float3  _S7887 = mean_57 + delta_165;
    float3  _S7888 = mean_57 - delta_165;
    float3  delta_166 = make_float3 (_S7886 * _S7884.y) * _S7885.rows[1U];
    float3  _S7889 = mean_57 + delta_166;
    float3  _S7890 = mean_57 - delta_166;
    float3  delta_167 = make_float3 (_S7886 * _S7884.z) * _S7885.rows[2U];
    float3  _S7891 = mean_57 + delta_167;
    float3  _S7892 = mean_57 - delta_167;
    (&ret_29)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_29)->p_0[0U] = mul_0(R_59, (&ret_29)->p_0[0U]) + t_55;
    (&ret_29)->p_0[1U] = mul_0(R_59, _S7887) + t_55;
    (&ret_29)->p_0[2U] = mul_0(R_59, _S7889) + t_55;
    (&ret_29)->p_0[3U] = mul_0(R_59, _S7891) + t_55;
    (&ret_29)->p_0[4U] = mul_0(R_59, _S7888) + t_55;
    (&ret_29)->p_0[5U] = mul_0(R_59, _S7890) + t_55;
    (&ret_29)->p_0[6U] = mul_0(R_59, _S7892) + t_55;
    SigmaPoints_0 _S7893 = ret_29;
    Matrix<float, 2, 2>  covar2d_35;
    bool _S7894 = fisheye_proj_3dgs_ut_1(&_S7893, intrins_55, dist_coeffs_87, &covar2d_35, mean2d_44);
    float det_orig_69 = *&(((&covar2d_35)->rows + (int(0)))->x) * *&(((&covar2d_35)->rows + (int(1)))->y) - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x);
    float _S7895 = *&(((&covar2d_35)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(0)))->x) = _S7895;
    float _S7896 = *&(((&covar2d_35)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(1)))->y) = _S7896;
    float compensation_36 = (F32_sqrt(((F32_max((0.0f), (det_orig_69 / (_S7895 * _S7896 - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x))))))));
    *opacity_39 = 1.0f / (1.0f + (F32_exp((- in_opacity_52))));
    if(antialiased_72)
    {
        *opacity_39 = *opacity_39 * compensation_36;
    }
    float extend_35 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_39 / 0.00392156885936856f)))))))));
    float radius_x_45 = extend_35 * (F32_sqrt((covar2d_35[int(0)].x)));
    float radius_y_45 = extend_35 * (F32_sqrt((covar2d_35[int(1)].y)));
    *aabb_xyxy_45 = make_int4 (int((F32_floor(((*mean2d_44).x - radius_x_45)))), int((F32_floor(((*mean2d_44).y - radius_y_45)))), int((F32_ceil(((*mean2d_44).x + radius_x_45)))), int((F32_ceil(((*mean2d_44).y + radius_y_45)))));
    float _S7897 = mean_c_64.z;
    *depth_36 = (F32_max((_S7897), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7897 + length_1(mean_c_64)))));
    *conic_35 = exp_0(- scale_57);
    float3  _S7898 = mean_57 - - mul_0(transpose_0(R_59), t_55);
    float3  _S7899 = _S7898 * make_float3 ((F32_rsqrt((dot_1(_S7898, _S7898)))));
    float _S7900 = dot_1((*sv_sites_35)[int(6)], _S7899);
    float w_117 = (F32_exp((dot_1((*sv_sites_35)[int(0)], _S7899) - _S7900)));
    float w_118 = (F32_exp((dot_1((*sv_sites_35)[int(1)], _S7899) - _S7900)));
    float w_119 = (F32_exp((dot_1((*sv_sites_35)[int(2)], _S7899) - _S7900)));
    float w_120 = (F32_exp((dot_1((*sv_sites_35)[int(3)], _S7899) - _S7900)));
    float w_121 = (F32_exp((dot_1((*sv_sites_35)[int(4)], _S7899) - _S7900)));
    float w_122 = (F32_exp((dot_1((*sv_sites_35)[int(5)], _S7899) - _S7900)));
    float w_123 = (F32_exp((0.0f)));
    *rgb_37 = max_0((make_float3 (w_117) * (*sv_colors_35)[int(0)] + make_float3 (w_118) * (*sv_colors_35)[int(1)] + make_float3 (w_119) * (*sv_colors_35)[int(2)] + make_float3 (w_120) * (*sv_colors_35)[int(3)] + make_float3 (w_121) * (*sv_colors_35)[int(4)] + make_float3 (w_122) * (*sv_colors_35)[int(5)] + make_float3 (w_123) * (*sv_colors_35)[int(6)]) / make_float3 (w_117 + w_118 + w_119 + w_120 + w_121 + w_122 + w_123) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0
{
    FixedArray<float3 , 7>  primal_0;
    FixedArray<float3 , 7>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S7901;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(bool antialiased_73, float3  dpmean_22, float4  dpquat_21, float3  dpscale_21, float dpin_opacity_20, FixedArray<float3 , 7>  * dpsv_sites_20, FixedArray<float3 , 7>  * dpsv_colors_20, Matrix<float, 3, 3>  dpR_22, float3  dpt_21, float fx_85, float fy_85, float cx_80, float cy_80, FixedArray<float, 10>  * dist_coeffs_88, uint image_width_73, uint image_height_73, float near_plane_56, float far_plane_56, int4  * aabb_xyxy_46, float2  * dpmean2d_24, float * dpdepth_21, float3  * dpconic_20, float * dpopacity_22, float3  * dprgb_21, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_34)
{
    Matrix<float, 2, 2>  _S7902 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_34->_S7901 = _S7902;
    float2  _S7903 = make_float2 (0.0f);
    float3  _S7904 = make_float3 (0.0f);
    float3  mean_c_65 = s_primal_ctx_mul_0(dpR_22, dpmean_22) + dpt_21;
    float4  intrins_56 = make_float4 (fx_85, fy_85, cx_80, cy_80);
    float3  _S7905 = s_primal_ctx_exp_0(dpscale_21);
    float _S7906 = dpquat_21.y;
    float x2_69 = _S7906 * _S7906;
    float y2_69 = dpquat_21.z * dpquat_21.z;
    float z2_92 = dpquat_21.w * dpquat_21.w;
    float xy_69 = dpquat_21.y * dpquat_21.z;
    float xz_69 = dpquat_21.y * dpquat_21.w;
    float yz_69 = dpquat_21.z * dpquat_21.w;
    float wx_69 = dpquat_21.x * dpquat_21.y;
    float wy_69 = dpquat_21.x * dpquat_21.z;
    float wz_69 = dpquat_21.x * dpquat_21.w;
    Matrix<float, 3, 3>  _S7907 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_69 + z2_92), 2.0f * (xy_69 + wz_69), 2.0f * (xz_69 - wy_69), 2.0f * (xy_69 - wz_69), 1.0f - 2.0f * (x2_69 + z2_92), 2.0f * (yz_69 + wx_69), 2.0f * (xz_69 + wy_69), 2.0f * (yz_69 - wx_69), 1.0f - 2.0f * (x2_69 + y2_69))));
    FixedArray<float3 , 7>  _S7908 = {
        _S7904, _S7904, _S7904, _S7904, _S7904, _S7904, _S7904
    };
    FixedArray<float, 7>  _S7909 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7910;
    (&_S7910)->p_0 = _S7908;
    (&_S7910)->w_mean_0 = _S7909;
    (&_S7910)->w_cov_0 = _S7909;
    (&_S7910)->p_0[int(0)] = dpmean_22;
    SigmaPoints_0 _S7911 = _S7910;
    (&_S7911)->w_mean_0[int(0)] = 0.0f;
    (&_S7911)->w_cov_0[int(0)] = 2.0f;
    float _S7912 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_168 = make_float3 (_S7912 * _S7905.x) * _S7907.rows[0U];
    float3  _S7913 = dpmean_22 + delta_168;
    float3  _S7914 = dpmean_22 - delta_168;
    float3  delta_169 = make_float3 (_S7912 * _S7905.y) * _S7907.rows[1U];
    float3  _S7915 = dpmean_22 + delta_169;
    float3  _S7916 = dpmean_22 - delta_169;
    float3  delta_170 = make_float3 (_S7912 * _S7905.z) * _S7907.rows[2U];
    float3  _S7917 = dpmean_22 + delta_170;
    float3  _S7918 = dpmean_22 - delta_170;
    (&_S7911)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7911)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7911)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7911)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7911)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7911)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7911)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7911)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7911)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7911)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7911)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7911)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7911)->p_0[0U] = s_primal_ctx_mul_0(dpR_22, _S7910.p_0[0U]) + dpt_21;
    (&_S7911)->p_0[1U] = s_primal_ctx_mul_0(dpR_22, _S7913) + dpt_21;
    (&_S7911)->p_0[2U] = s_primal_ctx_mul_0(dpR_22, _S7915) + dpt_21;
    (&_S7911)->p_0[3U] = s_primal_ctx_mul_0(dpR_22, _S7917) + dpt_21;
    (&_S7911)->p_0[4U] = s_primal_ctx_mul_0(dpR_22, _S7914) + dpt_21;
    (&_S7911)->p_0[5U] = s_primal_ctx_mul_0(dpR_22, _S7916) + dpt_21;
    (&_S7911)->p_0[6U] = s_primal_ctx_mul_0(dpR_22, _S7918) + dpt_21;
    float2  _S7919 = _S7903;
    Matrix<float, 2, 2>  _S7920 = _S7902;
    SigmaPoints_0 _S7921 = _S7911;
    bool _S7922 = persp_proj_3dgs_ut_1(&_S7921, intrins_56, dist_coeffs_88, image_width_73, image_height_73, &_S7920, &_S7919);
    _s_diff_ctx_34->_S7901 = _S7920;
    float2  _S7923 = _S7919;
    float _S7924 = _S7920.rows[int(0)].y * _S7920.rows[int(1)].x;
    float det_orig_70 = _S7920.rows[int(0)].x * _S7920.rows[int(1)].y - _S7924;
    float _S7925 = _S7920.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7926 = _S7920;
    *&(((&_S7926)->rows + (int(0)))->x) = _S7925;
    float _S7927 = _S7920.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7926)->rows + (int(1)))->y) = _S7927;
    Matrix<float, 2, 2>  _S7928 = _S7926;
    Matrix<float, 2, 2>  _S7929 = _S7926;
    float _S7930 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_70 / (_S7925 * _S7927 - _S7924)));
    float _S7931 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_20));
    float _S7932;
    if(antialiased_73)
    {
        _S7932 = _S7931 * _S7930;
    }
    else
    {
        _S7932 = _S7931;
    }
    float _S7933 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7932 / 0.00392156885936856f)));
    float radius_x_46 = _S7933 * s_primal_ctx_sqrt_0(_S7928.rows[int(0)].x);
    float radius_y_46 = _S7933 * s_primal_ctx_sqrt_0(_S7929.rows[int(1)].y);
    float _S7934 = _S7923.x;
    float _S7935 = _S7923.y;
    float _S7936 = mean_c_65.z;
    float _S7937 = s_primal_ctx_max_0(_S7936, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S7936 + length_1(mean_c_65)));
    float3  _S7938 = s_primal_ctx_exp_0(- dpscale_21);
    float3  _S7939 = dpmean_22 - - s_primal_ctx_mul_0(transpose_0(dpR_22), dpt_21);
    float3  _S7940 = _S7939 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7939, _S7939)));
    float _S7941 = s_primal_ctx_dot_0((*dpsv_sites_20)[int(6)], _S7940);
    float _S7942 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(0)], _S7940) - _S7941);
    float _S7943 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(1)], _S7940) - _S7941);
    float _S7944 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(2)], _S7940) - _S7941);
    float _S7945 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(3)], _S7940) - _S7941);
    float _S7946 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(4)], _S7940) - _S7941);
    float _S7947 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(5)], _S7940) - _S7941);
    float _S7948 = s_primal_ctx_exp_1(0.0f);
    float3  _S7949 = s_primal_ctx_max_1((make_float3 (_S7942) * (*dpsv_colors_20)[int(0)] + make_float3 (_S7943) * (*dpsv_colors_20)[int(1)] + make_float3 (_S7944) * (*dpsv_colors_20)[int(2)] + make_float3 (_S7945) * (*dpsv_colors_20)[int(3)] + make_float3 (_S7946) * (*dpsv_colors_20)[int(4)] + make_float3 (_S7947) * (*dpsv_colors_20)[int(5)] + make_float3 (_S7948) * (*dpsv_colors_20)[int(6)]) / make_float3 (_S7942 + _S7943 + _S7944 + _S7945 + _S7946 + _S7947 + _S7948) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_46 = make_int4 (int((F32_floor((_S7934 - radius_x_46)))), int((F32_floor((_S7935 - radius_y_46)))), int((F32_ceil((_S7934 + radius_x_46)))), int((F32_ceil((_S7935 + radius_y_46)))));
    *dpmean2d_24 = _S7923;
    *dpdepth_21 = _S7937;
    *dpconic_20 = _S7938;
    *dpopacity_22 = _S7932;
    *dprgb_21 = _S7949;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(bool antialiased_74, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_23, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_22, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_22, DiffPair_float_0 * dpin_opacity_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_21, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_23, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_22, float fx_86, float fy_86, float cx_81, float cy_81, FixedArray<float, 10>  * dist_coeffs_89, uint image_width_74, uint image_height_74, float near_plane_57, float far_plane_57, float2  dpmean2d_25, float dpdepth_22, float3  dpconic_21, float dpopacity_23, float3  dprgb_22, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_35)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7950 = *dpmean_23;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7951 = *dpquat_22;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7952 = *dpscale_22;
    FixedArray<float3 , 7>  _S7953 = dpsv_sites_21->primal_0;
    FixedArray<float3 , 7>  _S7954 = dpsv_colors_21->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7955 = *dpR_23;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7956 = *dpt_22;
    float3  _S7957 = make_float3 (0.0f);
    float3  mean_c_66 = s_primal_ctx_mul_0((*dpR_23).primal_0, (*dpmean_23).primal_0) + (*dpt_22).primal_0;
    float3  _S7958 = s_primal_ctx_exp_0((*dpscale_22).primal_0);
    float _S7959 = (*dpquat_22).primal_0.y;
    float x2_70 = _S7959 * _S7959;
    float y2_70 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.z;
    float z2_93 = (*dpquat_22).primal_0.w * (*dpquat_22).primal_0.w;
    float xy_70 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.z;
    float xz_70 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.w;
    float yz_70 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.w;
    float wx_70 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.y;
    float wy_70 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.z;
    float wz_70 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.w;
    Matrix<float, 3, 3>  _S7960 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_70 + z2_93), 2.0f * (xy_70 + wz_70), 2.0f * (xz_70 - wy_70), 2.0f * (xy_70 - wz_70), 1.0f - 2.0f * (x2_70 + z2_93), 2.0f * (yz_70 + wx_70), 2.0f * (xz_70 + wy_70), 2.0f * (yz_70 - wx_70), 1.0f - 2.0f * (x2_70 + y2_70))));
    FixedArray<float3 , 7>  _S7961 = {
        _S7957, _S7957, _S7957, _S7957, _S7957, _S7957, _S7957
    };
    FixedArray<float, 7>  _S7962 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7963;
    (&_S7963)->p_0 = _S7961;
    (&_S7963)->w_mean_0 = _S7962;
    (&_S7963)->w_cov_0 = _S7962;
    (&_S7963)->p_0[int(0)] = (*dpmean_23).primal_0;
    float _S7964 = s_primal_ctx_sqrt_0(3.0f);
    float _S7965 = _S7964 * _S7958.x;
    float3  _S7966 = make_float3 (_S7965);
    float3  delta_171 = make_float3 (_S7965) * _S7960.rows[0U];
    float3  _S7967 = (*dpmean_23).primal_0 + delta_171;
    float3  _S7968 = (*dpmean_23).primal_0 - delta_171;
    float _S7969 = _S7964 * _S7958.y;
    float3  _S7970 = make_float3 (_S7969);
    float3  delta_172 = make_float3 (_S7969) * _S7960.rows[1U];
    float3  _S7971 = (*dpmean_23).primal_0 + delta_172;
    float3  _S7972 = (*dpmean_23).primal_0 - delta_172;
    float _S7973 = _S7964 * _S7958.z;
    float3  _S7974 = make_float3 (_S7973);
    float3  delta_173 = make_float3 (_S7973) * _S7960.rows[2U];
    float3  _S7975 = (*dpmean_23).primal_0 + delta_173;
    float3  _S7976 = (*dpmean_23).primal_0 - delta_173;
    SigmaPoints_0 _S7977 = _S7963;
    float _S7978 = *&(((&_s_diff_ctx_35->_S7901)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_35->_S7901)->rows + (int(1)))->x);
    float det_orig_71 = *&(((&_s_diff_ctx_35->_S7901)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_35->_S7901)->rows + (int(1)))->y) - _S7978;
    float _S7979 = *&(((&_s_diff_ctx_35->_S7901)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7980 = _s_diff_ctx_35->_S7901;
    *&(((&_S7980)->rows + (int(0)))->x) = _S7979;
    float _S7981 = *&(((&_s_diff_ctx_35->_S7901)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7980)->rows + (int(1)))->y) = _S7981;
    Matrix<float, 2, 2>  _S7982 = _S7980;
    Matrix<float, 2, 2>  _S7983 = _S7980;
    float det_blur_43 = _S7979 * _S7981 - _S7978;
    float _S7984 = det_orig_71 / det_blur_43;
    float _S7985 = det_blur_43 * det_blur_43;
    float _S7986 = s_primal_ctx_max_0(0.0f, _S7984);
    float _S7987 = s_primal_ctx_sqrt_0(_S7986);
    float _S7988 = - (*dpin_opacity_21).primal_0;
    float _S7989 = 1.0f + s_primal_ctx_exp_1(_S7988);
    float _S7990 = 1.0f / _S7989;
    float _S7991 = _S7989 * _S7989;
    float _S7992;
    if(antialiased_74)
    {
        _S7992 = _S7990 * _S7987;
    }
    else
    {
        _S7992 = _S7990;
    }
    float _S7993 = _S7992 / 0.00392156885936856f;
    float _S7994 = 2.0f * s_primal_ctx_log_0(_S7993);
    float _S7995 = s_primal_ctx_sqrt_0(_S7994);
    float _S7996 = _S7982.rows[int(0)].x;
    float _S7997 = _S7983.rows[int(1)].y;
    float _S7998 = mean_c_66.z;
    float _S7999 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8000 = _S7999 * (_S7998 + length_1(mean_c_66));
    float3  _S8001 = - _S7952.primal_0;
    Matrix<float, 3, 3>  _S8002 = transpose_0(_S7955.primal_0);
    float3  _S8003 = _S7950.primal_0 - - s_primal_ctx_mul_0(_S8002, _S7956.primal_0);
    float _S8004 = s_primal_ctx_dot_0(_S8003, _S8003);
    float _S8005 = s_primal_ctx_rsqrt_0(_S8004);
    float3  _S8006 = make_float3 (_S8005);
    float3  _S8007 = _S8003 * make_float3 (_S8005);
    float _S8008 = s_primal_ctx_dot_0(_S7953[int(6)], _S8007);
    float _S8009 = s_primal_ctx_dot_0(_S7953[int(0)], _S8007) - _S8008;
    float _S8010 = s_primal_ctx_exp_1(_S8009);
    float3  _S8011 = make_float3 (_S8010);
    float _S8012 = s_primal_ctx_dot_0(_S7953[int(1)], _S8007) - _S8008;
    float _S8013 = s_primal_ctx_exp_1(_S8012);
    float3  _S8014 = make_float3 (_S8013);
    float _S8015 = s_primal_ctx_dot_0(_S7953[int(2)], _S8007) - _S8008;
    float _S8016 = s_primal_ctx_exp_1(_S8015);
    float3  _S8017 = make_float3 (_S8016);
    float _S8018 = s_primal_ctx_dot_0(_S7953[int(3)], _S8007) - _S8008;
    float _S8019 = s_primal_ctx_exp_1(_S8018);
    float3  _S8020 = make_float3 (_S8019);
    float _S8021 = s_primal_ctx_dot_0(_S7953[int(4)], _S8007) - _S8008;
    float _S8022 = s_primal_ctx_exp_1(_S8021);
    float3  _S8023 = make_float3 (_S8022);
    float _S8024 = s_primal_ctx_dot_0(_S7953[int(5)], _S8007) - _S8008;
    float _S8025 = s_primal_ctx_exp_1(_S8024);
    float3  _S8026 = make_float3 (_S8025);
    float _S8027 = s_primal_ctx_exp_1(0.0f);
    float3  _S8028 = make_float3 (_S8027);
    float total_w_10 = _S8010 + _S8013 + _S8016 + _S8019 + _S8022 + _S8025 + _S8027;
    float3  _S8029 = make_float3 (total_w_10);
    float3  total_c_10 = make_float3 (_S8010) * _S7954[int(0)] + make_float3 (_S8013) * _S7954[int(1)] + make_float3 (_S8016) * _S7954[int(2)] + make_float3 (_S8019) * _S7954[int(3)] + make_float3 (_S8022) * _S7954[int(4)] + make_float3 (_S8025) * _S7954[int(5)] + make_float3 (_S8027) * _S7954[int(6)];
    float3  _S8030 = make_float3 (total_w_10 * total_w_10);
    float3  _S8031 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8032;
    (&_S8032)->primal_0 = total_c_10 / make_float3 (total_w_10) + make_float3 (0.5f);
    (&_S8032)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8033;
    (&_S8033)->primal_0 = _S8031;
    (&_S8033)->differential_0 = _S7957;
    s_bwd_prop_max_0(&_S8032, &_S8033, dprgb_22);
    float3  _S8034 = _S8032.differential_0 / _S8030;
    float3  _S8035 = total_c_10 * - _S8034;
    float3  s_diff_total_c_T_10 = _S8029 * _S8034;
    float3  _S8036 = _S8028 * s_diff_total_c_T_10;
    float _S8037 = _S8035.x + _S8035.y + _S8035.z;
    float3  _S8038 = _S8026 * s_diff_total_c_T_10;
    float3  _S8039 = _S7954[int(5)] * s_diff_total_c_T_10;
    float _S8040 = _S8037 + _S8039.x + _S8039.y + _S8039.z;
    DiffPair_float_0 _S8041;
    (&_S8041)->primal_0 = _S8024;
    (&_S8041)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8041, _S8040);
    float _S8042 = - _S8041.differential_0;
    float3  _S8043 = _S8023 * s_diff_total_c_T_10;
    float3  _S8044 = _S7954[int(4)] * s_diff_total_c_T_10;
    float _S8045 = _S8037 + _S8044.x + _S8044.y + _S8044.z;
    DiffPair_float_0 _S8046;
    (&_S8046)->primal_0 = _S8021;
    (&_S8046)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8046, _S8045);
    float _S8047 = - _S8046.differential_0;
    float3  _S8048 = _S8020 * s_diff_total_c_T_10;
    float3  _S8049 = _S7954[int(3)] * s_diff_total_c_T_10;
    float _S8050 = _S8037 + _S8049.x + _S8049.y + _S8049.z;
    DiffPair_float_0 _S8051;
    (&_S8051)->primal_0 = _S8018;
    (&_S8051)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8051, _S8050);
    float _S8052 = - _S8051.differential_0;
    float3  _S8053 = _S8017 * s_diff_total_c_T_10;
    float3  _S8054 = _S7954[int(2)] * s_diff_total_c_T_10;
    float _S8055 = _S8037 + _S8054.x + _S8054.y + _S8054.z;
    DiffPair_float_0 _S8056;
    (&_S8056)->primal_0 = _S8015;
    (&_S8056)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8056, _S8055);
    float _S8057 = - _S8056.differential_0;
    float3  _S8058 = _S8014 * s_diff_total_c_T_10;
    float3  _S8059 = _S7954[int(1)] * s_diff_total_c_T_10;
    float _S8060 = _S8037 + _S8059.x + _S8059.y + _S8059.z;
    DiffPair_float_0 _S8061;
    (&_S8061)->primal_0 = _S8012;
    (&_S8061)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8061, _S8060);
    float _S8062 = - _S8061.differential_0;
    float3  _S8063 = _S8011 * s_diff_total_c_T_10;
    float3  _S8064 = _S7954[int(0)] * s_diff_total_c_T_10;
    float _S8065 = _S8037 + _S8064.x + _S8064.y + _S8064.z;
    DiffPair_float_0 _S8066;
    (&_S8066)->primal_0 = _S8009;
    (&_S8066)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8066, _S8065);
    float _S8067 = _S8042 + _S8047 + _S8052 + _S8057 + _S8062 + - _S8066.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8068;
    (&_S8068)->primal_0 = _S7953[int(6)];
    (&_S8068)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8069;
    (&_S8069)->primal_0 = _S8007;
    (&_S8069)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8068, &_S8069, _S8067);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8070;
    (&_S8070)->primal_0 = _S7953[int(5)];
    (&_S8070)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8071;
    (&_S8071)->primal_0 = _S8007;
    (&_S8071)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8070, &_S8071, _S8041.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8072;
    (&_S8072)->primal_0 = _S7953[int(4)];
    (&_S8072)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8073;
    (&_S8073)->primal_0 = _S8007;
    (&_S8073)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8072, &_S8073, _S8046.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8074;
    (&_S8074)->primal_0 = _S7953[int(3)];
    (&_S8074)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8075;
    (&_S8075)->primal_0 = _S8007;
    (&_S8075)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8074, &_S8075, _S8051.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8076;
    (&_S8076)->primal_0 = _S7953[int(2)];
    (&_S8076)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8077;
    (&_S8077)->primal_0 = _S8007;
    (&_S8077)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8076, &_S8077, _S8056.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8078;
    (&_S8078)->primal_0 = _S7953[int(1)];
    (&_S8078)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8079;
    (&_S8079)->primal_0 = _S8007;
    (&_S8079)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8078, &_S8079, _S8061.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8080;
    (&_S8080)->primal_0 = _S7953[int(0)];
    (&_S8080)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8081;
    (&_S8081)->primal_0 = _S8007;
    (&_S8081)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8080, &_S8081, _S8066.differential_0);
    float3  _S8082 = _S8069.differential_0 + _S8071.differential_0 + _S8073.differential_0 + _S8075.differential_0 + _S8077.differential_0 + _S8079.differential_0 + _S8081.differential_0;
    float3  _S8083 = _S8003 * _S8082;
    float3  _S8084 = _S8006 * _S8082;
    float _S8085 = _S8083.x + _S8083.y + _S8083.z;
    DiffPair_float_0 _S8086;
    (&_S8086)->primal_0 = _S8004;
    (&_S8086)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S8086, _S8085);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8087;
    (&_S8087)->primal_0 = _S8003;
    (&_S8087)->differential_0 = _S7957;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8088;
    (&_S8088)->primal_0 = _S8003;
    (&_S8088)->differential_0 = _S7957;
    s_bwd_prop_dot_0(&_S8087, &_S8088, _S8086.differential_0);
    float3  _S8089 = _S8084 + _S8088.differential_0 + _S8087.differential_0;
    float3  _S8090 = - - _S8089;
    Matrix<float, 3, 3>  _S8091 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8092;
    (&_S8092)->primal_0 = _S8002;
    (&_S8092)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8093;
    (&_S8093)->primal_0 = _S7956.primal_0;
    (&_S8093)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8092, &_S8093, _S8090);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8094 = _S8093;
    Matrix<float, 3, 3>  _S8095 = transpose_0(_S8092.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8096;
    (&_S8096)->primal_0 = _S8001;
    (&_S8096)->differential_0 = _S7957;
    s_bwd_prop_exp_1(&_S8096, dpconic_21);
    float3  _S8097 = - _S8096.differential_0;
    DiffPair_float_0 _S8098;
    (&_S8098)->primal_0 = _S7998;
    (&_S8098)->differential_0 = 0.0f;
    DiffPair_float_0 _S8099;
    (&_S8099)->primal_0 = _S8000;
    (&_S8099)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8098, &_S8099, dpdepth_22);
    float _S8100 = _S7999 * _S8099.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8101;
    (&_S8101)->primal_0 = mean_c_66;
    (&_S8101)->differential_0 = _S7957;
    s_bwd_length_impl_1(&_S8101, _S8100);
    float _S8102 = _S8098.differential_0 + _S8100;
    DiffPair_float_0 _S8103;
    (&_S8103)->primal_0 = _S7997;
    (&_S8103)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8103, 0.0f);
    DiffPair_float_0 _S8104;
    (&_S8104)->primal_0 = _S7996;
    (&_S8104)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8104, 0.0f);
    DiffPair_float_0 _S8105;
    (&_S8105)->primal_0 = 3.32999992370605469f;
    (&_S8105)->differential_0 = 0.0f;
    DiffPair_float_0 _S8106;
    (&_S8106)->primal_0 = _S7995;
    (&_S8106)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8105, &_S8106, 0.0f);
    DiffPair_float_0 _S8107;
    (&_S8107)->primal_0 = _S7994;
    (&_S8107)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8107, _S8106.differential_0);
    float _S8108 = 2.0f * _S8107.differential_0;
    DiffPair_float_0 _S8109;
    (&_S8109)->primal_0 = _S7993;
    (&_S8109)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S8109, _S8108);
    float _S8110 = dpopacity_23 + 254.9999847412109375f * _S8109.differential_0;
    FixedArray<float3 , 7>  _S8111;
    _S8111[int(0)] = _S7957;
    _S8111[int(1)] = _S7957;
    _S8111[int(2)] = _S7957;
    _S8111[int(3)] = _S7957;
    _S8111[int(4)] = _S7957;
    _S8111[int(5)] = _S7957;
    _S8111[int(6)] = _S7957;
    _S8111[int(6)] = _S8036;
    _S8111[int(5)] = _S8038;
    _S8111[int(4)] = _S8043;
    _S8111[int(3)] = _S8048;
    _S8111[int(2)] = _S8053;
    _S8111[int(1)] = _S8058;
    _S8111[int(0)] = _S8063;
    FixedArray<float3 , 7>  _S8112 = {
        _S8111[int(0)], _S8111[int(1)], _S8111[int(2)], _S8111[int(3)], _S8111[int(4)], _S8111[int(5)], _S8111[int(6)]
    };
    FixedArray<float3 , 7>  _S8113;
    _S8113[int(0)] = _S7957;
    _S8113[int(1)] = _S7957;
    _S8113[int(2)] = _S7957;
    _S8113[int(3)] = _S7957;
    _S8113[int(4)] = _S7957;
    _S8113[int(5)] = _S7957;
    _S8113[int(6)] = _S7957;
    _S8113[int(6)] = _S8068.differential_0;
    _S8113[int(5)] = _S8070.differential_0;
    _S8113[int(4)] = _S8072.differential_0;
    _S8113[int(3)] = _S8074.differential_0;
    _S8113[int(2)] = _S8076.differential_0;
    _S8113[int(1)] = _S8078.differential_0;
    _S8113[int(0)] = _S8080.differential_0;
    FixedArray<float3 , 7>  _S8114 = {
        _S8113[int(0)], _S8113[int(1)], _S8113[int(2)], _S8113[int(3)], _S8113[int(4)], _S8113[int(5)], _S8113[int(6)]
    };
    float3  _S8115 = _S8101.differential_0 + make_float3 (0.0f, 0.0f, _S8102);
    float2  _S8116 = make_float2 (0.0f, _S8103.differential_0);
    float2  _S8117 = make_float2 (_S8104.differential_0, 0.0f);
    float _S8118;
    if(antialiased_74)
    {
        float _S8119 = _S7990 * _S8110;
        _S7992 = _S7987 * _S8110;
        _S8118 = _S8119;
    }
    else
    {
        _S7992 = _S8110;
        _S8118 = 0.0f;
    }
    float _S8120 = - (_S7992 / _S7991);
    DiffPair_float_0 _S8121;
    (&_S8121)->primal_0 = _S7988;
    (&_S8121)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8121, _S8120);
    float _S8122 = - _S8121.differential_0;
    DiffPair_float_0 _S8123;
    (&_S8123)->primal_0 = _S7986;
    (&_S8123)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8123, _S8118);
    DiffPair_float_0 _S8124;
    (&_S8124)->primal_0 = 0.0f;
    (&_S8124)->differential_0 = 0.0f;
    DiffPair_float_0 _S8125;
    (&_S8125)->primal_0 = _S7984;
    (&_S8125)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8124, &_S8125, _S8123.differential_0);
    float _S8126 = _S8125.differential_0 / _S7985;
    float s_diff_det_blur_T_14 = det_orig_71 * - _S8126;
    float s_diff_det_orig_T_17 = det_blur_43 * _S8126;
    float _S8127 = - s_diff_det_blur_T_14;
    float _S8128 = _S7979 * s_diff_det_blur_T_14;
    float _S8129 = _S7981 * s_diff_det_blur_T_14;
    Matrix<float, 2, 2>  _S8130 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S8131 = _S8130;
    _S8131[int(1)] = _S8116;
    _S8131[int(0)] = _S8117;
    float _S8132 = _S8129 + _S8131.rows[int(0)].x;
    float _S8133 = _S8127 + - s_diff_det_orig_T_17;
    float _S8134 = *&(((&_s_diff_ctx_35->_S7901)->rows + (int(0)))->y) * _S8133;
    float _S8135 = *&(((&_s_diff_ctx_35->_S7901)->rows + (int(1)))->x) * _S8133;
    float _S8136 = *&(((&_s_diff_ctx_35->_S7901)->rows + (int(1)))->y) * s_diff_det_orig_T_17;
    float _S8137 = _S8128 + _S8131.rows[int(1)].y + *&(((&_s_diff_ctx_35->_S7901)->rows + (int(0)))->x) * s_diff_det_orig_T_17;
    float2  _S8138 = make_float2 (0.0f);
    float2  _S8139 = _S8138;
    *&((&_S8139)->x) = _S8134;
    *&((&_S8139)->y) = _S8137;
    float _S8140 = _S8132 + _S8136;
    float2  _S8141 = _S8138;
    *&((&_S8141)->y) = _S8135;
    *&((&_S8141)->x) = _S8140;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8142;
    (&_S8142)->primal_0 = _S7955.primal_0;
    (&_S8142)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8143;
    (&_S8143)->primal_0 = _S7976;
    (&_S8143)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8142, &_S8143, _S7957);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8144;
    (&_S8144)->primal_0 = _S7955.primal_0;
    (&_S8144)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8145;
    (&_S8145)->primal_0 = _S7972;
    (&_S8145)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8144, &_S8145, _S7957);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8146;
    (&_S8146)->primal_0 = _S7955.primal_0;
    (&_S8146)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8147;
    (&_S8147)->primal_0 = _S7968;
    (&_S8147)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8146, &_S8147, _S7957);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8148;
    (&_S8148)->primal_0 = _S7955.primal_0;
    (&_S8148)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8149;
    (&_S8149)->primal_0 = _S7975;
    (&_S8149)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8148, &_S8149, _S7957);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8150;
    (&_S8150)->primal_0 = _S7955.primal_0;
    (&_S8150)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8151;
    (&_S8151)->primal_0 = _S7971;
    (&_S8151)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8150, &_S8151, _S7957);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8152;
    (&_S8152)->primal_0 = _S7955.primal_0;
    (&_S8152)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8153;
    (&_S8153)->primal_0 = _S7967;
    (&_S8153)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8152, &_S8153, _S7957);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8154;
    (&_S8154)->primal_0 = _S7955.primal_0;
    (&_S8154)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8155;
    (&_S8155)->primal_0 = _S7977.p_0[0U];
    (&_S8155)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8154, &_S8155, _S7957);
    float3  _S8156 = - _S8143.differential_0 + _S8149.differential_0;
    float3  _S8157 = _S7974 * _S8156;
    float3  _S8158 = _S7960.rows[2U] * _S8156;
    float _S8159 = _S7964 * (_S8158.x + _S8158.y + _S8158.z);
    float3  _S8160 = - _S8145.differential_0 + _S8151.differential_0;
    float3  _S8161 = _S7970 * _S8160;
    float3  _S8162 = _S7960.rows[1U] * _S8160;
    float _S8163 = _S7964 * (_S8162.x + _S8162.y + _S8162.z);
    float3  _S8164 = - _S8147.differential_0 + _S8153.differential_0;
    float3  _S8165 = _S7966 * _S8164;
    float3  _S8166 = _S7960.rows[0U] * _S8164;
    float _S8167 = _S7964 * (_S8166.x + _S8166.y + _S8166.z);
    Matrix<float, 3, 3>  _S8168 = _S8091;
    _S8168[2U] = _S8157;
    _S8168[1U] = _S8161;
    _S8168[0U] = _S8165;
    Matrix<float, 3, 3>  _S8169 = transpose_0(transpose_0(_S8168));
    float _S8170 = 2.0f * - _S8169.rows[int(2)].z;
    float _S8171 = 2.0f * _S8169.rows[int(2)].y;
    float _S8172 = 2.0f * _S8169.rows[int(2)].x;
    float _S8173 = 2.0f * _S8169.rows[int(1)].z;
    float _S8174 = 2.0f * - _S8169.rows[int(1)].y;
    float _S8175 = 2.0f * _S8169.rows[int(1)].x;
    float _S8176 = 2.0f * _S8169.rows[int(0)].z;
    float _S8177 = 2.0f * _S8169.rows[int(0)].y;
    float _S8178 = 2.0f * - _S8169.rows[int(0)].x;
    float _S8179 = - _S8175 + _S8177;
    float _S8180 = _S8172 + - _S8176;
    float _S8181 = - _S8171 + _S8173;
    float _S8182 = _S8171 + _S8173;
    float _S8183 = _S8172 + _S8176;
    float _S8184 = _S8175 + _S8177;
    float _S8185 = _S7951.primal_0.w * (_S8174 + _S8178);
    float _S8186 = _S7951.primal_0.z * (_S8170 + _S8178);
    float _S8187 = _S7951.primal_0.y * (_S8170 + _S8174);
    float _S8188 = _S7951.primal_0.x * _S8179 + _S7951.primal_0.z * _S8182 + _S7951.primal_0.y * _S8183 + _S8185 + _S8185;
    float _S8189 = _S7951.primal_0.x * _S8180 + _S7951.primal_0.w * _S8182 + _S7951.primal_0.y * _S8184 + _S8186 + _S8186;
    float _S8190 = _S7951.primal_0.x * _S8181 + _S7951.primal_0.w * _S8183 + _S7951.primal_0.z * _S8184 + _S8187 + _S8187;
    float _S8191 = _S7951.primal_0.w * _S8179 + _S7951.primal_0.z * _S8180 + _S7951.primal_0.y * _S8181;
    float3  _S8192 = _S7957;
    *&((&_S8192)->z) = _S8159;
    *&((&_S8192)->y) = _S8163;
    *&((&_S8192)->x) = _S8167;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8193;
    (&_S8193)->primal_0 = _S7952.primal_0;
    (&_S8193)->differential_0 = _S7957;
    s_bwd_prop_exp_1(&_S8193, _S8192);
    Matrix<float, 2, 2>  _S8194 = _S8130;
    _S8194[int(1)] = _S8139;
    _S8194[int(0)] = _S8141;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8195;
    (&_S8195)->primal_0 = _S7955.primal_0;
    (&_S8195)->differential_0 = _S8091;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8196;
    (&_S8196)->primal_0 = _S7950.primal_0;
    (&_S8196)->differential_0 = _S7957;
    s_bwd_prop_mul_1(&_S8195, &_S8196, _S8115);
    float3  _S8197 = _S8115 + _S8094.differential_0;
    dpt_22->primal_0 = (*dpt_22).primal_0;
    dpt_22->differential_0 = _S8197;
    Matrix<float, 3, 3>  _S8198 = _S8142.differential_0 + _S8144.differential_0 + _S8146.differential_0 + _S8148.differential_0 + _S8150.differential_0 + _S8152.differential_0 + _S8154.differential_0 + _S8195.differential_0 + _S8095;
    dpR_23->primal_0 = (*dpR_23).primal_0;
    dpR_23->differential_0 = _S8198;
    dpsv_colors_21->primal_0 = dpsv_colors_21->primal_0;
    dpsv_colors_21->differential_0 = _S8112;
    dpsv_sites_21->primal_0 = dpsv_sites_21->primal_0;
    dpsv_sites_21->differential_0 = _S8114;
    dpin_opacity_21->primal_0 = (*dpin_opacity_21).primal_0;
    dpin_opacity_21->differential_0 = _S8122;
    float3  _S8199 = _S8193.differential_0 + _S8097;
    dpscale_22->primal_0 = (*dpscale_22).primal_0;
    dpscale_22->differential_0 = _S8199;
    float4  _S8200 = make_float4 (0.0f);
    *&((&_S8200)->w) = _S8188;
    *&((&_S8200)->z) = _S8189;
    *&((&_S8200)->y) = _S8190;
    *&((&_S8200)->x) = _S8191;
    dpquat_22->primal_0 = (*dpquat_22).primal_0;
    dpquat_22->differential_0 = _S8200;
    float3  _S8201 = _S8143.differential_0 + _S8149.differential_0 + _S8145.differential_0 + _S8151.differential_0 + _S8147.differential_0 + _S8153.differential_0 + _S8196.differential_0 + _S8089;
    dpmean_23->primal_0 = (*dpmean_23).primal_0;
    dpmean_23->differential_0 = _S8201;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_5(bool _S8202, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8203, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S8204, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8205, DiffPair_float_0 * _S8206, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S8207, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S8208, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S8209, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8210, float _S8211, float _S8212, float _S8213, float _S8214, FixedArray<float, 10>  * _S8215, uint _S8216, uint _S8217, float _S8218, float _S8219, float2  _S8220, float _S8221, float3  _S8222, float _S8223, float3  _S8224)
{
    FixedArray<float3 , 7>  _S8225 = _S8207->primal_0;
    FixedArray<float3 , 7>  _S8226 = _S8208->primal_0;
    int4  _S8227;
    float2  _S8228;
    float _S8229;
    float3  _S8230;
    float _S8231;
    float3  _S8232;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S8233;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(_S8202, (*_S8203).primal_0, (*_S8204).primal_0, (*_S8205).primal_0, (*_S8206).primal_0, &_S8225, &_S8226, (*_S8209).primal_0, (*_S8210).primal_0, _S8211, _S8212, _S8213, _S8214, _S8215, _S8216, _S8217, _S8218, _S8219, &_S8227, &_S8228, &_S8229, &_S8230, &_S8231, &_S8232, &_S8233);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S8234 = _S8233;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(_S8202, _S8203, _S8204, _S8205, _S8206, _S8207, _S8208, _S8209, _S8210, _S8211, _S8212, _S8213, _S8214, _S8215, _S8216, _S8217, _S8218, _S8219, _S8220, _S8221, _S8222, _S8223, _S8224, &_S8234);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_75, float3  mean_58, float4  quat_59, float3  scale_58, float in_opacity_53, FixedArray<float3 , 7>  * sv_sites_36, FixedArray<float3 , 7>  * sv_colors_36, Matrix<float, 3, 3>  R_60, float3  t_56, float fx_87, float fy_87, float cx_82, float cy_82, FixedArray<float, 10>  * dist_coeffs_90, uint image_width_75, uint image_height_75, float2  v_mean2d_17, float v_depth_18, float3  v_conic_17, float v_opacity_19, float3  v_rgb_18, float3  * v_mean_19, float4  * v_quat_18, float3  * v_scale_18, float * v_in_opacity_17, FixedArray<float3 , 7>  * v_sv_dirs_10, FixedArray<float3 , 7>  * v_sv_colors_10, Matrix<float, 3, 3>  * v_R_19, float3  * v_t_18)
{
    float3  _S8235 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_12;
    (&dp_mean_12)->primal_0 = mean_58;
    (&dp_mean_12)->differential_0 = _S8235;
    float4  _S8236 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_11;
    (&dp_quat_11)->primal_0 = quat_59;
    (&dp_quat_11)->differential_0 = _S8236;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_11;
    (&dp_scale_11)->primal_0 = scale_58;
    (&dp_scale_11)->differential_0 = _S8235;
    DiffPair_float_0 dp_in_opacity_10;
    (&dp_in_opacity_10)->primal_0 = in_opacity_53;
    (&dp_in_opacity_10)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S8237 = { _S8235, _S8235, _S8235, _S8235, _S8235, _S8235, _S8235 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_10;
    (&dp_sv_dirs_10)->primal_0 = *sv_sites_36;
    (&dp_sv_dirs_10)->differential_0 = _S8237;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_10;
    (&dp_sv_colors_10)->primal_0 = *sv_colors_36;
    (&dp_sv_colors_10)->differential_0 = _S8237;
    Matrix<float, 3, 3>  _S8238 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_12;
    (&dp_R_12)->primal_0 = R_60;
    (&dp_R_12)->differential_0 = _S8238;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_11;
    (&dp_t_11)->primal_0 = t_56;
    (&dp_t_11)->differential_0 = _S8235;
    s_bwd_projection_3dgut_sv_persp_differentiable_5(antialiased_75, &dp_mean_12, &dp_quat_11, &dp_scale_11, &dp_in_opacity_10, &dp_sv_dirs_10, &dp_sv_colors_10, &dp_R_12, &dp_t_11, fx_87, fy_87, cx_82, cy_82, dist_coeffs_90, image_width_75, image_height_75, 0.0f, 1.00000001504746622e+30f, v_mean2d_17, v_depth_18, v_conic_17, v_opacity_19, v_rgb_18);
    *v_mean_19 = dp_mean_12.differential_0;
    *v_quat_18 = dp_quat_11.differential_0;
    *v_scale_18 = dp_scale_11.differential_0;
    *v_in_opacity_17 = dp_in_opacity_10.differential_0;
    *v_sv_dirs_10 = (&dp_sv_dirs_10)->differential_0;
    *v_sv_colors_10 = (&dp_sv_colors_10)->differential_0;
    *v_R_19 = dp_R_12.differential_0;
    *v_t_18 = dp_t_11.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S8239;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_76, float3  dpmean_24, float4  dpquat_23, float3  dpscale_23, float dpin_opacity_22, FixedArray<float3 , 7>  * dpsv_sites_22, FixedArray<float3 , 7>  * dpsv_colors_22, Matrix<float, 3, 3>  dpR_24, float3  dpt_23, float fx_88, float fy_88, float cx_83, float cy_83, FixedArray<float, 10>  * dist_coeffs_91, uint image_width_76, uint image_height_76, float near_plane_58, float far_plane_58, int4  * aabb_xyxy_47, float2  * dpmean2d_26, float * dpdepth_23, float3  * dpconic_22, float * dpopacity_24, float3  * dprgb_23, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_36)
{
    Matrix<float, 2, 2>  _S8240 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_36->_S8239 = _S8240;
    float2  _S8241 = make_float2 (0.0f);
    float3  _S8242 = make_float3 (0.0f);
    float3  mean_c_67 = s_primal_ctx_mul_0(dpR_24, dpmean_24) + dpt_23;
    float _S8243 = length_1(mean_c_67);
    float4  intrins_57 = make_float4 (fx_88, fy_88, cx_83, cy_83);
    float3  _S8244 = s_primal_ctx_exp_0(dpscale_23);
    float _S8245 = dpquat_23.y;
    float x2_71 = _S8245 * _S8245;
    float y2_71 = dpquat_23.z * dpquat_23.z;
    float z2_94 = dpquat_23.w * dpquat_23.w;
    float xy_71 = dpquat_23.y * dpquat_23.z;
    float xz_71 = dpquat_23.y * dpquat_23.w;
    float yz_71 = dpquat_23.z * dpquat_23.w;
    float wx_71 = dpquat_23.x * dpquat_23.y;
    float wy_71 = dpquat_23.x * dpquat_23.z;
    float wz_71 = dpquat_23.x * dpquat_23.w;
    Matrix<float, 3, 3>  _S8246 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_71 + z2_94), 2.0f * (xy_71 + wz_71), 2.0f * (xz_71 - wy_71), 2.0f * (xy_71 - wz_71), 1.0f - 2.0f * (x2_71 + z2_94), 2.0f * (yz_71 + wx_71), 2.0f * (xz_71 + wy_71), 2.0f * (yz_71 - wx_71), 1.0f - 2.0f * (x2_71 + y2_71))));
    FixedArray<float3 , 7>  _S8247 = {
        _S8242, _S8242, _S8242, _S8242, _S8242, _S8242, _S8242
    };
    FixedArray<float, 7>  _S8248 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S8249;
    (&_S8249)->p_0 = _S8247;
    (&_S8249)->w_mean_0 = _S8248;
    (&_S8249)->w_cov_0 = _S8248;
    (&_S8249)->p_0[int(0)] = dpmean_24;
    SigmaPoints_0 _S8250 = _S8249;
    (&_S8250)->w_mean_0[int(0)] = 0.0f;
    (&_S8250)->w_cov_0[int(0)] = 2.0f;
    float _S8251 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_174 = make_float3 (_S8251 * _S8244.x) * _S8246.rows[0U];
    float3  _S8252 = dpmean_24 + delta_174;
    float3  _S8253 = dpmean_24 - delta_174;
    float3  delta_175 = make_float3 (_S8251 * _S8244.y) * _S8246.rows[1U];
    float3  _S8254 = dpmean_24 + delta_175;
    float3  _S8255 = dpmean_24 - delta_175;
    float3  delta_176 = make_float3 (_S8251 * _S8244.z) * _S8246.rows[2U];
    float3  _S8256 = dpmean_24 + delta_176;
    float3  _S8257 = dpmean_24 - delta_176;
    (&_S8250)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S8250)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S8250)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S8250)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S8250)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S8250)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S8250)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S8250)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S8250)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S8250)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S8250)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S8250)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S8250)->p_0[0U] = s_primal_ctx_mul_0(dpR_24, _S8249.p_0[0U]) + dpt_23;
    (&_S8250)->p_0[1U] = s_primal_ctx_mul_0(dpR_24, _S8252) + dpt_23;
    (&_S8250)->p_0[2U] = s_primal_ctx_mul_0(dpR_24, _S8254) + dpt_23;
    (&_S8250)->p_0[3U] = s_primal_ctx_mul_0(dpR_24, _S8256) + dpt_23;
    (&_S8250)->p_0[4U] = s_primal_ctx_mul_0(dpR_24, _S8253) + dpt_23;
    (&_S8250)->p_0[5U] = s_primal_ctx_mul_0(dpR_24, _S8255) + dpt_23;
    (&_S8250)->p_0[6U] = s_primal_ctx_mul_0(dpR_24, _S8257) + dpt_23;
    float2  _S8258 = _S8241;
    Matrix<float, 2, 2>  _S8259 = _S8240;
    SigmaPoints_0 _S8260 = _S8250;
    bool _S8261 = fisheye_proj_3dgs_ut_1(&_S8260, intrins_57, dist_coeffs_91, &_S8259, &_S8258);
    _s_diff_ctx_36->_S8239 = _S8259;
    float2  _S8262 = _S8258;
    float _S8263 = _S8259.rows[int(0)].y * _S8259.rows[int(1)].x;
    float det_orig_72 = _S8259.rows[int(0)].x * _S8259.rows[int(1)].y - _S8263;
    float _S8264 = _S8259.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S8265 = _S8259;
    *&(((&_S8265)->rows + (int(0)))->x) = _S8264;
    float _S8266 = _S8259.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S8265)->rows + (int(1)))->y) = _S8266;
    Matrix<float, 2, 2>  _S8267 = _S8265;
    Matrix<float, 2, 2>  _S8268 = _S8265;
    float _S8269 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_72 / (_S8264 * _S8266 - _S8263)));
    float _S8270 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_22));
    float _S8271;
    if(antialiased_76)
    {
        _S8271 = _S8270 * _S8269;
    }
    else
    {
        _S8271 = _S8270;
    }
    float _S8272 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S8271 / 0.00392156885936856f)));
    float radius_x_47 = _S8272 * s_primal_ctx_sqrt_0(_S8267.rows[int(0)].x);
    float radius_y_47 = _S8272 * s_primal_ctx_sqrt_0(_S8268.rows[int(1)].y);
    float _S8273 = _S8262.x;
    float _S8274 = _S8262.y;
    float _S8275 = mean_c_67.z;
    float _S8276 = s_primal_ctx_max_0(_S8275, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S8275 + _S8243));
    float3  _S8277 = s_primal_ctx_exp_0(- dpscale_23);
    float3  _S8278 = dpmean_24 - - s_primal_ctx_mul_0(transpose_0(dpR_24), dpt_23);
    float3  _S8279 = _S8278 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S8278, _S8278)));
    float _S8280 = s_primal_ctx_dot_0((*dpsv_sites_22)[int(6)], _S8279);
    float _S8281 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(0)], _S8279) - _S8280);
    float _S8282 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(1)], _S8279) - _S8280);
    float _S8283 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(2)], _S8279) - _S8280);
    float _S8284 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(3)], _S8279) - _S8280);
    float _S8285 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(4)], _S8279) - _S8280);
    float _S8286 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(5)], _S8279) - _S8280);
    float _S8287 = s_primal_ctx_exp_1(0.0f);
    float3  _S8288 = s_primal_ctx_max_1((make_float3 (_S8281) * (*dpsv_colors_22)[int(0)] + make_float3 (_S8282) * (*dpsv_colors_22)[int(1)] + make_float3 (_S8283) * (*dpsv_colors_22)[int(2)] + make_float3 (_S8284) * (*dpsv_colors_22)[int(3)] + make_float3 (_S8285) * (*dpsv_colors_22)[int(4)] + make_float3 (_S8286) * (*dpsv_colors_22)[int(5)] + make_float3 (_S8287) * (*dpsv_colors_22)[int(6)]) / make_float3 (_S8281 + _S8282 + _S8283 + _S8284 + _S8285 + _S8286 + _S8287) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_47 = make_int4 (int((F32_floor((_S8273 - radius_x_47)))), int((F32_floor((_S8274 - radius_y_47)))), int((F32_ceil((_S8273 + radius_x_47)))), int((F32_ceil((_S8274 + radius_y_47)))));
    *dpmean2d_26 = _S8262;
    *dpdepth_23 = _S8276;
    *dpconic_22 = _S8277;
    *dpopacity_24 = _S8271;
    *dprgb_23 = _S8288;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_77, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_25, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_24, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_24, DiffPair_float_0 * dpin_opacity_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_23, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_25, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_24, float fx_89, float fy_89, float cx_84, float cy_84, FixedArray<float, 10>  * dist_coeffs_92, uint image_width_77, uint image_height_77, float near_plane_59, float far_plane_59, float2  dpmean2d_27, float dpdepth_24, float3  dpconic_23, float dpopacity_25, float3  dprgb_24, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_37)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8289 = *dpmean_25;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S8290 = *dpquat_24;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8291 = *dpscale_24;
    FixedArray<float3 , 7>  _S8292 = dpsv_sites_23->primal_0;
    FixedArray<float3 , 7>  _S8293 = dpsv_colors_23->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8294 = *dpR_25;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8295 = *dpt_24;
    float3  _S8296 = make_float3 (0.0f);
    float3  mean_c_68 = s_primal_ctx_mul_0((*dpR_25).primal_0, (*dpmean_25).primal_0) + (*dpt_24).primal_0;
    float _S8297 = length_1(mean_c_68);
    float3  _S8298 = s_primal_ctx_exp_0((*dpscale_24).primal_0);
    float _S8299 = (*dpquat_24).primal_0.y;
    float x2_72 = _S8299 * _S8299;
    float y2_72 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.z;
    float z2_95 = (*dpquat_24).primal_0.w * (*dpquat_24).primal_0.w;
    float xy_72 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.z;
    float xz_72 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.w;
    float yz_72 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.w;
    float wx_72 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.y;
    float wy_72 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.z;
    float wz_72 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.w;
    Matrix<float, 3, 3>  _S8300 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_72 + z2_95), 2.0f * (xy_72 + wz_72), 2.0f * (xz_72 - wy_72), 2.0f * (xy_72 - wz_72), 1.0f - 2.0f * (x2_72 + z2_95), 2.0f * (yz_72 + wx_72), 2.0f * (xz_72 + wy_72), 2.0f * (yz_72 - wx_72), 1.0f - 2.0f * (x2_72 + y2_72))));
    FixedArray<float3 , 7>  _S8301 = {
        _S8296, _S8296, _S8296, _S8296, _S8296, _S8296, _S8296
    };
    FixedArray<float, 7>  _S8302 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S8303;
    (&_S8303)->p_0 = _S8301;
    (&_S8303)->w_mean_0 = _S8302;
    (&_S8303)->w_cov_0 = _S8302;
    (&_S8303)->p_0[int(0)] = (*dpmean_25).primal_0;
    float _S8304 = s_primal_ctx_sqrt_0(3.0f);
    float _S8305 = _S8304 * _S8298.x;
    float3  _S8306 = make_float3 (_S8305);
    float3  delta_177 = make_float3 (_S8305) * _S8300.rows[0U];
    float3  _S8307 = (*dpmean_25).primal_0 + delta_177;
    float3  _S8308 = (*dpmean_25).primal_0 - delta_177;
    float _S8309 = _S8304 * _S8298.y;
    float3  _S8310 = make_float3 (_S8309);
    float3  delta_178 = make_float3 (_S8309) * _S8300.rows[1U];
    float3  _S8311 = (*dpmean_25).primal_0 + delta_178;
    float3  _S8312 = (*dpmean_25).primal_0 - delta_178;
    float _S8313 = _S8304 * _S8298.z;
    float3  _S8314 = make_float3 (_S8313);
    float3  delta_179 = make_float3 (_S8313) * _S8300.rows[2U];
    float3  _S8315 = (*dpmean_25).primal_0 + delta_179;
    float3  _S8316 = (*dpmean_25).primal_0 - delta_179;
    SigmaPoints_0 _S8317 = _S8303;
    float _S8318 = *&(((&_s_diff_ctx_37->_S8239)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_37->_S8239)->rows + (int(1)))->x);
    float det_orig_73 = *&(((&_s_diff_ctx_37->_S8239)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_37->_S8239)->rows + (int(1)))->y) - _S8318;
    float _S8319 = *&(((&_s_diff_ctx_37->_S8239)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S8320 = _s_diff_ctx_37->_S8239;
    *&(((&_S8320)->rows + (int(0)))->x) = _S8319;
    float _S8321 = *&(((&_s_diff_ctx_37->_S8239)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S8320)->rows + (int(1)))->y) = _S8321;
    Matrix<float, 2, 2>  _S8322 = _S8320;
    Matrix<float, 2, 2>  _S8323 = _S8320;
    float det_blur_44 = _S8319 * _S8321 - _S8318;
    float _S8324 = det_orig_73 / det_blur_44;
    float _S8325 = det_blur_44 * det_blur_44;
    float _S8326 = s_primal_ctx_max_0(0.0f, _S8324);
    float _S8327 = s_primal_ctx_sqrt_0(_S8326);
    float _S8328 = - (*dpin_opacity_23).primal_0;
    float _S8329 = 1.0f + s_primal_ctx_exp_1(_S8328);
    float _S8330 = 1.0f / _S8329;
    float _S8331 = _S8329 * _S8329;
    float _S8332;
    if(antialiased_77)
    {
        _S8332 = _S8330 * _S8327;
    }
    else
    {
        _S8332 = _S8330;
    }
    float _S8333 = _S8332 / 0.00392156885936856f;
    float _S8334 = 2.0f * s_primal_ctx_log_0(_S8333);
    float _S8335 = s_primal_ctx_sqrt_0(_S8334);
    float _S8336 = _S8322.rows[int(0)].x;
    float _S8337 = _S8323.rows[int(1)].y;
    float _S8338 = mean_c_68.z;
    float _S8339 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8340 = _S8339 * (_S8338 + _S8297);
    float3  _S8341 = - _S8291.primal_0;
    Matrix<float, 3, 3>  _S8342 = transpose_0(_S8294.primal_0);
    float3  _S8343 = _S8289.primal_0 - - s_primal_ctx_mul_0(_S8342, _S8295.primal_0);
    float _S8344 = s_primal_ctx_dot_0(_S8343, _S8343);
    float _S8345 = s_primal_ctx_rsqrt_0(_S8344);
    float3  _S8346 = make_float3 (_S8345);
    float3  _S8347 = _S8343 * make_float3 (_S8345);
    float _S8348 = s_primal_ctx_dot_0(_S8292[int(6)], _S8347);
    float _S8349 = s_primal_ctx_dot_0(_S8292[int(0)], _S8347) - _S8348;
    float _S8350 = s_primal_ctx_exp_1(_S8349);
    float3  _S8351 = make_float3 (_S8350);
    float _S8352 = s_primal_ctx_dot_0(_S8292[int(1)], _S8347) - _S8348;
    float _S8353 = s_primal_ctx_exp_1(_S8352);
    float3  _S8354 = make_float3 (_S8353);
    float _S8355 = s_primal_ctx_dot_0(_S8292[int(2)], _S8347) - _S8348;
    float _S8356 = s_primal_ctx_exp_1(_S8355);
    float3  _S8357 = make_float3 (_S8356);
    float _S8358 = s_primal_ctx_dot_0(_S8292[int(3)], _S8347) - _S8348;
    float _S8359 = s_primal_ctx_exp_1(_S8358);
    float3  _S8360 = make_float3 (_S8359);
    float _S8361 = s_primal_ctx_dot_0(_S8292[int(4)], _S8347) - _S8348;
    float _S8362 = s_primal_ctx_exp_1(_S8361);
    float3  _S8363 = make_float3 (_S8362);
    float _S8364 = s_primal_ctx_dot_0(_S8292[int(5)], _S8347) - _S8348;
    float _S8365 = s_primal_ctx_exp_1(_S8364);
    float3  _S8366 = make_float3 (_S8365);
    float _S8367 = s_primal_ctx_exp_1(0.0f);
    float3  _S8368 = make_float3 (_S8367);
    float total_w_11 = _S8350 + _S8353 + _S8356 + _S8359 + _S8362 + _S8365 + _S8367;
    float3  _S8369 = make_float3 (total_w_11);
    float3  total_c_11 = make_float3 (_S8350) * _S8293[int(0)] + make_float3 (_S8353) * _S8293[int(1)] + make_float3 (_S8356) * _S8293[int(2)] + make_float3 (_S8359) * _S8293[int(3)] + make_float3 (_S8362) * _S8293[int(4)] + make_float3 (_S8365) * _S8293[int(5)] + make_float3 (_S8367) * _S8293[int(6)];
    float3  _S8370 = make_float3 (total_w_11 * total_w_11);
    float3  _S8371 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8372;
    (&_S8372)->primal_0 = total_c_11 / make_float3 (total_w_11) + make_float3 (0.5f);
    (&_S8372)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8373;
    (&_S8373)->primal_0 = _S8371;
    (&_S8373)->differential_0 = _S8296;
    s_bwd_prop_max_0(&_S8372, &_S8373, dprgb_24);
    float3  _S8374 = _S8372.differential_0 / _S8370;
    float3  _S8375 = total_c_11 * - _S8374;
    float3  s_diff_total_c_T_11 = _S8369 * _S8374;
    float3  _S8376 = _S8368 * s_diff_total_c_T_11;
    float _S8377 = _S8375.x + _S8375.y + _S8375.z;
    float3  _S8378 = _S8366 * s_diff_total_c_T_11;
    float3  _S8379 = _S8293[int(5)] * s_diff_total_c_T_11;
    float _S8380 = _S8377 + _S8379.x + _S8379.y + _S8379.z;
    DiffPair_float_0 _S8381;
    (&_S8381)->primal_0 = _S8364;
    (&_S8381)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8381, _S8380);
    float _S8382 = - _S8381.differential_0;
    float3  _S8383 = _S8363 * s_diff_total_c_T_11;
    float3  _S8384 = _S8293[int(4)] * s_diff_total_c_T_11;
    float _S8385 = _S8377 + _S8384.x + _S8384.y + _S8384.z;
    DiffPair_float_0 _S8386;
    (&_S8386)->primal_0 = _S8361;
    (&_S8386)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8386, _S8385);
    float _S8387 = - _S8386.differential_0;
    float3  _S8388 = _S8360 * s_diff_total_c_T_11;
    float3  _S8389 = _S8293[int(3)] * s_diff_total_c_T_11;
    float _S8390 = _S8377 + _S8389.x + _S8389.y + _S8389.z;
    DiffPair_float_0 _S8391;
    (&_S8391)->primal_0 = _S8358;
    (&_S8391)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8391, _S8390);
    float _S8392 = - _S8391.differential_0;
    float3  _S8393 = _S8357 * s_diff_total_c_T_11;
    float3  _S8394 = _S8293[int(2)] * s_diff_total_c_T_11;
    float _S8395 = _S8377 + _S8394.x + _S8394.y + _S8394.z;
    DiffPair_float_0 _S8396;
    (&_S8396)->primal_0 = _S8355;
    (&_S8396)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8396, _S8395);
    float _S8397 = - _S8396.differential_0;
    float3  _S8398 = _S8354 * s_diff_total_c_T_11;
    float3  _S8399 = _S8293[int(1)] * s_diff_total_c_T_11;
    float _S8400 = _S8377 + _S8399.x + _S8399.y + _S8399.z;
    DiffPair_float_0 _S8401;
    (&_S8401)->primal_0 = _S8352;
    (&_S8401)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8401, _S8400);
    float _S8402 = - _S8401.differential_0;
    float3  _S8403 = _S8351 * s_diff_total_c_T_11;
    float3  _S8404 = _S8293[int(0)] * s_diff_total_c_T_11;
    float _S8405 = _S8377 + _S8404.x + _S8404.y + _S8404.z;
    DiffPair_float_0 _S8406;
    (&_S8406)->primal_0 = _S8349;
    (&_S8406)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8406, _S8405);
    float _S8407 = _S8382 + _S8387 + _S8392 + _S8397 + _S8402 + - _S8406.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8408;
    (&_S8408)->primal_0 = _S8292[int(6)];
    (&_S8408)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8409;
    (&_S8409)->primal_0 = _S8347;
    (&_S8409)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8408, &_S8409, _S8407);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8410;
    (&_S8410)->primal_0 = _S8292[int(5)];
    (&_S8410)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8411;
    (&_S8411)->primal_0 = _S8347;
    (&_S8411)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8410, &_S8411, _S8381.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8412;
    (&_S8412)->primal_0 = _S8292[int(4)];
    (&_S8412)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8413;
    (&_S8413)->primal_0 = _S8347;
    (&_S8413)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8412, &_S8413, _S8386.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8414;
    (&_S8414)->primal_0 = _S8292[int(3)];
    (&_S8414)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8415;
    (&_S8415)->primal_0 = _S8347;
    (&_S8415)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8414, &_S8415, _S8391.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8416;
    (&_S8416)->primal_0 = _S8292[int(2)];
    (&_S8416)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8417;
    (&_S8417)->primal_0 = _S8347;
    (&_S8417)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8416, &_S8417, _S8396.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8418;
    (&_S8418)->primal_0 = _S8292[int(1)];
    (&_S8418)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8419;
    (&_S8419)->primal_0 = _S8347;
    (&_S8419)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8418, &_S8419, _S8401.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8420;
    (&_S8420)->primal_0 = _S8292[int(0)];
    (&_S8420)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8421;
    (&_S8421)->primal_0 = _S8347;
    (&_S8421)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8420, &_S8421, _S8406.differential_0);
    float3  _S8422 = _S8409.differential_0 + _S8411.differential_0 + _S8413.differential_0 + _S8415.differential_0 + _S8417.differential_0 + _S8419.differential_0 + _S8421.differential_0;
    float3  _S8423 = _S8343 * _S8422;
    float3  _S8424 = _S8346 * _S8422;
    float _S8425 = _S8423.x + _S8423.y + _S8423.z;
    DiffPair_float_0 _S8426;
    (&_S8426)->primal_0 = _S8344;
    (&_S8426)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S8426, _S8425);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8427;
    (&_S8427)->primal_0 = _S8343;
    (&_S8427)->differential_0 = _S8296;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8428;
    (&_S8428)->primal_0 = _S8343;
    (&_S8428)->differential_0 = _S8296;
    s_bwd_prop_dot_0(&_S8427, &_S8428, _S8426.differential_0);
    float3  _S8429 = _S8424 + _S8428.differential_0 + _S8427.differential_0;
    float3  _S8430 = - - _S8429;
    Matrix<float, 3, 3>  _S8431 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8432;
    (&_S8432)->primal_0 = _S8342;
    (&_S8432)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8433;
    (&_S8433)->primal_0 = _S8295.primal_0;
    (&_S8433)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8432, &_S8433, _S8430);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8434 = _S8433;
    Matrix<float, 3, 3>  _S8435 = transpose_0(_S8432.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8436;
    (&_S8436)->primal_0 = _S8341;
    (&_S8436)->differential_0 = _S8296;
    s_bwd_prop_exp_1(&_S8436, dpconic_23);
    float3  _S8437 = - _S8436.differential_0;
    DiffPair_float_0 _S8438;
    (&_S8438)->primal_0 = _S8338;
    (&_S8438)->differential_0 = 0.0f;
    DiffPair_float_0 _S8439;
    (&_S8439)->primal_0 = _S8340;
    (&_S8439)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8438, &_S8439, dpdepth_24);
    float _S8440 = _S8339 * _S8439.differential_0;
    float _S8441 = _S8438.differential_0 + _S8440;
    DiffPair_float_0 _S8442;
    (&_S8442)->primal_0 = _S8337;
    (&_S8442)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8442, 0.0f);
    DiffPair_float_0 _S8443;
    (&_S8443)->primal_0 = _S8336;
    (&_S8443)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8443, 0.0f);
    DiffPair_float_0 _S8444;
    (&_S8444)->primal_0 = 3.32999992370605469f;
    (&_S8444)->differential_0 = 0.0f;
    DiffPair_float_0 _S8445;
    (&_S8445)->primal_0 = _S8335;
    (&_S8445)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8444, &_S8445, 0.0f);
    DiffPair_float_0 _S8446;
    (&_S8446)->primal_0 = _S8334;
    (&_S8446)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8446, _S8445.differential_0);
    float _S8447 = 2.0f * _S8446.differential_0;
    DiffPair_float_0 _S8448;
    (&_S8448)->primal_0 = _S8333;
    (&_S8448)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S8448, _S8447);
    float _S8449 = dpopacity_25 + 254.9999847412109375f * _S8448.differential_0;
    FixedArray<float3 , 7>  _S8450;
    _S8450[int(0)] = _S8296;
    _S8450[int(1)] = _S8296;
    _S8450[int(2)] = _S8296;
    _S8450[int(3)] = _S8296;
    _S8450[int(4)] = _S8296;
    _S8450[int(5)] = _S8296;
    _S8450[int(6)] = _S8296;
    _S8450[int(6)] = _S8376;
    _S8450[int(5)] = _S8378;
    _S8450[int(4)] = _S8383;
    _S8450[int(3)] = _S8388;
    _S8450[int(2)] = _S8393;
    _S8450[int(1)] = _S8398;
    _S8450[int(0)] = _S8403;
    FixedArray<float3 , 7>  _S8451 = {
        _S8450[int(0)], _S8450[int(1)], _S8450[int(2)], _S8450[int(3)], _S8450[int(4)], _S8450[int(5)], _S8450[int(6)]
    };
    FixedArray<float3 , 7>  _S8452;
    _S8452[int(0)] = _S8296;
    _S8452[int(1)] = _S8296;
    _S8452[int(2)] = _S8296;
    _S8452[int(3)] = _S8296;
    _S8452[int(4)] = _S8296;
    _S8452[int(5)] = _S8296;
    _S8452[int(6)] = _S8296;
    _S8452[int(6)] = _S8408.differential_0;
    _S8452[int(5)] = _S8410.differential_0;
    _S8452[int(4)] = _S8412.differential_0;
    _S8452[int(3)] = _S8414.differential_0;
    _S8452[int(2)] = _S8416.differential_0;
    _S8452[int(1)] = _S8418.differential_0;
    _S8452[int(0)] = _S8420.differential_0;
    FixedArray<float3 , 7>  _S8453 = {
        _S8452[int(0)], _S8452[int(1)], _S8452[int(2)], _S8452[int(3)], _S8452[int(4)], _S8452[int(5)], _S8452[int(6)]
    };
    float3  _S8454 = make_float3 (0.0f, 0.0f, _S8441);
    float2  _S8455 = make_float2 (0.0f, _S8442.differential_0);
    float2  _S8456 = make_float2 (_S8443.differential_0, 0.0f);
    float _S8457;
    if(antialiased_77)
    {
        float _S8458 = _S8330 * _S8449;
        _S8332 = _S8327 * _S8449;
        _S8457 = _S8458;
    }
    else
    {
        _S8332 = _S8449;
        _S8457 = 0.0f;
    }
    float _S8459 = - (_S8332 / _S8331);
    DiffPair_float_0 _S8460;
    (&_S8460)->primal_0 = _S8328;
    (&_S8460)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8460, _S8459);
    float _S8461 = - _S8460.differential_0;
    DiffPair_float_0 _S8462;
    (&_S8462)->primal_0 = _S8326;
    (&_S8462)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8462, _S8457);
    DiffPair_float_0 _S8463;
    (&_S8463)->primal_0 = 0.0f;
    (&_S8463)->differential_0 = 0.0f;
    DiffPair_float_0 _S8464;
    (&_S8464)->primal_0 = _S8324;
    (&_S8464)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8463, &_S8464, _S8462.differential_0);
    float _S8465 = _S8464.differential_0 / _S8325;
    float s_diff_det_blur_T_15 = det_orig_73 * - _S8465;
    float s_diff_det_orig_T_18 = det_blur_44 * _S8465;
    float _S8466 = - s_diff_det_blur_T_15;
    float _S8467 = _S8319 * s_diff_det_blur_T_15;
    float _S8468 = _S8321 * s_diff_det_blur_T_15;
    Matrix<float, 2, 2>  _S8469 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S8470 = _S8469;
    _S8470[int(1)] = _S8455;
    _S8470[int(0)] = _S8456;
    float _S8471 = _S8468 + _S8470.rows[int(0)].x;
    float _S8472 = _S8466 + - s_diff_det_orig_T_18;
    float _S8473 = *&(((&_s_diff_ctx_37->_S8239)->rows + (int(0)))->y) * _S8472;
    float _S8474 = *&(((&_s_diff_ctx_37->_S8239)->rows + (int(1)))->x) * _S8472;
    float _S8475 = *&(((&_s_diff_ctx_37->_S8239)->rows + (int(1)))->y) * s_diff_det_orig_T_18;
    float _S8476 = _S8467 + _S8470.rows[int(1)].y + *&(((&_s_diff_ctx_37->_S8239)->rows + (int(0)))->x) * s_diff_det_orig_T_18;
    float2  _S8477 = make_float2 (0.0f);
    float2  _S8478 = _S8477;
    *&((&_S8478)->x) = _S8473;
    *&((&_S8478)->y) = _S8476;
    float _S8479 = _S8471 + _S8475;
    float2  _S8480 = _S8477;
    *&((&_S8480)->y) = _S8474;
    *&((&_S8480)->x) = _S8479;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8481;
    (&_S8481)->primal_0 = _S8294.primal_0;
    (&_S8481)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8482;
    (&_S8482)->primal_0 = _S8316;
    (&_S8482)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8481, &_S8482, _S8296);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8483;
    (&_S8483)->primal_0 = _S8294.primal_0;
    (&_S8483)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8484;
    (&_S8484)->primal_0 = _S8312;
    (&_S8484)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8483, &_S8484, _S8296);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8485;
    (&_S8485)->primal_0 = _S8294.primal_0;
    (&_S8485)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8486;
    (&_S8486)->primal_0 = _S8308;
    (&_S8486)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8485, &_S8486, _S8296);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8487;
    (&_S8487)->primal_0 = _S8294.primal_0;
    (&_S8487)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8488;
    (&_S8488)->primal_0 = _S8315;
    (&_S8488)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8487, &_S8488, _S8296);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8489;
    (&_S8489)->primal_0 = _S8294.primal_0;
    (&_S8489)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8490;
    (&_S8490)->primal_0 = _S8311;
    (&_S8490)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8489, &_S8490, _S8296);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8491;
    (&_S8491)->primal_0 = _S8294.primal_0;
    (&_S8491)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8492;
    (&_S8492)->primal_0 = _S8307;
    (&_S8492)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8491, &_S8492, _S8296);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8493;
    (&_S8493)->primal_0 = _S8294.primal_0;
    (&_S8493)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8494;
    (&_S8494)->primal_0 = _S8317.p_0[0U];
    (&_S8494)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8493, &_S8494, _S8296);
    float3  _S8495 = - _S8482.differential_0 + _S8488.differential_0;
    float3  _S8496 = _S8314 * _S8495;
    float3  _S8497 = _S8300.rows[2U] * _S8495;
    float _S8498 = _S8304 * (_S8497.x + _S8497.y + _S8497.z);
    float3  _S8499 = - _S8484.differential_0 + _S8490.differential_0;
    float3  _S8500 = _S8310 * _S8499;
    float3  _S8501 = _S8300.rows[1U] * _S8499;
    float _S8502 = _S8304 * (_S8501.x + _S8501.y + _S8501.z);
    float3  _S8503 = - _S8486.differential_0 + _S8492.differential_0;
    float3  _S8504 = _S8306 * _S8503;
    float3  _S8505 = _S8300.rows[0U] * _S8503;
    float _S8506 = _S8304 * (_S8505.x + _S8505.y + _S8505.z);
    Matrix<float, 3, 3>  _S8507 = _S8431;
    _S8507[2U] = _S8496;
    _S8507[1U] = _S8500;
    _S8507[0U] = _S8504;
    Matrix<float, 3, 3>  _S8508 = transpose_0(transpose_0(_S8507));
    float _S8509 = 2.0f * - _S8508.rows[int(2)].z;
    float _S8510 = 2.0f * _S8508.rows[int(2)].y;
    float _S8511 = 2.0f * _S8508.rows[int(2)].x;
    float _S8512 = 2.0f * _S8508.rows[int(1)].z;
    float _S8513 = 2.0f * - _S8508.rows[int(1)].y;
    float _S8514 = 2.0f * _S8508.rows[int(1)].x;
    float _S8515 = 2.0f * _S8508.rows[int(0)].z;
    float _S8516 = 2.0f * _S8508.rows[int(0)].y;
    float _S8517 = 2.0f * - _S8508.rows[int(0)].x;
    float _S8518 = - _S8514 + _S8516;
    float _S8519 = _S8511 + - _S8515;
    float _S8520 = - _S8510 + _S8512;
    float _S8521 = _S8510 + _S8512;
    float _S8522 = _S8511 + _S8515;
    float _S8523 = _S8514 + _S8516;
    float _S8524 = _S8290.primal_0.w * (_S8513 + _S8517);
    float _S8525 = _S8290.primal_0.z * (_S8509 + _S8517);
    float _S8526 = _S8290.primal_0.y * (_S8509 + _S8513);
    float _S8527 = _S8290.primal_0.x * _S8518 + _S8290.primal_0.z * _S8521 + _S8290.primal_0.y * _S8522 + _S8524 + _S8524;
    float _S8528 = _S8290.primal_0.x * _S8519 + _S8290.primal_0.w * _S8521 + _S8290.primal_0.y * _S8523 + _S8525 + _S8525;
    float _S8529 = _S8290.primal_0.x * _S8520 + _S8290.primal_0.w * _S8522 + _S8290.primal_0.z * _S8523 + _S8526 + _S8526;
    float _S8530 = _S8290.primal_0.w * _S8518 + _S8290.primal_0.z * _S8519 + _S8290.primal_0.y * _S8520;
    float3  _S8531 = _S8296;
    *&((&_S8531)->z) = _S8498;
    *&((&_S8531)->y) = _S8502;
    *&((&_S8531)->x) = _S8506;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8532;
    (&_S8532)->primal_0 = _S8291.primal_0;
    (&_S8532)->differential_0 = _S8296;
    s_bwd_prop_exp_1(&_S8532, _S8531);
    Matrix<float, 2, 2>  _S8533 = _S8469;
    _S8533[int(1)] = _S8478;
    _S8533[int(0)] = _S8480;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8534;
    (&_S8534)->primal_0 = mean_c_68;
    (&_S8534)->differential_0 = _S8296;
    s_bwd_length_impl_1(&_S8534, _S8440);
    float3  _S8535 = _S8534.differential_0 + _S8454;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8536;
    (&_S8536)->primal_0 = _S8294.primal_0;
    (&_S8536)->differential_0 = _S8431;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8537;
    (&_S8537)->primal_0 = _S8289.primal_0;
    (&_S8537)->differential_0 = _S8296;
    s_bwd_prop_mul_1(&_S8536, &_S8537, _S8535);
    float3  _S8538 = _S8535 + _S8434.differential_0;
    dpt_24->primal_0 = (*dpt_24).primal_0;
    dpt_24->differential_0 = _S8538;
    Matrix<float, 3, 3>  _S8539 = _S8481.differential_0 + _S8483.differential_0 + _S8485.differential_0 + _S8487.differential_0 + _S8489.differential_0 + _S8491.differential_0 + _S8493.differential_0 + _S8536.differential_0 + _S8435;
    dpR_25->primal_0 = (*dpR_25).primal_0;
    dpR_25->differential_0 = _S8539;
    dpsv_colors_23->primal_0 = dpsv_colors_23->primal_0;
    dpsv_colors_23->differential_0 = _S8451;
    dpsv_sites_23->primal_0 = dpsv_sites_23->primal_0;
    dpsv_sites_23->differential_0 = _S8453;
    dpin_opacity_23->primal_0 = (*dpin_opacity_23).primal_0;
    dpin_opacity_23->differential_0 = _S8461;
    float3  _S8540 = _S8532.differential_0 + _S8437;
    dpscale_24->primal_0 = (*dpscale_24).primal_0;
    dpscale_24->differential_0 = _S8540;
    float4  _S8541 = make_float4 (0.0f);
    *&((&_S8541)->w) = _S8527;
    *&((&_S8541)->z) = _S8528;
    *&((&_S8541)->y) = _S8529;
    *&((&_S8541)->x) = _S8530;
    dpquat_24->primal_0 = (*dpquat_24).primal_0;
    dpquat_24->differential_0 = _S8541;
    float3  _S8542 = _S8482.differential_0 + _S8488.differential_0 + _S8484.differential_0 + _S8490.differential_0 + _S8486.differential_0 + _S8492.differential_0 + _S8537.differential_0 + _S8429;
    dpmean_25->primal_0 = (*dpmean_25).primal_0;
    dpmean_25->differential_0 = _S8542;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_5(bool _S8543, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8544, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S8545, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8546, DiffPair_float_0 * _S8547, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S8548, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S8549, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S8550, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8551, float _S8552, float _S8553, float _S8554, float _S8555, FixedArray<float, 10>  * _S8556, uint _S8557, uint _S8558, float _S8559, float _S8560, float2  _S8561, float _S8562, float3  _S8563, float _S8564, float3  _S8565)
{
    FixedArray<float3 , 7>  _S8566 = _S8548->primal_0;
    FixedArray<float3 , 7>  _S8567 = _S8549->primal_0;
    int4  _S8568;
    float2  _S8569;
    float _S8570;
    float3  _S8571;
    float _S8572;
    float3  _S8573;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S8574;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(_S8543, (*_S8544).primal_0, (*_S8545).primal_0, (*_S8546).primal_0, (*_S8547).primal_0, &_S8566, &_S8567, (*_S8550).primal_0, (*_S8551).primal_0, _S8552, _S8553, _S8554, _S8555, _S8556, _S8557, _S8558, _S8559, _S8560, &_S8568, &_S8569, &_S8570, &_S8571, &_S8572, &_S8573, &_S8574);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S8575 = _S8574;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(_S8543, _S8544, _S8545, _S8546, _S8547, _S8548, _S8549, _S8550, _S8551, _S8552, _S8553, _S8554, _S8555, _S8556, _S8557, _S8558, _S8559, _S8560, _S8561, _S8562, _S8563, _S8564, _S8565, &_S8575);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_78, float3  mean_59, float4  quat_60, float3  scale_59, float in_opacity_54, FixedArray<float3 , 7>  * sv_sites_37, FixedArray<float3 , 7>  * sv_colors_37, Matrix<float, 3, 3>  R_61, float3  t_57, float fx_90, float fy_90, float cx_85, float cy_85, FixedArray<float, 10>  * dist_coeffs_93, uint image_width_78, uint image_height_78, float2  v_mean2d_18, float v_depth_19, float3  v_conic_18, float v_opacity_20, float3  v_rgb_19, float3  * v_mean_20, float4  * v_quat_19, float3  * v_scale_19, float * v_in_opacity_18, FixedArray<float3 , 7>  * v_sv_dirs_11, FixedArray<float3 , 7>  * v_sv_colors_11, Matrix<float, 3, 3>  * v_R_20, float3  * v_t_19)
{
    float3  _S8576 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_13;
    (&dp_mean_13)->primal_0 = mean_59;
    (&dp_mean_13)->differential_0 = _S8576;
    float4  _S8577 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_12;
    (&dp_quat_12)->primal_0 = quat_60;
    (&dp_quat_12)->differential_0 = _S8577;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_12;
    (&dp_scale_12)->primal_0 = scale_59;
    (&dp_scale_12)->differential_0 = _S8576;
    DiffPair_float_0 dp_in_opacity_11;
    (&dp_in_opacity_11)->primal_0 = in_opacity_54;
    (&dp_in_opacity_11)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S8578 = { _S8576, _S8576, _S8576, _S8576, _S8576, _S8576, _S8576 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_11;
    (&dp_sv_dirs_11)->primal_0 = *sv_sites_37;
    (&dp_sv_dirs_11)->differential_0 = _S8578;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_11;
    (&dp_sv_colors_11)->primal_0 = *sv_colors_37;
    (&dp_sv_colors_11)->differential_0 = _S8578;
    Matrix<float, 3, 3>  _S8579 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_13;
    (&dp_R_13)->primal_0 = R_61;
    (&dp_R_13)->differential_0 = _S8579;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_12;
    (&dp_t_12)->primal_0 = t_57;
    (&dp_t_12)->differential_0 = _S8576;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_5(antialiased_78, &dp_mean_13, &dp_quat_12, &dp_scale_12, &dp_in_opacity_11, &dp_sv_dirs_11, &dp_sv_colors_11, &dp_R_13, &dp_t_12, fx_90, fy_90, cx_85, cy_85, dist_coeffs_93, image_width_78, image_height_78, 0.0f, 1.00000001504746622e+30f, v_mean2d_18, v_depth_19, v_conic_18, v_opacity_20, v_rgb_19);
    *v_mean_20 = dp_mean_13.differential_0;
    *v_quat_19 = dp_quat_12.differential_0;
    *v_scale_19 = dp_scale_12.differential_0;
    *v_in_opacity_18 = dp_in_opacity_11.differential_0;
    *v_sv_dirs_11 = (&dp_sv_dirs_11)->differential_0;
    *v_sv_colors_11 = (&dp_sv_colors_11)->differential_0;
    *v_R_20 = dp_R_13.differential_0;
    *v_t_19 = dp_t_12.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_79, float3  mean_60, float4  quat_61, float3  scale_60, float in_opacity_55, FixedArray<float3 , 8>  * sv_sites_38, FixedArray<float3 , 8>  * sv_colors_38, Matrix<float, 3, 3>  R_62, float3  t_58, float fx_91, float fy_91, float cx_86, float cy_86, FixedArray<float, 10>  * dist_coeffs_94, uint image_width_79, uint image_height_79, float near_plane_60, float far_plane_60, int4  * aabb_xyxy_48, float2  * mean2d_45, float * depth_37, float3  * conic_36, float * opacity_40, float3  * rgb_38)
{
    float3  mean_c_69 = mul_0(R_62, mean_60) + t_58;
    float4  intrins_58 = make_float4 (fx_91, fy_91, cx_86, cy_86);
    float3  _S8580 = exp_0(scale_60);
    float x_75 = quat_61.y;
    float x2_73 = x_75 * x_75;
    float y2_73 = quat_61.z * quat_61.z;
    float z2_96 = quat_61.w * quat_61.w;
    float xy_73 = quat_61.y * quat_61.z;
    float xz_73 = quat_61.y * quat_61.w;
    float yz_73 = quat_61.z * quat_61.w;
    float wx_73 = quat_61.x * quat_61.y;
    float wy_73 = quat_61.x * quat_61.z;
    float wz_73 = quat_61.x * quat_61.w;
    Matrix<float, 3, 3>  _S8581 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_73 + z2_96), 2.0f * (xy_73 + wz_73), 2.0f * (xz_73 - wy_73), 2.0f * (xy_73 - wz_73), 1.0f - 2.0f * (x2_73 + z2_96), 2.0f * (yz_73 + wx_73), 2.0f * (xz_73 + wy_73), 2.0f * (yz_73 - wx_73), 1.0f - 2.0f * (x2_73 + y2_73))));
    SigmaPoints_0 ret_30;
    (&ret_30)->p_0[int(0)] = mean_60;
    (&ret_30)->w_mean_0[int(0)] = 0.0f;
    (&ret_30)->w_cov_0[int(0)] = 2.0f;
    float _S8582 = (F32_sqrt((3.0f)));
    float3  delta_180 = make_float3 (_S8582 * _S8580.x) * _S8581.rows[0U];
    float3  _S8583 = mean_60 + delta_180;
    float3  _S8584 = mean_60 - delta_180;
    float3  delta_181 = make_float3 (_S8582 * _S8580.y) * _S8581.rows[1U];
    float3  _S8585 = mean_60 + delta_181;
    float3  _S8586 = mean_60 - delta_181;
    float3  delta_182 = make_float3 (_S8582 * _S8580.z) * _S8581.rows[2U];
    float3  _S8587 = mean_60 + delta_182;
    float3  _S8588 = mean_60 - delta_182;
    (&ret_30)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_30)->p_0[0U] = mul_0(R_62, (&ret_30)->p_0[0U]) + t_58;
    (&ret_30)->p_0[1U] = mul_0(R_62, _S8583) + t_58;
    (&ret_30)->p_0[2U] = mul_0(R_62, _S8585) + t_58;
    (&ret_30)->p_0[3U] = mul_0(R_62, _S8587) + t_58;
    (&ret_30)->p_0[4U] = mul_0(R_62, _S8584) + t_58;
    (&ret_30)->p_0[5U] = mul_0(R_62, _S8586) + t_58;
    (&ret_30)->p_0[6U] = mul_0(R_62, _S8588) + t_58;
    SigmaPoints_0 _S8589 = ret_30;
    Matrix<float, 2, 2>  covar2d_36;
    bool _S8590 = persp_proj_3dgs_ut_1(&_S8589, intrins_58, dist_coeffs_94, image_width_79, image_height_79, &covar2d_36, mean2d_45);
    float det_orig_74 = *&(((&covar2d_36)->rows + (int(0)))->x) * *&(((&covar2d_36)->rows + (int(1)))->y) - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x);
    float _S8591 = *&(((&covar2d_36)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(0)))->x) = _S8591;
    float _S8592 = *&(((&covar2d_36)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(1)))->y) = _S8592;
    float compensation_37 = (F32_sqrt(((F32_max((0.0f), (det_orig_74 / (_S8591 * _S8592 - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x))))))));
    *opacity_40 = 1.0f / (1.0f + (F32_exp((- in_opacity_55))));
    if(antialiased_79)
    {
        *opacity_40 = *opacity_40 * compensation_37;
    }
    float extend_36 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_40 / 0.00392156885936856f)))))))));
    float radius_x_48 = extend_36 * (F32_sqrt((covar2d_36[int(0)].x)));
    float radius_y_48 = extend_36 * (F32_sqrt((covar2d_36[int(1)].y)));
    *aabb_xyxy_48 = make_int4 (int((F32_floor(((*mean2d_45).x - radius_x_48)))), int((F32_floor(((*mean2d_45).y - radius_y_48)))), int((F32_ceil(((*mean2d_45).x + radius_x_48)))), int((F32_ceil(((*mean2d_45).y + radius_y_48)))));
    float _S8593 = mean_c_69.z;
    *depth_37 = (F32_max((_S8593), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8593 + length_1(mean_c_69)))));
    *conic_36 = exp_0(- scale_60);
    float3  _S8594 = mean_60 - - mul_0(transpose_0(R_62), t_58);
    float3  _S8595 = _S8594 * make_float3 ((F32_rsqrt((dot_1(_S8594, _S8594)))));
    float _S8596 = dot_1((*sv_sites_38)[int(7)], _S8595);
    float w_124 = (F32_exp((dot_1((*sv_sites_38)[int(0)], _S8595) - _S8596)));
    float w_125 = (F32_exp((dot_1((*sv_sites_38)[int(1)], _S8595) - _S8596)));
    float w_126 = (F32_exp((dot_1((*sv_sites_38)[int(2)], _S8595) - _S8596)));
    float w_127 = (F32_exp((dot_1((*sv_sites_38)[int(3)], _S8595) - _S8596)));
    float w_128 = (F32_exp((dot_1((*sv_sites_38)[int(4)], _S8595) - _S8596)));
    float w_129 = (F32_exp((dot_1((*sv_sites_38)[int(5)], _S8595) - _S8596)));
    float w_130 = (F32_exp((dot_1((*sv_sites_38)[int(6)], _S8595) - _S8596)));
    float w_131 = (F32_exp((0.0f)));
    *rgb_38 = max_0((make_float3 (w_124) * (*sv_colors_38)[int(0)] + make_float3 (w_125) * (*sv_colors_38)[int(1)] + make_float3 (w_126) * (*sv_colors_38)[int(2)] + make_float3 (w_127) * (*sv_colors_38)[int(3)] + make_float3 (w_128) * (*sv_colors_38)[int(4)] + make_float3 (w_129) * (*sv_colors_38)[int(5)] + make_float3 (w_130) * (*sv_colors_38)[int(6)] + make_float3 (w_131) * (*sv_colors_38)[int(7)]) / make_float3 (w_124 + w_125 + w_126 + w_127 + w_128 + w_129 + w_130 + w_131) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_80, float3  mean_61, float4  quat_62, float3  scale_61, float in_opacity_56, FixedArray<float3 , 8>  * sv_sites_39, FixedArray<float3 , 8>  * sv_colors_39, Matrix<float, 3, 3>  R_63, float3  t_59, float fx_92, float fy_92, float cx_87, float cy_87, FixedArray<float, 10>  * dist_coeffs_95, uint image_width_80, uint image_height_80, float near_plane_61, float far_plane_61, int4  * aabb_xyxy_49, float2  * mean2d_46, float * depth_38, float3  * conic_37, float * opacity_41, float3  * rgb_39)
{
    float3  mean_c_70 = mul_0(R_63, mean_61) + t_59;
    float4  intrins_59 = make_float4 (fx_92, fy_92, cx_87, cy_87);
    float3  _S8597 = exp_0(scale_61);
    float x_76 = quat_62.y;
    float x2_74 = x_76 * x_76;
    float y2_74 = quat_62.z * quat_62.z;
    float z2_97 = quat_62.w * quat_62.w;
    float xy_74 = quat_62.y * quat_62.z;
    float xz_74 = quat_62.y * quat_62.w;
    float yz_74 = quat_62.z * quat_62.w;
    float wx_74 = quat_62.x * quat_62.y;
    float wy_74 = quat_62.x * quat_62.z;
    float wz_74 = quat_62.x * quat_62.w;
    Matrix<float, 3, 3>  _S8598 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_74 + z2_97), 2.0f * (xy_74 + wz_74), 2.0f * (xz_74 - wy_74), 2.0f * (xy_74 - wz_74), 1.0f - 2.0f * (x2_74 + z2_97), 2.0f * (yz_74 + wx_74), 2.0f * (xz_74 + wy_74), 2.0f * (yz_74 - wx_74), 1.0f - 2.0f * (x2_74 + y2_74))));
    SigmaPoints_0 ret_31;
    (&ret_31)->p_0[int(0)] = mean_61;
    (&ret_31)->w_mean_0[int(0)] = 0.0f;
    (&ret_31)->w_cov_0[int(0)] = 2.0f;
    float _S8599 = (F32_sqrt((3.0f)));
    float3  delta_183 = make_float3 (_S8599 * _S8597.x) * _S8598.rows[0U];
    float3  _S8600 = mean_61 + delta_183;
    float3  _S8601 = mean_61 - delta_183;
    float3  delta_184 = make_float3 (_S8599 * _S8597.y) * _S8598.rows[1U];
    float3  _S8602 = mean_61 + delta_184;
    float3  _S8603 = mean_61 - delta_184;
    float3  delta_185 = make_float3 (_S8599 * _S8597.z) * _S8598.rows[2U];
    float3  _S8604 = mean_61 + delta_185;
    float3  _S8605 = mean_61 - delta_185;
    (&ret_31)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_31)->p_0[0U] = mul_0(R_63, (&ret_31)->p_0[0U]) + t_59;
    (&ret_31)->p_0[1U] = mul_0(R_63, _S8600) + t_59;
    (&ret_31)->p_0[2U] = mul_0(R_63, _S8602) + t_59;
    (&ret_31)->p_0[3U] = mul_0(R_63, _S8604) + t_59;
    (&ret_31)->p_0[4U] = mul_0(R_63, _S8601) + t_59;
    (&ret_31)->p_0[5U] = mul_0(R_63, _S8603) + t_59;
    (&ret_31)->p_0[6U] = mul_0(R_63, _S8605) + t_59;
    SigmaPoints_0 _S8606 = ret_31;
    Matrix<float, 2, 2>  covar2d_37;
    bool _S8607 = fisheye_proj_3dgs_ut_1(&_S8606, intrins_59, dist_coeffs_95, &covar2d_37, mean2d_46);
    float det_orig_75 = *&(((&covar2d_37)->rows + (int(0)))->x) * *&(((&covar2d_37)->rows + (int(1)))->y) - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x);
    float _S8608 = *&(((&covar2d_37)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(0)))->x) = _S8608;
    float _S8609 = *&(((&covar2d_37)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(1)))->y) = _S8609;
    float compensation_38 = (F32_sqrt(((F32_max((0.0f), (det_orig_75 / (_S8608 * _S8609 - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x))))))));
    *opacity_41 = 1.0f / (1.0f + (F32_exp((- in_opacity_56))));
    if(antialiased_80)
    {
        *opacity_41 = *opacity_41 * compensation_38;
    }
    float extend_37 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_41 / 0.00392156885936856f)))))))));
    float radius_x_49 = extend_37 * (F32_sqrt((covar2d_37[int(0)].x)));
    float radius_y_49 = extend_37 * (F32_sqrt((covar2d_37[int(1)].y)));
    *aabb_xyxy_49 = make_int4 (int((F32_floor(((*mean2d_46).x - radius_x_49)))), int((F32_floor(((*mean2d_46).y - radius_y_49)))), int((F32_ceil(((*mean2d_46).x + radius_x_49)))), int((F32_ceil(((*mean2d_46).y + radius_y_49)))));
    float _S8610 = mean_c_70.z;
    *depth_38 = (F32_max((_S8610), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8610 + length_1(mean_c_70)))));
    *conic_37 = exp_0(- scale_61);
    float3  _S8611 = mean_61 - - mul_0(transpose_0(R_63), t_59);
    float3  _S8612 = _S8611 * make_float3 ((F32_rsqrt((dot_1(_S8611, _S8611)))));
    float _S8613 = dot_1((*sv_sites_39)[int(7)], _S8612);
    float w_132 = (F32_exp((dot_1((*sv_sites_39)[int(0)], _S8612) - _S8613)));
    float w_133 = (F32_exp((dot_1((*sv_sites_39)[int(1)], _S8612) - _S8613)));
    float w_134 = (F32_exp((dot_1((*sv_sites_39)[int(2)], _S8612) - _S8613)));
    float w_135 = (F32_exp((dot_1((*sv_sites_39)[int(3)], _S8612) - _S8613)));
    float w_136 = (F32_exp((dot_1((*sv_sites_39)[int(4)], _S8612) - _S8613)));
    float w_137 = (F32_exp((dot_1((*sv_sites_39)[int(5)], _S8612) - _S8613)));
    float w_138 = (F32_exp((dot_1((*sv_sites_39)[int(6)], _S8612) - _S8613)));
    float w_139 = (F32_exp((0.0f)));
    *rgb_39 = max_0((make_float3 (w_132) * (*sv_colors_39)[int(0)] + make_float3 (w_133) * (*sv_colors_39)[int(1)] + make_float3 (w_134) * (*sv_colors_39)[int(2)] + make_float3 (w_135) * (*sv_colors_39)[int(3)] + make_float3 (w_136) * (*sv_colors_39)[int(4)] + make_float3 (w_137) * (*sv_colors_39)[int(5)] + make_float3 (w_138) * (*sv_colors_39)[int(6)] + make_float3 (w_139) * (*sv_colors_39)[int(7)]) / make_float3 (w_132 + w_133 + w_134 + w_135 + w_136 + w_137 + w_138 + w_139) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0
{
    FixedArray<float3 , 8>  primal_0;
    FixedArray<float3 , 8>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S8614;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(bool antialiased_81, float3  dpmean_26, float4  dpquat_25, float3  dpscale_25, float dpin_opacity_24, FixedArray<float3 , 8>  * dpsv_sites_24, FixedArray<float3 , 8>  * dpsv_colors_24, Matrix<float, 3, 3>  dpR_26, float3  dpt_25, float fx_93, float fy_93, float cx_88, float cy_88, FixedArray<float, 10>  * dist_coeffs_96, uint image_width_81, uint image_height_81, float near_plane_62, float far_plane_62, int4  * aabb_xyxy_50, float2  * dpmean2d_28, float * dpdepth_25, float3  * dpconic_24, float * dpopacity_26, float3  * dprgb_25, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_38)
{
    Matrix<float, 2, 2>  _S8615 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_38->_S8614 = _S8615;
    float2  _S8616 = make_float2 (0.0f);
    float3  _S8617 = make_float3 (0.0f);
    float3  mean_c_71 = s_primal_ctx_mul_0(dpR_26, dpmean_26) + dpt_25;
    float4  intrins_60 = make_float4 (fx_93, fy_93, cx_88, cy_88);
    float3  _S8618 = s_primal_ctx_exp_0(dpscale_25);
    float _S8619 = dpquat_25.y;
    float x2_75 = _S8619 * _S8619;
    float y2_75 = dpquat_25.z * dpquat_25.z;
    float z2_98 = dpquat_25.w * dpquat_25.w;
    float xy_75 = dpquat_25.y * dpquat_25.z;
    float xz_75 = dpquat_25.y * dpquat_25.w;
    float yz_75 = dpquat_25.z * dpquat_25.w;
    float wx_75 = dpquat_25.x * dpquat_25.y;
    float wy_75 = dpquat_25.x * dpquat_25.z;
    float wz_75 = dpquat_25.x * dpquat_25.w;
    Matrix<float, 3, 3>  _S8620 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_75 + z2_98), 2.0f * (xy_75 + wz_75), 2.0f * (xz_75 - wy_75), 2.0f * (xy_75 - wz_75), 1.0f - 2.0f * (x2_75 + z2_98), 2.0f * (yz_75 + wx_75), 2.0f * (xz_75 + wy_75), 2.0f * (yz_75 - wx_75), 1.0f - 2.0f * (x2_75 + y2_75))));
    FixedArray<float3 , 7>  _S8621 = {
        _S8617, _S8617, _S8617, _S8617, _S8617, _S8617, _S8617
    };
    FixedArray<float, 7>  _S8622 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S8623;
    (&_S8623)->p_0 = _S8621;
    (&_S8623)->w_mean_0 = _S8622;
    (&_S8623)->w_cov_0 = _S8622;
    (&_S8623)->p_0[int(0)] = dpmean_26;
    SigmaPoints_0 _S8624 = _S8623;
    (&_S8624)->w_mean_0[int(0)] = 0.0f;
    (&_S8624)->w_cov_0[int(0)] = 2.0f;
    float _S8625 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_186 = make_float3 (_S8625 * _S8618.x) * _S8620.rows[0U];
    float3  _S8626 = dpmean_26 + delta_186;
    float3  _S8627 = dpmean_26 - delta_186;
    float3  delta_187 = make_float3 (_S8625 * _S8618.y) * _S8620.rows[1U];
    float3  _S8628 = dpmean_26 + delta_187;
    float3  _S8629 = dpmean_26 - delta_187;
    float3  delta_188 = make_float3 (_S8625 * _S8618.z) * _S8620.rows[2U];
    float3  _S8630 = dpmean_26 + delta_188;
    float3  _S8631 = dpmean_26 - delta_188;
    (&_S8624)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S8624)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S8624)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S8624)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S8624)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S8624)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S8624)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S8624)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S8624)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S8624)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S8624)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S8624)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S8624)->p_0[0U] = s_primal_ctx_mul_0(dpR_26, _S8623.p_0[0U]) + dpt_25;
    (&_S8624)->p_0[1U] = s_primal_ctx_mul_0(dpR_26, _S8626) + dpt_25;
    (&_S8624)->p_0[2U] = s_primal_ctx_mul_0(dpR_26, _S8628) + dpt_25;
    (&_S8624)->p_0[3U] = s_primal_ctx_mul_0(dpR_26, _S8630) + dpt_25;
    (&_S8624)->p_0[4U] = s_primal_ctx_mul_0(dpR_26, _S8627) + dpt_25;
    (&_S8624)->p_0[5U] = s_primal_ctx_mul_0(dpR_26, _S8629) + dpt_25;
    (&_S8624)->p_0[6U] = s_primal_ctx_mul_0(dpR_26, _S8631) + dpt_25;
    float2  _S8632 = _S8616;
    Matrix<float, 2, 2>  _S8633 = _S8615;
    SigmaPoints_0 _S8634 = _S8624;
    bool _S8635 = persp_proj_3dgs_ut_1(&_S8634, intrins_60, dist_coeffs_96, image_width_81, image_height_81, &_S8633, &_S8632);
    _s_diff_ctx_38->_S8614 = _S8633;
    float2  _S8636 = _S8632;
    float _S8637 = _S8633.rows[int(0)].y * _S8633.rows[int(1)].x;
    float det_orig_76 = _S8633.rows[int(0)].x * _S8633.rows[int(1)].y - _S8637;
    float _S8638 = _S8633.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S8639 = _S8633;
    *&(((&_S8639)->rows + (int(0)))->x) = _S8638;
    float _S8640 = _S8633.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S8639)->rows + (int(1)))->y) = _S8640;
    Matrix<float, 2, 2>  _S8641 = _S8639;
    Matrix<float, 2, 2>  _S8642 = _S8639;
    float _S8643 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_76 / (_S8638 * _S8640 - _S8637)));
    float _S8644 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_24));
    float _S8645;
    if(antialiased_81)
    {
        _S8645 = _S8644 * _S8643;
    }
    else
    {
        _S8645 = _S8644;
    }
    float _S8646 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S8645 / 0.00392156885936856f)));
    float radius_x_50 = _S8646 * s_primal_ctx_sqrt_0(_S8641.rows[int(0)].x);
    float radius_y_50 = _S8646 * s_primal_ctx_sqrt_0(_S8642.rows[int(1)].y);
    float _S8647 = _S8636.x;
    float _S8648 = _S8636.y;
    float _S8649 = mean_c_71.z;
    float _S8650 = s_primal_ctx_max_0(_S8649, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S8649 + length_1(mean_c_71)));
    float3  _S8651 = s_primal_ctx_exp_0(- dpscale_25);
    float3  _S8652 = dpmean_26 - - s_primal_ctx_mul_0(transpose_0(dpR_26), dpt_25);
    float3  _S8653 = _S8652 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S8652, _S8652)));
    float _S8654 = s_primal_ctx_dot_0((*dpsv_sites_24)[int(7)], _S8653);
    float _S8655 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(0)], _S8653) - _S8654);
    float _S8656 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(1)], _S8653) - _S8654);
    float _S8657 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(2)], _S8653) - _S8654);
    float _S8658 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(3)], _S8653) - _S8654);
    float _S8659 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(4)], _S8653) - _S8654);
    float _S8660 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(5)], _S8653) - _S8654);
    float _S8661 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(6)], _S8653) - _S8654);
    float _S8662 = s_primal_ctx_exp_1(0.0f);
    float3  _S8663 = s_primal_ctx_max_1((make_float3 (_S8655) * (*dpsv_colors_24)[int(0)] + make_float3 (_S8656) * (*dpsv_colors_24)[int(1)] + make_float3 (_S8657) * (*dpsv_colors_24)[int(2)] + make_float3 (_S8658) * (*dpsv_colors_24)[int(3)] + make_float3 (_S8659) * (*dpsv_colors_24)[int(4)] + make_float3 (_S8660) * (*dpsv_colors_24)[int(5)] + make_float3 (_S8661) * (*dpsv_colors_24)[int(6)] + make_float3 (_S8662) * (*dpsv_colors_24)[int(7)]) / make_float3 (_S8655 + _S8656 + _S8657 + _S8658 + _S8659 + _S8660 + _S8661 + _S8662) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_50 = make_int4 (int((F32_floor((_S8647 - radius_x_50)))), int((F32_floor((_S8648 - radius_y_50)))), int((F32_ceil((_S8647 + radius_x_50)))), int((F32_ceil((_S8648 + radius_y_50)))));
    *dpmean2d_28 = _S8636;
    *dpdepth_25 = _S8650;
    *dpconic_24 = _S8651;
    *dpopacity_26 = _S8645;
    *dprgb_25 = _S8663;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(bool antialiased_82, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_27, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_26, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_26, DiffPair_float_0 * dpin_opacity_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_25, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_27, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_26, float fx_94, float fy_94, float cx_89, float cy_89, FixedArray<float, 10>  * dist_coeffs_97, uint image_width_82, uint image_height_82, float near_plane_63, float far_plane_63, float2  dpmean2d_29, float dpdepth_26, float3  dpconic_25, float dpopacity_27, float3  dprgb_26, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_39)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8664 = *dpmean_27;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S8665 = *dpquat_26;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8666 = *dpscale_26;
    FixedArray<float3 , 8>  _S8667 = dpsv_sites_25->primal_0;
    FixedArray<float3 , 8>  _S8668 = dpsv_colors_25->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8669 = *dpR_27;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8670 = *dpt_26;
    float3  _S8671 = make_float3 (0.0f);
    float3  mean_c_72 = s_primal_ctx_mul_0((*dpR_27).primal_0, (*dpmean_27).primal_0) + (*dpt_26).primal_0;
    float3  _S8672 = s_primal_ctx_exp_0((*dpscale_26).primal_0);
    float _S8673 = (*dpquat_26).primal_0.y;
    float x2_76 = _S8673 * _S8673;
    float y2_76 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.z;
    float z2_99 = (*dpquat_26).primal_0.w * (*dpquat_26).primal_0.w;
    float xy_76 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.z;
    float xz_76 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.w;
    float yz_76 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.w;
    float wx_76 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.y;
    float wy_76 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.z;
    float wz_76 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.w;
    Matrix<float, 3, 3>  _S8674 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_76 + z2_99), 2.0f * (xy_76 + wz_76), 2.0f * (xz_76 - wy_76), 2.0f * (xy_76 - wz_76), 1.0f - 2.0f * (x2_76 + z2_99), 2.0f * (yz_76 + wx_76), 2.0f * (xz_76 + wy_76), 2.0f * (yz_76 - wx_76), 1.0f - 2.0f * (x2_76 + y2_76))));
    FixedArray<float3 , 7>  _S8675 = {
        _S8671, _S8671, _S8671, _S8671, _S8671, _S8671, _S8671
    };
    FixedArray<float, 7>  _S8676 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S8677;
    (&_S8677)->p_0 = _S8675;
    (&_S8677)->w_mean_0 = _S8676;
    (&_S8677)->w_cov_0 = _S8676;
    (&_S8677)->p_0[int(0)] = (*dpmean_27).primal_0;
    float _S8678 = s_primal_ctx_sqrt_0(3.0f);
    float _S8679 = _S8678 * _S8672.x;
    float3  _S8680 = make_float3 (_S8679);
    float3  delta_189 = make_float3 (_S8679) * _S8674.rows[0U];
    float3  _S8681 = (*dpmean_27).primal_0 + delta_189;
    float3  _S8682 = (*dpmean_27).primal_0 - delta_189;
    float _S8683 = _S8678 * _S8672.y;
    float3  _S8684 = make_float3 (_S8683);
    float3  delta_190 = make_float3 (_S8683) * _S8674.rows[1U];
    float3  _S8685 = (*dpmean_27).primal_0 + delta_190;
    float3  _S8686 = (*dpmean_27).primal_0 - delta_190;
    float _S8687 = _S8678 * _S8672.z;
    float3  _S8688 = make_float3 (_S8687);
    float3  delta_191 = make_float3 (_S8687) * _S8674.rows[2U];
    float3  _S8689 = (*dpmean_27).primal_0 + delta_191;
    float3  _S8690 = (*dpmean_27).primal_0 - delta_191;
    SigmaPoints_0 _S8691 = _S8677;
    float _S8692 = *&(((&_s_diff_ctx_39->_S8614)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_39->_S8614)->rows + (int(1)))->x);
    float det_orig_77 = *&(((&_s_diff_ctx_39->_S8614)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_39->_S8614)->rows + (int(1)))->y) - _S8692;
    float _S8693 = *&(((&_s_diff_ctx_39->_S8614)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S8694 = _s_diff_ctx_39->_S8614;
    *&(((&_S8694)->rows + (int(0)))->x) = _S8693;
    float _S8695 = *&(((&_s_diff_ctx_39->_S8614)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S8694)->rows + (int(1)))->y) = _S8695;
    Matrix<float, 2, 2>  _S8696 = _S8694;
    Matrix<float, 2, 2>  _S8697 = _S8694;
    float det_blur_45 = _S8693 * _S8695 - _S8692;
    float _S8698 = det_orig_77 / det_blur_45;
    float _S8699 = det_blur_45 * det_blur_45;
    float _S8700 = s_primal_ctx_max_0(0.0f, _S8698);
    float _S8701 = s_primal_ctx_sqrt_0(_S8700);
    float _S8702 = - (*dpin_opacity_25).primal_0;
    float _S8703 = 1.0f + s_primal_ctx_exp_1(_S8702);
    float _S8704 = 1.0f / _S8703;
    float _S8705 = _S8703 * _S8703;
    float _S8706;
    if(antialiased_82)
    {
        _S8706 = _S8704 * _S8701;
    }
    else
    {
        _S8706 = _S8704;
    }
    float _S8707 = _S8706 / 0.00392156885936856f;
    float _S8708 = 2.0f * s_primal_ctx_log_0(_S8707);
    float _S8709 = s_primal_ctx_sqrt_0(_S8708);
    float _S8710 = _S8696.rows[int(0)].x;
    float _S8711 = _S8697.rows[int(1)].y;
    float _S8712 = mean_c_72.z;
    float _S8713 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8714 = _S8713 * (_S8712 + length_1(mean_c_72));
    float3  _S8715 = - _S8666.primal_0;
    Matrix<float, 3, 3>  _S8716 = transpose_0(_S8669.primal_0);
    float3  _S8717 = _S8664.primal_0 - - s_primal_ctx_mul_0(_S8716, _S8670.primal_0);
    float _S8718 = s_primal_ctx_dot_0(_S8717, _S8717);
    float _S8719 = s_primal_ctx_rsqrt_0(_S8718);
    float3  _S8720 = make_float3 (_S8719);
    float3  _S8721 = _S8717 * make_float3 (_S8719);
    float _S8722 = s_primal_ctx_dot_0(_S8667[int(7)], _S8721);
    float _S8723 = s_primal_ctx_dot_0(_S8667[int(0)], _S8721) - _S8722;
    float _S8724 = s_primal_ctx_exp_1(_S8723);
    float3  _S8725 = make_float3 (_S8724);
    float _S8726 = s_primal_ctx_dot_0(_S8667[int(1)], _S8721) - _S8722;
    float _S8727 = s_primal_ctx_exp_1(_S8726);
    float3  _S8728 = make_float3 (_S8727);
    float _S8729 = s_primal_ctx_dot_0(_S8667[int(2)], _S8721) - _S8722;
    float _S8730 = s_primal_ctx_exp_1(_S8729);
    float3  _S8731 = make_float3 (_S8730);
    float _S8732 = s_primal_ctx_dot_0(_S8667[int(3)], _S8721) - _S8722;
    float _S8733 = s_primal_ctx_exp_1(_S8732);
    float3  _S8734 = make_float3 (_S8733);
    float _S8735 = s_primal_ctx_dot_0(_S8667[int(4)], _S8721) - _S8722;
    float _S8736 = s_primal_ctx_exp_1(_S8735);
    float3  _S8737 = make_float3 (_S8736);
    float _S8738 = s_primal_ctx_dot_0(_S8667[int(5)], _S8721) - _S8722;
    float _S8739 = s_primal_ctx_exp_1(_S8738);
    float3  _S8740 = make_float3 (_S8739);
    float _S8741 = s_primal_ctx_dot_0(_S8667[int(6)], _S8721) - _S8722;
    float _S8742 = s_primal_ctx_exp_1(_S8741);
    float3  _S8743 = make_float3 (_S8742);
    float _S8744 = s_primal_ctx_exp_1(0.0f);
    float3  _S8745 = make_float3 (_S8744);
    float total_w_12 = _S8724 + _S8727 + _S8730 + _S8733 + _S8736 + _S8739 + _S8742 + _S8744;
    float3  _S8746 = make_float3 (total_w_12);
    float3  total_c_12 = make_float3 (_S8724) * _S8668[int(0)] + make_float3 (_S8727) * _S8668[int(1)] + make_float3 (_S8730) * _S8668[int(2)] + make_float3 (_S8733) * _S8668[int(3)] + make_float3 (_S8736) * _S8668[int(4)] + make_float3 (_S8739) * _S8668[int(5)] + make_float3 (_S8742) * _S8668[int(6)] + make_float3 (_S8744) * _S8668[int(7)];
    float3  _S8747 = make_float3 (total_w_12 * total_w_12);
    float3  _S8748 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8749;
    (&_S8749)->primal_0 = total_c_12 / make_float3 (total_w_12) + make_float3 (0.5f);
    (&_S8749)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8750;
    (&_S8750)->primal_0 = _S8748;
    (&_S8750)->differential_0 = _S8671;
    s_bwd_prop_max_0(&_S8749, &_S8750, dprgb_26);
    float3  _S8751 = _S8749.differential_0 / _S8747;
    float3  _S8752 = total_c_12 * - _S8751;
    float3  s_diff_total_c_T_12 = _S8746 * _S8751;
    float3  _S8753 = _S8745 * s_diff_total_c_T_12;
    float _S8754 = _S8752.x + _S8752.y + _S8752.z;
    float3  _S8755 = _S8743 * s_diff_total_c_T_12;
    float3  _S8756 = _S8668[int(6)] * s_diff_total_c_T_12;
    float _S8757 = _S8754 + _S8756.x + _S8756.y + _S8756.z;
    DiffPair_float_0 _S8758;
    (&_S8758)->primal_0 = _S8741;
    (&_S8758)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8758, _S8757);
    float _S8759 = - _S8758.differential_0;
    float3  _S8760 = _S8740 * s_diff_total_c_T_12;
    float3  _S8761 = _S8668[int(5)] * s_diff_total_c_T_12;
    float _S8762 = _S8754 + _S8761.x + _S8761.y + _S8761.z;
    DiffPair_float_0 _S8763;
    (&_S8763)->primal_0 = _S8738;
    (&_S8763)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8763, _S8762);
    float _S8764 = - _S8763.differential_0;
    float3  _S8765 = _S8737 * s_diff_total_c_T_12;
    float3  _S8766 = _S8668[int(4)] * s_diff_total_c_T_12;
    float _S8767 = _S8754 + _S8766.x + _S8766.y + _S8766.z;
    DiffPair_float_0 _S8768;
    (&_S8768)->primal_0 = _S8735;
    (&_S8768)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8768, _S8767);
    float _S8769 = - _S8768.differential_0;
    float3  _S8770 = _S8734 * s_diff_total_c_T_12;
    float3  _S8771 = _S8668[int(3)] * s_diff_total_c_T_12;
    float _S8772 = _S8754 + _S8771.x + _S8771.y + _S8771.z;
    DiffPair_float_0 _S8773;
    (&_S8773)->primal_0 = _S8732;
    (&_S8773)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8773, _S8772);
    float _S8774 = - _S8773.differential_0;
    float3  _S8775 = _S8731 * s_diff_total_c_T_12;
    float3  _S8776 = _S8668[int(2)] * s_diff_total_c_T_12;
    float _S8777 = _S8754 + _S8776.x + _S8776.y + _S8776.z;
    DiffPair_float_0 _S8778;
    (&_S8778)->primal_0 = _S8729;
    (&_S8778)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8778, _S8777);
    float _S8779 = - _S8778.differential_0;
    float3  _S8780 = _S8728 * s_diff_total_c_T_12;
    float3  _S8781 = _S8668[int(1)] * s_diff_total_c_T_12;
    float _S8782 = _S8754 + _S8781.x + _S8781.y + _S8781.z;
    DiffPair_float_0 _S8783;
    (&_S8783)->primal_0 = _S8726;
    (&_S8783)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8783, _S8782);
    float _S8784 = - _S8783.differential_0;
    float3  _S8785 = _S8725 * s_diff_total_c_T_12;
    float3  _S8786 = _S8668[int(0)] * s_diff_total_c_T_12;
    float _S8787 = _S8754 + _S8786.x + _S8786.y + _S8786.z;
    DiffPair_float_0 _S8788;
    (&_S8788)->primal_0 = _S8723;
    (&_S8788)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8788, _S8787);
    float _S8789 = _S8759 + _S8764 + _S8769 + _S8774 + _S8779 + _S8784 + - _S8788.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8790;
    (&_S8790)->primal_0 = _S8667[int(7)];
    (&_S8790)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8791;
    (&_S8791)->primal_0 = _S8721;
    (&_S8791)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8790, &_S8791, _S8789);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8792;
    (&_S8792)->primal_0 = _S8667[int(6)];
    (&_S8792)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8793;
    (&_S8793)->primal_0 = _S8721;
    (&_S8793)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8792, &_S8793, _S8758.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8794;
    (&_S8794)->primal_0 = _S8667[int(5)];
    (&_S8794)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8795;
    (&_S8795)->primal_0 = _S8721;
    (&_S8795)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8794, &_S8795, _S8763.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8796;
    (&_S8796)->primal_0 = _S8667[int(4)];
    (&_S8796)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8797;
    (&_S8797)->primal_0 = _S8721;
    (&_S8797)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8796, &_S8797, _S8768.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8798;
    (&_S8798)->primal_0 = _S8667[int(3)];
    (&_S8798)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8799;
    (&_S8799)->primal_0 = _S8721;
    (&_S8799)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8798, &_S8799, _S8773.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8800;
    (&_S8800)->primal_0 = _S8667[int(2)];
    (&_S8800)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8801;
    (&_S8801)->primal_0 = _S8721;
    (&_S8801)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8800, &_S8801, _S8778.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8802;
    (&_S8802)->primal_0 = _S8667[int(1)];
    (&_S8802)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8803;
    (&_S8803)->primal_0 = _S8721;
    (&_S8803)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8802, &_S8803, _S8783.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8804;
    (&_S8804)->primal_0 = _S8667[int(0)];
    (&_S8804)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8805;
    (&_S8805)->primal_0 = _S8721;
    (&_S8805)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8804, &_S8805, _S8788.differential_0);
    float3  _S8806 = _S8791.differential_0 + _S8793.differential_0 + _S8795.differential_0 + _S8797.differential_0 + _S8799.differential_0 + _S8801.differential_0 + _S8803.differential_0 + _S8805.differential_0;
    float3  _S8807 = _S8717 * _S8806;
    float3  _S8808 = _S8720 * _S8806;
    float _S8809 = _S8807.x + _S8807.y + _S8807.z;
    DiffPair_float_0 _S8810;
    (&_S8810)->primal_0 = _S8718;
    (&_S8810)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S8810, _S8809);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8811;
    (&_S8811)->primal_0 = _S8717;
    (&_S8811)->differential_0 = _S8671;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8812;
    (&_S8812)->primal_0 = _S8717;
    (&_S8812)->differential_0 = _S8671;
    s_bwd_prop_dot_0(&_S8811, &_S8812, _S8810.differential_0);
    float3  _S8813 = _S8808 + _S8812.differential_0 + _S8811.differential_0;
    float3  _S8814 = - - _S8813;
    Matrix<float, 3, 3>  _S8815 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8816;
    (&_S8816)->primal_0 = _S8716;
    (&_S8816)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8817;
    (&_S8817)->primal_0 = _S8670.primal_0;
    (&_S8817)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8816, &_S8817, _S8814);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8818 = _S8817;
    Matrix<float, 3, 3>  _S8819 = transpose_0(_S8816.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8820;
    (&_S8820)->primal_0 = _S8715;
    (&_S8820)->differential_0 = _S8671;
    s_bwd_prop_exp_1(&_S8820, dpconic_25);
    float3  _S8821 = - _S8820.differential_0;
    DiffPair_float_0 _S8822;
    (&_S8822)->primal_0 = _S8712;
    (&_S8822)->differential_0 = 0.0f;
    DiffPair_float_0 _S8823;
    (&_S8823)->primal_0 = _S8714;
    (&_S8823)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8822, &_S8823, dpdepth_26);
    float _S8824 = _S8713 * _S8823.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8825;
    (&_S8825)->primal_0 = mean_c_72;
    (&_S8825)->differential_0 = _S8671;
    s_bwd_length_impl_1(&_S8825, _S8824);
    float _S8826 = _S8822.differential_0 + _S8824;
    DiffPair_float_0 _S8827;
    (&_S8827)->primal_0 = _S8711;
    (&_S8827)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8827, 0.0f);
    DiffPair_float_0 _S8828;
    (&_S8828)->primal_0 = _S8710;
    (&_S8828)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8828, 0.0f);
    DiffPair_float_0 _S8829;
    (&_S8829)->primal_0 = 3.32999992370605469f;
    (&_S8829)->differential_0 = 0.0f;
    DiffPair_float_0 _S8830;
    (&_S8830)->primal_0 = _S8709;
    (&_S8830)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8829, &_S8830, 0.0f);
    DiffPair_float_0 _S8831;
    (&_S8831)->primal_0 = _S8708;
    (&_S8831)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8831, _S8830.differential_0);
    float _S8832 = 2.0f * _S8831.differential_0;
    DiffPair_float_0 _S8833;
    (&_S8833)->primal_0 = _S8707;
    (&_S8833)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S8833, _S8832);
    float _S8834 = dpopacity_27 + 254.9999847412109375f * _S8833.differential_0;
    FixedArray<float3 , 8>  _S8835;
    _S8835[int(0)] = _S8671;
    _S8835[int(1)] = _S8671;
    _S8835[int(2)] = _S8671;
    _S8835[int(3)] = _S8671;
    _S8835[int(4)] = _S8671;
    _S8835[int(5)] = _S8671;
    _S8835[int(6)] = _S8671;
    _S8835[int(7)] = _S8671;
    _S8835[int(7)] = _S8753;
    _S8835[int(6)] = _S8755;
    _S8835[int(5)] = _S8760;
    _S8835[int(4)] = _S8765;
    _S8835[int(3)] = _S8770;
    _S8835[int(2)] = _S8775;
    _S8835[int(1)] = _S8780;
    _S8835[int(0)] = _S8785;
    FixedArray<float3 , 8>  _S8836 = {
        _S8835[int(0)], _S8835[int(1)], _S8835[int(2)], _S8835[int(3)], _S8835[int(4)], _S8835[int(5)], _S8835[int(6)], _S8835[int(7)]
    };
    FixedArray<float3 , 8>  _S8837;
    _S8837[int(0)] = _S8671;
    _S8837[int(1)] = _S8671;
    _S8837[int(2)] = _S8671;
    _S8837[int(3)] = _S8671;
    _S8837[int(4)] = _S8671;
    _S8837[int(5)] = _S8671;
    _S8837[int(6)] = _S8671;
    _S8837[int(7)] = _S8671;
    _S8837[int(7)] = _S8790.differential_0;
    _S8837[int(6)] = _S8792.differential_0;
    _S8837[int(5)] = _S8794.differential_0;
    _S8837[int(4)] = _S8796.differential_0;
    _S8837[int(3)] = _S8798.differential_0;
    _S8837[int(2)] = _S8800.differential_0;
    _S8837[int(1)] = _S8802.differential_0;
    _S8837[int(0)] = _S8804.differential_0;
    FixedArray<float3 , 8>  _S8838 = {
        _S8837[int(0)], _S8837[int(1)], _S8837[int(2)], _S8837[int(3)], _S8837[int(4)], _S8837[int(5)], _S8837[int(6)], _S8837[int(7)]
    };
    float3  _S8839 = _S8825.differential_0 + make_float3 (0.0f, 0.0f, _S8826);
    float2  _S8840 = make_float2 (0.0f, _S8827.differential_0);
    float2  _S8841 = make_float2 (_S8828.differential_0, 0.0f);
    float _S8842;
    if(antialiased_82)
    {
        float _S8843 = _S8704 * _S8834;
        _S8706 = _S8701 * _S8834;
        _S8842 = _S8843;
    }
    else
    {
        _S8706 = _S8834;
        _S8842 = 0.0f;
    }
    float _S8844 = - (_S8706 / _S8705);
    DiffPair_float_0 _S8845;
    (&_S8845)->primal_0 = _S8702;
    (&_S8845)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8845, _S8844);
    float _S8846 = - _S8845.differential_0;
    DiffPair_float_0 _S8847;
    (&_S8847)->primal_0 = _S8700;
    (&_S8847)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8847, _S8842);
    DiffPair_float_0 _S8848;
    (&_S8848)->primal_0 = 0.0f;
    (&_S8848)->differential_0 = 0.0f;
    DiffPair_float_0 _S8849;
    (&_S8849)->primal_0 = _S8698;
    (&_S8849)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8848, &_S8849, _S8847.differential_0);
    float _S8850 = _S8849.differential_0 / _S8699;
    float s_diff_det_blur_T_16 = det_orig_77 * - _S8850;
    float s_diff_det_orig_T_19 = det_blur_45 * _S8850;
    float _S8851 = - s_diff_det_blur_T_16;
    float _S8852 = _S8693 * s_diff_det_blur_T_16;
    float _S8853 = _S8695 * s_diff_det_blur_T_16;
    Matrix<float, 2, 2>  _S8854 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S8855 = _S8854;
    _S8855[int(1)] = _S8840;
    _S8855[int(0)] = _S8841;
    float _S8856 = _S8853 + _S8855.rows[int(0)].x;
    float _S8857 = _S8851 + - s_diff_det_orig_T_19;
    float _S8858 = *&(((&_s_diff_ctx_39->_S8614)->rows + (int(0)))->y) * _S8857;
    float _S8859 = *&(((&_s_diff_ctx_39->_S8614)->rows + (int(1)))->x) * _S8857;
    float _S8860 = *&(((&_s_diff_ctx_39->_S8614)->rows + (int(1)))->y) * s_diff_det_orig_T_19;
    float _S8861 = _S8852 + _S8855.rows[int(1)].y + *&(((&_s_diff_ctx_39->_S8614)->rows + (int(0)))->x) * s_diff_det_orig_T_19;
    float2  _S8862 = make_float2 (0.0f);
    float2  _S8863 = _S8862;
    *&((&_S8863)->x) = _S8858;
    *&((&_S8863)->y) = _S8861;
    float _S8864 = _S8856 + _S8860;
    float2  _S8865 = _S8862;
    *&((&_S8865)->y) = _S8859;
    *&((&_S8865)->x) = _S8864;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8866;
    (&_S8866)->primal_0 = _S8669.primal_0;
    (&_S8866)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8867;
    (&_S8867)->primal_0 = _S8690;
    (&_S8867)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8866, &_S8867, _S8671);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8868;
    (&_S8868)->primal_0 = _S8669.primal_0;
    (&_S8868)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8869;
    (&_S8869)->primal_0 = _S8686;
    (&_S8869)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8868, &_S8869, _S8671);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8870;
    (&_S8870)->primal_0 = _S8669.primal_0;
    (&_S8870)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8871;
    (&_S8871)->primal_0 = _S8682;
    (&_S8871)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8870, &_S8871, _S8671);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8872;
    (&_S8872)->primal_0 = _S8669.primal_0;
    (&_S8872)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8873;
    (&_S8873)->primal_0 = _S8689;
    (&_S8873)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8872, &_S8873, _S8671);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8874;
    (&_S8874)->primal_0 = _S8669.primal_0;
    (&_S8874)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8875;
    (&_S8875)->primal_0 = _S8685;
    (&_S8875)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8874, &_S8875, _S8671);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8876;
    (&_S8876)->primal_0 = _S8669.primal_0;
    (&_S8876)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8877;
    (&_S8877)->primal_0 = _S8681;
    (&_S8877)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8876, &_S8877, _S8671);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8878;
    (&_S8878)->primal_0 = _S8669.primal_0;
    (&_S8878)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8879;
    (&_S8879)->primal_0 = _S8691.p_0[0U];
    (&_S8879)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8878, &_S8879, _S8671);
    float3  _S8880 = - _S8867.differential_0 + _S8873.differential_0;
    float3  _S8881 = _S8688 * _S8880;
    float3  _S8882 = _S8674.rows[2U] * _S8880;
    float _S8883 = _S8678 * (_S8882.x + _S8882.y + _S8882.z);
    float3  _S8884 = - _S8869.differential_0 + _S8875.differential_0;
    float3  _S8885 = _S8684 * _S8884;
    float3  _S8886 = _S8674.rows[1U] * _S8884;
    float _S8887 = _S8678 * (_S8886.x + _S8886.y + _S8886.z);
    float3  _S8888 = - _S8871.differential_0 + _S8877.differential_0;
    float3  _S8889 = _S8680 * _S8888;
    float3  _S8890 = _S8674.rows[0U] * _S8888;
    float _S8891 = _S8678 * (_S8890.x + _S8890.y + _S8890.z);
    Matrix<float, 3, 3>  _S8892 = _S8815;
    _S8892[2U] = _S8881;
    _S8892[1U] = _S8885;
    _S8892[0U] = _S8889;
    Matrix<float, 3, 3>  _S8893 = transpose_0(transpose_0(_S8892));
    float _S8894 = 2.0f * - _S8893.rows[int(2)].z;
    float _S8895 = 2.0f * _S8893.rows[int(2)].y;
    float _S8896 = 2.0f * _S8893.rows[int(2)].x;
    float _S8897 = 2.0f * _S8893.rows[int(1)].z;
    float _S8898 = 2.0f * - _S8893.rows[int(1)].y;
    float _S8899 = 2.0f * _S8893.rows[int(1)].x;
    float _S8900 = 2.0f * _S8893.rows[int(0)].z;
    float _S8901 = 2.0f * _S8893.rows[int(0)].y;
    float _S8902 = 2.0f * - _S8893.rows[int(0)].x;
    float _S8903 = - _S8899 + _S8901;
    float _S8904 = _S8896 + - _S8900;
    float _S8905 = - _S8895 + _S8897;
    float _S8906 = _S8895 + _S8897;
    float _S8907 = _S8896 + _S8900;
    float _S8908 = _S8899 + _S8901;
    float _S8909 = _S8665.primal_0.w * (_S8898 + _S8902);
    float _S8910 = _S8665.primal_0.z * (_S8894 + _S8902);
    float _S8911 = _S8665.primal_0.y * (_S8894 + _S8898);
    float _S8912 = _S8665.primal_0.x * _S8903 + _S8665.primal_0.z * _S8906 + _S8665.primal_0.y * _S8907 + _S8909 + _S8909;
    float _S8913 = _S8665.primal_0.x * _S8904 + _S8665.primal_0.w * _S8906 + _S8665.primal_0.y * _S8908 + _S8910 + _S8910;
    float _S8914 = _S8665.primal_0.x * _S8905 + _S8665.primal_0.w * _S8907 + _S8665.primal_0.z * _S8908 + _S8911 + _S8911;
    float _S8915 = _S8665.primal_0.w * _S8903 + _S8665.primal_0.z * _S8904 + _S8665.primal_0.y * _S8905;
    float3  _S8916 = _S8671;
    *&((&_S8916)->z) = _S8883;
    *&((&_S8916)->y) = _S8887;
    *&((&_S8916)->x) = _S8891;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8917;
    (&_S8917)->primal_0 = _S8666.primal_0;
    (&_S8917)->differential_0 = _S8671;
    s_bwd_prop_exp_1(&_S8917, _S8916);
    Matrix<float, 2, 2>  _S8918 = _S8854;
    _S8918[int(1)] = _S8863;
    _S8918[int(0)] = _S8865;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8919;
    (&_S8919)->primal_0 = _S8669.primal_0;
    (&_S8919)->differential_0 = _S8815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8920;
    (&_S8920)->primal_0 = _S8664.primal_0;
    (&_S8920)->differential_0 = _S8671;
    s_bwd_prop_mul_1(&_S8919, &_S8920, _S8839);
    float3  _S8921 = _S8839 + _S8818.differential_0;
    dpt_26->primal_0 = (*dpt_26).primal_0;
    dpt_26->differential_0 = _S8921;
    Matrix<float, 3, 3>  _S8922 = _S8866.differential_0 + _S8868.differential_0 + _S8870.differential_0 + _S8872.differential_0 + _S8874.differential_0 + _S8876.differential_0 + _S8878.differential_0 + _S8919.differential_0 + _S8819;
    dpR_27->primal_0 = (*dpR_27).primal_0;
    dpR_27->differential_0 = _S8922;
    dpsv_colors_25->primal_0 = dpsv_colors_25->primal_0;
    dpsv_colors_25->differential_0 = _S8836;
    dpsv_sites_25->primal_0 = dpsv_sites_25->primal_0;
    dpsv_sites_25->differential_0 = _S8838;
    dpin_opacity_25->primal_0 = (*dpin_opacity_25).primal_0;
    dpin_opacity_25->differential_0 = _S8846;
    float3  _S8923 = _S8917.differential_0 + _S8821;
    dpscale_26->primal_0 = (*dpscale_26).primal_0;
    dpscale_26->differential_0 = _S8923;
    float4  _S8924 = make_float4 (0.0f);
    *&((&_S8924)->w) = _S8912;
    *&((&_S8924)->z) = _S8913;
    *&((&_S8924)->y) = _S8914;
    *&((&_S8924)->x) = _S8915;
    dpquat_26->primal_0 = (*dpquat_26).primal_0;
    dpquat_26->differential_0 = _S8924;
    float3  _S8925 = _S8867.differential_0 + _S8873.differential_0 + _S8869.differential_0 + _S8875.differential_0 + _S8871.differential_0 + _S8877.differential_0 + _S8920.differential_0 + _S8813;
    dpmean_27->primal_0 = (*dpmean_27).primal_0;
    dpmean_27->differential_0 = _S8925;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_6(bool _S8926, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8927, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S8928, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8929, DiffPair_float_0 * _S8930, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S8931, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S8932, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S8933, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8934, float _S8935, float _S8936, float _S8937, float _S8938, FixedArray<float, 10>  * _S8939, uint _S8940, uint _S8941, float _S8942, float _S8943, float2  _S8944, float _S8945, float3  _S8946, float _S8947, float3  _S8948)
{
    FixedArray<float3 , 8>  _S8949 = _S8931->primal_0;
    FixedArray<float3 , 8>  _S8950 = _S8932->primal_0;
    int4  _S8951;
    float2  _S8952;
    float _S8953;
    float3  _S8954;
    float _S8955;
    float3  _S8956;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S8957;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(_S8926, (*_S8927).primal_0, (*_S8928).primal_0, (*_S8929).primal_0, (*_S8930).primal_0, &_S8949, &_S8950, (*_S8933).primal_0, (*_S8934).primal_0, _S8935, _S8936, _S8937, _S8938, _S8939, _S8940, _S8941, _S8942, _S8943, &_S8951, &_S8952, &_S8953, &_S8954, &_S8955, &_S8956, &_S8957);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S8958 = _S8957;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(_S8926, _S8927, _S8928, _S8929, _S8930, _S8931, _S8932, _S8933, _S8934, _S8935, _S8936, _S8937, _S8938, _S8939, _S8940, _S8941, _S8942, _S8943, _S8944, _S8945, _S8946, _S8947, _S8948, &_S8958);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_83, float3  mean_62, float4  quat_63, float3  scale_62, float in_opacity_57, FixedArray<float3 , 8>  * sv_sites_40, FixedArray<float3 , 8>  * sv_colors_40, Matrix<float, 3, 3>  R_64, float3  t_60, float fx_95, float fy_95, float cx_90, float cy_90, FixedArray<float, 10>  * dist_coeffs_98, uint image_width_83, uint image_height_83, float2  v_mean2d_19, float v_depth_20, float3  v_conic_19, float v_opacity_21, float3  v_rgb_20, float3  * v_mean_21, float4  * v_quat_20, float3  * v_scale_20, float * v_in_opacity_19, FixedArray<float3 , 8>  * v_sv_dirs_12, FixedArray<float3 , 8>  * v_sv_colors_12, Matrix<float, 3, 3>  * v_R_21, float3  * v_t_20)
{
    float3  _S8959 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_14;
    (&dp_mean_14)->primal_0 = mean_62;
    (&dp_mean_14)->differential_0 = _S8959;
    float4  _S8960 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_13;
    (&dp_quat_13)->primal_0 = quat_63;
    (&dp_quat_13)->differential_0 = _S8960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_13;
    (&dp_scale_13)->primal_0 = scale_62;
    (&dp_scale_13)->differential_0 = _S8959;
    DiffPair_float_0 dp_in_opacity_12;
    (&dp_in_opacity_12)->primal_0 = in_opacity_57;
    (&dp_in_opacity_12)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S8961 = { _S8959, _S8959, _S8959, _S8959, _S8959, _S8959, _S8959, _S8959 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_12;
    (&dp_sv_dirs_12)->primal_0 = *sv_sites_40;
    (&dp_sv_dirs_12)->differential_0 = _S8961;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_12;
    (&dp_sv_colors_12)->primal_0 = *sv_colors_40;
    (&dp_sv_colors_12)->differential_0 = _S8961;
    Matrix<float, 3, 3>  _S8962 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_14;
    (&dp_R_14)->primal_0 = R_64;
    (&dp_R_14)->differential_0 = _S8962;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_13;
    (&dp_t_13)->primal_0 = t_60;
    (&dp_t_13)->differential_0 = _S8959;
    s_bwd_projection_3dgut_sv_persp_differentiable_6(antialiased_83, &dp_mean_14, &dp_quat_13, &dp_scale_13, &dp_in_opacity_12, &dp_sv_dirs_12, &dp_sv_colors_12, &dp_R_14, &dp_t_13, fx_95, fy_95, cx_90, cy_90, dist_coeffs_98, image_width_83, image_height_83, 0.0f, 1.00000001504746622e+30f, v_mean2d_19, v_depth_20, v_conic_19, v_opacity_21, v_rgb_20);
    *v_mean_21 = dp_mean_14.differential_0;
    *v_quat_20 = dp_quat_13.differential_0;
    *v_scale_20 = dp_scale_13.differential_0;
    *v_in_opacity_19 = dp_in_opacity_12.differential_0;
    *v_sv_dirs_12 = (&dp_sv_dirs_12)->differential_0;
    *v_sv_colors_12 = (&dp_sv_colors_12)->differential_0;
    *v_R_21 = dp_R_14.differential_0;
    *v_t_20 = dp_t_13.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S8963;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_84, float3  dpmean_28, float4  dpquat_27, float3  dpscale_27, float dpin_opacity_26, FixedArray<float3 , 8>  * dpsv_sites_26, FixedArray<float3 , 8>  * dpsv_colors_26, Matrix<float, 3, 3>  dpR_28, float3  dpt_27, float fx_96, float fy_96, float cx_91, float cy_91, FixedArray<float, 10>  * dist_coeffs_99, uint image_width_84, uint image_height_84, float near_plane_64, float far_plane_64, int4  * aabb_xyxy_51, float2  * dpmean2d_30, float * dpdepth_27, float3  * dpconic_26, float * dpopacity_28, float3  * dprgb_27, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_40)
{
    Matrix<float, 2, 2>  _S8964 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_40->_S8963 = _S8964;
    float2  _S8965 = make_float2 (0.0f);
    float3  _S8966 = make_float3 (0.0f);
    float3  mean_c_73 = s_primal_ctx_mul_0(dpR_28, dpmean_28) + dpt_27;
    float _S8967 = length_1(mean_c_73);
    float4  intrins_61 = make_float4 (fx_96, fy_96, cx_91, cy_91);
    float3  _S8968 = s_primal_ctx_exp_0(dpscale_27);
    float _S8969 = dpquat_27.y;
    float x2_77 = _S8969 * _S8969;
    float y2_77 = dpquat_27.z * dpquat_27.z;
    float z2_100 = dpquat_27.w * dpquat_27.w;
    float xy_77 = dpquat_27.y * dpquat_27.z;
    float xz_77 = dpquat_27.y * dpquat_27.w;
    float yz_77 = dpquat_27.z * dpquat_27.w;
    float wx_77 = dpquat_27.x * dpquat_27.y;
    float wy_77 = dpquat_27.x * dpquat_27.z;
    float wz_77 = dpquat_27.x * dpquat_27.w;
    Matrix<float, 3, 3>  _S8970 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_77 + z2_100), 2.0f * (xy_77 + wz_77), 2.0f * (xz_77 - wy_77), 2.0f * (xy_77 - wz_77), 1.0f - 2.0f * (x2_77 + z2_100), 2.0f * (yz_77 + wx_77), 2.0f * (xz_77 + wy_77), 2.0f * (yz_77 - wx_77), 1.0f - 2.0f * (x2_77 + y2_77))));
    FixedArray<float3 , 7>  _S8971 = {
        _S8966, _S8966, _S8966, _S8966, _S8966, _S8966, _S8966
    };
    FixedArray<float, 7>  _S8972 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S8973;
    (&_S8973)->p_0 = _S8971;
    (&_S8973)->w_mean_0 = _S8972;
    (&_S8973)->w_cov_0 = _S8972;
    (&_S8973)->p_0[int(0)] = dpmean_28;
    SigmaPoints_0 _S8974 = _S8973;
    (&_S8974)->w_mean_0[int(0)] = 0.0f;
    (&_S8974)->w_cov_0[int(0)] = 2.0f;
    float _S8975 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_192 = make_float3 (_S8975 * _S8968.x) * _S8970.rows[0U];
    float3  _S8976 = dpmean_28 + delta_192;
    float3  _S8977 = dpmean_28 - delta_192;
    float3  delta_193 = make_float3 (_S8975 * _S8968.y) * _S8970.rows[1U];
    float3  _S8978 = dpmean_28 + delta_193;
    float3  _S8979 = dpmean_28 - delta_193;
    float3  delta_194 = make_float3 (_S8975 * _S8968.z) * _S8970.rows[2U];
    float3  _S8980 = dpmean_28 + delta_194;
    float3  _S8981 = dpmean_28 - delta_194;
    (&_S8974)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S8974)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S8974)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S8974)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S8974)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S8974)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S8974)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S8974)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S8974)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S8974)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S8974)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S8974)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S8974)->p_0[0U] = s_primal_ctx_mul_0(dpR_28, _S8973.p_0[0U]) + dpt_27;
    (&_S8974)->p_0[1U] = s_primal_ctx_mul_0(dpR_28, _S8976) + dpt_27;
    (&_S8974)->p_0[2U] = s_primal_ctx_mul_0(dpR_28, _S8978) + dpt_27;
    (&_S8974)->p_0[3U] = s_primal_ctx_mul_0(dpR_28, _S8980) + dpt_27;
    (&_S8974)->p_0[4U] = s_primal_ctx_mul_0(dpR_28, _S8977) + dpt_27;
    (&_S8974)->p_0[5U] = s_primal_ctx_mul_0(dpR_28, _S8979) + dpt_27;
    (&_S8974)->p_0[6U] = s_primal_ctx_mul_0(dpR_28, _S8981) + dpt_27;
    float2  _S8982 = _S8965;
    Matrix<float, 2, 2>  _S8983 = _S8964;
    SigmaPoints_0 _S8984 = _S8974;
    bool _S8985 = fisheye_proj_3dgs_ut_1(&_S8984, intrins_61, dist_coeffs_99, &_S8983, &_S8982);
    _s_diff_ctx_40->_S8963 = _S8983;
    float2  _S8986 = _S8982;
    float _S8987 = _S8983.rows[int(0)].y * _S8983.rows[int(1)].x;
    float det_orig_78 = _S8983.rows[int(0)].x * _S8983.rows[int(1)].y - _S8987;
    float _S8988 = _S8983.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S8989 = _S8983;
    *&(((&_S8989)->rows + (int(0)))->x) = _S8988;
    float _S8990 = _S8983.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S8989)->rows + (int(1)))->y) = _S8990;
    Matrix<float, 2, 2>  _S8991 = _S8989;
    Matrix<float, 2, 2>  _S8992 = _S8989;
    float _S8993 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_78 / (_S8988 * _S8990 - _S8987)));
    float _S8994 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_26));
    float _S8995;
    if(antialiased_84)
    {
        _S8995 = _S8994 * _S8993;
    }
    else
    {
        _S8995 = _S8994;
    }
    float _S8996 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S8995 / 0.00392156885936856f)));
    float radius_x_51 = _S8996 * s_primal_ctx_sqrt_0(_S8991.rows[int(0)].x);
    float radius_y_51 = _S8996 * s_primal_ctx_sqrt_0(_S8992.rows[int(1)].y);
    float _S8997 = _S8986.x;
    float _S8998 = _S8986.y;
    float _S8999 = mean_c_73.z;
    float _S9000 = s_primal_ctx_max_0(_S8999, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S8999 + _S8967));
    float3  _S9001 = s_primal_ctx_exp_0(- dpscale_27);
    float3  _S9002 = dpmean_28 - - s_primal_ctx_mul_0(transpose_0(dpR_28), dpt_27);
    float3  _S9003 = _S9002 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S9002, _S9002)));
    float _S9004 = s_primal_ctx_dot_0((*dpsv_sites_26)[int(7)], _S9003);
    float _S9005 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(0)], _S9003) - _S9004);
    float _S9006 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(1)], _S9003) - _S9004);
    float _S9007 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(2)], _S9003) - _S9004);
    float _S9008 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(3)], _S9003) - _S9004);
    float _S9009 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(4)], _S9003) - _S9004);
    float _S9010 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(5)], _S9003) - _S9004);
    float _S9011 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(6)], _S9003) - _S9004);
    float _S9012 = s_primal_ctx_exp_1(0.0f);
    float3  _S9013 = s_primal_ctx_max_1((make_float3 (_S9005) * (*dpsv_colors_26)[int(0)] + make_float3 (_S9006) * (*dpsv_colors_26)[int(1)] + make_float3 (_S9007) * (*dpsv_colors_26)[int(2)] + make_float3 (_S9008) * (*dpsv_colors_26)[int(3)] + make_float3 (_S9009) * (*dpsv_colors_26)[int(4)] + make_float3 (_S9010) * (*dpsv_colors_26)[int(5)] + make_float3 (_S9011) * (*dpsv_colors_26)[int(6)] + make_float3 (_S9012) * (*dpsv_colors_26)[int(7)]) / make_float3 (_S9005 + _S9006 + _S9007 + _S9008 + _S9009 + _S9010 + _S9011 + _S9012) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_51 = make_int4 (int((F32_floor((_S8997 - radius_x_51)))), int((F32_floor((_S8998 - radius_y_51)))), int((F32_ceil((_S8997 + radius_x_51)))), int((F32_ceil((_S8998 + radius_y_51)))));
    *dpmean2d_30 = _S8986;
    *dpdepth_27 = _S9000;
    *dpconic_26 = _S9001;
    *dpopacity_28 = _S8995;
    *dprgb_27 = _S9013;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_85, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_29, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_28, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_28, DiffPair_float_0 * dpin_opacity_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_27, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_29, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_28, float fx_97, float fy_97, float cx_92, float cy_92, FixedArray<float, 10>  * dist_coeffs_100, uint image_width_85, uint image_height_85, float near_plane_65, float far_plane_65, float2  dpmean2d_31, float dpdepth_28, float3  dpconic_27, float dpopacity_29, float3  dprgb_28, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_41)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9014 = *dpmean_29;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S9015 = *dpquat_28;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9016 = *dpscale_28;
    FixedArray<float3 , 8>  _S9017 = dpsv_sites_27->primal_0;
    FixedArray<float3 , 8>  _S9018 = dpsv_colors_27->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9019 = *dpR_29;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9020 = *dpt_28;
    float3  _S9021 = make_float3 (0.0f);
    float3  mean_c_74 = s_primal_ctx_mul_0((*dpR_29).primal_0, (*dpmean_29).primal_0) + (*dpt_28).primal_0;
    float _S9022 = length_1(mean_c_74);
    float3  _S9023 = s_primal_ctx_exp_0((*dpscale_28).primal_0);
    float _S9024 = (*dpquat_28).primal_0.y;
    float x2_78 = _S9024 * _S9024;
    float y2_78 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.z;
    float z2_101 = (*dpquat_28).primal_0.w * (*dpquat_28).primal_0.w;
    float xy_78 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.z;
    float xz_78 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.w;
    float yz_78 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.w;
    float wx_78 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.y;
    float wy_78 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.z;
    float wz_78 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.w;
    Matrix<float, 3, 3>  _S9025 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_78 + z2_101), 2.0f * (xy_78 + wz_78), 2.0f * (xz_78 - wy_78), 2.0f * (xy_78 - wz_78), 1.0f - 2.0f * (x2_78 + z2_101), 2.0f * (yz_78 + wx_78), 2.0f * (xz_78 + wy_78), 2.0f * (yz_78 - wx_78), 1.0f - 2.0f * (x2_78 + y2_78))));
    FixedArray<float3 , 7>  _S9026 = {
        _S9021, _S9021, _S9021, _S9021, _S9021, _S9021, _S9021
    };
    FixedArray<float, 7>  _S9027 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S9028;
    (&_S9028)->p_0 = _S9026;
    (&_S9028)->w_mean_0 = _S9027;
    (&_S9028)->w_cov_0 = _S9027;
    (&_S9028)->p_0[int(0)] = (*dpmean_29).primal_0;
    float _S9029 = s_primal_ctx_sqrt_0(3.0f);
    float _S9030 = _S9029 * _S9023.x;
    float3  _S9031 = make_float3 (_S9030);
    float3  delta_195 = make_float3 (_S9030) * _S9025.rows[0U];
    float3  _S9032 = (*dpmean_29).primal_0 + delta_195;
    float3  _S9033 = (*dpmean_29).primal_0 - delta_195;
    float _S9034 = _S9029 * _S9023.y;
    float3  _S9035 = make_float3 (_S9034);
    float3  delta_196 = make_float3 (_S9034) * _S9025.rows[1U];
    float3  _S9036 = (*dpmean_29).primal_0 + delta_196;
    float3  _S9037 = (*dpmean_29).primal_0 - delta_196;
    float _S9038 = _S9029 * _S9023.z;
    float3  _S9039 = make_float3 (_S9038);
    float3  delta_197 = make_float3 (_S9038) * _S9025.rows[2U];
    float3  _S9040 = (*dpmean_29).primal_0 + delta_197;
    float3  _S9041 = (*dpmean_29).primal_0 - delta_197;
    SigmaPoints_0 _S9042 = _S9028;
    float _S9043 = *&(((&_s_diff_ctx_41->_S8963)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_41->_S8963)->rows + (int(1)))->x);
    float det_orig_79 = *&(((&_s_diff_ctx_41->_S8963)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_41->_S8963)->rows + (int(1)))->y) - _S9043;
    float _S9044 = *&(((&_s_diff_ctx_41->_S8963)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S9045 = _s_diff_ctx_41->_S8963;
    *&(((&_S9045)->rows + (int(0)))->x) = _S9044;
    float _S9046 = *&(((&_s_diff_ctx_41->_S8963)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S9045)->rows + (int(1)))->y) = _S9046;
    Matrix<float, 2, 2>  _S9047 = _S9045;
    Matrix<float, 2, 2>  _S9048 = _S9045;
    float det_blur_46 = _S9044 * _S9046 - _S9043;
    float _S9049 = det_orig_79 / det_blur_46;
    float _S9050 = det_blur_46 * det_blur_46;
    float _S9051 = s_primal_ctx_max_0(0.0f, _S9049);
    float _S9052 = s_primal_ctx_sqrt_0(_S9051);
    float _S9053 = - (*dpin_opacity_27).primal_0;
    float _S9054 = 1.0f + s_primal_ctx_exp_1(_S9053);
    float _S9055 = 1.0f / _S9054;
    float _S9056 = _S9054 * _S9054;
    float _S9057;
    if(antialiased_85)
    {
        _S9057 = _S9055 * _S9052;
    }
    else
    {
        _S9057 = _S9055;
    }
    float _S9058 = _S9057 / 0.00392156885936856f;
    float _S9059 = 2.0f * s_primal_ctx_log_0(_S9058);
    float _S9060 = s_primal_ctx_sqrt_0(_S9059);
    float _S9061 = _S9047.rows[int(0)].x;
    float _S9062 = _S9048.rows[int(1)].y;
    float _S9063 = mean_c_74.z;
    float _S9064 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S9065 = _S9064 * (_S9063 + _S9022);
    float3  _S9066 = - _S9016.primal_0;
    Matrix<float, 3, 3>  _S9067 = transpose_0(_S9019.primal_0);
    float3  _S9068 = _S9014.primal_0 - - s_primal_ctx_mul_0(_S9067, _S9020.primal_0);
    float _S9069 = s_primal_ctx_dot_0(_S9068, _S9068);
    float _S9070 = s_primal_ctx_rsqrt_0(_S9069);
    float3  _S9071 = make_float3 (_S9070);
    float3  _S9072 = _S9068 * make_float3 (_S9070);
    float _S9073 = s_primal_ctx_dot_0(_S9017[int(7)], _S9072);
    float _S9074 = s_primal_ctx_dot_0(_S9017[int(0)], _S9072) - _S9073;
    float _S9075 = s_primal_ctx_exp_1(_S9074);
    float3  _S9076 = make_float3 (_S9075);
    float _S9077 = s_primal_ctx_dot_0(_S9017[int(1)], _S9072) - _S9073;
    float _S9078 = s_primal_ctx_exp_1(_S9077);
    float3  _S9079 = make_float3 (_S9078);
    float _S9080 = s_primal_ctx_dot_0(_S9017[int(2)], _S9072) - _S9073;
    float _S9081 = s_primal_ctx_exp_1(_S9080);
    float3  _S9082 = make_float3 (_S9081);
    float _S9083 = s_primal_ctx_dot_0(_S9017[int(3)], _S9072) - _S9073;
    float _S9084 = s_primal_ctx_exp_1(_S9083);
    float3  _S9085 = make_float3 (_S9084);
    float _S9086 = s_primal_ctx_dot_0(_S9017[int(4)], _S9072) - _S9073;
    float _S9087 = s_primal_ctx_exp_1(_S9086);
    float3  _S9088 = make_float3 (_S9087);
    float _S9089 = s_primal_ctx_dot_0(_S9017[int(5)], _S9072) - _S9073;
    float _S9090 = s_primal_ctx_exp_1(_S9089);
    float3  _S9091 = make_float3 (_S9090);
    float _S9092 = s_primal_ctx_dot_0(_S9017[int(6)], _S9072) - _S9073;
    float _S9093 = s_primal_ctx_exp_1(_S9092);
    float3  _S9094 = make_float3 (_S9093);
    float _S9095 = s_primal_ctx_exp_1(0.0f);
    float3  _S9096 = make_float3 (_S9095);
    float total_w_13 = _S9075 + _S9078 + _S9081 + _S9084 + _S9087 + _S9090 + _S9093 + _S9095;
    float3  _S9097 = make_float3 (total_w_13);
    float3  total_c_13 = make_float3 (_S9075) * _S9018[int(0)] + make_float3 (_S9078) * _S9018[int(1)] + make_float3 (_S9081) * _S9018[int(2)] + make_float3 (_S9084) * _S9018[int(3)] + make_float3 (_S9087) * _S9018[int(4)] + make_float3 (_S9090) * _S9018[int(5)] + make_float3 (_S9093) * _S9018[int(6)] + make_float3 (_S9095) * _S9018[int(7)];
    float3  _S9098 = make_float3 (total_w_13 * total_w_13);
    float3  _S9099 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9100;
    (&_S9100)->primal_0 = total_c_13 / make_float3 (total_w_13) + make_float3 (0.5f);
    (&_S9100)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9101;
    (&_S9101)->primal_0 = _S9099;
    (&_S9101)->differential_0 = _S9021;
    s_bwd_prop_max_0(&_S9100, &_S9101, dprgb_28);
    float3  _S9102 = _S9100.differential_0 / _S9098;
    float3  _S9103 = total_c_13 * - _S9102;
    float3  s_diff_total_c_T_13 = _S9097 * _S9102;
    float3  _S9104 = _S9096 * s_diff_total_c_T_13;
    float _S9105 = _S9103.x + _S9103.y + _S9103.z;
    float3  _S9106 = _S9094 * s_diff_total_c_T_13;
    float3  _S9107 = _S9018[int(6)] * s_diff_total_c_T_13;
    float _S9108 = _S9105 + _S9107.x + _S9107.y + _S9107.z;
    DiffPair_float_0 _S9109;
    (&_S9109)->primal_0 = _S9092;
    (&_S9109)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9109, _S9108);
    float _S9110 = - _S9109.differential_0;
    float3  _S9111 = _S9091 * s_diff_total_c_T_13;
    float3  _S9112 = _S9018[int(5)] * s_diff_total_c_T_13;
    float _S9113 = _S9105 + _S9112.x + _S9112.y + _S9112.z;
    DiffPair_float_0 _S9114;
    (&_S9114)->primal_0 = _S9089;
    (&_S9114)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9114, _S9113);
    float _S9115 = - _S9114.differential_0;
    float3  _S9116 = _S9088 * s_diff_total_c_T_13;
    float3  _S9117 = _S9018[int(4)] * s_diff_total_c_T_13;
    float _S9118 = _S9105 + _S9117.x + _S9117.y + _S9117.z;
    DiffPair_float_0 _S9119;
    (&_S9119)->primal_0 = _S9086;
    (&_S9119)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9119, _S9118);
    float _S9120 = - _S9119.differential_0;
    float3  _S9121 = _S9085 * s_diff_total_c_T_13;
    float3  _S9122 = _S9018[int(3)] * s_diff_total_c_T_13;
    float _S9123 = _S9105 + _S9122.x + _S9122.y + _S9122.z;
    DiffPair_float_0 _S9124;
    (&_S9124)->primal_0 = _S9083;
    (&_S9124)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9124, _S9123);
    float _S9125 = - _S9124.differential_0;
    float3  _S9126 = _S9082 * s_diff_total_c_T_13;
    float3  _S9127 = _S9018[int(2)] * s_diff_total_c_T_13;
    float _S9128 = _S9105 + _S9127.x + _S9127.y + _S9127.z;
    DiffPair_float_0 _S9129;
    (&_S9129)->primal_0 = _S9080;
    (&_S9129)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9129, _S9128);
    float _S9130 = - _S9129.differential_0;
    float3  _S9131 = _S9079 * s_diff_total_c_T_13;
    float3  _S9132 = _S9018[int(1)] * s_diff_total_c_T_13;
    float _S9133 = _S9105 + _S9132.x + _S9132.y + _S9132.z;
    DiffPair_float_0 _S9134;
    (&_S9134)->primal_0 = _S9077;
    (&_S9134)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9134, _S9133);
    float _S9135 = - _S9134.differential_0;
    float3  _S9136 = _S9076 * s_diff_total_c_T_13;
    float3  _S9137 = _S9018[int(0)] * s_diff_total_c_T_13;
    float _S9138 = _S9105 + _S9137.x + _S9137.y + _S9137.z;
    DiffPair_float_0 _S9139;
    (&_S9139)->primal_0 = _S9074;
    (&_S9139)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9139, _S9138);
    float _S9140 = _S9110 + _S9115 + _S9120 + _S9125 + _S9130 + _S9135 + - _S9139.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9141;
    (&_S9141)->primal_0 = _S9017[int(7)];
    (&_S9141)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9142;
    (&_S9142)->primal_0 = _S9072;
    (&_S9142)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9141, &_S9142, _S9140);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9143;
    (&_S9143)->primal_0 = _S9017[int(6)];
    (&_S9143)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9144;
    (&_S9144)->primal_0 = _S9072;
    (&_S9144)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9143, &_S9144, _S9109.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9145;
    (&_S9145)->primal_0 = _S9017[int(5)];
    (&_S9145)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9146;
    (&_S9146)->primal_0 = _S9072;
    (&_S9146)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9145, &_S9146, _S9114.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9147;
    (&_S9147)->primal_0 = _S9017[int(4)];
    (&_S9147)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9148;
    (&_S9148)->primal_0 = _S9072;
    (&_S9148)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9147, &_S9148, _S9119.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9149;
    (&_S9149)->primal_0 = _S9017[int(3)];
    (&_S9149)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9150;
    (&_S9150)->primal_0 = _S9072;
    (&_S9150)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9149, &_S9150, _S9124.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9151;
    (&_S9151)->primal_0 = _S9017[int(2)];
    (&_S9151)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9152;
    (&_S9152)->primal_0 = _S9072;
    (&_S9152)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9151, &_S9152, _S9129.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9153;
    (&_S9153)->primal_0 = _S9017[int(1)];
    (&_S9153)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9154;
    (&_S9154)->primal_0 = _S9072;
    (&_S9154)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9153, &_S9154, _S9134.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9155;
    (&_S9155)->primal_0 = _S9017[int(0)];
    (&_S9155)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9156;
    (&_S9156)->primal_0 = _S9072;
    (&_S9156)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9155, &_S9156, _S9139.differential_0);
    float3  _S9157 = _S9142.differential_0 + _S9144.differential_0 + _S9146.differential_0 + _S9148.differential_0 + _S9150.differential_0 + _S9152.differential_0 + _S9154.differential_0 + _S9156.differential_0;
    float3  _S9158 = _S9068 * _S9157;
    float3  _S9159 = _S9071 * _S9157;
    float _S9160 = _S9158.x + _S9158.y + _S9158.z;
    DiffPair_float_0 _S9161;
    (&_S9161)->primal_0 = _S9069;
    (&_S9161)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S9161, _S9160);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9162;
    (&_S9162)->primal_0 = _S9068;
    (&_S9162)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9163;
    (&_S9163)->primal_0 = _S9068;
    (&_S9163)->differential_0 = _S9021;
    s_bwd_prop_dot_0(&_S9162, &_S9163, _S9161.differential_0);
    float3  _S9164 = _S9159 + _S9163.differential_0 + _S9162.differential_0;
    float3  _S9165 = - - _S9164;
    Matrix<float, 3, 3>  _S9166 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9167;
    (&_S9167)->primal_0 = _S9067;
    (&_S9167)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9168;
    (&_S9168)->primal_0 = _S9020.primal_0;
    (&_S9168)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9167, &_S9168, _S9165);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9169 = _S9168;
    Matrix<float, 3, 3>  _S9170 = transpose_0(_S9167.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9171;
    (&_S9171)->primal_0 = _S9066;
    (&_S9171)->differential_0 = _S9021;
    s_bwd_prop_exp_1(&_S9171, dpconic_27);
    float3  _S9172 = - _S9171.differential_0;
    DiffPair_float_0 _S9173;
    (&_S9173)->primal_0 = _S9063;
    (&_S9173)->differential_0 = 0.0f;
    DiffPair_float_0 _S9174;
    (&_S9174)->primal_0 = _S9065;
    (&_S9174)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9173, &_S9174, dpdepth_28);
    float _S9175 = _S9064 * _S9174.differential_0;
    float _S9176 = _S9173.differential_0 + _S9175;
    DiffPair_float_0 _S9177;
    (&_S9177)->primal_0 = _S9062;
    (&_S9177)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9177, 0.0f);
    DiffPair_float_0 _S9178;
    (&_S9178)->primal_0 = _S9061;
    (&_S9178)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9178, 0.0f);
    DiffPair_float_0 _S9179;
    (&_S9179)->primal_0 = 3.32999992370605469f;
    (&_S9179)->differential_0 = 0.0f;
    DiffPair_float_0 _S9180;
    (&_S9180)->primal_0 = _S9060;
    (&_S9180)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9179, &_S9180, 0.0f);
    DiffPair_float_0 _S9181;
    (&_S9181)->primal_0 = _S9059;
    (&_S9181)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9181, _S9180.differential_0);
    float _S9182 = 2.0f * _S9181.differential_0;
    DiffPair_float_0 _S9183;
    (&_S9183)->primal_0 = _S9058;
    (&_S9183)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S9183, _S9182);
    float _S9184 = dpopacity_29 + 254.9999847412109375f * _S9183.differential_0;
    FixedArray<float3 , 8>  _S9185;
    _S9185[int(0)] = _S9021;
    _S9185[int(1)] = _S9021;
    _S9185[int(2)] = _S9021;
    _S9185[int(3)] = _S9021;
    _S9185[int(4)] = _S9021;
    _S9185[int(5)] = _S9021;
    _S9185[int(6)] = _S9021;
    _S9185[int(7)] = _S9021;
    _S9185[int(7)] = _S9104;
    _S9185[int(6)] = _S9106;
    _S9185[int(5)] = _S9111;
    _S9185[int(4)] = _S9116;
    _S9185[int(3)] = _S9121;
    _S9185[int(2)] = _S9126;
    _S9185[int(1)] = _S9131;
    _S9185[int(0)] = _S9136;
    FixedArray<float3 , 8>  _S9186 = {
        _S9185[int(0)], _S9185[int(1)], _S9185[int(2)], _S9185[int(3)], _S9185[int(4)], _S9185[int(5)], _S9185[int(6)], _S9185[int(7)]
    };
    FixedArray<float3 , 8>  _S9187;
    _S9187[int(0)] = _S9021;
    _S9187[int(1)] = _S9021;
    _S9187[int(2)] = _S9021;
    _S9187[int(3)] = _S9021;
    _S9187[int(4)] = _S9021;
    _S9187[int(5)] = _S9021;
    _S9187[int(6)] = _S9021;
    _S9187[int(7)] = _S9021;
    _S9187[int(7)] = _S9141.differential_0;
    _S9187[int(6)] = _S9143.differential_0;
    _S9187[int(5)] = _S9145.differential_0;
    _S9187[int(4)] = _S9147.differential_0;
    _S9187[int(3)] = _S9149.differential_0;
    _S9187[int(2)] = _S9151.differential_0;
    _S9187[int(1)] = _S9153.differential_0;
    _S9187[int(0)] = _S9155.differential_0;
    FixedArray<float3 , 8>  _S9188 = {
        _S9187[int(0)], _S9187[int(1)], _S9187[int(2)], _S9187[int(3)], _S9187[int(4)], _S9187[int(5)], _S9187[int(6)], _S9187[int(7)]
    };
    float3  _S9189 = make_float3 (0.0f, 0.0f, _S9176);
    float2  _S9190 = make_float2 (0.0f, _S9177.differential_0);
    float2  _S9191 = make_float2 (_S9178.differential_0, 0.0f);
    float _S9192;
    if(antialiased_85)
    {
        float _S9193 = _S9055 * _S9184;
        _S9057 = _S9052 * _S9184;
        _S9192 = _S9193;
    }
    else
    {
        _S9057 = _S9184;
        _S9192 = 0.0f;
    }
    float _S9194 = - (_S9057 / _S9056);
    DiffPair_float_0 _S9195;
    (&_S9195)->primal_0 = _S9053;
    (&_S9195)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9195, _S9194);
    float _S9196 = - _S9195.differential_0;
    DiffPair_float_0 _S9197;
    (&_S9197)->primal_0 = _S9051;
    (&_S9197)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9197, _S9192);
    DiffPair_float_0 _S9198;
    (&_S9198)->primal_0 = 0.0f;
    (&_S9198)->differential_0 = 0.0f;
    DiffPair_float_0 _S9199;
    (&_S9199)->primal_0 = _S9049;
    (&_S9199)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9198, &_S9199, _S9197.differential_0);
    float _S9200 = _S9199.differential_0 / _S9050;
    float s_diff_det_blur_T_17 = det_orig_79 * - _S9200;
    float s_diff_det_orig_T_20 = det_blur_46 * _S9200;
    float _S9201 = - s_diff_det_blur_T_17;
    float _S9202 = _S9044 * s_diff_det_blur_T_17;
    float _S9203 = _S9046 * s_diff_det_blur_T_17;
    Matrix<float, 2, 2>  _S9204 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S9205 = _S9204;
    _S9205[int(1)] = _S9190;
    _S9205[int(0)] = _S9191;
    float _S9206 = _S9203 + _S9205.rows[int(0)].x;
    float _S9207 = _S9201 + - s_diff_det_orig_T_20;
    float _S9208 = *&(((&_s_diff_ctx_41->_S8963)->rows + (int(0)))->y) * _S9207;
    float _S9209 = *&(((&_s_diff_ctx_41->_S8963)->rows + (int(1)))->x) * _S9207;
    float _S9210 = *&(((&_s_diff_ctx_41->_S8963)->rows + (int(1)))->y) * s_diff_det_orig_T_20;
    float _S9211 = _S9202 + _S9205.rows[int(1)].y + *&(((&_s_diff_ctx_41->_S8963)->rows + (int(0)))->x) * s_diff_det_orig_T_20;
    float2  _S9212 = make_float2 (0.0f);
    float2  _S9213 = _S9212;
    *&((&_S9213)->x) = _S9208;
    *&((&_S9213)->y) = _S9211;
    float _S9214 = _S9206 + _S9210;
    float2  _S9215 = _S9212;
    *&((&_S9215)->y) = _S9209;
    *&((&_S9215)->x) = _S9214;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9216;
    (&_S9216)->primal_0 = _S9019.primal_0;
    (&_S9216)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9217;
    (&_S9217)->primal_0 = _S9041;
    (&_S9217)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9216, &_S9217, _S9021);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9218;
    (&_S9218)->primal_0 = _S9019.primal_0;
    (&_S9218)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9219;
    (&_S9219)->primal_0 = _S9037;
    (&_S9219)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9218, &_S9219, _S9021);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9220;
    (&_S9220)->primal_0 = _S9019.primal_0;
    (&_S9220)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9221;
    (&_S9221)->primal_0 = _S9033;
    (&_S9221)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9220, &_S9221, _S9021);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9222;
    (&_S9222)->primal_0 = _S9019.primal_0;
    (&_S9222)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9223;
    (&_S9223)->primal_0 = _S9040;
    (&_S9223)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9222, &_S9223, _S9021);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9224;
    (&_S9224)->primal_0 = _S9019.primal_0;
    (&_S9224)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9225;
    (&_S9225)->primal_0 = _S9036;
    (&_S9225)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9224, &_S9225, _S9021);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9226;
    (&_S9226)->primal_0 = _S9019.primal_0;
    (&_S9226)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9227;
    (&_S9227)->primal_0 = _S9032;
    (&_S9227)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9226, &_S9227, _S9021);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9228;
    (&_S9228)->primal_0 = _S9019.primal_0;
    (&_S9228)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9229;
    (&_S9229)->primal_0 = _S9042.p_0[0U];
    (&_S9229)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9228, &_S9229, _S9021);
    float3  _S9230 = - _S9217.differential_0 + _S9223.differential_0;
    float3  _S9231 = _S9039 * _S9230;
    float3  _S9232 = _S9025.rows[2U] * _S9230;
    float _S9233 = _S9029 * (_S9232.x + _S9232.y + _S9232.z);
    float3  _S9234 = - _S9219.differential_0 + _S9225.differential_0;
    float3  _S9235 = _S9035 * _S9234;
    float3  _S9236 = _S9025.rows[1U] * _S9234;
    float _S9237 = _S9029 * (_S9236.x + _S9236.y + _S9236.z);
    float3  _S9238 = - _S9221.differential_0 + _S9227.differential_0;
    float3  _S9239 = _S9031 * _S9238;
    float3  _S9240 = _S9025.rows[0U] * _S9238;
    float _S9241 = _S9029 * (_S9240.x + _S9240.y + _S9240.z);
    Matrix<float, 3, 3>  _S9242 = _S9166;
    _S9242[2U] = _S9231;
    _S9242[1U] = _S9235;
    _S9242[0U] = _S9239;
    Matrix<float, 3, 3>  _S9243 = transpose_0(transpose_0(_S9242));
    float _S9244 = 2.0f * - _S9243.rows[int(2)].z;
    float _S9245 = 2.0f * _S9243.rows[int(2)].y;
    float _S9246 = 2.0f * _S9243.rows[int(2)].x;
    float _S9247 = 2.0f * _S9243.rows[int(1)].z;
    float _S9248 = 2.0f * - _S9243.rows[int(1)].y;
    float _S9249 = 2.0f * _S9243.rows[int(1)].x;
    float _S9250 = 2.0f * _S9243.rows[int(0)].z;
    float _S9251 = 2.0f * _S9243.rows[int(0)].y;
    float _S9252 = 2.0f * - _S9243.rows[int(0)].x;
    float _S9253 = - _S9249 + _S9251;
    float _S9254 = _S9246 + - _S9250;
    float _S9255 = - _S9245 + _S9247;
    float _S9256 = _S9245 + _S9247;
    float _S9257 = _S9246 + _S9250;
    float _S9258 = _S9249 + _S9251;
    float _S9259 = _S9015.primal_0.w * (_S9248 + _S9252);
    float _S9260 = _S9015.primal_0.z * (_S9244 + _S9252);
    float _S9261 = _S9015.primal_0.y * (_S9244 + _S9248);
    float _S9262 = _S9015.primal_0.x * _S9253 + _S9015.primal_0.z * _S9256 + _S9015.primal_0.y * _S9257 + _S9259 + _S9259;
    float _S9263 = _S9015.primal_0.x * _S9254 + _S9015.primal_0.w * _S9256 + _S9015.primal_0.y * _S9258 + _S9260 + _S9260;
    float _S9264 = _S9015.primal_0.x * _S9255 + _S9015.primal_0.w * _S9257 + _S9015.primal_0.z * _S9258 + _S9261 + _S9261;
    float _S9265 = _S9015.primal_0.w * _S9253 + _S9015.primal_0.z * _S9254 + _S9015.primal_0.y * _S9255;
    float3  _S9266 = _S9021;
    *&((&_S9266)->z) = _S9233;
    *&((&_S9266)->y) = _S9237;
    *&((&_S9266)->x) = _S9241;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9267;
    (&_S9267)->primal_0 = _S9016.primal_0;
    (&_S9267)->differential_0 = _S9021;
    s_bwd_prop_exp_1(&_S9267, _S9266);
    Matrix<float, 2, 2>  _S9268 = _S9204;
    _S9268[int(1)] = _S9213;
    _S9268[int(0)] = _S9215;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9269;
    (&_S9269)->primal_0 = mean_c_74;
    (&_S9269)->differential_0 = _S9021;
    s_bwd_length_impl_1(&_S9269, _S9175);
    float3  _S9270 = _S9269.differential_0 + _S9189;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9271;
    (&_S9271)->primal_0 = _S9019.primal_0;
    (&_S9271)->differential_0 = _S9166;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9272;
    (&_S9272)->primal_0 = _S9014.primal_0;
    (&_S9272)->differential_0 = _S9021;
    s_bwd_prop_mul_1(&_S9271, &_S9272, _S9270);
    float3  _S9273 = _S9270 + _S9169.differential_0;
    dpt_28->primal_0 = (*dpt_28).primal_0;
    dpt_28->differential_0 = _S9273;
    Matrix<float, 3, 3>  _S9274 = _S9216.differential_0 + _S9218.differential_0 + _S9220.differential_0 + _S9222.differential_0 + _S9224.differential_0 + _S9226.differential_0 + _S9228.differential_0 + _S9271.differential_0 + _S9170;
    dpR_29->primal_0 = (*dpR_29).primal_0;
    dpR_29->differential_0 = _S9274;
    dpsv_colors_27->primal_0 = dpsv_colors_27->primal_0;
    dpsv_colors_27->differential_0 = _S9186;
    dpsv_sites_27->primal_0 = dpsv_sites_27->primal_0;
    dpsv_sites_27->differential_0 = _S9188;
    dpin_opacity_27->primal_0 = (*dpin_opacity_27).primal_0;
    dpin_opacity_27->differential_0 = _S9196;
    float3  _S9275 = _S9267.differential_0 + _S9172;
    dpscale_28->primal_0 = (*dpscale_28).primal_0;
    dpscale_28->differential_0 = _S9275;
    float4  _S9276 = make_float4 (0.0f);
    *&((&_S9276)->w) = _S9262;
    *&((&_S9276)->z) = _S9263;
    *&((&_S9276)->y) = _S9264;
    *&((&_S9276)->x) = _S9265;
    dpquat_28->primal_0 = (*dpquat_28).primal_0;
    dpquat_28->differential_0 = _S9276;
    float3  _S9277 = _S9217.differential_0 + _S9223.differential_0 + _S9219.differential_0 + _S9225.differential_0 + _S9221.differential_0 + _S9227.differential_0 + _S9272.differential_0 + _S9164;
    dpmean_29->primal_0 = (*dpmean_29).primal_0;
    dpmean_29->differential_0 = _S9277;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_6(bool _S9278, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9279, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S9280, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9281, DiffPair_float_0 * _S9282, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S9283, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S9284, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S9285, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9286, float _S9287, float _S9288, float _S9289, float _S9290, FixedArray<float, 10>  * _S9291, uint _S9292, uint _S9293, float _S9294, float _S9295, float2  _S9296, float _S9297, float3  _S9298, float _S9299, float3  _S9300)
{
    FixedArray<float3 , 8>  _S9301 = _S9283->primal_0;
    FixedArray<float3 , 8>  _S9302 = _S9284->primal_0;
    int4  _S9303;
    float2  _S9304;
    float _S9305;
    float3  _S9306;
    float _S9307;
    float3  _S9308;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S9309;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(_S9278, (*_S9279).primal_0, (*_S9280).primal_0, (*_S9281).primal_0, (*_S9282).primal_0, &_S9301, &_S9302, (*_S9285).primal_0, (*_S9286).primal_0, _S9287, _S9288, _S9289, _S9290, _S9291, _S9292, _S9293, _S9294, _S9295, &_S9303, &_S9304, &_S9305, &_S9306, &_S9307, &_S9308, &_S9309);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S9310 = _S9309;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(_S9278, _S9279, _S9280, _S9281, _S9282, _S9283, _S9284, _S9285, _S9286, _S9287, _S9288, _S9289, _S9290, _S9291, _S9292, _S9293, _S9294, _S9295, _S9296, _S9297, _S9298, _S9299, _S9300, &_S9310);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_86, float3  mean_63, float4  quat_64, float3  scale_63, float in_opacity_58, FixedArray<float3 , 8>  * sv_sites_41, FixedArray<float3 , 8>  * sv_colors_41, Matrix<float, 3, 3>  R_65, float3  t_61, float fx_98, float fy_98, float cx_93, float cy_93, FixedArray<float, 10>  * dist_coeffs_101, uint image_width_86, uint image_height_86, float2  v_mean2d_20, float v_depth_21, float3  v_conic_20, float v_opacity_22, float3  v_rgb_21, float3  * v_mean_22, float4  * v_quat_21, float3  * v_scale_21, float * v_in_opacity_20, FixedArray<float3 , 8>  * v_sv_dirs_13, FixedArray<float3 , 8>  * v_sv_colors_13, Matrix<float, 3, 3>  * v_R_22, float3  * v_t_21)
{
    float3  _S9311 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_15;
    (&dp_mean_15)->primal_0 = mean_63;
    (&dp_mean_15)->differential_0 = _S9311;
    float4  _S9312 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_14;
    (&dp_quat_14)->primal_0 = quat_64;
    (&dp_quat_14)->differential_0 = _S9312;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_14;
    (&dp_scale_14)->primal_0 = scale_63;
    (&dp_scale_14)->differential_0 = _S9311;
    DiffPair_float_0 dp_in_opacity_13;
    (&dp_in_opacity_13)->primal_0 = in_opacity_58;
    (&dp_in_opacity_13)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S9313 = { _S9311, _S9311, _S9311, _S9311, _S9311, _S9311, _S9311, _S9311 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_13;
    (&dp_sv_dirs_13)->primal_0 = *sv_sites_41;
    (&dp_sv_dirs_13)->differential_0 = _S9313;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_13;
    (&dp_sv_colors_13)->primal_0 = *sv_colors_41;
    (&dp_sv_colors_13)->differential_0 = _S9313;
    Matrix<float, 3, 3>  _S9314 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_15;
    (&dp_R_15)->primal_0 = R_65;
    (&dp_R_15)->differential_0 = _S9314;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_14;
    (&dp_t_14)->primal_0 = t_61;
    (&dp_t_14)->differential_0 = _S9311;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_6(antialiased_86, &dp_mean_15, &dp_quat_14, &dp_scale_14, &dp_in_opacity_13, &dp_sv_dirs_13, &dp_sv_colors_13, &dp_R_15, &dp_t_14, fx_98, fy_98, cx_93, cy_93, dist_coeffs_101, image_width_86, image_height_86, 0.0f, 1.00000001504746622e+30f, v_mean2d_20, v_depth_21, v_conic_20, v_opacity_22, v_rgb_21);
    *v_mean_22 = dp_mean_15.differential_0;
    *v_quat_21 = dp_quat_14.differential_0;
    *v_scale_21 = dp_scale_14.differential_0;
    *v_in_opacity_20 = dp_in_opacity_13.differential_0;
    *v_sv_dirs_13 = (&dp_sv_dirs_13)->differential_0;
    *v_sv_colors_13 = (&dp_sv_colors_13)->differential_0;
    *v_R_22 = dp_R_15.differential_0;
    *v_t_21 = dp_t_14.differential_0;
    return;
}

inline __device__ void _d_abs_0(DiffPair_float_0 * dpx_19, float dOut_17)
{
    float _S9315 = _slang_select(((*dpx_19).primal_0) > 0.0f, 1.0f,_slang_select(((*dpx_19).primal_0) == 0.0f, 0.0f,-1.0f)) * dOut_17;
    dpx_19->primal_0 = (*dpx_19).primal_0;
    dpx_19->differential_0 = _S9315;
    return;
}

inline __device__ void _d_exp2_0(DiffPair_float_0 * dpx_20, float dOut_18)
{
    float _S9316 = (F32_exp2(((*dpx_20).primal_0))) * 0.693145751953125f * dOut_18;
    dpx_20->primal_0 = (*dpx_20).primal_0;
    dpx_20->differential_0 = _S9316;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp(float3  mean_64, float4  quat_65, float3  scale_64, float2  hardness_0, FixedArray<float3 , 16>  * sh_coeffs_17, FixedArray<float3 , 2>  * ch_coeffs_0, Matrix<float, 3, 3>  R_66, float3  t_62, float fx_99, float fy_99, float cx_94, float cy_94, FixedArray<float, 10>  * dist_coeffs_102, uint image_width_87, uint image_height_87, float near_plane_66, float far_plane_66, int4  * aabb_xyxy_52, float * depth_39, FixedArray<float3 , 3>  * verts_0, FixedArray<float3 , 3>  * rgbs_0, float3  * normal_0)
{
    for(;;)
    {
        float3  mean_c_75 = mul_0(R_66, mean_64) + t_62;
        float _S9317 = mean_c_75.z;
        bool _S9318;
        if(_S9317 < near_plane_66)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = _S9317 > far_plane_66;
        }
        if(_S9318)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9319 = scale_64.x;
        float sx_1 = (F32_exp((_S9319)));
        float _S9320 = scale_64.y;
        float sy_1 = (F32_exp((_S9320)));
        float sz_1 = scale_64.z - 0.5f * (_S9319 + _S9320);
        float x_77 = quat_65.y;
        float x2_79 = x_77 * x_77;
        float y2_79 = quat_65.z * quat_65.z;
        float z2_102 = quat_65.w * quat_65.w;
        float xy_79 = quat_65.y * quat_65.z;
        float xz_79 = quat_65.y * quat_65.w;
        float yz_79 = quat_65.z * quat_65.w;
        float wx_79 = quat_65.x * quat_65.y;
        float wy_79 = quat_65.x * quat_65.z;
        float wz_79 = quat_65.x * quat_65.w;
        Matrix<float, 3, 3>  _S9321 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_79 + z2_102), 2.0f * (xy_79 + wz_79), 2.0f * (xz_79 - wy_79), 2.0f * (xy_79 - wz_79), 1.0f - 2.0f * (x2_79 + z2_102), 2.0f * (yz_79 + wx_79), 2.0f * (xz_79 + wy_79), 2.0f * (yz_79 - wx_79), 1.0f - 2.0f * (x2_79 + y2_79)));
        float3  vert0_1 = mul_0(_S9321, make_float3 (sx_1, 0.0f, 0.0f)) + mean_64;
        float3  vert1_1 = mul_0(_S9321, make_float3 (sx_1 * (-0.5f + sz_1), sy_1, 0.0f)) + mean_64;
        float3  vert2_1 = mul_0(_S9321, make_float3 (sx_1 * (-0.5f - sz_1), - sy_1, 0.0f)) + mean_64;
        float3  vert0_c_0 = mul_0(R_66, vert0_1) + t_62;
        float3  vert1_c_0 = mul_0(R_66, vert1_1) + t_62;
        float3  vert2_c_0 = mul_0(R_66, vert2_1) + t_62;
        float _S9322 = vert0_c_0.z;
        float _S9323 = vert1_c_0.z;
        float _S9324 = vert2_c_0.z;
        if(_S9322 < near_plane_66)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = _S9322 > far_plane_66;
        }
        if(_S9318)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = _S9323 < near_plane_66;
        }
        if(_S9318)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = _S9323 > far_plane_66;
        }
        if(_S9318)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = _S9324 < near_plane_66;
        }
        if(_S9318)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = _S9324 > far_plane_66;
        }
        if(_S9318)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_0;
        for(;;)
        {
            float2  uv0_1 = float2 {vert0_c_0.x, vert0_c_0.y} / make_float2 (_S9322);
            if(_S9322 < 0.0f)
            {
                _S9318 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S9325 = camera_distortion_jac_0(uv0_1, dist_coeffs_102);
                _S9318 = !((F32_min((determinant_0(_S9325)), ((F32_min((_S9325.rows[int(0)].x), (_S9325.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S9318)
            {
                uv0_0 = uv0_1;
                break;
            }
            float u_56 = uv0_1.x;
            float v_56 = uv0_1.y;
            float r2_56 = u_56 * u_56 + v_56 * v_56;
            float2  _S9326 = uv0_1 * make_float2 (1.0f + r2_56 * ((*dist_coeffs_102)[int(0)] + r2_56 * ((*dist_coeffs_102)[int(1)] + r2_56 * ((*dist_coeffs_102)[int(2)] + r2_56 * (*dist_coeffs_102)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_102)[int(4)] * u_56 * v_56 + (*dist_coeffs_102)[int(5)] * (r2_56 + 2.0f * u_56 * u_56) + (*dist_coeffs_102)[int(6)] * r2_56, 2.0f * (*dist_coeffs_102)[int(5)] * u_56 * v_56 + (*dist_coeffs_102)[int(4)] * (r2_56 + 2.0f * v_56 * v_56) + (*dist_coeffs_102)[int(7)] * r2_56);
            float2  _S9327 = _S9326 + make_float2 ((*dist_coeffs_102)[int(8)] * _S9326.x + (*dist_coeffs_102)[int(9)] * _S9326.y, 0.0f);
            uv0_0 = make_float2 (fx_99 * _S9327.x + cx_94, fy_99 * _S9327.y + cy_94);
            break;
        }
        float2  uv1_0;
        bool all_valid_8 = true & (!_S9318);
        for(;;)
        {
            float2  uv1_1 = float2 {vert1_c_0.x, vert1_c_0.y} / make_float2 (_S9323);
            if(_S9323 < 0.0f)
            {
                _S9318 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S9328 = camera_distortion_jac_0(uv1_1, dist_coeffs_102);
                _S9318 = !((F32_min((determinant_0(_S9328)), ((F32_min((_S9328.rows[int(0)].x), (_S9328.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S9318)
            {
                uv1_0 = uv1_1;
                break;
            }
            float u_57 = uv1_1.x;
            float v_57 = uv1_1.y;
            float r2_57 = u_57 * u_57 + v_57 * v_57;
            float2  _S9329 = uv1_1 * make_float2 (1.0f + r2_57 * ((*dist_coeffs_102)[int(0)] + r2_57 * ((*dist_coeffs_102)[int(1)] + r2_57 * ((*dist_coeffs_102)[int(2)] + r2_57 * (*dist_coeffs_102)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_102)[int(4)] * u_57 * v_57 + (*dist_coeffs_102)[int(5)] * (r2_57 + 2.0f * u_57 * u_57) + (*dist_coeffs_102)[int(6)] * r2_57, 2.0f * (*dist_coeffs_102)[int(5)] * u_57 * v_57 + (*dist_coeffs_102)[int(4)] * (r2_57 + 2.0f * v_57 * v_57) + (*dist_coeffs_102)[int(7)] * r2_57);
            float2  _S9330 = _S9329 + make_float2 ((*dist_coeffs_102)[int(8)] * _S9329.x + (*dist_coeffs_102)[int(9)] * _S9329.y, 0.0f);
            uv1_0 = make_float2 (fx_99 * _S9330.x + cx_94, fy_99 * _S9330.y + cy_94);
            break;
        }
        float2  uv2_0;
        bool all_valid_9 = all_valid_8 & (!_S9318);
        for(;;)
        {
            float2  uv2_1 = float2 {vert2_c_0.x, vert2_c_0.y} / make_float2 (_S9324);
            if(_S9324 < 0.0f)
            {
                _S9318 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S9331 = camera_distortion_jac_0(uv2_1, dist_coeffs_102);
                _S9318 = !((F32_min((determinant_0(_S9331)), ((F32_min((_S9331.rows[int(0)].x), (_S9331.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S9318)
            {
                uv2_0 = uv2_1;
                break;
            }
            float u_58 = uv2_1.x;
            float v_58 = uv2_1.y;
            float r2_58 = u_58 * u_58 + v_58 * v_58;
            float2  _S9332 = uv2_1 * make_float2 (1.0f + r2_58 * ((*dist_coeffs_102)[int(0)] + r2_58 * ((*dist_coeffs_102)[int(1)] + r2_58 * ((*dist_coeffs_102)[int(2)] + r2_58 * (*dist_coeffs_102)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_102)[int(4)] * u_58 * v_58 + (*dist_coeffs_102)[int(5)] * (r2_58 + 2.0f * u_58 * u_58) + (*dist_coeffs_102)[int(6)] * r2_58, 2.0f * (*dist_coeffs_102)[int(5)] * u_58 * v_58 + (*dist_coeffs_102)[int(4)] * (r2_58 + 2.0f * v_58 * v_58) + (*dist_coeffs_102)[int(7)] * r2_58);
            float2  _S9333 = _S9332 + make_float2 ((*dist_coeffs_102)[int(8)] * _S9332.x + (*dist_coeffs_102)[int(9)] * _S9332.y, 0.0f);
            uv2_0 = make_float2 (fx_99 * _S9333.x + cx_94, fy_99 * _S9333.y + cy_94);
            break;
        }
        if(!(all_valid_9 & (!_S9318)))
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_0 = uv1_0 - uv0_0;
        float2  e1_0 = uv2_0 - uv1_0;
        float offset_0 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_0.y))))) - 1.0f) * ((F32_abs((e0_0.x * e1_0.y - e0_0.y * e1_0.x))) / (length_0(e0_0) + length_0(e1_0) + length_0(uv0_0 - uv2_0)));
        float _S9334 = uv0_0.x;
        float _S9335 = uv1_0.x;
        float _S9336 = uv2_0.x;
        float xmax_19 = (F32_max(((F32_max((_S9334), (_S9335)))), (_S9336))) + offset_0;
        float xmin_19 = (F32_min(((F32_min((_S9334), (_S9335)))), (_S9336))) - offset_0;
        float _S9337 = uv0_0.y;
        float _S9338 = uv1_0.y;
        float _S9339 = uv2_0.y;
        float ymax_19 = (F32_max(((F32_max((_S9337), (_S9338)))), (_S9339))) + offset_0;
        float ymin_19 = (F32_min(((F32_min((_S9337), (_S9338)))), (_S9339))) - offset_0;
        if(xmax_19 <= 0.0f)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = xmin_19 >= float(image_width_87);
        }
        if(_S9318)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = ymax_19 <= 0.0f;
        }
        if(_S9318)
        {
            _S9318 = true;
        }
        else
        {
            _S9318 = ymin_19 >= float(image_height_87);
        }
        if(_S9318)
        {
            _S9318 = true;
        }
        else
        {
            if(_S9317 <= 0.0f)
            {
                if(xmin_19 <= 0.0f)
                {
                    _S9318 = xmax_19 >= float(image_width_87);
                }
                else
                {
                    _S9318 = false;
                }
                if(_S9318)
                {
                    _S9318 = true;
                }
                else
                {
                    if(ymin_19 <= 0.0f)
                    {
                        _S9318 = ymax_19 >= float(image_width_87);
                    }
                    else
                    {
                        _S9318 = false;
                    }
                }
            }
            else
            {
                _S9318 = false;
            }
        }
        if(_S9318)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_52 = make_int4 (int((F32_floor((xmin_19)))), int((F32_floor((ymin_19)))), int((F32_ceil((xmax_19)))), int((F32_ceil((ymax_19)))));
        float3  _S9340 = (vert0_c_0 + vert1_c_0 + vert2_c_0) / make_float3 (3.0f);
        float _S9341 = _S9340.z;
        *depth_39 = (F32_max((_S9341), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9341 + length_1(_S9340)))));
        float3  _S9342 = mean_64 - - mul_0(transpose_0(R_66), t_62);
        float _S9343 = _S9342.x;
        float _S9344 = _S9342.y;
        float _S9345 = _S9342.z;
        float norm_10 = (F32_sqrt((_S9343 * _S9343 + _S9344 * _S9344 + _S9345 * _S9345)));
        float x_78 = _S9343 / norm_10;
        float y_26 = _S9344 / norm_10;
        float z_23 = _S9345 / norm_10;
        float z2_103 = z_23 * z_23;
        float fTmp0B_23 = -1.09254848957061768f * z_23;
        float fC1_23 = x_78 * x_78 - y_26 * y_26;
        float fS1_23 = 2.0f * x_78 * y_26;
        float fTmp0C_23 = -2.28522896766662598f * z2_103 + 0.4570457935333252f;
        float fTmp1B_23 = 1.44530570507049561f * z_23;
        float3  color_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_17)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_26) * (*sh_coeffs_17)[int(1)] + make_float3 (z_23) * (*sh_coeffs_17)[int(2)] - make_float3 (x_78) * (*sh_coeffs_17)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_23) * (*sh_coeffs_17)[int(4)] + make_float3 (fTmp0B_23 * y_26) * (*sh_coeffs_17)[int(5)] + make_float3 (0.94617468118667603f * z2_103 - 0.31539157032966614f) * (*sh_coeffs_17)[int(6)] + make_float3 (fTmp0B_23 * x_78) * (*sh_coeffs_17)[int(7)] + make_float3 (0.54627424478530884f * fC1_23) * (*sh_coeffs_17)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_78 * fS1_23 + y_26 * fC1_23)) * (*sh_coeffs_17)[int(9)] + make_float3 (fTmp1B_23 * fS1_23) * (*sh_coeffs_17)[int(10)] + make_float3 (fTmp0C_23 * y_26) * (*sh_coeffs_17)[int(11)] + make_float3 (z_23 * (1.86588168144226074f * z2_103 - 1.11952900886535645f)) * (*sh_coeffs_17)[int(12)] + make_float3 (fTmp0C_23 * x_78) * (*sh_coeffs_17)[int(13)] + make_float3 (fTmp1B_23 * fC1_23) * (*sh_coeffs_17)[int(14)] + make_float3 (-0.59004360437393188f * (x_78 * fC1_23 - y_26 * fS1_23)) * (*sh_coeffs_17)[int(15)]);
        float3  _S9346 = make_float3 (0.0f);
        (*rgbs_0)[int(0)] = max_0(color_0 + (*ch_coeffs_0)[int(0)] + make_float3 (0.5f), _S9346);
        float3  _S9347 = color_0 - (*ch_coeffs_0)[int(0)] * make_float3 (0.5f);
        float3  _S9348 = (*ch_coeffs_0)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_0)[int(1)] = max_0(_S9347 + _S9348 + make_float3 (0.5f), _S9346);
        (*rgbs_0)[int(2)] = max_0(_S9347 - _S9348 + make_float3 (0.5f), _S9346);
        (*verts_0)[int(0)] = vert0_1;
        (*verts_0)[int(1)] = vert1_1;
        (*verts_0)[int(2)] = vert2_1;
        float3  _S9349 = normalize_0(cross_0(vert1_c_0 - vert0_c_0, vert2_c_0 - vert0_c_0));
        *normal_0 = _S9349 * make_float3 (float(- (F32_sign((dot_1(_S9349, mean_c_75))))));
        break;
    }
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye(float3  mean_65, float4  quat_66, float3  scale_65, float2  hardness_1, FixedArray<float3 , 16>  * sh_coeffs_18, FixedArray<float3 , 2>  * ch_coeffs_1, Matrix<float, 3, 3>  R_67, float3  t_63, float fx_100, float fy_100, float cx_95, float cy_95, FixedArray<float, 10>  * dist_coeffs_103, uint image_width_88, uint image_height_88, float near_plane_67, float far_plane_67, int4  * aabb_xyxy_53, float * depth_40, FixedArray<float3 , 3>  * verts_1, FixedArray<float3 , 3>  * rgbs_1, float3  * normal_1)
{
    bool _S9350;
    bool _S9351;
    bool _S9352;
    for(;;)
    {
        float3  mean_c_76 = mul_0(R_67, mean_65) + t_63;
        float _S9353 = length_1(mean_c_76);
        bool _S9354;
        if(_S9353 < near_plane_67)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = _S9353 > far_plane_67;
        }
        if(_S9354)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9355 = scale_65.x;
        float sx_2 = (F32_exp((_S9355)));
        float _S9356 = scale_65.y;
        float sy_2 = (F32_exp((_S9356)));
        float sz_2 = scale_65.z - 0.5f * (_S9355 + _S9356);
        float x_79 = quat_66.y;
        float x2_80 = x_79 * x_79;
        float y2_80 = quat_66.z * quat_66.z;
        float z2_104 = quat_66.w * quat_66.w;
        float xy_80 = quat_66.y * quat_66.z;
        float xz_80 = quat_66.y * quat_66.w;
        float yz_80 = quat_66.z * quat_66.w;
        float wx_80 = quat_66.x * quat_66.y;
        float wy_80 = quat_66.x * quat_66.z;
        float wz_80 = quat_66.x * quat_66.w;
        Matrix<float, 3, 3>  _S9357 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_80 + z2_104), 2.0f * (xy_80 + wz_80), 2.0f * (xz_80 - wy_80), 2.0f * (xy_80 - wz_80), 1.0f - 2.0f * (x2_80 + z2_104), 2.0f * (yz_80 + wx_80), 2.0f * (xz_80 + wy_80), 2.0f * (yz_80 - wx_80), 1.0f - 2.0f * (x2_80 + y2_80)));
        float3  vert0_2 = mul_0(_S9357, make_float3 (sx_2, 0.0f, 0.0f)) + mean_65;
        float3  vert1_2 = mul_0(_S9357, make_float3 (sx_2 * (-0.5f + sz_2), sy_2, 0.0f)) + mean_65;
        float3  vert2_2 = mul_0(_S9357, make_float3 (sx_2 * (-0.5f - sz_2), - sy_2, 0.0f)) + mean_65;
        float3  vert0_c_1 = mul_0(R_67, vert0_2) + t_63;
        float3  vert1_c_1 = mul_0(R_67, vert1_2) + t_63;
        float3  vert2_c_1 = mul_0(R_67, vert2_2) + t_63;
        float _S9358 = length_1(vert0_c_1);
        float _S9359 = length_1(vert1_c_1);
        float _S9360 = length_1(vert2_c_1);
        if(_S9358 < near_plane_67)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = _S9358 > far_plane_67;
        }
        if(_S9354)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = _S9359 < near_plane_67;
        }
        if(_S9354)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = _S9359 > far_plane_67;
        }
        if(_S9354)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = _S9360 < near_plane_67;
        }
        if(_S9354)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = _S9360 > far_plane_67;
        }
        if(_S9354)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_2;
        float k_7;
        for(;;)
        {
            float2  _S9361 = float2 {vert0_c_1.x, vert0_c_1.y};
            float r_24 = length_0(_S9361);
            float _S9362 = vert0_c_1.z;
            float theta_20 = (F32_atan2((r_24), (_S9362)));
            if(theta_20 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_20 * theta_20 / 3.0f) / _S9362;
            }
            else
            {
                k_7 = theta_20 / r_24;
            }
            float2  uv0_3 = _S9361 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S9363 = camera_distortion_jac_0(uv0_3, dist_coeffs_103);
            bool _S9364 = !((F32_min((determinant_0(_S9363)), ((F32_min((_S9363.rows[int(0)].x), (_S9363.rows[int(1)].y)))))) > 0.0f);
            _S9350 = _S9364;
            if(_S9364)
            {
                uv0_2 = uv0_3;
                break;
            }
            float u_59 = uv0_3.x;
            float v_59 = uv0_3.y;
            float r2_59 = u_59 * u_59 + v_59 * v_59;
            float2  _S9365 = uv0_3 * make_float2 (1.0f + r2_59 * ((*dist_coeffs_103)[int(0)] + r2_59 * ((*dist_coeffs_103)[int(1)] + r2_59 * ((*dist_coeffs_103)[int(2)] + r2_59 * (*dist_coeffs_103)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_103)[int(4)] * u_59 * v_59 + (*dist_coeffs_103)[int(5)] * (r2_59 + 2.0f * u_59 * u_59) + (*dist_coeffs_103)[int(6)] * r2_59, 2.0f * (*dist_coeffs_103)[int(5)] * u_59 * v_59 + (*dist_coeffs_103)[int(4)] * (r2_59 + 2.0f * v_59 * v_59) + (*dist_coeffs_103)[int(7)] * r2_59);
            float2  _S9366 = _S9365 + make_float2 ((*dist_coeffs_103)[int(8)] * _S9365.x + (*dist_coeffs_103)[int(9)] * _S9365.y, 0.0f);
            uv0_2 = make_float2 (fx_100 * _S9366.x + cx_95, fy_100 * _S9366.y + cy_95);
            break;
        }
        float2  uv1_2;
        bool all_valid_10 = true & (!_S9350);
        for(;;)
        {
            float2  _S9367 = float2 {vert1_c_1.x, vert1_c_1.y};
            float r_25 = length_0(_S9367);
            float _S9368 = vert1_c_1.z;
            float theta_21 = (F32_atan2((r_25), (_S9368)));
            if(theta_21 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_21 * theta_21 / 3.0f) / _S9368;
            }
            else
            {
                k_7 = theta_21 / r_25;
            }
            float2  uv1_3 = _S9367 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S9369 = camera_distortion_jac_0(uv1_3, dist_coeffs_103);
            bool _S9370 = !((F32_min((determinant_0(_S9369)), ((F32_min((_S9369.rows[int(0)].x), (_S9369.rows[int(1)].y)))))) > 0.0f);
            _S9351 = _S9370;
            if(_S9370)
            {
                uv1_2 = uv1_3;
                break;
            }
            float u_60 = uv1_3.x;
            float v_60 = uv1_3.y;
            float r2_60 = u_60 * u_60 + v_60 * v_60;
            float2  _S9371 = uv1_3 * make_float2 (1.0f + r2_60 * ((*dist_coeffs_103)[int(0)] + r2_60 * ((*dist_coeffs_103)[int(1)] + r2_60 * ((*dist_coeffs_103)[int(2)] + r2_60 * (*dist_coeffs_103)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_103)[int(4)] * u_60 * v_60 + (*dist_coeffs_103)[int(5)] * (r2_60 + 2.0f * u_60 * u_60) + (*dist_coeffs_103)[int(6)] * r2_60, 2.0f * (*dist_coeffs_103)[int(5)] * u_60 * v_60 + (*dist_coeffs_103)[int(4)] * (r2_60 + 2.0f * v_60 * v_60) + (*dist_coeffs_103)[int(7)] * r2_60);
            float2  _S9372 = _S9371 + make_float2 ((*dist_coeffs_103)[int(8)] * _S9371.x + (*dist_coeffs_103)[int(9)] * _S9371.y, 0.0f);
            uv1_2 = make_float2 (fx_100 * _S9372.x + cx_95, fy_100 * _S9372.y + cy_95);
            break;
        }
        float2  uv2_2;
        bool all_valid_11 = all_valid_10 & (!_S9351);
        for(;;)
        {
            float2  _S9373 = float2 {vert2_c_1.x, vert2_c_1.y};
            float r_26 = length_0(_S9373);
            float _S9374 = vert2_c_1.z;
            float theta_22 = (F32_atan2((r_26), (_S9374)));
            if(theta_22 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_22 * theta_22 / 3.0f) / _S9374;
            }
            else
            {
                k_7 = theta_22 / r_26;
            }
            float2  uv2_3 = _S9373 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S9375 = camera_distortion_jac_0(uv2_3, dist_coeffs_103);
            bool _S9376 = !((F32_min((determinant_0(_S9375)), ((F32_min((_S9375.rows[int(0)].x), (_S9375.rows[int(1)].y)))))) > 0.0f);
            _S9352 = _S9376;
            if(_S9376)
            {
                uv2_2 = uv2_3;
                break;
            }
            float u_61 = uv2_3.x;
            float v_61 = uv2_3.y;
            float r2_61 = u_61 * u_61 + v_61 * v_61;
            float2  _S9377 = uv2_3 * make_float2 (1.0f + r2_61 * ((*dist_coeffs_103)[int(0)] + r2_61 * ((*dist_coeffs_103)[int(1)] + r2_61 * ((*dist_coeffs_103)[int(2)] + r2_61 * (*dist_coeffs_103)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_103)[int(4)] * u_61 * v_61 + (*dist_coeffs_103)[int(5)] * (r2_61 + 2.0f * u_61 * u_61) + (*dist_coeffs_103)[int(6)] * r2_61, 2.0f * (*dist_coeffs_103)[int(5)] * u_61 * v_61 + (*dist_coeffs_103)[int(4)] * (r2_61 + 2.0f * v_61 * v_61) + (*dist_coeffs_103)[int(7)] * r2_61);
            float2  _S9378 = _S9377 + make_float2 ((*dist_coeffs_103)[int(8)] * _S9377.x + (*dist_coeffs_103)[int(9)] * _S9377.y, 0.0f);
            uv2_2 = make_float2 (fx_100 * _S9378.x + cx_95, fy_100 * _S9378.y + cy_95);
            break;
        }
        if(!(all_valid_11 & (!_S9352)))
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_1 = uv1_2 - uv0_2;
        float2  e1_1 = uv2_2 - uv1_2;
        float offset_1 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_1.y))))) - 1.0f) * ((F32_abs((e0_1.x * e1_1.y - e0_1.y * e1_1.x))) / (length_0(e0_1) + length_0(e1_1) + length_0(uv0_2 - uv2_2)));
        float _S9379 = uv0_2.x;
        float _S9380 = uv1_2.x;
        float _S9381 = uv2_2.x;
        float xmax_20 = (F32_max(((F32_max((_S9379), (_S9380)))), (_S9381))) + offset_1;
        float xmin_20 = (F32_min(((F32_min((_S9379), (_S9380)))), (_S9381))) - offset_1;
        float _S9382 = uv0_2.y;
        float _S9383 = uv1_2.y;
        float _S9384 = uv2_2.y;
        float ymax_20 = (F32_max(((F32_max((_S9382), (_S9383)))), (_S9384))) + offset_1;
        float ymin_20 = (F32_min(((F32_min((_S9382), (_S9383)))), (_S9384))) - offset_1;
        if(xmax_20 <= 0.0f)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = xmin_20 >= float(image_width_88);
        }
        if(_S9354)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = ymax_20 <= 0.0f;
        }
        if(_S9354)
        {
            _S9354 = true;
        }
        else
        {
            _S9354 = ymin_20 >= float(image_height_88);
        }
        if(_S9354)
        {
            _S9354 = true;
        }
        else
        {
            if((mean_c_76.z) <= 0.0f)
            {
                if(xmin_20 <= 0.0f)
                {
                    _S9354 = xmax_20 >= float(image_width_88);
                }
                else
                {
                    _S9354 = false;
                }
                if(_S9354)
                {
                    _S9354 = true;
                }
                else
                {
                    if(ymin_20 <= 0.0f)
                    {
                        _S9354 = ymax_20 >= float(image_width_88);
                    }
                    else
                    {
                        _S9354 = false;
                    }
                }
            }
            else
            {
                _S9354 = false;
            }
        }
        if(_S9354)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_53 = make_int4 (int((F32_floor((xmin_20)))), int((F32_floor((ymin_20)))), int((F32_ceil((xmax_20)))), int((F32_ceil((ymax_20)))));
        float3  _S9385 = (vert0_c_1 + vert1_c_1 + vert2_c_1) / make_float3 (3.0f);
        float _S9386 = _S9385.z;
        *depth_40 = (F32_max((_S9386), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9386 + length_1(_S9385)))));
        float3  _S9387 = mean_65 - - mul_0(transpose_0(R_67), t_63);
        float _S9388 = _S9387.x;
        float _S9389 = _S9387.y;
        float _S9390 = _S9387.z;
        float norm_11 = (F32_sqrt((_S9388 * _S9388 + _S9389 * _S9389 + _S9390 * _S9390)));
        float x_80 = _S9388 / norm_11;
        float y_27 = _S9389 / norm_11;
        float z_24 = _S9390 / norm_11;
        float z2_105 = z_24 * z_24;
        float fTmp0B_24 = -1.09254848957061768f * z_24;
        float fC1_24 = x_80 * x_80 - y_27 * y_27;
        float fS1_24 = 2.0f * x_80 * y_27;
        float fTmp0C_24 = -2.28522896766662598f * z2_105 + 0.4570457935333252f;
        float fTmp1B_24 = 1.44530570507049561f * z_24;
        float3  color_1 = make_float3 (0.282094806432724f) * (*sh_coeffs_18)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_27) * (*sh_coeffs_18)[int(1)] + make_float3 (z_24) * (*sh_coeffs_18)[int(2)] - make_float3 (x_80) * (*sh_coeffs_18)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_24) * (*sh_coeffs_18)[int(4)] + make_float3 (fTmp0B_24 * y_27) * (*sh_coeffs_18)[int(5)] + make_float3 (0.94617468118667603f * z2_105 - 0.31539157032966614f) * (*sh_coeffs_18)[int(6)] + make_float3 (fTmp0B_24 * x_80) * (*sh_coeffs_18)[int(7)] + make_float3 (0.54627424478530884f * fC1_24) * (*sh_coeffs_18)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_80 * fS1_24 + y_27 * fC1_24)) * (*sh_coeffs_18)[int(9)] + make_float3 (fTmp1B_24 * fS1_24) * (*sh_coeffs_18)[int(10)] + make_float3 (fTmp0C_24 * y_27) * (*sh_coeffs_18)[int(11)] + make_float3 (z_24 * (1.86588168144226074f * z2_105 - 1.11952900886535645f)) * (*sh_coeffs_18)[int(12)] + make_float3 (fTmp0C_24 * x_80) * (*sh_coeffs_18)[int(13)] + make_float3 (fTmp1B_24 * fC1_24) * (*sh_coeffs_18)[int(14)] + make_float3 (-0.59004360437393188f * (x_80 * fC1_24 - y_27 * fS1_24)) * (*sh_coeffs_18)[int(15)]);
        float3  _S9391 = make_float3 (0.0f);
        (*rgbs_1)[int(0)] = max_0(color_1 + (*ch_coeffs_1)[int(0)] + make_float3 (0.5f), _S9391);
        float3  _S9392 = color_1 - (*ch_coeffs_1)[int(0)] * make_float3 (0.5f);
        float3  _S9393 = (*ch_coeffs_1)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_1)[int(1)] = max_0(_S9392 + _S9393 + make_float3 (0.5f), _S9391);
        (*rgbs_1)[int(2)] = max_0(_S9392 - _S9393 + make_float3 (0.5f), _S9391);
        (*verts_1)[int(0)] = vert0_2;
        (*verts_1)[int(1)] = vert1_2;
        (*verts_1)[int(2)] = vert2_2;
        float3  _S9394 = normalize_0(cross_0(vert1_c_1 - vert0_c_1, vert2_c_1 - vert0_c_1));
        *normal_1 = _S9394 * make_float3 (float(- (F32_sign((dot_1(_S9394, mean_c_76))))));
        break;
    }
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_persp_differentiable(float3  mean_66, float4  quat_67, float3  scale_66, float2  hardness_2, FixedArray<float3 , 16>  * sh_coeffs_19, FixedArray<float3 , 2>  * ch_coeffs_2, Matrix<float, 3, 3>  R_68, float3  t_64, float fx_101, float fy_101, float cx_96, float cy_96, FixedArray<float, 10>  * dist_coeffs_104, uint image_width_89, uint image_height_89, float near_plane_68, float far_plane_68, int4  * aabb_xyxy_54, float * depth_41, FixedArray<float3 , 3>  * verts_2, FixedArray<float3 , 3>  * rgbs_2, float3  * normal_2)
{
    float3  mean_c_77 = mul_0(R_68, mean_66) + t_64;
    float _S9395 = scale_66.x;
    float sx_3 = (F32_exp((_S9395)));
    float _S9396 = scale_66.y;
    float sy_3 = (F32_exp((_S9396)));
    float sz_3 = scale_66.z - 0.5f * (_S9395 + _S9396);
    float x_81 = quat_67.y;
    float x2_81 = x_81 * x_81;
    float y2_81 = quat_67.z * quat_67.z;
    float z2_106 = quat_67.w * quat_67.w;
    float xy_81 = quat_67.y * quat_67.z;
    float xz_81 = quat_67.y * quat_67.w;
    float yz_81 = quat_67.z * quat_67.w;
    float wx_81 = quat_67.x * quat_67.y;
    float wy_81 = quat_67.x * quat_67.z;
    float wz_81 = quat_67.x * quat_67.w;
    Matrix<float, 3, 3>  _S9397 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_81 + z2_106), 2.0f * (xy_81 + wz_81), 2.0f * (xz_81 - wy_81), 2.0f * (xy_81 - wz_81), 1.0f - 2.0f * (x2_81 + z2_106), 2.0f * (yz_81 + wx_81), 2.0f * (xz_81 + wy_81), 2.0f * (yz_81 - wx_81), 1.0f - 2.0f * (x2_81 + y2_81)));
    float3  vert0_3 = mul_0(_S9397, make_float3 (sx_3, 0.0f, 0.0f)) + mean_66;
    float3  vert1_3 = mul_0(_S9397, make_float3 (sx_3 * (-0.5f + sz_3), sy_3, 0.0f)) + mean_66;
    float3  vert2_3 = mul_0(_S9397, make_float3 (sx_3 * (-0.5f - sz_3), - sy_3, 0.0f)) + mean_66;
    float3  vert0_c_2 = mul_0(R_68, vert0_3) + t_64;
    float3  vert1_c_2 = mul_0(R_68, vert1_3) + t_64;
    float3  vert2_c_2 = mul_0(R_68, vert2_3) + t_64;
    float2  _S9398 = float2 {vert0_c_2.x, vert0_c_2.y} / make_float2 (vert0_c_2.z);
    float u_62 = _S9398.x;
    float v_62 = _S9398.y;
    float r2_62 = u_62 * u_62 + v_62 * v_62;
    float _S9399 = 2.0f * (*dist_coeffs_104)[int(4)];
    float _S9400 = 2.0f * (*dist_coeffs_104)[int(5)];
    float2  _S9401 = _S9398 * make_float2 (1.0f + r2_62 * ((*dist_coeffs_104)[int(0)] + r2_62 * ((*dist_coeffs_104)[int(1)] + r2_62 * ((*dist_coeffs_104)[int(2)] + r2_62 * (*dist_coeffs_104)[int(3)])))) + make_float2 (_S9399 * u_62 * v_62 + (*dist_coeffs_104)[int(5)] * (r2_62 + 2.0f * u_62 * u_62) + (*dist_coeffs_104)[int(6)] * r2_62, _S9400 * u_62 * v_62 + (*dist_coeffs_104)[int(4)] * (r2_62 + 2.0f * v_62 * v_62) + (*dist_coeffs_104)[int(7)] * r2_62);
    float2  _S9402 = _S9401 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9401.x + (*dist_coeffs_104)[int(9)] * _S9401.y, 0.0f);
    float _S9403 = fx_101 * _S9402.x + cx_96;
    float _S9404 = fy_101 * _S9402.y + cy_96;
    float2  uv0_4 = make_float2 (_S9403, _S9404);
    float2  _S9405 = float2 {vert1_c_2.x, vert1_c_2.y} / make_float2 (vert1_c_2.z);
    float u_63 = _S9405.x;
    float v_63 = _S9405.y;
    float r2_63 = u_63 * u_63 + v_63 * v_63;
    float2  _S9406 = _S9405 * make_float2 (1.0f + r2_63 * ((*dist_coeffs_104)[int(0)] + r2_63 * ((*dist_coeffs_104)[int(1)] + r2_63 * ((*dist_coeffs_104)[int(2)] + r2_63 * (*dist_coeffs_104)[int(3)])))) + make_float2 (_S9399 * u_63 * v_63 + (*dist_coeffs_104)[int(5)] * (r2_63 + 2.0f * u_63 * u_63) + (*dist_coeffs_104)[int(6)] * r2_63, _S9400 * u_63 * v_63 + (*dist_coeffs_104)[int(4)] * (r2_63 + 2.0f * v_63 * v_63) + (*dist_coeffs_104)[int(7)] * r2_63);
    float2  _S9407 = _S9406 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9406.x + (*dist_coeffs_104)[int(9)] * _S9406.y, 0.0f);
    float _S9408 = fx_101 * _S9407.x + cx_96;
    float _S9409 = fy_101 * _S9407.y + cy_96;
    float2  uv1_4 = make_float2 (_S9408, _S9409);
    float2  _S9410 = float2 {vert2_c_2.x, vert2_c_2.y} / make_float2 (vert2_c_2.z);
    float u_64 = _S9410.x;
    float v_64 = _S9410.y;
    float r2_64 = u_64 * u_64 + v_64 * v_64;
    float2  _S9411 = _S9410 * make_float2 (1.0f + r2_64 * ((*dist_coeffs_104)[int(0)] + r2_64 * ((*dist_coeffs_104)[int(1)] + r2_64 * ((*dist_coeffs_104)[int(2)] + r2_64 * (*dist_coeffs_104)[int(3)])))) + make_float2 (_S9399 * u_64 * v_64 + (*dist_coeffs_104)[int(5)] * (r2_64 + 2.0f * u_64 * u_64) + (*dist_coeffs_104)[int(6)] * r2_64, _S9400 * u_64 * v_64 + (*dist_coeffs_104)[int(4)] * (r2_64 + 2.0f * v_64 * v_64) + (*dist_coeffs_104)[int(7)] * r2_64);
    float2  _S9412 = _S9411 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9411.x + (*dist_coeffs_104)[int(9)] * _S9411.y, 0.0f);
    float _S9413 = fx_101 * _S9412.x + cx_96;
    float _S9414 = fy_101 * _S9412.y + cy_96;
    float2  uv2_4 = make_float2 (_S9413, _S9414);
    float2  e0_2 = uv1_4 - uv0_4;
    float2  e1_2 = uv2_4 - uv1_4;
    float offset_2 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_2.y))))) - 1.0f) * ((F32_abs((e0_2.x * e1_2.y - e0_2.y * e1_2.x))) / (length_0(e0_2) + length_0(e1_2) + length_0(uv0_4 - uv2_4)));
    *aabb_xyxy_54 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S9403), (_S9408)))), (_S9413))) - offset_2)))), int((F32_floor(((F32_min(((F32_min((_S9404), (_S9409)))), (_S9414))) - offset_2)))), int((F32_ceil(((F32_max(((F32_max((_S9403), (_S9408)))), (_S9413))) + offset_2)))), int((F32_ceil(((F32_max(((F32_max((_S9404), (_S9409)))), (_S9414))) + offset_2)))));
    float3  _S9415 = (vert0_c_2 + vert1_c_2 + vert2_c_2) / make_float3 (3.0f);
    float _S9416 = _S9415.z;
    *depth_41 = (F32_max((_S9416), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9416 + length_1(_S9415)))));
    float3  _S9417 = mean_66 - - mul_0(transpose_0(R_68), t_64);
    float _S9418 = _S9417.x;
    float _S9419 = _S9417.y;
    float _S9420 = _S9417.z;
    float norm_12 = (F32_sqrt((_S9418 * _S9418 + _S9419 * _S9419 + _S9420 * _S9420)));
    float x_82 = _S9418 / norm_12;
    float y_28 = _S9419 / norm_12;
    float z_25 = _S9420 / norm_12;
    float z2_107 = z_25 * z_25;
    float fTmp0B_25 = -1.09254848957061768f * z_25;
    float fC1_25 = x_82 * x_82 - y_28 * y_28;
    float fS1_25 = 2.0f * x_82 * y_28;
    float fTmp0C_25 = -2.28522896766662598f * z2_107 + 0.4570457935333252f;
    float fTmp1B_25 = 1.44530570507049561f * z_25;
    float3  color_2 = make_float3 (0.282094806432724f) * (*sh_coeffs_19)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_28) * (*sh_coeffs_19)[int(1)] + make_float3 (z_25) * (*sh_coeffs_19)[int(2)] - make_float3 (x_82) * (*sh_coeffs_19)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_25) * (*sh_coeffs_19)[int(4)] + make_float3 (fTmp0B_25 * y_28) * (*sh_coeffs_19)[int(5)] + make_float3 (0.94617468118667603f * z2_107 - 0.31539157032966614f) * (*sh_coeffs_19)[int(6)] + make_float3 (fTmp0B_25 * x_82) * (*sh_coeffs_19)[int(7)] + make_float3 (0.54627424478530884f * fC1_25) * (*sh_coeffs_19)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_82 * fS1_25 + y_28 * fC1_25)) * (*sh_coeffs_19)[int(9)] + make_float3 (fTmp1B_25 * fS1_25) * (*sh_coeffs_19)[int(10)] + make_float3 (fTmp0C_25 * y_28) * (*sh_coeffs_19)[int(11)] + make_float3 (z_25 * (1.86588168144226074f * z2_107 - 1.11952900886535645f)) * (*sh_coeffs_19)[int(12)] + make_float3 (fTmp0C_25 * x_82) * (*sh_coeffs_19)[int(13)] + make_float3 (fTmp1B_25 * fC1_25) * (*sh_coeffs_19)[int(14)] + make_float3 (-0.59004360437393188f * (x_82 * fC1_25 - y_28 * fS1_25)) * (*sh_coeffs_19)[int(15)]);
    float3  _S9421 = make_float3 (0.0f);
    (*rgbs_2)[int(0)] = max_0(color_2 + (*ch_coeffs_2)[int(0)] + make_float3 (0.5f), _S9421);
    float3  _S9422 = color_2 - (*ch_coeffs_2)[int(0)] * make_float3 (0.5f);
    float3  _S9423 = (*ch_coeffs_2)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_2)[int(1)] = max_0(_S9422 + _S9423 + make_float3 (0.5f), _S9421);
    (*rgbs_2)[int(2)] = max_0(_S9422 - _S9423 + make_float3 (0.5f), _S9421);
    (*verts_2)[int(0)] = vert0_3;
    (*verts_2)[int(1)] = vert1_3;
    (*verts_2)[int(2)] = vert2_3;
    float3  _S9424 = normalize_0(cross_0(vert1_c_2 - vert0_c_2, vert2_c_2 - vert0_c_2));
    *normal_2 = _S9424 * make_float3 (float(- (F32_sign((dot_1(_S9424, mean_c_77))))));
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_fisheye_differentiable(float3  mean_67, float4  quat_68, float3  scale_67, float2  hardness_3, FixedArray<float3 , 16>  * sh_coeffs_20, FixedArray<float3 , 2>  * ch_coeffs_3, Matrix<float, 3, 3>  R_69, float3  t_65, float fx_102, float fy_102, float cx_97, float cy_97, FixedArray<float, 10>  * dist_coeffs_105, uint image_width_90, uint image_height_90, float near_plane_69, float far_plane_69, int4  * aabb_xyxy_55, float * depth_42, FixedArray<float3 , 3>  * verts_3, FixedArray<float3 , 3>  * rgbs_3, float3  * normal_3)
{
    float3  mean_c_78 = mul_0(R_69, mean_67) + t_65;
    float _S9425 = scale_67.x;
    float sx_4 = (F32_exp((_S9425)));
    float _S9426 = scale_67.y;
    float sy_4 = (F32_exp((_S9426)));
    float sz_4 = scale_67.z - 0.5f * (_S9425 + _S9426);
    float x_83 = quat_68.y;
    float x2_82 = x_83 * x_83;
    float y2_82 = quat_68.z * quat_68.z;
    float z2_108 = quat_68.w * quat_68.w;
    float xy_82 = quat_68.y * quat_68.z;
    float xz_82 = quat_68.y * quat_68.w;
    float yz_82 = quat_68.z * quat_68.w;
    float wx_82 = quat_68.x * quat_68.y;
    float wy_82 = quat_68.x * quat_68.z;
    float wz_82 = quat_68.x * quat_68.w;
    Matrix<float, 3, 3>  _S9427 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_82 + z2_108), 2.0f * (xy_82 + wz_82), 2.0f * (xz_82 - wy_82), 2.0f * (xy_82 - wz_82), 1.0f - 2.0f * (x2_82 + z2_108), 2.0f * (yz_82 + wx_82), 2.0f * (xz_82 + wy_82), 2.0f * (yz_82 - wx_82), 1.0f - 2.0f * (x2_82 + y2_82)));
    float3  vert0_4 = mul_0(_S9427, make_float3 (sx_4, 0.0f, 0.0f)) + mean_67;
    float3  vert1_4 = mul_0(_S9427, make_float3 (sx_4 * (-0.5f + sz_4), sy_4, 0.0f)) + mean_67;
    float3  vert2_4 = mul_0(_S9427, make_float3 (sx_4 * (-0.5f - sz_4), - sy_4, 0.0f)) + mean_67;
    float3  vert0_c_3 = mul_0(R_69, vert0_4) + t_65;
    float3  vert1_c_3 = mul_0(R_69, vert1_4) + t_65;
    float3  vert2_c_3 = mul_0(R_69, vert2_4) + t_65;
    float2  _S9428 = float2 {vert0_c_3.x, vert0_c_3.y};
    float r_27 = length_0(_S9428);
    float _S9429 = vert0_c_3.z;
    float theta_23 = (F32_atan2((r_27), (_S9429)));
    float k_8;
    if(theta_23 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_23 * theta_23 / 3.0f) / _S9429;
    }
    else
    {
        k_8 = theta_23 / r_27;
    }
    float2  _S9430 = _S9428 * make_float2 (k_8);
    float u_65 = _S9430.x;
    float v_65 = _S9430.y;
    float r2_65 = u_65 * u_65 + v_65 * v_65;
    float _S9431 = 2.0f * (*dist_coeffs_105)[int(4)];
    float _S9432 = 2.0f * (*dist_coeffs_105)[int(5)];
    float2  _S9433 = _S9430 * make_float2 (1.0f + r2_65 * ((*dist_coeffs_105)[int(0)] + r2_65 * ((*dist_coeffs_105)[int(1)] + r2_65 * ((*dist_coeffs_105)[int(2)] + r2_65 * (*dist_coeffs_105)[int(3)])))) + make_float2 (_S9431 * u_65 * v_65 + (*dist_coeffs_105)[int(5)] * (r2_65 + 2.0f * u_65 * u_65) + (*dist_coeffs_105)[int(6)] * r2_65, _S9432 * u_65 * v_65 + (*dist_coeffs_105)[int(4)] * (r2_65 + 2.0f * v_65 * v_65) + (*dist_coeffs_105)[int(7)] * r2_65);
    float2  _S9434 = _S9433 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9433.x + (*dist_coeffs_105)[int(9)] * _S9433.y, 0.0f);
    float _S9435 = fx_102 * _S9434.x + cx_97;
    float _S9436 = fy_102 * _S9434.y + cy_97;
    float2  uv0_5 = make_float2 (_S9435, _S9436);
    float2  _S9437 = float2 {vert1_c_3.x, vert1_c_3.y};
    float r_28 = length_0(_S9437);
    float _S9438 = vert1_c_3.z;
    float theta_24 = (F32_atan2((r_28), (_S9438)));
    if(theta_24 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_24 * theta_24 / 3.0f) / _S9438;
    }
    else
    {
        k_8 = theta_24 / r_28;
    }
    float2  _S9439 = _S9437 * make_float2 (k_8);
    float u_66 = _S9439.x;
    float v_66 = _S9439.y;
    float r2_66 = u_66 * u_66 + v_66 * v_66;
    float2  _S9440 = _S9439 * make_float2 (1.0f + r2_66 * ((*dist_coeffs_105)[int(0)] + r2_66 * ((*dist_coeffs_105)[int(1)] + r2_66 * ((*dist_coeffs_105)[int(2)] + r2_66 * (*dist_coeffs_105)[int(3)])))) + make_float2 (_S9431 * u_66 * v_66 + (*dist_coeffs_105)[int(5)] * (r2_66 + 2.0f * u_66 * u_66) + (*dist_coeffs_105)[int(6)] * r2_66, _S9432 * u_66 * v_66 + (*dist_coeffs_105)[int(4)] * (r2_66 + 2.0f * v_66 * v_66) + (*dist_coeffs_105)[int(7)] * r2_66);
    float2  _S9441 = _S9440 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9440.x + (*dist_coeffs_105)[int(9)] * _S9440.y, 0.0f);
    float _S9442 = fx_102 * _S9441.x + cx_97;
    float _S9443 = fy_102 * _S9441.y + cy_97;
    float2  uv1_5 = make_float2 (_S9442, _S9443);
    float2  _S9444 = float2 {vert2_c_3.x, vert2_c_3.y};
    float r_29 = length_0(_S9444);
    float _S9445 = vert2_c_3.z;
    float theta_25 = (F32_atan2((r_29), (_S9445)));
    if(theta_25 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_25 * theta_25 / 3.0f) / _S9445;
    }
    else
    {
        k_8 = theta_25 / r_29;
    }
    float2  _S9446 = _S9444 * make_float2 (k_8);
    float u_67 = _S9446.x;
    float v_67 = _S9446.y;
    float r2_67 = u_67 * u_67 + v_67 * v_67;
    float2  _S9447 = _S9446 * make_float2 (1.0f + r2_67 * ((*dist_coeffs_105)[int(0)] + r2_67 * ((*dist_coeffs_105)[int(1)] + r2_67 * ((*dist_coeffs_105)[int(2)] + r2_67 * (*dist_coeffs_105)[int(3)])))) + make_float2 (_S9431 * u_67 * v_67 + (*dist_coeffs_105)[int(5)] * (r2_67 + 2.0f * u_67 * u_67) + (*dist_coeffs_105)[int(6)] * r2_67, _S9432 * u_67 * v_67 + (*dist_coeffs_105)[int(4)] * (r2_67 + 2.0f * v_67 * v_67) + (*dist_coeffs_105)[int(7)] * r2_67);
    float2  _S9448 = _S9447 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9447.x + (*dist_coeffs_105)[int(9)] * _S9447.y, 0.0f);
    float _S9449 = fx_102 * _S9448.x + cx_97;
    float _S9450 = fy_102 * _S9448.y + cy_97;
    float2  uv2_5 = make_float2 (_S9449, _S9450);
    float2  e0_3 = uv1_5 - uv0_5;
    float2  e1_3 = uv2_5 - uv1_5;
    float offset_3 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_3.y))))) - 1.0f) * ((F32_abs((e0_3.x * e1_3.y - e0_3.y * e1_3.x))) / (length_0(e0_3) + length_0(e1_3) + length_0(uv0_5 - uv2_5)));
    *aabb_xyxy_55 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S9435), (_S9442)))), (_S9449))) - offset_3)))), int((F32_floor(((F32_min(((F32_min((_S9436), (_S9443)))), (_S9450))) - offset_3)))), int((F32_ceil(((F32_max(((F32_max((_S9435), (_S9442)))), (_S9449))) + offset_3)))), int((F32_ceil(((F32_max(((F32_max((_S9436), (_S9443)))), (_S9450))) + offset_3)))));
    float3  _S9451 = (vert0_c_3 + vert1_c_3 + vert2_c_3) / make_float3 (3.0f);
    float _S9452 = _S9451.z;
    *depth_42 = (F32_max((_S9452), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9452 + length_1(_S9451)))));
    float3  _S9453 = mean_67 - - mul_0(transpose_0(R_69), t_65);
    float _S9454 = _S9453.x;
    float _S9455 = _S9453.y;
    float _S9456 = _S9453.z;
    float norm_13 = (F32_sqrt((_S9454 * _S9454 + _S9455 * _S9455 + _S9456 * _S9456)));
    float x_84 = _S9454 / norm_13;
    float y_29 = _S9455 / norm_13;
    float z_26 = _S9456 / norm_13;
    float z2_109 = z_26 * z_26;
    float fTmp0B_26 = -1.09254848957061768f * z_26;
    float fC1_26 = x_84 * x_84 - y_29 * y_29;
    float fS1_26 = 2.0f * x_84 * y_29;
    float fTmp0C_26 = -2.28522896766662598f * z2_109 + 0.4570457935333252f;
    float fTmp1B_26 = 1.44530570507049561f * z_26;
    float3  color_3 = make_float3 (0.282094806432724f) * (*sh_coeffs_20)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_29) * (*sh_coeffs_20)[int(1)] + make_float3 (z_26) * (*sh_coeffs_20)[int(2)] - make_float3 (x_84) * (*sh_coeffs_20)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_26) * (*sh_coeffs_20)[int(4)] + make_float3 (fTmp0B_26 * y_29) * (*sh_coeffs_20)[int(5)] + make_float3 (0.94617468118667603f * z2_109 - 0.31539157032966614f) * (*sh_coeffs_20)[int(6)] + make_float3 (fTmp0B_26 * x_84) * (*sh_coeffs_20)[int(7)] + make_float3 (0.54627424478530884f * fC1_26) * (*sh_coeffs_20)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_84 * fS1_26 + y_29 * fC1_26)) * (*sh_coeffs_20)[int(9)] + make_float3 (fTmp1B_26 * fS1_26) * (*sh_coeffs_20)[int(10)] + make_float3 (fTmp0C_26 * y_29) * (*sh_coeffs_20)[int(11)] + make_float3 (z_26 * (1.86588168144226074f * z2_109 - 1.11952900886535645f)) * (*sh_coeffs_20)[int(12)] + make_float3 (fTmp0C_26 * x_84) * (*sh_coeffs_20)[int(13)] + make_float3 (fTmp1B_26 * fC1_26) * (*sh_coeffs_20)[int(14)] + make_float3 (-0.59004360437393188f * (x_84 * fC1_26 - y_29 * fS1_26)) * (*sh_coeffs_20)[int(15)]);
    float3  _S9457 = make_float3 (0.0f);
    (*rgbs_3)[int(0)] = max_0(color_3 + (*ch_coeffs_3)[int(0)] + make_float3 (0.5f), _S9457);
    float3  _S9458 = color_3 - (*ch_coeffs_3)[int(0)] * make_float3 (0.5f);
    float3  _S9459 = (*ch_coeffs_3)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_3)[int(1)] = max_0(_S9458 + _S9459 + make_float3 (0.5f), _S9457);
    (*rgbs_3)[int(2)] = max_0(_S9458 - _S9459 + make_float3 (0.5f), _S9457);
    (*verts_3)[int(0)] = vert0_4;
    (*verts_3)[int(1)] = vert1_4;
    (*verts_3)[int(2)] = vert2_4;
    float3  _S9460 = normalize_0(cross_0(vert1_c_3 - vert0_c_3, vert2_c_3 - vert0_c_3));
    *normal_3 = _S9460 * make_float3 (float(- (F32_sign((dot_1(_S9460, mean_c_78))))));
    return;
}

inline __device__ void s_bwd_prop_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_21, float3  _s_dOut_9)
{
    float _S9461 = length_1((*dpx_21).primal_0);
    float3  _S9462 = (*dpx_21).primal_0 * _s_dOut_9;
    float3  _S9463 = make_float3 (1.0f / _S9461) * _s_dOut_9;
    float _S9464 = - ((_S9462.x + _S9462.y + _S9462.z) / (_S9461 * _S9461));
    float3  _S9465 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9466;
    (&_S9466)->primal_0 = (*dpx_21).primal_0;
    (&_S9466)->differential_0 = _S9465;
    s_bwd_length_impl_1(&_S9466, _S9464);
    float3  _S9467 = _S9463 + _S9466.differential_0;
    dpx_21->primal_0 = (*dpx_21).primal_0;
    dpx_21->differential_0 = _S9467;
    return;
}

inline __device__ void s_bwd_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9468, float3  _S9469)
{
    s_bwd_prop_normalize_impl_0(_S9468, _S9469);
    return;
}

inline __device__ void s_bwd_prop_exp2_0(DiffPair_float_0 * _S9470, float _S9471)
{
    _d_exp2_0(_S9470, _S9471);
    return;
}

inline __device__ void s_bwd_prop_abs_0(DiffPair_float_0 * _S9472, float _S9473)
{
    _d_abs_0(_S9472, _S9473);
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp_vjp(float3  mean_68, float4  quat_69, float3  scale_68, float2  hardness_4, FixedArray<float3 , 16>  * sh_coeffs_21, FixedArray<float3 , 2>  * ch_coeffs_4, Matrix<float, 3, 3>  R_70, float3  t_66, float fx_103, float fy_103, float cx_98, float cy_98, FixedArray<float, 10>  * dist_coeffs_106, uint image_width_91, uint image_height_91, float v_depth_22, FixedArray<float3 , 3>  * v_verts_0, FixedArray<float3 , 3>  * v_rgbs_0, float3  v_normal_0, float3  * v_mean_23, float4  * v_quat_22, float3  * v_scale_22, float2  * v_hardness_0, FixedArray<float3 , 16>  * v_sh_coeffs_7, FixedArray<float3 , 2>  * v_ch_coeffs_0, Matrix<float, 3, 3>  * v_R_23, float3  * v_t_22)
{
    float3  mean_c_79 = s_primal_ctx_mul_0(R_70, mean_68) + t_66;
    float _S9474 = scale_68.x;
    float _S9475 = s_primal_ctx_exp_1(_S9474);
    float _S9476 = scale_68.y;
    float _S9477 = s_primal_ctx_exp_1(_S9476);
    float sz_5 = scale_68.z - 0.5f * (_S9474 + _S9476);
    float _S9478 = quat_69.y;
    float x2_83 = _S9478 * _S9478;
    float y2_83 = quat_69.z * quat_69.z;
    float z2_110 = quat_69.w * quat_69.w;
    float xy_83 = quat_69.y * quat_69.z;
    float xz_83 = quat_69.y * quat_69.w;
    float yz_83 = quat_69.z * quat_69.w;
    float wx_83 = quat_69.x * quat_69.y;
    float wy_83 = quat_69.x * quat_69.z;
    float wz_83 = quat_69.x * quat_69.w;
    Matrix<float, 3, 3>  _S9479 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_83 + z2_110), 2.0f * (xy_83 + wz_83), 2.0f * (xz_83 - wy_83), 2.0f * (xy_83 - wz_83), 1.0f - 2.0f * (x2_83 + z2_110), 2.0f * (yz_83 + wx_83), 2.0f * (xz_83 + wy_83), 2.0f * (yz_83 - wx_83), 1.0f - 2.0f * (x2_83 + y2_83)));
    float3  _S9480 = make_float3 (_S9475, 0.0f, 0.0f);
    float3  vert0_5 = s_primal_ctx_mul_0(_S9479, _S9480) + mean_68;
    float _S9481 = -0.5f + sz_5;
    float3  _S9482 = make_float3 (_S9475 * _S9481, _S9477, 0.0f);
    float3  vert1_5 = s_primal_ctx_mul_0(_S9479, _S9482) + mean_68;
    float _S9483 = -0.5f - sz_5;
    float3  _S9484 = make_float3 (_S9475 * _S9483, - _S9477, 0.0f);
    float3  vert2_5 = s_primal_ctx_mul_0(_S9479, _S9484) + mean_68;
    float3  vert0_c_4 = s_primal_ctx_mul_0(R_70, vert0_5) + t_66;
    float3  vert1_c_4 = s_primal_ctx_mul_0(R_70, vert1_5) + t_66;
    float3  vert2_c_4 = s_primal_ctx_mul_0(R_70, vert2_5) + t_66;
    float2  _S9485 = float2 {vert0_c_4.x, vert0_c_4.y};
    float _S9486 = vert0_c_4.z;
    float2  _S9487 = make_float2 (_S9486);
    float2  _S9488 = _S9485 / make_float2 (_S9486);
    float2  _S9489 = make_float2 (_S9486 * _S9486);
    float u_68 = _S9488.x;
    float v_68 = _S9488.y;
    float r2_68 = u_68 * u_68 + v_68 * v_68;
    float _S9490 = (*dist_coeffs_106)[int(2)] + r2_68 * (*dist_coeffs_106)[int(3)];
    float _S9491 = (*dist_coeffs_106)[int(1)] + r2_68 * _S9490;
    float _S9492 = (*dist_coeffs_106)[int(0)] + r2_68 * _S9491;
    float radial_2 = 1.0f + r2_68 * _S9492;
    float2  _S9493 = make_float2 (radial_2);
    float _S9494 = 2.0f * (*dist_coeffs_106)[int(4)];
    float _S9495 = _S9494 * u_68;
    float _S9496 = 2.0f * u_68;
    float _S9497 = 2.0f * (*dist_coeffs_106)[int(5)];
    float _S9498 = _S9497 * u_68;
    float _S9499 = 2.0f * v_68;
    float2  _S9500 = _S9488 * make_float2 (radial_2) + make_float2 (_S9495 * v_68 + (*dist_coeffs_106)[int(5)] * (r2_68 + _S9496 * u_68) + (*dist_coeffs_106)[int(6)] * r2_68, _S9498 * v_68 + (*dist_coeffs_106)[int(4)] * (r2_68 + _S9499 * v_68) + (*dist_coeffs_106)[int(7)] * r2_68);
    float2  _S9501 = _S9500 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9500.x + (*dist_coeffs_106)[int(9)] * _S9500.y, 0.0f);
    float _S9502 = fx_103 * _S9501.x + cx_98;
    float _S9503 = fy_103 * _S9501.y + cy_98;
    float2  uv0_6 = make_float2 (_S9502, _S9503);
    float2  _S9504 = float2 {vert1_c_4.x, vert1_c_4.y};
    float _S9505 = vert1_c_4.z;
    float2  _S9506 = make_float2 (_S9505);
    float2  _S9507 = _S9504 / make_float2 (_S9505);
    float2  _S9508 = make_float2 (_S9505 * _S9505);
    float u_69 = _S9507.x;
    float v_69 = _S9507.y;
    float r2_69 = u_69 * u_69 + v_69 * v_69;
    float _S9509 = (*dist_coeffs_106)[int(2)] + r2_69 * (*dist_coeffs_106)[int(3)];
    float _S9510 = (*dist_coeffs_106)[int(1)] + r2_69 * _S9509;
    float _S9511 = (*dist_coeffs_106)[int(0)] + r2_69 * _S9510;
    float radial_3 = 1.0f + r2_69 * _S9511;
    float2  _S9512 = make_float2 (radial_3);
    float _S9513 = _S9494 * u_69;
    float _S9514 = 2.0f * u_69;
    float _S9515 = _S9497 * u_69;
    float _S9516 = 2.0f * v_69;
    float2  _S9517 = _S9507 * make_float2 (radial_3) + make_float2 (_S9513 * v_69 + (*dist_coeffs_106)[int(5)] * (r2_69 + _S9514 * u_69) + (*dist_coeffs_106)[int(6)] * r2_69, _S9515 * v_69 + (*dist_coeffs_106)[int(4)] * (r2_69 + _S9516 * v_69) + (*dist_coeffs_106)[int(7)] * r2_69);
    float2  _S9518 = _S9517 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9517.x + (*dist_coeffs_106)[int(9)] * _S9517.y, 0.0f);
    float _S9519 = fx_103 * _S9518.x + cx_98;
    float _S9520 = fy_103 * _S9518.y + cy_98;
    float2  uv1_6 = make_float2 (_S9519, _S9520);
    float2  _S9521 = float2 {vert2_c_4.x, vert2_c_4.y};
    float _S9522 = vert2_c_4.z;
    float2  _S9523 = make_float2 (_S9522);
    float2  _S9524 = _S9521 / make_float2 (_S9522);
    float2  _S9525 = make_float2 (_S9522 * _S9522);
    float u_70 = _S9524.x;
    float v_70 = _S9524.y;
    float r2_70 = u_70 * u_70 + v_70 * v_70;
    float _S9526 = (*dist_coeffs_106)[int(2)] + r2_70 * (*dist_coeffs_106)[int(3)];
    float _S9527 = (*dist_coeffs_106)[int(1)] + r2_70 * _S9526;
    float _S9528 = (*dist_coeffs_106)[int(0)] + r2_70 * _S9527;
    float radial_4 = 1.0f + r2_70 * _S9528;
    float2  _S9529 = make_float2 (radial_4);
    float _S9530 = _S9494 * u_70;
    float _S9531 = 2.0f * u_70;
    float _S9532 = _S9497 * u_70;
    float _S9533 = 2.0f * v_70;
    float2  _S9534 = _S9524 * make_float2 (radial_4) + make_float2 (_S9530 * v_70 + (*dist_coeffs_106)[int(5)] * (r2_70 + _S9531 * u_70) + (*dist_coeffs_106)[int(6)] * r2_70, _S9532 * v_70 + (*dist_coeffs_106)[int(4)] * (r2_70 + _S9533 * v_70) + (*dist_coeffs_106)[int(7)] * r2_70);
    float2  _S9535 = _S9534 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9534.x + (*dist_coeffs_106)[int(9)] * _S9534.y, 0.0f);
    float _S9536 = fx_103 * _S9535.x + cx_98;
    float _S9537 = fy_103 * _S9535.y + cy_98;
    float2  uv2_6 = make_float2 (_S9536, _S9537);
    float2  e0_4 = uv1_6 - uv0_6;
    float2  e1_4 = uv2_6 - uv1_6;
    float2  e2_0 = uv0_6 - uv2_6;
    float _S9538 = e0_4.x;
    float _S9539 = e1_4.y;
    float _S9540 = e0_4.y;
    float _S9541 = e1_4.x;
    float _S9542 = _S9538 * _S9539 - _S9540 * _S9541;
    float _S9543 = 1.0f - hardness_4.y;
    float _S9544 = -1.0f / _S9543;
    float _S9545 = _S9543 * _S9543;
    float _S9546 = s_primal_ctx_max_0(_S9502, _S9519);
    float _S9547 = s_primal_ctx_min_0(_S9502, _S9519);
    float _S9548 = s_primal_ctx_max_0(_S9503, _S9520);
    float _S9549 = s_primal_ctx_min_0(_S9503, _S9520);
    float3  _S9550 = (vert0_c_4 + vert1_c_4 + vert2_c_4) / make_float3 (3.0f);
    float _S9551 = _S9550.z;
    float _S9552 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S9553 = _S9552 * (_S9551 + length_1(_S9550));
    Matrix<float, 3, 3>  _S9554 = transpose_0(R_70);
    float3  _S9555 = mean_68 - - s_primal_ctx_mul_0(_S9554, t_66);
    float _S9556 = _S9555.x;
    float _S9557 = _S9555.y;
    float _S9558 = _S9555.z;
    float _S9559 = _S9556 * _S9556 + _S9557 * _S9557 + _S9558 * _S9558;
    float _S9560 = s_primal_ctx_sqrt_0(_S9559);
    float x_85 = _S9556 / _S9560;
    float3  _S9561 = make_float3 (x_85);
    float _S9562 = _S9560 * _S9560;
    float y_30 = _S9557 / _S9560;
    float z_27 = _S9558 / _S9560;
    float3  _S9563 = make_float3 (z_27);
    float _S9564 = - y_30;
    float3  _S9565 = make_float3 (_S9564);
    float z2_111 = z_27 * z_27;
    float fTmp0B_27 = -1.09254848957061768f * z_27;
    float fC1_27 = x_85 * x_85 - y_30 * y_30;
    float _S9566 = 2.0f * x_85;
    float fS1_27 = _S9566 * y_30;
    float pSH6_13 = 0.94617468118667603f * z2_111 - 0.31539157032966614f;
    float3  _S9567 = make_float3 (pSH6_13);
    float pSH7_13 = fTmp0B_27 * x_85;
    float3  _S9568 = make_float3 (pSH7_13);
    float pSH5_13 = fTmp0B_27 * y_30;
    float3  _S9569 = make_float3 (pSH5_13);
    float pSH8_13 = 0.54627424478530884f * fC1_27;
    float3  _S9570 = make_float3 (pSH8_13);
    float pSH4_13 = 0.54627424478530884f * fS1_27;
    float3  _S9571 = make_float3 (pSH4_13);
    float fTmp0C_27 = -2.28522896766662598f * z2_111 + 0.4570457935333252f;
    float fTmp1B_27 = 1.44530570507049561f * z_27;
    float _S9572 = 1.86588168144226074f * z2_111 - 1.11952900886535645f;
    float pSH12_13 = z_27 * _S9572;
    float3  _S9573 = make_float3 (pSH12_13);
    float pSH13_13 = fTmp0C_27 * x_85;
    float3  _S9574 = make_float3 (pSH13_13);
    float pSH11_13 = fTmp0C_27 * y_30;
    float3  _S9575 = make_float3 (pSH11_13);
    float pSH14_13 = fTmp1B_27 * fC1_27;
    float3  _S9576 = make_float3 (pSH14_13);
    float pSH10_13 = fTmp1B_27 * fS1_27;
    float3  _S9577 = make_float3 (pSH10_13);
    float pSH15_13 = -0.59004360437393188f * (x_85 * fC1_27 - y_30 * fS1_27);
    float3  _S9578 = make_float3 (pSH15_13);
    float pSH9_13 = -0.59004360437393188f * (x_85 * fS1_27 + y_30 * fC1_27);
    float3  _S9579 = make_float3 (pSH9_13);
    float3  color_4 = make_float3 (0.282094806432724f) * (*sh_coeffs_21)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S9564) * (*sh_coeffs_21)[int(1)] + make_float3 (z_27) * (*sh_coeffs_21)[int(2)] - make_float3 (x_85) * (*sh_coeffs_21)[int(3)]) + (make_float3 (pSH4_13) * (*sh_coeffs_21)[int(4)] + make_float3 (pSH5_13) * (*sh_coeffs_21)[int(5)] + make_float3 (pSH6_13) * (*sh_coeffs_21)[int(6)] + make_float3 (pSH7_13) * (*sh_coeffs_21)[int(7)] + make_float3 (pSH8_13) * (*sh_coeffs_21)[int(8)]) + (make_float3 (pSH9_13) * (*sh_coeffs_21)[int(9)] + make_float3 (pSH10_13) * (*sh_coeffs_21)[int(10)] + make_float3 (pSH11_13) * (*sh_coeffs_21)[int(11)] + make_float3 (pSH12_13) * (*sh_coeffs_21)[int(12)] + make_float3 (pSH13_13) * (*sh_coeffs_21)[int(13)] + make_float3 (pSH14_13) * (*sh_coeffs_21)[int(14)] + make_float3 (pSH15_13) * (*sh_coeffs_21)[int(15)]);
    float3  _S9580 = color_4 + (*ch_coeffs_4)[int(0)] + make_float3 (0.5f);
    float3  _S9581 = make_float3 (0.0f);
    float3  _S9582 = color_4 - (*ch_coeffs_4)[int(0)] * make_float3 (0.5f);
    float _S9583 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S9584 = make_float3 (_S9583);
    float3  _S9585 = (*ch_coeffs_4)[int(1)] * make_float3 (_S9583);
    float3  _S9586 = _S9582 + _S9585 + make_float3 (0.5f);
    float3  _S9587 = _S9582 - _S9585 + make_float3 (0.5f);
    float3  _S9588 = vert1_c_4 - vert0_c_4;
    float3  _S9589 = vert2_c_4 - vert0_c_4;
    float3  _S9590 = s_primal_ctx_cross_0(_S9588, _S9589);
    float3  _S9591 = normalize_0(_S9590);
    float3  _S9592 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S9591, mean_c_79)))))) * v_normal_0;
    float3  _S9593 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9594;
    (&_S9594)->primal_0 = _S9591;
    (&_S9594)->differential_0 = _S9593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9595;
    (&_S9595)->primal_0 = mean_c_79;
    (&_S9595)->differential_0 = _S9593;
    s_bwd_prop_dot_0(&_S9594, &_S9595, 0.0f);
    float3  _S9596 = _S9592 + _S9594.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9597;
    (&_S9597)->primal_0 = _S9590;
    (&_S9597)->differential_0 = _S9593;
    s_bwd_normalize_impl_0(&_S9597, _S9596);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9598;
    (&_S9598)->primal_0 = _S9588;
    (&_S9598)->differential_0 = _S9593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9599;
    (&_S9599)->primal_0 = _S9589;
    (&_S9599)->differential_0 = _S9593;
    s_bwd_prop_cross_0(&_S9598, &_S9599, _S9597.differential_0);
    float3  _S9600 = - _S9599.differential_0;
    float3  _S9601 = - _S9598.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9602;
    (&_S9602)->primal_0 = _S9587;
    (&_S9602)->differential_0 = _S9593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9603;
    (&_S9603)->primal_0 = _S9581;
    (&_S9603)->differential_0 = _S9593;
    s_bwd_prop_max_0(&_S9602, &_S9603, (*v_rgbs_0)[int(2)]);
    float3  _S9604 = - _S9602.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9605;
    (&_S9605)->primal_0 = _S9586;
    (&_S9605)->differential_0 = _S9593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9606;
    (&_S9606)->primal_0 = _S9581;
    (&_S9606)->differential_0 = _S9593;
    s_bwd_prop_max_0(&_S9605, &_S9606, (*v_rgbs_0)[int(1)]);
    float3  _S9607 = _S9584 * (_S9604 + _S9605.differential_0);
    float3  _S9608 = _S9602.differential_0 + _S9605.differential_0;
    float3  _S9609 = make_float3 (0.5f) * - _S9608;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9610;
    (&_S9610)->primal_0 = _S9580;
    (&_S9610)->differential_0 = _S9593;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9611;
    (&_S9611)->primal_0 = _S9581;
    (&_S9611)->differential_0 = _S9593;
    s_bwd_prop_max_0(&_S9610, &_S9611, (*v_rgbs_0)[int(0)]);
    float3  _S9612 = _S9609 + _S9610.differential_0;
    float3  _S9613 = _S9608 + _S9610.differential_0;
    float3  _S9614 = _S9578 * _S9613;
    float3  _S9615 = (*sh_coeffs_21)[int(15)] * _S9613;
    float3  _S9616 = _S9576 * _S9613;
    float3  _S9617 = (*sh_coeffs_21)[int(14)] * _S9613;
    float3  _S9618 = _S9574 * _S9613;
    float3  _S9619 = (*sh_coeffs_21)[int(13)] * _S9613;
    float3  _S9620 = _S9573 * _S9613;
    float3  _S9621 = (*sh_coeffs_21)[int(12)] * _S9613;
    float3  _S9622 = _S9575 * _S9613;
    float3  _S9623 = (*sh_coeffs_21)[int(11)] * _S9613;
    float3  _S9624 = _S9577 * _S9613;
    float3  _S9625 = (*sh_coeffs_21)[int(10)] * _S9613;
    float3  _S9626 = _S9579 * _S9613;
    float3  _S9627 = (*sh_coeffs_21)[int(9)] * _S9613;
    float s_diff_fS2_T_7 = -0.59004360437393188f * (_S9627.x + _S9627.y + _S9627.z);
    float s_diff_fC2_T_7 = -0.59004360437393188f * (_S9615.x + _S9615.y + _S9615.z);
    float _S9628 = _S9625.x + _S9625.y + _S9625.z;
    float _S9629 = _S9617.x + _S9617.y + _S9617.z;
    float _S9630 = _S9623.x + _S9623.y + _S9623.z;
    float _S9631 = _S9619.x + _S9619.y + _S9619.z;
    float _S9632 = _S9621.x + _S9621.y + _S9621.z;
    float _S9633 = - s_diff_fC2_T_7;
    float3  _S9634 = _S9570 * _S9613;
    float3  _S9635 = (*sh_coeffs_21)[int(8)] * _S9613;
    float3  _S9636 = _S9568 * _S9613;
    float3  _S9637 = (*sh_coeffs_21)[int(7)] * _S9613;
    float3  _S9638 = _S9567 * _S9613;
    float3  _S9639 = (*sh_coeffs_21)[int(6)] * _S9613;
    float3  _S9640 = _S9569 * _S9613;
    float3  _S9641 = (*sh_coeffs_21)[int(5)] * _S9613;
    float3  _S9642 = _S9571 * _S9613;
    float3  _S9643 = (*sh_coeffs_21)[int(4)] * _S9613;
    float _S9644 = _S9641.x + _S9641.y + _S9641.z;
    float _S9645 = _S9637.x + _S9637.y + _S9637.z;
    float _S9646 = fTmp1B_27 * _S9628 + x_85 * s_diff_fS2_T_7 + y_30 * _S9633 + 0.54627424478530884f * (_S9643.x + _S9643.y + _S9643.z);
    float _S9647 = fTmp1B_27 * _S9629 + y_30 * s_diff_fS2_T_7 + x_85 * s_diff_fC2_T_7 + 0.54627424478530884f * (_S9635.x + _S9635.y + _S9635.z);
    float _S9648 = y_30 * - _S9647;
    float _S9649 = x_85 * _S9647;
    float _S9650 = z_27 * (1.86588168144226074f * (z_27 * _S9632) + -2.28522896766662598f * (y_30 * _S9630 + x_85 * _S9631) + 0.94617468118667603f * (_S9639.x + _S9639.y + _S9639.z));
    float3  _S9651 = make_float3 (0.48860251903533936f) * _S9613;
    float3  _S9652 = - _S9651;
    float3  _S9653 = _S9561 * _S9652;
    float3  _S9654 = (*sh_coeffs_21)[int(3)] * _S9652;
    float3  _S9655 = _S9563 * _S9651;
    float3  _S9656 = (*sh_coeffs_21)[int(2)] * _S9651;
    float3  _S9657 = _S9565 * _S9651;
    float3  _S9658 = (*sh_coeffs_21)[int(1)] * _S9651;
    float _S9659 = (_S9572 * _S9632 + 1.44530570507049561f * (fS1_27 * _S9628 + fC1_27 * _S9629) + -1.09254848957061768f * (y_30 * _S9644 + x_85 * _S9645) + _S9650 + _S9650 + _S9656.x + _S9656.y + _S9656.z) / _S9562;
    float _S9660 = _S9560 * _S9659;
    float _S9661 = (fTmp0C_27 * _S9630 + fC1_27 * s_diff_fS2_T_7 + fS1_27 * _S9633 + fTmp0B_27 * _S9644 + _S9566 * _S9646 + _S9648 + _S9648 + - (_S9658.x + _S9658.y + _S9658.z)) / _S9562;
    float _S9662 = _S9560 * _S9661;
    float _S9663 = (fTmp0C_27 * _S9631 + fS1_27 * s_diff_fS2_T_7 + fC1_27 * s_diff_fC2_T_7 + fTmp0B_27 * _S9645 + 2.0f * (y_30 * _S9646) + _S9649 + _S9649 + _S9654.x + _S9654.y + _S9654.z) / _S9562;
    float _S9664 = _S9560 * _S9663;
    float _S9665 = _S9558 * - _S9659 + _S9557 * - _S9661 + _S9556 * - _S9663;
    DiffPair_float_0 _S9666;
    (&_S9666)->primal_0 = _S9559;
    (&_S9666)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9666, _S9665);
    float _S9667 = _S9558 * _S9666.differential_0;
    float _S9668 = _S9557 * _S9666.differential_0;
    float _S9669 = _S9556 * _S9666.differential_0;
    float3  _S9670 = make_float3 (0.282094806432724f) * _S9613;
    float3  _S9671 = make_float3 (_S9664 + _S9669 + _S9669, _S9662 + _S9668 + _S9668, _S9660 + _S9667 + _S9667);
    float3  _S9672 = - - _S9671;
    Matrix<float, 3, 3>  _S9673 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9674;
    (&_S9674)->primal_0 = _S9554;
    (&_S9674)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9675;
    (&_S9675)->primal_0 = t_66;
    (&_S9675)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9674, &_S9675, _S9672);
    Matrix<float, 3, 3>  _S9676 = transpose_0(_S9674.differential_0);
    DiffPair_float_0 _S9677;
    (&_S9677)->primal_0 = _S9551;
    (&_S9677)->differential_0 = 0.0f;
    DiffPair_float_0 _S9678;
    (&_S9678)->primal_0 = _S9553;
    (&_S9678)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9677, &_S9678, v_depth_22);
    float _S9679 = _S9552 * _S9678.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9680;
    (&_S9680)->primal_0 = _S9550;
    (&_S9680)->differential_0 = _S9593;
    s_bwd_length_impl_1(&_S9680, _S9679);
    float3  _S9681 = make_float3 (0.3333333432674408f) * (_S9680.differential_0 + make_float3 (0.0f, 0.0f, _S9677.differential_0 + _S9679));
    DiffPair_float_0 _S9682;
    (&_S9682)->primal_0 = _S9549;
    (&_S9682)->differential_0 = 0.0f;
    DiffPair_float_0 _S9683;
    (&_S9683)->primal_0 = _S9537;
    (&_S9683)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9682, &_S9683, 0.0f);
    DiffPair_float_0 _S9684;
    (&_S9684)->primal_0 = _S9503;
    (&_S9684)->differential_0 = 0.0f;
    DiffPair_float_0 _S9685;
    (&_S9685)->primal_0 = _S9520;
    (&_S9685)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9684, &_S9685, _S9682.differential_0);
    DiffPair_float_0 _S9686;
    (&_S9686)->primal_0 = _S9548;
    (&_S9686)->differential_0 = 0.0f;
    DiffPair_float_0 _S9687;
    (&_S9687)->primal_0 = _S9537;
    (&_S9687)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9686, &_S9687, 0.0f);
    DiffPair_float_0 _S9688;
    (&_S9688)->primal_0 = _S9503;
    (&_S9688)->differential_0 = 0.0f;
    DiffPair_float_0 _S9689;
    (&_S9689)->primal_0 = _S9520;
    (&_S9689)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9688, &_S9689, _S9686.differential_0);
    DiffPair_float_0 _S9690;
    (&_S9690)->primal_0 = _S9547;
    (&_S9690)->differential_0 = 0.0f;
    DiffPair_float_0 _S9691;
    (&_S9691)->primal_0 = _S9536;
    (&_S9691)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9690, &_S9691, 0.0f);
    DiffPair_float_0 _S9692;
    (&_S9692)->primal_0 = _S9502;
    (&_S9692)->differential_0 = 0.0f;
    DiffPair_float_0 _S9693;
    (&_S9693)->primal_0 = _S9519;
    (&_S9693)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9692, &_S9693, _S9690.differential_0);
    DiffPair_float_0 _S9694;
    (&_S9694)->primal_0 = _S9546;
    (&_S9694)->differential_0 = 0.0f;
    DiffPair_float_0 _S9695;
    (&_S9695)->primal_0 = _S9536;
    (&_S9695)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9694, &_S9695, 0.0f);
    DiffPair_float_0 _S9696;
    (&_S9696)->primal_0 = _S9502;
    (&_S9696)->differential_0 = 0.0f;
    DiffPair_float_0 _S9697;
    (&_S9697)->primal_0 = _S9519;
    (&_S9697)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9696, &_S9697, _S9694.differential_0);
    DiffPair_float_0 _S9698;
    (&_S9698)->primal_0 = _S9544;
    (&_S9698)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S9698, 0.0f);
    float _S9699 = - (-1.0f * - (_S9698.differential_0 / _S9545));
    float2  _S9700 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9701;
    (&_S9701)->primal_0 = e2_0;
    (&_S9701)->differential_0 = _S9700;
    s_bwd_length_impl_0(&_S9701, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9702;
    (&_S9702)->primal_0 = e1_4;
    (&_S9702)->differential_0 = _S9700;
    s_bwd_length_impl_0(&_S9702, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9703;
    (&_S9703)->primal_0 = e0_4;
    (&_S9703)->differential_0 = _S9700;
    s_bwd_length_impl_0(&_S9703, -0.0f);
    DiffPair_float_0 _S9704;
    (&_S9704)->primal_0 = _S9542;
    (&_S9704)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S9704, 0.0f);
    float _S9705 = - _S9704.differential_0;
    float2  _S9706 = _S9702.differential_0 + make_float2 (_S9540 * _S9705, _S9538 * _S9704.differential_0);
    float2  _S9707 = _S9703.differential_0 + make_float2 (_S9539 * _S9704.differential_0, _S9541 * _S9705);
    float2  _S9708 = - _S9701.differential_0 + _S9706;
    float _S9709 = fx_103 * (_S9691.differential_0 + _S9695.differential_0 + _S9708.x);
    float2  _S9710 = make_float2 (_S9709, fy_103 * (_S9683.differential_0 + _S9687.differential_0 + _S9708.y)) + make_float2 ((*dist_coeffs_106)[int(8)] * _S9709, (*dist_coeffs_106)[int(9)] * _S9709);
    float2  _S9711 = _S9524 * _S9710;
    float _S9712 = (*dist_coeffs_106)[int(4)] * _S9710.y;
    float _S9713 = (*dist_coeffs_106)[int(5)] * _S9710.x;
    float _S9714 = _S9711.x + _S9711.y;
    float _S9715 = r2_70 * _S9714;
    float _S9716 = r2_70 * _S9715;
    float _S9717 = (*dist_coeffs_106)[int(7)] * _S9710.y + _S9712 + (*dist_coeffs_106)[int(6)] * _S9710.x + _S9713 + _S9528 * _S9714 + _S9527 * _S9715 + _S9526 * _S9716 + (*dist_coeffs_106)[int(3)] * (r2_70 * _S9716);
    float _S9718 = v_70 * _S9717;
    float _S9719 = u_70 * _S9717;
    float2  _S9720 = (_S9529 * _S9710 + make_float2 (_S9497 * (v_70 * _S9710.y) + _S9531 * _S9713 + 2.0f * (u_70 * _S9713) + _S9494 * (v_70 * _S9710.x) + _S9719 + _S9719, _S9533 * _S9712 + 2.0f * (v_70 * _S9712) + _S9532 * _S9710.y + _S9530 * _S9710.x + _S9718 + _S9718)) / _S9525;
    float2  _S9721 = _S9521 * - _S9720;
    float2  _S9722 = _S9523 * _S9720;
    float2  _S9723 = - _S9706 + _S9707;
    float _S9724 = fx_103 * (_S9693.differential_0 + _S9697.differential_0 + _S9723.x);
    float2  _S9725 = make_float2 (_S9724, fy_103 * (_S9685.differential_0 + _S9689.differential_0 + _S9723.y)) + make_float2 ((*dist_coeffs_106)[int(8)] * _S9724, (*dist_coeffs_106)[int(9)] * _S9724);
    float2  _S9726 = _S9507 * _S9725;
    float _S9727 = (*dist_coeffs_106)[int(4)] * _S9725.y;
    float _S9728 = (*dist_coeffs_106)[int(5)] * _S9725.x;
    float _S9729 = _S9726.x + _S9726.y;
    float _S9730 = r2_69 * _S9729;
    float _S9731 = r2_69 * _S9730;
    float _S9732 = (*dist_coeffs_106)[int(7)] * _S9725.y + _S9727 + (*dist_coeffs_106)[int(6)] * _S9725.x + _S9728 + _S9511 * _S9729 + _S9510 * _S9730 + _S9509 * _S9731 + (*dist_coeffs_106)[int(3)] * (r2_69 * _S9731);
    float _S9733 = v_69 * _S9732;
    float _S9734 = u_69 * _S9732;
    float2  _S9735 = (_S9512 * _S9725 + make_float2 (_S9497 * (v_69 * _S9725.y) + _S9514 * _S9728 + 2.0f * (u_69 * _S9728) + _S9494 * (v_69 * _S9725.x) + _S9734 + _S9734, _S9516 * _S9727 + 2.0f * (v_69 * _S9727) + _S9515 * _S9725.y + _S9513 * _S9725.x + _S9733 + _S9733)) / _S9508;
    float2  _S9736 = _S9504 * - _S9735;
    float2  _S9737 = _S9506 * _S9735;
    float _S9738 = _S9736.x + _S9736.y;
    float2  _S9739 = _S9701.differential_0 + - _S9707;
    float _S9740 = fx_103 * (_S9692.differential_0 + _S9696.differential_0 + _S9739.x);
    float2  _S9741 = make_float2 (_S9740, fy_103 * (_S9684.differential_0 + _S9688.differential_0 + _S9739.y)) + make_float2 ((*dist_coeffs_106)[int(8)] * _S9740, (*dist_coeffs_106)[int(9)] * _S9740);
    float2  _S9742 = _S9488 * _S9741;
    float _S9743 = (*dist_coeffs_106)[int(4)] * _S9741.y;
    float _S9744 = (*dist_coeffs_106)[int(5)] * _S9741.x;
    float _S9745 = _S9742.x + _S9742.y;
    float _S9746 = r2_68 * _S9745;
    float _S9747 = r2_68 * _S9746;
    float _S9748 = (*dist_coeffs_106)[int(7)] * _S9741.y + _S9743 + (*dist_coeffs_106)[int(6)] * _S9741.x + _S9744 + _S9492 * _S9745 + _S9491 * _S9746 + _S9490 * _S9747 + (*dist_coeffs_106)[int(3)] * (r2_68 * _S9747);
    float _S9749 = v_68 * _S9748;
    float _S9750 = u_68 * _S9748;
    float2  _S9751 = (_S9493 * _S9741 + make_float2 (_S9497 * (v_68 * _S9741.y) + _S9496 * _S9744 + 2.0f * (u_68 * _S9744) + _S9494 * (v_68 * _S9741.x) + _S9750 + _S9750, _S9499 * _S9743 + 2.0f * (v_68 * _S9743) + _S9498 * _S9741.y + _S9495 * _S9741.x + _S9749 + _S9749)) / _S9489;
    float2  _S9752 = _S9485 * - _S9751;
    float2  _S9753 = _S9487 * _S9751;
    float _S9754 = _S9752.x + _S9752.y;
    float3  _S9755 = _S9599.differential_0 + _S9681 + make_float3 (_S9722.x, _S9722.y, _S9721.x + _S9721.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9756;
    (&_S9756)->primal_0 = R_70;
    (&_S9756)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9757;
    (&_S9757)->primal_0 = vert2_5;
    (&_S9757)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9756, &_S9757, _S9755);
    float3  _S9758 = _S9598.differential_0 + _S9681 + make_float3 (_S9737.x, _S9737.y, _S9738);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9759;
    (&_S9759)->primal_0 = R_70;
    (&_S9759)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9760;
    (&_S9760)->primal_0 = vert1_5;
    (&_S9760)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9759, &_S9760, _S9758);
    float3  _S9761 = _S9600 + _S9601 + _S9681 + make_float3 (_S9753.x, _S9753.y, _S9754);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9762;
    (&_S9762)->primal_0 = R_70;
    (&_S9762)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9763;
    (&_S9763)->primal_0 = vert0_5;
    (&_S9763)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9762, &_S9763, _S9761);
    float3  _S9764 = (*v_verts_0)[int(2)] + _S9757.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9765;
    (&_S9765)->primal_0 = _S9479;
    (&_S9765)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9766;
    (&_S9766)->primal_0 = _S9484;
    (&_S9766)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9765, &_S9766, _S9764);
    float _S9767 = - _S9766.differential_0.y;
    float _S9768 = _S9483 * _S9766.differential_0.x;
    float _S9769 = - (_S9475 * _S9766.differential_0.x);
    float3  _S9770 = (*v_verts_0)[int(1)] + _S9760.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9771;
    (&_S9771)->primal_0 = _S9479;
    (&_S9771)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9772;
    (&_S9772)->primal_0 = _S9482;
    (&_S9772)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9771, &_S9772, _S9770);
    float _S9773 = _S9475 * _S9772.differential_0.x;
    float _S9774 = _S9481 * _S9772.differential_0.x;
    float3  _S9775 = (*v_verts_0)[int(0)] + _S9763.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9776;
    (&_S9776)->primal_0 = _S9479;
    (&_S9776)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9777;
    (&_S9777)->primal_0 = _S9480;
    (&_S9777)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9776, &_S9777, _S9775);
    Matrix<float, 3, 3>  _S9778 = transpose_0(_S9765.differential_0 + _S9771.differential_0 + _S9776.differential_0);
    float _S9779 = 2.0f * - _S9778.rows[int(2)].z;
    float _S9780 = 2.0f * _S9778.rows[int(2)].y;
    float _S9781 = 2.0f * _S9778.rows[int(2)].x;
    float _S9782 = 2.0f * _S9778.rows[int(1)].z;
    float _S9783 = 2.0f * - _S9778.rows[int(1)].y;
    float _S9784 = 2.0f * _S9778.rows[int(1)].x;
    float _S9785 = 2.0f * _S9778.rows[int(0)].z;
    float _S9786 = 2.0f * _S9778.rows[int(0)].y;
    float _S9787 = 2.0f * - _S9778.rows[int(0)].x;
    float _S9788 = - _S9784 + _S9786;
    float _S9789 = _S9781 + - _S9785;
    float _S9790 = - _S9780 + _S9782;
    float _S9791 = _S9780 + _S9782;
    float _S9792 = _S9781 + _S9785;
    float _S9793 = _S9784 + _S9786;
    float _S9794 = quat_69.w * (_S9783 + _S9787);
    float _S9795 = quat_69.z * (_S9779 + _S9787);
    float _S9796 = quat_69.y * (_S9779 + _S9783);
    float _S9797 = quat_69.x * _S9788 + quat_69.z * _S9791 + quat_69.y * _S9792 + _S9794 + _S9794;
    float _S9798 = quat_69.x * _S9789 + quat_69.w * _S9791 + quat_69.y * _S9793 + _S9795 + _S9795;
    float _S9799 = quat_69.x * _S9790 + quat_69.w * _S9792 + quat_69.z * _S9793 + _S9796 + _S9796;
    float _S9800 = quat_69.w * _S9788 + quat_69.z * _S9789 + quat_69.y * _S9790;
    float _S9801 = _S9769 + _S9773;
    float _S9802 = 0.5f * - _S9801;
    float _S9803 = _S9767 + _S9772.differential_0.y;
    DiffPair_float_0 _S9804;
    (&_S9804)->primal_0 = _S9476;
    (&_S9804)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9804, _S9803);
    float _S9805 = _S9802 + _S9804.differential_0;
    float _S9806 = _S9768 + _S9774 + _S9777.differential_0.x;
    DiffPair_float_0 _S9807;
    (&_S9807)->primal_0 = _S9474;
    (&_S9807)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9807, _S9806);
    float _S9808 = _S9802 + _S9807.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9809;
    (&_S9809)->primal_0 = R_70;
    (&_S9809)->differential_0 = _S9673;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9810;
    (&_S9810)->primal_0 = mean_68;
    (&_S9810)->differential_0 = _S9593;
    s_bwd_prop_mul_1(&_S9809, &_S9810, _S9595.differential_0);
    float3  _S9811 = _S9675.differential_0 + _S9755 + _S9758 + _S9761 + _S9595.differential_0;
    Matrix<float, 3, 3>  _S9812 = _S9676 + _S9756.differential_0 + _S9759.differential_0 + _S9762.differential_0 + _S9809.differential_0;
    FixedArray<float3 , 2>  _S9813;
    _S9813[int(0)] = _S9593;
    _S9813[int(1)] = _S9593;
    _S9813[int(1)] = _S9607;
    _S9813[int(0)] = _S9612;
    FixedArray<float3 , 16>  _S9814;
    _S9814[int(0)] = _S9593;
    _S9814[int(1)] = _S9593;
    _S9814[int(2)] = _S9593;
    _S9814[int(3)] = _S9593;
    _S9814[int(4)] = _S9593;
    _S9814[int(5)] = _S9593;
    _S9814[int(6)] = _S9593;
    _S9814[int(7)] = _S9593;
    _S9814[int(8)] = _S9593;
    _S9814[int(9)] = _S9593;
    _S9814[int(10)] = _S9593;
    _S9814[int(11)] = _S9593;
    _S9814[int(12)] = _S9593;
    _S9814[int(13)] = _S9593;
    _S9814[int(14)] = _S9593;
    _S9814[int(15)] = _S9593;
    _S9814[int(15)] = _S9614;
    _S9814[int(14)] = _S9616;
    _S9814[int(13)] = _S9618;
    _S9814[int(12)] = _S9620;
    _S9814[int(11)] = _S9622;
    _S9814[int(10)] = _S9624;
    _S9814[int(9)] = _S9626;
    _S9814[int(8)] = _S9634;
    _S9814[int(7)] = _S9636;
    _S9814[int(6)] = _S9638;
    _S9814[int(5)] = _S9640;
    _S9814[int(4)] = _S9642;
    _S9814[int(3)] = _S9653;
    _S9814[int(2)] = _S9655;
    _S9814[int(1)] = _S9657;
    _S9814[int(0)] = _S9670;
    float2  _S9815 = make_float2 (0.0f, _S9699);
    float3  _S9816 = make_float3 (_S9808, _S9805, _S9801);
    float4  _S9817 = make_float4 (0.0f);
    *&((&_S9817)->w) = _S9797;
    *&((&_S9817)->z) = _S9798;
    *&((&_S9817)->y) = _S9799;
    *&((&_S9817)->x) = _S9800;
    *v_mean_23 = _S9671 + _S9764 + _S9770 + _S9775 + _S9810.differential_0;
    *v_quat_22 = _S9817;
    *v_scale_22 = _S9816;
    *v_hardness_0 = _S9815;
    *v_sh_coeffs_7 = _S9814;
    *v_ch_coeffs_0 = _S9813;
    *v_R_23 = _S9812;
    *v_t_22 = _S9811;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye_vjp(float3  mean_69, float4  quat_70, float3  scale_69, float2  hardness_5, FixedArray<float3 , 16>  * sh_coeffs_22, FixedArray<float3 , 2>  * ch_coeffs_5, Matrix<float, 3, 3>  R_71, float3  t_67, float fx_104, float fy_104, float cx_99, float cy_99, FixedArray<float, 10>  * dist_coeffs_107, uint image_width_92, uint image_height_92, float v_depth_23, FixedArray<float3 , 3>  * v_verts_1, FixedArray<float3 , 3>  * v_rgbs_1, float3  v_normal_1, float3  * v_mean_24, float4  * v_quat_23, float3  * v_scale_23, float2  * v_hardness_1, FixedArray<float3 , 16>  * v_sh_coeffs_8, FixedArray<float3 , 2>  * v_ch_coeffs_1, Matrix<float, 3, 3>  * v_R_24, float3  * v_t_23)
{
    float3  mean_c_80 = s_primal_ctx_mul_0(R_71, mean_69) + t_67;
    float _S9818 = scale_69.x;
    float _S9819 = s_primal_ctx_exp_1(_S9818);
    float _S9820 = scale_69.y;
    float _S9821 = s_primal_ctx_exp_1(_S9820);
    float sz_6 = scale_69.z - 0.5f * (_S9818 + _S9820);
    float _S9822 = quat_70.y;
    float x2_84 = _S9822 * _S9822;
    float y2_84 = quat_70.z * quat_70.z;
    float z2_112 = quat_70.w * quat_70.w;
    float xy_84 = quat_70.y * quat_70.z;
    float xz_84 = quat_70.y * quat_70.w;
    float yz_84 = quat_70.z * quat_70.w;
    float wx_84 = quat_70.x * quat_70.y;
    float wy_84 = quat_70.x * quat_70.z;
    float wz_84 = quat_70.x * quat_70.w;
    Matrix<float, 3, 3>  _S9823 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_84 + z2_112), 2.0f * (xy_84 + wz_84), 2.0f * (xz_84 - wy_84), 2.0f * (xy_84 - wz_84), 1.0f - 2.0f * (x2_84 + z2_112), 2.0f * (yz_84 + wx_84), 2.0f * (xz_84 + wy_84), 2.0f * (yz_84 - wx_84), 1.0f - 2.0f * (x2_84 + y2_84)));
    float3  _S9824 = make_float3 (_S9819, 0.0f, 0.0f);
    float3  vert0_6 = s_primal_ctx_mul_0(_S9823, _S9824) + mean_69;
    float _S9825 = -0.5f + sz_6;
    float3  _S9826 = make_float3 (_S9819 * _S9825, _S9821, 0.0f);
    float3  vert1_6 = s_primal_ctx_mul_0(_S9823, _S9826) + mean_69;
    float _S9827 = -0.5f - sz_6;
    float3  _S9828 = make_float3 (_S9819 * _S9827, - _S9821, 0.0f);
    float3  vert2_6 = s_primal_ctx_mul_0(_S9823, _S9828) + mean_69;
    float3  vert0_c_5 = s_primal_ctx_mul_0(R_71, vert0_6) + t_67;
    float3  vert1_c_5 = s_primal_ctx_mul_0(R_71, vert1_6) + t_67;
    float3  vert2_c_5 = s_primal_ctx_mul_0(R_71, vert2_6) + t_67;
    float2  _S9829 = float2 {vert0_c_5.x, vert0_c_5.y};
    float _S9830 = length_0(_S9829);
    float _S9831 = vert0_c_5.z;
    float _S9832 = s_primal_ctx_atan2_0(_S9830, _S9831);
    bool _S9833 = _S9832 < 0.00100000004749745f;
    float k_9;
    float _S9834;
    float _S9835;
    float _S9836;
    if(_S9833)
    {
        float _S9837 = 1.0f - _S9832 * _S9832 / 3.0f;
        float _S9838 = _S9831 * _S9831;
        k_9 = _S9837 / _S9831;
        _S9834 = 0.0f;
        _S9835 = _S9838;
        _S9836 = _S9837;
    }
    else
    {
        float _S9839 = _S9830 * _S9830;
        k_9 = _S9832 / _S9830;
        _S9834 = _S9839;
        _S9835 = 0.0f;
        _S9836 = 0.0f;
    }
    float2  _S9840 = make_float2 (k_9);
    float2  _S9841 = _S9829 * make_float2 (k_9);
    float u_71 = _S9841.x;
    float v_71 = _S9841.y;
    float r2_71 = u_71 * u_71 + v_71 * v_71;
    float _S9842 = (*dist_coeffs_107)[int(2)] + r2_71 * (*dist_coeffs_107)[int(3)];
    float _S9843 = (*dist_coeffs_107)[int(1)] + r2_71 * _S9842;
    float _S9844 = (*dist_coeffs_107)[int(0)] + r2_71 * _S9843;
    float radial_5 = 1.0f + r2_71 * _S9844;
    float2  _S9845 = make_float2 (radial_5);
    float _S9846 = 2.0f * (*dist_coeffs_107)[int(4)];
    float _S9847 = _S9846 * u_71;
    float _S9848 = 2.0f * u_71;
    float _S9849 = 2.0f * (*dist_coeffs_107)[int(5)];
    float _S9850 = _S9849 * u_71;
    float _S9851 = 2.0f * v_71;
    float2  _S9852 = _S9841 * make_float2 (radial_5) + make_float2 (_S9847 * v_71 + (*dist_coeffs_107)[int(5)] * (r2_71 + _S9848 * u_71) + (*dist_coeffs_107)[int(6)] * r2_71, _S9850 * v_71 + (*dist_coeffs_107)[int(4)] * (r2_71 + _S9851 * v_71) + (*dist_coeffs_107)[int(7)] * r2_71);
    float2  _S9853 = _S9852 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9852.x + (*dist_coeffs_107)[int(9)] * _S9852.y, 0.0f);
    float _S9854 = fx_104 * _S9853.x + cx_99;
    float _S9855 = fy_104 * _S9853.y + cy_99;
    float2  uv0_7 = make_float2 (_S9854, _S9855);
    float2  _S9856 = float2 {vert1_c_5.x, vert1_c_5.y};
    float _S9857 = length_0(_S9856);
    float _S9858 = vert1_c_5.z;
    float _S9859 = s_primal_ctx_atan2_0(_S9857, _S9858);
    bool _S9860 = _S9859 < 0.00100000004749745f;
    float _S9861;
    float _S9862;
    float _S9863;
    if(_S9860)
    {
        float _S9864 = 1.0f - _S9859 * _S9859 / 3.0f;
        float _S9865 = _S9858 * _S9858;
        k_9 = _S9864 / _S9858;
        _S9861 = 0.0f;
        _S9862 = _S9865;
        _S9863 = _S9864;
    }
    else
    {
        float _S9866 = _S9857 * _S9857;
        k_9 = _S9859 / _S9857;
        _S9861 = _S9866;
        _S9862 = 0.0f;
        _S9863 = 0.0f;
    }
    float2  _S9867 = make_float2 (k_9);
    float2  _S9868 = _S9856 * make_float2 (k_9);
    float u_72 = _S9868.x;
    float v_72 = _S9868.y;
    float r2_72 = u_72 * u_72 + v_72 * v_72;
    float _S9869 = (*dist_coeffs_107)[int(2)] + r2_72 * (*dist_coeffs_107)[int(3)];
    float _S9870 = (*dist_coeffs_107)[int(1)] + r2_72 * _S9869;
    float _S9871 = (*dist_coeffs_107)[int(0)] + r2_72 * _S9870;
    float radial_6 = 1.0f + r2_72 * _S9871;
    float2  _S9872 = make_float2 (radial_6);
    float _S9873 = _S9846 * u_72;
    float _S9874 = 2.0f * u_72;
    float _S9875 = _S9849 * u_72;
    float _S9876 = 2.0f * v_72;
    float2  _S9877 = _S9868 * make_float2 (radial_6) + make_float2 (_S9873 * v_72 + (*dist_coeffs_107)[int(5)] * (r2_72 + _S9874 * u_72) + (*dist_coeffs_107)[int(6)] * r2_72, _S9875 * v_72 + (*dist_coeffs_107)[int(4)] * (r2_72 + _S9876 * v_72) + (*dist_coeffs_107)[int(7)] * r2_72);
    float2  _S9878 = _S9877 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9877.x + (*dist_coeffs_107)[int(9)] * _S9877.y, 0.0f);
    float _S9879 = fx_104 * _S9878.x + cx_99;
    float _S9880 = fy_104 * _S9878.y + cy_99;
    float2  uv1_7 = make_float2 (_S9879, _S9880);
    float2  _S9881 = float2 {vert2_c_5.x, vert2_c_5.y};
    float _S9882 = length_0(_S9881);
    float _S9883 = vert2_c_5.z;
    float _S9884 = s_primal_ctx_atan2_0(_S9882, _S9883);
    bool _S9885 = _S9884 < 0.00100000004749745f;
    float _S9886;
    float _S9887;
    float _S9888;
    if(_S9885)
    {
        float _S9889 = 1.0f - _S9884 * _S9884 / 3.0f;
        float _S9890 = _S9883 * _S9883;
        k_9 = _S9889 / _S9883;
        _S9886 = 0.0f;
        _S9887 = _S9890;
        _S9888 = _S9889;
    }
    else
    {
        float _S9891 = _S9882 * _S9882;
        k_9 = _S9884 / _S9882;
        _S9886 = _S9891;
        _S9887 = 0.0f;
        _S9888 = 0.0f;
    }
    float2  _S9892 = make_float2 (k_9);
    float2  _S9893 = _S9881 * make_float2 (k_9);
    float u_73 = _S9893.x;
    float v_73 = _S9893.y;
    float r2_73 = u_73 * u_73 + v_73 * v_73;
    float _S9894 = (*dist_coeffs_107)[int(2)] + r2_73 * (*dist_coeffs_107)[int(3)];
    float _S9895 = (*dist_coeffs_107)[int(1)] + r2_73 * _S9894;
    float _S9896 = (*dist_coeffs_107)[int(0)] + r2_73 * _S9895;
    float radial_7 = 1.0f + r2_73 * _S9896;
    float2  _S9897 = make_float2 (radial_7);
    float _S9898 = _S9846 * u_73;
    float _S9899 = 2.0f * u_73;
    float _S9900 = _S9849 * u_73;
    float _S9901 = 2.0f * v_73;
    float2  _S9902 = _S9893 * make_float2 (radial_7) + make_float2 (_S9898 * v_73 + (*dist_coeffs_107)[int(5)] * (r2_73 + _S9899 * u_73) + (*dist_coeffs_107)[int(6)] * r2_73, _S9900 * v_73 + (*dist_coeffs_107)[int(4)] * (r2_73 + _S9901 * v_73) + (*dist_coeffs_107)[int(7)] * r2_73);
    float2  _S9903 = _S9902 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9902.x + (*dist_coeffs_107)[int(9)] * _S9902.y, 0.0f);
    float _S9904 = fx_104 * _S9903.x + cx_99;
    float _S9905 = fy_104 * _S9903.y + cy_99;
    float2  uv2_7 = make_float2 (_S9904, _S9905);
    float2  e0_5 = uv1_7 - uv0_7;
    float2  e1_5 = uv2_7 - uv1_7;
    float2  e2_1 = uv0_7 - uv2_7;
    float _S9906 = e0_5.x;
    float _S9907 = e1_5.y;
    float _S9908 = e0_5.y;
    float _S9909 = e1_5.x;
    float _S9910 = _S9906 * _S9907 - _S9908 * _S9909;
    float _S9911 = 1.0f - hardness_5.y;
    float _S9912 = -1.0f / _S9911;
    float _S9913 = _S9911 * _S9911;
    float _S9914 = s_primal_ctx_max_0(_S9854, _S9879);
    float _S9915 = s_primal_ctx_min_0(_S9854, _S9879);
    float _S9916 = s_primal_ctx_max_0(_S9855, _S9880);
    float _S9917 = s_primal_ctx_min_0(_S9855, _S9880);
    float3  _S9918 = (vert0_c_5 + vert1_c_5 + vert2_c_5) / make_float3 (3.0f);
    float _S9919 = _S9918.z;
    float _S9920 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S9921 = _S9920 * (_S9919 + length_1(_S9918));
    Matrix<float, 3, 3>  _S9922 = transpose_0(R_71);
    float3  _S9923 = mean_69 - - s_primal_ctx_mul_0(_S9922, t_67);
    float _S9924 = _S9923.x;
    float _S9925 = _S9923.y;
    float _S9926 = _S9923.z;
    float _S9927 = _S9924 * _S9924 + _S9925 * _S9925 + _S9926 * _S9926;
    float _S9928 = s_primal_ctx_sqrt_0(_S9927);
    float x_86 = _S9924 / _S9928;
    float3  _S9929 = make_float3 (x_86);
    float _S9930 = _S9928 * _S9928;
    float y_31 = _S9925 / _S9928;
    float z_28 = _S9926 / _S9928;
    float3  _S9931 = make_float3 (z_28);
    float _S9932 = - y_31;
    float3  _S9933 = make_float3 (_S9932);
    float z2_113 = z_28 * z_28;
    float fTmp0B_28 = -1.09254848957061768f * z_28;
    float fC1_28 = x_86 * x_86 - y_31 * y_31;
    float _S9934 = 2.0f * x_86;
    float fS1_28 = _S9934 * y_31;
    float pSH6_14 = 0.94617468118667603f * z2_113 - 0.31539157032966614f;
    float3  _S9935 = make_float3 (pSH6_14);
    float pSH7_14 = fTmp0B_28 * x_86;
    float3  _S9936 = make_float3 (pSH7_14);
    float pSH5_14 = fTmp0B_28 * y_31;
    float3  _S9937 = make_float3 (pSH5_14);
    float pSH8_14 = 0.54627424478530884f * fC1_28;
    float3  _S9938 = make_float3 (pSH8_14);
    float pSH4_14 = 0.54627424478530884f * fS1_28;
    float3  _S9939 = make_float3 (pSH4_14);
    float fTmp0C_28 = -2.28522896766662598f * z2_113 + 0.4570457935333252f;
    float fTmp1B_28 = 1.44530570507049561f * z_28;
    float _S9940 = 1.86588168144226074f * z2_113 - 1.11952900886535645f;
    float pSH12_14 = z_28 * _S9940;
    float3  _S9941 = make_float3 (pSH12_14);
    float pSH13_14 = fTmp0C_28 * x_86;
    float3  _S9942 = make_float3 (pSH13_14);
    float pSH11_14 = fTmp0C_28 * y_31;
    float3  _S9943 = make_float3 (pSH11_14);
    float pSH14_14 = fTmp1B_28 * fC1_28;
    float3  _S9944 = make_float3 (pSH14_14);
    float pSH10_14 = fTmp1B_28 * fS1_28;
    float3  _S9945 = make_float3 (pSH10_14);
    float pSH15_14 = -0.59004360437393188f * (x_86 * fC1_28 - y_31 * fS1_28);
    float3  _S9946 = make_float3 (pSH15_14);
    float pSH9_14 = -0.59004360437393188f * (x_86 * fS1_28 + y_31 * fC1_28);
    float3  _S9947 = make_float3 (pSH9_14);
    float3  color_5 = make_float3 (0.282094806432724f) * (*sh_coeffs_22)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S9932) * (*sh_coeffs_22)[int(1)] + make_float3 (z_28) * (*sh_coeffs_22)[int(2)] - make_float3 (x_86) * (*sh_coeffs_22)[int(3)]) + (make_float3 (pSH4_14) * (*sh_coeffs_22)[int(4)] + make_float3 (pSH5_14) * (*sh_coeffs_22)[int(5)] + make_float3 (pSH6_14) * (*sh_coeffs_22)[int(6)] + make_float3 (pSH7_14) * (*sh_coeffs_22)[int(7)] + make_float3 (pSH8_14) * (*sh_coeffs_22)[int(8)]) + (make_float3 (pSH9_14) * (*sh_coeffs_22)[int(9)] + make_float3 (pSH10_14) * (*sh_coeffs_22)[int(10)] + make_float3 (pSH11_14) * (*sh_coeffs_22)[int(11)] + make_float3 (pSH12_14) * (*sh_coeffs_22)[int(12)] + make_float3 (pSH13_14) * (*sh_coeffs_22)[int(13)] + make_float3 (pSH14_14) * (*sh_coeffs_22)[int(14)] + make_float3 (pSH15_14) * (*sh_coeffs_22)[int(15)]);
    float3  _S9948 = color_5 + (*ch_coeffs_5)[int(0)] + make_float3 (0.5f);
    float3  _S9949 = make_float3 (0.0f);
    float3  _S9950 = color_5 - (*ch_coeffs_5)[int(0)] * make_float3 (0.5f);
    float _S9951 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S9952 = make_float3 (_S9951);
    float3  _S9953 = (*ch_coeffs_5)[int(1)] * make_float3 (_S9951);
    float3  _S9954 = _S9950 + _S9953 + make_float3 (0.5f);
    float3  _S9955 = _S9950 - _S9953 + make_float3 (0.5f);
    float3  _S9956 = vert1_c_5 - vert0_c_5;
    float3  _S9957 = vert2_c_5 - vert0_c_5;
    float3  _S9958 = s_primal_ctx_cross_0(_S9956, _S9957);
    float3  _S9959 = normalize_0(_S9958);
    float3  _S9960 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S9959, mean_c_80)))))) * v_normal_1;
    float3  _S9961 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9962;
    (&_S9962)->primal_0 = _S9959;
    (&_S9962)->differential_0 = _S9961;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9963;
    (&_S9963)->primal_0 = mean_c_80;
    (&_S9963)->differential_0 = _S9961;
    s_bwd_prop_dot_0(&_S9962, &_S9963, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9964 = _S9963;
    float3  _S9965 = _S9960 + _S9962.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9966;
    (&_S9966)->primal_0 = _S9958;
    (&_S9966)->differential_0 = _S9961;
    s_bwd_normalize_impl_0(&_S9966, _S9965);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9967;
    (&_S9967)->primal_0 = _S9956;
    (&_S9967)->differential_0 = _S9961;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9968;
    (&_S9968)->primal_0 = _S9957;
    (&_S9968)->differential_0 = _S9961;
    s_bwd_prop_cross_0(&_S9967, &_S9968, _S9966.differential_0);
    float3  _S9969 = - _S9968.differential_0;
    float3  _S9970 = - _S9967.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9971;
    (&_S9971)->primal_0 = _S9955;
    (&_S9971)->differential_0 = _S9961;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9972;
    (&_S9972)->primal_0 = _S9949;
    (&_S9972)->differential_0 = _S9961;
    s_bwd_prop_max_0(&_S9971, &_S9972, (*v_rgbs_1)[int(2)]);
    float3  _S9973 = - _S9971.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9974;
    (&_S9974)->primal_0 = _S9954;
    (&_S9974)->differential_0 = _S9961;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9975;
    (&_S9975)->primal_0 = _S9949;
    (&_S9975)->differential_0 = _S9961;
    s_bwd_prop_max_0(&_S9974, &_S9975, (*v_rgbs_1)[int(1)]);
    float3  _S9976 = _S9952 * (_S9973 + _S9974.differential_0);
    float3  _S9977 = _S9971.differential_0 + _S9974.differential_0;
    float3  _S9978 = make_float3 (0.5f) * - _S9977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9979;
    (&_S9979)->primal_0 = _S9948;
    (&_S9979)->differential_0 = _S9961;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9980;
    (&_S9980)->primal_0 = _S9949;
    (&_S9980)->differential_0 = _S9961;
    s_bwd_prop_max_0(&_S9979, &_S9980, (*v_rgbs_1)[int(0)]);
    float3  _S9981 = _S9978 + _S9979.differential_0;
    float3  _S9982 = _S9977 + _S9979.differential_0;
    float3  _S9983 = _S9946 * _S9982;
    float3  _S9984 = (*sh_coeffs_22)[int(15)] * _S9982;
    float3  _S9985 = _S9944 * _S9982;
    float3  _S9986 = (*sh_coeffs_22)[int(14)] * _S9982;
    float3  _S9987 = _S9942 * _S9982;
    float3  _S9988 = (*sh_coeffs_22)[int(13)] * _S9982;
    float3  _S9989 = _S9941 * _S9982;
    float3  _S9990 = (*sh_coeffs_22)[int(12)] * _S9982;
    float3  _S9991 = _S9943 * _S9982;
    float3  _S9992 = (*sh_coeffs_22)[int(11)] * _S9982;
    float3  _S9993 = _S9945 * _S9982;
    float3  _S9994 = (*sh_coeffs_22)[int(10)] * _S9982;
    float3  _S9995 = _S9947 * _S9982;
    float3  _S9996 = (*sh_coeffs_22)[int(9)] * _S9982;
    float s_diff_fS2_T_8 = -0.59004360437393188f * (_S9996.x + _S9996.y + _S9996.z);
    float s_diff_fC2_T_8 = -0.59004360437393188f * (_S9984.x + _S9984.y + _S9984.z);
    float _S9997 = _S9994.x + _S9994.y + _S9994.z;
    float _S9998 = _S9986.x + _S9986.y + _S9986.z;
    float _S9999 = _S9992.x + _S9992.y + _S9992.z;
    float _S10000 = _S9988.x + _S9988.y + _S9988.z;
    float _S10001 = _S9990.x + _S9990.y + _S9990.z;
    float _S10002 = - s_diff_fC2_T_8;
    float3  _S10003 = _S9938 * _S9982;
    float3  _S10004 = (*sh_coeffs_22)[int(8)] * _S9982;
    float3  _S10005 = _S9936 * _S9982;
    float3  _S10006 = (*sh_coeffs_22)[int(7)] * _S9982;
    float3  _S10007 = _S9935 * _S9982;
    float3  _S10008 = (*sh_coeffs_22)[int(6)] * _S9982;
    float3  _S10009 = _S9937 * _S9982;
    float3  _S10010 = (*sh_coeffs_22)[int(5)] * _S9982;
    float3  _S10011 = _S9939 * _S9982;
    float3  _S10012 = (*sh_coeffs_22)[int(4)] * _S9982;
    float _S10013 = _S10010.x + _S10010.y + _S10010.z;
    float _S10014 = _S10006.x + _S10006.y + _S10006.z;
    float _S10015 = fTmp1B_28 * _S9997 + x_86 * s_diff_fS2_T_8 + y_31 * _S10002 + 0.54627424478530884f * (_S10012.x + _S10012.y + _S10012.z);
    float _S10016 = fTmp1B_28 * _S9998 + y_31 * s_diff_fS2_T_8 + x_86 * s_diff_fC2_T_8 + 0.54627424478530884f * (_S10004.x + _S10004.y + _S10004.z);
    float _S10017 = y_31 * - _S10016;
    float _S10018 = x_86 * _S10016;
    float _S10019 = z_28 * (1.86588168144226074f * (z_28 * _S10001) + -2.28522896766662598f * (y_31 * _S9999 + x_86 * _S10000) + 0.94617468118667603f * (_S10008.x + _S10008.y + _S10008.z));
    float3  _S10020 = make_float3 (0.48860251903533936f) * _S9982;
    float3  _S10021 = - _S10020;
    float3  _S10022 = _S9929 * _S10021;
    float3  _S10023 = (*sh_coeffs_22)[int(3)] * _S10021;
    float3  _S10024 = _S9931 * _S10020;
    float3  _S10025 = (*sh_coeffs_22)[int(2)] * _S10020;
    float3  _S10026 = _S9933 * _S10020;
    float3  _S10027 = (*sh_coeffs_22)[int(1)] * _S10020;
    float _S10028 = (_S9940 * _S10001 + 1.44530570507049561f * (fS1_28 * _S9997 + fC1_28 * _S9998) + -1.09254848957061768f * (y_31 * _S10013 + x_86 * _S10014) + _S10019 + _S10019 + _S10025.x + _S10025.y + _S10025.z) / _S9930;
    float _S10029 = _S9928 * _S10028;
    float _S10030 = (fTmp0C_28 * _S9999 + fC1_28 * s_diff_fS2_T_8 + fS1_28 * _S10002 + fTmp0B_28 * _S10013 + _S9934 * _S10015 + _S10017 + _S10017 + - (_S10027.x + _S10027.y + _S10027.z)) / _S9930;
    float _S10031 = _S9928 * _S10030;
    float _S10032 = (fTmp0C_28 * _S10000 + fS1_28 * s_diff_fS2_T_8 + fC1_28 * s_diff_fC2_T_8 + fTmp0B_28 * _S10014 + 2.0f * (y_31 * _S10015) + _S10018 + _S10018 + _S10023.x + _S10023.y + _S10023.z) / _S9930;
    float _S10033 = _S9928 * _S10032;
    float _S10034 = _S9926 * - _S10028 + _S9925 * - _S10030 + _S9924 * - _S10032;
    DiffPair_float_0 _S10035;
    (&_S10035)->primal_0 = _S9927;
    (&_S10035)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S10035, _S10034);
    float _S10036 = _S9926 * _S10035.differential_0;
    float _S10037 = _S9925 * _S10035.differential_0;
    float _S10038 = _S9924 * _S10035.differential_0;
    float3  _S10039 = make_float3 (0.282094806432724f) * _S9982;
    float3  _S10040 = make_float3 (_S10033 + _S10038 + _S10038, _S10031 + _S10037 + _S10037, _S10029 + _S10036 + _S10036);
    float3  _S10041 = - - _S10040;
    Matrix<float, 3, 3>  _S10042 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10043;
    (&_S10043)->primal_0 = _S9922;
    (&_S10043)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10044;
    (&_S10044)->primal_0 = t_67;
    (&_S10044)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10043, &_S10044, _S10041);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10045 = _S10044;
    Matrix<float, 3, 3>  _S10046 = transpose_0(_S10043.differential_0);
    DiffPair_float_0 _S10047;
    (&_S10047)->primal_0 = _S9919;
    (&_S10047)->differential_0 = 0.0f;
    DiffPair_float_0 _S10048;
    (&_S10048)->primal_0 = _S9921;
    (&_S10048)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10047, &_S10048, v_depth_23);
    float _S10049 = _S9920 * _S10048.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10050;
    (&_S10050)->primal_0 = _S9918;
    (&_S10050)->differential_0 = _S9961;
    s_bwd_length_impl_1(&_S10050, _S10049);
    float3  _S10051 = make_float3 (0.3333333432674408f) * (_S10050.differential_0 + make_float3 (0.0f, 0.0f, _S10047.differential_0 + _S10049));
    DiffPair_float_0 _S10052;
    (&_S10052)->primal_0 = _S9917;
    (&_S10052)->differential_0 = 0.0f;
    DiffPair_float_0 _S10053;
    (&_S10053)->primal_0 = _S9905;
    (&_S10053)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10052, &_S10053, 0.0f);
    DiffPair_float_0 _S10054;
    (&_S10054)->primal_0 = _S9855;
    (&_S10054)->differential_0 = 0.0f;
    DiffPair_float_0 _S10055;
    (&_S10055)->primal_0 = _S9880;
    (&_S10055)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10054, &_S10055, _S10052.differential_0);
    DiffPair_float_0 _S10056;
    (&_S10056)->primal_0 = _S9916;
    (&_S10056)->differential_0 = 0.0f;
    DiffPair_float_0 _S10057;
    (&_S10057)->primal_0 = _S9905;
    (&_S10057)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10056, &_S10057, 0.0f);
    DiffPair_float_0 _S10058;
    (&_S10058)->primal_0 = _S9855;
    (&_S10058)->differential_0 = 0.0f;
    DiffPair_float_0 _S10059;
    (&_S10059)->primal_0 = _S9880;
    (&_S10059)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10058, &_S10059, _S10056.differential_0);
    DiffPair_float_0 _S10060;
    (&_S10060)->primal_0 = _S9915;
    (&_S10060)->differential_0 = 0.0f;
    DiffPair_float_0 _S10061;
    (&_S10061)->primal_0 = _S9904;
    (&_S10061)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10060, &_S10061, 0.0f);
    DiffPair_float_0 _S10062;
    (&_S10062)->primal_0 = _S9854;
    (&_S10062)->differential_0 = 0.0f;
    DiffPair_float_0 _S10063;
    (&_S10063)->primal_0 = _S9879;
    (&_S10063)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10062, &_S10063, _S10060.differential_0);
    DiffPair_float_0 _S10064;
    (&_S10064)->primal_0 = _S9914;
    (&_S10064)->differential_0 = 0.0f;
    DiffPair_float_0 _S10065;
    (&_S10065)->primal_0 = _S9904;
    (&_S10065)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10064, &_S10065, 0.0f);
    DiffPair_float_0 _S10066;
    (&_S10066)->primal_0 = _S9854;
    (&_S10066)->differential_0 = 0.0f;
    DiffPair_float_0 _S10067;
    (&_S10067)->primal_0 = _S9879;
    (&_S10067)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10066, &_S10067, _S10064.differential_0);
    DiffPair_float_0 _S10068;
    (&_S10068)->primal_0 = _S9912;
    (&_S10068)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S10068, 0.0f);
    float _S10069 = - (-1.0f * - (_S10068.differential_0 / _S9913));
    float2  _S10070 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10071;
    (&_S10071)->primal_0 = e2_1;
    (&_S10071)->differential_0 = _S10070;
    s_bwd_length_impl_0(&_S10071, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10072;
    (&_S10072)->primal_0 = e1_5;
    (&_S10072)->differential_0 = _S10070;
    s_bwd_length_impl_0(&_S10072, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10073;
    (&_S10073)->primal_0 = e0_5;
    (&_S10073)->differential_0 = _S10070;
    s_bwd_length_impl_0(&_S10073, -0.0f);
    DiffPair_float_0 _S10074;
    (&_S10074)->primal_0 = _S9910;
    (&_S10074)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S10074, 0.0f);
    float _S10075 = - _S10074.differential_0;
    float2  _S10076 = _S10072.differential_0 + make_float2 (_S9908 * _S10075, _S9906 * _S10074.differential_0);
    float2  _S10077 = - _S10076;
    float2  _S10078 = _S10073.differential_0 + make_float2 (_S9907 * _S10074.differential_0, _S9909 * _S10075);
    float2  _S10079 = - _S10078;
    float2  _S10080 = - _S10071.differential_0 + _S10076;
    float _S10081 = fx_104 * (_S10061.differential_0 + _S10065.differential_0 + _S10080.x);
    float2  _S10082 = make_float2 (_S10081, fy_104 * (_S10053.differential_0 + _S10057.differential_0 + _S10080.y)) + make_float2 ((*dist_coeffs_107)[int(8)] * _S10081, (*dist_coeffs_107)[int(9)] * _S10081);
    float2  _S10083 = _S9893 * _S10082;
    float2  _S10084 = _S9897 * _S10082;
    float _S10085 = (*dist_coeffs_107)[int(4)] * _S10082.y;
    float _S10086 = (*dist_coeffs_107)[int(5)] * _S10082.x;
    float _S10087 = _S10083.x + _S10083.y;
    float _S10088 = r2_73 * _S10087;
    float _S10089 = r2_73 * _S10088;
    float _S10090 = (*dist_coeffs_107)[int(7)] * _S10082.y + _S10085 + (*dist_coeffs_107)[int(6)] * _S10082.x + _S10086 + _S9896 * _S10087 + _S9895 * _S10088 + _S9894 * _S10089 + (*dist_coeffs_107)[int(3)] * (r2_73 * _S10089);
    float _S10091 = v_73 * _S10090;
    float _S10092 = u_73 * _S10090;
    float _S10093 = _S9901 * _S10085 + 2.0f * (v_73 * _S10085) + _S9900 * _S10082.y + _S9898 * _S10082.x + _S10091 + _S10091;
    float _S10094 = _S9849 * (v_73 * _S10082.y) + _S9899 * _S10086 + 2.0f * (u_73 * _S10086) + _S9846 * (v_73 * _S10082.x) + _S10092 + _S10092;
    float3  _S10095 = _S9967.differential_0 + _S10051;
    float3  _S10096 = _S9969 + _S9970 + _S10051;
    float3  _S10097 = _S9968.differential_0 + _S10051;
    FixedArray<float3 , 2>  _S10098;
    _S10098[int(0)] = _S9961;
    _S10098[int(1)] = _S9961;
    _S10098[int(1)] = _S9976;
    _S10098[int(0)] = _S9981;
    float3  _S10099 = _S10098[int(0)];
    float3  _S10100 = _S10098[int(1)];
    FixedArray<float3 , 16>  _S10101;
    _S10101[int(0)] = _S9961;
    _S10101[int(1)] = _S9961;
    _S10101[int(2)] = _S9961;
    _S10101[int(3)] = _S9961;
    _S10101[int(4)] = _S9961;
    _S10101[int(5)] = _S9961;
    _S10101[int(6)] = _S9961;
    _S10101[int(7)] = _S9961;
    _S10101[int(8)] = _S9961;
    _S10101[int(9)] = _S9961;
    _S10101[int(10)] = _S9961;
    _S10101[int(11)] = _S9961;
    _S10101[int(12)] = _S9961;
    _S10101[int(13)] = _S9961;
    _S10101[int(14)] = _S9961;
    _S10101[int(15)] = _S9961;
    _S10101[int(7)] = _S10005;
    _S10101[int(0)] = _S10039;
    _S10101[int(1)] = _S10026;
    _S10101[int(2)] = _S10024;
    _S10101[int(3)] = _S10022;
    _S10101[int(4)] = _S10011;
    _S10101[int(5)] = _S10009;
    _S10101[int(6)] = _S10007;
    _S10101[int(15)] = _S9983;
    _S10101[int(8)] = _S10003;
    _S10101[int(9)] = _S9995;
    _S10101[int(10)] = _S9993;
    _S10101[int(11)] = _S9991;
    _S10101[int(12)] = _S9989;
    _S10101[int(13)] = _S9987;
    _S10101[int(14)] = _S9985;
    float3  _S10102 = _S10101[int(0)];
    float3  _S10103 = _S10101[int(1)];
    float3  _S10104 = _S10101[int(2)];
    float3  _S10105 = _S10101[int(3)];
    float3  _S10106 = _S10101[int(4)];
    float3  _S10107 = _S10101[int(5)];
    float3  _S10108 = _S10101[int(6)];
    float3  _S10109 = _S10101[int(7)];
    float3  _S10110 = _S10101[int(8)];
    float3  _S10111 = _S10101[int(9)];
    float3  _S10112 = _S10101[int(10)];
    float3  _S10113 = _S10101[int(11)];
    float3  _S10114 = _S10101[int(12)];
    float3  _S10115 = _S10101[int(13)];
    float3  _S10116 = _S10101[int(14)];
    float3  _S10117 = _S10101[int(15)];
    float _S10118 = _S10062.differential_0 + _S10066.differential_0;
    float2  _S10119 = _S10071.differential_0 + _S10079;
    float _S10120 = _S10055.differential_0 + _S10059.differential_0;
    float _S10121 = _S10054.differential_0 + _S10058.differential_0;
    float2  _S10122 = _S10077 + _S10078;
    float _S10123 = _S10063.differential_0 + _S10067.differential_0;
    float2  _S10124 = make_float2 (0.0f, _S10069);
    float2  _S10125 = _S10084 + make_float2 (_S10094, _S10093);
    float2  _S10126 = _S9881 * _S10125;
    float2  _S10127 = _S9892 * _S10125;
    float _S10128 = _S10126.x + _S10126.y;
    if(_S9885)
    {
        float _S10129 = _S10128 / _S9887;
        float _S10130 = _S9888 * - _S10129;
        float _S10131 = _S9884 * (0.3333333432674408f * - (_S9883 * _S10129));
        k_9 = _S10131 + _S10131;
        _S9886 = _S10130;
        _S9887 = 0.0f;
    }
    else
    {
        float _S10132 = _S10128 / _S9886;
        float _S10133 = _S9884 * - _S10132;
        k_9 = _S9882 * _S10132;
        _S9886 = 0.0f;
        _S9887 = _S10133;
    }
    DiffPair_float_0 _S10134;
    (&_S10134)->primal_0 = _S9882;
    (&_S10134)->differential_0 = 0.0f;
    DiffPair_float_0 _S10135;
    (&_S10135)->primal_0 = _S9883;
    (&_S10135)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10134, &_S10135, k_9);
    float _S10136 = _S10135.differential_0 + _S9886;
    float _S10137 = _S10134.differential_0 + _S9887;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10138;
    (&_S10138)->primal_0 = _S9881;
    (&_S10138)->differential_0 = _S10070;
    s_bwd_length_impl_0(&_S10138, _S10137);
    float2  _S10139 = _S10138.differential_0 + _S10127;
    float _S10140 = fx_104 * (_S10122.x + _S10123);
    float2  _S10141 = make_float2 (_S10140, fy_104 * (_S10122.y + _S10120)) + make_float2 ((*dist_coeffs_107)[int(8)] * _S10140, (*dist_coeffs_107)[int(9)] * _S10140);
    float2  _S10142 = _S9868 * _S10141;
    float _S10143 = (*dist_coeffs_107)[int(4)] * _S10141.y;
    float _S10144 = (*dist_coeffs_107)[int(5)] * _S10141.x;
    float _S10145 = _S10142.x + _S10142.y;
    float _S10146 = r2_72 * _S10145;
    float _S10147 = r2_72 * _S10146;
    float _S10148 = (*dist_coeffs_107)[int(7)] * _S10141.y + _S10143 + (*dist_coeffs_107)[int(6)] * _S10141.x + _S10144 + _S9871 * _S10145 + _S9870 * _S10146 + _S9869 * _S10147 + (*dist_coeffs_107)[int(3)] * (r2_72 * _S10147);
    float _S10149 = v_72 * _S10148;
    float _S10150 = u_72 * _S10148;
    float3  _S10151 = _S10097 + make_float3 (_S10139.x, _S10139.y, _S10136);
    float2  _S10152 = _S9872 * _S10141 + make_float2 (_S9849 * (v_72 * _S10141.y) + _S9874 * _S10144 + 2.0f * (u_72 * _S10144) + _S9846 * (v_72 * _S10141.x) + _S10150 + _S10150, _S9876 * _S10143 + 2.0f * (v_72 * _S10143) + _S9875 * _S10141.y + _S9873 * _S10141.x + _S10149 + _S10149);
    float2  _S10153 = _S9856 * _S10152;
    float2  _S10154 = _S9867 * _S10152;
    float _S10155 = _S10153.x + _S10153.y;
    if(_S9860)
    {
        float _S10156 = _S10155 / _S9862;
        float _S10157 = _S9863 * - _S10156;
        float _S10158 = _S9859 * (0.3333333432674408f * - (_S9858 * _S10156));
        k_9 = _S10158 + _S10158;
        _S9861 = _S10157;
        _S9862 = 0.0f;
    }
    else
    {
        float _S10159 = _S10155 / _S9861;
        float _S10160 = _S9859 * - _S10159;
        k_9 = _S9857 * _S10159;
        _S9861 = 0.0f;
        _S9862 = _S10160;
    }
    DiffPair_float_0 _S10161;
    (&_S10161)->primal_0 = _S9857;
    (&_S10161)->differential_0 = 0.0f;
    DiffPair_float_0 _S10162;
    (&_S10162)->primal_0 = _S9858;
    (&_S10162)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10161, &_S10162, k_9);
    float _S10163 = _S10162.differential_0 + _S9861;
    float _S10164 = _S10161.differential_0 + _S9862;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10165;
    (&_S10165)->primal_0 = _S9856;
    (&_S10165)->differential_0 = _S10070;
    s_bwd_length_impl_0(&_S10165, _S10164);
    float2  _S10166 = _S10165.differential_0 + _S10154;
    float _S10167 = fx_104 * (_S10119.x + _S10118);
    float2  _S10168 = make_float2 (_S10167, fy_104 * (_S10119.y + _S10121)) + make_float2 ((*dist_coeffs_107)[int(8)] * _S10167, (*dist_coeffs_107)[int(9)] * _S10167);
    float2  _S10169 = _S9841 * _S10168;
    float _S10170 = (*dist_coeffs_107)[int(4)] * _S10168.y;
    float _S10171 = (*dist_coeffs_107)[int(5)] * _S10168.x;
    float _S10172 = _S10169.x + _S10169.y;
    float _S10173 = r2_71 * _S10172;
    float _S10174 = r2_71 * _S10173;
    float _S10175 = (*dist_coeffs_107)[int(7)] * _S10168.y + _S10170 + (*dist_coeffs_107)[int(6)] * _S10168.x + _S10171 + _S9844 * _S10172 + _S9843 * _S10173 + _S9842 * _S10174 + (*dist_coeffs_107)[int(3)] * (r2_71 * _S10174);
    float _S10176 = v_71 * _S10175;
    float _S10177 = u_71 * _S10175;
    float3  _S10178 = _S10095 + make_float3 (_S10166.x, _S10166.y, _S10163);
    float2  _S10179 = _S9845 * _S10168 + make_float2 (_S9849 * (v_71 * _S10168.y) + _S9848 * _S10171 + 2.0f * (u_71 * _S10171) + _S9846 * (v_71 * _S10168.x) + _S10177 + _S10177, _S9851 * _S10170 + 2.0f * (v_71 * _S10170) + _S9850 * _S10168.y + _S9847 * _S10168.x + _S10176 + _S10176);
    float2  _S10180 = _S9829 * _S10179;
    float2  _S10181 = _S9840 * _S10179;
    float _S10182 = _S10180.x + _S10180.y;
    if(_S9833)
    {
        float _S10183 = _S10182 / _S9835;
        float _S10184 = _S9836 * - _S10183;
        float _S10185 = _S9832 * (0.3333333432674408f * - (_S9831 * _S10183));
        k_9 = _S10185 + _S10185;
        _S9834 = _S10184;
        _S9835 = 0.0f;
    }
    else
    {
        float _S10186 = _S10182 / _S9834;
        float _S10187 = _S9832 * - _S10186;
        k_9 = _S9830 * _S10186;
        _S9834 = 0.0f;
        _S9835 = _S10187;
    }
    DiffPair_float_0 _S10188;
    (&_S10188)->primal_0 = _S9830;
    (&_S10188)->differential_0 = 0.0f;
    DiffPair_float_0 _S10189;
    (&_S10189)->primal_0 = _S9831;
    (&_S10189)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10188, &_S10189, k_9);
    float _S10190 = _S10189.differential_0 + _S9834;
    float _S10191 = _S10188.differential_0 + _S9835;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10192;
    (&_S10192)->primal_0 = _S9829;
    (&_S10192)->differential_0 = _S10070;
    s_bwd_length_impl_0(&_S10192, _S10191);
    float2  _S10193 = _S10192.differential_0 + _S10181;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10194;
    (&_S10194)->primal_0 = vert2_c_5;
    (&_S10194)->differential_0 = _S9961;
    s_bwd_length_impl_1(&_S10194, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10195;
    (&_S10195)->primal_0 = vert1_c_5;
    (&_S10195)->differential_0 = _S9961;
    s_bwd_length_impl_1(&_S10195, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10196;
    (&_S10196)->primal_0 = vert0_c_5;
    (&_S10196)->differential_0 = _S9961;
    s_bwd_length_impl_1(&_S10196, 0.0f);
    float3  _S10197 = _S10194.differential_0 + _S10151;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10198;
    (&_S10198)->primal_0 = R_71;
    (&_S10198)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10199;
    (&_S10199)->primal_0 = vert2_6;
    (&_S10199)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10198, &_S10199, _S10197);
    float3  _S10200 = _S10195.differential_0 + _S10178;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10201;
    (&_S10201)->primal_0 = R_71;
    (&_S10201)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10202;
    (&_S10202)->primal_0 = vert1_6;
    (&_S10202)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10201, &_S10202, _S10200);
    float3  _S10203 = _S10196.differential_0 + _S10096 + make_float3 (_S10193.x, _S10193.y, _S10190);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10204;
    (&_S10204)->primal_0 = R_71;
    (&_S10204)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10205;
    (&_S10205)->primal_0 = vert0_6;
    (&_S10205)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10204, &_S10205, _S10203);
    float3  _S10206 = _S10199.differential_0 + (*v_verts_1)[int(2)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10207;
    (&_S10207)->primal_0 = _S9823;
    (&_S10207)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10208;
    (&_S10208)->primal_0 = _S9828;
    (&_S10208)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10207, &_S10208, _S10206);
    float _S10209 = - _S10208.differential_0.y;
    float _S10210 = _S9827 * _S10208.differential_0.x;
    float _S10211 = - (_S9819 * _S10208.differential_0.x);
    float3  _S10212 = _S10202.differential_0 + (*v_verts_1)[int(1)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10213;
    (&_S10213)->primal_0 = _S9823;
    (&_S10213)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10214;
    (&_S10214)->primal_0 = _S9826;
    (&_S10214)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10213, &_S10214, _S10212);
    float _S10215 = _S9819 * _S10214.differential_0.x;
    float _S10216 = _S9825 * _S10214.differential_0.x;
    float3  _S10217 = _S10205.differential_0 + (*v_verts_1)[int(0)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10218;
    (&_S10218)->primal_0 = _S9823;
    (&_S10218)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10219;
    (&_S10219)->primal_0 = _S9824;
    (&_S10219)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10218, &_S10219, _S10217);
    Matrix<float, 3, 3>  _S10220 = transpose_0(_S10207.differential_0 + _S10213.differential_0 + _S10218.differential_0);
    float _S10221 = 2.0f * - _S10220.rows[int(2)].z;
    float _S10222 = 2.0f * _S10220.rows[int(2)].y;
    float _S10223 = 2.0f * _S10220.rows[int(2)].x;
    float _S10224 = 2.0f * _S10220.rows[int(1)].z;
    float _S10225 = 2.0f * - _S10220.rows[int(1)].y;
    float _S10226 = 2.0f * _S10220.rows[int(1)].x;
    float _S10227 = 2.0f * _S10220.rows[int(0)].z;
    float _S10228 = 2.0f * _S10220.rows[int(0)].y;
    float _S10229 = 2.0f * - _S10220.rows[int(0)].x;
    float _S10230 = - _S10226 + _S10228;
    float _S10231 = _S10223 + - _S10227;
    float _S10232 = - _S10222 + _S10224;
    float _S10233 = _S10222 + _S10224;
    float _S10234 = _S10223 + _S10227;
    float _S10235 = _S10226 + _S10228;
    float _S10236 = quat_70.w * (_S10225 + _S10229);
    float _S10237 = quat_70.z * (_S10221 + _S10229);
    float _S10238 = quat_70.y * (_S10221 + _S10225);
    float _S10239 = quat_70.x * _S10230 + quat_70.z * _S10233 + quat_70.y * _S10234 + _S10236 + _S10236;
    float _S10240 = quat_70.x * _S10231 + quat_70.w * _S10233 + quat_70.y * _S10235 + _S10237 + _S10237;
    float _S10241 = quat_70.x * _S10232 + quat_70.w * _S10234 + quat_70.z * _S10235 + _S10238 + _S10238;
    float _S10242 = quat_70.w * _S10230 + quat_70.z * _S10231 + quat_70.y * _S10232;
    float _S10243 = _S10211 + _S10215;
    float _S10244 = 0.5f * - _S10243;
    float _S10245 = _S10209 + _S10214.differential_0.y;
    DiffPair_float_0 _S10246;
    (&_S10246)->primal_0 = _S9820;
    (&_S10246)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S10246, _S10245);
    float _S10247 = _S10244 + _S10246.differential_0;
    float _S10248 = _S10210 + _S10216 + _S10219.differential_0.x;
    DiffPair_float_0 _S10249;
    (&_S10249)->primal_0 = _S9818;
    (&_S10249)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S10249, _S10248);
    float _S10250 = _S10244 + _S10249.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10251;
    (&_S10251)->primal_0 = mean_c_80;
    (&_S10251)->differential_0 = _S9961;
    s_bwd_length_impl_1(&_S10251, 0.0f);
    float3  _S10252 = _S10251.differential_0 + _S9964.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10253;
    (&_S10253)->primal_0 = R_71;
    (&_S10253)->differential_0 = _S10042;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10254;
    (&_S10254)->primal_0 = mean_69;
    (&_S10254)->differential_0 = _S9961;
    s_bwd_prop_mul_1(&_S10253, &_S10254, _S10252);
    float3  _S10255 = _S10197 + _S10200 + _S10203 + _S10252 + _S10045.differential_0;
    Matrix<float, 3, 3>  _S10256 = _S10198.differential_0 + _S10201.differential_0 + _S10204.differential_0 + _S10253.differential_0 + _S10046;
    float3  _S10257 = make_float3 (_S10250, _S10247, _S10243);
    float4  _S10258 = make_float4 (0.0f);
    *&((&_S10258)->w) = _S10239;
    *&((&_S10258)->z) = _S10240;
    *&((&_S10258)->y) = _S10241;
    *&((&_S10258)->x) = _S10242;
    float4  _S10259 = _S10258;
    float3  _S10260 = _S10206 + _S10212 + _S10217 + _S10254.differential_0 + _S10040;
    *v_mean_24 = _S10260;
    *v_quat_23 = _S10259;
    *v_scale_23 = _S10257;
    *v_hardness_1 = _S10124;
    (*v_sh_coeffs_8)[int(0)] = _S10102;
    (*v_sh_coeffs_8)[int(1)] = _S10103;
    (*v_sh_coeffs_8)[int(2)] = _S10104;
    (*v_sh_coeffs_8)[int(3)] = _S10105;
    (*v_sh_coeffs_8)[int(4)] = _S10106;
    (*v_sh_coeffs_8)[int(5)] = _S10107;
    (*v_sh_coeffs_8)[int(6)] = _S10108;
    (*v_sh_coeffs_8)[int(7)] = _S10109;
    (*v_sh_coeffs_8)[int(8)] = _S10110;
    (*v_sh_coeffs_8)[int(9)] = _S10111;
    (*v_sh_coeffs_8)[int(10)] = _S10112;
    (*v_sh_coeffs_8)[int(11)] = _S10113;
    (*v_sh_coeffs_8)[int(12)] = _S10114;
    (*v_sh_coeffs_8)[int(13)] = _S10115;
    (*v_sh_coeffs_8)[int(14)] = _S10116;
    (*v_sh_coeffs_8)[int(15)] = _S10117;
    (*v_ch_coeffs_1)[int(0)] = _S10099;
    (*v_ch_coeffs_1)[int(1)] = _S10100;
    *v_R_24 = _S10256;
    *v_t_23 = _S10255;
    return;
}

inline __device__ bool ray_triangle_intersection_uvt(float3  ray_o_4, float3  ray_d_4, FixedArray<float3 , 3>  * verts_4, float * u_74, float * v_74, float * t_68)
{
    float3  v1v0_0 = (*verts_4)[int(1)] - (*verts_4)[int(0)];
    float3  v2v0_0 = (*verts_4)[int(2)] - (*verts_4)[int(0)];
    float3  rov0_0 = ray_o_4 - (*verts_4)[int(0)];
    float3  n_0 = cross_0(v1v0_0, v2v0_0);
    float3  q_2 = cross_0(rov0_0, ray_d_4);
    float d_28 = 1.0f / dot_1(ray_d_4, n_0);
    *u_74 = d_28 * dot_1(- q_2, v2v0_0);
    *v_74 = d_28 * dot_1(q_2, v1v0_0);
    *t_68 = d_28 * dot_1(- n_0, rov0_0);
    bool _S10261;
    if((*u_74) >= 0.0f)
    {
        _S10261 = (*v_74) >= 0.0f;
    }
    else
    {
        _S10261 = false;
    }
    if(_S10261)
    {
        _S10261 = (*u_74 + *v_74) <= 1.0f;
    }
    else
    {
        _S10261 = false;
    }
    if(_S10261)
    {
        _S10261 = (*t_68) >= 0.0f;
    }
    else
    {
        _S10261 = false;
    }
    return _S10261;
}

inline __device__ void _d_pow_0(DiffPair_float_0 * dpx_22, DiffPair_float_0 * dpy_7, float dOut_19)
{
    if(((*dpx_22).primal_0) < 9.99999997475242708e-07f)
    {
        dpx_22->primal_0 = (*dpx_22).primal_0;
        dpx_22->differential_0 = 0.0f;
        dpy_7->primal_0 = (*dpy_7).primal_0;
        dpy_7->differential_0 = 0.0f;
    }
    else
    {
        float val_0 = (F32_pow(((*dpx_22).primal_0), ((*dpy_7).primal_0)));
        DiffPair_float_0 _S10262 = *dpx_22;
        float _S10263 = val_0 * (*dpy_7).primal_0 / (*dpx_22).primal_0 * dOut_19;
        dpx_22->primal_0 = (*dpx_22).primal_0;
        dpx_22->differential_0 = _S10263;
        float _S10264 = val_0 * (F32_log((_S10262.primal_0))) * dOut_19;
        dpy_7->primal_0 = (*dpy_7).primal_0;
        dpy_7->differential_0 = _S10264;
    }
    return;
}

inline __device__ float evaluate_alpha_opaque_triangle(FixedArray<float3 , 3>  * verts_5, float2  hardness_6, float3  ray_o_5, float3  ray_d_5)
{
    float3  v1v0_1 = (*verts_5)[int(1)] - (*verts_5)[int(0)];
    float3  v2v0_1 = (*verts_5)[int(2)] - (*verts_5)[int(0)];
    float3  rov0_1 = ray_o_5 - (*verts_5)[int(0)];
    float3  n_1 = cross_0(v1v0_1, v2v0_1);
    float3  q_3 = cross_0(rov0_1, ray_d_5);
    float d_29 = 1.0f / dot_1(ray_d_5, n_1);
    float u_75 = d_29 * dot_1(- q_3, v2v0_1);
    float v_75 = d_29 * dot_1(q_3, v1v0_1);
    float t_69 = d_29 * dot_1(- n_1, rov0_1);
    bool _S10265;
    if(u_75 >= 0.0f)
    {
        _S10265 = v_75 >= 0.0f;
    }
    else
    {
        _S10265 = false;
    }
    if(_S10265)
    {
        _S10265 = (u_75 + v_75) <= 1.0f;
    }
    else
    {
        _S10265 = false;
    }
    if(_S10265)
    {
        _S10265 = t_69 >= 0.0f;
    }
    else
    {
        _S10265 = false;
    }
    if(!_S10265)
    {
        return 0.0f;
    }
    float opac_0 = (F32_min(((F32_min((u_75), (v_75)))), ((F32_sqrt((0.5f))) * (1.0f - u_75 - v_75)))) * (2.0f + (F32_sqrt((2.0f))));
    float w_140 = 1.0f - (F32_pow((1.0f - opac_0), (1.0f / (1.0f - clamp_0(hardness_6.y, 0.0f, 0.99989998340606689f)))));
    float o_0 = hardness_6.x;
    float _S10266;
    if(opac_0 < 0.0f)
    {
        _S10266 = 0.0f;
    }
    else
    {
        _S10266 = (F32_min((o_0 * w_140), (0.99500000476837158f)));
    }
    return _S10266;
}

inline __device__ float s_primal_ctx_pow_0(float _S10267, float _S10268)
{
    return (F32_pow((_S10267), (_S10268)));
}

inline __device__ void s_bwd_prop_pow_0(DiffPair_float_0 * _S10269, DiffPair_float_0 * _S10270, float _S10271)
{
    _d_pow_0(_S10269, _S10270, _S10271);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_0, DiffPair_vectorx3Cfloatx2C2x3E_0 * dphardness_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_2, float _s_dOut_10)
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10272 = *dphardness_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10273 = *dpray_d_2;
    float3  v1v0_2 = dpverts_0->primal_0[int(1)] - dpverts_0->primal_0[int(0)];
    float3  v2v0_2 = dpverts_0->primal_0[int(2)] - dpverts_0->primal_0[int(0)];
    float3  rov0_2 = (*dpray_o_2).primal_0 - dpverts_0->primal_0[int(0)];
    float3  _S10274 = s_primal_ctx_cross_0(v1v0_2, v2v0_2);
    float3  _S10275 = s_primal_ctx_cross_0(rov0_2, (*dpray_d_2).primal_0);
    float _S10276 = s_primal_ctx_dot_0((*dpray_d_2).primal_0, _S10274);
    float d_30 = 1.0f / _S10276;
    float _S10277 = _S10276 * _S10276;
    float3  _S10278 = - _S10275;
    float _S10279 = s_primal_ctx_dot_0(_S10278, v2v0_2);
    float u_76 = d_30 * _S10279;
    float _S10280 = s_primal_ctx_dot_0(_S10275, v1v0_2);
    float v_76 = d_30 * _S10280;
    float3  _S10281 = - _S10274;
    float t_70 = d_30 * s_primal_ctx_dot_0(_S10281, rov0_2);
    bool _S10282;
    if(u_76 >= 0.0f)
    {
        _S10282 = v_76 >= 0.0f;
    }
    else
    {
        _S10282 = false;
    }
    if(_S10282)
    {
        _S10282 = (u_76 + v_76) <= 1.0f;
    }
    else
    {
        _S10282 = false;
    }
    if(_S10282)
    {
        _S10282 = t_70 >= 0.0f;
    }
    else
    {
        _S10282 = false;
    }
    bool _S10283 = !!_S10282;
    float _S10284;
    float _S10285;
    float _S10286;
    float _S10287;
    float _S10288;
    float _S10289;
    float _S10290;
    float _S10291;
    float _S10292;
    float _S10293;
    float _S10294;
    if(_S10283)
    {
        float _S10295 = s_primal_ctx_min_0(u_76, v_76);
        float _S10296 = s_primal_ctx_sqrt_0(0.5f);
        float _S10297 = _S10296 * (1.0f - u_76 - v_76);
        float _S10298 = 2.0f + s_primal_ctx_sqrt_0(2.0f);
        float opac_1 = s_primal_ctx_min_0(_S10295, _S10297) * _S10298;
        float _S10299 = _S10272.primal_0.y;
        float _S10300 = 1.0f - opac_1;
        float _S10301 = 1.0f - s_primal_ctx_clamp_0(_S10299, 0.0f, 0.99989998340606689f);
        float _S10302 = 1.0f / _S10301;
        float _S10303 = _S10301 * _S10301;
        float w_141 = 1.0f - s_primal_ctx_pow_0(_S10300, _S10302);
        float o_1 = _S10272.primal_0.x;
        bool _S10304 = opac_1 < 0.0f;
        if(_S10304)
        {
            _S10284 = 0.0f;
        }
        else
        {
            _S10284 = o_1 * w_141;
        }
        _S10282 = _S10304;
        _S10285 = o_1;
        _S10286 = w_141;
        _S10287 = _S10300;
        _S10288 = _S10302;
        _S10289 = _S10303;
        _S10290 = _S10299;
        _S10291 = _S10298;
        _S10292 = _S10295;
        _S10293 = _S10297;
        _S10294 = _S10296;
    }
    else
    {
        _S10282 = false;
        _S10284 = 0.0f;
        _S10285 = 0.0f;
        _S10286 = 0.0f;
        _S10287 = 0.0f;
        _S10288 = 0.0f;
        _S10289 = 0.0f;
        _S10290 = 0.0f;
        _S10291 = 0.0f;
        _S10292 = 0.0f;
        _S10293 = 0.0f;
        _S10294 = 0.0f;
    }
    float2  _S10305 = make_float2 (0.0f);
    float2  _S10306;
    if(_S10283)
    {
        if(_S10282)
        {
            _S10284 = 0.0f;
            _S10285 = 0.0f;
        }
        else
        {
            DiffPair_float_0 _S10307;
            (&_S10307)->primal_0 = _S10284;
            (&_S10307)->differential_0 = 0.0f;
            DiffPair_float_0 _S10308;
            (&_S10308)->primal_0 = 0.99500000476837158f;
            (&_S10308)->differential_0 = 0.0f;
            s_bwd_prop_min_0(&_S10307, &_S10308, _s_dOut_10);
            float _S10309 = _S10285 * _S10307.differential_0;
            _S10284 = _S10286 * _S10307.differential_0;
            _S10285 = _S10309;
        }
        float _S10310 = - _S10285;
        DiffPair_float_0 _S10311;
        (&_S10311)->primal_0 = _S10287;
        (&_S10311)->differential_0 = 0.0f;
        DiffPair_float_0 _S10312;
        (&_S10312)->primal_0 = _S10288;
        (&_S10312)->differential_0 = 0.0f;
        s_bwd_prop_pow_0(&_S10311, &_S10312, _S10310);
        float _S10313 = - - (_S10312.differential_0 / _S10289);
        float s_diff_opac_T_0 = - _S10311.differential_0;
        DiffPair_float_0 _S10314;
        (&_S10314)->primal_0 = _S10290;
        (&_S10314)->differential_0 = 0.0f;
        DiffPair_float_0 _S10315;
        (&_S10315)->primal_0 = 0.0f;
        (&_S10315)->differential_0 = 0.0f;
        DiffPair_float_0 _S10316;
        (&_S10316)->primal_0 = 0.99989998340606689f;
        (&_S10316)->differential_0 = 0.0f;
        s_bwd_prop_clamp_0(&_S10314, &_S10315, &_S10316, _S10313);
        float _S10317 = _S10291 * s_diff_opac_T_0;
        DiffPair_float_0 _S10318;
        (&_S10318)->primal_0 = _S10292;
        (&_S10318)->differential_0 = 0.0f;
        DiffPair_float_0 _S10319;
        (&_S10319)->primal_0 = _S10293;
        (&_S10319)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S10318, &_S10319, _S10317);
        float _S10320 = - (_S10294 * _S10319.differential_0);
        DiffPair_float_0 _S10321;
        (&_S10321)->primal_0 = u_76;
        (&_S10321)->differential_0 = 0.0f;
        DiffPair_float_0 _S10322;
        (&_S10322)->primal_0 = v_76;
        (&_S10322)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S10321, &_S10322, _S10318.differential_0);
        float2  _S10323 = make_float2 (_S10284, _S10314.differential_0);
        float _S10324 = _S10320 + _S10322.differential_0;
        _S10284 = _S10320 + _S10321.differential_0;
        _S10285 = _S10324;
        _S10306 = _S10323;
    }
    else
    {
        _S10284 = 0.0f;
        _S10285 = 0.0f;
        _S10306 = _S10305;
    }
    float3  _S10325 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10326;
    (&_S10326)->primal_0 = _S10281;
    (&_S10326)->differential_0 = _S10325;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10327;
    (&_S10327)->primal_0 = rov0_2;
    (&_S10327)->differential_0 = _S10325;
    s_bwd_prop_dot_0(&_S10326, &_S10327, 0.0f);
    float3  _S10328 = - _S10326.differential_0;
    float _S10329 = d_30 * _S10285;
    float _S10330 = _S10280 * _S10285;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10331;
    (&_S10331)->primal_0 = _S10275;
    (&_S10331)->differential_0 = _S10325;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10332;
    (&_S10332)->primal_0 = v1v0_2;
    (&_S10332)->differential_0 = _S10325;
    s_bwd_prop_dot_0(&_S10331, &_S10332, _S10329);
    float _S10333 = d_30 * _S10284;
    float _S10334 = _S10279 * _S10284;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10335;
    (&_S10335)->primal_0 = _S10278;
    (&_S10335)->differential_0 = _S10325;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10336;
    (&_S10336)->primal_0 = v2v0_2;
    (&_S10336)->differential_0 = _S10325;
    s_bwd_prop_dot_0(&_S10335, &_S10336, _S10333);
    float3  _S10337 = - _S10335.differential_0;
    float _S10338 = - ((_S10330 + _S10334) / _S10277);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10339;
    (&_S10339)->primal_0 = _S10273.primal_0;
    (&_S10339)->differential_0 = _S10325;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10340;
    (&_S10340)->primal_0 = _S10274;
    (&_S10340)->differential_0 = _S10325;
    s_bwd_prop_dot_0(&_S10339, &_S10340, _S10338);
    float3  _S10341 = _S10331.differential_0 + _S10337;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10342;
    (&_S10342)->primal_0 = rov0_2;
    (&_S10342)->differential_0 = _S10325;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10343;
    (&_S10343)->primal_0 = _S10273.primal_0;
    (&_S10343)->differential_0 = _S10325;
    s_bwd_prop_cross_0(&_S10342, &_S10343, _S10341);
    float3  _S10344 = _S10328 + _S10340.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10345;
    (&_S10345)->primal_0 = v1v0_2;
    (&_S10345)->differential_0 = _S10325;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10346;
    (&_S10346)->primal_0 = v2v0_2;
    (&_S10346)->differential_0 = _S10325;
    s_bwd_prop_cross_0(&_S10345, &_S10346, _S10344);
    float3  _S10347 = _S10327.differential_0 + _S10342.differential_0;
    float3  _S10348 = _S10336.differential_0 + _S10346.differential_0;
    float3  _S10349 = _S10332.differential_0 + _S10345.differential_0;
    float3  _S10350 = - _S10347 + - _S10348 + - _S10349;
    float3  _S10351 = _S10339.differential_0 + _S10343.differential_0;
    dpray_d_2->primal_0 = (*dpray_d_2).primal_0;
    dpray_d_2->differential_0 = _S10351;
    dpray_o_2->primal_0 = (*dpray_o_2).primal_0;
    dpray_o_2->differential_0 = _S10347;
    dphardness_0->primal_0 = (*dphardness_0).primal_0;
    dphardness_0->differential_0 = _S10306;
    FixedArray<float3 , 3>  _S10352;
    _S10352[int(0)] = _S10325;
    _S10352[int(1)] = _S10325;
    _S10352[int(2)] = _S10325;
    _S10352[int(2)] = _S10348;
    _S10352[int(0)] = _S10350;
    _S10352[int(1)] = _S10349;
    dpverts_0->primal_0 = dpverts_0->primal_0;
    dpverts_0->differential_0 = _S10352;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S10353, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S10354, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10355, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10356, float _S10357)
{
    s_bwd_prop_evaluate_alpha_opaque_triangle_0(_S10353, _S10354, _S10355, _S10356, _S10357);
    return;
}

inline __device__ void evaluate_alpha_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_6, float2  hardness_7, float3  ray_o_6, float3  ray_d_6, float v_alpha_1, FixedArray<float3 , 3>  * v_verts_2, float2  * v_hardness_2, float3  * v_ray_o_3, float3  * v_ray_d_3)
{
    float3  _S10358 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S10359 = { _S10358, _S10358, _S10358 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_0;
    (&dp_verts_0)->primal_0 = *verts_6;
    (&dp_verts_0)->differential_0 = _S10359;
    float2  _S10360 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_hardness_0;
    (&dp_hardness_0)->primal_0 = hardness_7;
    (&dp_hardness_0)->differential_0 = _S10360;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_2;
    (&dp_ray_o_2)->primal_0 = ray_o_6;
    (&dp_ray_o_2)->differential_0 = _S10358;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_2;
    (&dp_ray_d_2)->primal_0 = ray_d_6;
    (&dp_ray_d_2)->differential_0 = _S10358;
    s_bwd_evaluate_alpha_opaque_triangle_0(&dp_verts_0, &dp_hardness_0, &dp_ray_o_2, &dp_ray_d_2, v_alpha_1);
    *v_verts_2 = (&dp_verts_0)->differential_0;
    *v_hardness_2 = dp_hardness_0.differential_0;
    *v_ray_o_3 = dp_ray_o_2.differential_0;
    *v_ray_d_3 = dp_ray_d_2.differential_0;
    return;
}

inline __device__ float evaluate_sorting_depth_opaque_triangle(FixedArray<float3 , 3>  * verts_7, FixedArray<float3 , 3>  * rgbs_4, float3  ray_o_7, float3  ray_d_7)
{
    float3  n_2 = cross_0((*verts_7)[int(1)] - (*verts_7)[int(0)], (*verts_7)[int(2)] - (*verts_7)[int(0)]);
    return 1.0f / dot_1(ray_d_7, n_2) * dot_1(- n_2, ray_o_7 - (*verts_7)[int(0)]);
}

inline __device__ void evaluate_color_opaque_triangle(FixedArray<float3 , 3>  * verts_8, FixedArray<float3 , 3>  * rgbs_5, float3  ray_o_8, float3  ray_d_8, float3  * color_6, float * depth_43)
{
    float3  v1v0_3 = (*verts_8)[int(1)] - (*verts_8)[int(0)];
    float3  v2v0_3 = (*verts_8)[int(2)] - (*verts_8)[int(0)];
    float3  rov0_3 = ray_o_8 - (*verts_8)[int(0)];
    float3  n_3 = cross_0(v1v0_3, v2v0_3);
    float3  q_4 = cross_0(rov0_3, ray_d_8);
    float d_31 = 1.0f / dot_1(ray_d_8, n_3);
    float u_77 = d_31 * dot_1(- q_4, v2v0_3);
    float v_77 = d_31 * dot_1(q_4, v1v0_3);
    *depth_43 = d_31 * dot_1(- n_3, rov0_3);
    *color_6 = (*rgbs_5)[int(0)] * make_float3 (1.0f - u_77 - v_77) + (*rgbs_5)[int(1)] * make_float3 (u_77) + (*rgbs_5)[int(2)] * make_float3 (v_77);
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dprgbs_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_3, float3  dpcolor_0, float dpdepth_29)
{
    float3  v1v0_4 = dpverts_1->primal_0[int(1)] - dpverts_1->primal_0[int(0)];
    float3  v2v0_4 = dpverts_1->primal_0[int(2)] - dpverts_1->primal_0[int(0)];
    float3  rov0_4 = (*dpray_o_3).primal_0 - dpverts_1->primal_0[int(0)];
    float3  _S10361 = s_primal_ctx_cross_0(v1v0_4, v2v0_4);
    float3  _S10362 = s_primal_ctx_cross_0(rov0_4, (*dpray_d_3).primal_0);
    float _S10363 = s_primal_ctx_dot_0((*dpray_d_3).primal_0, _S10361);
    float d_32 = 1.0f / _S10363;
    float _S10364 = _S10363 * _S10363;
    float3  _S10365 = - _S10362;
    float _S10366 = s_primal_ctx_dot_0(_S10365, v2v0_4);
    float u_78 = d_32 * _S10366;
    float _S10367 = s_primal_ctx_dot_0(_S10362, v1v0_4);
    float v_78 = d_32 * _S10367;
    float3  _S10368 = - _S10361;
    float3  _S10369 = dprgbs_0->primal_0[int(2)] * dpcolor_0;
    float3  _S10370 = make_float3 (v_78) * dpcolor_0;
    float3  _S10371 = dprgbs_0->primal_0[int(1)] * dpcolor_0;
    float3  _S10372 = make_float3 (u_78) * dpcolor_0;
    float3  _S10373 = dprgbs_0->primal_0[int(0)] * dpcolor_0;
    float3  _S10374 = make_float3 (1.0f - u_78 - v_78) * dpcolor_0;
    float _S10375 = - (_S10373.x + _S10373.y + _S10373.z);
    float _S10376 = d_32 * dpdepth_29;
    float _S10377 = s_primal_ctx_dot_0(_S10368, rov0_4) * dpdepth_29;
    float3  _S10378 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10379;
    (&_S10379)->primal_0 = _S10368;
    (&_S10379)->differential_0 = _S10378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10380;
    (&_S10380)->primal_0 = rov0_4;
    (&_S10380)->differential_0 = _S10378;
    s_bwd_prop_dot_0(&_S10379, &_S10380, _S10376);
    float3  _S10381 = - _S10379.differential_0;
    float _S10382 = _S10375 + _S10369.x + _S10369.y + _S10369.z;
    float _S10383 = d_32 * _S10382;
    float _S10384 = _S10367 * _S10382;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10385;
    (&_S10385)->primal_0 = _S10362;
    (&_S10385)->differential_0 = _S10378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10386;
    (&_S10386)->primal_0 = v1v0_4;
    (&_S10386)->differential_0 = _S10378;
    s_bwd_prop_dot_0(&_S10385, &_S10386, _S10383);
    float _S10387 = _S10375 + _S10371.x + _S10371.y + _S10371.z;
    float _S10388 = d_32 * _S10387;
    float _S10389 = _S10366 * _S10387;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10390;
    (&_S10390)->primal_0 = _S10365;
    (&_S10390)->differential_0 = _S10378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10391;
    (&_S10391)->primal_0 = v2v0_4;
    (&_S10391)->differential_0 = _S10378;
    s_bwd_prop_dot_0(&_S10390, &_S10391, _S10388);
    float3  _S10392 = - _S10390.differential_0;
    float _S10393 = - ((_S10377 + _S10384 + _S10389) / _S10364);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10394;
    (&_S10394)->primal_0 = (*dpray_d_3).primal_0;
    (&_S10394)->differential_0 = _S10378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10395;
    (&_S10395)->primal_0 = _S10361;
    (&_S10395)->differential_0 = _S10378;
    s_bwd_prop_dot_0(&_S10394, &_S10395, _S10393);
    float3  _S10396 = _S10385.differential_0 + _S10392;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10397;
    (&_S10397)->primal_0 = rov0_4;
    (&_S10397)->differential_0 = _S10378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10398;
    (&_S10398)->primal_0 = (*dpray_d_3).primal_0;
    (&_S10398)->differential_0 = _S10378;
    s_bwd_prop_cross_0(&_S10397, &_S10398, _S10396);
    float3  _S10399 = _S10381 + _S10395.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10400;
    (&_S10400)->primal_0 = v1v0_4;
    (&_S10400)->differential_0 = _S10378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10401;
    (&_S10401)->primal_0 = v2v0_4;
    (&_S10401)->differential_0 = _S10378;
    s_bwd_prop_cross_0(&_S10400, &_S10401, _S10399);
    float3  _S10402 = _S10380.differential_0 + _S10397.differential_0;
    float3  _S10403 = _S10391.differential_0 + _S10401.differential_0;
    float3  _S10404 = _S10386.differential_0 + _S10400.differential_0;
    float3  _S10405 = - _S10402 + - _S10403 + - _S10404;
    float3  _S10406 = _S10394.differential_0 + _S10398.differential_0;
    dpray_d_3->primal_0 = (*dpray_d_3).primal_0;
    dpray_d_3->differential_0 = _S10406;
    dpray_o_3->primal_0 = (*dpray_o_3).primal_0;
    dpray_o_3->differential_0 = _S10402;
    FixedArray<float3 , 3>  _S10407;
    _S10407[int(0)] = _S10378;
    _S10407[int(1)] = _S10378;
    _S10407[int(2)] = _S10378;
    _S10407[int(2)] = _S10370;
    _S10407[int(1)] = _S10372;
    _S10407[int(0)] = _S10374;
    dprgbs_0->primal_0 = dprgbs_0->primal_0;
    dprgbs_0->differential_0 = _S10407;
    FixedArray<float3 , 3>  _S10408;
    _S10408[int(0)] = _S10378;
    _S10408[int(1)] = _S10378;
    _S10408[int(2)] = _S10378;
    _S10408[int(2)] = _S10403;
    _S10408[int(0)] = _S10405;
    _S10408[int(1)] = _S10404;
    dpverts_1->primal_0 = dpverts_1->primal_0;
    dpverts_1->differential_0 = _S10408;
    return;
}

inline __device__ void s_bwd_evaluate_color_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S10409, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S10410, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10411, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10412, float3  _S10413, float _S10414)
{
    s_bwd_prop_evaluate_color_opaque_triangle_0(_S10409, _S10410, _S10411, _S10412, _S10413, _S10414);
    return;
}

inline __device__ void evaluate_color_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_9, FixedArray<float3 , 3>  * rgbs_6, float3  ray_o_9, float3  ray_d_9, float3  v_color_0, float v_depth_24, FixedArray<float3 , 3>  * v_verts_3, FixedArray<float3 , 3>  * v_rgbs_2, float3  * v_ray_o_4, float3  * v_ray_d_4)
{
    float3  _S10415 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S10416 = { _S10415, _S10415, _S10415 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_1;
    (&dp_verts_1)->primal_0 = *verts_9;
    (&dp_verts_1)->differential_0 = _S10416;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_rgbs_0;
    (&dp_rgbs_0)->primal_0 = *rgbs_6;
    (&dp_rgbs_0)->differential_0 = _S10416;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_3;
    (&dp_ray_o_3)->primal_0 = ray_o_9;
    (&dp_ray_o_3)->differential_0 = _S10415;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_3;
    (&dp_ray_d_3)->primal_0 = ray_d_9;
    (&dp_ray_d_3)->differential_0 = _S10415;
    s_bwd_evaluate_color_opaque_triangle_0(&dp_verts_1, &dp_rgbs_0, &dp_ray_o_3, &dp_ray_d_3, v_color_0, v_depth_24);
    *v_verts_3 = (&dp_verts_1)->differential_0;
    *v_rgbs_2 = (&dp_rgbs_0)->differential_0;
    *v_ray_o_4 = dp_ray_o_3.differential_0;
    *v_ray_d_4 = dp_ray_d_3.differential_0;
    return;
}

inline __device__ void projection_voxel_eval3d_persp(float3  pos_0, float size_0, FixedArray<float, 8>  * densities_0, FixedArray<float3 , 16>  * sh_coeffs_23, Matrix<float, 3, 3>  R_72, float3  t_71, float fx_105, float fy_105, float cx_100, float cy_100, FixedArray<float, 10>  * dist_coeffs_108, uint image_width_93, uint image_height_93, float near_plane_70, float far_plane_70, int4  * aabb_xyxy_56, float * depth_44, float3  * rgbs_7)
{
    float2  * _S10417;
    float2  * _S10418;
    float2  * _S10419;
    float2  * _S10420;
    float2  * _S10421;
    float2  * _S10422;
    float2  * _S10423;
    float2  * _S10424;
    bool _S10425;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_0;
        float3  _S10426 = mul_0(R_72, pos_0) + t_71;
        pos_c_0[int(0)] = _S10426;
        float _S10427 = _S10426.z;
        float _S10428 = (F32_min((far_plane_70), (_S10427)));
        float _S10429 = (F32_max((near_plane_70), (_S10427)));
        float3  _S10430 = mul_0(R_72, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 0.0f)) + t_71;
        pos_c_0[int(1)] = _S10430;
        float _S10431 = _S10430.z;
        float _S10432 = (F32_min((_S10428), (_S10431)));
        float _S10433 = (F32_max((_S10429), (_S10431)));
        float3  _S10434 = mul_0(R_72, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 0.0f)) + t_71;
        pos_c_0[int(2)] = _S10434;
        float _S10435 = _S10434.z;
        float _S10436 = (F32_min((_S10432), (_S10435)));
        float _S10437 = (F32_max((_S10433), (_S10435)));
        float3  _S10438 = mul_0(R_72, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 1.0f, 0.0f)) + t_71;
        pos_c_0[int(3)] = _S10438;
        float _S10439 = _S10438.z;
        float _S10440 = (F32_min((_S10436), (_S10439)));
        float _S10441 = (F32_max((_S10437), (_S10439)));
        float3  _S10442 = mul_0(R_72, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 0.0f, 1.0f)) + t_71;
        pos_c_0[int(4)] = _S10442;
        float _S10443 = _S10442.z;
        float _S10444 = (F32_min((_S10440), (_S10443)));
        float _S10445 = (F32_max((_S10441), (_S10443)));
        float3  _S10446 = mul_0(R_72, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 1.0f)) + t_71;
        pos_c_0[int(5)] = _S10446;
        float _S10447 = _S10446.z;
        float _S10448 = (F32_min((_S10444), (_S10447)));
        float _S10449 = (F32_max((_S10445), (_S10447)));
        float3  _S10450 = mul_0(R_72, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 1.0f)) + t_71;
        pos_c_0[int(6)] = _S10450;
        float _S10451 = _S10450.z;
        float _S10452 = (F32_min((_S10448), (_S10451)));
        float _S10453 = (F32_max((_S10449), (_S10451)));
        float3  _S10454 = mul_0(R_72, pos_0 + make_float3 (size_0)) + t_71;
        pos_c_0[int(7)] = _S10454;
        float _S10455 = _S10454.z;
        float _S10456 = (F32_min((_S10452), (_S10455)));
        float _S10457 = (F32_max((_S10453), (_S10455)));
        bool _S10458;
        if(_S10456 < near_plane_70)
        {
            _S10458 = true;
        }
        else
        {
            _S10458 = _S10457 > far_plane_70;
        }
        if(_S10458)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_81 = mul_0(R_72, pos_0 + make_float3 (0.5f * size_0)) + t_71;
        FixedArray<float2 , 8>  uv_7;
        for(;;)
        {
            float3  _S10459 = pos_c_0[int(0)];
            _S10417 = &uv_7[int(0)];
            for(;;)
            {
                float _S10460 = _S10459.z;
                uv_7[int(0)] = float2 {_S10459.x, _S10459.y} / make_float2 (_S10460);
                if(_S10460 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10461 = camera_distortion_jac_0(uv_7[int(0)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10461)), ((F32_min((_S10461.rows[int(0)].x), (_S10461.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_79 = uv_7[int(0)].x;
                float v_79 = uv_7[int(0)].y;
                float r2_74 = u_79 * u_79 + v_79 * v_79;
                float2  _S10462 = uv_7[int(0)] * make_float2 (1.0f + r2_74 * ((*dist_coeffs_108)[int(0)] + r2_74 * ((*dist_coeffs_108)[int(1)] + r2_74 * ((*dist_coeffs_108)[int(2)] + r2_74 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_79 * v_79 + (*dist_coeffs_108)[int(5)] * (r2_74 + 2.0f * u_79 * u_79) + (*dist_coeffs_108)[int(6)] * r2_74, 2.0f * (*dist_coeffs_108)[int(5)] * u_79 * v_79 + (*dist_coeffs_108)[int(4)] * (r2_74 + 2.0f * v_79 * v_79) + (*dist_coeffs_108)[int(7)] * r2_74);
                float2  _S10463 = _S10462 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10462.x + (*dist_coeffs_108)[int(9)] * _S10462.y, 0.0f);
                uv_7[int(0)] = make_float2 (fx_105 * _S10463.x + cx_100, fy_105 * _S10463.y + cy_100);
                break;
            }
            bool all_valid_12 = true & (!_S10458);
            float3  _S10464 = pos_c_0[int(1)];
            _S10418 = &uv_7[int(1)];
            for(;;)
            {
                float _S10465 = _S10464.z;
                uv_7[int(1)] = float2 {_S10464.x, _S10464.y} / make_float2 (_S10465);
                if(_S10465 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10466 = camera_distortion_jac_0(uv_7[int(1)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10466)), ((F32_min((_S10466.rows[int(0)].x), (_S10466.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_80 = uv_7[int(1)].x;
                float v_80 = uv_7[int(1)].y;
                float r2_75 = u_80 * u_80 + v_80 * v_80;
                float2  _S10467 = uv_7[int(1)] * make_float2 (1.0f + r2_75 * ((*dist_coeffs_108)[int(0)] + r2_75 * ((*dist_coeffs_108)[int(1)] + r2_75 * ((*dist_coeffs_108)[int(2)] + r2_75 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_80 * v_80 + (*dist_coeffs_108)[int(5)] * (r2_75 + 2.0f * u_80 * u_80) + (*dist_coeffs_108)[int(6)] * r2_75, 2.0f * (*dist_coeffs_108)[int(5)] * u_80 * v_80 + (*dist_coeffs_108)[int(4)] * (r2_75 + 2.0f * v_80 * v_80) + (*dist_coeffs_108)[int(7)] * r2_75);
                float2  _S10468 = _S10467 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10467.x + (*dist_coeffs_108)[int(9)] * _S10467.y, 0.0f);
                uv_7[int(1)] = make_float2 (fx_105 * _S10468.x + cx_100, fy_105 * _S10468.y + cy_100);
                break;
            }
            bool all_valid_13 = all_valid_12 & (!_S10458);
            float3  _S10469 = pos_c_0[int(2)];
            _S10419 = &uv_7[int(2)];
            for(;;)
            {
                float _S10470 = _S10469.z;
                uv_7[int(2)] = float2 {_S10469.x, _S10469.y} / make_float2 (_S10470);
                if(_S10470 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10471 = camera_distortion_jac_0(uv_7[int(2)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10471)), ((F32_min((_S10471.rows[int(0)].x), (_S10471.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_81 = uv_7[int(2)].x;
                float v_81 = uv_7[int(2)].y;
                float r2_76 = u_81 * u_81 + v_81 * v_81;
                float2  _S10472 = uv_7[int(2)] * make_float2 (1.0f + r2_76 * ((*dist_coeffs_108)[int(0)] + r2_76 * ((*dist_coeffs_108)[int(1)] + r2_76 * ((*dist_coeffs_108)[int(2)] + r2_76 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_81 * v_81 + (*dist_coeffs_108)[int(5)] * (r2_76 + 2.0f * u_81 * u_81) + (*dist_coeffs_108)[int(6)] * r2_76, 2.0f * (*dist_coeffs_108)[int(5)] * u_81 * v_81 + (*dist_coeffs_108)[int(4)] * (r2_76 + 2.0f * v_81 * v_81) + (*dist_coeffs_108)[int(7)] * r2_76);
                float2  _S10473 = _S10472 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10472.x + (*dist_coeffs_108)[int(9)] * _S10472.y, 0.0f);
                uv_7[int(2)] = make_float2 (fx_105 * _S10473.x + cx_100, fy_105 * _S10473.y + cy_100);
                break;
            }
            bool all_valid_14 = all_valid_13 & (!_S10458);
            float3  _S10474 = pos_c_0[int(3)];
            _S10420 = &uv_7[int(3)];
            for(;;)
            {
                float _S10475 = _S10474.z;
                uv_7[int(3)] = float2 {_S10474.x, _S10474.y} / make_float2 (_S10475);
                if(_S10475 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10476 = camera_distortion_jac_0(uv_7[int(3)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10476)), ((F32_min((_S10476.rows[int(0)].x), (_S10476.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_82 = uv_7[int(3)].x;
                float v_82 = uv_7[int(3)].y;
                float r2_77 = u_82 * u_82 + v_82 * v_82;
                float2  _S10477 = uv_7[int(3)] * make_float2 (1.0f + r2_77 * ((*dist_coeffs_108)[int(0)] + r2_77 * ((*dist_coeffs_108)[int(1)] + r2_77 * ((*dist_coeffs_108)[int(2)] + r2_77 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_82 * v_82 + (*dist_coeffs_108)[int(5)] * (r2_77 + 2.0f * u_82 * u_82) + (*dist_coeffs_108)[int(6)] * r2_77, 2.0f * (*dist_coeffs_108)[int(5)] * u_82 * v_82 + (*dist_coeffs_108)[int(4)] * (r2_77 + 2.0f * v_82 * v_82) + (*dist_coeffs_108)[int(7)] * r2_77);
                float2  _S10478 = _S10477 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10477.x + (*dist_coeffs_108)[int(9)] * _S10477.y, 0.0f);
                uv_7[int(3)] = make_float2 (fx_105 * _S10478.x + cx_100, fy_105 * _S10478.y + cy_100);
                break;
            }
            bool all_valid_15 = all_valid_14 & (!_S10458);
            float3  _S10479 = pos_c_0[int(4)];
            _S10421 = &uv_7[int(4)];
            for(;;)
            {
                float _S10480 = _S10479.z;
                uv_7[int(4)] = float2 {_S10479.x, _S10479.y} / make_float2 (_S10480);
                if(_S10480 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10481 = camera_distortion_jac_0(uv_7[int(4)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10481)), ((F32_min((_S10481.rows[int(0)].x), (_S10481.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_83 = uv_7[int(4)].x;
                float v_83 = uv_7[int(4)].y;
                float r2_78 = u_83 * u_83 + v_83 * v_83;
                float2  _S10482 = uv_7[int(4)] * make_float2 (1.0f + r2_78 * ((*dist_coeffs_108)[int(0)] + r2_78 * ((*dist_coeffs_108)[int(1)] + r2_78 * ((*dist_coeffs_108)[int(2)] + r2_78 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_83 * v_83 + (*dist_coeffs_108)[int(5)] * (r2_78 + 2.0f * u_83 * u_83) + (*dist_coeffs_108)[int(6)] * r2_78, 2.0f * (*dist_coeffs_108)[int(5)] * u_83 * v_83 + (*dist_coeffs_108)[int(4)] * (r2_78 + 2.0f * v_83 * v_83) + (*dist_coeffs_108)[int(7)] * r2_78);
                float2  _S10483 = _S10482 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10482.x + (*dist_coeffs_108)[int(9)] * _S10482.y, 0.0f);
                uv_7[int(4)] = make_float2 (fx_105 * _S10483.x + cx_100, fy_105 * _S10483.y + cy_100);
                break;
            }
            bool all_valid_16 = all_valid_15 & (!_S10458);
            float3  _S10484 = pos_c_0[int(5)];
            _S10422 = &uv_7[int(5)];
            for(;;)
            {
                float _S10485 = _S10484.z;
                uv_7[int(5)] = float2 {_S10484.x, _S10484.y} / make_float2 (_S10485);
                if(_S10485 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10486 = camera_distortion_jac_0(uv_7[int(5)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10486)), ((F32_min((_S10486.rows[int(0)].x), (_S10486.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_84 = uv_7[int(5)].x;
                float v_84 = uv_7[int(5)].y;
                float r2_79 = u_84 * u_84 + v_84 * v_84;
                float2  _S10487 = uv_7[int(5)] * make_float2 (1.0f + r2_79 * ((*dist_coeffs_108)[int(0)] + r2_79 * ((*dist_coeffs_108)[int(1)] + r2_79 * ((*dist_coeffs_108)[int(2)] + r2_79 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_84 * v_84 + (*dist_coeffs_108)[int(5)] * (r2_79 + 2.0f * u_84 * u_84) + (*dist_coeffs_108)[int(6)] * r2_79, 2.0f * (*dist_coeffs_108)[int(5)] * u_84 * v_84 + (*dist_coeffs_108)[int(4)] * (r2_79 + 2.0f * v_84 * v_84) + (*dist_coeffs_108)[int(7)] * r2_79);
                float2  _S10488 = _S10487 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10487.x + (*dist_coeffs_108)[int(9)] * _S10487.y, 0.0f);
                uv_7[int(5)] = make_float2 (fx_105 * _S10488.x + cx_100, fy_105 * _S10488.y + cy_100);
                break;
            }
            bool all_valid_17 = all_valid_16 & (!_S10458);
            float3  _S10489 = pos_c_0[int(6)];
            _S10423 = &uv_7[int(6)];
            for(;;)
            {
                float _S10490 = _S10489.z;
                uv_7[int(6)] = float2 {_S10489.x, _S10489.y} / make_float2 (_S10490);
                if(_S10490 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10491 = camera_distortion_jac_0(uv_7[int(6)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10491)), ((F32_min((_S10491.rows[int(0)].x), (_S10491.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_85 = uv_7[int(6)].x;
                float v_85 = uv_7[int(6)].y;
                float r2_80 = u_85 * u_85 + v_85 * v_85;
                float2  _S10492 = uv_7[int(6)] * make_float2 (1.0f + r2_80 * ((*dist_coeffs_108)[int(0)] + r2_80 * ((*dist_coeffs_108)[int(1)] + r2_80 * ((*dist_coeffs_108)[int(2)] + r2_80 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_85 * v_85 + (*dist_coeffs_108)[int(5)] * (r2_80 + 2.0f * u_85 * u_85) + (*dist_coeffs_108)[int(6)] * r2_80, 2.0f * (*dist_coeffs_108)[int(5)] * u_85 * v_85 + (*dist_coeffs_108)[int(4)] * (r2_80 + 2.0f * v_85 * v_85) + (*dist_coeffs_108)[int(7)] * r2_80);
                float2  _S10493 = _S10492 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10492.x + (*dist_coeffs_108)[int(9)] * _S10492.y, 0.0f);
                uv_7[int(6)] = make_float2 (fx_105 * _S10493.x + cx_100, fy_105 * _S10493.y + cy_100);
                break;
            }
            bool all_valid_18 = all_valid_17 & (!_S10458);
            float3  _S10494 = pos_c_0[int(7)];
            _S10424 = &uv_7[int(7)];
            for(;;)
            {
                float _S10495 = _S10494.z;
                uv_7[int(7)] = float2 {_S10494.x, _S10494.y} / make_float2 (_S10495);
                if(_S10495 < 0.0f)
                {
                    _S10458 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S10496 = camera_distortion_jac_0(uv_7[int(7)], dist_coeffs_108);
                    _S10458 = !((F32_min((determinant_0(_S10496)), ((F32_min((_S10496.rows[int(0)].x), (_S10496.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S10458)
                {
                    break;
                }
                float u_86 = uv_7[int(7)].x;
                float v_86 = uv_7[int(7)].y;
                float r2_81 = u_86 * u_86 + v_86 * v_86;
                float2  _S10497 = uv_7[int(7)] * make_float2 (1.0f + r2_81 * ((*dist_coeffs_108)[int(0)] + r2_81 * ((*dist_coeffs_108)[int(1)] + r2_81 * ((*dist_coeffs_108)[int(2)] + r2_81 * (*dist_coeffs_108)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_108)[int(4)] * u_86 * v_86 + (*dist_coeffs_108)[int(5)] * (r2_81 + 2.0f * u_86 * u_86) + (*dist_coeffs_108)[int(6)] * r2_81, 2.0f * (*dist_coeffs_108)[int(5)] * u_86 * v_86 + (*dist_coeffs_108)[int(4)] * (r2_81 + 2.0f * v_86 * v_86) + (*dist_coeffs_108)[int(7)] * r2_81);
                float2  _S10498 = _S10497 + make_float2 ((*dist_coeffs_108)[int(8)] * _S10497.x + (*dist_coeffs_108)[int(9)] * _S10497.y, 0.0f);
                uv_7[int(7)] = make_float2 (fx_105 * _S10498.x + cx_100, fy_105 * _S10498.y + cy_100);
                break;
            }
            _S10425 = all_valid_18 & (!_S10458);
            break;
        }
        if(!_S10425)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_0)[int(0)]), ((*densities_0)[int(1)])))), ((*densities_0)[int(2)])))), ((*densities_0)[int(3)])))), ((*densities_0)[int(4)])))), ((*densities_0)[int(5)])))), ((*densities_0)[int(6)])))), ((*densities_0)[int(7)]))) * size_0 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S10499 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10417).x), ((*_S10418).x)))), ((*_S10419).x)))), ((*_S10420).x)))), ((*_S10421).x)))), ((*_S10422).x)))), ((*_S10423).x)))), ((*_S10424).x)));
        float _S10500 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10417).x), ((*_S10418).x)))), ((*_S10419).x)))), ((*_S10420).x)))), ((*_S10421).x)))), ((*_S10422).x)))), ((*_S10423).x)))), ((*_S10424).x)));
        float _S10501 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10417).y), ((*_S10418).y)))), ((*_S10419).y)))), ((*_S10420).y)))), ((*_S10421).y)))), ((*_S10422).y)))), ((*_S10423).y)))), ((*_S10424).y)));
        float _S10502 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10417).y), ((*_S10418).y)))), ((*_S10419).y)))), ((*_S10420).y)))), ((*_S10421).y)))), ((*_S10422).y)))), ((*_S10423).y)))), ((*_S10424).y)));
        if(_S10499 <= 0.0f)
        {
            _S10458 = true;
        }
        else
        {
            _S10458 = _S10500 >= float(image_width_93);
        }
        if(_S10458)
        {
            _S10458 = true;
        }
        else
        {
            _S10458 = _S10501 <= 0.0f;
        }
        if(_S10458)
        {
            _S10458 = true;
        }
        else
        {
            _S10458 = _S10502 >= float(image_height_93);
        }
        if(_S10458)
        {
            _S10458 = true;
        }
        else
        {
            if(_S10456 <= 0.0f)
            {
                if(_S10500 <= 0.0f)
                {
                    _S10458 = _S10499 >= float(image_width_93);
                }
                else
                {
                    _S10458 = false;
                }
                if(_S10458)
                {
                    _S10458 = true;
                }
                else
                {
                    if(_S10502 <= 0.0f)
                    {
                        _S10458 = _S10501 >= float(image_width_93);
                    }
                    else
                    {
                        _S10458 = false;
                    }
                }
            }
            else
            {
                _S10458 = false;
            }
        }
        if(_S10458)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_56 = make_int4 (int((F32_floor((_S10500)))), int((F32_floor((_S10502)))), int((F32_ceil((_S10499)))), int((F32_ceil((_S10501)))));
        float _S10503 = mean_c_81.z;
        *depth_44 = (F32_max((_S10503), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S10503 + length_1(mean_c_81)))));
        float3  _S10504 = mean_c_81 - - mul_0(transpose_0(R_72), t_71);
        float3  _S10505 = make_float3 (0.282094806432724f) * (*sh_coeffs_23)[int(0)];
        *rgbs_7 = _S10505;
        float _S10506 = _S10504.x;
        float _S10507 = _S10504.y;
        float _S10508 = _S10504.z;
        float norm_14 = (F32_sqrt((_S10506 * _S10506 + _S10507 * _S10507 + _S10508 * _S10508)));
        float x_87 = _S10506 / norm_14;
        float y_32 = _S10507 / norm_14;
        float z_29 = _S10508 / norm_14;
        float3  _S10509 = _S10505 + make_float3 (0.48860251903533936f) * (make_float3 (- y_32) * (*sh_coeffs_23)[int(1)] + make_float3 (z_29) * (*sh_coeffs_23)[int(2)] - make_float3 (x_87) * (*sh_coeffs_23)[int(3)]);
        *rgbs_7 = _S10509;
        float z2_114 = z_29 * z_29;
        float fTmp0B_29 = -1.09254848957061768f * z_29;
        float fC1_29 = x_87 * x_87 - y_32 * y_32;
        float fS1_29 = 2.0f * x_87 * y_32;
        float3  _S10510 = _S10509 + (make_float3 (0.54627424478530884f * fS1_29) * (*sh_coeffs_23)[int(4)] + make_float3 (fTmp0B_29 * y_32) * (*sh_coeffs_23)[int(5)] + make_float3 (0.94617468118667603f * z2_114 - 0.31539157032966614f) * (*sh_coeffs_23)[int(6)] + make_float3 (fTmp0B_29 * x_87) * (*sh_coeffs_23)[int(7)] + make_float3 (0.54627424478530884f * fC1_29) * (*sh_coeffs_23)[int(8)]);
        *rgbs_7 = _S10510;
        float fTmp0C_29 = -2.28522896766662598f * z2_114 + 0.4570457935333252f;
        float fTmp1B_29 = 1.44530570507049561f * z_29;
        *rgbs_7 = max_0(_S10510 + (make_float3 (-0.59004360437393188f * (x_87 * fS1_29 + y_32 * fC1_29)) * (*sh_coeffs_23)[int(9)] + make_float3 (fTmp1B_29 * fS1_29) * (*sh_coeffs_23)[int(10)] + make_float3 (fTmp0C_29 * y_32) * (*sh_coeffs_23)[int(11)] + make_float3 (z_29 * (1.86588168144226074f * z2_114 - 1.11952900886535645f)) * (*sh_coeffs_23)[int(12)] + make_float3 (fTmp0C_29 * x_87) * (*sh_coeffs_23)[int(13)] + make_float3 (fTmp1B_29 * fC1_29) * (*sh_coeffs_23)[int(14)] + make_float3 (-0.59004360437393188f * (x_87 * fC1_29 - y_32 * fS1_29)) * (*sh_coeffs_23)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye(float3  pos_1, float size_1, FixedArray<float, 8>  * densities_1, FixedArray<float3 , 16>  * sh_coeffs_24, Matrix<float, 3, 3>  R_73, float3  t_72, float fx_106, float fy_106, float cx_101, float cy_101, FixedArray<float, 10>  * dist_coeffs_109, uint image_width_94, uint image_height_94, float near_plane_71, float far_plane_71, int4  * aabb_xyxy_57, float * depth_45, float3  * rgbs_8)
{
    float2  * _S10511;
    bool _S10512;
    float2  * _S10513;
    bool _S10514;
    float2  * _S10515;
    bool _S10516;
    float2  * _S10517;
    bool _S10518;
    float2  * _S10519;
    bool _S10520;
    float2  * _S10521;
    bool _S10522;
    float2  * _S10523;
    bool _S10524;
    float2  * _S10525;
    bool _S10526;
    bool _S10527;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_1;
        float3  _S10528 = mul_0(R_73, pos_1) + t_72;
        pos_c_1[int(0)] = _S10528;
        float _S10529 = length_1(_S10528);
        float _S10530 = (F32_min((far_plane_71), (_S10529)));
        float _S10531 = (F32_max((near_plane_71), (_S10529)));
        float3  _S10532 = mul_0(R_73, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 0.0f)) + t_72;
        pos_c_1[int(1)] = _S10532;
        float _S10533 = length_1(_S10532);
        float _S10534 = (F32_min((_S10530), (_S10533)));
        float _S10535 = (F32_max((_S10531), (_S10533)));
        float3  _S10536 = mul_0(R_73, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 0.0f)) + t_72;
        pos_c_1[int(2)] = _S10536;
        float _S10537 = length_1(_S10536);
        float _S10538 = (F32_min((_S10534), (_S10537)));
        float _S10539 = (F32_max((_S10535), (_S10537)));
        float3  _S10540 = mul_0(R_73, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 1.0f, 0.0f)) + t_72;
        pos_c_1[int(3)] = _S10540;
        float _S10541 = length_1(_S10540);
        float _S10542 = (F32_min((_S10538), (_S10541)));
        float _S10543 = (F32_max((_S10539), (_S10541)));
        float3  _S10544 = mul_0(R_73, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 0.0f, 1.0f)) + t_72;
        pos_c_1[int(4)] = _S10544;
        float _S10545 = length_1(_S10544);
        float _S10546 = (F32_min((_S10542), (_S10545)));
        float _S10547 = (F32_max((_S10543), (_S10545)));
        float3  _S10548 = mul_0(R_73, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 1.0f)) + t_72;
        pos_c_1[int(5)] = _S10548;
        float _S10549 = length_1(_S10548);
        float _S10550 = (F32_min((_S10546), (_S10549)));
        float _S10551 = (F32_max((_S10547), (_S10549)));
        float3  _S10552 = mul_0(R_73, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 1.0f)) + t_72;
        pos_c_1[int(6)] = _S10552;
        float _S10553 = length_1(_S10552);
        float _S10554 = (F32_min((_S10550), (_S10553)));
        float _S10555 = (F32_max((_S10551), (_S10553)));
        float3  _S10556 = mul_0(R_73, pos_1 + make_float3 (size_1)) + t_72;
        pos_c_1[int(7)] = _S10556;
        float _S10557 = length_1(_S10556);
        float _S10558 = (F32_min((_S10554), (_S10557)));
        float _S10559 = (F32_max((_S10555), (_S10557)));
        bool _S10560;
        if(_S10558 < near_plane_71)
        {
            _S10560 = true;
        }
        else
        {
            _S10560 = _S10559 > far_plane_71;
        }
        if(_S10560)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_82 = mul_0(R_73, pos_1 + make_float3 (0.5f * size_1)) + t_72;
        FixedArray<float2 , 8>  uv_8;
        for(;;)
        {
            float k_10;
            float3  _S10561 = pos_c_1[int(0)];
            _S10511 = &uv_8[int(0)];
            for(;;)
            {
                float2  _S10562 = float2 {_S10561.x, _S10561.y};
                float r_30 = length_0(_S10562);
                float _S10563 = _S10561.z;
                float theta_26 = (F32_atan2((r_30), (_S10563)));
                if(theta_26 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_26 * theta_26 / 3.0f) / _S10563;
                }
                else
                {
                    k_10 = theta_26 / r_30;
                }
                float2  _S10564 = _S10562 * make_float2 (k_10);
                uv_8[int(0)] = _S10564;
                Matrix<float, 2, 2>  _S10565 = camera_distortion_jac_0(_S10564, dist_coeffs_109);
                bool _S10566 = !((F32_min((determinant_0(_S10565)), ((F32_min((_S10565.rows[int(0)].x), (_S10565.rows[int(1)].y)))))) > 0.0f);
                _S10512 = _S10566;
                if(_S10566)
                {
                    break;
                }
                float u_87 = uv_8[int(0)].x;
                float v_87 = uv_8[int(0)].y;
                float r2_82 = u_87 * u_87 + v_87 * v_87;
                float2  _S10567 = uv_8[int(0)] * make_float2 (1.0f + r2_82 * ((*dist_coeffs_109)[int(0)] + r2_82 * ((*dist_coeffs_109)[int(1)] + r2_82 * ((*dist_coeffs_109)[int(2)] + r2_82 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_87 * v_87 + (*dist_coeffs_109)[int(5)] * (r2_82 + 2.0f * u_87 * u_87) + (*dist_coeffs_109)[int(6)] * r2_82, 2.0f * (*dist_coeffs_109)[int(5)] * u_87 * v_87 + (*dist_coeffs_109)[int(4)] * (r2_82 + 2.0f * v_87 * v_87) + (*dist_coeffs_109)[int(7)] * r2_82);
                float2  _S10568 = _S10567 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10567.x + (*dist_coeffs_109)[int(9)] * _S10567.y, 0.0f);
                uv_8[int(0)] = make_float2 (fx_106 * _S10568.x + cx_101, fy_106 * _S10568.y + cy_101);
                break;
            }
            bool all_valid_19 = true & (!_S10512);
            float3  _S10569 = pos_c_1[int(1)];
            _S10513 = &uv_8[int(1)];
            for(;;)
            {
                float2  _S10570 = float2 {_S10569.x, _S10569.y};
                float r_31 = length_0(_S10570);
                float _S10571 = _S10569.z;
                float theta_27 = (F32_atan2((r_31), (_S10571)));
                if(theta_27 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_27 * theta_27 / 3.0f) / _S10571;
                }
                else
                {
                    k_10 = theta_27 / r_31;
                }
                float2  _S10572 = _S10570 * make_float2 (k_10);
                uv_8[int(1)] = _S10572;
                Matrix<float, 2, 2>  _S10573 = camera_distortion_jac_0(_S10572, dist_coeffs_109);
                bool _S10574 = !((F32_min((determinant_0(_S10573)), ((F32_min((_S10573.rows[int(0)].x), (_S10573.rows[int(1)].y)))))) > 0.0f);
                _S10514 = _S10574;
                if(_S10574)
                {
                    break;
                }
                float u_88 = uv_8[int(1)].x;
                float v_88 = uv_8[int(1)].y;
                float r2_83 = u_88 * u_88 + v_88 * v_88;
                float2  _S10575 = uv_8[int(1)] * make_float2 (1.0f + r2_83 * ((*dist_coeffs_109)[int(0)] + r2_83 * ((*dist_coeffs_109)[int(1)] + r2_83 * ((*dist_coeffs_109)[int(2)] + r2_83 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_88 * v_88 + (*dist_coeffs_109)[int(5)] * (r2_83 + 2.0f * u_88 * u_88) + (*dist_coeffs_109)[int(6)] * r2_83, 2.0f * (*dist_coeffs_109)[int(5)] * u_88 * v_88 + (*dist_coeffs_109)[int(4)] * (r2_83 + 2.0f * v_88 * v_88) + (*dist_coeffs_109)[int(7)] * r2_83);
                float2  _S10576 = _S10575 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10575.x + (*dist_coeffs_109)[int(9)] * _S10575.y, 0.0f);
                uv_8[int(1)] = make_float2 (fx_106 * _S10576.x + cx_101, fy_106 * _S10576.y + cy_101);
                break;
            }
            bool all_valid_20 = all_valid_19 & (!_S10514);
            float3  _S10577 = pos_c_1[int(2)];
            _S10515 = &uv_8[int(2)];
            for(;;)
            {
                float2  _S10578 = float2 {_S10577.x, _S10577.y};
                float r_32 = length_0(_S10578);
                float _S10579 = _S10577.z;
                float theta_28 = (F32_atan2((r_32), (_S10579)));
                if(theta_28 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_28 * theta_28 / 3.0f) / _S10579;
                }
                else
                {
                    k_10 = theta_28 / r_32;
                }
                float2  _S10580 = _S10578 * make_float2 (k_10);
                uv_8[int(2)] = _S10580;
                Matrix<float, 2, 2>  _S10581 = camera_distortion_jac_0(_S10580, dist_coeffs_109);
                bool _S10582 = !((F32_min((determinant_0(_S10581)), ((F32_min((_S10581.rows[int(0)].x), (_S10581.rows[int(1)].y)))))) > 0.0f);
                _S10516 = _S10582;
                if(_S10582)
                {
                    break;
                }
                float u_89 = uv_8[int(2)].x;
                float v_89 = uv_8[int(2)].y;
                float r2_84 = u_89 * u_89 + v_89 * v_89;
                float2  _S10583 = uv_8[int(2)] * make_float2 (1.0f + r2_84 * ((*dist_coeffs_109)[int(0)] + r2_84 * ((*dist_coeffs_109)[int(1)] + r2_84 * ((*dist_coeffs_109)[int(2)] + r2_84 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_89 * v_89 + (*dist_coeffs_109)[int(5)] * (r2_84 + 2.0f * u_89 * u_89) + (*dist_coeffs_109)[int(6)] * r2_84, 2.0f * (*dist_coeffs_109)[int(5)] * u_89 * v_89 + (*dist_coeffs_109)[int(4)] * (r2_84 + 2.0f * v_89 * v_89) + (*dist_coeffs_109)[int(7)] * r2_84);
                float2  _S10584 = _S10583 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10583.x + (*dist_coeffs_109)[int(9)] * _S10583.y, 0.0f);
                uv_8[int(2)] = make_float2 (fx_106 * _S10584.x + cx_101, fy_106 * _S10584.y + cy_101);
                break;
            }
            bool all_valid_21 = all_valid_20 & (!_S10516);
            float3  _S10585 = pos_c_1[int(3)];
            _S10517 = &uv_8[int(3)];
            for(;;)
            {
                float2  _S10586 = float2 {_S10585.x, _S10585.y};
                float r_33 = length_0(_S10586);
                float _S10587 = _S10585.z;
                float theta_29 = (F32_atan2((r_33), (_S10587)));
                if(theta_29 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_29 * theta_29 / 3.0f) / _S10587;
                }
                else
                {
                    k_10 = theta_29 / r_33;
                }
                float2  _S10588 = _S10586 * make_float2 (k_10);
                uv_8[int(3)] = _S10588;
                Matrix<float, 2, 2>  _S10589 = camera_distortion_jac_0(_S10588, dist_coeffs_109);
                bool _S10590 = !((F32_min((determinant_0(_S10589)), ((F32_min((_S10589.rows[int(0)].x), (_S10589.rows[int(1)].y)))))) > 0.0f);
                _S10518 = _S10590;
                if(_S10590)
                {
                    break;
                }
                float u_90 = uv_8[int(3)].x;
                float v_90 = uv_8[int(3)].y;
                float r2_85 = u_90 * u_90 + v_90 * v_90;
                float2  _S10591 = uv_8[int(3)] * make_float2 (1.0f + r2_85 * ((*dist_coeffs_109)[int(0)] + r2_85 * ((*dist_coeffs_109)[int(1)] + r2_85 * ((*dist_coeffs_109)[int(2)] + r2_85 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_90 * v_90 + (*dist_coeffs_109)[int(5)] * (r2_85 + 2.0f * u_90 * u_90) + (*dist_coeffs_109)[int(6)] * r2_85, 2.0f * (*dist_coeffs_109)[int(5)] * u_90 * v_90 + (*dist_coeffs_109)[int(4)] * (r2_85 + 2.0f * v_90 * v_90) + (*dist_coeffs_109)[int(7)] * r2_85);
                float2  _S10592 = _S10591 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10591.x + (*dist_coeffs_109)[int(9)] * _S10591.y, 0.0f);
                uv_8[int(3)] = make_float2 (fx_106 * _S10592.x + cx_101, fy_106 * _S10592.y + cy_101);
                break;
            }
            bool all_valid_22 = all_valid_21 & (!_S10518);
            float3  _S10593 = pos_c_1[int(4)];
            _S10519 = &uv_8[int(4)];
            for(;;)
            {
                float2  _S10594 = float2 {_S10593.x, _S10593.y};
                float r_34 = length_0(_S10594);
                float _S10595 = _S10593.z;
                float theta_30 = (F32_atan2((r_34), (_S10595)));
                if(theta_30 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_30 * theta_30 / 3.0f) / _S10595;
                }
                else
                {
                    k_10 = theta_30 / r_34;
                }
                float2  _S10596 = _S10594 * make_float2 (k_10);
                uv_8[int(4)] = _S10596;
                Matrix<float, 2, 2>  _S10597 = camera_distortion_jac_0(_S10596, dist_coeffs_109);
                bool _S10598 = !((F32_min((determinant_0(_S10597)), ((F32_min((_S10597.rows[int(0)].x), (_S10597.rows[int(1)].y)))))) > 0.0f);
                _S10520 = _S10598;
                if(_S10598)
                {
                    break;
                }
                float u_91 = uv_8[int(4)].x;
                float v_91 = uv_8[int(4)].y;
                float r2_86 = u_91 * u_91 + v_91 * v_91;
                float2  _S10599 = uv_8[int(4)] * make_float2 (1.0f + r2_86 * ((*dist_coeffs_109)[int(0)] + r2_86 * ((*dist_coeffs_109)[int(1)] + r2_86 * ((*dist_coeffs_109)[int(2)] + r2_86 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_91 * v_91 + (*dist_coeffs_109)[int(5)] * (r2_86 + 2.0f * u_91 * u_91) + (*dist_coeffs_109)[int(6)] * r2_86, 2.0f * (*dist_coeffs_109)[int(5)] * u_91 * v_91 + (*dist_coeffs_109)[int(4)] * (r2_86 + 2.0f * v_91 * v_91) + (*dist_coeffs_109)[int(7)] * r2_86);
                float2  _S10600 = _S10599 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10599.x + (*dist_coeffs_109)[int(9)] * _S10599.y, 0.0f);
                uv_8[int(4)] = make_float2 (fx_106 * _S10600.x + cx_101, fy_106 * _S10600.y + cy_101);
                break;
            }
            bool all_valid_23 = all_valid_22 & (!_S10520);
            float3  _S10601 = pos_c_1[int(5)];
            _S10521 = &uv_8[int(5)];
            for(;;)
            {
                float2  _S10602 = float2 {_S10601.x, _S10601.y};
                float r_35 = length_0(_S10602);
                float _S10603 = _S10601.z;
                float theta_31 = (F32_atan2((r_35), (_S10603)));
                if(theta_31 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_31 * theta_31 / 3.0f) / _S10603;
                }
                else
                {
                    k_10 = theta_31 / r_35;
                }
                float2  _S10604 = _S10602 * make_float2 (k_10);
                uv_8[int(5)] = _S10604;
                Matrix<float, 2, 2>  _S10605 = camera_distortion_jac_0(_S10604, dist_coeffs_109);
                bool _S10606 = !((F32_min((determinant_0(_S10605)), ((F32_min((_S10605.rows[int(0)].x), (_S10605.rows[int(1)].y)))))) > 0.0f);
                _S10522 = _S10606;
                if(_S10606)
                {
                    break;
                }
                float u_92 = uv_8[int(5)].x;
                float v_92 = uv_8[int(5)].y;
                float r2_87 = u_92 * u_92 + v_92 * v_92;
                float2  _S10607 = uv_8[int(5)] * make_float2 (1.0f + r2_87 * ((*dist_coeffs_109)[int(0)] + r2_87 * ((*dist_coeffs_109)[int(1)] + r2_87 * ((*dist_coeffs_109)[int(2)] + r2_87 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_92 * v_92 + (*dist_coeffs_109)[int(5)] * (r2_87 + 2.0f * u_92 * u_92) + (*dist_coeffs_109)[int(6)] * r2_87, 2.0f * (*dist_coeffs_109)[int(5)] * u_92 * v_92 + (*dist_coeffs_109)[int(4)] * (r2_87 + 2.0f * v_92 * v_92) + (*dist_coeffs_109)[int(7)] * r2_87);
                float2  _S10608 = _S10607 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10607.x + (*dist_coeffs_109)[int(9)] * _S10607.y, 0.0f);
                uv_8[int(5)] = make_float2 (fx_106 * _S10608.x + cx_101, fy_106 * _S10608.y + cy_101);
                break;
            }
            bool all_valid_24 = all_valid_23 & (!_S10522);
            float3  _S10609 = pos_c_1[int(6)];
            _S10523 = &uv_8[int(6)];
            for(;;)
            {
                float2  _S10610 = float2 {_S10609.x, _S10609.y};
                float r_36 = length_0(_S10610);
                float _S10611 = _S10609.z;
                float theta_32 = (F32_atan2((r_36), (_S10611)));
                if(theta_32 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_32 * theta_32 / 3.0f) / _S10611;
                }
                else
                {
                    k_10 = theta_32 / r_36;
                }
                float2  _S10612 = _S10610 * make_float2 (k_10);
                uv_8[int(6)] = _S10612;
                Matrix<float, 2, 2>  _S10613 = camera_distortion_jac_0(_S10612, dist_coeffs_109);
                bool _S10614 = !((F32_min((determinant_0(_S10613)), ((F32_min((_S10613.rows[int(0)].x), (_S10613.rows[int(1)].y)))))) > 0.0f);
                _S10524 = _S10614;
                if(_S10614)
                {
                    break;
                }
                float u_93 = uv_8[int(6)].x;
                float v_93 = uv_8[int(6)].y;
                float r2_88 = u_93 * u_93 + v_93 * v_93;
                float2  _S10615 = uv_8[int(6)] * make_float2 (1.0f + r2_88 * ((*dist_coeffs_109)[int(0)] + r2_88 * ((*dist_coeffs_109)[int(1)] + r2_88 * ((*dist_coeffs_109)[int(2)] + r2_88 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_93 * v_93 + (*dist_coeffs_109)[int(5)] * (r2_88 + 2.0f * u_93 * u_93) + (*dist_coeffs_109)[int(6)] * r2_88, 2.0f * (*dist_coeffs_109)[int(5)] * u_93 * v_93 + (*dist_coeffs_109)[int(4)] * (r2_88 + 2.0f * v_93 * v_93) + (*dist_coeffs_109)[int(7)] * r2_88);
                float2  _S10616 = _S10615 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10615.x + (*dist_coeffs_109)[int(9)] * _S10615.y, 0.0f);
                uv_8[int(6)] = make_float2 (fx_106 * _S10616.x + cx_101, fy_106 * _S10616.y + cy_101);
                break;
            }
            bool all_valid_25 = all_valid_24 & (!_S10524);
            float3  _S10617 = pos_c_1[int(7)];
            _S10525 = &uv_8[int(7)];
            for(;;)
            {
                float2  _S10618 = float2 {_S10617.x, _S10617.y};
                float r_37 = length_0(_S10618);
                float _S10619 = _S10617.z;
                float theta_33 = (F32_atan2((r_37), (_S10619)));
                if(theta_33 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_33 * theta_33 / 3.0f) / _S10619;
                }
                else
                {
                    k_10 = theta_33 / r_37;
                }
                float2  _S10620 = _S10618 * make_float2 (k_10);
                uv_8[int(7)] = _S10620;
                Matrix<float, 2, 2>  _S10621 = camera_distortion_jac_0(_S10620, dist_coeffs_109);
                bool _S10622 = !((F32_min((determinant_0(_S10621)), ((F32_min((_S10621.rows[int(0)].x), (_S10621.rows[int(1)].y)))))) > 0.0f);
                _S10526 = _S10622;
                if(_S10622)
                {
                    break;
                }
                float u_94 = uv_8[int(7)].x;
                float v_94 = uv_8[int(7)].y;
                float r2_89 = u_94 * u_94 + v_94 * v_94;
                float2  _S10623 = uv_8[int(7)] * make_float2 (1.0f + r2_89 * ((*dist_coeffs_109)[int(0)] + r2_89 * ((*dist_coeffs_109)[int(1)] + r2_89 * ((*dist_coeffs_109)[int(2)] + r2_89 * (*dist_coeffs_109)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_109)[int(4)] * u_94 * v_94 + (*dist_coeffs_109)[int(5)] * (r2_89 + 2.0f * u_94 * u_94) + (*dist_coeffs_109)[int(6)] * r2_89, 2.0f * (*dist_coeffs_109)[int(5)] * u_94 * v_94 + (*dist_coeffs_109)[int(4)] * (r2_89 + 2.0f * v_94 * v_94) + (*dist_coeffs_109)[int(7)] * r2_89);
                float2  _S10624 = _S10623 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10623.x + (*dist_coeffs_109)[int(9)] * _S10623.y, 0.0f);
                uv_8[int(7)] = make_float2 (fx_106 * _S10624.x + cx_101, fy_106 * _S10624.y + cy_101);
                break;
            }
            _S10527 = all_valid_25 & (!_S10526);
            break;
        }
        if(!_S10527)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_1)[int(0)]), ((*densities_1)[int(1)])))), ((*densities_1)[int(2)])))), ((*densities_1)[int(3)])))), ((*densities_1)[int(4)])))), ((*densities_1)[int(5)])))), ((*densities_1)[int(6)])))), ((*densities_1)[int(7)]))) * size_1 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S10625 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10511).x), ((*_S10513).x)))), ((*_S10515).x)))), ((*_S10517).x)))), ((*_S10519).x)))), ((*_S10521).x)))), ((*_S10523).x)))), ((*_S10525).x)));
        float _S10626 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10511).x), ((*_S10513).x)))), ((*_S10515).x)))), ((*_S10517).x)))), ((*_S10519).x)))), ((*_S10521).x)))), ((*_S10523).x)))), ((*_S10525).x)));
        float _S10627 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S10511).y), ((*_S10513).y)))), ((*_S10515).y)))), ((*_S10517).y)))), ((*_S10519).y)))), ((*_S10521).y)))), ((*_S10523).y)))), ((*_S10525).y)));
        float _S10628 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S10511).y), ((*_S10513).y)))), ((*_S10515).y)))), ((*_S10517).y)))), ((*_S10519).y)))), ((*_S10521).y)))), ((*_S10523).y)))), ((*_S10525).y)));
        if(_S10625 <= 0.0f)
        {
            _S10560 = true;
        }
        else
        {
            _S10560 = _S10626 >= float(image_width_94);
        }
        if(_S10560)
        {
            _S10560 = true;
        }
        else
        {
            _S10560 = _S10627 <= 0.0f;
        }
        if(_S10560)
        {
            _S10560 = true;
        }
        else
        {
            _S10560 = _S10628 >= float(image_height_94);
        }
        if(_S10560)
        {
            _S10560 = true;
        }
        else
        {
            if(_S10558 <= 0.0f)
            {
                if(_S10626 <= 0.0f)
                {
                    _S10560 = _S10625 >= float(image_width_94);
                }
                else
                {
                    _S10560 = false;
                }
                if(_S10560)
                {
                    _S10560 = true;
                }
                else
                {
                    if(_S10628 <= 0.0f)
                    {
                        _S10560 = _S10627 >= float(image_width_94);
                    }
                    else
                    {
                        _S10560 = false;
                    }
                }
            }
            else
            {
                _S10560 = false;
            }
        }
        if(_S10560)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_57 = make_int4 (int((F32_floor((_S10626)))), int((F32_floor((_S10628)))), int((F32_ceil((_S10625)))), int((F32_ceil((_S10627)))));
        float _S10629 = mean_c_82.z;
        *depth_45 = (F32_max((_S10629), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S10629 + length_1(mean_c_82)))));
        float3  _S10630 = mean_c_82 - - mul_0(transpose_0(R_73), t_72);
        float3  _S10631 = make_float3 (0.282094806432724f) * (*sh_coeffs_24)[int(0)];
        *rgbs_8 = _S10631;
        float _S10632 = _S10630.x;
        float _S10633 = _S10630.y;
        float _S10634 = _S10630.z;
        float norm_15 = (F32_sqrt((_S10632 * _S10632 + _S10633 * _S10633 + _S10634 * _S10634)));
        float x_88 = _S10632 / norm_15;
        float y_33 = _S10633 / norm_15;
        float z_30 = _S10634 / norm_15;
        float3  _S10635 = _S10631 + make_float3 (0.48860251903533936f) * (make_float3 (- y_33) * (*sh_coeffs_24)[int(1)] + make_float3 (z_30) * (*sh_coeffs_24)[int(2)] - make_float3 (x_88) * (*sh_coeffs_24)[int(3)]);
        *rgbs_8 = _S10635;
        float z2_115 = z_30 * z_30;
        float fTmp0B_30 = -1.09254848957061768f * z_30;
        float fC1_30 = x_88 * x_88 - y_33 * y_33;
        float fS1_30 = 2.0f * x_88 * y_33;
        float3  _S10636 = _S10635 + (make_float3 (0.54627424478530884f * fS1_30) * (*sh_coeffs_24)[int(4)] + make_float3 (fTmp0B_30 * y_33) * (*sh_coeffs_24)[int(5)] + make_float3 (0.94617468118667603f * z2_115 - 0.31539157032966614f) * (*sh_coeffs_24)[int(6)] + make_float3 (fTmp0B_30 * x_88) * (*sh_coeffs_24)[int(7)] + make_float3 (0.54627424478530884f * fC1_30) * (*sh_coeffs_24)[int(8)]);
        *rgbs_8 = _S10636;
        float fTmp0C_30 = -2.28522896766662598f * z2_115 + 0.4570457935333252f;
        float fTmp1B_30 = 1.44530570507049561f * z_30;
        *rgbs_8 = max_0(_S10636 + (make_float3 (-0.59004360437393188f * (x_88 * fS1_30 + y_33 * fC1_30)) * (*sh_coeffs_24)[int(9)] + make_float3 (fTmp1B_30 * fS1_30) * (*sh_coeffs_24)[int(10)] + make_float3 (fTmp0C_30 * y_33) * (*sh_coeffs_24)[int(11)] + make_float3 (z_30 * (1.86588168144226074f * z2_115 - 1.11952900886535645f)) * (*sh_coeffs_24)[int(12)] + make_float3 (fTmp0C_30 * x_88) * (*sh_coeffs_24)[int(13)] + make_float3 (fTmp1B_30 * fC1_30) * (*sh_coeffs_24)[int(14)] + make_float3 (-0.59004360437393188f * (x_88 * fC1_30 - y_33 * fS1_30)) * (*sh_coeffs_24)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_voxel_eval3d_persp_differentiable(float3  pos_2, float size_2, FixedArray<float, 8>  * densities_2, FixedArray<float3 , 16>  * sh_coeffs_25, Matrix<float, 3, 3>  R_74, float3  t_73, float fx_107, float fy_107, float cx_102, float cy_102, FixedArray<float, 10>  * dist_coeffs_110, uint image_width_95, uint image_height_95, float near_plane_72, float far_plane_72, int4  * aabb_xyxy_58, float * depth_46, float3  * rgbs_9)
{
    FixedArray<float3 , 8>  pos_c_2;
    float3  _S10637 = mul_0(R_74, pos_2) + t_73;
    pos_c_2[int(0)] = _S10637;
    float3  _S10638 = mul_0(R_74, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 0.0f)) + t_73;
    pos_c_2[int(1)] = _S10638;
    float3  _S10639 = mul_0(R_74, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 0.0f)) + t_73;
    pos_c_2[int(2)] = _S10639;
    float3  _S10640 = mul_0(R_74, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 1.0f, 0.0f)) + t_73;
    pos_c_2[int(3)] = _S10640;
    float3  _S10641 = mul_0(R_74, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 0.0f, 1.0f)) + t_73;
    pos_c_2[int(4)] = _S10641;
    float3  _S10642 = mul_0(R_74, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 1.0f)) + t_73;
    pos_c_2[int(5)] = _S10642;
    float3  _S10643 = mul_0(R_74, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 1.0f)) + t_73;
    pos_c_2[int(6)] = _S10643;
    float3  _S10644 = mul_0(R_74, pos_2 + make_float3 (size_2)) + t_73;
    pos_c_2[int(7)] = _S10644;
    float3  mean_c_83 = mul_0(R_74, pos_2 + make_float3 (0.5f * size_2)) + t_73;
    FixedArray<float2 , 8>  uv_9;
    float2  _S10645 = float2 {_S10637.x, _S10637.y} / make_float2 (_S10637.z);
    float u_95 = _S10645.x;
    float v_95 = _S10645.y;
    float r2_90 = u_95 * u_95 + v_95 * v_95;
    float _S10646 = 2.0f * (*dist_coeffs_110)[int(4)];
    float _S10647 = 2.0f * (*dist_coeffs_110)[int(5)];
    float2  _S10648 = _S10645 * make_float2 (1.0f + r2_90 * ((*dist_coeffs_110)[int(0)] + r2_90 * ((*dist_coeffs_110)[int(1)] + r2_90 * ((*dist_coeffs_110)[int(2)] + r2_90 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_95 * v_95 + (*dist_coeffs_110)[int(5)] * (r2_90 + 2.0f * u_95 * u_95) + (*dist_coeffs_110)[int(6)] * r2_90, _S10647 * u_95 * v_95 + (*dist_coeffs_110)[int(4)] * (r2_90 + 2.0f * v_95 * v_95) + (*dist_coeffs_110)[int(7)] * r2_90);
    float2  _S10649 = _S10648 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10648.x + (*dist_coeffs_110)[int(9)] * _S10648.y, 0.0f);
    float _S10650 = fx_107 * _S10649.x + cx_102;
    float _S10651 = fy_107 * _S10649.y + cy_102;
    uv_9[int(0)] = make_float2 (_S10650, _S10651);
    float2  _S10652 = float2 {_S10638.x, _S10638.y} / make_float2 (_S10638.z);
    float u_96 = _S10652.x;
    float v_96 = _S10652.y;
    float r2_91 = u_96 * u_96 + v_96 * v_96;
    float2  _S10653 = _S10652 * make_float2 (1.0f + r2_91 * ((*dist_coeffs_110)[int(0)] + r2_91 * ((*dist_coeffs_110)[int(1)] + r2_91 * ((*dist_coeffs_110)[int(2)] + r2_91 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_96 * v_96 + (*dist_coeffs_110)[int(5)] * (r2_91 + 2.0f * u_96 * u_96) + (*dist_coeffs_110)[int(6)] * r2_91, _S10647 * u_96 * v_96 + (*dist_coeffs_110)[int(4)] * (r2_91 + 2.0f * v_96 * v_96) + (*dist_coeffs_110)[int(7)] * r2_91);
    float2  _S10654 = _S10653 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10653.x + (*dist_coeffs_110)[int(9)] * _S10653.y, 0.0f);
    float _S10655 = fx_107 * _S10654.x + cx_102;
    float _S10656 = fy_107 * _S10654.y + cy_102;
    uv_9[int(1)] = make_float2 (_S10655, _S10656);
    float2  _S10657 = float2 {_S10639.x, _S10639.y} / make_float2 (_S10639.z);
    float u_97 = _S10657.x;
    float v_97 = _S10657.y;
    float r2_92 = u_97 * u_97 + v_97 * v_97;
    float2  _S10658 = _S10657 * make_float2 (1.0f + r2_92 * ((*dist_coeffs_110)[int(0)] + r2_92 * ((*dist_coeffs_110)[int(1)] + r2_92 * ((*dist_coeffs_110)[int(2)] + r2_92 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_97 * v_97 + (*dist_coeffs_110)[int(5)] * (r2_92 + 2.0f * u_97 * u_97) + (*dist_coeffs_110)[int(6)] * r2_92, _S10647 * u_97 * v_97 + (*dist_coeffs_110)[int(4)] * (r2_92 + 2.0f * v_97 * v_97) + (*dist_coeffs_110)[int(7)] * r2_92);
    float2  _S10659 = _S10658 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10658.x + (*dist_coeffs_110)[int(9)] * _S10658.y, 0.0f);
    float _S10660 = fx_107 * _S10659.x + cx_102;
    float _S10661 = fy_107 * _S10659.y + cy_102;
    uv_9[int(2)] = make_float2 (_S10660, _S10661);
    float2  _S10662 = float2 {_S10640.x, _S10640.y} / make_float2 (_S10640.z);
    float u_98 = _S10662.x;
    float v_98 = _S10662.y;
    float r2_93 = u_98 * u_98 + v_98 * v_98;
    float2  _S10663 = _S10662 * make_float2 (1.0f + r2_93 * ((*dist_coeffs_110)[int(0)] + r2_93 * ((*dist_coeffs_110)[int(1)] + r2_93 * ((*dist_coeffs_110)[int(2)] + r2_93 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_98 * v_98 + (*dist_coeffs_110)[int(5)] * (r2_93 + 2.0f * u_98 * u_98) + (*dist_coeffs_110)[int(6)] * r2_93, _S10647 * u_98 * v_98 + (*dist_coeffs_110)[int(4)] * (r2_93 + 2.0f * v_98 * v_98) + (*dist_coeffs_110)[int(7)] * r2_93);
    float2  _S10664 = _S10663 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10663.x + (*dist_coeffs_110)[int(9)] * _S10663.y, 0.0f);
    float _S10665 = fx_107 * _S10664.x + cx_102;
    float _S10666 = fy_107 * _S10664.y + cy_102;
    uv_9[int(3)] = make_float2 (_S10665, _S10666);
    float2  _S10667 = float2 {_S10641.x, _S10641.y} / make_float2 (_S10641.z);
    float u_99 = _S10667.x;
    float v_99 = _S10667.y;
    float r2_94 = u_99 * u_99 + v_99 * v_99;
    float2  _S10668 = _S10667 * make_float2 (1.0f + r2_94 * ((*dist_coeffs_110)[int(0)] + r2_94 * ((*dist_coeffs_110)[int(1)] + r2_94 * ((*dist_coeffs_110)[int(2)] + r2_94 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_99 * v_99 + (*dist_coeffs_110)[int(5)] * (r2_94 + 2.0f * u_99 * u_99) + (*dist_coeffs_110)[int(6)] * r2_94, _S10647 * u_99 * v_99 + (*dist_coeffs_110)[int(4)] * (r2_94 + 2.0f * v_99 * v_99) + (*dist_coeffs_110)[int(7)] * r2_94);
    float2  _S10669 = _S10668 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10668.x + (*dist_coeffs_110)[int(9)] * _S10668.y, 0.0f);
    float _S10670 = fx_107 * _S10669.x + cx_102;
    float _S10671 = fy_107 * _S10669.y + cy_102;
    uv_9[int(4)] = make_float2 (_S10670, _S10671);
    float2  _S10672 = float2 {_S10642.x, _S10642.y} / make_float2 (_S10642.z);
    float u_100 = _S10672.x;
    float v_100 = _S10672.y;
    float r2_95 = u_100 * u_100 + v_100 * v_100;
    float2  _S10673 = _S10672 * make_float2 (1.0f + r2_95 * ((*dist_coeffs_110)[int(0)] + r2_95 * ((*dist_coeffs_110)[int(1)] + r2_95 * ((*dist_coeffs_110)[int(2)] + r2_95 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_100 * v_100 + (*dist_coeffs_110)[int(5)] * (r2_95 + 2.0f * u_100 * u_100) + (*dist_coeffs_110)[int(6)] * r2_95, _S10647 * u_100 * v_100 + (*dist_coeffs_110)[int(4)] * (r2_95 + 2.0f * v_100 * v_100) + (*dist_coeffs_110)[int(7)] * r2_95);
    float2  _S10674 = _S10673 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10673.x + (*dist_coeffs_110)[int(9)] * _S10673.y, 0.0f);
    float _S10675 = fx_107 * _S10674.x + cx_102;
    float _S10676 = fy_107 * _S10674.y + cy_102;
    uv_9[int(5)] = make_float2 (_S10675, _S10676);
    float2  _S10677 = float2 {_S10643.x, _S10643.y} / make_float2 (_S10643.z);
    float u_101 = _S10677.x;
    float v_101 = _S10677.y;
    float r2_96 = u_101 * u_101 + v_101 * v_101;
    float2  _S10678 = _S10677 * make_float2 (1.0f + r2_96 * ((*dist_coeffs_110)[int(0)] + r2_96 * ((*dist_coeffs_110)[int(1)] + r2_96 * ((*dist_coeffs_110)[int(2)] + r2_96 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_101 * v_101 + (*dist_coeffs_110)[int(5)] * (r2_96 + 2.0f * u_101 * u_101) + (*dist_coeffs_110)[int(6)] * r2_96, _S10647 * u_101 * v_101 + (*dist_coeffs_110)[int(4)] * (r2_96 + 2.0f * v_101 * v_101) + (*dist_coeffs_110)[int(7)] * r2_96);
    float2  _S10679 = _S10678 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10678.x + (*dist_coeffs_110)[int(9)] * _S10678.y, 0.0f);
    float _S10680 = fx_107 * _S10679.x + cx_102;
    float _S10681 = fy_107 * _S10679.y + cy_102;
    uv_9[int(6)] = make_float2 (_S10680, _S10681);
    float2  _S10682 = float2 {_S10644.x, _S10644.y} / make_float2 (_S10644.z);
    float u_102 = _S10682.x;
    float v_102 = _S10682.y;
    float r2_97 = u_102 * u_102 + v_102 * v_102;
    float2  _S10683 = _S10682 * make_float2 (1.0f + r2_97 * ((*dist_coeffs_110)[int(0)] + r2_97 * ((*dist_coeffs_110)[int(1)] + r2_97 * ((*dist_coeffs_110)[int(2)] + r2_97 * (*dist_coeffs_110)[int(3)])))) + make_float2 (_S10646 * u_102 * v_102 + (*dist_coeffs_110)[int(5)] * (r2_97 + 2.0f * u_102 * u_102) + (*dist_coeffs_110)[int(6)] * r2_97, _S10647 * u_102 * v_102 + (*dist_coeffs_110)[int(4)] * (r2_97 + 2.0f * v_102 * v_102) + (*dist_coeffs_110)[int(7)] * r2_97);
    float2  _S10684 = _S10683 + make_float2 ((*dist_coeffs_110)[int(8)] * _S10683.x + (*dist_coeffs_110)[int(9)] * _S10683.y, 0.0f);
    float _S10685 = fx_107 * _S10684.x + cx_102;
    float _S10686 = fy_107 * _S10684.y + cy_102;
    uv_9[int(7)] = make_float2 (_S10685, _S10686);
    *aabb_xyxy_58 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S10650), (_S10655)))), (_S10660)))), (_S10665)))), (_S10670)))), (_S10675)))), (_S10680)))), (_S10685))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S10651), (_S10656)))), (_S10661)))), (_S10666)))), (_S10671)))), (_S10676)))), (_S10681)))), (_S10686))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S10650), (_S10655)))), (_S10660)))), (_S10665)))), (_S10670)))), (_S10675)))), (_S10680)))), (_S10685))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S10651), (_S10656)))), (_S10661)))), (_S10666)))), (_S10671)))), (_S10676)))), (_S10681)))), (_S10686))))))));
    float _S10687 = mean_c_83.z;
    *depth_46 = (F32_max((_S10687), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S10687 + length_1(mean_c_83)))));
    float3  _S10688 = mean_c_83 - - mul_0(transpose_0(R_74), t_73);
    float3  _S10689 = make_float3 (0.282094806432724f) * (*sh_coeffs_25)[int(0)];
    *rgbs_9 = _S10689;
    float _S10690 = _S10688.x;
    float _S10691 = _S10688.y;
    float _S10692 = _S10688.z;
    float norm_16 = (F32_sqrt((_S10690 * _S10690 + _S10691 * _S10691 + _S10692 * _S10692)));
    float x_89 = _S10690 / norm_16;
    float y_34 = _S10691 / norm_16;
    float z_31 = _S10692 / norm_16;
    float3  _S10693 = _S10689 + make_float3 (0.48860251903533936f) * (make_float3 (- y_34) * (*sh_coeffs_25)[int(1)] + make_float3 (z_31) * (*sh_coeffs_25)[int(2)] - make_float3 (x_89) * (*sh_coeffs_25)[int(3)]);
    *rgbs_9 = _S10693;
    float z2_116 = z_31 * z_31;
    float fTmp0B_31 = -1.09254848957061768f * z_31;
    float fC1_31 = x_89 * x_89 - y_34 * y_34;
    float fS1_31 = 2.0f * x_89 * y_34;
    float3  _S10694 = _S10693 + (make_float3 (0.54627424478530884f * fS1_31) * (*sh_coeffs_25)[int(4)] + make_float3 (fTmp0B_31 * y_34) * (*sh_coeffs_25)[int(5)] + make_float3 (0.94617468118667603f * z2_116 - 0.31539157032966614f) * (*sh_coeffs_25)[int(6)] + make_float3 (fTmp0B_31 * x_89) * (*sh_coeffs_25)[int(7)] + make_float3 (0.54627424478530884f * fC1_31) * (*sh_coeffs_25)[int(8)]);
    *rgbs_9 = _S10694;
    float fTmp0C_31 = -2.28522896766662598f * z2_116 + 0.4570457935333252f;
    float fTmp1B_31 = 1.44530570507049561f * z_31;
    *rgbs_9 = max_0(_S10694 + (make_float3 (-0.59004360437393188f * (x_89 * fS1_31 + y_34 * fC1_31)) * (*sh_coeffs_25)[int(9)] + make_float3 (fTmp1B_31 * fS1_31) * (*sh_coeffs_25)[int(10)] + make_float3 (fTmp0C_31 * y_34) * (*sh_coeffs_25)[int(11)] + make_float3 (z_31 * (1.86588168144226074f * z2_116 - 1.11952900886535645f)) * (*sh_coeffs_25)[int(12)] + make_float3 (fTmp0C_31 * x_89) * (*sh_coeffs_25)[int(13)] + make_float3 (fTmp1B_31 * fC1_31) * (*sh_coeffs_25)[int(14)] + make_float3 (-0.59004360437393188f * (x_89 * fC1_31 - y_34 * fS1_31)) * (*sh_coeffs_25)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_voxel_eval3d_fisheye_differentiable(float3  pos_3, float size_3, FixedArray<float, 8>  * densities_3, FixedArray<float3 , 16>  * sh_coeffs_26, Matrix<float, 3, 3>  R_75, float3  t_74, float fx_108, float fy_108, float cx_103, float cy_103, FixedArray<float, 10>  * dist_coeffs_111, uint image_width_96, uint image_height_96, float near_plane_73, float far_plane_73, int4  * aabb_xyxy_59, float * depth_47, float3  * rgbs_10)
{
    FixedArray<float3 , 8>  pos_c_3;
    float3  _S10695 = mul_0(R_75, pos_3) + t_74;
    pos_c_3[int(0)] = _S10695;
    pos_c_3[int(1)] = mul_0(R_75, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 0.0f)) + t_74;
    pos_c_3[int(2)] = mul_0(R_75, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 0.0f)) + t_74;
    pos_c_3[int(3)] = mul_0(R_75, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 1.0f, 0.0f)) + t_74;
    pos_c_3[int(4)] = mul_0(R_75, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 0.0f, 1.0f)) + t_74;
    pos_c_3[int(5)] = mul_0(R_75, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 1.0f)) + t_74;
    pos_c_3[int(6)] = mul_0(R_75, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 1.0f)) + t_74;
    pos_c_3[int(7)] = mul_0(R_75, pos_3 + make_float3 (size_3)) + t_74;
    float3  mean_c_84 = mul_0(R_75, pos_3 + make_float3 (0.5f * size_3)) + t_74;
    FixedArray<float2 , 8>  uv_10;
    float2  _S10696 = float2 {_S10695.x, _S10695.y};
    float r_38 = length_0(_S10696);
    float _S10697 = _S10695.z;
    float theta_34 = (F32_atan2((r_38), (_S10697)));
    float k_11;
    if(theta_34 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_34 * theta_34 / 3.0f) / _S10697;
    }
    else
    {
        k_11 = theta_34 / r_38;
    }
    float2  _S10698 = _S10696 * make_float2 (k_11);
    float u_103 = _S10698.x;
    float v_103 = _S10698.y;
    float r2_98 = u_103 * u_103 + v_103 * v_103;
    float _S10699 = 2.0f * (*dist_coeffs_111)[int(4)];
    float _S10700 = 2.0f * (*dist_coeffs_111)[int(5)];
    float2  _S10701 = _S10698 * make_float2 (1.0f + r2_98 * ((*dist_coeffs_111)[int(0)] + r2_98 * ((*dist_coeffs_111)[int(1)] + r2_98 * ((*dist_coeffs_111)[int(2)] + r2_98 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_103 * v_103 + (*dist_coeffs_111)[int(5)] * (r2_98 + 2.0f * u_103 * u_103) + (*dist_coeffs_111)[int(6)] * r2_98, _S10700 * u_103 * v_103 + (*dist_coeffs_111)[int(4)] * (r2_98 + 2.0f * v_103 * v_103) + (*dist_coeffs_111)[int(7)] * r2_98);
    float2  _S10702 = _S10701 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10701.x + (*dist_coeffs_111)[int(9)] * _S10701.y, 0.0f);
    uv_10[int(0)] = make_float2 (fx_108 * _S10702.x + cx_103, fy_108 * _S10702.y + cy_103);
    float2  _S10703 = float2 {pos_c_3[int(1)].x, pos_c_3[int(1)].y};
    float r_39 = length_0(_S10703);
    float _S10704 = pos_c_3[int(1)].z;
    float theta_35 = (F32_atan2((r_39), (_S10704)));
    if(theta_35 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_35 * theta_35 / 3.0f) / _S10704;
    }
    else
    {
        k_11 = theta_35 / r_39;
    }
    float2  _S10705 = _S10703 * make_float2 (k_11);
    float u_104 = _S10705.x;
    float v_104 = _S10705.y;
    float r2_99 = u_104 * u_104 + v_104 * v_104;
    float2  _S10706 = _S10705 * make_float2 (1.0f + r2_99 * ((*dist_coeffs_111)[int(0)] + r2_99 * ((*dist_coeffs_111)[int(1)] + r2_99 * ((*dist_coeffs_111)[int(2)] + r2_99 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_104 * v_104 + (*dist_coeffs_111)[int(5)] * (r2_99 + 2.0f * u_104 * u_104) + (*dist_coeffs_111)[int(6)] * r2_99, _S10700 * u_104 * v_104 + (*dist_coeffs_111)[int(4)] * (r2_99 + 2.0f * v_104 * v_104) + (*dist_coeffs_111)[int(7)] * r2_99);
    float2  _S10707 = _S10706 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10706.x + (*dist_coeffs_111)[int(9)] * _S10706.y, 0.0f);
    uv_10[int(1)] = make_float2 (fx_108 * _S10707.x + cx_103, fy_108 * _S10707.y + cy_103);
    float2  _S10708 = float2 {pos_c_3[int(2)].x, pos_c_3[int(2)].y};
    float r_40 = length_0(_S10708);
    float _S10709 = pos_c_3[int(2)].z;
    float theta_36 = (F32_atan2((r_40), (_S10709)));
    if(theta_36 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_36 * theta_36 / 3.0f) / _S10709;
    }
    else
    {
        k_11 = theta_36 / r_40;
    }
    float2  _S10710 = _S10708 * make_float2 (k_11);
    float u_105 = _S10710.x;
    float v_105 = _S10710.y;
    float r2_100 = u_105 * u_105 + v_105 * v_105;
    float2  _S10711 = _S10710 * make_float2 (1.0f + r2_100 * ((*dist_coeffs_111)[int(0)] + r2_100 * ((*dist_coeffs_111)[int(1)] + r2_100 * ((*dist_coeffs_111)[int(2)] + r2_100 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_105 * v_105 + (*dist_coeffs_111)[int(5)] * (r2_100 + 2.0f * u_105 * u_105) + (*dist_coeffs_111)[int(6)] * r2_100, _S10700 * u_105 * v_105 + (*dist_coeffs_111)[int(4)] * (r2_100 + 2.0f * v_105 * v_105) + (*dist_coeffs_111)[int(7)] * r2_100);
    float2  _S10712 = _S10711 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10711.x + (*dist_coeffs_111)[int(9)] * _S10711.y, 0.0f);
    uv_10[int(2)] = make_float2 (fx_108 * _S10712.x + cx_103, fy_108 * _S10712.y + cy_103);
    float2  _S10713 = float2 {pos_c_3[int(3)].x, pos_c_3[int(3)].y};
    float r_41 = length_0(_S10713);
    float _S10714 = pos_c_3[int(3)].z;
    float theta_37 = (F32_atan2((r_41), (_S10714)));
    if(theta_37 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_37 * theta_37 / 3.0f) / _S10714;
    }
    else
    {
        k_11 = theta_37 / r_41;
    }
    float2  _S10715 = _S10713 * make_float2 (k_11);
    float u_106 = _S10715.x;
    float v_106 = _S10715.y;
    float r2_101 = u_106 * u_106 + v_106 * v_106;
    float2  _S10716 = _S10715 * make_float2 (1.0f + r2_101 * ((*dist_coeffs_111)[int(0)] + r2_101 * ((*dist_coeffs_111)[int(1)] + r2_101 * ((*dist_coeffs_111)[int(2)] + r2_101 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_106 * v_106 + (*dist_coeffs_111)[int(5)] * (r2_101 + 2.0f * u_106 * u_106) + (*dist_coeffs_111)[int(6)] * r2_101, _S10700 * u_106 * v_106 + (*dist_coeffs_111)[int(4)] * (r2_101 + 2.0f * v_106 * v_106) + (*dist_coeffs_111)[int(7)] * r2_101);
    float2  _S10717 = _S10716 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10716.x + (*dist_coeffs_111)[int(9)] * _S10716.y, 0.0f);
    uv_10[int(3)] = make_float2 (fx_108 * _S10717.x + cx_103, fy_108 * _S10717.y + cy_103);
    float2  _S10718 = float2 {pos_c_3[int(4)].x, pos_c_3[int(4)].y};
    float r_42 = length_0(_S10718);
    float _S10719 = pos_c_3[int(4)].z;
    float theta_38 = (F32_atan2((r_42), (_S10719)));
    if(theta_38 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_38 * theta_38 / 3.0f) / _S10719;
    }
    else
    {
        k_11 = theta_38 / r_42;
    }
    float2  _S10720 = _S10718 * make_float2 (k_11);
    float u_107 = _S10720.x;
    float v_107 = _S10720.y;
    float r2_102 = u_107 * u_107 + v_107 * v_107;
    float2  _S10721 = _S10720 * make_float2 (1.0f + r2_102 * ((*dist_coeffs_111)[int(0)] + r2_102 * ((*dist_coeffs_111)[int(1)] + r2_102 * ((*dist_coeffs_111)[int(2)] + r2_102 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_107 * v_107 + (*dist_coeffs_111)[int(5)] * (r2_102 + 2.0f * u_107 * u_107) + (*dist_coeffs_111)[int(6)] * r2_102, _S10700 * u_107 * v_107 + (*dist_coeffs_111)[int(4)] * (r2_102 + 2.0f * v_107 * v_107) + (*dist_coeffs_111)[int(7)] * r2_102);
    float2  _S10722 = _S10721 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10721.x + (*dist_coeffs_111)[int(9)] * _S10721.y, 0.0f);
    uv_10[int(4)] = make_float2 (fx_108 * _S10722.x + cx_103, fy_108 * _S10722.y + cy_103);
    float2  _S10723 = float2 {pos_c_3[int(5)].x, pos_c_3[int(5)].y};
    float r_43 = length_0(_S10723);
    float _S10724 = pos_c_3[int(5)].z;
    float theta_39 = (F32_atan2((r_43), (_S10724)));
    if(theta_39 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_39 * theta_39 / 3.0f) / _S10724;
    }
    else
    {
        k_11 = theta_39 / r_43;
    }
    float2  _S10725 = _S10723 * make_float2 (k_11);
    float u_108 = _S10725.x;
    float v_108 = _S10725.y;
    float r2_103 = u_108 * u_108 + v_108 * v_108;
    float2  _S10726 = _S10725 * make_float2 (1.0f + r2_103 * ((*dist_coeffs_111)[int(0)] + r2_103 * ((*dist_coeffs_111)[int(1)] + r2_103 * ((*dist_coeffs_111)[int(2)] + r2_103 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_108 * v_108 + (*dist_coeffs_111)[int(5)] * (r2_103 + 2.0f * u_108 * u_108) + (*dist_coeffs_111)[int(6)] * r2_103, _S10700 * u_108 * v_108 + (*dist_coeffs_111)[int(4)] * (r2_103 + 2.0f * v_108 * v_108) + (*dist_coeffs_111)[int(7)] * r2_103);
    float2  _S10727 = _S10726 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10726.x + (*dist_coeffs_111)[int(9)] * _S10726.y, 0.0f);
    uv_10[int(5)] = make_float2 (fx_108 * _S10727.x + cx_103, fy_108 * _S10727.y + cy_103);
    float2  _S10728 = float2 {pos_c_3[int(6)].x, pos_c_3[int(6)].y};
    float r_44 = length_0(_S10728);
    float _S10729 = pos_c_3[int(6)].z;
    float theta_40 = (F32_atan2((r_44), (_S10729)));
    if(theta_40 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_40 * theta_40 / 3.0f) / _S10729;
    }
    else
    {
        k_11 = theta_40 / r_44;
    }
    float2  _S10730 = _S10728 * make_float2 (k_11);
    float u_109 = _S10730.x;
    float v_109 = _S10730.y;
    float r2_104 = u_109 * u_109 + v_109 * v_109;
    float2  _S10731 = _S10730 * make_float2 (1.0f + r2_104 * ((*dist_coeffs_111)[int(0)] + r2_104 * ((*dist_coeffs_111)[int(1)] + r2_104 * ((*dist_coeffs_111)[int(2)] + r2_104 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_109 * v_109 + (*dist_coeffs_111)[int(5)] * (r2_104 + 2.0f * u_109 * u_109) + (*dist_coeffs_111)[int(6)] * r2_104, _S10700 * u_109 * v_109 + (*dist_coeffs_111)[int(4)] * (r2_104 + 2.0f * v_109 * v_109) + (*dist_coeffs_111)[int(7)] * r2_104);
    float2  _S10732 = _S10731 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10731.x + (*dist_coeffs_111)[int(9)] * _S10731.y, 0.0f);
    uv_10[int(6)] = make_float2 (fx_108 * _S10732.x + cx_103, fy_108 * _S10732.y + cy_103);
    float2  _S10733 = float2 {pos_c_3[int(7)].x, pos_c_3[int(7)].y};
    float r_45 = length_0(_S10733);
    float _S10734 = pos_c_3[int(7)].z;
    float theta_41 = (F32_atan2((r_45), (_S10734)));
    if(theta_41 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_41 * theta_41 / 3.0f) / _S10734;
    }
    else
    {
        k_11 = theta_41 / r_45;
    }
    float2  _S10735 = _S10733 * make_float2 (k_11);
    float u_110 = _S10735.x;
    float v_110 = _S10735.y;
    float r2_105 = u_110 * u_110 + v_110 * v_110;
    float2  _S10736 = _S10735 * make_float2 (1.0f + r2_105 * ((*dist_coeffs_111)[int(0)] + r2_105 * ((*dist_coeffs_111)[int(1)] + r2_105 * ((*dist_coeffs_111)[int(2)] + r2_105 * (*dist_coeffs_111)[int(3)])))) + make_float2 (_S10699 * u_110 * v_110 + (*dist_coeffs_111)[int(5)] * (r2_105 + 2.0f * u_110 * u_110) + (*dist_coeffs_111)[int(6)] * r2_105, _S10700 * u_110 * v_110 + (*dist_coeffs_111)[int(4)] * (r2_105 + 2.0f * v_110 * v_110) + (*dist_coeffs_111)[int(7)] * r2_105);
    float2  _S10737 = _S10736 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10736.x + (*dist_coeffs_111)[int(9)] * _S10736.y, 0.0f);
    float _S10738 = fx_108 * _S10737.x + cx_103;
    float _S10739 = fy_108 * _S10737.y + cy_103;
    uv_10[int(7)] = make_float2 (_S10738, _S10739);
    *aabb_xyxy_59 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S10738))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S10739))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S10738))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S10739))))))));
    float _S10740 = mean_c_84.z;
    *depth_47 = (F32_max((_S10740), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S10740 + length_1(mean_c_84)))));
    float3  _S10741 = mean_c_84 - - mul_0(transpose_0(R_75), t_74);
    float3  _S10742 = make_float3 (0.282094806432724f) * (*sh_coeffs_26)[int(0)];
    *rgbs_10 = _S10742;
    float _S10743 = _S10741.x;
    float _S10744 = _S10741.y;
    float _S10745 = _S10741.z;
    float norm_17 = (F32_sqrt((_S10743 * _S10743 + _S10744 * _S10744 + _S10745 * _S10745)));
    float x_90 = _S10743 / norm_17;
    float y_35 = _S10744 / norm_17;
    float z_32 = _S10745 / norm_17;
    float3  _S10746 = _S10742 + make_float3 (0.48860251903533936f) * (make_float3 (- y_35) * (*sh_coeffs_26)[int(1)] + make_float3 (z_32) * (*sh_coeffs_26)[int(2)] - make_float3 (x_90) * (*sh_coeffs_26)[int(3)]);
    *rgbs_10 = _S10746;
    float z2_117 = z_32 * z_32;
    float fTmp0B_32 = -1.09254848957061768f * z_32;
    float fC1_32 = x_90 * x_90 - y_35 * y_35;
    float fS1_32 = 2.0f * x_90 * y_35;
    float3  _S10747 = _S10746 + (make_float3 (0.54627424478530884f * fS1_32) * (*sh_coeffs_26)[int(4)] + make_float3 (fTmp0B_32 * y_35) * (*sh_coeffs_26)[int(5)] + make_float3 (0.94617468118667603f * z2_117 - 0.31539157032966614f) * (*sh_coeffs_26)[int(6)] + make_float3 (fTmp0B_32 * x_90) * (*sh_coeffs_26)[int(7)] + make_float3 (0.54627424478530884f * fC1_32) * (*sh_coeffs_26)[int(8)]);
    *rgbs_10 = _S10747;
    float fTmp0C_32 = -2.28522896766662598f * z2_117 + 0.4570457935333252f;
    float fTmp1B_32 = 1.44530570507049561f * z_32;
    *rgbs_10 = max_0(_S10747 + (make_float3 (-0.59004360437393188f * (x_90 * fS1_32 + y_35 * fC1_32)) * (*sh_coeffs_26)[int(9)] + make_float3 (fTmp1B_32 * fS1_32) * (*sh_coeffs_26)[int(10)] + make_float3 (fTmp0C_32 * y_35) * (*sh_coeffs_26)[int(11)] + make_float3 (z_32 * (1.86588168144226074f * z2_117 - 1.11952900886535645f)) * (*sh_coeffs_26)[int(12)] + make_float3 (fTmp0C_32 * x_90) * (*sh_coeffs_26)[int(13)] + make_float3 (fTmp1B_32 * fC1_32) * (*sh_coeffs_26)[int(14)] + make_float3 (-0.59004360437393188f * (x_90 * fC1_32 - y_35 * fS1_32)) * (*sh_coeffs_26)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void projection_voxel_eval3d_persp_vjp(float3  pos_4, float size_4, FixedArray<float, 8>  * densities_4, FixedArray<float3 , 16>  * sh_coeffs_27, Matrix<float, 3, 3>  R_76, float3  t_75, float fx_109, float fy_109, float cx_104, float cy_104, FixedArray<float, 10>  * dist_coeffs_112, uint image_width_97, uint image_height_97, float3  v_rgb_22, FixedArray<float, 8>  * v_densities_0, FixedArray<float3 , 16>  * v_sh_coeffs_9, Matrix<float, 3, 3>  * v_R_25, float3  * v_t_24)
{
    float3  _S10748 = s_primal_ctx_mul_0(R_76, pos_4) + t_75;
    float _S10749 = _S10748.z;
    float2  _S10750 = make_float2 (_S10749);
    float _S10751 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S10749);
    float _S10752 = s_primal_ctx_max_0(0.0f, _S10749);
    float3  pos_i_0 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S10753 = s_primal_ctx_mul_0(R_76, pos_i_0) + t_75;
    float _S10754 = _S10753.z;
    float2  _S10755 = make_float2 (_S10754);
    float _S10756 = s_primal_ctx_min_0(_S10751, _S10754);
    float _S10757 = s_primal_ctx_max_0(_S10752, _S10754);
    float3  pos_i_1 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S10758 = s_primal_ctx_mul_0(R_76, pos_i_1) + t_75;
    float _S10759 = _S10758.z;
    float2  _S10760 = make_float2 (_S10759);
    float _S10761 = s_primal_ctx_min_0(_S10756, _S10759);
    float _S10762 = s_primal_ctx_max_0(_S10757, _S10759);
    float3  pos_i_2 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S10763 = s_primal_ctx_mul_0(R_76, pos_i_2) + t_75;
    float _S10764 = _S10763.z;
    float2  _S10765 = make_float2 (_S10764);
    float _S10766 = s_primal_ctx_min_0(_S10761, _S10764);
    float _S10767 = s_primal_ctx_max_0(_S10762, _S10764);
    float3  pos_i_3 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S10768 = s_primal_ctx_mul_0(R_76, pos_i_3) + t_75;
    float _S10769 = _S10768.z;
    float2  _S10770 = make_float2 (_S10769);
    float _S10771 = s_primal_ctx_min_0(_S10766, _S10769);
    float _S10772 = s_primal_ctx_max_0(_S10767, _S10769);
    float3  pos_i_4 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S10773 = s_primal_ctx_mul_0(R_76, pos_i_4) + t_75;
    float _S10774 = _S10773.z;
    float2  _S10775 = make_float2 (_S10774);
    float _S10776 = s_primal_ctx_min_0(_S10771, _S10774);
    float _S10777 = s_primal_ctx_max_0(_S10772, _S10774);
    float3  pos_i_5 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S10778 = s_primal_ctx_mul_0(R_76, pos_i_5) + t_75;
    float _S10779 = _S10778.z;
    float2  _S10780 = make_float2 (_S10779);
    float _S10781 = s_primal_ctx_min_0(_S10776, _S10779);
    float _S10782 = s_primal_ctx_max_0(_S10777, _S10779);
    float3  pos_i_6 = pos_4 + make_float3 (size_4);
    float3  _S10783 = s_primal_ctx_mul_0(R_76, pos_i_6) + t_75;
    float _S10784 = _S10783.z;
    float2  _S10785 = make_float2 (_S10784);
    float3  _S10786 = pos_4 + make_float3 (0.5f * size_4);
    float3  mean_c_85 = s_primal_ctx_mul_0(R_76, _S10786) + t_75;
    float2  _S10787 = float2 {_S10748.x, _S10748.y};
    float2  _S10788 = _S10787 / make_float2 (_S10749);
    float2  _S10789 = make_float2 (_S10749 * _S10749);
    float u_111 = _S10788.x;
    float v_111 = _S10788.y;
    float r2_106 = u_111 * u_111 + v_111 * v_111;
    float _S10790 = (*dist_coeffs_112)[int(2)] + r2_106 * (*dist_coeffs_112)[int(3)];
    float _S10791 = (*dist_coeffs_112)[int(1)] + r2_106 * _S10790;
    float _S10792 = (*dist_coeffs_112)[int(0)] + r2_106 * _S10791;
    float radial_8 = 1.0f + r2_106 * _S10792;
    float2  _S10793 = make_float2 (radial_8);
    float _S10794 = 2.0f * (*dist_coeffs_112)[int(4)];
    float _S10795 = _S10794 * u_111;
    float _S10796 = 2.0f * u_111;
    float _S10797 = 2.0f * (*dist_coeffs_112)[int(5)];
    float _S10798 = _S10797 * u_111;
    float _S10799 = 2.0f * v_111;
    float2  _S10800 = _S10788 * make_float2 (radial_8) + make_float2 (_S10795 * v_111 + (*dist_coeffs_112)[int(5)] * (r2_106 + _S10796 * u_111) + (*dist_coeffs_112)[int(6)] * r2_106, _S10798 * v_111 + (*dist_coeffs_112)[int(4)] * (r2_106 + _S10799 * v_111) + (*dist_coeffs_112)[int(7)] * r2_106);
    float2  _S10801 = _S10800 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10800.x + (*dist_coeffs_112)[int(9)] * _S10800.y, 0.0f);
    float _S10802 = fx_109 * _S10801.x + cx_104;
    float _S10803 = fy_109 * _S10801.y + cy_104;
    float2  _S10804 = float2 {_S10753.x, _S10753.y};
    float2  _S10805 = _S10804 / make_float2 (_S10754);
    float2  _S10806 = make_float2 (_S10754 * _S10754);
    float u_112 = _S10805.x;
    float v_112 = _S10805.y;
    float r2_107 = u_112 * u_112 + v_112 * v_112;
    float _S10807 = (*dist_coeffs_112)[int(2)] + r2_107 * (*dist_coeffs_112)[int(3)];
    float _S10808 = (*dist_coeffs_112)[int(1)] + r2_107 * _S10807;
    float _S10809 = (*dist_coeffs_112)[int(0)] + r2_107 * _S10808;
    float radial_9 = 1.0f + r2_107 * _S10809;
    float2  _S10810 = make_float2 (radial_9);
    float _S10811 = _S10794 * u_112;
    float _S10812 = 2.0f * u_112;
    float _S10813 = _S10797 * u_112;
    float _S10814 = 2.0f * v_112;
    float2  _S10815 = _S10805 * make_float2 (radial_9) + make_float2 (_S10811 * v_112 + (*dist_coeffs_112)[int(5)] * (r2_107 + _S10812 * u_112) + (*dist_coeffs_112)[int(6)] * r2_107, _S10813 * v_112 + (*dist_coeffs_112)[int(4)] * (r2_107 + _S10814 * v_112) + (*dist_coeffs_112)[int(7)] * r2_107);
    float2  _S10816 = _S10815 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10815.x + (*dist_coeffs_112)[int(9)] * _S10815.y, 0.0f);
    float _S10817 = fx_109 * _S10816.x + cx_104;
    float _S10818 = fy_109 * _S10816.y + cy_104;
    float2  _S10819 = float2 {_S10758.x, _S10758.y};
    float2  _S10820 = _S10819 / make_float2 (_S10759);
    float2  _S10821 = make_float2 (_S10759 * _S10759);
    float u_113 = _S10820.x;
    float v_113 = _S10820.y;
    float r2_108 = u_113 * u_113 + v_113 * v_113;
    float _S10822 = (*dist_coeffs_112)[int(2)] + r2_108 * (*dist_coeffs_112)[int(3)];
    float _S10823 = (*dist_coeffs_112)[int(1)] + r2_108 * _S10822;
    float _S10824 = (*dist_coeffs_112)[int(0)] + r2_108 * _S10823;
    float radial_10 = 1.0f + r2_108 * _S10824;
    float2  _S10825 = make_float2 (radial_10);
    float _S10826 = _S10794 * u_113;
    float _S10827 = 2.0f * u_113;
    float _S10828 = _S10797 * u_113;
    float _S10829 = 2.0f * v_113;
    float2  _S10830 = _S10820 * make_float2 (radial_10) + make_float2 (_S10826 * v_113 + (*dist_coeffs_112)[int(5)] * (r2_108 + _S10827 * u_113) + (*dist_coeffs_112)[int(6)] * r2_108, _S10828 * v_113 + (*dist_coeffs_112)[int(4)] * (r2_108 + _S10829 * v_113) + (*dist_coeffs_112)[int(7)] * r2_108);
    float2  _S10831 = _S10830 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10830.x + (*dist_coeffs_112)[int(9)] * _S10830.y, 0.0f);
    float _S10832 = fx_109 * _S10831.x + cx_104;
    float _S10833 = fy_109 * _S10831.y + cy_104;
    float2  _S10834 = float2 {_S10763.x, _S10763.y};
    float2  _S10835 = _S10834 / make_float2 (_S10764);
    float2  _S10836 = make_float2 (_S10764 * _S10764);
    float u_114 = _S10835.x;
    float v_114 = _S10835.y;
    float r2_109 = u_114 * u_114 + v_114 * v_114;
    float _S10837 = (*dist_coeffs_112)[int(2)] + r2_109 * (*dist_coeffs_112)[int(3)];
    float _S10838 = (*dist_coeffs_112)[int(1)] + r2_109 * _S10837;
    float _S10839 = (*dist_coeffs_112)[int(0)] + r2_109 * _S10838;
    float radial_11 = 1.0f + r2_109 * _S10839;
    float2  _S10840 = make_float2 (radial_11);
    float _S10841 = _S10794 * u_114;
    float _S10842 = 2.0f * u_114;
    float _S10843 = _S10797 * u_114;
    float _S10844 = 2.0f * v_114;
    float2  _S10845 = _S10835 * make_float2 (radial_11) + make_float2 (_S10841 * v_114 + (*dist_coeffs_112)[int(5)] * (r2_109 + _S10842 * u_114) + (*dist_coeffs_112)[int(6)] * r2_109, _S10843 * v_114 + (*dist_coeffs_112)[int(4)] * (r2_109 + _S10844 * v_114) + (*dist_coeffs_112)[int(7)] * r2_109);
    float2  _S10846 = _S10845 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10845.x + (*dist_coeffs_112)[int(9)] * _S10845.y, 0.0f);
    float _S10847 = fx_109 * _S10846.x + cx_104;
    float _S10848 = fy_109 * _S10846.y + cy_104;
    float2  _S10849 = float2 {_S10768.x, _S10768.y};
    float2  _S10850 = _S10849 / make_float2 (_S10769);
    float2  _S10851 = make_float2 (_S10769 * _S10769);
    float u_115 = _S10850.x;
    float v_115 = _S10850.y;
    float r2_110 = u_115 * u_115 + v_115 * v_115;
    float _S10852 = (*dist_coeffs_112)[int(2)] + r2_110 * (*dist_coeffs_112)[int(3)];
    float _S10853 = (*dist_coeffs_112)[int(1)] + r2_110 * _S10852;
    float _S10854 = (*dist_coeffs_112)[int(0)] + r2_110 * _S10853;
    float radial_12 = 1.0f + r2_110 * _S10854;
    float2  _S10855 = make_float2 (radial_12);
    float _S10856 = _S10794 * u_115;
    float _S10857 = 2.0f * u_115;
    float _S10858 = _S10797 * u_115;
    float _S10859 = 2.0f * v_115;
    float2  _S10860 = _S10850 * make_float2 (radial_12) + make_float2 (_S10856 * v_115 + (*dist_coeffs_112)[int(5)] * (r2_110 + _S10857 * u_115) + (*dist_coeffs_112)[int(6)] * r2_110, _S10858 * v_115 + (*dist_coeffs_112)[int(4)] * (r2_110 + _S10859 * v_115) + (*dist_coeffs_112)[int(7)] * r2_110);
    float2  _S10861 = _S10860 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10860.x + (*dist_coeffs_112)[int(9)] * _S10860.y, 0.0f);
    float _S10862 = fx_109 * _S10861.x + cx_104;
    float _S10863 = fy_109 * _S10861.y + cy_104;
    float2  _S10864 = float2 {_S10773.x, _S10773.y};
    float2  _S10865 = _S10864 / make_float2 (_S10774);
    float2  _S10866 = make_float2 (_S10774 * _S10774);
    float u_116 = _S10865.x;
    float v_116 = _S10865.y;
    float r2_111 = u_116 * u_116 + v_116 * v_116;
    float _S10867 = (*dist_coeffs_112)[int(2)] + r2_111 * (*dist_coeffs_112)[int(3)];
    float _S10868 = (*dist_coeffs_112)[int(1)] + r2_111 * _S10867;
    float _S10869 = (*dist_coeffs_112)[int(0)] + r2_111 * _S10868;
    float radial_13 = 1.0f + r2_111 * _S10869;
    float2  _S10870 = make_float2 (radial_13);
    float _S10871 = _S10794 * u_116;
    float _S10872 = 2.0f * u_116;
    float _S10873 = _S10797 * u_116;
    float _S10874 = 2.0f * v_116;
    float2  _S10875 = _S10865 * make_float2 (radial_13) + make_float2 (_S10871 * v_116 + (*dist_coeffs_112)[int(5)] * (r2_111 + _S10872 * u_116) + (*dist_coeffs_112)[int(6)] * r2_111, _S10873 * v_116 + (*dist_coeffs_112)[int(4)] * (r2_111 + _S10874 * v_116) + (*dist_coeffs_112)[int(7)] * r2_111);
    float2  _S10876 = _S10875 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10875.x + (*dist_coeffs_112)[int(9)] * _S10875.y, 0.0f);
    float _S10877 = fx_109 * _S10876.x + cx_104;
    float _S10878 = fy_109 * _S10876.y + cy_104;
    float2  _S10879 = float2 {_S10778.x, _S10778.y};
    float2  _S10880 = _S10879 / make_float2 (_S10779);
    float2  _S10881 = make_float2 (_S10779 * _S10779);
    float u_117 = _S10880.x;
    float v_117 = _S10880.y;
    float r2_112 = u_117 * u_117 + v_117 * v_117;
    float _S10882 = (*dist_coeffs_112)[int(2)] + r2_112 * (*dist_coeffs_112)[int(3)];
    float _S10883 = (*dist_coeffs_112)[int(1)] + r2_112 * _S10882;
    float _S10884 = (*dist_coeffs_112)[int(0)] + r2_112 * _S10883;
    float radial_14 = 1.0f + r2_112 * _S10884;
    float2  _S10885 = make_float2 (radial_14);
    float _S10886 = _S10794 * u_117;
    float _S10887 = 2.0f * u_117;
    float _S10888 = _S10797 * u_117;
    float _S10889 = 2.0f * v_117;
    float2  _S10890 = _S10880 * make_float2 (radial_14) + make_float2 (_S10886 * v_117 + (*dist_coeffs_112)[int(5)] * (r2_112 + _S10887 * u_117) + (*dist_coeffs_112)[int(6)] * r2_112, _S10888 * v_117 + (*dist_coeffs_112)[int(4)] * (r2_112 + _S10889 * v_117) + (*dist_coeffs_112)[int(7)] * r2_112);
    float2  _S10891 = _S10890 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10890.x + (*dist_coeffs_112)[int(9)] * _S10890.y, 0.0f);
    float _S10892 = fx_109 * _S10891.x + cx_104;
    float _S10893 = fy_109 * _S10891.y + cy_104;
    float2  _S10894 = float2 {_S10783.x, _S10783.y};
    float2  _S10895 = _S10894 / make_float2 (_S10784);
    float2  _S10896 = make_float2 (_S10784 * _S10784);
    float u_118 = _S10895.x;
    float v_118 = _S10895.y;
    float r2_113 = u_118 * u_118 + v_118 * v_118;
    float _S10897 = (*dist_coeffs_112)[int(2)] + r2_113 * (*dist_coeffs_112)[int(3)];
    float _S10898 = (*dist_coeffs_112)[int(1)] + r2_113 * _S10897;
    float _S10899 = (*dist_coeffs_112)[int(0)] + r2_113 * _S10898;
    float radial_15 = 1.0f + r2_113 * _S10899;
    float2  _S10900 = make_float2 (radial_15);
    float _S10901 = _S10794 * u_118;
    float _S10902 = 2.0f * u_118;
    float _S10903 = _S10797 * u_118;
    float _S10904 = 2.0f * v_118;
    float2  _S10905 = _S10895 * make_float2 (radial_15) + make_float2 (_S10901 * v_118 + (*dist_coeffs_112)[int(5)] * (r2_113 + _S10902 * u_118) + (*dist_coeffs_112)[int(6)] * r2_113, _S10903 * v_118 + (*dist_coeffs_112)[int(4)] * (r2_113 + _S10904 * v_118) + (*dist_coeffs_112)[int(7)] * r2_113);
    float2  _S10906 = _S10905 + make_float2 ((*dist_coeffs_112)[int(8)] * _S10905.x + (*dist_coeffs_112)[int(9)] * _S10905.y, 0.0f);
    float _S10907 = fx_109 * _S10906.x + cx_104;
    float _S10908 = fy_109 * _S10906.y + cy_104;
    float _S10909 = s_primal_ctx_max_0(_S10802, _S10817);
    float _S10910 = s_primal_ctx_min_0(_S10802, _S10817);
    float _S10911 = s_primal_ctx_max_0(_S10803, _S10818);
    float _S10912 = s_primal_ctx_min_0(_S10803, _S10818);
    float _S10913 = s_primal_ctx_max_0(_S10909, _S10832);
    float _S10914 = s_primal_ctx_min_0(_S10910, _S10832);
    float _S10915 = s_primal_ctx_max_0(_S10911, _S10833);
    float _S10916 = s_primal_ctx_min_0(_S10912, _S10833);
    float _S10917 = s_primal_ctx_max_0(_S10913, _S10847);
    float _S10918 = s_primal_ctx_min_0(_S10914, _S10847);
    float _S10919 = s_primal_ctx_max_0(_S10915, _S10848);
    float _S10920 = s_primal_ctx_min_0(_S10916, _S10848);
    float _S10921 = s_primal_ctx_max_0(_S10917, _S10862);
    float _S10922 = s_primal_ctx_min_0(_S10918, _S10862);
    float _S10923 = s_primal_ctx_max_0(_S10919, _S10863);
    float _S10924 = s_primal_ctx_min_0(_S10920, _S10863);
    float _S10925 = s_primal_ctx_max_0(_S10921, _S10877);
    float _S10926 = s_primal_ctx_min_0(_S10922, _S10877);
    float _S10927 = s_primal_ctx_max_0(_S10923, _S10878);
    float _S10928 = s_primal_ctx_min_0(_S10924, _S10878);
    float _S10929 = s_primal_ctx_max_0(_S10925, _S10892);
    float _S10930 = s_primal_ctx_min_0(_S10926, _S10892);
    float _S10931 = s_primal_ctx_max_0(_S10927, _S10893);
    float _S10932 = s_primal_ctx_min_0(_S10928, _S10893);
    float _S10933 = mean_c_85.z;
    float _S10934 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S10935 = _S10934 * (_S10933 + length_1(mean_c_85));
    Matrix<float, 3, 3>  _S10936 = transpose_0(R_76);
    float3  _S10937 = mean_c_85 - - s_primal_ctx_mul_0(_S10936, t_75);
    float _S10938 = _S10937.x;
    float _S10939 = _S10937.y;
    float _S10940 = _S10937.z;
    float _S10941 = _S10938 * _S10938 + _S10939 * _S10939 + _S10940 * _S10940;
    float _S10942 = s_primal_ctx_sqrt_0(_S10941);
    float x_91 = _S10938 / _S10942;
    float3  _S10943 = make_float3 (x_91);
    float _S10944 = _S10942 * _S10942;
    float y_36 = _S10939 / _S10942;
    float z_33 = _S10940 / _S10942;
    float3  _S10945 = make_float3 (z_33);
    float _S10946 = - y_36;
    float3  _S10947 = make_float3 (_S10946);
    float z2_118 = z_33 * z_33;
    float fTmp0B_33 = -1.09254848957061768f * z_33;
    float fC1_33 = x_91 * x_91 - y_36 * y_36;
    float _S10948 = 2.0f * x_91;
    float fS1_33 = _S10948 * y_36;
    float pSH6_15 = 0.94617468118667603f * z2_118 - 0.31539157032966614f;
    float3  _S10949 = make_float3 (pSH6_15);
    float pSH7_15 = fTmp0B_33 * x_91;
    float3  _S10950 = make_float3 (pSH7_15);
    float pSH5_15 = fTmp0B_33 * y_36;
    float3  _S10951 = make_float3 (pSH5_15);
    float pSH8_15 = 0.54627424478530884f * fC1_33;
    float3  _S10952 = make_float3 (pSH8_15);
    float pSH4_15 = 0.54627424478530884f * fS1_33;
    float3  _S10953 = make_float3 (pSH4_15);
    float fTmp0C_33 = -2.28522896766662598f * z2_118 + 0.4570457935333252f;
    float fTmp1B_33 = 1.44530570507049561f * z_33;
    float _S10954 = 1.86588168144226074f * z2_118 - 1.11952900886535645f;
    float pSH12_15 = z_33 * _S10954;
    float3  _S10955 = make_float3 (pSH12_15);
    float pSH13_15 = fTmp0C_33 * x_91;
    float3  _S10956 = make_float3 (pSH13_15);
    float pSH11_15 = fTmp0C_33 * y_36;
    float3  _S10957 = make_float3 (pSH11_15);
    float pSH14_15 = fTmp1B_33 * fC1_33;
    float3  _S10958 = make_float3 (pSH14_15);
    float pSH10_15 = fTmp1B_33 * fS1_33;
    float3  _S10959 = make_float3 (pSH10_15);
    float pSH15_15 = -0.59004360437393188f * (x_91 * fC1_33 - y_36 * fS1_33);
    float3  _S10960 = make_float3 (pSH15_15);
    float pSH9_15 = -0.59004360437393188f * (x_91 * fS1_33 + y_36 * fC1_33);
    float3  _S10961 = make_float3 (pSH9_15);
    float3  _S10962 = make_float3 (0.0f);
    float3  _S10963 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10964;
    (&_S10964)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_27)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S10946) * (*sh_coeffs_27)[int(1)] + make_float3 (z_33) * (*sh_coeffs_27)[int(2)] - make_float3 (x_91) * (*sh_coeffs_27)[int(3)]) + (make_float3 (pSH4_15) * (*sh_coeffs_27)[int(4)] + make_float3 (pSH5_15) * (*sh_coeffs_27)[int(5)] + make_float3 (pSH6_15) * (*sh_coeffs_27)[int(6)] + make_float3 (pSH7_15) * (*sh_coeffs_27)[int(7)] + make_float3 (pSH8_15) * (*sh_coeffs_27)[int(8)]) + (make_float3 (pSH9_15) * (*sh_coeffs_27)[int(9)] + make_float3 (pSH10_15) * (*sh_coeffs_27)[int(10)] + make_float3 (pSH11_15) * (*sh_coeffs_27)[int(11)] + make_float3 (pSH12_15) * (*sh_coeffs_27)[int(12)] + make_float3 (pSH13_15) * (*sh_coeffs_27)[int(13)] + make_float3 (pSH14_15) * (*sh_coeffs_27)[int(14)] + make_float3 (pSH15_15) * (*sh_coeffs_27)[int(15)]) + make_float3 (0.5f);
    (&_S10964)->differential_0 = _S10963;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10965;
    (&_S10965)->primal_0 = _S10962;
    (&_S10965)->differential_0 = _S10963;
    s_bwd_prop_max_0(&_S10964, &_S10965, v_rgb_22);
    float3  _S10966 = _S10960 * _S10964.differential_0;
    float3  _S10967 = (*sh_coeffs_27)[int(15)] * _S10964.differential_0;
    float3  _S10968 = _S10958 * _S10964.differential_0;
    float3  _S10969 = (*sh_coeffs_27)[int(14)] * _S10964.differential_0;
    float3  _S10970 = _S10956 * _S10964.differential_0;
    float3  _S10971 = (*sh_coeffs_27)[int(13)] * _S10964.differential_0;
    float3  _S10972 = _S10955 * _S10964.differential_0;
    float3  _S10973 = (*sh_coeffs_27)[int(12)] * _S10964.differential_0;
    float3  _S10974 = _S10957 * _S10964.differential_0;
    float3  _S10975 = (*sh_coeffs_27)[int(11)] * _S10964.differential_0;
    float3  _S10976 = _S10959 * _S10964.differential_0;
    float3  _S10977 = (*sh_coeffs_27)[int(10)] * _S10964.differential_0;
    float3  _S10978 = _S10961 * _S10964.differential_0;
    float3  _S10979 = (*sh_coeffs_27)[int(9)] * _S10964.differential_0;
    float s_diff_fS2_T_9 = -0.59004360437393188f * (_S10979.x + _S10979.y + _S10979.z);
    float s_diff_fC2_T_9 = -0.59004360437393188f * (_S10967.x + _S10967.y + _S10967.z);
    float _S10980 = _S10977.x + _S10977.y + _S10977.z;
    float _S10981 = _S10969.x + _S10969.y + _S10969.z;
    float _S10982 = _S10975.x + _S10975.y + _S10975.z;
    float _S10983 = _S10971.x + _S10971.y + _S10971.z;
    float _S10984 = _S10973.x + _S10973.y + _S10973.z;
    float _S10985 = - s_diff_fC2_T_9;
    float3  _S10986 = _S10952 * _S10964.differential_0;
    float3  _S10987 = (*sh_coeffs_27)[int(8)] * _S10964.differential_0;
    float3  _S10988 = _S10950 * _S10964.differential_0;
    float3  _S10989 = (*sh_coeffs_27)[int(7)] * _S10964.differential_0;
    float3  _S10990 = _S10949 * _S10964.differential_0;
    float3  _S10991 = (*sh_coeffs_27)[int(6)] * _S10964.differential_0;
    float3  _S10992 = _S10951 * _S10964.differential_0;
    float3  _S10993 = (*sh_coeffs_27)[int(5)] * _S10964.differential_0;
    float3  _S10994 = _S10953 * _S10964.differential_0;
    float3  _S10995 = (*sh_coeffs_27)[int(4)] * _S10964.differential_0;
    float _S10996 = _S10993.x + _S10993.y + _S10993.z;
    float _S10997 = _S10989.x + _S10989.y + _S10989.z;
    float _S10998 = fTmp1B_33 * _S10980 + x_91 * s_diff_fS2_T_9 + y_36 * _S10985 + 0.54627424478530884f * (_S10995.x + _S10995.y + _S10995.z);
    float _S10999 = fTmp1B_33 * _S10981 + y_36 * s_diff_fS2_T_9 + x_91 * s_diff_fC2_T_9 + 0.54627424478530884f * (_S10987.x + _S10987.y + _S10987.z);
    float _S11000 = y_36 * - _S10999;
    float _S11001 = x_91 * _S10999;
    float _S11002 = z_33 * (1.86588168144226074f * (z_33 * _S10984) + -2.28522896766662598f * (y_36 * _S10982 + x_91 * _S10983) + 0.94617468118667603f * (_S10991.x + _S10991.y + _S10991.z));
    float3  _S11003 = make_float3 (0.48860251903533936f) * _S10964.differential_0;
    float3  _S11004 = - _S11003;
    float3  _S11005 = _S10943 * _S11004;
    float3  _S11006 = (*sh_coeffs_27)[int(3)] * _S11004;
    float3  _S11007 = _S10945 * _S11003;
    float3  _S11008 = (*sh_coeffs_27)[int(2)] * _S11003;
    float3  _S11009 = _S10947 * _S11003;
    float3  _S11010 = (*sh_coeffs_27)[int(1)] * _S11003;
    float _S11011 = (_S10954 * _S10984 + 1.44530570507049561f * (fS1_33 * _S10980 + fC1_33 * _S10981) + -1.09254848957061768f * (y_36 * _S10996 + x_91 * _S10997) + _S11002 + _S11002 + _S11008.x + _S11008.y + _S11008.z) / _S10944;
    float _S11012 = _S10942 * _S11011;
    float _S11013 = (fTmp0C_33 * _S10982 + fC1_33 * s_diff_fS2_T_9 + fS1_33 * _S10985 + fTmp0B_33 * _S10996 + _S10948 * _S10998 + _S11000 + _S11000 + - (_S11010.x + _S11010.y + _S11010.z)) / _S10944;
    float _S11014 = _S10942 * _S11013;
    float _S11015 = (fTmp0C_33 * _S10983 + fS1_33 * s_diff_fS2_T_9 + fC1_33 * s_diff_fC2_T_9 + fTmp0B_33 * _S10997 + 2.0f * (y_36 * _S10998) + _S11001 + _S11001 + _S11006.x + _S11006.y + _S11006.z) / _S10944;
    float _S11016 = _S10942 * _S11015;
    float _S11017 = _S10940 * - _S11011 + _S10939 * - _S11013 + _S10938 * - _S11015;
    DiffPair_float_0 _S11018;
    (&_S11018)->primal_0 = _S10941;
    (&_S11018)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S11018, _S11017);
    float _S11019 = _S10940 * _S11018.differential_0;
    float _S11020 = _S10939 * _S11018.differential_0;
    float _S11021 = _S10938 * _S11018.differential_0;
    float3  _S11022 = make_float3 (0.282094806432724f) * _S10964.differential_0;
    float3  _S11023 = make_float3 (_S11016 + _S11021 + _S11021, _S11014 + _S11020 + _S11020, _S11012 + _S11019 + _S11019);
    float3  _S11024 = - - _S11023;
    Matrix<float, 3, 3>  _S11025 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11026;
    (&_S11026)->primal_0 = _S10936;
    (&_S11026)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11027;
    (&_S11027)->primal_0 = t_75;
    (&_S11027)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11026, &_S11027, _S11024);
    Matrix<float, 3, 3>  _S11028 = transpose_0(_S11026.differential_0);
    DiffPair_float_0 _S11029;
    (&_S11029)->primal_0 = _S10933;
    (&_S11029)->differential_0 = 0.0f;
    DiffPair_float_0 _S11030;
    (&_S11030)->primal_0 = _S10935;
    (&_S11030)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11029, &_S11030, 0.0f);
    float _S11031 = _S10934 * _S11030.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11032;
    (&_S11032)->primal_0 = mean_c_85;
    (&_S11032)->differential_0 = _S10963;
    s_bwd_length_impl_1(&_S11032, _S11031);
    float _S11033 = _S11029.differential_0 + _S11031;
    DiffPair_float_0 _S11034;
    (&_S11034)->primal_0 = _S10932;
    (&_S11034)->differential_0 = 0.0f;
    DiffPair_float_0 _S11035;
    (&_S11035)->primal_0 = _S10908;
    (&_S11035)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11034, &_S11035, 0.0f);
    DiffPair_float_0 _S11036;
    (&_S11036)->primal_0 = _S10931;
    (&_S11036)->differential_0 = 0.0f;
    DiffPair_float_0 _S11037;
    (&_S11037)->primal_0 = _S10908;
    (&_S11037)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11036, &_S11037, 0.0f);
    DiffPair_float_0 _S11038;
    (&_S11038)->primal_0 = _S10930;
    (&_S11038)->differential_0 = 0.0f;
    DiffPair_float_0 _S11039;
    (&_S11039)->primal_0 = _S10907;
    (&_S11039)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11038, &_S11039, 0.0f);
    DiffPair_float_0 _S11040;
    (&_S11040)->primal_0 = _S10929;
    (&_S11040)->differential_0 = 0.0f;
    DiffPair_float_0 _S11041;
    (&_S11041)->primal_0 = _S10907;
    (&_S11041)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11040, &_S11041, 0.0f);
    DiffPair_float_0 _S11042;
    (&_S11042)->primal_0 = _S10928;
    (&_S11042)->differential_0 = 0.0f;
    DiffPair_float_0 _S11043;
    (&_S11043)->primal_0 = _S10893;
    (&_S11043)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11042, &_S11043, _S11034.differential_0);
    DiffPair_float_0 _S11044;
    (&_S11044)->primal_0 = _S10927;
    (&_S11044)->differential_0 = 0.0f;
    DiffPair_float_0 _S11045;
    (&_S11045)->primal_0 = _S10893;
    (&_S11045)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11044, &_S11045, _S11036.differential_0);
    DiffPair_float_0 _S11046;
    (&_S11046)->primal_0 = _S10926;
    (&_S11046)->differential_0 = 0.0f;
    DiffPair_float_0 _S11047;
    (&_S11047)->primal_0 = _S10892;
    (&_S11047)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11046, &_S11047, _S11038.differential_0);
    DiffPair_float_0 _S11048;
    (&_S11048)->primal_0 = _S10925;
    (&_S11048)->differential_0 = 0.0f;
    DiffPair_float_0 _S11049;
    (&_S11049)->primal_0 = _S10892;
    (&_S11049)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11048, &_S11049, _S11040.differential_0);
    DiffPair_float_0 _S11050;
    (&_S11050)->primal_0 = _S10924;
    (&_S11050)->differential_0 = 0.0f;
    DiffPair_float_0 _S11051;
    (&_S11051)->primal_0 = _S10878;
    (&_S11051)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11050, &_S11051, _S11042.differential_0);
    DiffPair_float_0 _S11052;
    (&_S11052)->primal_0 = _S10923;
    (&_S11052)->differential_0 = 0.0f;
    DiffPair_float_0 _S11053;
    (&_S11053)->primal_0 = _S10878;
    (&_S11053)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11052, &_S11053, _S11044.differential_0);
    DiffPair_float_0 _S11054;
    (&_S11054)->primal_0 = _S10922;
    (&_S11054)->differential_0 = 0.0f;
    DiffPair_float_0 _S11055;
    (&_S11055)->primal_0 = _S10877;
    (&_S11055)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11054, &_S11055, _S11046.differential_0);
    DiffPair_float_0 _S11056;
    (&_S11056)->primal_0 = _S10921;
    (&_S11056)->differential_0 = 0.0f;
    DiffPair_float_0 _S11057;
    (&_S11057)->primal_0 = _S10877;
    (&_S11057)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11056, &_S11057, _S11048.differential_0);
    DiffPair_float_0 _S11058;
    (&_S11058)->primal_0 = _S10920;
    (&_S11058)->differential_0 = 0.0f;
    DiffPair_float_0 _S11059;
    (&_S11059)->primal_0 = _S10863;
    (&_S11059)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11058, &_S11059, _S11050.differential_0);
    DiffPair_float_0 _S11060;
    (&_S11060)->primal_0 = _S10919;
    (&_S11060)->differential_0 = 0.0f;
    DiffPair_float_0 _S11061;
    (&_S11061)->primal_0 = _S10863;
    (&_S11061)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11060, &_S11061, _S11052.differential_0);
    DiffPair_float_0 _S11062;
    (&_S11062)->primal_0 = _S10918;
    (&_S11062)->differential_0 = 0.0f;
    DiffPair_float_0 _S11063;
    (&_S11063)->primal_0 = _S10862;
    (&_S11063)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11062, &_S11063, _S11054.differential_0);
    DiffPair_float_0 _S11064;
    (&_S11064)->primal_0 = _S10917;
    (&_S11064)->differential_0 = 0.0f;
    DiffPair_float_0 _S11065;
    (&_S11065)->primal_0 = _S10862;
    (&_S11065)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11064, &_S11065, _S11056.differential_0);
    DiffPair_float_0 _S11066;
    (&_S11066)->primal_0 = _S10916;
    (&_S11066)->differential_0 = 0.0f;
    DiffPair_float_0 _S11067;
    (&_S11067)->primal_0 = _S10848;
    (&_S11067)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11066, &_S11067, _S11058.differential_0);
    DiffPair_float_0 _S11068;
    (&_S11068)->primal_0 = _S10915;
    (&_S11068)->differential_0 = 0.0f;
    DiffPair_float_0 _S11069;
    (&_S11069)->primal_0 = _S10848;
    (&_S11069)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11068, &_S11069, _S11060.differential_0);
    DiffPair_float_0 _S11070;
    (&_S11070)->primal_0 = _S10914;
    (&_S11070)->differential_0 = 0.0f;
    DiffPair_float_0 _S11071;
    (&_S11071)->primal_0 = _S10847;
    (&_S11071)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11070, &_S11071, _S11062.differential_0);
    DiffPair_float_0 _S11072;
    (&_S11072)->primal_0 = _S10913;
    (&_S11072)->differential_0 = 0.0f;
    DiffPair_float_0 _S11073;
    (&_S11073)->primal_0 = _S10847;
    (&_S11073)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11072, &_S11073, _S11064.differential_0);
    DiffPair_float_0 _S11074;
    (&_S11074)->primal_0 = _S10912;
    (&_S11074)->differential_0 = 0.0f;
    DiffPair_float_0 _S11075;
    (&_S11075)->primal_0 = _S10833;
    (&_S11075)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11074, &_S11075, _S11066.differential_0);
    DiffPair_float_0 _S11076;
    (&_S11076)->primal_0 = _S10911;
    (&_S11076)->differential_0 = 0.0f;
    DiffPair_float_0 _S11077;
    (&_S11077)->primal_0 = _S10833;
    (&_S11077)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11076, &_S11077, _S11068.differential_0);
    DiffPair_float_0 _S11078;
    (&_S11078)->primal_0 = _S10910;
    (&_S11078)->differential_0 = 0.0f;
    DiffPair_float_0 _S11079;
    (&_S11079)->primal_0 = _S10832;
    (&_S11079)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11078, &_S11079, _S11070.differential_0);
    DiffPair_float_0 _S11080;
    (&_S11080)->primal_0 = _S10909;
    (&_S11080)->differential_0 = 0.0f;
    DiffPair_float_0 _S11081;
    (&_S11081)->primal_0 = _S10832;
    (&_S11081)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11080, &_S11081, _S11072.differential_0);
    DiffPair_float_0 _S11082;
    (&_S11082)->primal_0 = _S10803;
    (&_S11082)->differential_0 = 0.0f;
    DiffPair_float_0 _S11083;
    (&_S11083)->primal_0 = _S10818;
    (&_S11083)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11082, &_S11083, _S11074.differential_0);
    DiffPair_float_0 _S11084;
    (&_S11084)->primal_0 = _S10803;
    (&_S11084)->differential_0 = 0.0f;
    DiffPair_float_0 _S11085;
    (&_S11085)->primal_0 = _S10818;
    (&_S11085)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11084, &_S11085, _S11076.differential_0);
    DiffPair_float_0 _S11086;
    (&_S11086)->primal_0 = _S10802;
    (&_S11086)->differential_0 = 0.0f;
    DiffPair_float_0 _S11087;
    (&_S11087)->primal_0 = _S10817;
    (&_S11087)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11086, &_S11087, _S11078.differential_0);
    DiffPair_float_0 _S11088;
    (&_S11088)->primal_0 = _S10802;
    (&_S11088)->differential_0 = 0.0f;
    DiffPair_float_0 _S11089;
    (&_S11089)->primal_0 = _S10817;
    (&_S11089)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11088, &_S11089, _S11080.differential_0);
    float _S11090 = fx_109 * (_S11039.differential_0 + _S11041.differential_0);
    float2  _S11091 = make_float2 (_S11090, fy_109 * (_S11035.differential_0 + _S11037.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11090, (*dist_coeffs_112)[int(9)] * _S11090);
    float2  _S11092 = _S10895 * _S11091;
    float _S11093 = (*dist_coeffs_112)[int(4)] * _S11091.y;
    float _S11094 = (*dist_coeffs_112)[int(5)] * _S11091.x;
    float _S11095 = _S11092.x + _S11092.y;
    float _S11096 = r2_113 * _S11095;
    float _S11097 = r2_113 * _S11096;
    float _S11098 = (*dist_coeffs_112)[int(7)] * _S11091.y + _S11093 + (*dist_coeffs_112)[int(6)] * _S11091.x + _S11094 + _S10899 * _S11095 + _S10898 * _S11096 + _S10897 * _S11097 + (*dist_coeffs_112)[int(3)] * (r2_113 * _S11097);
    float _S11099 = v_118 * _S11098;
    float _S11100 = u_118 * _S11098;
    float2  _S11101 = (_S10900 * _S11091 + make_float2 (_S10797 * (v_118 * _S11091.y) + _S10902 * _S11094 + 2.0f * (u_118 * _S11094) + _S10794 * (v_118 * _S11091.x) + _S11100 + _S11100, _S10904 * _S11093 + 2.0f * (v_118 * _S11093) + _S10903 * _S11091.y + _S10901 * _S11091.x + _S11099 + _S11099)) / _S10896;
    float2  _S11102 = _S10894 * - _S11101;
    float2  _S11103 = _S10785 * _S11101;
    float _S11104 = fx_109 * (_S11047.differential_0 + _S11049.differential_0);
    float2  _S11105 = make_float2 (_S11104, fy_109 * (_S11043.differential_0 + _S11045.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11104, (*dist_coeffs_112)[int(9)] * _S11104);
    float2  _S11106 = _S10880 * _S11105;
    float _S11107 = (*dist_coeffs_112)[int(4)] * _S11105.y;
    float _S11108 = (*dist_coeffs_112)[int(5)] * _S11105.x;
    float _S11109 = _S11106.x + _S11106.y;
    float _S11110 = r2_112 * _S11109;
    float _S11111 = r2_112 * _S11110;
    float _S11112 = (*dist_coeffs_112)[int(7)] * _S11105.y + _S11107 + (*dist_coeffs_112)[int(6)] * _S11105.x + _S11108 + _S10884 * _S11109 + _S10883 * _S11110 + _S10882 * _S11111 + (*dist_coeffs_112)[int(3)] * (r2_112 * _S11111);
    float _S11113 = v_117 * _S11112;
    float _S11114 = u_117 * _S11112;
    float2  _S11115 = (_S10885 * _S11105 + make_float2 (_S10797 * (v_117 * _S11105.y) + _S10887 * _S11108 + 2.0f * (u_117 * _S11108) + _S10794 * (v_117 * _S11105.x) + _S11114 + _S11114, _S10889 * _S11107 + 2.0f * (v_117 * _S11107) + _S10888 * _S11105.y + _S10886 * _S11105.x + _S11113 + _S11113)) / _S10881;
    float2  _S11116 = _S10879 * - _S11115;
    float2  _S11117 = _S10780 * _S11115;
    float _S11118 = fx_109 * (_S11055.differential_0 + _S11057.differential_0);
    float2  _S11119 = make_float2 (_S11118, fy_109 * (_S11051.differential_0 + _S11053.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11118, (*dist_coeffs_112)[int(9)] * _S11118);
    float2  _S11120 = _S10865 * _S11119;
    float _S11121 = (*dist_coeffs_112)[int(4)] * _S11119.y;
    float _S11122 = (*dist_coeffs_112)[int(5)] * _S11119.x;
    float _S11123 = _S11120.x + _S11120.y;
    float _S11124 = r2_111 * _S11123;
    float _S11125 = r2_111 * _S11124;
    float _S11126 = (*dist_coeffs_112)[int(7)] * _S11119.y + _S11121 + (*dist_coeffs_112)[int(6)] * _S11119.x + _S11122 + _S10869 * _S11123 + _S10868 * _S11124 + _S10867 * _S11125 + (*dist_coeffs_112)[int(3)] * (r2_111 * _S11125);
    float _S11127 = v_116 * _S11126;
    float _S11128 = u_116 * _S11126;
    float2  _S11129 = (_S10870 * _S11119 + make_float2 (_S10797 * (v_116 * _S11119.y) + _S10872 * _S11122 + 2.0f * (u_116 * _S11122) + _S10794 * (v_116 * _S11119.x) + _S11128 + _S11128, _S10874 * _S11121 + 2.0f * (v_116 * _S11121) + _S10873 * _S11119.y + _S10871 * _S11119.x + _S11127 + _S11127)) / _S10866;
    float2  _S11130 = _S10864 * - _S11129;
    float2  _S11131 = _S10775 * _S11129;
    float _S11132 = fx_109 * (_S11063.differential_0 + _S11065.differential_0);
    float2  _S11133 = make_float2 (_S11132, fy_109 * (_S11059.differential_0 + _S11061.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11132, (*dist_coeffs_112)[int(9)] * _S11132);
    float2  _S11134 = _S10850 * _S11133;
    float _S11135 = (*dist_coeffs_112)[int(4)] * _S11133.y;
    float _S11136 = (*dist_coeffs_112)[int(5)] * _S11133.x;
    float _S11137 = _S11134.x + _S11134.y;
    float _S11138 = r2_110 * _S11137;
    float _S11139 = r2_110 * _S11138;
    float _S11140 = (*dist_coeffs_112)[int(7)] * _S11133.y + _S11135 + (*dist_coeffs_112)[int(6)] * _S11133.x + _S11136 + _S10854 * _S11137 + _S10853 * _S11138 + _S10852 * _S11139 + (*dist_coeffs_112)[int(3)] * (r2_110 * _S11139);
    float _S11141 = v_115 * _S11140;
    float _S11142 = u_115 * _S11140;
    float2  _S11143 = (_S10855 * _S11133 + make_float2 (_S10797 * (v_115 * _S11133.y) + _S10857 * _S11136 + 2.0f * (u_115 * _S11136) + _S10794 * (v_115 * _S11133.x) + _S11142 + _S11142, _S10859 * _S11135 + 2.0f * (v_115 * _S11135) + _S10858 * _S11133.y + _S10856 * _S11133.x + _S11141 + _S11141)) / _S10851;
    float2  _S11144 = _S10849 * - _S11143;
    float2  _S11145 = _S10770 * _S11143;
    float _S11146 = fx_109 * (_S11071.differential_0 + _S11073.differential_0);
    float2  _S11147 = make_float2 (_S11146, fy_109 * (_S11067.differential_0 + _S11069.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11146, (*dist_coeffs_112)[int(9)] * _S11146);
    float2  _S11148 = _S10835 * _S11147;
    float _S11149 = (*dist_coeffs_112)[int(4)] * _S11147.y;
    float _S11150 = (*dist_coeffs_112)[int(5)] * _S11147.x;
    float _S11151 = _S11148.x + _S11148.y;
    float _S11152 = r2_109 * _S11151;
    float _S11153 = r2_109 * _S11152;
    float _S11154 = (*dist_coeffs_112)[int(7)] * _S11147.y + _S11149 + (*dist_coeffs_112)[int(6)] * _S11147.x + _S11150 + _S10839 * _S11151 + _S10838 * _S11152 + _S10837 * _S11153 + (*dist_coeffs_112)[int(3)] * (r2_109 * _S11153);
    float _S11155 = v_114 * _S11154;
    float _S11156 = u_114 * _S11154;
    float2  _S11157 = (_S10840 * _S11147 + make_float2 (_S10797 * (v_114 * _S11147.y) + _S10842 * _S11150 + 2.0f * (u_114 * _S11150) + _S10794 * (v_114 * _S11147.x) + _S11156 + _S11156, _S10844 * _S11149 + 2.0f * (v_114 * _S11149) + _S10843 * _S11147.y + _S10841 * _S11147.x + _S11155 + _S11155)) / _S10836;
    float2  _S11158 = _S10834 * - _S11157;
    float2  _S11159 = _S10765 * _S11157;
    float _S11160 = fx_109 * (_S11079.differential_0 + _S11081.differential_0);
    float2  _S11161 = make_float2 (_S11160, fy_109 * (_S11075.differential_0 + _S11077.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11160, (*dist_coeffs_112)[int(9)] * _S11160);
    float2  _S11162 = _S10820 * _S11161;
    float _S11163 = (*dist_coeffs_112)[int(4)] * _S11161.y;
    float _S11164 = (*dist_coeffs_112)[int(5)] * _S11161.x;
    float _S11165 = _S11162.x + _S11162.y;
    float _S11166 = r2_108 * _S11165;
    float _S11167 = r2_108 * _S11166;
    float _S11168 = (*dist_coeffs_112)[int(7)] * _S11161.y + _S11163 + (*dist_coeffs_112)[int(6)] * _S11161.x + _S11164 + _S10824 * _S11165 + _S10823 * _S11166 + _S10822 * _S11167 + (*dist_coeffs_112)[int(3)] * (r2_108 * _S11167);
    float _S11169 = v_113 * _S11168;
    float _S11170 = u_113 * _S11168;
    float2  _S11171 = (_S10825 * _S11161 + make_float2 (_S10797 * (v_113 * _S11161.y) + _S10827 * _S11164 + 2.0f * (u_113 * _S11164) + _S10794 * (v_113 * _S11161.x) + _S11170 + _S11170, _S10829 * _S11163 + 2.0f * (v_113 * _S11163) + _S10828 * _S11161.y + _S10826 * _S11161.x + _S11169 + _S11169)) / _S10821;
    float2  _S11172 = _S10819 * - _S11171;
    float2  _S11173 = _S10760 * _S11171;
    float _S11174 = fx_109 * (_S11087.differential_0 + _S11089.differential_0);
    float2  _S11175 = make_float2 (_S11174, fy_109 * (_S11083.differential_0 + _S11085.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11174, (*dist_coeffs_112)[int(9)] * _S11174);
    float2  _S11176 = _S10805 * _S11175;
    float _S11177 = (*dist_coeffs_112)[int(4)] * _S11175.y;
    float _S11178 = (*dist_coeffs_112)[int(5)] * _S11175.x;
    float _S11179 = _S11176.x + _S11176.y;
    float _S11180 = r2_107 * _S11179;
    float _S11181 = r2_107 * _S11180;
    float _S11182 = (*dist_coeffs_112)[int(7)] * _S11175.y + _S11177 + (*dist_coeffs_112)[int(6)] * _S11175.x + _S11178 + _S10809 * _S11179 + _S10808 * _S11180 + _S10807 * _S11181 + (*dist_coeffs_112)[int(3)] * (r2_107 * _S11181);
    float _S11183 = v_112 * _S11182;
    float _S11184 = u_112 * _S11182;
    float2  _S11185 = (_S10810 * _S11175 + make_float2 (_S10797 * (v_112 * _S11175.y) + _S10812 * _S11178 + 2.0f * (u_112 * _S11178) + _S10794 * (v_112 * _S11175.x) + _S11184 + _S11184, _S10814 * _S11177 + 2.0f * (v_112 * _S11177) + _S10813 * _S11175.y + _S10811 * _S11175.x + _S11183 + _S11183)) / _S10806;
    float2  _S11186 = _S10804 * - _S11185;
    float2  _S11187 = _S10755 * _S11185;
    float _S11188 = fx_109 * (_S11086.differential_0 + _S11088.differential_0);
    float2  _S11189 = make_float2 (_S11188, fy_109 * (_S11082.differential_0 + _S11084.differential_0)) + make_float2 ((*dist_coeffs_112)[int(8)] * _S11188, (*dist_coeffs_112)[int(9)] * _S11188);
    float2  _S11190 = _S10788 * _S11189;
    float _S11191 = (*dist_coeffs_112)[int(4)] * _S11189.y;
    float _S11192 = (*dist_coeffs_112)[int(5)] * _S11189.x;
    float _S11193 = _S11190.x + _S11190.y;
    float _S11194 = r2_106 * _S11193;
    float _S11195 = r2_106 * _S11194;
    float _S11196 = (*dist_coeffs_112)[int(7)] * _S11189.y + _S11191 + (*dist_coeffs_112)[int(6)] * _S11189.x + _S11192 + _S10792 * _S11193 + _S10791 * _S11194 + _S10790 * _S11195 + (*dist_coeffs_112)[int(3)] * (r2_106 * _S11195);
    float _S11197 = v_111 * _S11196;
    float _S11198 = u_111 * _S11196;
    float2  _S11199 = (_S10793 * _S11189 + make_float2 (_S10797 * (v_111 * _S11189.y) + _S10796 * _S11192 + 2.0f * (u_111 * _S11192) + _S10794 * (v_111 * _S11189.x) + _S11198 + _S11198, _S10799 * _S11191 + 2.0f * (v_111 * _S11191) + _S10798 * _S11189.y + _S10795 * _S11189.x + _S11197 + _S11197)) / _S10789;
    float2  _S11200 = _S10787 * - _S11199;
    float2  _S11201 = _S10750 * _S11199;
    float3  _S11202 = _S11023 + _S11032.differential_0 + make_float3 (0.0f, 0.0f, _S11033);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11203;
    (&_S11203)->primal_0 = R_76;
    (&_S11203)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11204;
    (&_S11204)->primal_0 = _S10786;
    (&_S11204)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11203, &_S11204, _S11202);
    DiffPair_float_0 _S11205;
    (&_S11205)->primal_0 = _S10782;
    (&_S11205)->differential_0 = 0.0f;
    DiffPair_float_0 _S11206;
    (&_S11206)->primal_0 = _S10784;
    (&_S11206)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11205, &_S11206, 0.0f);
    DiffPair_float_0 _S11207;
    (&_S11207)->primal_0 = _S10781;
    (&_S11207)->differential_0 = 0.0f;
    DiffPair_float_0 _S11208;
    (&_S11208)->primal_0 = _S10784;
    (&_S11208)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11207, &_S11208, 0.0f);
    float3  _S11209 = make_float3 (_S11103.x, _S11103.y, _S11206.differential_0 + _S11208.differential_0 + _S11102.x + _S11102.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11210;
    (&_S11210)->primal_0 = R_76;
    (&_S11210)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11211;
    (&_S11211)->primal_0 = pos_i_6;
    (&_S11211)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11210, &_S11211, _S11209);
    DiffPair_float_0 _S11212;
    (&_S11212)->primal_0 = _S10777;
    (&_S11212)->differential_0 = 0.0f;
    DiffPair_float_0 _S11213;
    (&_S11213)->primal_0 = _S10779;
    (&_S11213)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11212, &_S11213, _S11205.differential_0);
    DiffPair_float_0 _S11214;
    (&_S11214)->primal_0 = _S10776;
    (&_S11214)->differential_0 = 0.0f;
    DiffPair_float_0 _S11215;
    (&_S11215)->primal_0 = _S10779;
    (&_S11215)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11214, &_S11215, _S11207.differential_0);
    float3  _S11216 = make_float3 (_S11117.x, _S11117.y, _S11213.differential_0 + _S11215.differential_0 + _S11116.x + _S11116.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11217;
    (&_S11217)->primal_0 = R_76;
    (&_S11217)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11218;
    (&_S11218)->primal_0 = pos_i_5;
    (&_S11218)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11217, &_S11218, _S11216);
    DiffPair_float_0 _S11219;
    (&_S11219)->primal_0 = _S10772;
    (&_S11219)->differential_0 = 0.0f;
    DiffPair_float_0 _S11220;
    (&_S11220)->primal_0 = _S10774;
    (&_S11220)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11219, &_S11220, _S11212.differential_0);
    DiffPair_float_0 _S11221;
    (&_S11221)->primal_0 = _S10771;
    (&_S11221)->differential_0 = 0.0f;
    DiffPair_float_0 _S11222;
    (&_S11222)->primal_0 = _S10774;
    (&_S11222)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11221, &_S11222, _S11214.differential_0);
    float3  _S11223 = make_float3 (_S11131.x, _S11131.y, _S11220.differential_0 + _S11222.differential_0 + _S11130.x + _S11130.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11224;
    (&_S11224)->primal_0 = R_76;
    (&_S11224)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11225;
    (&_S11225)->primal_0 = pos_i_4;
    (&_S11225)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11224, &_S11225, _S11223);
    DiffPair_float_0 _S11226;
    (&_S11226)->primal_0 = _S10767;
    (&_S11226)->differential_0 = 0.0f;
    DiffPair_float_0 _S11227;
    (&_S11227)->primal_0 = _S10769;
    (&_S11227)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11226, &_S11227, _S11219.differential_0);
    DiffPair_float_0 _S11228;
    (&_S11228)->primal_0 = _S10766;
    (&_S11228)->differential_0 = 0.0f;
    DiffPair_float_0 _S11229;
    (&_S11229)->primal_0 = _S10769;
    (&_S11229)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11228, &_S11229, _S11221.differential_0);
    float3  _S11230 = make_float3 (_S11145.x, _S11145.y, _S11227.differential_0 + _S11229.differential_0 + _S11144.x + _S11144.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11231;
    (&_S11231)->primal_0 = R_76;
    (&_S11231)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11232;
    (&_S11232)->primal_0 = pos_i_3;
    (&_S11232)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11231, &_S11232, _S11230);
    DiffPair_float_0 _S11233;
    (&_S11233)->primal_0 = _S10762;
    (&_S11233)->differential_0 = 0.0f;
    DiffPair_float_0 _S11234;
    (&_S11234)->primal_0 = _S10764;
    (&_S11234)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11233, &_S11234, _S11226.differential_0);
    DiffPair_float_0 _S11235;
    (&_S11235)->primal_0 = _S10761;
    (&_S11235)->differential_0 = 0.0f;
    DiffPair_float_0 _S11236;
    (&_S11236)->primal_0 = _S10764;
    (&_S11236)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11235, &_S11236, _S11228.differential_0);
    float3  _S11237 = make_float3 (_S11159.x, _S11159.y, _S11234.differential_0 + _S11236.differential_0 + _S11158.x + _S11158.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11238;
    (&_S11238)->primal_0 = R_76;
    (&_S11238)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11239;
    (&_S11239)->primal_0 = pos_i_2;
    (&_S11239)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11238, &_S11239, _S11237);
    DiffPair_float_0 _S11240;
    (&_S11240)->primal_0 = _S10757;
    (&_S11240)->differential_0 = 0.0f;
    DiffPair_float_0 _S11241;
    (&_S11241)->primal_0 = _S10759;
    (&_S11241)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11240, &_S11241, _S11233.differential_0);
    DiffPair_float_0 _S11242;
    (&_S11242)->primal_0 = _S10756;
    (&_S11242)->differential_0 = 0.0f;
    DiffPair_float_0 _S11243;
    (&_S11243)->primal_0 = _S10759;
    (&_S11243)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11242, &_S11243, _S11235.differential_0);
    float3  _S11244 = make_float3 (_S11173.x, _S11173.y, _S11241.differential_0 + _S11243.differential_0 + _S11172.x + _S11172.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11245;
    (&_S11245)->primal_0 = R_76;
    (&_S11245)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11246;
    (&_S11246)->primal_0 = pos_i_1;
    (&_S11246)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11245, &_S11246, _S11244);
    DiffPair_float_0 _S11247;
    (&_S11247)->primal_0 = _S10752;
    (&_S11247)->differential_0 = 0.0f;
    DiffPair_float_0 _S11248;
    (&_S11248)->primal_0 = _S10754;
    (&_S11248)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11247, &_S11248, _S11240.differential_0);
    DiffPair_float_0 _S11249;
    (&_S11249)->primal_0 = _S10751;
    (&_S11249)->differential_0 = 0.0f;
    DiffPair_float_0 _S11250;
    (&_S11250)->primal_0 = _S10754;
    (&_S11250)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11249, &_S11250, _S11242.differential_0);
    float3  _S11251 = make_float3 (_S11187.x, _S11187.y, _S11248.differential_0 + _S11250.differential_0 + _S11186.x + _S11186.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11252;
    (&_S11252)->primal_0 = R_76;
    (&_S11252)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11253;
    (&_S11253)->primal_0 = pos_i_0;
    (&_S11253)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11252, &_S11253, _S11251);
    DiffPair_float_0 _S11254;
    (&_S11254)->primal_0 = 0.0f;
    (&_S11254)->differential_0 = 0.0f;
    DiffPair_float_0 _S11255;
    (&_S11255)->primal_0 = _S10749;
    (&_S11255)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11254, &_S11255, _S11247.differential_0);
    DiffPair_float_0 _S11256;
    (&_S11256)->primal_0 = 1.00000001504746622e+30f;
    (&_S11256)->differential_0 = 0.0f;
    DiffPair_float_0 _S11257;
    (&_S11257)->primal_0 = _S10749;
    (&_S11257)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11256, &_S11257, _S11249.differential_0);
    float3  _S11258 = make_float3 (_S11201.x, _S11201.y, _S11255.differential_0 + _S11257.differential_0 + _S11200.x + _S11200.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11259;
    (&_S11259)->primal_0 = R_76;
    (&_S11259)->differential_0 = _S11025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11260;
    (&_S11260)->primal_0 = pos_4;
    (&_S11260)->differential_0 = _S10963;
    s_bwd_prop_mul_1(&_S11259, &_S11260, _S11258);
    float3  _S11261 = _S11027.differential_0 + _S11202 + _S11209 + _S11216 + _S11223 + _S11230 + _S11237 + _S11244 + _S11251 + _S11258;
    Matrix<float, 3, 3>  _S11262 = _S11028 + _S11203.differential_0 + _S11210.differential_0 + _S11217.differential_0 + _S11224.differential_0 + _S11231.differential_0 + _S11238.differential_0 + _S11245.differential_0 + _S11252.differential_0 + _S11259.differential_0;
    FixedArray<float3 , 16>  _S11263;
    _S11263[int(0)] = _S10963;
    _S11263[int(1)] = _S10963;
    _S11263[int(2)] = _S10963;
    _S11263[int(3)] = _S10963;
    _S11263[int(4)] = _S10963;
    _S11263[int(5)] = _S10963;
    _S11263[int(6)] = _S10963;
    _S11263[int(7)] = _S10963;
    _S11263[int(8)] = _S10963;
    _S11263[int(9)] = _S10963;
    _S11263[int(10)] = _S10963;
    _S11263[int(11)] = _S10963;
    _S11263[int(12)] = _S10963;
    _S11263[int(13)] = _S10963;
    _S11263[int(14)] = _S10963;
    _S11263[int(15)] = _S10963;
    _S11263[int(15)] = _S10966;
    _S11263[int(14)] = _S10968;
    _S11263[int(13)] = _S10970;
    _S11263[int(12)] = _S10972;
    _S11263[int(11)] = _S10974;
    _S11263[int(10)] = _S10976;
    _S11263[int(9)] = _S10978;
    _S11263[int(8)] = _S10986;
    _S11263[int(7)] = _S10988;
    _S11263[int(6)] = _S10990;
    _S11263[int(5)] = _S10992;
    _S11263[int(4)] = _S10994;
    _S11263[int(3)] = _S11005;
    _S11263[int(2)] = _S11007;
    _S11263[int(1)] = _S11009;
    _S11263[int(0)] = _S11022;
    (*v_densities_0)[int(0)] = 0.0f;
    (*v_densities_0)[int(1)] = 0.0f;
    (*v_densities_0)[int(2)] = 0.0f;
    (*v_densities_0)[int(3)] = 0.0f;
    (*v_densities_0)[int(4)] = 0.0f;
    (*v_densities_0)[int(5)] = 0.0f;
    (*v_densities_0)[int(6)] = 0.0f;
    (*v_densities_0)[int(7)] = 0.0f;
    *v_sh_coeffs_9 = _S11263;
    *v_R_25 = _S11262;
    *v_t_24 = _S11261;
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye_vjp(float3  pos_5, float size_5, FixedArray<float, 8>  * densities_5, FixedArray<float3 , 16>  * sh_coeffs_28, Matrix<float, 3, 3>  R_77, float3  t_76, float fx_110, float fy_110, float cx_105, float cy_105, FixedArray<float, 10>  * dist_coeffs_113, uint image_width_98, uint image_height_98, float3  v_rgb_23, FixedArray<float, 8>  * v_densities_1, FixedArray<float3 , 16>  * v_sh_coeffs_10, Matrix<float, 3, 3>  * v_R_26, float3  * v_t_25)
{
    float3  _S11264 = s_primal_ctx_mul_0(R_77, pos_5) + t_76;
    float _S11265 = length_1(_S11264);
    float _S11266 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S11265);
    float _S11267 = s_primal_ctx_max_0(0.0f, _S11265);
    float3  pos_i_7 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S11268 = s_primal_ctx_mul_0(R_77, pos_i_7) + t_76;
    float _S11269 = length_1(_S11268);
    float _S11270 = s_primal_ctx_min_0(_S11266, _S11269);
    float _S11271 = s_primal_ctx_max_0(_S11267, _S11269);
    float3  pos_i_8 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S11272 = s_primal_ctx_mul_0(R_77, pos_i_8) + t_76;
    float _S11273 = length_1(_S11272);
    float _S11274 = s_primal_ctx_min_0(_S11270, _S11273);
    float _S11275 = s_primal_ctx_max_0(_S11271, _S11273);
    float3  pos_i_9 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S11276 = s_primal_ctx_mul_0(R_77, pos_i_9) + t_76;
    float _S11277 = length_1(_S11276);
    float _S11278 = s_primal_ctx_min_0(_S11274, _S11277);
    float _S11279 = s_primal_ctx_max_0(_S11275, _S11277);
    float3  pos_i_10 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S11280 = s_primal_ctx_mul_0(R_77, pos_i_10) + t_76;
    float _S11281 = length_1(_S11280);
    float _S11282 = s_primal_ctx_min_0(_S11278, _S11281);
    float _S11283 = s_primal_ctx_max_0(_S11279, _S11281);
    float3  pos_i_11 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S11284 = s_primal_ctx_mul_0(R_77, pos_i_11) + t_76;
    float _S11285 = length_1(_S11284);
    float _S11286 = s_primal_ctx_min_0(_S11282, _S11285);
    float _S11287 = s_primal_ctx_max_0(_S11283, _S11285);
    float3  pos_i_12 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S11288 = s_primal_ctx_mul_0(R_77, pos_i_12) + t_76;
    float _S11289 = length_1(_S11288);
    float _S11290 = s_primal_ctx_min_0(_S11286, _S11289);
    float _S11291 = s_primal_ctx_max_0(_S11287, _S11289);
    float3  pos_i_13 = pos_5 + make_float3 (size_5);
    float3  _S11292 = s_primal_ctx_mul_0(R_77, pos_i_13) + t_76;
    float _S11293 = length_1(_S11292);
    float3  _S11294 = pos_5 + make_float3 (0.5f * size_5);
    float3  mean_c_86 = s_primal_ctx_mul_0(R_77, _S11294) + t_76;
    float2  _S11295 = float2 {_S11264.x, _S11264.y};
    float _S11296 = length_0(_S11295);
    float _S11297 = _S11264.z;
    float _S11298 = s_primal_ctx_atan2_0(_S11296, _S11297);
    bool _S11299 = _S11298 < 0.00100000004749745f;
    float k_12;
    float _S11300;
    float _S11301;
    float _S11302;
    if(_S11299)
    {
        float _S11303 = 1.0f - _S11298 * _S11298 / 3.0f;
        float _S11304 = _S11297 * _S11297;
        k_12 = _S11303 / _S11297;
        _S11300 = 0.0f;
        _S11301 = _S11304;
        _S11302 = _S11303;
    }
    else
    {
        float _S11305 = _S11296 * _S11296;
        k_12 = _S11298 / _S11296;
        _S11300 = _S11305;
        _S11301 = 0.0f;
        _S11302 = 0.0f;
    }
    float2  _S11306 = make_float2 (k_12);
    float2  _S11307 = _S11295 * make_float2 (k_12);
    float u_119 = _S11307.x;
    float v_119 = _S11307.y;
    float r2_114 = u_119 * u_119 + v_119 * v_119;
    float _S11308 = (*dist_coeffs_113)[int(2)] + r2_114 * (*dist_coeffs_113)[int(3)];
    float _S11309 = (*dist_coeffs_113)[int(1)] + r2_114 * _S11308;
    float _S11310 = (*dist_coeffs_113)[int(0)] + r2_114 * _S11309;
    float radial_16 = 1.0f + r2_114 * _S11310;
    float2  _S11311 = make_float2 (radial_16);
    float _S11312 = 2.0f * (*dist_coeffs_113)[int(4)];
    float _S11313 = _S11312 * u_119;
    float _S11314 = 2.0f * u_119;
    float _S11315 = 2.0f * (*dist_coeffs_113)[int(5)];
    float _S11316 = _S11315 * u_119;
    float _S11317 = 2.0f * v_119;
    float2  _S11318 = _S11307 * make_float2 (radial_16) + make_float2 (_S11313 * v_119 + (*dist_coeffs_113)[int(5)] * (r2_114 + _S11314 * u_119) + (*dist_coeffs_113)[int(6)] * r2_114, _S11316 * v_119 + (*dist_coeffs_113)[int(4)] * (r2_114 + _S11317 * v_119) + (*dist_coeffs_113)[int(7)] * r2_114);
    float2  _S11319 = _S11318 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11318.x + (*dist_coeffs_113)[int(9)] * _S11318.y, 0.0f);
    float _S11320 = fx_110 * _S11319.x + cx_105;
    float _S11321 = fy_110 * _S11319.y + cy_105;
    float2  _S11322 = float2 {_S11268.x, _S11268.y};
    float _S11323 = length_0(_S11322);
    float _S11324 = _S11268.z;
    float _S11325 = s_primal_ctx_atan2_0(_S11323, _S11324);
    bool _S11326 = _S11325 < 0.00100000004749745f;
    float _S11327;
    float _S11328;
    float _S11329;
    if(_S11326)
    {
        float _S11330 = 1.0f - _S11325 * _S11325 / 3.0f;
        float _S11331 = _S11324 * _S11324;
        k_12 = _S11330 / _S11324;
        _S11327 = 0.0f;
        _S11328 = _S11331;
        _S11329 = _S11330;
    }
    else
    {
        float _S11332 = _S11323 * _S11323;
        k_12 = _S11325 / _S11323;
        _S11327 = _S11332;
        _S11328 = 0.0f;
        _S11329 = 0.0f;
    }
    float2  _S11333 = make_float2 (k_12);
    float2  _S11334 = _S11322 * make_float2 (k_12);
    float u_120 = _S11334.x;
    float v_120 = _S11334.y;
    float r2_115 = u_120 * u_120 + v_120 * v_120;
    float _S11335 = (*dist_coeffs_113)[int(2)] + r2_115 * (*dist_coeffs_113)[int(3)];
    float _S11336 = (*dist_coeffs_113)[int(1)] + r2_115 * _S11335;
    float _S11337 = (*dist_coeffs_113)[int(0)] + r2_115 * _S11336;
    float radial_17 = 1.0f + r2_115 * _S11337;
    float2  _S11338 = make_float2 (radial_17);
    float _S11339 = _S11312 * u_120;
    float _S11340 = 2.0f * u_120;
    float _S11341 = _S11315 * u_120;
    float _S11342 = 2.0f * v_120;
    float2  _S11343 = _S11334 * make_float2 (radial_17) + make_float2 (_S11339 * v_120 + (*dist_coeffs_113)[int(5)] * (r2_115 + _S11340 * u_120) + (*dist_coeffs_113)[int(6)] * r2_115, _S11341 * v_120 + (*dist_coeffs_113)[int(4)] * (r2_115 + _S11342 * v_120) + (*dist_coeffs_113)[int(7)] * r2_115);
    float2  _S11344 = _S11343 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11343.x + (*dist_coeffs_113)[int(9)] * _S11343.y, 0.0f);
    float _S11345 = fx_110 * _S11344.x + cx_105;
    float _S11346 = fy_110 * _S11344.y + cy_105;
    float2  _S11347 = float2 {_S11272.x, _S11272.y};
    float _S11348 = length_0(_S11347);
    float _S11349 = _S11272.z;
    float _S11350 = s_primal_ctx_atan2_0(_S11348, _S11349);
    bool _S11351 = _S11350 < 0.00100000004749745f;
    float _S11352;
    float _S11353;
    float _S11354;
    if(_S11351)
    {
        float _S11355 = 1.0f - _S11350 * _S11350 / 3.0f;
        float _S11356 = _S11349 * _S11349;
        k_12 = _S11355 / _S11349;
        _S11352 = 0.0f;
        _S11353 = _S11356;
        _S11354 = _S11355;
    }
    else
    {
        float _S11357 = _S11348 * _S11348;
        k_12 = _S11350 / _S11348;
        _S11352 = _S11357;
        _S11353 = 0.0f;
        _S11354 = 0.0f;
    }
    float2  _S11358 = make_float2 (k_12);
    float2  _S11359 = _S11347 * make_float2 (k_12);
    float u_121 = _S11359.x;
    float v_121 = _S11359.y;
    float r2_116 = u_121 * u_121 + v_121 * v_121;
    float _S11360 = (*dist_coeffs_113)[int(2)] + r2_116 * (*dist_coeffs_113)[int(3)];
    float _S11361 = (*dist_coeffs_113)[int(1)] + r2_116 * _S11360;
    float _S11362 = (*dist_coeffs_113)[int(0)] + r2_116 * _S11361;
    float radial_18 = 1.0f + r2_116 * _S11362;
    float2  _S11363 = make_float2 (radial_18);
    float _S11364 = _S11312 * u_121;
    float _S11365 = 2.0f * u_121;
    float _S11366 = _S11315 * u_121;
    float _S11367 = 2.0f * v_121;
    float2  _S11368 = _S11359 * make_float2 (radial_18) + make_float2 (_S11364 * v_121 + (*dist_coeffs_113)[int(5)] * (r2_116 + _S11365 * u_121) + (*dist_coeffs_113)[int(6)] * r2_116, _S11366 * v_121 + (*dist_coeffs_113)[int(4)] * (r2_116 + _S11367 * v_121) + (*dist_coeffs_113)[int(7)] * r2_116);
    float2  _S11369 = _S11368 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11368.x + (*dist_coeffs_113)[int(9)] * _S11368.y, 0.0f);
    float _S11370 = fx_110 * _S11369.x + cx_105;
    float _S11371 = fy_110 * _S11369.y + cy_105;
    float2  _S11372 = float2 {_S11276.x, _S11276.y};
    float _S11373 = length_0(_S11372);
    float _S11374 = _S11276.z;
    float _S11375 = s_primal_ctx_atan2_0(_S11373, _S11374);
    bool _S11376 = _S11375 < 0.00100000004749745f;
    float _S11377;
    float _S11378;
    float _S11379;
    if(_S11376)
    {
        float _S11380 = 1.0f - _S11375 * _S11375 / 3.0f;
        float _S11381 = _S11374 * _S11374;
        k_12 = _S11380 / _S11374;
        _S11377 = 0.0f;
        _S11378 = _S11381;
        _S11379 = _S11380;
    }
    else
    {
        float _S11382 = _S11373 * _S11373;
        k_12 = _S11375 / _S11373;
        _S11377 = _S11382;
        _S11378 = 0.0f;
        _S11379 = 0.0f;
    }
    float2  _S11383 = make_float2 (k_12);
    float2  _S11384 = _S11372 * make_float2 (k_12);
    float u_122 = _S11384.x;
    float v_122 = _S11384.y;
    float r2_117 = u_122 * u_122 + v_122 * v_122;
    float _S11385 = (*dist_coeffs_113)[int(2)] + r2_117 * (*dist_coeffs_113)[int(3)];
    float _S11386 = (*dist_coeffs_113)[int(1)] + r2_117 * _S11385;
    float _S11387 = (*dist_coeffs_113)[int(0)] + r2_117 * _S11386;
    float radial_19 = 1.0f + r2_117 * _S11387;
    float2  _S11388 = make_float2 (radial_19);
    float _S11389 = _S11312 * u_122;
    float _S11390 = 2.0f * u_122;
    float _S11391 = _S11315 * u_122;
    float _S11392 = 2.0f * v_122;
    float2  _S11393 = _S11384 * make_float2 (radial_19) + make_float2 (_S11389 * v_122 + (*dist_coeffs_113)[int(5)] * (r2_117 + _S11390 * u_122) + (*dist_coeffs_113)[int(6)] * r2_117, _S11391 * v_122 + (*dist_coeffs_113)[int(4)] * (r2_117 + _S11392 * v_122) + (*dist_coeffs_113)[int(7)] * r2_117);
    float2  _S11394 = _S11393 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11393.x + (*dist_coeffs_113)[int(9)] * _S11393.y, 0.0f);
    float _S11395 = fx_110 * _S11394.x + cx_105;
    float _S11396 = fy_110 * _S11394.y + cy_105;
    float2  _S11397 = float2 {_S11280.x, _S11280.y};
    float _S11398 = length_0(_S11397);
    float _S11399 = _S11280.z;
    float _S11400 = s_primal_ctx_atan2_0(_S11398, _S11399);
    bool _S11401 = _S11400 < 0.00100000004749745f;
    float _S11402;
    float _S11403;
    float _S11404;
    if(_S11401)
    {
        float _S11405 = 1.0f - _S11400 * _S11400 / 3.0f;
        float _S11406 = _S11399 * _S11399;
        k_12 = _S11405 / _S11399;
        _S11402 = 0.0f;
        _S11403 = _S11406;
        _S11404 = _S11405;
    }
    else
    {
        float _S11407 = _S11398 * _S11398;
        k_12 = _S11400 / _S11398;
        _S11402 = _S11407;
        _S11403 = 0.0f;
        _S11404 = 0.0f;
    }
    float2  _S11408 = make_float2 (k_12);
    float2  _S11409 = _S11397 * make_float2 (k_12);
    float u_123 = _S11409.x;
    float v_123 = _S11409.y;
    float r2_118 = u_123 * u_123 + v_123 * v_123;
    float _S11410 = (*dist_coeffs_113)[int(2)] + r2_118 * (*dist_coeffs_113)[int(3)];
    float _S11411 = (*dist_coeffs_113)[int(1)] + r2_118 * _S11410;
    float _S11412 = (*dist_coeffs_113)[int(0)] + r2_118 * _S11411;
    float radial_20 = 1.0f + r2_118 * _S11412;
    float2  _S11413 = make_float2 (radial_20);
    float _S11414 = _S11312 * u_123;
    float _S11415 = 2.0f * u_123;
    float _S11416 = _S11315 * u_123;
    float _S11417 = 2.0f * v_123;
    float2  _S11418 = _S11409 * make_float2 (radial_20) + make_float2 (_S11414 * v_123 + (*dist_coeffs_113)[int(5)] * (r2_118 + _S11415 * u_123) + (*dist_coeffs_113)[int(6)] * r2_118, _S11416 * v_123 + (*dist_coeffs_113)[int(4)] * (r2_118 + _S11417 * v_123) + (*dist_coeffs_113)[int(7)] * r2_118);
    float2  _S11419 = _S11418 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11418.x + (*dist_coeffs_113)[int(9)] * _S11418.y, 0.0f);
    float _S11420 = fx_110 * _S11419.x + cx_105;
    float _S11421 = fy_110 * _S11419.y + cy_105;
    float2  _S11422 = float2 {_S11284.x, _S11284.y};
    float _S11423 = length_0(_S11422);
    float _S11424 = _S11284.z;
    float _S11425 = s_primal_ctx_atan2_0(_S11423, _S11424);
    bool _S11426 = _S11425 < 0.00100000004749745f;
    float _S11427;
    float _S11428;
    float _S11429;
    if(_S11426)
    {
        float _S11430 = 1.0f - _S11425 * _S11425 / 3.0f;
        float _S11431 = _S11424 * _S11424;
        k_12 = _S11430 / _S11424;
        _S11427 = 0.0f;
        _S11428 = _S11431;
        _S11429 = _S11430;
    }
    else
    {
        float _S11432 = _S11423 * _S11423;
        k_12 = _S11425 / _S11423;
        _S11427 = _S11432;
        _S11428 = 0.0f;
        _S11429 = 0.0f;
    }
    float2  _S11433 = make_float2 (k_12);
    float2  _S11434 = _S11422 * make_float2 (k_12);
    float u_124 = _S11434.x;
    float v_124 = _S11434.y;
    float r2_119 = u_124 * u_124 + v_124 * v_124;
    float _S11435 = (*dist_coeffs_113)[int(2)] + r2_119 * (*dist_coeffs_113)[int(3)];
    float _S11436 = (*dist_coeffs_113)[int(1)] + r2_119 * _S11435;
    float _S11437 = (*dist_coeffs_113)[int(0)] + r2_119 * _S11436;
    float radial_21 = 1.0f + r2_119 * _S11437;
    float2  _S11438 = make_float2 (radial_21);
    float _S11439 = _S11312 * u_124;
    float _S11440 = 2.0f * u_124;
    float _S11441 = _S11315 * u_124;
    float _S11442 = 2.0f * v_124;
    float2  _S11443 = _S11434 * make_float2 (radial_21) + make_float2 (_S11439 * v_124 + (*dist_coeffs_113)[int(5)] * (r2_119 + _S11440 * u_124) + (*dist_coeffs_113)[int(6)] * r2_119, _S11441 * v_124 + (*dist_coeffs_113)[int(4)] * (r2_119 + _S11442 * v_124) + (*dist_coeffs_113)[int(7)] * r2_119);
    float2  _S11444 = _S11443 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11443.x + (*dist_coeffs_113)[int(9)] * _S11443.y, 0.0f);
    float _S11445 = fx_110 * _S11444.x + cx_105;
    float _S11446 = fy_110 * _S11444.y + cy_105;
    float2  _S11447 = float2 {_S11288.x, _S11288.y};
    float _S11448 = length_0(_S11447);
    float _S11449 = _S11288.z;
    float _S11450 = s_primal_ctx_atan2_0(_S11448, _S11449);
    bool _S11451 = _S11450 < 0.00100000004749745f;
    float _S11452;
    float _S11453;
    float _S11454;
    if(_S11451)
    {
        float _S11455 = 1.0f - _S11450 * _S11450 / 3.0f;
        float _S11456 = _S11449 * _S11449;
        k_12 = _S11455 / _S11449;
        _S11452 = 0.0f;
        _S11453 = _S11456;
        _S11454 = _S11455;
    }
    else
    {
        float _S11457 = _S11448 * _S11448;
        k_12 = _S11450 / _S11448;
        _S11452 = _S11457;
        _S11453 = 0.0f;
        _S11454 = 0.0f;
    }
    float2  _S11458 = make_float2 (k_12);
    float2  _S11459 = _S11447 * make_float2 (k_12);
    float u_125 = _S11459.x;
    float v_125 = _S11459.y;
    float r2_120 = u_125 * u_125 + v_125 * v_125;
    float _S11460 = (*dist_coeffs_113)[int(2)] + r2_120 * (*dist_coeffs_113)[int(3)];
    float _S11461 = (*dist_coeffs_113)[int(1)] + r2_120 * _S11460;
    float _S11462 = (*dist_coeffs_113)[int(0)] + r2_120 * _S11461;
    float radial_22 = 1.0f + r2_120 * _S11462;
    float2  _S11463 = make_float2 (radial_22);
    float _S11464 = _S11312 * u_125;
    float _S11465 = 2.0f * u_125;
    float _S11466 = _S11315 * u_125;
    float _S11467 = 2.0f * v_125;
    float2  _S11468 = _S11459 * make_float2 (radial_22) + make_float2 (_S11464 * v_125 + (*dist_coeffs_113)[int(5)] * (r2_120 + _S11465 * u_125) + (*dist_coeffs_113)[int(6)] * r2_120, _S11466 * v_125 + (*dist_coeffs_113)[int(4)] * (r2_120 + _S11467 * v_125) + (*dist_coeffs_113)[int(7)] * r2_120);
    float2  _S11469 = _S11468 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11468.x + (*dist_coeffs_113)[int(9)] * _S11468.y, 0.0f);
    float _S11470 = fx_110 * _S11469.x + cx_105;
    float _S11471 = fy_110 * _S11469.y + cy_105;
    float2  _S11472 = float2 {_S11292.x, _S11292.y};
    float _S11473 = length_0(_S11472);
    float _S11474 = _S11292.z;
    float _S11475 = s_primal_ctx_atan2_0(_S11473, _S11474);
    bool _S11476 = _S11475 < 0.00100000004749745f;
    float _S11477;
    float _S11478;
    float _S11479;
    if(_S11476)
    {
        float _S11480 = 1.0f - _S11475 * _S11475 / 3.0f;
        float _S11481 = _S11474 * _S11474;
        k_12 = _S11480 / _S11474;
        _S11477 = 0.0f;
        _S11478 = _S11481;
        _S11479 = _S11480;
    }
    else
    {
        float _S11482 = _S11473 * _S11473;
        k_12 = _S11475 / _S11473;
        _S11477 = _S11482;
        _S11478 = 0.0f;
        _S11479 = 0.0f;
    }
    float2  _S11483 = make_float2 (k_12);
    float2  _S11484 = _S11472 * make_float2 (k_12);
    float u_126 = _S11484.x;
    float v_126 = _S11484.y;
    float r2_121 = u_126 * u_126 + v_126 * v_126;
    float _S11485 = (*dist_coeffs_113)[int(2)] + r2_121 * (*dist_coeffs_113)[int(3)];
    float _S11486 = (*dist_coeffs_113)[int(1)] + r2_121 * _S11485;
    float _S11487 = (*dist_coeffs_113)[int(0)] + r2_121 * _S11486;
    float radial_23 = 1.0f + r2_121 * _S11487;
    float2  _S11488 = make_float2 (radial_23);
    float _S11489 = _S11312 * u_126;
    float _S11490 = 2.0f * u_126;
    float _S11491 = _S11315 * u_126;
    float _S11492 = 2.0f * v_126;
    float2  _S11493 = _S11484 * make_float2 (radial_23) + make_float2 (_S11489 * v_126 + (*dist_coeffs_113)[int(5)] * (r2_121 + _S11490 * u_126) + (*dist_coeffs_113)[int(6)] * r2_121, _S11491 * v_126 + (*dist_coeffs_113)[int(4)] * (r2_121 + _S11492 * v_126) + (*dist_coeffs_113)[int(7)] * r2_121);
    float2  _S11494 = _S11493 + make_float2 ((*dist_coeffs_113)[int(8)] * _S11493.x + (*dist_coeffs_113)[int(9)] * _S11493.y, 0.0f);
    float _S11495 = fx_110 * _S11494.x + cx_105;
    float _S11496 = fy_110 * _S11494.y + cy_105;
    float _S11497 = s_primal_ctx_max_0(_S11320, _S11345);
    float _S11498 = s_primal_ctx_min_0(_S11320, _S11345);
    float _S11499 = s_primal_ctx_max_0(_S11321, _S11346);
    float _S11500 = s_primal_ctx_min_0(_S11321, _S11346);
    float _S11501 = s_primal_ctx_max_0(_S11497, _S11370);
    float _S11502 = s_primal_ctx_min_0(_S11498, _S11370);
    float _S11503 = s_primal_ctx_max_0(_S11499, _S11371);
    float _S11504 = s_primal_ctx_min_0(_S11500, _S11371);
    float _S11505 = s_primal_ctx_max_0(_S11501, _S11395);
    float _S11506 = s_primal_ctx_min_0(_S11502, _S11395);
    float _S11507 = s_primal_ctx_max_0(_S11503, _S11396);
    float _S11508 = s_primal_ctx_min_0(_S11504, _S11396);
    float _S11509 = s_primal_ctx_max_0(_S11505, _S11420);
    float _S11510 = s_primal_ctx_min_0(_S11506, _S11420);
    float _S11511 = s_primal_ctx_max_0(_S11507, _S11421);
    float _S11512 = s_primal_ctx_min_0(_S11508, _S11421);
    float _S11513 = s_primal_ctx_max_0(_S11509, _S11445);
    float _S11514 = s_primal_ctx_min_0(_S11510, _S11445);
    float _S11515 = s_primal_ctx_max_0(_S11511, _S11446);
    float _S11516 = s_primal_ctx_min_0(_S11512, _S11446);
    float _S11517 = s_primal_ctx_max_0(_S11513, _S11470);
    float _S11518 = s_primal_ctx_min_0(_S11514, _S11470);
    float _S11519 = s_primal_ctx_max_0(_S11515, _S11471);
    float _S11520 = s_primal_ctx_min_0(_S11516, _S11471);
    float _S11521 = mean_c_86.z;
    float _S11522 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S11523 = _S11522 * (_S11521 + length_1(mean_c_86));
    Matrix<float, 3, 3>  _S11524 = transpose_0(R_77);
    float3  _S11525 = mean_c_86 - - s_primal_ctx_mul_0(_S11524, t_76);
    float _S11526 = _S11525.x;
    float _S11527 = _S11525.y;
    float _S11528 = _S11525.z;
    float _S11529 = _S11526 * _S11526 + _S11527 * _S11527 + _S11528 * _S11528;
    float _S11530 = s_primal_ctx_sqrt_0(_S11529);
    float x_92 = _S11526 / _S11530;
    float3  _S11531 = make_float3 (x_92);
    float _S11532 = _S11530 * _S11530;
    float y_37 = _S11527 / _S11530;
    float z_34 = _S11528 / _S11530;
    float3  _S11533 = make_float3 (z_34);
    float _S11534 = - y_37;
    float3  _S11535 = make_float3 (_S11534);
    float z2_119 = z_34 * z_34;
    float fTmp0B_34 = -1.09254848957061768f * z_34;
    float fC1_34 = x_92 * x_92 - y_37 * y_37;
    float _S11536 = 2.0f * x_92;
    float fS1_34 = _S11536 * y_37;
    float pSH6_16 = 0.94617468118667603f * z2_119 - 0.31539157032966614f;
    float3  _S11537 = make_float3 (pSH6_16);
    float pSH7_16 = fTmp0B_34 * x_92;
    float3  _S11538 = make_float3 (pSH7_16);
    float pSH5_16 = fTmp0B_34 * y_37;
    float3  _S11539 = make_float3 (pSH5_16);
    float pSH8_16 = 0.54627424478530884f * fC1_34;
    float3  _S11540 = make_float3 (pSH8_16);
    float pSH4_16 = 0.54627424478530884f * fS1_34;
    float3  _S11541 = make_float3 (pSH4_16);
    float fTmp0C_34 = -2.28522896766662598f * z2_119 + 0.4570457935333252f;
    float fTmp1B_34 = 1.44530570507049561f * z_34;
    float _S11542 = 1.86588168144226074f * z2_119 - 1.11952900886535645f;
    float pSH12_16 = z_34 * _S11542;
    float3  _S11543 = make_float3 (pSH12_16);
    float pSH13_16 = fTmp0C_34 * x_92;
    float3  _S11544 = make_float3 (pSH13_16);
    float pSH11_16 = fTmp0C_34 * y_37;
    float3  _S11545 = make_float3 (pSH11_16);
    float pSH14_16 = fTmp1B_34 * fC1_34;
    float3  _S11546 = make_float3 (pSH14_16);
    float pSH10_16 = fTmp1B_34 * fS1_34;
    float3  _S11547 = make_float3 (pSH10_16);
    float pSH15_16 = -0.59004360437393188f * (x_92 * fC1_34 - y_37 * fS1_34);
    float3  _S11548 = make_float3 (pSH15_16);
    float pSH9_16 = -0.59004360437393188f * (x_92 * fS1_34 + y_37 * fC1_34);
    float3  _S11549 = make_float3 (pSH9_16);
    float3  _S11550 = make_float3 (0.0f);
    float3  _S11551 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11552;
    (&_S11552)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_28)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S11534) * (*sh_coeffs_28)[int(1)] + make_float3 (z_34) * (*sh_coeffs_28)[int(2)] - make_float3 (x_92) * (*sh_coeffs_28)[int(3)]) + (make_float3 (pSH4_16) * (*sh_coeffs_28)[int(4)] + make_float3 (pSH5_16) * (*sh_coeffs_28)[int(5)] + make_float3 (pSH6_16) * (*sh_coeffs_28)[int(6)] + make_float3 (pSH7_16) * (*sh_coeffs_28)[int(7)] + make_float3 (pSH8_16) * (*sh_coeffs_28)[int(8)]) + (make_float3 (pSH9_16) * (*sh_coeffs_28)[int(9)] + make_float3 (pSH10_16) * (*sh_coeffs_28)[int(10)] + make_float3 (pSH11_16) * (*sh_coeffs_28)[int(11)] + make_float3 (pSH12_16) * (*sh_coeffs_28)[int(12)] + make_float3 (pSH13_16) * (*sh_coeffs_28)[int(13)] + make_float3 (pSH14_16) * (*sh_coeffs_28)[int(14)] + make_float3 (pSH15_16) * (*sh_coeffs_28)[int(15)]) + make_float3 (0.5f);
    (&_S11552)->differential_0 = _S11551;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11553;
    (&_S11553)->primal_0 = _S11550;
    (&_S11553)->differential_0 = _S11551;
    s_bwd_prop_max_0(&_S11552, &_S11553, v_rgb_23);
    float3  _S11554 = _S11548 * _S11552.differential_0;
    float3  _S11555 = (*sh_coeffs_28)[int(15)] * _S11552.differential_0;
    float3  _S11556 = _S11546 * _S11552.differential_0;
    float3  _S11557 = (*sh_coeffs_28)[int(14)] * _S11552.differential_0;
    float3  _S11558 = _S11544 * _S11552.differential_0;
    float3  _S11559 = (*sh_coeffs_28)[int(13)] * _S11552.differential_0;
    float3  _S11560 = _S11543 * _S11552.differential_0;
    float3  _S11561 = (*sh_coeffs_28)[int(12)] * _S11552.differential_0;
    float3  _S11562 = _S11545 * _S11552.differential_0;
    float3  _S11563 = (*sh_coeffs_28)[int(11)] * _S11552.differential_0;
    float3  _S11564 = _S11547 * _S11552.differential_0;
    float3  _S11565 = (*sh_coeffs_28)[int(10)] * _S11552.differential_0;
    float3  _S11566 = _S11549 * _S11552.differential_0;
    float3  _S11567 = (*sh_coeffs_28)[int(9)] * _S11552.differential_0;
    float s_diff_fS2_T_10 = -0.59004360437393188f * (_S11567.x + _S11567.y + _S11567.z);
    float s_diff_fC2_T_10 = -0.59004360437393188f * (_S11555.x + _S11555.y + _S11555.z);
    float _S11568 = _S11565.x + _S11565.y + _S11565.z;
    float _S11569 = _S11557.x + _S11557.y + _S11557.z;
    float _S11570 = _S11563.x + _S11563.y + _S11563.z;
    float _S11571 = _S11559.x + _S11559.y + _S11559.z;
    float _S11572 = _S11561.x + _S11561.y + _S11561.z;
    float _S11573 = - s_diff_fC2_T_10;
    float3  _S11574 = _S11540 * _S11552.differential_0;
    float3  _S11575 = (*sh_coeffs_28)[int(8)] * _S11552.differential_0;
    float3  _S11576 = _S11538 * _S11552.differential_0;
    float3  _S11577 = (*sh_coeffs_28)[int(7)] * _S11552.differential_0;
    float3  _S11578 = _S11537 * _S11552.differential_0;
    float3  _S11579 = (*sh_coeffs_28)[int(6)] * _S11552.differential_0;
    float3  _S11580 = _S11539 * _S11552.differential_0;
    float3  _S11581 = (*sh_coeffs_28)[int(5)] * _S11552.differential_0;
    float3  _S11582 = _S11541 * _S11552.differential_0;
    float3  _S11583 = (*sh_coeffs_28)[int(4)] * _S11552.differential_0;
    float _S11584 = _S11581.x + _S11581.y + _S11581.z;
    float _S11585 = _S11577.x + _S11577.y + _S11577.z;
    float _S11586 = fTmp1B_34 * _S11568 + x_92 * s_diff_fS2_T_10 + y_37 * _S11573 + 0.54627424478530884f * (_S11583.x + _S11583.y + _S11583.z);
    float _S11587 = fTmp1B_34 * _S11569 + y_37 * s_diff_fS2_T_10 + x_92 * s_diff_fC2_T_10 + 0.54627424478530884f * (_S11575.x + _S11575.y + _S11575.z);
    float _S11588 = y_37 * - _S11587;
    float _S11589 = x_92 * _S11587;
    float _S11590 = z_34 * (1.86588168144226074f * (z_34 * _S11572) + -2.28522896766662598f * (y_37 * _S11570 + x_92 * _S11571) + 0.94617468118667603f * (_S11579.x + _S11579.y + _S11579.z));
    float3  _S11591 = make_float3 (0.48860251903533936f) * _S11552.differential_0;
    float3  _S11592 = - _S11591;
    float3  _S11593 = _S11531 * _S11592;
    float3  _S11594 = (*sh_coeffs_28)[int(3)] * _S11592;
    float3  _S11595 = _S11533 * _S11591;
    float3  _S11596 = (*sh_coeffs_28)[int(2)] * _S11591;
    float3  _S11597 = _S11535 * _S11591;
    float3  _S11598 = (*sh_coeffs_28)[int(1)] * _S11591;
    float _S11599 = (_S11542 * _S11572 + 1.44530570507049561f * (fS1_34 * _S11568 + fC1_34 * _S11569) + -1.09254848957061768f * (y_37 * _S11584 + x_92 * _S11585) + _S11590 + _S11590 + _S11596.x + _S11596.y + _S11596.z) / _S11532;
    float _S11600 = _S11530 * _S11599;
    float _S11601 = (fTmp0C_34 * _S11570 + fC1_34 * s_diff_fS2_T_10 + fS1_34 * _S11573 + fTmp0B_34 * _S11584 + _S11536 * _S11586 + _S11588 + _S11588 + - (_S11598.x + _S11598.y + _S11598.z)) / _S11532;
    float _S11602 = _S11530 * _S11601;
    float _S11603 = (fTmp0C_34 * _S11571 + fS1_34 * s_diff_fS2_T_10 + fC1_34 * s_diff_fC2_T_10 + fTmp0B_34 * _S11585 + 2.0f * (y_37 * _S11586) + _S11589 + _S11589 + _S11594.x + _S11594.y + _S11594.z) / _S11532;
    float _S11604 = _S11530 * _S11603;
    float _S11605 = _S11528 * - _S11599 + _S11527 * - _S11601 + _S11526 * - _S11603;
    DiffPair_float_0 _S11606;
    (&_S11606)->primal_0 = _S11529;
    (&_S11606)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S11606, _S11605);
    float _S11607 = _S11528 * _S11606.differential_0;
    float _S11608 = _S11527 * _S11606.differential_0;
    float _S11609 = _S11526 * _S11606.differential_0;
    float3  _S11610 = make_float3 (0.282094806432724f) * _S11552.differential_0;
    float3  _S11611 = make_float3 (_S11604 + _S11609 + _S11609, _S11602 + _S11608 + _S11608, _S11600 + _S11607 + _S11607);
    float3  _S11612 = - - _S11611;
    Matrix<float, 3, 3>  _S11613 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11614;
    (&_S11614)->primal_0 = _S11524;
    (&_S11614)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11615;
    (&_S11615)->primal_0 = t_76;
    (&_S11615)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11614, &_S11615, _S11612);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11616 = _S11615;
    Matrix<float, 3, 3>  _S11617 = transpose_0(_S11614.differential_0);
    DiffPair_float_0 _S11618;
    (&_S11618)->primal_0 = _S11521;
    (&_S11618)->differential_0 = 0.0f;
    DiffPair_float_0 _S11619;
    (&_S11619)->primal_0 = _S11523;
    (&_S11619)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11618, &_S11619, 0.0f);
    float _S11620 = _S11522 * _S11619.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11621;
    (&_S11621)->primal_0 = mean_c_86;
    (&_S11621)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11621, _S11620);
    float _S11622 = _S11618.differential_0 + _S11620;
    DiffPair_float_0 _S11623;
    (&_S11623)->primal_0 = _S11520;
    (&_S11623)->differential_0 = 0.0f;
    DiffPair_float_0 _S11624;
    (&_S11624)->primal_0 = _S11496;
    (&_S11624)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11623, &_S11624, 0.0f);
    DiffPair_float_0 _S11625;
    (&_S11625)->primal_0 = _S11519;
    (&_S11625)->differential_0 = 0.0f;
    DiffPair_float_0 _S11626;
    (&_S11626)->primal_0 = _S11496;
    (&_S11626)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11625, &_S11626, 0.0f);
    DiffPair_float_0 _S11627;
    (&_S11627)->primal_0 = _S11518;
    (&_S11627)->differential_0 = 0.0f;
    DiffPair_float_0 _S11628;
    (&_S11628)->primal_0 = _S11495;
    (&_S11628)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11627, &_S11628, 0.0f);
    DiffPair_float_0 _S11629;
    (&_S11629)->primal_0 = _S11517;
    (&_S11629)->differential_0 = 0.0f;
    DiffPair_float_0 _S11630;
    (&_S11630)->primal_0 = _S11495;
    (&_S11630)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11629, &_S11630, 0.0f);
    DiffPair_float_0 _S11631;
    (&_S11631)->primal_0 = _S11516;
    (&_S11631)->differential_0 = 0.0f;
    DiffPair_float_0 _S11632;
    (&_S11632)->primal_0 = _S11471;
    (&_S11632)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11631, &_S11632, _S11623.differential_0);
    DiffPair_float_0 _S11633;
    (&_S11633)->primal_0 = _S11515;
    (&_S11633)->differential_0 = 0.0f;
    DiffPair_float_0 _S11634;
    (&_S11634)->primal_0 = _S11471;
    (&_S11634)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11633, &_S11634, _S11625.differential_0);
    DiffPair_float_0 _S11635;
    (&_S11635)->primal_0 = _S11514;
    (&_S11635)->differential_0 = 0.0f;
    DiffPair_float_0 _S11636;
    (&_S11636)->primal_0 = _S11470;
    (&_S11636)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11635, &_S11636, _S11627.differential_0);
    DiffPair_float_0 _S11637;
    (&_S11637)->primal_0 = _S11513;
    (&_S11637)->differential_0 = 0.0f;
    DiffPair_float_0 _S11638;
    (&_S11638)->primal_0 = _S11470;
    (&_S11638)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11637, &_S11638, _S11629.differential_0);
    DiffPair_float_0 _S11639;
    (&_S11639)->primal_0 = _S11512;
    (&_S11639)->differential_0 = 0.0f;
    DiffPair_float_0 _S11640;
    (&_S11640)->primal_0 = _S11446;
    (&_S11640)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11639, &_S11640, _S11631.differential_0);
    DiffPair_float_0 _S11641;
    (&_S11641)->primal_0 = _S11511;
    (&_S11641)->differential_0 = 0.0f;
    DiffPair_float_0 _S11642;
    (&_S11642)->primal_0 = _S11446;
    (&_S11642)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11641, &_S11642, _S11633.differential_0);
    DiffPair_float_0 _S11643;
    (&_S11643)->primal_0 = _S11510;
    (&_S11643)->differential_0 = 0.0f;
    DiffPair_float_0 _S11644;
    (&_S11644)->primal_0 = _S11445;
    (&_S11644)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11643, &_S11644, _S11635.differential_0);
    DiffPair_float_0 _S11645;
    (&_S11645)->primal_0 = _S11509;
    (&_S11645)->differential_0 = 0.0f;
    DiffPair_float_0 _S11646;
    (&_S11646)->primal_0 = _S11445;
    (&_S11646)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11645, &_S11646, _S11637.differential_0);
    DiffPair_float_0 _S11647;
    (&_S11647)->primal_0 = _S11508;
    (&_S11647)->differential_0 = 0.0f;
    DiffPair_float_0 _S11648;
    (&_S11648)->primal_0 = _S11421;
    (&_S11648)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11647, &_S11648, _S11639.differential_0);
    DiffPair_float_0 _S11649;
    (&_S11649)->primal_0 = _S11507;
    (&_S11649)->differential_0 = 0.0f;
    DiffPair_float_0 _S11650;
    (&_S11650)->primal_0 = _S11421;
    (&_S11650)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11649, &_S11650, _S11641.differential_0);
    DiffPair_float_0 _S11651;
    (&_S11651)->primal_0 = _S11506;
    (&_S11651)->differential_0 = 0.0f;
    DiffPair_float_0 _S11652;
    (&_S11652)->primal_0 = _S11420;
    (&_S11652)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11651, &_S11652, _S11643.differential_0);
    DiffPair_float_0 _S11653;
    (&_S11653)->primal_0 = _S11505;
    (&_S11653)->differential_0 = 0.0f;
    DiffPair_float_0 _S11654;
    (&_S11654)->primal_0 = _S11420;
    (&_S11654)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11653, &_S11654, _S11645.differential_0);
    DiffPair_float_0 _S11655;
    (&_S11655)->primal_0 = _S11504;
    (&_S11655)->differential_0 = 0.0f;
    DiffPair_float_0 _S11656;
    (&_S11656)->primal_0 = _S11396;
    (&_S11656)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11655, &_S11656, _S11647.differential_0);
    DiffPair_float_0 _S11657;
    (&_S11657)->primal_0 = _S11503;
    (&_S11657)->differential_0 = 0.0f;
    DiffPair_float_0 _S11658;
    (&_S11658)->primal_0 = _S11396;
    (&_S11658)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11657, &_S11658, _S11649.differential_0);
    DiffPair_float_0 _S11659;
    (&_S11659)->primal_0 = _S11502;
    (&_S11659)->differential_0 = 0.0f;
    DiffPair_float_0 _S11660;
    (&_S11660)->primal_0 = _S11395;
    (&_S11660)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11659, &_S11660, _S11651.differential_0);
    DiffPair_float_0 _S11661;
    (&_S11661)->primal_0 = _S11501;
    (&_S11661)->differential_0 = 0.0f;
    DiffPair_float_0 _S11662;
    (&_S11662)->primal_0 = _S11395;
    (&_S11662)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11661, &_S11662, _S11653.differential_0);
    DiffPair_float_0 _S11663;
    (&_S11663)->primal_0 = _S11500;
    (&_S11663)->differential_0 = 0.0f;
    DiffPair_float_0 _S11664;
    (&_S11664)->primal_0 = _S11371;
    (&_S11664)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11663, &_S11664, _S11655.differential_0);
    DiffPair_float_0 _S11665;
    (&_S11665)->primal_0 = _S11499;
    (&_S11665)->differential_0 = 0.0f;
    DiffPair_float_0 _S11666;
    (&_S11666)->primal_0 = _S11371;
    (&_S11666)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11665, &_S11666, _S11657.differential_0);
    DiffPair_float_0 _S11667;
    (&_S11667)->primal_0 = _S11498;
    (&_S11667)->differential_0 = 0.0f;
    DiffPair_float_0 _S11668;
    (&_S11668)->primal_0 = _S11370;
    (&_S11668)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11667, &_S11668, _S11659.differential_0);
    DiffPair_float_0 _S11669;
    (&_S11669)->primal_0 = _S11497;
    (&_S11669)->differential_0 = 0.0f;
    DiffPair_float_0 _S11670;
    (&_S11670)->primal_0 = _S11370;
    (&_S11670)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11669, &_S11670, _S11661.differential_0);
    DiffPair_float_0 _S11671;
    (&_S11671)->primal_0 = _S11321;
    (&_S11671)->differential_0 = 0.0f;
    DiffPair_float_0 _S11672;
    (&_S11672)->primal_0 = _S11346;
    (&_S11672)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11671, &_S11672, _S11663.differential_0);
    DiffPair_float_0 _S11673;
    (&_S11673)->primal_0 = _S11321;
    (&_S11673)->differential_0 = 0.0f;
    DiffPair_float_0 _S11674;
    (&_S11674)->primal_0 = _S11346;
    (&_S11674)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11673, &_S11674, _S11665.differential_0);
    DiffPair_float_0 _S11675;
    (&_S11675)->primal_0 = _S11320;
    (&_S11675)->differential_0 = 0.0f;
    DiffPair_float_0 _S11676;
    (&_S11676)->primal_0 = _S11345;
    (&_S11676)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11675, &_S11676, _S11667.differential_0);
    DiffPair_float_0 _S11677;
    (&_S11677)->primal_0 = _S11320;
    (&_S11677)->differential_0 = 0.0f;
    DiffPair_float_0 _S11678;
    (&_S11678)->primal_0 = _S11345;
    (&_S11678)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11677, &_S11678, _S11669.differential_0);
    float _S11679 = fx_110 * (_S11628.differential_0 + _S11630.differential_0);
    float2  _S11680 = make_float2 (_S11679, fy_110 * (_S11624.differential_0 + _S11626.differential_0)) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11679, (*dist_coeffs_113)[int(9)] * _S11679);
    float2  _S11681 = _S11484 * _S11680;
    float2  _S11682 = _S11488 * _S11680;
    float _S11683 = (*dist_coeffs_113)[int(4)] * _S11680.y;
    float _S11684 = (*dist_coeffs_113)[int(5)] * _S11680.x;
    float _S11685 = _S11681.x + _S11681.y;
    float _S11686 = r2_121 * _S11685;
    float _S11687 = r2_121 * _S11686;
    float _S11688 = (*dist_coeffs_113)[int(7)] * _S11680.y + _S11683 + (*dist_coeffs_113)[int(6)] * _S11680.x + _S11684 + _S11487 * _S11685 + _S11486 * _S11686 + _S11485 * _S11687 + (*dist_coeffs_113)[int(3)] * (r2_121 * _S11687);
    float _S11689 = v_126 * _S11688;
    float _S11690 = u_126 * _S11688;
    float _S11691 = _S11492 * _S11683 + 2.0f * (v_126 * _S11683) + _S11491 * _S11680.y + _S11489 * _S11680.x + _S11689 + _S11689;
    float _S11692 = _S11315 * (v_126 * _S11680.y) + _S11490 * _S11684 + 2.0f * (u_126 * _S11684) + _S11312 * (v_126 * _S11680.x) + _S11690 + _S11690;
    FixedArray<float3 , 16>  _S11693;
    _S11693[int(0)] = _S11551;
    _S11693[int(1)] = _S11551;
    _S11693[int(2)] = _S11551;
    _S11693[int(3)] = _S11551;
    _S11693[int(4)] = _S11551;
    _S11693[int(5)] = _S11551;
    _S11693[int(6)] = _S11551;
    _S11693[int(7)] = _S11551;
    _S11693[int(8)] = _S11551;
    _S11693[int(9)] = _S11551;
    _S11693[int(10)] = _S11551;
    _S11693[int(11)] = _S11551;
    _S11693[int(12)] = _S11551;
    _S11693[int(13)] = _S11551;
    _S11693[int(14)] = _S11551;
    _S11693[int(15)] = _S11551;
    _S11693[int(7)] = _S11576;
    _S11693[int(0)] = _S11610;
    _S11693[int(1)] = _S11597;
    _S11693[int(2)] = _S11595;
    _S11693[int(3)] = _S11593;
    _S11693[int(4)] = _S11582;
    _S11693[int(5)] = _S11580;
    _S11693[int(6)] = _S11578;
    _S11693[int(15)] = _S11554;
    _S11693[int(8)] = _S11574;
    _S11693[int(9)] = _S11566;
    _S11693[int(10)] = _S11564;
    _S11693[int(11)] = _S11562;
    _S11693[int(12)] = _S11560;
    _S11693[int(13)] = _S11558;
    _S11693[int(14)] = _S11556;
    float3  _S11694 = _S11693[int(0)];
    float3  _S11695 = _S11693[int(1)];
    float3  _S11696 = _S11693[int(2)];
    float3  _S11697 = _S11693[int(3)];
    float3  _S11698 = _S11693[int(4)];
    float3  _S11699 = _S11693[int(5)];
    float3  _S11700 = _S11693[int(6)];
    float3  _S11701 = _S11693[int(7)];
    float3  _S11702 = _S11693[int(8)];
    float3  _S11703 = _S11693[int(9)];
    float3  _S11704 = _S11693[int(10)];
    float3  _S11705 = _S11693[int(11)];
    float3  _S11706 = _S11693[int(12)];
    float3  _S11707 = _S11693[int(13)];
    float3  _S11708 = _S11693[int(14)];
    float3  _S11709 = _S11693[int(15)];
    float3  _S11710 = _S11611 + _S11621.differential_0 + make_float3 (0.0f, 0.0f, _S11622);
    float _S11711 = _S11676.differential_0 + _S11678.differential_0;
    float _S11712 = _S11671.differential_0 + _S11673.differential_0;
    float _S11713 = _S11672.differential_0 + _S11674.differential_0;
    float _S11714 = _S11668.differential_0 + _S11670.differential_0;
    float _S11715 = _S11675.differential_0 + _S11677.differential_0;
    float _S11716 = _S11632.differential_0 + _S11634.differential_0;
    float _S11717 = _S11636.differential_0 + _S11638.differential_0;
    float _S11718 = _S11640.differential_0 + _S11642.differential_0;
    float _S11719 = _S11644.differential_0 + _S11646.differential_0;
    float _S11720 = _S11648.differential_0 + _S11650.differential_0;
    float _S11721 = _S11652.differential_0 + _S11654.differential_0;
    float _S11722 = _S11656.differential_0 + _S11658.differential_0;
    float _S11723 = _S11660.differential_0 + _S11662.differential_0;
    float _S11724 = _S11664.differential_0 + _S11666.differential_0;
    float2  _S11725 = _S11682 + make_float2 (_S11692, _S11691);
    float2  _S11726 = _S11472 * _S11725;
    float2  _S11727 = _S11483 * _S11725;
    float _S11728 = _S11726.x + _S11726.y;
    if(_S11476)
    {
        float _S11729 = _S11728 / _S11478;
        float _S11730 = _S11479 * - _S11729;
        float _S11731 = _S11475 * (0.3333333432674408f * - (_S11474 * _S11729));
        k_12 = _S11731 + _S11731;
        _S11477 = _S11730;
        _S11478 = 0.0f;
    }
    else
    {
        float _S11732 = _S11728 / _S11477;
        float _S11733 = _S11475 * - _S11732;
        k_12 = _S11473 * _S11732;
        _S11477 = 0.0f;
        _S11478 = _S11733;
    }
    DiffPair_float_0 _S11734;
    (&_S11734)->primal_0 = _S11473;
    (&_S11734)->differential_0 = 0.0f;
    DiffPair_float_0 _S11735;
    (&_S11735)->primal_0 = _S11474;
    (&_S11735)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11734, &_S11735, k_12);
    float _S11736 = _S11735.differential_0 + _S11477;
    float _S11737 = _S11734.differential_0 + _S11478;
    float2  _S11738 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11739;
    (&_S11739)->primal_0 = _S11472;
    (&_S11739)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11739, _S11737);
    float2  _S11740 = _S11739.differential_0 + _S11727;
    float _S11741 = fx_110 * _S11717;
    float2  _S11742 = make_float2 (_S11741, fy_110 * _S11716) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11741, (*dist_coeffs_113)[int(9)] * _S11741);
    float2  _S11743 = _S11459 * _S11742;
    float _S11744 = (*dist_coeffs_113)[int(4)] * _S11742.y;
    float _S11745 = (*dist_coeffs_113)[int(5)] * _S11742.x;
    float _S11746 = _S11743.x + _S11743.y;
    float _S11747 = r2_120 * _S11746;
    float _S11748 = r2_120 * _S11747;
    float _S11749 = (*dist_coeffs_113)[int(7)] * _S11742.y + _S11744 + (*dist_coeffs_113)[int(6)] * _S11742.x + _S11745 + _S11462 * _S11746 + _S11461 * _S11747 + _S11460 * _S11748 + (*dist_coeffs_113)[int(3)] * (r2_120 * _S11748);
    float _S11750 = v_125 * _S11749;
    float _S11751 = u_125 * _S11749;
    float3  _S11752 = make_float3 (_S11740.x, _S11740.y, _S11736);
    float2  _S11753 = _S11463 * _S11742 + make_float2 (_S11315 * (v_125 * _S11742.y) + _S11465 * _S11745 + 2.0f * (u_125 * _S11745) + _S11312 * (v_125 * _S11742.x) + _S11751 + _S11751, _S11467 * _S11744 + 2.0f * (v_125 * _S11744) + _S11466 * _S11742.y + _S11464 * _S11742.x + _S11750 + _S11750);
    float2  _S11754 = _S11447 * _S11753;
    float2  _S11755 = _S11458 * _S11753;
    float _S11756 = _S11754.x + _S11754.y;
    if(_S11451)
    {
        float _S11757 = _S11756 / _S11453;
        float _S11758 = _S11454 * - _S11757;
        float _S11759 = _S11450 * (0.3333333432674408f * - (_S11449 * _S11757));
        k_12 = _S11759 + _S11759;
        _S11452 = _S11758;
        _S11453 = 0.0f;
    }
    else
    {
        float _S11760 = _S11756 / _S11452;
        float _S11761 = _S11450 * - _S11760;
        k_12 = _S11448 * _S11760;
        _S11452 = 0.0f;
        _S11453 = _S11761;
    }
    DiffPair_float_0 _S11762;
    (&_S11762)->primal_0 = _S11448;
    (&_S11762)->differential_0 = 0.0f;
    DiffPair_float_0 _S11763;
    (&_S11763)->primal_0 = _S11449;
    (&_S11763)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11762, &_S11763, k_12);
    float _S11764 = _S11763.differential_0 + _S11452;
    float _S11765 = _S11762.differential_0 + _S11453;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11766;
    (&_S11766)->primal_0 = _S11447;
    (&_S11766)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11766, _S11765);
    float2  _S11767 = _S11766.differential_0 + _S11755;
    float _S11768 = fx_110 * _S11719;
    float2  _S11769 = make_float2 (_S11768, fy_110 * _S11718) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11768, (*dist_coeffs_113)[int(9)] * _S11768);
    float2  _S11770 = _S11434 * _S11769;
    float _S11771 = (*dist_coeffs_113)[int(4)] * _S11769.y;
    float _S11772 = (*dist_coeffs_113)[int(5)] * _S11769.x;
    float _S11773 = _S11770.x + _S11770.y;
    float _S11774 = r2_119 * _S11773;
    float _S11775 = r2_119 * _S11774;
    float _S11776 = (*dist_coeffs_113)[int(7)] * _S11769.y + _S11771 + (*dist_coeffs_113)[int(6)] * _S11769.x + _S11772 + _S11437 * _S11773 + _S11436 * _S11774 + _S11435 * _S11775 + (*dist_coeffs_113)[int(3)] * (r2_119 * _S11775);
    float _S11777 = v_124 * _S11776;
    float _S11778 = u_124 * _S11776;
    float3  _S11779 = make_float3 (_S11767.x, _S11767.y, _S11764);
    float2  _S11780 = _S11438 * _S11769 + make_float2 (_S11315 * (v_124 * _S11769.y) + _S11440 * _S11772 + 2.0f * (u_124 * _S11772) + _S11312 * (v_124 * _S11769.x) + _S11778 + _S11778, _S11442 * _S11771 + 2.0f * (v_124 * _S11771) + _S11441 * _S11769.y + _S11439 * _S11769.x + _S11777 + _S11777);
    float2  _S11781 = _S11422 * _S11780;
    float2  _S11782 = _S11433 * _S11780;
    float _S11783 = _S11781.x + _S11781.y;
    if(_S11426)
    {
        float _S11784 = _S11783 / _S11428;
        float _S11785 = _S11429 * - _S11784;
        float _S11786 = _S11425 * (0.3333333432674408f * - (_S11424 * _S11784));
        k_12 = _S11786 + _S11786;
        _S11427 = _S11785;
        _S11428 = 0.0f;
    }
    else
    {
        float _S11787 = _S11783 / _S11427;
        float _S11788 = _S11425 * - _S11787;
        k_12 = _S11423 * _S11787;
        _S11427 = 0.0f;
        _S11428 = _S11788;
    }
    DiffPair_float_0 _S11789;
    (&_S11789)->primal_0 = _S11423;
    (&_S11789)->differential_0 = 0.0f;
    DiffPair_float_0 _S11790;
    (&_S11790)->primal_0 = _S11424;
    (&_S11790)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11789, &_S11790, k_12);
    float _S11791 = _S11790.differential_0 + _S11427;
    float _S11792 = _S11789.differential_0 + _S11428;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11793;
    (&_S11793)->primal_0 = _S11422;
    (&_S11793)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11793, _S11792);
    float2  _S11794 = _S11793.differential_0 + _S11782;
    float _S11795 = fx_110 * _S11721;
    float2  _S11796 = make_float2 (_S11795, fy_110 * _S11720) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11795, (*dist_coeffs_113)[int(9)] * _S11795);
    float2  _S11797 = _S11409 * _S11796;
    float _S11798 = (*dist_coeffs_113)[int(4)] * _S11796.y;
    float _S11799 = (*dist_coeffs_113)[int(5)] * _S11796.x;
    float _S11800 = _S11797.x + _S11797.y;
    float _S11801 = r2_118 * _S11800;
    float _S11802 = r2_118 * _S11801;
    float _S11803 = (*dist_coeffs_113)[int(7)] * _S11796.y + _S11798 + (*dist_coeffs_113)[int(6)] * _S11796.x + _S11799 + _S11412 * _S11800 + _S11411 * _S11801 + _S11410 * _S11802 + (*dist_coeffs_113)[int(3)] * (r2_118 * _S11802);
    float _S11804 = v_123 * _S11803;
    float _S11805 = u_123 * _S11803;
    float3  _S11806 = make_float3 (_S11794.x, _S11794.y, _S11791);
    float2  _S11807 = _S11413 * _S11796 + make_float2 (_S11315 * (v_123 * _S11796.y) + _S11415 * _S11799 + 2.0f * (u_123 * _S11799) + _S11312 * (v_123 * _S11796.x) + _S11805 + _S11805, _S11417 * _S11798 + 2.0f * (v_123 * _S11798) + _S11416 * _S11796.y + _S11414 * _S11796.x + _S11804 + _S11804);
    float2  _S11808 = _S11397 * _S11807;
    float2  _S11809 = _S11408 * _S11807;
    float _S11810 = _S11808.x + _S11808.y;
    if(_S11401)
    {
        float _S11811 = _S11810 / _S11403;
        float _S11812 = _S11404 * - _S11811;
        float _S11813 = _S11400 * (0.3333333432674408f * - (_S11399 * _S11811));
        k_12 = _S11813 + _S11813;
        _S11402 = _S11812;
        _S11403 = 0.0f;
    }
    else
    {
        float _S11814 = _S11810 / _S11402;
        float _S11815 = _S11400 * - _S11814;
        k_12 = _S11398 * _S11814;
        _S11402 = 0.0f;
        _S11403 = _S11815;
    }
    DiffPair_float_0 _S11816;
    (&_S11816)->primal_0 = _S11398;
    (&_S11816)->differential_0 = 0.0f;
    DiffPair_float_0 _S11817;
    (&_S11817)->primal_0 = _S11399;
    (&_S11817)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11816, &_S11817, k_12);
    float _S11818 = _S11817.differential_0 + _S11402;
    float _S11819 = _S11816.differential_0 + _S11403;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11820;
    (&_S11820)->primal_0 = _S11397;
    (&_S11820)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11820, _S11819);
    float2  _S11821 = _S11820.differential_0 + _S11809;
    float _S11822 = fx_110 * _S11723;
    float2  _S11823 = make_float2 (_S11822, fy_110 * _S11722) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11822, (*dist_coeffs_113)[int(9)] * _S11822);
    float2  _S11824 = _S11384 * _S11823;
    float _S11825 = (*dist_coeffs_113)[int(4)] * _S11823.y;
    float _S11826 = (*dist_coeffs_113)[int(5)] * _S11823.x;
    float _S11827 = _S11824.x + _S11824.y;
    float _S11828 = r2_117 * _S11827;
    float _S11829 = r2_117 * _S11828;
    float _S11830 = (*dist_coeffs_113)[int(7)] * _S11823.y + _S11825 + (*dist_coeffs_113)[int(6)] * _S11823.x + _S11826 + _S11387 * _S11827 + _S11386 * _S11828 + _S11385 * _S11829 + (*dist_coeffs_113)[int(3)] * (r2_117 * _S11829);
    float _S11831 = v_122 * _S11830;
    float _S11832 = u_122 * _S11830;
    float3  _S11833 = make_float3 (_S11821.x, _S11821.y, _S11818);
    float2  _S11834 = _S11388 * _S11823 + make_float2 (_S11315 * (v_122 * _S11823.y) + _S11390 * _S11826 + 2.0f * (u_122 * _S11826) + _S11312 * (v_122 * _S11823.x) + _S11832 + _S11832, _S11392 * _S11825 + 2.0f * (v_122 * _S11825) + _S11391 * _S11823.y + _S11389 * _S11823.x + _S11831 + _S11831);
    float2  _S11835 = _S11372 * _S11834;
    float2  _S11836 = _S11383 * _S11834;
    float _S11837 = _S11835.x + _S11835.y;
    if(_S11376)
    {
        float _S11838 = _S11837 / _S11378;
        float _S11839 = _S11379 * - _S11838;
        float _S11840 = _S11375 * (0.3333333432674408f * - (_S11374 * _S11838));
        k_12 = _S11840 + _S11840;
        _S11377 = _S11839;
        _S11378 = 0.0f;
    }
    else
    {
        float _S11841 = _S11837 / _S11377;
        float _S11842 = _S11375 * - _S11841;
        k_12 = _S11373 * _S11841;
        _S11377 = 0.0f;
        _S11378 = _S11842;
    }
    DiffPair_float_0 _S11843;
    (&_S11843)->primal_0 = _S11373;
    (&_S11843)->differential_0 = 0.0f;
    DiffPair_float_0 _S11844;
    (&_S11844)->primal_0 = _S11374;
    (&_S11844)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11843, &_S11844, k_12);
    float _S11845 = _S11844.differential_0 + _S11377;
    float _S11846 = _S11843.differential_0 + _S11378;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11847;
    (&_S11847)->primal_0 = _S11372;
    (&_S11847)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11847, _S11846);
    float2  _S11848 = _S11847.differential_0 + _S11836;
    float _S11849 = fx_110 * _S11714;
    float2  _S11850 = make_float2 (_S11849, fy_110 * _S11724) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11849, (*dist_coeffs_113)[int(9)] * _S11849);
    float2  _S11851 = _S11359 * _S11850;
    float _S11852 = (*dist_coeffs_113)[int(4)] * _S11850.y;
    float _S11853 = (*dist_coeffs_113)[int(5)] * _S11850.x;
    float _S11854 = _S11851.x + _S11851.y;
    float _S11855 = r2_116 * _S11854;
    float _S11856 = r2_116 * _S11855;
    float _S11857 = (*dist_coeffs_113)[int(7)] * _S11850.y + _S11852 + (*dist_coeffs_113)[int(6)] * _S11850.x + _S11853 + _S11362 * _S11854 + _S11361 * _S11855 + _S11360 * _S11856 + (*dist_coeffs_113)[int(3)] * (r2_116 * _S11856);
    float _S11858 = v_121 * _S11857;
    float _S11859 = u_121 * _S11857;
    float3  _S11860 = make_float3 (_S11848.x, _S11848.y, _S11845);
    float2  _S11861 = _S11363 * _S11850 + make_float2 (_S11315 * (v_121 * _S11850.y) + _S11365 * _S11853 + 2.0f * (u_121 * _S11853) + _S11312 * (v_121 * _S11850.x) + _S11859 + _S11859, _S11367 * _S11852 + 2.0f * (v_121 * _S11852) + _S11366 * _S11850.y + _S11364 * _S11850.x + _S11858 + _S11858);
    float2  _S11862 = _S11347 * _S11861;
    float2  _S11863 = _S11358 * _S11861;
    float _S11864 = _S11862.x + _S11862.y;
    if(_S11351)
    {
        float _S11865 = _S11864 / _S11353;
        float _S11866 = _S11354 * - _S11865;
        float _S11867 = _S11350 * (0.3333333432674408f * - (_S11349 * _S11865));
        k_12 = _S11867 + _S11867;
        _S11352 = _S11866;
        _S11353 = 0.0f;
    }
    else
    {
        float _S11868 = _S11864 / _S11352;
        float _S11869 = _S11350 * - _S11868;
        k_12 = _S11348 * _S11868;
        _S11352 = 0.0f;
        _S11353 = _S11869;
    }
    DiffPair_float_0 _S11870;
    (&_S11870)->primal_0 = _S11348;
    (&_S11870)->differential_0 = 0.0f;
    DiffPair_float_0 _S11871;
    (&_S11871)->primal_0 = _S11349;
    (&_S11871)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11870, &_S11871, k_12);
    float _S11872 = _S11871.differential_0 + _S11352;
    float _S11873 = _S11870.differential_0 + _S11353;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11874;
    (&_S11874)->primal_0 = _S11347;
    (&_S11874)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11874, _S11873);
    float2  _S11875 = _S11874.differential_0 + _S11863;
    float _S11876 = fx_110 * _S11711;
    float2  _S11877 = make_float2 (_S11876, fy_110 * _S11713) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11876, (*dist_coeffs_113)[int(9)] * _S11876);
    float2  _S11878 = _S11334 * _S11877;
    float _S11879 = (*dist_coeffs_113)[int(4)] * _S11877.y;
    float _S11880 = (*dist_coeffs_113)[int(5)] * _S11877.x;
    float _S11881 = _S11878.x + _S11878.y;
    float _S11882 = r2_115 * _S11881;
    float _S11883 = r2_115 * _S11882;
    float _S11884 = (*dist_coeffs_113)[int(7)] * _S11877.y + _S11879 + (*dist_coeffs_113)[int(6)] * _S11877.x + _S11880 + _S11337 * _S11881 + _S11336 * _S11882 + _S11335 * _S11883 + (*dist_coeffs_113)[int(3)] * (r2_115 * _S11883);
    float _S11885 = v_120 * _S11884;
    float _S11886 = u_120 * _S11884;
    float3  _S11887 = make_float3 (_S11875.x, _S11875.y, _S11872);
    float2  _S11888 = _S11338 * _S11877 + make_float2 (_S11315 * (v_120 * _S11877.y) + _S11340 * _S11880 + 2.0f * (u_120 * _S11880) + _S11312 * (v_120 * _S11877.x) + _S11886 + _S11886, _S11342 * _S11879 + 2.0f * (v_120 * _S11879) + _S11341 * _S11877.y + _S11339 * _S11877.x + _S11885 + _S11885);
    float2  _S11889 = _S11322 * _S11888;
    float2  _S11890 = _S11333 * _S11888;
    float _S11891 = _S11889.x + _S11889.y;
    if(_S11326)
    {
        float _S11892 = _S11891 / _S11328;
        float _S11893 = _S11329 * - _S11892;
        float _S11894 = _S11325 * (0.3333333432674408f * - (_S11324 * _S11892));
        k_12 = _S11894 + _S11894;
        _S11327 = _S11893;
        _S11328 = 0.0f;
    }
    else
    {
        float _S11895 = _S11891 / _S11327;
        float _S11896 = _S11325 * - _S11895;
        k_12 = _S11323 * _S11895;
        _S11327 = 0.0f;
        _S11328 = _S11896;
    }
    DiffPair_float_0 _S11897;
    (&_S11897)->primal_0 = _S11323;
    (&_S11897)->differential_0 = 0.0f;
    DiffPair_float_0 _S11898;
    (&_S11898)->primal_0 = _S11324;
    (&_S11898)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11897, &_S11898, k_12);
    float _S11899 = _S11898.differential_0 + _S11327;
    float _S11900 = _S11897.differential_0 + _S11328;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11901;
    (&_S11901)->primal_0 = _S11322;
    (&_S11901)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11901, _S11900);
    float2  _S11902 = _S11901.differential_0 + _S11890;
    float _S11903 = fx_110 * _S11715;
    float2  _S11904 = make_float2 (_S11903, fy_110 * _S11712) + make_float2 ((*dist_coeffs_113)[int(8)] * _S11903, (*dist_coeffs_113)[int(9)] * _S11903);
    float2  _S11905 = _S11307 * _S11904;
    float _S11906 = (*dist_coeffs_113)[int(4)] * _S11904.y;
    float _S11907 = (*dist_coeffs_113)[int(5)] * _S11904.x;
    float _S11908 = _S11905.x + _S11905.y;
    float _S11909 = r2_114 * _S11908;
    float _S11910 = r2_114 * _S11909;
    float _S11911 = (*dist_coeffs_113)[int(7)] * _S11904.y + _S11906 + (*dist_coeffs_113)[int(6)] * _S11904.x + _S11907 + _S11310 * _S11908 + _S11309 * _S11909 + _S11308 * _S11910 + (*dist_coeffs_113)[int(3)] * (r2_114 * _S11910);
    float _S11912 = v_119 * _S11911;
    float _S11913 = u_119 * _S11911;
    float3  _S11914 = make_float3 (_S11902.x, _S11902.y, _S11899);
    float2  _S11915 = _S11311 * _S11904 + make_float2 (_S11315 * (v_119 * _S11904.y) + _S11314 * _S11907 + 2.0f * (u_119 * _S11907) + _S11312 * (v_119 * _S11904.x) + _S11913 + _S11913, _S11317 * _S11906 + 2.0f * (v_119 * _S11906) + _S11316 * _S11904.y + _S11313 * _S11904.x + _S11912 + _S11912);
    float2  _S11916 = _S11295 * _S11915;
    float2  _S11917 = _S11306 * _S11915;
    float _S11918 = _S11916.x + _S11916.y;
    if(_S11299)
    {
        float _S11919 = _S11918 / _S11301;
        float _S11920 = _S11302 * - _S11919;
        float _S11921 = _S11298 * (0.3333333432674408f * - (_S11297 * _S11919));
        k_12 = _S11921 + _S11921;
        _S11300 = _S11920;
        _S11301 = 0.0f;
    }
    else
    {
        float _S11922 = _S11918 / _S11300;
        float _S11923 = _S11298 * - _S11922;
        k_12 = _S11296 * _S11922;
        _S11300 = 0.0f;
        _S11301 = _S11923;
    }
    DiffPair_float_0 _S11924;
    (&_S11924)->primal_0 = _S11296;
    (&_S11924)->differential_0 = 0.0f;
    DiffPair_float_0 _S11925;
    (&_S11925)->primal_0 = _S11297;
    (&_S11925)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S11924, &_S11925, k_12);
    float _S11926 = _S11925.differential_0 + _S11300;
    float _S11927 = _S11924.differential_0 + _S11301;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S11928;
    (&_S11928)->primal_0 = _S11295;
    (&_S11928)->differential_0 = _S11738;
    s_bwd_length_impl_0(&_S11928, _S11927);
    float2  _S11929 = _S11928.differential_0 + _S11917;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11930;
    (&_S11930)->primal_0 = R_77;
    (&_S11930)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11931;
    (&_S11931)->primal_0 = _S11294;
    (&_S11931)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11930, &_S11931, _S11710);
    DiffPair_float_0 _S11932;
    (&_S11932)->primal_0 = _S11291;
    (&_S11932)->differential_0 = 0.0f;
    DiffPair_float_0 _S11933;
    (&_S11933)->primal_0 = _S11293;
    (&_S11933)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11932, &_S11933, 0.0f);
    DiffPair_float_0 _S11934;
    (&_S11934)->primal_0 = _S11290;
    (&_S11934)->differential_0 = 0.0f;
    DiffPair_float_0 _S11935;
    (&_S11935)->primal_0 = _S11293;
    (&_S11935)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11934, &_S11935, 0.0f);
    float _S11936 = _S11933.differential_0 + _S11935.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11937;
    (&_S11937)->primal_0 = _S11292;
    (&_S11937)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11937, _S11936);
    float3  _S11938 = _S11937.differential_0 + _S11752;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11939;
    (&_S11939)->primal_0 = R_77;
    (&_S11939)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11940;
    (&_S11940)->primal_0 = pos_i_13;
    (&_S11940)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11939, &_S11940, _S11938);
    DiffPair_float_0 _S11941;
    (&_S11941)->primal_0 = _S11287;
    (&_S11941)->differential_0 = 0.0f;
    DiffPair_float_0 _S11942;
    (&_S11942)->primal_0 = _S11289;
    (&_S11942)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11941, &_S11942, _S11932.differential_0);
    DiffPair_float_0 _S11943;
    (&_S11943)->primal_0 = _S11286;
    (&_S11943)->differential_0 = 0.0f;
    DiffPair_float_0 _S11944;
    (&_S11944)->primal_0 = _S11289;
    (&_S11944)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11943, &_S11944, _S11934.differential_0);
    float _S11945 = _S11942.differential_0 + _S11944.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11946;
    (&_S11946)->primal_0 = _S11288;
    (&_S11946)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11946, _S11945);
    float3  _S11947 = _S11946.differential_0 + _S11779;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11948;
    (&_S11948)->primal_0 = R_77;
    (&_S11948)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11949;
    (&_S11949)->primal_0 = pos_i_12;
    (&_S11949)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11948, &_S11949, _S11947);
    DiffPair_float_0 _S11950;
    (&_S11950)->primal_0 = _S11283;
    (&_S11950)->differential_0 = 0.0f;
    DiffPair_float_0 _S11951;
    (&_S11951)->primal_0 = _S11285;
    (&_S11951)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11950, &_S11951, _S11941.differential_0);
    DiffPair_float_0 _S11952;
    (&_S11952)->primal_0 = _S11282;
    (&_S11952)->differential_0 = 0.0f;
    DiffPair_float_0 _S11953;
    (&_S11953)->primal_0 = _S11285;
    (&_S11953)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11952, &_S11953, _S11943.differential_0);
    float _S11954 = _S11951.differential_0 + _S11953.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11955;
    (&_S11955)->primal_0 = _S11284;
    (&_S11955)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11955, _S11954);
    float3  _S11956 = _S11955.differential_0 + _S11806;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11957;
    (&_S11957)->primal_0 = R_77;
    (&_S11957)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11958;
    (&_S11958)->primal_0 = pos_i_11;
    (&_S11958)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11957, &_S11958, _S11956);
    DiffPair_float_0 _S11959;
    (&_S11959)->primal_0 = _S11279;
    (&_S11959)->differential_0 = 0.0f;
    DiffPair_float_0 _S11960;
    (&_S11960)->primal_0 = _S11281;
    (&_S11960)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11959, &_S11960, _S11950.differential_0);
    DiffPair_float_0 _S11961;
    (&_S11961)->primal_0 = _S11278;
    (&_S11961)->differential_0 = 0.0f;
    DiffPair_float_0 _S11962;
    (&_S11962)->primal_0 = _S11281;
    (&_S11962)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11961, &_S11962, _S11952.differential_0);
    float _S11963 = _S11960.differential_0 + _S11962.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11964;
    (&_S11964)->primal_0 = _S11280;
    (&_S11964)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11964, _S11963);
    float3  _S11965 = _S11964.differential_0 + _S11833;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11966;
    (&_S11966)->primal_0 = R_77;
    (&_S11966)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11967;
    (&_S11967)->primal_0 = pos_i_10;
    (&_S11967)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11966, &_S11967, _S11965);
    DiffPair_float_0 _S11968;
    (&_S11968)->primal_0 = _S11275;
    (&_S11968)->differential_0 = 0.0f;
    DiffPair_float_0 _S11969;
    (&_S11969)->primal_0 = _S11277;
    (&_S11969)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11968, &_S11969, _S11959.differential_0);
    DiffPair_float_0 _S11970;
    (&_S11970)->primal_0 = _S11274;
    (&_S11970)->differential_0 = 0.0f;
    DiffPair_float_0 _S11971;
    (&_S11971)->primal_0 = _S11277;
    (&_S11971)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11970, &_S11971, _S11961.differential_0);
    float _S11972 = _S11969.differential_0 + _S11971.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11973;
    (&_S11973)->primal_0 = _S11276;
    (&_S11973)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11973, _S11972);
    float3  _S11974 = _S11973.differential_0 + _S11860;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11975;
    (&_S11975)->primal_0 = R_77;
    (&_S11975)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11976;
    (&_S11976)->primal_0 = pos_i_9;
    (&_S11976)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11975, &_S11976, _S11974);
    DiffPair_float_0 _S11977;
    (&_S11977)->primal_0 = _S11271;
    (&_S11977)->differential_0 = 0.0f;
    DiffPair_float_0 _S11978;
    (&_S11978)->primal_0 = _S11273;
    (&_S11978)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11977, &_S11978, _S11968.differential_0);
    DiffPair_float_0 _S11979;
    (&_S11979)->primal_0 = _S11270;
    (&_S11979)->differential_0 = 0.0f;
    DiffPair_float_0 _S11980;
    (&_S11980)->primal_0 = _S11273;
    (&_S11980)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11979, &_S11980, _S11970.differential_0);
    float _S11981 = _S11978.differential_0 + _S11980.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11982;
    (&_S11982)->primal_0 = _S11272;
    (&_S11982)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11982, _S11981);
    float3  _S11983 = _S11982.differential_0 + _S11887;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11984;
    (&_S11984)->primal_0 = R_77;
    (&_S11984)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11985;
    (&_S11985)->primal_0 = pos_i_8;
    (&_S11985)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11984, &_S11985, _S11983);
    DiffPair_float_0 _S11986;
    (&_S11986)->primal_0 = _S11267;
    (&_S11986)->differential_0 = 0.0f;
    DiffPair_float_0 _S11987;
    (&_S11987)->primal_0 = _S11269;
    (&_S11987)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11986, &_S11987, _S11977.differential_0);
    DiffPair_float_0 _S11988;
    (&_S11988)->primal_0 = _S11266;
    (&_S11988)->differential_0 = 0.0f;
    DiffPair_float_0 _S11989;
    (&_S11989)->primal_0 = _S11269;
    (&_S11989)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11988, &_S11989, _S11979.differential_0);
    float _S11990 = _S11987.differential_0 + _S11989.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11991;
    (&_S11991)->primal_0 = _S11268;
    (&_S11991)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S11991, _S11990);
    float3  _S11992 = _S11991.differential_0 + _S11914;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11993;
    (&_S11993)->primal_0 = R_77;
    (&_S11993)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11994;
    (&_S11994)->primal_0 = pos_i_7;
    (&_S11994)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S11993, &_S11994, _S11992);
    DiffPair_float_0 _S11995;
    (&_S11995)->primal_0 = 0.0f;
    (&_S11995)->differential_0 = 0.0f;
    DiffPair_float_0 _S11996;
    (&_S11996)->primal_0 = _S11265;
    (&_S11996)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11995, &_S11996, _S11986.differential_0);
    DiffPair_float_0 _S11997;
    (&_S11997)->primal_0 = 1.00000001504746622e+30f;
    (&_S11997)->differential_0 = 0.0f;
    DiffPair_float_0 _S11998;
    (&_S11998)->primal_0 = _S11265;
    (&_S11998)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11997, &_S11998, _S11988.differential_0);
    float _S11999 = _S11996.differential_0 + _S11998.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12000;
    (&_S12000)->primal_0 = _S11264;
    (&_S12000)->differential_0 = _S11551;
    s_bwd_length_impl_1(&_S12000, _S11999);
    float3  _S12001 = _S12000.differential_0 + make_float3 (_S11929.x, _S11929.y, _S11926);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S12002;
    (&_S12002)->primal_0 = R_77;
    (&_S12002)->differential_0 = _S11613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12003;
    (&_S12003)->primal_0 = pos_5;
    (&_S12003)->differential_0 = _S11551;
    s_bwd_prop_mul_1(&_S12002, &_S12003, _S12001);
    float3  _S12004 = _S11710 + _S11938 + _S11947 + _S11956 + _S11965 + _S11974 + _S11983 + _S11992 + _S12001 + _S11616.differential_0;
    Matrix<float, 3, 3>  _S12005 = _S11930.differential_0 + _S11939.differential_0 + _S11948.differential_0 + _S11957.differential_0 + _S11966.differential_0 + _S11975.differential_0 + _S11984.differential_0 + _S11993.differential_0 + _S12002.differential_0 + _S11617;
    (*v_densities_1)[int(0)] = 0.0f;
    (*v_densities_1)[int(1)] = 0.0f;
    (*v_densities_1)[int(2)] = 0.0f;
    (*v_densities_1)[int(3)] = 0.0f;
    (*v_densities_1)[int(4)] = 0.0f;
    (*v_densities_1)[int(5)] = 0.0f;
    (*v_densities_1)[int(6)] = 0.0f;
    (*v_densities_1)[int(7)] = 0.0f;
    (*v_sh_coeffs_10)[int(0)] = _S11694;
    (*v_sh_coeffs_10)[int(1)] = _S11695;
    (*v_sh_coeffs_10)[int(2)] = _S11696;
    (*v_sh_coeffs_10)[int(3)] = _S11697;
    (*v_sh_coeffs_10)[int(4)] = _S11698;
    (*v_sh_coeffs_10)[int(5)] = _S11699;
    (*v_sh_coeffs_10)[int(6)] = _S11700;
    (*v_sh_coeffs_10)[int(7)] = _S11701;
    (*v_sh_coeffs_10)[int(8)] = _S11702;
    (*v_sh_coeffs_10)[int(9)] = _S11703;
    (*v_sh_coeffs_10)[int(10)] = _S11704;
    (*v_sh_coeffs_10)[int(11)] = _S11705;
    (*v_sh_coeffs_10)[int(12)] = _S11706;
    (*v_sh_coeffs_10)[int(13)] = _S11707;
    (*v_sh_coeffs_10)[int(14)] = _S11708;
    (*v_sh_coeffs_10)[int(15)] = _S11709;
    *v_R_26 = _S12005;
    *v_t_25 = _S12004;
    return;
}

inline __device__ void _d_abs_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_23, float3  dOut_20)
{
    float3  _S12006 = _slang_select(((*dpx_23).primal_0) > make_float3 (0.0f), make_float3 (1.0f),_slang_select(((*dpx_23).primal_0) == make_float3 (0.0f), make_float3 (0.0f),make_float3 (-1.0f))) * dOut_20;
    dpx_23->primal_0 = (*dpx_23).primal_0;
    dpx_23->differential_0 = _S12006;
    return;
}

inline __device__ float3  abs_0(float3  x_93)
{
    float3  result_15;
    int i_10 = int(0);
    for(;;)
    {
        if(i_10 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_15, i_10) = (F32_abs((_slang_vector_get_element(x_93, i_10))));
        i_10 = i_10 + int(1);
    }
    return result_15;
}

inline __device__ bool ray_aabb_intersection(float3  ray_o_10, float3  ray_d_10, float3  center_0, float radius_0, float * t0_0, float * t1_0)
{
    float3  m_2 = make_float3 (1.0f) / ray_d_10;
    float3  k_13 = abs_0(m_2) * make_float3 (radius_0);
    float3  _S12007 = - (m_2 * (ray_o_10 - center_0));
    float3  ta_0 = _S12007 - k_13;
    float3  tb_0 = _S12007 + k_13;
    *t0_0 = (F32_max(((F32_max((ta_0.x), (ta_0.y)))), ((F32_max((ta_0.z), (0.0f))))));
    float _S12008 = (F32_min(((F32_min((tb_0.x), (tb_0.y)))), (tb_0.z)));
    *t1_0 = _S12008;
    return (*t0_0) < _S12008;
}

inline __device__ void _d_lerp_0(DiffPair_float_0 * dpx_24, DiffPair_float_0 * dpy_8, DiffPair_float_0 * dps_0, float dOut_21)
{
    float _S12009 = (1.0f - (*dps_0).primal_0) * dOut_21;
    dpx_24->primal_0 = (*dpx_24).primal_0;
    dpx_24->differential_0 = _S12009;
    DiffPair_float_0 _S12010 = *dpy_8;
    float _S12011 = (*dps_0).primal_0 * dOut_21;
    dpy_8->primal_0 = (*dpy_8).primal_0;
    dpy_8->differential_0 = _S12011;
    float _S12012 = (_S12010.primal_0 - (*dpx_24).primal_0) * dOut_21;
    dps_0->primal_0 = _S12010.primal_0;
    dps_0->differential_0 = _S12012;
    return;
}

inline __device__ float lerp_0(float x_94, float y_38, float s_0)
{
    return x_94 + (y_38 - x_94) * s_0;
}

inline __device__ float interp_0(FixedArray<float, 8>  * densities_6, float3  w_142)
{
    float _S12013 = w_142.z;
    float _S12014 = 1.0f - _S12013;
    float _S12015 = w_142.y;
    float _S12016 = 1.0f - _S12015;
    float _S12017 = _S12014 * _S12016;
    float _S12018 = w_142.x;
    float _S12019 = 1.0f - _S12018;
    float _S12020 = _S12014 * _S12015;
    float _S12021 = _S12013 * _S12016;
    float _S12022 = _S12013 * _S12015;
    return _S12017 * _S12019 * (*densities_6)[int(0)] + _S12017 * _S12018 * (*densities_6)[int(1)] + _S12020 * _S12019 * (*densities_6)[int(2)] + _S12020 * _S12018 * (*densities_6)[int(3)] + _S12021 * _S12019 * (*densities_6)[int(4)] + _S12021 * _S12018 * (*densities_6)[int(5)] + _S12022 * _S12019 * (*densities_6)[int(6)] + _S12022 * _S12018 * (*densities_6)[int(7)];
}

inline __device__ float evaluate_alpha_voxel(float3  pos_6, float size_6, FixedArray<float, 8>  * densities_7, float3  ray_o_11, float3  ray_d_11)
{
    float _S12023 = 0.5f * size_6;
    float3  m_3 = make_float3 (1.0f) / ray_d_11;
    float3  k_14 = abs_0(m_3) * make_float3 (_S12023);
    float3  _S12024 = - (m_3 * (ray_o_11 - (pos_6 + make_float3 (_S12023))));
    float3  ta_1 = _S12024 - k_14;
    float3  tb_1 = _S12024 + k_14;
    float t0_1 = (F32_max(((F32_max((ta_1.x), (ta_1.y)))), ((F32_max((ta_1.z), (0.0f))))));
    float t1_1 = (F32_min(((F32_min((tb_1.x), (tb_1.y)))), (tb_1.z)));
    if(!(t0_1 < t1_1))
    {
        return 0.0f;
    }
    int i_11 = int(0);
    float accum_0 = 0.0f;
    for(;;)
    {
        if(i_11 < int(8))
        {
        }
        else
        {
            break;
        }
        float _S12025 = interp_0(densities_7, (ray_o_11 + ray_d_11 * make_float3 (lerp_0(t0_1, t1_1, (float(i_11) + 0.5f) / 8.0f)) - pos_6) / make_float3 (size_6));
        float _S12026;
        if(_S12025 > 1.10000002384185791f)
        {
            _S12026 = _S12025;
        }
        else
        {
            _S12026 = (F32_exp((0.90909093618392944f * _S12025 - 0.90468984842300415f)));
        }
        float accum_1 = accum_0 + _S12026;
        i_11 = i_11 + int(1);
        accum_0 = accum_1;
    }
    return (F32_min((1.0f - (F32_exp((- (t1_1 - t0_1) / 8.0f * accum_0)))), (0.99900001287460327f)));
}

struct DiffPair_arrayx3Cfloatx2C8x3E_0
{
    FixedArray<float, 8>  primal_0;
    FixedArray<float, 8>  differential_0;
};

struct s_bwd_prop_evaluate_alpha_voxel_Intermediates_0
{
    float _S12027;
};

inline __device__ float3  s_primal_ctx_abs_0(float3  _S12028)
{
    return abs_0(_S12028);
}

inline __device__ float s_primal_ctx_lerp_0(float _S12029, float _S12030, float _S12031)
{
    return lerp_0(_S12029, _S12030, _S12031);
}

inline __device__ float s_primal_ctx_interp_0(FixedArray<float, 8>  * dpdensities_0, float3  dpw_0)
{
    float _S12032 = dpw_0.z;
    float _S12033 = 1.0f - _S12032;
    float _S12034 = dpw_0.y;
    float _S12035 = 1.0f - _S12034;
    float _S12036 = _S12033 * _S12035;
    float _S12037 = dpw_0.x;
    float _S12038 = 1.0f - _S12037;
    float _S12039 = _S12033 * _S12034;
    float _S12040 = _S12032 * _S12035;
    float _S12041 = _S12032 * _S12034;
    return _S12036 * _S12038 * (*dpdensities_0)[int(0)] + _S12036 * _S12037 * (*dpdensities_0)[int(1)] + _S12039 * _S12038 * (*dpdensities_0)[int(2)] + _S12039 * _S12037 * (*dpdensities_0)[int(3)] + _S12040 * _S12038 * (*dpdensities_0)[int(4)] + _S12040 * _S12037 * (*dpdensities_0)[int(5)] + _S12041 * _S12038 * (*dpdensities_0)[int(6)] + _S12041 * _S12037 * (*dpdensities_0)[int(7)];
}

inline __device__ float s_primal_ctx_evaluate_alpha_voxel_0(float3  pos_7, float size_7, FixedArray<float, 8>  * dpdensities_1, float3  dpray_o_4, float3  dpray_d_4, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_42)
{
    _s_diff_ctx_42->_S12027 = 0.0f;
    _s_diff_ctx_42->_S12027 = 0.0f;
    float _S12042 = 0.5f * size_7;
    float3  m_4 = make_float3 (1.0f) / dpray_d_4;
    float3  k_15 = s_primal_ctx_abs_0(m_4) * make_float3 (_S12042);
    float3  _S12043 = - (m_4 * (dpray_o_4 - (pos_7 + make_float3 (_S12042))));
    float3  ta_2 = _S12043 - k_15;
    float3  tb_2 = _S12043 + k_15;
    float _S12044 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_2.x, ta_2.y), s_primal_ctx_max_0(ta_2.z, 0.0f));
    float _S12045 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_2.x, tb_2.y), tb_2.z);
    float accum_2;
    if(!!(_S12044 < _S12045))
    {
        float _S12046 = - (_S12045 - _S12044);
        bool _runFlag_0 = true;
        accum_2 = 0.0f;
        int i_12 = int(0);
        int _pc_0 = int(0);
        for(;;)
        {
            _s_diff_ctx_42->_S12027 = accum_2;
            if(_runFlag_0)
            {
            }
            else
            {
                break;
            }
            float _S12047;
            int _S12048;
            if(i_12 < int(8))
            {
                float _S12049 = s_primal_ctx_interp_0(dpdensities_1, (dpray_o_4 + dpray_d_4 * make_float3 (s_primal_ctx_lerp_0(_S12044, _S12045, (float(i_12) + 0.5f) / 8.0f)) - pos_7) / make_float3 (size_7));
                if(_S12049 > 1.10000002384185791f)
                {
                    _S12047 = _S12049;
                }
                else
                {
                    _S12047 = s_primal_ctx_exp_1(0.90909093618392944f * _S12049 - 0.90468984842300415f);
                }
                float accum_3 = accum_2 + _S12047;
                _S12048 = int(2);
                _S12047 = accum_3;
            }
            else
            {
                _S12048 = int(1);
                _S12047 = 0.0f;
            }
            if(_S12048 != int(2))
            {
                _runFlag_0 = false;
            }
            if(_runFlag_0)
            {
                int _S12050 = i_12 + int(1);
                accum_2 = _S12047;
                i_12 = _S12050;
            }
            _pc_0 = _pc_0 + int(1);
        }
        accum_2 = s_primal_ctx_min_0(1.0f - s_primal_ctx_exp_1(_S12046 / 8.0f * accum_2), 0.99900001287460327f);
    }
    else
    {
        accum_2 = 0.0f;
    }
    return accum_2;
}

inline __device__ void s_bwd_prop_abs_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12051, float3  _S12052)
{
    _d_abs_vector_0(_S12051, _S12052);
    return;
}

inline __device__ void s_bwd_prop_interp_0(DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpw_1, float _s_dOut_11)
{
    float _S12053 = (*dpw_1).primal_0.z;
    float _S12054 = 1.0f - _S12053;
    float _S12055 = (*dpw_1).primal_0.y;
    float _S12056 = 1.0f - _S12055;
    float _S12057 = _S12054 * _S12056;
    float _S12058 = (*dpw_1).primal_0.x;
    float _S12059 = 1.0f - _S12058;
    float _S12060 = _S12054 * _S12055;
    float _S12061 = _S12053 * _S12056;
    float _S12062 = _S12053 * _S12055;
    float _S12063 = _S12062 * _S12058 * _s_dOut_11;
    float s_diff_w7_T_0 = dpdensities_2->primal_0[int(7)] * _s_dOut_11;
    float _S12064 = _S12062 * _S12059 * _s_dOut_11;
    float s_diff_w6_T_0 = dpdensities_2->primal_0[int(6)] * _s_dOut_11;
    float _S12065 = _S12061 * _S12058 * _s_dOut_11;
    float s_diff_w5_T_0 = dpdensities_2->primal_0[int(5)] * _s_dOut_11;
    float _S12066 = _S12061 * _S12059 * _s_dOut_11;
    float s_diff_w4_T_0 = dpdensities_2->primal_0[int(4)] * _s_dOut_11;
    float _S12067 = _S12060 * _S12058 * _s_dOut_11;
    float s_diff_w3_T_0 = dpdensities_2->primal_0[int(3)] * _s_dOut_11;
    float _S12068 = _S12060 * _S12059 * _s_dOut_11;
    float s_diff_w2_T_0 = dpdensities_2->primal_0[int(2)] * _s_dOut_11;
    float _S12069 = _S12057 * _S12058 * _s_dOut_11;
    float s_diff_w1_T_0 = dpdensities_2->primal_0[int(1)] * _s_dOut_11;
    float _S12070 = _S12057 * _S12059 * _s_dOut_11;
    float s_diff_w0_T_0 = dpdensities_2->primal_0[int(0)] * _s_dOut_11;
    float _S12071 = _S12058 * s_diff_w7_T_0 + _S12059 * s_diff_w6_T_0;
    float _S12072 = _S12058 * s_diff_w5_T_0 + _S12059 * s_diff_w4_T_0;
    float _S12073 = _S12058 * s_diff_w3_T_0 + _S12059 * s_diff_w2_T_0;
    float _S12074 = _S12058 * s_diff_w1_T_0 + _S12059 * s_diff_w0_T_0;
    float3  _S12075 = make_float3 (_S12062 * s_diff_w7_T_0 + _S12061 * s_diff_w5_T_0 + _S12060 * s_diff_w3_T_0 + _S12057 * s_diff_w1_T_0 + - (_S12062 * s_diff_w6_T_0 + _S12061 * s_diff_w4_T_0 + _S12060 * s_diff_w2_T_0 + _S12057 * s_diff_w0_T_0), _S12053 * _S12071 + _S12054 * _S12073 + - (_S12053 * _S12072 + _S12054 * _S12074), _S12055 * _S12071 + _S12056 * _S12072 + - (_S12055 * _S12073 + _S12056 * _S12074));
    dpw_1->primal_0 = (*dpw_1).primal_0;
    dpw_1->differential_0 = _S12075;
    FixedArray<float, 8>  _S12076;
    _S12076[int(0)] = 0.0f;
    _S12076[int(1)] = 0.0f;
    _S12076[int(2)] = 0.0f;
    _S12076[int(3)] = 0.0f;
    _S12076[int(4)] = 0.0f;
    _S12076[int(5)] = 0.0f;
    _S12076[int(6)] = 0.0f;
    _S12076[int(7)] = 0.0f;
    _S12076[int(7)] = _S12063;
    _S12076[int(6)] = _S12064;
    _S12076[int(5)] = _S12065;
    _S12076[int(4)] = _S12066;
    _S12076[int(3)] = _S12067;
    _S12076[int(2)] = _S12068;
    _S12076[int(1)] = _S12069;
    _S12076[int(0)] = _S12070;
    dpdensities_2->primal_0 = dpdensities_2->primal_0;
    dpdensities_2->differential_0 = _S12076;
    return;
}

inline __device__ void s_bwd_prop_lerp_0(DiffPair_float_0 * _S12077, DiffPair_float_0 * _S12078, DiffPair_float_0 * _S12079, float _S12080)
{
    _d_lerp_0(_S12077, _S12078, _S12079, _S12080);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_voxel_0(float3  pos_8, float size_8, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_5, float _s_dOut_12, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_43)
{
    FixedArray<float, 8>  _S12081 = dpdensities_3->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12082 = *dpray_o_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12083 = *dpray_d_5;
    float _S12084 = 0.5f * size_8;
    float3  _S12085 = make_float3 (_S12084);
    float3  _S12086 = make_float3 (size_8);
    float3  m_5 = make_float3 (1.0f) / (*dpray_d_5).primal_0;
    float3  _S12087 = (*dpray_d_5).primal_0 * (*dpray_d_5).primal_0;
    float3  _S12088 = (*dpray_o_5).primal_0 - (pos_8 + make_float3 (_S12084));
    float3  k_16 = s_primal_ctx_abs_0(m_5) * make_float3 (_S12084);
    float3  _S12089 = - (m_5 * _S12088);
    float3  ta_3 = _S12089 - k_16;
    float3  tb_3 = _S12089 + k_16;
    float _S12090 = ta_3.x;
    float _S12091 = ta_3.y;
    float _S12092 = s_primal_ctx_max_0(_S12090, _S12091);
    float _S12093 = ta_3.z;
    float _S12094 = s_primal_ctx_max_0(_S12093, 0.0f);
    float _S12095 = s_primal_ctx_max_0(_S12092, _S12094);
    float _S12096 = tb_3.x;
    float _S12097 = tb_3.y;
    float _S12098 = s_primal_ctx_min_0(_S12096, _S12097);
    float _S12099 = tb_3.z;
    float _S12100 = s_primal_ctx_min_0(_S12098, _S12099);
    bool _S12101 = !!(_S12095 < _S12100);
    float _S12102;
    float _S12103;
    float _S12104;
    if(_S12101)
    {
        float _S12105 = - (_S12100 - _S12095) / 8.0f;
        float _S12106 = _S12105 * _s_diff_ctx_43->_S12027;
        _S12102 = 1.0f - s_primal_ctx_exp_1(_S12106);
        _S12103 = _S12106;
        _S12104 = _S12105;
    }
    else
    {
        _S12102 = 0.0f;
        _S12103 = 0.0f;
        _S12104 = 0.0f;
    }
    float3  _S12107 = make_float3 (0.0f);
    FixedArray<float, 8>  _S12108 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    float3  _S12109;
    float3  _S12110;
    FixedArray<float, 8>  _S12111;
    if(_S12101)
    {
        DiffPair_float_0 _S12112;
        (&_S12112)->primal_0 = _S12102;
        (&_S12112)->differential_0 = 0.0f;
        DiffPair_float_0 _S12113;
        (&_S12113)->primal_0 = 0.99900001287460327f;
        (&_S12113)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S12112, &_S12113, _s_dOut_12);
        float _S12114 = - _S12112.differential_0;
        DiffPair_float_0 _S12115;
        (&_S12115)->primal_0 = _S12103;
        (&_S12115)->differential_0 = 0.0f;
        s_bwd_prop_exp_0(&_S12115, _S12114);
        float _S12116 = _S12104 * _S12115.differential_0;
        float _S12117 = 0.125f * (_s_diff_ctx_43->_S12027 * _S12115.differential_0);
        int _dc_0 = int(8);
        _S12102 = _S12116;
        _S12103 = 0.0f;
        _S12104 = 0.0f;
        _S12109 = _S12107;
        _S12110 = _S12107;
        _S12111[int(0)] = 0.0f;
        _S12111[int(1)] = 0.0f;
        _S12111[int(2)] = 0.0f;
        _S12111[int(3)] = 0.0f;
        _S12111[int(4)] = 0.0f;
        _S12111[int(5)] = 0.0f;
        _S12111[int(6)] = 0.0f;
        _S12111[int(7)] = 0.0f;
        for(;;)
        {
            if(_dc_0 >= int(0))
            {
            }
            else
            {
                break;
            }
            bool _S12118 = _dc_0 < int(8);
            float _S12119;
            float _S12120;
            int _S12121;
            float3  _S12122;
            float3  _S12123;
            bool _S12124;
            if(_S12118)
            {
                float _S12125 = (float(_dc_0) + 0.5f) / 8.0f;
                float _S12126 = s_primal_ctx_lerp_0(_S12095, _S12100, _S12125);
                float3  _S12127 = make_float3 (_S12126);
                float3  _S12128 = (_S12082.primal_0 + _S12083.primal_0 * make_float3 (_S12126) - pos_8) / make_float3 (size_8);
                FixedArray<float, 8>  _S12129 = _S12081;
                float _S12130 = s_primal_ctx_interp_0(&_S12129, _S12128);
                bool _S12131 = _S12130 > 1.10000002384185791f;
                if(_S12131)
                {
                    _S12119 = 0.0f;
                }
                else
                {
                    _S12119 = 0.90909093618392944f * _S12130 - 0.90468984842300415f;
                }
                _S12121 = int(2);
                _S12124 = _S12131;
                _S12122 = _S12128;
                _S12123 = _S12127;
                _S12120 = _S12125;
            }
            else
            {
                _S12121 = int(1);
                _S12124 = false;
                _S12119 = 0.0f;
                _S12122 = _S12107;
                _S12123 = _S12107;
                _S12120 = 0.0f;
            }
            float _S12132;
            float _S12133;
            if(!(_S12121 != int(2)))
            {
                _S12132 = _S12102;
                _S12133 = 0.0f;
            }
            else
            {
                _S12132 = 0.0f;
                _S12133 = _S12102;
            }
            if(_S12118)
            {
                float _S12134 = _S12132 + _S12133;
                float _S12135;
                if(_S12124)
                {
                    _S12135 = _S12132;
                }
                else
                {
                    DiffPair_float_0 _S12136;
                    (&_S12136)->primal_0 = _S12119;
                    (&_S12136)->differential_0 = 0.0f;
                    s_bwd_prop_exp_0(&_S12136, _S12132);
                    _S12135 = 0.90909093618392944f * _S12136.differential_0;
                }
                DiffPair_arrayx3Cfloatx2C8x3E_0 _S12137;
                (&_S12137)->primal_0 = _S12081;
                (&_S12137)->differential_0 = _S12108;
                DiffPair_vectorx3Cfloatx2C3x3E_0 _S12138;
                (&_S12138)->primal_0 = _S12122;
                (&_S12138)->differential_0 = _S12107;
                s_bwd_prop_interp_0(&_S12137, &_S12138, _S12135);
                float3  _S12139 = _S12138.differential_0 / _S12086;
                float3  _S12140 = _S12083.primal_0 * _S12139;
                float3  _S12141 = _S12123 * _S12139;
                float _S12142 = _S12140.x + _S12140.y + _S12140.z;
                DiffPair_float_0 _S12143;
                (&_S12143)->primal_0 = _S12095;
                (&_S12143)->differential_0 = 0.0f;
                DiffPair_float_0 _S12144;
                (&_S12144)->primal_0 = _S12100;
                (&_S12144)->differential_0 = 0.0f;
                DiffPair_float_0 _S12145;
                (&_S12145)->primal_0 = _S12120;
                (&_S12145)->differential_0 = 0.0f;
                s_bwd_prop_lerp_0(&_S12143, &_S12144, &_S12145, _S12142);
                float _S12146 = (&_S12137)->differential_0[int(0)] + _S12111[int(0)];
                float _S12147 = (&_S12137)->differential_0[int(1)] + _S12111[int(1)];
                float _S12148 = (&_S12137)->differential_0[int(2)] + _S12111[int(2)];
                float _S12149 = (&_S12137)->differential_0[int(3)] + _S12111[int(3)];
                float _S12150 = (&_S12137)->differential_0[int(4)] + _S12111[int(4)];
                float _S12151 = (&_S12137)->differential_0[int(5)] + _S12111[int(5)];
                float _S12152 = (&_S12137)->differential_0[int(6)] + _S12111[int(6)];
                float _S12153 = (&_S12137)->differential_0[int(7)] + _S12111[int(7)];
                float3  _S12154 = _S12139 + _S12110;
                float3  _S12155 = _S12141 + _S12109;
                float _S12156 = _S12144.differential_0 + _S12103;
                float _S12157 = _S12143.differential_0 + _S12104;
                _S12102 = _S12134;
                _S12103 = _S12156;
                _S12104 = _S12157;
                _S12109 = _S12155;
                _S12110 = _S12154;
                _S12111[int(0)] = _S12146;
                _S12111[int(1)] = _S12147;
                _S12111[int(2)] = _S12148;
                _S12111[int(3)] = _S12149;
                _S12111[int(4)] = _S12150;
                _S12111[int(5)] = _S12151;
                _S12111[int(6)] = _S12152;
                _S12111[int(7)] = _S12153;
            }
            else
            {
                _S12102 = _S12133;
            }
            _dc_0 = _dc_0 - int(1);
        }
        float _S12158 = - _S12117;
        float _S12159 = - _S12158 + _S12104;
        _S12102 = _S12158 + _S12103;
        _S12103 = _S12159;
    }
    else
    {
        _S12102 = 0.0f;
        _S12103 = 0.0f;
        _S12109 = _S12107;
        _S12110 = _S12107;
        _S12111[int(0)] = 0.0f;
        _S12111[int(1)] = 0.0f;
        _S12111[int(2)] = 0.0f;
        _S12111[int(3)] = 0.0f;
        _S12111[int(4)] = 0.0f;
        _S12111[int(5)] = 0.0f;
        _S12111[int(6)] = 0.0f;
        _S12111[int(7)] = 0.0f;
    }
    DiffPair_float_0 _S12160;
    (&_S12160)->primal_0 = _S12098;
    (&_S12160)->differential_0 = 0.0f;
    DiffPair_float_0 _S12161;
    (&_S12161)->primal_0 = _S12099;
    (&_S12161)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S12160, &_S12161, _S12102);
    DiffPair_float_0 _S12162;
    (&_S12162)->primal_0 = _S12096;
    (&_S12162)->differential_0 = 0.0f;
    DiffPair_float_0 _S12163;
    (&_S12163)->primal_0 = _S12097;
    (&_S12163)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S12162, &_S12163, _S12160.differential_0);
    DiffPair_float_0 _S12164;
    (&_S12164)->primal_0 = _S12092;
    (&_S12164)->differential_0 = 0.0f;
    DiffPair_float_0 _S12165;
    (&_S12165)->primal_0 = _S12094;
    (&_S12165)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12164, &_S12165, _S12103);
    DiffPair_float_0 _S12166;
    (&_S12166)->primal_0 = _S12093;
    (&_S12166)->differential_0 = 0.0f;
    DiffPair_float_0 _S12167;
    (&_S12167)->primal_0 = 0.0f;
    (&_S12167)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12166, &_S12167, _S12165.differential_0);
    DiffPair_float_0 _S12168;
    (&_S12168)->primal_0 = _S12090;
    (&_S12168)->differential_0 = 0.0f;
    DiffPair_float_0 _S12169;
    (&_S12169)->primal_0 = _S12091;
    (&_S12169)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12168, &_S12169, _S12164.differential_0);
    float3  s_diff_tb_T_0 = make_float3 (_S12162.differential_0, _S12163.differential_0, _S12161.differential_0);
    float3  s_diff_ta_T_0 = make_float3 (_S12168.differential_0, _S12169.differential_0, _S12166.differential_0);
    float3  s_diff_n_T_0 = - (s_diff_tb_T_0 + s_diff_ta_T_0);
    float3  _S12170 = _S12085 * (s_diff_tb_T_0 + - s_diff_ta_T_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12171;
    (&_S12171)->primal_0 = m_5;
    (&_S12171)->differential_0 = _S12107;
    s_bwd_prop_abs_1(&_S12171, _S12170);
    float3  _S12172 = m_5 * s_diff_n_T_0;
    float3  _S12173 = - ((_S12171.differential_0 + _S12088 * s_diff_n_T_0) / _S12087) + _S12109;
    dpray_d_5->primal_0 = (*dpray_d_5).primal_0;
    dpray_d_5->differential_0 = _S12173;
    float3  _S12174 = _S12172 + _S12110;
    dpray_o_5->primal_0 = (*dpray_o_5).primal_0;
    dpray_o_5->differential_0 = _S12174;
    dpdensities_3->primal_0 = dpdensities_3->primal_0;
    dpdensities_3->differential_0 = _S12111;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_voxel_0(float3  _S12175, float _S12176, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S12177, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12178, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12179, float _S12180)
{
    FixedArray<float, 8>  _S12181 = _S12177->primal_0;
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S12182;
    float _S12183 = s_primal_ctx_evaluate_alpha_voxel_0(_S12175, _S12176, &_S12181, (*_S12178).primal_0, (*_S12179).primal_0, &_S12182);
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S12184 = _S12182;
    s_bwd_prop_evaluate_alpha_voxel_0(_S12175, _S12176, _S12177, _S12178, _S12179, _S12180, &_S12184);
    return;
}

inline __device__ void evaluate_alpha_voxel_vjp(float3  pos_9, float size_9, FixedArray<float, 8>  * densities_8, float3  ray_o_12, float3  ray_d_12, float v_alpha_2, FixedArray<float, 8>  * v_densities_2, float3  * v_ray_o_5, float3  * v_ray_d_5)
{
    FixedArray<float, 8>  _S12185 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_0;
    (&dp_densities_0)->primal_0 = *densities_8;
    (&dp_densities_0)->differential_0 = _S12185;
    float3  _S12186 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_4;
    (&dp_ray_o_4)->primal_0 = ray_o_12;
    (&dp_ray_o_4)->differential_0 = _S12186;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_4;
    (&dp_ray_d_4)->primal_0 = ray_d_12;
    (&dp_ray_d_4)->differential_0 = _S12186;
    s_bwd_evaluate_alpha_voxel_0(pos_9, size_9, &dp_densities_0, &dp_ray_o_4, &dp_ray_d_4, v_alpha_2);
    *v_densities_2 = (&dp_densities_0)->differential_0;
    *v_ray_o_5 = dp_ray_o_4.differential_0;
    *v_ray_d_5 = dp_ray_d_4.differential_0;
    return;
}

inline __device__ void evaluate_color_voxel(float3  pos_10, float size_10, FixedArray<float, 8>  * densities_9, float3  rgb_40, float3  ray_o_13, float3  ray_d_13, float3  * out_rgb_1, float * depth_48)
{
    *out_rgb_1 = rgb_40;
    float _S12187 = 0.5f * size_10;
    float3  m_6 = make_float3 (1.0f) / ray_d_13;
    float3  k_17 = abs_0(m_6) * make_float3 (_S12187);
    float3  _S12188 = - (m_6 * (ray_o_13 - (pos_10 + make_float3 (_S12187))));
    float3  ta_4 = _S12188 - k_17;
    float3  tb_4 = _S12188 + k_17;
    float _S12189 = (F32_max(((F32_max((ta_4.x), (ta_4.y)))), ((F32_max((ta_4.z), (0.0f))))));
    float _S12190 = (F32_min(((F32_min((tb_4.x), (tb_4.y)))), (tb_4.z)));
    int i_13 = int(0);
    float accum_4 = 0.0f;
    float depth_accum_0 = 0.0f;
    for(;;)
    {
        if(i_13 < int(8))
        {
        }
        else
        {
            break;
        }
        float t_77 = lerp_0(_S12189, _S12190, (float(i_13) + 0.5f) / 8.0f);
        float _S12191 = interp_0(densities_9, (ray_o_13 + ray_d_13 * make_float3 (t_77) - pos_10) / make_float3 (size_10));
        float _S12192;
        if(_S12191 > 1.10000002384185791f)
        {
            _S12192 = _S12191;
        }
        else
        {
            _S12192 = (F32_exp((0.90909093618392944f * _S12191 - 0.90468984842300415f)));
        }
        float accum_5 = accum_4 + _S12192;
        float depth_accum_1 = depth_accum_0 + t_77 * _S12192;
        i_13 = i_13 + int(1);
        accum_4 = accum_5;
        depth_accum_0 = depth_accum_1;
    }
    *depth_48 = (F32_max((depth_accum_0 / accum_4), (0.0f)));
    return;
}

struct s_bwd_prop_evaluate_color_voxel_Intermediates_0
{
    float _S12193;
    float _S12194;
};

inline __device__ void s_primal_ctx_evaluate_color_voxel_0(float3  pos_11, float size_11, FixedArray<float, 8>  * dpdensities_4, float3  dprgb_29, float3  dpray_o_6, float3  dpray_d_6, float3  * dpout_rgb_1, float * dpdepth_30, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_44)
{
    _s_diff_ctx_44->_S12193 = 0.0f;
    _s_diff_ctx_44->_S12194 = 0.0f;
    float _S12195 = 0.5f * size_11;
    float3  m_7 = make_float3 (1.0f) / dpray_d_6;
    float3  k_18 = s_primal_ctx_abs_0(m_7) * make_float3 (_S12195);
    float3  _S12196 = - (m_7 * (dpray_o_6 - (pos_11 + make_float3 (_S12195))));
    float3  ta_5 = _S12196 - k_18;
    float3  tb_5 = _S12196 + k_18;
    float _S12197 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_5.x, ta_5.y), s_primal_ctx_max_0(ta_5.z, 0.0f));
    float _S12198 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_5.x, tb_5.y), tb_5.z);
    bool _runFlag_1 = true;
    float accum_6 = 0.0f;
    float depth_accum_2 = 0.0f;
    int i_14 = int(0);
    int _pc_1 = int(0);
    for(;;)
    {
        _s_diff_ctx_44->_S12193 = depth_accum_2;
        _s_diff_ctx_44->_S12194 = accum_6;
        if(_runFlag_1)
        {
        }
        else
        {
            break;
        }
        float _S12199;
        float _S12200;
        int _S12201;
        if(i_14 < int(8))
        {
            float _S12202 = s_primal_ctx_lerp_0(_S12197, _S12198, (float(i_14) + 0.5f) / 8.0f);
            float _S12203 = s_primal_ctx_interp_0(dpdensities_4, (dpray_o_6 + dpray_d_6 * make_float3 (_S12202) - pos_11) / make_float3 (size_11));
            if(_S12203 > 1.10000002384185791f)
            {
                _S12199 = _S12203;
            }
            else
            {
                _S12199 = s_primal_ctx_exp_1(0.90909093618392944f * _S12203 - 0.90468984842300415f);
            }
            float accum_7 = accum_6 + _S12199;
            float depth_accum_3 = depth_accum_2 + _S12202 * _S12199;
            _S12201 = int(1);
            _S12199 = accum_7;
            _S12200 = depth_accum_3;
        }
        else
        {
            _S12201 = int(0);
            _S12199 = 0.0f;
            _S12200 = 0.0f;
        }
        if(_S12201 != int(1))
        {
            _runFlag_1 = false;
        }
        if(_runFlag_1)
        {
            int _S12204 = i_14 + int(1);
            accum_6 = _S12199;
            depth_accum_2 = _S12200;
            i_14 = _S12204;
        }
        _pc_1 = _pc_1 + int(1);
    }
    float _S12205 = s_primal_ctx_max_0(depth_accum_2 / accum_6, 0.0f);
    *dpout_rgb_1 = dprgb_29;
    *dpdepth_30 = _S12205;
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_voxel_0(float3  pos_12, float size_12, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_30, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_7, float3  dpout_rgb_2, float dpdepth_31, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_45)
{
    FixedArray<float, 8>  _S12206 = dpdensities_5->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12207 = *dpray_o_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12208 = *dpray_d_7;
    float3  _S12209 = make_float3 (size_12);
    float _S12210 = 0.5f * size_12;
    float3  _S12211 = make_float3 (_S12210);
    float3  m_8 = make_float3 (1.0f) / (*dpray_d_7).primal_0;
    float3  _S12212 = (*dpray_d_7).primal_0 * (*dpray_d_7).primal_0;
    float3  _S12213 = (*dpray_o_7).primal_0 - (pos_12 + make_float3 (_S12210));
    float3  k_19 = s_primal_ctx_abs_0(m_8) * make_float3 (_S12210);
    float3  _S12214 = - (m_8 * _S12213);
    float3  ta_6 = _S12214 - k_19;
    float3  tb_6 = _S12214 + k_19;
    float _S12215 = ta_6.x;
    float _S12216 = ta_6.y;
    float _S12217 = s_primal_ctx_max_0(_S12215, _S12216);
    float _S12218 = ta_6.z;
    float _S12219 = s_primal_ctx_max_0(_S12218, 0.0f);
    float _S12220 = s_primal_ctx_max_0(_S12217, _S12219);
    float _S12221 = tb_6.x;
    float _S12222 = tb_6.y;
    float _S12223 = s_primal_ctx_min_0(_S12221, _S12222);
    float _S12224 = tb_6.z;
    float _S12225 = s_primal_ctx_min_0(_S12223, _S12224);
    float _S12226 = _s_diff_ctx_45->_S12194 * _s_diff_ctx_45->_S12194;
    float3  _S12227 = make_float3 (0.0f);
    FixedArray<float, 8>  _S12228 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_float_0 _S12229;
    (&_S12229)->primal_0 = _s_diff_ctx_45->_S12193 / _s_diff_ctx_45->_S12194;
    (&_S12229)->differential_0 = 0.0f;
    DiffPair_float_0 _S12230;
    (&_S12230)->primal_0 = 0.0f;
    (&_S12230)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12229, &_S12230, dpdepth_31);
    float _S12231 = _S12229.differential_0 / _S12226;
    float _S12232 = _s_diff_ctx_45->_S12193 * - _S12231;
    float _S12233 = _s_diff_ctx_45->_S12194 * _S12231;
    int _dc_1 = int(8);
    float _S12234 = _S12232;
    float _S12235 = _S12233;
    float _S12236 = 0.0f;
    float _S12237 = 0.0f;
    float3  _S12238 = _S12227;
    float3  _S12239 = _S12227;
    FixedArray<float, 8>  _S12240;
    _S12240[int(0)] = 0.0f;
    _S12240[int(1)] = 0.0f;
    _S12240[int(2)] = 0.0f;
    _S12240[int(3)] = 0.0f;
    _S12240[int(4)] = 0.0f;
    _S12240[int(5)] = 0.0f;
    _S12240[int(6)] = 0.0f;
    _S12240[int(7)] = 0.0f;
    for(;;)
    {
        if(_dc_1 >= int(0))
        {
        }
        else
        {
            break;
        }
        bool _S12241 = _dc_1 < int(8);
        int _S12242;
        float _S12243;
        float _S12244;
        float _S12245;
        float _S12246;
        float3  _S12247;
        float3  _S12248;
        bool _S12249;
        if(_S12241)
        {
            float _S12250 = (float(_dc_1) + 0.5f) / 8.0f;
            float _S12251 = s_primal_ctx_lerp_0(_S12220, _S12225, _S12250);
            float3  _S12252 = make_float3 (_S12251);
            float3  _S12253 = (_S12207.primal_0 + _S12208.primal_0 * make_float3 (_S12251) - pos_12) / make_float3 (size_12);
            FixedArray<float, 8>  _S12254 = _S12206;
            float _S12255 = s_primal_ctx_interp_0(&_S12254, _S12253);
            bool _S12256 = _S12255 > 1.10000002384185791f;
            if(_S12256)
            {
                _S12243 = _S12255;
                _S12244 = 0.0f;
            }
            else
            {
                float _S12257 = 0.90909093618392944f * _S12255 - 0.90468984842300415f;
                _S12243 = s_primal_ctx_exp_1(_S12257);
                _S12244 = _S12257;
            }
            float _S12258 = _S12243;
            float _S12259 = _S12244;
            _S12242 = int(1);
            _S12243 = _S12251;
            _S12244 = _S12258;
            _S12249 = _S12256;
            _S12245 = _S12259;
            _S12247 = _S12253;
            _S12248 = _S12252;
            _S12246 = _S12250;
        }
        else
        {
            _S12242 = int(0);
            _S12243 = 0.0f;
            _S12244 = 0.0f;
            _S12249 = false;
            _S12245 = 0.0f;
            _S12247 = _S12227;
            _S12248 = _S12227;
            _S12246 = 0.0f;
        }
        float _S12260;
        float _S12261;
        float _S12262;
        float _S12263;
        if(!(_S12242 != int(1)))
        {
            _S12260 = _S12234;
            _S12261 = _S12235;
            _S12262 = 0.0f;
            _S12263 = 0.0f;
        }
        else
        {
            _S12260 = 0.0f;
            _S12261 = 0.0f;
            _S12262 = _S12235;
            _S12263 = _S12234;
        }
        if(_S12241)
        {
            float _S12264 = _S12244 * _S12261;
            float _S12265 = _S12261 + _S12262;
            float _S12266 = _S12243 * _S12261 + _S12260;
            float _S12267 = _S12260 + _S12263;
            float _S12268;
            if(_S12249)
            {
                _S12268 = _S12266;
            }
            else
            {
                DiffPair_float_0 _S12269;
                (&_S12269)->primal_0 = _S12245;
                (&_S12269)->differential_0 = 0.0f;
                s_bwd_prop_exp_0(&_S12269, _S12266);
                _S12268 = 0.90909093618392944f * _S12269.differential_0;
            }
            DiffPair_arrayx3Cfloatx2C8x3E_0 _S12270;
            (&_S12270)->primal_0 = _S12206;
            (&_S12270)->differential_0 = _S12228;
            DiffPair_vectorx3Cfloatx2C3x3E_0 _S12271;
            (&_S12271)->primal_0 = _S12247;
            (&_S12271)->differential_0 = _S12227;
            s_bwd_prop_interp_0(&_S12270, &_S12271, _S12268);
            float3  _S12272 = _S12271.differential_0 / _S12209;
            float3  _S12273 = _S12208.primal_0 * _S12272;
            float3  _S12274 = _S12248 * _S12272;
            float _S12275 = _S12273.x + _S12273.y + _S12273.z + _S12264;
            DiffPair_float_0 _S12276;
            (&_S12276)->primal_0 = _S12220;
            (&_S12276)->differential_0 = 0.0f;
            DiffPair_float_0 _S12277;
            (&_S12277)->primal_0 = _S12225;
            (&_S12277)->differential_0 = 0.0f;
            DiffPair_float_0 _S12278;
            (&_S12278)->primal_0 = _S12246;
            (&_S12278)->differential_0 = 0.0f;
            s_bwd_prop_lerp_0(&_S12276, &_S12277, &_S12278, _S12275);
            float _S12279 = (&_S12270)->differential_0[int(0)] + _S12240[int(0)];
            float _S12280 = (&_S12270)->differential_0[int(1)] + _S12240[int(1)];
            float _S12281 = (&_S12270)->differential_0[int(2)] + _S12240[int(2)];
            float _S12282 = (&_S12270)->differential_0[int(3)] + _S12240[int(3)];
            float _S12283 = (&_S12270)->differential_0[int(4)] + _S12240[int(4)];
            float _S12284 = (&_S12270)->differential_0[int(5)] + _S12240[int(5)];
            float _S12285 = (&_S12270)->differential_0[int(6)] + _S12240[int(6)];
            float _S12286 = (&_S12270)->differential_0[int(7)] + _S12240[int(7)];
            float3  _S12287 = _S12272 + _S12239;
            float3  _S12288 = _S12274 + _S12238;
            float _S12289 = _S12277.differential_0 + _S12236;
            float _S12290 = _S12276.differential_0 + _S12237;
            _S12234 = _S12267;
            _S12235 = _S12265;
            _S12236 = _S12289;
            _S12237 = _S12290;
            _S12238 = _S12288;
            _S12239 = _S12287;
            _S12240[int(0)] = _S12279;
            _S12240[int(1)] = _S12280;
            _S12240[int(2)] = _S12281;
            _S12240[int(3)] = _S12282;
            _S12240[int(4)] = _S12283;
            _S12240[int(5)] = _S12284;
            _S12240[int(6)] = _S12285;
            _S12240[int(7)] = _S12286;
        }
        else
        {
            _S12234 = _S12263;
            _S12235 = _S12262;
        }
        _dc_1 = _dc_1 - int(1);
    }
    DiffPair_float_0 _S12291;
    (&_S12291)->primal_0 = _S12223;
    (&_S12291)->differential_0 = 0.0f;
    DiffPair_float_0 _S12292;
    (&_S12292)->primal_0 = _S12224;
    (&_S12292)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S12291, &_S12292, _S12236);
    DiffPair_float_0 _S12293;
    (&_S12293)->primal_0 = _S12221;
    (&_S12293)->differential_0 = 0.0f;
    DiffPair_float_0 _S12294;
    (&_S12294)->primal_0 = _S12222;
    (&_S12294)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S12293, &_S12294, _S12291.differential_0);
    DiffPair_float_0 _S12295;
    (&_S12295)->primal_0 = _S12217;
    (&_S12295)->differential_0 = 0.0f;
    DiffPair_float_0 _S12296;
    (&_S12296)->primal_0 = _S12219;
    (&_S12296)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12295, &_S12296, _S12237);
    DiffPair_float_0 _S12297;
    (&_S12297)->primal_0 = _S12218;
    (&_S12297)->differential_0 = 0.0f;
    DiffPair_float_0 _S12298;
    (&_S12298)->primal_0 = 0.0f;
    (&_S12298)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12297, &_S12298, _S12296.differential_0);
    DiffPair_float_0 _S12299;
    (&_S12299)->primal_0 = _S12215;
    (&_S12299)->differential_0 = 0.0f;
    DiffPair_float_0 _S12300;
    (&_S12300)->primal_0 = _S12216;
    (&_S12300)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S12299, &_S12300, _S12295.differential_0);
    float3  s_diff_tb_T_1 = make_float3 (_S12293.differential_0, _S12294.differential_0, _S12292.differential_0);
    float3  s_diff_ta_T_1 = make_float3 (_S12299.differential_0, _S12300.differential_0, _S12297.differential_0);
    float3  s_diff_n_T_1 = - (s_diff_tb_T_1 + s_diff_ta_T_1);
    float3  _S12301 = _S12211 * (s_diff_tb_T_1 + - s_diff_ta_T_1);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S12302;
    (&_S12302)->primal_0 = m_8;
    (&_S12302)->differential_0 = _S12227;
    s_bwd_prop_abs_1(&_S12302, _S12301);
    float3  _S12303 = m_8 * s_diff_n_T_1;
    float3  _S12304 = - ((_S12302.differential_0 + _S12213 * s_diff_n_T_1) / _S12212) + _S12238;
    dpray_d_7->primal_0 = (*dpray_d_7).primal_0;
    dpray_d_7->differential_0 = _S12304;
    float3  _S12305 = _S12303 + _S12239;
    dpray_o_7->primal_0 = (*dpray_o_7).primal_0;
    dpray_o_7->differential_0 = _S12305;
    dprgb_30->primal_0 = (*dprgb_30).primal_0;
    dprgb_30->differential_0 = dpout_rgb_2;
    dpdensities_5->primal_0 = dpdensities_5->primal_0;
    dpdensities_5->differential_0 = _S12240;
    return;
}

inline __device__ void s_bwd_evaluate_color_voxel_0(float3  _S12306, float _S12307, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S12308, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12309, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12310, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S12311, float3  _S12312, float _S12313)
{
    FixedArray<float, 8>  _S12314 = _S12308->primal_0;
    float3  _S12315;
    float _S12316;
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S12317;
    s_primal_ctx_evaluate_color_voxel_0(_S12306, _S12307, &_S12314, (*_S12309).primal_0, (*_S12310).primal_0, (*_S12311).primal_0, &_S12315, &_S12316, &_S12317);
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S12318 = _S12317;
    s_bwd_prop_evaluate_color_voxel_0(_S12306, _S12307, _S12308, _S12309, _S12310, _S12311, _S12312, _S12313, &_S12318);
    return;
}

inline __device__ void evaluate_color_voxel_vjp(float3  pos_13, float size_13, FixedArray<float, 8>  * densities_10, float3  rgb_41, float3  ray_o_14, float3  ray_d_14, float3  v_out_rgb_1, float v_depth_25, FixedArray<float, 8>  * v_densities_3, float3  * v_rgb_24, float3  * v_ray_o_6, float3  * v_ray_d_6)
{
    FixedArray<float, 8>  _S12319 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_1;
    (&dp_densities_1)->primal_0 = *densities_10;
    (&dp_densities_1)->differential_0 = _S12319;
    float3  _S12320 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_1;
    (&dp_rgb_1)->primal_0 = rgb_41;
    (&dp_rgb_1)->differential_0 = _S12320;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_5;
    (&dp_ray_o_5)->primal_0 = ray_o_14;
    (&dp_ray_o_5)->differential_0 = _S12320;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_5;
    (&dp_ray_d_5)->primal_0 = ray_d_14;
    (&dp_ray_d_5)->differential_0 = _S12320;
    s_bwd_evaluate_color_voxel_0(pos_13, size_13, &dp_densities_1, &dp_rgb_1, &dp_ray_o_5, &dp_ray_d_5, v_out_rgb_1, v_depth_25);
    *v_densities_3 = (&dp_densities_1)->differential_0;
    *v_rgb_24 = dp_rgb_1.differential_0;
    *v_ray_o_6 = dp_ray_o_5.differential_0;
    *v_ray_d_6 = dp_ray_d_5.differential_0;
    return;
}

