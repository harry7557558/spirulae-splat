#pragma once

// #if defined(CUDART_VERSION) && CUDART_VERSION >= 12000
// typedef double4_32a my_double4;
// typedef longlong4_32a my_longlong4;
// typedef ulonglong4_32a my_ulonglong4;
// #else
// typedef double4 my_double4;
// typedef longlong4 my_longlong4;
// typedef ulonglong4 my_ulonglong4;
// #endif

#include "slang.cuh"

inline __device__ Matrix<float, 3, 3>  transpose_0(Matrix<float, 3, 3>  x_0)
{
    Matrix<float, 3, 3>  result_0;
    int r_0 = int(0);
    for(;;)
    {
        if(r_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_0 = int(0);
        for(;;)
        {
            if(c_0 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_0)->rows + (r_0)), c_0) = _slang_vector_get_element(x_0.rows[c_0], r_0);
            c_0 = c_0 + int(1);
        }
        r_0 = r_0 + int(1);
    }
    return result_0;
}

inline __device__ Matrix<float, 3, 2>  transpose_1(Matrix<float, 2, 3>  x_1)
{
    Matrix<float, 3, 2>  result_1;
    int r_1 = int(0);
    for(;;)
    {
        if(r_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_1 = int(0);
        for(;;)
        {
            if(c_1 < int(2))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_1)->rows + (r_1)), c_1) = _slang_vector_get_element(x_1.rows[c_1], r_1);
            c_1 = c_1 + int(1);
        }
        r_1 = r_1 + int(1);
    }
    return result_1;
}

inline __device__ Matrix<float, 2, 3>  transpose_2(Matrix<float, 3, 2>  x_2)
{
    Matrix<float, 2, 3>  result_2;
    int r_2 = int(0);
    for(;;)
    {
        if(r_2 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_2 = int(0);
        for(;;)
        {
            if(c_2 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_2)->rows + (r_2)), c_2) = _slang_vector_get_element(x_2.rows[c_2], r_2);
            c_2 = c_2 + int(1);
        }
        r_2 = r_2 + int(1);
    }
    return result_2;
}

inline __device__ Matrix<float, 3, 3>  normalized_quat_to_rotmat(float4  quat_0)
{
    float x_3 = quat_0.y;
    float x2_0 = x_3 * x_3;
    float y2_0 = quat_0.z * quat_0.z;
    float z2_0 = quat_0.w * quat_0.w;
    float xy_0 = quat_0.y * quat_0.z;
    float xz_0 = quat_0.y * quat_0.w;
    float yz_0 = quat_0.z * quat_0.w;
    float wx_0 = quat_0.x * quat_0.y;
    float wy_0 = quat_0.x * quat_0.z;
    float wz_0 = quat_0.x * quat_0.w;
    return transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_0 + z2_0), 2.0f * (xy_0 + wz_0), 2.0f * (xz_0 - wy_0), 2.0f * (xy_0 - wz_0), 1.0f - 2.0f * (x2_0 + z2_0), 2.0f * (yz_0 + wx_0), 2.0f * (xz_0 + wy_0), 2.0f * (yz_0 - wx_0), 1.0f - 2.0f * (x2_0 + y2_0)));
}

struct DiffPair_matrixx3Cfloatx2C3x2C3x3E_0
{
    Matrix<float, 3, 3>  primal_0;
    Matrix<float, 3, 3>  differential_0;
};

struct DiffPair_vectorx3Cfloatx2C3x3E_0
{
    float3  primal_0;
    float3  differential_0;
};

inline __device__ void _d_mul_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * right_0, float3  dOut_0)
{
    float _S1 = (*left_0).primal_0.rows[int(0)].x * dOut_0.x;
    Matrix<float, 3, 3>  left_d_result_0;
    *&(((&left_d_result_0)->rows + (int(0)))->x) = (*right_0).primal_0.x * dOut_0.x;
    float sum_0 = _S1 + (*left_0).primal_0.rows[int(1)].x * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->x) = (*right_0).primal_0.x * dOut_0.y;
    float sum_1 = sum_0 + (*left_0).primal_0.rows[int(2)].x * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->x) = (*right_0).primal_0.x * dOut_0.z;
    float3  right_d_result_0;
    *&((&right_d_result_0)->x) = sum_1;
    float _S2 = (*left_0).primal_0.rows[int(0)].y * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->y) = (*right_0).primal_0.y * dOut_0.x;
    float sum_2 = _S2 + (*left_0).primal_0.rows[int(1)].y * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->y) = (*right_0).primal_0.y * dOut_0.y;
    float sum_3 = sum_2 + (*left_0).primal_0.rows[int(2)].y * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->y) = (*right_0).primal_0.y * dOut_0.z;
    *&((&right_d_result_0)->y) = sum_3;
    float _S3 = (*left_0).primal_0.rows[int(0)].z * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->z) = (*right_0).primal_0.z * dOut_0.x;
    float sum_4 = _S3 + (*left_0).primal_0.rows[int(1)].z * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->z) = (*right_0).primal_0.z * dOut_0.y;
    float sum_5 = sum_4 + (*left_0).primal_0.rows[int(2)].z * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->z) = (*right_0).primal_0.z * dOut_0.z;
    *&((&right_d_result_0)->z) = sum_5;
    left_0->primal_0 = (*left_0).primal_0;
    left_0->differential_0 = left_d_result_0;
    right_0->primal_0 = (*right_0).primal_0;
    right_0->differential_0 = right_d_result_0;
    return;
}

inline __device__ float3  mul_0(Matrix<float, 3, 3>  left_1, float3  right_1)
{
    float3  result_3;
    int i_0 = int(0);
    for(;;)
    {
        if(i_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int j_0 = int(0);
        float sum_6 = 0.0f;
        for(;;)
        {
            if(j_0 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_7 = sum_6 + _slang_vector_get_element(left_1.rows[i_0], j_0) * _slang_vector_get_element(right_1, j_0);
            j_0 = j_0 + int(1);
            sum_6 = sum_7;
        }
        *_slang_vector_get_element_ptr(&result_3, i_0) = sum_6;
        i_0 = i_0 + int(1);
    }
    return result_3;
}

inline __device__ void posW2C(Matrix<float, 3, 3>  R_0, float3  t_0, float3  pW_0, float3  * pC_0)
{
    *pC_0 = mul_0(R_0, pW_0) + t_0;
    return;
}

inline __device__ void mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_2, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_2, Matrix<float, 3, 3>  dOut_1)
{
    Matrix<float, 3, 3>  left_d_result_1;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_1;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    left_2->primal_0 = (*left_2).primal_0;
    left_2->differential_0 = left_d_result_1;
    right_2->primal_0 = (*right_2).primal_0;
    right_2->differential_0 = right_d_result_1;
    return;
}

struct DiffPair_matrixx3Cfloatx2C2x2C3x3E_0
{
    Matrix<float, 2, 3>  primal_0;
    Matrix<float, 2, 3>  differential_0;
};

inline __device__ void mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_3, Matrix<float, 2, 3>  dOut_2)
{
    Matrix<float, 2, 3>  left_d_result_2;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_2;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    left_3->primal_0 = (*left_3).primal_0;
    left_3->differential_0 = left_d_result_2;
    right_3->primal_0 = (*right_3).primal_0;
    right_3->differential_0 = right_d_result_2;
    return;
}

struct DiffPair_matrixx3Cfloatx2C3x2C2x3E_0
{
    Matrix<float, 3, 2>  primal_0;
    Matrix<float, 3, 2>  differential_0;
};

inline __device__ void mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_4, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * right_4, Matrix<float, 2, 2>  dOut_3)
{
    Matrix<float, 2, 3>  left_d_result_3;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 2>  right_d_result_3;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].y;
    left_4->primal_0 = (*left_4).primal_0;
    left_4->differential_0 = left_d_result_3;
    right_4->primal_0 = (*right_4).primal_0;
    right_4->differential_0 = right_d_result_3;
    return;
}

inline __device__ Matrix<float, 3, 3>  mul_4(Matrix<float, 3, 3>  left_5, Matrix<float, 3, 3>  right_5)
{
    Matrix<float, 3, 3>  result_4;
    int r_3 = int(0);
    for(;;)
    {
        if(r_3 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_3 = int(0);
        for(;;)
        {
            if(c_3 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_1 = int(0);
            float sum_8 = 0.0f;
            for(;;)
            {
                if(i_1 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_9 = sum_8 + _slang_vector_get_element(left_5.rows[r_3], i_1) * _slang_vector_get_element(right_5.rows[i_1], c_3);
                i_1 = i_1 + int(1);
                sum_8 = sum_9;
            }
            *_slang_vector_get_element_ptr(((&result_4)->rows + (r_3)), c_3) = sum_8;
            c_3 = c_3 + int(1);
        }
        r_3 = r_3 + int(1);
    }
    return result_4;
}

inline __device__ Matrix<float, 2, 3>  mul_5(Matrix<float, 2, 3>  left_6, Matrix<float, 3, 3>  right_6)
{
    Matrix<float, 2, 3>  result_5;
    int r_4 = int(0);
    for(;;)
    {
        if(r_4 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_4 = int(0);
        for(;;)
        {
            if(c_4 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_2 = int(0);
            float sum_10 = 0.0f;
            for(;;)
            {
                if(i_2 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_11 = sum_10 + _slang_vector_get_element(left_6.rows[r_4], i_2) * _slang_vector_get_element(right_6.rows[i_2], c_4);
                i_2 = i_2 + int(1);
                sum_10 = sum_11;
            }
            *_slang_vector_get_element_ptr(((&result_5)->rows + (r_4)), c_4) = sum_10;
            c_4 = c_4 + int(1);
        }
        r_4 = r_4 + int(1);
    }
    return result_5;
}

inline __device__ Matrix<float, 2, 2>  mul_6(Matrix<float, 2, 3>  left_7, Matrix<float, 3, 2>  right_7)
{
    Matrix<float, 2, 2>  result_6;
    int r_5 = int(0);
    for(;;)
    {
        if(r_5 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_5 = int(0);
        for(;;)
        {
            if(c_5 < int(2))
            {
            }
            else
            {
                break;
            }
            int i_3 = int(0);
            float sum_12 = 0.0f;
            for(;;)
            {
                if(i_3 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_13 = sum_12 + _slang_vector_get_element(left_7.rows[r_5], i_3) * _slang_vector_get_element(right_7.rows[i_3], c_5);
                i_3 = i_3 + int(1);
                sum_12 = sum_13;
            }
            *_slang_vector_get_element_ptr(((&result_6)->rows + (r_5)), c_5) = sum_12;
            c_5 = c_5 + int(1);
        }
        r_5 = r_5 + int(1);
    }
    return result_6;
}

inline __device__ void covarW2C(Matrix<float, 3, 3>  R_1, Matrix<float, 3, 3>  covarW_0, Matrix<float, 3, 3>  * covarC_0)
{
    *covarC_0 = mul_4(mul_4(R_1, covarW_0), transpose_0(R_1));
    return;
}

inline __device__ void quat_scale_to_covar(float4  quat_1, float3  scale_0, Matrix<float, 3, 3>  * covar_0)
{
    float x_4 = quat_1.y;
    float x2_1 = x_4 * x_4;
    float y2_1 = quat_1.z * quat_1.z;
    float z2_1 = quat_1.w * quat_1.w;
    float xy_1 = quat_1.y * quat_1.z;
    float xz_1 = quat_1.y * quat_1.w;
    float yz_1 = quat_1.z * quat_1.w;
    float wx_1 = quat_1.x * quat_1.y;
    float wy_1 = quat_1.x * quat_1.z;
    float wz_1 = quat_1.x * quat_1.w;
    Matrix<float, 3, 3>  M_0 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_1 + z2_1), 2.0f * (xy_1 + wz_1), 2.0f * (xz_1 - wy_1), 2.0f * (xy_1 - wz_1), 1.0f - 2.0f * (x2_1 + z2_1), 2.0f * (yz_1 + wx_1), 2.0f * (xz_1 + wy_1), 2.0f * (yz_1 - wx_1), 1.0f - 2.0f * (x2_1 + y2_1))), makeMatrix<float, 3, 3> (scale_0.x, 0.0f, 0.0f, 0.0f, scale_0.y, 0.0f, 0.0f, 0.0f, scale_0.z));
    *covar_0 = mul_4(M_0, transpose_0(M_0));
    return;
}

inline __device__ void quat_scale_to_sqrt_covar(float4  quat_2, float3  scale_1, Matrix<float, 3, 3>  * M_1)
{
    float x_5 = quat_2.y;
    float x2_2 = x_5 * x_5;
    float y2_2 = quat_2.z * quat_2.z;
    float z2_2 = quat_2.w * quat_2.w;
    float xy_2 = quat_2.y * quat_2.z;
    float xz_2 = quat_2.y * quat_2.w;
    float yz_2 = quat_2.z * quat_2.w;
    float wx_2 = quat_2.x * quat_2.y;
    float wy_2 = quat_2.x * quat_2.z;
    float wz_2 = quat_2.x * quat_2.w;
    *M_1 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_2 + z2_2), 2.0f * (xy_2 + wz_2), 2.0f * (xz_2 - wy_2), 2.0f * (xy_2 - wz_2), 1.0f - 2.0f * (x2_2 + z2_2), 2.0f * (yz_2 + wx_2), 2.0f * (xz_2 + wy_2), 2.0f * (yz_2 - wx_2), 1.0f - 2.0f * (x2_2 + y2_2))), makeMatrix<float, 3, 3> (scale_1.x, 0.0f, 0.0f, 0.0f, scale_1.y, 0.0f, 0.0f, 0.0f, scale_1.z));
    return;
}

inline __device__ Matrix<float, 2, 2>  inverse(Matrix<float, 2, 2>  m_0)
{
    float invdet_0 = 1.0f / (m_0.rows[int(0)].x * m_0.rows[int(1)].y - m_0.rows[int(0)].y * m_0.rows[int(1)].x);
    return makeMatrix<float, 2, 2> (m_0.rows[int(1)].y * invdet_0, - m_0.rows[int(0)].y * invdet_0, - m_0.rows[int(1)].x * invdet_0, m_0.rows[int(0)].x * invdet_0);
}

inline __device__ Matrix<float, 2, 2>  camera_distortion_jac_0(float2  uv_0, FixedArray<float, 10>  * dist_coeffs_0)
{
    float u_0 = uv_0.x;
    float v_0 = uv_0.y;
    float r2_0 = u_0 * u_0 + v_0 * v_0;
    float _S4 = (*dist_coeffs_0)[int(2)] + r2_0 * (*dist_coeffs_0)[int(3)];
    float _S5 = (*dist_coeffs_0)[int(1)] + r2_0 * _S4;
    float _S6 = (*dist_coeffs_0)[int(0)] + r2_0 * _S5;
    float2  _S7 = make_float2 (1.0f + r2_0 * _S6);
    float _S8 = 2.0f * (*dist_coeffs_0)[int(4)];
    float _S9 = _S8 * u_0;
    float _S10 = 2.0f * u_0;
    float _S11 = 2.0f * (*dist_coeffs_0)[int(5)];
    float _S12 = _S11 * u_0;
    float _S13 = 2.0f * v_0;
    float2  _S14 = make_float2 (1.0f, 0.0f) + make_float2 ((*dist_coeffs_0)[int(8)], (*dist_coeffs_0)[int(9)]);
    float2  _S15 = uv_0 * _S14;
    float _S16 = (*dist_coeffs_0)[int(4)] * _S14.y;
    float _S17 = (*dist_coeffs_0)[int(5)] * _S14.x;
    float _S18 = _S15.x + _S15.y;
    float _S19 = r2_0 * _S18;
    float _S20 = r2_0 * _S19;
    float _S21 = (*dist_coeffs_0)[int(7)] * _S14.y + _S16 + (*dist_coeffs_0)[int(6)] * _S14.x + _S17 + _S6 * _S18 + _S5 * _S19 + _S4 * _S20 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S20);
    float _S22 = v_0 * _S21;
    float _S23 = u_0 * _S21;
    float2  _S24 = make_float2 (0.0f, 1.0f) + make_float2 (0.0f, 0.0f);
    float2  _S25 = uv_0 * _S24;
    float _S26 = (*dist_coeffs_0)[int(4)] * _S24.y;
    float _S27 = (*dist_coeffs_0)[int(5)] * _S24.x;
    float _S28 = _S25.x + _S25.y;
    float _S29 = r2_0 * _S28;
    float _S30 = r2_0 * _S29;
    float _S31 = (*dist_coeffs_0)[int(7)] * _S24.y + _S26 + (*dist_coeffs_0)[int(6)] * _S24.x + _S27 + _S6 * _S28 + _S5 * _S29 + _S4 * _S30 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S30);
    float _S32 = v_0 * _S31;
    float _S33 = u_0 * _S31;
    return makeMatrix<float, 2, 2> (_S7 * _S14 + make_float2 (_S11 * (v_0 * _S14.y) + _S10 * _S17 + 2.0f * (u_0 * _S17) + _S8 * (v_0 * _S14.x) + _S23 + _S23, _S13 * _S16 + 2.0f * (v_0 * _S16) + _S12 * _S14.y + _S9 * _S14.x + _S22 + _S22), _S7 * _S24 + make_float2 (_S11 * (v_0 * _S24.y) + _S10 * _S27 + 2.0f * (u_0 * _S27) + _S8 * (v_0 * _S24.x) + _S33 + _S33, _S13 * _S26 + 2.0f * (v_0 * _S26) + _S12 * _S24.y + _S9 * _S24.x + _S32 + _S32));
}

inline __device__ float determinant_0(Matrix<float, 2, 2>  m_1)
{
    return m_1.rows[int(0)].x * m_1.rows[int(1)].y - m_1.rows[int(0)].y * m_1.rows[int(1)].x;
}

struct DiffPair_float_0
{
    float primal_0;
    float differential_0;
};

inline __device__ void _d_min_0(DiffPair_float_0 * dpx_0, DiffPair_float_0 * dpy_0, float dOut_4)
{
    DiffPair_float_0 _S34 = *dpx_0;
    float _S35;
    if(((*dpx_0).primal_0) < ((*dpy_0).primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpx_0).primal_0) > ((*dpy_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpx_0->primal_0 = _S34.primal_0;
    dpx_0->differential_0 = _S35;
    DiffPair_float_0 _S36 = *dpy_0;
    if(((*dpy_0).primal_0) < (_S34.primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpy_0).primal_0) > ((*dpx_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpy_0->primal_0 = _S36.primal_0;
    dpy_0->differential_0 = _S35;
    return;
}

inline __device__ bool is_valid_distortion(float2  uv_1, FixedArray<float, 10>  * dist_coeffs_1)
{
    Matrix<float, 2, 2>  _S37 = camera_distortion_jac_0(uv_1, dist_coeffs_1);
    return (F32_min((determinant_0(_S37)), ((F32_min((_S37.rows[int(0)].x), (_S37.rows[int(1)].y)))))) > 0.0f;
}

inline __device__ void _d_max_0(DiffPair_float_0 * dpx_1, DiffPair_float_0 * dpy_1, float dOut_5)
{
    DiffPair_float_0 _S38 = *dpx_1;
    float _S39;
    if(((*dpx_1).primal_0) > ((*dpy_1).primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpx_1).primal_0) < ((*dpy_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpx_1->primal_0 = _S38.primal_0;
    dpx_1->differential_0 = _S39;
    DiffPair_float_0 _S40 = *dpy_1;
    if(((*dpy_1).primal_0) > (_S38.primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpy_1).primal_0) < ((*dpx_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpy_1->primal_0 = _S40.primal_0;
    dpy_1->differential_0 = _S39;
    return;
}

inline __device__ void _d_sqrt_0(DiffPair_float_0 * dpx_2, float dOut_6)
{
    float _S41 = 0.5f / (F32_sqrt(((F32_max((1.00000001168609742e-07f), ((*dpx_2).primal_0)))))) * dOut_6;
    dpx_2->primal_0 = (*dpx_2).primal_0;
    dpx_2->differential_0 = _S41;
    return;
}

inline __device__ void _d_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_2, float dOut_7)
{
    float3  x_d_result_0;
    *&((&x_d_result_0)->x) = (*dpy_2).primal_0.x * dOut_7;
    float3  y_d_result_0;
    *&((&y_d_result_0)->x) = (*dpx_3).primal_0.x * dOut_7;
    *&((&x_d_result_0)->y) = (*dpy_2).primal_0.y * dOut_7;
    *&((&y_d_result_0)->y) = (*dpx_3).primal_0.y * dOut_7;
    *&((&x_d_result_0)->z) = (*dpy_2).primal_0.z * dOut_7;
    *&((&y_d_result_0)->z) = (*dpx_3).primal_0.z * dOut_7;
    dpx_3->primal_0 = (*dpx_3).primal_0;
    dpx_3->differential_0 = x_d_result_0;
    dpy_2->primal_0 = (*dpy_2).primal_0;
    dpy_2->differential_0 = y_d_result_0;
    return;
}

inline __device__ float dot_0(float3  x_6, float3  y_0)
{
    int i_4 = int(0);
    float result_7 = 0.0f;
    for(;;)
    {
        if(i_4 < int(3))
        {
        }
        else
        {
            break;
        }
        float result_8 = result_7 + _slang_vector_get_element(x_6, i_4) * _slang_vector_get_element(y_0, i_4);
        i_4 = i_4 + int(1);
        result_7 = result_8;
    }
    return result_7;
}

inline __device__ float dot_1(float2  x_7, float2  y_1)
{
    int i_5 = int(0);
    float result_9 = 0.0f;
    for(;;)
    {
        if(i_5 < int(2))
        {
        }
        else
        {
            break;
        }
        float result_10 = result_9 + _slang_vector_get_element(x_7, i_5) * _slang_vector_get_element(y_1, i_5);
        i_5 = i_5 + int(1);
        result_9 = result_10;
    }
    return result_9;
}

inline __device__ float length_0(float2  x_8)
{
    return (F32_sqrt((dot_1(x_8, x_8))));
}

inline __device__ float length_1(float3  x_9)
{
    return (F32_sqrt((dot_0(x_9, x_9))));
}

inline __device__ float2  distort_point(float2  uv_2, bool is_fisheye_0, FixedArray<float, 10>  * dist_coeffs_2)
{
    float2  _S42;
    if(is_fisheye_0)
    {
        float r_6 = length_0(uv_2);
        float theta_0 = (F32_atan((r_6)));
        float _S43;
        if(r_6 < 0.00100000004749745f)
        {
            _S43 = 1.0f - r_6 * r_6 / 3.0f;
        }
        else
        {
            _S43 = theta_0 / r_6;
        }
        _S42 = uv_2 * make_float2 (_S43);
    }
    else
    {
        _S42 = uv_2;
    }
    float u_1 = _S42.x;
    float v_1 = _S42.y;
    float r2_1 = u_1 * u_1 + v_1 * v_1;
    float2  _S44 = _S42 * make_float2 (1.0f + r2_1 * ((*dist_coeffs_2)[int(0)] + r2_1 * ((*dist_coeffs_2)[int(1)] + r2_1 * ((*dist_coeffs_2)[int(2)] + r2_1 * (*dist_coeffs_2)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_2)[int(4)] * u_1 * v_1 + (*dist_coeffs_2)[int(5)] * (r2_1 + 2.0f * u_1 * u_1) + (*dist_coeffs_2)[int(6)] * r2_1, 2.0f * (*dist_coeffs_2)[int(5)] * u_1 * v_1 + (*dist_coeffs_2)[int(4)] * (r2_1 + 2.0f * v_1 * v_1) + (*dist_coeffs_2)[int(7)] * r2_1);
    return _S44 + make_float2 ((*dist_coeffs_2)[int(8)] * _S44.x + (*dist_coeffs_2)[int(9)] * _S44.y, 0.0f);
}

inline __device__ bool undistort_point_0(float2  uv_3, FixedArray<float, 10>  * dist_coeffs_3, int maxiter_0, float2  * uv_undist_0)
{
    int i_6 = int(0);
    float2  q_0 = uv_3;
    for(;;)
    {
        if(i_6 < maxiter_0)
        {
        }
        else
        {
            break;
        }
        float u_2 = q_0.x;
        float v_2 = q_0.y;
        float r2_2 = u_2 * u_2 + v_2 * v_2;
        float2  _S45 = q_0 * make_float2 (1.0f + r2_2 * ((*dist_coeffs_3)[int(0)] + r2_2 * ((*dist_coeffs_3)[int(1)] + r2_2 * ((*dist_coeffs_3)[int(2)] + r2_2 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_2 * v_2 + (*dist_coeffs_3)[int(5)] * (r2_2 + 2.0f * u_2 * u_2) + (*dist_coeffs_3)[int(6)] * r2_2, 2.0f * (*dist_coeffs_3)[int(5)] * u_2 * v_2 + (*dist_coeffs_3)[int(4)] * (r2_2 + 2.0f * v_2 * v_2) + (*dist_coeffs_3)[int(7)] * r2_2);
        float2  r_7 = _S45 + make_float2 ((*dist_coeffs_3)[int(8)] * _S45.x + (*dist_coeffs_3)[int(9)] * _S45.y, 0.0f) - uv_3;
        Matrix<float, 2, 2>  _S46 = camera_distortion_jac_0(q_0, dist_coeffs_3);
        float inv_det_0 = 1.0f / (_S46.rows[int(0)].x * _S46.rows[int(1)].y - _S46.rows[int(0)].y * _S46.rows[int(1)].x);
        float _S47 = r_7.x;
        float _S48 = r_7.y;
        float2  q_1 = q_0 - make_float2 ((_S47 * _S46.rows[int(1)].y - _S48 * _S46.rows[int(0)].y) * inv_det_0, (- _S47 * _S46.rows[int(1)].x + _S48 * _S46.rows[int(0)].x) * inv_det_0);
        i_6 = i_6 + int(1);
        q_0 = q_1;
    }
    *uv_undist_0 = q_0;
    Matrix<float, 2, 2>  _S49 = camera_distortion_jac_0(q_0, dist_coeffs_3);
    bool _S50;
    if((F32_min((determinant_0(_S49)), ((F32_min((_S49.rows[int(0)].x), (_S49.rows[int(1)].y)))))) > 0.0f)
    {
        float u_3 = (*uv_undist_0).x;
        float v_3 = (*uv_undist_0).y;
        float r2_3 = u_3 * u_3 + v_3 * v_3;
        float2  _S51 = *uv_undist_0 * make_float2 (1.0f + r2_3 * ((*dist_coeffs_3)[int(0)] + r2_3 * ((*dist_coeffs_3)[int(1)] + r2_3 * ((*dist_coeffs_3)[int(2)] + r2_3 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_3 * v_3 + (*dist_coeffs_3)[int(5)] * (r2_3 + 2.0f * u_3 * u_3) + (*dist_coeffs_3)[int(6)] * r2_3, 2.0f * (*dist_coeffs_3)[int(5)] * u_3 * v_3 + (*dist_coeffs_3)[int(4)] * (r2_3 + 2.0f * v_3 * v_3) + (*dist_coeffs_3)[int(7)] * r2_3);
        _S50 = (length_0(_S51 + make_float2 ((*dist_coeffs_3)[int(8)] * _S51.x + (*dist_coeffs_3)[int(9)] * _S51.y, 0.0f) - uv_3)) < 0.00999999977648258f;
    }
    else
    {
        _S50 = false;
    }
    return _S50;
}

inline __device__ bool undistort_point(float2  uv_4, bool is_fisheye_1, FixedArray<float, 10>  * dist_coeffs_4, float2  * uv_undist_1)
{
    float2  _S52 = uv_4;
    bool _S53 = undistort_point_0(uv_4, dist_coeffs_4, int(8), &_S52);
    if(!_S53)
    {
        return false;
    }
    float3  raydir_0;
    if(is_fisheye_1)
    {
        float2  _S54 = _S52;
        float theta_1 = length_0(_S52);
        float _S55;
        if(theta_1 < 0.00100000004749745f)
        {
            _S55 = 1.0f - theta_1 * theta_1 / 6.0f;
        }
        else
        {
            _S55 = (F32_sin((theta_1))) / theta_1;
        }
        float3  _S56 = make_float3 ((_S54 * make_float2 (_S55)).x, (_S54 * make_float2 (_S55)).y, (F32_cos((theta_1))));
        raydir_0 = _S56;
    }
    else
    {
        raydir_0 = make_float3 (_S52.x, _S52.y, 1.0f);
    }
    *uv_undist_1 = float2 {raydir_0.x, raydir_0.y} / make_float2 ((F32_max((raydir_0.z), (9.999999960041972e-13f))));
    return true;
}

inline __device__ bool unproject_point(float2  uv_5, bool is_fisheye_2, FixedArray<float, 10>  * dist_coeffs_5, float3  * raydir_1)
{
    float2  _S57 = uv_5;
    int3  _S58 = make_int3 (int(0));
    float3  _S59 = make_float3 ((float)_S58.x, (float)_S58.y, (float)_S58.z);
    *raydir_1 = _S59;
    bool _S60 = undistort_point_0(uv_5, dist_coeffs_5, int(8), &_S57);
    if(!_S60)
    {
        return false;
    }
    float3  _S61;
    if(is_fisheye_2)
    {
        float2  _S62 = _S57;
        float theta_2 = length_0(_S57);
        float _S63;
        if(theta_2 < 0.00100000004749745f)
        {
            _S63 = 1.0f - theta_2 * theta_2 / 6.0f;
        }
        else
        {
            _S63 = (F32_sin((theta_2))) / theta_2;
        }
        float3  _S64 = make_float3 ((_S62 * make_float2 (_S63)).x, (_S62 * make_float2 (_S63)).y, (F32_cos((theta_2))));
        _S61 = _S64;
    }
    else
    {
        _S61 = make_float3 (_S57.x, _S57.y, 1.0f);
    }
    *raydir_1 = _S61;
    return true;
}

inline __device__ float3  normalize_0(float3  x_10)
{
    return x_10 / make_float3 (length_1(x_10));
}

inline __device__ bool generate_ray(float2  uv_6, bool is_fisheye_3, FixedArray<float, 10>  * dist_coeffs_6, float3  * raydir_2)
{
    float2  _S65 = uv_6;
    bool _S66 = undistort_point_0(uv_6, dist_coeffs_6, int(8), &_S65);
    if(!_S66)
    {
        int3  _S67 = make_int3 (int(0));
        float3  _S68 = make_float3 ((float)_S67.x, (float)_S67.y, (float)_S67.z);
        *raydir_2 = _S68;
        return false;
    }
    float3  _S69;
    if(is_fisheye_3)
    {
        float2  _S70 = _S65;
        float theta_3 = length_0(_S65);
        float _S71;
        if(theta_3 < 0.00100000004749745f)
        {
            _S71 = 1.0f - theta_3 * theta_3 / 6.0f;
        }
        else
        {
            _S71 = (F32_sin((theta_3))) / theta_3;
        }
        float3  _S72 = make_float3 ((_S70 * make_float2 (_S71)).x, (_S70 * make_float2 (_S71)).y, (F32_cos((theta_3))));
        _S69 = _S72;
    }
    else
    {
        _S69 = make_float3 (_S65.x, _S65.y, 1.0f);
    }
    *raydir_2 = normalize_0(_S69);
    return true;
}

inline __device__ void _d_mul_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * left_8, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_8, float3  dOut_8)
{
    float _S73 = (*right_8).primal_0.rows[int(0)].x * dOut_8.x;
    Matrix<float, 3, 3>  right_d_result_4;
    *&(((&right_d_result_4)->rows + (int(0)))->x) = (*left_8).primal_0.x * dOut_8.x;
    float sum_14 = _S73 + (*right_8).primal_0.rows[int(0)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(0)))->y) = (*left_8).primal_0.x * dOut_8.y;
    float sum_15 = sum_14 + (*right_8).primal_0.rows[int(0)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(0)))->z) = (*left_8).primal_0.x * dOut_8.z;
    float3  left_d_result_4;
    *&((&left_d_result_4)->x) = sum_15;
    float _S74 = (*right_8).primal_0.rows[int(1)].x * dOut_8.x;
    *&(((&right_d_result_4)->rows + (int(1)))->x) = (*left_8).primal_0.y * dOut_8.x;
    float sum_16 = _S74 + (*right_8).primal_0.rows[int(1)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(1)))->y) = (*left_8).primal_0.y * dOut_8.y;
    float sum_17 = sum_16 + (*right_8).primal_0.rows[int(1)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(1)))->z) = (*left_8).primal_0.y * dOut_8.z;
    *&((&left_d_result_4)->y) = sum_17;
    float _S75 = (*right_8).primal_0.rows[int(2)].x * dOut_8.x;
    *&(((&right_d_result_4)->rows + (int(2)))->x) = (*left_8).primal_0.z * dOut_8.x;
    float sum_18 = _S75 + (*right_8).primal_0.rows[int(2)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(2)))->y) = (*left_8).primal_0.z * dOut_8.y;
    float sum_19 = sum_18 + (*right_8).primal_0.rows[int(2)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(2)))->z) = (*left_8).primal_0.z * dOut_8.z;
    *&((&left_d_result_4)->z) = sum_19;
    left_8->primal_0 = (*left_8).primal_0;
    left_8->differential_0 = left_d_result_4;
    right_8->primal_0 = (*right_8).primal_0;
    right_8->differential_0 = right_d_result_4;
    return;
}

inline __device__ float3  mul_7(float3  left_9, Matrix<float, 3, 3>  right_9)
{
    float3  result_11;
    int j_1 = int(0);
    for(;;)
    {
        if(j_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int i_7 = int(0);
        float sum_20 = 0.0f;
        for(;;)
        {
            if(i_7 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_21 = sum_20 + _slang_vector_get_element(left_9, i_7) * _slang_vector_get_element(right_9.rows[i_7], j_1);
            i_7 = i_7 + int(1);
            sum_20 = sum_21;
        }
        *_slang_vector_get_element_ptr(&result_11, j_1) = sum_20;
        j_1 = j_1 + int(1);
    }
    return result_11;
}

inline __device__ float3  transform_ray_o(Matrix<float, 3, 3>  R_2, float3  t_1)
{
    return - mul_7(t_1, R_2);
}

inline __device__ float3  transform_ray_d(Matrix<float, 3, 3>  R_3, float3  raydir_3)
{
    return mul_7(raydir_3, R_3);
}

inline __device__ float3  undo_transform_ray_d(Matrix<float, 3, 3>  R_4, float3  raydir_4)
{
    return mul_7(raydir_4, transpose_0(R_4));
}

inline __device__ void s_bwd_prop_mul_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S76, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S77, float3  _S78)
{
    _d_mul_1(_S76, _S77, _S78);
    return;
}

inline __device__ void s_bwd_prop_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_0, float3  _s_dOut_0)
{
    float3  _S79 = - _s_dOut_0;
    float3  _S80 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S81;
    (&_S81)->primal_0 = (*dpt_0).primal_0;
    (&_S81)->differential_0 = _S80;
    Matrix<float, 3, 3>  _S82 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S83;
    (&_S83)->primal_0 = (*dpR_0).primal_0;
    (&_S83)->differential_0 = _S82;
    s_bwd_prop_mul_0(&_S81, &_S83, _S79);
    dpt_0->primal_0 = (*dpt_0).primal_0;
    dpt_0->differential_0 = _S81.differential_0;
    dpR_0->primal_0 = (*dpR_0).primal_0;
    dpR_0->differential_0 = _S83.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S84, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S85, float3  _S86)
{
    s_bwd_prop_transform_ray_o_0(_S84, _S85, _S86);
    return;
}

inline __device__ void transform_ray_o_vjp(Matrix<float, 3, 3>  R_5, float3  t_2, float3  v_ray_o_0, Matrix<float, 3, 3>  * v_R_0, float3  * v_t_0)
{
    Matrix<float, 3, 3>  _S87 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_0;
    (&dp_R_0)->primal_0 = R_5;
    (&dp_R_0)->differential_0 = _S87;
    float3  _S88 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_0;
    (&dp_t_0)->primal_0 = t_2;
    (&dp_t_0)->differential_0 = _S88;
    s_bwd_transform_ray_o_0(&dp_R_0, &dp_t_0, v_ray_o_0);
    *v_R_0 = dp_R_0.differential_0;
    *v_t_0 = dp_t_0.differential_0;
    return;
}

inline __device__ void s_bwd_prop_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpraydir_0, float3  _s_dOut_1)
{
    float3  _S89 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S90;
    (&_S90)->primal_0 = (*dpraydir_0).primal_0;
    (&_S90)->differential_0 = _S89;
    Matrix<float, 3, 3>  _S91 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S92;
    (&_S92)->primal_0 = (*dpR_1).primal_0;
    (&_S92)->differential_0 = _S91;
    s_bwd_prop_mul_0(&_S90, &_S92, _s_dOut_1);
    dpraydir_0->primal_0 = (*dpraydir_0).primal_0;
    dpraydir_0->differential_0 = _S90.differential_0;
    dpR_1->primal_0 = (*dpR_1).primal_0;
    dpR_1->differential_0 = _S92.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S93, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S94, float3  _S95)
{
    s_bwd_prop_transform_ray_d_0(_S93, _S94, _S95);
    return;
}

inline __device__ void transform_ray_d_vjp(Matrix<float, 3, 3>  R_6, float3  raydir_5, float3  v_ray_d_0, Matrix<float, 3, 3>  * v_R_1, float3  * v_raydir_0)
{
    Matrix<float, 3, 3>  _S96 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_1;
    (&dp_R_1)->primal_0 = R_6;
    (&dp_R_1)->differential_0 = _S96;
    float3  _S97 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_raydir_0;
    (&dp_raydir_0)->primal_0 = raydir_5;
    (&dp_raydir_0)->differential_0 = _S97;
    s_bwd_transform_ray_d_0(&dp_R_1, &dp_raydir_0, v_ray_d_0);
    *v_R_1 = dp_R_1.differential_0;
    *v_raydir_0 = dp_raydir_0.differential_0;
    return;
}

inline __device__ void _d_exp_0(DiffPair_float_0 * dpx_4, float dOut_9)
{
    float _S98 = (F32_exp(((*dpx_4).primal_0))) * dOut_9;
    dpx_4->primal_0 = (*dpx_4).primal_0;
    dpx_4->differential_0 = _S98;
    return;
}

inline __device__ void map_opaque_triangle(float3  mean_0, float4  quat_3, float3  scale_2, float3  * vert0_0, float3  * vert1_0, float3  * vert2_0)
{
    float _S99 = scale_2.x;
    float sx_0 = (F32_exp((_S99)));
    float _S100 = scale_2.y;
    float sy_0 = (F32_exp((_S100)));
    float sz_0 = scale_2.z - 0.5f * (_S99 + _S100);
    float x_11 = quat_3.y;
    float x2_3 = x_11 * x_11;
    float y2_3 = quat_3.z * quat_3.z;
    float z2_3 = quat_3.w * quat_3.w;
    float xy_3 = quat_3.y * quat_3.z;
    float xz_3 = quat_3.y * quat_3.w;
    float yz_3 = quat_3.z * quat_3.w;
    float wx_3 = quat_3.x * quat_3.y;
    float wy_3 = quat_3.x * quat_3.z;
    float wz_3 = quat_3.x * quat_3.w;
    Matrix<float, 3, 3>  _S101 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_3 + z2_3), 2.0f * (xy_3 + wz_3), 2.0f * (xz_3 - wy_3), 2.0f * (xy_3 - wz_3), 1.0f - 2.0f * (x2_3 + z2_3), 2.0f * (yz_3 + wx_3), 2.0f * (xz_3 + wy_3), 2.0f * (yz_3 - wx_3), 1.0f - 2.0f * (x2_3 + y2_3)));
    *vert0_0 = mul_0(_S101, make_float3 (sx_0, 0.0f, 0.0f)) + mean_0;
    *vert1_0 = mul_0(_S101, make_float3 (sx_0 * (-0.5f + sz_0), sy_0, 0.0f)) + mean_0;
    *vert2_0 = mul_0(_S101, make_float3 (sx_0 * (-0.5f - sz_0), - sy_0, 0.0f)) + mean_0;
    return;
}

inline __device__ void _d_clamp_0(DiffPair_float_0 * dpx_5, DiffPair_float_0 * dpMin_0, DiffPair_float_0 * dpMax_0, float dOut_10)
{
    DiffPair_float_0 _S102 = *dpx_5;
    bool _S103;
    if(((*dpx_5).primal_0) >= ((*dpMin_0).primal_0))
    {
        _S103 = ((*dpx_5).primal_0) <= ((*dpMax_0).primal_0);
    }
    else
    {
        _S103 = false;
    }
    float _S104;
    if(_S103)
    {
        _S104 = dOut_10;
    }
    else
    {
        _S104 = 0.0f;
    }
    dpx_5->primal_0 = _S102.primal_0;
    dpx_5->differential_0 = _S104;
    DiffPair_float_0 _S105 = *dpMin_0;
    if((_S102.primal_0) < ((*dpMin_0).primal_0))
    {
        _S104 = dOut_10;
    }
    else
    {
        _S104 = 0.0f;
    }
    dpMin_0->primal_0 = _S105.primal_0;
    dpMin_0->differential_0 = _S104;
    DiffPair_float_0 _S106 = *dpMax_0;
    if(((*dpx_5).primal_0) > ((*dpMax_0).primal_0))
    {
        _S104 = dOut_10;
    }
    else
    {
        _S104 = 0.0f;
    }
    dpMax_0->primal_0 = _S106.primal_0;
    dpMax_0->differential_0 = _S104;
    return;
}

inline __device__ float clamp_0(float x_12, float minBound_0, float maxBound_0)
{
    return (F32_min(((F32_max((x_12), (minBound_0)))), (maxBound_0)));
}

inline __device__ bool persp_proj_3dgs_0(float3  mean3d_0, Matrix<float, 3, 3>  cov3d_0, float4  intrins_0, FixedArray<float, 10>  * dist_coeffs_7, uint width_0, uint height_0, Matrix<float, 2, 2>  * cov2d_0, float2  * mean2d_0)
{
    bool _S107;
    float2  _S108;
    float _S109;
    float cx_0 = intrins_0.z;
    float cy_0 = intrins_0.w;
    for(;;)
    {
        float2  _S110 = float2 {mean3d_0.x, mean3d_0.y};
        _S108 = _S110;
        float _S111 = mean3d_0.z;
        _S109 = _S111;
        *mean2d_0 = _S110 / make_float2 (_S111);
        if(_S111 < 0.0f)
        {
            _S107 = true;
        }
        else
        {
            Matrix<float, 2, 2>  _S112 = camera_distortion_jac_0(*mean2d_0, dist_coeffs_7);
            _S107 = !((F32_min((determinant_0(_S112)), ((F32_min((_S112.rows[int(0)].x), (_S112.rows[int(1)].y)))))) > 0.0f);
        }
        if(_S107)
        {
            break;
        }
        float u_4 = (*mean2d_0).x;
        float v_4 = (*mean2d_0).y;
        float r2_4 = u_4 * u_4 + v_4 * v_4;
        float2  _S113 = *mean2d_0 * make_float2 (1.0f + r2_4 * ((*dist_coeffs_7)[int(0)] + r2_4 * ((*dist_coeffs_7)[int(1)] + r2_4 * ((*dist_coeffs_7)[int(2)] + r2_4 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_4 * v_4 + (*dist_coeffs_7)[int(5)] * (r2_4 + 2.0f * u_4 * u_4) + (*dist_coeffs_7)[int(6)] * r2_4, 2.0f * (*dist_coeffs_7)[int(5)] * u_4 * v_4 + (*dist_coeffs_7)[int(4)] * (r2_4 + 2.0f * v_4 * v_4) + (*dist_coeffs_7)[int(7)] * r2_4);
        float2  _S114 = _S113 + make_float2 ((*dist_coeffs_7)[int(8)] * _S113.x + (*dist_coeffs_7)[int(9)] * _S113.y, 0.0f);
        *mean2d_0 = make_float2 (intrins_0.x * _S114.x + cx_0, intrins_0.y * _S114.y + cy_0);
        break;
    }
    if(!!_S107)
    {
        return false;
    }
    Matrix<float, 2, 3>  J_0;
    float2  _S115 = make_float2 (0.0f);
    float2  seed_0 = _S115;
    *&((&seed_0)->x) = 1.0f;
    float2  _S116 = make_float2 (_S109);
    float2  _S117 = _S108 / make_float2 (_S109);
    float2  _S118 = make_float2 (_S109 * _S109);
    float u_5 = _S117.x;
    float v_5 = _S117.y;
    float r2_5 = u_5 * u_5 + v_5 * v_5;
    float _S119 = (*dist_coeffs_7)[int(2)] + r2_5 * (*dist_coeffs_7)[int(3)];
    float _S120 = (*dist_coeffs_7)[int(1)] + r2_5 * _S119;
    float _S121 = (*dist_coeffs_7)[int(0)] + r2_5 * _S120;
    float _S122 = 2.0f * (*dist_coeffs_7)[int(4)];
    float _S123 = 2.0f * (*dist_coeffs_7)[int(5)];
    float fx_0 = intrins_0.x;
    float fy_0 = intrins_0.y;
    float _S124 = fx_0 * seed_0.x;
    float2  _S125 = make_float2 (_S124, fy_0 * seed_0.y) + make_float2 ((*dist_coeffs_7)[int(8)] * _S124, (*dist_coeffs_7)[int(9)] * _S124);
    float2  _S126 = _S117 * _S125;
    float _S127 = (*dist_coeffs_7)[int(4)] * _S125.y;
    float _S128 = (*dist_coeffs_7)[int(5)] * _S125.x;
    float _S129 = _S126.x + _S126.y;
    float _S130 = r2_5 * _S129;
    float _S131 = r2_5 * _S130;
    float _S132 = (*dist_coeffs_7)[int(7)] * _S125.y + _S127 + (*dist_coeffs_7)[int(6)] * _S125.x + _S128 + _S121 * _S129 + _S120 * _S130 + _S119 * _S131 + (*dist_coeffs_7)[int(3)] * (r2_5 * _S131);
    float _S133 = v_5 * _S132;
    float _S134 = u_5 * _S132;
    float2  _S135 = (make_float2 (1.0f + r2_5 * _S121) * _S125 + make_float2 (_S123 * (v_5 * _S125.y) + 2.0f * u_5 * _S128 + 2.0f * (u_5 * _S128) + _S122 * (v_5 * _S125.x) + _S134 + _S134, 2.0f * v_5 * _S127 + 2.0f * (v_5 * _S127) + _S123 * u_5 * _S125.y + _S122 * u_5 * _S125.x + _S133 + _S133)) / _S118;
    float2  _S136 = _S108 * - _S135;
    float2  _S137 = _S116 * _S135;
    Matrix<float, 2, 3>  J_1;
    J_1[int(0)] = make_float3 (_S137.x, _S137.y, _S136.x + _S136.y);
    float2  seed_1 = _S115;
    *&((&seed_1)->y) = 1.0f;
    float2  _S138 = _S108 / make_float2 (_S109);
    float u_6 = _S138.x;
    float v_6 = _S138.y;
    float r2_6 = u_6 * u_6 + v_6 * v_6;
    float _S139 = (*dist_coeffs_7)[int(2)] + r2_6 * (*dist_coeffs_7)[int(3)];
    float _S140 = (*dist_coeffs_7)[int(1)] + r2_6 * _S139;
    float _S141 = (*dist_coeffs_7)[int(0)] + r2_6 * _S140;
    float _S142 = fx_0 * seed_1.x;
    float2  _S143 = make_float2 (_S142, fy_0 * seed_1.y) + make_float2 ((*dist_coeffs_7)[int(8)] * _S142, (*dist_coeffs_7)[int(9)] * _S142);
    float2  _S144 = _S138 * _S143;
    float _S145 = (*dist_coeffs_7)[int(4)] * _S143.y;
    float _S146 = (*dist_coeffs_7)[int(5)] * _S143.x;
    float _S147 = _S144.x + _S144.y;
    float _S148 = r2_6 * _S147;
    float _S149 = r2_6 * _S148;
    float _S150 = (*dist_coeffs_7)[int(7)] * _S143.y + _S145 + (*dist_coeffs_7)[int(6)] * _S143.x + _S146 + _S141 * _S147 + _S140 * _S148 + _S139 * _S149 + (*dist_coeffs_7)[int(3)] * (r2_6 * _S149);
    float _S151 = v_6 * _S150;
    float _S152 = u_6 * _S150;
    float2  _S153 = (make_float2 (1.0f + r2_6 * _S141) * _S143 + make_float2 (_S123 * (v_6 * _S143.y) + 2.0f * u_6 * _S146 + 2.0f * (u_6 * _S146) + _S122 * (v_6 * _S143.x) + _S152 + _S152, 2.0f * v_6 * _S145 + 2.0f * (v_6 * _S145) + _S123 * u_6 * _S143.y + _S122 * u_6 * _S143.x + _S151 + _S151)) / _S118;
    float2  _S154 = _S108 * - _S153;
    float2  _S155 = _S116 * _S153;
    J_1[int(1)] = make_float3 (_S155.x, _S155.y, _S154.x + _S154.y);
    J_0 = J_1;
    float _S156 = float(width_0);
    float _S157 = 0.30000001192092896f * (0.5f * _S156);
    float lim_x_pos_0 = _S156 + _S157;
    float rz_0 = 1.0f / _S109;
    float _S158 = - _S157;
    float max_Jyz_0 = - (_S158 - cy_0) * rz_0;
    float min_Jyz_0 = - (lim_x_pos_0 - cy_0) * rz_0;
    *&(((&J_0)->rows + (int(0)))->z) = clamp_0(*&(((&J_0)->rows + (int(0)))->z), - (lim_x_pos_0 - cx_0) * rz_0, - (_S158 - cx_0) * rz_0);
    *&(((&J_0)->rows + (int(1)))->z) = clamp_0(*&(((&J_0)->rows + (int(1)))->z), min_Jyz_0, max_Jyz_0);
    *cov2d_0 = mul_6(mul_5(J_0, cov3d_0), transpose_1(J_0));
    return true;
}

inline __device__ bool persp_proj_3dgs_1(float3  mean3d_1, Matrix<float, 3, 3>  cov3d_1, float4  intrins_1, FixedArray<float, 10>  * dist_coeffs_8, uint width_1, uint height_1, Matrix<float, 2, 2>  * cov2d_1, float2  * mean2d_1)
{
    float cx_1 = intrins_1.z;
    float cy_1 = intrins_1.w;
    float2  _S159 = float2 {mean3d_1.x, mean3d_1.y};
    float _S160 = mean3d_1.z;
    float2  _S161 = _S159 / make_float2 (_S160);
    float u_7 = _S161.x;
    float v_7 = _S161.y;
    float r2_7 = u_7 * u_7 + v_7 * v_7;
    float _S162 = 2.0f * (*dist_coeffs_8)[int(4)];
    float _S163 = 2.0f * (*dist_coeffs_8)[int(5)];
    float2  _S164 = _S161 * make_float2 (1.0f + r2_7 * ((*dist_coeffs_8)[int(0)] + r2_7 * ((*dist_coeffs_8)[int(1)] + r2_7 * ((*dist_coeffs_8)[int(2)] + r2_7 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S162 * u_7 * v_7 + (*dist_coeffs_8)[int(5)] * (r2_7 + 2.0f * u_7 * u_7) + (*dist_coeffs_8)[int(6)] * r2_7, _S163 * u_7 * v_7 + (*dist_coeffs_8)[int(4)] * (r2_7 + 2.0f * v_7 * v_7) + (*dist_coeffs_8)[int(7)] * r2_7);
    float2  _S165 = _S164 + make_float2 ((*dist_coeffs_8)[int(8)] * _S164.x + (*dist_coeffs_8)[int(9)] * _S164.y, 0.0f);
    float fx_1 = intrins_1.x;
    float fy_1 = intrins_1.y;
    *mean2d_1 = make_float2 (fx_1 * _S165.x + cx_1, fy_1 * _S165.y + cy_1);
    float2  _S166 = make_float2 (0.0f);
    float2  seed_2 = _S166;
    *&((&seed_2)->x) = 1.0f;
    float2  _S167 = make_float2 (_S160);
    float2  _S168 = _S159 / make_float2 (_S160);
    float2  _S169 = make_float2 (_S160 * _S160);
    float u_8 = _S168.x;
    float v_8 = _S168.y;
    float r2_8 = u_8 * u_8 + v_8 * v_8;
    float _S170 = (*dist_coeffs_8)[int(2)] + r2_8 * (*dist_coeffs_8)[int(3)];
    float _S171 = (*dist_coeffs_8)[int(1)] + r2_8 * _S170;
    float _S172 = (*dist_coeffs_8)[int(0)] + r2_8 * _S171;
    float _S173 = fx_1 * seed_2.x;
    float2  _S174 = make_float2 (_S173, fy_1 * seed_2.y) + make_float2 ((*dist_coeffs_8)[int(8)] * _S173, (*dist_coeffs_8)[int(9)] * _S173);
    float2  _S175 = _S168 * _S174;
    float _S176 = (*dist_coeffs_8)[int(4)] * _S174.y;
    float _S177 = (*dist_coeffs_8)[int(5)] * _S174.x;
    float _S178 = _S175.x + _S175.y;
    float _S179 = r2_8 * _S178;
    float _S180 = r2_8 * _S179;
    float _S181 = (*dist_coeffs_8)[int(7)] * _S174.y + _S176 + (*dist_coeffs_8)[int(6)] * _S174.x + _S177 + _S172 * _S178 + _S171 * _S179 + _S170 * _S180 + (*dist_coeffs_8)[int(3)] * (r2_8 * _S180);
    float _S182 = v_8 * _S181;
    float _S183 = u_8 * _S181;
    float2  _S184 = (make_float2 (1.0f + r2_8 * _S172) * _S174 + make_float2 (_S163 * (v_8 * _S174.y) + 2.0f * u_8 * _S177 + 2.0f * (u_8 * _S177) + _S162 * (v_8 * _S174.x) + _S183 + _S183, 2.0f * v_8 * _S176 + 2.0f * (v_8 * _S176) + _S163 * u_8 * _S174.y + _S162 * u_8 * _S174.x + _S182 + _S182)) / _S169;
    float2  _S185 = _S159 * - _S184;
    float2  _S186 = _S167 * _S184;
    Matrix<float, 2, 3>  J_2;
    J_2[int(0)] = make_float3 (_S186.x, _S186.y, _S185.x + _S185.y);
    float2  seed_3 = _S166;
    *&((&seed_3)->y) = 1.0f;
    float2  _S187 = _S159 / make_float2 (_S160);
    float u_9 = _S187.x;
    float v_9 = _S187.y;
    float r2_9 = u_9 * u_9 + v_9 * v_9;
    float _S188 = (*dist_coeffs_8)[int(2)] + r2_9 * (*dist_coeffs_8)[int(3)];
    float _S189 = (*dist_coeffs_8)[int(1)] + r2_9 * _S188;
    float _S190 = (*dist_coeffs_8)[int(0)] + r2_9 * _S189;
    float _S191 = fx_1 * seed_3.x;
    float2  _S192 = make_float2 (_S191, fy_1 * seed_3.y) + make_float2 ((*dist_coeffs_8)[int(8)] * _S191, (*dist_coeffs_8)[int(9)] * _S191);
    float2  _S193 = _S187 * _S192;
    float _S194 = (*dist_coeffs_8)[int(4)] * _S192.y;
    float _S195 = (*dist_coeffs_8)[int(5)] * _S192.x;
    float _S196 = _S193.x + _S193.y;
    float _S197 = r2_9 * _S196;
    float _S198 = r2_9 * _S197;
    float _S199 = (*dist_coeffs_8)[int(7)] * _S192.y + _S194 + (*dist_coeffs_8)[int(6)] * _S192.x + _S195 + _S190 * _S196 + _S189 * _S197 + _S188 * _S198 + (*dist_coeffs_8)[int(3)] * (r2_9 * _S198);
    float _S200 = v_9 * _S199;
    float _S201 = u_9 * _S199;
    float2  _S202 = (make_float2 (1.0f + r2_9 * _S190) * _S192 + make_float2 (_S163 * (v_9 * _S192.y) + 2.0f * u_9 * _S195 + 2.0f * (u_9 * _S195) + _S162 * (v_9 * _S192.x) + _S201 + _S201, 2.0f * v_9 * _S194 + 2.0f * (v_9 * _S194) + _S163 * u_9 * _S192.y + _S162 * u_9 * _S192.x + _S200 + _S200)) / _S169;
    float2  _S203 = _S159 * - _S202;
    float2  _S204 = _S167 * _S202;
    J_2[int(1)] = make_float3 (_S204.x, _S204.y, _S203.x + _S203.y);
    Matrix<float, 2, 3>  J_3 = J_2;
    float _S205 = float(width_1);
    float _S206 = 0.30000001192092896f * (0.5f * _S205);
    float lim_x_pos_1 = _S205 + _S206;
    float rz_1 = 1.0f / _S160;
    float _S207 = - _S206;
    float max_Jyz_1 = - (_S207 - cy_1) * rz_1;
    float min_Jyz_1 = - (lim_x_pos_1 - cy_1) * rz_1;
    *&(((&J_3)->rows + (int(0)))->z) = clamp_0(*&(((&J_3)->rows + (int(0)))->z), - (lim_x_pos_1 - cx_1) * rz_1, - (_S207 - cx_1) * rz_1);
    *&(((&J_3)->rows + (int(1)))->z) = clamp_0(*&(((&J_3)->rows + (int(1)))->z), min_Jyz_1, max_Jyz_1);
    *cov2d_1 = mul_6(mul_5(J_3, cov3d_1), transpose_1(J_3));
    return true;
}

struct SigmaPoints_0
{
    FixedArray<float3 , 7>  p_0;
    FixedArray<float, 7>  w_mean_0;
    FixedArray<float, 7>  w_cov_0;
};

inline __device__ bool persp_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_0, float4  intrins_2, FixedArray<float, 10>  * dist_coeffs_9, uint width_2, uint height_2, Matrix<float, 2, 2>  * cov2d_2, float2  * mean2d_2)
{
    float2  * _S208;
    float2  * _S209;
    float2  * _S210;
    bool _S211;
    float2  * _S212;
    float2  * _S213;
    float2  * _S214;
    bool _S215;
    float2  * _S216;
    bool _S217;
    int2  _S218 = make_int2 (int(0));
    float2  _S219 = make_float2 ((float)_S218.x, (float)_S218.y);
    *mean2d_2 = _S219;
    *cov2d_2 = makeMatrix<float, 2, 2> (0.0f);
    float fx_2 = intrins_2.x;
    float fy_2 = intrins_2.y;
    float _S220 = float(width_2);
    float _S221 = float(height_2);
    float _S222 = 0.30000001192092896f * (0.5f * _S220 / fx_2) * fx_2;
    float lim_x_pos_2 = _S220 + _S222;
    float _S223 = 0.30000001192092896f * (0.5f * _S221 / fy_2) * fy_2;
    float lim_y_pos_0 = _S221 + _S223;
    FixedArray<float2 , 7>  proj_points_0;
    for(;;)
    {
        bool _S224;
        _S208 = &proj_points_0[int(0)];
        for(;;)
        {
            float _S225 = sigmas_0->p_0[int(0)].z;
            proj_points_0[int(0)] = float2 {sigmas_0->p_0[int(0)].x, sigmas_0->p_0[int(0)].y} / make_float2 (_S225);
            if(_S225 < 0.0f)
            {
                _S224 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S226 = camera_distortion_jac_0(proj_points_0[int(0)], dist_coeffs_9);
                _S224 = !((F32_min((determinant_0(_S226)), ((F32_min((_S226.rows[int(0)].x), (_S226.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S224)
            {
                break;
            }
            float u_10 = proj_points_0[int(0)].x;
            float v_10 = proj_points_0[int(0)].y;
            float r2_10 = u_10 * u_10 + v_10 * v_10;
            float2  _S227 = proj_points_0[int(0)] * make_float2 (1.0f + r2_10 * ((*dist_coeffs_9)[int(0)] + r2_10 * ((*dist_coeffs_9)[int(1)] + r2_10 * ((*dist_coeffs_9)[int(2)] + r2_10 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_10 * v_10 + (*dist_coeffs_9)[int(5)] * (r2_10 + 2.0f * u_10 * u_10) + (*dist_coeffs_9)[int(6)] * r2_10, 2.0f * (*dist_coeffs_9)[int(5)] * u_10 * v_10 + (*dist_coeffs_9)[int(4)] * (r2_10 + 2.0f * v_10 * v_10) + (*dist_coeffs_9)[int(7)] * r2_10);
            float2  _S228 = _S227 + make_float2 ((*dist_coeffs_9)[int(8)] * _S227.x + (*dist_coeffs_9)[int(9)] * _S227.y, 0.0f);
            proj_points_0[int(0)] = make_float2 (fx_2 * _S228.x + intrins_2.z, fy_2 * _S228.y + intrins_2.w);
            break;
        }
        bool all_valid_0 = true & (!_S224);
        _S209 = &proj_points_0[int(1)];
        for(;;)
        {
            float _S229 = sigmas_0->p_0[int(1)].z;
            proj_points_0[int(1)] = float2 {sigmas_0->p_0[int(1)].x, sigmas_0->p_0[int(1)].y} / make_float2 (_S229);
            if(_S229 < 0.0f)
            {
                _S224 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S230 = camera_distortion_jac_0(proj_points_0[int(1)], dist_coeffs_9);
                _S224 = !((F32_min((determinant_0(_S230)), ((F32_min((_S230.rows[int(0)].x), (_S230.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S224)
            {
                break;
            }
            float u_11 = proj_points_0[int(1)].x;
            float v_11 = proj_points_0[int(1)].y;
            float r2_11 = u_11 * u_11 + v_11 * v_11;
            float2  _S231 = proj_points_0[int(1)] * make_float2 (1.0f + r2_11 * ((*dist_coeffs_9)[int(0)] + r2_11 * ((*dist_coeffs_9)[int(1)] + r2_11 * ((*dist_coeffs_9)[int(2)] + r2_11 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_11 * v_11 + (*dist_coeffs_9)[int(5)] * (r2_11 + 2.0f * u_11 * u_11) + (*dist_coeffs_9)[int(6)] * r2_11, 2.0f * (*dist_coeffs_9)[int(5)] * u_11 * v_11 + (*dist_coeffs_9)[int(4)] * (r2_11 + 2.0f * v_11 * v_11) + (*dist_coeffs_9)[int(7)] * r2_11);
            float2  _S232 = _S231 + make_float2 ((*dist_coeffs_9)[int(8)] * _S231.x + (*dist_coeffs_9)[int(9)] * _S231.y, 0.0f);
            proj_points_0[int(1)] = make_float2 (fx_2 * _S232.x + intrins_2.z, fy_2 * _S232.y + intrins_2.w);
            break;
        }
        bool all_valid_1 = all_valid_0 & (!_S224);
        for(;;)
        {
            _S210 = &proj_points_0[int(2)];
            for(;;)
            {
                float _S233 = sigmas_0->p_0[int(2)].z;
                proj_points_0[int(2)] = float2 {sigmas_0->p_0[int(2)].x, sigmas_0->p_0[int(2)].y} / make_float2 (_S233);
                if(_S233 < 0.0f)
                {
                    _S224 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S234 = camera_distortion_jac_0(proj_points_0[int(2)], dist_coeffs_9);
                    _S224 = !((F32_min((determinant_0(_S234)), ((F32_min((_S234.rows[int(0)].x), (_S234.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S224)
                {
                    break;
                }
                float u_12 = proj_points_0[int(2)].x;
                float v_12 = proj_points_0[int(2)].y;
                float r2_12 = u_12 * u_12 + v_12 * v_12;
                float2  _S235 = proj_points_0[int(2)] * make_float2 (1.0f + r2_12 * ((*dist_coeffs_9)[int(0)] + r2_12 * ((*dist_coeffs_9)[int(1)] + r2_12 * ((*dist_coeffs_9)[int(2)] + r2_12 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_12 * v_12 + (*dist_coeffs_9)[int(5)] * (r2_12 + 2.0f * u_12 * u_12) + (*dist_coeffs_9)[int(6)] * r2_12, 2.0f * (*dist_coeffs_9)[int(5)] * u_12 * v_12 + (*dist_coeffs_9)[int(4)] * (r2_12 + 2.0f * v_12 * v_12) + (*dist_coeffs_9)[int(7)] * r2_12);
                float2  _S236 = _S235 + make_float2 ((*dist_coeffs_9)[int(8)] * _S235.x + (*dist_coeffs_9)[int(9)] * _S235.y, 0.0f);
                proj_points_0[int(2)] = make_float2 (fx_2 * _S236.x + intrins_2.z, fy_2 * _S236.y + intrins_2.w);
                break;
            }
            _S211 = all_valid_1 & (!_S224);
            break;
        }
        _S212 = &proj_points_0[int(3)];
        for(;;)
        {
            float _S237 = sigmas_0->p_0[int(3)].z;
            proj_points_0[int(3)] = float2 {sigmas_0->p_0[int(3)].x, sigmas_0->p_0[int(3)].y} / make_float2 (_S237);
            if(_S237 < 0.0f)
            {
                _S224 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S238 = camera_distortion_jac_0(proj_points_0[int(3)], dist_coeffs_9);
                _S224 = !((F32_min((determinant_0(_S238)), ((F32_min((_S238.rows[int(0)].x), (_S238.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S224)
            {
                break;
            }
            float u_13 = proj_points_0[int(3)].x;
            float v_13 = proj_points_0[int(3)].y;
            float r2_13 = u_13 * u_13 + v_13 * v_13;
            float2  _S239 = proj_points_0[int(3)] * make_float2 (1.0f + r2_13 * ((*dist_coeffs_9)[int(0)] + r2_13 * ((*dist_coeffs_9)[int(1)] + r2_13 * ((*dist_coeffs_9)[int(2)] + r2_13 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_13 * v_13 + (*dist_coeffs_9)[int(5)] * (r2_13 + 2.0f * u_13 * u_13) + (*dist_coeffs_9)[int(6)] * r2_13, 2.0f * (*dist_coeffs_9)[int(5)] * u_13 * v_13 + (*dist_coeffs_9)[int(4)] * (r2_13 + 2.0f * v_13 * v_13) + (*dist_coeffs_9)[int(7)] * r2_13);
            float2  _S240 = _S239 + make_float2 ((*dist_coeffs_9)[int(8)] * _S239.x + (*dist_coeffs_9)[int(9)] * _S239.y, 0.0f);
            proj_points_0[int(3)] = make_float2 (fx_2 * _S240.x + intrins_2.z, fy_2 * _S240.y + intrins_2.w);
            break;
        }
        bool all_valid_2 = _S211 & (!_S224);
        _S213 = &proj_points_0[int(4)];
        for(;;)
        {
            float _S241 = sigmas_0->p_0[int(4)].z;
            proj_points_0[int(4)] = float2 {sigmas_0->p_0[int(4)].x, sigmas_0->p_0[int(4)].y} / make_float2 (_S241);
            if(_S241 < 0.0f)
            {
                _S224 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S242 = camera_distortion_jac_0(proj_points_0[int(4)], dist_coeffs_9);
                _S224 = !((F32_min((determinant_0(_S242)), ((F32_min((_S242.rows[int(0)].x), (_S242.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S224)
            {
                break;
            }
            float u_14 = proj_points_0[int(4)].x;
            float v_14 = proj_points_0[int(4)].y;
            float r2_14 = u_14 * u_14 + v_14 * v_14;
            float2  _S243 = proj_points_0[int(4)] * make_float2 (1.0f + r2_14 * ((*dist_coeffs_9)[int(0)] + r2_14 * ((*dist_coeffs_9)[int(1)] + r2_14 * ((*dist_coeffs_9)[int(2)] + r2_14 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_14 * v_14 + (*dist_coeffs_9)[int(5)] * (r2_14 + 2.0f * u_14 * u_14) + (*dist_coeffs_9)[int(6)] * r2_14, 2.0f * (*dist_coeffs_9)[int(5)] * u_14 * v_14 + (*dist_coeffs_9)[int(4)] * (r2_14 + 2.0f * v_14 * v_14) + (*dist_coeffs_9)[int(7)] * r2_14);
            float2  _S244 = _S243 + make_float2 ((*dist_coeffs_9)[int(8)] * _S243.x + (*dist_coeffs_9)[int(9)] * _S243.y, 0.0f);
            proj_points_0[int(4)] = make_float2 (fx_2 * _S244.x + intrins_2.z, fy_2 * _S244.y + intrins_2.w);
            break;
        }
        bool all_valid_3 = all_valid_2 & (!_S224);
        for(;;)
        {
            _S214 = &proj_points_0[int(5)];
            for(;;)
            {
                float _S245 = sigmas_0->p_0[int(5)].z;
                proj_points_0[int(5)] = float2 {sigmas_0->p_0[int(5)].x, sigmas_0->p_0[int(5)].y} / make_float2 (_S245);
                if(_S245 < 0.0f)
                {
                    _S224 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S246 = camera_distortion_jac_0(proj_points_0[int(5)], dist_coeffs_9);
                    _S224 = !((F32_min((determinant_0(_S246)), ((F32_min((_S246.rows[int(0)].x), (_S246.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S224)
                {
                    break;
                }
                float u_15 = proj_points_0[int(5)].x;
                float v_15 = proj_points_0[int(5)].y;
                float r2_15 = u_15 * u_15 + v_15 * v_15;
                float2  _S247 = proj_points_0[int(5)] * make_float2 (1.0f + r2_15 * ((*dist_coeffs_9)[int(0)] + r2_15 * ((*dist_coeffs_9)[int(1)] + r2_15 * ((*dist_coeffs_9)[int(2)] + r2_15 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_15 * v_15 + (*dist_coeffs_9)[int(5)] * (r2_15 + 2.0f * u_15 * u_15) + (*dist_coeffs_9)[int(6)] * r2_15, 2.0f * (*dist_coeffs_9)[int(5)] * u_15 * v_15 + (*dist_coeffs_9)[int(4)] * (r2_15 + 2.0f * v_15 * v_15) + (*dist_coeffs_9)[int(7)] * r2_15);
                float2  _S248 = _S247 + make_float2 ((*dist_coeffs_9)[int(8)] * _S247.x + (*dist_coeffs_9)[int(9)] * _S247.y, 0.0f);
                proj_points_0[int(5)] = make_float2 (fx_2 * _S248.x + intrins_2.z, fy_2 * _S248.y + intrins_2.w);
                break;
            }
            _S215 = all_valid_3 & (!_S224);
            break;
        }
        _S216 = &proj_points_0[int(6)];
        for(;;)
        {
            float _S249 = sigmas_0->p_0[int(6)].z;
            proj_points_0[int(6)] = float2 {sigmas_0->p_0[int(6)].x, sigmas_0->p_0[int(6)].y} / make_float2 (_S249);
            if(_S249 < 0.0f)
            {
                _S224 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S250 = camera_distortion_jac_0(proj_points_0[int(6)], dist_coeffs_9);
                _S224 = !((F32_min((determinant_0(_S250)), ((F32_min((_S250.rows[int(0)].x), (_S250.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S224)
            {
                break;
            }
            float u_16 = proj_points_0[int(6)].x;
            float v_16 = proj_points_0[int(6)].y;
            float r2_16 = u_16 * u_16 + v_16 * v_16;
            float2  _S251 = proj_points_0[int(6)] * make_float2 (1.0f + r2_16 * ((*dist_coeffs_9)[int(0)] + r2_16 * ((*dist_coeffs_9)[int(1)] + r2_16 * ((*dist_coeffs_9)[int(2)] + r2_16 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_16 * v_16 + (*dist_coeffs_9)[int(5)] * (r2_16 + 2.0f * u_16 * u_16) + (*dist_coeffs_9)[int(6)] * r2_16, 2.0f * (*dist_coeffs_9)[int(5)] * u_16 * v_16 + (*dist_coeffs_9)[int(4)] * (r2_16 + 2.0f * v_16 * v_16) + (*dist_coeffs_9)[int(7)] * r2_16);
            float2  _S252 = _S251 + make_float2 ((*dist_coeffs_9)[int(8)] * _S251.x + (*dist_coeffs_9)[int(9)] * _S251.y, 0.0f);
            proj_points_0[int(6)] = make_float2 (fx_2 * _S252.x + intrins_2.z, fy_2 * _S252.y + intrins_2.w);
            break;
        }
        _S217 = _S215 & (!_S224);
        break;
    }
    if(!_S217)
    {
        return false;
    }
    float2  _S253 = *mean2d_2 + make_float2 (sigmas_0->w_mean_0[int(0)]) * *_S208;
    *mean2d_2 = _S253;
    float2  _S254 = _S253 + make_float2 (sigmas_0->w_mean_0[int(1)]) * *_S209;
    *mean2d_2 = _S254;
    float2  _S255 = _S254 + make_float2 (sigmas_0->w_mean_0[int(2)]) * *_S210;
    *mean2d_2 = _S255;
    float2  _S256 = _S255 + make_float2 (sigmas_0->w_mean_0[int(3)]) * *_S212;
    *mean2d_2 = _S256;
    float2  _S257 = _S256 + make_float2 (sigmas_0->w_mean_0[int(4)]) * *_S213;
    *mean2d_2 = _S257;
    float2  _S258 = _S257 + make_float2 (sigmas_0->w_mean_0[int(5)]) * *_S214;
    *mean2d_2 = _S258;
    float2  _S259 = _S258 + make_float2 (sigmas_0->w_mean_0[int(6)]) * *_S216;
    *mean2d_2 = _S259;
    float _S260 = - _S222;
    float _S261 = - _S223;
    float2  _S262 = make_float2 (clamp_0(_S259.x, _S260, lim_x_pos_2), clamp_0(_S259.y, _S261, lim_y_pos_0));
    float2  d_0 = make_float2 (clamp_0((*_S208).x, _S260, lim_x_pos_2), clamp_0((*_S208).y, _S261, lim_y_pos_0)) - _S262;
    float _S263 = d_0.x;
    float _S264 = d_0.y;
    float _S265 = _S263 * _S264;
    Matrix<float, 2, 2>  _S266 = *cov2d_2 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S263 * _S263, _S265, _S265, _S264 * _S264);
    *cov2d_2 = _S266;
    float2  d_1 = make_float2 (clamp_0((*_S209).x, _S260, lim_x_pos_2), clamp_0((*_S209).y, _S261, lim_y_pos_0)) - _S262;
    float _S267 = d_1.x;
    float _S268 = d_1.y;
    float _S269 = _S267 * _S268;
    Matrix<float, 2, 2>  _S270 = _S266 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S267 * _S267, _S269, _S269, _S268 * _S268);
    *cov2d_2 = _S270;
    float2  d_2 = make_float2 (clamp_0((*_S210).x, _S260, lim_x_pos_2), clamp_0((*_S210).y, _S261, lim_y_pos_0)) - _S262;
    float _S271 = d_2.x;
    float _S272 = d_2.y;
    float _S273 = _S271 * _S272;
    Matrix<float, 2, 2>  _S274 = _S270 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S271 * _S271, _S273, _S273, _S272 * _S272);
    *cov2d_2 = _S274;
    float2  d_3 = make_float2 (clamp_0((*_S212).x, _S260, lim_x_pos_2), clamp_0((*_S212).y, _S261, lim_y_pos_0)) - _S262;
    float _S275 = d_3.x;
    float _S276 = d_3.y;
    float _S277 = _S275 * _S276;
    Matrix<float, 2, 2>  _S278 = _S274 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S275 * _S275, _S277, _S277, _S276 * _S276);
    *cov2d_2 = _S278;
    float2  d_4 = make_float2 (clamp_0((*_S213).x, _S260, lim_x_pos_2), clamp_0((*_S213).y, _S261, lim_y_pos_0)) - _S262;
    float _S279 = d_4.x;
    float _S280 = d_4.y;
    float _S281 = _S279 * _S280;
    Matrix<float, 2, 2>  _S282 = _S278 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S279 * _S279, _S281, _S281, _S280 * _S280);
    *cov2d_2 = _S282;
    float2  d_5 = make_float2 (clamp_0((*_S214).x, _S260, lim_x_pos_2), clamp_0((*_S214).y, _S261, lim_y_pos_0)) - _S262;
    float _S283 = d_5.x;
    float _S284 = d_5.y;
    float _S285 = _S283 * _S284;
    Matrix<float, 2, 2>  _S286 = _S282 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S283 * _S283, _S285, _S285, _S284 * _S284);
    *cov2d_2 = _S286;
    float2  d_6 = make_float2 (clamp_0((*_S216).x, _S260, lim_x_pos_2), clamp_0((*_S216).y, _S261, lim_y_pos_0)) - _S262;
    float _S287 = d_6.x;
    float _S288 = d_6.y;
    float _S289 = _S287 * _S288;
    *cov2d_2 = _S286 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S287 * _S287, _S289, _S289, _S288 * _S288);
    return true;
}

inline __device__ bool persp_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_1, float4  intrins_3, FixedArray<float, 10>  * dist_coeffs_10, uint width_3, uint height_3, Matrix<float, 2, 2>  * cov2d_3, float2  * mean2d_3)
{
    int2  _S290 = make_int2 (int(0));
    float2  _S291 = make_float2 ((float)_S290.x, (float)_S290.y);
    *mean2d_3 = _S291;
    *cov2d_3 = makeMatrix<float, 2, 2> (0.0f);
    float fx_3 = intrins_3.x;
    float fy_3 = intrins_3.y;
    float _S292 = float(width_3);
    float _S293 = float(height_3);
    float _S294 = 0.30000001192092896f * (0.5f * _S292 / fx_3) * fx_3;
    float lim_x_pos_3 = _S292 + _S294;
    float _S295 = 0.30000001192092896f * (0.5f * _S293 / fy_3) * fy_3;
    float lim_y_pos_1 = _S293 + _S295;
    FixedArray<float2 , 7>  proj_points_1;
    float2  _S296 = float2 {sigmas_1->p_0[int(0)].x, sigmas_1->p_0[int(0)].y} / make_float2 (sigmas_1->p_0[int(0)].z);
    float u_17 = _S296.x;
    float v_17 = _S296.y;
    float r2_17 = u_17 * u_17 + v_17 * v_17;
    float _S297 = 2.0f * (*dist_coeffs_10)[int(4)];
    float _S298 = 2.0f * (*dist_coeffs_10)[int(5)];
    float2  _S299 = _S296 * make_float2 (1.0f + r2_17 * ((*dist_coeffs_10)[int(0)] + r2_17 * ((*dist_coeffs_10)[int(1)] + r2_17 * ((*dist_coeffs_10)[int(2)] + r2_17 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S297 * u_17 * v_17 + (*dist_coeffs_10)[int(5)] * (r2_17 + 2.0f * u_17 * u_17) + (*dist_coeffs_10)[int(6)] * r2_17, _S298 * u_17 * v_17 + (*dist_coeffs_10)[int(4)] * (r2_17 + 2.0f * v_17 * v_17) + (*dist_coeffs_10)[int(7)] * r2_17);
    float2  _S300 = _S299 + make_float2 ((*dist_coeffs_10)[int(8)] * _S299.x + (*dist_coeffs_10)[int(9)] * _S299.y, 0.0f);
    float cx_2 = intrins_3.z;
    float cy_2 = intrins_3.w;
    float _S301 = fx_3 * _S300.x + cx_2;
    float _S302 = fy_3 * _S300.y + cy_2;
    float2  _S303 = make_float2 (_S301, _S302);
    proj_points_1[int(0)] = _S303;
    float2  _S304 = float2 {sigmas_1->p_0[int(1)].x, sigmas_1->p_0[int(1)].y} / make_float2 (sigmas_1->p_0[int(1)].z);
    float u_18 = _S304.x;
    float v_18 = _S304.y;
    float r2_18 = u_18 * u_18 + v_18 * v_18;
    float2  _S305 = _S304 * make_float2 (1.0f + r2_18 * ((*dist_coeffs_10)[int(0)] + r2_18 * ((*dist_coeffs_10)[int(1)] + r2_18 * ((*dist_coeffs_10)[int(2)] + r2_18 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S297 * u_18 * v_18 + (*dist_coeffs_10)[int(5)] * (r2_18 + 2.0f * u_18 * u_18) + (*dist_coeffs_10)[int(6)] * r2_18, _S298 * u_18 * v_18 + (*dist_coeffs_10)[int(4)] * (r2_18 + 2.0f * v_18 * v_18) + (*dist_coeffs_10)[int(7)] * r2_18);
    float2  _S306 = _S305 + make_float2 ((*dist_coeffs_10)[int(8)] * _S305.x + (*dist_coeffs_10)[int(9)] * _S305.y, 0.0f);
    float _S307 = fx_3 * _S306.x + cx_2;
    float _S308 = fy_3 * _S306.y + cy_2;
    float2  _S309 = make_float2 (_S307, _S308);
    proj_points_1[int(1)] = _S309;
    float2  _S310 = float2 {sigmas_1->p_0[int(2)].x, sigmas_1->p_0[int(2)].y} / make_float2 (sigmas_1->p_0[int(2)].z);
    float u_19 = _S310.x;
    float v_19 = _S310.y;
    float r2_19 = u_19 * u_19 + v_19 * v_19;
    float2  _S311 = _S310 * make_float2 (1.0f + r2_19 * ((*dist_coeffs_10)[int(0)] + r2_19 * ((*dist_coeffs_10)[int(1)] + r2_19 * ((*dist_coeffs_10)[int(2)] + r2_19 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S297 * u_19 * v_19 + (*dist_coeffs_10)[int(5)] * (r2_19 + 2.0f * u_19 * u_19) + (*dist_coeffs_10)[int(6)] * r2_19, _S298 * u_19 * v_19 + (*dist_coeffs_10)[int(4)] * (r2_19 + 2.0f * v_19 * v_19) + (*dist_coeffs_10)[int(7)] * r2_19);
    float2  _S312 = _S311 + make_float2 ((*dist_coeffs_10)[int(8)] * _S311.x + (*dist_coeffs_10)[int(9)] * _S311.y, 0.0f);
    float _S313 = fx_3 * _S312.x + cx_2;
    float _S314 = fy_3 * _S312.y + cy_2;
    float2  _S315 = make_float2 (_S313, _S314);
    proj_points_1[int(2)] = _S315;
    float2  _S316 = float2 {sigmas_1->p_0[int(3)].x, sigmas_1->p_0[int(3)].y} / make_float2 (sigmas_1->p_0[int(3)].z);
    float u_20 = _S316.x;
    float v_20 = _S316.y;
    float r2_20 = u_20 * u_20 + v_20 * v_20;
    float2  _S317 = _S316 * make_float2 (1.0f + r2_20 * ((*dist_coeffs_10)[int(0)] + r2_20 * ((*dist_coeffs_10)[int(1)] + r2_20 * ((*dist_coeffs_10)[int(2)] + r2_20 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S297 * u_20 * v_20 + (*dist_coeffs_10)[int(5)] * (r2_20 + 2.0f * u_20 * u_20) + (*dist_coeffs_10)[int(6)] * r2_20, _S298 * u_20 * v_20 + (*dist_coeffs_10)[int(4)] * (r2_20 + 2.0f * v_20 * v_20) + (*dist_coeffs_10)[int(7)] * r2_20);
    float2  _S318 = _S317 + make_float2 ((*dist_coeffs_10)[int(8)] * _S317.x + (*dist_coeffs_10)[int(9)] * _S317.y, 0.0f);
    float _S319 = fx_3 * _S318.x + cx_2;
    float _S320 = fy_3 * _S318.y + cy_2;
    float2  _S321 = make_float2 (_S319, _S320);
    proj_points_1[int(3)] = _S321;
    float2  _S322 = float2 {sigmas_1->p_0[int(4)].x, sigmas_1->p_0[int(4)].y} / make_float2 (sigmas_1->p_0[int(4)].z);
    float u_21 = _S322.x;
    float v_21 = _S322.y;
    float r2_21 = u_21 * u_21 + v_21 * v_21;
    float2  _S323 = _S322 * make_float2 (1.0f + r2_21 * ((*dist_coeffs_10)[int(0)] + r2_21 * ((*dist_coeffs_10)[int(1)] + r2_21 * ((*dist_coeffs_10)[int(2)] + r2_21 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S297 * u_21 * v_21 + (*dist_coeffs_10)[int(5)] * (r2_21 + 2.0f * u_21 * u_21) + (*dist_coeffs_10)[int(6)] * r2_21, _S298 * u_21 * v_21 + (*dist_coeffs_10)[int(4)] * (r2_21 + 2.0f * v_21 * v_21) + (*dist_coeffs_10)[int(7)] * r2_21);
    float2  _S324 = _S323 + make_float2 ((*dist_coeffs_10)[int(8)] * _S323.x + (*dist_coeffs_10)[int(9)] * _S323.y, 0.0f);
    float _S325 = fx_3 * _S324.x + cx_2;
    float _S326 = fy_3 * _S324.y + cy_2;
    float2  _S327 = make_float2 (_S325, _S326);
    proj_points_1[int(4)] = _S327;
    float2  _S328 = float2 {sigmas_1->p_0[int(5)].x, sigmas_1->p_0[int(5)].y} / make_float2 (sigmas_1->p_0[int(5)].z);
    float u_22 = _S328.x;
    float v_22 = _S328.y;
    float r2_22 = u_22 * u_22 + v_22 * v_22;
    float2  _S329 = _S328 * make_float2 (1.0f + r2_22 * ((*dist_coeffs_10)[int(0)] + r2_22 * ((*dist_coeffs_10)[int(1)] + r2_22 * ((*dist_coeffs_10)[int(2)] + r2_22 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S297 * u_22 * v_22 + (*dist_coeffs_10)[int(5)] * (r2_22 + 2.0f * u_22 * u_22) + (*dist_coeffs_10)[int(6)] * r2_22, _S298 * u_22 * v_22 + (*dist_coeffs_10)[int(4)] * (r2_22 + 2.0f * v_22 * v_22) + (*dist_coeffs_10)[int(7)] * r2_22);
    float2  _S330 = _S329 + make_float2 ((*dist_coeffs_10)[int(8)] * _S329.x + (*dist_coeffs_10)[int(9)] * _S329.y, 0.0f);
    float _S331 = fx_3 * _S330.x + cx_2;
    float _S332 = fy_3 * _S330.y + cy_2;
    float2  _S333 = make_float2 (_S331, _S332);
    proj_points_1[int(5)] = _S333;
    float2  _S334 = float2 {sigmas_1->p_0[int(6)].x, sigmas_1->p_0[int(6)].y} / make_float2 (sigmas_1->p_0[int(6)].z);
    float u_23 = _S334.x;
    float v_23 = _S334.y;
    float r2_23 = u_23 * u_23 + v_23 * v_23;
    float2  _S335 = _S334 * make_float2 (1.0f + r2_23 * ((*dist_coeffs_10)[int(0)] + r2_23 * ((*dist_coeffs_10)[int(1)] + r2_23 * ((*dist_coeffs_10)[int(2)] + r2_23 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S297 * u_23 * v_23 + (*dist_coeffs_10)[int(5)] * (r2_23 + 2.0f * u_23 * u_23) + (*dist_coeffs_10)[int(6)] * r2_23, _S298 * u_23 * v_23 + (*dist_coeffs_10)[int(4)] * (r2_23 + 2.0f * v_23 * v_23) + (*dist_coeffs_10)[int(7)] * r2_23);
    float2  _S336 = _S335 + make_float2 ((*dist_coeffs_10)[int(8)] * _S335.x + (*dist_coeffs_10)[int(9)] * _S335.y, 0.0f);
    float _S337 = fx_3 * _S336.x + cx_2;
    float _S338 = fy_3 * _S336.y + cy_2;
    float2  _S339 = make_float2 (_S337, _S338);
    proj_points_1[int(6)] = _S339;
    float2  _S340 = *mean2d_3 + make_float2 (sigmas_1->w_mean_0[int(0)]) * _S303;
    *mean2d_3 = _S340;
    float2  _S341 = _S340 + make_float2 (sigmas_1->w_mean_0[int(1)]) * _S309;
    *mean2d_3 = _S341;
    float2  _S342 = _S341 + make_float2 (sigmas_1->w_mean_0[int(2)]) * _S315;
    *mean2d_3 = _S342;
    float2  _S343 = _S342 + make_float2 (sigmas_1->w_mean_0[int(3)]) * _S321;
    *mean2d_3 = _S343;
    float2  _S344 = _S343 + make_float2 (sigmas_1->w_mean_0[int(4)]) * _S327;
    *mean2d_3 = _S344;
    float2  _S345 = _S344 + make_float2 (sigmas_1->w_mean_0[int(5)]) * _S333;
    *mean2d_3 = _S345;
    float2  _S346 = _S345 + make_float2 (sigmas_1->w_mean_0[int(6)]) * _S339;
    *mean2d_3 = _S346;
    float _S347 = - _S294;
    float _S348 = - _S295;
    float2  _S349 = make_float2 (clamp_0(_S346.x, _S347, lim_x_pos_3), clamp_0(_S346.y, _S348, lim_y_pos_1));
    float2  d_7 = make_float2 (clamp_0(_S301, _S347, lim_x_pos_3), clamp_0(_S302, _S348, lim_y_pos_1)) - _S349;
    float _S350 = d_7.x;
    float _S351 = d_7.y;
    float _S352 = _S350 * _S351;
    Matrix<float, 2, 2>  _S353 = *cov2d_3 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S350 * _S350, _S352, _S352, _S351 * _S351);
    *cov2d_3 = _S353;
    float2  d_8 = make_float2 (clamp_0(_S307, _S347, lim_x_pos_3), clamp_0(_S308, _S348, lim_y_pos_1)) - _S349;
    float _S354 = d_8.x;
    float _S355 = d_8.y;
    float _S356 = _S354 * _S355;
    Matrix<float, 2, 2>  _S357 = _S353 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S354 * _S354, _S356, _S356, _S355 * _S355);
    *cov2d_3 = _S357;
    float2  d_9 = make_float2 (clamp_0(_S313, _S347, lim_x_pos_3), clamp_0(_S314, _S348, lim_y_pos_1)) - _S349;
    float _S358 = d_9.x;
    float _S359 = d_9.y;
    float _S360 = _S358 * _S359;
    Matrix<float, 2, 2>  _S361 = _S357 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S358 * _S358, _S360, _S360, _S359 * _S359);
    *cov2d_3 = _S361;
    float2  d_10 = make_float2 (clamp_0(_S319, _S347, lim_x_pos_3), clamp_0(_S320, _S348, lim_y_pos_1)) - _S349;
    float _S362 = d_10.x;
    float _S363 = d_10.y;
    float _S364 = _S362 * _S363;
    Matrix<float, 2, 2>  _S365 = _S361 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S362 * _S362, _S364, _S364, _S363 * _S363);
    *cov2d_3 = _S365;
    float2  d_11 = make_float2 (clamp_0(_S325, _S347, lim_x_pos_3), clamp_0(_S326, _S348, lim_y_pos_1)) - _S349;
    float _S366 = d_11.x;
    float _S367 = d_11.y;
    float _S368 = _S366 * _S367;
    Matrix<float, 2, 2>  _S369 = _S365 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S366 * _S366, _S368, _S368, _S367 * _S367);
    *cov2d_3 = _S369;
    float2  d_12 = make_float2 (clamp_0(_S331, _S347, lim_x_pos_3), clamp_0(_S332, _S348, lim_y_pos_1)) - _S349;
    float _S370 = d_12.x;
    float _S371 = d_12.y;
    float _S372 = _S370 * _S371;
    Matrix<float, 2, 2>  _S373 = _S369 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S370 * _S370, _S372, _S372, _S371 * _S371);
    *cov2d_3 = _S373;
    float2  d_13 = make_float2 (clamp_0(_S337, _S347, lim_x_pos_3), clamp_0(_S338, _S348, lim_y_pos_1)) - _S349;
    float _S374 = d_13.x;
    float _S375 = d_13.y;
    float _S376 = _S374 * _S375;
    *cov2d_3 = _S373 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S374 * _S374, _S376, _S376, _S375 * _S375);
    return true;
}

inline __device__ void _d_atan2_0(DiffPair_float_0 * dpy_3, DiffPair_float_0 * dpx_6, float dOut_11)
{
    DiffPair_float_0 _S377 = *dpx_6;
    float _S378 = - (*dpy_3).primal_0 / ((*dpx_6).primal_0 * (*dpx_6).primal_0 + (*dpy_3).primal_0 * (*dpy_3).primal_0) * dOut_11;
    dpx_6->primal_0 = (*dpx_6).primal_0;
    dpx_6->differential_0 = _S378;
    float _S379 = _S377.primal_0 / (_S377.primal_0 * _S377.primal_0 + (*dpy_3).primal_0 * (*dpy_3).primal_0) * dOut_11;
    dpy_3->primal_0 = (*dpy_3).primal_0;
    dpy_3->differential_0 = _S379;
    return;
}

inline __device__ float s_primal_ctx_atan2_0(float _S380, float _S381)
{
    return (F32_atan2((_S380), (_S381)));
}

inline __device__ void s_bwd_prop_atan2_0(DiffPair_float_0 * _S382, DiffPair_float_0 * _S383, float _S384)
{
    _d_atan2_0(_S382, _S383, _S384);
    return;
}

struct DiffPair_vectorx3Cfloatx2C2x3E_0
{
    float2  primal_0;
    float2  differential_0;
};

inline __device__ void s_bwd_prop_sqrt_0(DiffPair_float_0 * _S385, float _S386)
{
    _d_sqrt_0(_S385, _S386);
    return;
}

inline __device__ void s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpx_7, float _s_dOut_2)
{
    float _S387 = (*dpx_7).primal_0.x;
    float _S388 = (*dpx_7).primal_0.y;
    DiffPair_float_0 _S389;
    (&_S389)->primal_0 = _S387 * _S387 + _S388 * _S388;
    (&_S389)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S389, _s_dOut_2);
    float _S390 = (*dpx_7).primal_0.y * _S389.differential_0;
    float _S391 = _S390 + _S390;
    float _S392 = (*dpx_7).primal_0.x * _S389.differential_0;
    float _S393 = _S392 + _S392;
    float2  _S394 = make_float2 (0.0f);
    *&((&_S394)->y) = _S391;
    *&((&_S394)->x) = _S393;
    dpx_7->primal_0 = (*dpx_7).primal_0;
    dpx_7->differential_0 = _S394;
    return;
}

inline __device__ void s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S395, float _S396)
{
    s_bwd_prop_length_impl_0(_S395, _S396);
    return;
}

inline __device__ bool fisheye_proj_3dgs_0(float3  mean3d_2, Matrix<float, 3, 3>  cov3d_2, float4  intrins_4, FixedArray<float, 10>  * dist_coeffs_11, Matrix<float, 2, 2>  * cov2d_4, float2  * mean2d_4)
{
    float k_0;
    float2  _S397;
    float _S398;
    float _S399;
    bool _S400;
    for(;;)
    {
        float2  _S401 = float2 {mean3d_2.x, mean3d_2.y};
        _S397 = _S401;
        float r_8 = length_0(_S401);
        _S398 = r_8;
        float _S402 = mean3d_2.z;
        _S399 = _S402;
        float theta_4 = (F32_atan2((r_8), (_S402)));
        if(theta_4 < 0.00100000004749745f)
        {
            k_0 = (1.0f - theta_4 * theta_4 / 3.0f) / _S402;
        }
        else
        {
            k_0 = theta_4 / r_8;
        }
        float2  _S403 = _S401 * make_float2 (k_0);
        *mean2d_4 = _S403;
        Matrix<float, 2, 2>  _S404 = camera_distortion_jac_0(_S403, dist_coeffs_11);
        bool _S405 = !((F32_min((determinant_0(_S404)), ((F32_min((_S404.rows[int(0)].x), (_S404.rows[int(1)].y)))))) > 0.0f);
        _S400 = _S405;
        if(_S405)
        {
            break;
        }
        float u_24 = (*mean2d_4).x;
        float v_24 = (*mean2d_4).y;
        float r2_24 = u_24 * u_24 + v_24 * v_24;
        float2  _S406 = *mean2d_4 * make_float2 (1.0f + r2_24 * ((*dist_coeffs_11)[int(0)] + r2_24 * ((*dist_coeffs_11)[int(1)] + r2_24 * ((*dist_coeffs_11)[int(2)] + r2_24 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_24 * v_24 + (*dist_coeffs_11)[int(5)] * (r2_24 + 2.0f * u_24 * u_24) + (*dist_coeffs_11)[int(6)] * r2_24, 2.0f * (*dist_coeffs_11)[int(5)] * u_24 * v_24 + (*dist_coeffs_11)[int(4)] * (r2_24 + 2.0f * v_24 * v_24) + (*dist_coeffs_11)[int(7)] * r2_24);
        float2  _S407 = _S406 + make_float2 ((*dist_coeffs_11)[int(8)] * _S406.x + (*dist_coeffs_11)[int(9)] * _S406.y, 0.0f);
        *mean2d_4 = make_float2 (intrins_4.x * _S407.x + intrins_4.z, intrins_4.y * _S407.y + intrins_4.w);
        break;
    }
    if(!!_S400)
    {
        return false;
    }
    Matrix<float, 2, 3>  J_4;
    float2  _S408 = make_float2 (0.0f);
    float2  seed_4 = _S408;
    *&((&seed_4)->x) = 1.0f;
    float2  _S409 = seed_4;
    float _S410 = s_primal_ctx_atan2_0(_S398, _S399);
    bool _S411 = _S410 < 0.00100000004749745f;
    float _S412;
    float _S413;
    float _S414;
    if(_S411)
    {
        float _S415 = 1.0f - _S410 * _S410 / 3.0f;
        float _S416 = _S399 * _S399;
        k_0 = _S415 / _S399;
        _S412 = 0.0f;
        _S413 = _S416;
        _S414 = _S415;
    }
    else
    {
        float _S417 = _S398 * _S398;
        k_0 = _S410 / _S398;
        _S412 = _S417;
        _S413 = 0.0f;
        _S414 = 0.0f;
    }
    float2  _S418 = make_float2 (k_0);
    float2  _S419 = _S397 * make_float2 (k_0);
    float u_25 = _S419.x;
    float v_25 = _S419.y;
    float r2_25 = u_25 * u_25 + v_25 * v_25;
    float _S420 = (*dist_coeffs_11)[int(2)] + r2_25 * (*dist_coeffs_11)[int(3)];
    float _S421 = (*dist_coeffs_11)[int(1)] + r2_25 * _S420;
    float _S422 = (*dist_coeffs_11)[int(0)] + r2_25 * _S421;
    float _S423 = 2.0f * (*dist_coeffs_11)[int(4)];
    float _S424 = 2.0f * (*dist_coeffs_11)[int(5)];
    float fx_4 = intrins_4.x;
    float fy_4 = intrins_4.y;
    float _S425 = fx_4 * _S409.x;
    float2  _S426 = make_float2 (_S425, fy_4 * _S409.y) + make_float2 ((*dist_coeffs_11)[int(8)] * _S425, (*dist_coeffs_11)[int(9)] * _S425);
    float2  _S427 = _S419 * _S426;
    float _S428 = (*dist_coeffs_11)[int(4)] * _S426.y;
    float _S429 = (*dist_coeffs_11)[int(5)] * _S426.x;
    float _S430 = _S427.x + _S427.y;
    float _S431 = r2_25 * _S430;
    float _S432 = r2_25 * _S431;
    float _S433 = (*dist_coeffs_11)[int(7)] * _S426.y + _S428 + (*dist_coeffs_11)[int(6)] * _S426.x + _S429 + _S422 * _S430 + _S421 * _S431 + _S420 * _S432 + (*dist_coeffs_11)[int(3)] * (r2_25 * _S432);
    float _S434 = v_25 * _S433;
    float _S435 = u_25 * _S433;
    float2  _S436 = make_float2 (1.0f + r2_25 * _S422) * _S426 + make_float2 (_S424 * (v_25 * _S426.y) + 2.0f * u_25 * _S429 + 2.0f * (u_25 * _S429) + _S423 * (v_25 * _S426.x) + _S435 + _S435, 2.0f * v_25 * _S428 + 2.0f * (v_25 * _S428) + _S424 * u_25 * _S426.y + _S423 * u_25 * _S426.x + _S434 + _S434);
    float2  _S437 = _S397 * _S436;
    float2  _S438 = _S418 * _S436;
    float _S439 = _S437.x + _S437.y;
    if(_S411)
    {
        float _S440 = _S439 / _S413;
        float _S441 = _S414 * - _S440;
        float _S442 = _S410 * (0.3333333432674408f * - (_S399 * _S440));
        k_0 = _S442 + _S442;
        _S412 = _S441;
        _S413 = 0.0f;
    }
    else
    {
        float _S443 = _S439 / _S412;
        float _S444 = _S410 * - _S443;
        k_0 = _S398 * _S443;
        _S412 = 0.0f;
        _S413 = _S444;
    }
    float _S445 = _S398;
    DiffPair_float_0 _S446;
    (&_S446)->primal_0 = _S398;
    (&_S446)->differential_0 = 0.0f;
    float _S447 = _S399;
    DiffPair_float_0 _S448;
    (&_S448)->primal_0 = _S399;
    (&_S448)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S446, &_S448, k_0);
    float _S449 = _S448.differential_0 + _S412;
    float _S450 = _S446.differential_0 + _S413;
    float2  _S451 = make_float2 (0.0f);
    float2  _S452 = _S397;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S453;
    (&_S453)->primal_0 = _S397;
    (&_S453)->differential_0 = _S451;
    s_bwd_length_impl_0(&_S453, _S450);
    float2  _S454 = _S453.differential_0 + _S438;
    float3  _S455 = make_float3 (_S454.x, _S454.y, _S449);
    J_4[int(0)] = _S455;
    float2  seed_5 = _S408;
    *&((&seed_5)->y) = 1.0f;
    float2  _S456 = seed_5;
    if(_S411)
    {
        float _S457 = 1.0f - _S410 * _S410 / 3.0f;
        float _S458 = _S399 * _S399;
        k_0 = _S457 / _S399;
        _S412 = 0.0f;
        _S413 = _S458;
        _S414 = _S457;
    }
    else
    {
        float _S459 = _S398 * _S398;
        k_0 = _S410 / _S398;
        _S412 = _S459;
        _S413 = 0.0f;
        _S414 = 0.0f;
    }
    float2  _S460 = make_float2 (k_0);
    float2  _S461 = _S397 * make_float2 (k_0);
    float u_26 = _S461.x;
    float v_26 = _S461.y;
    float r2_26 = u_26 * u_26 + v_26 * v_26;
    float _S462 = (*dist_coeffs_11)[int(2)] + r2_26 * (*dist_coeffs_11)[int(3)];
    float _S463 = (*dist_coeffs_11)[int(1)] + r2_26 * _S462;
    float _S464 = (*dist_coeffs_11)[int(0)] + r2_26 * _S463;
    float _S465 = fx_4 * _S456.x;
    float2  _S466 = make_float2 (_S465, fy_4 * _S456.y) + make_float2 ((*dist_coeffs_11)[int(8)] * _S465, (*dist_coeffs_11)[int(9)] * _S465);
    float2  _S467 = _S461 * _S466;
    float _S468 = (*dist_coeffs_11)[int(4)] * _S466.y;
    float _S469 = (*dist_coeffs_11)[int(5)] * _S466.x;
    float _S470 = _S467.x + _S467.y;
    float _S471 = r2_26 * _S470;
    float _S472 = r2_26 * _S471;
    float _S473 = (*dist_coeffs_11)[int(7)] * _S466.y + _S468 + (*dist_coeffs_11)[int(6)] * _S466.x + _S469 + _S464 * _S470 + _S463 * _S471 + _S462 * _S472 + (*dist_coeffs_11)[int(3)] * (r2_26 * _S472);
    float _S474 = v_26 * _S473;
    float _S475 = u_26 * _S473;
    float2  _S476 = make_float2 (1.0f + r2_26 * _S464) * _S466 + make_float2 (_S424 * (v_26 * _S466.y) + 2.0f * u_26 * _S469 + 2.0f * (u_26 * _S469) + _S423 * (v_26 * _S466.x) + _S475 + _S475, 2.0f * v_26 * _S468 + 2.0f * (v_26 * _S468) + _S424 * u_26 * _S466.y + _S423 * u_26 * _S466.x + _S474 + _S474);
    float2  _S477 = _S397 * _S476;
    float2  _S478 = _S460 * _S476;
    float _S479 = _S477.x + _S477.y;
    if(_S411)
    {
        float _S480 = _S479 / _S413;
        float _S481 = _S414 * - _S480;
        float _S482 = _S410 * (0.3333333432674408f * - (_S399 * _S480));
        k_0 = _S482 + _S482;
        _S412 = _S481;
        _S413 = 0.0f;
    }
    else
    {
        float _S483 = _S479 / _S412;
        float _S484 = _S410 * - _S483;
        k_0 = _S398 * _S483;
        _S412 = 0.0f;
        _S413 = _S484;
    }
    DiffPair_float_0 _S485;
    (&_S485)->primal_0 = _S445;
    (&_S485)->differential_0 = 0.0f;
    DiffPair_float_0 _S486;
    (&_S486)->primal_0 = _S447;
    (&_S486)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S485, &_S486, k_0);
    float _S487 = _S486.differential_0 + _S412;
    float _S488 = _S485.differential_0 + _S413;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S489;
    (&_S489)->primal_0 = _S452;
    (&_S489)->differential_0 = _S451;
    s_bwd_length_impl_0(&_S489, _S488);
    float2  _S490 = _S489.differential_0 + _S478;
    float3  _S491 = make_float3 (_S490.x, _S490.y, _S487);
    J_4[int(1)] = _S491;
    *cov2d_4 = mul_6(mul_5(J_4, cov3d_2), transpose_1(J_4));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_1(float3  mean3d_3, Matrix<float, 3, 3>  cov3d_3, float4  intrins_5, FixedArray<float, 10>  * dist_coeffs_12, Matrix<float, 2, 2>  * cov2d_5, float2  * mean2d_5)
{
    float2  _S492 = float2 {mean3d_3.x, mean3d_3.y};
    float r_9 = length_0(_S492);
    float _S493 = mean3d_3.z;
    float theta_5 = (F32_atan2((r_9), (_S493)));
    float k_1;
    if(theta_5 < 0.00100000004749745f)
    {
        k_1 = (1.0f - theta_5 * theta_5 / 3.0f) / _S493;
    }
    else
    {
        k_1 = theta_5 / r_9;
    }
    float2  _S494 = _S492 * make_float2 (k_1);
    float u_27 = _S494.x;
    float v_27 = _S494.y;
    float r2_27 = u_27 * u_27 + v_27 * v_27;
    float _S495 = 2.0f * (*dist_coeffs_12)[int(4)];
    float _S496 = 2.0f * (*dist_coeffs_12)[int(5)];
    float2  _S497 = _S494 * make_float2 (1.0f + r2_27 * ((*dist_coeffs_12)[int(0)] + r2_27 * ((*dist_coeffs_12)[int(1)] + r2_27 * ((*dist_coeffs_12)[int(2)] + r2_27 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S495 * u_27 * v_27 + (*dist_coeffs_12)[int(5)] * (r2_27 + 2.0f * u_27 * u_27) + (*dist_coeffs_12)[int(6)] * r2_27, _S496 * u_27 * v_27 + (*dist_coeffs_12)[int(4)] * (r2_27 + 2.0f * v_27 * v_27) + (*dist_coeffs_12)[int(7)] * r2_27);
    float2  _S498 = _S497 + make_float2 ((*dist_coeffs_12)[int(8)] * _S497.x + (*dist_coeffs_12)[int(9)] * _S497.y, 0.0f);
    float fx_5 = intrins_5.x;
    float fy_5 = intrins_5.y;
    *mean2d_5 = make_float2 (fx_5 * _S498.x + intrins_5.z, fy_5 * _S498.y + intrins_5.w);
    Matrix<float, 2, 3>  J_5;
    float2  _S499 = make_float2 (0.0f);
    float2  seed_6 = _S499;
    *&((&seed_6)->x) = 1.0f;
    float2  _S500 = seed_6;
    float _S501 = s_primal_ctx_atan2_0(r_9, _S493);
    bool _S502 = _S501 < 0.00100000004749745f;
    float _S503;
    float _S504;
    float _S505;
    if(_S502)
    {
        float _S506 = 1.0f - _S501 * _S501 / 3.0f;
        float _S507 = _S493 * _S493;
        k_1 = _S506 / _S493;
        _S503 = 0.0f;
        _S504 = _S507;
        _S505 = _S506;
    }
    else
    {
        float _S508 = r_9 * r_9;
        k_1 = _S501 / r_9;
        _S503 = _S508;
        _S504 = 0.0f;
        _S505 = 0.0f;
    }
    float2  _S509 = make_float2 (k_1);
    float2  _S510 = _S492 * make_float2 (k_1);
    float u_28 = _S510.x;
    float v_28 = _S510.y;
    float r2_28 = u_28 * u_28 + v_28 * v_28;
    float _S511 = (*dist_coeffs_12)[int(2)] + r2_28 * (*dist_coeffs_12)[int(3)];
    float _S512 = (*dist_coeffs_12)[int(1)] + r2_28 * _S511;
    float _S513 = (*dist_coeffs_12)[int(0)] + r2_28 * _S512;
    float _S514 = fx_5 * _S500.x;
    float2  _S515 = make_float2 (_S514, fy_5 * _S500.y) + make_float2 ((*dist_coeffs_12)[int(8)] * _S514, (*dist_coeffs_12)[int(9)] * _S514);
    float2  _S516 = _S510 * _S515;
    float _S517 = (*dist_coeffs_12)[int(4)] * _S515.y;
    float _S518 = (*dist_coeffs_12)[int(5)] * _S515.x;
    float _S519 = _S516.x + _S516.y;
    float _S520 = r2_28 * _S519;
    float _S521 = r2_28 * _S520;
    float _S522 = (*dist_coeffs_12)[int(7)] * _S515.y + _S517 + (*dist_coeffs_12)[int(6)] * _S515.x + _S518 + _S513 * _S519 + _S512 * _S520 + _S511 * _S521 + (*dist_coeffs_12)[int(3)] * (r2_28 * _S521);
    float _S523 = v_28 * _S522;
    float _S524 = u_28 * _S522;
    float2  _S525 = make_float2 (1.0f + r2_28 * _S513) * _S515 + make_float2 (_S496 * (v_28 * _S515.y) + 2.0f * u_28 * _S518 + 2.0f * (u_28 * _S518) + _S495 * (v_28 * _S515.x) + _S524 + _S524, 2.0f * v_28 * _S517 + 2.0f * (v_28 * _S517) + _S496 * u_28 * _S515.y + _S495 * u_28 * _S515.x + _S523 + _S523);
    float2  _S526 = _S492 * _S525;
    float2  _S527 = _S509 * _S525;
    float _S528 = _S526.x + _S526.y;
    if(_S502)
    {
        float _S529 = _S528 / _S504;
        float _S530 = _S505 * - _S529;
        float _S531 = _S501 * (0.3333333432674408f * - (_S493 * _S529));
        k_1 = _S531 + _S531;
        _S503 = _S530;
        _S504 = 0.0f;
    }
    else
    {
        float _S532 = _S528 / _S503;
        float _S533 = _S501 * - _S532;
        k_1 = r_9 * _S532;
        _S503 = 0.0f;
        _S504 = _S533;
    }
    DiffPair_float_0 _S534;
    (&_S534)->primal_0 = r_9;
    (&_S534)->differential_0 = 0.0f;
    DiffPair_float_0 _S535;
    (&_S535)->primal_0 = _S493;
    (&_S535)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S534, &_S535, k_1);
    float _S536 = _S535.differential_0 + _S503;
    float _S537 = _S534.differential_0 + _S504;
    float2  _S538 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S539;
    (&_S539)->primal_0 = _S492;
    (&_S539)->differential_0 = _S538;
    s_bwd_length_impl_0(&_S539, _S537);
    float2  _S540 = _S539.differential_0 + _S527;
    float3  _S541 = make_float3 (_S540.x, _S540.y, _S536);
    J_5[int(0)] = _S541;
    float2  seed_7 = _S499;
    *&((&seed_7)->y) = 1.0f;
    float2  _S542 = seed_7;
    if(_S502)
    {
        float _S543 = 1.0f - _S501 * _S501 / 3.0f;
        float _S544 = _S493 * _S493;
        k_1 = _S543 / _S493;
        _S503 = 0.0f;
        _S504 = _S544;
        _S505 = _S543;
    }
    else
    {
        float _S545 = r_9 * r_9;
        k_1 = _S501 / r_9;
        _S503 = _S545;
        _S504 = 0.0f;
        _S505 = 0.0f;
    }
    float2  _S546 = make_float2 (k_1);
    float2  _S547 = _S492 * make_float2 (k_1);
    float u_29 = _S547.x;
    float v_29 = _S547.y;
    float r2_29 = u_29 * u_29 + v_29 * v_29;
    float _S548 = (*dist_coeffs_12)[int(2)] + r2_29 * (*dist_coeffs_12)[int(3)];
    float _S549 = (*dist_coeffs_12)[int(1)] + r2_29 * _S548;
    float _S550 = (*dist_coeffs_12)[int(0)] + r2_29 * _S549;
    float _S551 = fx_5 * _S542.x;
    float2  _S552 = make_float2 (_S551, fy_5 * _S542.y) + make_float2 ((*dist_coeffs_12)[int(8)] * _S551, (*dist_coeffs_12)[int(9)] * _S551);
    float2  _S553 = _S547 * _S552;
    float _S554 = (*dist_coeffs_12)[int(4)] * _S552.y;
    float _S555 = (*dist_coeffs_12)[int(5)] * _S552.x;
    float _S556 = _S553.x + _S553.y;
    float _S557 = r2_29 * _S556;
    float _S558 = r2_29 * _S557;
    float _S559 = (*dist_coeffs_12)[int(7)] * _S552.y + _S554 + (*dist_coeffs_12)[int(6)] * _S552.x + _S555 + _S550 * _S556 + _S549 * _S557 + _S548 * _S558 + (*dist_coeffs_12)[int(3)] * (r2_29 * _S558);
    float _S560 = v_29 * _S559;
    float _S561 = u_29 * _S559;
    float2  _S562 = make_float2 (1.0f + r2_29 * _S550) * _S552 + make_float2 (_S496 * (v_29 * _S552.y) + 2.0f * u_29 * _S555 + 2.0f * (u_29 * _S555) + _S495 * (v_29 * _S552.x) + _S561 + _S561, 2.0f * v_29 * _S554 + 2.0f * (v_29 * _S554) + _S496 * u_29 * _S552.y + _S495 * u_29 * _S552.x + _S560 + _S560);
    float2  _S563 = _S492 * _S562;
    float2  _S564 = _S546 * _S562;
    float _S565 = _S563.x + _S563.y;
    if(_S502)
    {
        float _S566 = _S565 / _S504;
        float _S567 = _S505 * - _S566;
        float _S568 = _S501 * (0.3333333432674408f * - (_S493 * _S566));
        k_1 = _S568 + _S568;
        _S503 = _S567;
        _S504 = 0.0f;
    }
    else
    {
        float _S569 = _S565 / _S503;
        float _S570 = _S501 * - _S569;
        k_1 = r_9 * _S569;
        _S503 = 0.0f;
        _S504 = _S570;
    }
    DiffPair_float_0 _S571;
    (&_S571)->primal_0 = r_9;
    (&_S571)->differential_0 = 0.0f;
    DiffPair_float_0 _S572;
    (&_S572)->primal_0 = _S493;
    (&_S572)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S571, &_S572, k_1);
    float _S573 = _S572.differential_0 + _S503;
    float _S574 = _S571.differential_0 + _S504;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S575;
    (&_S575)->primal_0 = _S492;
    (&_S575)->differential_0 = _S538;
    s_bwd_length_impl_0(&_S575, _S574);
    float2  _S576 = _S575.differential_0 + _S564;
    float3  _S577 = make_float3 (_S576.x, _S576.y, _S573);
    J_5[int(1)] = _S577;
    *cov2d_5 = mul_6(mul_5(J_5, cov3d_3), transpose_1(J_5));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_2, float4  intrins_6, FixedArray<float, 10>  * dist_coeffs_13, Matrix<float, 2, 2>  * cov2d_6, float2  * mean2d_6)
{
    float2  * _S578;
    bool _S579;
    float2  * _S580;
    bool _S581;
    float2  * _S582;
    bool _S583;
    bool _S584;
    float2  * _S585;
    bool _S586;
    float2  * _S587;
    bool _S588;
    float2  * _S589;
    bool _S590;
    bool _S591;
    float2  * _S592;
    bool _S593;
    bool _S594;
    int2  _S595 = make_int2 (int(0));
    float2  _S596 = make_float2 ((float)_S595.x, (float)_S595.y);
    *mean2d_6 = _S596;
    *cov2d_6 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_2;
    for(;;)
    {
        float k_2;
        _S578 = &proj_points_2[int(0)];
        for(;;)
        {
            float2  _S597 = float2 {sigmas_2->p_0[int(0)].x, sigmas_2->p_0[int(0)].y};
            float r_10 = length_0(_S597);
            float _S598 = sigmas_2->p_0[int(0)].z;
            float theta_6 = (F32_atan2((r_10), (_S598)));
            if(theta_6 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_6 * theta_6 / 3.0f) / _S598;
            }
            else
            {
                k_2 = theta_6 / r_10;
            }
            float2  _S599 = _S597 * make_float2 (k_2);
            proj_points_2[int(0)] = _S599;
            Matrix<float, 2, 2>  _S600 = camera_distortion_jac_0(_S599, dist_coeffs_13);
            bool _S601 = !((F32_min((determinant_0(_S600)), ((F32_min((_S600.rows[int(0)].x), (_S600.rows[int(1)].y)))))) > 0.0f);
            _S579 = _S601;
            if(_S601)
            {
                break;
            }
            float u_30 = proj_points_2[int(0)].x;
            float v_30 = proj_points_2[int(0)].y;
            float r2_30 = u_30 * u_30 + v_30 * v_30;
            float2  _S602 = proj_points_2[int(0)] * make_float2 (1.0f + r2_30 * ((*dist_coeffs_13)[int(0)] + r2_30 * ((*dist_coeffs_13)[int(1)] + r2_30 * ((*dist_coeffs_13)[int(2)] + r2_30 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_30 * v_30 + (*dist_coeffs_13)[int(5)] * (r2_30 + 2.0f * u_30 * u_30) + (*dist_coeffs_13)[int(6)] * r2_30, 2.0f * (*dist_coeffs_13)[int(5)] * u_30 * v_30 + (*dist_coeffs_13)[int(4)] * (r2_30 + 2.0f * v_30 * v_30) + (*dist_coeffs_13)[int(7)] * r2_30);
            float2  _S603 = _S602 + make_float2 ((*dist_coeffs_13)[int(8)] * _S602.x + (*dist_coeffs_13)[int(9)] * _S602.y, 0.0f);
            proj_points_2[int(0)] = make_float2 (intrins_6.x * _S603.x + intrins_6.z, intrins_6.y * _S603.y + intrins_6.w);
            break;
        }
        bool all_valid_4 = true & (!_S579);
        _S580 = &proj_points_2[int(1)];
        for(;;)
        {
            float2  _S604 = float2 {sigmas_2->p_0[int(1)].x, sigmas_2->p_0[int(1)].y};
            float r_11 = length_0(_S604);
            float _S605 = sigmas_2->p_0[int(1)].z;
            float theta_7 = (F32_atan2((r_11), (_S605)));
            if(theta_7 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_7 * theta_7 / 3.0f) / _S605;
            }
            else
            {
                k_2 = theta_7 / r_11;
            }
            float2  _S606 = _S604 * make_float2 (k_2);
            proj_points_2[int(1)] = _S606;
            Matrix<float, 2, 2>  _S607 = camera_distortion_jac_0(_S606, dist_coeffs_13);
            bool _S608 = !((F32_min((determinant_0(_S607)), ((F32_min((_S607.rows[int(0)].x), (_S607.rows[int(1)].y)))))) > 0.0f);
            _S581 = _S608;
            if(_S608)
            {
                break;
            }
            float u_31 = proj_points_2[int(1)].x;
            float v_31 = proj_points_2[int(1)].y;
            float r2_31 = u_31 * u_31 + v_31 * v_31;
            float2  _S609 = proj_points_2[int(1)] * make_float2 (1.0f + r2_31 * ((*dist_coeffs_13)[int(0)] + r2_31 * ((*dist_coeffs_13)[int(1)] + r2_31 * ((*dist_coeffs_13)[int(2)] + r2_31 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_31 * v_31 + (*dist_coeffs_13)[int(5)] * (r2_31 + 2.0f * u_31 * u_31) + (*dist_coeffs_13)[int(6)] * r2_31, 2.0f * (*dist_coeffs_13)[int(5)] * u_31 * v_31 + (*dist_coeffs_13)[int(4)] * (r2_31 + 2.0f * v_31 * v_31) + (*dist_coeffs_13)[int(7)] * r2_31);
            float2  _S610 = _S609 + make_float2 ((*dist_coeffs_13)[int(8)] * _S609.x + (*dist_coeffs_13)[int(9)] * _S609.y, 0.0f);
            proj_points_2[int(1)] = make_float2 (intrins_6.x * _S610.x + intrins_6.z, intrins_6.y * _S610.y + intrins_6.w);
            break;
        }
        bool all_valid_5 = all_valid_4 & (!_S581);
        for(;;)
        {
            _S582 = &proj_points_2[int(2)];
            for(;;)
            {
                float2  _S611 = float2 {sigmas_2->p_0[int(2)].x, sigmas_2->p_0[int(2)].y};
                float r_12 = length_0(_S611);
                float _S612 = sigmas_2->p_0[int(2)].z;
                float theta_8 = (F32_atan2((r_12), (_S612)));
                if(theta_8 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_8 * theta_8 / 3.0f) / _S612;
                }
                else
                {
                    k_2 = theta_8 / r_12;
                }
                float2  _S613 = _S611 * make_float2 (k_2);
                proj_points_2[int(2)] = _S613;
                Matrix<float, 2, 2>  _S614 = camera_distortion_jac_0(_S613, dist_coeffs_13);
                bool _S615 = !((F32_min((determinant_0(_S614)), ((F32_min((_S614.rows[int(0)].x), (_S614.rows[int(1)].y)))))) > 0.0f);
                _S583 = _S615;
                if(_S615)
                {
                    break;
                }
                float u_32 = proj_points_2[int(2)].x;
                float v_32 = proj_points_2[int(2)].y;
                float r2_32 = u_32 * u_32 + v_32 * v_32;
                float2  _S616 = proj_points_2[int(2)] * make_float2 (1.0f + r2_32 * ((*dist_coeffs_13)[int(0)] + r2_32 * ((*dist_coeffs_13)[int(1)] + r2_32 * ((*dist_coeffs_13)[int(2)] + r2_32 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_32 * v_32 + (*dist_coeffs_13)[int(5)] * (r2_32 + 2.0f * u_32 * u_32) + (*dist_coeffs_13)[int(6)] * r2_32, 2.0f * (*dist_coeffs_13)[int(5)] * u_32 * v_32 + (*dist_coeffs_13)[int(4)] * (r2_32 + 2.0f * v_32 * v_32) + (*dist_coeffs_13)[int(7)] * r2_32);
                float2  _S617 = _S616 + make_float2 ((*dist_coeffs_13)[int(8)] * _S616.x + (*dist_coeffs_13)[int(9)] * _S616.y, 0.0f);
                proj_points_2[int(2)] = make_float2 (intrins_6.x * _S617.x + intrins_6.z, intrins_6.y * _S617.y + intrins_6.w);
                break;
            }
            _S584 = all_valid_5 & (!_S583);
            break;
        }
        _S585 = &proj_points_2[int(3)];
        for(;;)
        {
            float2  _S618 = float2 {sigmas_2->p_0[int(3)].x, sigmas_2->p_0[int(3)].y};
            float r_13 = length_0(_S618);
            float _S619 = sigmas_2->p_0[int(3)].z;
            float theta_9 = (F32_atan2((r_13), (_S619)));
            if(theta_9 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_9 * theta_9 / 3.0f) / _S619;
            }
            else
            {
                k_2 = theta_9 / r_13;
            }
            float2  _S620 = _S618 * make_float2 (k_2);
            proj_points_2[int(3)] = _S620;
            Matrix<float, 2, 2>  _S621 = camera_distortion_jac_0(_S620, dist_coeffs_13);
            bool _S622 = !((F32_min((determinant_0(_S621)), ((F32_min((_S621.rows[int(0)].x), (_S621.rows[int(1)].y)))))) > 0.0f);
            _S586 = _S622;
            if(_S622)
            {
                break;
            }
            float u_33 = proj_points_2[int(3)].x;
            float v_33 = proj_points_2[int(3)].y;
            float r2_33 = u_33 * u_33 + v_33 * v_33;
            float2  _S623 = proj_points_2[int(3)] * make_float2 (1.0f + r2_33 * ((*dist_coeffs_13)[int(0)] + r2_33 * ((*dist_coeffs_13)[int(1)] + r2_33 * ((*dist_coeffs_13)[int(2)] + r2_33 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_33 * v_33 + (*dist_coeffs_13)[int(5)] * (r2_33 + 2.0f * u_33 * u_33) + (*dist_coeffs_13)[int(6)] * r2_33, 2.0f * (*dist_coeffs_13)[int(5)] * u_33 * v_33 + (*dist_coeffs_13)[int(4)] * (r2_33 + 2.0f * v_33 * v_33) + (*dist_coeffs_13)[int(7)] * r2_33);
            float2  _S624 = _S623 + make_float2 ((*dist_coeffs_13)[int(8)] * _S623.x + (*dist_coeffs_13)[int(9)] * _S623.y, 0.0f);
            proj_points_2[int(3)] = make_float2 (intrins_6.x * _S624.x + intrins_6.z, intrins_6.y * _S624.y + intrins_6.w);
            break;
        }
        bool all_valid_6 = _S584 & (!_S586);
        _S587 = &proj_points_2[int(4)];
        for(;;)
        {
            float2  _S625 = float2 {sigmas_2->p_0[int(4)].x, sigmas_2->p_0[int(4)].y};
            float r_14 = length_0(_S625);
            float _S626 = sigmas_2->p_0[int(4)].z;
            float theta_10 = (F32_atan2((r_14), (_S626)));
            if(theta_10 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_10 * theta_10 / 3.0f) / _S626;
            }
            else
            {
                k_2 = theta_10 / r_14;
            }
            float2  _S627 = _S625 * make_float2 (k_2);
            proj_points_2[int(4)] = _S627;
            Matrix<float, 2, 2>  _S628 = camera_distortion_jac_0(_S627, dist_coeffs_13);
            bool _S629 = !((F32_min((determinant_0(_S628)), ((F32_min((_S628.rows[int(0)].x), (_S628.rows[int(1)].y)))))) > 0.0f);
            _S588 = _S629;
            if(_S629)
            {
                break;
            }
            float u_34 = proj_points_2[int(4)].x;
            float v_34 = proj_points_2[int(4)].y;
            float r2_34 = u_34 * u_34 + v_34 * v_34;
            float2  _S630 = proj_points_2[int(4)] * make_float2 (1.0f + r2_34 * ((*dist_coeffs_13)[int(0)] + r2_34 * ((*dist_coeffs_13)[int(1)] + r2_34 * ((*dist_coeffs_13)[int(2)] + r2_34 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_34 * v_34 + (*dist_coeffs_13)[int(5)] * (r2_34 + 2.0f * u_34 * u_34) + (*dist_coeffs_13)[int(6)] * r2_34, 2.0f * (*dist_coeffs_13)[int(5)] * u_34 * v_34 + (*dist_coeffs_13)[int(4)] * (r2_34 + 2.0f * v_34 * v_34) + (*dist_coeffs_13)[int(7)] * r2_34);
            float2  _S631 = _S630 + make_float2 ((*dist_coeffs_13)[int(8)] * _S630.x + (*dist_coeffs_13)[int(9)] * _S630.y, 0.0f);
            proj_points_2[int(4)] = make_float2 (intrins_6.x * _S631.x + intrins_6.z, intrins_6.y * _S631.y + intrins_6.w);
            break;
        }
        bool all_valid_7 = all_valid_6 & (!_S588);
        for(;;)
        {
            _S589 = &proj_points_2[int(5)];
            for(;;)
            {
                float2  _S632 = float2 {sigmas_2->p_0[int(5)].x, sigmas_2->p_0[int(5)].y};
                float r_15 = length_0(_S632);
                float _S633 = sigmas_2->p_0[int(5)].z;
                float theta_11 = (F32_atan2((r_15), (_S633)));
                if(theta_11 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_11 * theta_11 / 3.0f) / _S633;
                }
                else
                {
                    k_2 = theta_11 / r_15;
                }
                float2  _S634 = _S632 * make_float2 (k_2);
                proj_points_2[int(5)] = _S634;
                Matrix<float, 2, 2>  _S635 = camera_distortion_jac_0(_S634, dist_coeffs_13);
                bool _S636 = !((F32_min((determinant_0(_S635)), ((F32_min((_S635.rows[int(0)].x), (_S635.rows[int(1)].y)))))) > 0.0f);
                _S590 = _S636;
                if(_S636)
                {
                    break;
                }
                float u_35 = proj_points_2[int(5)].x;
                float v_35 = proj_points_2[int(5)].y;
                float r2_35 = u_35 * u_35 + v_35 * v_35;
                float2  _S637 = proj_points_2[int(5)] * make_float2 (1.0f + r2_35 * ((*dist_coeffs_13)[int(0)] + r2_35 * ((*dist_coeffs_13)[int(1)] + r2_35 * ((*dist_coeffs_13)[int(2)] + r2_35 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_35 * v_35 + (*dist_coeffs_13)[int(5)] * (r2_35 + 2.0f * u_35 * u_35) + (*dist_coeffs_13)[int(6)] * r2_35, 2.0f * (*dist_coeffs_13)[int(5)] * u_35 * v_35 + (*dist_coeffs_13)[int(4)] * (r2_35 + 2.0f * v_35 * v_35) + (*dist_coeffs_13)[int(7)] * r2_35);
                float2  _S638 = _S637 + make_float2 ((*dist_coeffs_13)[int(8)] * _S637.x + (*dist_coeffs_13)[int(9)] * _S637.y, 0.0f);
                proj_points_2[int(5)] = make_float2 (intrins_6.x * _S638.x + intrins_6.z, intrins_6.y * _S638.y + intrins_6.w);
                break;
            }
            _S591 = all_valid_7 & (!_S590);
            break;
        }
        _S592 = &proj_points_2[int(6)];
        for(;;)
        {
            float2  _S639 = float2 {sigmas_2->p_0[int(6)].x, sigmas_2->p_0[int(6)].y};
            float r_16 = length_0(_S639);
            float _S640 = sigmas_2->p_0[int(6)].z;
            float theta_12 = (F32_atan2((r_16), (_S640)));
            if(theta_12 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_12 * theta_12 / 3.0f) / _S640;
            }
            else
            {
                k_2 = theta_12 / r_16;
            }
            float2  _S641 = _S639 * make_float2 (k_2);
            proj_points_2[int(6)] = _S641;
            Matrix<float, 2, 2>  _S642 = camera_distortion_jac_0(_S641, dist_coeffs_13);
            bool _S643 = !((F32_min((determinant_0(_S642)), ((F32_min((_S642.rows[int(0)].x), (_S642.rows[int(1)].y)))))) > 0.0f);
            _S593 = _S643;
            if(_S643)
            {
                break;
            }
            float u_36 = proj_points_2[int(6)].x;
            float v_36 = proj_points_2[int(6)].y;
            float r2_36 = u_36 * u_36 + v_36 * v_36;
            float2  _S644 = proj_points_2[int(6)] * make_float2 (1.0f + r2_36 * ((*dist_coeffs_13)[int(0)] + r2_36 * ((*dist_coeffs_13)[int(1)] + r2_36 * ((*dist_coeffs_13)[int(2)] + r2_36 * (*dist_coeffs_13)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_13)[int(4)] * u_36 * v_36 + (*dist_coeffs_13)[int(5)] * (r2_36 + 2.0f * u_36 * u_36) + (*dist_coeffs_13)[int(6)] * r2_36, 2.0f * (*dist_coeffs_13)[int(5)] * u_36 * v_36 + (*dist_coeffs_13)[int(4)] * (r2_36 + 2.0f * v_36 * v_36) + (*dist_coeffs_13)[int(7)] * r2_36);
            float2  _S645 = _S644 + make_float2 ((*dist_coeffs_13)[int(8)] * _S644.x + (*dist_coeffs_13)[int(9)] * _S644.y, 0.0f);
            proj_points_2[int(6)] = make_float2 (intrins_6.x * _S645.x + intrins_6.z, intrins_6.y * _S645.y + intrins_6.w);
            break;
        }
        _S594 = _S591 & (!_S593);
        break;
    }
    if(!_S594)
    {
        return false;
    }
    float2  _S646 = *mean2d_6 + make_float2 (sigmas_2->w_mean_0[int(0)]) * *_S578;
    *mean2d_6 = _S646;
    float2  _S647 = _S646 + make_float2 (sigmas_2->w_mean_0[int(1)]) * *_S580;
    *mean2d_6 = _S647;
    float2  _S648 = _S647 + make_float2 (sigmas_2->w_mean_0[int(2)]) * *_S582;
    *mean2d_6 = _S648;
    float2  _S649 = _S648 + make_float2 (sigmas_2->w_mean_0[int(3)]) * *_S585;
    *mean2d_6 = _S649;
    float2  _S650 = _S649 + make_float2 (sigmas_2->w_mean_0[int(4)]) * *_S587;
    *mean2d_6 = _S650;
    float2  _S651 = _S650 + make_float2 (sigmas_2->w_mean_0[int(5)]) * *_S589;
    *mean2d_6 = _S651;
    float2  _S652 = _S651 + make_float2 (sigmas_2->w_mean_0[int(6)]) * *_S592;
    *mean2d_6 = _S652;
    float2  d_14 = *_S578 - _S652;
    float _S653 = d_14.x;
    float _S654 = d_14.y;
    float _S655 = _S653 * _S654;
    Matrix<float, 2, 2>  _S656 = *cov2d_6 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S653 * _S653, _S655, _S655, _S654 * _S654);
    *cov2d_6 = _S656;
    float2  d_15 = *_S580 - *mean2d_6;
    float _S657 = d_15.x;
    float _S658 = d_15.y;
    float _S659 = _S657 * _S658;
    Matrix<float, 2, 2>  _S660 = _S656 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S657 * _S657, _S659, _S659, _S658 * _S658);
    *cov2d_6 = _S660;
    float2  d_16 = *_S582 - *mean2d_6;
    float _S661 = d_16.x;
    float _S662 = d_16.y;
    float _S663 = _S661 * _S662;
    Matrix<float, 2, 2>  _S664 = _S660 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S661 * _S661, _S663, _S663, _S662 * _S662);
    *cov2d_6 = _S664;
    float2  d_17 = *_S585 - *mean2d_6;
    float _S665 = d_17.x;
    float _S666 = d_17.y;
    float _S667 = _S665 * _S666;
    Matrix<float, 2, 2>  _S668 = _S664 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S665 * _S665, _S667, _S667, _S666 * _S666);
    *cov2d_6 = _S668;
    float2  d_18 = *_S587 - *mean2d_6;
    float _S669 = d_18.x;
    float _S670 = d_18.y;
    float _S671 = _S669 * _S670;
    Matrix<float, 2, 2>  _S672 = _S668 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S669 * _S669, _S671, _S671, _S670 * _S670);
    *cov2d_6 = _S672;
    float2  d_19 = *_S589 - *mean2d_6;
    float _S673 = d_19.x;
    float _S674 = d_19.y;
    float _S675 = _S673 * _S674;
    Matrix<float, 2, 2>  _S676 = _S672 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S673 * _S673, _S675, _S675, _S674 * _S674);
    *cov2d_6 = _S676;
    float2  d_20 = *_S592 - *mean2d_6;
    float _S677 = d_20.x;
    float _S678 = d_20.y;
    float _S679 = _S677 * _S678;
    *cov2d_6 = _S676 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S677 * _S677, _S679, _S679, _S678 * _S678);
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_3, float4  intrins_7, FixedArray<float, 10>  * dist_coeffs_14, Matrix<float, 2, 2>  * cov2d_7, float2  * mean2d_7)
{
    int2  _S680 = make_int2 (int(0));
    float2  _S681 = make_float2 ((float)_S680.x, (float)_S680.y);
    *mean2d_7 = _S681;
    *cov2d_7 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_3;
    float2  _S682 = float2 {sigmas_3->p_0[int(0)].x, sigmas_3->p_0[int(0)].y};
    float r_17 = length_0(_S682);
    float _S683 = sigmas_3->p_0[int(0)].z;
    float theta_13 = (F32_atan2((r_17), (_S683)));
    float k_3;
    if(theta_13 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_13 * theta_13 / 3.0f) / _S683;
    }
    else
    {
        k_3 = theta_13 / r_17;
    }
    float2  _S684 = _S682 * make_float2 (k_3);
    float u_37 = _S684.x;
    float v_37 = _S684.y;
    float r2_37 = u_37 * u_37 + v_37 * v_37;
    float _S685 = 2.0f * (*dist_coeffs_14)[int(4)];
    float _S686 = 2.0f * (*dist_coeffs_14)[int(5)];
    float2  _S687 = _S684 * make_float2 (1.0f + r2_37 * ((*dist_coeffs_14)[int(0)] + r2_37 * ((*dist_coeffs_14)[int(1)] + r2_37 * ((*dist_coeffs_14)[int(2)] + r2_37 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S685 * u_37 * v_37 + (*dist_coeffs_14)[int(5)] * (r2_37 + 2.0f * u_37 * u_37) + (*dist_coeffs_14)[int(6)] * r2_37, _S686 * u_37 * v_37 + (*dist_coeffs_14)[int(4)] * (r2_37 + 2.0f * v_37 * v_37) + (*dist_coeffs_14)[int(7)] * r2_37);
    float2  _S688 = _S687 + make_float2 ((*dist_coeffs_14)[int(8)] * _S687.x + (*dist_coeffs_14)[int(9)] * _S687.y, 0.0f);
    float fx_6 = intrins_7.x;
    float fy_6 = intrins_7.y;
    float cx_3 = intrins_7.z;
    float cy_3 = intrins_7.w;
    proj_points_3[int(0)] = make_float2 (fx_6 * _S688.x + cx_3, fy_6 * _S688.y + cy_3);
    float2  _S689 = float2 {sigmas_3->p_0[int(1)].x, sigmas_3->p_0[int(1)].y};
    float r_18 = length_0(_S689);
    float _S690 = sigmas_3->p_0[int(1)].z;
    float theta_14 = (F32_atan2((r_18), (_S690)));
    if(theta_14 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_14 * theta_14 / 3.0f) / _S690;
    }
    else
    {
        k_3 = theta_14 / r_18;
    }
    float2  _S691 = _S689 * make_float2 (k_3);
    float u_38 = _S691.x;
    float v_38 = _S691.y;
    float r2_38 = u_38 * u_38 + v_38 * v_38;
    float2  _S692 = _S691 * make_float2 (1.0f + r2_38 * ((*dist_coeffs_14)[int(0)] + r2_38 * ((*dist_coeffs_14)[int(1)] + r2_38 * ((*dist_coeffs_14)[int(2)] + r2_38 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S685 * u_38 * v_38 + (*dist_coeffs_14)[int(5)] * (r2_38 + 2.0f * u_38 * u_38) + (*dist_coeffs_14)[int(6)] * r2_38, _S686 * u_38 * v_38 + (*dist_coeffs_14)[int(4)] * (r2_38 + 2.0f * v_38 * v_38) + (*dist_coeffs_14)[int(7)] * r2_38);
    float2  _S693 = _S692 + make_float2 ((*dist_coeffs_14)[int(8)] * _S692.x + (*dist_coeffs_14)[int(9)] * _S692.y, 0.0f);
    proj_points_3[int(1)] = make_float2 (fx_6 * _S693.x + cx_3, fy_6 * _S693.y + cy_3);
    float2  _S694 = float2 {sigmas_3->p_0[int(2)].x, sigmas_3->p_0[int(2)].y};
    float r_19 = length_0(_S694);
    float _S695 = sigmas_3->p_0[int(2)].z;
    float theta_15 = (F32_atan2((r_19), (_S695)));
    if(theta_15 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_15 * theta_15 / 3.0f) / _S695;
    }
    else
    {
        k_3 = theta_15 / r_19;
    }
    float2  _S696 = _S694 * make_float2 (k_3);
    float u_39 = _S696.x;
    float v_39 = _S696.y;
    float r2_39 = u_39 * u_39 + v_39 * v_39;
    float2  _S697 = _S696 * make_float2 (1.0f + r2_39 * ((*dist_coeffs_14)[int(0)] + r2_39 * ((*dist_coeffs_14)[int(1)] + r2_39 * ((*dist_coeffs_14)[int(2)] + r2_39 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S685 * u_39 * v_39 + (*dist_coeffs_14)[int(5)] * (r2_39 + 2.0f * u_39 * u_39) + (*dist_coeffs_14)[int(6)] * r2_39, _S686 * u_39 * v_39 + (*dist_coeffs_14)[int(4)] * (r2_39 + 2.0f * v_39 * v_39) + (*dist_coeffs_14)[int(7)] * r2_39);
    float2  _S698 = _S697 + make_float2 ((*dist_coeffs_14)[int(8)] * _S697.x + (*dist_coeffs_14)[int(9)] * _S697.y, 0.0f);
    proj_points_3[int(2)] = make_float2 (fx_6 * _S698.x + cx_3, fy_6 * _S698.y + cy_3);
    float2  _S699 = float2 {sigmas_3->p_0[int(3)].x, sigmas_3->p_0[int(3)].y};
    float r_20 = length_0(_S699);
    float _S700 = sigmas_3->p_0[int(3)].z;
    float theta_16 = (F32_atan2((r_20), (_S700)));
    if(theta_16 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_16 * theta_16 / 3.0f) / _S700;
    }
    else
    {
        k_3 = theta_16 / r_20;
    }
    float2  _S701 = _S699 * make_float2 (k_3);
    float u_40 = _S701.x;
    float v_40 = _S701.y;
    float r2_40 = u_40 * u_40 + v_40 * v_40;
    float2  _S702 = _S701 * make_float2 (1.0f + r2_40 * ((*dist_coeffs_14)[int(0)] + r2_40 * ((*dist_coeffs_14)[int(1)] + r2_40 * ((*dist_coeffs_14)[int(2)] + r2_40 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S685 * u_40 * v_40 + (*dist_coeffs_14)[int(5)] * (r2_40 + 2.0f * u_40 * u_40) + (*dist_coeffs_14)[int(6)] * r2_40, _S686 * u_40 * v_40 + (*dist_coeffs_14)[int(4)] * (r2_40 + 2.0f * v_40 * v_40) + (*dist_coeffs_14)[int(7)] * r2_40);
    float2  _S703 = _S702 + make_float2 ((*dist_coeffs_14)[int(8)] * _S702.x + (*dist_coeffs_14)[int(9)] * _S702.y, 0.0f);
    proj_points_3[int(3)] = make_float2 (fx_6 * _S703.x + cx_3, fy_6 * _S703.y + cy_3);
    float2  _S704 = float2 {sigmas_3->p_0[int(4)].x, sigmas_3->p_0[int(4)].y};
    float r_21 = length_0(_S704);
    float _S705 = sigmas_3->p_0[int(4)].z;
    float theta_17 = (F32_atan2((r_21), (_S705)));
    if(theta_17 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_17 * theta_17 / 3.0f) / _S705;
    }
    else
    {
        k_3 = theta_17 / r_21;
    }
    float2  _S706 = _S704 * make_float2 (k_3);
    float u_41 = _S706.x;
    float v_41 = _S706.y;
    float r2_41 = u_41 * u_41 + v_41 * v_41;
    float2  _S707 = _S706 * make_float2 (1.0f + r2_41 * ((*dist_coeffs_14)[int(0)] + r2_41 * ((*dist_coeffs_14)[int(1)] + r2_41 * ((*dist_coeffs_14)[int(2)] + r2_41 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S685 * u_41 * v_41 + (*dist_coeffs_14)[int(5)] * (r2_41 + 2.0f * u_41 * u_41) + (*dist_coeffs_14)[int(6)] * r2_41, _S686 * u_41 * v_41 + (*dist_coeffs_14)[int(4)] * (r2_41 + 2.0f * v_41 * v_41) + (*dist_coeffs_14)[int(7)] * r2_41);
    float2  _S708 = _S707 + make_float2 ((*dist_coeffs_14)[int(8)] * _S707.x + (*dist_coeffs_14)[int(9)] * _S707.y, 0.0f);
    proj_points_3[int(4)] = make_float2 (fx_6 * _S708.x + cx_3, fy_6 * _S708.y + cy_3);
    float2  _S709 = float2 {sigmas_3->p_0[int(5)].x, sigmas_3->p_0[int(5)].y};
    float r_22 = length_0(_S709);
    float _S710 = sigmas_3->p_0[int(5)].z;
    float theta_18 = (F32_atan2((r_22), (_S710)));
    if(theta_18 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_18 * theta_18 / 3.0f) / _S710;
    }
    else
    {
        k_3 = theta_18 / r_22;
    }
    float2  _S711 = _S709 * make_float2 (k_3);
    float u_42 = _S711.x;
    float v_42 = _S711.y;
    float r2_42 = u_42 * u_42 + v_42 * v_42;
    float2  _S712 = _S711 * make_float2 (1.0f + r2_42 * ((*dist_coeffs_14)[int(0)] + r2_42 * ((*dist_coeffs_14)[int(1)] + r2_42 * ((*dist_coeffs_14)[int(2)] + r2_42 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S685 * u_42 * v_42 + (*dist_coeffs_14)[int(5)] * (r2_42 + 2.0f * u_42 * u_42) + (*dist_coeffs_14)[int(6)] * r2_42, _S686 * u_42 * v_42 + (*dist_coeffs_14)[int(4)] * (r2_42 + 2.0f * v_42 * v_42) + (*dist_coeffs_14)[int(7)] * r2_42);
    float2  _S713 = _S712 + make_float2 ((*dist_coeffs_14)[int(8)] * _S712.x + (*dist_coeffs_14)[int(9)] * _S712.y, 0.0f);
    proj_points_3[int(5)] = make_float2 (fx_6 * _S713.x + cx_3, fy_6 * _S713.y + cy_3);
    float2  _S714 = float2 {sigmas_3->p_0[int(6)].x, sigmas_3->p_0[int(6)].y};
    float r_23 = length_0(_S714);
    float _S715 = sigmas_3->p_0[int(6)].z;
    float theta_19 = (F32_atan2((r_23), (_S715)));
    if(theta_19 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_19 * theta_19 / 3.0f) / _S715;
    }
    else
    {
        k_3 = theta_19 / r_23;
    }
    float2  _S716 = _S714 * make_float2 (k_3);
    float u_43 = _S716.x;
    float v_43 = _S716.y;
    float r2_43 = u_43 * u_43 + v_43 * v_43;
    float2  _S717 = _S716 * make_float2 (1.0f + r2_43 * ((*dist_coeffs_14)[int(0)] + r2_43 * ((*dist_coeffs_14)[int(1)] + r2_43 * ((*dist_coeffs_14)[int(2)] + r2_43 * (*dist_coeffs_14)[int(3)])))) + make_float2 (_S685 * u_43 * v_43 + (*dist_coeffs_14)[int(5)] * (r2_43 + 2.0f * u_43 * u_43) + (*dist_coeffs_14)[int(6)] * r2_43, _S686 * u_43 * v_43 + (*dist_coeffs_14)[int(4)] * (r2_43 + 2.0f * v_43 * v_43) + (*dist_coeffs_14)[int(7)] * r2_43);
    float2  _S718 = _S717 + make_float2 ((*dist_coeffs_14)[int(8)] * _S717.x + (*dist_coeffs_14)[int(9)] * _S717.y, 0.0f);
    float2  _S719 = make_float2 (fx_6 * _S718.x + cx_3, fy_6 * _S718.y + cy_3);
    proj_points_3[int(6)] = _S719;
    float2  _S720 = *mean2d_7 + make_float2 (sigmas_3->w_mean_0[int(0)]) * proj_points_3[int(0)];
    *mean2d_7 = _S720;
    float2  _S721 = _S720 + make_float2 (sigmas_3->w_mean_0[int(1)]) * proj_points_3[int(1)];
    *mean2d_7 = _S721;
    float2  _S722 = _S721 + make_float2 (sigmas_3->w_mean_0[int(2)]) * proj_points_3[int(2)];
    *mean2d_7 = _S722;
    float2  _S723 = _S722 + make_float2 (sigmas_3->w_mean_0[int(3)]) * proj_points_3[int(3)];
    *mean2d_7 = _S723;
    float2  _S724 = _S723 + make_float2 (sigmas_3->w_mean_0[int(4)]) * proj_points_3[int(4)];
    *mean2d_7 = _S724;
    float2  _S725 = _S724 + make_float2 (sigmas_3->w_mean_0[int(5)]) * proj_points_3[int(5)];
    *mean2d_7 = _S725;
    float2  _S726 = _S725 + make_float2 (sigmas_3->w_mean_0[int(6)]) * _S719;
    *mean2d_7 = _S726;
    float2  d_21 = proj_points_3[int(0)] - _S726;
    float _S727 = d_21.x;
    float _S728 = d_21.y;
    float _S729 = _S727 * _S728;
    Matrix<float, 2, 2>  _S730 = *cov2d_7 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S727 * _S727, _S729, _S729, _S728 * _S728);
    *cov2d_7 = _S730;
    float2  d_22 = proj_points_3[int(1)] - *mean2d_7;
    float _S731 = d_22.x;
    float _S732 = d_22.y;
    float _S733 = _S731 * _S732;
    Matrix<float, 2, 2>  _S734 = _S730 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S731 * _S731, _S733, _S733, _S732 * _S732);
    *cov2d_7 = _S734;
    float2  d_23 = proj_points_3[int(2)] - *mean2d_7;
    float _S735 = d_23.x;
    float _S736 = d_23.y;
    float _S737 = _S735 * _S736;
    Matrix<float, 2, 2>  _S738 = _S734 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S735 * _S735, _S737, _S737, _S736 * _S736);
    *cov2d_7 = _S738;
    float2  d_24 = proj_points_3[int(3)] - *mean2d_7;
    float _S739 = d_24.x;
    float _S740 = d_24.y;
    float _S741 = _S739 * _S740;
    Matrix<float, 2, 2>  _S742 = _S738 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S739 * _S739, _S741, _S741, _S740 * _S740);
    *cov2d_7 = _S742;
    float2  d_25 = proj_points_3[int(4)] - *mean2d_7;
    float _S743 = d_25.x;
    float _S744 = d_25.y;
    float _S745 = _S743 * _S744;
    Matrix<float, 2, 2>  _S746 = _S742 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S743 * _S743, _S745, _S745, _S744 * _S744);
    *cov2d_7 = _S746;
    float2  d_26 = proj_points_3[int(5)] - *mean2d_7;
    float _S747 = d_26.x;
    float _S748 = d_26.y;
    float _S749 = _S747 * _S748;
    Matrix<float, 2, 2>  _S750 = _S746 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S747 * _S747, _S749, _S749, _S748 * _S748);
    *cov2d_7 = _S750;
    float2  d_27 = _S719 - *mean2d_7;
    float _S751 = d_27.x;
    float _S752 = d_27.y;
    float _S753 = _S751 * _S752;
    *cov2d_7 = _S750 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S751 * _S751, _S753, _S753, _S752 * _S752);
    return true;
}

inline __device__ void ortho_proj_3dgs(float3  mean3d_4, Matrix<float, 3, 3>  cov3d_4, float fx_7, float fy_7, float cx_4, float cy_4, Matrix<float, 2, 2>  * cov2d_8, float2  * mean2d_8)
{
    Matrix<float, 2, 3>  J_6 = makeMatrix<float, 2, 3> (fx_7, 0.0f, 0.0f, 0.0f, fy_7, 0.0f);
    *cov2d_8 = mul_6(mul_5(J_6, cov3d_4), transpose_1(J_6));
    *mean2d_8 = make_float2 (fx_7 * mean3d_4.x + cx_4, fy_7 * mean3d_4.y + cy_4);
    return;
}

inline __device__ float add_blur(float eps2d_0, Matrix<float, 2, 2>  * covar_1, float * compensation_0)
{
    float det_orig_0 = *&((covar_1->rows + (int(0)))->x) * *&((covar_1->rows + (int(1)))->y) - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    float _S754 = *&((covar_1->rows + (int(0)))->x) + eps2d_0;
    *&((covar_1->rows + (int(0)))->x) = _S754;
    float _S755 = *&((covar_1->rows + (int(1)))->y) + eps2d_0;
    *&((covar_1->rows + (int(1)))->y) = _S755;
    float det_blur_0 = _S754 * _S755 - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    *compensation_0 = (F32_sqrt(((F32_max((0.0f), (det_orig_0 / det_blur_0))))));
    return det_blur_0;
}

inline __device__ float3  exp_0(float3  x_13)
{
    float3  result_12;
    int i_8 = int(0);
    for(;;)
    {
        if(i_8 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_12, i_8) = (F32_exp((_slang_vector_get_element(x_13, i_8))));
        i_8 = i_8 + int(1);
    }
    return result_12;
}

inline __device__ void _d_exp_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_8, float3  dOut_12)
{
    float3  _S756 = exp_0((*dpx_8).primal_0) * dOut_12;
    dpx_8->primal_0 = (*dpx_8).primal_0;
    dpx_8->differential_0 = _S756;
    return;
}

inline __device__ void _d_log_0(DiffPair_float_0 * dpx_9, float dOut_13)
{
    float _S757 = 1.0f / (*dpx_9).primal_0 * dOut_13;
    dpx_9->primal_0 = (*dpx_9).primal_0;
    dpx_9->differential_0 = _S757;
    return;
}

inline __device__ void _d_max_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_10, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_4, float3  dOut_14)
{
    DiffPair_float_0 left_dp_0;
    (&left_dp_0)->primal_0 = (*dpx_10).primal_0.x;
    (&left_dp_0)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_0;
    (&right_dp_0)->primal_0 = (*dpy_4).primal_0.x;
    (&right_dp_0)->differential_0 = 0.0f;
    _d_max_0(&left_dp_0, &right_dp_0, dOut_14.x);
    float3  left_d_result_5;
    *&((&left_d_result_5)->x) = left_dp_0.differential_0;
    float3  right_d_result_5;
    *&((&right_d_result_5)->x) = right_dp_0.differential_0;
    DiffPair_float_0 left_dp_1;
    (&left_dp_1)->primal_0 = (*dpx_10).primal_0.y;
    (&left_dp_1)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_1;
    (&right_dp_1)->primal_0 = (*dpy_4).primal_0.y;
    (&right_dp_1)->differential_0 = 0.0f;
    _d_max_0(&left_dp_1, &right_dp_1, dOut_14.y);
    *&((&left_d_result_5)->y) = left_dp_1.differential_0;
    *&((&right_d_result_5)->y) = right_dp_1.differential_0;
    DiffPair_float_0 left_dp_2;
    (&left_dp_2)->primal_0 = (*dpx_10).primal_0.z;
    (&left_dp_2)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_2;
    (&right_dp_2)->primal_0 = (*dpy_4).primal_0.z;
    (&right_dp_2)->differential_0 = 0.0f;
    _d_max_0(&left_dp_2, &right_dp_2, dOut_14.z);
    *&((&left_d_result_5)->z) = left_dp_2.differential_0;
    *&((&right_d_result_5)->z) = right_dp_2.differential_0;
    dpx_10->primal_0 = (*dpx_10).primal_0;
    dpx_10->differential_0 = left_d_result_5;
    dpy_4->primal_0 = (*dpy_4).primal_0;
    dpy_4->differential_0 = right_d_result_5;
    return;
}

inline __device__ float3  max_0(float3  x_14, float3  y_2)
{
    float3  result_13;
    int i_9 = int(0);
    for(;;)
    {
        if(i_9 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_13, i_9) = (F32_max((_slang_vector_get_element(x_14, i_9)), (_slang_vector_get_element(y_2, i_9))));
        i_9 = i_9 + int(1);
    }
    return result_13;
}

inline __device__ void projection_3dgs_persp(bool antialiased_0, float3  mean_1, float4  quat_4, float3  scale_3, float in_opacity_0, FixedArray<float3 , 16>  * sh_coeffs_0, Matrix<float, 3, 3>  R_7, float3  t_3, float fx_8, float fy_8, float cx_5, float cy_5, FixedArray<float, 10>  * dist_coeffs_15, uint image_width_0, uint image_height_0, float near_plane_0, float far_plane_0, int4  * aabb_xyxy_0, float2  * mean2d_9, float * depth_0, float3  * conic_0, float * opacity_0, float3  * rgb_0)
{
    for(;;)
    {
        float3  mean_c_0 = mul_0(R_7, mean_1) + t_3;
        float _S758 = mean_c_0.z;
        bool _S759;
        if(_S758 < near_plane_0)
        {
            _S759 = true;
        }
        else
        {
            _S759 = _S758 > far_plane_0;
        }
        if(_S759)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_8 = make_float4 (fx_8, fy_8, cx_5, cy_5);
        Matrix<float, 2, 2>  covar2d_0;
        float3  _S760 = exp_0(scale_3);
        float x_15 = quat_4.y;
        float x2_4 = x_15 * x_15;
        float y2_4 = quat_4.z * quat_4.z;
        float z2_4 = quat_4.w * quat_4.w;
        float xy_4 = quat_4.y * quat_4.z;
        float xz_4 = quat_4.y * quat_4.w;
        float yz_4 = quat_4.z * quat_4.w;
        float wx_4 = quat_4.x * quat_4.y;
        float wy_4 = quat_4.x * quat_4.z;
        float wz_4 = quat_4.x * quat_4.w;
        Matrix<float, 3, 3>  M_2 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_4 + z2_4), 2.0f * (xy_4 + wz_4), 2.0f * (xz_4 - wy_4), 2.0f * (xy_4 - wz_4), 1.0f - 2.0f * (x2_4 + z2_4), 2.0f * (yz_4 + wx_4), 2.0f * (xz_4 + wy_4), 2.0f * (yz_4 - wx_4), 1.0f - 2.0f * (x2_4 + y2_4))), makeMatrix<float, 3, 3> (_S760.x, 0.0f, 0.0f, 0.0f, _S760.y, 0.0f, 0.0f, 0.0f, _S760.z));
        Matrix<float, 3, 3>  _S761 = transpose_0(R_7);
        bool _S762 = persp_proj_3dgs_0(mean_c_0, mul_4(mul_4(R_7, mul_4(M_2, transpose_0(M_2))), _S761), intrins_8, dist_coeffs_15, image_width_0, image_height_0, &covar2d_0, mean2d_9);
        if(!(true & _S762))
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_1 = *&(((&covar2d_0)->rows + (int(0)))->x) * *&(((&covar2d_0)->rows + (int(1)))->y) - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float _S763 = *&(((&covar2d_0)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(0)))->x) = _S763;
        float _S764 = *&(((&covar2d_0)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(1)))->y) = _S764;
        float det_blur_1 = _S763 * _S764 - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float compensation_1 = (F32_sqrt(((F32_max((0.0f), (det_orig_1 / det_blur_1))))));
        if(det_blur_1 <= 0.0f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_1 = 1.0f / (covar2d_0.rows[int(0)].x * covar2d_0.rows[int(1)].y - covar2d_0.rows[int(0)].y * covar2d_0.rows[int(1)].x);
        Matrix<float, 2, 2>  _S765 = makeMatrix<float, 2, 2> (covar2d_0.rows[int(1)].y * invdet_1, - covar2d_0.rows[int(0)].y * invdet_1, - covar2d_0.rows[int(1)].x * invdet_1, covar2d_0.rows[int(0)].x * invdet_1);
        *opacity_0 = 1.0f / (1.0f + (F32_exp((- in_opacity_0))));
        if(antialiased_0)
        {
            *opacity_0 = *opacity_0 * compensation_1;
        }
        if((*opacity_0) < 0.00392156885936856f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_0 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_0 / 0.00392156885936856f)))))))));
        float radius_x_0 = extend_0 * (F32_sqrt((covar2d_0[int(0)].x)));
        float radius_y_0 = extend_0 * (F32_sqrt((covar2d_0[int(1)].y)));
        float xmin_0 = (F32_floor(((*mean2d_9).x - radius_x_0)));
        float xmax_0 = (F32_ceil(((*mean2d_9).x + radius_x_0)));
        float ymin_0 = (F32_floor(((*mean2d_9).y - radius_y_0)));
        float ymax_0 = (F32_ceil(((*mean2d_9).y + radius_y_0)));
        if(xmax_0 <= 0.0f)
        {
            _S759 = true;
        }
        else
        {
            _S759 = xmin_0 >= float(image_width_0);
        }
        if(_S759)
        {
            _S759 = true;
        }
        else
        {
            _S759 = ymax_0 <= 0.0f;
        }
        if(_S759)
        {
            _S759 = true;
        }
        else
        {
            _S759 = ymin_0 >= float(image_height_0);
        }
        if(_S759)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_0 = make_int4 (int(xmin_0), int(ymin_0), int(xmax_0), int(ymax_0));
        *depth_0 = length_1(mean_c_0);
        *conic_0 = make_float3 (_S765.rows[int(0)].x, _S765.rows[int(0)].y, _S765.rows[int(1)].y);
        float3  _S766 = mean_1 - - mul_0(_S761, t_3);
        float3  _S767 = make_float3 (0.282094806432724f) * (*sh_coeffs_0)[int(0)];
        *rgb_0 = _S767;
        float _S768 = _S766.x;
        float _S769 = _S766.y;
        float _S770 = _S766.z;
        float norm_0 = (F32_sqrt((_S768 * _S768 + _S769 * _S769 + _S770 * _S770)));
        float x_16 = _S768 / norm_0;
        float y_3 = _S769 / norm_0;
        float z_0 = _S770 / norm_0;
        float3  _S771 = _S767 + make_float3 (0.48860251903533936f) * (make_float3 (- y_3) * (*sh_coeffs_0)[int(1)] + make_float3 (z_0) * (*sh_coeffs_0)[int(2)] - make_float3 (x_16) * (*sh_coeffs_0)[int(3)]);
        *rgb_0 = _S771;
        float z2_5 = z_0 * z_0;
        float fTmp0B_0 = -1.09254848957061768f * z_0;
        float fC1_0 = x_16 * x_16 - y_3 * y_3;
        float fS1_0 = 2.0f * x_16 * y_3;
        float3  _S772 = _S771 + (make_float3 (0.54627424478530884f * fS1_0) * (*sh_coeffs_0)[int(4)] + make_float3 (fTmp0B_0 * y_3) * (*sh_coeffs_0)[int(5)] + make_float3 (0.94617468118667603f * z2_5 - 0.31539157032966614f) * (*sh_coeffs_0)[int(6)] + make_float3 (fTmp0B_0 * x_16) * (*sh_coeffs_0)[int(7)] + make_float3 (0.54627424478530884f * fC1_0) * (*sh_coeffs_0)[int(8)]);
        *rgb_0 = _S772;
        float fTmp0C_0 = -2.28522896766662598f * z2_5 + 0.4570457935333252f;
        float fTmp1B_0 = 1.44530570507049561f * z_0;
        *rgb_0 = max_0(_S772 + (make_float3 (-0.59004360437393188f * (x_16 * fS1_0 + y_3 * fC1_0)) * (*sh_coeffs_0)[int(9)] + make_float3 (fTmp1B_0 * fS1_0) * (*sh_coeffs_0)[int(10)] + make_float3 (fTmp0C_0 * y_3) * (*sh_coeffs_0)[int(11)] + make_float3 (z_0 * (1.86588168144226074f * z2_5 - 1.11952900886535645f)) * (*sh_coeffs_0)[int(12)] + make_float3 (fTmp0C_0 * x_16) * (*sh_coeffs_0)[int(13)] + make_float3 (fTmp1B_0 * fC1_0) * (*sh_coeffs_0)[int(14)] + make_float3 (-0.59004360437393188f * (x_16 * fC1_0 - y_3 * fS1_0)) * (*sh_coeffs_0)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_fisheye(bool antialiased_1, float3  mean_2, float4  quat_5, float3  scale_4, float in_opacity_1, FixedArray<float3 , 16>  * sh_coeffs_1, Matrix<float, 3, 3>  R_8, float3  t_4, float fx_9, float fy_9, float cx_6, float cy_6, FixedArray<float, 10>  * dist_coeffs_16, uint image_width_1, uint image_height_1, float near_plane_1, float far_plane_1, int4  * aabb_xyxy_1, float2  * mean2d_10, float * depth_1, float3  * conic_1, float * opacity_1, float3  * rgb_1)
{
    for(;;)
    {
        float3  mean_c_1 = mul_0(R_8, mean_2) + t_4;
        float _S773 = length_1(mean_c_1);
        bool _S774;
        if(_S773 < near_plane_1)
        {
            _S774 = true;
        }
        else
        {
            _S774 = _S773 > far_plane_1;
        }
        if(_S774)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_9 = make_float4 (fx_9, fy_9, cx_6, cy_6);
        Matrix<float, 2, 2>  covar2d_1;
        float3  _S775 = exp_0(scale_4);
        float x_17 = quat_5.y;
        float x2_5 = x_17 * x_17;
        float y2_5 = quat_5.z * quat_5.z;
        float z2_6 = quat_5.w * quat_5.w;
        float xy_5 = quat_5.y * quat_5.z;
        float xz_5 = quat_5.y * quat_5.w;
        float yz_5 = quat_5.z * quat_5.w;
        float wx_5 = quat_5.x * quat_5.y;
        float wy_5 = quat_5.x * quat_5.z;
        float wz_5 = quat_5.x * quat_5.w;
        Matrix<float, 3, 3>  M_3 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_5 + z2_6), 2.0f * (xy_5 + wz_5), 2.0f * (xz_5 - wy_5), 2.0f * (xy_5 - wz_5), 1.0f - 2.0f * (x2_5 + z2_6), 2.0f * (yz_5 + wx_5), 2.0f * (xz_5 + wy_5), 2.0f * (yz_5 - wx_5), 1.0f - 2.0f * (x2_5 + y2_5))), makeMatrix<float, 3, 3> (_S775.x, 0.0f, 0.0f, 0.0f, _S775.y, 0.0f, 0.0f, 0.0f, _S775.z));
        Matrix<float, 3, 3>  _S776 = transpose_0(R_8);
        bool _S777 = fisheye_proj_3dgs_0(mean_c_1, mul_4(mul_4(R_8, mul_4(M_3, transpose_0(M_3))), _S776), intrins_9, dist_coeffs_16, &covar2d_1, mean2d_10);
        if(!(true & _S777))
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_2 = *&(((&covar2d_1)->rows + (int(0)))->x) * *&(((&covar2d_1)->rows + (int(1)))->y) - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float _S778 = *&(((&covar2d_1)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(0)))->x) = _S778;
        float _S779 = *&(((&covar2d_1)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(1)))->y) = _S779;
        float det_blur_2 = _S778 * _S779 - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float compensation_2 = (F32_sqrt(((F32_max((0.0f), (det_orig_2 / det_blur_2))))));
        if(det_blur_2 <= 0.0f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_2 = 1.0f / (covar2d_1.rows[int(0)].x * covar2d_1.rows[int(1)].y - covar2d_1.rows[int(0)].y * covar2d_1.rows[int(1)].x);
        Matrix<float, 2, 2>  _S780 = makeMatrix<float, 2, 2> (covar2d_1.rows[int(1)].y * invdet_2, - covar2d_1.rows[int(0)].y * invdet_2, - covar2d_1.rows[int(1)].x * invdet_2, covar2d_1.rows[int(0)].x * invdet_2);
        *opacity_1 = 1.0f / (1.0f + (F32_exp((- in_opacity_1))));
        if(antialiased_1)
        {
            *opacity_1 = *opacity_1 * compensation_2;
        }
        if((*opacity_1) < 0.00392156885936856f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_1 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_1 / 0.00392156885936856f)))))))));
        float radius_x_1 = extend_1 * (F32_sqrt((covar2d_1[int(0)].x)));
        float radius_y_1 = extend_1 * (F32_sqrt((covar2d_1[int(1)].y)));
        float xmin_1 = (F32_floor(((*mean2d_10).x - radius_x_1)));
        float xmax_1 = (F32_ceil(((*mean2d_10).x + radius_x_1)));
        float ymin_1 = (F32_floor(((*mean2d_10).y - radius_y_1)));
        float ymax_1 = (F32_ceil(((*mean2d_10).y + radius_y_1)));
        if(xmax_1 <= 0.0f)
        {
            _S774 = true;
        }
        else
        {
            _S774 = xmin_1 >= float(image_width_1);
        }
        if(_S774)
        {
            _S774 = true;
        }
        else
        {
            _S774 = ymax_1 <= 0.0f;
        }
        if(_S774)
        {
            _S774 = true;
        }
        else
        {
            _S774 = ymin_1 >= float(image_height_1);
        }
        if(_S774)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_1 = make_int4 (int(xmin_1), int(ymin_1), int(xmax_1), int(ymax_1));
        *depth_1 = _S773;
        *conic_1 = make_float3 (_S780.rows[int(0)].x, _S780.rows[int(0)].y, _S780.rows[int(1)].y);
        float3  _S781 = mean_2 - - mul_0(_S776, t_4);
        float3  _S782 = make_float3 (0.282094806432724f) * (*sh_coeffs_1)[int(0)];
        *rgb_1 = _S782;
        float _S783 = _S781.x;
        float _S784 = _S781.y;
        float _S785 = _S781.z;
        float norm_1 = (F32_sqrt((_S783 * _S783 + _S784 * _S784 + _S785 * _S785)));
        float x_18 = _S783 / norm_1;
        float y_4 = _S784 / norm_1;
        float z_1 = _S785 / norm_1;
        float3  _S786 = _S782 + make_float3 (0.48860251903533936f) * (make_float3 (- y_4) * (*sh_coeffs_1)[int(1)] + make_float3 (z_1) * (*sh_coeffs_1)[int(2)] - make_float3 (x_18) * (*sh_coeffs_1)[int(3)]);
        *rgb_1 = _S786;
        float z2_7 = z_1 * z_1;
        float fTmp0B_1 = -1.09254848957061768f * z_1;
        float fC1_1 = x_18 * x_18 - y_4 * y_4;
        float fS1_1 = 2.0f * x_18 * y_4;
        float3  _S787 = _S786 + (make_float3 (0.54627424478530884f * fS1_1) * (*sh_coeffs_1)[int(4)] + make_float3 (fTmp0B_1 * y_4) * (*sh_coeffs_1)[int(5)] + make_float3 (0.94617468118667603f * z2_7 - 0.31539157032966614f) * (*sh_coeffs_1)[int(6)] + make_float3 (fTmp0B_1 * x_18) * (*sh_coeffs_1)[int(7)] + make_float3 (0.54627424478530884f * fC1_1) * (*sh_coeffs_1)[int(8)]);
        *rgb_1 = _S787;
        float fTmp0C_1 = -2.28522896766662598f * z2_7 + 0.4570457935333252f;
        float fTmp1B_1 = 1.44530570507049561f * z_1;
        *rgb_1 = max_0(_S787 + (make_float3 (-0.59004360437393188f * (x_18 * fS1_1 + y_4 * fC1_1)) * (*sh_coeffs_1)[int(9)] + make_float3 (fTmp1B_1 * fS1_1) * (*sh_coeffs_1)[int(10)] + make_float3 (fTmp0C_1 * y_4) * (*sh_coeffs_1)[int(11)] + make_float3 (z_1 * (1.86588168144226074f * z2_7 - 1.11952900886535645f)) * (*sh_coeffs_1)[int(12)] + make_float3 (fTmp0C_1 * x_18) * (*sh_coeffs_1)[int(13)] + make_float3 (fTmp1B_1 * fC1_1) * (*sh_coeffs_1)[int(14)] + make_float3 (-0.59004360437393188f * (x_18 * fC1_1 - y_4 * fS1_1)) * (*sh_coeffs_1)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_ortho(bool antialiased_2, float3  mean_3, float4  quat_6, float3  scale_5, float in_opacity_2, FixedArray<float3 , 16>  * sh_coeffs_2, Matrix<float, 3, 3>  R_9, float3  t_5, float fx_10, float fy_10, float cx_7, float cy_7, FixedArray<float, 10>  * dist_coeffs_17, uint image_width_2, uint image_height_2, float near_plane_2, float far_plane_2, int4  * aabb_xyxy_2, float2  * mean2d_11, float * depth_2, float3  * conic_2, float * opacity_2, float3  * rgb_2)
{
    for(;;)
    {
        float3  mean_c_2 = mul_0(R_9, mean_3) + t_5;
        float _S788 = mean_c_2.z;
        bool _S789;
        if(_S788 < near_plane_2)
        {
            _S789 = true;
        }
        else
        {
            _S789 = _S788 > far_plane_2;
        }
        if(_S789)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        Matrix<float, 2, 2>  covar2d_2;
        float3  _S790 = exp_0(scale_5);
        float x_19 = quat_6.y;
        float x2_6 = x_19 * x_19;
        float y2_6 = quat_6.z * quat_6.z;
        float z2_8 = quat_6.w * quat_6.w;
        float xy_6 = quat_6.y * quat_6.z;
        float xz_6 = quat_6.y * quat_6.w;
        float yz_6 = quat_6.z * quat_6.w;
        float wx_6 = quat_6.x * quat_6.y;
        float wy_6 = quat_6.x * quat_6.z;
        float wz_6 = quat_6.x * quat_6.w;
        Matrix<float, 3, 3>  M_4 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_6 + z2_8), 2.0f * (xy_6 + wz_6), 2.0f * (xz_6 - wy_6), 2.0f * (xy_6 - wz_6), 1.0f - 2.0f * (x2_6 + z2_8), 2.0f * (yz_6 + wx_6), 2.0f * (xz_6 + wy_6), 2.0f * (yz_6 - wx_6), 1.0f - 2.0f * (x2_6 + y2_6))), makeMatrix<float, 3, 3> (_S790.x, 0.0f, 0.0f, 0.0f, _S790.y, 0.0f, 0.0f, 0.0f, _S790.z));
        Matrix<float, 3, 3>  _S791 = transpose_0(R_9);
        Matrix<float, 2, 3>  J_7 = makeMatrix<float, 2, 3> (fx_10, 0.0f, 0.0f, 0.0f, fy_10, 0.0f);
        covar2d_2 = mul_6(mul_5(J_7, mul_4(mul_4(R_9, mul_4(M_4, transpose_0(M_4))), _S791)), transpose_1(J_7));
        *mean2d_11 = make_float2 (fx_10 * mean_c_2.x + cx_7, fy_10 * mean_c_2.y + cy_7);
        float det_orig_3 = *&(((&covar2d_2)->rows + (int(0)))->x) * *&(((&covar2d_2)->rows + (int(1)))->y) - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float _S792 = *&(((&covar2d_2)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(0)))->x) = _S792;
        float _S793 = *&(((&covar2d_2)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(1)))->y) = _S793;
        float det_blur_3 = _S792 * _S793 - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float compensation_3 = (F32_sqrt(((F32_max((0.0f), (det_orig_3 / det_blur_3))))));
        if(det_blur_3 <= 0.0f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_3 = 1.0f / (covar2d_2.rows[int(0)].x * covar2d_2.rows[int(1)].y - covar2d_2.rows[int(0)].y * covar2d_2.rows[int(1)].x);
        Matrix<float, 2, 2>  _S794 = makeMatrix<float, 2, 2> (covar2d_2.rows[int(1)].y * invdet_3, - covar2d_2.rows[int(0)].y * invdet_3, - covar2d_2.rows[int(1)].x * invdet_3, covar2d_2.rows[int(0)].x * invdet_3);
        *opacity_2 = 1.0f / (1.0f + (F32_exp((- in_opacity_2))));
        if(antialiased_2)
        {
            *opacity_2 = *opacity_2 * compensation_3;
        }
        if((*opacity_2) < 0.00392156885936856f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_2 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_2 / 0.00392156885936856f)))))))));
        float radius_x_2 = extend_2 * (F32_sqrt((covar2d_2[int(0)].x)));
        float radius_y_2 = extend_2 * (F32_sqrt((covar2d_2[int(1)].y)));
        float xmin_2 = (F32_floor(((*mean2d_11).x - radius_x_2)));
        float xmax_2 = (F32_ceil(((*mean2d_11).x + radius_x_2)));
        float ymin_2 = (F32_floor(((*mean2d_11).y - radius_y_2)));
        float ymax_2 = (F32_ceil(((*mean2d_11).y + radius_y_2)));
        if(xmax_2 <= 0.0f)
        {
            _S789 = true;
        }
        else
        {
            _S789 = xmin_2 >= float(image_width_2);
        }
        if(_S789)
        {
            _S789 = true;
        }
        else
        {
            _S789 = ymax_2 <= 0.0f;
        }
        if(_S789)
        {
            _S789 = true;
        }
        else
        {
            _S789 = ymin_2 >= float(image_height_2);
        }
        if(_S789)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_2 = make_int4 (int(xmin_2), int(ymin_2), int(xmax_2), int(ymax_2));
        *depth_2 = length_1(mean_c_2);
        *conic_2 = make_float3 (_S794.rows[int(0)].x, _S794.rows[int(0)].y, _S794.rows[int(1)].y);
        float3  _S795 = mean_3 - - mul_0(_S791, t_5);
        float3  _S796 = make_float3 (0.282094806432724f) * (*sh_coeffs_2)[int(0)];
        *rgb_2 = _S796;
        float _S797 = _S795.x;
        float _S798 = _S795.y;
        float _S799 = _S795.z;
        float norm_2 = (F32_sqrt((_S797 * _S797 + _S798 * _S798 + _S799 * _S799)));
        float x_20 = _S797 / norm_2;
        float y_5 = _S798 / norm_2;
        float z_2 = _S799 / norm_2;
        float3  _S800 = _S796 + make_float3 (0.48860251903533936f) * (make_float3 (- y_5) * (*sh_coeffs_2)[int(1)] + make_float3 (z_2) * (*sh_coeffs_2)[int(2)] - make_float3 (x_20) * (*sh_coeffs_2)[int(3)]);
        *rgb_2 = _S800;
        float z2_9 = z_2 * z_2;
        float fTmp0B_2 = -1.09254848957061768f * z_2;
        float fC1_2 = x_20 * x_20 - y_5 * y_5;
        float fS1_2 = 2.0f * x_20 * y_5;
        float3  _S801 = _S800 + (make_float3 (0.54627424478530884f * fS1_2) * (*sh_coeffs_2)[int(4)] + make_float3 (fTmp0B_2 * y_5) * (*sh_coeffs_2)[int(5)] + make_float3 (0.94617468118667603f * z2_9 - 0.31539157032966614f) * (*sh_coeffs_2)[int(6)] + make_float3 (fTmp0B_2 * x_20) * (*sh_coeffs_2)[int(7)] + make_float3 (0.54627424478530884f * fC1_2) * (*sh_coeffs_2)[int(8)]);
        *rgb_2 = _S801;
        float fTmp0C_2 = -2.28522896766662598f * z2_9 + 0.4570457935333252f;
        float fTmp1B_2 = 1.44530570507049561f * z_2;
        *rgb_2 = max_0(_S801 + (make_float3 (-0.59004360437393188f * (x_20 * fS1_2 + y_5 * fC1_2)) * (*sh_coeffs_2)[int(9)] + make_float3 (fTmp1B_2 * fS1_2) * (*sh_coeffs_2)[int(10)] + make_float3 (fTmp0C_2 * y_5) * (*sh_coeffs_2)[int(11)] + make_float3 (z_2 * (1.86588168144226074f * z2_9 - 1.11952900886535645f)) * (*sh_coeffs_2)[int(12)] + make_float3 (fTmp0C_2 * x_20) * (*sh_coeffs_2)[int(13)] + make_float3 (fTmp1B_2 * fC1_2) * (*sh_coeffs_2)[int(14)] + make_float3 (-0.59004360437393188f * (x_20 * fC1_2 - y_5 * fS1_2)) * (*sh_coeffs_2)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_persp(bool antialiased_3, float3  mean_4, float4  quat_7, float3  scale_6, float in_opacity_3, FixedArray<float3 , 16>  * sh_coeffs_3, Matrix<float, 3, 3>  R_10, float3  t_6, float fx_11, float fy_11, float cx_8, float cy_8, FixedArray<float, 10>  * dist_coeffs_18, uint image_width_3, uint image_height_3, float near_plane_3, float far_plane_3, int4  * aabb_xyxy_3, float2  * mean2d_12, float * depth_3, float3  * conic_3, float * opacity_3, float3  * rgb_3)
{
    for(;;)
    {
        float3  mean_c_3 = mul_0(R_10, mean_4) + t_6;
        float _S802 = mean_c_3.z;
        bool _S803;
        if(_S802 < near_plane_3)
        {
            _S803 = true;
        }
        else
        {
            _S803 = _S802 > far_plane_3;
        }
        if(_S803)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_10 = make_float4 (fx_11, fy_11, cx_8, cy_8);
        Matrix<float, 2, 2>  covar2d_3;
        float3  _S804 = exp_0(scale_6);
        float x_21 = quat_7.y;
        float x2_7 = x_21 * x_21;
        float y2_7 = quat_7.z * quat_7.z;
        float z2_10 = quat_7.w * quat_7.w;
        float xy_7 = quat_7.y * quat_7.z;
        float xz_7 = quat_7.y * quat_7.w;
        float yz_7 = quat_7.z * quat_7.w;
        float wx_7 = quat_7.x * quat_7.y;
        float wy_7 = quat_7.x * quat_7.z;
        float wz_7 = quat_7.x * quat_7.w;
        Matrix<float, 3, 3>  _S805 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_7 + z2_10), 2.0f * (xy_7 + wz_7), 2.0f * (xz_7 - wy_7), 2.0f * (xy_7 - wz_7), 1.0f - 2.0f * (x2_7 + z2_10), 2.0f * (yz_7 + wx_7), 2.0f * (xz_7 + wy_7), 2.0f * (yz_7 - wx_7), 1.0f - 2.0f * (x2_7 + y2_7))));
        SigmaPoints_0 ret_0;
        (&ret_0)->p_0[int(0)] = mean_4;
        (&ret_0)->w_mean_0[int(0)] = 0.0f;
        (&ret_0)->w_cov_0[int(0)] = 2.0f;
        float _S806 = (F32_sqrt((3.0f)));
        float3  delta_0 = make_float3 (_S806 * _S804.x) * _S805.rows[0U];
        float3  _S807 = mean_4 + delta_0;
        float3  _S808 = mean_4 - delta_0;
        float3  delta_1 = make_float3 (_S806 * _S804.y) * _S805.rows[1U];
        float3  _S809 = mean_4 + delta_1;
        float3  _S810 = mean_4 - delta_1;
        float3  delta_2 = make_float3 (_S806 * _S804.z) * _S805.rows[2U];
        float3  _S811 = mean_4 + delta_2;
        float3  _S812 = mean_4 - delta_2;
        (&ret_0)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_0)->p_0[0U] = mul_0(R_10, (&ret_0)->p_0[0U]) + t_6;
        (&ret_0)->p_0[1U] = mul_0(R_10, _S807) + t_6;
        (&ret_0)->p_0[2U] = mul_0(R_10, _S809) + t_6;
        (&ret_0)->p_0[3U] = mul_0(R_10, _S811) + t_6;
        (&ret_0)->p_0[4U] = mul_0(R_10, _S808) + t_6;
        (&ret_0)->p_0[5U] = mul_0(R_10, _S810) + t_6;
        (&ret_0)->p_0[6U] = mul_0(R_10, _S812) + t_6;
        SigmaPoints_0 _S813 = ret_0;
        bool _S814 = persp_proj_3dgs_ut_0(&_S813, intrins_10, dist_coeffs_18, image_width_3, image_height_3, &covar2d_3, mean2d_12);
        if(!(true & _S814))
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_4 = *&(((&covar2d_3)->rows + (int(0)))->x) * *&(((&covar2d_3)->rows + (int(1)))->y) - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float _S815 = *&(((&covar2d_3)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(0)))->x) = _S815;
        float _S816 = *&(((&covar2d_3)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(1)))->y) = _S816;
        float det_blur_4 = _S815 * _S816 - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float compensation_4 = (F32_sqrt(((F32_max((0.0f), (det_orig_4 / det_blur_4))))));
        if(det_blur_4 <= 0.0f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_3 = 1.0f / (1.0f + (F32_exp((- in_opacity_3))));
        if(antialiased_3)
        {
            *opacity_3 = *opacity_3 * compensation_4;
        }
        if((*opacity_3) < 0.00392156885936856f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_3 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_3 / 0.00392156885936856f)))))))));
        float radius_x_3 = extend_3 * (F32_sqrt((covar2d_3[int(0)].x)));
        float radius_y_3 = extend_3 * (F32_sqrt((covar2d_3[int(1)].y)));
        float xmin_3 = (F32_floor(((*mean2d_12).x - radius_x_3)));
        float xmax_3 = (F32_ceil(((*mean2d_12).x + radius_x_3)));
        float ymin_3 = (F32_floor(((*mean2d_12).y - radius_y_3)));
        float ymax_3 = (F32_ceil(((*mean2d_12).y + radius_y_3)));
        if(xmax_3 <= 0.0f)
        {
            _S803 = true;
        }
        else
        {
            _S803 = xmin_3 >= float(image_width_3);
        }
        if(_S803)
        {
            _S803 = true;
        }
        else
        {
            _S803 = ymax_3 <= 0.0f;
        }
        if(_S803)
        {
            _S803 = true;
        }
        else
        {
            _S803 = ymin_3 >= float(image_height_3);
        }
        if(_S803)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_3 = make_int4 (int(xmin_3), int(ymin_3), int(xmax_3), int(ymax_3));
        *depth_3 = (F32_max((_S802), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S802 + length_1(mean_c_3)))));
        *conic_3 = exp_0(- scale_6);
        float3  _S817 = mean_4 - - mul_0(transpose_0(R_10), t_6);
        float3  _S818 = make_float3 (0.282094806432724f) * (*sh_coeffs_3)[int(0)];
        *rgb_3 = _S818;
        float _S819 = _S817.x;
        float _S820 = _S817.y;
        float _S821 = _S817.z;
        float norm_3 = (F32_sqrt((_S819 * _S819 + _S820 * _S820 + _S821 * _S821)));
        float x_22 = _S819 / norm_3;
        float y_6 = _S820 / norm_3;
        float z_3 = _S821 / norm_3;
        float3  _S822 = _S818 + make_float3 (0.48860251903533936f) * (make_float3 (- y_6) * (*sh_coeffs_3)[int(1)] + make_float3 (z_3) * (*sh_coeffs_3)[int(2)] - make_float3 (x_22) * (*sh_coeffs_3)[int(3)]);
        *rgb_3 = _S822;
        float z2_11 = z_3 * z_3;
        float fTmp0B_3 = -1.09254848957061768f * z_3;
        float fC1_3 = x_22 * x_22 - y_6 * y_6;
        float fS1_3 = 2.0f * x_22 * y_6;
        float3  _S823 = _S822 + (make_float3 (0.54627424478530884f * fS1_3) * (*sh_coeffs_3)[int(4)] + make_float3 (fTmp0B_3 * y_6) * (*sh_coeffs_3)[int(5)] + make_float3 (0.94617468118667603f * z2_11 - 0.31539157032966614f) * (*sh_coeffs_3)[int(6)] + make_float3 (fTmp0B_3 * x_22) * (*sh_coeffs_3)[int(7)] + make_float3 (0.54627424478530884f * fC1_3) * (*sh_coeffs_3)[int(8)]);
        *rgb_3 = _S823;
        float fTmp0C_3 = -2.28522896766662598f * z2_11 + 0.4570457935333252f;
        float fTmp1B_3 = 1.44530570507049561f * z_3;
        *rgb_3 = max_0(_S823 + (make_float3 (-0.59004360437393188f * (x_22 * fS1_3 + y_6 * fC1_3)) * (*sh_coeffs_3)[int(9)] + make_float3 (fTmp1B_3 * fS1_3) * (*sh_coeffs_3)[int(10)] + make_float3 (fTmp0C_3 * y_6) * (*sh_coeffs_3)[int(11)] + make_float3 (z_3 * (1.86588168144226074f * z2_11 - 1.11952900886535645f)) * (*sh_coeffs_3)[int(12)] + make_float3 (fTmp0C_3 * x_22) * (*sh_coeffs_3)[int(13)] + make_float3 (fTmp1B_3 * fC1_3) * (*sh_coeffs_3)[int(14)] + make_float3 (-0.59004360437393188f * (x_22 * fC1_3 - y_6 * fS1_3)) * (*sh_coeffs_3)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_fisheye(bool antialiased_4, float3  mean_5, float4  quat_8, float3  scale_7, float in_opacity_4, FixedArray<float3 , 16>  * sh_coeffs_4, Matrix<float, 3, 3>  R_11, float3  t_7, float fx_12, float fy_12, float cx_9, float cy_9, FixedArray<float, 10>  * dist_coeffs_19, uint image_width_4, uint image_height_4, float near_plane_4, float far_plane_4, int4  * aabb_xyxy_4, float2  * mean2d_13, float * depth_4, float3  * conic_4, float * opacity_4, float3  * rgb_4)
{
    for(;;)
    {
        float3  mean_c_4 = mul_0(R_11, mean_5) + t_7;
        float _S824 = length_1(mean_c_4);
        bool _S825;
        if(_S824 < near_plane_4)
        {
            _S825 = true;
        }
        else
        {
            _S825 = _S824 > far_plane_4;
        }
        if(_S825)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_11 = make_float4 (fx_12, fy_12, cx_9, cy_9);
        Matrix<float, 2, 2>  covar2d_4;
        float3  _S826 = exp_0(scale_7);
        float x_23 = quat_8.y;
        float x2_8 = x_23 * x_23;
        float y2_8 = quat_8.z * quat_8.z;
        float z2_12 = quat_8.w * quat_8.w;
        float xy_8 = quat_8.y * quat_8.z;
        float xz_8 = quat_8.y * quat_8.w;
        float yz_8 = quat_8.z * quat_8.w;
        float wx_8 = quat_8.x * quat_8.y;
        float wy_8 = quat_8.x * quat_8.z;
        float wz_8 = quat_8.x * quat_8.w;
        Matrix<float, 3, 3>  _S827 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_8 + z2_12), 2.0f * (xy_8 + wz_8), 2.0f * (xz_8 - wy_8), 2.0f * (xy_8 - wz_8), 1.0f - 2.0f * (x2_8 + z2_12), 2.0f * (yz_8 + wx_8), 2.0f * (xz_8 + wy_8), 2.0f * (yz_8 - wx_8), 1.0f - 2.0f * (x2_8 + y2_8))));
        SigmaPoints_0 ret_1;
        (&ret_1)->p_0[int(0)] = mean_5;
        (&ret_1)->w_mean_0[int(0)] = 0.0f;
        (&ret_1)->w_cov_0[int(0)] = 2.0f;
        float _S828 = (F32_sqrt((3.0f)));
        float3  delta_3 = make_float3 (_S828 * _S826.x) * _S827.rows[0U];
        float3  _S829 = mean_5 + delta_3;
        float3  _S830 = mean_5 - delta_3;
        float3  delta_4 = make_float3 (_S828 * _S826.y) * _S827.rows[1U];
        float3  _S831 = mean_5 + delta_4;
        float3  _S832 = mean_5 - delta_4;
        float3  delta_5 = make_float3 (_S828 * _S826.z) * _S827.rows[2U];
        float3  _S833 = mean_5 + delta_5;
        float3  _S834 = mean_5 - delta_5;
        (&ret_1)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_1)->p_0[0U] = mul_0(R_11, (&ret_1)->p_0[0U]) + t_7;
        (&ret_1)->p_0[1U] = mul_0(R_11, _S829) + t_7;
        (&ret_1)->p_0[2U] = mul_0(R_11, _S831) + t_7;
        (&ret_1)->p_0[3U] = mul_0(R_11, _S833) + t_7;
        (&ret_1)->p_0[4U] = mul_0(R_11, _S830) + t_7;
        (&ret_1)->p_0[5U] = mul_0(R_11, _S832) + t_7;
        (&ret_1)->p_0[6U] = mul_0(R_11, _S834) + t_7;
        SigmaPoints_0 _S835 = ret_1;
        bool _S836 = fisheye_proj_3dgs_ut_0(&_S835, intrins_11, dist_coeffs_19, &covar2d_4, mean2d_13);
        if(!(true & _S836))
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_5 = *&(((&covar2d_4)->rows + (int(0)))->x) * *&(((&covar2d_4)->rows + (int(1)))->y) - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float _S837 = *&(((&covar2d_4)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(0)))->x) = _S837;
        float _S838 = *&(((&covar2d_4)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(1)))->y) = _S838;
        float det_blur_5 = _S837 * _S838 - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float compensation_5 = (F32_sqrt(((F32_max((0.0f), (det_orig_5 / det_blur_5))))));
        if(det_blur_5 <= 0.0f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_4 = 1.0f / (1.0f + (F32_exp((- in_opacity_4))));
        if(antialiased_4)
        {
            *opacity_4 = *opacity_4 * compensation_5;
        }
        if((*opacity_4) < 0.00392156885936856f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_4 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_4 / 0.00392156885936856f)))))))));
        float radius_x_4 = extend_4 * (F32_sqrt((covar2d_4[int(0)].x)));
        float radius_y_4 = extend_4 * (F32_sqrt((covar2d_4[int(1)].y)));
        float xmin_4 = (F32_floor(((*mean2d_13).x - radius_x_4)));
        float xmax_4 = (F32_ceil(((*mean2d_13).x + radius_x_4)));
        float ymin_4 = (F32_floor(((*mean2d_13).y - radius_y_4)));
        float ymax_4 = (F32_ceil(((*mean2d_13).y + radius_y_4)));
        if(xmax_4 <= 0.0f)
        {
            _S825 = true;
        }
        else
        {
            _S825 = xmin_4 >= float(image_width_4);
        }
        if(_S825)
        {
            _S825 = true;
        }
        else
        {
            _S825 = ymax_4 <= 0.0f;
        }
        if(_S825)
        {
            _S825 = true;
        }
        else
        {
            _S825 = ymin_4 >= float(image_height_4);
        }
        if(_S825)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_4 = make_int4 (int(xmin_4), int(ymin_4), int(xmax_4), int(ymax_4));
        float _S839 = mean_c_4.z;
        *depth_4 = (F32_max((_S839), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S839 + _S824))));
        *conic_4 = exp_0(- scale_7);
        float3  _S840 = mean_5 - - mul_0(transpose_0(R_11), t_7);
        float3  _S841 = make_float3 (0.282094806432724f) * (*sh_coeffs_4)[int(0)];
        *rgb_4 = _S841;
        float _S842 = _S840.x;
        float _S843 = _S840.y;
        float _S844 = _S840.z;
        float norm_4 = (F32_sqrt((_S842 * _S842 + _S843 * _S843 + _S844 * _S844)));
        float x_24 = _S842 / norm_4;
        float y_7 = _S843 / norm_4;
        float z_4 = _S844 / norm_4;
        float3  _S845 = _S841 + make_float3 (0.48860251903533936f) * (make_float3 (- y_7) * (*sh_coeffs_4)[int(1)] + make_float3 (z_4) * (*sh_coeffs_4)[int(2)] - make_float3 (x_24) * (*sh_coeffs_4)[int(3)]);
        *rgb_4 = _S845;
        float z2_13 = z_4 * z_4;
        float fTmp0B_4 = -1.09254848957061768f * z_4;
        float fC1_4 = x_24 * x_24 - y_7 * y_7;
        float fS1_4 = 2.0f * x_24 * y_7;
        float3  _S846 = _S845 + (make_float3 (0.54627424478530884f * fS1_4) * (*sh_coeffs_4)[int(4)] + make_float3 (fTmp0B_4 * y_7) * (*sh_coeffs_4)[int(5)] + make_float3 (0.94617468118667603f * z2_13 - 0.31539157032966614f) * (*sh_coeffs_4)[int(6)] + make_float3 (fTmp0B_4 * x_24) * (*sh_coeffs_4)[int(7)] + make_float3 (0.54627424478530884f * fC1_4) * (*sh_coeffs_4)[int(8)]);
        *rgb_4 = _S846;
        float fTmp0C_4 = -2.28522896766662598f * z2_13 + 0.4570457935333252f;
        float fTmp1B_4 = 1.44530570507049561f * z_4;
        *rgb_4 = max_0(_S846 + (make_float3 (-0.59004360437393188f * (x_24 * fS1_4 + y_7 * fC1_4)) * (*sh_coeffs_4)[int(9)] + make_float3 (fTmp1B_4 * fS1_4) * (*sh_coeffs_4)[int(10)] + make_float3 (fTmp0C_4 * y_7) * (*sh_coeffs_4)[int(11)] + make_float3 (z_4 * (1.86588168144226074f * z2_13 - 1.11952900886535645f)) * (*sh_coeffs_4)[int(12)] + make_float3 (fTmp0C_4 * x_24) * (*sh_coeffs_4)[int(13)] + make_float3 (fTmp1B_4 * fC1_4) * (*sh_coeffs_4)[int(14)] + make_float3 (-0.59004360437393188f * (x_24 * fC1_4 - y_7 * fS1_4)) * (*sh_coeffs_4)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgs_persp_differentiable(bool antialiased_5, float3  mean_6, float4  quat_9, float3  scale_8, float in_opacity_5, FixedArray<float3 , 16>  * sh_coeffs_5, Matrix<float, 3, 3>  R_12, float3  t_8, float fx_13, float fy_13, float cx_10, float cy_10, FixedArray<float, 10>  * dist_coeffs_20, uint image_width_5, uint image_height_5, float near_plane_5, float far_plane_5, int4  * aabb_xyxy_5, float2  * mean2d_14, float * depth_5, float3  * conic_5, float * opacity_5, float3  * rgb_5)
{
    float3  mean_c_5 = mul_0(R_12, mean_6) + t_8;
    float3  _S847 = exp_0(scale_8);
    float x_25 = quat_9.y;
    float x2_9 = x_25 * x_25;
    float y2_9 = quat_9.z * quat_9.z;
    float z2_14 = quat_9.w * quat_9.w;
    float xy_9 = quat_9.y * quat_9.z;
    float xz_9 = quat_9.y * quat_9.w;
    float yz_9 = quat_9.z * quat_9.w;
    float wx_9 = quat_9.x * quat_9.y;
    float wy_9 = quat_9.x * quat_9.z;
    float wz_9 = quat_9.x * quat_9.w;
    Matrix<float, 3, 3>  M_5 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_9 + z2_14), 2.0f * (xy_9 + wz_9), 2.0f * (xz_9 - wy_9), 2.0f * (xy_9 - wz_9), 1.0f - 2.0f * (x2_9 + z2_14), 2.0f * (yz_9 + wx_9), 2.0f * (xz_9 + wy_9), 2.0f * (yz_9 - wx_9), 1.0f - 2.0f * (x2_9 + y2_9))), makeMatrix<float, 3, 3> (_S847.x, 0.0f, 0.0f, 0.0f, _S847.y, 0.0f, 0.0f, 0.0f, _S847.z));
    Matrix<float, 3, 3>  _S848 = transpose_0(R_12);
    Matrix<float, 2, 2>  covar2d_5;
    bool _S849 = persp_proj_3dgs_1(mean_c_5, mul_4(mul_4(R_12, mul_4(M_5, transpose_0(M_5))), _S848), make_float4 (fx_13, fy_13, cx_10, cy_10), dist_coeffs_20, image_width_5, image_height_5, &covar2d_5, mean2d_14);
    float det_orig_6 = *&(((&covar2d_5)->rows + (int(0)))->x) * *&(((&covar2d_5)->rows + (int(1)))->y) - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x);
    float _S850 = *&(((&covar2d_5)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(0)))->x) = _S850;
    float _S851 = *&(((&covar2d_5)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(1)))->y) = _S851;
    float compensation_6 = (F32_sqrt(((F32_max((0.0f), (det_orig_6 / (_S850 * _S851 - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x))))))));
    float invdet_4 = 1.0f / (covar2d_5.rows[int(0)].x * covar2d_5.rows[int(1)].y - covar2d_5.rows[int(0)].y * covar2d_5.rows[int(1)].x);
    Matrix<float, 2, 2>  _S852 = makeMatrix<float, 2, 2> (covar2d_5.rows[int(1)].y * invdet_4, - covar2d_5.rows[int(0)].y * invdet_4, - covar2d_5.rows[int(1)].x * invdet_4, covar2d_5.rows[int(0)].x * invdet_4);
    *opacity_5 = 1.0f / (1.0f + (F32_exp((- in_opacity_5))));
    if(antialiased_5)
    {
        *opacity_5 = *opacity_5 * compensation_6;
    }
    float extend_5 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_5 / 0.00392156885936856f)))))))));
    float radius_x_5 = extend_5 * (F32_sqrt((covar2d_5[int(0)].x)));
    float radius_y_5 = extend_5 * (F32_sqrt((covar2d_5[int(1)].y)));
    *aabb_xyxy_5 = make_int4 (int((F32_floor(((*mean2d_14).x - radius_x_5)))), int((F32_floor(((*mean2d_14).y - radius_y_5)))), int((F32_ceil(((*mean2d_14).x + radius_x_5)))), int((F32_ceil(((*mean2d_14).y + radius_y_5)))));
    *depth_5 = length_1(mean_c_5);
    *conic_5 = make_float3 (_S852.rows[int(0)].x, _S852.rows[int(0)].y, _S852.rows[int(1)].y);
    float3  _S853 = mean_6 - - mul_0(_S848, t_8);
    float3  _S854 = make_float3 (0.282094806432724f) * (*sh_coeffs_5)[int(0)];
    *rgb_5 = _S854;
    float _S855 = _S853.x;
    float _S856 = _S853.y;
    float _S857 = _S853.z;
    float norm_5 = (F32_sqrt((_S855 * _S855 + _S856 * _S856 + _S857 * _S857)));
    float x_26 = _S855 / norm_5;
    float y_8 = _S856 / norm_5;
    float z_5 = _S857 / norm_5;
    float3  _S858 = _S854 + make_float3 (0.48860251903533936f) * (make_float3 (- y_8) * (*sh_coeffs_5)[int(1)] + make_float3 (z_5) * (*sh_coeffs_5)[int(2)] - make_float3 (x_26) * (*sh_coeffs_5)[int(3)]);
    *rgb_5 = _S858;
    float z2_15 = z_5 * z_5;
    float fTmp0B_5 = -1.09254848957061768f * z_5;
    float fC1_5 = x_26 * x_26 - y_8 * y_8;
    float fS1_5 = 2.0f * x_26 * y_8;
    float3  _S859 = _S858 + (make_float3 (0.54627424478530884f * fS1_5) * (*sh_coeffs_5)[int(4)] + make_float3 (fTmp0B_5 * y_8) * (*sh_coeffs_5)[int(5)] + make_float3 (0.94617468118667603f * z2_15 - 0.31539157032966614f) * (*sh_coeffs_5)[int(6)] + make_float3 (fTmp0B_5 * x_26) * (*sh_coeffs_5)[int(7)] + make_float3 (0.54627424478530884f * fC1_5) * (*sh_coeffs_5)[int(8)]);
    *rgb_5 = _S859;
    float fTmp0C_5 = -2.28522896766662598f * z2_15 + 0.4570457935333252f;
    float fTmp1B_5 = 1.44530570507049561f * z_5;
    *rgb_5 = max_0(_S859 + (make_float3 (-0.59004360437393188f * (x_26 * fS1_5 + y_8 * fC1_5)) * (*sh_coeffs_5)[int(9)] + make_float3 (fTmp1B_5 * fS1_5) * (*sh_coeffs_5)[int(10)] + make_float3 (fTmp0C_5 * y_8) * (*sh_coeffs_5)[int(11)] + make_float3 (z_5 * (1.86588168144226074f * z2_15 - 1.11952900886535645f)) * (*sh_coeffs_5)[int(12)] + make_float3 (fTmp0C_5 * x_26) * (*sh_coeffs_5)[int(13)] + make_float3 (fTmp1B_5 * fC1_5) * (*sh_coeffs_5)[int(14)] + make_float3 (-0.59004360437393188f * (x_26 * fC1_5 - y_8 * fS1_5)) * (*sh_coeffs_5)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_fisheye_differentiable(bool antialiased_6, float3  mean_7, float4  quat_10, float3  scale_9, float in_opacity_6, FixedArray<float3 , 16>  * sh_coeffs_6, Matrix<float, 3, 3>  R_13, float3  t_9, float fx_14, float fy_14, float cx_11, float cy_11, FixedArray<float, 10>  * dist_coeffs_21, uint image_width_6, uint image_height_6, float near_plane_6, float far_plane_6, int4  * aabb_xyxy_6, float2  * mean2d_15, float * depth_6, float3  * conic_6, float * opacity_6, float3  * rgb_6)
{
    float3  mean_c_6 = mul_0(R_13, mean_7) + t_9;
    float3  _S860 = exp_0(scale_9);
    float x_27 = quat_10.y;
    float x2_10 = x_27 * x_27;
    float y2_10 = quat_10.z * quat_10.z;
    float z2_16 = quat_10.w * quat_10.w;
    float xy_10 = quat_10.y * quat_10.z;
    float xz_10 = quat_10.y * quat_10.w;
    float yz_10 = quat_10.z * quat_10.w;
    float wx_10 = quat_10.x * quat_10.y;
    float wy_10 = quat_10.x * quat_10.z;
    float wz_10 = quat_10.x * quat_10.w;
    Matrix<float, 3, 3>  M_6 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_10 + z2_16), 2.0f * (xy_10 + wz_10), 2.0f * (xz_10 - wy_10), 2.0f * (xy_10 - wz_10), 1.0f - 2.0f * (x2_10 + z2_16), 2.0f * (yz_10 + wx_10), 2.0f * (xz_10 + wy_10), 2.0f * (yz_10 - wx_10), 1.0f - 2.0f * (x2_10 + y2_10))), makeMatrix<float, 3, 3> (_S860.x, 0.0f, 0.0f, 0.0f, _S860.y, 0.0f, 0.0f, 0.0f, _S860.z));
    Matrix<float, 3, 3>  _S861 = transpose_0(R_13);
    Matrix<float, 2, 2>  covar2d_6;
    bool _S862 = fisheye_proj_3dgs_1(mean_c_6, mul_4(mul_4(R_13, mul_4(M_6, transpose_0(M_6))), _S861), make_float4 (fx_14, fy_14, cx_11, cy_11), dist_coeffs_21, &covar2d_6, mean2d_15);
    float det_orig_7 = *&(((&covar2d_6)->rows + (int(0)))->x) * *&(((&covar2d_6)->rows + (int(1)))->y) - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x);
    float _S863 = *&(((&covar2d_6)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(0)))->x) = _S863;
    float _S864 = *&(((&covar2d_6)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(1)))->y) = _S864;
    float compensation_7 = (F32_sqrt(((F32_max((0.0f), (det_orig_7 / (_S863 * _S864 - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x))))))));
    float invdet_5 = 1.0f / (covar2d_6.rows[int(0)].x * covar2d_6.rows[int(1)].y - covar2d_6.rows[int(0)].y * covar2d_6.rows[int(1)].x);
    Matrix<float, 2, 2>  _S865 = makeMatrix<float, 2, 2> (covar2d_6.rows[int(1)].y * invdet_5, - covar2d_6.rows[int(0)].y * invdet_5, - covar2d_6.rows[int(1)].x * invdet_5, covar2d_6.rows[int(0)].x * invdet_5);
    *opacity_6 = 1.0f / (1.0f + (F32_exp((- in_opacity_6))));
    if(antialiased_6)
    {
        *opacity_6 = *opacity_6 * compensation_7;
    }
    float extend_6 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_6 / 0.00392156885936856f)))))))));
    float radius_x_6 = extend_6 * (F32_sqrt((covar2d_6[int(0)].x)));
    float radius_y_6 = extend_6 * (F32_sqrt((covar2d_6[int(1)].y)));
    *aabb_xyxy_6 = make_int4 (int((F32_floor(((*mean2d_15).x - radius_x_6)))), int((F32_floor(((*mean2d_15).y - radius_y_6)))), int((F32_ceil(((*mean2d_15).x + radius_x_6)))), int((F32_ceil(((*mean2d_15).y + radius_y_6)))));
    *depth_6 = length_1(mean_c_6);
    *conic_6 = make_float3 (_S865.rows[int(0)].x, _S865.rows[int(0)].y, _S865.rows[int(1)].y);
    float3  _S866 = mean_7 - - mul_0(_S861, t_9);
    float3  _S867 = make_float3 (0.282094806432724f) * (*sh_coeffs_6)[int(0)];
    *rgb_6 = _S867;
    float _S868 = _S866.x;
    float _S869 = _S866.y;
    float _S870 = _S866.z;
    float norm_6 = (F32_sqrt((_S868 * _S868 + _S869 * _S869 + _S870 * _S870)));
    float x_28 = _S868 / norm_6;
    float y_9 = _S869 / norm_6;
    float z_6 = _S870 / norm_6;
    float3  _S871 = _S867 + make_float3 (0.48860251903533936f) * (make_float3 (- y_9) * (*sh_coeffs_6)[int(1)] + make_float3 (z_6) * (*sh_coeffs_6)[int(2)] - make_float3 (x_28) * (*sh_coeffs_6)[int(3)]);
    *rgb_6 = _S871;
    float z2_17 = z_6 * z_6;
    float fTmp0B_6 = -1.09254848957061768f * z_6;
    float fC1_6 = x_28 * x_28 - y_9 * y_9;
    float fS1_6 = 2.0f * x_28 * y_9;
    float3  _S872 = _S871 + (make_float3 (0.54627424478530884f * fS1_6) * (*sh_coeffs_6)[int(4)] + make_float3 (fTmp0B_6 * y_9) * (*sh_coeffs_6)[int(5)] + make_float3 (0.94617468118667603f * z2_17 - 0.31539157032966614f) * (*sh_coeffs_6)[int(6)] + make_float3 (fTmp0B_6 * x_28) * (*sh_coeffs_6)[int(7)] + make_float3 (0.54627424478530884f * fC1_6) * (*sh_coeffs_6)[int(8)]);
    *rgb_6 = _S872;
    float fTmp0C_6 = -2.28522896766662598f * z2_17 + 0.4570457935333252f;
    float fTmp1B_6 = 1.44530570507049561f * z_6;
    *rgb_6 = max_0(_S872 + (make_float3 (-0.59004360437393188f * (x_28 * fS1_6 + y_9 * fC1_6)) * (*sh_coeffs_6)[int(9)] + make_float3 (fTmp1B_6 * fS1_6) * (*sh_coeffs_6)[int(10)] + make_float3 (fTmp0C_6 * y_9) * (*sh_coeffs_6)[int(11)] + make_float3 (z_6 * (1.86588168144226074f * z2_17 - 1.11952900886535645f)) * (*sh_coeffs_6)[int(12)] + make_float3 (fTmp0C_6 * x_28) * (*sh_coeffs_6)[int(13)] + make_float3 (fTmp1B_6 * fC1_6) * (*sh_coeffs_6)[int(14)] + make_float3 (-0.59004360437393188f * (x_28 * fC1_6 - y_9 * fS1_6)) * (*sh_coeffs_6)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_ortho_differentiable(bool antialiased_7, float3  mean_8, float4  quat_11, float3  scale_10, float in_opacity_7, FixedArray<float3 , 16>  * sh_coeffs_7, Matrix<float, 3, 3>  R_14, float3  t_10, float fx_15, float fy_15, float cx_12, float cy_12, FixedArray<float, 10>  * dist_coeffs_22, uint image_width_7, uint image_height_7, float near_plane_7, float far_plane_7, int4  * aabb_xyxy_7, float2  * mean2d_16, float * depth_7, float3  * conic_7, float * opacity_7, float3  * rgb_7)
{
    float3  mean_c_7 = mul_0(R_14, mean_8) + t_10;
    float3  _S873 = exp_0(scale_10);
    float x_29 = quat_11.y;
    float x2_11 = x_29 * x_29;
    float y2_11 = quat_11.z * quat_11.z;
    float z2_18 = quat_11.w * quat_11.w;
    float xy_11 = quat_11.y * quat_11.z;
    float xz_11 = quat_11.y * quat_11.w;
    float yz_11 = quat_11.z * quat_11.w;
    float wx_11 = quat_11.x * quat_11.y;
    float wy_11 = quat_11.x * quat_11.z;
    float wz_11 = quat_11.x * quat_11.w;
    Matrix<float, 3, 3>  M_7 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_11 + z2_18), 2.0f * (xy_11 + wz_11), 2.0f * (xz_11 - wy_11), 2.0f * (xy_11 - wz_11), 1.0f - 2.0f * (x2_11 + z2_18), 2.0f * (yz_11 + wx_11), 2.0f * (xz_11 + wy_11), 2.0f * (yz_11 - wx_11), 1.0f - 2.0f * (x2_11 + y2_11))), makeMatrix<float, 3, 3> (_S873.x, 0.0f, 0.0f, 0.0f, _S873.y, 0.0f, 0.0f, 0.0f, _S873.z));
    Matrix<float, 3, 3>  _S874 = transpose_0(R_14);
    Matrix<float, 2, 3>  J_8 = makeMatrix<float, 2, 3> (fx_15, 0.0f, 0.0f, 0.0f, fy_15, 0.0f);
    Matrix<float, 2, 2>  covar2d_7 = mul_6(mul_5(J_8, mul_4(mul_4(R_14, mul_4(M_7, transpose_0(M_7))), _S874)), transpose_1(J_8));
    *mean2d_16 = make_float2 (fx_15 * mean_c_7.x + cx_12, fy_15 * mean_c_7.y + cy_12);
    float det_orig_8 = *&(((&covar2d_7)->rows + (int(0)))->x) * *&(((&covar2d_7)->rows + (int(1)))->y) - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x);
    float _S875 = *&(((&covar2d_7)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(0)))->x) = _S875;
    float _S876 = *&(((&covar2d_7)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(1)))->y) = _S876;
    float compensation_8 = (F32_sqrt(((F32_max((0.0f), (det_orig_8 / (_S875 * _S876 - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x))))))));
    float invdet_6 = 1.0f / (covar2d_7.rows[int(0)].x * covar2d_7.rows[int(1)].y - covar2d_7.rows[int(0)].y * covar2d_7.rows[int(1)].x);
    Matrix<float, 2, 2>  _S877 = makeMatrix<float, 2, 2> (covar2d_7.rows[int(1)].y * invdet_6, - covar2d_7.rows[int(0)].y * invdet_6, - covar2d_7.rows[int(1)].x * invdet_6, covar2d_7.rows[int(0)].x * invdet_6);
    *opacity_7 = 1.0f / (1.0f + (F32_exp((- in_opacity_7))));
    if(antialiased_7)
    {
        *opacity_7 = *opacity_7 * compensation_8;
    }
    float extend_7 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_7 / 0.00392156885936856f)))))))));
    float radius_x_7 = extend_7 * (F32_sqrt((covar2d_7[int(0)].x)));
    float radius_y_7 = extend_7 * (F32_sqrt((covar2d_7[int(1)].y)));
    *aabb_xyxy_7 = make_int4 (int((F32_floor(((*mean2d_16).x - radius_x_7)))), int((F32_floor(((*mean2d_16).y - radius_y_7)))), int((F32_ceil(((*mean2d_16).x + radius_x_7)))), int((F32_ceil(((*mean2d_16).y + radius_y_7)))));
    *depth_7 = length_1(mean_c_7);
    *conic_7 = make_float3 (_S877.rows[int(0)].x, _S877.rows[int(0)].y, _S877.rows[int(1)].y);
    float3  _S878 = mean_8 - - mul_0(_S874, t_10);
    float3  _S879 = make_float3 (0.282094806432724f) * (*sh_coeffs_7)[int(0)];
    *rgb_7 = _S879;
    float _S880 = _S878.x;
    float _S881 = _S878.y;
    float _S882 = _S878.z;
    float norm_7 = (F32_sqrt((_S880 * _S880 + _S881 * _S881 + _S882 * _S882)));
    float x_30 = _S880 / norm_7;
    float y_10 = _S881 / norm_7;
    float z_7 = _S882 / norm_7;
    float3  _S883 = _S879 + make_float3 (0.48860251903533936f) * (make_float3 (- y_10) * (*sh_coeffs_7)[int(1)] + make_float3 (z_7) * (*sh_coeffs_7)[int(2)] - make_float3 (x_30) * (*sh_coeffs_7)[int(3)]);
    *rgb_7 = _S883;
    float z2_19 = z_7 * z_7;
    float fTmp0B_7 = -1.09254848957061768f * z_7;
    float fC1_7 = x_30 * x_30 - y_10 * y_10;
    float fS1_7 = 2.0f * x_30 * y_10;
    float3  _S884 = _S883 + (make_float3 (0.54627424478530884f * fS1_7) * (*sh_coeffs_7)[int(4)] + make_float3 (fTmp0B_7 * y_10) * (*sh_coeffs_7)[int(5)] + make_float3 (0.94617468118667603f * z2_19 - 0.31539157032966614f) * (*sh_coeffs_7)[int(6)] + make_float3 (fTmp0B_7 * x_30) * (*sh_coeffs_7)[int(7)] + make_float3 (0.54627424478530884f * fC1_7) * (*sh_coeffs_7)[int(8)]);
    *rgb_7 = _S884;
    float fTmp0C_7 = -2.28522896766662598f * z2_19 + 0.4570457935333252f;
    float fTmp1B_7 = 1.44530570507049561f * z_7;
    *rgb_7 = max_0(_S884 + (make_float3 (-0.59004360437393188f * (x_30 * fS1_7 + y_10 * fC1_7)) * (*sh_coeffs_7)[int(9)] + make_float3 (fTmp1B_7 * fS1_7) * (*sh_coeffs_7)[int(10)] + make_float3 (fTmp0C_7 * y_10) * (*sh_coeffs_7)[int(11)] + make_float3 (z_7 * (1.86588168144226074f * z2_19 - 1.11952900886535645f)) * (*sh_coeffs_7)[int(12)] + make_float3 (fTmp0C_7 * x_30) * (*sh_coeffs_7)[int(13)] + make_float3 (fTmp1B_7 * fC1_7) * (*sh_coeffs_7)[int(14)] + make_float3 (-0.59004360437393188f * (x_30 * fC1_7 - y_10 * fS1_7)) * (*sh_coeffs_7)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_persp_differentiable(bool antialiased_8, float3  mean_9, float4  quat_12, float3  scale_11, float in_opacity_8, FixedArray<float3 , 16>  * sh_coeffs_8, Matrix<float, 3, 3>  R_15, float3  t_11, float fx_16, float fy_16, float cx_13, float cy_13, FixedArray<float, 10>  * dist_coeffs_23, uint image_width_8, uint image_height_8, float near_plane_8, float far_plane_8, int4  * aabb_xyxy_8, float2  * mean2d_17, float * depth_8, float3  * conic_8, float * opacity_8, float3  * rgb_8)
{
    float3  mean_c_8 = mul_0(R_15, mean_9) + t_11;
    float4  intrins_12 = make_float4 (fx_16, fy_16, cx_13, cy_13);
    float3  _S885 = exp_0(scale_11);
    float x_31 = quat_12.y;
    float x2_12 = x_31 * x_31;
    float y2_12 = quat_12.z * quat_12.z;
    float z2_20 = quat_12.w * quat_12.w;
    float xy_12 = quat_12.y * quat_12.z;
    float xz_12 = quat_12.y * quat_12.w;
    float yz_12 = quat_12.z * quat_12.w;
    float wx_12 = quat_12.x * quat_12.y;
    float wy_12 = quat_12.x * quat_12.z;
    float wz_12 = quat_12.x * quat_12.w;
    Matrix<float, 3, 3>  _S886 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_12 + z2_20), 2.0f * (xy_12 + wz_12), 2.0f * (xz_12 - wy_12), 2.0f * (xy_12 - wz_12), 1.0f - 2.0f * (x2_12 + z2_20), 2.0f * (yz_12 + wx_12), 2.0f * (xz_12 + wy_12), 2.0f * (yz_12 - wx_12), 1.0f - 2.0f * (x2_12 + y2_12))));
    SigmaPoints_0 ret_2;
    (&ret_2)->p_0[int(0)] = mean_9;
    (&ret_2)->w_mean_0[int(0)] = 0.0f;
    (&ret_2)->w_cov_0[int(0)] = 2.0f;
    float _S887 = (F32_sqrt((3.0f)));
    float3  delta_6 = make_float3 (_S887 * _S885.x) * _S886.rows[0U];
    float3  _S888 = mean_9 + delta_6;
    float3  _S889 = mean_9 - delta_6;
    float3  delta_7 = make_float3 (_S887 * _S885.y) * _S886.rows[1U];
    float3  _S890 = mean_9 + delta_7;
    float3  _S891 = mean_9 - delta_7;
    float3  delta_8 = make_float3 (_S887 * _S885.z) * _S886.rows[2U];
    float3  _S892 = mean_9 + delta_8;
    float3  _S893 = mean_9 - delta_8;
    (&ret_2)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_2)->p_0[0U] = mul_0(R_15, (&ret_2)->p_0[0U]) + t_11;
    (&ret_2)->p_0[1U] = mul_0(R_15, _S888) + t_11;
    (&ret_2)->p_0[2U] = mul_0(R_15, _S890) + t_11;
    (&ret_2)->p_0[3U] = mul_0(R_15, _S892) + t_11;
    (&ret_2)->p_0[4U] = mul_0(R_15, _S889) + t_11;
    (&ret_2)->p_0[5U] = mul_0(R_15, _S891) + t_11;
    (&ret_2)->p_0[6U] = mul_0(R_15, _S893) + t_11;
    SigmaPoints_0 _S894 = ret_2;
    Matrix<float, 2, 2>  covar2d_8;
    bool _S895 = persp_proj_3dgs_ut_1(&_S894, intrins_12, dist_coeffs_23, image_width_8, image_height_8, &covar2d_8, mean2d_17);
    float det_orig_9 = *&(((&covar2d_8)->rows + (int(0)))->x) * *&(((&covar2d_8)->rows + (int(1)))->y) - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x);
    float _S896 = *&(((&covar2d_8)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(0)))->x) = _S896;
    float _S897 = *&(((&covar2d_8)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(1)))->y) = _S897;
    float compensation_9 = (F32_sqrt(((F32_max((0.0f), (det_orig_9 / (_S896 * _S897 - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x))))))));
    *opacity_8 = 1.0f / (1.0f + (F32_exp((- in_opacity_8))));
    if(antialiased_8)
    {
        *opacity_8 = *opacity_8 * compensation_9;
    }
    float extend_8 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_8 / 0.00392156885936856f)))))))));
    float radius_x_8 = extend_8 * (F32_sqrt((covar2d_8[int(0)].x)));
    float radius_y_8 = extend_8 * (F32_sqrt((covar2d_8[int(1)].y)));
    *aabb_xyxy_8 = make_int4 (int((F32_floor(((*mean2d_17).x - radius_x_8)))), int((F32_floor(((*mean2d_17).y - radius_y_8)))), int((F32_ceil(((*mean2d_17).x + radius_x_8)))), int((F32_ceil(((*mean2d_17).y + radius_y_8)))));
    float _S898 = mean_c_8.z;
    *depth_8 = (F32_max((_S898), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S898 + length_1(mean_c_8)))));
    *conic_8 = exp_0(- scale_11);
    float3  _S899 = mean_9 - - mul_0(transpose_0(R_15), t_11);
    float3  _S900 = make_float3 (0.282094806432724f) * (*sh_coeffs_8)[int(0)];
    *rgb_8 = _S900;
    float _S901 = _S899.x;
    float _S902 = _S899.y;
    float _S903 = _S899.z;
    float norm_8 = (F32_sqrt((_S901 * _S901 + _S902 * _S902 + _S903 * _S903)));
    float x_32 = _S901 / norm_8;
    float y_11 = _S902 / norm_8;
    float z_8 = _S903 / norm_8;
    float3  _S904 = _S900 + make_float3 (0.48860251903533936f) * (make_float3 (- y_11) * (*sh_coeffs_8)[int(1)] + make_float3 (z_8) * (*sh_coeffs_8)[int(2)] - make_float3 (x_32) * (*sh_coeffs_8)[int(3)]);
    *rgb_8 = _S904;
    float z2_21 = z_8 * z_8;
    float fTmp0B_8 = -1.09254848957061768f * z_8;
    float fC1_8 = x_32 * x_32 - y_11 * y_11;
    float fS1_8 = 2.0f * x_32 * y_11;
    float3  _S905 = _S904 + (make_float3 (0.54627424478530884f * fS1_8) * (*sh_coeffs_8)[int(4)] + make_float3 (fTmp0B_8 * y_11) * (*sh_coeffs_8)[int(5)] + make_float3 (0.94617468118667603f * z2_21 - 0.31539157032966614f) * (*sh_coeffs_8)[int(6)] + make_float3 (fTmp0B_8 * x_32) * (*sh_coeffs_8)[int(7)] + make_float3 (0.54627424478530884f * fC1_8) * (*sh_coeffs_8)[int(8)]);
    *rgb_8 = _S905;
    float fTmp0C_8 = -2.28522896766662598f * z2_21 + 0.4570457935333252f;
    float fTmp1B_8 = 1.44530570507049561f * z_8;
    *rgb_8 = max_0(_S905 + (make_float3 (-0.59004360437393188f * (x_32 * fS1_8 + y_11 * fC1_8)) * (*sh_coeffs_8)[int(9)] + make_float3 (fTmp1B_8 * fS1_8) * (*sh_coeffs_8)[int(10)] + make_float3 (fTmp0C_8 * y_11) * (*sh_coeffs_8)[int(11)] + make_float3 (z_8 * (1.86588168144226074f * z2_21 - 1.11952900886535645f)) * (*sh_coeffs_8)[int(12)] + make_float3 (fTmp0C_8 * x_32) * (*sh_coeffs_8)[int(13)] + make_float3 (fTmp1B_8 * fC1_8) * (*sh_coeffs_8)[int(14)] + make_float3 (-0.59004360437393188f * (x_32 * fC1_8 - y_11 * fS1_8)) * (*sh_coeffs_8)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_fisheye_differentiable(bool antialiased_9, float3  mean_10, float4  quat_13, float3  scale_12, float in_opacity_9, FixedArray<float3 , 16>  * sh_coeffs_9, Matrix<float, 3, 3>  R_16, float3  t_12, float fx_17, float fy_17, float cx_14, float cy_14, FixedArray<float, 10>  * dist_coeffs_24, uint image_width_9, uint image_height_9, float near_plane_9, float far_plane_9, int4  * aabb_xyxy_9, float2  * mean2d_18, float * depth_9, float3  * conic_9, float * opacity_9, float3  * rgb_9)
{
    float3  mean_c_9 = mul_0(R_16, mean_10) + t_12;
    float4  intrins_13 = make_float4 (fx_17, fy_17, cx_14, cy_14);
    float3  _S906 = exp_0(scale_12);
    float x_33 = quat_13.y;
    float x2_13 = x_33 * x_33;
    float y2_13 = quat_13.z * quat_13.z;
    float z2_22 = quat_13.w * quat_13.w;
    float xy_13 = quat_13.y * quat_13.z;
    float xz_13 = quat_13.y * quat_13.w;
    float yz_13 = quat_13.z * quat_13.w;
    float wx_13 = quat_13.x * quat_13.y;
    float wy_13 = quat_13.x * quat_13.z;
    float wz_13 = quat_13.x * quat_13.w;
    Matrix<float, 3, 3>  _S907 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_13 + z2_22), 2.0f * (xy_13 + wz_13), 2.0f * (xz_13 - wy_13), 2.0f * (xy_13 - wz_13), 1.0f - 2.0f * (x2_13 + z2_22), 2.0f * (yz_13 + wx_13), 2.0f * (xz_13 + wy_13), 2.0f * (yz_13 - wx_13), 1.0f - 2.0f * (x2_13 + y2_13))));
    SigmaPoints_0 ret_3;
    (&ret_3)->p_0[int(0)] = mean_10;
    (&ret_3)->w_mean_0[int(0)] = 0.0f;
    (&ret_3)->w_cov_0[int(0)] = 2.0f;
    float _S908 = (F32_sqrt((3.0f)));
    float3  delta_9 = make_float3 (_S908 * _S906.x) * _S907.rows[0U];
    float3  _S909 = mean_10 + delta_9;
    float3  _S910 = mean_10 - delta_9;
    float3  delta_10 = make_float3 (_S908 * _S906.y) * _S907.rows[1U];
    float3  _S911 = mean_10 + delta_10;
    float3  _S912 = mean_10 - delta_10;
    float3  delta_11 = make_float3 (_S908 * _S906.z) * _S907.rows[2U];
    float3  _S913 = mean_10 + delta_11;
    float3  _S914 = mean_10 - delta_11;
    (&ret_3)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_3)->p_0[0U] = mul_0(R_16, (&ret_3)->p_0[0U]) + t_12;
    (&ret_3)->p_0[1U] = mul_0(R_16, _S909) + t_12;
    (&ret_3)->p_0[2U] = mul_0(R_16, _S911) + t_12;
    (&ret_3)->p_0[3U] = mul_0(R_16, _S913) + t_12;
    (&ret_3)->p_0[4U] = mul_0(R_16, _S910) + t_12;
    (&ret_3)->p_0[5U] = mul_0(R_16, _S912) + t_12;
    (&ret_3)->p_0[6U] = mul_0(R_16, _S914) + t_12;
    SigmaPoints_0 _S915 = ret_3;
    Matrix<float, 2, 2>  covar2d_9;
    bool _S916 = fisheye_proj_3dgs_ut_1(&_S915, intrins_13, dist_coeffs_24, &covar2d_9, mean2d_18);
    float det_orig_10 = *&(((&covar2d_9)->rows + (int(0)))->x) * *&(((&covar2d_9)->rows + (int(1)))->y) - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x);
    float _S917 = *&(((&covar2d_9)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(0)))->x) = _S917;
    float _S918 = *&(((&covar2d_9)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(1)))->y) = _S918;
    float compensation_10 = (F32_sqrt(((F32_max((0.0f), (det_orig_10 / (_S917 * _S918 - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x))))))));
    *opacity_9 = 1.0f / (1.0f + (F32_exp((- in_opacity_9))));
    if(antialiased_9)
    {
        *opacity_9 = *opacity_9 * compensation_10;
    }
    float extend_9 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_9 / 0.00392156885936856f)))))))));
    float radius_x_9 = extend_9 * (F32_sqrt((covar2d_9[int(0)].x)));
    float radius_y_9 = extend_9 * (F32_sqrt((covar2d_9[int(1)].y)));
    *aabb_xyxy_9 = make_int4 (int((F32_floor(((*mean2d_18).x - radius_x_9)))), int((F32_floor(((*mean2d_18).y - radius_y_9)))), int((F32_ceil(((*mean2d_18).x + radius_x_9)))), int((F32_ceil(((*mean2d_18).y + radius_y_9)))));
    float _S919 = mean_c_9.z;
    *depth_9 = (F32_max((_S919), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S919 + length_1(mean_c_9)))));
    *conic_9 = exp_0(- scale_12);
    float3  _S920 = mean_10 - - mul_0(transpose_0(R_16), t_12);
    float3  _S921 = make_float3 (0.282094806432724f) * (*sh_coeffs_9)[int(0)];
    *rgb_9 = _S921;
    float _S922 = _S920.x;
    float _S923 = _S920.y;
    float _S924 = _S920.z;
    float norm_9 = (F32_sqrt((_S922 * _S922 + _S923 * _S923 + _S924 * _S924)));
    float x_34 = _S922 / norm_9;
    float y_12 = _S923 / norm_9;
    float z_9 = _S924 / norm_9;
    float3  _S925 = _S921 + make_float3 (0.48860251903533936f) * (make_float3 (- y_12) * (*sh_coeffs_9)[int(1)] + make_float3 (z_9) * (*sh_coeffs_9)[int(2)] - make_float3 (x_34) * (*sh_coeffs_9)[int(3)]);
    *rgb_9 = _S925;
    float z2_23 = z_9 * z_9;
    float fTmp0B_9 = -1.09254848957061768f * z_9;
    float fC1_9 = x_34 * x_34 - y_12 * y_12;
    float fS1_9 = 2.0f * x_34 * y_12;
    float3  _S926 = _S925 + (make_float3 (0.54627424478530884f * fS1_9) * (*sh_coeffs_9)[int(4)] + make_float3 (fTmp0B_9 * y_12) * (*sh_coeffs_9)[int(5)] + make_float3 (0.94617468118667603f * z2_23 - 0.31539157032966614f) * (*sh_coeffs_9)[int(6)] + make_float3 (fTmp0B_9 * x_34) * (*sh_coeffs_9)[int(7)] + make_float3 (0.54627424478530884f * fC1_9) * (*sh_coeffs_9)[int(8)]);
    *rgb_9 = _S926;
    float fTmp0C_9 = -2.28522896766662598f * z2_23 + 0.4570457935333252f;
    float fTmp1B_9 = 1.44530570507049561f * z_9;
    *rgb_9 = max_0(_S926 + (make_float3 (-0.59004360437393188f * (x_34 * fS1_9 + y_12 * fC1_9)) * (*sh_coeffs_9)[int(9)] + make_float3 (fTmp1B_9 * fS1_9) * (*sh_coeffs_9)[int(10)] + make_float3 (fTmp0C_9 * y_12) * (*sh_coeffs_9)[int(11)] + make_float3 (z_9 * (1.86588168144226074f * z2_23 - 1.11952900886535645f)) * (*sh_coeffs_9)[int(12)] + make_float3 (fTmp0C_9 * x_34) * (*sh_coeffs_9)[int(13)] + make_float3 (fTmp1B_9 * fC1_9) * (*sh_coeffs_9)[int(14)] + make_float3 (-0.59004360437393188f * (x_34 * fC1_9 - y_12 * fS1_9)) * (*sh_coeffs_9)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct s_bwd_prop_projection_3dgs_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S927;
};

inline __device__ float3  s_primal_ctx_mul_0(Matrix<float, 3, 3>  _S928, float3  _S929)
{
    return mul_0(_S928, _S929);
}

inline __device__ float3  s_primal_ctx_exp_0(float3  _S930)
{
    return exp_0(_S930);
}

inline __device__ Matrix<float, 3, 3>  s_primal_ctx_mul_1(Matrix<float, 3, 3>  _S931, Matrix<float, 3, 3>  _S932)
{
    return mul_4(_S931, _S932);
}

inline __device__ float s_primal_ctx_clamp_0(float _S933, float _S934, float _S935)
{
    return clamp_0(_S933, _S934, _S935);
}

inline __device__ Matrix<float, 2, 3>  s_primal_ctx_mul_2(Matrix<float, 2, 3>  _S936, Matrix<float, 3, 3>  _S937)
{
    return mul_5(_S936, _S937);
}

inline __device__ Matrix<float, 2, 2>  s_primal_ctx_mul_3(Matrix<float, 2, 3>  _S938, Matrix<float, 3, 2>  _S939)
{
    return mul_6(_S938, _S939);
}

inline __device__ bool s_primal_ctx_persp_proj_3dgs_0(float3  dpmean3d_0, Matrix<float, 3, 3>  dpcov3d_0, float4  dpintrins_0, FixedArray<float, 10>  * dpdist_coeffs_0, uint width_4, uint height_4, Matrix<float, 2, 2>  * dpcov2d_0, float2  * dpmean2d_0)
{
    float cx_15 = dpintrins_0.z;
    float cy_15 = dpintrins_0.w;
    float2  _S940 = float2 {dpmean3d_0.x, dpmean3d_0.y};
    float _S941 = dpmean3d_0.z;
    float2  _S942 = _S940 / make_float2 (_S941);
    float u_44 = _S942.x;
    float v_44 = _S942.y;
    float r2_44 = u_44 * u_44 + v_44 * v_44;
    float _S943 = 2.0f * (*dpdist_coeffs_0)[int(4)];
    float _S944 = 2.0f * (*dpdist_coeffs_0)[int(5)];
    float2  _S945 = _S942 * make_float2 (1.0f + r2_44 * ((*dpdist_coeffs_0)[int(0)] + r2_44 * ((*dpdist_coeffs_0)[int(1)] + r2_44 * ((*dpdist_coeffs_0)[int(2)] + r2_44 * (*dpdist_coeffs_0)[int(3)])))) + make_float2 (_S943 * u_44 * v_44 + (*dpdist_coeffs_0)[int(5)] * (r2_44 + 2.0f * u_44 * u_44) + (*dpdist_coeffs_0)[int(6)] * r2_44, _S944 * u_44 * v_44 + (*dpdist_coeffs_0)[int(4)] * (r2_44 + 2.0f * v_44 * v_44) + (*dpdist_coeffs_0)[int(7)] * r2_44);
    float2  _S946 = _S945 + make_float2 ((*dpdist_coeffs_0)[int(8)] * _S945.x + (*dpdist_coeffs_0)[int(9)] * _S945.y, 0.0f);
    float fx_18 = dpintrins_0.x;
    float fy_18 = dpintrins_0.y;
    float2  _S947 = make_float2 (fx_18 * _S946.x + cx_15, fy_18 * _S946.y + cy_15);
    float2  _S948 = make_float2 (_S941);
    float2  _S949 = _S940 / make_float2 (_S941);
    float2  _S950 = make_float2 (_S941 * _S941);
    float u_45 = _S949.x;
    float v_45 = _S949.y;
    float r2_45 = u_45 * u_45 + v_45 * v_45;
    float _S951 = (*dpdist_coeffs_0)[int(2)] + r2_45 * (*dpdist_coeffs_0)[int(3)];
    float _S952 = (*dpdist_coeffs_0)[int(1)] + r2_45 * _S951;
    float _S953 = (*dpdist_coeffs_0)[int(0)] + r2_45 * _S952;
    float2  _S954 = make_float2 (fx_18, 0.0f) + make_float2 ((*dpdist_coeffs_0)[int(8)] * fx_18, (*dpdist_coeffs_0)[int(9)] * fx_18);
    float2  _S955 = _S949 * _S954;
    float _S956 = (*dpdist_coeffs_0)[int(4)] * _S954.y;
    float _S957 = (*dpdist_coeffs_0)[int(5)] * _S954.x;
    float _S958 = _S955.x + _S955.y;
    float _S959 = r2_45 * _S958;
    float _S960 = r2_45 * _S959;
    float _S961 = (*dpdist_coeffs_0)[int(7)] * _S954.y + _S956 + (*dpdist_coeffs_0)[int(6)] * _S954.x + _S957 + _S953 * _S958 + _S952 * _S959 + _S951 * _S960 + (*dpdist_coeffs_0)[int(3)] * (r2_45 * _S960);
    float _S962 = v_45 * _S961;
    float _S963 = u_45 * _S961;
    float2  _S964 = (make_float2 (1.0f + r2_45 * _S953) * _S954 + make_float2 (_S944 * (v_45 * _S954.y) + 2.0f * u_45 * _S957 + 2.0f * (u_45 * _S957) + _S943 * (v_45 * _S954.x) + _S963 + _S963, 2.0f * v_45 * _S956 + 2.0f * (v_45 * _S956) + _S944 * u_45 * _S954.y + _S943 * u_45 * _S954.x + _S962 + _S962)) / _S950;
    float2  _S965 = _S940 * - _S964;
    float2  _S966 = _S948 * _S964;
    float _S967 = _S965.x + _S965.y;
    float3  _S968 = make_float3 (_S966.x, _S966.y, _S967);
    Matrix<float, 2, 3>  _S969 = makeMatrix<float, 2, 3> (0.0f);
    _S969[int(0)] = _S968;
    float2  _S970 = _S940 / make_float2 (_S941);
    float u_46 = _S970.x;
    float v_46 = _S970.y;
    float r2_46 = u_46 * u_46 + v_46 * v_46;
    float _S971 = (*dpdist_coeffs_0)[int(2)] + r2_46 * (*dpdist_coeffs_0)[int(3)];
    float _S972 = (*dpdist_coeffs_0)[int(1)] + r2_46 * _S971;
    float _S973 = (*dpdist_coeffs_0)[int(0)] + r2_46 * _S972;
    float2  _S974 = make_float2 (0.0f, fy_18);
    float2  _S975 = _S970 * _S974;
    float _S976 = (*dpdist_coeffs_0)[int(4)] * fy_18;
    float _S977 = _S975.x + _S975.y;
    float _S978 = r2_46 * _S977;
    float _S979 = r2_46 * _S978;
    float _S980 = (*dpdist_coeffs_0)[int(7)] * fy_18 + _S976 + _S973 * _S977 + _S972 * _S978 + _S971 * _S979 + (*dpdist_coeffs_0)[int(3)] * (r2_46 * _S979);
    float _S981 = v_46 * _S980;
    float _S982 = u_46 * _S980;
    float2  _S983 = (make_float2 (1.0f + r2_46 * _S973) * _S974 + make_float2 (_S944 * (v_46 * fy_18) + _S982 + _S982, 2.0f * v_46 * _S976 + 2.0f * (v_46 * _S976) + _S944 * u_46 * fy_18 + _S981 + _S981)) / _S950;
    float2  _S984 = _S940 * - _S983;
    float2  _S985 = _S948 * _S983;
    float _S986 = _S984.x + _S984.y;
    _S969[int(1)] = make_float3 (_S985.x, _S985.y, _S986);
    float _S987 = float(width_4);
    float _S988 = 0.30000001192092896f * (0.5f * _S987);
    float lim_x_pos_4 = _S987 + _S988;
    float rz_2 = 1.0f / _S941;
    float _S989 = - _S988;
    float max_Jyz_2 = - (_S989 - cy_15) * rz_2;
    float min_Jyz_2 = - (lim_x_pos_4 - cy_15) * rz_2;
    *&(((&_S969)->rows + (int(0)))->z) = s_primal_ctx_clamp_0(_S967, - (lim_x_pos_4 - cx_15) * rz_2, - (_S989 - cx_15) * rz_2);
    *&(((&_S969)->rows + (int(1)))->z) = s_primal_ctx_clamp_0(_S986, min_Jyz_2, max_Jyz_2);
    *dpcov2d_0 = s_primal_ctx_mul_3(s_primal_ctx_mul_2(_S969, dpcov3d_0), transpose_1(_S969));
    *dpmean2d_0 = _S947;
    return true;
}

inline __device__ float s_primal_ctx_max_0(float _S990, float _S991)
{
    return (F32_max((_S990), (_S991)));
}

inline __device__ float s_primal_ctx_sqrt_0(float _S992)
{
    return (F32_sqrt((_S992)));
}

inline __device__ float s_primal_ctx_exp_1(float _S993)
{
    return (F32_exp((_S993)));
}

inline __device__ float s_primal_ctx_log_0(float _S994)
{
    return (F32_log((_S994)));
}

inline __device__ void s_bwd_prop_max_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S995, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S996, float3  _S997)
{
    _d_max_vector_0(_S995, _S996, _S997);
    return;
}

inline __device__ void s_bwd_prop_mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S998, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S999, float3  _S1000)
{
    _d_mul_0(_S998, _S999, _S1000);
    return;
}

inline __device__ void s_bwd_prop_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_11, float _s_dOut_3)
{
    float _S1001 = (*dpx_11).primal_0.x;
    float _S1002 = (*dpx_11).primal_0.y;
    float _S1003 = (*dpx_11).primal_0.z;
    DiffPair_float_0 _S1004;
    (&_S1004)->primal_0 = _S1001 * _S1001 + _S1002 * _S1002 + _S1003 * _S1003;
    (&_S1004)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1004, _s_dOut_3);
    float _S1005 = (*dpx_11).primal_0.z * _S1004.differential_0;
    float _S1006 = _S1005 + _S1005;
    float _S1007 = (*dpx_11).primal_0.y * _S1004.differential_0;
    float _S1008 = _S1007 + _S1007;
    float _S1009 = (*dpx_11).primal_0.x * _S1004.differential_0;
    float _S1010 = _S1009 + _S1009;
    float3  _S1011 = make_float3 (0.0f);
    *&((&_S1011)->z) = _S1006;
    *&((&_S1011)->y) = _S1008;
    *&((&_S1011)->x) = _S1010;
    dpx_11->primal_0 = (*dpx_11).primal_0;
    dpx_11->differential_0 = _S1011;
    return;
}

inline __device__ void s_bwd_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1012, float _S1013)
{
    s_bwd_prop_length_impl_1(_S1012, _S1013);
    return;
}

inline __device__ void s_bwd_prop_min_0(DiffPair_float_0 * _S1014, DiffPair_float_0 * _S1015, float _S1016)
{
    _d_min_0(_S1014, _S1015, _S1016);
    return;
}

inline __device__ void s_bwd_prop_log_0(DiffPair_float_0 * _S1017, float _S1018)
{
    _d_log_0(_S1017, _S1018);
    return;
}

inline __device__ void s_bwd_prop_exp_0(DiffPair_float_0 * _S1019, float _S1020)
{
    _d_exp_0(_S1019, _S1020);
    return;
}

inline __device__ void s_bwd_prop_max_1(DiffPair_float_0 * _S1021, DiffPair_float_0 * _S1022, float _S1023)
{
    _d_max_0(_S1021, _S1022, _S1023);
    return;
}

struct DiffPair_vectorx3Cfloatx2C4x3E_0
{
    float4  primal_0;
    float4  differential_0;
};

struct DiffPair_arrayx3Cfloatx2C10x3E_0
{
    FixedArray<float, 10>  primal_0;
    FixedArray<float, 10>  differential_0;
};

inline __device__ void s_bwd_prop_mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S1024, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * _S1025, Matrix<float, 2, 2>  _S1026)
{
    mul_3(_S1024, _S1025, _S1026);
    return;
}

inline __device__ void s_bwd_prop_mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S1027, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S1028, Matrix<float, 2, 3>  _S1029)
{
    mul_2(_S1027, _S1028, _S1029);
    return;
}

inline __device__ void s_bwd_prop_clamp_0(DiffPair_float_0 * _S1030, DiffPair_float_0 * _S1031, DiffPair_float_0 * _S1032, float _S1033)
{
    _d_clamp_0(_S1030, _S1031, _S1032, _S1033);
    return;
}

inline __device__ void s_bwd_prop_persp_proj_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean3d_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpcov3d_1, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpintrins_1, DiffPair_arrayx3Cfloatx2C10x3E_0 * dpdist_coeffs_1, uint width_5, uint height_5, Matrix<float, 2, 2>  dpcov2d_1, float2  dpmean2d_1)
{
    float cx_16 = (*dpintrins_1).primal_0.z;
    float cy_16 = (*dpintrins_1).primal_0.w;
    float2  _S1034 = float2 {(*dpmean3d_1).primal_0.x, (*dpmean3d_1).primal_0.y};
    float _S1035 = (*dpmean3d_1).primal_0.z;
    float2  _S1036 = make_float2 (_S1035);
    float2  _S1037 = _S1034 / make_float2 (_S1035);
    float _S1038 = _S1035 * _S1035;
    float2  _S1039 = make_float2 (_S1038);
    float u_47 = _S1037.x;
    float v_47 = _S1037.y;
    float r2_47 = u_47 * u_47 + v_47 * v_47;
    float _S1040 = dpdist_coeffs_1->primal_0[int(2)] + r2_47 * dpdist_coeffs_1->primal_0[int(3)];
    float _S1041 = dpdist_coeffs_1->primal_0[int(1)] + r2_47 * _S1040;
    float _S1042 = dpdist_coeffs_1->primal_0[int(0)] + r2_47 * _S1041;
    float radial_0 = 1.0f + r2_47 * _S1042;
    float2  _S1043 = make_float2 (radial_0);
    float _S1044 = 2.0f * dpdist_coeffs_1->primal_0[int(4)];
    float _S1045 = _S1044 * u_47;
    float _S1046 = 2.0f * u_47;
    float _S1047 = r2_47 + _S1046 * u_47;
    float _S1048 = 2.0f * dpdist_coeffs_1->primal_0[int(5)];
    float _S1049 = _S1048 * u_47;
    float _S1050 = 2.0f * v_47;
    float _S1051 = r2_47 + _S1050 * v_47;
    float2  _S1052 = _S1037 * make_float2 (radial_0) + make_float2 (_S1045 * v_47 + dpdist_coeffs_1->primal_0[int(5)] * _S1047 + dpdist_coeffs_1->primal_0[int(6)] * r2_47, _S1049 * v_47 + dpdist_coeffs_1->primal_0[int(4)] * _S1051 + dpdist_coeffs_1->primal_0[int(7)] * r2_47);
    float _S1053 = _S1052.x;
    float _S1054 = _S1052.y;
    float2  _S1055 = _S1052 + make_float2 (dpdist_coeffs_1->primal_0[int(8)] * _S1053 + dpdist_coeffs_1->primal_0[int(9)] * _S1054, 0.0f);
    float fx_19 = (*dpintrins_1).primal_0.x;
    float fy_19 = (*dpintrins_1).primal_0.y;
    float _S1056 = _S1055.x;
    float _S1057 = _S1055.y;
    Matrix<float, 2, 3>  J_9 = makeMatrix<float, 2, 3> (0.0f);
    float2  _S1058 = _S1034 / make_float2 (_S1035);
    float u_48 = _S1058.x;
    float v_48 = _S1058.y;
    float r2_48 = u_48 * u_48 + v_48 * v_48;
    float _S1059 = dpdist_coeffs_1->primal_0[int(2)] + r2_48 * dpdist_coeffs_1->primal_0[int(3)];
    float _S1060 = dpdist_coeffs_1->primal_0[int(1)] + r2_48 * _S1059;
    float _S1061 = dpdist_coeffs_1->primal_0[int(0)] + r2_48 * _S1060;
    float2  _S1062 = make_float2 (1.0f + r2_48 * _S1061);
    float _S1063 = _S1044 * u_48;
    float _S1064 = 2.0f * u_48;
    float _S1065 = _S1048 * u_48;
    float _S1066 = 2.0f * v_48;
    float2  _S1067 = make_float2 (fx_19, 0.0f) + make_float2 (dpdist_coeffs_1->primal_0[int(8)] * fx_19, dpdist_coeffs_1->primal_0[int(9)] * fx_19);
    float2  _S1068 = _S1058 * _S1067;
    float _S1069 = dpdist_coeffs_1->primal_0[int(4)] * _S1067.y;
    float _S1070 = v_48 * _S1067.y;
    float _S1071 = dpdist_coeffs_1->primal_0[int(5)] * _S1067.x;
    float _S1072 = v_48 * _S1067.x;
    float _S1073 = _S1068.x + _S1068.y;
    float _S1074 = r2_48 * _S1073;
    float _S1075 = r2_48 * _S1074;
    float _S1076 = r2_48 * _S1075;
    float _S1077 = dpdist_coeffs_1->primal_0[int(7)] * _S1067.y + _S1069 + dpdist_coeffs_1->primal_0[int(6)] * _S1067.x + _S1071 + _S1061 * _S1073 + _S1060 * _S1074 + _S1059 * _S1075 + dpdist_coeffs_1->primal_0[int(3)] * _S1076;
    float _S1078 = v_48 * _S1077;
    float _S1079 = u_48 * _S1077;
    float2  _S1080 = _S1062 * _S1067 + make_float2 (_S1048 * _S1070 + _S1064 * _S1071 + 2.0f * (u_48 * _S1071) + _S1044 * _S1072 + _S1079 + _S1079, _S1066 * _S1069 + 2.0f * (v_48 * _S1069) + _S1065 * _S1067.y + _S1063 * _S1067.x + _S1078 + _S1078);
    float2  _S1081 = _S1080 / _S1039;
    float2  _S1082 = _S1039 * _S1039;
    float2  _S1083 = - _S1081;
    float2  _S1084 = _S1034 * _S1083;
    float2  _S1085 = _S1036 * _S1081;
    float _S1086 = _S1084.x + _S1084.y;
    float3  _S1087 = make_float3 (_S1085.x, _S1085.y, _S1086);
    Matrix<float, 2, 3>  _S1088 = J_9;
    _S1088[int(0)] = _S1087;
    float2  _S1089 = _S1034 / make_float2 (_S1035);
    float u_49 = _S1089.x;
    float v_49 = _S1089.y;
    float r2_49 = u_49 * u_49 + v_49 * v_49;
    float _S1090 = dpdist_coeffs_1->primal_0[int(2)] + r2_49 * dpdist_coeffs_1->primal_0[int(3)];
    float _S1091 = dpdist_coeffs_1->primal_0[int(1)] + r2_49 * _S1090;
    float _S1092 = dpdist_coeffs_1->primal_0[int(0)] + r2_49 * _S1091;
    float2  _S1093 = make_float2 (1.0f + r2_49 * _S1092);
    float _S1094 = _S1044 * u_49;
    float _S1095 = 2.0f * u_49;
    float _S1096 = _S1048 * u_49;
    float _S1097 = 2.0f * v_49;
    float2  _S1098 = make_float2 (0.0f, fy_19);
    float2  _S1099 = _S1089 * _S1098;
    float _S1100 = dpdist_coeffs_1->primal_0[int(4)] * fy_19;
    float _S1101 = v_49 * fy_19;
    float _S1102 = _S1099.x + _S1099.y;
    float _S1103 = r2_49 * _S1102;
    float _S1104 = r2_49 * _S1103;
    float _S1105 = r2_49 * _S1104;
    float _S1106 = dpdist_coeffs_1->primal_0[int(7)] * fy_19 + _S1100 + _S1092 * _S1102 + _S1091 * _S1103 + _S1090 * _S1104 + dpdist_coeffs_1->primal_0[int(3)] * _S1105;
    float _S1107 = v_49 * _S1106;
    float _S1108 = u_49 * _S1106;
    float2  _S1109 = _S1093 * _S1098 + make_float2 (_S1048 * _S1101 + _S1108 + _S1108, _S1097 * _S1100 + 2.0f * (v_49 * _S1100) + _S1096 * fy_19 + _S1107 + _S1107);
    float2  _S1110 = _S1109 / _S1039;
    float2  _S1111 = - _S1110;
    float2  _S1112 = _S1034 * _S1111;
    float2  _S1113 = _S1036 * _S1110;
    float _S1114 = _S1112.x + _S1112.y;
    _S1088[int(1)] = make_float3 (_S1113.x, _S1113.y, _S1114);
    float _S1115 = float(width_5);
    float _S1116 = 0.30000001192092896f * (0.5f * _S1115);
    float lim_x_pos_5 = _S1115 + _S1116;
    float rz_3 = 1.0f / _S1035;
    float _S1117 = - _S1116;
    float _S1118 = - (_S1117 - cx_16);
    float max_Jxz_0 = _S1118 * rz_3;
    float _S1119 = - (lim_x_pos_5 - cx_16);
    float min_Jxz_0 = _S1119 * rz_3;
    float _S1120 = - (_S1117 - cy_16);
    float max_Jyz_3 = _S1120 * rz_3;
    float _S1121 = - (lim_x_pos_5 - cy_16);
    float min_Jyz_3 = _S1121 * rz_3;
    *&(((&_S1088)->rows + (int(0)))->z) = s_primal_ctx_clamp_0(_S1086, min_Jxz_0, max_Jxz_0);
    *&(((&_S1088)->rows + (int(1)))->z) = s_primal_ctx_clamp_0(_S1114, min_Jyz_3, max_Jyz_3);
    Matrix<float, 3, 2>  _S1122 = transpose_1(_S1088);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1123;
    (&_S1123)->primal_0 = s_primal_ctx_mul_2(_S1088, (*dpcov3d_1).primal_0);
    (&_S1123)->differential_0 = J_9;
    Matrix<float, 3, 2>  _S1124 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S1125;
    (&_S1125)->primal_0 = _S1122;
    (&_S1125)->differential_0 = _S1124;
    s_bwd_prop_mul_2(&_S1123, &_S1125, dpcov2d_1);
    Matrix<float, 2, 3>  _S1126 = transpose_2(_S1125.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1127;
    (&_S1127)->primal_0 = _S1088;
    (&_S1127)->differential_0 = J_9;
    Matrix<float, 3, 3>  _S1128 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1129;
    (&_S1129)->primal_0 = (*dpcov3d_1).primal_0;
    (&_S1129)->differential_0 = _S1128;
    s_bwd_prop_mul_3(&_S1127, &_S1129, _S1123.differential_0);
    Matrix<float, 2, 3>  _S1130 = _S1126 + _S1127.differential_0;
    _S1088 = _S1130;
    *&(((&_S1088)->rows + (int(1)))->z) = 0.0f;
    DiffPair_float_0 _S1131;
    (&_S1131)->primal_0 = _S1114;
    (&_S1131)->differential_0 = 0.0f;
    DiffPair_float_0 _S1132;
    (&_S1132)->primal_0 = min_Jyz_3;
    (&_S1132)->differential_0 = 0.0f;
    DiffPair_float_0 _S1133;
    (&_S1133)->primal_0 = max_Jyz_3;
    (&_S1133)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S1131, &_S1132, &_S1133, _S1130.rows[int(1)].z);
    *&(((&_S1088)->rows + (int(0)))->z) = 0.0f;
    DiffPair_float_0 _S1134;
    (&_S1134)->primal_0 = _S1086;
    (&_S1134)->differential_0 = 0.0f;
    DiffPair_float_0 _S1135;
    (&_S1135)->primal_0 = min_Jxz_0;
    (&_S1135)->differential_0 = 0.0f;
    DiffPair_float_0 _S1136;
    (&_S1136)->primal_0 = max_Jxz_0;
    (&_S1136)->differential_0 = 0.0f;
    s_bwd_prop_clamp_0(&_S1134, &_S1135, &_S1136, _S1130.rows[int(0)].z);
    float _S1137 = - - (rz_3 * _S1132.differential_0);
    float _S1138 = - - (rz_3 * _S1133.differential_0);
    float _S1139 = - - (rz_3 * _S1135.differential_0);
    float _S1140 = - - (rz_3 * _S1136.differential_0);
    float _S1141 = - ((_S1121 * _S1132.differential_0 + _S1120 * _S1133.differential_0 + _S1119 * _S1135.differential_0 + _S1118 * _S1136.differential_0) / _S1038);
    float3  _S1142 = make_float3 (0.0f);
    float3  _S1143 = _S1142;
    *&((&_S1143)->z) = _S1131.differential_0;
    float3  _S1144 = _S1088.rows[int(1)] + _S1143;
    float2  _S1145 = make_float2 (0.0f);
    float2  _S1146 = _S1145;
    *&((&_S1146)->y) = _S1144.y;
    *&((&_S1146)->x) = _S1144.x;
    float2  _S1147 = _S1036 * _S1146;
    float2  _S1148 = _S1110 * _S1146;
    float2  _S1149 = _S1145;
    *&((&_S1149)->y) = _S1144.z;
    *&((&_S1149)->x) = _S1144.z;
    float2  _S1150 = _S1111 * _S1149;
    float2  _S1151 = (_S1147 + - (_S1034 * _S1149)) / _S1082;
    float2  _S1152 = _S1109 * - _S1151;
    float2  _S1153 = _S1039 * _S1151;
    float _S1154 = _S1153.x;
    float _S1155 = _S1154 + _S1154;
    float _S1156 = _S1106 * _S1155;
    float _S1157 = _S1153.y + _S1153.y;
    float _S1158 = _S1106 * _S1157;
    float _S1159 = u_49 * _S1155 + v_49 * _S1157;
    float _S1160 = dpdist_coeffs_1->primal_0[int(3)] * _S1159;
    float _S1161 = _S1105 * _S1159;
    float _S1162 = _S1104 * _S1159;
    float _S1163 = _S1104 * _S1160;
    float _S1164 = _S1103 * _S1159;
    float _S1165 = _S1090 * _S1159 + r2_49 * _S1160;
    float _S1166 = _S1103 * _S1165;
    float _S1167 = _S1102 * _S1159;
    float _S1168 = _S1091 * _S1159 + r2_49 * _S1165;
    float _S1169 = _S1102 * _S1168;
    float _S1170 = _S1092 * _S1159 + r2_49 * _S1168;
    float _S1171 = v_49 * (_S1044 * _S1153.x);
    float _S1172 = _S1094 * _S1153.y;
    float _S1173 = dpdist_coeffs_1->primal_0[int(5)] * (_S1159 + u_49 * (2.0f * _S1153.x) + _S1095 * _S1153.x);
    float _S1174 = dpdist_coeffs_1->primal_0[int(6)] * _S1159;
    float _S1175 = _S1048 * _S1153.x;
    float _S1176 = _S1101 * _S1153.x;
    float _S1177 = v_49 * _S1175;
    float _S1178 = fy_19 * _S1175;
    float _S1179 = _S1096 * _S1153.y;
    float _S1180 = fy_19 * _S1153.y;
    float _S1181 = 2.0f * _S1153.y;
    float _S1182 = _S1100 * _S1181;
    float _S1183 = _S1100 * _S1153.y;
    float _S1184 = _S1159 + v_49 * _S1181 + _S1097 * _S1153.y;
    float _S1185 = dpdist_coeffs_1->primal_0[int(4)] * _S1184;
    float _S1186 = fy_19 * _S1184;
    float _S1187 = dpdist_coeffs_1->primal_0[int(7)] * _S1159;
    float _S1188 = fy_19 * _S1159;
    float2  _S1189 = _S1093 * _S1153;
    float2  _S1190 = _S1098 * _S1153;
    float2  _S1191 = _S1145;
    *&((&_S1191)->y) = _S1170;
    *&((&_S1191)->x) = _S1170;
    float2  _S1192 = _S1098 * _S1191;
    float _S1193 = _S1177 + _S1179 + _S1185 + _S1187;
    float _S1194 = _S1171 + _S1172 + _S1173 + _S1174;
    float2  _S1195 = _S1189 + _S1089 * _S1191;
    float2  _S1196 = _S1145;
    *&((&_S1196)->y) = _S1193;
    *&((&_S1196)->x) = _S1194;
    float2  _S1197 = _S1195 + _S1196;
    float _S1198 = u_49 * _S1180;
    float _S1199 = _S1190.x + _S1190.y;
    float _S1200 = _S1167 + r2_49 * _S1199;
    float _S1201 = _S1164 + r2_49 * _S1200;
    float _S1202 = _S1162 + r2_49 * _S1201;
    float _S1203 = r2_49 * _S1202;
    float _S1204 = _S1163 + _S1166 + _S1169 + _S1092 * _S1199 + _S1091 * _S1200 + _S1090 * _S1201 + dpdist_coeffs_1->primal_0[int(3)] * _S1202;
    float _S1205 = v_49 * _S1204;
    float _S1206 = u_49 * _S1204;
    float _S1207 = _S1035 * (_S1152.x + _S1152.y);
    float2  _S1208 = (_S1192 + make_float2 (_S1156 + _S1048 * _S1180 + _S1206 + _S1206, _S1158 + _S1178 + _S1182 + 2.0f * _S1183 + _S1205 + _S1205)) / _S1039;
    float2  _S1209 = _S1034 * - _S1208;
    float2  _S1210 = _S1150 + _S1036 * _S1208;
    float3  _S1211 = make_float3 (_S1210.x, _S1210.y, _S1207 + _S1207 + _S1148.x + _S1148.y + _S1209.x + _S1209.y);
    float3  _S1212 = _S1142;
    *&((&_S1212)->z) = _S1134.differential_0;
    float3  _S1213 = _S1088.rows[int(0)] + _S1212;
    float2  _S1214 = _S1145;
    *&((&_S1214)->y) = _S1213.y;
    *&((&_S1214)->x) = _S1213.x;
    float2  _S1215 = _S1036 * _S1214;
    float2  _S1216 = _S1081 * _S1214;
    float2  _S1217 = _S1145;
    *&((&_S1217)->y) = _S1213.z;
    *&((&_S1217)->x) = _S1213.z;
    float2  _S1218 = _S1083 * _S1217;
    float2  _S1219 = (_S1215 + - (_S1034 * _S1217)) / _S1082;
    float2  _S1220 = _S1080 * - _S1219;
    float2  _S1221 = _S1039 * _S1219;
    float _S1222 = _S1221.x;
    float _S1223 = _S1222 + _S1222;
    float _S1224 = _S1077 * _S1223;
    float _S1225 = _S1221.y + _S1221.y;
    float _S1226 = _S1077 * _S1225;
    float _S1227 = u_48 * _S1223 + v_48 * _S1225;
    float _S1228 = dpdist_coeffs_1->primal_0[int(3)] * _S1227;
    float _S1229 = _S1076 * _S1227;
    float _S1230 = _S1075 * _S1227;
    float _S1231 = _S1075 * _S1228;
    float _S1232 = _S1074 * _S1227;
    float _S1233 = _S1059 * _S1227 + r2_48 * _S1228;
    float _S1234 = _S1074 * _S1233;
    float _S1235 = _S1073 * _S1227;
    float _S1236 = _S1060 * _S1227 + r2_48 * _S1233;
    float _S1237 = _S1073 * _S1236;
    float _S1238 = _S1061 * _S1227 + r2_48 * _S1236;
    float _S1239 = _S1044 * _S1221.x;
    float _S1240 = _S1072 * _S1221.x;
    float _S1241 = v_48 * _S1239;
    float _S1242 = _S1067.x * _S1239;
    float _S1243 = _S1063 * _S1221.y;
    float _S1244 = _S1067.x * _S1221.y;
    float _S1245 = 2.0f * _S1221.x;
    float _S1246 = _S1071 * _S1245;
    float _S1247 = _S1071 * _S1221.x;
    float _S1248 = _S1227 + u_48 * _S1245 + _S1064 * _S1221.x;
    float _S1249 = dpdist_coeffs_1->primal_0[int(5)] * _S1248;
    float _S1250 = _S1067.x * _S1248;
    float _S1251 = dpdist_coeffs_1->primal_0[int(6)] * _S1227;
    float _S1252 = _S1067.x * _S1227;
    float _S1253 = _S1048 * _S1221.x;
    float _S1254 = _S1070 * _S1221.x;
    float _S1255 = v_48 * _S1253;
    float _S1256 = _S1067.y * _S1253;
    float _S1257 = _S1065 * _S1221.y;
    float _S1258 = _S1067.y * _S1221.y;
    float _S1259 = 2.0f * _S1221.y;
    float _S1260 = _S1069 * _S1259;
    float _S1261 = _S1069 * _S1221.y;
    float _S1262 = _S1227 + v_48 * _S1259 + _S1066 * _S1221.y;
    float _S1263 = dpdist_coeffs_1->primal_0[int(4)] * _S1262;
    float _S1264 = _S1067.y * _S1262;
    float _S1265 = dpdist_coeffs_1->primal_0[int(7)] * _S1227;
    float _S1266 = _S1067.y * _S1227;
    float2  _S1267 = _S1062 * _S1221;
    float2  _S1268 = _S1067 * _S1221;
    float2  _S1269 = _S1145;
    *&((&_S1269)->y) = _S1238;
    *&((&_S1269)->x) = _S1238;
    float2  _S1270 = _S1067 * _S1269;
    float _S1271 = _S1255 + _S1257 + _S1263 + _S1265;
    float _S1272 = _S1241 + _S1243 + _S1249 + _S1251;
    float2  _S1273 = _S1267 + _S1058 * _S1269;
    float2  _S1274 = _S1145;
    *&((&_S1274)->y) = _S1271;
    *&((&_S1274)->x) = _S1272;
    float2  _S1275 = _S1273 + _S1274;
    float _S1276 = _S1268.x + _S1268.y;
    float _S1277 = _S1235 + r2_48 * _S1276;
    float _S1278 = _S1232 + r2_48 * _S1277;
    float _S1279 = _S1230 + r2_48 * _S1278;
    float _S1280 = _S1231 + _S1234 + _S1237 + _S1061 * _S1276 + _S1060 * _S1277 + _S1059 * _S1278 + dpdist_coeffs_1->primal_0[int(3)] * _S1279;
    float _S1281 = v_48 * _S1280;
    float _S1282 = u_48 * _S1280;
    float _S1283 = _S1035 * (_S1220.x + _S1220.y);
    float2  _S1284 = (_S1270 + make_float2 (_S1224 + _S1246 + _S1048 * _S1258 + 2.0f * _S1247 + _S1044 * _S1244 + _S1282 + _S1282, _S1226 + _S1242 + _S1256 + _S1260 + 2.0f * _S1261 + _S1281 + _S1281)) / _S1039;
    float2  _S1285 = _S1034 * - _S1284;
    float2  _S1286 = _S1218 + _S1036 * _S1284;
    float3  _S1287 = make_float3 (_S1286.x, _S1286.y, _S1283 + _S1283 + _S1216.x + _S1216.y + _S1285.x + _S1285.y);
    float _S1288 = fx_19 * dpmean2d_1.x;
    float _S1289 = _S1197.y + _S1057 * dpmean2d_1.y;
    float _S1290 = dpdist_coeffs_1->primal_0[int(8)] * _S1275.x + dpdist_coeffs_1->primal_0[int(9)] * _S1275.y + _S1275.x + _S1056 * dpmean2d_1.x;
    float2  _S1291 = make_float2 (_S1288, fy_19 * dpmean2d_1.y) + make_float2 (dpdist_coeffs_1->primal_0[int(8)] * _S1288, dpdist_coeffs_1->primal_0[int(9)] * _S1288);
    float2  _S1292 = _S1037 * _S1291;
    float _S1293 = dpdist_coeffs_1->primal_0[int(4)] * _S1291.y;
    float _S1294 = v_47 * _S1291.y;
    float _S1295 = dpdist_coeffs_1->primal_0[int(5)] * _S1291.x;
    float _S1296 = v_47 * _S1291.x;
    float _S1297 = _S1292.x + _S1292.y;
    float _S1298 = r2_47 * _S1297;
    float _S1299 = r2_47 * _S1298;
    float _S1300 = r2_47 * _S1299;
    float _S1301 = dpdist_coeffs_1->primal_0[int(7)] * _S1291.y + _S1293 + dpdist_coeffs_1->primal_0[int(6)] * _S1291.x + _S1295 + _S1042 * _S1297 + _S1041 * _S1298 + _S1040 * _S1299 + dpdist_coeffs_1->primal_0[int(3)] * _S1300;
    float _S1302 = v_47 * _S1301;
    float _S1303 = u_47 * _S1301;
    float _S1304 = fx_19 * _S1275.y + _S1054 * _S1288;
    float _S1305 = fx_19 * _S1275.x + _S1053 * _S1288;
    float _S1306 = _S1188 + _S1266 + r2_47 * _S1291.y;
    float _S1307 = _S1252 + r2_47 * _S1291.x;
    float _S1308 = _S1250 + 2.0f * (_S1176 + _S1198 + _S1254 + u_48 * _S1258 + u_47 * _S1294) + _S1047 * _S1291.x;
    float _S1309 = _S1186 + _S1264 + _S1051 * _S1291.y + 2.0f * (_S1240 + u_48 * _S1244 + u_47 * _S1296);
    float _S1310 = _S1161 + _S1203 + _S1229 + r2_48 * _S1279 + r2_47 * _S1300;
    float _S1311 = _S1202 + _S1279 + _S1300;
    float _S1312 = _S1201 + _S1278 + _S1299;
    float _S1313 = _S1200 + _S1277 + _S1298;
    float2  _S1314 = (_S1043 * _S1291 + make_float2 (_S1048 * _S1294 + _S1046 * _S1295 + 2.0f * (u_47 * _S1295) + _S1044 * _S1296 + _S1303 + _S1303, _S1050 * _S1293 + 2.0f * (v_47 * _S1293) + _S1049 * _S1291.y + _S1045 * _S1291.x + _S1302 + _S1302)) / _S1039;
    float2  _S1315 = _S1034 * - _S1314;
    float2  _S1316 = _S1036 * _S1314;
    float _S1317 = _S1141 + _S1315.x + _S1315.y;
    float _S1318 = _S1137 + _S1138 + dpmean2d_1.y;
    float _S1319 = _S1139 + _S1140 + dpmean2d_1.x;
    FixedArray<float, 10>  _S1320;
    _S1320[int(0)] = 0.0f;
    _S1320[int(1)] = 0.0f;
    _S1320[int(2)] = 0.0f;
    _S1320[int(3)] = 0.0f;
    _S1320[int(4)] = 0.0f;
    _S1320[int(5)] = 0.0f;
    _S1320[int(6)] = 0.0f;
    _S1320[int(7)] = 0.0f;
    _S1320[int(8)] = 0.0f;
    _S1320[int(9)] = 0.0f;
    _S1320[int(9)] = _S1304;
    _S1320[int(8)] = _S1305;
    _S1320[int(7)] = _S1306;
    _S1320[int(6)] = _S1307;
    _S1320[int(5)] = _S1308;
    _S1320[int(4)] = _S1309;
    _S1320[int(3)] = _S1310;
    _S1320[int(2)] = _S1311;
    _S1320[int(1)] = _S1312;
    _S1320[int(0)] = _S1313;
    dpdist_coeffs_1->primal_0 = dpdist_coeffs_1->primal_0;
    dpdist_coeffs_1->differential_0 = _S1320;
    float4  _S1321 = make_float4 (_S1290, _S1289, _S1319, _S1318);
    dpintrins_1->primal_0 = (*dpintrins_1).primal_0;
    dpintrins_1->differential_0 = _S1321;
    dpcov3d_1->primal_0 = (*dpcov3d_1).primal_0;
    dpcov3d_1->differential_0 = _S1129.differential_0;
    float3  _S1322 = _S1211 + _S1287 + make_float3 (_S1316.x, _S1316.y, _S1317);
    dpmean3d_1->primal_0 = (*dpmean3d_1).primal_0;
    dpmean3d_1->differential_0 = _S1322;
    return;
}

inline __device__ void s_bwd_prop_mul_4(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S1323, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S1324, Matrix<float, 3, 3>  _S1325)
{
    mul_1(_S1323, _S1324, _S1325);
    return;
}

inline __device__ void s_bwd_prop_exp_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S1326, float3  _S1327)
{
    _d_exp_vector_0(_S1326, _S1327);
    return;
}

inline __device__ void projection_3dgs_persp_vjp(bool antialiased_10, float3  mean_11, float4  quat_14, float3  scale_13, float in_opacity_10, FixedArray<float3 , 16>  * sh_coeffs_10, Matrix<float, 3, 3>  R_17, float3  t_13, float fx_20, float fy_20, float cx_17, float cy_17, FixedArray<float, 10>  * dist_coeffs_25, uint image_width_10, uint image_height_10, float2  v_mean2d_0, float v_depth_0, float3  v_conic_0, float v_opacity_0, float3  v_rgb_0, float3  * v_mean_0, float4  * v_quat_0, float3  * v_scale_0, float * v_in_opacity_0, FixedArray<float3 , 16>  * v_sh_coeffs_0, Matrix<float, 3, 3>  * v_R_2, float3  * v_t_1)
{
    Matrix<float, 2, 2>  _S1328 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgs_persp_differentiable_Intermediates_0 _S1329;
    (&_S1329)->_S927 = _S1328;
    float3  mean_c_10 = s_primal_ctx_mul_0(R_17, mean_11) + t_13;
    float4  intrins_14 = make_float4 (fx_20, fy_20, cx_17, cy_17);
    float3  _S1330 = s_primal_ctx_exp_0(scale_13);
    float _S1331 = quat_14.y;
    float x2_14 = _S1331 * _S1331;
    float y2_14 = quat_14.z * quat_14.z;
    float z2_24 = quat_14.w * quat_14.w;
    float xy_14 = quat_14.y * quat_14.z;
    float xz_14 = quat_14.y * quat_14.w;
    float yz_14 = quat_14.z * quat_14.w;
    float wx_14 = quat_14.x * quat_14.y;
    float wy_14 = quat_14.x * quat_14.z;
    float wz_14 = quat_14.x * quat_14.w;
    Matrix<float, 3, 3>  _S1332 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_14 + z2_24), 2.0f * (xy_14 + wz_14), 2.0f * (xz_14 - wy_14), 2.0f * (xy_14 - wz_14), 1.0f - 2.0f * (x2_14 + z2_24), 2.0f * (yz_14 + wx_14), 2.0f * (xz_14 + wy_14), 2.0f * (yz_14 - wx_14), 1.0f - 2.0f * (x2_14 + y2_14)));
    Matrix<float, 3, 3>  S_0 = makeMatrix<float, 3, 3> (_S1330.x, 0.0f, 0.0f, 0.0f, _S1330.y, 0.0f, 0.0f, 0.0f, _S1330.z);
    Matrix<float, 3, 3>  _S1333 = s_primal_ctx_mul_1(_S1332, S_0);
    Matrix<float, 3, 3>  _S1334 = transpose_0(_S1333);
    Matrix<float, 3, 3>  _S1335 = s_primal_ctx_mul_1(_S1333, _S1334);
    Matrix<float, 3, 3>  _S1336 = s_primal_ctx_mul_1(R_17, _S1335);
    Matrix<float, 3, 3>  _S1337 = transpose_0(R_17);
    Matrix<float, 3, 3>  _S1338 = s_primal_ctx_mul_1(_S1336, _S1337);
    Matrix<float, 2, 2>  _S1339 = _S1328;
    float2  _S1340 = make_float2 (0.0f);
    float2  _S1341 = _S1340;
    bool _S1342 = s_primal_ctx_persp_proj_3dgs_0(mean_c_10, _S1338, intrins_14, dist_coeffs_25, image_width_10, image_height_10, &_S1339, &_S1341);
    (&_S1329)->_S927 = _S1339;
    s_bwd_prop_projection_3dgs_persp_differentiable_Intermediates_0 _S1343 = _S1329;
    float _S1344 = _S1329._S927.rows[int(0)].y * _S1329._S927.rows[int(1)].x;
    float det_orig_11 = _S1329._S927.rows[int(0)].x * _S1329._S927.rows[int(1)].y - _S1344;
    float _S1345 = _S1329._S927.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S1346 = _S1329._S927;
    *&(((&_S1346)->rows + (int(0)))->x) = _S1345;
    float _S1347 = _S1329._S927.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S1346)->rows + (int(1)))->y) = _S1347;
    Matrix<float, 2, 2>  _S1348 = _S1346;
    Matrix<float, 2, 2>  _S1349 = _S1346;
    float det_blur_6 = _S1345 * _S1347 - _S1344;
    float _S1350 = det_orig_11 / det_blur_6;
    float _S1351 = det_blur_6 * det_blur_6;
    float _S1352 = s_primal_ctx_max_0(0.0f, _S1350);
    float _S1353 = s_primal_ctx_sqrt_0(_S1352);
    float invdet_7 = 1.0f / det_blur_6;
    float _S1354 = - _S1329._S927.rows[int(0)].y;
    float _S1355 = - _S1329._S927.rows[int(1)].x;
    float _S1356 = - in_opacity_10;
    float _S1357 = 1.0f + s_primal_ctx_exp_1(_S1356);
    float _S1358 = 1.0f / _S1357;
    float _S1359 = _S1357 * _S1357;
    float _S1360;
    if(antialiased_10)
    {
        _S1360 = _S1358 * _S1353;
    }
    else
    {
        _S1360 = _S1358;
    }
    float _S1361 = _S1360 / 0.00392156885936856f;
    float _S1362 = 2.0f * s_primal_ctx_log_0(_S1361);
    float _S1363 = s_primal_ctx_sqrt_0(_S1362);
    float _S1364 = _S1348.rows[int(0)].x;
    float _S1365 = _S1349.rows[int(1)].y;
    float3  _S1366 = mean_11 - - s_primal_ctx_mul_0(_S1337, t_13);
    float _S1367 = _S1366.x;
    float _S1368 = _S1366.y;
    float _S1369 = _S1366.z;
    float _S1370 = _S1367 * _S1367 + _S1368 * _S1368 + _S1369 * _S1369;
    float _S1371 = s_primal_ctx_sqrt_0(_S1370);
    float x_35 = _S1367 / _S1371;
    float3  _S1372 = make_float3 (x_35);
    float _S1373 = _S1371 * _S1371;
    float y_13 = _S1368 / _S1371;
    float z_10 = _S1369 / _S1371;
    float3  _S1374 = make_float3 (z_10);
    float _S1375 = - y_13;
    float3  _S1376 = make_float3 (_S1375);
    float z2_25 = z_10 * z_10;
    float fTmp0B_10 = -1.09254848957061768f * z_10;
    float fC1_10 = x_35 * x_35 - y_13 * y_13;
    float _S1377 = 2.0f * x_35;
    float fS1_10 = _S1377 * y_13;
    float pSH6_0 = 0.94617468118667603f * z2_25 - 0.31539157032966614f;
    float3  _S1378 = make_float3 (pSH6_0);
    float pSH7_0 = fTmp0B_10 * x_35;
    float3  _S1379 = make_float3 (pSH7_0);
    float pSH5_0 = fTmp0B_10 * y_13;
    float3  _S1380 = make_float3 (pSH5_0);
    float pSH8_0 = 0.54627424478530884f * fC1_10;
    float3  _S1381 = make_float3 (pSH8_0);
    float pSH4_0 = 0.54627424478530884f * fS1_10;
    float3  _S1382 = make_float3 (pSH4_0);
    float fTmp0C_10 = -2.28522896766662598f * z2_25 + 0.4570457935333252f;
    float fTmp1B_10 = 1.44530570507049561f * z_10;
    float _S1383 = 1.86588168144226074f * z2_25 - 1.11952900886535645f;
    float pSH12_0 = z_10 * _S1383;
    float3  _S1384 = make_float3 (pSH12_0);
    float pSH13_0 = fTmp0C_10 * x_35;
    float3  _S1385 = make_float3 (pSH13_0);
    float pSH11_0 = fTmp0C_10 * y_13;
    float3  _S1386 = make_float3 (pSH11_0);
    float pSH14_0 = fTmp1B_10 * fC1_10;
    float3  _S1387 = make_float3 (pSH14_0);
    float pSH10_0 = fTmp1B_10 * fS1_10;
    float3  _S1388 = make_float3 (pSH10_0);
    float pSH15_0 = -0.59004360437393188f * (x_35 * fC1_10 - y_13 * fS1_10);
    float3  _S1389 = make_float3 (pSH15_0);
    float pSH9_0 = -0.59004360437393188f * (x_35 * fS1_10 + y_13 * fC1_10);
    float3  _S1390 = make_float3 (pSH9_0);
    float3  _S1391 = make_float3 (0.0f);
    float3  _S1392 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1393;
    (&_S1393)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_10)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S1375) * (*sh_coeffs_10)[int(1)] + make_float3 (z_10) * (*sh_coeffs_10)[int(2)] - make_float3 (x_35) * (*sh_coeffs_10)[int(3)]) + (make_float3 (pSH4_0) * (*sh_coeffs_10)[int(4)] + make_float3 (pSH5_0) * (*sh_coeffs_10)[int(5)] + make_float3 (pSH6_0) * (*sh_coeffs_10)[int(6)] + make_float3 (pSH7_0) * (*sh_coeffs_10)[int(7)] + make_float3 (pSH8_0) * (*sh_coeffs_10)[int(8)]) + (make_float3 (pSH9_0) * (*sh_coeffs_10)[int(9)] + make_float3 (pSH10_0) * (*sh_coeffs_10)[int(10)] + make_float3 (pSH11_0) * (*sh_coeffs_10)[int(11)] + make_float3 (pSH12_0) * (*sh_coeffs_10)[int(12)] + make_float3 (pSH13_0) * (*sh_coeffs_10)[int(13)] + make_float3 (pSH14_0) * (*sh_coeffs_10)[int(14)] + make_float3 (pSH15_0) * (*sh_coeffs_10)[int(15)]) + make_float3 (0.5f);
    (&_S1393)->differential_0 = _S1392;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1394;
    (&_S1394)->primal_0 = _S1391;
    (&_S1394)->differential_0 = _S1392;
    s_bwd_prop_max_0(&_S1393, &_S1394, v_rgb_0);
    float3  _S1395 = _S1389 * _S1393.differential_0;
    float3  _S1396 = (*sh_coeffs_10)[int(15)] * _S1393.differential_0;
    float3  _S1397 = _S1387 * _S1393.differential_0;
    float3  _S1398 = (*sh_coeffs_10)[int(14)] * _S1393.differential_0;
    float3  _S1399 = _S1385 * _S1393.differential_0;
    float3  _S1400 = (*sh_coeffs_10)[int(13)] * _S1393.differential_0;
    float3  _S1401 = _S1384 * _S1393.differential_0;
    float3  _S1402 = (*sh_coeffs_10)[int(12)] * _S1393.differential_0;
    float3  _S1403 = _S1386 * _S1393.differential_0;
    float3  _S1404 = (*sh_coeffs_10)[int(11)] * _S1393.differential_0;
    float3  _S1405 = _S1388 * _S1393.differential_0;
    float3  _S1406 = (*sh_coeffs_10)[int(10)] * _S1393.differential_0;
    float3  _S1407 = _S1390 * _S1393.differential_0;
    float3  _S1408 = (*sh_coeffs_10)[int(9)] * _S1393.differential_0;
    float s_diff_fS2_T_0 = -0.59004360437393188f * (_S1408.x + _S1408.y + _S1408.z);
    float s_diff_fC2_T_0 = -0.59004360437393188f * (_S1396.x + _S1396.y + _S1396.z);
    float _S1409 = _S1406.x + _S1406.y + _S1406.z;
    float _S1410 = _S1398.x + _S1398.y + _S1398.z;
    float _S1411 = _S1404.x + _S1404.y + _S1404.z;
    float _S1412 = _S1400.x + _S1400.y + _S1400.z;
    float _S1413 = _S1402.x + _S1402.y + _S1402.z;
    float _S1414 = - s_diff_fC2_T_0;
    float3  _S1415 = _S1381 * _S1393.differential_0;
    float3  _S1416 = (*sh_coeffs_10)[int(8)] * _S1393.differential_0;
    float3  _S1417 = _S1379 * _S1393.differential_0;
    float3  _S1418 = (*sh_coeffs_10)[int(7)] * _S1393.differential_0;
    float3  _S1419 = _S1378 * _S1393.differential_0;
    float3  _S1420 = (*sh_coeffs_10)[int(6)] * _S1393.differential_0;
    float3  _S1421 = _S1380 * _S1393.differential_0;
    float3  _S1422 = (*sh_coeffs_10)[int(5)] * _S1393.differential_0;
    float3  _S1423 = _S1382 * _S1393.differential_0;
    float3  _S1424 = (*sh_coeffs_10)[int(4)] * _S1393.differential_0;
    float _S1425 = _S1422.x + _S1422.y + _S1422.z;
    float _S1426 = _S1418.x + _S1418.y + _S1418.z;
    float _S1427 = fTmp1B_10 * _S1409 + x_35 * s_diff_fS2_T_0 + y_13 * _S1414 + 0.54627424478530884f * (_S1424.x + _S1424.y + _S1424.z);
    float _S1428 = fTmp1B_10 * _S1410 + y_13 * s_diff_fS2_T_0 + x_35 * s_diff_fC2_T_0 + 0.54627424478530884f * (_S1416.x + _S1416.y + _S1416.z);
    float _S1429 = y_13 * - _S1428;
    float _S1430 = x_35 * _S1428;
    float _S1431 = z_10 * (1.86588168144226074f * (z_10 * _S1413) + -2.28522896766662598f * (y_13 * _S1411 + x_35 * _S1412) + 0.94617468118667603f * (_S1420.x + _S1420.y + _S1420.z));
    float3  _S1432 = make_float3 (0.48860251903533936f) * _S1393.differential_0;
    float3  _S1433 = - _S1432;
    float3  _S1434 = _S1372 * _S1433;
    float3  _S1435 = (*sh_coeffs_10)[int(3)] * _S1433;
    float3  _S1436 = _S1374 * _S1432;
    float3  _S1437 = (*sh_coeffs_10)[int(2)] * _S1432;
    float3  _S1438 = _S1376 * _S1432;
    float3  _S1439 = (*sh_coeffs_10)[int(1)] * _S1432;
    float _S1440 = (_S1383 * _S1413 + 1.44530570507049561f * (fS1_10 * _S1409 + fC1_10 * _S1410) + -1.09254848957061768f * (y_13 * _S1425 + x_35 * _S1426) + _S1431 + _S1431 + _S1437.x + _S1437.y + _S1437.z) / _S1373;
    float _S1441 = _S1371 * _S1440;
    float _S1442 = (fTmp0C_10 * _S1411 + fC1_10 * s_diff_fS2_T_0 + fS1_10 * _S1414 + fTmp0B_10 * _S1425 + _S1377 * _S1427 + _S1429 + _S1429 + - (_S1439.x + _S1439.y + _S1439.z)) / _S1373;
    float _S1443 = _S1371 * _S1442;
    float _S1444 = (fTmp0C_10 * _S1412 + fS1_10 * s_diff_fS2_T_0 + fC1_10 * s_diff_fC2_T_0 + fTmp0B_10 * _S1426 + 2.0f * (y_13 * _S1427) + _S1430 + _S1430 + _S1435.x + _S1435.y + _S1435.z) / _S1373;
    float _S1445 = _S1371 * _S1444;
    float _S1446 = _S1369 * - _S1440 + _S1368 * - _S1442 + _S1367 * - _S1444;
    DiffPair_float_0 _S1447;
    (&_S1447)->primal_0 = _S1370;
    (&_S1447)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1447, _S1446);
    float _S1448 = _S1369 * _S1447.differential_0;
    float _S1449 = _S1368 * _S1447.differential_0;
    float _S1450 = _S1367 * _S1447.differential_0;
    float3  _S1451 = make_float3 (0.282094806432724f) * _S1393.differential_0;
    float3  _S1452 = make_float3 (_S1445 + _S1450 + _S1450, _S1443 + _S1449 + _S1449, _S1441 + _S1448 + _S1448);
    float3  _S1453 = - - _S1452;
    Matrix<float, 3, 3>  _S1454 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1455;
    (&_S1455)->primal_0 = _S1337;
    (&_S1455)->differential_0 = _S1454;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1456;
    (&_S1456)->primal_0 = t_13;
    (&_S1456)->differential_0 = _S1392;
    s_bwd_prop_mul_1(&_S1455, &_S1456, _S1453);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1457 = _S1455;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1458 = _S1456;
    float2  _S1459 = _S1340;
    *&((&_S1459)->y) = v_conic_0.z;
    float2  _S1460 = _S1340;
    *&((&_S1460)->y) = v_conic_0.y;
    *&((&_S1460)->x) = v_conic_0.x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1461;
    (&_S1461)->primal_0 = mean_c_10;
    (&_S1461)->differential_0 = _S1392;
    s_bwd_length_impl_1(&_S1461, v_depth_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1462 = _S1461;
    DiffPair_float_0 _S1463;
    (&_S1463)->primal_0 = _S1365;
    (&_S1463)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1463, 0.0f);
    DiffPair_float_0 _S1464;
    (&_S1464)->primal_0 = _S1364;
    (&_S1464)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1464, 0.0f);
    DiffPair_float_0 _S1465;
    (&_S1465)->primal_0 = 3.32999992370605469f;
    (&_S1465)->differential_0 = 0.0f;
    DiffPair_float_0 _S1466;
    (&_S1466)->primal_0 = _S1363;
    (&_S1466)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1465, &_S1466, 0.0f);
    DiffPair_float_0 _S1467;
    (&_S1467)->primal_0 = _S1362;
    (&_S1467)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1467, _S1466.differential_0);
    float _S1468 = 2.0f * _S1467.differential_0;
    DiffPair_float_0 _S1469;
    (&_S1469)->primal_0 = _S1361;
    (&_S1469)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S1469, _S1468);
    float2  _S1470 = make_float2 (_S1464.differential_0, 0.0f);
    float _S1471 = v_opacity_0 + 254.9999847412109375f * _S1469.differential_0;
    Matrix<float, 2, 2>  _S1472 = _S1328;
    _S1472[int(1)] = _S1459;
    _S1472[int(0)] = _S1460;
    Matrix<float, 2, 2>  _S1473 = _S1472;
    FixedArray<float3 , 16>  _S1474;
    _S1474[int(0)] = _S1392;
    _S1474[int(1)] = _S1392;
    _S1474[int(2)] = _S1392;
    _S1474[int(3)] = _S1392;
    _S1474[int(4)] = _S1392;
    _S1474[int(5)] = _S1392;
    _S1474[int(6)] = _S1392;
    _S1474[int(7)] = _S1392;
    _S1474[int(8)] = _S1392;
    _S1474[int(9)] = _S1392;
    _S1474[int(10)] = _S1392;
    _S1474[int(11)] = _S1392;
    _S1474[int(12)] = _S1392;
    _S1474[int(13)] = _S1392;
    _S1474[int(14)] = _S1392;
    _S1474[int(15)] = _S1392;
    _S1474[int(7)] = _S1417;
    _S1474[int(0)] = _S1451;
    _S1474[int(1)] = _S1438;
    _S1474[int(2)] = _S1436;
    _S1474[int(3)] = _S1434;
    _S1474[int(4)] = _S1423;
    _S1474[int(5)] = _S1421;
    _S1474[int(6)] = _S1419;
    _S1474[int(15)] = _S1395;
    _S1474[int(8)] = _S1415;
    _S1474[int(9)] = _S1407;
    _S1474[int(10)] = _S1405;
    _S1474[int(11)] = _S1403;
    _S1474[int(12)] = _S1401;
    _S1474[int(13)] = _S1399;
    _S1474[int(14)] = _S1397;
    float3  _S1475 = _S1474[int(0)];
    float3  _S1476 = _S1474[int(1)];
    float3  _S1477 = _S1474[int(2)];
    float3  _S1478 = _S1474[int(3)];
    float3  _S1479 = _S1474[int(4)];
    float3  _S1480 = _S1474[int(5)];
    float3  _S1481 = _S1474[int(6)];
    float3  _S1482 = _S1474[int(7)];
    float3  _S1483 = _S1474[int(8)];
    float3  _S1484 = _S1474[int(9)];
    float3  _S1485 = _S1474[int(10)];
    float3  _S1486 = _S1474[int(11)];
    float3  _S1487 = _S1474[int(12)];
    float3  _S1488 = _S1474[int(13)];
    float3  _S1489 = _S1474[int(14)];
    float3  _S1490 = _S1474[int(15)];
    float2  _S1491 = make_float2 (0.0f, _S1463.differential_0);
    float _S1492;
    if(antialiased_10)
    {
        float _S1493 = _S1358 * _S1471;
        _S1360 = _S1353 * _S1471;
        _S1492 = _S1493;
    }
    else
    {
        _S1360 = _S1471;
        _S1492 = 0.0f;
    }
    float _S1494 = - (_S1360 / _S1359);
    DiffPair_float_0 _S1495;
    (&_S1495)->primal_0 = _S1356;
    (&_S1495)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S1495, _S1494);
    float _S1496 = - _S1495.differential_0;
    float _S1497 = invdet_7 * _S1473.rows[int(1)].y;
    float _S1498 = - (invdet_7 * _S1473.rows[int(1)].x);
    float _S1499 = - (invdet_7 * _S1473.rows[int(0)].y);
    float _S1500 = invdet_7 * _S1473.rows[int(0)].x;
    float _S1501 = - ((_S1345 * _S1473.rows[int(1)].y + _S1355 * _S1473.rows[int(1)].x + _S1354 * _S1473.rows[int(0)].y + _S1347 * _S1473.rows[int(0)].x) / _S1351);
    DiffPair_float_0 _S1502;
    (&_S1502)->primal_0 = _S1352;
    (&_S1502)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1502, _S1492);
    DiffPair_float_0 _S1503;
    (&_S1503)->primal_0 = 0.0f;
    (&_S1503)->differential_0 = 0.0f;
    DiffPair_float_0 _S1504;
    (&_S1504)->primal_0 = _S1350;
    (&_S1504)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1503, &_S1504, _S1502.differential_0);
    float _S1505 = _S1504.differential_0 / _S1351;
    float s_diff_det_orig_T_0 = det_blur_6 * _S1505;
    float _S1506 = _S1501 + det_orig_11 * - _S1505;
    float _S1507 = - _S1506;
    float _S1508 = _S1345 * _S1506;
    float _S1509 = _S1347 * _S1506;
    Matrix<float, 2, 2>  _S1510 = _S1328;
    _S1510[int(1)] = _S1491;
    _S1510[int(0)] = _S1470;
    _S1346 = _S1510;
    *&(((&_S1346)->rows + (int(1)))->y) = 0.0f;
    float _S1511 = _S1500 + _S1508 + _S1510.rows[int(1)].y;
    *&(((&_S1346)->rows + (int(0)))->x) = 0.0f;
    float _S1512 = _S1497 + _S1509 + _S1510.rows[int(0)].x;
    float _S1513 = _S1507 + - s_diff_det_orig_T_0;
    float _S1514 = _S1498 + _S1343._S927.rows[int(0)].y * _S1513;
    float _S1515 = _S1499 + _S1343._S927.rows[int(1)].x * _S1513;
    float _S1516 = _S1343._S927.rows[int(1)].y * s_diff_det_orig_T_0;
    float _S1517 = _S1511 + _S1343._S927.rows[int(0)].x * s_diff_det_orig_T_0;
    float2  _S1518 = _S1340;
    *&((&_S1518)->x) = _S1514;
    *&((&_S1518)->y) = _S1517;
    float _S1519 = _S1512 + _S1516;
    float2  _S1520 = _S1340;
    *&((&_S1520)->y) = _S1515;
    *&((&_S1520)->x) = _S1519;
    Matrix<float, 2, 2>  _S1521 = _S1328;
    _S1521[int(1)] = _S1518;
    _S1521[int(0)] = _S1520;
    Matrix<float, 2, 2>  _S1522 = _S1346 + _S1521;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1523;
    (&_S1523)->primal_0 = mean_c_10;
    (&_S1523)->differential_0 = _S1392;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1524;
    (&_S1524)->primal_0 = _S1338;
    (&_S1524)->differential_0 = _S1454;
    float4  _S1525 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S1526;
    (&_S1526)->primal_0 = intrins_14;
    (&_S1526)->differential_0 = _S1525;
    FixedArray<float, 10>  _S1527 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C10x3E_0 _S1528;
    (&_S1528)->primal_0 = *dist_coeffs_25;
    (&_S1528)->differential_0 = _S1527;
    s_bwd_prop_persp_proj_3dgs_0(&_S1523, &_S1524, &_S1526, &_S1528, image_width_10, image_height_10, _S1522, v_mean2d_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1529;
    (&_S1529)->primal_0 = _S1336;
    (&_S1529)->differential_0 = _S1454;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1530;
    (&_S1530)->primal_0 = _S1337;
    (&_S1530)->differential_0 = _S1454;
    s_bwd_prop_mul_4(&_S1529, &_S1530, _S1524.differential_0);
    Matrix<float, 3, 3>  _S1531 = transpose_0(_S1530.differential_0 + _S1457.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1532;
    (&_S1532)->primal_0 = R_17;
    (&_S1532)->differential_0 = _S1454;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1533;
    (&_S1533)->primal_0 = _S1335;
    (&_S1533)->differential_0 = _S1454;
    s_bwd_prop_mul_4(&_S1532, &_S1533, _S1529.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1534;
    (&_S1534)->primal_0 = _S1333;
    (&_S1534)->differential_0 = _S1454;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1535;
    (&_S1535)->primal_0 = _S1334;
    (&_S1535)->differential_0 = _S1454;
    s_bwd_prop_mul_4(&_S1534, &_S1535, _S1533.differential_0);
    Matrix<float, 3, 3>  _S1536 = _S1534.differential_0 + transpose_0(_S1535.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1537;
    (&_S1537)->primal_0 = _S1332;
    (&_S1537)->differential_0 = _S1454;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1538;
    (&_S1538)->primal_0 = S_0;
    (&_S1538)->differential_0 = _S1454;
    s_bwd_prop_mul_4(&_S1537, &_S1538, _S1536);
    Matrix<float, 3, 3>  _S1539 = transpose_0(_S1537.differential_0);
    float _S1540 = 2.0f * - _S1539.rows[int(2)].z;
    float _S1541 = 2.0f * _S1539.rows[int(2)].y;
    float _S1542 = 2.0f * _S1539.rows[int(2)].x;
    float _S1543 = 2.0f * _S1539.rows[int(1)].z;
    float _S1544 = 2.0f * - _S1539.rows[int(1)].y;
    float _S1545 = 2.0f * _S1539.rows[int(1)].x;
    float _S1546 = 2.0f * _S1539.rows[int(0)].z;
    float _S1547 = 2.0f * _S1539.rows[int(0)].y;
    float _S1548 = 2.0f * - _S1539.rows[int(0)].x;
    float _S1549 = - _S1545 + _S1547;
    float _S1550 = _S1542 + - _S1546;
    float _S1551 = - _S1541 + _S1543;
    float _S1552 = _S1541 + _S1543;
    float _S1553 = _S1542 + _S1546;
    float _S1554 = _S1545 + _S1547;
    float _S1555 = quat_14.w * (_S1544 + _S1548);
    float _S1556 = quat_14.z * (_S1540 + _S1548);
    float _S1557 = quat_14.y * (_S1540 + _S1544);
    float _S1558 = quat_14.x * _S1549 + quat_14.z * _S1552 + quat_14.y * _S1553 + _S1555 + _S1555;
    float _S1559 = quat_14.x * _S1550 + quat_14.w * _S1552 + quat_14.y * _S1554 + _S1556 + _S1556;
    float _S1560 = quat_14.x * _S1551 + quat_14.w * _S1553 + quat_14.z * _S1554 + _S1557 + _S1557;
    float _S1561 = quat_14.w * _S1549 + quat_14.z * _S1550 + quat_14.y * _S1551;
    float3  _S1562 = _S1392;
    *&((&_S1562)->z) = _S1538.differential_0.rows[int(2)].z;
    *&((&_S1562)->y) = _S1538.differential_0.rows[int(1)].y;
    *&((&_S1562)->x) = _S1538.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1563;
    (&_S1563)->primal_0 = scale_13;
    (&_S1563)->differential_0 = _S1392;
    s_bwd_prop_exp_1(&_S1563, _S1562);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1564 = _S1563;
    float3  _S1565 = _S1523.differential_0 + _S1462.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1566;
    (&_S1566)->primal_0 = R_17;
    (&_S1566)->differential_0 = _S1454;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1567;
    (&_S1567)->primal_0 = mean_11;
    (&_S1567)->differential_0 = _S1392;
    s_bwd_prop_mul_1(&_S1566, &_S1567, _S1565);
    float3  _S1568 = _S1565 + _S1458.differential_0;
    Matrix<float, 3, 3>  _S1569 = _S1531 + _S1532.differential_0 + _S1566.differential_0;
    float4  _S1570 = _S1525;
    *&((&_S1570)->w) = _S1558;
    *&((&_S1570)->z) = _S1559;
    *&((&_S1570)->y) = _S1560;
    *&((&_S1570)->x) = _S1561;
    float4  _S1571 = _S1570;
    float3  _S1572 = _S1567.differential_0 + _S1452;
    *v_mean_0 = _S1572;
    *v_quat_0 = _S1571;
    *v_scale_0 = _S1564.differential_0;
    *v_in_opacity_0 = _S1496;
    (*v_sh_coeffs_0)[int(0)] = _S1475;
    (*v_sh_coeffs_0)[int(1)] = _S1476;
    (*v_sh_coeffs_0)[int(2)] = _S1477;
    (*v_sh_coeffs_0)[int(3)] = _S1478;
    (*v_sh_coeffs_0)[int(4)] = _S1479;
    (*v_sh_coeffs_0)[int(5)] = _S1480;
    (*v_sh_coeffs_0)[int(6)] = _S1481;
    (*v_sh_coeffs_0)[int(7)] = _S1482;
    (*v_sh_coeffs_0)[int(8)] = _S1483;
    (*v_sh_coeffs_0)[int(9)] = _S1484;
    (*v_sh_coeffs_0)[int(10)] = _S1485;
    (*v_sh_coeffs_0)[int(11)] = _S1486;
    (*v_sh_coeffs_0)[int(12)] = _S1487;
    (*v_sh_coeffs_0)[int(13)] = _S1488;
    (*v_sh_coeffs_0)[int(14)] = _S1489;
    (*v_sh_coeffs_0)[int(15)] = _S1490;
    *v_R_2 = _S1569;
    *v_t_1 = _S1568;
    return;
}

struct s_bwd_prop_s_bwd_prop_atan2_Intermediates_0
{
    DiffPair_float_0 _S1573;
    DiffPair_float_0 _S1574;
};

struct s_bwd_prop_fisheye_proj_3dgs_Intermediates_0
{
    DiffPair_float_0 _S1575;
    DiffPair_float_0 _S1576;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1577;
    DiffPair_float_0 _S1578;
    DiffPair_float_0 _S1579;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1580;
};

struct s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S1581;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S1582;
};

inline __device__ float s_primal_ctx_s_primal_ctx_atan2_0(float _S1583, float _S1584)
{
    return s_primal_ctx_atan2_0(_S1583, _S1584);
}

struct s_bwd_prop_d_atan2_Intermediates_0
{
    DiffPair_float_0 _S1585;
    DiffPair_float_0 _S1586;
};

inline __device__ void s_primal_ctx_d_atan2_0(DiffPair_float_0 * dpdpy_0, DiffPair_float_0 * dpdpx_0, float dpdOut_0, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_0)
{
    DiffPair_float_0 _S1587 = { 0.0f, 0.0f };
    _s_diff_ctx_0->_S1585 = _S1587;
    _s_diff_ctx_0->_S1586 = _S1587;
    (&_s_diff_ctx_0->_S1585)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1585)->differential_0 = 0.0f;
    (&_s_diff_ctx_0->_S1586)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1586)->differential_0 = 0.0f;
    DiffPair_float_0 _S1588 = *dpdpy_0;
    _s_diff_ctx_0->_S1585 = *dpdpy_0;
    DiffPair_float_0 _S1589 = *dpdpx_0;
    _s_diff_ctx_0->_S1586 = *dpdpx_0;
    float _S1590 = _S1589.primal_0 * _S1589.primal_0 + _S1588.primal_0 * _S1588.primal_0;
    float _S1591 = - _S1588.primal_0 / _S1590 * dpdOut_0;
    float _S1592 = _S1589.primal_0 / _S1590 * dpdOut_0;
    dpdpy_0->primal_0 = _S1588.primal_0;
    dpdpy_0->differential_0 = _S1592;
    dpdpx_0->primal_0 = _S1589.primal_0;
    dpdpx_0->differential_0 = _S1591;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_atan2_0(DiffPair_float_0 * _S1593, DiffPair_float_0 * _S1594, float _S1595, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_1)
{
    DiffPair_float_0 _S1596 = { 0.0f, 0.0f };
    _s_diff_ctx_1->_S1573 = _S1596;
    _s_diff_ctx_1->_S1574 = _S1596;
    (&_s_diff_ctx_1->_S1573)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1573)->differential_0 = 0.0f;
    (&_s_diff_ctx_1->_S1574)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1574)->differential_0 = 0.0f;
    DiffPair_float_0 _S1597 = *_S1593;
    _s_diff_ctx_1->_S1573 = *_S1593;
    DiffPair_float_0 _S1598 = *_S1594;
    _s_diff_ctx_1->_S1574 = *_S1594;
    DiffPair_float_0 _S1599 = _S1597;
    DiffPair_float_0 _S1600 = _S1598;
    s_bwd_prop_d_atan2_Intermediates_0 _S1601;
    (&_S1601)->_S1585 = _S1596;
    (&_S1601)->_S1586 = _S1596;
    s_primal_ctx_d_atan2_0(&_S1599, &_S1600, _S1595, &_S1601);
    *_S1593 = _S1599;
    *_S1594 = _S1600;
    return;
}

struct s_bwd_prop_s_bwd_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1602;
};

struct s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1603;
};

struct s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1604;
    DiffPair_float_0 _S1605;
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1606;
};

struct s_bwd_prop_d_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1607;
};

inline __device__ void s_primal_ctx_d_sqrt_0(DiffPair_float_0 * dpdpx_1, float dpdOut_1, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_2)
{
    DiffPair_float_0 _S1608 = { 0.0f, 0.0f };
    _s_diff_ctx_2->_S1607 = _S1608;
    (&_s_diff_ctx_2->_S1607)->primal_0 = 0.0f;
    (&_s_diff_ctx_2->_S1607)->differential_0 = 0.0f;
    DiffPair_float_0 _S1609 = *dpdpx_1;
    _s_diff_ctx_2->_S1607 = *dpdpx_1;
    float _S1610 = 0.5f / s_primal_ctx_sqrt_0(s_primal_ctx_max_0(1.00000001168609742e-07f, _S1609.primal_0)) * dpdOut_1;
    dpdpx_1->primal_0 = _S1609.primal_0;
    dpdpx_1->differential_0 = _S1610;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_sqrt_0(DiffPair_float_0 * _S1611, float _S1612, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_3)
{
    DiffPair_float_0 _S1613 = { 0.0f, 0.0f };
    _s_diff_ctx_3->_S1603 = _S1613;
    (&_s_diff_ctx_3->_S1603)->primal_0 = 0.0f;
    (&_s_diff_ctx_3->_S1603)->differential_0 = 0.0f;
    DiffPair_float_0 _S1614 = *_S1611;
    _s_diff_ctx_3->_S1603 = *_S1611;
    DiffPair_float_0 _S1615 = _S1614;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1616;
    (&_S1616)->_S1607 = _S1613;
    s_primal_ctx_d_sqrt_0(&_S1615, _S1612, &_S1616);
    *_S1611 = _S1615;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_2, float dp_s_dOut_0, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_4)
{
    float2  _S1617 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1618 = { _S1617, _S1617 };
    DiffPair_float_0 _S1619 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1620 = { _S1619 };
    _s_diff_ctx_4->_S1604 = _S1618;
    _s_diff_ctx_4->_S1605 = _S1619;
    _s_diff_ctx_4->_S1606 = _S1620;
    (&_s_diff_ctx_4->_S1604)->primal_0 = _S1617;
    (&_s_diff_ctx_4->_S1604)->differential_0 = _S1617;
    (&_s_diff_ctx_4->_S1605)->primal_0 = 0.0f;
    (&_s_diff_ctx_4->_S1605)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1621 = *dpdpx_2;
    _s_diff_ctx_4->_S1604 = *dpdpx_2;
    float _S1622 = _S1621.primal_0.x;
    float _S1623 = _S1621.primal_0.y;
    DiffPair_float_0 _S1624;
    (&_S1624)->primal_0 = _S1622 * _S1622 + _S1623 * _S1623;
    (&_S1624)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_sqrt_0(&_S1624, dp_s_dOut_0, &_s_diff_ctx_4->_S1606);
    _s_diff_ctx_4->_S1605 = _S1624;
    float _S1625 = _S1621.primal_0.y * _S1624.differential_0;
    float _S1626 = _S1625 + _S1625;
    float _S1627 = _S1621.primal_0.x * _S1624.differential_0;
    float _S1628 = _S1627 + _S1627;
    float2  _S1629 = _S1617;
    *&((&_S1629)->y) = _S1626;
    *&((&_S1629)->x) = _S1628;
    dpdpx_2->primal_0 = _S1621.primal_0;
    dpdpx_2->differential_0 = _S1629;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S1630, float _S1631, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_5)
{
    float2  _S1632 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1633 = { _S1632, _S1632 };
    _s_diff_ctx_5->_S1602 = _S1633;
    (&_s_diff_ctx_5->_S1602)->primal_0 = _S1632;
    (&_s_diff_ctx_5->_S1602)->differential_0 = _S1632;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1634 = *_S1630;
    _s_diff_ctx_5->_S1602 = *_S1630;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1635 = _S1634;
    DiffPair_float_0 _S1636 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1637 = { _S1636 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1638;
    (&_S1638)->_S1604 = _S1633;
    (&_S1638)->_S1605 = _S1636;
    (&_S1638)->_S1606 = _S1637;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1635, _S1631, &_S1638);
    *_S1630 = _S1635;
    return;
}

inline __device__ bool s_primal_ctx_fisheye_proj_3dgs_0(float3  dpmean3d_2, Matrix<float, 3, 3>  dpcov3d_2, float4  dpintrins_2, FixedArray<float, 10>  * dpdist_coeffs_2, Matrix<float, 2, 2>  * dpcov2d_2, float2  * dpmean2d_2, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_6)
{
    DiffPair_float_0 _S1639 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1640 = { _S1639, _S1639 };
    _s_diff_ctx_6->_S1575 = _S1639;
    _s_diff_ctx_6->_S1576 = _S1639;
    _s_diff_ctx_6->_S1577 = _S1640;
    _s_diff_ctx_6->_S1578 = _S1639;
    _s_diff_ctx_6->_S1579 = _S1639;
    _s_diff_ctx_6->_S1580 = _S1640;
    (&_s_diff_ctx_6->_S1575)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1575)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1576)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1576)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1578)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1578)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1579)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1579)->differential_0 = 0.0f;
    float2  _S1641 = make_float2 (0.0f);
    float2  _S1642 = float2 {dpmean3d_2.x, dpmean3d_2.y};
    float _S1643 = length_0(_S1642);
    float _S1644 = dpmean3d_2.z;
    float _S1645 = s_primal_ctx_atan2_0(_S1643, _S1644);
    float k_4;
    if(_S1645 < 0.00100000004749745f)
    {
        k_4 = (1.0f - _S1645 * _S1645 / 3.0f) / _S1644;
    }
    else
    {
        k_4 = _S1645 / _S1643;
    }
    float2  _S1646 = _S1642 * make_float2 (k_4);
    float u_50 = _S1646.x;
    float v_50 = _S1646.y;
    float r2_50 = u_50 * u_50 + v_50 * v_50;
    float _S1647 = 2.0f * (*dpdist_coeffs_2)[int(4)];
    float _S1648 = 2.0f * (*dpdist_coeffs_2)[int(5)];
    float2  _S1649 = _S1646 * make_float2 (1.0f + r2_50 * ((*dpdist_coeffs_2)[int(0)] + r2_50 * ((*dpdist_coeffs_2)[int(1)] + r2_50 * ((*dpdist_coeffs_2)[int(2)] + r2_50 * (*dpdist_coeffs_2)[int(3)])))) + make_float2 (_S1647 * u_50 * v_50 + (*dpdist_coeffs_2)[int(5)] * (r2_50 + 2.0f * u_50 * u_50) + (*dpdist_coeffs_2)[int(6)] * r2_50, _S1648 * u_50 * v_50 + (*dpdist_coeffs_2)[int(4)] * (r2_50 + 2.0f * v_50 * v_50) + (*dpdist_coeffs_2)[int(7)] * r2_50);
    float2  _S1650 = _S1649 + make_float2 ((*dpdist_coeffs_2)[int(8)] * _S1649.x + (*dpdist_coeffs_2)[int(9)] * _S1649.y, 0.0f);
    float fx_21 = dpintrins_2.x;
    float fy_21 = dpintrins_2.y;
    float2  _S1651 = make_float2 (fx_21 * _S1650.x + dpintrins_2.z, fy_21 * _S1650.y + dpintrins_2.w);
    Matrix<float, 2, 3>  J_10 = makeMatrix<float, 2, 3> (0.0f);
    float _S1652 = s_primal_ctx_s_primal_ctx_atan2_0(_S1643, _S1644);
    bool _S1653 = _S1652 < 0.00100000004749745f;
    float _S1654;
    float _S1655;
    float _S1656;
    if(_S1653)
    {
        float _S1657 = 1.0f - _S1652 * _S1652 / 3.0f;
        float _S1658 = _S1644 * _S1644;
        k_4 = _S1657 / _S1644;
        _S1654 = 0.0f;
        _S1655 = _S1658;
        _S1656 = _S1657;
    }
    else
    {
        float _S1659 = _S1643 * _S1643;
        k_4 = _S1652 / _S1643;
        _S1654 = _S1659;
        _S1655 = 0.0f;
        _S1656 = 0.0f;
    }
    float2  _S1660 = make_float2 (k_4);
    float2  _S1661 = _S1642 * make_float2 (k_4);
    float u_51 = _S1661.x;
    float v_51 = _S1661.y;
    float r2_51 = u_51 * u_51 + v_51 * v_51;
    float _S1662 = (*dpdist_coeffs_2)[int(2)] + r2_51 * (*dpdist_coeffs_2)[int(3)];
    float _S1663 = (*dpdist_coeffs_2)[int(1)] + r2_51 * _S1662;
    float _S1664 = (*dpdist_coeffs_2)[int(0)] + r2_51 * _S1663;
    float2  _S1665 = make_float2 (fx_21, 0.0f) + make_float2 ((*dpdist_coeffs_2)[int(8)] * fx_21, (*dpdist_coeffs_2)[int(9)] * fx_21);
    float2  _S1666 = _S1661 * _S1665;
    float _S1667 = (*dpdist_coeffs_2)[int(4)] * _S1665.y;
    float _S1668 = (*dpdist_coeffs_2)[int(5)] * _S1665.x;
    float _S1669 = _S1666.x + _S1666.y;
    float _S1670 = r2_51 * _S1669;
    float _S1671 = r2_51 * _S1670;
    float _S1672 = (*dpdist_coeffs_2)[int(7)] * _S1665.y + _S1667 + (*dpdist_coeffs_2)[int(6)] * _S1665.x + _S1668 + _S1664 * _S1669 + _S1663 * _S1670 + _S1662 * _S1671 + (*dpdist_coeffs_2)[int(3)] * (r2_51 * _S1671);
    float _S1673 = v_51 * _S1672;
    float _S1674 = u_51 * _S1672;
    float2  _S1675 = make_float2 (1.0f + r2_51 * _S1664) * _S1665 + make_float2 (_S1648 * (v_51 * _S1665.y) + 2.0f * u_51 * _S1668 + 2.0f * (u_51 * _S1668) + _S1647 * (v_51 * _S1665.x) + _S1674 + _S1674, 2.0f * v_51 * _S1667 + 2.0f * (v_51 * _S1667) + _S1648 * u_51 * _S1665.y + _S1647 * u_51 * _S1665.x + _S1673 + _S1673);
    float2  _S1676 = _S1642 * _S1675;
    float2  _S1677 = _S1660 * _S1675;
    float _S1678 = _S1676.x + _S1676.y;
    if(_S1653)
    {
        float _S1679 = _S1678 / _S1655;
        float _S1680 = _S1656 * - _S1679;
        float _S1681 = _S1652 * (0.3333333432674408f * - (_S1644 * _S1679));
        k_4 = _S1681 + _S1681;
        _S1654 = _S1680;
        _S1655 = 0.0f;
    }
    else
    {
        float _S1682 = _S1678 / _S1654;
        float _S1683 = _S1652 * - _S1682;
        k_4 = _S1643 * _S1682;
        _S1654 = 0.0f;
        _S1655 = _S1683;
    }
    DiffPair_float_0 _S1684;
    (&_S1684)->primal_0 = _S1643;
    (&_S1684)->differential_0 = 0.0f;
    DiffPair_float_0 _S1685;
    (&_S1685)->primal_0 = _S1644;
    (&_S1685)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1684, &_S1685, k_4, &_s_diff_ctx_6->_S1577);
    _s_diff_ctx_6->_S1575 = _S1684;
    _s_diff_ctx_6->_S1576 = _S1685;
    float _S1686 = _S1685.differential_0 + _S1654;
    float _S1687 = _S1684.differential_0 + _S1655;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1688;
    (&_S1688)->primal_0 = _S1642;
    (&_S1688)->differential_0 = _S1641;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1689 = { _S1641, _S1641 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1690;
    (&_S1690)->_S1602 = _S1689;
    s_primal_ctx_s_bwd_length_impl_0(&_S1688, _S1687, &_S1690);
    float2  _S1691 = _S1688.differential_0 + _S1677;
    float3  _S1692 = make_float3 (_S1691.x, _S1691.y, _S1686);
    Matrix<float, 2, 3>  _S1693 = J_10;
    _S1693[int(0)] = _S1692;
    if(_S1653)
    {
        float _S1694 = 1.0f - _S1652 * _S1652 / 3.0f;
        float _S1695 = _S1644 * _S1644;
        k_4 = _S1694 / _S1644;
        _S1654 = 0.0f;
        _S1655 = _S1695;
        _S1656 = _S1694;
    }
    else
    {
        float _S1696 = _S1643 * _S1643;
        k_4 = _S1652 / _S1643;
        _S1654 = _S1696;
        _S1655 = 0.0f;
        _S1656 = 0.0f;
    }
    float2  _S1697 = make_float2 (k_4);
    float2  _S1698 = _S1642 * make_float2 (k_4);
    float u_52 = _S1698.x;
    float v_52 = _S1698.y;
    float r2_52 = u_52 * u_52 + v_52 * v_52;
    float _S1699 = (*dpdist_coeffs_2)[int(2)] + r2_52 * (*dpdist_coeffs_2)[int(3)];
    float _S1700 = (*dpdist_coeffs_2)[int(1)] + r2_52 * _S1699;
    float _S1701 = (*dpdist_coeffs_2)[int(0)] + r2_52 * _S1700;
    float2  _S1702 = make_float2 (0.0f, fy_21);
    float2  _S1703 = _S1698 * _S1702;
    float _S1704 = (*dpdist_coeffs_2)[int(4)] * fy_21;
    float _S1705 = _S1703.x + _S1703.y;
    float _S1706 = r2_52 * _S1705;
    float _S1707 = r2_52 * _S1706;
    float _S1708 = (*dpdist_coeffs_2)[int(7)] * fy_21 + _S1704 + _S1701 * _S1705 + _S1700 * _S1706 + _S1699 * _S1707 + (*dpdist_coeffs_2)[int(3)] * (r2_52 * _S1707);
    float _S1709 = v_52 * _S1708;
    float _S1710 = u_52 * _S1708;
    float2  _S1711 = make_float2 (1.0f + r2_52 * _S1701) * _S1702 + make_float2 (_S1648 * (v_52 * fy_21) + _S1710 + _S1710, 2.0f * v_52 * _S1704 + 2.0f * (v_52 * _S1704) + _S1648 * u_52 * fy_21 + _S1709 + _S1709);
    float2  _S1712 = _S1642 * _S1711;
    float2  _S1713 = _S1697 * _S1711;
    float _S1714 = _S1712.x + _S1712.y;
    if(_S1653)
    {
        float _S1715 = _S1714 / _S1655;
        float _S1716 = _S1656 * - _S1715;
        float _S1717 = _S1652 * (0.3333333432674408f * - (_S1644 * _S1715));
        k_4 = _S1717 + _S1717;
        _S1654 = _S1716;
        _S1655 = 0.0f;
    }
    else
    {
        float _S1718 = _S1714 / _S1654;
        float _S1719 = _S1652 * - _S1718;
        k_4 = _S1643 * _S1718;
        _S1654 = 0.0f;
        _S1655 = _S1719;
    }
    DiffPair_float_0 _S1720;
    (&_S1720)->primal_0 = _S1643;
    (&_S1720)->differential_0 = 0.0f;
    DiffPair_float_0 _S1721;
    (&_S1721)->primal_0 = _S1644;
    (&_S1721)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1720, &_S1721, k_4, &_s_diff_ctx_6->_S1580);
    _s_diff_ctx_6->_S1578 = _S1720;
    _s_diff_ctx_6->_S1579 = _S1721;
    float _S1722 = _S1721.differential_0 + _S1654;
    float _S1723 = _S1720.differential_0 + _S1655;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1724;
    (&_S1724)->primal_0 = _S1642;
    (&_S1724)->differential_0 = _S1641;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1725;
    (&_S1725)->_S1602 = _S1689;
    s_primal_ctx_s_bwd_length_impl_0(&_S1724, _S1723, &_S1725);
    float2  _S1726 = _S1724.differential_0 + _S1713;
    float3  _S1727 = make_float3 (_S1726.x, _S1726.y, _S1722);
    _S1693[int(1)] = _S1727;
    *dpcov2d_2 = s_primal_ctx_mul_3(s_primal_ctx_mul_2(_S1693, dpcov3d_2), transpose_1(_S1693));
    *dpmean2d_2 = _S1651;
    return true;
}

struct DiffPair_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 primal_0;
    DiffPair_vectorx3Cfloatx2C2x3E_0 differential_0;
};

struct DiffPair_1
{
    DiffPair_float_0 primal_0;
    DiffPair_float_0 differential_0;
};

inline __device__ void s_bwd_prop_d_sqrt_0(DiffPair_1 * dpdpx_3, DiffPair_float_0 * dpdOut_2, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_7)
{
    DiffPair_1 _S1728 = *dpdpx_3;
    float _S1729 = s_primal_ctx_max_0(1.00000001168609742e-07f, (&_s_diff_ctx_7->_S1607)->primal_0);
    float _S1730 = s_primal_ctx_sqrt_0(_S1729);
    float _S1731 = 0.5f / _S1730 * (*dpdpx_3).differential_0.differential_0;
    float _S1732 = 0.5f * - ((*dpdOut_2).primal_0 * (*dpdpx_3).differential_0.differential_0 / (_S1730 * _S1730));
    DiffPair_float_0 _S1733;
    (&_S1733)->primal_0 = _S1729;
    (&_S1733)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1733, _S1732);
    DiffPair_float_0 _S1734;
    (&_S1734)->primal_0 = 1.00000001168609742e-07f;
    (&_S1734)->differential_0 = 0.0f;
    DiffPair_float_0 _S1735;
    (&_S1735)->primal_0 = (&_s_diff_ctx_7->_S1607)->primal_0;
    (&_S1735)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1734, &_S1735, _S1733.differential_0);
    DiffPair_float_0 dpdpx_4 = { _S1735.differential_0 + (*dpdpx_3).differential_0.primal_0, 0.0f };
    dpdOut_2->primal_0 = (*dpdOut_2).primal_0;
    dpdOut_2->differential_0 = _S1731;
    dpdpx_3->primal_0 = _S1728.primal_0;
    dpdpx_3->differential_0 = dpdpx_4;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_sqrt_0(DiffPair_1 * _S1736, DiffPair_float_0 * _S1737, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_8)
{
    DiffPair_1 _S1738 = *_S1736;
    DiffPair_float_0 _S1739 = _s_diff_ctx_8->_S1603;
    DiffPair_float_0 _S1740 = { 0.0f, 0.0f };
    s_bwd_prop_d_sqrt_Intermediates_0 _S1741;
    (&_S1741)->_S1607 = _S1740;
    s_primal_ctx_d_sqrt_0(&_S1739, (*_S1737).primal_0, &_S1741);
    DiffPair_float_0 _S1742 = { (*_S1736).differential_0.primal_0, (*_S1736).differential_0.differential_0 };
    DiffPair_1 _S1743;
    (&_S1743)->primal_0 = _s_diff_ctx_8->_S1603;
    (&_S1743)->differential_0 = _S1742;
    DiffPair_float_0 _S1744;
    (&_S1744)->primal_0 = (*_S1737).primal_0;
    (&_S1744)->differential_0 = 0.0f;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1745 = _S1741;
    s_bwd_prop_d_sqrt_0(&_S1743, &_S1744, &_S1745);
    DiffPair_float_0 _S1746 = { _S1743.differential_0.primal_0, _S1743.differential_0.differential_0 };
    _S1737->primal_0 = (*_S1737).primal_0;
    _S1737->differential_0 = _S1744.differential_0;
    _S1736->primal_0 = _S1738.primal_0;
    _S1736->differential_0 = _S1746;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_sqrt_0(DiffPair_float_0 * _S1747, float _s_dOut_4)
{
    DiffPair_float_0 _S1748;
    (&_S1748)->primal_0 = (*_S1747).primal_0;
    (&_S1748)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1748, _s_dOut_4);
    _S1747->primal_0 = (*_S1747).primal_0;
    _S1747->differential_0 = _S1748.differential_0;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_length_impl_0(DiffPair_0 * dpdpx_5, DiffPair_float_0 * dp_s_dOut_1, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_9)
{
    DiffPair_0 _S1749 = *dpdpx_5;
    float len_0 = *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->x) * *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->x) + *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->y) * *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->y);
    DiffPair_float_0 _S1750 = { len_0, 0.0f };
    float2  _S1751 = make_float2 (0.0f);
    float _S1752 = (*dpdpx_5).differential_0.differential_0.x;
    float _S1753 = _S1752 + _S1752;
    float _S1754 = (&_s_diff_ctx_9->_S1605)->differential_0 * _S1753;
    float _S1755 = (*dpdpx_5).differential_0.differential_0.y + (*dpdpx_5).differential_0.differential_0.y;
    float _S1756 = (&_s_diff_ctx_9->_S1605)->differential_0 * _S1755;
    DiffPair_float_0 _S1757 = { 0.0f, *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->x) * _S1753 + *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->y) * _S1755 };
    DiffPair_1 _S1758;
    (&_S1758)->primal_0 = _S1750;
    (&_S1758)->differential_0 = _S1757;
    DiffPair_float_0 _S1759;
    (&_S1759)->primal_0 = (*dp_s_dOut_1).primal_0;
    (&_S1759)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_sqrt_0(&_S1758, &_S1759, &_s_diff_ctx_9->_S1606);
    DiffPair_float_0 _S1760;
    (&_S1760)->primal_0 = len_0;
    (&_S1760)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1760, 0.0f);
    float _S1761 = _S1758.differential_0.primal_0 + _S1760.differential_0;
    float _S1762 = *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->y) * _S1761;
    float _S1763 = _S1756 + _S1762 + _S1762;
    float _S1764 = *&((&(&_s_diff_ctx_9->_S1604)->primal_0)->x) * _S1761;
    float _S1765 = _S1754 + _S1764 + _S1764;
    float2  _S1766 = _S1751;
    *&((&_S1766)->y) = _S1763;
    *&((&_S1766)->x) = _S1765;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dpdpx_6 = { _S1749.differential_0.primal_0 + _S1766, _S1751 };
    dp_s_dOut_1->primal_0 = (*dp_s_dOut_1).primal_0;
    dp_s_dOut_1->differential_0 = _S1759.differential_0;
    dpdpx_5->primal_0 = _S1749.primal_0;
    dpdpx_5->differential_0 = dpdpx_6;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_7, float _s_dOut_5)
{
    float _S1767 = (*dpdpx_7).primal_0.x;
    float _S1768 = (*dpdpx_7).primal_0.y;
    DiffPair_float_0 _S1769;
    (&_S1769)->primal_0 = _S1767 * _S1767 + _S1768 * _S1768;
    (&_S1769)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1769, _s_dOut_5);
    float _S1770 = (*dpdpx_7).primal_0.y * _S1769.differential_0;
    float _S1771 = _S1770 + _S1770;
    float _S1772 = (*dpdpx_7).primal_0.x * _S1769.differential_0;
    float _S1773 = _S1772 + _S1772;
    float2  _S1774 = make_float2 (0.0f);
    *&((&_S1774)->y) = _S1771;
    *&((&_S1774)->x) = _S1773;
    dpdpx_7->primal_0 = (*dpdpx_7).primal_0;
    dpdpx_7->differential_0 = _S1774;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_length_impl_0(DiffPair_0 * _S1775, DiffPair_float_0 * _S1776, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_10)
{
    DiffPair_0 _S1777 = *_S1775;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1778 = _s_diff_ctx_10->_S1602;
    float2  _S1779 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1780 = { _S1779, _S1779 };
    DiffPair_float_0 _S1781 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1782 = { _S1781 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1783;
    (&_S1783)->_S1604 = _S1780;
    (&_S1783)->_S1605 = _S1781;
    (&_S1783)->_S1606 = _S1782;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1778, (*_S1776).primal_0, &_S1783);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1784 = { (*_S1775).differential_0.primal_0, (*_S1775).differential_0.differential_0 };
    DiffPair_0 _S1785;
    (&_S1785)->primal_0 = _s_diff_ctx_10->_S1602;
    (&_S1785)->differential_0 = _S1784;
    DiffPair_float_0 _S1786;
    (&_S1786)->primal_0 = (*_S1776).primal_0;
    (&_S1786)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1787 = _S1783;
    s_bwd_prop_s_bwd_prop_length_impl_0(&_S1785, &_S1786, &_S1787);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1788;
    (&_S1788)->primal_0 = (&_s_diff_ctx_10->_S1602)->primal_0;
    (&_S1788)->differential_0 = _S1779;
    s_bwd_prop_s_primal_ctx_length_impl_0(&_S1788, 0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1789 = { _S1785.differential_0.primal_0 + _S1788.differential_0, _S1785.differential_0.differential_0 };
    _S1776->primal_0 = (*_S1776).primal_0;
    _S1776->differential_0 = _S1786.differential_0;
    _S1775->primal_0 = _S1777.primal_0;
    _S1775->differential_0 = _S1789;
    return;
}

inline __device__ void s_bwd_prop_d_atan2_0(DiffPair_1 * dpdpy_1, DiffPair_1 * dpdpx_8, DiffPair_float_0 * dpdOut_3, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_11)
{
    DiffPair_1 _S1790 = *dpdpy_1;
    DiffPair_1 _S1791 = *dpdpx_8;
    float _S1792 = - (&_s_diff_ctx_11->_S1585)->primal_0;
    float _S1793 = (&_s_diff_ctx_11->_S1586)->primal_0 * (&_s_diff_ctx_11->_S1586)->primal_0 + (&_s_diff_ctx_11->_S1585)->primal_0 * (&_s_diff_ctx_11->_S1585)->primal_0;
    float _S1794 = _S1793 * _S1793;
    float _S1795 = (*dpdOut_3).primal_0 * (*dpdpy_1).differential_0.differential_0 / _S1794;
    float _S1796 = (&_s_diff_ctx_11->_S1586)->primal_0 * - _S1795;
    float _S1797 = (&_s_diff_ctx_11->_S1585)->primal_0 * _S1796;
    float _S1798 = (&_s_diff_ctx_11->_S1586)->primal_0 * _S1796;
    float _S1799 = (*dpdOut_3).primal_0 * (*dpdpx_8).differential_0.differential_0 / _S1794;
    float _S1800 = _S1792 * - _S1799;
    float _S1801 = (&_s_diff_ctx_11->_S1585)->primal_0 * _S1800;
    float _S1802 = (&_s_diff_ctx_11->_S1586)->primal_0 * _S1800;
    DiffPair_float_0 dpdpx_9 = { _S1802 + _S1802 + ((*dpdpx_8).differential_0.primal_0 + (_S1798 + _S1798 + _S1793 * _S1795)), 0.0f };
    DiffPair_float_0 dpdpy_2 = { _S1797 + _S1797 + (*dpdpy_1).differential_0.primal_0 + _S1801 + _S1801 + - (_S1793 * _S1799), 0.0f };
    float _S1803 = (&_s_diff_ctx_11->_S1586)->primal_0 / _S1793 * (*dpdpy_1).differential_0.differential_0 + _S1792 / _S1793 * (*dpdpx_8).differential_0.differential_0;
    dpdOut_3->primal_0 = (*dpdOut_3).primal_0;
    dpdOut_3->differential_0 = _S1803;
    dpdpy_1->primal_0 = _S1790.primal_0;
    dpdpy_1->differential_0 = dpdpy_2;
    dpdpx_8->primal_0 = _S1791.primal_0;
    dpdpx_8->differential_0 = dpdpx_9;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_atan2_0(DiffPair_1 * _S1804, DiffPair_1 * _S1805, DiffPair_float_0 * _S1806, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_12)
{
    DiffPair_1 _S1807 = *_S1804;
    DiffPair_1 _S1808 = *_S1805;
    DiffPair_float_0 _S1809 = _s_diff_ctx_12->_S1573;
    DiffPair_float_0 _S1810 = _s_diff_ctx_12->_S1574;
    DiffPair_float_0 _S1811 = { 0.0f, 0.0f };
    s_bwd_prop_d_atan2_Intermediates_0 _S1812;
    (&_S1812)->_S1585 = _S1811;
    (&_S1812)->_S1586 = _S1811;
    s_primal_ctx_d_atan2_0(&_S1809, &_S1810, (*_S1806).primal_0, &_S1812);
    DiffPair_float_0 _S1813 = { (*_S1805).differential_0.primal_0, (*_S1805).differential_0.differential_0 };
    DiffPair_float_0 _S1814 = { (*_S1804).differential_0.primal_0, (*_S1804).differential_0.differential_0 };
    DiffPair_1 _S1815;
    (&_S1815)->primal_0 = _s_diff_ctx_12->_S1573;
    (&_S1815)->differential_0 = _S1814;
    DiffPair_1 _S1816;
    (&_S1816)->primal_0 = _s_diff_ctx_12->_S1574;
    (&_S1816)->differential_0 = _S1813;
    DiffPair_float_0 _S1817;
    (&_S1817)->primal_0 = (*_S1806).primal_0;
    (&_S1817)->differential_0 = 0.0f;
    s_bwd_prop_d_atan2_Intermediates_0 _S1818 = _S1812;
    s_bwd_prop_d_atan2_0(&_S1815, &_S1816, &_S1817, &_S1818);
    DiffPair_float_0 _S1819 = { _S1816.differential_0.primal_0, _S1816.differential_0.differential_0 };
    DiffPair_float_0 _S1820 = { _S1815.differential_0.primal_0, _S1815.differential_0.differential_0 };
    _S1806->primal_0 = (*_S1806).primal_0;
    _S1806->differential_0 = _S1817.differential_0;
    _S1804->primal_0 = _S1807.primal_0;
    _S1804->differential_0 = _S1820;
    _S1805->primal_0 = _S1808.primal_0;
    _S1805->differential_0 = _S1819;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_atan2_0(DiffPair_float_0 * _S1821, DiffPair_float_0 * _S1822, float _s_dOut_6)
{
    DiffPair_float_0 _S1823;
    (&_S1823)->primal_0 = (*_S1821).primal_0;
    (&_S1823)->differential_0 = 0.0f;
    DiffPair_float_0 _S1824;
    (&_S1824)->primal_0 = (*_S1822).primal_0;
    (&_S1824)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S1823, &_S1824, _s_dOut_6);
    _S1822->primal_0 = (*_S1822).primal_0;
    _S1822->differential_0 = _S1824.differential_0;
    _S1821->primal_0 = (*_S1821).primal_0;
    _S1821->differential_0 = _S1823.differential_0;
    return;
}

inline __device__ void s_bwd_prop_fisheye_proj_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean3d_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpcov3d_3, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpintrins_3, DiffPair_arrayx3Cfloatx2C10x3E_0 * dpdist_coeffs_3, Matrix<float, 2, 2>  dpcov2d_3, float2  dpmean2d_3, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_13)
{
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1825 = *dpcov3d_3;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S1826 = *dpintrins_3;
    FixedArray<float, 10>  _S1827 = dpdist_coeffs_3->primal_0;
    float2  _S1828 = make_float2 (0.0f);
    float2  _S1829 = float2 {(*dpmean3d_3).primal_0.x, (*dpmean3d_3).primal_0.y};
    float _S1830 = length_0(_S1829);
    float _S1831 = (*dpmean3d_3).primal_0.z;
    float _S1832 = s_primal_ctx_atan2_0(_S1830, _S1831);
    bool _S1833 = _S1832 < 0.00100000004749745f;
    float k_5;
    float _S1834;
    float _S1835;
    float _S1836;
    if(_S1833)
    {
        float _S1837 = 1.0f - _S1832 * _S1832 / 3.0f;
        float _S1838 = _S1831 * _S1831;
        k_5 = _S1837 / _S1831;
        _S1834 = 0.0f;
        _S1835 = _S1838;
        _S1836 = _S1837;
    }
    else
    {
        float _S1839 = _S1830 * _S1830;
        k_5 = _S1832 / _S1830;
        _S1834 = _S1839;
        _S1835 = 0.0f;
        _S1836 = 0.0f;
    }
    float2  _S1840 = make_float2 (k_5);
    float2  _S1841 = _S1829 * make_float2 (k_5);
    float u_53 = _S1841.x;
    float v_53 = _S1841.y;
    float r2_53 = u_53 * u_53 + v_53 * v_53;
    float _S1842 = _S1827[int(2)] + r2_53 * _S1827[int(3)];
    float _S1843 = _S1827[int(1)] + r2_53 * _S1842;
    float _S1844 = _S1827[int(0)] + r2_53 * _S1843;
    float radial_1 = 1.0f + r2_53 * _S1844;
    float2  _S1845 = make_float2 (radial_1);
    float _S1846 = 2.0f * _S1827[int(4)];
    float _S1847 = _S1846 * u_53;
    float _S1848 = 2.0f * u_53;
    float _S1849 = r2_53 + _S1848 * u_53;
    float _S1850 = 2.0f * _S1827[int(5)];
    float _S1851 = _S1850 * u_53;
    float _S1852 = 2.0f * v_53;
    float _S1853 = r2_53 + _S1852 * v_53;
    float2  _S1854 = _S1841 * make_float2 (radial_1) + make_float2 (_S1847 * v_53 + _S1827[int(5)] * _S1849 + _S1827[int(6)] * r2_53, _S1851 * v_53 + _S1827[int(4)] * _S1853 + _S1827[int(7)] * r2_53);
    float _S1855 = _S1854.x;
    float _S1856 = _S1854.y;
    float2  _S1857 = _S1854 + make_float2 (_S1827[int(8)] * _S1855 + _S1827[int(9)] * _S1856, 0.0f);
    float fx_22 = _S1826.primal_0.x;
    float fy_22 = _S1826.primal_0.y;
    float _S1858 = _S1857.x;
    float _S1859 = _S1857.y;
    Matrix<float, 2, 3>  J_11 = makeMatrix<float, 2, 3> (0.0f);
    float _S1860 = s_primal_ctx_s_primal_ctx_atan2_0(_S1830, _S1831);
    bool _S1861 = _S1860 < 0.00100000004749745f;
    float _S1862;
    float _S1863;
    float _S1864;
    if(_S1861)
    {
        float _S1865 = 1.0f - _S1860 * _S1860 / 3.0f;
        float _S1866 = _S1831 * _S1831;
        k_5 = _S1865 / _S1831;
        _S1862 = 0.0f;
        _S1863 = _S1866;
        _S1864 = _S1865;
    }
    else
    {
        float _S1867 = _S1830 * _S1830;
        k_5 = _S1860 / _S1830;
        _S1862 = _S1867;
        _S1863 = 0.0f;
        _S1864 = 0.0f;
    }
    float2  _S1868 = make_float2 (k_5);
    float2  _S1869 = _S1829 * make_float2 (k_5);
    float u_54 = _S1869.x;
    float v_54 = _S1869.y;
    float r2_54 = u_54 * u_54 + v_54 * v_54;
    float _S1870 = _S1827[int(2)] + r2_54 * _S1827[int(3)];
    float _S1871 = _S1827[int(1)] + r2_54 * _S1870;
    float _S1872 = _S1827[int(0)] + r2_54 * _S1871;
    float2  _S1873 = make_float2 (1.0f + r2_54 * _S1872);
    float _S1874 = _S1846 * u_54;
    float _S1875 = 2.0f * u_54;
    float _S1876 = _S1850 * u_54;
    float _S1877 = 2.0f * v_54;
    float2  _S1878 = make_float2 (fx_22, 0.0f) + make_float2 (_S1827[int(8)] * fx_22, _S1827[int(9)] * fx_22);
    float2  _S1879 = _S1869 * _S1878;
    float _S1880 = _S1827[int(4)] * _S1878.y;
    float _S1881 = v_54 * _S1878.y;
    float _S1882 = _S1827[int(5)] * _S1878.x;
    float _S1883 = v_54 * _S1878.x;
    float _S1884 = _S1879.x + _S1879.y;
    float _S1885 = r2_54 * _S1884;
    float _S1886 = r2_54 * _S1885;
    float _S1887 = r2_54 * _S1886;
    float _S1888 = _S1827[int(7)] * _S1878.y + _S1880 + _S1827[int(6)] * _S1878.x + _S1882 + _S1872 * _S1884 + _S1871 * _S1885 + _S1870 * _S1886 + _S1827[int(3)] * _S1887;
    float _S1889 = v_54 * _S1888;
    float _S1890 = u_54 * _S1888;
    float2  _S1891 = _S1873 * _S1878 + make_float2 (_S1850 * _S1881 + _S1875 * _S1882 + 2.0f * (u_54 * _S1882) + _S1846 * _S1883 + _S1890 + _S1890, _S1877 * _S1880 + 2.0f * (v_54 * _S1880) + _S1876 * _S1878.y + _S1874 * _S1878.x + _S1889 + _S1889);
    float2  _S1892 = _S1829 * _S1891;
    float2  _S1893 = _S1868 * _S1891;
    float _S1894 = _S1892.x + _S1892.y;
    float k_6;
    float _S1895;
    float _S1896;
    float _S1897;
    float _S1898;
    float _S1899;
    float _S1900;
    float _S1901;
    float _S1902;
    if(_S1861)
    {
        float _S1903 = _S1894 / _S1863;
        float _S1904 = _S1863 * _S1863;
        float _S1905 = - _S1903;
        float _S1906 = _S1864 * _S1905;
        float _S1907 = 0.3333333432674408f * - (_S1831 * _S1903);
        float _S1908 = _S1860 * _S1907;
        k_5 = _S1908 + _S1908;
        k_6 = _S1906;
        _S1895 = 0.0f;
        _S1896 = 0.0f;
        _S1897 = 0.0f;
        _S1898 = 0.0f;
        _S1899 = _S1907;
        _S1900 = _S1903;
        _S1901 = _S1905;
        _S1902 = _S1904;
    }
    else
    {
        float _S1909 = _S1894 / _S1862;
        float _S1910 = _S1862 * _S1862;
        float _S1911 = - _S1909;
        float _S1912 = _S1860 * _S1911;
        k_5 = _S1830 * _S1909;
        k_6 = 0.0f;
        _S1895 = _S1912;
        _S1896 = _S1909;
        _S1897 = _S1911;
        _S1898 = _S1910;
        _S1899 = 0.0f;
        _S1900 = 0.0f;
        _S1901 = 0.0f;
        _S1902 = 0.0f;
    }
    DiffPair_float_0 _S1913 = { _S1830, 0.0f };
    DiffPair_float_0 _S1914 = { _S1831, 0.0f };
    float _S1915 = (&_s_diff_ctx_13->_S1576)->differential_0 + k_6;
    float _S1916 = (&_s_diff_ctx_13->_S1575)->differential_0 + _S1895;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1917 = { _S1829, _S1828 };
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1918;
    (&_S1918)->primal_0 = _S1829;
    (&_S1918)->differential_0 = _S1828;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1919 = { _S1828, _S1828 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1920;
    (&_S1920)->_S1602 = _S1919;
    s_primal_ctx_s_bwd_length_impl_0(&_S1918, _S1916, &_S1920);
    float2  _S1921 = _S1918.differential_0 + _S1893;
    float3  _S1922 = make_float3 (_S1921.x, _S1921.y, _S1915);
    Matrix<float, 2, 3>  _S1923 = J_11;
    _S1923[int(0)] = _S1922;
    float _S1924;
    float _S1925;
    if(_S1861)
    {
        float _S1926 = 1.0f - _S1860 * _S1860 / 3.0f;
        float _S1927 = _S1831 * _S1831;
        k_6 = _S1926 / _S1831;
        _S1895 = 0.0f;
        _S1924 = _S1927;
        _S1925 = _S1926;
    }
    else
    {
        float _S1928 = _S1830 * _S1830;
        k_6 = _S1860 / _S1830;
        _S1895 = _S1928;
        _S1924 = 0.0f;
        _S1925 = 0.0f;
    }
    float2  _S1929 = make_float2 (k_6);
    float2  _S1930 = _S1829 * make_float2 (k_6);
    float u_55 = _S1930.x;
    float v_55 = _S1930.y;
    float r2_55 = u_55 * u_55 + v_55 * v_55;
    float _S1931 = _S1827[int(2)] + r2_55 * _S1827[int(3)];
    float _S1932 = _S1827[int(1)] + r2_55 * _S1931;
    float _S1933 = _S1827[int(0)] + r2_55 * _S1932;
    float2  _S1934 = make_float2 (1.0f + r2_55 * _S1933);
    float _S1935 = _S1846 * u_55;
    float _S1936 = 2.0f * u_55;
    float _S1937 = _S1850 * u_55;
    float _S1938 = 2.0f * v_55;
    float2  _S1939 = make_float2 (0.0f, fy_22);
    float2  _S1940 = _S1930 * _S1939;
    float _S1941 = _S1827[int(4)] * fy_22;
    float _S1942 = v_55 * fy_22;
    float _S1943 = _S1940.x + _S1940.y;
    float _S1944 = r2_55 * _S1943;
    float _S1945 = r2_55 * _S1944;
    float _S1946 = r2_55 * _S1945;
    float _S1947 = _S1827[int(7)] * fy_22 + _S1941 + _S1933 * _S1943 + _S1932 * _S1944 + _S1931 * _S1945 + _S1827[int(3)] * _S1946;
    float _S1948 = v_55 * _S1947;
    float _S1949 = u_55 * _S1947;
    float2  _S1950 = _S1934 * _S1939 + make_float2 (_S1850 * _S1942 + _S1949 + _S1949, _S1938 * _S1941 + 2.0f * (v_55 * _S1941) + _S1937 * fy_22 + _S1948 + _S1948);
    float2  _S1951 = _S1829 * _S1950;
    float2  _S1952 = _S1929 * _S1950;
    float _S1953 = _S1951.x + _S1951.y;
    float _S1954;
    float _S1955;
    float _S1956;
    float _S1957;
    float _S1958;
    float _S1959;
    float _S1960;
    float _S1961;
    float _S1962;
    if(_S1861)
    {
        float _S1963 = _S1953 / _S1924;
        float _S1964 = _S1924 * _S1924;
        float _S1965 = - _S1963;
        float _S1966 = _S1925 * _S1965;
        float _S1967 = 0.3333333432674408f * - (_S1831 * _S1963);
        float _S1968 = _S1860 * _S1967;
        k_6 = _S1968 + _S1968;
        _S1954 = _S1966;
        _S1955 = 0.0f;
        _S1956 = 0.0f;
        _S1957 = 0.0f;
        _S1958 = 0.0f;
        _S1959 = _S1967;
        _S1960 = _S1963;
        _S1961 = _S1965;
        _S1962 = _S1964;
    }
    else
    {
        float _S1969 = _S1953 / _S1895;
        float _S1970 = _S1895 * _S1895;
        float _S1971 = - _S1969;
        float _S1972 = _S1860 * _S1971;
        k_6 = _S1830 * _S1969;
        _S1954 = 0.0f;
        _S1955 = _S1972;
        _S1956 = _S1969;
        _S1957 = _S1971;
        _S1958 = _S1970;
        _S1959 = 0.0f;
        _S1960 = 0.0f;
        _S1961 = 0.0f;
        _S1962 = 0.0f;
    }
    float _S1973 = (&_s_diff_ctx_13->_S1579)->differential_0 + _S1954;
    float _S1974 = (&_s_diff_ctx_13->_S1578)->differential_0 + _S1955;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1975;
    (&_S1975)->primal_0 = _S1829;
    (&_S1975)->differential_0 = _S1828;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1976;
    (&_S1976)->_S1602 = _S1919;
    s_primal_ctx_s_bwd_length_impl_0(&_S1975, _S1974, &_S1976);
    float2  _S1977 = _S1975.differential_0 + _S1952;
    float3  _S1978 = make_float3 (_S1977.x, _S1977.y, _S1973);
    _S1923[int(1)] = _S1978;
    Matrix<float, 3, 2>  _S1979 = transpose_1(_S1923);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1980;
    (&_S1980)->primal_0 = s_primal_ctx_mul_2(_S1923, _S1825.primal_0);
    (&_S1980)->differential_0 = J_11;
    Matrix<float, 3, 2>  _S1981 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S1982;
    (&_S1982)->primal_0 = _S1979;
    (&_S1982)->differential_0 = _S1981;
    s_bwd_prop_mul_2(&_S1980, &_S1982, dpcov2d_3);
    Matrix<float, 2, 3>  _S1983 = transpose_2(_S1982.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1984;
    (&_S1984)->primal_0 = _S1923;
    (&_S1984)->differential_0 = J_11;
    Matrix<float, 3, 3>  _S1985 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1986;
    (&_S1986)->primal_0 = _S1825.primal_0;
    (&_S1986)->differential_0 = _S1985;
    s_bwd_prop_mul_3(&_S1984, &_S1986, _S1980.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1987 = _S1986;
    Matrix<float, 2, 3>  _S1988 = _S1983 + _S1984.differential_0;
    float2  _S1989 = _S1828;
    *&((&_S1989)->y) = _S1988.rows[int(1)].y;
    *&((&_S1989)->x) = _S1988.rows[int(1)].x;
    float2  _S1990 = _S1989;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1991 = { _S1828, _S1989 };
    DiffPair_0 _S1992;
    (&_S1992)->primal_0 = _S1917;
    (&_S1992)->differential_0 = _S1991;
    DiffPair_float_0 _S1993;
    (&_S1993)->primal_0 = _S1974;
    (&_S1993)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1994 = _S1976;
    s_bwd_prop_s_bwd_length_impl_0(&_S1992, &_S1993, &_S1994);
    DiffPair_0 _S1995 = _S1992;
    DiffPair_float_0 _S1996 = _S1993;
    DiffPair_float_0 _S1997 = { 0.0f, _S1988.rows[int(1)].z };
    DiffPair_float_0 _S1998 = { 0.0f, _S1993.differential_0 };
    DiffPair_1 _S1999;
    (&_S1999)->primal_0 = _S1913;
    (&_S1999)->differential_0 = _S1998;
    DiffPair_1 _S2000;
    (&_S2000)->primal_0 = _S1914;
    (&_S2000)->differential_0 = _S1997;
    DiffPair_float_0 _S2001;
    (&_S2001)->primal_0 = k_6;
    (&_S2001)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S1999, &_S2000, &_S2001, &_s_diff_ctx_13->_S1580);
    DiffPair_1 _S2002 = _S1999;
    DiffPair_1 _S2003 = _S2000;
    DiffPair_float_0 _S2004 = _S2001;
    if(_S1861)
    {
        float _S2005 = _S2004.differential_0 + _S2004.differential_0;
        float _S2006 = _S1959 * _S2005;
        float _S2007 = - (0.3333333432674408f * (_S1860 * _S2005));
        float _S2008 = _S1961 * _S1988.rows[int(1)].z;
        float _S2009 = (_S1831 * _S2007 + - (_S1925 * _S1988.rows[int(1)].z)) / _S1962;
        float _S2010 = _S1953 * - _S2009;
        float _S2011 = _S1960 * _S2007 + _S2003.differential_0.primal_0;
        k_6 = _S1924 * _S2009;
        _S1954 = 0.0f;
        _S1955 = _S2010;
        _S1956 = _S2008;
        _S1957 = _S2002.differential_0.primal_0;
        _S1958 = _S2006;
        _S1959 = _S2011;
    }
    else
    {
        float _S2012 = _S1957 * _S1996.differential_0;
        float _S2013 = (_S1830 * _S2004.differential_0 + - (_S1860 * _S1996.differential_0)) / _S1958;
        float _S2014 = _S1953 * - _S2013;
        float _S2015 = _S1956 * _S2004.differential_0 + _S2002.differential_0.primal_0;
        k_6 = _S1895 * _S2013;
        _S1954 = _S2014;
        _S1955 = 0.0f;
        _S1956 = 0.0f;
        _S1957 = _S2015;
        _S1958 = _S2012;
        _S1959 = _S2003.differential_0.primal_0;
    }
    float2  _S2016 = _S1929 * _S1990;
    float2  _S2017 = _S1950 * _S1990;
    float2  _S2018 = _S1828;
    *&((&_S2018)->y) = k_6;
    *&((&_S2018)->x) = k_6;
    float2  _S2019 = _S1950 * _S2018;
    float2  _S2020 = _S2016 + _S1829 * _S2018;
    float _S2021 = _S2020.x;
    float _S2022 = _S2021 + _S2021;
    float _S2023 = _S1947 * _S2022;
    float _S2024 = _S2020.y + _S2020.y;
    float _S2025 = _S1947 * _S2024;
    float _S2026 = u_55 * _S2022 + v_55 * _S2024;
    float _S2027 = _S1827[int(3)] * _S2026;
    float _S2028 = _S1946 * _S2026;
    float _S2029 = _S1945 * _S2026;
    float _S2030 = _S1945 * _S2027;
    float _S2031 = _S1944 * _S2026;
    float _S2032 = _S1931 * _S2026 + r2_55 * _S2027;
    float _S2033 = _S1944 * _S2032;
    float _S2034 = _S1943 * _S2026;
    float _S2035 = _S1932 * _S2026 + r2_55 * _S2032;
    float _S2036 = _S1943 * _S2035;
    float _S2037 = _S1933 * _S2026 + r2_55 * _S2035;
    float _S2038 = v_55 * (_S1846 * _S2020.x);
    float _S2039 = _S1935 * _S2020.y;
    float _S2040 = _S1827[int(5)] * (_S2026 + u_55 * (2.0f * _S2020.x) + _S1936 * _S2020.x);
    float _S2041 = _S1827[int(6)] * _S2026;
    float _S2042 = _S1850 * _S2020.x;
    float _S2043 = _S1942 * _S2020.x;
    float _S2044 = v_55 * _S2042;
    float _S2045 = fy_22 * _S2042;
    float _S2046 = _S1937 * _S2020.y;
    float _S2047 = fy_22 * _S2020.y;
    float _S2048 = 2.0f * _S2020.y;
    float _S2049 = _S1941 * _S2048;
    float _S2050 = _S1941 * _S2020.y;
    float _S2051 = _S2026 + v_55 * _S2048 + _S1938 * _S2020.y;
    float _S2052 = _S1827[int(4)] * _S2051;
    float _S2053 = fy_22 * _S2051;
    float _S2054 = _S1827[int(7)] * _S2026;
    float _S2055 = fy_22 * _S2026;
    float2  _S2056 = _S1934 * _S2020;
    float2  _S2057 = _S1939 * _S2020;
    float2  _S2058 = _S1828;
    *&((&_S2058)->y) = _S2037;
    *&((&_S2058)->x) = _S2037;
    float2  _S2059 = _S1939 * _S2058;
    float _S2060 = _S2044 + _S2046 + _S2052 + _S2054;
    float _S2061 = _S2038 + _S2039 + _S2040 + _S2041;
    float2  _S2062 = _S2056 + _S1930 * _S2058;
    float2  _S2063 = _S1828;
    *&((&_S2063)->y) = _S2060;
    *&((&_S2063)->x) = _S2061;
    float2  _S2064 = _S2062 + _S2063;
    float _S2065 = _S2057.x + _S2057.y;
    float _S2066 = _S2034 + r2_55 * _S2065;
    float _S2067 = _S2031 + r2_55 * _S2066;
    float _S2068 = _S2029 + r2_55 * _S2067;
    float _S2069 = _S2030 + _S2033 + _S2036 + _S1933 * _S2065 + _S1932 * _S2066 + _S1931 * _S2067 + _S1827[int(3)] * _S2068;
    float _S2070 = v_55 * _S2069;
    float _S2071 = u_55 * _S2069;
    float2  _S2072 = _S2019 + _S1995.differential_0.primal_0;
    float2  _S2073 = _S2059 + make_float2 (_S2023 + _S1850 * _S2047 + _S2071 + _S2071, _S2025 + _S2045 + _S2049 + 2.0f * _S2050 + _S2070 + _S2070);
    float _S2074 = _S2043 + u_55 * _S2047;
    float _S2075 = _S2028 + r2_55 * _S2068;
    float2  _S2076 = _S1829 * _S2073;
    float _S2077 = _S2017.x + _S2017.y + _S2076.x + _S2076.y;
    float2  _S2078 = _S1929 * _S2073 + _S2072;
    if(_S1861)
    {
        float _S2079 = _S1831 * _S1955;
        float _S2080 = _S2077 / _S1924;
        float _S2081 = _S1860 * (0.3333333432674408f * - (_S1956 + _S1831 * _S2080));
        float _S2082 = _S2079 + _S2079 + _S1925 * - _S2080 + _S1959;
        k_6 = _S2081 + _S2081 + _S1958;
        _S1895 = _S2082;
        _S1924 = _S1957;
    }
    else
    {
        float _S2083 = _S1830 * _S1954;
        float _S2084 = _S2077 / _S1895;
        float _S2085 = _S2083 + _S2083 + _S1860 * - _S2084 + _S1957;
        k_6 = _S1830 * _S2084 + _S1958;
        _S1895 = _S1959;
        _S1924 = _S2085;
    }
    DiffPair_float_0 _S2086;
    (&_S2086)->primal_0 = _S1830;
    (&_S2086)->differential_0 = 0.0f;
    DiffPair_float_0 _S2087;
    (&_S2087)->primal_0 = _S1831;
    (&_S2087)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S2086, &_S2087, k_6);
    float _S2088 = _S2087.differential_0 + _S1895;
    float _S2089 = _S2086.differential_0 + _S1924;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2090;
    (&_S2090)->primal_0 = _S1829;
    (&_S2090)->differential_0 = _S1828;
    s_bwd_length_impl_0(&_S2090, _S2089);
    float2  _S2091 = _S2090.differential_0 + _S2078;
    float3  _S2092 = make_float3 (_S2091.x, _S2091.y, _S2088);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2093;
    (&_S2093)->primal_0 = _S1829;
    (&_S2093)->differential_0 = _S1828;
    s_bwd_length_impl_0(&_S2093, 0.0f);
    float3  _S2094 = _S2092 + make_float3 (_S2093.differential_0.x, _S2093.differential_0.y, 0.0f);
    float2  _S2095 = _S1828;
    *&((&_S2095)->y) = _S1988.rows[int(0)].y;
    *&((&_S2095)->x) = _S1988.rows[int(0)].x;
    float2  _S2096 = _S2095;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2097 = { _S1828, _S2095 };
    DiffPair_0 _S2098;
    (&_S2098)->primal_0 = _S1917;
    (&_S2098)->differential_0 = _S2097;
    DiffPair_float_0 _S2099;
    (&_S2099)->primal_0 = _S1916;
    (&_S2099)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S2100 = _S1920;
    s_bwd_prop_s_bwd_length_impl_0(&_S2098, &_S2099, &_S2100);
    DiffPair_0 _S2101 = _S2098;
    DiffPair_float_0 _S2102 = _S2099;
    DiffPair_float_0 _S2103 = { 0.0f, _S1988.rows[int(0)].z };
    DiffPair_float_0 _S2104 = { 0.0f, _S2099.differential_0 };
    DiffPair_1 _S2105;
    (&_S2105)->primal_0 = _S1913;
    (&_S2105)->differential_0 = _S2104;
    DiffPair_1 _S2106;
    (&_S2106)->primal_0 = _S1914;
    (&_S2106)->differential_0 = _S2103;
    DiffPair_float_0 _S2107;
    (&_S2107)->primal_0 = k_5;
    (&_S2107)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S2105, &_S2106, &_S2107, &_s_diff_ctx_13->_S1577);
    DiffPair_1 _S2108 = _S2105;
    DiffPair_1 _S2109 = _S2106;
    DiffPair_float_0 _S2110 = _S2107;
    if(_S1861)
    {
        float _S2111 = _S2110.differential_0 + _S2110.differential_0;
        float _S2112 = _S1899 * _S2111;
        float _S2113 = - (0.3333333432674408f * (_S1860 * _S2111));
        float _S2114 = _S1901 * _S1988.rows[int(0)].z;
        float _S2115 = (_S1831 * _S2113 + - (_S1864 * _S1988.rows[int(0)].z)) / _S1902;
        float _S2116 = _S1894 * - _S2115;
        float _S2117 = _S1900 * _S2113 + _S2109.differential_0.primal_0;
        k_5 = _S1863 * _S2115;
        k_6 = 0.0f;
        _S1895 = _S2116;
        _S1896 = _S2114;
        _S1897 = _S2108.differential_0.primal_0;
        _S1898 = _S2112;
        _S1899 = _S2117;
    }
    else
    {
        float _S2118 = _S1897 * _S2102.differential_0;
        float _S2119 = (_S1830 * _S2110.differential_0 + - (_S1860 * _S2102.differential_0)) / _S1898;
        float _S2120 = _S1894 * - _S2119;
        float _S2121 = _S1896 * _S2110.differential_0 + _S2108.differential_0.primal_0;
        k_5 = _S1862 * _S2119;
        k_6 = _S2120;
        _S1895 = 0.0f;
        _S1896 = 0.0f;
        _S1897 = _S2121;
        _S1898 = _S2118;
        _S1899 = _S2109.differential_0.primal_0;
    }
    float2  _S2122 = _S1868 * _S2096;
    float2  _S2123 = _S1891 * _S2096;
    float2  _S2124 = _S1828;
    *&((&_S2124)->y) = k_5;
    *&((&_S2124)->x) = k_5;
    float2  _S2125 = _S1891 * _S2124;
    float2  _S2126 = _S2122 + _S1829 * _S2124;
    float _S2127 = _S2126.x;
    float _S2128 = _S2127 + _S2127;
    float _S2129 = _S1888 * _S2128;
    float _S2130 = _S2126.y + _S2126.y;
    float _S2131 = _S1888 * _S2130;
    float _S2132 = u_54 * _S2128 + v_54 * _S2130;
    float _S2133 = _S1827[int(3)] * _S2132;
    float _S2134 = _S1887 * _S2132;
    float _S2135 = _S1886 * _S2132;
    float _S2136 = _S1886 * _S2133;
    float _S2137 = _S1885 * _S2132;
    float _S2138 = _S1870 * _S2132 + r2_54 * _S2133;
    float _S2139 = _S1885 * _S2138;
    float _S2140 = _S1884 * _S2132;
    float _S2141 = _S1871 * _S2132 + r2_54 * _S2138;
    float _S2142 = _S1884 * _S2141;
    float _S2143 = _S1872 * _S2132 + r2_54 * _S2141;
    float _S2144 = _S1846 * _S2126.x;
    float _S2145 = _S1883 * _S2126.x;
    float _S2146 = v_54 * _S2144;
    float _S2147 = _S1878.x * _S2144;
    float _S2148 = _S1874 * _S2126.y;
    float _S2149 = _S1878.x * _S2126.y;
    float _S2150 = 2.0f * _S2126.x;
    float _S2151 = _S1882 * _S2150;
    float _S2152 = _S1882 * _S2126.x;
    float _S2153 = _S2132 + u_54 * _S2150 + _S1875 * _S2126.x;
    float _S2154 = _S1827[int(5)] * _S2153;
    float _S2155 = _S1878.x * _S2153;
    float _S2156 = _S1827[int(6)] * _S2132;
    float _S2157 = _S1878.x * _S2132;
    float _S2158 = _S1850 * _S2126.x;
    float _S2159 = _S1881 * _S2126.x;
    float _S2160 = v_54 * _S2158;
    float _S2161 = _S1878.y * _S2158;
    float _S2162 = _S1876 * _S2126.y;
    float _S2163 = _S1878.y * _S2126.y;
    float _S2164 = 2.0f * _S2126.y;
    float _S2165 = _S1880 * _S2164;
    float _S2166 = _S1880 * _S2126.y;
    float _S2167 = _S2132 + v_54 * _S2164 + _S1877 * _S2126.y;
    float _S2168 = _S1827[int(4)] * _S2167;
    float _S2169 = _S1878.y * _S2167;
    float _S2170 = _S1827[int(7)] * _S2132;
    float _S2171 = _S1878.y * _S2132;
    float2  _S2172 = _S1873 * _S2126;
    float2  _S2173 = _S1878 * _S2126;
    float2  _S2174 = _S1828;
    *&((&_S2174)->y) = _S2143;
    *&((&_S2174)->x) = _S2143;
    float2  _S2175 = _S1878 * _S2174;
    float _S2176 = _S2160 + _S2162 + _S2168 + _S2170;
    float _S2177 = _S2146 + _S2148 + _S2154 + _S2156;
    float2  _S2178 = _S2172 + _S1869 * _S2174;
    float2  _S2179 = _S1828;
    *&((&_S2179)->y) = _S2176;
    *&((&_S2179)->x) = _S2177;
    float2  _S2180 = _S2178 + _S2179;
    float _S2181 = fx_22 * _S2180.x;
    float _S2182 = fx_22 * _S2180.y;
    float _S2183 = _S2173.x + _S2173.y;
    float _S2184 = _S2140 + r2_54 * _S2183;
    float _S2185 = _S2137 + r2_54 * _S2184;
    float _S2186 = _S2135 + r2_54 * _S2185;
    float _S2187 = _S2136 + _S2139 + _S2142 + _S1872 * _S2183 + _S1871 * _S2184 + _S1870 * _S2185 + _S1827[int(3)] * _S2186;
    float _S2188 = v_54 * _S2187;
    float _S2189 = u_54 * _S2187;
    float2  _S2190 = _S2125 + _S2101.differential_0.primal_0;
    float _S2191 = _S2171 + _S2055;
    float _S2192 = _S2145 + u_54 * _S2149;
    float _S2193 = _S1827[int(8)] * _S2180.x + _S1827[int(9)] * _S2180.y + _S2180.x;
    float _S2194 = _S2185 + _S2067;
    float _S2195 = _S2184 + _S2066;
    float2  _S2196 = _S2175 + make_float2 (_S2129 + _S2151 + _S1850 * _S2163 + 2.0f * _S2152 + _S1846 * _S2149 + _S2189 + _S2189, _S2131 + _S2147 + _S2161 + _S2165 + 2.0f * _S2166 + _S2188 + _S2188);
    float _S2197 = _S2159 + u_54 * _S2163 + _S2074;
    float _S2198 = _S2134 + r2_54 * _S2186 + _S2075;
    float _S2199 = _S2186 + _S2068;
    float _S2200 = _S2169 + _S2053;
    float2  _S2201 = _S1829 * _S2196;
    float _S2202 = _S2123.x + _S2123.y + _S2201.x + _S2201.y;
    float2  _S2203 = _S1868 * _S2196 + _S2190;
    if(_S1861)
    {
        float _S2204 = _S1831 * _S1895;
        float _S2205 = _S2202 / _S1863;
        float _S2206 = _S1860 * (0.3333333432674408f * - (_S1896 + _S1831 * _S2205));
        float _S2207 = _S2204 + _S2204 + _S1864 * - _S2205 + _S1899;
        k_5 = _S2206 + _S2206 + _S1898;
        _S1862 = _S2207;
        _S1863 = _S1897;
    }
    else
    {
        float _S2208 = _S1830 * k_6;
        float _S2209 = _S2202 / _S1862;
        float _S2210 = _S2208 + _S2208 + _S1860 * - _S2209 + _S1897;
        k_5 = _S1830 * _S2209 + _S1898;
        _S1862 = _S1899;
        _S1863 = _S2210;
    }
    DiffPair_float_0 _S2211;
    (&_S2211)->primal_0 = _S1830;
    (&_S2211)->differential_0 = 0.0f;
    DiffPair_float_0 _S2212;
    (&_S2212)->primal_0 = _S1831;
    (&_S2212)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S2211, &_S2212, k_5);
    float _S2213 = _S2212.differential_0 + _S1862;
    float _S2214 = _S2211.differential_0 + _S1863;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2215;
    (&_S2215)->primal_0 = _S1829;
    (&_S2215)->differential_0 = _S1828;
    s_bwd_length_impl_0(&_S2215, _S2214);
    float2  _S2216 = _S2215.differential_0 + _S2203;
    float3  _S2217 = make_float3 (_S2216.x, _S2216.y, _S2213);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2218;
    (&_S2218)->primal_0 = _S1829;
    (&_S2218)->differential_0 = _S1828;
    s_bwd_length_impl_0(&_S2218, 0.0f);
    float _S2219 = fx_22 * dpmean2d_3.x;
    float2  _S2220 = make_float2 (_S2219, fy_22 * dpmean2d_3.y) + make_float2 (_S1827[int(8)] * _S2219, _S1827[int(9)] * _S2219);
    float2  _S2221 = _S1841 * _S2220;
    float2  _S2222 = _S1845 * _S2220;
    float _S2223 = _S1827[int(4)] * _S2220.y;
    float _S2224 = v_53 * _S2220.y;
    float _S2225 = _S1827[int(5)] * _S2220.x;
    float _S2226 = v_53 * _S2220.x;
    float _S2227 = _S2221.x + _S2221.y;
    float _S2228 = r2_53 * _S2227;
    float _S2229 = r2_53 * _S2228;
    float _S2230 = r2_53 * _S2229;
    float _S2231 = _S1827[int(7)] * _S2220.y + _S2223 + _S1827[int(6)] * _S2220.x + _S2225 + _S1844 * _S2227 + _S1843 * _S2228 + _S1842 * _S2229 + _S1827[int(3)] * _S2230;
    float _S2232 = v_53 * _S2231;
    float _S2233 = u_53 * _S2231;
    float _S2234 = _S1852 * _S2223 + 2.0f * (v_53 * _S2223) + _S1851 * _S2220.y + _S1847 * _S2220.x + _S2232 + _S2232;
    float _S2235 = _S1850 * _S2224 + _S1848 * _S2225 + 2.0f * (u_53 * _S2225) + _S1846 * _S2226 + _S2233 + _S2233;
    float _S2236 = _S1856 * _S2219 + _S2182;
    float _S2237 = _S1855 * _S2219 + _S2181;
    float _S2238 = r2_53 * _S2220.y + _S2191;
    float _S2239 = r2_53 * _S2220.x + _S2157;
    float _S2240 = 2.0f * (u_53 * _S2224 + _S2197) + _S1849 * _S2220.x + _S2155;
    float _S2241 = _S1853 * _S2220.y + 2.0f * (u_53 * _S2226 + _S2192) + _S2200;
    float _S2242 = r2_53 * _S2230 + _S2198;
    float _S2243 = _S2230 + _S2199;
    float _S2244 = _S2229 + _S2194;
    float _S2245 = _S2228 + _S2195;
    float3  _S2246 = _S2217 + make_float3 (_S2218.differential_0.x, _S2218.differential_0.y, 0.0f) + _S2094;
    float4  _S2247 = make_float4 (_S1858 * dpmean2d_3.x + _S2193, _S1859 * dpmean2d_3.y + _S2064.y, dpmean2d_3.x, dpmean2d_3.y);
    FixedArray<float, 10>  _S2248;
    _S2248[int(0)] = 0.0f;
    _S2248[int(1)] = 0.0f;
    _S2248[int(2)] = 0.0f;
    _S2248[int(3)] = 0.0f;
    _S2248[int(4)] = 0.0f;
    _S2248[int(5)] = 0.0f;
    _S2248[int(6)] = 0.0f;
    _S2248[int(7)] = 0.0f;
    _S2248[int(8)] = 0.0f;
    _S2248[int(9)] = 0.0f;
    _S2248[int(9)] = _S2236;
    _S2248[int(8)] = _S2237;
    _S2248[int(7)] = _S2238;
    _S2248[int(6)] = _S2239;
    _S2248[int(5)] = _S2240;
    _S2248[int(4)] = _S2241;
    _S2248[int(3)] = _S2242;
    _S2248[int(2)] = _S2243;
    _S2248[int(1)] = _S2244;
    _S2248[int(0)] = _S2245;
    FixedArray<float, 10>  _S2249 = {
        _S2248[int(0)], _S2248[int(1)], _S2248[int(2)], _S2248[int(3)], _S2248[int(4)], _S2248[int(5)], _S2248[int(6)], _S2248[int(7)], _S2248[int(8)], _S2248[int(9)]
    };
    float2  _S2250 = _S2222 + make_float2 (_S2235, _S2234);
    float2  _S2251 = _S1829 * _S2250;
    float2  _S2252 = _S1840 * _S2250;
    float _S2253 = _S2251.x + _S2251.y;
    if(_S1833)
    {
        float _S2254 = _S2253 / _S1835;
        float _S2255 = _S1836 * - _S2254;
        float _S2256 = _S1832 * (0.3333333432674408f * - (_S1831 * _S2254));
        k_5 = _S2256 + _S2256;
        _S1834 = _S2255;
        _S1835 = 0.0f;
    }
    else
    {
        float _S2257 = _S2253 / _S1834;
        float _S2258 = _S1832 * - _S2257;
        k_5 = _S1830 * _S2257;
        _S1834 = 0.0f;
        _S1835 = _S2258;
    }
    DiffPair_float_0 _S2259;
    (&_S2259)->primal_0 = _S1830;
    (&_S2259)->differential_0 = 0.0f;
    DiffPair_float_0 _S2260;
    (&_S2260)->primal_0 = _S1831;
    (&_S2260)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S2259, &_S2260, k_5);
    float _S2261 = _S2260.differential_0 + _S1834;
    float _S2262 = _S2259.differential_0 + _S1835;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S2263;
    (&_S2263)->primal_0 = _S1829;
    (&_S2263)->differential_0 = _S1828;
    s_bwd_length_impl_0(&_S2263, _S2262);
    float2  _S2264 = _S2263.differential_0 + _S2252;
    dpdist_coeffs_3->primal_0 = dpdist_coeffs_3->primal_0;
    dpdist_coeffs_3->differential_0 = _S2249;
    dpintrins_3->primal_0 = (*dpintrins_3).primal_0;
    dpintrins_3->differential_0 = _S2247;
    dpcov3d_3->primal_0 = (*dpcov3d_3).primal_0;
    dpcov3d_3->differential_0 = _S1987.differential_0;
    float3  _S2265 = _S2246 + make_float3 (_S2264.x, _S2264.y, _S2261);
    dpmean3d_3->primal_0 = (*dpmean3d_3).primal_0;
    dpmean3d_3->differential_0 = _S2265;
    return;
}

inline __device__ void projection_3dgs_fisheye_vjp(bool antialiased_11, float3  mean_12, float4  quat_15, float3  scale_14, float in_opacity_11, FixedArray<float3 , 16>  * sh_coeffs_11, Matrix<float, 3, 3>  R_18, float3  t_14, float fx_23, float fy_23, float cx_18, float cy_18, FixedArray<float, 10>  * dist_coeffs_26, uint image_width_11, uint image_height_11, float2  v_mean2d_1, float v_depth_1, float3  v_conic_1, float v_opacity_1, float3  v_rgb_1, float3  * v_mean_1, float4  * v_quat_1, float3  * v_scale_1, float * v_in_opacity_1, FixedArray<float3 , 16>  * v_sh_coeffs_1, Matrix<float, 3, 3>  * v_R_3, float3  * v_t_2)
{
    Matrix<float, 2, 2>  _S2266 = makeMatrix<float, 2, 2> (0.0f);
    DiffPair_float_0 _S2267 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S2268 = { _S2267, _S2267 };
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S2269 = { _S2267, _S2267, _S2268, _S2267, _S2267, _S2268 };
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S2270;
    (&_S2270)->_S1581 = _S2266;
    (&_S2270)->_S1582 = _S2269;
    float3  mean_c_11 = s_primal_ctx_mul_0(R_18, mean_12) + t_14;
    float4  intrins_15 = make_float4 (fx_23, fy_23, cx_18, cy_18);
    float3  _S2271 = s_primal_ctx_exp_0(scale_14);
    float _S2272 = quat_15.y;
    float x2_15 = _S2272 * _S2272;
    float y2_15 = quat_15.z * quat_15.z;
    float z2_26 = quat_15.w * quat_15.w;
    float xy_15 = quat_15.y * quat_15.z;
    float xz_15 = quat_15.y * quat_15.w;
    float yz_15 = quat_15.z * quat_15.w;
    float wx_15 = quat_15.x * quat_15.y;
    float wy_15 = quat_15.x * quat_15.z;
    float wz_15 = quat_15.x * quat_15.w;
    Matrix<float, 3, 3>  _S2273 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_15 + z2_26), 2.0f * (xy_15 + wz_15), 2.0f * (xz_15 - wy_15), 2.0f * (xy_15 - wz_15), 1.0f - 2.0f * (x2_15 + z2_26), 2.0f * (yz_15 + wx_15), 2.0f * (xz_15 + wy_15), 2.0f * (yz_15 - wx_15), 1.0f - 2.0f * (x2_15 + y2_15)));
    Matrix<float, 3, 3>  S_1 = makeMatrix<float, 3, 3> (_S2271.x, 0.0f, 0.0f, 0.0f, _S2271.y, 0.0f, 0.0f, 0.0f, _S2271.z);
    Matrix<float, 3, 3>  _S2274 = s_primal_ctx_mul_1(_S2273, S_1);
    Matrix<float, 3, 3>  _S2275 = transpose_0(_S2274);
    Matrix<float, 3, 3>  _S2276 = s_primal_ctx_mul_1(_S2274, _S2275);
    Matrix<float, 3, 3>  _S2277 = s_primal_ctx_mul_1(R_18, _S2276);
    Matrix<float, 3, 3>  _S2278 = transpose_0(R_18);
    Matrix<float, 3, 3>  _S2279 = s_primal_ctx_mul_1(_S2277, _S2278);
    Matrix<float, 2, 2>  _S2280 = _S2266;
    float2  _S2281 = make_float2 (0.0f);
    float2  _S2282 = _S2281;
    bool _S2283 = s_primal_ctx_fisheye_proj_3dgs_0(mean_c_11, _S2279, intrins_15, dist_coeffs_26, &_S2280, &_S2282, &(&_S2270)->_S1582);
    (&_S2270)->_S1581 = _S2280;
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S2284 = _S2270;
    float _S2285 = _S2270._S1581.rows[int(0)].y * _S2270._S1581.rows[int(1)].x;
    float det_orig_12 = _S2270._S1581.rows[int(0)].x * _S2270._S1581.rows[int(1)].y - _S2285;
    float _S2286 = _S2270._S1581.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2287 = _S2270._S1581;
    *&(((&_S2287)->rows + (int(0)))->x) = _S2286;
    float _S2288 = _S2270._S1581.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2287)->rows + (int(1)))->y) = _S2288;
    Matrix<float, 2, 2>  _S2289 = _S2287;
    Matrix<float, 2, 2>  _S2290 = _S2287;
    float det_blur_7 = _S2286 * _S2288 - _S2285;
    float _S2291 = det_orig_12 / det_blur_7;
    float _S2292 = det_blur_7 * det_blur_7;
    float _S2293 = s_primal_ctx_max_0(0.0f, _S2291);
    float _S2294 = s_primal_ctx_sqrt_0(_S2293);
    float invdet_8 = 1.0f / det_blur_7;
    float _S2295 = - _S2270._S1581.rows[int(0)].y;
    float _S2296 = - _S2270._S1581.rows[int(1)].x;
    float _S2297 = - in_opacity_11;
    float _S2298 = 1.0f + s_primal_ctx_exp_1(_S2297);
    float _S2299 = 1.0f / _S2298;
    float _S2300 = _S2298 * _S2298;
    float _S2301;
    if(antialiased_11)
    {
        _S2301 = _S2299 * _S2294;
    }
    else
    {
        _S2301 = _S2299;
    }
    float _S2302 = _S2301 / 0.00392156885936856f;
    float _S2303 = 2.0f * s_primal_ctx_log_0(_S2302);
    float _S2304 = s_primal_ctx_sqrt_0(_S2303);
    float _S2305 = _S2289.rows[int(0)].x;
    float _S2306 = _S2290.rows[int(1)].y;
    float3  _S2307 = mean_12 - - s_primal_ctx_mul_0(_S2278, t_14);
    float _S2308 = _S2307.x;
    float _S2309 = _S2307.y;
    float _S2310 = _S2307.z;
    float _S2311 = _S2308 * _S2308 + _S2309 * _S2309 + _S2310 * _S2310;
    float _S2312 = s_primal_ctx_sqrt_0(_S2311);
    float x_36 = _S2308 / _S2312;
    float3  _S2313 = make_float3 (x_36);
    float _S2314 = _S2312 * _S2312;
    float y_14 = _S2309 / _S2312;
    float z_11 = _S2310 / _S2312;
    float3  _S2315 = make_float3 (z_11);
    float _S2316 = - y_14;
    float3  _S2317 = make_float3 (_S2316);
    float z2_27 = z_11 * z_11;
    float fTmp0B_11 = -1.09254848957061768f * z_11;
    float fC1_11 = x_36 * x_36 - y_14 * y_14;
    float _S2318 = 2.0f * x_36;
    float fS1_11 = _S2318 * y_14;
    float pSH6_1 = 0.94617468118667603f * z2_27 - 0.31539157032966614f;
    float3  _S2319 = make_float3 (pSH6_1);
    float pSH7_1 = fTmp0B_11 * x_36;
    float3  _S2320 = make_float3 (pSH7_1);
    float pSH5_1 = fTmp0B_11 * y_14;
    float3  _S2321 = make_float3 (pSH5_1);
    float pSH8_1 = 0.54627424478530884f * fC1_11;
    float3  _S2322 = make_float3 (pSH8_1);
    float pSH4_1 = 0.54627424478530884f * fS1_11;
    float3  _S2323 = make_float3 (pSH4_1);
    float fTmp0C_11 = -2.28522896766662598f * z2_27 + 0.4570457935333252f;
    float fTmp1B_11 = 1.44530570507049561f * z_11;
    float _S2324 = 1.86588168144226074f * z2_27 - 1.11952900886535645f;
    float pSH12_1 = z_11 * _S2324;
    float3  _S2325 = make_float3 (pSH12_1);
    float pSH13_1 = fTmp0C_11 * x_36;
    float3  _S2326 = make_float3 (pSH13_1);
    float pSH11_1 = fTmp0C_11 * y_14;
    float3  _S2327 = make_float3 (pSH11_1);
    float pSH14_1 = fTmp1B_11 * fC1_11;
    float3  _S2328 = make_float3 (pSH14_1);
    float pSH10_1 = fTmp1B_11 * fS1_11;
    float3  _S2329 = make_float3 (pSH10_1);
    float pSH15_1 = -0.59004360437393188f * (x_36 * fC1_11 - y_14 * fS1_11);
    float3  _S2330 = make_float3 (pSH15_1);
    float pSH9_1 = -0.59004360437393188f * (x_36 * fS1_11 + y_14 * fC1_11);
    float3  _S2331 = make_float3 (pSH9_1);
    float3  _S2332 = make_float3 (0.0f);
    float3  _S2333 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2334;
    (&_S2334)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_11)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2316) * (*sh_coeffs_11)[int(1)] + make_float3 (z_11) * (*sh_coeffs_11)[int(2)] - make_float3 (x_36) * (*sh_coeffs_11)[int(3)]) + (make_float3 (pSH4_1) * (*sh_coeffs_11)[int(4)] + make_float3 (pSH5_1) * (*sh_coeffs_11)[int(5)] + make_float3 (pSH6_1) * (*sh_coeffs_11)[int(6)] + make_float3 (pSH7_1) * (*sh_coeffs_11)[int(7)] + make_float3 (pSH8_1) * (*sh_coeffs_11)[int(8)]) + (make_float3 (pSH9_1) * (*sh_coeffs_11)[int(9)] + make_float3 (pSH10_1) * (*sh_coeffs_11)[int(10)] + make_float3 (pSH11_1) * (*sh_coeffs_11)[int(11)] + make_float3 (pSH12_1) * (*sh_coeffs_11)[int(12)] + make_float3 (pSH13_1) * (*sh_coeffs_11)[int(13)] + make_float3 (pSH14_1) * (*sh_coeffs_11)[int(14)] + make_float3 (pSH15_1) * (*sh_coeffs_11)[int(15)]) + make_float3 (0.5f);
    (&_S2334)->differential_0 = _S2333;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2335;
    (&_S2335)->primal_0 = _S2332;
    (&_S2335)->differential_0 = _S2333;
    s_bwd_prop_max_0(&_S2334, &_S2335, v_rgb_1);
    float3  _S2336 = _S2330 * _S2334.differential_0;
    float3  _S2337 = (*sh_coeffs_11)[int(15)] * _S2334.differential_0;
    float3  _S2338 = _S2328 * _S2334.differential_0;
    float3  _S2339 = (*sh_coeffs_11)[int(14)] * _S2334.differential_0;
    float3  _S2340 = _S2326 * _S2334.differential_0;
    float3  _S2341 = (*sh_coeffs_11)[int(13)] * _S2334.differential_0;
    float3  _S2342 = _S2325 * _S2334.differential_0;
    float3  _S2343 = (*sh_coeffs_11)[int(12)] * _S2334.differential_0;
    float3  _S2344 = _S2327 * _S2334.differential_0;
    float3  _S2345 = (*sh_coeffs_11)[int(11)] * _S2334.differential_0;
    float3  _S2346 = _S2329 * _S2334.differential_0;
    float3  _S2347 = (*sh_coeffs_11)[int(10)] * _S2334.differential_0;
    float3  _S2348 = _S2331 * _S2334.differential_0;
    float3  _S2349 = (*sh_coeffs_11)[int(9)] * _S2334.differential_0;
    float s_diff_fS2_T_1 = -0.59004360437393188f * (_S2349.x + _S2349.y + _S2349.z);
    float s_diff_fC2_T_1 = -0.59004360437393188f * (_S2337.x + _S2337.y + _S2337.z);
    float _S2350 = _S2347.x + _S2347.y + _S2347.z;
    float _S2351 = _S2339.x + _S2339.y + _S2339.z;
    float _S2352 = _S2345.x + _S2345.y + _S2345.z;
    float _S2353 = _S2341.x + _S2341.y + _S2341.z;
    float _S2354 = _S2343.x + _S2343.y + _S2343.z;
    float _S2355 = - s_diff_fC2_T_1;
    float3  _S2356 = _S2322 * _S2334.differential_0;
    float3  _S2357 = (*sh_coeffs_11)[int(8)] * _S2334.differential_0;
    float3  _S2358 = _S2320 * _S2334.differential_0;
    float3  _S2359 = (*sh_coeffs_11)[int(7)] * _S2334.differential_0;
    float3  _S2360 = _S2319 * _S2334.differential_0;
    float3  _S2361 = (*sh_coeffs_11)[int(6)] * _S2334.differential_0;
    float3  _S2362 = _S2321 * _S2334.differential_0;
    float3  _S2363 = (*sh_coeffs_11)[int(5)] * _S2334.differential_0;
    float3  _S2364 = _S2323 * _S2334.differential_0;
    float3  _S2365 = (*sh_coeffs_11)[int(4)] * _S2334.differential_0;
    float _S2366 = _S2363.x + _S2363.y + _S2363.z;
    float _S2367 = _S2359.x + _S2359.y + _S2359.z;
    float _S2368 = fTmp1B_11 * _S2350 + x_36 * s_diff_fS2_T_1 + y_14 * _S2355 + 0.54627424478530884f * (_S2365.x + _S2365.y + _S2365.z);
    float _S2369 = fTmp1B_11 * _S2351 + y_14 * s_diff_fS2_T_1 + x_36 * s_diff_fC2_T_1 + 0.54627424478530884f * (_S2357.x + _S2357.y + _S2357.z);
    float _S2370 = y_14 * - _S2369;
    float _S2371 = x_36 * _S2369;
    float _S2372 = z_11 * (1.86588168144226074f * (z_11 * _S2354) + -2.28522896766662598f * (y_14 * _S2352 + x_36 * _S2353) + 0.94617468118667603f * (_S2361.x + _S2361.y + _S2361.z));
    float3  _S2373 = make_float3 (0.48860251903533936f) * _S2334.differential_0;
    float3  _S2374 = - _S2373;
    float3  _S2375 = _S2313 * _S2374;
    float3  _S2376 = (*sh_coeffs_11)[int(3)] * _S2374;
    float3  _S2377 = _S2315 * _S2373;
    float3  _S2378 = (*sh_coeffs_11)[int(2)] * _S2373;
    float3  _S2379 = _S2317 * _S2373;
    float3  _S2380 = (*sh_coeffs_11)[int(1)] * _S2373;
    float _S2381 = (_S2324 * _S2354 + 1.44530570507049561f * (fS1_11 * _S2350 + fC1_11 * _S2351) + -1.09254848957061768f * (y_14 * _S2366 + x_36 * _S2367) + _S2372 + _S2372 + _S2378.x + _S2378.y + _S2378.z) / _S2314;
    float _S2382 = _S2312 * _S2381;
    float _S2383 = (fTmp0C_11 * _S2352 + fC1_11 * s_diff_fS2_T_1 + fS1_11 * _S2355 + fTmp0B_11 * _S2366 + _S2318 * _S2368 + _S2370 + _S2370 + - (_S2380.x + _S2380.y + _S2380.z)) / _S2314;
    float _S2384 = _S2312 * _S2383;
    float _S2385 = (fTmp0C_11 * _S2353 + fS1_11 * s_diff_fS2_T_1 + fC1_11 * s_diff_fC2_T_1 + fTmp0B_11 * _S2367 + 2.0f * (y_14 * _S2368) + _S2371 + _S2371 + _S2376.x + _S2376.y + _S2376.z) / _S2314;
    float _S2386 = _S2312 * _S2385;
    float _S2387 = _S2310 * - _S2381 + _S2309 * - _S2383 + _S2308 * - _S2385;
    DiffPair_float_0 _S2388;
    (&_S2388)->primal_0 = _S2311;
    (&_S2388)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2388, _S2387);
    float _S2389 = _S2310 * _S2388.differential_0;
    float _S2390 = _S2309 * _S2388.differential_0;
    float _S2391 = _S2308 * _S2388.differential_0;
    float3  _S2392 = make_float3 (0.282094806432724f) * _S2334.differential_0;
    float3  _S2393 = make_float3 (_S2386 + _S2391 + _S2391, _S2384 + _S2390 + _S2390, _S2382 + _S2389 + _S2389);
    float3  _S2394 = - - _S2393;
    Matrix<float, 3, 3>  _S2395 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2396;
    (&_S2396)->primal_0 = _S2278;
    (&_S2396)->differential_0 = _S2395;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2397;
    (&_S2397)->primal_0 = t_14;
    (&_S2397)->differential_0 = _S2333;
    s_bwd_prop_mul_1(&_S2396, &_S2397, _S2394);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2398 = _S2396;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2399 = _S2397;
    float2  _S2400 = _S2281;
    *&((&_S2400)->y) = v_conic_1.z;
    float2  _S2401 = _S2281;
    *&((&_S2401)->y) = v_conic_1.y;
    *&((&_S2401)->x) = v_conic_1.x;
    DiffPair_float_0 _S2402;
    (&_S2402)->primal_0 = _S2306;
    (&_S2402)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2402, 0.0f);
    DiffPair_float_0 _S2403;
    (&_S2403)->primal_0 = _S2305;
    (&_S2403)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2403, 0.0f);
    DiffPair_float_0 _S2404;
    (&_S2404)->primal_0 = 3.32999992370605469f;
    (&_S2404)->differential_0 = 0.0f;
    DiffPair_float_0 _S2405;
    (&_S2405)->primal_0 = _S2304;
    (&_S2405)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2404, &_S2405, 0.0f);
    DiffPair_float_0 _S2406;
    (&_S2406)->primal_0 = _S2303;
    (&_S2406)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2406, _S2405.differential_0);
    float _S2407 = 2.0f * _S2406.differential_0;
    DiffPair_float_0 _S2408;
    (&_S2408)->primal_0 = _S2302;
    (&_S2408)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2408, _S2407);
    float2  _S2409 = make_float2 (_S2403.differential_0, 0.0f);
    float _S2410 = v_opacity_1 + 254.9999847412109375f * _S2408.differential_0;
    FixedArray<float3 , 16>  _S2411;
    _S2411[int(0)] = _S2333;
    _S2411[int(1)] = _S2333;
    _S2411[int(2)] = _S2333;
    _S2411[int(3)] = _S2333;
    _S2411[int(4)] = _S2333;
    _S2411[int(5)] = _S2333;
    _S2411[int(6)] = _S2333;
    _S2411[int(7)] = _S2333;
    _S2411[int(8)] = _S2333;
    _S2411[int(9)] = _S2333;
    _S2411[int(10)] = _S2333;
    _S2411[int(11)] = _S2333;
    _S2411[int(12)] = _S2333;
    _S2411[int(13)] = _S2333;
    _S2411[int(14)] = _S2333;
    _S2411[int(15)] = _S2333;
    _S2411[int(7)] = _S2358;
    _S2411[int(0)] = _S2392;
    _S2411[int(1)] = _S2379;
    _S2411[int(2)] = _S2377;
    _S2411[int(3)] = _S2375;
    _S2411[int(4)] = _S2364;
    _S2411[int(5)] = _S2362;
    _S2411[int(6)] = _S2360;
    _S2411[int(15)] = _S2336;
    _S2411[int(8)] = _S2356;
    _S2411[int(9)] = _S2348;
    _S2411[int(10)] = _S2346;
    _S2411[int(11)] = _S2344;
    _S2411[int(12)] = _S2342;
    _S2411[int(13)] = _S2340;
    _S2411[int(14)] = _S2338;
    float3  _S2412 = _S2411[int(0)];
    float3  _S2413 = _S2411[int(1)];
    float3  _S2414 = _S2411[int(2)];
    float3  _S2415 = _S2411[int(3)];
    float3  _S2416 = _S2411[int(4)];
    float3  _S2417 = _S2411[int(5)];
    float3  _S2418 = _S2411[int(6)];
    float3  _S2419 = _S2411[int(7)];
    float3  _S2420 = _S2411[int(8)];
    float3  _S2421 = _S2411[int(9)];
    float3  _S2422 = _S2411[int(10)];
    float3  _S2423 = _S2411[int(11)];
    float3  _S2424 = _S2411[int(12)];
    float3  _S2425 = _S2411[int(13)];
    float3  _S2426 = _S2411[int(14)];
    float3  _S2427 = _S2411[int(15)];
    Matrix<float, 2, 2>  _S2428 = _S2266;
    _S2428[int(1)] = _S2400;
    _S2428[int(0)] = _S2401;
    Matrix<float, 2, 2>  _S2429 = _S2428;
    float2  _S2430 = make_float2 (0.0f, _S2402.differential_0);
    float _S2431;
    if(antialiased_11)
    {
        float _S2432 = _S2299 * _S2410;
        _S2301 = _S2294 * _S2410;
        _S2431 = _S2432;
    }
    else
    {
        _S2301 = _S2410;
        _S2431 = 0.0f;
    }
    float _S2433 = - (_S2301 / _S2300);
    DiffPair_float_0 _S2434;
    (&_S2434)->primal_0 = _S2297;
    (&_S2434)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2434, _S2433);
    float _S2435 = - _S2434.differential_0;
    float _S2436 = invdet_8 * _S2429.rows[int(1)].y;
    float _S2437 = - (invdet_8 * _S2429.rows[int(1)].x);
    float _S2438 = - (invdet_8 * _S2429.rows[int(0)].y);
    float _S2439 = invdet_8 * _S2429.rows[int(0)].x;
    float _S2440 = - ((_S2286 * _S2429.rows[int(1)].y + _S2296 * _S2429.rows[int(1)].x + _S2295 * _S2429.rows[int(0)].y + _S2288 * _S2429.rows[int(0)].x) / _S2292);
    DiffPair_float_0 _S2441;
    (&_S2441)->primal_0 = _S2293;
    (&_S2441)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2441, _S2431);
    DiffPair_float_0 _S2442;
    (&_S2442)->primal_0 = 0.0f;
    (&_S2442)->differential_0 = 0.0f;
    DiffPair_float_0 _S2443;
    (&_S2443)->primal_0 = _S2291;
    (&_S2443)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2442, &_S2443, _S2441.differential_0);
    float _S2444 = _S2443.differential_0 / _S2292;
    float s_diff_det_orig_T_1 = det_blur_7 * _S2444;
    float _S2445 = _S2440 + det_orig_12 * - _S2444;
    float _S2446 = - _S2445;
    float _S2447 = _S2286 * _S2445;
    float _S2448 = _S2288 * _S2445;
    Matrix<float, 2, 2>  _S2449 = _S2266;
    _S2449[int(1)] = _S2430;
    _S2449[int(0)] = _S2409;
    _S2287 = _S2449;
    *&(((&_S2287)->rows + (int(1)))->y) = 0.0f;
    float _S2450 = _S2439 + _S2447 + _S2449.rows[int(1)].y;
    *&(((&_S2287)->rows + (int(0)))->x) = 0.0f;
    float _S2451 = _S2436 + _S2448 + _S2449.rows[int(0)].x;
    float _S2452 = _S2446 + - s_diff_det_orig_T_1;
    float _S2453 = _S2437 + _S2284._S1581.rows[int(0)].y * _S2452;
    float _S2454 = _S2438 + _S2284._S1581.rows[int(1)].x * _S2452;
    float _S2455 = _S2284._S1581.rows[int(1)].y * s_diff_det_orig_T_1;
    float _S2456 = _S2450 + _S2284._S1581.rows[int(0)].x * s_diff_det_orig_T_1;
    float2  _S2457 = _S2281;
    *&((&_S2457)->x) = _S2453;
    *&((&_S2457)->y) = _S2456;
    float _S2458 = _S2451 + _S2455;
    float2  _S2459 = _S2281;
    *&((&_S2459)->y) = _S2454;
    *&((&_S2459)->x) = _S2458;
    Matrix<float, 2, 2>  _S2460 = _S2266;
    _S2460[int(1)] = _S2457;
    _S2460[int(0)] = _S2459;
    Matrix<float, 2, 2>  _S2461 = _S2287 + _S2460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2462;
    (&_S2462)->primal_0 = mean_c_11;
    (&_S2462)->differential_0 = _S2333;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2463;
    (&_S2463)->primal_0 = _S2279;
    (&_S2463)->differential_0 = _S2395;
    float4  _S2464 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S2465;
    (&_S2465)->primal_0 = intrins_15;
    (&_S2465)->differential_0 = _S2464;
    FixedArray<float, 10>  _S2466 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C10x3E_0 _S2467;
    (&_S2467)->primal_0 = *dist_coeffs_26;
    (&_S2467)->differential_0 = _S2466;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S2468 = _S2284._S1582;
    s_bwd_prop_fisheye_proj_3dgs_0(&_S2462, &_S2463, &_S2465, &_S2467, _S2461, v_mean2d_1, &_S2468);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2469;
    (&_S2469)->primal_0 = _S2277;
    (&_S2469)->differential_0 = _S2395;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2470;
    (&_S2470)->primal_0 = _S2278;
    (&_S2470)->differential_0 = _S2395;
    s_bwd_prop_mul_4(&_S2469, &_S2470, _S2463.differential_0);
    Matrix<float, 3, 3>  _S2471 = transpose_0(_S2470.differential_0 + _S2398.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2472;
    (&_S2472)->primal_0 = R_18;
    (&_S2472)->differential_0 = _S2395;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2473;
    (&_S2473)->primal_0 = _S2276;
    (&_S2473)->differential_0 = _S2395;
    s_bwd_prop_mul_4(&_S2472, &_S2473, _S2469.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2474;
    (&_S2474)->primal_0 = _S2274;
    (&_S2474)->differential_0 = _S2395;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2475;
    (&_S2475)->primal_0 = _S2275;
    (&_S2475)->differential_0 = _S2395;
    s_bwd_prop_mul_4(&_S2474, &_S2475, _S2473.differential_0);
    Matrix<float, 3, 3>  _S2476 = _S2474.differential_0 + transpose_0(_S2475.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2477;
    (&_S2477)->primal_0 = _S2273;
    (&_S2477)->differential_0 = _S2395;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2478;
    (&_S2478)->primal_0 = S_1;
    (&_S2478)->differential_0 = _S2395;
    s_bwd_prop_mul_4(&_S2477, &_S2478, _S2476);
    Matrix<float, 3, 3>  _S2479 = transpose_0(_S2477.differential_0);
    float _S2480 = 2.0f * - _S2479.rows[int(2)].z;
    float _S2481 = 2.0f * _S2479.rows[int(2)].y;
    float _S2482 = 2.0f * _S2479.rows[int(2)].x;
    float _S2483 = 2.0f * _S2479.rows[int(1)].z;
    float _S2484 = 2.0f * - _S2479.rows[int(1)].y;
    float _S2485 = 2.0f * _S2479.rows[int(1)].x;
    float _S2486 = 2.0f * _S2479.rows[int(0)].z;
    float _S2487 = 2.0f * _S2479.rows[int(0)].y;
    float _S2488 = 2.0f * - _S2479.rows[int(0)].x;
    float _S2489 = - _S2485 + _S2487;
    float _S2490 = _S2482 + - _S2486;
    float _S2491 = - _S2481 + _S2483;
    float _S2492 = _S2481 + _S2483;
    float _S2493 = _S2482 + _S2486;
    float _S2494 = _S2485 + _S2487;
    float _S2495 = quat_15.w * (_S2484 + _S2488);
    float _S2496 = quat_15.z * (_S2480 + _S2488);
    float _S2497 = quat_15.y * (_S2480 + _S2484);
    float _S2498 = quat_15.x * _S2489 + quat_15.z * _S2492 + quat_15.y * _S2493 + _S2495 + _S2495;
    float _S2499 = quat_15.x * _S2490 + quat_15.w * _S2492 + quat_15.y * _S2494 + _S2496 + _S2496;
    float _S2500 = quat_15.x * _S2491 + quat_15.w * _S2493 + quat_15.z * _S2494 + _S2497 + _S2497;
    float _S2501 = quat_15.w * _S2489 + quat_15.z * _S2490 + quat_15.y * _S2491;
    float3  _S2502 = _S2333;
    *&((&_S2502)->z) = _S2478.differential_0.rows[int(2)].z;
    *&((&_S2502)->y) = _S2478.differential_0.rows[int(1)].y;
    *&((&_S2502)->x) = _S2478.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2503;
    (&_S2503)->primal_0 = scale_14;
    (&_S2503)->differential_0 = _S2333;
    s_bwd_prop_exp_1(&_S2503, _S2502);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2504 = _S2503;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2505;
    (&_S2505)->primal_0 = mean_c_11;
    (&_S2505)->differential_0 = _S2333;
    s_bwd_length_impl_1(&_S2505, v_depth_1);
    float3  _S2506 = _S2462.differential_0 + _S2505.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2507;
    (&_S2507)->primal_0 = R_18;
    (&_S2507)->differential_0 = _S2395;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2508;
    (&_S2508)->primal_0 = mean_12;
    (&_S2508)->differential_0 = _S2333;
    s_bwd_prop_mul_1(&_S2507, &_S2508, _S2506);
    float3  _S2509 = _S2506 + _S2399.differential_0;
    Matrix<float, 3, 3>  _S2510 = _S2471 + _S2472.differential_0 + _S2507.differential_0;
    float4  _S2511 = _S2464;
    *&((&_S2511)->w) = _S2498;
    *&((&_S2511)->z) = _S2499;
    *&((&_S2511)->y) = _S2500;
    *&((&_S2511)->x) = _S2501;
    float4  _S2512 = _S2511;
    float3  _S2513 = _S2508.differential_0 + _S2393;
    *v_mean_1 = _S2513;
    *v_quat_1 = _S2512;
    *v_scale_1 = _S2504.differential_0;
    *v_in_opacity_1 = _S2435;
    (*v_sh_coeffs_1)[int(0)] = _S2412;
    (*v_sh_coeffs_1)[int(1)] = _S2413;
    (*v_sh_coeffs_1)[int(2)] = _S2414;
    (*v_sh_coeffs_1)[int(3)] = _S2415;
    (*v_sh_coeffs_1)[int(4)] = _S2416;
    (*v_sh_coeffs_1)[int(5)] = _S2417;
    (*v_sh_coeffs_1)[int(6)] = _S2418;
    (*v_sh_coeffs_1)[int(7)] = _S2419;
    (*v_sh_coeffs_1)[int(8)] = _S2420;
    (*v_sh_coeffs_1)[int(9)] = _S2421;
    (*v_sh_coeffs_1)[int(10)] = _S2422;
    (*v_sh_coeffs_1)[int(11)] = _S2423;
    (*v_sh_coeffs_1)[int(12)] = _S2424;
    (*v_sh_coeffs_1)[int(13)] = _S2425;
    (*v_sh_coeffs_1)[int(14)] = _S2426;
    (*v_sh_coeffs_1)[int(15)] = _S2427;
    *v_R_3 = _S2510;
    *v_t_2 = _S2509;
    return;
}

inline __device__ void projection_3dgs_ortho_vjp(bool antialiased_12, float3  mean_13, float4  quat_16, float3  scale_15, float in_opacity_12, FixedArray<float3 , 16>  * sh_coeffs_12, Matrix<float, 3, 3>  R_19, float3  t_15, float fx_24, float fy_24, float cx_19, float cy_19, FixedArray<float, 10>  * dist_coeffs_27, uint image_width_12, uint image_height_12, float2  v_mean2d_2, float v_depth_2, float3  v_conic_2, float v_opacity_2, float3  v_rgb_2, float3  * v_mean_2, float4  * v_quat_2, float3  * v_scale_2, float * v_in_opacity_2, FixedArray<float3 , 16>  * v_sh_coeffs_2, Matrix<float, 3, 3>  * v_R_4, float3  * v_t_3)
{
    float3  mean_c_12 = s_primal_ctx_mul_0(R_19, mean_13) + t_15;
    float3  _S2514 = s_primal_ctx_exp_0(scale_15);
    float _S2515 = quat_16.y;
    float x2_16 = _S2515 * _S2515;
    float y2_16 = quat_16.z * quat_16.z;
    float z2_28 = quat_16.w * quat_16.w;
    float xy_16 = quat_16.y * quat_16.z;
    float xz_16 = quat_16.y * quat_16.w;
    float yz_16 = quat_16.z * quat_16.w;
    float wx_16 = quat_16.x * quat_16.y;
    float wy_16 = quat_16.x * quat_16.z;
    float wz_16 = quat_16.x * quat_16.w;
    Matrix<float, 3, 3>  _S2516 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_16 + z2_28), 2.0f * (xy_16 + wz_16), 2.0f * (xz_16 - wy_16), 2.0f * (xy_16 - wz_16), 1.0f - 2.0f * (x2_16 + z2_28), 2.0f * (yz_16 + wx_16), 2.0f * (xz_16 + wy_16), 2.0f * (yz_16 - wx_16), 1.0f - 2.0f * (x2_16 + y2_16)));
    Matrix<float, 3, 3>  S_2 = makeMatrix<float, 3, 3> (_S2514.x, 0.0f, 0.0f, 0.0f, _S2514.y, 0.0f, 0.0f, 0.0f, _S2514.z);
    Matrix<float, 3, 3>  _S2517 = s_primal_ctx_mul_1(_S2516, S_2);
    Matrix<float, 3, 3>  _S2518 = transpose_0(_S2517);
    Matrix<float, 3, 3>  _S2519 = s_primal_ctx_mul_1(_S2517, _S2518);
    Matrix<float, 3, 3>  _S2520 = s_primal_ctx_mul_1(R_19, _S2519);
    Matrix<float, 3, 3>  _S2521 = transpose_0(R_19);
    Matrix<float, 3, 3>  _S2522 = s_primal_ctx_mul_1(_S2520, _S2521);
    Matrix<float, 2, 3>  J_12 = makeMatrix<float, 2, 3> (fx_24, 0.0f, 0.0f, 0.0f, fy_24, 0.0f);
    Matrix<float, 2, 3>  _S2523 = s_primal_ctx_mul_2(J_12, _S2522);
    Matrix<float, 3, 2>  _S2524 = transpose_1(J_12);
    Matrix<float, 2, 2>  _S2525 = s_primal_ctx_mul_3(_S2523, _S2524);
    float _S2526 = _S2525.rows[int(0)].y * _S2525.rows[int(1)].x;
    float det_orig_13 = _S2525.rows[int(0)].x * _S2525.rows[int(1)].y - _S2526;
    float _S2527 = _S2525.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2528 = _S2525;
    *&(((&_S2528)->rows + (int(0)))->x) = _S2527;
    float _S2529 = _S2525.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2528)->rows + (int(1)))->y) = _S2529;
    Matrix<float, 2, 2>  _S2530 = _S2528;
    Matrix<float, 2, 2>  _S2531 = _S2528;
    float det_blur_8 = _S2527 * _S2529 - _S2526;
    float _S2532 = det_orig_13 / det_blur_8;
    float _S2533 = det_blur_8 * det_blur_8;
    float _S2534 = s_primal_ctx_max_0(0.0f, _S2532);
    float _S2535 = s_primal_ctx_sqrt_0(_S2534);
    float invdet_9 = 1.0f / det_blur_8;
    float _S2536 = - _S2525.rows[int(0)].y;
    float _S2537 = - _S2525.rows[int(1)].x;
    float _S2538 = - in_opacity_12;
    float _S2539 = 1.0f + s_primal_ctx_exp_1(_S2538);
    float _S2540 = 1.0f / _S2539;
    float _S2541 = _S2539 * _S2539;
    float _S2542;
    if(antialiased_12)
    {
        _S2542 = _S2540 * _S2535;
    }
    else
    {
        _S2542 = _S2540;
    }
    float _S2543 = _S2542 / 0.00392156885936856f;
    float _S2544 = 2.0f * s_primal_ctx_log_0(_S2543);
    float _S2545 = s_primal_ctx_sqrt_0(_S2544);
    float _S2546 = _S2530.rows[int(0)].x;
    float _S2547 = _S2531.rows[int(1)].y;
    float3  _S2548 = mean_13 - - s_primal_ctx_mul_0(_S2521, t_15);
    float _S2549 = _S2548.x;
    float _S2550 = _S2548.y;
    float _S2551 = _S2548.z;
    float _S2552 = _S2549 * _S2549 + _S2550 * _S2550 + _S2551 * _S2551;
    float _S2553 = s_primal_ctx_sqrt_0(_S2552);
    float x_37 = _S2549 / _S2553;
    float3  _S2554 = make_float3 (x_37);
    float _S2555 = _S2553 * _S2553;
    float y_15 = _S2550 / _S2553;
    float z_12 = _S2551 / _S2553;
    float3  _S2556 = make_float3 (z_12);
    float _S2557 = - y_15;
    float3  _S2558 = make_float3 (_S2557);
    float z2_29 = z_12 * z_12;
    float fTmp0B_12 = -1.09254848957061768f * z_12;
    float fC1_12 = x_37 * x_37 - y_15 * y_15;
    float _S2559 = 2.0f * x_37;
    float fS1_12 = _S2559 * y_15;
    float pSH6_2 = 0.94617468118667603f * z2_29 - 0.31539157032966614f;
    float3  _S2560 = make_float3 (pSH6_2);
    float pSH7_2 = fTmp0B_12 * x_37;
    float3  _S2561 = make_float3 (pSH7_2);
    float pSH5_2 = fTmp0B_12 * y_15;
    float3  _S2562 = make_float3 (pSH5_2);
    float pSH8_2 = 0.54627424478530884f * fC1_12;
    float3  _S2563 = make_float3 (pSH8_2);
    float pSH4_2 = 0.54627424478530884f * fS1_12;
    float3  _S2564 = make_float3 (pSH4_2);
    float fTmp0C_12 = -2.28522896766662598f * z2_29 + 0.4570457935333252f;
    float fTmp1B_12 = 1.44530570507049561f * z_12;
    float _S2565 = 1.86588168144226074f * z2_29 - 1.11952900886535645f;
    float pSH12_2 = z_12 * _S2565;
    float3  _S2566 = make_float3 (pSH12_2);
    float pSH13_2 = fTmp0C_12 * x_37;
    float3  _S2567 = make_float3 (pSH13_2);
    float pSH11_2 = fTmp0C_12 * y_15;
    float3  _S2568 = make_float3 (pSH11_2);
    float pSH14_2 = fTmp1B_12 * fC1_12;
    float3  _S2569 = make_float3 (pSH14_2);
    float pSH10_2 = fTmp1B_12 * fS1_12;
    float3  _S2570 = make_float3 (pSH10_2);
    float pSH15_2 = -0.59004360437393188f * (x_37 * fC1_12 - y_15 * fS1_12);
    float3  _S2571 = make_float3 (pSH15_2);
    float pSH9_2 = -0.59004360437393188f * (x_37 * fS1_12 + y_15 * fC1_12);
    float3  _S2572 = make_float3 (pSH9_2);
    float3  _S2573 = make_float3 (0.0f);
    float3  _S2574 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2575;
    (&_S2575)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_12)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2557) * (*sh_coeffs_12)[int(1)] + make_float3 (z_12) * (*sh_coeffs_12)[int(2)] - make_float3 (x_37) * (*sh_coeffs_12)[int(3)]) + (make_float3 (pSH4_2) * (*sh_coeffs_12)[int(4)] + make_float3 (pSH5_2) * (*sh_coeffs_12)[int(5)] + make_float3 (pSH6_2) * (*sh_coeffs_12)[int(6)] + make_float3 (pSH7_2) * (*sh_coeffs_12)[int(7)] + make_float3 (pSH8_2) * (*sh_coeffs_12)[int(8)]) + (make_float3 (pSH9_2) * (*sh_coeffs_12)[int(9)] + make_float3 (pSH10_2) * (*sh_coeffs_12)[int(10)] + make_float3 (pSH11_2) * (*sh_coeffs_12)[int(11)] + make_float3 (pSH12_2) * (*sh_coeffs_12)[int(12)] + make_float3 (pSH13_2) * (*sh_coeffs_12)[int(13)] + make_float3 (pSH14_2) * (*sh_coeffs_12)[int(14)] + make_float3 (pSH15_2) * (*sh_coeffs_12)[int(15)]) + make_float3 (0.5f);
    (&_S2575)->differential_0 = _S2574;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2576;
    (&_S2576)->primal_0 = _S2573;
    (&_S2576)->differential_0 = _S2574;
    s_bwd_prop_max_0(&_S2575, &_S2576, v_rgb_2);
    float3  _S2577 = _S2571 * _S2575.differential_0;
    float3  _S2578 = (*sh_coeffs_12)[int(15)] * _S2575.differential_0;
    float3  _S2579 = _S2569 * _S2575.differential_0;
    float3  _S2580 = (*sh_coeffs_12)[int(14)] * _S2575.differential_0;
    float3  _S2581 = _S2567 * _S2575.differential_0;
    float3  _S2582 = (*sh_coeffs_12)[int(13)] * _S2575.differential_0;
    float3  _S2583 = _S2566 * _S2575.differential_0;
    float3  _S2584 = (*sh_coeffs_12)[int(12)] * _S2575.differential_0;
    float3  _S2585 = _S2568 * _S2575.differential_0;
    float3  _S2586 = (*sh_coeffs_12)[int(11)] * _S2575.differential_0;
    float3  _S2587 = _S2570 * _S2575.differential_0;
    float3  _S2588 = (*sh_coeffs_12)[int(10)] * _S2575.differential_0;
    float3  _S2589 = _S2572 * _S2575.differential_0;
    float3  _S2590 = (*sh_coeffs_12)[int(9)] * _S2575.differential_0;
    float s_diff_fS2_T_2 = -0.59004360437393188f * (_S2590.x + _S2590.y + _S2590.z);
    float s_diff_fC2_T_2 = -0.59004360437393188f * (_S2578.x + _S2578.y + _S2578.z);
    float _S2591 = _S2588.x + _S2588.y + _S2588.z;
    float _S2592 = _S2580.x + _S2580.y + _S2580.z;
    float _S2593 = _S2586.x + _S2586.y + _S2586.z;
    float _S2594 = _S2582.x + _S2582.y + _S2582.z;
    float _S2595 = _S2584.x + _S2584.y + _S2584.z;
    float _S2596 = - s_diff_fC2_T_2;
    float3  _S2597 = _S2563 * _S2575.differential_0;
    float3  _S2598 = (*sh_coeffs_12)[int(8)] * _S2575.differential_0;
    float3  _S2599 = _S2561 * _S2575.differential_0;
    float3  _S2600 = (*sh_coeffs_12)[int(7)] * _S2575.differential_0;
    float3  _S2601 = _S2560 * _S2575.differential_0;
    float3  _S2602 = (*sh_coeffs_12)[int(6)] * _S2575.differential_0;
    float3  _S2603 = _S2562 * _S2575.differential_0;
    float3  _S2604 = (*sh_coeffs_12)[int(5)] * _S2575.differential_0;
    float3  _S2605 = _S2564 * _S2575.differential_0;
    float3  _S2606 = (*sh_coeffs_12)[int(4)] * _S2575.differential_0;
    float _S2607 = _S2604.x + _S2604.y + _S2604.z;
    float _S2608 = _S2600.x + _S2600.y + _S2600.z;
    float _S2609 = fTmp1B_12 * _S2591 + x_37 * s_diff_fS2_T_2 + y_15 * _S2596 + 0.54627424478530884f * (_S2606.x + _S2606.y + _S2606.z);
    float _S2610 = fTmp1B_12 * _S2592 + y_15 * s_diff_fS2_T_2 + x_37 * s_diff_fC2_T_2 + 0.54627424478530884f * (_S2598.x + _S2598.y + _S2598.z);
    float _S2611 = y_15 * - _S2610;
    float _S2612 = x_37 * _S2610;
    float _S2613 = z_12 * (1.86588168144226074f * (z_12 * _S2595) + -2.28522896766662598f * (y_15 * _S2593 + x_37 * _S2594) + 0.94617468118667603f * (_S2602.x + _S2602.y + _S2602.z));
    float3  _S2614 = make_float3 (0.48860251903533936f) * _S2575.differential_0;
    float3  _S2615 = - _S2614;
    float3  _S2616 = _S2554 * _S2615;
    float3  _S2617 = (*sh_coeffs_12)[int(3)] * _S2615;
    float3  _S2618 = _S2556 * _S2614;
    float3  _S2619 = (*sh_coeffs_12)[int(2)] * _S2614;
    float3  _S2620 = _S2558 * _S2614;
    float3  _S2621 = (*sh_coeffs_12)[int(1)] * _S2614;
    float _S2622 = (_S2565 * _S2595 + 1.44530570507049561f * (fS1_12 * _S2591 + fC1_12 * _S2592) + -1.09254848957061768f * (y_15 * _S2607 + x_37 * _S2608) + _S2613 + _S2613 + _S2619.x + _S2619.y + _S2619.z) / _S2555;
    float _S2623 = _S2553 * _S2622;
    float _S2624 = (fTmp0C_12 * _S2593 + fC1_12 * s_diff_fS2_T_2 + fS1_12 * _S2596 + fTmp0B_12 * _S2607 + _S2559 * _S2609 + _S2611 + _S2611 + - (_S2621.x + _S2621.y + _S2621.z)) / _S2555;
    float _S2625 = _S2553 * _S2624;
    float _S2626 = (fTmp0C_12 * _S2594 + fS1_12 * s_diff_fS2_T_2 + fC1_12 * s_diff_fC2_T_2 + fTmp0B_12 * _S2608 + 2.0f * (y_15 * _S2609) + _S2612 + _S2612 + _S2617.x + _S2617.y + _S2617.z) / _S2555;
    float _S2627 = _S2553 * _S2626;
    float _S2628 = _S2551 * - _S2622 + _S2550 * - _S2624 + _S2549 * - _S2626;
    DiffPair_float_0 _S2629;
    (&_S2629)->primal_0 = _S2552;
    (&_S2629)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2629, _S2628);
    float _S2630 = _S2551 * _S2629.differential_0;
    float _S2631 = _S2550 * _S2629.differential_0;
    float _S2632 = _S2549 * _S2629.differential_0;
    float3  _S2633 = make_float3 (0.282094806432724f) * _S2575.differential_0;
    float3  _S2634 = make_float3 (_S2627 + _S2632 + _S2632, _S2625 + _S2631 + _S2631, _S2623 + _S2630 + _S2630);
    float3  _S2635 = - - _S2634;
    Matrix<float, 3, 3>  _S2636 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2637;
    (&_S2637)->primal_0 = _S2521;
    (&_S2637)->differential_0 = _S2636;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2638;
    (&_S2638)->primal_0 = t_15;
    (&_S2638)->differential_0 = _S2574;
    s_bwd_prop_mul_1(&_S2637, &_S2638, _S2635);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2639 = _S2637;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2640 = _S2638;
    float2  _S2641 = make_float2 (0.0f);
    float2  _S2642 = _S2641;
    *&((&_S2642)->y) = v_conic_2.z;
    float2  _S2643 = _S2641;
    *&((&_S2643)->y) = v_conic_2.y;
    *&((&_S2643)->x) = v_conic_2.x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2644;
    (&_S2644)->primal_0 = mean_c_12;
    (&_S2644)->differential_0 = _S2574;
    s_bwd_length_impl_1(&_S2644, v_depth_2);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2645 = _S2644;
    DiffPair_float_0 _S2646;
    (&_S2646)->primal_0 = _S2547;
    (&_S2646)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2646, 0.0f);
    DiffPair_float_0 _S2647;
    (&_S2647)->primal_0 = _S2546;
    (&_S2647)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2647, 0.0f);
    DiffPair_float_0 _S2648;
    (&_S2648)->primal_0 = 3.32999992370605469f;
    (&_S2648)->differential_0 = 0.0f;
    DiffPair_float_0 _S2649;
    (&_S2649)->primal_0 = _S2545;
    (&_S2649)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2648, &_S2649, 0.0f);
    DiffPair_float_0 _S2650;
    (&_S2650)->primal_0 = _S2544;
    (&_S2650)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2650, _S2649.differential_0);
    float _S2651 = 2.0f * _S2650.differential_0;
    DiffPair_float_0 _S2652;
    (&_S2652)->primal_0 = _S2543;
    (&_S2652)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2652, _S2651);
    float _S2653 = v_opacity_2 + 254.9999847412109375f * _S2652.differential_0;
    Matrix<float, 2, 2>  _S2654 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S2655 = _S2654;
    _S2655[int(1)] = _S2642;
    _S2655[int(0)] = _S2643;
    Matrix<float, 2, 2>  _S2656 = _S2655;
    FixedArray<float3 , 16>  _S2657;
    _S2657[int(0)] = _S2574;
    _S2657[int(1)] = _S2574;
    _S2657[int(2)] = _S2574;
    _S2657[int(3)] = _S2574;
    _S2657[int(4)] = _S2574;
    _S2657[int(5)] = _S2574;
    _S2657[int(6)] = _S2574;
    _S2657[int(7)] = _S2574;
    _S2657[int(8)] = _S2574;
    _S2657[int(9)] = _S2574;
    _S2657[int(10)] = _S2574;
    _S2657[int(11)] = _S2574;
    _S2657[int(12)] = _S2574;
    _S2657[int(13)] = _S2574;
    _S2657[int(14)] = _S2574;
    _S2657[int(15)] = _S2574;
    _S2657[int(7)] = _S2599;
    _S2657[int(0)] = _S2633;
    _S2657[int(1)] = _S2620;
    _S2657[int(2)] = _S2618;
    _S2657[int(3)] = _S2616;
    _S2657[int(4)] = _S2605;
    _S2657[int(5)] = _S2603;
    _S2657[int(6)] = _S2601;
    _S2657[int(15)] = _S2577;
    _S2657[int(8)] = _S2597;
    _S2657[int(9)] = _S2589;
    _S2657[int(10)] = _S2587;
    _S2657[int(11)] = _S2585;
    _S2657[int(12)] = _S2583;
    _S2657[int(13)] = _S2581;
    _S2657[int(14)] = _S2579;
    float3  _S2658 = _S2657[int(0)];
    float3  _S2659 = _S2657[int(1)];
    float3  _S2660 = _S2657[int(2)];
    float3  _S2661 = _S2657[int(3)];
    float3  _S2662 = _S2657[int(4)];
    float3  _S2663 = _S2657[int(5)];
    float3  _S2664 = _S2657[int(6)];
    float3  _S2665 = _S2657[int(7)];
    float3  _S2666 = _S2657[int(8)];
    float3  _S2667 = _S2657[int(9)];
    float3  _S2668 = _S2657[int(10)];
    float3  _S2669 = _S2657[int(11)];
    float3  _S2670 = _S2657[int(12)];
    float3  _S2671 = _S2657[int(13)];
    float3  _S2672 = _S2657[int(14)];
    float3  _S2673 = _S2657[int(15)];
    float2  _S2674 = make_float2 (0.0f, _S2646.differential_0);
    float2  _S2675 = make_float2 (_S2647.differential_0, 0.0f);
    float _S2676;
    if(antialiased_12)
    {
        float _S2677 = _S2540 * _S2653;
        _S2542 = _S2535 * _S2653;
        _S2676 = _S2677;
    }
    else
    {
        _S2542 = _S2653;
        _S2676 = 0.0f;
    }
    float _S2678 = - (_S2542 / _S2541);
    DiffPair_float_0 _S2679;
    (&_S2679)->primal_0 = _S2538;
    (&_S2679)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2679, _S2678);
    float _S2680 = - _S2679.differential_0;
    float _S2681 = invdet_9 * _S2656.rows[int(1)].y;
    float _S2682 = - (invdet_9 * _S2656.rows[int(1)].x);
    float _S2683 = - (invdet_9 * _S2656.rows[int(0)].y);
    float _S2684 = invdet_9 * _S2656.rows[int(0)].x;
    float _S2685 = - ((_S2527 * _S2656.rows[int(1)].y + _S2537 * _S2656.rows[int(1)].x + _S2536 * _S2656.rows[int(0)].y + _S2529 * _S2656.rows[int(0)].x) / _S2533);
    DiffPair_float_0 _S2686;
    (&_S2686)->primal_0 = _S2534;
    (&_S2686)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2686, _S2676);
    DiffPair_float_0 _S2687;
    (&_S2687)->primal_0 = 0.0f;
    (&_S2687)->differential_0 = 0.0f;
    DiffPair_float_0 _S2688;
    (&_S2688)->primal_0 = _S2532;
    (&_S2688)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2687, &_S2688, _S2686.differential_0);
    float _S2689 = _S2688.differential_0 / _S2533;
    float s_diff_det_orig_T_2 = det_blur_8 * _S2689;
    float _S2690 = _S2685 + det_orig_13 * - _S2689;
    float _S2691 = - _S2690;
    float _S2692 = _S2527 * _S2690;
    float _S2693 = _S2529 * _S2690;
    Matrix<float, 2, 2>  _S2694 = _S2654;
    _S2694[int(1)] = _S2674;
    _S2694[int(0)] = _S2675;
    _S2528 = _S2694;
    *&(((&_S2528)->rows + (int(1)))->y) = 0.0f;
    float _S2695 = _S2684 + _S2692 + _S2694.rows[int(1)].y;
    *&(((&_S2528)->rows + (int(0)))->x) = 0.0f;
    float _S2696 = _S2681 + _S2693 + _S2694.rows[int(0)].x;
    float _S2697 = _S2691 + - s_diff_det_orig_T_2;
    float _S2698 = _S2682 + _S2525.rows[int(0)].y * _S2697;
    float _S2699 = _S2683 + _S2525.rows[int(1)].x * _S2697;
    float _S2700 = _S2525.rows[int(1)].y * s_diff_det_orig_T_2;
    float _S2701 = _S2695 + _S2525.rows[int(0)].x * s_diff_det_orig_T_2;
    float2  _S2702 = _S2641;
    *&((&_S2702)->x) = _S2698;
    *&((&_S2702)->y) = _S2701;
    float _S2703 = _S2696 + _S2700;
    float2  _S2704 = _S2641;
    *&((&_S2704)->y) = _S2699;
    *&((&_S2704)->x) = _S2703;
    float _S2705 = fy_24 * v_mean2d_2.y;
    float _S2706 = fx_24 * v_mean2d_2.x;
    Matrix<float, 2, 2>  _S2707 = _S2654;
    _S2707[int(1)] = _S2702;
    _S2707[int(0)] = _S2704;
    Matrix<float, 2, 2>  _S2708 = _S2528 + _S2707;
    Matrix<float, 2, 3>  _S2709 = makeMatrix<float, 2, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2710;
    (&_S2710)->primal_0 = _S2523;
    (&_S2710)->differential_0 = _S2709;
    Matrix<float, 3, 2>  _S2711 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S2712;
    (&_S2712)->primal_0 = _S2524;
    (&_S2712)->differential_0 = _S2711;
    s_bwd_prop_mul_2(&_S2710, &_S2712, _S2708);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2713;
    (&_S2713)->primal_0 = J_12;
    (&_S2713)->differential_0 = _S2709;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2714;
    (&_S2714)->primal_0 = _S2522;
    (&_S2714)->differential_0 = _S2636;
    s_bwd_prop_mul_3(&_S2713, &_S2714, _S2710.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2715;
    (&_S2715)->primal_0 = _S2520;
    (&_S2715)->differential_0 = _S2636;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2716;
    (&_S2716)->primal_0 = _S2521;
    (&_S2716)->differential_0 = _S2636;
    s_bwd_prop_mul_4(&_S2715, &_S2716, _S2714.differential_0);
    Matrix<float, 3, 3>  _S2717 = transpose_0(_S2716.differential_0 + _S2639.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2718;
    (&_S2718)->primal_0 = R_19;
    (&_S2718)->differential_0 = _S2636;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2719;
    (&_S2719)->primal_0 = _S2519;
    (&_S2719)->differential_0 = _S2636;
    s_bwd_prop_mul_4(&_S2718, &_S2719, _S2715.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2720;
    (&_S2720)->primal_0 = _S2517;
    (&_S2720)->differential_0 = _S2636;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2721;
    (&_S2721)->primal_0 = _S2518;
    (&_S2721)->differential_0 = _S2636;
    s_bwd_prop_mul_4(&_S2720, &_S2721, _S2719.differential_0);
    Matrix<float, 3, 3>  _S2722 = _S2720.differential_0 + transpose_0(_S2721.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2723;
    (&_S2723)->primal_0 = _S2516;
    (&_S2723)->differential_0 = _S2636;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2724;
    (&_S2724)->primal_0 = S_2;
    (&_S2724)->differential_0 = _S2636;
    s_bwd_prop_mul_4(&_S2723, &_S2724, _S2722);
    Matrix<float, 3, 3>  _S2725 = transpose_0(_S2723.differential_0);
    float _S2726 = 2.0f * - _S2725.rows[int(2)].z;
    float _S2727 = 2.0f * _S2725.rows[int(2)].y;
    float _S2728 = 2.0f * _S2725.rows[int(2)].x;
    float _S2729 = 2.0f * _S2725.rows[int(1)].z;
    float _S2730 = 2.0f * - _S2725.rows[int(1)].y;
    float _S2731 = 2.0f * _S2725.rows[int(1)].x;
    float _S2732 = 2.0f * _S2725.rows[int(0)].z;
    float _S2733 = 2.0f * _S2725.rows[int(0)].y;
    float _S2734 = 2.0f * - _S2725.rows[int(0)].x;
    float _S2735 = - _S2731 + _S2733;
    float _S2736 = _S2728 + - _S2732;
    float _S2737 = - _S2727 + _S2729;
    float _S2738 = _S2727 + _S2729;
    float _S2739 = _S2728 + _S2732;
    float _S2740 = _S2731 + _S2733;
    float _S2741 = quat_16.w * (_S2730 + _S2734);
    float _S2742 = quat_16.z * (_S2726 + _S2734);
    float _S2743 = quat_16.y * (_S2726 + _S2730);
    float _S2744 = quat_16.x * _S2735 + quat_16.z * _S2738 + quat_16.y * _S2739 + _S2741 + _S2741;
    float _S2745 = quat_16.x * _S2736 + quat_16.w * _S2738 + quat_16.y * _S2740 + _S2742 + _S2742;
    float _S2746 = quat_16.x * _S2737 + quat_16.w * _S2739 + quat_16.z * _S2740 + _S2743 + _S2743;
    float _S2747 = quat_16.w * _S2735 + quat_16.z * _S2736 + quat_16.y * _S2737;
    float3  _S2748 = _S2574;
    *&((&_S2748)->z) = _S2724.differential_0.rows[int(2)].z;
    *&((&_S2748)->y) = _S2724.differential_0.rows[int(1)].y;
    *&((&_S2748)->x) = _S2724.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2749;
    (&_S2749)->primal_0 = scale_15;
    (&_S2749)->differential_0 = _S2574;
    s_bwd_prop_exp_1(&_S2749, _S2748);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2750 = _S2749;
    float3  _S2751 = _S2574;
    *&((&_S2751)->y) = _S2705;
    *&((&_S2751)->x) = _S2706;
    float3  _S2752 = _S2645.differential_0 + _S2751;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2753;
    (&_S2753)->primal_0 = R_19;
    (&_S2753)->differential_0 = _S2636;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2754;
    (&_S2754)->primal_0 = mean_13;
    (&_S2754)->differential_0 = _S2574;
    s_bwd_prop_mul_1(&_S2753, &_S2754, _S2752);
    float3  _S2755 = _S2752 + _S2640.differential_0;
    Matrix<float, 3, 3>  _S2756 = _S2717 + _S2718.differential_0 + _S2753.differential_0;
    float4  _S2757 = make_float4 (0.0f);
    *&((&_S2757)->w) = _S2744;
    *&((&_S2757)->z) = _S2745;
    *&((&_S2757)->y) = _S2746;
    *&((&_S2757)->x) = _S2747;
    float4  _S2758 = _S2757;
    float3  _S2759 = _S2754.differential_0 + _S2634;
    *v_mean_2 = _S2759;
    *v_quat_2 = _S2758;
    *v_scale_2 = _S2750.differential_0;
    *v_in_opacity_2 = _S2680;
    (*v_sh_coeffs_2)[int(0)] = _S2658;
    (*v_sh_coeffs_2)[int(1)] = _S2659;
    (*v_sh_coeffs_2)[int(2)] = _S2660;
    (*v_sh_coeffs_2)[int(3)] = _S2661;
    (*v_sh_coeffs_2)[int(4)] = _S2662;
    (*v_sh_coeffs_2)[int(5)] = _S2663;
    (*v_sh_coeffs_2)[int(6)] = _S2664;
    (*v_sh_coeffs_2)[int(7)] = _S2665;
    (*v_sh_coeffs_2)[int(8)] = _S2666;
    (*v_sh_coeffs_2)[int(9)] = _S2667;
    (*v_sh_coeffs_2)[int(10)] = _S2668;
    (*v_sh_coeffs_2)[int(11)] = _S2669;
    (*v_sh_coeffs_2)[int(12)] = _S2670;
    (*v_sh_coeffs_2)[int(13)] = _S2671;
    (*v_sh_coeffs_2)[int(14)] = _S2672;
    (*v_sh_coeffs_2)[int(15)] = _S2673;
    *v_R_4 = _S2756;
    *v_t_3 = _S2755;
    return;
}

struct s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S2760;
};

inline __device__ void projection_3dgut_persp_vjp(bool antialiased_13, float3  mean_14, float4  quat_17, float3  scale_16, float in_opacity_13, FixedArray<float3 , 16>  * sh_coeffs_13, Matrix<float, 3, 3>  R_20, float3  t_16, float fx_25, float fy_25, float cx_20, float cy_20, FixedArray<float, 10>  * dist_coeffs_28, uint image_width_13, uint image_height_13, float2  v_mean2d_3, float v_depth_3, float3  v_conic_3, float v_opacity_3, float3  v_rgb_3, float3  * v_mean_3, float4  * v_quat_3, float3  * v_scale_3, float * v_in_opacity_3, FixedArray<float3 , 16>  * v_sh_coeffs_3, Matrix<float, 3, 3>  * v_R_5, float3  * v_t_4)
{
    Matrix<float, 2, 2>  _S2761 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2762;
    (&_S2762)->_S2760 = _S2761;
    float2  _S2763 = make_float2 (0.0f);
    float3  _S2764 = make_float3 (0.0f);
    float4  intrins_16 = make_float4 (fx_25, fy_25, cx_20, cy_20);
    float3  _S2765 = s_primal_ctx_exp_0(scale_16);
    float _S2766 = quat_17.y;
    float x2_17 = _S2766 * _S2766;
    float y2_17 = quat_17.z * quat_17.z;
    float z2_30 = quat_17.w * quat_17.w;
    float xy_17 = quat_17.y * quat_17.z;
    float xz_17 = quat_17.y * quat_17.w;
    float yz_17 = quat_17.z * quat_17.w;
    float wx_17 = quat_17.x * quat_17.y;
    float wy_17 = quat_17.x * quat_17.z;
    float wz_17 = quat_17.x * quat_17.w;
    Matrix<float, 3, 3>  _S2767 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_17 + z2_30), 2.0f * (xy_17 + wz_17), 2.0f * (xz_17 - wy_17), 2.0f * (xy_17 - wz_17), 1.0f - 2.0f * (x2_17 + z2_30), 2.0f * (yz_17 + wx_17), 2.0f * (xz_17 + wy_17), 2.0f * (yz_17 - wx_17), 1.0f - 2.0f * (x2_17 + y2_17))));
    FixedArray<float3 , 7>  _S2768 = {
        _S2764, _S2764, _S2764, _S2764, _S2764, _S2764, _S2764
    };
    FixedArray<float, 7>  _S2769 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S2770;
    (&_S2770)->p_0 = _S2768;
    (&_S2770)->w_mean_0 = _S2769;
    (&_S2770)->w_cov_0 = _S2769;
    (&_S2770)->p_0[int(0)] = mean_14;
    SigmaPoints_0 _S2771 = _S2770;
    (&_S2771)->w_mean_0[int(0)] = 0.0f;
    (&_S2771)->w_cov_0[int(0)] = 2.0f;
    float _S2772 = s_primal_ctx_sqrt_0(3.0f);
    float _S2773 = _S2772 * _S2765.x;
    float3  delta_12 = make_float3 (_S2773) * _S2767.rows[0U];
    float3  _S2774 = mean_14 + delta_12;
    float3  _S2775 = mean_14 - delta_12;
    float _S2776 = _S2772 * _S2765.y;
    float3  delta_13 = make_float3 (_S2776) * _S2767.rows[1U];
    float3  _S2777 = mean_14 + delta_13;
    float3  _S2778 = mean_14 - delta_13;
    float _S2779 = _S2772 * _S2765.z;
    float3  delta_14 = make_float3 (_S2779) * _S2767.rows[2U];
    float3  _S2780 = mean_14 + delta_14;
    float3  _S2781 = mean_14 - delta_14;
    (&_S2771)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S2771)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S2771)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S2771)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S2771)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S2771)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S2771)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S2771)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S2771)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S2771)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S2771)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S2771)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S2782 = _S2770;
    (&_S2771)->p_0[0U] = s_primal_ctx_mul_0(R_20, _S2770.p_0[0U]) + t_16;
    (&_S2771)->p_0[1U] = s_primal_ctx_mul_0(R_20, _S2774) + t_16;
    (&_S2771)->p_0[2U] = s_primal_ctx_mul_0(R_20, _S2777) + t_16;
    (&_S2771)->p_0[3U] = s_primal_ctx_mul_0(R_20, _S2780) + t_16;
    (&_S2771)->p_0[4U] = s_primal_ctx_mul_0(R_20, _S2775) + t_16;
    (&_S2771)->p_0[5U] = s_primal_ctx_mul_0(R_20, _S2778) + t_16;
    (&_S2771)->p_0[6U] = s_primal_ctx_mul_0(R_20, _S2781) + t_16;
    float2  _S2783 = _S2763;
    Matrix<float, 2, 2>  _S2784 = _S2761;
    SigmaPoints_0 _S2785 = _S2771;
    bool _S2786 = persp_proj_3dgs_ut_1(&_S2785, intrins_16, dist_coeffs_28, image_width_13, image_height_13, &_S2784, &_S2783);
    (&_S2762)->_S2760 = _S2784;
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2787 = _S2762;
    float3  mean_c_13 = s_primal_ctx_mul_0(R_20, mean_14) + t_16;
    float3  _S2788 = make_float3 (_S2773);
    float3  _S2789 = make_float3 (_S2776);
    float3  _S2790 = make_float3 (_S2779);
    float _S2791 = _S2762._S2760.rows[int(0)].y * _S2762._S2760.rows[int(1)].x;
    float det_orig_14 = _S2762._S2760.rows[int(0)].x * _S2762._S2760.rows[int(1)].y - _S2791;
    float _S2792 = _S2762._S2760.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2793 = _S2762._S2760;
    *&(((&_S2793)->rows + (int(0)))->x) = _S2792;
    float _S2794 = _S2762._S2760.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2793)->rows + (int(1)))->y) = _S2794;
    Matrix<float, 2, 2>  _S2795 = _S2793;
    Matrix<float, 2, 2>  _S2796 = _S2793;
    float det_blur_9 = _S2792 * _S2794 - _S2791;
    float _S2797 = det_orig_14 / det_blur_9;
    float _S2798 = det_blur_9 * det_blur_9;
    float _S2799 = s_primal_ctx_max_0(0.0f, _S2797);
    float _S2800 = s_primal_ctx_sqrt_0(_S2799);
    float _S2801 = - in_opacity_13;
    float _S2802 = 1.0f + s_primal_ctx_exp_1(_S2801);
    float _S2803 = 1.0f / _S2802;
    float _S2804 = _S2802 * _S2802;
    float _S2805;
    if(antialiased_13)
    {
        _S2805 = _S2803 * _S2800;
    }
    else
    {
        _S2805 = _S2803;
    }
    float _S2806 = _S2805 / 0.00392156885936856f;
    float _S2807 = 2.0f * s_primal_ctx_log_0(_S2806);
    float _S2808 = s_primal_ctx_sqrt_0(_S2807);
    float _S2809 = _S2795.rows[int(0)].x;
    float _S2810 = _S2796.rows[int(1)].y;
    float _S2811 = mean_c_13.z;
    float _S2812 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S2813 = _S2812 * (_S2811 + length_1(mean_c_13));
    float3  _S2814 = - scale_16;
    Matrix<float, 3, 3>  _S2815 = transpose_0(R_20);
    float3  _S2816 = mean_14 - - s_primal_ctx_mul_0(_S2815, t_16);
    float _S2817 = _S2816.x;
    float _S2818 = _S2816.y;
    float _S2819 = _S2816.z;
    float _S2820 = _S2817 * _S2817 + _S2818 * _S2818 + _S2819 * _S2819;
    float _S2821 = s_primal_ctx_sqrt_0(_S2820);
    float x_38 = _S2817 / _S2821;
    float3  _S2822 = make_float3 (x_38);
    float _S2823 = _S2821 * _S2821;
    float y_16 = _S2818 / _S2821;
    float z_13 = _S2819 / _S2821;
    float3  _S2824 = make_float3 (z_13);
    float _S2825 = - y_16;
    float3  _S2826 = make_float3 (_S2825);
    float z2_31 = z_13 * z_13;
    float fTmp0B_13 = -1.09254848957061768f * z_13;
    float fC1_13 = x_38 * x_38 - y_16 * y_16;
    float _S2827 = 2.0f * x_38;
    float fS1_13 = _S2827 * y_16;
    float pSH6_3 = 0.94617468118667603f * z2_31 - 0.31539157032966614f;
    float3  _S2828 = make_float3 (pSH6_3);
    float pSH7_3 = fTmp0B_13 * x_38;
    float3  _S2829 = make_float3 (pSH7_3);
    float pSH5_3 = fTmp0B_13 * y_16;
    float3  _S2830 = make_float3 (pSH5_3);
    float pSH8_3 = 0.54627424478530884f * fC1_13;
    float3  _S2831 = make_float3 (pSH8_3);
    float pSH4_3 = 0.54627424478530884f * fS1_13;
    float3  _S2832 = make_float3 (pSH4_3);
    float fTmp0C_13 = -2.28522896766662598f * z2_31 + 0.4570457935333252f;
    float fTmp1B_13 = 1.44530570507049561f * z_13;
    float _S2833 = 1.86588168144226074f * z2_31 - 1.11952900886535645f;
    float pSH12_3 = z_13 * _S2833;
    float3  _S2834 = make_float3 (pSH12_3);
    float pSH13_3 = fTmp0C_13 * x_38;
    float3  _S2835 = make_float3 (pSH13_3);
    float pSH11_3 = fTmp0C_13 * y_16;
    float3  _S2836 = make_float3 (pSH11_3);
    float pSH14_3 = fTmp1B_13 * fC1_13;
    float3  _S2837 = make_float3 (pSH14_3);
    float pSH10_3 = fTmp1B_13 * fS1_13;
    float3  _S2838 = make_float3 (pSH10_3);
    float pSH15_3 = -0.59004360437393188f * (x_38 * fC1_13 - y_16 * fS1_13);
    float3  _S2839 = make_float3 (pSH15_3);
    float pSH9_3 = -0.59004360437393188f * (x_38 * fS1_13 + y_16 * fC1_13);
    float3  _S2840 = make_float3 (pSH9_3);
    float3  _S2841 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2842;
    (&_S2842)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_13)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2825) * (*sh_coeffs_13)[int(1)] + make_float3 (z_13) * (*sh_coeffs_13)[int(2)] - make_float3 (x_38) * (*sh_coeffs_13)[int(3)]) + (make_float3 (pSH4_3) * (*sh_coeffs_13)[int(4)] + make_float3 (pSH5_3) * (*sh_coeffs_13)[int(5)] + make_float3 (pSH6_3) * (*sh_coeffs_13)[int(6)] + make_float3 (pSH7_3) * (*sh_coeffs_13)[int(7)] + make_float3 (pSH8_3) * (*sh_coeffs_13)[int(8)]) + (make_float3 (pSH9_3) * (*sh_coeffs_13)[int(9)] + make_float3 (pSH10_3) * (*sh_coeffs_13)[int(10)] + make_float3 (pSH11_3) * (*sh_coeffs_13)[int(11)] + make_float3 (pSH12_3) * (*sh_coeffs_13)[int(12)] + make_float3 (pSH13_3) * (*sh_coeffs_13)[int(13)] + make_float3 (pSH14_3) * (*sh_coeffs_13)[int(14)] + make_float3 (pSH15_3) * (*sh_coeffs_13)[int(15)]) + make_float3 (0.5f);
    (&_S2842)->differential_0 = _S2764;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2843;
    (&_S2843)->primal_0 = _S2841;
    (&_S2843)->differential_0 = _S2764;
    s_bwd_prop_max_0(&_S2842, &_S2843, v_rgb_3);
    float3  _S2844 = _S2839 * _S2842.differential_0;
    float3  _S2845 = (*sh_coeffs_13)[int(15)] * _S2842.differential_0;
    float3  _S2846 = _S2837 * _S2842.differential_0;
    float3  _S2847 = (*sh_coeffs_13)[int(14)] * _S2842.differential_0;
    float3  _S2848 = _S2835 * _S2842.differential_0;
    float3  _S2849 = (*sh_coeffs_13)[int(13)] * _S2842.differential_0;
    float3  _S2850 = _S2834 * _S2842.differential_0;
    float3  _S2851 = (*sh_coeffs_13)[int(12)] * _S2842.differential_0;
    float3  _S2852 = _S2836 * _S2842.differential_0;
    float3  _S2853 = (*sh_coeffs_13)[int(11)] * _S2842.differential_0;
    float3  _S2854 = _S2838 * _S2842.differential_0;
    float3  _S2855 = (*sh_coeffs_13)[int(10)] * _S2842.differential_0;
    float3  _S2856 = _S2840 * _S2842.differential_0;
    float3  _S2857 = (*sh_coeffs_13)[int(9)] * _S2842.differential_0;
    float s_diff_fS2_T_3 = -0.59004360437393188f * (_S2857.x + _S2857.y + _S2857.z);
    float s_diff_fC2_T_3 = -0.59004360437393188f * (_S2845.x + _S2845.y + _S2845.z);
    float _S2858 = _S2855.x + _S2855.y + _S2855.z;
    float _S2859 = _S2847.x + _S2847.y + _S2847.z;
    float _S2860 = _S2853.x + _S2853.y + _S2853.z;
    float _S2861 = _S2849.x + _S2849.y + _S2849.z;
    float _S2862 = _S2851.x + _S2851.y + _S2851.z;
    float _S2863 = - s_diff_fC2_T_3;
    float3  _S2864 = _S2831 * _S2842.differential_0;
    float3  _S2865 = (*sh_coeffs_13)[int(8)] * _S2842.differential_0;
    float3  _S2866 = _S2829 * _S2842.differential_0;
    float3  _S2867 = (*sh_coeffs_13)[int(7)] * _S2842.differential_0;
    float3  _S2868 = _S2828 * _S2842.differential_0;
    float3  _S2869 = (*sh_coeffs_13)[int(6)] * _S2842.differential_0;
    float3  _S2870 = _S2830 * _S2842.differential_0;
    float3  _S2871 = (*sh_coeffs_13)[int(5)] * _S2842.differential_0;
    float3  _S2872 = _S2832 * _S2842.differential_0;
    float3  _S2873 = (*sh_coeffs_13)[int(4)] * _S2842.differential_0;
    float _S2874 = _S2871.x + _S2871.y + _S2871.z;
    float _S2875 = _S2867.x + _S2867.y + _S2867.z;
    float _S2876 = fTmp1B_13 * _S2858 + x_38 * s_diff_fS2_T_3 + y_16 * _S2863 + 0.54627424478530884f * (_S2873.x + _S2873.y + _S2873.z);
    float _S2877 = fTmp1B_13 * _S2859 + y_16 * s_diff_fS2_T_3 + x_38 * s_diff_fC2_T_3 + 0.54627424478530884f * (_S2865.x + _S2865.y + _S2865.z);
    float _S2878 = y_16 * - _S2877;
    float _S2879 = x_38 * _S2877;
    float _S2880 = z_13 * (1.86588168144226074f * (z_13 * _S2862) + -2.28522896766662598f * (y_16 * _S2860 + x_38 * _S2861) + 0.94617468118667603f * (_S2869.x + _S2869.y + _S2869.z));
    float3  _S2881 = make_float3 (0.48860251903533936f) * _S2842.differential_0;
    float3  _S2882 = - _S2881;
    float3  _S2883 = _S2822 * _S2882;
    float3  _S2884 = (*sh_coeffs_13)[int(3)] * _S2882;
    float3  _S2885 = _S2824 * _S2881;
    float3  _S2886 = (*sh_coeffs_13)[int(2)] * _S2881;
    float3  _S2887 = _S2826 * _S2881;
    float3  _S2888 = (*sh_coeffs_13)[int(1)] * _S2881;
    float _S2889 = (_S2833 * _S2862 + 1.44530570507049561f * (fS1_13 * _S2858 + fC1_13 * _S2859) + -1.09254848957061768f * (y_16 * _S2874 + x_38 * _S2875) + _S2880 + _S2880 + _S2886.x + _S2886.y + _S2886.z) / _S2823;
    float _S2890 = _S2821 * _S2889;
    float _S2891 = (fTmp0C_13 * _S2860 + fC1_13 * s_diff_fS2_T_3 + fS1_13 * _S2863 + fTmp0B_13 * _S2874 + _S2827 * _S2876 + _S2878 + _S2878 + - (_S2888.x + _S2888.y + _S2888.z)) / _S2823;
    float _S2892 = _S2821 * _S2891;
    float _S2893 = (fTmp0C_13 * _S2861 + fS1_13 * s_diff_fS2_T_3 + fC1_13 * s_diff_fC2_T_3 + fTmp0B_13 * _S2875 + 2.0f * (y_16 * _S2876) + _S2879 + _S2879 + _S2884.x + _S2884.y + _S2884.z) / _S2823;
    float _S2894 = _S2821 * _S2893;
    float _S2895 = _S2819 * - _S2889 + _S2818 * - _S2891 + _S2817 * - _S2893;
    DiffPair_float_0 _S2896;
    (&_S2896)->primal_0 = _S2820;
    (&_S2896)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2896, _S2895);
    float _S2897 = _S2819 * _S2896.differential_0;
    float _S2898 = _S2818 * _S2896.differential_0;
    float _S2899 = _S2817 * _S2896.differential_0;
    float3  _S2900 = make_float3 (0.282094806432724f) * _S2842.differential_0;
    float3  _S2901 = make_float3 (_S2894 + _S2899 + _S2899, _S2892 + _S2898 + _S2898, _S2890 + _S2897 + _S2897);
    float3  _S2902 = - - _S2901;
    Matrix<float, 3, 3>  _S2903 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2904;
    (&_S2904)->primal_0 = _S2815;
    (&_S2904)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2905;
    (&_S2905)->primal_0 = t_16;
    (&_S2905)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2904, &_S2905, _S2902);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2906 = _S2905;
    Matrix<float, 3, 3>  _S2907 = transpose_0(_S2904.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2908;
    (&_S2908)->primal_0 = _S2814;
    (&_S2908)->differential_0 = _S2764;
    s_bwd_prop_exp_1(&_S2908, v_conic_3);
    float3  _S2909 = - _S2908.differential_0;
    DiffPair_float_0 _S2910;
    (&_S2910)->primal_0 = _S2811;
    (&_S2910)->differential_0 = 0.0f;
    DiffPair_float_0 _S2911;
    (&_S2911)->primal_0 = _S2813;
    (&_S2911)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2910, &_S2911, v_depth_3);
    float _S2912 = _S2812 * _S2911.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2913;
    (&_S2913)->primal_0 = mean_c_13;
    (&_S2913)->differential_0 = _S2764;
    s_bwd_length_impl_1(&_S2913, _S2912);
    float _S2914 = _S2910.differential_0 + _S2912;
    DiffPair_float_0 _S2915;
    (&_S2915)->primal_0 = _S2810;
    (&_S2915)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2915, 0.0f);
    DiffPair_float_0 _S2916;
    (&_S2916)->primal_0 = _S2809;
    (&_S2916)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2916, 0.0f);
    DiffPair_float_0 _S2917;
    (&_S2917)->primal_0 = 3.32999992370605469f;
    (&_S2917)->differential_0 = 0.0f;
    DiffPair_float_0 _S2918;
    (&_S2918)->primal_0 = _S2808;
    (&_S2918)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2917, &_S2918, 0.0f);
    DiffPair_float_0 _S2919;
    (&_S2919)->primal_0 = _S2807;
    (&_S2919)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2919, _S2918.differential_0);
    float _S2920 = 2.0f * _S2919.differential_0;
    DiffPair_float_0 _S2921;
    (&_S2921)->primal_0 = _S2806;
    (&_S2921)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2921, _S2920);
    float _S2922 = v_opacity_3 + 254.9999847412109375f * _S2921.differential_0;
    FixedArray<float3 , 16>  _S2923;
    _S2923[int(0)] = _S2764;
    _S2923[int(1)] = _S2764;
    _S2923[int(2)] = _S2764;
    _S2923[int(3)] = _S2764;
    _S2923[int(4)] = _S2764;
    _S2923[int(5)] = _S2764;
    _S2923[int(6)] = _S2764;
    _S2923[int(7)] = _S2764;
    _S2923[int(8)] = _S2764;
    _S2923[int(9)] = _S2764;
    _S2923[int(10)] = _S2764;
    _S2923[int(11)] = _S2764;
    _S2923[int(12)] = _S2764;
    _S2923[int(13)] = _S2764;
    _S2923[int(14)] = _S2764;
    _S2923[int(15)] = _S2764;
    _S2923[int(7)] = _S2866;
    _S2923[int(0)] = _S2900;
    _S2923[int(1)] = _S2887;
    _S2923[int(2)] = _S2885;
    _S2923[int(3)] = _S2883;
    _S2923[int(4)] = _S2872;
    _S2923[int(5)] = _S2870;
    _S2923[int(6)] = _S2868;
    _S2923[int(15)] = _S2844;
    _S2923[int(8)] = _S2864;
    _S2923[int(9)] = _S2856;
    _S2923[int(10)] = _S2854;
    _S2923[int(11)] = _S2852;
    _S2923[int(12)] = _S2850;
    _S2923[int(13)] = _S2848;
    _S2923[int(14)] = _S2846;
    float3  _S2924 = _S2923[int(0)];
    float3  _S2925 = _S2923[int(1)];
    float3  _S2926 = _S2923[int(2)];
    float3  _S2927 = _S2923[int(3)];
    float3  _S2928 = _S2923[int(4)];
    float3  _S2929 = _S2923[int(5)];
    float3  _S2930 = _S2923[int(6)];
    float3  _S2931 = _S2923[int(7)];
    float3  _S2932 = _S2923[int(8)];
    float3  _S2933 = _S2923[int(9)];
    float3  _S2934 = _S2923[int(10)];
    float3  _S2935 = _S2923[int(11)];
    float3  _S2936 = _S2923[int(12)];
    float3  _S2937 = _S2923[int(13)];
    float3  _S2938 = _S2923[int(14)];
    float3  _S2939 = _S2923[int(15)];
    float3  _S2940 = _S2913.differential_0 + make_float3 (0.0f, 0.0f, _S2914);
    float2  _S2941 = make_float2 (0.0f, _S2915.differential_0);
    float2  _S2942 = make_float2 (_S2916.differential_0, 0.0f);
    float _S2943;
    if(antialiased_13)
    {
        float _S2944 = _S2803 * _S2922;
        _S2805 = _S2800 * _S2922;
        _S2943 = _S2944;
    }
    else
    {
        _S2805 = _S2922;
        _S2943 = 0.0f;
    }
    float _S2945 = - (_S2805 / _S2804);
    DiffPair_float_0 _S2946;
    (&_S2946)->primal_0 = _S2801;
    (&_S2946)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2946, _S2945);
    float _S2947 = - _S2946.differential_0;
    DiffPair_float_0 _S2948;
    (&_S2948)->primal_0 = _S2799;
    (&_S2948)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2948, _S2943);
    DiffPair_float_0 _S2949;
    (&_S2949)->primal_0 = 0.0f;
    (&_S2949)->differential_0 = 0.0f;
    DiffPair_float_0 _S2950;
    (&_S2950)->primal_0 = _S2797;
    (&_S2950)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2949, &_S2950, _S2948.differential_0);
    float _S2951 = _S2950.differential_0 / _S2798;
    float s_diff_det_blur_T_0 = det_orig_14 * - _S2951;
    float s_diff_det_orig_T_3 = det_blur_9 * _S2951;
    float _S2952 = - s_diff_det_blur_T_0;
    float _S2953 = _S2792 * s_diff_det_blur_T_0;
    float _S2954 = _S2794 * s_diff_det_blur_T_0;
    Matrix<float, 2, 2>  _S2955 = _S2761;
    _S2955[int(1)] = _S2941;
    _S2955[int(0)] = _S2942;
    float _S2956 = _S2954 + _S2955.rows[int(0)].x;
    float _S2957 = _S2952 + - s_diff_det_orig_T_3;
    float _S2958 = _S2787._S2760.rows[int(0)].y * _S2957;
    float _S2959 = _S2787._S2760.rows[int(1)].x * _S2957;
    float _S2960 = _S2787._S2760.rows[int(1)].y * s_diff_det_orig_T_3;
    float _S2961 = _S2953 + _S2955.rows[int(1)].y + _S2787._S2760.rows[int(0)].x * s_diff_det_orig_T_3;
    float2  _S2962 = _S2763;
    *&((&_S2962)->x) = _S2958;
    *&((&_S2962)->y) = _S2961;
    float _S2963 = _S2956 + _S2960;
    float2  _S2964 = _S2763;
    *&((&_S2964)->y) = _S2959;
    *&((&_S2964)->x) = _S2963;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2965;
    (&_S2965)->primal_0 = R_20;
    (&_S2965)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2966;
    (&_S2966)->primal_0 = _S2781;
    (&_S2966)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2965, &_S2966, _S2764);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2967;
    (&_S2967)->primal_0 = R_20;
    (&_S2967)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2968;
    (&_S2968)->primal_0 = _S2778;
    (&_S2968)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2967, &_S2968, _S2764);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2969;
    (&_S2969)->primal_0 = R_20;
    (&_S2969)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2970;
    (&_S2970)->primal_0 = _S2775;
    (&_S2970)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2969, &_S2970, _S2764);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2971;
    (&_S2971)->primal_0 = R_20;
    (&_S2971)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2972;
    (&_S2972)->primal_0 = _S2780;
    (&_S2972)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2971, &_S2972, _S2764);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2973;
    (&_S2973)->primal_0 = R_20;
    (&_S2973)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2974;
    (&_S2974)->primal_0 = _S2777;
    (&_S2974)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2973, &_S2974, _S2764);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2975;
    (&_S2975)->primal_0 = R_20;
    (&_S2975)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2976;
    (&_S2976)->primal_0 = _S2774;
    (&_S2976)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2975, &_S2976, _S2764);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2977;
    (&_S2977)->primal_0 = R_20;
    (&_S2977)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2978;
    (&_S2978)->primal_0 = _S2782.p_0[0U];
    (&_S2978)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S2977, &_S2978, _S2764);
    float3  _S2979 = - _S2966.differential_0 + _S2972.differential_0;
    float3  _S2980 = _S2790 * _S2979;
    float3  _S2981 = _S2767.rows[2U] * _S2979;
    float _S2982 = _S2772 * (_S2981.x + _S2981.y + _S2981.z);
    float3  _S2983 = - _S2968.differential_0 + _S2974.differential_0;
    float3  _S2984 = _S2789 * _S2983;
    float3  _S2985 = _S2767.rows[1U] * _S2983;
    float _S2986 = _S2772 * (_S2985.x + _S2985.y + _S2985.z);
    float3  _S2987 = - _S2970.differential_0 + _S2976.differential_0;
    float3  _S2988 = _S2788 * _S2987;
    float3  _S2989 = _S2767.rows[0U] * _S2987;
    float _S2990 = _S2772 * (_S2989.x + _S2989.y + _S2989.z);
    Matrix<float, 3, 3>  _S2991 = _S2903;
    _S2991[2U] = _S2980;
    _S2991[1U] = _S2984;
    _S2991[0U] = _S2988;
    Matrix<float, 3, 3>  _S2992 = transpose_0(transpose_0(_S2991));
    float _S2993 = 2.0f * - _S2992.rows[int(2)].z;
    float _S2994 = 2.0f * _S2992.rows[int(2)].y;
    float _S2995 = 2.0f * _S2992.rows[int(2)].x;
    float _S2996 = 2.0f * _S2992.rows[int(1)].z;
    float _S2997 = 2.0f * - _S2992.rows[int(1)].y;
    float _S2998 = 2.0f * _S2992.rows[int(1)].x;
    float _S2999 = 2.0f * _S2992.rows[int(0)].z;
    float _S3000 = 2.0f * _S2992.rows[int(0)].y;
    float _S3001 = 2.0f * - _S2992.rows[int(0)].x;
    float _S3002 = - _S2998 + _S3000;
    float _S3003 = _S2995 + - _S2999;
    float _S3004 = - _S2994 + _S2996;
    float _S3005 = _S2994 + _S2996;
    float _S3006 = _S2995 + _S2999;
    float _S3007 = _S2998 + _S3000;
    float _S3008 = quat_17.w * (_S2997 + _S3001);
    float _S3009 = quat_17.z * (_S2993 + _S3001);
    float _S3010 = quat_17.y * (_S2993 + _S2997);
    float _S3011 = quat_17.x * _S3002 + quat_17.z * _S3005 + quat_17.y * _S3006 + _S3008 + _S3008;
    float _S3012 = quat_17.x * _S3003 + quat_17.w * _S3005 + quat_17.y * _S3007 + _S3009 + _S3009;
    float _S3013 = quat_17.x * _S3004 + quat_17.w * _S3006 + quat_17.z * _S3007 + _S3010 + _S3010;
    float _S3014 = quat_17.w * _S3002 + quat_17.z * _S3003 + quat_17.y * _S3004;
    float3  _S3015 = _S2764;
    *&((&_S3015)->z) = _S2982;
    *&((&_S3015)->y) = _S2986;
    *&((&_S3015)->x) = _S2990;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3016;
    (&_S3016)->primal_0 = scale_16;
    (&_S3016)->differential_0 = _S2764;
    s_bwd_prop_exp_1(&_S3016, _S3015);
    Matrix<float, 2, 2>  _S3017 = _S2761;
    _S3017[int(1)] = _S2962;
    _S3017[int(0)] = _S2964;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3018;
    (&_S3018)->primal_0 = R_20;
    (&_S3018)->differential_0 = _S2903;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3019;
    (&_S3019)->primal_0 = mean_14;
    (&_S3019)->differential_0 = _S2764;
    s_bwd_prop_mul_1(&_S3018, &_S3019, _S2940);
    float3  _S3020 = _S2940 + _S2906.differential_0;
    Matrix<float, 3, 3>  _S3021 = _S2965.differential_0 + _S2967.differential_0 + _S2969.differential_0 + _S2971.differential_0 + _S2973.differential_0 + _S2975.differential_0 + _S2977.differential_0 + _S3018.differential_0 + _S2907;
    float3  _S3022 = _S3016.differential_0 + _S2909;
    float4  _S3023 = make_float4 (0.0f);
    *&((&_S3023)->w) = _S3011;
    *&((&_S3023)->z) = _S3012;
    *&((&_S3023)->y) = _S3013;
    *&((&_S3023)->x) = _S3014;
    float4  _S3024 = _S3023;
    float3  _S3025 = _S2966.differential_0 + _S2972.differential_0 + _S2968.differential_0 + _S2974.differential_0 + _S2970.differential_0 + _S2976.differential_0 + _S3019.differential_0 + _S2901;
    *v_mean_3 = _S3025;
    *v_quat_3 = _S3024;
    *v_scale_3 = _S3022;
    *v_in_opacity_3 = _S2947;
    (*v_sh_coeffs_3)[int(0)] = _S2924;
    (*v_sh_coeffs_3)[int(1)] = _S2925;
    (*v_sh_coeffs_3)[int(2)] = _S2926;
    (*v_sh_coeffs_3)[int(3)] = _S2927;
    (*v_sh_coeffs_3)[int(4)] = _S2928;
    (*v_sh_coeffs_3)[int(5)] = _S2929;
    (*v_sh_coeffs_3)[int(6)] = _S2930;
    (*v_sh_coeffs_3)[int(7)] = _S2931;
    (*v_sh_coeffs_3)[int(8)] = _S2932;
    (*v_sh_coeffs_3)[int(9)] = _S2933;
    (*v_sh_coeffs_3)[int(10)] = _S2934;
    (*v_sh_coeffs_3)[int(11)] = _S2935;
    (*v_sh_coeffs_3)[int(12)] = _S2936;
    (*v_sh_coeffs_3)[int(13)] = _S2937;
    (*v_sh_coeffs_3)[int(14)] = _S2938;
    (*v_sh_coeffs_3)[int(15)] = _S2939;
    *v_R_5 = _S3021;
    *v_t_4 = _S3020;
    return;
}

struct s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S3026;
};

inline __device__ void projection_3dgut_fisheye_vjp(bool antialiased_14, float3  mean_15, float4  quat_18, float3  scale_17, float in_opacity_14, FixedArray<float3 , 16>  * sh_coeffs_14, Matrix<float, 3, 3>  R_21, float3  t_17, float fx_26, float fy_26, float cx_21, float cy_21, FixedArray<float, 10>  * dist_coeffs_29, uint image_width_14, uint image_height_14, float2  v_mean2d_4, float v_depth_4, float3  v_conic_4, float v_opacity_4, float3  v_rgb_4, float3  * v_mean_4, float4  * v_quat_4, float3  * v_scale_4, float * v_in_opacity_4, FixedArray<float3 , 16>  * v_sh_coeffs_4, Matrix<float, 3, 3>  * v_R_6, float3  * v_t_5)
{
    Matrix<float, 2, 2>  _S3027 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S3028;
    (&_S3028)->_S3026 = _S3027;
    float2  _S3029 = make_float2 (0.0f);
    float3  _S3030 = make_float3 (0.0f);
    float4  intrins_17 = make_float4 (fx_26, fy_26, cx_21, cy_21);
    float3  _S3031 = s_primal_ctx_exp_0(scale_17);
    float _S3032 = quat_18.y;
    float x2_18 = _S3032 * _S3032;
    float y2_18 = quat_18.z * quat_18.z;
    float z2_32 = quat_18.w * quat_18.w;
    float xy_18 = quat_18.y * quat_18.z;
    float xz_18 = quat_18.y * quat_18.w;
    float yz_18 = quat_18.z * quat_18.w;
    float wx_18 = quat_18.x * quat_18.y;
    float wy_18 = quat_18.x * quat_18.z;
    float wz_18 = quat_18.x * quat_18.w;
    Matrix<float, 3, 3>  _S3033 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_18 + z2_32), 2.0f * (xy_18 + wz_18), 2.0f * (xz_18 - wy_18), 2.0f * (xy_18 - wz_18), 1.0f - 2.0f * (x2_18 + z2_32), 2.0f * (yz_18 + wx_18), 2.0f * (xz_18 + wy_18), 2.0f * (yz_18 - wx_18), 1.0f - 2.0f * (x2_18 + y2_18))));
    FixedArray<float3 , 7>  _S3034 = {
        _S3030, _S3030, _S3030, _S3030, _S3030, _S3030, _S3030
    };
    FixedArray<float, 7>  _S3035 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3036;
    (&_S3036)->p_0 = _S3034;
    (&_S3036)->w_mean_0 = _S3035;
    (&_S3036)->w_cov_0 = _S3035;
    (&_S3036)->p_0[int(0)] = mean_15;
    SigmaPoints_0 _S3037 = _S3036;
    (&_S3037)->w_mean_0[int(0)] = 0.0f;
    (&_S3037)->w_cov_0[int(0)] = 2.0f;
    float _S3038 = s_primal_ctx_sqrt_0(3.0f);
    float _S3039 = _S3038 * _S3031.x;
    float3  delta_15 = make_float3 (_S3039) * _S3033.rows[0U];
    float3  _S3040 = mean_15 + delta_15;
    float3  _S3041 = mean_15 - delta_15;
    float _S3042 = _S3038 * _S3031.y;
    float3  delta_16 = make_float3 (_S3042) * _S3033.rows[1U];
    float3  _S3043 = mean_15 + delta_16;
    float3  _S3044 = mean_15 - delta_16;
    float _S3045 = _S3038 * _S3031.z;
    float3  delta_17 = make_float3 (_S3045) * _S3033.rows[2U];
    float3  _S3046 = mean_15 + delta_17;
    float3  _S3047 = mean_15 - delta_17;
    (&_S3037)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3037)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3037)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3037)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3037)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3037)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3037)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3037)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3037)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3037)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3037)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3037)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S3048 = _S3036;
    (&_S3037)->p_0[0U] = s_primal_ctx_mul_0(R_21, _S3036.p_0[0U]) + t_17;
    (&_S3037)->p_0[1U] = s_primal_ctx_mul_0(R_21, _S3040) + t_17;
    (&_S3037)->p_0[2U] = s_primal_ctx_mul_0(R_21, _S3043) + t_17;
    (&_S3037)->p_0[3U] = s_primal_ctx_mul_0(R_21, _S3046) + t_17;
    (&_S3037)->p_0[4U] = s_primal_ctx_mul_0(R_21, _S3041) + t_17;
    (&_S3037)->p_0[5U] = s_primal_ctx_mul_0(R_21, _S3044) + t_17;
    (&_S3037)->p_0[6U] = s_primal_ctx_mul_0(R_21, _S3047) + t_17;
    float2  _S3049 = _S3029;
    Matrix<float, 2, 2>  _S3050 = _S3027;
    SigmaPoints_0 _S3051 = _S3037;
    bool _S3052 = fisheye_proj_3dgs_ut_1(&_S3051, intrins_17, dist_coeffs_29, &_S3050, &_S3049);
    (&_S3028)->_S3026 = _S3050;
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S3053 = _S3028;
    float3  mean_c_14 = s_primal_ctx_mul_0(R_21, mean_15) + t_17;
    float _S3054 = length_1(mean_c_14);
    float3  _S3055 = make_float3 (_S3039);
    float3  _S3056 = make_float3 (_S3042);
    float3  _S3057 = make_float3 (_S3045);
    float _S3058 = _S3028._S3026.rows[int(0)].y * _S3028._S3026.rows[int(1)].x;
    float det_orig_15 = _S3028._S3026.rows[int(0)].x * _S3028._S3026.rows[int(1)].y - _S3058;
    float _S3059 = _S3028._S3026.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3060 = _S3028._S3026;
    *&(((&_S3060)->rows + (int(0)))->x) = _S3059;
    float _S3061 = _S3028._S3026.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3060)->rows + (int(1)))->y) = _S3061;
    Matrix<float, 2, 2>  _S3062 = _S3060;
    Matrix<float, 2, 2>  _S3063 = _S3060;
    float det_blur_10 = _S3059 * _S3061 - _S3058;
    float _S3064 = det_orig_15 / det_blur_10;
    float _S3065 = det_blur_10 * det_blur_10;
    float _S3066 = s_primal_ctx_max_0(0.0f, _S3064);
    float _S3067 = s_primal_ctx_sqrt_0(_S3066);
    float _S3068 = - in_opacity_14;
    float _S3069 = 1.0f + s_primal_ctx_exp_1(_S3068);
    float _S3070 = 1.0f / _S3069;
    float _S3071 = _S3069 * _S3069;
    float _S3072;
    if(antialiased_14)
    {
        _S3072 = _S3070 * _S3067;
    }
    else
    {
        _S3072 = _S3070;
    }
    float _S3073 = _S3072 / 0.00392156885936856f;
    float _S3074 = 2.0f * s_primal_ctx_log_0(_S3073);
    float _S3075 = s_primal_ctx_sqrt_0(_S3074);
    float _S3076 = _S3062.rows[int(0)].x;
    float _S3077 = _S3063.rows[int(1)].y;
    float _S3078 = mean_c_14.z;
    float _S3079 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S3080 = _S3079 * (_S3078 + _S3054);
    float3  _S3081 = - scale_17;
    Matrix<float, 3, 3>  _S3082 = transpose_0(R_21);
    float3  _S3083 = mean_15 - - s_primal_ctx_mul_0(_S3082, t_17);
    float _S3084 = _S3083.x;
    float _S3085 = _S3083.y;
    float _S3086 = _S3083.z;
    float _S3087 = _S3084 * _S3084 + _S3085 * _S3085 + _S3086 * _S3086;
    float _S3088 = s_primal_ctx_sqrt_0(_S3087);
    float x_39 = _S3084 / _S3088;
    float3  _S3089 = make_float3 (x_39);
    float _S3090 = _S3088 * _S3088;
    float y_17 = _S3085 / _S3088;
    float z_14 = _S3086 / _S3088;
    float3  _S3091 = make_float3 (z_14);
    float _S3092 = - y_17;
    float3  _S3093 = make_float3 (_S3092);
    float z2_33 = z_14 * z_14;
    float fTmp0B_14 = -1.09254848957061768f * z_14;
    float fC1_14 = x_39 * x_39 - y_17 * y_17;
    float _S3094 = 2.0f * x_39;
    float fS1_14 = _S3094 * y_17;
    float pSH6_4 = 0.94617468118667603f * z2_33 - 0.31539157032966614f;
    float3  _S3095 = make_float3 (pSH6_4);
    float pSH7_4 = fTmp0B_14 * x_39;
    float3  _S3096 = make_float3 (pSH7_4);
    float pSH5_4 = fTmp0B_14 * y_17;
    float3  _S3097 = make_float3 (pSH5_4);
    float pSH8_4 = 0.54627424478530884f * fC1_14;
    float3  _S3098 = make_float3 (pSH8_4);
    float pSH4_4 = 0.54627424478530884f * fS1_14;
    float3  _S3099 = make_float3 (pSH4_4);
    float fTmp0C_14 = -2.28522896766662598f * z2_33 + 0.4570457935333252f;
    float fTmp1B_14 = 1.44530570507049561f * z_14;
    float _S3100 = 1.86588168144226074f * z2_33 - 1.11952900886535645f;
    float pSH12_4 = z_14 * _S3100;
    float3  _S3101 = make_float3 (pSH12_4);
    float pSH13_4 = fTmp0C_14 * x_39;
    float3  _S3102 = make_float3 (pSH13_4);
    float pSH11_4 = fTmp0C_14 * y_17;
    float3  _S3103 = make_float3 (pSH11_4);
    float pSH14_4 = fTmp1B_14 * fC1_14;
    float3  _S3104 = make_float3 (pSH14_4);
    float pSH10_4 = fTmp1B_14 * fS1_14;
    float3  _S3105 = make_float3 (pSH10_4);
    float pSH15_4 = -0.59004360437393188f * (x_39 * fC1_14 - y_17 * fS1_14);
    float3  _S3106 = make_float3 (pSH15_4);
    float pSH9_4 = -0.59004360437393188f * (x_39 * fS1_14 + y_17 * fC1_14);
    float3  _S3107 = make_float3 (pSH9_4);
    float3  _S3108 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3109;
    (&_S3109)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_14)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S3092) * (*sh_coeffs_14)[int(1)] + make_float3 (z_14) * (*sh_coeffs_14)[int(2)] - make_float3 (x_39) * (*sh_coeffs_14)[int(3)]) + (make_float3 (pSH4_4) * (*sh_coeffs_14)[int(4)] + make_float3 (pSH5_4) * (*sh_coeffs_14)[int(5)] + make_float3 (pSH6_4) * (*sh_coeffs_14)[int(6)] + make_float3 (pSH7_4) * (*sh_coeffs_14)[int(7)] + make_float3 (pSH8_4) * (*sh_coeffs_14)[int(8)]) + (make_float3 (pSH9_4) * (*sh_coeffs_14)[int(9)] + make_float3 (pSH10_4) * (*sh_coeffs_14)[int(10)] + make_float3 (pSH11_4) * (*sh_coeffs_14)[int(11)] + make_float3 (pSH12_4) * (*sh_coeffs_14)[int(12)] + make_float3 (pSH13_4) * (*sh_coeffs_14)[int(13)] + make_float3 (pSH14_4) * (*sh_coeffs_14)[int(14)] + make_float3 (pSH15_4) * (*sh_coeffs_14)[int(15)]) + make_float3 (0.5f);
    (&_S3109)->differential_0 = _S3030;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3110;
    (&_S3110)->primal_0 = _S3108;
    (&_S3110)->differential_0 = _S3030;
    s_bwd_prop_max_0(&_S3109, &_S3110, v_rgb_4);
    float3  _S3111 = _S3106 * _S3109.differential_0;
    float3  _S3112 = (*sh_coeffs_14)[int(15)] * _S3109.differential_0;
    float3  _S3113 = _S3104 * _S3109.differential_0;
    float3  _S3114 = (*sh_coeffs_14)[int(14)] * _S3109.differential_0;
    float3  _S3115 = _S3102 * _S3109.differential_0;
    float3  _S3116 = (*sh_coeffs_14)[int(13)] * _S3109.differential_0;
    float3  _S3117 = _S3101 * _S3109.differential_0;
    float3  _S3118 = (*sh_coeffs_14)[int(12)] * _S3109.differential_0;
    float3  _S3119 = _S3103 * _S3109.differential_0;
    float3  _S3120 = (*sh_coeffs_14)[int(11)] * _S3109.differential_0;
    float3  _S3121 = _S3105 * _S3109.differential_0;
    float3  _S3122 = (*sh_coeffs_14)[int(10)] * _S3109.differential_0;
    float3  _S3123 = _S3107 * _S3109.differential_0;
    float3  _S3124 = (*sh_coeffs_14)[int(9)] * _S3109.differential_0;
    float s_diff_fS2_T_4 = -0.59004360437393188f * (_S3124.x + _S3124.y + _S3124.z);
    float s_diff_fC2_T_4 = -0.59004360437393188f * (_S3112.x + _S3112.y + _S3112.z);
    float _S3125 = _S3122.x + _S3122.y + _S3122.z;
    float _S3126 = _S3114.x + _S3114.y + _S3114.z;
    float _S3127 = _S3120.x + _S3120.y + _S3120.z;
    float _S3128 = _S3116.x + _S3116.y + _S3116.z;
    float _S3129 = _S3118.x + _S3118.y + _S3118.z;
    float _S3130 = - s_diff_fC2_T_4;
    float3  _S3131 = _S3098 * _S3109.differential_0;
    float3  _S3132 = (*sh_coeffs_14)[int(8)] * _S3109.differential_0;
    float3  _S3133 = _S3096 * _S3109.differential_0;
    float3  _S3134 = (*sh_coeffs_14)[int(7)] * _S3109.differential_0;
    float3  _S3135 = _S3095 * _S3109.differential_0;
    float3  _S3136 = (*sh_coeffs_14)[int(6)] * _S3109.differential_0;
    float3  _S3137 = _S3097 * _S3109.differential_0;
    float3  _S3138 = (*sh_coeffs_14)[int(5)] * _S3109.differential_0;
    float3  _S3139 = _S3099 * _S3109.differential_0;
    float3  _S3140 = (*sh_coeffs_14)[int(4)] * _S3109.differential_0;
    float _S3141 = _S3138.x + _S3138.y + _S3138.z;
    float _S3142 = _S3134.x + _S3134.y + _S3134.z;
    float _S3143 = fTmp1B_14 * _S3125 + x_39 * s_diff_fS2_T_4 + y_17 * _S3130 + 0.54627424478530884f * (_S3140.x + _S3140.y + _S3140.z);
    float _S3144 = fTmp1B_14 * _S3126 + y_17 * s_diff_fS2_T_4 + x_39 * s_diff_fC2_T_4 + 0.54627424478530884f * (_S3132.x + _S3132.y + _S3132.z);
    float _S3145 = y_17 * - _S3144;
    float _S3146 = x_39 * _S3144;
    float _S3147 = z_14 * (1.86588168144226074f * (z_14 * _S3129) + -2.28522896766662598f * (y_17 * _S3127 + x_39 * _S3128) + 0.94617468118667603f * (_S3136.x + _S3136.y + _S3136.z));
    float3  _S3148 = make_float3 (0.48860251903533936f) * _S3109.differential_0;
    float3  _S3149 = - _S3148;
    float3  _S3150 = _S3089 * _S3149;
    float3  _S3151 = (*sh_coeffs_14)[int(3)] * _S3149;
    float3  _S3152 = _S3091 * _S3148;
    float3  _S3153 = (*sh_coeffs_14)[int(2)] * _S3148;
    float3  _S3154 = _S3093 * _S3148;
    float3  _S3155 = (*sh_coeffs_14)[int(1)] * _S3148;
    float _S3156 = (_S3100 * _S3129 + 1.44530570507049561f * (fS1_14 * _S3125 + fC1_14 * _S3126) + -1.09254848957061768f * (y_17 * _S3141 + x_39 * _S3142) + _S3147 + _S3147 + _S3153.x + _S3153.y + _S3153.z) / _S3090;
    float _S3157 = _S3088 * _S3156;
    float _S3158 = (fTmp0C_14 * _S3127 + fC1_14 * s_diff_fS2_T_4 + fS1_14 * _S3130 + fTmp0B_14 * _S3141 + _S3094 * _S3143 + _S3145 + _S3145 + - (_S3155.x + _S3155.y + _S3155.z)) / _S3090;
    float _S3159 = _S3088 * _S3158;
    float _S3160 = (fTmp0C_14 * _S3128 + fS1_14 * s_diff_fS2_T_4 + fC1_14 * s_diff_fC2_T_4 + fTmp0B_14 * _S3142 + 2.0f * (y_17 * _S3143) + _S3146 + _S3146 + _S3151.x + _S3151.y + _S3151.z) / _S3090;
    float _S3161 = _S3088 * _S3160;
    float _S3162 = _S3086 * - _S3156 + _S3085 * - _S3158 + _S3084 * - _S3160;
    DiffPair_float_0 _S3163;
    (&_S3163)->primal_0 = _S3087;
    (&_S3163)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3163, _S3162);
    float _S3164 = _S3086 * _S3163.differential_0;
    float _S3165 = _S3085 * _S3163.differential_0;
    float _S3166 = _S3084 * _S3163.differential_0;
    float3  _S3167 = make_float3 (0.282094806432724f) * _S3109.differential_0;
    float3  _S3168 = make_float3 (_S3161 + _S3166 + _S3166, _S3159 + _S3165 + _S3165, _S3157 + _S3164 + _S3164);
    float3  _S3169 = - - _S3168;
    Matrix<float, 3, 3>  _S3170 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3171;
    (&_S3171)->primal_0 = _S3082;
    (&_S3171)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3172;
    (&_S3172)->primal_0 = t_17;
    (&_S3172)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3171, &_S3172, _S3169);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3173 = _S3172;
    Matrix<float, 3, 3>  _S3174 = transpose_0(_S3171.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3175;
    (&_S3175)->primal_0 = _S3081;
    (&_S3175)->differential_0 = _S3030;
    s_bwd_prop_exp_1(&_S3175, v_conic_4);
    float3  _S3176 = - _S3175.differential_0;
    DiffPair_float_0 _S3177;
    (&_S3177)->primal_0 = _S3078;
    (&_S3177)->differential_0 = 0.0f;
    DiffPair_float_0 _S3178;
    (&_S3178)->primal_0 = _S3080;
    (&_S3178)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3177, &_S3178, v_depth_4);
    float _S3179 = _S3079 * _S3178.differential_0;
    float _S3180 = _S3177.differential_0 + _S3179;
    DiffPair_float_0 _S3181;
    (&_S3181)->primal_0 = _S3077;
    (&_S3181)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3181, 0.0f);
    DiffPair_float_0 _S3182;
    (&_S3182)->primal_0 = _S3076;
    (&_S3182)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3182, 0.0f);
    DiffPair_float_0 _S3183;
    (&_S3183)->primal_0 = 3.32999992370605469f;
    (&_S3183)->differential_0 = 0.0f;
    DiffPair_float_0 _S3184;
    (&_S3184)->primal_0 = _S3075;
    (&_S3184)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3183, &_S3184, 0.0f);
    DiffPair_float_0 _S3185;
    (&_S3185)->primal_0 = _S3074;
    (&_S3185)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3185, _S3184.differential_0);
    float _S3186 = 2.0f * _S3185.differential_0;
    DiffPair_float_0 _S3187;
    (&_S3187)->primal_0 = _S3073;
    (&_S3187)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3187, _S3186);
    float _S3188 = v_opacity_4 + 254.9999847412109375f * _S3187.differential_0;
    FixedArray<float3 , 16>  _S3189;
    _S3189[int(0)] = _S3030;
    _S3189[int(1)] = _S3030;
    _S3189[int(2)] = _S3030;
    _S3189[int(3)] = _S3030;
    _S3189[int(4)] = _S3030;
    _S3189[int(5)] = _S3030;
    _S3189[int(6)] = _S3030;
    _S3189[int(7)] = _S3030;
    _S3189[int(8)] = _S3030;
    _S3189[int(9)] = _S3030;
    _S3189[int(10)] = _S3030;
    _S3189[int(11)] = _S3030;
    _S3189[int(12)] = _S3030;
    _S3189[int(13)] = _S3030;
    _S3189[int(14)] = _S3030;
    _S3189[int(15)] = _S3030;
    _S3189[int(7)] = _S3133;
    _S3189[int(0)] = _S3167;
    _S3189[int(1)] = _S3154;
    _S3189[int(2)] = _S3152;
    _S3189[int(3)] = _S3150;
    _S3189[int(4)] = _S3139;
    _S3189[int(5)] = _S3137;
    _S3189[int(6)] = _S3135;
    _S3189[int(15)] = _S3111;
    _S3189[int(8)] = _S3131;
    _S3189[int(9)] = _S3123;
    _S3189[int(10)] = _S3121;
    _S3189[int(11)] = _S3119;
    _S3189[int(12)] = _S3117;
    _S3189[int(13)] = _S3115;
    _S3189[int(14)] = _S3113;
    float3  _S3190 = _S3189[int(0)];
    float3  _S3191 = _S3189[int(1)];
    float3  _S3192 = _S3189[int(2)];
    float3  _S3193 = _S3189[int(3)];
    float3  _S3194 = _S3189[int(4)];
    float3  _S3195 = _S3189[int(5)];
    float3  _S3196 = _S3189[int(6)];
    float3  _S3197 = _S3189[int(7)];
    float3  _S3198 = _S3189[int(8)];
    float3  _S3199 = _S3189[int(9)];
    float3  _S3200 = _S3189[int(10)];
    float3  _S3201 = _S3189[int(11)];
    float3  _S3202 = _S3189[int(12)];
    float3  _S3203 = _S3189[int(13)];
    float3  _S3204 = _S3189[int(14)];
    float3  _S3205 = _S3189[int(15)];
    float3  _S3206 = make_float3 (0.0f, 0.0f, _S3180);
    float2  _S3207 = make_float2 (0.0f, _S3181.differential_0);
    float2  _S3208 = make_float2 (_S3182.differential_0, 0.0f);
    float _S3209;
    if(antialiased_14)
    {
        float _S3210 = _S3070 * _S3188;
        _S3072 = _S3067 * _S3188;
        _S3209 = _S3210;
    }
    else
    {
        _S3072 = _S3188;
        _S3209 = 0.0f;
    }
    float _S3211 = - (_S3072 / _S3071);
    DiffPair_float_0 _S3212;
    (&_S3212)->primal_0 = _S3068;
    (&_S3212)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3212, _S3211);
    float _S3213 = - _S3212.differential_0;
    DiffPair_float_0 _S3214;
    (&_S3214)->primal_0 = _S3066;
    (&_S3214)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3214, _S3209);
    DiffPair_float_0 _S3215;
    (&_S3215)->primal_0 = 0.0f;
    (&_S3215)->differential_0 = 0.0f;
    DiffPair_float_0 _S3216;
    (&_S3216)->primal_0 = _S3064;
    (&_S3216)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3215, &_S3216, _S3214.differential_0);
    float _S3217 = _S3216.differential_0 / _S3065;
    float s_diff_det_blur_T_1 = det_orig_15 * - _S3217;
    float s_diff_det_orig_T_4 = det_blur_10 * _S3217;
    float _S3218 = - s_diff_det_blur_T_1;
    float _S3219 = _S3059 * s_diff_det_blur_T_1;
    float _S3220 = _S3061 * s_diff_det_blur_T_1;
    Matrix<float, 2, 2>  _S3221 = _S3027;
    _S3221[int(1)] = _S3207;
    _S3221[int(0)] = _S3208;
    float _S3222 = _S3220 + _S3221.rows[int(0)].x;
    float _S3223 = _S3218 + - s_diff_det_orig_T_4;
    float _S3224 = _S3053._S3026.rows[int(0)].y * _S3223;
    float _S3225 = _S3053._S3026.rows[int(1)].x * _S3223;
    float _S3226 = _S3053._S3026.rows[int(1)].y * s_diff_det_orig_T_4;
    float _S3227 = _S3219 + _S3221.rows[int(1)].y + _S3053._S3026.rows[int(0)].x * s_diff_det_orig_T_4;
    float2  _S3228 = _S3029;
    *&((&_S3228)->x) = _S3224;
    *&((&_S3228)->y) = _S3227;
    float _S3229 = _S3222 + _S3226;
    float2  _S3230 = _S3029;
    *&((&_S3230)->y) = _S3225;
    *&((&_S3230)->x) = _S3229;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3231;
    (&_S3231)->primal_0 = R_21;
    (&_S3231)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3232;
    (&_S3232)->primal_0 = _S3047;
    (&_S3232)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3231, &_S3232, _S3030);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3233;
    (&_S3233)->primal_0 = R_21;
    (&_S3233)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3234;
    (&_S3234)->primal_0 = _S3044;
    (&_S3234)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3233, &_S3234, _S3030);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3235;
    (&_S3235)->primal_0 = R_21;
    (&_S3235)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3236;
    (&_S3236)->primal_0 = _S3041;
    (&_S3236)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3235, &_S3236, _S3030);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3237;
    (&_S3237)->primal_0 = R_21;
    (&_S3237)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3238;
    (&_S3238)->primal_0 = _S3046;
    (&_S3238)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3237, &_S3238, _S3030);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3239;
    (&_S3239)->primal_0 = R_21;
    (&_S3239)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3240;
    (&_S3240)->primal_0 = _S3043;
    (&_S3240)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3239, &_S3240, _S3030);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3241;
    (&_S3241)->primal_0 = R_21;
    (&_S3241)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3242;
    (&_S3242)->primal_0 = _S3040;
    (&_S3242)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3241, &_S3242, _S3030);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3243;
    (&_S3243)->primal_0 = R_21;
    (&_S3243)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3244;
    (&_S3244)->primal_0 = _S3048.p_0[0U];
    (&_S3244)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3243, &_S3244, _S3030);
    float3  _S3245 = - _S3232.differential_0 + _S3238.differential_0;
    float3  _S3246 = _S3057 * _S3245;
    float3  _S3247 = _S3033.rows[2U] * _S3245;
    float _S3248 = _S3038 * (_S3247.x + _S3247.y + _S3247.z);
    float3  _S3249 = - _S3234.differential_0 + _S3240.differential_0;
    float3  _S3250 = _S3056 * _S3249;
    float3  _S3251 = _S3033.rows[1U] * _S3249;
    float _S3252 = _S3038 * (_S3251.x + _S3251.y + _S3251.z);
    float3  _S3253 = - _S3236.differential_0 + _S3242.differential_0;
    float3  _S3254 = _S3055 * _S3253;
    float3  _S3255 = _S3033.rows[0U] * _S3253;
    float _S3256 = _S3038 * (_S3255.x + _S3255.y + _S3255.z);
    Matrix<float, 3, 3>  _S3257 = _S3170;
    _S3257[2U] = _S3246;
    _S3257[1U] = _S3250;
    _S3257[0U] = _S3254;
    Matrix<float, 3, 3>  _S3258 = transpose_0(transpose_0(_S3257));
    float _S3259 = 2.0f * - _S3258.rows[int(2)].z;
    float _S3260 = 2.0f * _S3258.rows[int(2)].y;
    float _S3261 = 2.0f * _S3258.rows[int(2)].x;
    float _S3262 = 2.0f * _S3258.rows[int(1)].z;
    float _S3263 = 2.0f * - _S3258.rows[int(1)].y;
    float _S3264 = 2.0f * _S3258.rows[int(1)].x;
    float _S3265 = 2.0f * _S3258.rows[int(0)].z;
    float _S3266 = 2.0f * _S3258.rows[int(0)].y;
    float _S3267 = 2.0f * - _S3258.rows[int(0)].x;
    float _S3268 = - _S3264 + _S3266;
    float _S3269 = _S3261 + - _S3265;
    float _S3270 = - _S3260 + _S3262;
    float _S3271 = _S3260 + _S3262;
    float _S3272 = _S3261 + _S3265;
    float _S3273 = _S3264 + _S3266;
    float _S3274 = quat_18.w * (_S3263 + _S3267);
    float _S3275 = quat_18.z * (_S3259 + _S3267);
    float _S3276 = quat_18.y * (_S3259 + _S3263);
    float _S3277 = quat_18.x * _S3268 + quat_18.z * _S3271 + quat_18.y * _S3272 + _S3274 + _S3274;
    float _S3278 = quat_18.x * _S3269 + quat_18.w * _S3271 + quat_18.y * _S3273 + _S3275 + _S3275;
    float _S3279 = quat_18.x * _S3270 + quat_18.w * _S3272 + quat_18.z * _S3273 + _S3276 + _S3276;
    float _S3280 = quat_18.w * _S3268 + quat_18.z * _S3269 + quat_18.y * _S3270;
    float3  _S3281 = _S3030;
    *&((&_S3281)->z) = _S3248;
    *&((&_S3281)->y) = _S3252;
    *&((&_S3281)->x) = _S3256;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3282;
    (&_S3282)->primal_0 = scale_17;
    (&_S3282)->differential_0 = _S3030;
    s_bwd_prop_exp_1(&_S3282, _S3281);
    Matrix<float, 2, 2>  _S3283 = _S3027;
    _S3283[int(1)] = _S3228;
    _S3283[int(0)] = _S3230;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3284;
    (&_S3284)->primal_0 = mean_c_14;
    (&_S3284)->differential_0 = _S3030;
    s_bwd_length_impl_1(&_S3284, _S3179);
    float3  _S3285 = _S3284.differential_0 + _S3206;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3286;
    (&_S3286)->primal_0 = R_21;
    (&_S3286)->differential_0 = _S3170;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3287;
    (&_S3287)->primal_0 = mean_15;
    (&_S3287)->differential_0 = _S3030;
    s_bwd_prop_mul_1(&_S3286, &_S3287, _S3285);
    float3  _S3288 = _S3285 + _S3173.differential_0;
    Matrix<float, 3, 3>  _S3289 = _S3231.differential_0 + _S3233.differential_0 + _S3235.differential_0 + _S3237.differential_0 + _S3239.differential_0 + _S3241.differential_0 + _S3243.differential_0 + _S3286.differential_0 + _S3174;
    float3  _S3290 = _S3282.differential_0 + _S3176;
    float4  _S3291 = make_float4 (0.0f);
    *&((&_S3291)->w) = _S3277;
    *&((&_S3291)->z) = _S3278;
    *&((&_S3291)->y) = _S3279;
    *&((&_S3291)->x) = _S3280;
    float4  _S3292 = _S3291;
    float3  _S3293 = _S3232.differential_0 + _S3238.differential_0 + _S3234.differential_0 + _S3240.differential_0 + _S3236.differential_0 + _S3242.differential_0 + _S3287.differential_0 + _S3168;
    *v_mean_4 = _S3293;
    *v_quat_4 = _S3292;
    *v_scale_4 = _S3290;
    *v_in_opacity_4 = _S3213;
    (*v_sh_coeffs_4)[int(0)] = _S3190;
    (*v_sh_coeffs_4)[int(1)] = _S3191;
    (*v_sh_coeffs_4)[int(2)] = _S3192;
    (*v_sh_coeffs_4)[int(3)] = _S3193;
    (*v_sh_coeffs_4)[int(4)] = _S3194;
    (*v_sh_coeffs_4)[int(5)] = _S3195;
    (*v_sh_coeffs_4)[int(6)] = _S3196;
    (*v_sh_coeffs_4)[int(7)] = _S3197;
    (*v_sh_coeffs_4)[int(8)] = _S3198;
    (*v_sh_coeffs_4)[int(9)] = _S3199;
    (*v_sh_coeffs_4)[int(10)] = _S3200;
    (*v_sh_coeffs_4)[int(11)] = _S3201;
    (*v_sh_coeffs_4)[int(12)] = _S3202;
    (*v_sh_coeffs_4)[int(13)] = _S3203;
    (*v_sh_coeffs_4)[int(14)] = _S3204;
    (*v_sh_coeffs_4)[int(15)] = _S3205;
    *v_R_6 = _S3289;
    *v_t_5 = _S3288;
    return;
}

inline __device__ Matrix<float, 3, 3>  compute_3dgut_iscl_rot(float4  quat_19, float3  scale_18)
{
    float x_40 = quat_19.y;
    float x2_19 = x_40 * x_40;
    float y2_19 = quat_19.z * quat_19.z;
    float z2_34 = quat_19.w * quat_19.w;
    float xy_19 = quat_19.y * quat_19.z;
    float xz_19 = quat_19.y * quat_19.w;
    float yz_19 = quat_19.z * quat_19.w;
    float wx_19 = quat_19.x * quat_19.y;
    float wy_19 = quat_19.x * quat_19.z;
    float wz_19 = quat_19.x * quat_19.w;
    return mul_4(makeMatrix<float, 3, 3> (scale_18.x, 0.0f, 0.0f, 0.0f, scale_18.y, 0.0f, 0.0f, 0.0f, scale_18.z), transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_19 + z2_34), 2.0f * (xy_19 + wz_19), 2.0f * (xz_19 - wy_19), 2.0f * (xy_19 - wz_19), 1.0f - 2.0f * (x2_19 + z2_34), 2.0f * (yz_19 + wx_19), 2.0f * (xz_19 + wy_19), 2.0f * (yz_19 - wx_19), 1.0f - 2.0f * (x2_19 + y2_19)))));
}

inline __device__ void s_bwd_prop_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_0, Matrix<float, 3, 3>  _s_dOut_7)
{
    float _S3294 = (*dpquat_0).primal_0.y;
    float x2_20 = _S3294 * _S3294;
    float y2_20 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.z;
    float z2_35 = (*dpquat_0).primal_0.w * (*dpquat_0).primal_0.w;
    float xy_20 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.z;
    float xz_20 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.w;
    float yz_20 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.w;
    float wx_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.y;
    float wy_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.z;
    float wz_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.w;
    Matrix<float, 3, 3>  _S3295 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_20 + z2_35), 2.0f * (xy_20 + wz_20), 2.0f * (xz_20 - wy_20), 2.0f * (xy_20 - wz_20), 1.0f - 2.0f * (x2_20 + z2_35), 2.0f * (yz_20 + wx_20), 2.0f * (xz_20 + wy_20), 2.0f * (yz_20 - wx_20), 1.0f - 2.0f * (x2_20 + y2_20))));
    Matrix<float, 3, 3>  _S3296 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3297;
    (&_S3297)->primal_0 = makeMatrix<float, 3, 3> ((*dpscale_0).primal_0.x, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.y, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.z);
    (&_S3297)->differential_0 = _S3296;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3298;
    (&_S3298)->primal_0 = _S3295;
    (&_S3298)->differential_0 = _S3296;
    s_bwd_prop_mul_4(&_S3297, &_S3298, _s_dOut_7);
    Matrix<float, 3, 3>  _S3299 = transpose_0(transpose_0(_S3298.differential_0));
    float _S3300 = 2.0f * - _S3299.rows[int(2)].z;
    float _S3301 = 2.0f * _S3299.rows[int(2)].y;
    float _S3302 = 2.0f * _S3299.rows[int(2)].x;
    float _S3303 = 2.0f * _S3299.rows[int(1)].z;
    float _S3304 = 2.0f * - _S3299.rows[int(1)].y;
    float _S3305 = 2.0f * _S3299.rows[int(1)].x;
    float _S3306 = 2.0f * _S3299.rows[int(0)].z;
    float _S3307 = 2.0f * _S3299.rows[int(0)].y;
    float _S3308 = 2.0f * - _S3299.rows[int(0)].x;
    float _S3309 = - _S3305 + _S3307;
    float _S3310 = _S3302 + - _S3306;
    float _S3311 = - _S3301 + _S3303;
    float _S3312 = _S3301 + _S3303;
    float _S3313 = _S3302 + _S3306;
    float _S3314 = _S3305 + _S3307;
    float _S3315 = (*dpquat_0).primal_0.w * (_S3304 + _S3308);
    float _S3316 = (*dpquat_0).primal_0.z * (_S3300 + _S3308);
    float _S3317 = (*dpquat_0).primal_0.y * (_S3300 + _S3304);
    float _S3318 = (*dpquat_0).primal_0.x * _S3309 + (*dpquat_0).primal_0.z * _S3312 + (*dpquat_0).primal_0.y * _S3313 + _S3315 + _S3315;
    float _S3319 = (*dpquat_0).primal_0.x * _S3310 + (*dpquat_0).primal_0.w * _S3312 + (*dpquat_0).primal_0.y * _S3314 + _S3316 + _S3316;
    float _S3320 = (*dpquat_0).primal_0.x * _S3311 + (*dpquat_0).primal_0.w * _S3313 + (*dpquat_0).primal_0.z * _S3314 + _S3317 + _S3317;
    float _S3321 = (*dpquat_0).primal_0.w * _S3309 + (*dpquat_0).primal_0.z * _S3310 + (*dpquat_0).primal_0.y * _S3311;
    float3  _S3322 = make_float3 (_S3297.differential_0.rows[int(0)].x, _S3297.differential_0.rows[int(1)].y, _S3297.differential_0.rows[int(2)].z);
    dpscale_0->primal_0 = (*dpscale_0).primal_0;
    dpscale_0->differential_0 = _S3322;
    float4  _S3323 = make_float4 (0.0f);
    *&((&_S3323)->w) = _S3318;
    *&((&_S3323)->z) = _S3319;
    *&((&_S3323)->y) = _S3320;
    *&((&_S3323)->x) = _S3321;
    dpquat_0->primal_0 = (*dpquat_0).primal_0;
    dpquat_0->differential_0 = _S3323;
    return;
}

inline __device__ void s_bwd_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * _S3324, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3325, Matrix<float, 3, 3>  _S3326)
{
    s_bwd_prop_compute_3dgut_iscl_rot_0(_S3324, _S3325, _S3326);
    return;
}

inline __device__ void compute_3dgut_iscl_rot_vjp(float4  quat_20, float3  scale_19, Matrix<float, 3, 3>  v_iscl_rot_0, float4  * v_quat_5, float3  * v_scale_5)
{
    float4  _S3327 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_0;
    (&dp_quat_0)->primal_0 = quat_20;
    (&dp_quat_0)->differential_0 = _S3327;
    float3  _S3328 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_0;
    (&dp_scale_0)->primal_0 = scale_19;
    (&dp_scale_0)->differential_0 = _S3328;
    s_bwd_compute_3dgut_iscl_rot_0(&dp_quat_0, &dp_scale_0, v_iscl_rot_0);
    *v_quat_5 = dp_quat_0.differential_0;
    *v_scale_5 = dp_scale_0.differential_0;
    return;
}

inline __device__ void _d_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * a_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * b_0, float3  dOut_15)
{
    float _S3329 = dOut_15.y;
    float _S3330 = dOut_15.z;
    float _S3331 = dOut_15.x;
    float _S3332 = (*a_0).primal_0.z * _S3329 + - (*a_0).primal_0.y * _S3330;
    float _S3333 = - (*a_0).primal_0.z * _S3331 + (*a_0).primal_0.x * _S3330;
    float _S3334 = (*a_0).primal_0.y * _S3331 + - (*a_0).primal_0.x * _S3329;
    float3  _S3335 = make_float3 (- (*b_0).primal_0.z * _S3329 + (*b_0).primal_0.y * _S3330, (*b_0).primal_0.z * _S3331 + - (*b_0).primal_0.x * _S3330, - (*b_0).primal_0.y * _S3331 + (*b_0).primal_0.x * _S3329);
    a_0->primal_0 = (*a_0).primal_0;
    a_0->differential_0 = _S3335;
    float3  _S3336 = make_float3 (_S3332, _S3333, _S3334);
    b_0->primal_0 = (*b_0).primal_0;
    b_0->differential_0 = _S3336;
    return;
}

inline __device__ float3  cross_0(float3  left_10, float3  right_10)
{
    float _S3337 = left_10.y;
    float _S3338 = right_10.z;
    float _S3339 = left_10.z;
    float _S3340 = right_10.y;
    float _S3341 = right_10.x;
    float _S3342 = left_10.x;
    return make_float3 (_S3337 * _S3338 - _S3339 * _S3340, _S3339 * _S3341 - _S3342 * _S3338, _S3342 * _S3340 - _S3337 * _S3341);
}

inline __device__ float evaluate_alpha_3dgs(float3  mean_16, Matrix<float, 3, 3>  iscl_rot_0, float opacity_10, float3  ray_o_0, float3  ray_d_0)
{
    float3  grd_0 = mul_0(iscl_rot_0, ray_d_0);
    float3  gcrod_0 = cross_0(grd_0, mul_0(iscl_rot_0, ray_o_0 - mean_16));
    return opacity_10 * (F32_exp((-0.5f * dot_0(gcrod_0, gcrod_0) / dot_0(grd_0, grd_0))));
}

inline __device__ float3  s_primal_ctx_cross_0(float3  _S3343, float3  _S3344)
{
    return cross_0(_S3343, _S3344);
}

inline __device__ float s_primal_ctx_dot_0(float3  _S3345, float3  _S3346)
{
    return dot_0(_S3345, _S3346);
}

inline __device__ void s_bwd_prop_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3347, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3348, float _S3349)
{
    _d_dot_0(_S3347, _S3348, _S3349);
    return;
}

inline __device__ void s_bwd_prop_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3350, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3351, float3  _S3352)
{
    _d_cross_0(_S3350, _S3351, _S3352);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_0, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_0, DiffPair_float_0 * dpopacity_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_0, float _s_dOut_8)
{
    float3  _S3353 = (*dpray_o_0).primal_0 - (*dpmean_0).primal_0;
    float3  _S3354 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, _S3353);
    float3  _S3355 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, (*dpray_d_0).primal_0);
    float3  _S3356 = s_primal_ctx_cross_0(_S3355, _S3354);
    float _S3357 = -0.5f * s_primal_ctx_dot_0(_S3356, _S3356);
    float _S3358 = s_primal_ctx_dot_0(_S3355, _S3355);
    float _S3359 = _S3357 / _S3358;
    float _S3360 = _S3358 * _S3358;
    float _S3361 = (*dpopacity_0).primal_0 * _s_dOut_8;
    float _S3362 = s_primal_ctx_exp_1(_S3359) * _s_dOut_8;
    DiffPair_float_0 _S3363;
    (&_S3363)->primal_0 = _S3359;
    (&_S3363)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3363, _S3361);
    float _S3364 = _S3363.differential_0 / _S3360;
    float _S3365 = _S3357 * - _S3364;
    float _S3366 = _S3358 * _S3364;
    float3  _S3367 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3368;
    (&_S3368)->primal_0 = _S3355;
    (&_S3368)->differential_0 = _S3367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3369;
    (&_S3369)->primal_0 = _S3355;
    (&_S3369)->differential_0 = _S3367;
    s_bwd_prop_dot_0(&_S3368, &_S3369, _S3365);
    float _S3370 = -0.5f * _S3366;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3371;
    (&_S3371)->primal_0 = _S3356;
    (&_S3371)->differential_0 = _S3367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3372;
    (&_S3372)->primal_0 = _S3356;
    (&_S3372)->differential_0 = _S3367;
    s_bwd_prop_dot_0(&_S3371, &_S3372, _S3370);
    float3  _S3373 = _S3372.differential_0 + _S3371.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3374;
    (&_S3374)->primal_0 = _S3355;
    (&_S3374)->differential_0 = _S3367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3375;
    (&_S3375)->primal_0 = _S3354;
    (&_S3375)->differential_0 = _S3367;
    s_bwd_prop_cross_0(&_S3374, &_S3375, _S3373);
    float3  _S3376 = _S3369.differential_0 + _S3368.differential_0 + _S3374.differential_0;
    Matrix<float, 3, 3>  _S3377 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3378;
    (&_S3378)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S3378)->differential_0 = _S3377;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3379;
    (&_S3379)->primal_0 = (*dpray_d_0).primal_0;
    (&_S3379)->differential_0 = _S3367;
    s_bwd_prop_mul_1(&_S3378, &_S3379, _S3376);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3380;
    (&_S3380)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S3380)->differential_0 = _S3377;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3381;
    (&_S3381)->primal_0 = _S3353;
    (&_S3381)->differential_0 = _S3367;
    s_bwd_prop_mul_1(&_S3380, &_S3381, _S3375.differential_0);
    float3  _S3382 = - _S3381.differential_0;
    dpray_d_0->primal_0 = (*dpray_d_0).primal_0;
    dpray_d_0->differential_0 = _S3379.differential_0;
    dpray_o_0->primal_0 = (*dpray_o_0).primal_0;
    dpray_o_0->differential_0 = _S3381.differential_0;
    dpopacity_0->primal_0 = (*dpopacity_0).primal_0;
    dpopacity_0->differential_0 = _S3362;
    Matrix<float, 3, 3>  _S3383 = _S3378.differential_0 + _S3380.differential_0;
    dpiscl_rot_0->primal_0 = (*dpiscl_rot_0).primal_0;
    dpiscl_rot_0->differential_0 = _S3383;
    dpmean_0->primal_0 = (*dpmean_0).primal_0;
    dpmean_0->differential_0 = _S3382;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3384, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3385, DiffPair_float_0 * _S3386, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3387, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3388, float _S3389)
{
    s_bwd_prop_evaluate_alpha_3dgs_0(_S3384, _S3385, _S3386, _S3387, _S3388, _S3389);
    return;
}

inline __device__ void evaluate_alpha_3dgs_vjp(float3  mean_17, Matrix<float, 3, 3>  iscl_rot_1, float opacity_11, float3  ray_o_1, float3  ray_d_1, float v_alpha_0, float3  * v_mean_5, Matrix<float, 3, 3>  * v_iscl_rot_1, float * v_opacity_5, float3  * v_ray_o_1, float3  * v_ray_d_1)
{
    float3  _S3390 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_0;
    (&dp_mean_0)->primal_0 = mean_17;
    (&dp_mean_0)->differential_0 = _S3390;
    Matrix<float, 3, 3>  _S3391 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_0;
    (&dp_iscl_rot_0)->primal_0 = iscl_rot_1;
    (&dp_iscl_rot_0)->differential_0 = _S3391;
    DiffPair_float_0 dp_opacity_0;
    (&dp_opacity_0)->primal_0 = opacity_11;
    (&dp_opacity_0)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_0;
    (&dp_ray_o_0)->primal_0 = ray_o_1;
    (&dp_ray_o_0)->differential_0 = _S3390;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_0;
    (&dp_ray_d_0)->primal_0 = ray_d_1;
    (&dp_ray_d_0)->differential_0 = _S3390;
    s_bwd_evaluate_alpha_3dgs_0(&dp_mean_0, &dp_iscl_rot_0, &dp_opacity_0, &dp_ray_o_0, &dp_ray_d_0, v_alpha_0);
    *v_mean_5 = dp_mean_0.differential_0;
    *v_iscl_rot_1 = dp_iscl_rot_0.differential_0;
    *v_opacity_5 = dp_opacity_0.differential_0;
    *v_ray_o_1 = dp_ray_o_0.differential_0;
    *v_ray_d_1 = dp_ray_d_0.differential_0;
    return;
}

inline __device__ void evaluate_color_3dgs(float3  mean_18, Matrix<float, 3, 3>  iscl_rot_2, float opacity_12, float3  rgb_10, float3  ray_o_2, float3  ray_d_2, float3  * out_rgb_0, float * depth_10)
{
    *out_rgb_0 = rgb_10;
    float3  grd_1 = mul_0(iscl_rot_2, ray_d_2);
    *depth_10 = - dot_0(mul_0(iscl_rot_2, ray_o_2 - mean_18), grd_1) / dot_0(grd_1, grd_1);
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_1, DiffPair_float_0 * dpopacity_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_1, float3  dpout_rgb_0, float dpdepth_0)
{
    float3  _S3392 = (*dpray_o_1).primal_0 - (*dpmean_1).primal_0;
    float3  _S3393 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, _S3392);
    float3  _S3394 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, (*dpray_d_1).primal_0);
    float _S3395 = s_primal_ctx_dot_0(_S3394, _S3394);
    float _S3396 = dpdepth_0 / (_S3395 * _S3395);
    float _S3397 = - s_primal_ctx_dot_0(_S3393, _S3394) * - _S3396;
    float _S3398 = _S3395 * _S3396;
    float3  _S3399 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3400;
    (&_S3400)->primal_0 = _S3394;
    (&_S3400)->differential_0 = _S3399;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3401;
    (&_S3401)->primal_0 = _S3394;
    (&_S3401)->differential_0 = _S3399;
    s_bwd_prop_dot_0(&_S3400, &_S3401, _S3397);
    float _S3402 = - _S3398;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3403;
    (&_S3403)->primal_0 = _S3393;
    (&_S3403)->differential_0 = _S3399;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3404;
    (&_S3404)->primal_0 = _S3394;
    (&_S3404)->differential_0 = _S3399;
    s_bwd_prop_dot_0(&_S3403, &_S3404, _S3402);
    float3  _S3405 = _S3401.differential_0 + _S3400.differential_0 + _S3404.differential_0;
    Matrix<float, 3, 3>  _S3406 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3407;
    (&_S3407)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S3407)->differential_0 = _S3406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3408;
    (&_S3408)->primal_0 = (*dpray_d_1).primal_0;
    (&_S3408)->differential_0 = _S3399;
    s_bwd_prop_mul_1(&_S3407, &_S3408, _S3405);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3409;
    (&_S3409)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S3409)->differential_0 = _S3406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3410;
    (&_S3410)->primal_0 = _S3392;
    (&_S3410)->differential_0 = _S3399;
    s_bwd_prop_mul_1(&_S3409, &_S3410, _S3403.differential_0);
    float3  _S3411 = - _S3410.differential_0;
    dpray_d_1->primal_0 = (*dpray_d_1).primal_0;
    dpray_d_1->differential_0 = _S3408.differential_0;
    dpray_o_1->primal_0 = (*dpray_o_1).primal_0;
    dpray_o_1->differential_0 = _S3410.differential_0;
    dprgb_0->primal_0 = (*dprgb_0).primal_0;
    dprgb_0->differential_0 = dpout_rgb_0;
    dpopacity_1->primal_0 = (*dpopacity_1).primal_0;
    dpopacity_1->differential_0 = 0.0f;
    Matrix<float, 3, 3>  _S3412 = _S3407.differential_0 + _S3409.differential_0;
    dpiscl_rot_1->primal_0 = (*dpiscl_rot_1).primal_0;
    dpiscl_rot_1->differential_0 = _S3412;
    dpmean_1->primal_0 = (*dpmean_1).primal_0;
    dpmean_1->differential_0 = _S3411;
    return;
}

inline __device__ void s_bwd_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3413, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3414, DiffPair_float_0 * _S3415, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3416, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3417, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3418, float3  _S3419, float _S3420)
{
    s_bwd_prop_evaluate_color_3dgs_0(_S3413, _S3414, _S3415, _S3416, _S3417, _S3418, _S3419, _S3420);
    return;
}

inline __device__ void evaluate_color_3dgs_vjp(float3  mean_19, Matrix<float, 3, 3>  iscl_rot_3, float opacity_13, float3  rgb_11, float3  ray_o_3, float3  ray_d_3, float3  v_out_rgb_0, float v_depth_5, float3  * v_mean_6, Matrix<float, 3, 3>  * v_iscl_rot_2, float * v_opacity_6, float3  * v_rgb_5, float3  * v_ray_o_2, float3  * v_ray_d_2)
{
    float3  _S3421 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_1;
    (&dp_mean_1)->primal_0 = mean_19;
    (&dp_mean_1)->differential_0 = _S3421;
    Matrix<float, 3, 3>  _S3422 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_1;
    (&dp_iscl_rot_1)->primal_0 = iscl_rot_3;
    (&dp_iscl_rot_1)->differential_0 = _S3422;
    DiffPair_float_0 dp_opacity_1;
    (&dp_opacity_1)->primal_0 = opacity_13;
    (&dp_opacity_1)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_0;
    (&dp_rgb_0)->primal_0 = rgb_11;
    (&dp_rgb_0)->differential_0 = _S3421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_1;
    (&dp_ray_o_1)->primal_0 = ray_o_3;
    (&dp_ray_o_1)->differential_0 = _S3421;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_1;
    (&dp_ray_d_1)->primal_0 = ray_d_3;
    (&dp_ray_d_1)->differential_0 = _S3421;
    s_bwd_evaluate_color_3dgs_0(&dp_mean_1, &dp_iscl_rot_1, &dp_opacity_1, &dp_rgb_0, &dp_ray_o_1, &dp_ray_d_1, v_out_rgb_0, v_depth_5);
    *v_mean_6 = dp_mean_1.differential_0;
    *v_iscl_rot_2 = dp_iscl_rot_1.differential_0;
    *v_opacity_6 = dp_opacity_1.differential_0;
    *v_rgb_5 = dp_rgb_0.differential_0;
    *v_ray_o_2 = dp_ray_o_1.differential_0;
    *v_ray_d_2 = dp_ray_d_1.differential_0;
    return;
}

inline __device__ void _d_rsqrt_0(DiffPair_float_0 * dpx_12, float dOut_16)
{
    float _S3423 = -0.5f / ((*dpx_12).primal_0 * (F32_sqrt(((*dpx_12).primal_0)))) * dOut_16;
    dpx_12->primal_0 = (*dpx_12).primal_0;
    dpx_12->differential_0 = _S3423;
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_15, float3  mean_20, float4  quat_21, float3  scale_20, float in_opacity_15, FixedArray<float3 , 2>  * sv_sites_0, FixedArray<float3 , 2>  * sv_colors_0, Matrix<float, 3, 3>  R_22, float3  t_18, float fx_27, float fy_27, float cx_22, float cy_22, FixedArray<float, 10>  * dist_coeffs_30, uint image_width_15, uint image_height_15, float near_plane_10, float far_plane_10, int4  * aabb_xyxy_10, float2  * mean2d_19, float * depth_11, float3  * conic_10, float * opacity_14, float3  * rgb_12)
{
    for(;;)
    {
        float3  mean_c_15 = mul_0(R_22, mean_20) + t_18;
        float _S3424 = mean_c_15.z;
        bool _S3425;
        if(_S3424 < near_plane_10)
        {
            _S3425 = true;
        }
        else
        {
            _S3425 = _S3424 > far_plane_10;
        }
        if(_S3425)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_18 = make_float4 (fx_27, fy_27, cx_22, cy_22);
        Matrix<float, 2, 2>  covar2d_10;
        float3  _S3426 = exp_0(scale_20);
        float x_41 = quat_21.y;
        float x2_21 = x_41 * x_41;
        float y2_21 = quat_21.z * quat_21.z;
        float z2_36 = quat_21.w * quat_21.w;
        float xy_21 = quat_21.y * quat_21.z;
        float xz_21 = quat_21.y * quat_21.w;
        float yz_21 = quat_21.z * quat_21.w;
        float wx_21 = quat_21.x * quat_21.y;
        float wy_21 = quat_21.x * quat_21.z;
        float wz_21 = quat_21.x * quat_21.w;
        Matrix<float, 3, 3>  _S3427 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_21 + z2_36), 2.0f * (xy_21 + wz_21), 2.0f * (xz_21 - wy_21), 2.0f * (xy_21 - wz_21), 1.0f - 2.0f * (x2_21 + z2_36), 2.0f * (yz_21 + wx_21), 2.0f * (xz_21 + wy_21), 2.0f * (yz_21 - wx_21), 1.0f - 2.0f * (x2_21 + y2_21))));
        SigmaPoints_0 ret_4;
        (&ret_4)->p_0[int(0)] = mean_20;
        (&ret_4)->w_mean_0[int(0)] = 0.0f;
        (&ret_4)->w_cov_0[int(0)] = 2.0f;
        float _S3428 = (F32_sqrt((3.0f)));
        float3  delta_18 = make_float3 (_S3428 * _S3426.x) * _S3427.rows[0U];
        float3  _S3429 = mean_20 + delta_18;
        float3  _S3430 = mean_20 - delta_18;
        float3  delta_19 = make_float3 (_S3428 * _S3426.y) * _S3427.rows[1U];
        float3  _S3431 = mean_20 + delta_19;
        float3  _S3432 = mean_20 - delta_19;
        float3  delta_20 = make_float3 (_S3428 * _S3426.z) * _S3427.rows[2U];
        float3  _S3433 = mean_20 + delta_20;
        float3  _S3434 = mean_20 - delta_20;
        (&ret_4)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_4)->p_0[0U] = mul_0(R_22, (&ret_4)->p_0[0U]) + t_18;
        (&ret_4)->p_0[1U] = mul_0(R_22, _S3429) + t_18;
        (&ret_4)->p_0[2U] = mul_0(R_22, _S3431) + t_18;
        (&ret_4)->p_0[3U] = mul_0(R_22, _S3433) + t_18;
        (&ret_4)->p_0[4U] = mul_0(R_22, _S3430) + t_18;
        (&ret_4)->p_0[5U] = mul_0(R_22, _S3432) + t_18;
        (&ret_4)->p_0[6U] = mul_0(R_22, _S3434) + t_18;
        SigmaPoints_0 _S3435 = ret_4;
        bool _S3436 = persp_proj_3dgs_ut_0(&_S3435, intrins_18, dist_coeffs_30, image_width_15, image_height_15, &covar2d_10, mean2d_19);
        if(!(true & _S3436))
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_16 = *&(((&covar2d_10)->rows + (int(0)))->x) * *&(((&covar2d_10)->rows + (int(1)))->y) - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float _S3437 = *&(((&covar2d_10)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(0)))->x) = _S3437;
        float _S3438 = *&(((&covar2d_10)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(1)))->y) = _S3438;
        float det_blur_11 = _S3437 * _S3438 - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float compensation_11 = (F32_sqrt(((F32_max((0.0f), (det_orig_16 / det_blur_11))))));
        if(det_blur_11 <= 0.0f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_14 = 1.0f / (1.0f + (F32_exp((- in_opacity_15))));
        if(antialiased_15)
        {
            *opacity_14 = *opacity_14 * compensation_11;
        }
        if((*opacity_14) < 0.00392156885936856f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_10 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_14 / 0.00392156885936856f)))))))));
        float radius_x_10 = extend_10 * (F32_sqrt((covar2d_10[int(0)].x)));
        float radius_y_10 = extend_10 * (F32_sqrt((covar2d_10[int(1)].y)));
        float xmin_5 = (F32_floor(((*mean2d_19).x - radius_x_10)));
        float xmax_5 = (F32_ceil(((*mean2d_19).x + radius_x_10)));
        float ymin_5 = (F32_floor(((*mean2d_19).y - radius_y_10)));
        float ymax_5 = (F32_ceil(((*mean2d_19).y + radius_y_10)));
        if(xmax_5 <= 0.0f)
        {
            _S3425 = true;
        }
        else
        {
            _S3425 = xmin_5 >= float(image_width_15);
        }
        if(_S3425)
        {
            _S3425 = true;
        }
        else
        {
            _S3425 = ymax_5 <= 0.0f;
        }
        if(_S3425)
        {
            _S3425 = true;
        }
        else
        {
            _S3425 = ymin_5 >= float(image_height_15);
        }
        if(_S3425)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_10 = make_int4 (int(xmin_5), int(ymin_5), int(xmax_5), int(ymax_5));
        *depth_11 = (F32_max((_S3424), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3424 + length_1(mean_c_15)))));
        *conic_10 = exp_0(- scale_20);
        float3  _S3439 = mean_20 - - mul_0(transpose_0(R_22), t_18);
        float3  _S3440 = _S3439 * make_float3 ((F32_rsqrt((dot_0(_S3439, _S3439)))));
        float w_0 = (F32_exp((dot_0((*sv_sites_0)[int(0)], _S3440) - dot_0((*sv_sites_0)[int(1)], _S3440))));
        float w_1 = (F32_exp((0.0f)));
        *rgb_12 = max_0((make_float3 (w_0) * (*sv_colors_0)[int(0)] + make_float3 (w_1) * (*sv_colors_0)[int(1)]) / make_float3 (w_0 + w_1) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_16, float3  mean_21, float4  quat_22, float3  scale_21, float in_opacity_16, FixedArray<float3 , 2>  * sv_sites_1, FixedArray<float3 , 2>  * sv_colors_1, Matrix<float, 3, 3>  R_23, float3  t_19, float fx_28, float fy_28, float cx_23, float cy_23, FixedArray<float, 10>  * dist_coeffs_31, uint image_width_16, uint image_height_16, float near_plane_11, float far_plane_11, int4  * aabb_xyxy_11, float2  * mean2d_20, float * depth_12, float3  * conic_11, float * opacity_15, float3  * rgb_13)
{
    for(;;)
    {
        float3  mean_c_16 = mul_0(R_23, mean_21) + t_19;
        float _S3441 = length_1(mean_c_16);
        bool _S3442;
        if(_S3441 < near_plane_11)
        {
            _S3442 = true;
        }
        else
        {
            _S3442 = _S3441 > far_plane_11;
        }
        if(_S3442)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_19 = make_float4 (fx_28, fy_28, cx_23, cy_23);
        Matrix<float, 2, 2>  covar2d_11;
        float3  _S3443 = exp_0(scale_21);
        float x_42 = quat_22.y;
        float x2_22 = x_42 * x_42;
        float y2_22 = quat_22.z * quat_22.z;
        float z2_37 = quat_22.w * quat_22.w;
        float xy_22 = quat_22.y * quat_22.z;
        float xz_22 = quat_22.y * quat_22.w;
        float yz_22 = quat_22.z * quat_22.w;
        float wx_22 = quat_22.x * quat_22.y;
        float wy_22 = quat_22.x * quat_22.z;
        float wz_22 = quat_22.x * quat_22.w;
        Matrix<float, 3, 3>  _S3444 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_22 + z2_37), 2.0f * (xy_22 + wz_22), 2.0f * (xz_22 - wy_22), 2.0f * (xy_22 - wz_22), 1.0f - 2.0f * (x2_22 + z2_37), 2.0f * (yz_22 + wx_22), 2.0f * (xz_22 + wy_22), 2.0f * (yz_22 - wx_22), 1.0f - 2.0f * (x2_22 + y2_22))));
        SigmaPoints_0 ret_5;
        (&ret_5)->p_0[int(0)] = mean_21;
        (&ret_5)->w_mean_0[int(0)] = 0.0f;
        (&ret_5)->w_cov_0[int(0)] = 2.0f;
        float _S3445 = (F32_sqrt((3.0f)));
        float3  delta_21 = make_float3 (_S3445 * _S3443.x) * _S3444.rows[0U];
        float3  _S3446 = mean_21 + delta_21;
        float3  _S3447 = mean_21 - delta_21;
        float3  delta_22 = make_float3 (_S3445 * _S3443.y) * _S3444.rows[1U];
        float3  _S3448 = mean_21 + delta_22;
        float3  _S3449 = mean_21 - delta_22;
        float3  delta_23 = make_float3 (_S3445 * _S3443.z) * _S3444.rows[2U];
        float3  _S3450 = mean_21 + delta_23;
        float3  _S3451 = mean_21 - delta_23;
        (&ret_5)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_5)->p_0[0U] = mul_0(R_23, (&ret_5)->p_0[0U]) + t_19;
        (&ret_5)->p_0[1U] = mul_0(R_23, _S3446) + t_19;
        (&ret_5)->p_0[2U] = mul_0(R_23, _S3448) + t_19;
        (&ret_5)->p_0[3U] = mul_0(R_23, _S3450) + t_19;
        (&ret_5)->p_0[4U] = mul_0(R_23, _S3447) + t_19;
        (&ret_5)->p_0[5U] = mul_0(R_23, _S3449) + t_19;
        (&ret_5)->p_0[6U] = mul_0(R_23, _S3451) + t_19;
        SigmaPoints_0 _S3452 = ret_5;
        bool _S3453 = fisheye_proj_3dgs_ut_0(&_S3452, intrins_19, dist_coeffs_31, &covar2d_11, mean2d_20);
        if(!(true & _S3453))
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_17 = *&(((&covar2d_11)->rows + (int(0)))->x) * *&(((&covar2d_11)->rows + (int(1)))->y) - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float _S3454 = *&(((&covar2d_11)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(0)))->x) = _S3454;
        float _S3455 = *&(((&covar2d_11)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(1)))->y) = _S3455;
        float det_blur_12 = _S3454 * _S3455 - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float compensation_12 = (F32_sqrt(((F32_max((0.0f), (det_orig_17 / det_blur_12))))));
        if(det_blur_12 <= 0.0f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_15 = 1.0f / (1.0f + (F32_exp((- in_opacity_16))));
        if(antialiased_16)
        {
            *opacity_15 = *opacity_15 * compensation_12;
        }
        if((*opacity_15) < 0.00392156885936856f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_11 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_15 / 0.00392156885936856f)))))))));
        float radius_x_11 = extend_11 * (F32_sqrt((covar2d_11[int(0)].x)));
        float radius_y_11 = extend_11 * (F32_sqrt((covar2d_11[int(1)].y)));
        float xmin_6 = (F32_floor(((*mean2d_20).x - radius_x_11)));
        float xmax_6 = (F32_ceil(((*mean2d_20).x + radius_x_11)));
        float ymin_6 = (F32_floor(((*mean2d_20).y - radius_y_11)));
        float ymax_6 = (F32_ceil(((*mean2d_20).y + radius_y_11)));
        if(xmax_6 <= 0.0f)
        {
            _S3442 = true;
        }
        else
        {
            _S3442 = xmin_6 >= float(image_width_16);
        }
        if(_S3442)
        {
            _S3442 = true;
        }
        else
        {
            _S3442 = ymax_6 <= 0.0f;
        }
        if(_S3442)
        {
            _S3442 = true;
        }
        else
        {
            _S3442 = ymin_6 >= float(image_height_16);
        }
        if(_S3442)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_11 = make_int4 (int(xmin_6), int(ymin_6), int(xmax_6), int(ymax_6));
        float _S3456 = mean_c_16.z;
        *depth_12 = (F32_max((_S3456), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3456 + _S3441))));
        *conic_11 = exp_0(- scale_21);
        float3  _S3457 = mean_21 - - mul_0(transpose_0(R_23), t_19);
        float3  _S3458 = _S3457 * make_float3 ((F32_rsqrt((dot_0(_S3457, _S3457)))));
        float w_2 = (F32_exp((dot_0((*sv_sites_1)[int(0)], _S3458) - dot_0((*sv_sites_1)[int(1)], _S3458))));
        float w_3 = (F32_exp((0.0f)));
        *rgb_13 = max_0((make_float3 (w_2) * (*sv_colors_1)[int(0)] + make_float3 (w_3) * (*sv_colors_1)[int(1)]) / make_float3 (w_2 + w_3) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_17, float3  mean_22, float4  quat_23, float3  scale_22, float in_opacity_17, FixedArray<float3 , 3>  * sv_sites_2, FixedArray<float3 , 3>  * sv_colors_2, Matrix<float, 3, 3>  R_24, float3  t_20, float fx_29, float fy_29, float cx_24, float cy_24, FixedArray<float, 10>  * dist_coeffs_32, uint image_width_17, uint image_height_17, float near_plane_12, float far_plane_12, int4  * aabb_xyxy_12, float2  * mean2d_21, float * depth_13, float3  * conic_12, float * opacity_16, float3  * rgb_14)
{
    for(;;)
    {
        float3  mean_c_17 = mul_0(R_24, mean_22) + t_20;
        float _S3459 = mean_c_17.z;
        bool _S3460;
        if(_S3459 < near_plane_12)
        {
            _S3460 = true;
        }
        else
        {
            _S3460 = _S3459 > far_plane_12;
        }
        if(_S3460)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_20 = make_float4 (fx_29, fy_29, cx_24, cy_24);
        Matrix<float, 2, 2>  covar2d_12;
        float3  _S3461 = exp_0(scale_22);
        float x_43 = quat_23.y;
        float x2_23 = x_43 * x_43;
        float y2_23 = quat_23.z * quat_23.z;
        float z2_38 = quat_23.w * quat_23.w;
        float xy_23 = quat_23.y * quat_23.z;
        float xz_23 = quat_23.y * quat_23.w;
        float yz_23 = quat_23.z * quat_23.w;
        float wx_23 = quat_23.x * quat_23.y;
        float wy_23 = quat_23.x * quat_23.z;
        float wz_23 = quat_23.x * quat_23.w;
        Matrix<float, 3, 3>  _S3462 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_23 + z2_38), 2.0f * (xy_23 + wz_23), 2.0f * (xz_23 - wy_23), 2.0f * (xy_23 - wz_23), 1.0f - 2.0f * (x2_23 + z2_38), 2.0f * (yz_23 + wx_23), 2.0f * (xz_23 + wy_23), 2.0f * (yz_23 - wx_23), 1.0f - 2.0f * (x2_23 + y2_23))));
        SigmaPoints_0 ret_6;
        (&ret_6)->p_0[int(0)] = mean_22;
        (&ret_6)->w_mean_0[int(0)] = 0.0f;
        (&ret_6)->w_cov_0[int(0)] = 2.0f;
        float _S3463 = (F32_sqrt((3.0f)));
        float3  delta_24 = make_float3 (_S3463 * _S3461.x) * _S3462.rows[0U];
        float3  _S3464 = mean_22 + delta_24;
        float3  _S3465 = mean_22 - delta_24;
        float3  delta_25 = make_float3 (_S3463 * _S3461.y) * _S3462.rows[1U];
        float3  _S3466 = mean_22 + delta_25;
        float3  _S3467 = mean_22 - delta_25;
        float3  delta_26 = make_float3 (_S3463 * _S3461.z) * _S3462.rows[2U];
        float3  _S3468 = mean_22 + delta_26;
        float3  _S3469 = mean_22 - delta_26;
        (&ret_6)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_6)->p_0[0U] = mul_0(R_24, (&ret_6)->p_0[0U]) + t_20;
        (&ret_6)->p_0[1U] = mul_0(R_24, _S3464) + t_20;
        (&ret_6)->p_0[2U] = mul_0(R_24, _S3466) + t_20;
        (&ret_6)->p_0[3U] = mul_0(R_24, _S3468) + t_20;
        (&ret_6)->p_0[4U] = mul_0(R_24, _S3465) + t_20;
        (&ret_6)->p_0[5U] = mul_0(R_24, _S3467) + t_20;
        (&ret_6)->p_0[6U] = mul_0(R_24, _S3469) + t_20;
        SigmaPoints_0 _S3470 = ret_6;
        bool _S3471 = persp_proj_3dgs_ut_0(&_S3470, intrins_20, dist_coeffs_32, image_width_17, image_height_17, &covar2d_12, mean2d_21);
        if(!(true & _S3471))
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_18 = *&(((&covar2d_12)->rows + (int(0)))->x) * *&(((&covar2d_12)->rows + (int(1)))->y) - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float _S3472 = *&(((&covar2d_12)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(0)))->x) = _S3472;
        float _S3473 = *&(((&covar2d_12)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(1)))->y) = _S3473;
        float det_blur_13 = _S3472 * _S3473 - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float compensation_13 = (F32_sqrt(((F32_max((0.0f), (det_orig_18 / det_blur_13))))));
        if(det_blur_13 <= 0.0f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_16 = 1.0f / (1.0f + (F32_exp((- in_opacity_17))));
        if(antialiased_17)
        {
            *opacity_16 = *opacity_16 * compensation_13;
        }
        if((*opacity_16) < 0.00392156885936856f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_12 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_16 / 0.00392156885936856f)))))))));
        float radius_x_12 = extend_12 * (F32_sqrt((covar2d_12[int(0)].x)));
        float radius_y_12 = extend_12 * (F32_sqrt((covar2d_12[int(1)].y)));
        float xmin_7 = (F32_floor(((*mean2d_21).x - radius_x_12)));
        float xmax_7 = (F32_ceil(((*mean2d_21).x + radius_x_12)));
        float ymin_7 = (F32_floor(((*mean2d_21).y - radius_y_12)));
        float ymax_7 = (F32_ceil(((*mean2d_21).y + radius_y_12)));
        if(xmax_7 <= 0.0f)
        {
            _S3460 = true;
        }
        else
        {
            _S3460 = xmin_7 >= float(image_width_17);
        }
        if(_S3460)
        {
            _S3460 = true;
        }
        else
        {
            _S3460 = ymax_7 <= 0.0f;
        }
        if(_S3460)
        {
            _S3460 = true;
        }
        else
        {
            _S3460 = ymin_7 >= float(image_height_17);
        }
        if(_S3460)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_12 = make_int4 (int(xmin_7), int(ymin_7), int(xmax_7), int(ymax_7));
        *depth_13 = (F32_max((_S3459), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3459 + length_1(mean_c_17)))));
        *conic_12 = exp_0(- scale_22);
        float3  _S3474 = mean_22 - - mul_0(transpose_0(R_24), t_20);
        float3  _S3475 = _S3474 * make_float3 ((F32_rsqrt((dot_0(_S3474, _S3474)))));
        float _S3476 = dot_0((*sv_sites_2)[int(2)], _S3475);
        float w_4 = (F32_exp((dot_0((*sv_sites_2)[int(0)], _S3475) - _S3476)));
        float w_5 = (F32_exp((dot_0((*sv_sites_2)[int(1)], _S3475) - _S3476)));
        float w_6 = (F32_exp((0.0f)));
        *rgb_14 = max_0((make_float3 (w_4) * (*sv_colors_2)[int(0)] + make_float3 (w_5) * (*sv_colors_2)[int(1)] + make_float3 (w_6) * (*sv_colors_2)[int(2)]) / make_float3 (w_4 + w_5 + w_6) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_18, float3  mean_23, float4  quat_24, float3  scale_23, float in_opacity_18, FixedArray<float3 , 3>  * sv_sites_3, FixedArray<float3 , 3>  * sv_colors_3, Matrix<float, 3, 3>  R_25, float3  t_21, float fx_30, float fy_30, float cx_25, float cy_25, FixedArray<float, 10>  * dist_coeffs_33, uint image_width_18, uint image_height_18, float near_plane_13, float far_plane_13, int4  * aabb_xyxy_13, float2  * mean2d_22, float * depth_14, float3  * conic_13, float * opacity_17, float3  * rgb_15)
{
    for(;;)
    {
        float3  mean_c_18 = mul_0(R_25, mean_23) + t_21;
        float _S3477 = length_1(mean_c_18);
        bool _S3478;
        if(_S3477 < near_plane_13)
        {
            _S3478 = true;
        }
        else
        {
            _S3478 = _S3477 > far_plane_13;
        }
        if(_S3478)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_21 = make_float4 (fx_30, fy_30, cx_25, cy_25);
        Matrix<float, 2, 2>  covar2d_13;
        float3  _S3479 = exp_0(scale_23);
        float x_44 = quat_24.y;
        float x2_24 = x_44 * x_44;
        float y2_24 = quat_24.z * quat_24.z;
        float z2_39 = quat_24.w * quat_24.w;
        float xy_24 = quat_24.y * quat_24.z;
        float xz_24 = quat_24.y * quat_24.w;
        float yz_24 = quat_24.z * quat_24.w;
        float wx_24 = quat_24.x * quat_24.y;
        float wy_24 = quat_24.x * quat_24.z;
        float wz_24 = quat_24.x * quat_24.w;
        Matrix<float, 3, 3>  _S3480 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_24 + z2_39), 2.0f * (xy_24 + wz_24), 2.0f * (xz_24 - wy_24), 2.0f * (xy_24 - wz_24), 1.0f - 2.0f * (x2_24 + z2_39), 2.0f * (yz_24 + wx_24), 2.0f * (xz_24 + wy_24), 2.0f * (yz_24 - wx_24), 1.0f - 2.0f * (x2_24 + y2_24))));
        SigmaPoints_0 ret_7;
        (&ret_7)->p_0[int(0)] = mean_23;
        (&ret_7)->w_mean_0[int(0)] = 0.0f;
        (&ret_7)->w_cov_0[int(0)] = 2.0f;
        float _S3481 = (F32_sqrt((3.0f)));
        float3  delta_27 = make_float3 (_S3481 * _S3479.x) * _S3480.rows[0U];
        float3  _S3482 = mean_23 + delta_27;
        float3  _S3483 = mean_23 - delta_27;
        float3  delta_28 = make_float3 (_S3481 * _S3479.y) * _S3480.rows[1U];
        float3  _S3484 = mean_23 + delta_28;
        float3  _S3485 = mean_23 - delta_28;
        float3  delta_29 = make_float3 (_S3481 * _S3479.z) * _S3480.rows[2U];
        float3  _S3486 = mean_23 + delta_29;
        float3  _S3487 = mean_23 - delta_29;
        (&ret_7)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_7)->p_0[0U] = mul_0(R_25, (&ret_7)->p_0[0U]) + t_21;
        (&ret_7)->p_0[1U] = mul_0(R_25, _S3482) + t_21;
        (&ret_7)->p_0[2U] = mul_0(R_25, _S3484) + t_21;
        (&ret_7)->p_0[3U] = mul_0(R_25, _S3486) + t_21;
        (&ret_7)->p_0[4U] = mul_0(R_25, _S3483) + t_21;
        (&ret_7)->p_0[5U] = mul_0(R_25, _S3485) + t_21;
        (&ret_7)->p_0[6U] = mul_0(R_25, _S3487) + t_21;
        SigmaPoints_0 _S3488 = ret_7;
        bool _S3489 = fisheye_proj_3dgs_ut_0(&_S3488, intrins_21, dist_coeffs_33, &covar2d_13, mean2d_22);
        if(!(true & _S3489))
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_19 = *&(((&covar2d_13)->rows + (int(0)))->x) * *&(((&covar2d_13)->rows + (int(1)))->y) - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float _S3490 = *&(((&covar2d_13)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(0)))->x) = _S3490;
        float _S3491 = *&(((&covar2d_13)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(1)))->y) = _S3491;
        float det_blur_14 = _S3490 * _S3491 - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float compensation_14 = (F32_sqrt(((F32_max((0.0f), (det_orig_19 / det_blur_14))))));
        if(det_blur_14 <= 0.0f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_17 = 1.0f / (1.0f + (F32_exp((- in_opacity_18))));
        if(antialiased_18)
        {
            *opacity_17 = *opacity_17 * compensation_14;
        }
        if((*opacity_17) < 0.00392156885936856f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_13 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_17 / 0.00392156885936856f)))))))));
        float radius_x_13 = extend_13 * (F32_sqrt((covar2d_13[int(0)].x)));
        float radius_y_13 = extend_13 * (F32_sqrt((covar2d_13[int(1)].y)));
        float xmin_8 = (F32_floor(((*mean2d_22).x - radius_x_13)));
        float xmax_8 = (F32_ceil(((*mean2d_22).x + radius_x_13)));
        float ymin_8 = (F32_floor(((*mean2d_22).y - radius_y_13)));
        float ymax_8 = (F32_ceil(((*mean2d_22).y + radius_y_13)));
        if(xmax_8 <= 0.0f)
        {
            _S3478 = true;
        }
        else
        {
            _S3478 = xmin_8 >= float(image_width_18);
        }
        if(_S3478)
        {
            _S3478 = true;
        }
        else
        {
            _S3478 = ymax_8 <= 0.0f;
        }
        if(_S3478)
        {
            _S3478 = true;
        }
        else
        {
            _S3478 = ymin_8 >= float(image_height_18);
        }
        if(_S3478)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_13 = make_int4 (int(xmin_8), int(ymin_8), int(xmax_8), int(ymax_8));
        float _S3492 = mean_c_18.z;
        *depth_14 = (F32_max((_S3492), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3492 + _S3477))));
        *conic_13 = exp_0(- scale_23);
        float3  _S3493 = mean_23 - - mul_0(transpose_0(R_25), t_21);
        float3  _S3494 = _S3493 * make_float3 ((F32_rsqrt((dot_0(_S3493, _S3493)))));
        float _S3495 = dot_0((*sv_sites_3)[int(2)], _S3494);
        float w_7 = (F32_exp((dot_0((*sv_sites_3)[int(0)], _S3494) - _S3495)));
        float w_8 = (F32_exp((dot_0((*sv_sites_3)[int(1)], _S3494) - _S3495)));
        float w_9 = (F32_exp((0.0f)));
        *rgb_15 = max_0((make_float3 (w_7) * (*sv_colors_3)[int(0)] + make_float3 (w_8) * (*sv_colors_3)[int(1)] + make_float3 (w_9) * (*sv_colors_3)[int(2)]) / make_float3 (w_7 + w_8 + w_9) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_19, float3  mean_24, float4  quat_25, float3  scale_24, float in_opacity_19, FixedArray<float3 , 4>  * sv_sites_4, FixedArray<float3 , 4>  * sv_colors_4, Matrix<float, 3, 3>  R_26, float3  t_22, float fx_31, float fy_31, float cx_26, float cy_26, FixedArray<float, 10>  * dist_coeffs_34, uint image_width_19, uint image_height_19, float near_plane_14, float far_plane_14, int4  * aabb_xyxy_14, float2  * mean2d_23, float * depth_15, float3  * conic_14, float * opacity_18, float3  * rgb_16)
{
    for(;;)
    {
        float3  mean_c_19 = mul_0(R_26, mean_24) + t_22;
        float _S3496 = mean_c_19.z;
        bool _S3497;
        if(_S3496 < near_plane_14)
        {
            _S3497 = true;
        }
        else
        {
            _S3497 = _S3496 > far_plane_14;
        }
        if(_S3497)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_22 = make_float4 (fx_31, fy_31, cx_26, cy_26);
        Matrix<float, 2, 2>  covar2d_14;
        float3  _S3498 = exp_0(scale_24);
        float x_45 = quat_25.y;
        float x2_25 = x_45 * x_45;
        float y2_25 = quat_25.z * quat_25.z;
        float z2_40 = quat_25.w * quat_25.w;
        float xy_25 = quat_25.y * quat_25.z;
        float xz_25 = quat_25.y * quat_25.w;
        float yz_25 = quat_25.z * quat_25.w;
        float wx_25 = quat_25.x * quat_25.y;
        float wy_25 = quat_25.x * quat_25.z;
        float wz_25 = quat_25.x * quat_25.w;
        Matrix<float, 3, 3>  _S3499 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_25 + z2_40), 2.0f * (xy_25 + wz_25), 2.0f * (xz_25 - wy_25), 2.0f * (xy_25 - wz_25), 1.0f - 2.0f * (x2_25 + z2_40), 2.0f * (yz_25 + wx_25), 2.0f * (xz_25 + wy_25), 2.0f * (yz_25 - wx_25), 1.0f - 2.0f * (x2_25 + y2_25))));
        SigmaPoints_0 ret_8;
        (&ret_8)->p_0[int(0)] = mean_24;
        (&ret_8)->w_mean_0[int(0)] = 0.0f;
        (&ret_8)->w_cov_0[int(0)] = 2.0f;
        float _S3500 = (F32_sqrt((3.0f)));
        float3  delta_30 = make_float3 (_S3500 * _S3498.x) * _S3499.rows[0U];
        float3  _S3501 = mean_24 + delta_30;
        float3  _S3502 = mean_24 - delta_30;
        float3  delta_31 = make_float3 (_S3500 * _S3498.y) * _S3499.rows[1U];
        float3  _S3503 = mean_24 + delta_31;
        float3  _S3504 = mean_24 - delta_31;
        float3  delta_32 = make_float3 (_S3500 * _S3498.z) * _S3499.rows[2U];
        float3  _S3505 = mean_24 + delta_32;
        float3  _S3506 = mean_24 - delta_32;
        (&ret_8)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_8)->p_0[0U] = mul_0(R_26, (&ret_8)->p_0[0U]) + t_22;
        (&ret_8)->p_0[1U] = mul_0(R_26, _S3501) + t_22;
        (&ret_8)->p_0[2U] = mul_0(R_26, _S3503) + t_22;
        (&ret_8)->p_0[3U] = mul_0(R_26, _S3505) + t_22;
        (&ret_8)->p_0[4U] = mul_0(R_26, _S3502) + t_22;
        (&ret_8)->p_0[5U] = mul_0(R_26, _S3504) + t_22;
        (&ret_8)->p_0[6U] = mul_0(R_26, _S3506) + t_22;
        SigmaPoints_0 _S3507 = ret_8;
        bool _S3508 = persp_proj_3dgs_ut_0(&_S3507, intrins_22, dist_coeffs_34, image_width_19, image_height_19, &covar2d_14, mean2d_23);
        if(!(true & _S3508))
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_20 = *&(((&covar2d_14)->rows + (int(0)))->x) * *&(((&covar2d_14)->rows + (int(1)))->y) - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float _S3509 = *&(((&covar2d_14)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(0)))->x) = _S3509;
        float _S3510 = *&(((&covar2d_14)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(1)))->y) = _S3510;
        float det_blur_15 = _S3509 * _S3510 - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float compensation_15 = (F32_sqrt(((F32_max((0.0f), (det_orig_20 / det_blur_15))))));
        if(det_blur_15 <= 0.0f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_18 = 1.0f / (1.0f + (F32_exp((- in_opacity_19))));
        if(antialiased_19)
        {
            *opacity_18 = *opacity_18 * compensation_15;
        }
        if((*opacity_18) < 0.00392156885936856f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_14 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_18 / 0.00392156885936856f)))))))));
        float radius_x_14 = extend_14 * (F32_sqrt((covar2d_14[int(0)].x)));
        float radius_y_14 = extend_14 * (F32_sqrt((covar2d_14[int(1)].y)));
        float xmin_9 = (F32_floor(((*mean2d_23).x - radius_x_14)));
        float xmax_9 = (F32_ceil(((*mean2d_23).x + radius_x_14)));
        float ymin_9 = (F32_floor(((*mean2d_23).y - radius_y_14)));
        float ymax_9 = (F32_ceil(((*mean2d_23).y + radius_y_14)));
        if(xmax_9 <= 0.0f)
        {
            _S3497 = true;
        }
        else
        {
            _S3497 = xmin_9 >= float(image_width_19);
        }
        if(_S3497)
        {
            _S3497 = true;
        }
        else
        {
            _S3497 = ymax_9 <= 0.0f;
        }
        if(_S3497)
        {
            _S3497 = true;
        }
        else
        {
            _S3497 = ymin_9 >= float(image_height_19);
        }
        if(_S3497)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_14 = make_int4 (int(xmin_9), int(ymin_9), int(xmax_9), int(ymax_9));
        *depth_15 = (F32_max((_S3496), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3496 + length_1(mean_c_19)))));
        *conic_14 = exp_0(- scale_24);
        float3  _S3511 = mean_24 - - mul_0(transpose_0(R_26), t_22);
        float3  _S3512 = _S3511 * make_float3 ((F32_rsqrt((dot_0(_S3511, _S3511)))));
        float _S3513 = dot_0((*sv_sites_4)[int(3)], _S3512);
        float w_10 = (F32_exp((dot_0((*sv_sites_4)[int(0)], _S3512) - _S3513)));
        float w_11 = (F32_exp((dot_0((*sv_sites_4)[int(1)], _S3512) - _S3513)));
        float w_12 = (F32_exp((dot_0((*sv_sites_4)[int(2)], _S3512) - _S3513)));
        float w_13 = (F32_exp((0.0f)));
        *rgb_16 = max_0((make_float3 (w_10) * (*sv_colors_4)[int(0)] + make_float3 (w_11) * (*sv_colors_4)[int(1)] + make_float3 (w_12) * (*sv_colors_4)[int(2)] + make_float3 (w_13) * (*sv_colors_4)[int(3)]) / make_float3 (w_10 + w_11 + w_12 + w_13) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_20, float3  mean_25, float4  quat_26, float3  scale_25, float in_opacity_20, FixedArray<float3 , 4>  * sv_sites_5, FixedArray<float3 , 4>  * sv_colors_5, Matrix<float, 3, 3>  R_27, float3  t_23, float fx_32, float fy_32, float cx_27, float cy_27, FixedArray<float, 10>  * dist_coeffs_35, uint image_width_20, uint image_height_20, float near_plane_15, float far_plane_15, int4  * aabb_xyxy_15, float2  * mean2d_24, float * depth_16, float3  * conic_15, float * opacity_19, float3  * rgb_17)
{
    for(;;)
    {
        float3  mean_c_20 = mul_0(R_27, mean_25) + t_23;
        float _S3514 = length_1(mean_c_20);
        bool _S3515;
        if(_S3514 < near_plane_15)
        {
            _S3515 = true;
        }
        else
        {
            _S3515 = _S3514 > far_plane_15;
        }
        if(_S3515)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_23 = make_float4 (fx_32, fy_32, cx_27, cy_27);
        Matrix<float, 2, 2>  covar2d_15;
        float3  _S3516 = exp_0(scale_25);
        float x_46 = quat_26.y;
        float x2_26 = x_46 * x_46;
        float y2_26 = quat_26.z * quat_26.z;
        float z2_41 = quat_26.w * quat_26.w;
        float xy_26 = quat_26.y * quat_26.z;
        float xz_26 = quat_26.y * quat_26.w;
        float yz_26 = quat_26.z * quat_26.w;
        float wx_26 = quat_26.x * quat_26.y;
        float wy_26 = quat_26.x * quat_26.z;
        float wz_26 = quat_26.x * quat_26.w;
        Matrix<float, 3, 3>  _S3517 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_26 + z2_41), 2.0f * (xy_26 + wz_26), 2.0f * (xz_26 - wy_26), 2.0f * (xy_26 - wz_26), 1.0f - 2.0f * (x2_26 + z2_41), 2.0f * (yz_26 + wx_26), 2.0f * (xz_26 + wy_26), 2.0f * (yz_26 - wx_26), 1.0f - 2.0f * (x2_26 + y2_26))));
        SigmaPoints_0 ret_9;
        (&ret_9)->p_0[int(0)] = mean_25;
        (&ret_9)->w_mean_0[int(0)] = 0.0f;
        (&ret_9)->w_cov_0[int(0)] = 2.0f;
        float _S3518 = (F32_sqrt((3.0f)));
        float3  delta_33 = make_float3 (_S3518 * _S3516.x) * _S3517.rows[0U];
        float3  _S3519 = mean_25 + delta_33;
        float3  _S3520 = mean_25 - delta_33;
        float3  delta_34 = make_float3 (_S3518 * _S3516.y) * _S3517.rows[1U];
        float3  _S3521 = mean_25 + delta_34;
        float3  _S3522 = mean_25 - delta_34;
        float3  delta_35 = make_float3 (_S3518 * _S3516.z) * _S3517.rows[2U];
        float3  _S3523 = mean_25 + delta_35;
        float3  _S3524 = mean_25 - delta_35;
        (&ret_9)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_9)->p_0[0U] = mul_0(R_27, (&ret_9)->p_0[0U]) + t_23;
        (&ret_9)->p_0[1U] = mul_0(R_27, _S3519) + t_23;
        (&ret_9)->p_0[2U] = mul_0(R_27, _S3521) + t_23;
        (&ret_9)->p_0[3U] = mul_0(R_27, _S3523) + t_23;
        (&ret_9)->p_0[4U] = mul_0(R_27, _S3520) + t_23;
        (&ret_9)->p_0[5U] = mul_0(R_27, _S3522) + t_23;
        (&ret_9)->p_0[6U] = mul_0(R_27, _S3524) + t_23;
        SigmaPoints_0 _S3525 = ret_9;
        bool _S3526 = fisheye_proj_3dgs_ut_0(&_S3525, intrins_23, dist_coeffs_35, &covar2d_15, mean2d_24);
        if(!(true & _S3526))
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_21 = *&(((&covar2d_15)->rows + (int(0)))->x) * *&(((&covar2d_15)->rows + (int(1)))->y) - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float _S3527 = *&(((&covar2d_15)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(0)))->x) = _S3527;
        float _S3528 = *&(((&covar2d_15)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(1)))->y) = _S3528;
        float det_blur_16 = _S3527 * _S3528 - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float compensation_16 = (F32_sqrt(((F32_max((0.0f), (det_orig_21 / det_blur_16))))));
        if(det_blur_16 <= 0.0f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_19 = 1.0f / (1.0f + (F32_exp((- in_opacity_20))));
        if(antialiased_20)
        {
            *opacity_19 = *opacity_19 * compensation_16;
        }
        if((*opacity_19) < 0.00392156885936856f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_15 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_19 / 0.00392156885936856f)))))))));
        float radius_x_15 = extend_15 * (F32_sqrt((covar2d_15[int(0)].x)));
        float radius_y_15 = extend_15 * (F32_sqrt((covar2d_15[int(1)].y)));
        float xmin_10 = (F32_floor(((*mean2d_24).x - radius_x_15)));
        float xmax_10 = (F32_ceil(((*mean2d_24).x + radius_x_15)));
        float ymin_10 = (F32_floor(((*mean2d_24).y - radius_y_15)));
        float ymax_10 = (F32_ceil(((*mean2d_24).y + radius_y_15)));
        if(xmax_10 <= 0.0f)
        {
            _S3515 = true;
        }
        else
        {
            _S3515 = xmin_10 >= float(image_width_20);
        }
        if(_S3515)
        {
            _S3515 = true;
        }
        else
        {
            _S3515 = ymax_10 <= 0.0f;
        }
        if(_S3515)
        {
            _S3515 = true;
        }
        else
        {
            _S3515 = ymin_10 >= float(image_height_20);
        }
        if(_S3515)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_15 = make_int4 (int(xmin_10), int(ymin_10), int(xmax_10), int(ymax_10));
        float _S3529 = mean_c_20.z;
        *depth_16 = (F32_max((_S3529), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3529 + _S3514))));
        *conic_15 = exp_0(- scale_25);
        float3  _S3530 = mean_25 - - mul_0(transpose_0(R_27), t_23);
        float3  _S3531 = _S3530 * make_float3 ((F32_rsqrt((dot_0(_S3530, _S3530)))));
        float _S3532 = dot_0((*sv_sites_5)[int(3)], _S3531);
        float w_14 = (F32_exp((dot_0((*sv_sites_5)[int(0)], _S3531) - _S3532)));
        float w_15 = (F32_exp((dot_0((*sv_sites_5)[int(1)], _S3531) - _S3532)));
        float w_16 = (F32_exp((dot_0((*sv_sites_5)[int(2)], _S3531) - _S3532)));
        float w_17 = (F32_exp((0.0f)));
        *rgb_17 = max_0((make_float3 (w_14) * (*sv_colors_5)[int(0)] + make_float3 (w_15) * (*sv_colors_5)[int(1)] + make_float3 (w_16) * (*sv_colors_5)[int(2)] + make_float3 (w_17) * (*sv_colors_5)[int(3)]) / make_float3 (w_14 + w_15 + w_16 + w_17) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_21, float3  mean_26, float4  quat_27, float3  scale_26, float in_opacity_21, FixedArray<float3 , 5>  * sv_sites_6, FixedArray<float3 , 5>  * sv_colors_6, Matrix<float, 3, 3>  R_28, float3  t_24, float fx_33, float fy_33, float cx_28, float cy_28, FixedArray<float, 10>  * dist_coeffs_36, uint image_width_21, uint image_height_21, float near_plane_16, float far_plane_16, int4  * aabb_xyxy_16, float2  * mean2d_25, float * depth_17, float3  * conic_16, float * opacity_20, float3  * rgb_18)
{
    for(;;)
    {
        float3  mean_c_21 = mul_0(R_28, mean_26) + t_24;
        float _S3533 = mean_c_21.z;
        bool _S3534;
        if(_S3533 < near_plane_16)
        {
            _S3534 = true;
        }
        else
        {
            _S3534 = _S3533 > far_plane_16;
        }
        if(_S3534)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_24 = make_float4 (fx_33, fy_33, cx_28, cy_28);
        Matrix<float, 2, 2>  covar2d_16;
        float3  _S3535 = exp_0(scale_26);
        float x_47 = quat_27.y;
        float x2_27 = x_47 * x_47;
        float y2_27 = quat_27.z * quat_27.z;
        float z2_42 = quat_27.w * quat_27.w;
        float xy_27 = quat_27.y * quat_27.z;
        float xz_27 = quat_27.y * quat_27.w;
        float yz_27 = quat_27.z * quat_27.w;
        float wx_27 = quat_27.x * quat_27.y;
        float wy_27 = quat_27.x * quat_27.z;
        float wz_27 = quat_27.x * quat_27.w;
        Matrix<float, 3, 3>  _S3536 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_27 + z2_42), 2.0f * (xy_27 + wz_27), 2.0f * (xz_27 - wy_27), 2.0f * (xy_27 - wz_27), 1.0f - 2.0f * (x2_27 + z2_42), 2.0f * (yz_27 + wx_27), 2.0f * (xz_27 + wy_27), 2.0f * (yz_27 - wx_27), 1.0f - 2.0f * (x2_27 + y2_27))));
        SigmaPoints_0 ret_10;
        (&ret_10)->p_0[int(0)] = mean_26;
        (&ret_10)->w_mean_0[int(0)] = 0.0f;
        (&ret_10)->w_cov_0[int(0)] = 2.0f;
        float _S3537 = (F32_sqrt((3.0f)));
        float3  delta_36 = make_float3 (_S3537 * _S3535.x) * _S3536.rows[0U];
        float3  _S3538 = mean_26 + delta_36;
        float3  _S3539 = mean_26 - delta_36;
        float3  delta_37 = make_float3 (_S3537 * _S3535.y) * _S3536.rows[1U];
        float3  _S3540 = mean_26 + delta_37;
        float3  _S3541 = mean_26 - delta_37;
        float3  delta_38 = make_float3 (_S3537 * _S3535.z) * _S3536.rows[2U];
        float3  _S3542 = mean_26 + delta_38;
        float3  _S3543 = mean_26 - delta_38;
        (&ret_10)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_10)->p_0[0U] = mul_0(R_28, (&ret_10)->p_0[0U]) + t_24;
        (&ret_10)->p_0[1U] = mul_0(R_28, _S3538) + t_24;
        (&ret_10)->p_0[2U] = mul_0(R_28, _S3540) + t_24;
        (&ret_10)->p_0[3U] = mul_0(R_28, _S3542) + t_24;
        (&ret_10)->p_0[4U] = mul_0(R_28, _S3539) + t_24;
        (&ret_10)->p_0[5U] = mul_0(R_28, _S3541) + t_24;
        (&ret_10)->p_0[6U] = mul_0(R_28, _S3543) + t_24;
        SigmaPoints_0 _S3544 = ret_10;
        bool _S3545 = persp_proj_3dgs_ut_0(&_S3544, intrins_24, dist_coeffs_36, image_width_21, image_height_21, &covar2d_16, mean2d_25);
        if(!(true & _S3545))
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_22 = *&(((&covar2d_16)->rows + (int(0)))->x) * *&(((&covar2d_16)->rows + (int(1)))->y) - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float _S3546 = *&(((&covar2d_16)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(0)))->x) = _S3546;
        float _S3547 = *&(((&covar2d_16)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(1)))->y) = _S3547;
        float det_blur_17 = _S3546 * _S3547 - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float compensation_17 = (F32_sqrt(((F32_max((0.0f), (det_orig_22 / det_blur_17))))));
        if(det_blur_17 <= 0.0f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_20 = 1.0f / (1.0f + (F32_exp((- in_opacity_21))));
        if(antialiased_21)
        {
            *opacity_20 = *opacity_20 * compensation_17;
        }
        if((*opacity_20) < 0.00392156885936856f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_16 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_20 / 0.00392156885936856f)))))))));
        float radius_x_16 = extend_16 * (F32_sqrt((covar2d_16[int(0)].x)));
        float radius_y_16 = extend_16 * (F32_sqrt((covar2d_16[int(1)].y)));
        float xmin_11 = (F32_floor(((*mean2d_25).x - radius_x_16)));
        float xmax_11 = (F32_ceil(((*mean2d_25).x + radius_x_16)));
        float ymin_11 = (F32_floor(((*mean2d_25).y - radius_y_16)));
        float ymax_11 = (F32_ceil(((*mean2d_25).y + radius_y_16)));
        if(xmax_11 <= 0.0f)
        {
            _S3534 = true;
        }
        else
        {
            _S3534 = xmin_11 >= float(image_width_21);
        }
        if(_S3534)
        {
            _S3534 = true;
        }
        else
        {
            _S3534 = ymax_11 <= 0.0f;
        }
        if(_S3534)
        {
            _S3534 = true;
        }
        else
        {
            _S3534 = ymin_11 >= float(image_height_21);
        }
        if(_S3534)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_16 = make_int4 (int(xmin_11), int(ymin_11), int(xmax_11), int(ymax_11));
        *depth_17 = (F32_max((_S3533), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3533 + length_1(mean_c_21)))));
        *conic_16 = exp_0(- scale_26);
        float3  _S3548 = mean_26 - - mul_0(transpose_0(R_28), t_24);
        float3  _S3549 = _S3548 * make_float3 ((F32_rsqrt((dot_0(_S3548, _S3548)))));
        float _S3550 = dot_0((*sv_sites_6)[int(4)], _S3549);
        float w_18 = (F32_exp((dot_0((*sv_sites_6)[int(0)], _S3549) - _S3550)));
        float w_19 = (F32_exp((dot_0((*sv_sites_6)[int(1)], _S3549) - _S3550)));
        float w_20 = (F32_exp((dot_0((*sv_sites_6)[int(2)], _S3549) - _S3550)));
        float w_21 = (F32_exp((dot_0((*sv_sites_6)[int(3)], _S3549) - _S3550)));
        float w_22 = (F32_exp((0.0f)));
        *rgb_18 = max_0((make_float3 (w_18) * (*sv_colors_6)[int(0)] + make_float3 (w_19) * (*sv_colors_6)[int(1)] + make_float3 (w_20) * (*sv_colors_6)[int(2)] + make_float3 (w_21) * (*sv_colors_6)[int(3)] + make_float3 (w_22) * (*sv_colors_6)[int(4)]) / make_float3 (w_18 + w_19 + w_20 + w_21 + w_22) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_22, float3  mean_27, float4  quat_28, float3  scale_27, float in_opacity_22, FixedArray<float3 , 5>  * sv_sites_7, FixedArray<float3 , 5>  * sv_colors_7, Matrix<float, 3, 3>  R_29, float3  t_25, float fx_34, float fy_34, float cx_29, float cy_29, FixedArray<float, 10>  * dist_coeffs_37, uint image_width_22, uint image_height_22, float near_plane_17, float far_plane_17, int4  * aabb_xyxy_17, float2  * mean2d_26, float * depth_18, float3  * conic_17, float * opacity_21, float3  * rgb_19)
{
    for(;;)
    {
        float3  mean_c_22 = mul_0(R_29, mean_27) + t_25;
        float _S3551 = length_1(mean_c_22);
        bool _S3552;
        if(_S3551 < near_plane_17)
        {
            _S3552 = true;
        }
        else
        {
            _S3552 = _S3551 > far_plane_17;
        }
        if(_S3552)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_25 = make_float4 (fx_34, fy_34, cx_29, cy_29);
        Matrix<float, 2, 2>  covar2d_17;
        float3  _S3553 = exp_0(scale_27);
        float x_48 = quat_28.y;
        float x2_28 = x_48 * x_48;
        float y2_28 = quat_28.z * quat_28.z;
        float z2_43 = quat_28.w * quat_28.w;
        float xy_28 = quat_28.y * quat_28.z;
        float xz_28 = quat_28.y * quat_28.w;
        float yz_28 = quat_28.z * quat_28.w;
        float wx_28 = quat_28.x * quat_28.y;
        float wy_28 = quat_28.x * quat_28.z;
        float wz_28 = quat_28.x * quat_28.w;
        Matrix<float, 3, 3>  _S3554 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_28 + z2_43), 2.0f * (xy_28 + wz_28), 2.0f * (xz_28 - wy_28), 2.0f * (xy_28 - wz_28), 1.0f - 2.0f * (x2_28 + z2_43), 2.0f * (yz_28 + wx_28), 2.0f * (xz_28 + wy_28), 2.0f * (yz_28 - wx_28), 1.0f - 2.0f * (x2_28 + y2_28))));
        SigmaPoints_0 ret_11;
        (&ret_11)->p_0[int(0)] = mean_27;
        (&ret_11)->w_mean_0[int(0)] = 0.0f;
        (&ret_11)->w_cov_0[int(0)] = 2.0f;
        float _S3555 = (F32_sqrt((3.0f)));
        float3  delta_39 = make_float3 (_S3555 * _S3553.x) * _S3554.rows[0U];
        float3  _S3556 = mean_27 + delta_39;
        float3  _S3557 = mean_27 - delta_39;
        float3  delta_40 = make_float3 (_S3555 * _S3553.y) * _S3554.rows[1U];
        float3  _S3558 = mean_27 + delta_40;
        float3  _S3559 = mean_27 - delta_40;
        float3  delta_41 = make_float3 (_S3555 * _S3553.z) * _S3554.rows[2U];
        float3  _S3560 = mean_27 + delta_41;
        float3  _S3561 = mean_27 - delta_41;
        (&ret_11)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_11)->p_0[0U] = mul_0(R_29, (&ret_11)->p_0[0U]) + t_25;
        (&ret_11)->p_0[1U] = mul_0(R_29, _S3556) + t_25;
        (&ret_11)->p_0[2U] = mul_0(R_29, _S3558) + t_25;
        (&ret_11)->p_0[3U] = mul_0(R_29, _S3560) + t_25;
        (&ret_11)->p_0[4U] = mul_0(R_29, _S3557) + t_25;
        (&ret_11)->p_0[5U] = mul_0(R_29, _S3559) + t_25;
        (&ret_11)->p_0[6U] = mul_0(R_29, _S3561) + t_25;
        SigmaPoints_0 _S3562 = ret_11;
        bool _S3563 = fisheye_proj_3dgs_ut_0(&_S3562, intrins_25, dist_coeffs_37, &covar2d_17, mean2d_26);
        if(!(true & _S3563))
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_23 = *&(((&covar2d_17)->rows + (int(0)))->x) * *&(((&covar2d_17)->rows + (int(1)))->y) - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float _S3564 = *&(((&covar2d_17)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(0)))->x) = _S3564;
        float _S3565 = *&(((&covar2d_17)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(1)))->y) = _S3565;
        float det_blur_18 = _S3564 * _S3565 - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float compensation_18 = (F32_sqrt(((F32_max((0.0f), (det_orig_23 / det_blur_18))))));
        if(det_blur_18 <= 0.0f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_21 = 1.0f / (1.0f + (F32_exp((- in_opacity_22))));
        if(antialiased_22)
        {
            *opacity_21 = *opacity_21 * compensation_18;
        }
        if((*opacity_21) < 0.00392156885936856f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_17 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_21 / 0.00392156885936856f)))))))));
        float radius_x_17 = extend_17 * (F32_sqrt((covar2d_17[int(0)].x)));
        float radius_y_17 = extend_17 * (F32_sqrt((covar2d_17[int(1)].y)));
        float xmin_12 = (F32_floor(((*mean2d_26).x - radius_x_17)));
        float xmax_12 = (F32_ceil(((*mean2d_26).x + radius_x_17)));
        float ymin_12 = (F32_floor(((*mean2d_26).y - radius_y_17)));
        float ymax_12 = (F32_ceil(((*mean2d_26).y + radius_y_17)));
        if(xmax_12 <= 0.0f)
        {
            _S3552 = true;
        }
        else
        {
            _S3552 = xmin_12 >= float(image_width_22);
        }
        if(_S3552)
        {
            _S3552 = true;
        }
        else
        {
            _S3552 = ymax_12 <= 0.0f;
        }
        if(_S3552)
        {
            _S3552 = true;
        }
        else
        {
            _S3552 = ymin_12 >= float(image_height_22);
        }
        if(_S3552)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_17 = make_int4 (int(xmin_12), int(ymin_12), int(xmax_12), int(ymax_12));
        float _S3566 = mean_c_22.z;
        *depth_18 = (F32_max((_S3566), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3566 + _S3551))));
        *conic_17 = exp_0(- scale_27);
        float3  _S3567 = mean_27 - - mul_0(transpose_0(R_29), t_25);
        float3  _S3568 = _S3567 * make_float3 ((F32_rsqrt((dot_0(_S3567, _S3567)))));
        float _S3569 = dot_0((*sv_sites_7)[int(4)], _S3568);
        float w_23 = (F32_exp((dot_0((*sv_sites_7)[int(0)], _S3568) - _S3569)));
        float w_24 = (F32_exp((dot_0((*sv_sites_7)[int(1)], _S3568) - _S3569)));
        float w_25 = (F32_exp((dot_0((*sv_sites_7)[int(2)], _S3568) - _S3569)));
        float w_26 = (F32_exp((dot_0((*sv_sites_7)[int(3)], _S3568) - _S3569)));
        float w_27 = (F32_exp((0.0f)));
        *rgb_19 = max_0((make_float3 (w_23) * (*sv_colors_7)[int(0)] + make_float3 (w_24) * (*sv_colors_7)[int(1)] + make_float3 (w_25) * (*sv_colors_7)[int(2)] + make_float3 (w_26) * (*sv_colors_7)[int(3)] + make_float3 (w_27) * (*sv_colors_7)[int(4)]) / make_float3 (w_23 + w_24 + w_25 + w_26 + w_27) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_23, float3  mean_28, float4  quat_29, float3  scale_28, float in_opacity_23, FixedArray<float3 , 6>  * sv_sites_8, FixedArray<float3 , 6>  * sv_colors_8, Matrix<float, 3, 3>  R_30, float3  t_26, float fx_35, float fy_35, float cx_30, float cy_30, FixedArray<float, 10>  * dist_coeffs_38, uint image_width_23, uint image_height_23, float near_plane_18, float far_plane_18, int4  * aabb_xyxy_18, float2  * mean2d_27, float * depth_19, float3  * conic_18, float * opacity_22, float3  * rgb_20)
{
    for(;;)
    {
        float3  mean_c_23 = mul_0(R_30, mean_28) + t_26;
        float _S3570 = mean_c_23.z;
        bool _S3571;
        if(_S3570 < near_plane_18)
        {
            _S3571 = true;
        }
        else
        {
            _S3571 = _S3570 > far_plane_18;
        }
        if(_S3571)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_26 = make_float4 (fx_35, fy_35, cx_30, cy_30);
        Matrix<float, 2, 2>  covar2d_18;
        float3  _S3572 = exp_0(scale_28);
        float x_49 = quat_29.y;
        float x2_29 = x_49 * x_49;
        float y2_29 = quat_29.z * quat_29.z;
        float z2_44 = quat_29.w * quat_29.w;
        float xy_29 = quat_29.y * quat_29.z;
        float xz_29 = quat_29.y * quat_29.w;
        float yz_29 = quat_29.z * quat_29.w;
        float wx_29 = quat_29.x * quat_29.y;
        float wy_29 = quat_29.x * quat_29.z;
        float wz_29 = quat_29.x * quat_29.w;
        Matrix<float, 3, 3>  _S3573 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_29 + z2_44), 2.0f * (xy_29 + wz_29), 2.0f * (xz_29 - wy_29), 2.0f * (xy_29 - wz_29), 1.0f - 2.0f * (x2_29 + z2_44), 2.0f * (yz_29 + wx_29), 2.0f * (xz_29 + wy_29), 2.0f * (yz_29 - wx_29), 1.0f - 2.0f * (x2_29 + y2_29))));
        SigmaPoints_0 ret_12;
        (&ret_12)->p_0[int(0)] = mean_28;
        (&ret_12)->w_mean_0[int(0)] = 0.0f;
        (&ret_12)->w_cov_0[int(0)] = 2.0f;
        float _S3574 = (F32_sqrt((3.0f)));
        float3  delta_42 = make_float3 (_S3574 * _S3572.x) * _S3573.rows[0U];
        float3  _S3575 = mean_28 + delta_42;
        float3  _S3576 = mean_28 - delta_42;
        float3  delta_43 = make_float3 (_S3574 * _S3572.y) * _S3573.rows[1U];
        float3  _S3577 = mean_28 + delta_43;
        float3  _S3578 = mean_28 - delta_43;
        float3  delta_44 = make_float3 (_S3574 * _S3572.z) * _S3573.rows[2U];
        float3  _S3579 = mean_28 + delta_44;
        float3  _S3580 = mean_28 - delta_44;
        (&ret_12)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_12)->p_0[0U] = mul_0(R_30, (&ret_12)->p_0[0U]) + t_26;
        (&ret_12)->p_0[1U] = mul_0(R_30, _S3575) + t_26;
        (&ret_12)->p_0[2U] = mul_0(R_30, _S3577) + t_26;
        (&ret_12)->p_0[3U] = mul_0(R_30, _S3579) + t_26;
        (&ret_12)->p_0[4U] = mul_0(R_30, _S3576) + t_26;
        (&ret_12)->p_0[5U] = mul_0(R_30, _S3578) + t_26;
        (&ret_12)->p_0[6U] = mul_0(R_30, _S3580) + t_26;
        SigmaPoints_0 _S3581 = ret_12;
        bool _S3582 = persp_proj_3dgs_ut_0(&_S3581, intrins_26, dist_coeffs_38, image_width_23, image_height_23, &covar2d_18, mean2d_27);
        if(!(true & _S3582))
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_24 = *&(((&covar2d_18)->rows + (int(0)))->x) * *&(((&covar2d_18)->rows + (int(1)))->y) - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float _S3583 = *&(((&covar2d_18)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(0)))->x) = _S3583;
        float _S3584 = *&(((&covar2d_18)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(1)))->y) = _S3584;
        float det_blur_19 = _S3583 * _S3584 - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float compensation_19 = (F32_sqrt(((F32_max((0.0f), (det_orig_24 / det_blur_19))))));
        if(det_blur_19 <= 0.0f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_22 = 1.0f / (1.0f + (F32_exp((- in_opacity_23))));
        if(antialiased_23)
        {
            *opacity_22 = *opacity_22 * compensation_19;
        }
        if((*opacity_22) < 0.00392156885936856f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_18 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_22 / 0.00392156885936856f)))))))));
        float radius_x_18 = extend_18 * (F32_sqrt((covar2d_18[int(0)].x)));
        float radius_y_18 = extend_18 * (F32_sqrt((covar2d_18[int(1)].y)));
        float xmin_13 = (F32_floor(((*mean2d_27).x - radius_x_18)));
        float xmax_13 = (F32_ceil(((*mean2d_27).x + radius_x_18)));
        float ymin_13 = (F32_floor(((*mean2d_27).y - radius_y_18)));
        float ymax_13 = (F32_ceil(((*mean2d_27).y + radius_y_18)));
        if(xmax_13 <= 0.0f)
        {
            _S3571 = true;
        }
        else
        {
            _S3571 = xmin_13 >= float(image_width_23);
        }
        if(_S3571)
        {
            _S3571 = true;
        }
        else
        {
            _S3571 = ymax_13 <= 0.0f;
        }
        if(_S3571)
        {
            _S3571 = true;
        }
        else
        {
            _S3571 = ymin_13 >= float(image_height_23);
        }
        if(_S3571)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_18 = make_int4 (int(xmin_13), int(ymin_13), int(xmax_13), int(ymax_13));
        *depth_19 = (F32_max((_S3570), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3570 + length_1(mean_c_23)))));
        *conic_18 = exp_0(- scale_28);
        float3  _S3585 = mean_28 - - mul_0(transpose_0(R_30), t_26);
        float3  _S3586 = _S3585 * make_float3 ((F32_rsqrt((dot_0(_S3585, _S3585)))));
        float _S3587 = dot_0((*sv_sites_8)[int(5)], _S3586);
        float w_28 = (F32_exp((dot_0((*sv_sites_8)[int(0)], _S3586) - _S3587)));
        float w_29 = (F32_exp((dot_0((*sv_sites_8)[int(1)], _S3586) - _S3587)));
        float w_30 = (F32_exp((dot_0((*sv_sites_8)[int(2)], _S3586) - _S3587)));
        float w_31 = (F32_exp((dot_0((*sv_sites_8)[int(3)], _S3586) - _S3587)));
        float w_32 = (F32_exp((dot_0((*sv_sites_8)[int(4)], _S3586) - _S3587)));
        float w_33 = (F32_exp((0.0f)));
        *rgb_20 = max_0((make_float3 (w_28) * (*sv_colors_8)[int(0)] + make_float3 (w_29) * (*sv_colors_8)[int(1)] + make_float3 (w_30) * (*sv_colors_8)[int(2)] + make_float3 (w_31) * (*sv_colors_8)[int(3)] + make_float3 (w_32) * (*sv_colors_8)[int(4)] + make_float3 (w_33) * (*sv_colors_8)[int(5)]) / make_float3 (w_28 + w_29 + w_30 + w_31 + w_32 + w_33) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_24, float3  mean_29, float4  quat_30, float3  scale_29, float in_opacity_24, FixedArray<float3 , 6>  * sv_sites_9, FixedArray<float3 , 6>  * sv_colors_9, Matrix<float, 3, 3>  R_31, float3  t_27, float fx_36, float fy_36, float cx_31, float cy_31, FixedArray<float, 10>  * dist_coeffs_39, uint image_width_24, uint image_height_24, float near_plane_19, float far_plane_19, int4  * aabb_xyxy_19, float2  * mean2d_28, float * depth_20, float3  * conic_19, float * opacity_23, float3  * rgb_21)
{
    for(;;)
    {
        float3  mean_c_24 = mul_0(R_31, mean_29) + t_27;
        float _S3588 = length_1(mean_c_24);
        bool _S3589;
        if(_S3588 < near_plane_19)
        {
            _S3589 = true;
        }
        else
        {
            _S3589 = _S3588 > far_plane_19;
        }
        if(_S3589)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_27 = make_float4 (fx_36, fy_36, cx_31, cy_31);
        Matrix<float, 2, 2>  covar2d_19;
        float3  _S3590 = exp_0(scale_29);
        float x_50 = quat_30.y;
        float x2_30 = x_50 * x_50;
        float y2_30 = quat_30.z * quat_30.z;
        float z2_45 = quat_30.w * quat_30.w;
        float xy_30 = quat_30.y * quat_30.z;
        float xz_30 = quat_30.y * quat_30.w;
        float yz_30 = quat_30.z * quat_30.w;
        float wx_30 = quat_30.x * quat_30.y;
        float wy_30 = quat_30.x * quat_30.z;
        float wz_30 = quat_30.x * quat_30.w;
        Matrix<float, 3, 3>  _S3591 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_30 + z2_45), 2.0f * (xy_30 + wz_30), 2.0f * (xz_30 - wy_30), 2.0f * (xy_30 - wz_30), 1.0f - 2.0f * (x2_30 + z2_45), 2.0f * (yz_30 + wx_30), 2.0f * (xz_30 + wy_30), 2.0f * (yz_30 - wx_30), 1.0f - 2.0f * (x2_30 + y2_30))));
        SigmaPoints_0 ret_13;
        (&ret_13)->p_0[int(0)] = mean_29;
        (&ret_13)->w_mean_0[int(0)] = 0.0f;
        (&ret_13)->w_cov_0[int(0)] = 2.0f;
        float _S3592 = (F32_sqrt((3.0f)));
        float3  delta_45 = make_float3 (_S3592 * _S3590.x) * _S3591.rows[0U];
        float3  _S3593 = mean_29 + delta_45;
        float3  _S3594 = mean_29 - delta_45;
        float3  delta_46 = make_float3 (_S3592 * _S3590.y) * _S3591.rows[1U];
        float3  _S3595 = mean_29 + delta_46;
        float3  _S3596 = mean_29 - delta_46;
        float3  delta_47 = make_float3 (_S3592 * _S3590.z) * _S3591.rows[2U];
        float3  _S3597 = mean_29 + delta_47;
        float3  _S3598 = mean_29 - delta_47;
        (&ret_13)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_13)->p_0[0U] = mul_0(R_31, (&ret_13)->p_0[0U]) + t_27;
        (&ret_13)->p_0[1U] = mul_0(R_31, _S3593) + t_27;
        (&ret_13)->p_0[2U] = mul_0(R_31, _S3595) + t_27;
        (&ret_13)->p_0[3U] = mul_0(R_31, _S3597) + t_27;
        (&ret_13)->p_0[4U] = mul_0(R_31, _S3594) + t_27;
        (&ret_13)->p_0[5U] = mul_0(R_31, _S3596) + t_27;
        (&ret_13)->p_0[6U] = mul_0(R_31, _S3598) + t_27;
        SigmaPoints_0 _S3599 = ret_13;
        bool _S3600 = fisheye_proj_3dgs_ut_0(&_S3599, intrins_27, dist_coeffs_39, &covar2d_19, mean2d_28);
        if(!(true & _S3600))
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_25 = *&(((&covar2d_19)->rows + (int(0)))->x) * *&(((&covar2d_19)->rows + (int(1)))->y) - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float _S3601 = *&(((&covar2d_19)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(0)))->x) = _S3601;
        float _S3602 = *&(((&covar2d_19)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(1)))->y) = _S3602;
        float det_blur_20 = _S3601 * _S3602 - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float compensation_20 = (F32_sqrt(((F32_max((0.0f), (det_orig_25 / det_blur_20))))));
        if(det_blur_20 <= 0.0f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_23 = 1.0f / (1.0f + (F32_exp((- in_opacity_24))));
        if(antialiased_24)
        {
            *opacity_23 = *opacity_23 * compensation_20;
        }
        if((*opacity_23) < 0.00392156885936856f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_19 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_23 / 0.00392156885936856f)))))))));
        float radius_x_19 = extend_19 * (F32_sqrt((covar2d_19[int(0)].x)));
        float radius_y_19 = extend_19 * (F32_sqrt((covar2d_19[int(1)].y)));
        float xmin_14 = (F32_floor(((*mean2d_28).x - radius_x_19)));
        float xmax_14 = (F32_ceil(((*mean2d_28).x + radius_x_19)));
        float ymin_14 = (F32_floor(((*mean2d_28).y - radius_y_19)));
        float ymax_14 = (F32_ceil(((*mean2d_28).y + radius_y_19)));
        if(xmax_14 <= 0.0f)
        {
            _S3589 = true;
        }
        else
        {
            _S3589 = xmin_14 >= float(image_width_24);
        }
        if(_S3589)
        {
            _S3589 = true;
        }
        else
        {
            _S3589 = ymax_14 <= 0.0f;
        }
        if(_S3589)
        {
            _S3589 = true;
        }
        else
        {
            _S3589 = ymin_14 >= float(image_height_24);
        }
        if(_S3589)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_19 = make_int4 (int(xmin_14), int(ymin_14), int(xmax_14), int(ymax_14));
        float _S3603 = mean_c_24.z;
        *depth_20 = (F32_max((_S3603), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3603 + _S3588))));
        *conic_19 = exp_0(- scale_29);
        float3  _S3604 = mean_29 - - mul_0(transpose_0(R_31), t_27);
        float3  _S3605 = _S3604 * make_float3 ((F32_rsqrt((dot_0(_S3604, _S3604)))));
        float _S3606 = dot_0((*sv_sites_9)[int(5)], _S3605);
        float w_34 = (F32_exp((dot_0((*sv_sites_9)[int(0)], _S3605) - _S3606)));
        float w_35 = (F32_exp((dot_0((*sv_sites_9)[int(1)], _S3605) - _S3606)));
        float w_36 = (F32_exp((dot_0((*sv_sites_9)[int(2)], _S3605) - _S3606)));
        float w_37 = (F32_exp((dot_0((*sv_sites_9)[int(3)], _S3605) - _S3606)));
        float w_38 = (F32_exp((dot_0((*sv_sites_9)[int(4)], _S3605) - _S3606)));
        float w_39 = (F32_exp((0.0f)));
        *rgb_21 = max_0((make_float3 (w_34) * (*sv_colors_9)[int(0)] + make_float3 (w_35) * (*sv_colors_9)[int(1)] + make_float3 (w_36) * (*sv_colors_9)[int(2)] + make_float3 (w_37) * (*sv_colors_9)[int(3)] + make_float3 (w_38) * (*sv_colors_9)[int(4)] + make_float3 (w_39) * (*sv_colors_9)[int(5)]) / make_float3 (w_34 + w_35 + w_36 + w_37 + w_38 + w_39) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_25, float3  mean_30, float4  quat_31, float3  scale_30, float in_opacity_25, FixedArray<float3 , 7>  * sv_sites_10, FixedArray<float3 , 7>  * sv_colors_10, Matrix<float, 3, 3>  R_32, float3  t_28, float fx_37, float fy_37, float cx_32, float cy_32, FixedArray<float, 10>  * dist_coeffs_40, uint image_width_25, uint image_height_25, float near_plane_20, float far_plane_20, int4  * aabb_xyxy_20, float2  * mean2d_29, float * depth_21, float3  * conic_20, float * opacity_24, float3  * rgb_22)
{
    for(;;)
    {
        float3  mean_c_25 = mul_0(R_32, mean_30) + t_28;
        float _S3607 = mean_c_25.z;
        bool _S3608;
        if(_S3607 < near_plane_20)
        {
            _S3608 = true;
        }
        else
        {
            _S3608 = _S3607 > far_plane_20;
        }
        if(_S3608)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_28 = make_float4 (fx_37, fy_37, cx_32, cy_32);
        Matrix<float, 2, 2>  covar2d_20;
        float3  _S3609 = exp_0(scale_30);
        float x_51 = quat_31.y;
        float x2_31 = x_51 * x_51;
        float y2_31 = quat_31.z * quat_31.z;
        float z2_46 = quat_31.w * quat_31.w;
        float xy_31 = quat_31.y * quat_31.z;
        float xz_31 = quat_31.y * quat_31.w;
        float yz_31 = quat_31.z * quat_31.w;
        float wx_31 = quat_31.x * quat_31.y;
        float wy_31 = quat_31.x * quat_31.z;
        float wz_31 = quat_31.x * quat_31.w;
        Matrix<float, 3, 3>  _S3610 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_31 + z2_46), 2.0f * (xy_31 + wz_31), 2.0f * (xz_31 - wy_31), 2.0f * (xy_31 - wz_31), 1.0f - 2.0f * (x2_31 + z2_46), 2.0f * (yz_31 + wx_31), 2.0f * (xz_31 + wy_31), 2.0f * (yz_31 - wx_31), 1.0f - 2.0f * (x2_31 + y2_31))));
        SigmaPoints_0 ret_14;
        (&ret_14)->p_0[int(0)] = mean_30;
        (&ret_14)->w_mean_0[int(0)] = 0.0f;
        (&ret_14)->w_cov_0[int(0)] = 2.0f;
        float _S3611 = (F32_sqrt((3.0f)));
        float3  delta_48 = make_float3 (_S3611 * _S3609.x) * _S3610.rows[0U];
        float3  _S3612 = mean_30 + delta_48;
        float3  _S3613 = mean_30 - delta_48;
        float3  delta_49 = make_float3 (_S3611 * _S3609.y) * _S3610.rows[1U];
        float3  _S3614 = mean_30 + delta_49;
        float3  _S3615 = mean_30 - delta_49;
        float3  delta_50 = make_float3 (_S3611 * _S3609.z) * _S3610.rows[2U];
        float3  _S3616 = mean_30 + delta_50;
        float3  _S3617 = mean_30 - delta_50;
        (&ret_14)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_14)->p_0[0U] = mul_0(R_32, (&ret_14)->p_0[0U]) + t_28;
        (&ret_14)->p_0[1U] = mul_0(R_32, _S3612) + t_28;
        (&ret_14)->p_0[2U] = mul_0(R_32, _S3614) + t_28;
        (&ret_14)->p_0[3U] = mul_0(R_32, _S3616) + t_28;
        (&ret_14)->p_0[4U] = mul_0(R_32, _S3613) + t_28;
        (&ret_14)->p_0[5U] = mul_0(R_32, _S3615) + t_28;
        (&ret_14)->p_0[6U] = mul_0(R_32, _S3617) + t_28;
        SigmaPoints_0 _S3618 = ret_14;
        bool _S3619 = persp_proj_3dgs_ut_0(&_S3618, intrins_28, dist_coeffs_40, image_width_25, image_height_25, &covar2d_20, mean2d_29);
        if(!(true & _S3619))
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_26 = *&(((&covar2d_20)->rows + (int(0)))->x) * *&(((&covar2d_20)->rows + (int(1)))->y) - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float _S3620 = *&(((&covar2d_20)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(0)))->x) = _S3620;
        float _S3621 = *&(((&covar2d_20)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(1)))->y) = _S3621;
        float det_blur_21 = _S3620 * _S3621 - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float compensation_21 = (F32_sqrt(((F32_max((0.0f), (det_orig_26 / det_blur_21))))));
        if(det_blur_21 <= 0.0f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_24 = 1.0f / (1.0f + (F32_exp((- in_opacity_25))));
        if(antialiased_25)
        {
            *opacity_24 = *opacity_24 * compensation_21;
        }
        if((*opacity_24) < 0.00392156885936856f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_20 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_24 / 0.00392156885936856f)))))))));
        float radius_x_20 = extend_20 * (F32_sqrt((covar2d_20[int(0)].x)));
        float radius_y_20 = extend_20 * (F32_sqrt((covar2d_20[int(1)].y)));
        float xmin_15 = (F32_floor(((*mean2d_29).x - radius_x_20)));
        float xmax_15 = (F32_ceil(((*mean2d_29).x + radius_x_20)));
        float ymin_15 = (F32_floor(((*mean2d_29).y - radius_y_20)));
        float ymax_15 = (F32_ceil(((*mean2d_29).y + radius_y_20)));
        if(xmax_15 <= 0.0f)
        {
            _S3608 = true;
        }
        else
        {
            _S3608 = xmin_15 >= float(image_width_25);
        }
        if(_S3608)
        {
            _S3608 = true;
        }
        else
        {
            _S3608 = ymax_15 <= 0.0f;
        }
        if(_S3608)
        {
            _S3608 = true;
        }
        else
        {
            _S3608 = ymin_15 >= float(image_height_25);
        }
        if(_S3608)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_20 = make_int4 (int(xmin_15), int(ymin_15), int(xmax_15), int(ymax_15));
        *depth_21 = (F32_max((_S3607), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3607 + length_1(mean_c_25)))));
        *conic_20 = exp_0(- scale_30);
        float3  _S3622 = mean_30 - - mul_0(transpose_0(R_32), t_28);
        float3  _S3623 = _S3622 * make_float3 ((F32_rsqrt((dot_0(_S3622, _S3622)))));
        float _S3624 = dot_0((*sv_sites_10)[int(6)], _S3623);
        float w_40 = (F32_exp((dot_0((*sv_sites_10)[int(0)], _S3623) - _S3624)));
        float w_41 = (F32_exp((dot_0((*sv_sites_10)[int(1)], _S3623) - _S3624)));
        float w_42 = (F32_exp((dot_0((*sv_sites_10)[int(2)], _S3623) - _S3624)));
        float w_43 = (F32_exp((dot_0((*sv_sites_10)[int(3)], _S3623) - _S3624)));
        float w_44 = (F32_exp((dot_0((*sv_sites_10)[int(4)], _S3623) - _S3624)));
        float w_45 = (F32_exp((dot_0((*sv_sites_10)[int(5)], _S3623) - _S3624)));
        float w_46 = (F32_exp((0.0f)));
        *rgb_22 = max_0((make_float3 (w_40) * (*sv_colors_10)[int(0)] + make_float3 (w_41) * (*sv_colors_10)[int(1)] + make_float3 (w_42) * (*sv_colors_10)[int(2)] + make_float3 (w_43) * (*sv_colors_10)[int(3)] + make_float3 (w_44) * (*sv_colors_10)[int(4)] + make_float3 (w_45) * (*sv_colors_10)[int(5)] + make_float3 (w_46) * (*sv_colors_10)[int(6)]) / make_float3 (w_40 + w_41 + w_42 + w_43 + w_44 + w_45 + w_46) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_26, float3  mean_31, float4  quat_32, float3  scale_31, float in_opacity_26, FixedArray<float3 , 7>  * sv_sites_11, FixedArray<float3 , 7>  * sv_colors_11, Matrix<float, 3, 3>  R_33, float3  t_29, float fx_38, float fy_38, float cx_33, float cy_33, FixedArray<float, 10>  * dist_coeffs_41, uint image_width_26, uint image_height_26, float near_plane_21, float far_plane_21, int4  * aabb_xyxy_21, float2  * mean2d_30, float * depth_22, float3  * conic_21, float * opacity_25, float3  * rgb_23)
{
    for(;;)
    {
        float3  mean_c_26 = mul_0(R_33, mean_31) + t_29;
        float _S3625 = length_1(mean_c_26);
        bool _S3626;
        if(_S3625 < near_plane_21)
        {
            _S3626 = true;
        }
        else
        {
            _S3626 = _S3625 > far_plane_21;
        }
        if(_S3626)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_29 = make_float4 (fx_38, fy_38, cx_33, cy_33);
        Matrix<float, 2, 2>  covar2d_21;
        float3  _S3627 = exp_0(scale_31);
        float x_52 = quat_32.y;
        float x2_32 = x_52 * x_52;
        float y2_32 = quat_32.z * quat_32.z;
        float z2_47 = quat_32.w * quat_32.w;
        float xy_32 = quat_32.y * quat_32.z;
        float xz_32 = quat_32.y * quat_32.w;
        float yz_32 = quat_32.z * quat_32.w;
        float wx_32 = quat_32.x * quat_32.y;
        float wy_32 = quat_32.x * quat_32.z;
        float wz_32 = quat_32.x * quat_32.w;
        Matrix<float, 3, 3>  _S3628 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_32 + z2_47), 2.0f * (xy_32 + wz_32), 2.0f * (xz_32 - wy_32), 2.0f * (xy_32 - wz_32), 1.0f - 2.0f * (x2_32 + z2_47), 2.0f * (yz_32 + wx_32), 2.0f * (xz_32 + wy_32), 2.0f * (yz_32 - wx_32), 1.0f - 2.0f * (x2_32 + y2_32))));
        SigmaPoints_0 ret_15;
        (&ret_15)->p_0[int(0)] = mean_31;
        (&ret_15)->w_mean_0[int(0)] = 0.0f;
        (&ret_15)->w_cov_0[int(0)] = 2.0f;
        float _S3629 = (F32_sqrt((3.0f)));
        float3  delta_51 = make_float3 (_S3629 * _S3627.x) * _S3628.rows[0U];
        float3  _S3630 = mean_31 + delta_51;
        float3  _S3631 = mean_31 - delta_51;
        float3  delta_52 = make_float3 (_S3629 * _S3627.y) * _S3628.rows[1U];
        float3  _S3632 = mean_31 + delta_52;
        float3  _S3633 = mean_31 - delta_52;
        float3  delta_53 = make_float3 (_S3629 * _S3627.z) * _S3628.rows[2U];
        float3  _S3634 = mean_31 + delta_53;
        float3  _S3635 = mean_31 - delta_53;
        (&ret_15)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_15)->p_0[0U] = mul_0(R_33, (&ret_15)->p_0[0U]) + t_29;
        (&ret_15)->p_0[1U] = mul_0(R_33, _S3630) + t_29;
        (&ret_15)->p_0[2U] = mul_0(R_33, _S3632) + t_29;
        (&ret_15)->p_0[3U] = mul_0(R_33, _S3634) + t_29;
        (&ret_15)->p_0[4U] = mul_0(R_33, _S3631) + t_29;
        (&ret_15)->p_0[5U] = mul_0(R_33, _S3633) + t_29;
        (&ret_15)->p_0[6U] = mul_0(R_33, _S3635) + t_29;
        SigmaPoints_0 _S3636 = ret_15;
        bool _S3637 = fisheye_proj_3dgs_ut_0(&_S3636, intrins_29, dist_coeffs_41, &covar2d_21, mean2d_30);
        if(!(true & _S3637))
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_27 = *&(((&covar2d_21)->rows + (int(0)))->x) * *&(((&covar2d_21)->rows + (int(1)))->y) - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float _S3638 = *&(((&covar2d_21)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(0)))->x) = _S3638;
        float _S3639 = *&(((&covar2d_21)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(1)))->y) = _S3639;
        float det_blur_22 = _S3638 * _S3639 - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float compensation_22 = (F32_sqrt(((F32_max((0.0f), (det_orig_27 / det_blur_22))))));
        if(det_blur_22 <= 0.0f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_25 = 1.0f / (1.0f + (F32_exp((- in_opacity_26))));
        if(antialiased_26)
        {
            *opacity_25 = *opacity_25 * compensation_22;
        }
        if((*opacity_25) < 0.00392156885936856f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_21 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_25 / 0.00392156885936856f)))))))));
        float radius_x_21 = extend_21 * (F32_sqrt((covar2d_21[int(0)].x)));
        float radius_y_21 = extend_21 * (F32_sqrt((covar2d_21[int(1)].y)));
        float xmin_16 = (F32_floor(((*mean2d_30).x - radius_x_21)));
        float xmax_16 = (F32_ceil(((*mean2d_30).x + radius_x_21)));
        float ymin_16 = (F32_floor(((*mean2d_30).y - radius_y_21)));
        float ymax_16 = (F32_ceil(((*mean2d_30).y + radius_y_21)));
        if(xmax_16 <= 0.0f)
        {
            _S3626 = true;
        }
        else
        {
            _S3626 = xmin_16 >= float(image_width_26);
        }
        if(_S3626)
        {
            _S3626 = true;
        }
        else
        {
            _S3626 = ymax_16 <= 0.0f;
        }
        if(_S3626)
        {
            _S3626 = true;
        }
        else
        {
            _S3626 = ymin_16 >= float(image_height_26);
        }
        if(_S3626)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_21 = make_int4 (int(xmin_16), int(ymin_16), int(xmax_16), int(ymax_16));
        float _S3640 = mean_c_26.z;
        *depth_22 = (F32_max((_S3640), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3640 + _S3625))));
        *conic_21 = exp_0(- scale_31);
        float3  _S3641 = mean_31 - - mul_0(transpose_0(R_33), t_29);
        float3  _S3642 = _S3641 * make_float3 ((F32_rsqrt((dot_0(_S3641, _S3641)))));
        float _S3643 = dot_0((*sv_sites_11)[int(6)], _S3642);
        float w_47 = (F32_exp((dot_0((*sv_sites_11)[int(0)], _S3642) - _S3643)));
        float w_48 = (F32_exp((dot_0((*sv_sites_11)[int(1)], _S3642) - _S3643)));
        float w_49 = (F32_exp((dot_0((*sv_sites_11)[int(2)], _S3642) - _S3643)));
        float w_50 = (F32_exp((dot_0((*sv_sites_11)[int(3)], _S3642) - _S3643)));
        float w_51 = (F32_exp((dot_0((*sv_sites_11)[int(4)], _S3642) - _S3643)));
        float w_52 = (F32_exp((dot_0((*sv_sites_11)[int(5)], _S3642) - _S3643)));
        float w_53 = (F32_exp((0.0f)));
        *rgb_23 = max_0((make_float3 (w_47) * (*sv_colors_11)[int(0)] + make_float3 (w_48) * (*sv_colors_11)[int(1)] + make_float3 (w_49) * (*sv_colors_11)[int(2)] + make_float3 (w_50) * (*sv_colors_11)[int(3)] + make_float3 (w_51) * (*sv_colors_11)[int(4)] + make_float3 (w_52) * (*sv_colors_11)[int(5)] + make_float3 (w_53) * (*sv_colors_11)[int(6)]) / make_float3 (w_47 + w_48 + w_49 + w_50 + w_51 + w_52 + w_53) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_27, float3  mean_32, float4  quat_33, float3  scale_32, float in_opacity_27, FixedArray<float3 , 8>  * sv_sites_12, FixedArray<float3 , 8>  * sv_colors_12, Matrix<float, 3, 3>  R_34, float3  t_30, float fx_39, float fy_39, float cx_34, float cy_34, FixedArray<float, 10>  * dist_coeffs_42, uint image_width_27, uint image_height_27, float near_plane_22, float far_plane_22, int4  * aabb_xyxy_22, float2  * mean2d_31, float * depth_23, float3  * conic_22, float * opacity_26, float3  * rgb_24)
{
    for(;;)
    {
        float3  mean_c_27 = mul_0(R_34, mean_32) + t_30;
        float _S3644 = mean_c_27.z;
        bool _S3645;
        if(_S3644 < near_plane_22)
        {
            _S3645 = true;
        }
        else
        {
            _S3645 = _S3644 > far_plane_22;
        }
        if(_S3645)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_30 = make_float4 (fx_39, fy_39, cx_34, cy_34);
        Matrix<float, 2, 2>  covar2d_22;
        float3  _S3646 = exp_0(scale_32);
        float x_53 = quat_33.y;
        float x2_33 = x_53 * x_53;
        float y2_33 = quat_33.z * quat_33.z;
        float z2_48 = quat_33.w * quat_33.w;
        float xy_33 = quat_33.y * quat_33.z;
        float xz_33 = quat_33.y * quat_33.w;
        float yz_33 = quat_33.z * quat_33.w;
        float wx_33 = quat_33.x * quat_33.y;
        float wy_33 = quat_33.x * quat_33.z;
        float wz_33 = quat_33.x * quat_33.w;
        Matrix<float, 3, 3>  _S3647 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_33 + z2_48), 2.0f * (xy_33 + wz_33), 2.0f * (xz_33 - wy_33), 2.0f * (xy_33 - wz_33), 1.0f - 2.0f * (x2_33 + z2_48), 2.0f * (yz_33 + wx_33), 2.0f * (xz_33 + wy_33), 2.0f * (yz_33 - wx_33), 1.0f - 2.0f * (x2_33 + y2_33))));
        SigmaPoints_0 ret_16;
        (&ret_16)->p_0[int(0)] = mean_32;
        (&ret_16)->w_mean_0[int(0)] = 0.0f;
        (&ret_16)->w_cov_0[int(0)] = 2.0f;
        float _S3648 = (F32_sqrt((3.0f)));
        float3  delta_54 = make_float3 (_S3648 * _S3646.x) * _S3647.rows[0U];
        float3  _S3649 = mean_32 + delta_54;
        float3  _S3650 = mean_32 - delta_54;
        float3  delta_55 = make_float3 (_S3648 * _S3646.y) * _S3647.rows[1U];
        float3  _S3651 = mean_32 + delta_55;
        float3  _S3652 = mean_32 - delta_55;
        float3  delta_56 = make_float3 (_S3648 * _S3646.z) * _S3647.rows[2U];
        float3  _S3653 = mean_32 + delta_56;
        float3  _S3654 = mean_32 - delta_56;
        (&ret_16)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_16)->p_0[0U] = mul_0(R_34, (&ret_16)->p_0[0U]) + t_30;
        (&ret_16)->p_0[1U] = mul_0(R_34, _S3649) + t_30;
        (&ret_16)->p_0[2U] = mul_0(R_34, _S3651) + t_30;
        (&ret_16)->p_0[3U] = mul_0(R_34, _S3653) + t_30;
        (&ret_16)->p_0[4U] = mul_0(R_34, _S3650) + t_30;
        (&ret_16)->p_0[5U] = mul_0(R_34, _S3652) + t_30;
        (&ret_16)->p_0[6U] = mul_0(R_34, _S3654) + t_30;
        SigmaPoints_0 _S3655 = ret_16;
        bool _S3656 = persp_proj_3dgs_ut_0(&_S3655, intrins_30, dist_coeffs_42, image_width_27, image_height_27, &covar2d_22, mean2d_31);
        if(!(true & _S3656))
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_28 = *&(((&covar2d_22)->rows + (int(0)))->x) * *&(((&covar2d_22)->rows + (int(1)))->y) - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float _S3657 = *&(((&covar2d_22)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(0)))->x) = _S3657;
        float _S3658 = *&(((&covar2d_22)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(1)))->y) = _S3658;
        float det_blur_23 = _S3657 * _S3658 - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float compensation_23 = (F32_sqrt(((F32_max((0.0f), (det_orig_28 / det_blur_23))))));
        if(det_blur_23 <= 0.0f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_26 = 1.0f / (1.0f + (F32_exp((- in_opacity_27))));
        if(antialiased_27)
        {
            *opacity_26 = *opacity_26 * compensation_23;
        }
        if((*opacity_26) < 0.00392156885936856f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_22 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_26 / 0.00392156885936856f)))))))));
        float radius_x_22 = extend_22 * (F32_sqrt((covar2d_22[int(0)].x)));
        float radius_y_22 = extend_22 * (F32_sqrt((covar2d_22[int(1)].y)));
        float xmin_17 = (F32_floor(((*mean2d_31).x - radius_x_22)));
        float xmax_17 = (F32_ceil(((*mean2d_31).x + radius_x_22)));
        float ymin_17 = (F32_floor(((*mean2d_31).y - radius_y_22)));
        float ymax_17 = (F32_ceil(((*mean2d_31).y + radius_y_22)));
        if(xmax_17 <= 0.0f)
        {
            _S3645 = true;
        }
        else
        {
            _S3645 = xmin_17 >= float(image_width_27);
        }
        if(_S3645)
        {
            _S3645 = true;
        }
        else
        {
            _S3645 = ymax_17 <= 0.0f;
        }
        if(_S3645)
        {
            _S3645 = true;
        }
        else
        {
            _S3645 = ymin_17 >= float(image_height_27);
        }
        if(_S3645)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_22 = make_int4 (int(xmin_17), int(ymin_17), int(xmax_17), int(ymax_17));
        *depth_23 = (F32_max((_S3644), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3644 + length_1(mean_c_27)))));
        *conic_22 = exp_0(- scale_32);
        float3  _S3659 = mean_32 - - mul_0(transpose_0(R_34), t_30);
        float3  _S3660 = _S3659 * make_float3 ((F32_rsqrt((dot_0(_S3659, _S3659)))));
        float _S3661 = dot_0((*sv_sites_12)[int(7)], _S3660);
        float w_54 = (F32_exp((dot_0((*sv_sites_12)[int(0)], _S3660) - _S3661)));
        float w_55 = (F32_exp((dot_0((*sv_sites_12)[int(1)], _S3660) - _S3661)));
        float w_56 = (F32_exp((dot_0((*sv_sites_12)[int(2)], _S3660) - _S3661)));
        float w_57 = (F32_exp((dot_0((*sv_sites_12)[int(3)], _S3660) - _S3661)));
        float w_58 = (F32_exp((dot_0((*sv_sites_12)[int(4)], _S3660) - _S3661)));
        float w_59 = (F32_exp((dot_0((*sv_sites_12)[int(5)], _S3660) - _S3661)));
        float w_60 = (F32_exp((dot_0((*sv_sites_12)[int(6)], _S3660) - _S3661)));
        float w_61 = (F32_exp((0.0f)));
        *rgb_24 = max_0((make_float3 (w_54) * (*sv_colors_12)[int(0)] + make_float3 (w_55) * (*sv_colors_12)[int(1)] + make_float3 (w_56) * (*sv_colors_12)[int(2)] + make_float3 (w_57) * (*sv_colors_12)[int(3)] + make_float3 (w_58) * (*sv_colors_12)[int(4)] + make_float3 (w_59) * (*sv_colors_12)[int(5)] + make_float3 (w_60) * (*sv_colors_12)[int(6)] + make_float3 (w_61) * (*sv_colors_12)[int(7)]) / make_float3 (w_54 + w_55 + w_56 + w_57 + w_58 + w_59 + w_60 + w_61) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_28, float3  mean_33, float4  quat_34, float3  scale_33, float in_opacity_28, FixedArray<float3 , 8>  * sv_sites_13, FixedArray<float3 , 8>  * sv_colors_13, Matrix<float, 3, 3>  R_35, float3  t_31, float fx_40, float fy_40, float cx_35, float cy_35, FixedArray<float, 10>  * dist_coeffs_43, uint image_width_28, uint image_height_28, float near_plane_23, float far_plane_23, int4  * aabb_xyxy_23, float2  * mean2d_32, float * depth_24, float3  * conic_23, float * opacity_27, float3  * rgb_25)
{
    for(;;)
    {
        float3  mean_c_28 = mul_0(R_35, mean_33) + t_31;
        float _S3662 = length_1(mean_c_28);
        bool _S3663;
        if(_S3662 < near_plane_23)
        {
            _S3663 = true;
        }
        else
        {
            _S3663 = _S3662 > far_plane_23;
        }
        if(_S3663)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_31 = make_float4 (fx_40, fy_40, cx_35, cy_35);
        Matrix<float, 2, 2>  covar2d_23;
        float3  _S3664 = exp_0(scale_33);
        float x_54 = quat_34.y;
        float x2_34 = x_54 * x_54;
        float y2_34 = quat_34.z * quat_34.z;
        float z2_49 = quat_34.w * quat_34.w;
        float xy_34 = quat_34.y * quat_34.z;
        float xz_34 = quat_34.y * quat_34.w;
        float yz_34 = quat_34.z * quat_34.w;
        float wx_34 = quat_34.x * quat_34.y;
        float wy_34 = quat_34.x * quat_34.z;
        float wz_34 = quat_34.x * quat_34.w;
        Matrix<float, 3, 3>  _S3665 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_34 + z2_49), 2.0f * (xy_34 + wz_34), 2.0f * (xz_34 - wy_34), 2.0f * (xy_34 - wz_34), 1.0f - 2.0f * (x2_34 + z2_49), 2.0f * (yz_34 + wx_34), 2.0f * (xz_34 + wy_34), 2.0f * (yz_34 - wx_34), 1.0f - 2.0f * (x2_34 + y2_34))));
        SigmaPoints_0 ret_17;
        (&ret_17)->p_0[int(0)] = mean_33;
        (&ret_17)->w_mean_0[int(0)] = 0.0f;
        (&ret_17)->w_cov_0[int(0)] = 2.0f;
        float _S3666 = (F32_sqrt((3.0f)));
        float3  delta_57 = make_float3 (_S3666 * _S3664.x) * _S3665.rows[0U];
        float3  _S3667 = mean_33 + delta_57;
        float3  _S3668 = mean_33 - delta_57;
        float3  delta_58 = make_float3 (_S3666 * _S3664.y) * _S3665.rows[1U];
        float3  _S3669 = mean_33 + delta_58;
        float3  _S3670 = mean_33 - delta_58;
        float3  delta_59 = make_float3 (_S3666 * _S3664.z) * _S3665.rows[2U];
        float3  _S3671 = mean_33 + delta_59;
        float3  _S3672 = mean_33 - delta_59;
        (&ret_17)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_17)->p_0[0U] = mul_0(R_35, (&ret_17)->p_0[0U]) + t_31;
        (&ret_17)->p_0[1U] = mul_0(R_35, _S3667) + t_31;
        (&ret_17)->p_0[2U] = mul_0(R_35, _S3669) + t_31;
        (&ret_17)->p_0[3U] = mul_0(R_35, _S3671) + t_31;
        (&ret_17)->p_0[4U] = mul_0(R_35, _S3668) + t_31;
        (&ret_17)->p_0[5U] = mul_0(R_35, _S3670) + t_31;
        (&ret_17)->p_0[6U] = mul_0(R_35, _S3672) + t_31;
        SigmaPoints_0 _S3673 = ret_17;
        bool _S3674 = fisheye_proj_3dgs_ut_0(&_S3673, intrins_31, dist_coeffs_43, &covar2d_23, mean2d_32);
        if(!(true & _S3674))
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_29 = *&(((&covar2d_23)->rows + (int(0)))->x) * *&(((&covar2d_23)->rows + (int(1)))->y) - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float _S3675 = *&(((&covar2d_23)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(0)))->x) = _S3675;
        float _S3676 = *&(((&covar2d_23)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(1)))->y) = _S3676;
        float det_blur_24 = _S3675 * _S3676 - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float compensation_24 = (F32_sqrt(((F32_max((0.0f), (det_orig_29 / det_blur_24))))));
        if(det_blur_24 <= 0.0f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_27 = 1.0f / (1.0f + (F32_exp((- in_opacity_28))));
        if(antialiased_28)
        {
            *opacity_27 = *opacity_27 * compensation_24;
        }
        if((*opacity_27) < 0.00392156885936856f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_23 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_27 / 0.00392156885936856f)))))))));
        float radius_x_23 = extend_23 * (F32_sqrt((covar2d_23[int(0)].x)));
        float radius_y_23 = extend_23 * (F32_sqrt((covar2d_23[int(1)].y)));
        float xmin_18 = (F32_floor(((*mean2d_32).x - radius_x_23)));
        float xmax_18 = (F32_ceil(((*mean2d_32).x + radius_x_23)));
        float ymin_18 = (F32_floor(((*mean2d_32).y - radius_y_23)));
        float ymax_18 = (F32_ceil(((*mean2d_32).y + radius_y_23)));
        if(xmax_18 <= 0.0f)
        {
            _S3663 = true;
        }
        else
        {
            _S3663 = xmin_18 >= float(image_width_28);
        }
        if(_S3663)
        {
            _S3663 = true;
        }
        else
        {
            _S3663 = ymax_18 <= 0.0f;
        }
        if(_S3663)
        {
            _S3663 = true;
        }
        else
        {
            _S3663 = ymin_18 >= float(image_height_28);
        }
        if(_S3663)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_23 = make_int4 (int(xmin_18), int(ymin_18), int(xmax_18), int(ymax_18));
        float _S3677 = mean_c_28.z;
        *depth_24 = (F32_max((_S3677), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3677 + _S3662))));
        *conic_23 = exp_0(- scale_33);
        float3  _S3678 = mean_33 - - mul_0(transpose_0(R_35), t_31);
        float3  _S3679 = _S3678 * make_float3 ((F32_rsqrt((dot_0(_S3678, _S3678)))));
        float _S3680 = dot_0((*sv_sites_13)[int(7)], _S3679);
        float w_62 = (F32_exp((dot_0((*sv_sites_13)[int(0)], _S3679) - _S3680)));
        float w_63 = (F32_exp((dot_0((*sv_sites_13)[int(1)], _S3679) - _S3680)));
        float w_64 = (F32_exp((dot_0((*sv_sites_13)[int(2)], _S3679) - _S3680)));
        float w_65 = (F32_exp((dot_0((*sv_sites_13)[int(3)], _S3679) - _S3680)));
        float w_66 = (F32_exp((dot_0((*sv_sites_13)[int(4)], _S3679) - _S3680)));
        float w_67 = (F32_exp((dot_0((*sv_sites_13)[int(5)], _S3679) - _S3680)));
        float w_68 = (F32_exp((dot_0((*sv_sites_13)[int(6)], _S3679) - _S3680)));
        float w_69 = (F32_exp((0.0f)));
        *rgb_25 = max_0((make_float3 (w_62) * (*sv_colors_13)[int(0)] + make_float3 (w_63) * (*sv_colors_13)[int(1)] + make_float3 (w_64) * (*sv_colors_13)[int(2)] + make_float3 (w_65) * (*sv_colors_13)[int(3)] + make_float3 (w_66) * (*sv_colors_13)[int(4)] + make_float3 (w_67) * (*sv_colors_13)[int(5)] + make_float3 (w_68) * (*sv_colors_13)[int(6)] + make_float3 (w_69) * (*sv_colors_13)[int(7)]) / make_float3 (w_62 + w_63 + w_64 + w_65 + w_66 + w_67 + w_68 + w_69) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_29, float3  mean_34, float4  quat_35, float3  scale_34, float in_opacity_29, FixedArray<float3 , 2>  * sv_sites_14, FixedArray<float3 , 2>  * sv_colors_14, Matrix<float, 3, 3>  R_36, float3  t_32, float fx_41, float fy_41, float cx_36, float cy_36, FixedArray<float, 10>  * dist_coeffs_44, uint image_width_29, uint image_height_29, float near_plane_24, float far_plane_24, int4  * aabb_xyxy_24, float2  * mean2d_33, float * depth_25, float3  * conic_24, float * opacity_28, float3  * rgb_26)
{
    float3  mean_c_29 = mul_0(R_36, mean_34) + t_32;
    float4  intrins_32 = make_float4 (fx_41, fy_41, cx_36, cy_36);
    float3  _S3681 = exp_0(scale_34);
    float x_55 = quat_35.y;
    float x2_35 = x_55 * x_55;
    float y2_35 = quat_35.z * quat_35.z;
    float z2_50 = quat_35.w * quat_35.w;
    float xy_35 = quat_35.y * quat_35.z;
    float xz_35 = quat_35.y * quat_35.w;
    float yz_35 = quat_35.z * quat_35.w;
    float wx_35 = quat_35.x * quat_35.y;
    float wy_35 = quat_35.x * quat_35.z;
    float wz_35 = quat_35.x * quat_35.w;
    Matrix<float, 3, 3>  _S3682 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_35 + z2_50), 2.0f * (xy_35 + wz_35), 2.0f * (xz_35 - wy_35), 2.0f * (xy_35 - wz_35), 1.0f - 2.0f * (x2_35 + z2_50), 2.0f * (yz_35 + wx_35), 2.0f * (xz_35 + wy_35), 2.0f * (yz_35 - wx_35), 1.0f - 2.0f * (x2_35 + y2_35))));
    SigmaPoints_0 ret_18;
    (&ret_18)->p_0[int(0)] = mean_34;
    (&ret_18)->w_mean_0[int(0)] = 0.0f;
    (&ret_18)->w_cov_0[int(0)] = 2.0f;
    float _S3683 = (F32_sqrt((3.0f)));
    float3  delta_60 = make_float3 (_S3683 * _S3681.x) * _S3682.rows[0U];
    float3  _S3684 = mean_34 + delta_60;
    float3  _S3685 = mean_34 - delta_60;
    float3  delta_61 = make_float3 (_S3683 * _S3681.y) * _S3682.rows[1U];
    float3  _S3686 = mean_34 + delta_61;
    float3  _S3687 = mean_34 - delta_61;
    float3  delta_62 = make_float3 (_S3683 * _S3681.z) * _S3682.rows[2U];
    float3  _S3688 = mean_34 + delta_62;
    float3  _S3689 = mean_34 - delta_62;
    (&ret_18)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_18)->p_0[0U] = mul_0(R_36, (&ret_18)->p_0[0U]) + t_32;
    (&ret_18)->p_0[1U] = mul_0(R_36, _S3684) + t_32;
    (&ret_18)->p_0[2U] = mul_0(R_36, _S3686) + t_32;
    (&ret_18)->p_0[3U] = mul_0(R_36, _S3688) + t_32;
    (&ret_18)->p_0[4U] = mul_0(R_36, _S3685) + t_32;
    (&ret_18)->p_0[5U] = mul_0(R_36, _S3687) + t_32;
    (&ret_18)->p_0[6U] = mul_0(R_36, _S3689) + t_32;
    SigmaPoints_0 _S3690 = ret_18;
    Matrix<float, 2, 2>  covar2d_24;
    bool _S3691 = persp_proj_3dgs_ut_1(&_S3690, intrins_32, dist_coeffs_44, image_width_29, image_height_29, &covar2d_24, mean2d_33);
    float det_orig_30 = *&(((&covar2d_24)->rows + (int(0)))->x) * *&(((&covar2d_24)->rows + (int(1)))->y) - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x);
    float _S3692 = *&(((&covar2d_24)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(0)))->x) = _S3692;
    float _S3693 = *&(((&covar2d_24)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(1)))->y) = _S3693;
    float compensation_25 = (F32_sqrt(((F32_max((0.0f), (det_orig_30 / (_S3692 * _S3693 - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x))))))));
    *opacity_28 = 1.0f / (1.0f + (F32_exp((- in_opacity_29))));
    if(antialiased_29)
    {
        *opacity_28 = *opacity_28 * compensation_25;
    }
    float extend_24 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_28 / 0.00392156885936856f)))))))));
    float radius_x_24 = extend_24 * (F32_sqrt((covar2d_24[int(0)].x)));
    float radius_y_24 = extend_24 * (F32_sqrt((covar2d_24[int(1)].y)));
    *aabb_xyxy_24 = make_int4 (int((F32_floor(((*mean2d_33).x - radius_x_24)))), int((F32_floor(((*mean2d_33).y - radius_y_24)))), int((F32_ceil(((*mean2d_33).x + radius_x_24)))), int((F32_ceil(((*mean2d_33).y + radius_y_24)))));
    float _S3694 = mean_c_29.z;
    *depth_25 = (F32_max((_S3694), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3694 + length_1(mean_c_29)))));
    *conic_24 = exp_0(- scale_34);
    float3  _S3695 = mean_34 - - mul_0(transpose_0(R_36), t_32);
    float3  _S3696 = _S3695 * make_float3 ((F32_rsqrt((dot_0(_S3695, _S3695)))));
    float w_70 = (F32_exp((dot_0((*sv_sites_14)[int(0)], _S3696) - dot_0((*sv_sites_14)[int(1)], _S3696))));
    float w_71 = (F32_exp((0.0f)));
    *rgb_26 = max_0((make_float3 (w_70) * (*sv_colors_14)[int(0)] + make_float3 (w_71) * (*sv_colors_14)[int(1)]) / make_float3 (w_70 + w_71) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_30, float3  mean_35, float4  quat_36, float3  scale_35, float in_opacity_30, FixedArray<float3 , 2>  * sv_sites_15, FixedArray<float3 , 2>  * sv_colors_15, Matrix<float, 3, 3>  R_37, float3  t_33, float fx_42, float fy_42, float cx_37, float cy_37, FixedArray<float, 10>  * dist_coeffs_45, uint image_width_30, uint image_height_30, float near_plane_25, float far_plane_25, int4  * aabb_xyxy_25, float2  * mean2d_34, float * depth_26, float3  * conic_25, float * opacity_29, float3  * rgb_27)
{
    float3  mean_c_30 = mul_0(R_37, mean_35) + t_33;
    float4  intrins_33 = make_float4 (fx_42, fy_42, cx_37, cy_37);
    float3  _S3697 = exp_0(scale_35);
    float x_56 = quat_36.y;
    float x2_36 = x_56 * x_56;
    float y2_36 = quat_36.z * quat_36.z;
    float z2_51 = quat_36.w * quat_36.w;
    float xy_36 = quat_36.y * quat_36.z;
    float xz_36 = quat_36.y * quat_36.w;
    float yz_36 = quat_36.z * quat_36.w;
    float wx_36 = quat_36.x * quat_36.y;
    float wy_36 = quat_36.x * quat_36.z;
    float wz_36 = quat_36.x * quat_36.w;
    Matrix<float, 3, 3>  _S3698 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_36 + z2_51), 2.0f * (xy_36 + wz_36), 2.0f * (xz_36 - wy_36), 2.0f * (xy_36 - wz_36), 1.0f - 2.0f * (x2_36 + z2_51), 2.0f * (yz_36 + wx_36), 2.0f * (xz_36 + wy_36), 2.0f * (yz_36 - wx_36), 1.0f - 2.0f * (x2_36 + y2_36))));
    SigmaPoints_0 ret_19;
    (&ret_19)->p_0[int(0)] = mean_35;
    (&ret_19)->w_mean_0[int(0)] = 0.0f;
    (&ret_19)->w_cov_0[int(0)] = 2.0f;
    float _S3699 = (F32_sqrt((3.0f)));
    float3  delta_63 = make_float3 (_S3699 * _S3697.x) * _S3698.rows[0U];
    float3  _S3700 = mean_35 + delta_63;
    float3  _S3701 = mean_35 - delta_63;
    float3  delta_64 = make_float3 (_S3699 * _S3697.y) * _S3698.rows[1U];
    float3  _S3702 = mean_35 + delta_64;
    float3  _S3703 = mean_35 - delta_64;
    float3  delta_65 = make_float3 (_S3699 * _S3697.z) * _S3698.rows[2U];
    float3  _S3704 = mean_35 + delta_65;
    float3  _S3705 = mean_35 - delta_65;
    (&ret_19)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_19)->p_0[0U] = mul_0(R_37, (&ret_19)->p_0[0U]) + t_33;
    (&ret_19)->p_0[1U] = mul_0(R_37, _S3700) + t_33;
    (&ret_19)->p_0[2U] = mul_0(R_37, _S3702) + t_33;
    (&ret_19)->p_0[3U] = mul_0(R_37, _S3704) + t_33;
    (&ret_19)->p_0[4U] = mul_0(R_37, _S3701) + t_33;
    (&ret_19)->p_0[5U] = mul_0(R_37, _S3703) + t_33;
    (&ret_19)->p_0[6U] = mul_0(R_37, _S3705) + t_33;
    SigmaPoints_0 _S3706 = ret_19;
    Matrix<float, 2, 2>  covar2d_25;
    bool _S3707 = fisheye_proj_3dgs_ut_1(&_S3706, intrins_33, dist_coeffs_45, &covar2d_25, mean2d_34);
    float det_orig_31 = *&(((&covar2d_25)->rows + (int(0)))->x) * *&(((&covar2d_25)->rows + (int(1)))->y) - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x);
    float _S3708 = *&(((&covar2d_25)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(0)))->x) = _S3708;
    float _S3709 = *&(((&covar2d_25)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(1)))->y) = _S3709;
    float compensation_26 = (F32_sqrt(((F32_max((0.0f), (det_orig_31 / (_S3708 * _S3709 - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x))))))));
    *opacity_29 = 1.0f / (1.0f + (F32_exp((- in_opacity_30))));
    if(antialiased_30)
    {
        *opacity_29 = *opacity_29 * compensation_26;
    }
    float extend_25 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_29 / 0.00392156885936856f)))))))));
    float radius_x_25 = extend_25 * (F32_sqrt((covar2d_25[int(0)].x)));
    float radius_y_25 = extend_25 * (F32_sqrt((covar2d_25[int(1)].y)));
    *aabb_xyxy_25 = make_int4 (int((F32_floor(((*mean2d_34).x - radius_x_25)))), int((F32_floor(((*mean2d_34).y - radius_y_25)))), int((F32_ceil(((*mean2d_34).x + radius_x_25)))), int((F32_ceil(((*mean2d_34).y + radius_y_25)))));
    float _S3710 = mean_c_30.z;
    *depth_26 = (F32_max((_S3710), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3710 + length_1(mean_c_30)))));
    *conic_25 = exp_0(- scale_35);
    float3  _S3711 = mean_35 - - mul_0(transpose_0(R_37), t_33);
    float3  _S3712 = _S3711 * make_float3 ((F32_rsqrt((dot_0(_S3711, _S3711)))));
    float w_72 = (F32_exp((dot_0((*sv_sites_15)[int(0)], _S3712) - dot_0((*sv_sites_15)[int(1)], _S3712))));
    float w_73 = (F32_exp((0.0f)));
    *rgb_27 = max_0((make_float3 (w_72) * (*sv_colors_15)[int(0)] + make_float3 (w_73) * (*sv_colors_15)[int(1)]) / make_float3 (w_72 + w_73) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0
{
    FixedArray<float3 , 2>  primal_0;
    FixedArray<float3 , 2>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S3713;
};

inline __device__ float s_primal_ctx_min_0(float _S3714, float _S3715)
{
    return (F32_min((_S3714), (_S3715)));
}

inline __device__ float s_primal_ctx_rsqrt_0(float _S3716)
{
    return (F32_rsqrt((_S3716)));
}

inline __device__ float3  s_primal_ctx_max_1(float3  _S3717, float3  _S3718)
{
    return max_0(_S3717, _S3718);
}

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(bool antialiased_31, float3  dpmean_2, float4  dpquat_1, float3  dpscale_1, float dpin_opacity_0, FixedArray<float3 , 2>  * dpsv_sites_0, FixedArray<float3 , 2>  * dpsv_colors_0, Matrix<float, 3, 3>  dpR_2, float3  dpt_1, float fx_43, float fy_43, float cx_38, float cy_38, FixedArray<float, 10>  * dist_coeffs_46, uint image_width_31, uint image_height_31, float near_plane_26, float far_plane_26, int4  * aabb_xyxy_26, float2  * dpmean2d_4, float * dpdepth_1, float3  * dpconic_0, float * dpopacity_2, float3  * dprgb_1, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_14)
{
    Matrix<float, 2, 2>  _S3719 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_14->_S3713 = _S3719;
    float2  _S3720 = make_float2 (0.0f);
    float3  _S3721 = make_float3 (0.0f);
    float3  mean_c_31 = s_primal_ctx_mul_0(dpR_2, dpmean_2) + dpt_1;
    float4  intrins_34 = make_float4 (fx_43, fy_43, cx_38, cy_38);
    float3  _S3722 = s_primal_ctx_exp_0(dpscale_1);
    float _S3723 = dpquat_1.y;
    float x2_37 = _S3723 * _S3723;
    float y2_37 = dpquat_1.z * dpquat_1.z;
    float z2_52 = dpquat_1.w * dpquat_1.w;
    float xy_37 = dpquat_1.y * dpquat_1.z;
    float xz_37 = dpquat_1.y * dpquat_1.w;
    float yz_37 = dpquat_1.z * dpquat_1.w;
    float wx_37 = dpquat_1.x * dpquat_1.y;
    float wy_37 = dpquat_1.x * dpquat_1.z;
    float wz_37 = dpquat_1.x * dpquat_1.w;
    Matrix<float, 3, 3>  _S3724 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_37 + z2_52), 2.0f * (xy_37 + wz_37), 2.0f * (xz_37 - wy_37), 2.0f * (xy_37 - wz_37), 1.0f - 2.0f * (x2_37 + z2_52), 2.0f * (yz_37 + wx_37), 2.0f * (xz_37 + wy_37), 2.0f * (yz_37 - wx_37), 1.0f - 2.0f * (x2_37 + y2_37))));
    FixedArray<float3 , 7>  _S3725 = {
        _S3721, _S3721, _S3721, _S3721, _S3721, _S3721, _S3721
    };
    FixedArray<float, 7>  _S3726 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3727;
    (&_S3727)->p_0 = _S3725;
    (&_S3727)->w_mean_0 = _S3726;
    (&_S3727)->w_cov_0 = _S3726;
    (&_S3727)->p_0[int(0)] = dpmean_2;
    SigmaPoints_0 _S3728 = _S3727;
    (&_S3728)->w_mean_0[int(0)] = 0.0f;
    (&_S3728)->w_cov_0[int(0)] = 2.0f;
    float _S3729 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_66 = make_float3 (_S3729 * _S3722.x) * _S3724.rows[0U];
    float3  _S3730 = dpmean_2 + delta_66;
    float3  _S3731 = dpmean_2 - delta_66;
    float3  delta_67 = make_float3 (_S3729 * _S3722.y) * _S3724.rows[1U];
    float3  _S3732 = dpmean_2 + delta_67;
    float3  _S3733 = dpmean_2 - delta_67;
    float3  delta_68 = make_float3 (_S3729 * _S3722.z) * _S3724.rows[2U];
    float3  _S3734 = dpmean_2 + delta_68;
    float3  _S3735 = dpmean_2 - delta_68;
    (&_S3728)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3728)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3728)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3728)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3728)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3728)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3728)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3728)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3728)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3728)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3728)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3728)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3728)->p_0[0U] = s_primal_ctx_mul_0(dpR_2, _S3727.p_0[0U]) + dpt_1;
    (&_S3728)->p_0[1U] = s_primal_ctx_mul_0(dpR_2, _S3730) + dpt_1;
    (&_S3728)->p_0[2U] = s_primal_ctx_mul_0(dpR_2, _S3732) + dpt_1;
    (&_S3728)->p_0[3U] = s_primal_ctx_mul_0(dpR_2, _S3734) + dpt_1;
    (&_S3728)->p_0[4U] = s_primal_ctx_mul_0(dpR_2, _S3731) + dpt_1;
    (&_S3728)->p_0[5U] = s_primal_ctx_mul_0(dpR_2, _S3733) + dpt_1;
    (&_S3728)->p_0[6U] = s_primal_ctx_mul_0(dpR_2, _S3735) + dpt_1;
    float2  _S3736 = _S3720;
    Matrix<float, 2, 2>  _S3737 = _S3719;
    SigmaPoints_0 _S3738 = _S3728;
    bool _S3739 = persp_proj_3dgs_ut_1(&_S3738, intrins_34, dist_coeffs_46, image_width_31, image_height_31, &_S3737, &_S3736);
    _s_diff_ctx_14->_S3713 = _S3737;
    float2  _S3740 = _S3736;
    float _S3741 = _S3737.rows[int(0)].y * _S3737.rows[int(1)].x;
    float det_orig_32 = _S3737.rows[int(0)].x * _S3737.rows[int(1)].y - _S3741;
    float _S3742 = _S3737.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3743 = _S3737;
    *&(((&_S3743)->rows + (int(0)))->x) = _S3742;
    float _S3744 = _S3737.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3743)->rows + (int(1)))->y) = _S3744;
    Matrix<float, 2, 2>  _S3745 = _S3743;
    Matrix<float, 2, 2>  _S3746 = _S3743;
    float _S3747 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_32 / (_S3742 * _S3744 - _S3741)));
    float _S3748 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_0));
    float _S3749;
    if(antialiased_31)
    {
        _S3749 = _S3748 * _S3747;
    }
    else
    {
        _S3749 = _S3748;
    }
    float _S3750 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S3749 / 0.00392156885936856f)));
    float radius_x_26 = _S3750 * s_primal_ctx_sqrt_0(_S3745.rows[int(0)].x);
    float radius_y_26 = _S3750 * s_primal_ctx_sqrt_0(_S3746.rows[int(1)].y);
    float _S3751 = _S3740.x;
    float _S3752 = _S3740.y;
    float _S3753 = mean_c_31.z;
    float _S3754 = s_primal_ctx_max_0(_S3753, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S3753 + length_1(mean_c_31)));
    float3  _S3755 = s_primal_ctx_exp_0(- dpscale_1);
    float3  _S3756 = dpmean_2 - - s_primal_ctx_mul_0(transpose_0(dpR_2), dpt_1);
    float3  _S3757 = _S3756 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S3756, _S3756)));
    float _S3758 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_0)[int(0)], _S3757) - s_primal_ctx_dot_0((*dpsv_sites_0)[int(1)], _S3757));
    float _S3759 = s_primal_ctx_exp_1(0.0f);
    float3  _S3760 = s_primal_ctx_max_1((make_float3 (_S3758) * (*dpsv_colors_0)[int(0)] + make_float3 (_S3759) * (*dpsv_colors_0)[int(1)]) / make_float3 (_S3758 + _S3759) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_26 = make_int4 (int((F32_floor((_S3751 - radius_x_26)))), int((F32_floor((_S3752 - radius_y_26)))), int((F32_ceil((_S3751 + radius_x_26)))), int((F32_ceil((_S3752 + radius_y_26)))));
    *dpmean2d_4 = _S3740;
    *dpdepth_1 = _S3754;
    *dpconic_0 = _S3755;
    *dpopacity_2 = _S3749;
    *dprgb_1 = _S3760;
    return;
}

inline __device__ void s_bwd_prop_rsqrt_0(DiffPair_float_0 * _S3761, float _S3762)
{
    _d_rsqrt_0(_S3761, _S3762);
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(bool antialiased_32, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_3, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_2, DiffPair_float_0 * dpin_opacity_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_2, float fx_44, float fy_44, float cx_39, float cy_39, FixedArray<float, 10>  * dist_coeffs_47, uint image_width_32, uint image_height_32, float near_plane_27, float far_plane_27, float2  dpmean2d_5, float dpdepth_2, float3  dpconic_1, float dpopacity_3, float3  dprgb_2, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_15)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3763 = *dpmean_3;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S3764 = *dpquat_2;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3765 = *dpscale_2;
    FixedArray<float3 , 2>  _S3766 = dpsv_sites_1->primal_0;
    FixedArray<float3 , 2>  _S3767 = dpsv_colors_1->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3768 = *dpR_3;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3769 = *dpt_2;
    float3  _S3770 = make_float3 (0.0f);
    float3  mean_c_32 = s_primal_ctx_mul_0((*dpR_3).primal_0, (*dpmean_3).primal_0) + (*dpt_2).primal_0;
    float3  _S3771 = s_primal_ctx_exp_0((*dpscale_2).primal_0);
    float _S3772 = (*dpquat_2).primal_0.y;
    float x2_38 = _S3772 * _S3772;
    float y2_38 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.z;
    float z2_53 = (*dpquat_2).primal_0.w * (*dpquat_2).primal_0.w;
    float xy_38 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.z;
    float xz_38 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.w;
    float yz_38 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.w;
    float wx_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.y;
    float wy_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.z;
    float wz_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.w;
    Matrix<float, 3, 3>  _S3773 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_38 + z2_53), 2.0f * (xy_38 + wz_38), 2.0f * (xz_38 - wy_38), 2.0f * (xy_38 - wz_38), 1.0f - 2.0f * (x2_38 + z2_53), 2.0f * (yz_38 + wx_38), 2.0f * (xz_38 + wy_38), 2.0f * (yz_38 - wx_38), 1.0f - 2.0f * (x2_38 + y2_38))));
    FixedArray<float3 , 7>  _S3774 = {
        _S3770, _S3770, _S3770, _S3770, _S3770, _S3770, _S3770
    };
    FixedArray<float, 7>  _S3775 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3776;
    (&_S3776)->p_0 = _S3774;
    (&_S3776)->w_mean_0 = _S3775;
    (&_S3776)->w_cov_0 = _S3775;
    (&_S3776)->p_0[int(0)] = (*dpmean_3).primal_0;
    float _S3777 = s_primal_ctx_sqrt_0(3.0f);
    float _S3778 = _S3777 * _S3771.x;
    float3  _S3779 = make_float3 (_S3778);
    float3  delta_69 = make_float3 (_S3778) * _S3773.rows[0U];
    float3  _S3780 = (*dpmean_3).primal_0 + delta_69;
    float3  _S3781 = (*dpmean_3).primal_0 - delta_69;
    float _S3782 = _S3777 * _S3771.y;
    float3  _S3783 = make_float3 (_S3782);
    float3  delta_70 = make_float3 (_S3782) * _S3773.rows[1U];
    float3  _S3784 = (*dpmean_3).primal_0 + delta_70;
    float3  _S3785 = (*dpmean_3).primal_0 - delta_70;
    float _S3786 = _S3777 * _S3771.z;
    float3  _S3787 = make_float3 (_S3786);
    float3  delta_71 = make_float3 (_S3786) * _S3773.rows[2U];
    float3  _S3788 = (*dpmean_3).primal_0 + delta_71;
    float3  _S3789 = (*dpmean_3).primal_0 - delta_71;
    SigmaPoints_0 _S3790 = _S3776;
    float _S3791 = *&(((&_s_diff_ctx_15->_S3713)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_15->_S3713)->rows + (int(1)))->x);
    float det_orig_33 = *&(((&_s_diff_ctx_15->_S3713)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_15->_S3713)->rows + (int(1)))->y) - _S3791;
    float _S3792 = *&(((&_s_diff_ctx_15->_S3713)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3793 = _s_diff_ctx_15->_S3713;
    *&(((&_S3793)->rows + (int(0)))->x) = _S3792;
    float _S3794 = *&(((&_s_diff_ctx_15->_S3713)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S3793)->rows + (int(1)))->y) = _S3794;
    Matrix<float, 2, 2>  _S3795 = _S3793;
    Matrix<float, 2, 2>  _S3796 = _S3793;
    float det_blur_25 = _S3792 * _S3794 - _S3791;
    float _S3797 = det_orig_33 / det_blur_25;
    float _S3798 = det_blur_25 * det_blur_25;
    float _S3799 = s_primal_ctx_max_0(0.0f, _S3797);
    float _S3800 = s_primal_ctx_sqrt_0(_S3799);
    float _S3801 = - (*dpin_opacity_1).primal_0;
    float _S3802 = 1.0f + s_primal_ctx_exp_1(_S3801);
    float _S3803 = 1.0f / _S3802;
    float _S3804 = _S3802 * _S3802;
    float _S3805;
    if(antialiased_32)
    {
        _S3805 = _S3803 * _S3800;
    }
    else
    {
        _S3805 = _S3803;
    }
    float _S3806 = _S3805 / 0.00392156885936856f;
    float _S3807 = 2.0f * s_primal_ctx_log_0(_S3806);
    float _S3808 = s_primal_ctx_sqrt_0(_S3807);
    float _S3809 = _S3795.rows[int(0)].x;
    float _S3810 = _S3796.rows[int(1)].y;
    float _S3811 = mean_c_32.z;
    float _S3812 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S3813 = _S3812 * (_S3811 + length_1(mean_c_32));
    float3  _S3814 = - _S3765.primal_0;
    Matrix<float, 3, 3>  _S3815 = transpose_0(_S3768.primal_0);
    float3  _S3816 = _S3763.primal_0 - - s_primal_ctx_mul_0(_S3815, _S3769.primal_0);
    float _S3817 = s_primal_ctx_dot_0(_S3816, _S3816);
    float _S3818 = s_primal_ctx_rsqrt_0(_S3817);
    float3  _S3819 = make_float3 (_S3818);
    float3  _S3820 = _S3816 * make_float3 (_S3818);
    float _S3821 = s_primal_ctx_dot_0(_S3766[int(0)], _S3820) - s_primal_ctx_dot_0(_S3766[int(1)], _S3820);
    float _S3822 = s_primal_ctx_exp_1(_S3821);
    float3  _S3823 = make_float3 (_S3822);
    float _S3824 = s_primal_ctx_exp_1(0.0f);
    float3  _S3825 = make_float3 (_S3824);
    float total_w_0 = _S3822 + _S3824;
    float3  _S3826 = make_float3 (total_w_0);
    float3  total_c_0 = make_float3 (_S3822) * _S3767[int(0)] + make_float3 (_S3824) * _S3767[int(1)];
    float3  _S3827 = make_float3 (total_w_0 * total_w_0);
    float3  _S3828 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3829;
    (&_S3829)->primal_0 = total_c_0 / make_float3 (total_w_0) + make_float3 (0.5f);
    (&_S3829)->differential_0 = _S3770;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3830;
    (&_S3830)->primal_0 = _S3828;
    (&_S3830)->differential_0 = _S3770;
    s_bwd_prop_max_0(&_S3829, &_S3830, dprgb_2);
    float3  _S3831 = _S3829.differential_0 / _S3827;
    float3  _S3832 = total_c_0 * - _S3831;
    float3  s_diff_total_c_T_0 = _S3826 * _S3831;
    float3  _S3833 = _S3825 * s_diff_total_c_T_0;
    float3  _S3834 = _S3823 * s_diff_total_c_T_0;
    float3  _S3835 = _S3767[int(0)] * s_diff_total_c_T_0;
    float _S3836 = _S3832.x + _S3832.y + _S3832.z + _S3835.x + _S3835.y + _S3835.z;
    DiffPair_float_0 _S3837;
    (&_S3837)->primal_0 = _S3821;
    (&_S3837)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3837, _S3836);
    float _S3838 = - _S3837.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3839;
    (&_S3839)->primal_0 = _S3766[int(1)];
    (&_S3839)->differential_0 = _S3770;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3840;
    (&_S3840)->primal_0 = _S3820;
    (&_S3840)->differential_0 = _S3770;
    s_bwd_prop_dot_0(&_S3839, &_S3840, _S3838);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3841;
    (&_S3841)->primal_0 = _S3766[int(0)];
    (&_S3841)->differential_0 = _S3770;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3842;
    (&_S3842)->primal_0 = _S3820;
    (&_S3842)->differential_0 = _S3770;
    s_bwd_prop_dot_0(&_S3841, &_S3842, _S3837.differential_0);
    float3  _S3843 = _S3840.differential_0 + _S3842.differential_0;
    float3  _S3844 = _S3816 * _S3843;
    float3  _S3845 = _S3819 * _S3843;
    float _S3846 = _S3844.x + _S3844.y + _S3844.z;
    DiffPair_float_0 _S3847;
    (&_S3847)->primal_0 = _S3817;
    (&_S3847)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S3847, _S3846);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3848;
    (&_S3848)->primal_0 = _S3816;
    (&_S3848)->differential_0 = _S3770;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3849;
    (&_S3849)->primal_0 = _S3816;
    (&_S3849)->differential_0 = _S3770;
    s_bwd_prop_dot_0(&_S3848, &_S3849, _S3847.differential_0);
    float3  _S3850 = _S3845 + _S3849.differential_0 + _S3848.differential_0;
    float3  _S3851 = - - _S3850;
    Matrix<float, 3, 3>  _S3852 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3853;
    (&_S3853)->primal_0 = _S3815;
    (&_S3853)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3854;
    (&_S3854)->primal_0 = _S3769.primal_0;
    (&_S3854)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3853, &_S3854, _S3851);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3855 = _S3854;
    Matrix<float, 3, 3>  _S3856 = transpose_0(_S3853.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3857;
    (&_S3857)->primal_0 = _S3814;
    (&_S3857)->differential_0 = _S3770;
    s_bwd_prop_exp_1(&_S3857, dpconic_1);
    float3  _S3858 = - _S3857.differential_0;
    DiffPair_float_0 _S3859;
    (&_S3859)->primal_0 = _S3811;
    (&_S3859)->differential_0 = 0.0f;
    DiffPair_float_0 _S3860;
    (&_S3860)->primal_0 = _S3813;
    (&_S3860)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3859, &_S3860, dpdepth_2);
    float _S3861 = _S3812 * _S3860.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3862;
    (&_S3862)->primal_0 = mean_c_32;
    (&_S3862)->differential_0 = _S3770;
    s_bwd_length_impl_1(&_S3862, _S3861);
    float _S3863 = _S3859.differential_0 + _S3861;
    DiffPair_float_0 _S3864;
    (&_S3864)->primal_0 = _S3810;
    (&_S3864)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3864, 0.0f);
    DiffPair_float_0 _S3865;
    (&_S3865)->primal_0 = _S3809;
    (&_S3865)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3865, 0.0f);
    DiffPair_float_0 _S3866;
    (&_S3866)->primal_0 = 3.32999992370605469f;
    (&_S3866)->differential_0 = 0.0f;
    DiffPair_float_0 _S3867;
    (&_S3867)->primal_0 = _S3808;
    (&_S3867)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3866, &_S3867, 0.0f);
    DiffPair_float_0 _S3868;
    (&_S3868)->primal_0 = _S3807;
    (&_S3868)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3868, _S3867.differential_0);
    float _S3869 = 2.0f * _S3868.differential_0;
    DiffPair_float_0 _S3870;
    (&_S3870)->primal_0 = _S3806;
    (&_S3870)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3870, _S3869);
    float _S3871 = dpopacity_3 + 254.9999847412109375f * _S3870.differential_0;
    FixedArray<float3 , 2>  _S3872;
    _S3872[int(0)] = _S3770;
    _S3872[int(1)] = _S3770;
    _S3872[int(1)] = _S3833;
    _S3872[int(0)] = _S3834;
    FixedArray<float3 , 2>  _S3873 = {
        _S3872[int(0)], _S3872[int(1)]
    };
    FixedArray<float3 , 2>  _S3874;
    _S3874[int(0)] = _S3770;
    _S3874[int(1)] = _S3770;
    _S3874[int(1)] = _S3839.differential_0;
    _S3874[int(0)] = _S3841.differential_0;
    FixedArray<float3 , 2>  _S3875 = {
        _S3874[int(0)], _S3874[int(1)]
    };
    float3  _S3876 = _S3862.differential_0 + make_float3 (0.0f, 0.0f, _S3863);
    float2  _S3877 = make_float2 (0.0f, _S3864.differential_0);
    float2  _S3878 = make_float2 (_S3865.differential_0, 0.0f);
    float _S3879;
    if(antialiased_32)
    {
        float _S3880 = _S3803 * _S3871;
        _S3805 = _S3800 * _S3871;
        _S3879 = _S3880;
    }
    else
    {
        _S3805 = _S3871;
        _S3879 = 0.0f;
    }
    float _S3881 = - (_S3805 / _S3804);
    DiffPair_float_0 _S3882;
    (&_S3882)->primal_0 = _S3801;
    (&_S3882)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3882, _S3881);
    float _S3883 = - _S3882.differential_0;
    DiffPair_float_0 _S3884;
    (&_S3884)->primal_0 = _S3799;
    (&_S3884)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3884, _S3879);
    DiffPair_float_0 _S3885;
    (&_S3885)->primal_0 = 0.0f;
    (&_S3885)->differential_0 = 0.0f;
    DiffPair_float_0 _S3886;
    (&_S3886)->primal_0 = _S3797;
    (&_S3886)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3885, &_S3886, _S3884.differential_0);
    float _S3887 = _S3886.differential_0 / _S3798;
    float s_diff_det_blur_T_2 = det_orig_33 * - _S3887;
    float s_diff_det_orig_T_5 = det_blur_25 * _S3887;
    float _S3888 = - s_diff_det_blur_T_2;
    float _S3889 = _S3792 * s_diff_det_blur_T_2;
    float _S3890 = _S3794 * s_diff_det_blur_T_2;
    Matrix<float, 2, 2>  _S3891 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S3892 = _S3891;
    _S3892[int(1)] = _S3877;
    _S3892[int(0)] = _S3878;
    float _S3893 = _S3890 + _S3892.rows[int(0)].x;
    float _S3894 = _S3888 + - s_diff_det_orig_T_5;
    float _S3895 = *&(((&_s_diff_ctx_15->_S3713)->rows + (int(0)))->y) * _S3894;
    float _S3896 = *&(((&_s_diff_ctx_15->_S3713)->rows + (int(1)))->x) * _S3894;
    float _S3897 = *&(((&_s_diff_ctx_15->_S3713)->rows + (int(1)))->y) * s_diff_det_orig_T_5;
    float _S3898 = _S3889 + _S3892.rows[int(1)].y + *&(((&_s_diff_ctx_15->_S3713)->rows + (int(0)))->x) * s_diff_det_orig_T_5;
    float2  _S3899 = make_float2 (0.0f);
    float2  _S3900 = _S3899;
    *&((&_S3900)->x) = _S3895;
    *&((&_S3900)->y) = _S3898;
    float _S3901 = _S3893 + _S3897;
    float2  _S3902 = _S3899;
    *&((&_S3902)->y) = _S3896;
    *&((&_S3902)->x) = _S3901;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3903;
    (&_S3903)->primal_0 = _S3768.primal_0;
    (&_S3903)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3904;
    (&_S3904)->primal_0 = _S3789;
    (&_S3904)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3903, &_S3904, _S3770);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3905;
    (&_S3905)->primal_0 = _S3768.primal_0;
    (&_S3905)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3906;
    (&_S3906)->primal_0 = _S3785;
    (&_S3906)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3905, &_S3906, _S3770);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3907;
    (&_S3907)->primal_0 = _S3768.primal_0;
    (&_S3907)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3908;
    (&_S3908)->primal_0 = _S3781;
    (&_S3908)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3907, &_S3908, _S3770);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3909;
    (&_S3909)->primal_0 = _S3768.primal_0;
    (&_S3909)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3910;
    (&_S3910)->primal_0 = _S3788;
    (&_S3910)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3909, &_S3910, _S3770);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3911;
    (&_S3911)->primal_0 = _S3768.primal_0;
    (&_S3911)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3912;
    (&_S3912)->primal_0 = _S3784;
    (&_S3912)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3911, &_S3912, _S3770);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3913;
    (&_S3913)->primal_0 = _S3768.primal_0;
    (&_S3913)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3914;
    (&_S3914)->primal_0 = _S3780;
    (&_S3914)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3913, &_S3914, _S3770);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3915;
    (&_S3915)->primal_0 = _S3768.primal_0;
    (&_S3915)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3916;
    (&_S3916)->primal_0 = _S3790.p_0[0U];
    (&_S3916)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3915, &_S3916, _S3770);
    float3  _S3917 = - _S3904.differential_0 + _S3910.differential_0;
    float3  _S3918 = _S3787 * _S3917;
    float3  _S3919 = _S3773.rows[2U] * _S3917;
    float _S3920 = _S3777 * (_S3919.x + _S3919.y + _S3919.z);
    float3  _S3921 = - _S3906.differential_0 + _S3912.differential_0;
    float3  _S3922 = _S3783 * _S3921;
    float3  _S3923 = _S3773.rows[1U] * _S3921;
    float _S3924 = _S3777 * (_S3923.x + _S3923.y + _S3923.z);
    float3  _S3925 = - _S3908.differential_0 + _S3914.differential_0;
    float3  _S3926 = _S3779 * _S3925;
    float3  _S3927 = _S3773.rows[0U] * _S3925;
    float _S3928 = _S3777 * (_S3927.x + _S3927.y + _S3927.z);
    Matrix<float, 3, 3>  _S3929 = _S3852;
    _S3929[2U] = _S3918;
    _S3929[1U] = _S3922;
    _S3929[0U] = _S3926;
    Matrix<float, 3, 3>  _S3930 = transpose_0(transpose_0(_S3929));
    float _S3931 = 2.0f * - _S3930.rows[int(2)].z;
    float _S3932 = 2.0f * _S3930.rows[int(2)].y;
    float _S3933 = 2.0f * _S3930.rows[int(2)].x;
    float _S3934 = 2.0f * _S3930.rows[int(1)].z;
    float _S3935 = 2.0f * - _S3930.rows[int(1)].y;
    float _S3936 = 2.0f * _S3930.rows[int(1)].x;
    float _S3937 = 2.0f * _S3930.rows[int(0)].z;
    float _S3938 = 2.0f * _S3930.rows[int(0)].y;
    float _S3939 = 2.0f * - _S3930.rows[int(0)].x;
    float _S3940 = - _S3936 + _S3938;
    float _S3941 = _S3933 + - _S3937;
    float _S3942 = - _S3932 + _S3934;
    float _S3943 = _S3932 + _S3934;
    float _S3944 = _S3933 + _S3937;
    float _S3945 = _S3936 + _S3938;
    float _S3946 = _S3764.primal_0.w * (_S3935 + _S3939);
    float _S3947 = _S3764.primal_0.z * (_S3931 + _S3939);
    float _S3948 = _S3764.primal_0.y * (_S3931 + _S3935);
    float _S3949 = _S3764.primal_0.x * _S3940 + _S3764.primal_0.z * _S3943 + _S3764.primal_0.y * _S3944 + _S3946 + _S3946;
    float _S3950 = _S3764.primal_0.x * _S3941 + _S3764.primal_0.w * _S3943 + _S3764.primal_0.y * _S3945 + _S3947 + _S3947;
    float _S3951 = _S3764.primal_0.x * _S3942 + _S3764.primal_0.w * _S3944 + _S3764.primal_0.z * _S3945 + _S3948 + _S3948;
    float _S3952 = _S3764.primal_0.w * _S3940 + _S3764.primal_0.z * _S3941 + _S3764.primal_0.y * _S3942;
    float3  _S3953 = _S3770;
    *&((&_S3953)->z) = _S3920;
    *&((&_S3953)->y) = _S3924;
    *&((&_S3953)->x) = _S3928;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3954;
    (&_S3954)->primal_0 = _S3765.primal_0;
    (&_S3954)->differential_0 = _S3770;
    s_bwd_prop_exp_1(&_S3954, _S3953);
    Matrix<float, 2, 2>  _S3955 = _S3891;
    _S3955[int(1)] = _S3900;
    _S3955[int(0)] = _S3902;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3956;
    (&_S3956)->primal_0 = _S3768.primal_0;
    (&_S3956)->differential_0 = _S3852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3957;
    (&_S3957)->primal_0 = _S3763.primal_0;
    (&_S3957)->differential_0 = _S3770;
    s_bwd_prop_mul_1(&_S3956, &_S3957, _S3876);
    float3  _S3958 = _S3876 + _S3855.differential_0;
    dpt_2->primal_0 = (*dpt_2).primal_0;
    dpt_2->differential_0 = _S3958;
    Matrix<float, 3, 3>  _S3959 = _S3903.differential_0 + _S3905.differential_0 + _S3907.differential_0 + _S3909.differential_0 + _S3911.differential_0 + _S3913.differential_0 + _S3915.differential_0 + _S3956.differential_0 + _S3856;
    dpR_3->primal_0 = (*dpR_3).primal_0;
    dpR_3->differential_0 = _S3959;
    dpsv_colors_1->primal_0 = dpsv_colors_1->primal_0;
    dpsv_colors_1->differential_0 = _S3873;
    dpsv_sites_1->primal_0 = dpsv_sites_1->primal_0;
    dpsv_sites_1->differential_0 = _S3875;
    dpin_opacity_1->primal_0 = (*dpin_opacity_1).primal_0;
    dpin_opacity_1->differential_0 = _S3883;
    float3  _S3960 = _S3954.differential_0 + _S3858;
    dpscale_2->primal_0 = (*dpscale_2).primal_0;
    dpscale_2->differential_0 = _S3960;
    float4  _S3961 = make_float4 (0.0f);
    *&((&_S3961)->w) = _S3949;
    *&((&_S3961)->z) = _S3950;
    *&((&_S3961)->y) = _S3951;
    *&((&_S3961)->x) = _S3952;
    dpquat_2->primal_0 = (*dpquat_2).primal_0;
    dpquat_2->differential_0 = _S3961;
    float3  _S3962 = _S3904.differential_0 + _S3910.differential_0 + _S3906.differential_0 + _S3912.differential_0 + _S3908.differential_0 + _S3914.differential_0 + _S3957.differential_0 + _S3850;
    dpmean_3->primal_0 = (*dpmean_3).primal_0;
    dpmean_3->differential_0 = _S3962;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_0(bool _S3963, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3964, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S3965, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3966, DiffPair_float_0 * _S3967, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3968, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3969, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3970, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3971, float _S3972, float _S3973, float _S3974, float _S3975, FixedArray<float, 10>  * _S3976, uint _S3977, uint _S3978, float _S3979, float _S3980, float2  _S3981, float _S3982, float3  _S3983, float _S3984, float3  _S3985)
{
    FixedArray<float3 , 2>  _S3986 = _S3968->primal_0;
    FixedArray<float3 , 2>  _S3987 = _S3969->primal_0;
    int4  _S3988;
    float2  _S3989;
    float _S3990;
    float3  _S3991;
    float _S3992;
    float3  _S3993;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S3994;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(_S3963, (*_S3964).primal_0, (*_S3965).primal_0, (*_S3966).primal_0, (*_S3967).primal_0, &_S3986, &_S3987, (*_S3970).primal_0, (*_S3971).primal_0, _S3972, _S3973, _S3974, _S3975, _S3976, _S3977, _S3978, _S3979, _S3980, &_S3988, &_S3989, &_S3990, &_S3991, &_S3992, &_S3993, &_S3994);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S3995 = _S3994;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(_S3963, _S3964, _S3965, _S3966, _S3967, _S3968, _S3969, _S3970, _S3971, _S3972, _S3973, _S3974, _S3975, _S3976, _S3977, _S3978, _S3979, _S3980, _S3981, _S3982, _S3983, _S3984, _S3985, &_S3995);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_33, float3  mean_36, float4  quat_37, float3  scale_36, float in_opacity_31, FixedArray<float3 , 2>  * sv_sites_16, FixedArray<float3 , 2>  * sv_colors_16, Matrix<float, 3, 3>  R_38, float3  t_34, float fx_45, float fy_45, float cx_40, float cy_40, FixedArray<float, 10>  * dist_coeffs_48, uint image_width_33, uint image_height_33, float2  v_mean2d_5, float v_depth_6, float3  v_conic_5, float v_opacity_7, float3  v_rgb_6, float3  * v_mean_7, float4  * v_quat_6, float3  * v_scale_6, float * v_in_opacity_5, FixedArray<float3 , 2>  * v_sv_dirs_0, FixedArray<float3 , 2>  * v_sv_colors_0, Matrix<float, 3, 3>  * v_R_7, float3  * v_t_6)
{
    float3  _S3996 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_2;
    (&dp_mean_2)->primal_0 = mean_36;
    (&dp_mean_2)->differential_0 = _S3996;
    float4  _S3997 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_1;
    (&dp_quat_1)->primal_0 = quat_37;
    (&dp_quat_1)->differential_0 = _S3997;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_1;
    (&dp_scale_1)->primal_0 = scale_36;
    (&dp_scale_1)->differential_0 = _S3996;
    DiffPair_float_0 dp_in_opacity_0;
    (&dp_in_opacity_0)->primal_0 = in_opacity_31;
    (&dp_in_opacity_0)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S3998 = { _S3996, _S3996 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_0;
    (&dp_sv_dirs_0)->primal_0 = *sv_sites_16;
    (&dp_sv_dirs_0)->differential_0 = _S3998;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_0;
    (&dp_sv_colors_0)->primal_0 = *sv_colors_16;
    (&dp_sv_colors_0)->differential_0 = _S3998;
    Matrix<float, 3, 3>  _S3999 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_2;
    (&dp_R_2)->primal_0 = R_38;
    (&dp_R_2)->differential_0 = _S3999;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_1;
    (&dp_t_1)->primal_0 = t_34;
    (&dp_t_1)->differential_0 = _S3996;
    s_bwd_projection_3dgut_sv_persp_differentiable_0(antialiased_33, &dp_mean_2, &dp_quat_1, &dp_scale_1, &dp_in_opacity_0, &dp_sv_dirs_0, &dp_sv_colors_0, &dp_R_2, &dp_t_1, fx_45, fy_45, cx_40, cy_40, dist_coeffs_48, image_width_33, image_height_33, 0.0f, 1.00000001504746622e+30f, v_mean2d_5, v_depth_6, v_conic_5, v_opacity_7, v_rgb_6);
    *v_mean_7 = dp_mean_2.differential_0;
    *v_quat_6 = dp_quat_1.differential_0;
    *v_scale_6 = dp_scale_1.differential_0;
    *v_in_opacity_5 = dp_in_opacity_0.differential_0;
    *v_sv_dirs_0 = (&dp_sv_dirs_0)->differential_0;
    *v_sv_colors_0 = (&dp_sv_colors_0)->differential_0;
    *v_R_7 = dp_R_2.differential_0;
    *v_t_6 = dp_t_1.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S4000;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_34, float3  dpmean_4, float4  dpquat_3, float3  dpscale_3, float dpin_opacity_2, FixedArray<float3 , 2>  * dpsv_sites_2, FixedArray<float3 , 2>  * dpsv_colors_2, Matrix<float, 3, 3>  dpR_4, float3  dpt_3, float fx_46, float fy_46, float cx_41, float cy_41, FixedArray<float, 10>  * dist_coeffs_49, uint image_width_34, uint image_height_34, float near_plane_28, float far_plane_28, int4  * aabb_xyxy_27, float2  * dpmean2d_6, float * dpdepth_3, float3  * dpconic_2, float * dpopacity_4, float3  * dprgb_3, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_16)
{
    Matrix<float, 2, 2>  _S4001 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_16->_S4000 = _S4001;
    float2  _S4002 = make_float2 (0.0f);
    float3  _S4003 = make_float3 (0.0f);
    float3  mean_c_33 = s_primal_ctx_mul_0(dpR_4, dpmean_4) + dpt_3;
    float _S4004 = length_1(mean_c_33);
    float4  intrins_35 = make_float4 (fx_46, fy_46, cx_41, cy_41);
    float3  _S4005 = s_primal_ctx_exp_0(dpscale_3);
    float _S4006 = dpquat_3.y;
    float x2_39 = _S4006 * _S4006;
    float y2_39 = dpquat_3.z * dpquat_3.z;
    float z2_54 = dpquat_3.w * dpquat_3.w;
    float xy_39 = dpquat_3.y * dpquat_3.z;
    float xz_39 = dpquat_3.y * dpquat_3.w;
    float yz_39 = dpquat_3.z * dpquat_3.w;
    float wx_39 = dpquat_3.x * dpquat_3.y;
    float wy_39 = dpquat_3.x * dpquat_3.z;
    float wz_39 = dpquat_3.x * dpquat_3.w;
    Matrix<float, 3, 3>  _S4007 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_39 + z2_54), 2.0f * (xy_39 + wz_39), 2.0f * (xz_39 - wy_39), 2.0f * (xy_39 - wz_39), 1.0f - 2.0f * (x2_39 + z2_54), 2.0f * (yz_39 + wx_39), 2.0f * (xz_39 + wy_39), 2.0f * (yz_39 - wx_39), 1.0f - 2.0f * (x2_39 + y2_39))));
    FixedArray<float3 , 7>  _S4008 = {
        _S4003, _S4003, _S4003, _S4003, _S4003, _S4003, _S4003
    };
    FixedArray<float, 7>  _S4009 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4010;
    (&_S4010)->p_0 = _S4008;
    (&_S4010)->w_mean_0 = _S4009;
    (&_S4010)->w_cov_0 = _S4009;
    (&_S4010)->p_0[int(0)] = dpmean_4;
    SigmaPoints_0 _S4011 = _S4010;
    (&_S4011)->w_mean_0[int(0)] = 0.0f;
    (&_S4011)->w_cov_0[int(0)] = 2.0f;
    float _S4012 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_72 = make_float3 (_S4012 * _S4005.x) * _S4007.rows[0U];
    float3  _S4013 = dpmean_4 + delta_72;
    float3  _S4014 = dpmean_4 - delta_72;
    float3  delta_73 = make_float3 (_S4012 * _S4005.y) * _S4007.rows[1U];
    float3  _S4015 = dpmean_4 + delta_73;
    float3  _S4016 = dpmean_4 - delta_73;
    float3  delta_74 = make_float3 (_S4012 * _S4005.z) * _S4007.rows[2U];
    float3  _S4017 = dpmean_4 + delta_74;
    float3  _S4018 = dpmean_4 - delta_74;
    (&_S4011)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4011)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4011)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4011)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4011)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4011)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4011)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4011)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4011)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4011)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4011)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4011)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4011)->p_0[0U] = s_primal_ctx_mul_0(dpR_4, _S4010.p_0[0U]) + dpt_3;
    (&_S4011)->p_0[1U] = s_primal_ctx_mul_0(dpR_4, _S4013) + dpt_3;
    (&_S4011)->p_0[2U] = s_primal_ctx_mul_0(dpR_4, _S4015) + dpt_3;
    (&_S4011)->p_0[3U] = s_primal_ctx_mul_0(dpR_4, _S4017) + dpt_3;
    (&_S4011)->p_0[4U] = s_primal_ctx_mul_0(dpR_4, _S4014) + dpt_3;
    (&_S4011)->p_0[5U] = s_primal_ctx_mul_0(dpR_4, _S4016) + dpt_3;
    (&_S4011)->p_0[6U] = s_primal_ctx_mul_0(dpR_4, _S4018) + dpt_3;
    float2  _S4019 = _S4002;
    Matrix<float, 2, 2>  _S4020 = _S4001;
    SigmaPoints_0 _S4021 = _S4011;
    bool _S4022 = fisheye_proj_3dgs_ut_1(&_S4021, intrins_35, dist_coeffs_49, &_S4020, &_S4019);
    _s_diff_ctx_16->_S4000 = _S4020;
    float2  _S4023 = _S4019;
    float _S4024 = _S4020.rows[int(0)].y * _S4020.rows[int(1)].x;
    float det_orig_34 = _S4020.rows[int(0)].x * _S4020.rows[int(1)].y - _S4024;
    float _S4025 = _S4020.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4026 = _S4020;
    *&(((&_S4026)->rows + (int(0)))->x) = _S4025;
    float _S4027 = _S4020.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4026)->rows + (int(1)))->y) = _S4027;
    Matrix<float, 2, 2>  _S4028 = _S4026;
    Matrix<float, 2, 2>  _S4029 = _S4026;
    float _S4030 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_34 / (_S4025 * _S4027 - _S4024)));
    float _S4031 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_2));
    float _S4032;
    if(antialiased_34)
    {
        _S4032 = _S4031 * _S4030;
    }
    else
    {
        _S4032 = _S4031;
    }
    float _S4033 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4032 / 0.00392156885936856f)));
    float radius_x_27 = _S4033 * s_primal_ctx_sqrt_0(_S4028.rows[int(0)].x);
    float radius_y_27 = _S4033 * s_primal_ctx_sqrt_0(_S4029.rows[int(1)].y);
    float _S4034 = _S4023.x;
    float _S4035 = _S4023.y;
    float _S4036 = mean_c_33.z;
    float _S4037 = s_primal_ctx_max_0(_S4036, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4036 + _S4004));
    float3  _S4038 = s_primal_ctx_exp_0(- dpscale_3);
    float3  _S4039 = dpmean_4 - - s_primal_ctx_mul_0(transpose_0(dpR_4), dpt_3);
    float3  _S4040 = _S4039 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4039, _S4039)));
    float _S4041 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_2)[int(0)], _S4040) - s_primal_ctx_dot_0((*dpsv_sites_2)[int(1)], _S4040));
    float _S4042 = s_primal_ctx_exp_1(0.0f);
    float3  _S4043 = s_primal_ctx_max_1((make_float3 (_S4041) * (*dpsv_colors_2)[int(0)] + make_float3 (_S4042) * (*dpsv_colors_2)[int(1)]) / make_float3 (_S4041 + _S4042) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_27 = make_int4 (int((F32_floor((_S4034 - radius_x_27)))), int((F32_floor((_S4035 - radius_y_27)))), int((F32_ceil((_S4034 + radius_x_27)))), int((F32_ceil((_S4035 + radius_y_27)))));
    *dpmean2d_6 = _S4023;
    *dpdepth_3 = _S4037;
    *dpconic_2 = _S4038;
    *dpopacity_4 = _S4032;
    *dprgb_3 = _S4043;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_35, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_5, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_4, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_4, DiffPair_float_0 * dpin_opacity_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_4, float fx_47, float fy_47, float cx_42, float cy_42, FixedArray<float, 10>  * dist_coeffs_50, uint image_width_35, uint image_height_35, float near_plane_29, float far_plane_29, float2  dpmean2d_7, float dpdepth_4, float3  dpconic_3, float dpopacity_5, float3  dprgb_4, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_17)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4044 = *dpmean_5;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4045 = *dpquat_4;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4046 = *dpscale_4;
    FixedArray<float3 , 2>  _S4047 = dpsv_sites_3->primal_0;
    FixedArray<float3 , 2>  _S4048 = dpsv_colors_3->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4049 = *dpR_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4050 = *dpt_4;
    float3  _S4051 = make_float3 (0.0f);
    float3  mean_c_34 = s_primal_ctx_mul_0((*dpR_5).primal_0, (*dpmean_5).primal_0) + (*dpt_4).primal_0;
    float _S4052 = length_1(mean_c_34);
    float3  _S4053 = s_primal_ctx_exp_0((*dpscale_4).primal_0);
    float _S4054 = (*dpquat_4).primal_0.y;
    float x2_40 = _S4054 * _S4054;
    float y2_40 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.z;
    float z2_55 = (*dpquat_4).primal_0.w * (*dpquat_4).primal_0.w;
    float xy_40 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.z;
    float xz_40 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.w;
    float yz_40 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.w;
    float wx_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.y;
    float wy_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.z;
    float wz_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.w;
    Matrix<float, 3, 3>  _S4055 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_40 + z2_55), 2.0f * (xy_40 + wz_40), 2.0f * (xz_40 - wy_40), 2.0f * (xy_40 - wz_40), 1.0f - 2.0f * (x2_40 + z2_55), 2.0f * (yz_40 + wx_40), 2.0f * (xz_40 + wy_40), 2.0f * (yz_40 - wx_40), 1.0f - 2.0f * (x2_40 + y2_40))));
    FixedArray<float3 , 7>  _S4056 = {
        _S4051, _S4051, _S4051, _S4051, _S4051, _S4051, _S4051
    };
    FixedArray<float, 7>  _S4057 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4058;
    (&_S4058)->p_0 = _S4056;
    (&_S4058)->w_mean_0 = _S4057;
    (&_S4058)->w_cov_0 = _S4057;
    (&_S4058)->p_0[int(0)] = (*dpmean_5).primal_0;
    float _S4059 = s_primal_ctx_sqrt_0(3.0f);
    float _S4060 = _S4059 * _S4053.x;
    float3  _S4061 = make_float3 (_S4060);
    float3  delta_75 = make_float3 (_S4060) * _S4055.rows[0U];
    float3  _S4062 = (*dpmean_5).primal_0 + delta_75;
    float3  _S4063 = (*dpmean_5).primal_0 - delta_75;
    float _S4064 = _S4059 * _S4053.y;
    float3  _S4065 = make_float3 (_S4064);
    float3  delta_76 = make_float3 (_S4064) * _S4055.rows[1U];
    float3  _S4066 = (*dpmean_5).primal_0 + delta_76;
    float3  _S4067 = (*dpmean_5).primal_0 - delta_76;
    float _S4068 = _S4059 * _S4053.z;
    float3  _S4069 = make_float3 (_S4068);
    float3  delta_77 = make_float3 (_S4068) * _S4055.rows[2U];
    float3  _S4070 = (*dpmean_5).primal_0 + delta_77;
    float3  _S4071 = (*dpmean_5).primal_0 - delta_77;
    SigmaPoints_0 _S4072 = _S4058;
    float _S4073 = *&(((&_s_diff_ctx_17->_S4000)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_17->_S4000)->rows + (int(1)))->x);
    float det_orig_35 = *&(((&_s_diff_ctx_17->_S4000)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_17->_S4000)->rows + (int(1)))->y) - _S4073;
    float _S4074 = *&(((&_s_diff_ctx_17->_S4000)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4075 = _s_diff_ctx_17->_S4000;
    *&(((&_S4075)->rows + (int(0)))->x) = _S4074;
    float _S4076 = *&(((&_s_diff_ctx_17->_S4000)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4075)->rows + (int(1)))->y) = _S4076;
    Matrix<float, 2, 2>  _S4077 = _S4075;
    Matrix<float, 2, 2>  _S4078 = _S4075;
    float det_blur_26 = _S4074 * _S4076 - _S4073;
    float _S4079 = det_orig_35 / det_blur_26;
    float _S4080 = det_blur_26 * det_blur_26;
    float _S4081 = s_primal_ctx_max_0(0.0f, _S4079);
    float _S4082 = s_primal_ctx_sqrt_0(_S4081);
    float _S4083 = - (*dpin_opacity_3).primal_0;
    float _S4084 = 1.0f + s_primal_ctx_exp_1(_S4083);
    float _S4085 = 1.0f / _S4084;
    float _S4086 = _S4084 * _S4084;
    float _S4087;
    if(antialiased_35)
    {
        _S4087 = _S4085 * _S4082;
    }
    else
    {
        _S4087 = _S4085;
    }
    float _S4088 = _S4087 / 0.00392156885936856f;
    float _S4089 = 2.0f * s_primal_ctx_log_0(_S4088);
    float _S4090 = s_primal_ctx_sqrt_0(_S4089);
    float _S4091 = _S4077.rows[int(0)].x;
    float _S4092 = _S4078.rows[int(1)].y;
    float _S4093 = mean_c_34.z;
    float _S4094 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4095 = _S4094 * (_S4093 + _S4052);
    float3  _S4096 = - _S4046.primal_0;
    Matrix<float, 3, 3>  _S4097 = transpose_0(_S4049.primal_0);
    float3  _S4098 = _S4044.primal_0 - - s_primal_ctx_mul_0(_S4097, _S4050.primal_0);
    float _S4099 = s_primal_ctx_dot_0(_S4098, _S4098);
    float _S4100 = s_primal_ctx_rsqrt_0(_S4099);
    float3  _S4101 = make_float3 (_S4100);
    float3  _S4102 = _S4098 * make_float3 (_S4100);
    float _S4103 = s_primal_ctx_dot_0(_S4047[int(0)], _S4102) - s_primal_ctx_dot_0(_S4047[int(1)], _S4102);
    float _S4104 = s_primal_ctx_exp_1(_S4103);
    float3  _S4105 = make_float3 (_S4104);
    float _S4106 = s_primal_ctx_exp_1(0.0f);
    float3  _S4107 = make_float3 (_S4106);
    float total_w_1 = _S4104 + _S4106;
    float3  _S4108 = make_float3 (total_w_1);
    float3  total_c_1 = make_float3 (_S4104) * _S4048[int(0)] + make_float3 (_S4106) * _S4048[int(1)];
    float3  _S4109 = make_float3 (total_w_1 * total_w_1);
    float3  _S4110 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4111;
    (&_S4111)->primal_0 = total_c_1 / make_float3 (total_w_1) + make_float3 (0.5f);
    (&_S4111)->differential_0 = _S4051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4112;
    (&_S4112)->primal_0 = _S4110;
    (&_S4112)->differential_0 = _S4051;
    s_bwd_prop_max_0(&_S4111, &_S4112, dprgb_4);
    float3  _S4113 = _S4111.differential_0 / _S4109;
    float3  _S4114 = total_c_1 * - _S4113;
    float3  s_diff_total_c_T_1 = _S4108 * _S4113;
    float3  _S4115 = _S4107 * s_diff_total_c_T_1;
    float3  _S4116 = _S4105 * s_diff_total_c_T_1;
    float3  _S4117 = _S4048[int(0)] * s_diff_total_c_T_1;
    float _S4118 = _S4114.x + _S4114.y + _S4114.z + _S4117.x + _S4117.y + _S4117.z;
    DiffPair_float_0 _S4119;
    (&_S4119)->primal_0 = _S4103;
    (&_S4119)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4119, _S4118);
    float _S4120 = - _S4119.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4121;
    (&_S4121)->primal_0 = _S4047[int(1)];
    (&_S4121)->differential_0 = _S4051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4122;
    (&_S4122)->primal_0 = _S4102;
    (&_S4122)->differential_0 = _S4051;
    s_bwd_prop_dot_0(&_S4121, &_S4122, _S4120);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4123;
    (&_S4123)->primal_0 = _S4047[int(0)];
    (&_S4123)->differential_0 = _S4051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4124;
    (&_S4124)->primal_0 = _S4102;
    (&_S4124)->differential_0 = _S4051;
    s_bwd_prop_dot_0(&_S4123, &_S4124, _S4119.differential_0);
    float3  _S4125 = _S4122.differential_0 + _S4124.differential_0;
    float3  _S4126 = _S4098 * _S4125;
    float3  _S4127 = _S4101 * _S4125;
    float _S4128 = _S4126.x + _S4126.y + _S4126.z;
    DiffPair_float_0 _S4129;
    (&_S4129)->primal_0 = _S4099;
    (&_S4129)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4129, _S4128);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4130;
    (&_S4130)->primal_0 = _S4098;
    (&_S4130)->differential_0 = _S4051;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4131;
    (&_S4131)->primal_0 = _S4098;
    (&_S4131)->differential_0 = _S4051;
    s_bwd_prop_dot_0(&_S4130, &_S4131, _S4129.differential_0);
    float3  _S4132 = _S4127 + _S4131.differential_0 + _S4130.differential_0;
    float3  _S4133 = - - _S4132;
    Matrix<float, 3, 3>  _S4134 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4135;
    (&_S4135)->primal_0 = _S4097;
    (&_S4135)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4136;
    (&_S4136)->primal_0 = _S4050.primal_0;
    (&_S4136)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4135, &_S4136, _S4133);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4137 = _S4136;
    Matrix<float, 3, 3>  _S4138 = transpose_0(_S4135.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4139;
    (&_S4139)->primal_0 = _S4096;
    (&_S4139)->differential_0 = _S4051;
    s_bwd_prop_exp_1(&_S4139, dpconic_3);
    float3  _S4140 = - _S4139.differential_0;
    DiffPair_float_0 _S4141;
    (&_S4141)->primal_0 = _S4093;
    (&_S4141)->differential_0 = 0.0f;
    DiffPair_float_0 _S4142;
    (&_S4142)->primal_0 = _S4095;
    (&_S4142)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4141, &_S4142, dpdepth_4);
    float _S4143 = _S4094 * _S4142.differential_0;
    float _S4144 = _S4141.differential_0 + _S4143;
    DiffPair_float_0 _S4145;
    (&_S4145)->primal_0 = _S4092;
    (&_S4145)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4145, 0.0f);
    DiffPair_float_0 _S4146;
    (&_S4146)->primal_0 = _S4091;
    (&_S4146)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4146, 0.0f);
    DiffPair_float_0 _S4147;
    (&_S4147)->primal_0 = 3.32999992370605469f;
    (&_S4147)->differential_0 = 0.0f;
    DiffPair_float_0 _S4148;
    (&_S4148)->primal_0 = _S4090;
    (&_S4148)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4147, &_S4148, 0.0f);
    DiffPair_float_0 _S4149;
    (&_S4149)->primal_0 = _S4089;
    (&_S4149)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4149, _S4148.differential_0);
    float _S4150 = 2.0f * _S4149.differential_0;
    DiffPair_float_0 _S4151;
    (&_S4151)->primal_0 = _S4088;
    (&_S4151)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4151, _S4150);
    float _S4152 = dpopacity_5 + 254.9999847412109375f * _S4151.differential_0;
    FixedArray<float3 , 2>  _S4153;
    _S4153[int(0)] = _S4051;
    _S4153[int(1)] = _S4051;
    _S4153[int(1)] = _S4115;
    _S4153[int(0)] = _S4116;
    FixedArray<float3 , 2>  _S4154 = {
        _S4153[int(0)], _S4153[int(1)]
    };
    FixedArray<float3 , 2>  _S4155;
    _S4155[int(0)] = _S4051;
    _S4155[int(1)] = _S4051;
    _S4155[int(1)] = _S4121.differential_0;
    _S4155[int(0)] = _S4123.differential_0;
    FixedArray<float3 , 2>  _S4156 = {
        _S4155[int(0)], _S4155[int(1)]
    };
    float3  _S4157 = make_float3 (0.0f, 0.0f, _S4144);
    float2  _S4158 = make_float2 (0.0f, _S4145.differential_0);
    float2  _S4159 = make_float2 (_S4146.differential_0, 0.0f);
    float _S4160;
    if(antialiased_35)
    {
        float _S4161 = _S4085 * _S4152;
        _S4087 = _S4082 * _S4152;
        _S4160 = _S4161;
    }
    else
    {
        _S4087 = _S4152;
        _S4160 = 0.0f;
    }
    float _S4162 = - (_S4087 / _S4086);
    DiffPair_float_0 _S4163;
    (&_S4163)->primal_0 = _S4083;
    (&_S4163)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4163, _S4162);
    float _S4164 = - _S4163.differential_0;
    DiffPair_float_0 _S4165;
    (&_S4165)->primal_0 = _S4081;
    (&_S4165)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4165, _S4160);
    DiffPair_float_0 _S4166;
    (&_S4166)->primal_0 = 0.0f;
    (&_S4166)->differential_0 = 0.0f;
    DiffPair_float_0 _S4167;
    (&_S4167)->primal_0 = _S4079;
    (&_S4167)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4166, &_S4167, _S4165.differential_0);
    float _S4168 = _S4167.differential_0 / _S4080;
    float s_diff_det_blur_T_3 = det_orig_35 * - _S4168;
    float s_diff_det_orig_T_6 = det_blur_26 * _S4168;
    float _S4169 = - s_diff_det_blur_T_3;
    float _S4170 = _S4074 * s_diff_det_blur_T_3;
    float _S4171 = _S4076 * s_diff_det_blur_T_3;
    Matrix<float, 2, 2>  _S4172 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4173 = _S4172;
    _S4173[int(1)] = _S4158;
    _S4173[int(0)] = _S4159;
    float _S4174 = _S4171 + _S4173.rows[int(0)].x;
    float _S4175 = _S4169 + - s_diff_det_orig_T_6;
    float _S4176 = *&(((&_s_diff_ctx_17->_S4000)->rows + (int(0)))->y) * _S4175;
    float _S4177 = *&(((&_s_diff_ctx_17->_S4000)->rows + (int(1)))->x) * _S4175;
    float _S4178 = *&(((&_s_diff_ctx_17->_S4000)->rows + (int(1)))->y) * s_diff_det_orig_T_6;
    float _S4179 = _S4170 + _S4173.rows[int(1)].y + *&(((&_s_diff_ctx_17->_S4000)->rows + (int(0)))->x) * s_diff_det_orig_T_6;
    float2  _S4180 = make_float2 (0.0f);
    float2  _S4181 = _S4180;
    *&((&_S4181)->x) = _S4176;
    *&((&_S4181)->y) = _S4179;
    float _S4182 = _S4174 + _S4178;
    float2  _S4183 = _S4180;
    *&((&_S4183)->y) = _S4177;
    *&((&_S4183)->x) = _S4182;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4184;
    (&_S4184)->primal_0 = _S4049.primal_0;
    (&_S4184)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4185;
    (&_S4185)->primal_0 = _S4071;
    (&_S4185)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4184, &_S4185, _S4051);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4186;
    (&_S4186)->primal_0 = _S4049.primal_0;
    (&_S4186)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4187;
    (&_S4187)->primal_0 = _S4067;
    (&_S4187)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4186, &_S4187, _S4051);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4188;
    (&_S4188)->primal_0 = _S4049.primal_0;
    (&_S4188)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4189;
    (&_S4189)->primal_0 = _S4063;
    (&_S4189)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4188, &_S4189, _S4051);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4190;
    (&_S4190)->primal_0 = _S4049.primal_0;
    (&_S4190)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4191;
    (&_S4191)->primal_0 = _S4070;
    (&_S4191)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4190, &_S4191, _S4051);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4192;
    (&_S4192)->primal_0 = _S4049.primal_0;
    (&_S4192)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4193;
    (&_S4193)->primal_0 = _S4066;
    (&_S4193)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4192, &_S4193, _S4051);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4194;
    (&_S4194)->primal_0 = _S4049.primal_0;
    (&_S4194)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4195;
    (&_S4195)->primal_0 = _S4062;
    (&_S4195)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4194, &_S4195, _S4051);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4196;
    (&_S4196)->primal_0 = _S4049.primal_0;
    (&_S4196)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4197;
    (&_S4197)->primal_0 = _S4072.p_0[0U];
    (&_S4197)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4196, &_S4197, _S4051);
    float3  _S4198 = - _S4185.differential_0 + _S4191.differential_0;
    float3  _S4199 = _S4069 * _S4198;
    float3  _S4200 = _S4055.rows[2U] * _S4198;
    float _S4201 = _S4059 * (_S4200.x + _S4200.y + _S4200.z);
    float3  _S4202 = - _S4187.differential_0 + _S4193.differential_0;
    float3  _S4203 = _S4065 * _S4202;
    float3  _S4204 = _S4055.rows[1U] * _S4202;
    float _S4205 = _S4059 * (_S4204.x + _S4204.y + _S4204.z);
    float3  _S4206 = - _S4189.differential_0 + _S4195.differential_0;
    float3  _S4207 = _S4061 * _S4206;
    float3  _S4208 = _S4055.rows[0U] * _S4206;
    float _S4209 = _S4059 * (_S4208.x + _S4208.y + _S4208.z);
    Matrix<float, 3, 3>  _S4210 = _S4134;
    _S4210[2U] = _S4199;
    _S4210[1U] = _S4203;
    _S4210[0U] = _S4207;
    Matrix<float, 3, 3>  _S4211 = transpose_0(transpose_0(_S4210));
    float _S4212 = 2.0f * - _S4211.rows[int(2)].z;
    float _S4213 = 2.0f * _S4211.rows[int(2)].y;
    float _S4214 = 2.0f * _S4211.rows[int(2)].x;
    float _S4215 = 2.0f * _S4211.rows[int(1)].z;
    float _S4216 = 2.0f * - _S4211.rows[int(1)].y;
    float _S4217 = 2.0f * _S4211.rows[int(1)].x;
    float _S4218 = 2.0f * _S4211.rows[int(0)].z;
    float _S4219 = 2.0f * _S4211.rows[int(0)].y;
    float _S4220 = 2.0f * - _S4211.rows[int(0)].x;
    float _S4221 = - _S4217 + _S4219;
    float _S4222 = _S4214 + - _S4218;
    float _S4223 = - _S4213 + _S4215;
    float _S4224 = _S4213 + _S4215;
    float _S4225 = _S4214 + _S4218;
    float _S4226 = _S4217 + _S4219;
    float _S4227 = _S4045.primal_0.w * (_S4216 + _S4220);
    float _S4228 = _S4045.primal_0.z * (_S4212 + _S4220);
    float _S4229 = _S4045.primal_0.y * (_S4212 + _S4216);
    float _S4230 = _S4045.primal_0.x * _S4221 + _S4045.primal_0.z * _S4224 + _S4045.primal_0.y * _S4225 + _S4227 + _S4227;
    float _S4231 = _S4045.primal_0.x * _S4222 + _S4045.primal_0.w * _S4224 + _S4045.primal_0.y * _S4226 + _S4228 + _S4228;
    float _S4232 = _S4045.primal_0.x * _S4223 + _S4045.primal_0.w * _S4225 + _S4045.primal_0.z * _S4226 + _S4229 + _S4229;
    float _S4233 = _S4045.primal_0.w * _S4221 + _S4045.primal_0.z * _S4222 + _S4045.primal_0.y * _S4223;
    float3  _S4234 = _S4051;
    *&((&_S4234)->z) = _S4201;
    *&((&_S4234)->y) = _S4205;
    *&((&_S4234)->x) = _S4209;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4235;
    (&_S4235)->primal_0 = _S4046.primal_0;
    (&_S4235)->differential_0 = _S4051;
    s_bwd_prop_exp_1(&_S4235, _S4234);
    Matrix<float, 2, 2>  _S4236 = _S4172;
    _S4236[int(1)] = _S4181;
    _S4236[int(0)] = _S4183;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4237;
    (&_S4237)->primal_0 = mean_c_34;
    (&_S4237)->differential_0 = _S4051;
    s_bwd_length_impl_1(&_S4237, _S4143);
    float3  _S4238 = _S4237.differential_0 + _S4157;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4239;
    (&_S4239)->primal_0 = _S4049.primal_0;
    (&_S4239)->differential_0 = _S4134;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4240;
    (&_S4240)->primal_0 = _S4044.primal_0;
    (&_S4240)->differential_0 = _S4051;
    s_bwd_prop_mul_1(&_S4239, &_S4240, _S4238);
    float3  _S4241 = _S4238 + _S4137.differential_0;
    dpt_4->primal_0 = (*dpt_4).primal_0;
    dpt_4->differential_0 = _S4241;
    Matrix<float, 3, 3>  _S4242 = _S4184.differential_0 + _S4186.differential_0 + _S4188.differential_0 + _S4190.differential_0 + _S4192.differential_0 + _S4194.differential_0 + _S4196.differential_0 + _S4239.differential_0 + _S4138;
    dpR_5->primal_0 = (*dpR_5).primal_0;
    dpR_5->differential_0 = _S4242;
    dpsv_colors_3->primal_0 = dpsv_colors_3->primal_0;
    dpsv_colors_3->differential_0 = _S4154;
    dpsv_sites_3->primal_0 = dpsv_sites_3->primal_0;
    dpsv_sites_3->differential_0 = _S4156;
    dpin_opacity_3->primal_0 = (*dpin_opacity_3).primal_0;
    dpin_opacity_3->differential_0 = _S4164;
    float3  _S4243 = _S4235.differential_0 + _S4140;
    dpscale_4->primal_0 = (*dpscale_4).primal_0;
    dpscale_4->differential_0 = _S4243;
    float4  _S4244 = make_float4 (0.0f);
    *&((&_S4244)->w) = _S4230;
    *&((&_S4244)->z) = _S4231;
    *&((&_S4244)->y) = _S4232;
    *&((&_S4244)->x) = _S4233;
    dpquat_4->primal_0 = (*dpquat_4).primal_0;
    dpquat_4->differential_0 = _S4244;
    float3  _S4245 = _S4185.differential_0 + _S4191.differential_0 + _S4187.differential_0 + _S4193.differential_0 + _S4189.differential_0 + _S4195.differential_0 + _S4240.differential_0 + _S4132;
    dpmean_5->primal_0 = (*dpmean_5).primal_0;
    dpmean_5->differential_0 = _S4245;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_0(bool _S4246, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4247, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4248, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4249, DiffPair_float_0 * _S4250, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S4251, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S4252, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4253, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4254, float _S4255, float _S4256, float _S4257, float _S4258, FixedArray<float, 10>  * _S4259, uint _S4260, uint _S4261, float _S4262, float _S4263, float2  _S4264, float _S4265, float3  _S4266, float _S4267, float3  _S4268)
{
    FixedArray<float3 , 2>  _S4269 = _S4251->primal_0;
    FixedArray<float3 , 2>  _S4270 = _S4252->primal_0;
    int4  _S4271;
    float2  _S4272;
    float _S4273;
    float3  _S4274;
    float _S4275;
    float3  _S4276;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S4277;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(_S4246, (*_S4247).primal_0, (*_S4248).primal_0, (*_S4249).primal_0, (*_S4250).primal_0, &_S4269, &_S4270, (*_S4253).primal_0, (*_S4254).primal_0, _S4255, _S4256, _S4257, _S4258, _S4259, _S4260, _S4261, _S4262, _S4263, &_S4271, &_S4272, &_S4273, &_S4274, &_S4275, &_S4276, &_S4277);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S4278 = _S4277;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(_S4246, _S4247, _S4248, _S4249, _S4250, _S4251, _S4252, _S4253, _S4254, _S4255, _S4256, _S4257, _S4258, _S4259, _S4260, _S4261, _S4262, _S4263, _S4264, _S4265, _S4266, _S4267, _S4268, &_S4278);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_36, float3  mean_37, float4  quat_38, float3  scale_37, float in_opacity_32, FixedArray<float3 , 2>  * sv_sites_17, FixedArray<float3 , 2>  * sv_colors_17, Matrix<float, 3, 3>  R_39, float3  t_35, float fx_48, float fy_48, float cx_43, float cy_43, FixedArray<float, 10>  * dist_coeffs_51, uint image_width_36, uint image_height_36, float2  v_mean2d_6, float v_depth_7, float3  v_conic_6, float v_opacity_8, float3  v_rgb_7, float3  * v_mean_8, float4  * v_quat_7, float3  * v_scale_7, float * v_in_opacity_6, FixedArray<float3 , 2>  * v_sv_dirs_1, FixedArray<float3 , 2>  * v_sv_colors_1, Matrix<float, 3, 3>  * v_R_8, float3  * v_t_7)
{
    float3  _S4279 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_3;
    (&dp_mean_3)->primal_0 = mean_37;
    (&dp_mean_3)->differential_0 = _S4279;
    float4  _S4280 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_2;
    (&dp_quat_2)->primal_0 = quat_38;
    (&dp_quat_2)->differential_0 = _S4280;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_2;
    (&dp_scale_2)->primal_0 = scale_37;
    (&dp_scale_2)->differential_0 = _S4279;
    DiffPair_float_0 dp_in_opacity_1;
    (&dp_in_opacity_1)->primal_0 = in_opacity_32;
    (&dp_in_opacity_1)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S4281 = { _S4279, _S4279 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_1;
    (&dp_sv_dirs_1)->primal_0 = *sv_sites_17;
    (&dp_sv_dirs_1)->differential_0 = _S4281;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_1;
    (&dp_sv_colors_1)->primal_0 = *sv_colors_17;
    (&dp_sv_colors_1)->differential_0 = _S4281;
    Matrix<float, 3, 3>  _S4282 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_3;
    (&dp_R_3)->primal_0 = R_39;
    (&dp_R_3)->differential_0 = _S4282;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_2;
    (&dp_t_2)->primal_0 = t_35;
    (&dp_t_2)->differential_0 = _S4279;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_0(antialiased_36, &dp_mean_3, &dp_quat_2, &dp_scale_2, &dp_in_opacity_1, &dp_sv_dirs_1, &dp_sv_colors_1, &dp_R_3, &dp_t_2, fx_48, fy_48, cx_43, cy_43, dist_coeffs_51, image_width_36, image_height_36, 0.0f, 1.00000001504746622e+30f, v_mean2d_6, v_depth_7, v_conic_6, v_opacity_8, v_rgb_7);
    *v_mean_8 = dp_mean_3.differential_0;
    *v_quat_7 = dp_quat_2.differential_0;
    *v_scale_7 = dp_scale_2.differential_0;
    *v_in_opacity_6 = dp_in_opacity_1.differential_0;
    *v_sv_dirs_1 = (&dp_sv_dirs_1)->differential_0;
    *v_sv_colors_1 = (&dp_sv_colors_1)->differential_0;
    *v_R_8 = dp_R_3.differential_0;
    *v_t_7 = dp_t_2.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_37, float3  mean_38, float4  quat_39, float3  scale_38, float in_opacity_33, FixedArray<float3 , 3>  * sv_sites_18, FixedArray<float3 , 3>  * sv_colors_18, Matrix<float, 3, 3>  R_40, float3  t_36, float fx_49, float fy_49, float cx_44, float cy_44, FixedArray<float, 10>  * dist_coeffs_52, uint image_width_37, uint image_height_37, float near_plane_30, float far_plane_30, int4  * aabb_xyxy_28, float2  * mean2d_35, float * depth_27, float3  * conic_26, float * opacity_30, float3  * rgb_28)
{
    float3  mean_c_35 = mul_0(R_40, mean_38) + t_36;
    float4  intrins_36 = make_float4 (fx_49, fy_49, cx_44, cy_44);
    float3  _S4283 = exp_0(scale_38);
    float x_57 = quat_39.y;
    float x2_41 = x_57 * x_57;
    float y2_41 = quat_39.z * quat_39.z;
    float z2_56 = quat_39.w * quat_39.w;
    float xy_41 = quat_39.y * quat_39.z;
    float xz_41 = quat_39.y * quat_39.w;
    float yz_41 = quat_39.z * quat_39.w;
    float wx_41 = quat_39.x * quat_39.y;
    float wy_41 = quat_39.x * quat_39.z;
    float wz_41 = quat_39.x * quat_39.w;
    Matrix<float, 3, 3>  _S4284 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_41 + z2_56), 2.0f * (xy_41 + wz_41), 2.0f * (xz_41 - wy_41), 2.0f * (xy_41 - wz_41), 1.0f - 2.0f * (x2_41 + z2_56), 2.0f * (yz_41 + wx_41), 2.0f * (xz_41 + wy_41), 2.0f * (yz_41 - wx_41), 1.0f - 2.0f * (x2_41 + y2_41))));
    SigmaPoints_0 ret_20;
    (&ret_20)->p_0[int(0)] = mean_38;
    (&ret_20)->w_mean_0[int(0)] = 0.0f;
    (&ret_20)->w_cov_0[int(0)] = 2.0f;
    float _S4285 = (F32_sqrt((3.0f)));
    float3  delta_78 = make_float3 (_S4285 * _S4283.x) * _S4284.rows[0U];
    float3  _S4286 = mean_38 + delta_78;
    float3  _S4287 = mean_38 - delta_78;
    float3  delta_79 = make_float3 (_S4285 * _S4283.y) * _S4284.rows[1U];
    float3  _S4288 = mean_38 + delta_79;
    float3  _S4289 = mean_38 - delta_79;
    float3  delta_80 = make_float3 (_S4285 * _S4283.z) * _S4284.rows[2U];
    float3  _S4290 = mean_38 + delta_80;
    float3  _S4291 = mean_38 - delta_80;
    (&ret_20)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_20)->p_0[0U] = mul_0(R_40, (&ret_20)->p_0[0U]) + t_36;
    (&ret_20)->p_0[1U] = mul_0(R_40, _S4286) + t_36;
    (&ret_20)->p_0[2U] = mul_0(R_40, _S4288) + t_36;
    (&ret_20)->p_0[3U] = mul_0(R_40, _S4290) + t_36;
    (&ret_20)->p_0[4U] = mul_0(R_40, _S4287) + t_36;
    (&ret_20)->p_0[5U] = mul_0(R_40, _S4289) + t_36;
    (&ret_20)->p_0[6U] = mul_0(R_40, _S4291) + t_36;
    SigmaPoints_0 _S4292 = ret_20;
    Matrix<float, 2, 2>  covar2d_26;
    bool _S4293 = persp_proj_3dgs_ut_1(&_S4292, intrins_36, dist_coeffs_52, image_width_37, image_height_37, &covar2d_26, mean2d_35);
    float det_orig_36 = *&(((&covar2d_26)->rows + (int(0)))->x) * *&(((&covar2d_26)->rows + (int(1)))->y) - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x);
    float _S4294 = *&(((&covar2d_26)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(0)))->x) = _S4294;
    float _S4295 = *&(((&covar2d_26)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(1)))->y) = _S4295;
    float compensation_27 = (F32_sqrt(((F32_max((0.0f), (det_orig_36 / (_S4294 * _S4295 - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x))))))));
    *opacity_30 = 1.0f / (1.0f + (F32_exp((- in_opacity_33))));
    if(antialiased_37)
    {
        *opacity_30 = *opacity_30 * compensation_27;
    }
    float extend_26 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_30 / 0.00392156885936856f)))))))));
    float radius_x_28 = extend_26 * (F32_sqrt((covar2d_26[int(0)].x)));
    float radius_y_28 = extend_26 * (F32_sqrt((covar2d_26[int(1)].y)));
    *aabb_xyxy_28 = make_int4 (int((F32_floor(((*mean2d_35).x - radius_x_28)))), int((F32_floor(((*mean2d_35).y - radius_y_28)))), int((F32_ceil(((*mean2d_35).x + radius_x_28)))), int((F32_ceil(((*mean2d_35).y + radius_y_28)))));
    float _S4296 = mean_c_35.z;
    *depth_27 = (F32_max((_S4296), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4296 + length_1(mean_c_35)))));
    *conic_26 = exp_0(- scale_38);
    float3  _S4297 = mean_38 - - mul_0(transpose_0(R_40), t_36);
    float3  _S4298 = _S4297 * make_float3 ((F32_rsqrt((dot_0(_S4297, _S4297)))));
    float _S4299 = dot_0((*sv_sites_18)[int(2)], _S4298);
    float w_74 = (F32_exp((dot_0((*sv_sites_18)[int(0)], _S4298) - _S4299)));
    float w_75 = (F32_exp((dot_0((*sv_sites_18)[int(1)], _S4298) - _S4299)));
    float w_76 = (F32_exp((0.0f)));
    *rgb_28 = max_0((make_float3 (w_74) * (*sv_colors_18)[int(0)] + make_float3 (w_75) * (*sv_colors_18)[int(1)] + make_float3 (w_76) * (*sv_colors_18)[int(2)]) / make_float3 (w_74 + w_75 + w_76) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_38, float3  mean_39, float4  quat_40, float3  scale_39, float in_opacity_34, FixedArray<float3 , 3>  * sv_sites_19, FixedArray<float3 , 3>  * sv_colors_19, Matrix<float, 3, 3>  R_41, float3  t_37, float fx_50, float fy_50, float cx_45, float cy_45, FixedArray<float, 10>  * dist_coeffs_53, uint image_width_38, uint image_height_38, float near_plane_31, float far_plane_31, int4  * aabb_xyxy_29, float2  * mean2d_36, float * depth_28, float3  * conic_27, float * opacity_31, float3  * rgb_29)
{
    float3  mean_c_36 = mul_0(R_41, mean_39) + t_37;
    float4  intrins_37 = make_float4 (fx_50, fy_50, cx_45, cy_45);
    float3  _S4300 = exp_0(scale_39);
    float x_58 = quat_40.y;
    float x2_42 = x_58 * x_58;
    float y2_42 = quat_40.z * quat_40.z;
    float z2_57 = quat_40.w * quat_40.w;
    float xy_42 = quat_40.y * quat_40.z;
    float xz_42 = quat_40.y * quat_40.w;
    float yz_42 = quat_40.z * quat_40.w;
    float wx_42 = quat_40.x * quat_40.y;
    float wy_42 = quat_40.x * quat_40.z;
    float wz_42 = quat_40.x * quat_40.w;
    Matrix<float, 3, 3>  _S4301 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_42 + z2_57), 2.0f * (xy_42 + wz_42), 2.0f * (xz_42 - wy_42), 2.0f * (xy_42 - wz_42), 1.0f - 2.0f * (x2_42 + z2_57), 2.0f * (yz_42 + wx_42), 2.0f * (xz_42 + wy_42), 2.0f * (yz_42 - wx_42), 1.0f - 2.0f * (x2_42 + y2_42))));
    SigmaPoints_0 ret_21;
    (&ret_21)->p_0[int(0)] = mean_39;
    (&ret_21)->w_mean_0[int(0)] = 0.0f;
    (&ret_21)->w_cov_0[int(0)] = 2.0f;
    float _S4302 = (F32_sqrt((3.0f)));
    float3  delta_81 = make_float3 (_S4302 * _S4300.x) * _S4301.rows[0U];
    float3  _S4303 = mean_39 + delta_81;
    float3  _S4304 = mean_39 - delta_81;
    float3  delta_82 = make_float3 (_S4302 * _S4300.y) * _S4301.rows[1U];
    float3  _S4305 = mean_39 + delta_82;
    float3  _S4306 = mean_39 - delta_82;
    float3  delta_83 = make_float3 (_S4302 * _S4300.z) * _S4301.rows[2U];
    float3  _S4307 = mean_39 + delta_83;
    float3  _S4308 = mean_39 - delta_83;
    (&ret_21)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_21)->p_0[0U] = mul_0(R_41, (&ret_21)->p_0[0U]) + t_37;
    (&ret_21)->p_0[1U] = mul_0(R_41, _S4303) + t_37;
    (&ret_21)->p_0[2U] = mul_0(R_41, _S4305) + t_37;
    (&ret_21)->p_0[3U] = mul_0(R_41, _S4307) + t_37;
    (&ret_21)->p_0[4U] = mul_0(R_41, _S4304) + t_37;
    (&ret_21)->p_0[5U] = mul_0(R_41, _S4306) + t_37;
    (&ret_21)->p_0[6U] = mul_0(R_41, _S4308) + t_37;
    SigmaPoints_0 _S4309 = ret_21;
    Matrix<float, 2, 2>  covar2d_27;
    bool _S4310 = fisheye_proj_3dgs_ut_1(&_S4309, intrins_37, dist_coeffs_53, &covar2d_27, mean2d_36);
    float det_orig_37 = *&(((&covar2d_27)->rows + (int(0)))->x) * *&(((&covar2d_27)->rows + (int(1)))->y) - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x);
    float _S4311 = *&(((&covar2d_27)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(0)))->x) = _S4311;
    float _S4312 = *&(((&covar2d_27)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(1)))->y) = _S4312;
    float compensation_28 = (F32_sqrt(((F32_max((0.0f), (det_orig_37 / (_S4311 * _S4312 - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x))))))));
    *opacity_31 = 1.0f / (1.0f + (F32_exp((- in_opacity_34))));
    if(antialiased_38)
    {
        *opacity_31 = *opacity_31 * compensation_28;
    }
    float extend_27 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_31 / 0.00392156885936856f)))))))));
    float radius_x_29 = extend_27 * (F32_sqrt((covar2d_27[int(0)].x)));
    float radius_y_29 = extend_27 * (F32_sqrt((covar2d_27[int(1)].y)));
    *aabb_xyxy_29 = make_int4 (int((F32_floor(((*mean2d_36).x - radius_x_29)))), int((F32_floor(((*mean2d_36).y - radius_y_29)))), int((F32_ceil(((*mean2d_36).x + radius_x_29)))), int((F32_ceil(((*mean2d_36).y + radius_y_29)))));
    float _S4313 = mean_c_36.z;
    *depth_28 = (F32_max((_S4313), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4313 + length_1(mean_c_36)))));
    *conic_27 = exp_0(- scale_39);
    float3  _S4314 = mean_39 - - mul_0(transpose_0(R_41), t_37);
    float3  _S4315 = _S4314 * make_float3 ((F32_rsqrt((dot_0(_S4314, _S4314)))));
    float _S4316 = dot_0((*sv_sites_19)[int(2)], _S4315);
    float w_77 = (F32_exp((dot_0((*sv_sites_19)[int(0)], _S4315) - _S4316)));
    float w_78 = (F32_exp((dot_0((*sv_sites_19)[int(1)], _S4315) - _S4316)));
    float w_79 = (F32_exp((0.0f)));
    *rgb_29 = max_0((make_float3 (w_77) * (*sv_colors_19)[int(0)] + make_float3 (w_78) * (*sv_colors_19)[int(1)] + make_float3 (w_79) * (*sv_colors_19)[int(2)]) / make_float3 (w_77 + w_78 + w_79) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0
{
    FixedArray<float3 , 3>  primal_0;
    FixedArray<float3 , 3>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S4317;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(bool antialiased_39, float3  dpmean_6, float4  dpquat_5, float3  dpscale_5, float dpin_opacity_4, FixedArray<float3 , 3>  * dpsv_sites_4, FixedArray<float3 , 3>  * dpsv_colors_4, Matrix<float, 3, 3>  dpR_6, float3  dpt_5, float fx_51, float fy_51, float cx_46, float cy_46, FixedArray<float, 10>  * dist_coeffs_54, uint image_width_39, uint image_height_39, float near_plane_32, float far_plane_32, int4  * aabb_xyxy_30, float2  * dpmean2d_8, float * dpdepth_5, float3  * dpconic_4, float * dpopacity_6, float3  * dprgb_5, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_18)
{
    Matrix<float, 2, 2>  _S4318 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_18->_S4317 = _S4318;
    float2  _S4319 = make_float2 (0.0f);
    float3  _S4320 = make_float3 (0.0f);
    float3  mean_c_37 = s_primal_ctx_mul_0(dpR_6, dpmean_6) + dpt_5;
    float4  intrins_38 = make_float4 (fx_51, fy_51, cx_46, cy_46);
    float3  _S4321 = s_primal_ctx_exp_0(dpscale_5);
    float _S4322 = dpquat_5.y;
    float x2_43 = _S4322 * _S4322;
    float y2_43 = dpquat_5.z * dpquat_5.z;
    float z2_58 = dpquat_5.w * dpquat_5.w;
    float xy_43 = dpquat_5.y * dpquat_5.z;
    float xz_43 = dpquat_5.y * dpquat_5.w;
    float yz_43 = dpquat_5.z * dpquat_5.w;
    float wx_43 = dpquat_5.x * dpquat_5.y;
    float wy_43 = dpquat_5.x * dpquat_5.z;
    float wz_43 = dpquat_5.x * dpquat_5.w;
    Matrix<float, 3, 3>  _S4323 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_43 + z2_58), 2.0f * (xy_43 + wz_43), 2.0f * (xz_43 - wy_43), 2.0f * (xy_43 - wz_43), 1.0f - 2.0f * (x2_43 + z2_58), 2.0f * (yz_43 + wx_43), 2.0f * (xz_43 + wy_43), 2.0f * (yz_43 - wx_43), 1.0f - 2.0f * (x2_43 + y2_43))));
    FixedArray<float3 , 7>  _S4324 = {
        _S4320, _S4320, _S4320, _S4320, _S4320, _S4320, _S4320
    };
    FixedArray<float, 7>  _S4325 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4326;
    (&_S4326)->p_0 = _S4324;
    (&_S4326)->w_mean_0 = _S4325;
    (&_S4326)->w_cov_0 = _S4325;
    (&_S4326)->p_0[int(0)] = dpmean_6;
    SigmaPoints_0 _S4327 = _S4326;
    (&_S4327)->w_mean_0[int(0)] = 0.0f;
    (&_S4327)->w_cov_0[int(0)] = 2.0f;
    float _S4328 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_84 = make_float3 (_S4328 * _S4321.x) * _S4323.rows[0U];
    float3  _S4329 = dpmean_6 + delta_84;
    float3  _S4330 = dpmean_6 - delta_84;
    float3  delta_85 = make_float3 (_S4328 * _S4321.y) * _S4323.rows[1U];
    float3  _S4331 = dpmean_6 + delta_85;
    float3  _S4332 = dpmean_6 - delta_85;
    float3  delta_86 = make_float3 (_S4328 * _S4321.z) * _S4323.rows[2U];
    float3  _S4333 = dpmean_6 + delta_86;
    float3  _S4334 = dpmean_6 - delta_86;
    (&_S4327)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4327)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4327)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4327)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4327)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4327)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4327)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4327)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4327)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4327)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4327)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4327)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4327)->p_0[0U] = s_primal_ctx_mul_0(dpR_6, _S4326.p_0[0U]) + dpt_5;
    (&_S4327)->p_0[1U] = s_primal_ctx_mul_0(dpR_6, _S4329) + dpt_5;
    (&_S4327)->p_0[2U] = s_primal_ctx_mul_0(dpR_6, _S4331) + dpt_5;
    (&_S4327)->p_0[3U] = s_primal_ctx_mul_0(dpR_6, _S4333) + dpt_5;
    (&_S4327)->p_0[4U] = s_primal_ctx_mul_0(dpR_6, _S4330) + dpt_5;
    (&_S4327)->p_0[5U] = s_primal_ctx_mul_0(dpR_6, _S4332) + dpt_5;
    (&_S4327)->p_0[6U] = s_primal_ctx_mul_0(dpR_6, _S4334) + dpt_5;
    float2  _S4335 = _S4319;
    Matrix<float, 2, 2>  _S4336 = _S4318;
    SigmaPoints_0 _S4337 = _S4327;
    bool _S4338 = persp_proj_3dgs_ut_1(&_S4337, intrins_38, dist_coeffs_54, image_width_39, image_height_39, &_S4336, &_S4335);
    _s_diff_ctx_18->_S4317 = _S4336;
    float2  _S4339 = _S4335;
    float _S4340 = _S4336.rows[int(0)].y * _S4336.rows[int(1)].x;
    float det_orig_38 = _S4336.rows[int(0)].x * _S4336.rows[int(1)].y - _S4340;
    float _S4341 = _S4336.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4342 = _S4336;
    *&(((&_S4342)->rows + (int(0)))->x) = _S4341;
    float _S4343 = _S4336.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4342)->rows + (int(1)))->y) = _S4343;
    Matrix<float, 2, 2>  _S4344 = _S4342;
    Matrix<float, 2, 2>  _S4345 = _S4342;
    float _S4346 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_38 / (_S4341 * _S4343 - _S4340)));
    float _S4347 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_4));
    float _S4348;
    if(antialiased_39)
    {
        _S4348 = _S4347 * _S4346;
    }
    else
    {
        _S4348 = _S4347;
    }
    float _S4349 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4348 / 0.00392156885936856f)));
    float radius_x_30 = _S4349 * s_primal_ctx_sqrt_0(_S4344.rows[int(0)].x);
    float radius_y_30 = _S4349 * s_primal_ctx_sqrt_0(_S4345.rows[int(1)].y);
    float _S4350 = _S4339.x;
    float _S4351 = _S4339.y;
    float _S4352 = mean_c_37.z;
    float _S4353 = s_primal_ctx_max_0(_S4352, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4352 + length_1(mean_c_37)));
    float3  _S4354 = s_primal_ctx_exp_0(- dpscale_5);
    float3  _S4355 = dpmean_6 - - s_primal_ctx_mul_0(transpose_0(dpR_6), dpt_5);
    float3  _S4356 = _S4355 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4355, _S4355)));
    float _S4357 = s_primal_ctx_dot_0((*dpsv_sites_4)[int(2)], _S4356);
    float _S4358 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(0)], _S4356) - _S4357);
    float _S4359 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(1)], _S4356) - _S4357);
    float _S4360 = s_primal_ctx_exp_1(0.0f);
    float3  _S4361 = s_primal_ctx_max_1((make_float3 (_S4358) * (*dpsv_colors_4)[int(0)] + make_float3 (_S4359) * (*dpsv_colors_4)[int(1)] + make_float3 (_S4360) * (*dpsv_colors_4)[int(2)]) / make_float3 (_S4358 + _S4359 + _S4360) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_30 = make_int4 (int((F32_floor((_S4350 - radius_x_30)))), int((F32_floor((_S4351 - radius_y_30)))), int((F32_ceil((_S4350 + radius_x_30)))), int((F32_ceil((_S4351 + radius_y_30)))));
    *dpmean2d_8 = _S4339;
    *dpdepth_5 = _S4353;
    *dpconic_4 = _S4354;
    *dpopacity_6 = _S4348;
    *dprgb_5 = _S4361;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(bool antialiased_40, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_7, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_6, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_6, DiffPair_float_0 * dpin_opacity_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_5, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_6, float fx_52, float fy_52, float cx_47, float cy_47, FixedArray<float, 10>  * dist_coeffs_55, uint image_width_40, uint image_height_40, float near_plane_33, float far_plane_33, float2  dpmean2d_9, float dpdepth_6, float3  dpconic_5, float dpopacity_7, float3  dprgb_6, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_19)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4362 = *dpmean_7;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4363 = *dpquat_6;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4364 = *dpscale_6;
    FixedArray<float3 , 3>  _S4365 = dpsv_sites_5->primal_0;
    FixedArray<float3 , 3>  _S4366 = dpsv_colors_5->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4367 = *dpR_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4368 = *dpt_6;
    float3  _S4369 = make_float3 (0.0f);
    float3  mean_c_38 = s_primal_ctx_mul_0((*dpR_7).primal_0, (*dpmean_7).primal_0) + (*dpt_6).primal_0;
    float3  _S4370 = s_primal_ctx_exp_0((*dpscale_6).primal_0);
    float _S4371 = (*dpquat_6).primal_0.y;
    float x2_44 = _S4371 * _S4371;
    float y2_44 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.z;
    float z2_59 = (*dpquat_6).primal_0.w * (*dpquat_6).primal_0.w;
    float xy_44 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.z;
    float xz_44 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.w;
    float yz_44 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.w;
    float wx_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.y;
    float wy_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.z;
    float wz_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.w;
    Matrix<float, 3, 3>  _S4372 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_44 + z2_59), 2.0f * (xy_44 + wz_44), 2.0f * (xz_44 - wy_44), 2.0f * (xy_44 - wz_44), 1.0f - 2.0f * (x2_44 + z2_59), 2.0f * (yz_44 + wx_44), 2.0f * (xz_44 + wy_44), 2.0f * (yz_44 - wx_44), 1.0f - 2.0f * (x2_44 + y2_44))));
    FixedArray<float3 , 7>  _S4373 = {
        _S4369, _S4369, _S4369, _S4369, _S4369, _S4369, _S4369
    };
    FixedArray<float, 7>  _S4374 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4375;
    (&_S4375)->p_0 = _S4373;
    (&_S4375)->w_mean_0 = _S4374;
    (&_S4375)->w_cov_0 = _S4374;
    (&_S4375)->p_0[int(0)] = (*dpmean_7).primal_0;
    float _S4376 = s_primal_ctx_sqrt_0(3.0f);
    float _S4377 = _S4376 * _S4370.x;
    float3  _S4378 = make_float3 (_S4377);
    float3  delta_87 = make_float3 (_S4377) * _S4372.rows[0U];
    float3  _S4379 = (*dpmean_7).primal_0 + delta_87;
    float3  _S4380 = (*dpmean_7).primal_0 - delta_87;
    float _S4381 = _S4376 * _S4370.y;
    float3  _S4382 = make_float3 (_S4381);
    float3  delta_88 = make_float3 (_S4381) * _S4372.rows[1U];
    float3  _S4383 = (*dpmean_7).primal_0 + delta_88;
    float3  _S4384 = (*dpmean_7).primal_0 - delta_88;
    float _S4385 = _S4376 * _S4370.z;
    float3  _S4386 = make_float3 (_S4385);
    float3  delta_89 = make_float3 (_S4385) * _S4372.rows[2U];
    float3  _S4387 = (*dpmean_7).primal_0 + delta_89;
    float3  _S4388 = (*dpmean_7).primal_0 - delta_89;
    SigmaPoints_0 _S4389 = _S4375;
    float _S4390 = *&(((&_s_diff_ctx_19->_S4317)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_19->_S4317)->rows + (int(1)))->x);
    float det_orig_39 = *&(((&_s_diff_ctx_19->_S4317)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_19->_S4317)->rows + (int(1)))->y) - _S4390;
    float _S4391 = *&(((&_s_diff_ctx_19->_S4317)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4392 = _s_diff_ctx_19->_S4317;
    *&(((&_S4392)->rows + (int(0)))->x) = _S4391;
    float _S4393 = *&(((&_s_diff_ctx_19->_S4317)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4392)->rows + (int(1)))->y) = _S4393;
    Matrix<float, 2, 2>  _S4394 = _S4392;
    Matrix<float, 2, 2>  _S4395 = _S4392;
    float det_blur_27 = _S4391 * _S4393 - _S4390;
    float _S4396 = det_orig_39 / det_blur_27;
    float _S4397 = det_blur_27 * det_blur_27;
    float _S4398 = s_primal_ctx_max_0(0.0f, _S4396);
    float _S4399 = s_primal_ctx_sqrt_0(_S4398);
    float _S4400 = - (*dpin_opacity_5).primal_0;
    float _S4401 = 1.0f + s_primal_ctx_exp_1(_S4400);
    float _S4402 = 1.0f / _S4401;
    float _S4403 = _S4401 * _S4401;
    float _S4404;
    if(antialiased_40)
    {
        _S4404 = _S4402 * _S4399;
    }
    else
    {
        _S4404 = _S4402;
    }
    float _S4405 = _S4404 / 0.00392156885936856f;
    float _S4406 = 2.0f * s_primal_ctx_log_0(_S4405);
    float _S4407 = s_primal_ctx_sqrt_0(_S4406);
    float _S4408 = _S4394.rows[int(0)].x;
    float _S4409 = _S4395.rows[int(1)].y;
    float _S4410 = mean_c_38.z;
    float _S4411 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4412 = _S4411 * (_S4410 + length_1(mean_c_38));
    float3  _S4413 = - _S4364.primal_0;
    Matrix<float, 3, 3>  _S4414 = transpose_0(_S4367.primal_0);
    float3  _S4415 = _S4362.primal_0 - - s_primal_ctx_mul_0(_S4414, _S4368.primal_0);
    float _S4416 = s_primal_ctx_dot_0(_S4415, _S4415);
    float _S4417 = s_primal_ctx_rsqrt_0(_S4416);
    float3  _S4418 = make_float3 (_S4417);
    float3  _S4419 = _S4415 * make_float3 (_S4417);
    float _S4420 = s_primal_ctx_dot_0(_S4365[int(2)], _S4419);
    float _S4421 = s_primal_ctx_dot_0(_S4365[int(0)], _S4419) - _S4420;
    float _S4422 = s_primal_ctx_exp_1(_S4421);
    float3  _S4423 = make_float3 (_S4422);
    float _S4424 = s_primal_ctx_dot_0(_S4365[int(1)], _S4419) - _S4420;
    float _S4425 = s_primal_ctx_exp_1(_S4424);
    float3  _S4426 = make_float3 (_S4425);
    float _S4427 = s_primal_ctx_exp_1(0.0f);
    float3  _S4428 = make_float3 (_S4427);
    float total_w_2 = _S4422 + _S4425 + _S4427;
    float3  _S4429 = make_float3 (total_w_2);
    float3  total_c_2 = make_float3 (_S4422) * _S4366[int(0)] + make_float3 (_S4425) * _S4366[int(1)] + make_float3 (_S4427) * _S4366[int(2)];
    float3  _S4430 = make_float3 (total_w_2 * total_w_2);
    float3  _S4431 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4432;
    (&_S4432)->primal_0 = total_c_2 / make_float3 (total_w_2) + make_float3 (0.5f);
    (&_S4432)->differential_0 = _S4369;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4433;
    (&_S4433)->primal_0 = _S4431;
    (&_S4433)->differential_0 = _S4369;
    s_bwd_prop_max_0(&_S4432, &_S4433, dprgb_6);
    float3  _S4434 = _S4432.differential_0 / _S4430;
    float3  _S4435 = total_c_2 * - _S4434;
    float3  s_diff_total_c_T_2 = _S4429 * _S4434;
    float3  _S4436 = _S4428 * s_diff_total_c_T_2;
    float _S4437 = _S4435.x + _S4435.y + _S4435.z;
    float3  _S4438 = _S4426 * s_diff_total_c_T_2;
    float3  _S4439 = _S4366[int(1)] * s_diff_total_c_T_2;
    float _S4440 = _S4437 + _S4439.x + _S4439.y + _S4439.z;
    DiffPair_float_0 _S4441;
    (&_S4441)->primal_0 = _S4424;
    (&_S4441)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4441, _S4440);
    float _S4442 = - _S4441.differential_0;
    float3  _S4443 = _S4423 * s_diff_total_c_T_2;
    float3  _S4444 = _S4366[int(0)] * s_diff_total_c_T_2;
    float _S4445 = _S4437 + _S4444.x + _S4444.y + _S4444.z;
    DiffPair_float_0 _S4446;
    (&_S4446)->primal_0 = _S4421;
    (&_S4446)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4446, _S4445);
    float _S4447 = _S4442 + - _S4446.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4448;
    (&_S4448)->primal_0 = _S4365[int(2)];
    (&_S4448)->differential_0 = _S4369;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4449;
    (&_S4449)->primal_0 = _S4419;
    (&_S4449)->differential_0 = _S4369;
    s_bwd_prop_dot_0(&_S4448, &_S4449, _S4447);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4450;
    (&_S4450)->primal_0 = _S4365[int(1)];
    (&_S4450)->differential_0 = _S4369;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4451;
    (&_S4451)->primal_0 = _S4419;
    (&_S4451)->differential_0 = _S4369;
    s_bwd_prop_dot_0(&_S4450, &_S4451, _S4441.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4452;
    (&_S4452)->primal_0 = _S4365[int(0)];
    (&_S4452)->differential_0 = _S4369;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4453;
    (&_S4453)->primal_0 = _S4419;
    (&_S4453)->differential_0 = _S4369;
    s_bwd_prop_dot_0(&_S4452, &_S4453, _S4446.differential_0);
    float3  _S4454 = _S4449.differential_0 + _S4451.differential_0 + _S4453.differential_0;
    float3  _S4455 = _S4415 * _S4454;
    float3  _S4456 = _S4418 * _S4454;
    float _S4457 = _S4455.x + _S4455.y + _S4455.z;
    DiffPair_float_0 _S4458;
    (&_S4458)->primal_0 = _S4416;
    (&_S4458)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4458, _S4457);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4459;
    (&_S4459)->primal_0 = _S4415;
    (&_S4459)->differential_0 = _S4369;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4460;
    (&_S4460)->primal_0 = _S4415;
    (&_S4460)->differential_0 = _S4369;
    s_bwd_prop_dot_0(&_S4459, &_S4460, _S4458.differential_0);
    float3  _S4461 = _S4456 + _S4460.differential_0 + _S4459.differential_0;
    float3  _S4462 = - - _S4461;
    Matrix<float, 3, 3>  _S4463 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4464;
    (&_S4464)->primal_0 = _S4414;
    (&_S4464)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4465;
    (&_S4465)->primal_0 = _S4368.primal_0;
    (&_S4465)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4464, &_S4465, _S4462);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4466 = _S4465;
    Matrix<float, 3, 3>  _S4467 = transpose_0(_S4464.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4468;
    (&_S4468)->primal_0 = _S4413;
    (&_S4468)->differential_0 = _S4369;
    s_bwd_prop_exp_1(&_S4468, dpconic_5);
    float3  _S4469 = - _S4468.differential_0;
    DiffPair_float_0 _S4470;
    (&_S4470)->primal_0 = _S4410;
    (&_S4470)->differential_0 = 0.0f;
    DiffPair_float_0 _S4471;
    (&_S4471)->primal_0 = _S4412;
    (&_S4471)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4470, &_S4471, dpdepth_6);
    float _S4472 = _S4411 * _S4471.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4473;
    (&_S4473)->primal_0 = mean_c_38;
    (&_S4473)->differential_0 = _S4369;
    s_bwd_length_impl_1(&_S4473, _S4472);
    float _S4474 = _S4470.differential_0 + _S4472;
    DiffPair_float_0 _S4475;
    (&_S4475)->primal_0 = _S4409;
    (&_S4475)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4475, 0.0f);
    DiffPair_float_0 _S4476;
    (&_S4476)->primal_0 = _S4408;
    (&_S4476)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4476, 0.0f);
    DiffPair_float_0 _S4477;
    (&_S4477)->primal_0 = 3.32999992370605469f;
    (&_S4477)->differential_0 = 0.0f;
    DiffPair_float_0 _S4478;
    (&_S4478)->primal_0 = _S4407;
    (&_S4478)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4477, &_S4478, 0.0f);
    DiffPair_float_0 _S4479;
    (&_S4479)->primal_0 = _S4406;
    (&_S4479)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4479, _S4478.differential_0);
    float _S4480 = 2.0f * _S4479.differential_0;
    DiffPair_float_0 _S4481;
    (&_S4481)->primal_0 = _S4405;
    (&_S4481)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4481, _S4480);
    float _S4482 = dpopacity_7 + 254.9999847412109375f * _S4481.differential_0;
    FixedArray<float3 , 3>  _S4483;
    _S4483[int(0)] = _S4369;
    _S4483[int(1)] = _S4369;
    _S4483[int(2)] = _S4369;
    _S4483[int(2)] = _S4436;
    _S4483[int(1)] = _S4438;
    _S4483[int(0)] = _S4443;
    FixedArray<float3 , 3>  _S4484 = {
        _S4483[int(0)], _S4483[int(1)], _S4483[int(2)]
    };
    FixedArray<float3 , 3>  _S4485;
    _S4485[int(0)] = _S4369;
    _S4485[int(1)] = _S4369;
    _S4485[int(2)] = _S4369;
    _S4485[int(2)] = _S4448.differential_0;
    _S4485[int(1)] = _S4450.differential_0;
    _S4485[int(0)] = _S4452.differential_0;
    FixedArray<float3 , 3>  _S4486 = {
        _S4485[int(0)], _S4485[int(1)], _S4485[int(2)]
    };
    float3  _S4487 = _S4473.differential_0 + make_float3 (0.0f, 0.0f, _S4474);
    float2  _S4488 = make_float2 (0.0f, _S4475.differential_0);
    float2  _S4489 = make_float2 (_S4476.differential_0, 0.0f);
    float _S4490;
    if(antialiased_40)
    {
        float _S4491 = _S4402 * _S4482;
        _S4404 = _S4399 * _S4482;
        _S4490 = _S4491;
    }
    else
    {
        _S4404 = _S4482;
        _S4490 = 0.0f;
    }
    float _S4492 = - (_S4404 / _S4403);
    DiffPair_float_0 _S4493;
    (&_S4493)->primal_0 = _S4400;
    (&_S4493)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4493, _S4492);
    float _S4494 = - _S4493.differential_0;
    DiffPair_float_0 _S4495;
    (&_S4495)->primal_0 = _S4398;
    (&_S4495)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4495, _S4490);
    DiffPair_float_0 _S4496;
    (&_S4496)->primal_0 = 0.0f;
    (&_S4496)->differential_0 = 0.0f;
    DiffPair_float_0 _S4497;
    (&_S4497)->primal_0 = _S4396;
    (&_S4497)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4496, &_S4497, _S4495.differential_0);
    float _S4498 = _S4497.differential_0 / _S4397;
    float s_diff_det_blur_T_4 = det_orig_39 * - _S4498;
    float s_diff_det_orig_T_7 = det_blur_27 * _S4498;
    float _S4499 = - s_diff_det_blur_T_4;
    float _S4500 = _S4391 * s_diff_det_blur_T_4;
    float _S4501 = _S4393 * s_diff_det_blur_T_4;
    Matrix<float, 2, 2>  _S4502 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4503 = _S4502;
    _S4503[int(1)] = _S4488;
    _S4503[int(0)] = _S4489;
    float _S4504 = _S4501 + _S4503.rows[int(0)].x;
    float _S4505 = _S4499 + - s_diff_det_orig_T_7;
    float _S4506 = *&(((&_s_diff_ctx_19->_S4317)->rows + (int(0)))->y) * _S4505;
    float _S4507 = *&(((&_s_diff_ctx_19->_S4317)->rows + (int(1)))->x) * _S4505;
    float _S4508 = *&(((&_s_diff_ctx_19->_S4317)->rows + (int(1)))->y) * s_diff_det_orig_T_7;
    float _S4509 = _S4500 + _S4503.rows[int(1)].y + *&(((&_s_diff_ctx_19->_S4317)->rows + (int(0)))->x) * s_diff_det_orig_T_7;
    float2  _S4510 = make_float2 (0.0f);
    float2  _S4511 = _S4510;
    *&((&_S4511)->x) = _S4506;
    *&((&_S4511)->y) = _S4509;
    float _S4512 = _S4504 + _S4508;
    float2  _S4513 = _S4510;
    *&((&_S4513)->y) = _S4507;
    *&((&_S4513)->x) = _S4512;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4514;
    (&_S4514)->primal_0 = _S4367.primal_0;
    (&_S4514)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4515;
    (&_S4515)->primal_0 = _S4388;
    (&_S4515)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4514, &_S4515, _S4369);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4516;
    (&_S4516)->primal_0 = _S4367.primal_0;
    (&_S4516)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4517;
    (&_S4517)->primal_0 = _S4384;
    (&_S4517)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4516, &_S4517, _S4369);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4518;
    (&_S4518)->primal_0 = _S4367.primal_0;
    (&_S4518)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4519;
    (&_S4519)->primal_0 = _S4380;
    (&_S4519)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4518, &_S4519, _S4369);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4520;
    (&_S4520)->primal_0 = _S4367.primal_0;
    (&_S4520)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4521;
    (&_S4521)->primal_0 = _S4387;
    (&_S4521)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4520, &_S4521, _S4369);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4522;
    (&_S4522)->primal_0 = _S4367.primal_0;
    (&_S4522)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4523;
    (&_S4523)->primal_0 = _S4383;
    (&_S4523)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4522, &_S4523, _S4369);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4524;
    (&_S4524)->primal_0 = _S4367.primal_0;
    (&_S4524)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4525;
    (&_S4525)->primal_0 = _S4379;
    (&_S4525)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4524, &_S4525, _S4369);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4526;
    (&_S4526)->primal_0 = _S4367.primal_0;
    (&_S4526)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4527;
    (&_S4527)->primal_0 = _S4389.p_0[0U];
    (&_S4527)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4526, &_S4527, _S4369);
    float3  _S4528 = - _S4515.differential_0 + _S4521.differential_0;
    float3  _S4529 = _S4386 * _S4528;
    float3  _S4530 = _S4372.rows[2U] * _S4528;
    float _S4531 = _S4376 * (_S4530.x + _S4530.y + _S4530.z);
    float3  _S4532 = - _S4517.differential_0 + _S4523.differential_0;
    float3  _S4533 = _S4382 * _S4532;
    float3  _S4534 = _S4372.rows[1U] * _S4532;
    float _S4535 = _S4376 * (_S4534.x + _S4534.y + _S4534.z);
    float3  _S4536 = - _S4519.differential_0 + _S4525.differential_0;
    float3  _S4537 = _S4378 * _S4536;
    float3  _S4538 = _S4372.rows[0U] * _S4536;
    float _S4539 = _S4376 * (_S4538.x + _S4538.y + _S4538.z);
    Matrix<float, 3, 3>  _S4540 = _S4463;
    _S4540[2U] = _S4529;
    _S4540[1U] = _S4533;
    _S4540[0U] = _S4537;
    Matrix<float, 3, 3>  _S4541 = transpose_0(transpose_0(_S4540));
    float _S4542 = 2.0f * - _S4541.rows[int(2)].z;
    float _S4543 = 2.0f * _S4541.rows[int(2)].y;
    float _S4544 = 2.0f * _S4541.rows[int(2)].x;
    float _S4545 = 2.0f * _S4541.rows[int(1)].z;
    float _S4546 = 2.0f * - _S4541.rows[int(1)].y;
    float _S4547 = 2.0f * _S4541.rows[int(1)].x;
    float _S4548 = 2.0f * _S4541.rows[int(0)].z;
    float _S4549 = 2.0f * _S4541.rows[int(0)].y;
    float _S4550 = 2.0f * - _S4541.rows[int(0)].x;
    float _S4551 = - _S4547 + _S4549;
    float _S4552 = _S4544 + - _S4548;
    float _S4553 = - _S4543 + _S4545;
    float _S4554 = _S4543 + _S4545;
    float _S4555 = _S4544 + _S4548;
    float _S4556 = _S4547 + _S4549;
    float _S4557 = _S4363.primal_0.w * (_S4546 + _S4550);
    float _S4558 = _S4363.primal_0.z * (_S4542 + _S4550);
    float _S4559 = _S4363.primal_0.y * (_S4542 + _S4546);
    float _S4560 = _S4363.primal_0.x * _S4551 + _S4363.primal_0.z * _S4554 + _S4363.primal_0.y * _S4555 + _S4557 + _S4557;
    float _S4561 = _S4363.primal_0.x * _S4552 + _S4363.primal_0.w * _S4554 + _S4363.primal_0.y * _S4556 + _S4558 + _S4558;
    float _S4562 = _S4363.primal_0.x * _S4553 + _S4363.primal_0.w * _S4555 + _S4363.primal_0.z * _S4556 + _S4559 + _S4559;
    float _S4563 = _S4363.primal_0.w * _S4551 + _S4363.primal_0.z * _S4552 + _S4363.primal_0.y * _S4553;
    float3  _S4564 = _S4369;
    *&((&_S4564)->z) = _S4531;
    *&((&_S4564)->y) = _S4535;
    *&((&_S4564)->x) = _S4539;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4565;
    (&_S4565)->primal_0 = _S4364.primal_0;
    (&_S4565)->differential_0 = _S4369;
    s_bwd_prop_exp_1(&_S4565, _S4564);
    Matrix<float, 2, 2>  _S4566 = _S4502;
    _S4566[int(1)] = _S4511;
    _S4566[int(0)] = _S4513;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4567;
    (&_S4567)->primal_0 = _S4367.primal_0;
    (&_S4567)->differential_0 = _S4463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4568;
    (&_S4568)->primal_0 = _S4362.primal_0;
    (&_S4568)->differential_0 = _S4369;
    s_bwd_prop_mul_1(&_S4567, &_S4568, _S4487);
    float3  _S4569 = _S4487 + _S4466.differential_0;
    dpt_6->primal_0 = (*dpt_6).primal_0;
    dpt_6->differential_0 = _S4569;
    Matrix<float, 3, 3>  _S4570 = _S4514.differential_0 + _S4516.differential_0 + _S4518.differential_0 + _S4520.differential_0 + _S4522.differential_0 + _S4524.differential_0 + _S4526.differential_0 + _S4567.differential_0 + _S4467;
    dpR_7->primal_0 = (*dpR_7).primal_0;
    dpR_7->differential_0 = _S4570;
    dpsv_colors_5->primal_0 = dpsv_colors_5->primal_0;
    dpsv_colors_5->differential_0 = _S4484;
    dpsv_sites_5->primal_0 = dpsv_sites_5->primal_0;
    dpsv_sites_5->differential_0 = _S4486;
    dpin_opacity_5->primal_0 = (*dpin_opacity_5).primal_0;
    dpin_opacity_5->differential_0 = _S4494;
    float3  _S4571 = _S4565.differential_0 + _S4469;
    dpscale_6->primal_0 = (*dpscale_6).primal_0;
    dpscale_6->differential_0 = _S4571;
    float4  _S4572 = make_float4 (0.0f);
    *&((&_S4572)->w) = _S4560;
    *&((&_S4572)->z) = _S4561;
    *&((&_S4572)->y) = _S4562;
    *&((&_S4572)->x) = _S4563;
    dpquat_6->primal_0 = (*dpquat_6).primal_0;
    dpquat_6->differential_0 = _S4572;
    float3  _S4573 = _S4515.differential_0 + _S4521.differential_0 + _S4517.differential_0 + _S4523.differential_0 + _S4519.differential_0 + _S4525.differential_0 + _S4568.differential_0 + _S4461;
    dpmean_7->primal_0 = (*dpmean_7).primal_0;
    dpmean_7->differential_0 = _S4573;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_1(bool _S4574, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4575, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4576, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4577, DiffPair_float_0 * _S4578, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4579, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4580, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4581, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4582, float _S4583, float _S4584, float _S4585, float _S4586, FixedArray<float, 10>  * _S4587, uint _S4588, uint _S4589, float _S4590, float _S4591, float2  _S4592, float _S4593, float3  _S4594, float _S4595, float3  _S4596)
{
    FixedArray<float3 , 3>  _S4597 = _S4579->primal_0;
    FixedArray<float3 , 3>  _S4598 = _S4580->primal_0;
    int4  _S4599;
    float2  _S4600;
    float _S4601;
    float3  _S4602;
    float _S4603;
    float3  _S4604;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S4605;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(_S4574, (*_S4575).primal_0, (*_S4576).primal_0, (*_S4577).primal_0, (*_S4578).primal_0, &_S4597, &_S4598, (*_S4581).primal_0, (*_S4582).primal_0, _S4583, _S4584, _S4585, _S4586, _S4587, _S4588, _S4589, _S4590, _S4591, &_S4599, &_S4600, &_S4601, &_S4602, &_S4603, &_S4604, &_S4605);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S4606 = _S4605;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(_S4574, _S4575, _S4576, _S4577, _S4578, _S4579, _S4580, _S4581, _S4582, _S4583, _S4584, _S4585, _S4586, _S4587, _S4588, _S4589, _S4590, _S4591, _S4592, _S4593, _S4594, _S4595, _S4596, &_S4606);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_41, float3  mean_40, float4  quat_41, float3  scale_40, float in_opacity_35, FixedArray<float3 , 3>  * sv_sites_20, FixedArray<float3 , 3>  * sv_colors_20, Matrix<float, 3, 3>  R_42, float3  t_38, float fx_53, float fy_53, float cx_48, float cy_48, FixedArray<float, 10>  * dist_coeffs_56, uint image_width_41, uint image_height_41, float2  v_mean2d_7, float v_depth_8, float3  v_conic_7, float v_opacity_9, float3  v_rgb_8, float3  * v_mean_9, float4  * v_quat_8, float3  * v_scale_8, float * v_in_opacity_7, FixedArray<float3 , 3>  * v_sv_dirs_2, FixedArray<float3 , 3>  * v_sv_colors_2, Matrix<float, 3, 3>  * v_R_9, float3  * v_t_8)
{
    float3  _S4607 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_4;
    (&dp_mean_4)->primal_0 = mean_40;
    (&dp_mean_4)->differential_0 = _S4607;
    float4  _S4608 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_3;
    (&dp_quat_3)->primal_0 = quat_41;
    (&dp_quat_3)->differential_0 = _S4608;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_3;
    (&dp_scale_3)->primal_0 = scale_40;
    (&dp_scale_3)->differential_0 = _S4607;
    DiffPair_float_0 dp_in_opacity_2;
    (&dp_in_opacity_2)->primal_0 = in_opacity_35;
    (&dp_in_opacity_2)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S4609 = { _S4607, _S4607, _S4607 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_2;
    (&dp_sv_dirs_2)->primal_0 = *sv_sites_20;
    (&dp_sv_dirs_2)->differential_0 = _S4609;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_2;
    (&dp_sv_colors_2)->primal_0 = *sv_colors_20;
    (&dp_sv_colors_2)->differential_0 = _S4609;
    Matrix<float, 3, 3>  _S4610 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_4;
    (&dp_R_4)->primal_0 = R_42;
    (&dp_R_4)->differential_0 = _S4610;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_3;
    (&dp_t_3)->primal_0 = t_38;
    (&dp_t_3)->differential_0 = _S4607;
    s_bwd_projection_3dgut_sv_persp_differentiable_1(antialiased_41, &dp_mean_4, &dp_quat_3, &dp_scale_3, &dp_in_opacity_2, &dp_sv_dirs_2, &dp_sv_colors_2, &dp_R_4, &dp_t_3, fx_53, fy_53, cx_48, cy_48, dist_coeffs_56, image_width_41, image_height_41, 0.0f, 1.00000001504746622e+30f, v_mean2d_7, v_depth_8, v_conic_7, v_opacity_9, v_rgb_8);
    *v_mean_9 = dp_mean_4.differential_0;
    *v_quat_8 = dp_quat_3.differential_0;
    *v_scale_8 = dp_scale_3.differential_0;
    *v_in_opacity_7 = dp_in_opacity_2.differential_0;
    *v_sv_dirs_2 = (&dp_sv_dirs_2)->differential_0;
    *v_sv_colors_2 = (&dp_sv_colors_2)->differential_0;
    *v_R_9 = dp_R_4.differential_0;
    *v_t_8 = dp_t_3.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S4611;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_42, float3  dpmean_8, float4  dpquat_7, float3  dpscale_7, float dpin_opacity_6, FixedArray<float3 , 3>  * dpsv_sites_6, FixedArray<float3 , 3>  * dpsv_colors_6, Matrix<float, 3, 3>  dpR_8, float3  dpt_7, float fx_54, float fy_54, float cx_49, float cy_49, FixedArray<float, 10>  * dist_coeffs_57, uint image_width_42, uint image_height_42, float near_plane_34, float far_plane_34, int4  * aabb_xyxy_31, float2  * dpmean2d_10, float * dpdepth_7, float3  * dpconic_6, float * dpopacity_8, float3  * dprgb_7, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_20)
{
    Matrix<float, 2, 2>  _S4612 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_20->_S4611 = _S4612;
    float2  _S4613 = make_float2 (0.0f);
    float3  _S4614 = make_float3 (0.0f);
    float3  mean_c_39 = s_primal_ctx_mul_0(dpR_8, dpmean_8) + dpt_7;
    float _S4615 = length_1(mean_c_39);
    float4  intrins_39 = make_float4 (fx_54, fy_54, cx_49, cy_49);
    float3  _S4616 = s_primal_ctx_exp_0(dpscale_7);
    float _S4617 = dpquat_7.y;
    float x2_45 = _S4617 * _S4617;
    float y2_45 = dpquat_7.z * dpquat_7.z;
    float z2_60 = dpquat_7.w * dpquat_7.w;
    float xy_45 = dpquat_7.y * dpquat_7.z;
    float xz_45 = dpquat_7.y * dpquat_7.w;
    float yz_45 = dpquat_7.z * dpquat_7.w;
    float wx_45 = dpquat_7.x * dpquat_7.y;
    float wy_45 = dpquat_7.x * dpquat_7.z;
    float wz_45 = dpquat_7.x * dpquat_7.w;
    Matrix<float, 3, 3>  _S4618 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_45 + z2_60), 2.0f * (xy_45 + wz_45), 2.0f * (xz_45 - wy_45), 2.0f * (xy_45 - wz_45), 1.0f - 2.0f * (x2_45 + z2_60), 2.0f * (yz_45 + wx_45), 2.0f * (xz_45 + wy_45), 2.0f * (yz_45 - wx_45), 1.0f - 2.0f * (x2_45 + y2_45))));
    FixedArray<float3 , 7>  _S4619 = {
        _S4614, _S4614, _S4614, _S4614, _S4614, _S4614, _S4614
    };
    FixedArray<float, 7>  _S4620 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4621;
    (&_S4621)->p_0 = _S4619;
    (&_S4621)->w_mean_0 = _S4620;
    (&_S4621)->w_cov_0 = _S4620;
    (&_S4621)->p_0[int(0)] = dpmean_8;
    SigmaPoints_0 _S4622 = _S4621;
    (&_S4622)->w_mean_0[int(0)] = 0.0f;
    (&_S4622)->w_cov_0[int(0)] = 2.0f;
    float _S4623 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_90 = make_float3 (_S4623 * _S4616.x) * _S4618.rows[0U];
    float3  _S4624 = dpmean_8 + delta_90;
    float3  _S4625 = dpmean_8 - delta_90;
    float3  delta_91 = make_float3 (_S4623 * _S4616.y) * _S4618.rows[1U];
    float3  _S4626 = dpmean_8 + delta_91;
    float3  _S4627 = dpmean_8 - delta_91;
    float3  delta_92 = make_float3 (_S4623 * _S4616.z) * _S4618.rows[2U];
    float3  _S4628 = dpmean_8 + delta_92;
    float3  _S4629 = dpmean_8 - delta_92;
    (&_S4622)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4622)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4622)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4622)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4622)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4622)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4622)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4622)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4622)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4622)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4622)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4622)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4622)->p_0[0U] = s_primal_ctx_mul_0(dpR_8, _S4621.p_0[0U]) + dpt_7;
    (&_S4622)->p_0[1U] = s_primal_ctx_mul_0(dpR_8, _S4624) + dpt_7;
    (&_S4622)->p_0[2U] = s_primal_ctx_mul_0(dpR_8, _S4626) + dpt_7;
    (&_S4622)->p_0[3U] = s_primal_ctx_mul_0(dpR_8, _S4628) + dpt_7;
    (&_S4622)->p_0[4U] = s_primal_ctx_mul_0(dpR_8, _S4625) + dpt_7;
    (&_S4622)->p_0[5U] = s_primal_ctx_mul_0(dpR_8, _S4627) + dpt_7;
    (&_S4622)->p_0[6U] = s_primal_ctx_mul_0(dpR_8, _S4629) + dpt_7;
    float2  _S4630 = _S4613;
    Matrix<float, 2, 2>  _S4631 = _S4612;
    SigmaPoints_0 _S4632 = _S4622;
    bool _S4633 = fisheye_proj_3dgs_ut_1(&_S4632, intrins_39, dist_coeffs_57, &_S4631, &_S4630);
    _s_diff_ctx_20->_S4611 = _S4631;
    float2  _S4634 = _S4630;
    float _S4635 = _S4631.rows[int(0)].y * _S4631.rows[int(1)].x;
    float det_orig_40 = _S4631.rows[int(0)].x * _S4631.rows[int(1)].y - _S4635;
    float _S4636 = _S4631.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4637 = _S4631;
    *&(((&_S4637)->rows + (int(0)))->x) = _S4636;
    float _S4638 = _S4631.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4637)->rows + (int(1)))->y) = _S4638;
    Matrix<float, 2, 2>  _S4639 = _S4637;
    Matrix<float, 2, 2>  _S4640 = _S4637;
    float _S4641 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_40 / (_S4636 * _S4638 - _S4635)));
    float _S4642 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_6));
    float _S4643;
    if(antialiased_42)
    {
        _S4643 = _S4642 * _S4641;
    }
    else
    {
        _S4643 = _S4642;
    }
    float _S4644 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4643 / 0.00392156885936856f)));
    float radius_x_31 = _S4644 * s_primal_ctx_sqrt_0(_S4639.rows[int(0)].x);
    float radius_y_31 = _S4644 * s_primal_ctx_sqrt_0(_S4640.rows[int(1)].y);
    float _S4645 = _S4634.x;
    float _S4646 = _S4634.y;
    float _S4647 = mean_c_39.z;
    float _S4648 = s_primal_ctx_max_0(_S4647, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4647 + _S4615));
    float3  _S4649 = s_primal_ctx_exp_0(- dpscale_7);
    float3  _S4650 = dpmean_8 - - s_primal_ctx_mul_0(transpose_0(dpR_8), dpt_7);
    float3  _S4651 = _S4650 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4650, _S4650)));
    float _S4652 = s_primal_ctx_dot_0((*dpsv_sites_6)[int(2)], _S4651);
    float _S4653 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(0)], _S4651) - _S4652);
    float _S4654 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(1)], _S4651) - _S4652);
    float _S4655 = s_primal_ctx_exp_1(0.0f);
    float3  _S4656 = s_primal_ctx_max_1((make_float3 (_S4653) * (*dpsv_colors_6)[int(0)] + make_float3 (_S4654) * (*dpsv_colors_6)[int(1)] + make_float3 (_S4655) * (*dpsv_colors_6)[int(2)]) / make_float3 (_S4653 + _S4654 + _S4655) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_31 = make_int4 (int((F32_floor((_S4645 - radius_x_31)))), int((F32_floor((_S4646 - radius_y_31)))), int((F32_ceil((_S4645 + radius_x_31)))), int((F32_ceil((_S4646 + radius_y_31)))));
    *dpmean2d_10 = _S4634;
    *dpdepth_7 = _S4648;
    *dpconic_6 = _S4649;
    *dpopacity_8 = _S4643;
    *dprgb_7 = _S4656;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_43, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_9, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_8, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_8, DiffPair_float_0 * dpin_opacity_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_7, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_9, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_8, float fx_55, float fy_55, float cx_50, float cy_50, FixedArray<float, 10>  * dist_coeffs_58, uint image_width_43, uint image_height_43, float near_plane_35, float far_plane_35, float2  dpmean2d_11, float dpdepth_8, float3  dpconic_7, float dpopacity_9, float3  dprgb_8, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_21)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4657 = *dpmean_9;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4658 = *dpquat_8;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4659 = *dpscale_8;
    FixedArray<float3 , 3>  _S4660 = dpsv_sites_7->primal_0;
    FixedArray<float3 , 3>  _S4661 = dpsv_colors_7->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4662 = *dpR_9;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4663 = *dpt_8;
    float3  _S4664 = make_float3 (0.0f);
    float3  mean_c_40 = s_primal_ctx_mul_0((*dpR_9).primal_0, (*dpmean_9).primal_0) + (*dpt_8).primal_0;
    float _S4665 = length_1(mean_c_40);
    float3  _S4666 = s_primal_ctx_exp_0((*dpscale_8).primal_0);
    float _S4667 = (*dpquat_8).primal_0.y;
    float x2_46 = _S4667 * _S4667;
    float y2_46 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.z;
    float z2_61 = (*dpquat_8).primal_0.w * (*dpquat_8).primal_0.w;
    float xy_46 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.z;
    float xz_46 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.w;
    float yz_46 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.w;
    float wx_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.y;
    float wy_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.z;
    float wz_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.w;
    Matrix<float, 3, 3>  _S4668 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_46 + z2_61), 2.0f * (xy_46 + wz_46), 2.0f * (xz_46 - wy_46), 2.0f * (xy_46 - wz_46), 1.0f - 2.0f * (x2_46 + z2_61), 2.0f * (yz_46 + wx_46), 2.0f * (xz_46 + wy_46), 2.0f * (yz_46 - wx_46), 1.0f - 2.0f * (x2_46 + y2_46))));
    FixedArray<float3 , 7>  _S4669 = {
        _S4664, _S4664, _S4664, _S4664, _S4664, _S4664, _S4664
    };
    FixedArray<float, 7>  _S4670 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4671;
    (&_S4671)->p_0 = _S4669;
    (&_S4671)->w_mean_0 = _S4670;
    (&_S4671)->w_cov_0 = _S4670;
    (&_S4671)->p_0[int(0)] = (*dpmean_9).primal_0;
    float _S4672 = s_primal_ctx_sqrt_0(3.0f);
    float _S4673 = _S4672 * _S4666.x;
    float3  _S4674 = make_float3 (_S4673);
    float3  delta_93 = make_float3 (_S4673) * _S4668.rows[0U];
    float3  _S4675 = (*dpmean_9).primal_0 + delta_93;
    float3  _S4676 = (*dpmean_9).primal_0 - delta_93;
    float _S4677 = _S4672 * _S4666.y;
    float3  _S4678 = make_float3 (_S4677);
    float3  delta_94 = make_float3 (_S4677) * _S4668.rows[1U];
    float3  _S4679 = (*dpmean_9).primal_0 + delta_94;
    float3  _S4680 = (*dpmean_9).primal_0 - delta_94;
    float _S4681 = _S4672 * _S4666.z;
    float3  _S4682 = make_float3 (_S4681);
    float3  delta_95 = make_float3 (_S4681) * _S4668.rows[2U];
    float3  _S4683 = (*dpmean_9).primal_0 + delta_95;
    float3  _S4684 = (*dpmean_9).primal_0 - delta_95;
    SigmaPoints_0 _S4685 = _S4671;
    float _S4686 = *&(((&_s_diff_ctx_21->_S4611)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_21->_S4611)->rows + (int(1)))->x);
    float det_orig_41 = *&(((&_s_diff_ctx_21->_S4611)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_21->_S4611)->rows + (int(1)))->y) - _S4686;
    float _S4687 = *&(((&_s_diff_ctx_21->_S4611)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4688 = _s_diff_ctx_21->_S4611;
    *&(((&_S4688)->rows + (int(0)))->x) = _S4687;
    float _S4689 = *&(((&_s_diff_ctx_21->_S4611)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4688)->rows + (int(1)))->y) = _S4689;
    Matrix<float, 2, 2>  _S4690 = _S4688;
    Matrix<float, 2, 2>  _S4691 = _S4688;
    float det_blur_28 = _S4687 * _S4689 - _S4686;
    float _S4692 = det_orig_41 / det_blur_28;
    float _S4693 = det_blur_28 * det_blur_28;
    float _S4694 = s_primal_ctx_max_0(0.0f, _S4692);
    float _S4695 = s_primal_ctx_sqrt_0(_S4694);
    float _S4696 = - (*dpin_opacity_7).primal_0;
    float _S4697 = 1.0f + s_primal_ctx_exp_1(_S4696);
    float _S4698 = 1.0f / _S4697;
    float _S4699 = _S4697 * _S4697;
    float _S4700;
    if(antialiased_43)
    {
        _S4700 = _S4698 * _S4695;
    }
    else
    {
        _S4700 = _S4698;
    }
    float _S4701 = _S4700 / 0.00392156885936856f;
    float _S4702 = 2.0f * s_primal_ctx_log_0(_S4701);
    float _S4703 = s_primal_ctx_sqrt_0(_S4702);
    float _S4704 = _S4690.rows[int(0)].x;
    float _S4705 = _S4691.rows[int(1)].y;
    float _S4706 = mean_c_40.z;
    float _S4707 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4708 = _S4707 * (_S4706 + _S4665);
    float3  _S4709 = - _S4659.primal_0;
    Matrix<float, 3, 3>  _S4710 = transpose_0(_S4662.primal_0);
    float3  _S4711 = _S4657.primal_0 - - s_primal_ctx_mul_0(_S4710, _S4663.primal_0);
    float _S4712 = s_primal_ctx_dot_0(_S4711, _S4711);
    float _S4713 = s_primal_ctx_rsqrt_0(_S4712);
    float3  _S4714 = make_float3 (_S4713);
    float3  _S4715 = _S4711 * make_float3 (_S4713);
    float _S4716 = s_primal_ctx_dot_0(_S4660[int(2)], _S4715);
    float _S4717 = s_primal_ctx_dot_0(_S4660[int(0)], _S4715) - _S4716;
    float _S4718 = s_primal_ctx_exp_1(_S4717);
    float3  _S4719 = make_float3 (_S4718);
    float _S4720 = s_primal_ctx_dot_0(_S4660[int(1)], _S4715) - _S4716;
    float _S4721 = s_primal_ctx_exp_1(_S4720);
    float3  _S4722 = make_float3 (_S4721);
    float _S4723 = s_primal_ctx_exp_1(0.0f);
    float3  _S4724 = make_float3 (_S4723);
    float total_w_3 = _S4718 + _S4721 + _S4723;
    float3  _S4725 = make_float3 (total_w_3);
    float3  total_c_3 = make_float3 (_S4718) * _S4661[int(0)] + make_float3 (_S4721) * _S4661[int(1)] + make_float3 (_S4723) * _S4661[int(2)];
    float3  _S4726 = make_float3 (total_w_3 * total_w_3);
    float3  _S4727 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4728;
    (&_S4728)->primal_0 = total_c_3 / make_float3 (total_w_3) + make_float3 (0.5f);
    (&_S4728)->differential_0 = _S4664;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4729;
    (&_S4729)->primal_0 = _S4727;
    (&_S4729)->differential_0 = _S4664;
    s_bwd_prop_max_0(&_S4728, &_S4729, dprgb_8);
    float3  _S4730 = _S4728.differential_0 / _S4726;
    float3  _S4731 = total_c_3 * - _S4730;
    float3  s_diff_total_c_T_3 = _S4725 * _S4730;
    float3  _S4732 = _S4724 * s_diff_total_c_T_3;
    float _S4733 = _S4731.x + _S4731.y + _S4731.z;
    float3  _S4734 = _S4722 * s_diff_total_c_T_3;
    float3  _S4735 = _S4661[int(1)] * s_diff_total_c_T_3;
    float _S4736 = _S4733 + _S4735.x + _S4735.y + _S4735.z;
    DiffPair_float_0 _S4737;
    (&_S4737)->primal_0 = _S4720;
    (&_S4737)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4737, _S4736);
    float _S4738 = - _S4737.differential_0;
    float3  _S4739 = _S4719 * s_diff_total_c_T_3;
    float3  _S4740 = _S4661[int(0)] * s_diff_total_c_T_3;
    float _S4741 = _S4733 + _S4740.x + _S4740.y + _S4740.z;
    DiffPair_float_0 _S4742;
    (&_S4742)->primal_0 = _S4717;
    (&_S4742)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4742, _S4741);
    float _S4743 = _S4738 + - _S4742.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4744;
    (&_S4744)->primal_0 = _S4660[int(2)];
    (&_S4744)->differential_0 = _S4664;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4745;
    (&_S4745)->primal_0 = _S4715;
    (&_S4745)->differential_0 = _S4664;
    s_bwd_prop_dot_0(&_S4744, &_S4745, _S4743);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4746;
    (&_S4746)->primal_0 = _S4660[int(1)];
    (&_S4746)->differential_0 = _S4664;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4747;
    (&_S4747)->primal_0 = _S4715;
    (&_S4747)->differential_0 = _S4664;
    s_bwd_prop_dot_0(&_S4746, &_S4747, _S4737.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4748;
    (&_S4748)->primal_0 = _S4660[int(0)];
    (&_S4748)->differential_0 = _S4664;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4749;
    (&_S4749)->primal_0 = _S4715;
    (&_S4749)->differential_0 = _S4664;
    s_bwd_prop_dot_0(&_S4748, &_S4749, _S4742.differential_0);
    float3  _S4750 = _S4745.differential_0 + _S4747.differential_0 + _S4749.differential_0;
    float3  _S4751 = _S4711 * _S4750;
    float3  _S4752 = _S4714 * _S4750;
    float _S4753 = _S4751.x + _S4751.y + _S4751.z;
    DiffPair_float_0 _S4754;
    (&_S4754)->primal_0 = _S4712;
    (&_S4754)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4754, _S4753);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4755;
    (&_S4755)->primal_0 = _S4711;
    (&_S4755)->differential_0 = _S4664;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4756;
    (&_S4756)->primal_0 = _S4711;
    (&_S4756)->differential_0 = _S4664;
    s_bwd_prop_dot_0(&_S4755, &_S4756, _S4754.differential_0);
    float3  _S4757 = _S4752 + _S4756.differential_0 + _S4755.differential_0;
    float3  _S4758 = - - _S4757;
    Matrix<float, 3, 3>  _S4759 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4760;
    (&_S4760)->primal_0 = _S4710;
    (&_S4760)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4761;
    (&_S4761)->primal_0 = _S4663.primal_0;
    (&_S4761)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4760, &_S4761, _S4758);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4762 = _S4761;
    Matrix<float, 3, 3>  _S4763 = transpose_0(_S4760.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4764;
    (&_S4764)->primal_0 = _S4709;
    (&_S4764)->differential_0 = _S4664;
    s_bwd_prop_exp_1(&_S4764, dpconic_7);
    float3  _S4765 = - _S4764.differential_0;
    DiffPair_float_0 _S4766;
    (&_S4766)->primal_0 = _S4706;
    (&_S4766)->differential_0 = 0.0f;
    DiffPair_float_0 _S4767;
    (&_S4767)->primal_0 = _S4708;
    (&_S4767)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4766, &_S4767, dpdepth_8);
    float _S4768 = _S4707 * _S4767.differential_0;
    float _S4769 = _S4766.differential_0 + _S4768;
    DiffPair_float_0 _S4770;
    (&_S4770)->primal_0 = _S4705;
    (&_S4770)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4770, 0.0f);
    DiffPair_float_0 _S4771;
    (&_S4771)->primal_0 = _S4704;
    (&_S4771)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4771, 0.0f);
    DiffPair_float_0 _S4772;
    (&_S4772)->primal_0 = 3.32999992370605469f;
    (&_S4772)->differential_0 = 0.0f;
    DiffPair_float_0 _S4773;
    (&_S4773)->primal_0 = _S4703;
    (&_S4773)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4772, &_S4773, 0.0f);
    DiffPair_float_0 _S4774;
    (&_S4774)->primal_0 = _S4702;
    (&_S4774)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4774, _S4773.differential_0);
    float _S4775 = 2.0f * _S4774.differential_0;
    DiffPair_float_0 _S4776;
    (&_S4776)->primal_0 = _S4701;
    (&_S4776)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4776, _S4775);
    float _S4777 = dpopacity_9 + 254.9999847412109375f * _S4776.differential_0;
    FixedArray<float3 , 3>  _S4778;
    _S4778[int(0)] = _S4664;
    _S4778[int(1)] = _S4664;
    _S4778[int(2)] = _S4664;
    _S4778[int(2)] = _S4732;
    _S4778[int(1)] = _S4734;
    _S4778[int(0)] = _S4739;
    FixedArray<float3 , 3>  _S4779 = {
        _S4778[int(0)], _S4778[int(1)], _S4778[int(2)]
    };
    FixedArray<float3 , 3>  _S4780;
    _S4780[int(0)] = _S4664;
    _S4780[int(1)] = _S4664;
    _S4780[int(2)] = _S4664;
    _S4780[int(2)] = _S4744.differential_0;
    _S4780[int(1)] = _S4746.differential_0;
    _S4780[int(0)] = _S4748.differential_0;
    FixedArray<float3 , 3>  _S4781 = {
        _S4780[int(0)], _S4780[int(1)], _S4780[int(2)]
    };
    float3  _S4782 = make_float3 (0.0f, 0.0f, _S4769);
    float2  _S4783 = make_float2 (0.0f, _S4770.differential_0);
    float2  _S4784 = make_float2 (_S4771.differential_0, 0.0f);
    float _S4785;
    if(antialiased_43)
    {
        float _S4786 = _S4698 * _S4777;
        _S4700 = _S4695 * _S4777;
        _S4785 = _S4786;
    }
    else
    {
        _S4700 = _S4777;
        _S4785 = 0.0f;
    }
    float _S4787 = - (_S4700 / _S4699);
    DiffPair_float_0 _S4788;
    (&_S4788)->primal_0 = _S4696;
    (&_S4788)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4788, _S4787);
    float _S4789 = - _S4788.differential_0;
    DiffPair_float_0 _S4790;
    (&_S4790)->primal_0 = _S4694;
    (&_S4790)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4790, _S4785);
    DiffPair_float_0 _S4791;
    (&_S4791)->primal_0 = 0.0f;
    (&_S4791)->differential_0 = 0.0f;
    DiffPair_float_0 _S4792;
    (&_S4792)->primal_0 = _S4692;
    (&_S4792)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4791, &_S4792, _S4790.differential_0);
    float _S4793 = _S4792.differential_0 / _S4693;
    float s_diff_det_blur_T_5 = det_orig_41 * - _S4793;
    float s_diff_det_orig_T_8 = det_blur_28 * _S4793;
    float _S4794 = - s_diff_det_blur_T_5;
    float _S4795 = _S4687 * s_diff_det_blur_T_5;
    float _S4796 = _S4689 * s_diff_det_blur_T_5;
    Matrix<float, 2, 2>  _S4797 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4798 = _S4797;
    _S4798[int(1)] = _S4783;
    _S4798[int(0)] = _S4784;
    float _S4799 = _S4796 + _S4798.rows[int(0)].x;
    float _S4800 = _S4794 + - s_diff_det_orig_T_8;
    float _S4801 = *&(((&_s_diff_ctx_21->_S4611)->rows + (int(0)))->y) * _S4800;
    float _S4802 = *&(((&_s_diff_ctx_21->_S4611)->rows + (int(1)))->x) * _S4800;
    float _S4803 = *&(((&_s_diff_ctx_21->_S4611)->rows + (int(1)))->y) * s_diff_det_orig_T_8;
    float _S4804 = _S4795 + _S4798.rows[int(1)].y + *&(((&_s_diff_ctx_21->_S4611)->rows + (int(0)))->x) * s_diff_det_orig_T_8;
    float2  _S4805 = make_float2 (0.0f);
    float2  _S4806 = _S4805;
    *&((&_S4806)->x) = _S4801;
    *&((&_S4806)->y) = _S4804;
    float _S4807 = _S4799 + _S4803;
    float2  _S4808 = _S4805;
    *&((&_S4808)->y) = _S4802;
    *&((&_S4808)->x) = _S4807;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4809;
    (&_S4809)->primal_0 = _S4662.primal_0;
    (&_S4809)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4810;
    (&_S4810)->primal_0 = _S4684;
    (&_S4810)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4809, &_S4810, _S4664);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4811;
    (&_S4811)->primal_0 = _S4662.primal_0;
    (&_S4811)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4812;
    (&_S4812)->primal_0 = _S4680;
    (&_S4812)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4811, &_S4812, _S4664);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4813;
    (&_S4813)->primal_0 = _S4662.primal_0;
    (&_S4813)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4814;
    (&_S4814)->primal_0 = _S4676;
    (&_S4814)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4813, &_S4814, _S4664);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4815;
    (&_S4815)->primal_0 = _S4662.primal_0;
    (&_S4815)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4816;
    (&_S4816)->primal_0 = _S4683;
    (&_S4816)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4815, &_S4816, _S4664);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4817;
    (&_S4817)->primal_0 = _S4662.primal_0;
    (&_S4817)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4818;
    (&_S4818)->primal_0 = _S4679;
    (&_S4818)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4817, &_S4818, _S4664);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4819;
    (&_S4819)->primal_0 = _S4662.primal_0;
    (&_S4819)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4820;
    (&_S4820)->primal_0 = _S4675;
    (&_S4820)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4819, &_S4820, _S4664);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4821;
    (&_S4821)->primal_0 = _S4662.primal_0;
    (&_S4821)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4822;
    (&_S4822)->primal_0 = _S4685.p_0[0U];
    (&_S4822)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4821, &_S4822, _S4664);
    float3  _S4823 = - _S4810.differential_0 + _S4816.differential_0;
    float3  _S4824 = _S4682 * _S4823;
    float3  _S4825 = _S4668.rows[2U] * _S4823;
    float _S4826 = _S4672 * (_S4825.x + _S4825.y + _S4825.z);
    float3  _S4827 = - _S4812.differential_0 + _S4818.differential_0;
    float3  _S4828 = _S4678 * _S4827;
    float3  _S4829 = _S4668.rows[1U] * _S4827;
    float _S4830 = _S4672 * (_S4829.x + _S4829.y + _S4829.z);
    float3  _S4831 = - _S4814.differential_0 + _S4820.differential_0;
    float3  _S4832 = _S4674 * _S4831;
    float3  _S4833 = _S4668.rows[0U] * _S4831;
    float _S4834 = _S4672 * (_S4833.x + _S4833.y + _S4833.z);
    Matrix<float, 3, 3>  _S4835 = _S4759;
    _S4835[2U] = _S4824;
    _S4835[1U] = _S4828;
    _S4835[0U] = _S4832;
    Matrix<float, 3, 3>  _S4836 = transpose_0(transpose_0(_S4835));
    float _S4837 = 2.0f * - _S4836.rows[int(2)].z;
    float _S4838 = 2.0f * _S4836.rows[int(2)].y;
    float _S4839 = 2.0f * _S4836.rows[int(2)].x;
    float _S4840 = 2.0f * _S4836.rows[int(1)].z;
    float _S4841 = 2.0f * - _S4836.rows[int(1)].y;
    float _S4842 = 2.0f * _S4836.rows[int(1)].x;
    float _S4843 = 2.0f * _S4836.rows[int(0)].z;
    float _S4844 = 2.0f * _S4836.rows[int(0)].y;
    float _S4845 = 2.0f * - _S4836.rows[int(0)].x;
    float _S4846 = - _S4842 + _S4844;
    float _S4847 = _S4839 + - _S4843;
    float _S4848 = - _S4838 + _S4840;
    float _S4849 = _S4838 + _S4840;
    float _S4850 = _S4839 + _S4843;
    float _S4851 = _S4842 + _S4844;
    float _S4852 = _S4658.primal_0.w * (_S4841 + _S4845);
    float _S4853 = _S4658.primal_0.z * (_S4837 + _S4845);
    float _S4854 = _S4658.primal_0.y * (_S4837 + _S4841);
    float _S4855 = _S4658.primal_0.x * _S4846 + _S4658.primal_0.z * _S4849 + _S4658.primal_0.y * _S4850 + _S4852 + _S4852;
    float _S4856 = _S4658.primal_0.x * _S4847 + _S4658.primal_0.w * _S4849 + _S4658.primal_0.y * _S4851 + _S4853 + _S4853;
    float _S4857 = _S4658.primal_0.x * _S4848 + _S4658.primal_0.w * _S4850 + _S4658.primal_0.z * _S4851 + _S4854 + _S4854;
    float _S4858 = _S4658.primal_0.w * _S4846 + _S4658.primal_0.z * _S4847 + _S4658.primal_0.y * _S4848;
    float3  _S4859 = _S4664;
    *&((&_S4859)->z) = _S4826;
    *&((&_S4859)->y) = _S4830;
    *&((&_S4859)->x) = _S4834;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4860;
    (&_S4860)->primal_0 = _S4659.primal_0;
    (&_S4860)->differential_0 = _S4664;
    s_bwd_prop_exp_1(&_S4860, _S4859);
    Matrix<float, 2, 2>  _S4861 = _S4797;
    _S4861[int(1)] = _S4806;
    _S4861[int(0)] = _S4808;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4862;
    (&_S4862)->primal_0 = mean_c_40;
    (&_S4862)->differential_0 = _S4664;
    s_bwd_length_impl_1(&_S4862, _S4768);
    float3  _S4863 = _S4862.differential_0 + _S4782;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4864;
    (&_S4864)->primal_0 = _S4662.primal_0;
    (&_S4864)->differential_0 = _S4759;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4865;
    (&_S4865)->primal_0 = _S4657.primal_0;
    (&_S4865)->differential_0 = _S4664;
    s_bwd_prop_mul_1(&_S4864, &_S4865, _S4863);
    float3  _S4866 = _S4863 + _S4762.differential_0;
    dpt_8->primal_0 = (*dpt_8).primal_0;
    dpt_8->differential_0 = _S4866;
    Matrix<float, 3, 3>  _S4867 = _S4809.differential_0 + _S4811.differential_0 + _S4813.differential_0 + _S4815.differential_0 + _S4817.differential_0 + _S4819.differential_0 + _S4821.differential_0 + _S4864.differential_0 + _S4763;
    dpR_9->primal_0 = (*dpR_9).primal_0;
    dpR_9->differential_0 = _S4867;
    dpsv_colors_7->primal_0 = dpsv_colors_7->primal_0;
    dpsv_colors_7->differential_0 = _S4779;
    dpsv_sites_7->primal_0 = dpsv_sites_7->primal_0;
    dpsv_sites_7->differential_0 = _S4781;
    dpin_opacity_7->primal_0 = (*dpin_opacity_7).primal_0;
    dpin_opacity_7->differential_0 = _S4789;
    float3  _S4868 = _S4860.differential_0 + _S4765;
    dpscale_8->primal_0 = (*dpscale_8).primal_0;
    dpscale_8->differential_0 = _S4868;
    float4  _S4869 = make_float4 (0.0f);
    *&((&_S4869)->w) = _S4855;
    *&((&_S4869)->z) = _S4856;
    *&((&_S4869)->y) = _S4857;
    *&((&_S4869)->x) = _S4858;
    dpquat_8->primal_0 = (*dpquat_8).primal_0;
    dpquat_8->differential_0 = _S4869;
    float3  _S4870 = _S4810.differential_0 + _S4816.differential_0 + _S4812.differential_0 + _S4818.differential_0 + _S4814.differential_0 + _S4820.differential_0 + _S4865.differential_0 + _S4757;
    dpmean_9->primal_0 = (*dpmean_9).primal_0;
    dpmean_9->differential_0 = _S4870;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_1(bool _S4871, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4872, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4873, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4874, DiffPair_float_0 * _S4875, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4876, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4877, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4878, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4879, float _S4880, float _S4881, float _S4882, float _S4883, FixedArray<float, 10>  * _S4884, uint _S4885, uint _S4886, float _S4887, float _S4888, float2  _S4889, float _S4890, float3  _S4891, float _S4892, float3  _S4893)
{
    FixedArray<float3 , 3>  _S4894 = _S4876->primal_0;
    FixedArray<float3 , 3>  _S4895 = _S4877->primal_0;
    int4  _S4896;
    float2  _S4897;
    float _S4898;
    float3  _S4899;
    float _S4900;
    float3  _S4901;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S4902;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(_S4871, (*_S4872).primal_0, (*_S4873).primal_0, (*_S4874).primal_0, (*_S4875).primal_0, &_S4894, &_S4895, (*_S4878).primal_0, (*_S4879).primal_0, _S4880, _S4881, _S4882, _S4883, _S4884, _S4885, _S4886, _S4887, _S4888, &_S4896, &_S4897, &_S4898, &_S4899, &_S4900, &_S4901, &_S4902);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S4903 = _S4902;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(_S4871, _S4872, _S4873, _S4874, _S4875, _S4876, _S4877, _S4878, _S4879, _S4880, _S4881, _S4882, _S4883, _S4884, _S4885, _S4886, _S4887, _S4888, _S4889, _S4890, _S4891, _S4892, _S4893, &_S4903);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_44, float3  mean_41, float4  quat_42, float3  scale_41, float in_opacity_36, FixedArray<float3 , 3>  * sv_sites_21, FixedArray<float3 , 3>  * sv_colors_21, Matrix<float, 3, 3>  R_43, float3  t_39, float fx_56, float fy_56, float cx_51, float cy_51, FixedArray<float, 10>  * dist_coeffs_59, uint image_width_44, uint image_height_44, float2  v_mean2d_8, float v_depth_9, float3  v_conic_8, float v_opacity_10, float3  v_rgb_9, float3  * v_mean_10, float4  * v_quat_9, float3  * v_scale_9, float * v_in_opacity_8, FixedArray<float3 , 3>  * v_sv_dirs_3, FixedArray<float3 , 3>  * v_sv_colors_3, Matrix<float, 3, 3>  * v_R_10, float3  * v_t_9)
{
    float3  _S4904 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_5;
    (&dp_mean_5)->primal_0 = mean_41;
    (&dp_mean_5)->differential_0 = _S4904;
    float4  _S4905 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_4;
    (&dp_quat_4)->primal_0 = quat_42;
    (&dp_quat_4)->differential_0 = _S4905;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_4;
    (&dp_scale_4)->primal_0 = scale_41;
    (&dp_scale_4)->differential_0 = _S4904;
    DiffPair_float_0 dp_in_opacity_3;
    (&dp_in_opacity_3)->primal_0 = in_opacity_36;
    (&dp_in_opacity_3)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S4906 = { _S4904, _S4904, _S4904 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_3;
    (&dp_sv_dirs_3)->primal_0 = *sv_sites_21;
    (&dp_sv_dirs_3)->differential_0 = _S4906;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_3;
    (&dp_sv_colors_3)->primal_0 = *sv_colors_21;
    (&dp_sv_colors_3)->differential_0 = _S4906;
    Matrix<float, 3, 3>  _S4907 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_5;
    (&dp_R_5)->primal_0 = R_43;
    (&dp_R_5)->differential_0 = _S4907;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_4;
    (&dp_t_4)->primal_0 = t_39;
    (&dp_t_4)->differential_0 = _S4904;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_1(antialiased_44, &dp_mean_5, &dp_quat_4, &dp_scale_4, &dp_in_opacity_3, &dp_sv_dirs_3, &dp_sv_colors_3, &dp_R_5, &dp_t_4, fx_56, fy_56, cx_51, cy_51, dist_coeffs_59, image_width_44, image_height_44, 0.0f, 1.00000001504746622e+30f, v_mean2d_8, v_depth_9, v_conic_8, v_opacity_10, v_rgb_9);
    *v_mean_10 = dp_mean_5.differential_0;
    *v_quat_9 = dp_quat_4.differential_0;
    *v_scale_9 = dp_scale_4.differential_0;
    *v_in_opacity_8 = dp_in_opacity_3.differential_0;
    *v_sv_dirs_3 = (&dp_sv_dirs_3)->differential_0;
    *v_sv_colors_3 = (&dp_sv_colors_3)->differential_0;
    *v_R_10 = dp_R_5.differential_0;
    *v_t_9 = dp_t_4.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_45, float3  mean_42, float4  quat_43, float3  scale_42, float in_opacity_37, FixedArray<float3 , 4>  * sv_sites_22, FixedArray<float3 , 4>  * sv_colors_22, Matrix<float, 3, 3>  R_44, float3  t_40, float fx_57, float fy_57, float cx_52, float cy_52, FixedArray<float, 10>  * dist_coeffs_60, uint image_width_45, uint image_height_45, float near_plane_36, float far_plane_36, int4  * aabb_xyxy_32, float2  * mean2d_37, float * depth_29, float3  * conic_28, float * opacity_32, float3  * rgb_30)
{
    float3  mean_c_41 = mul_0(R_44, mean_42) + t_40;
    float4  intrins_40 = make_float4 (fx_57, fy_57, cx_52, cy_52);
    float3  _S4908 = exp_0(scale_42);
    float x_59 = quat_43.y;
    float x2_47 = x_59 * x_59;
    float y2_47 = quat_43.z * quat_43.z;
    float z2_62 = quat_43.w * quat_43.w;
    float xy_47 = quat_43.y * quat_43.z;
    float xz_47 = quat_43.y * quat_43.w;
    float yz_47 = quat_43.z * quat_43.w;
    float wx_47 = quat_43.x * quat_43.y;
    float wy_47 = quat_43.x * quat_43.z;
    float wz_47 = quat_43.x * quat_43.w;
    Matrix<float, 3, 3>  _S4909 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_47 + z2_62), 2.0f * (xy_47 + wz_47), 2.0f * (xz_47 - wy_47), 2.0f * (xy_47 - wz_47), 1.0f - 2.0f * (x2_47 + z2_62), 2.0f * (yz_47 + wx_47), 2.0f * (xz_47 + wy_47), 2.0f * (yz_47 - wx_47), 1.0f - 2.0f * (x2_47 + y2_47))));
    SigmaPoints_0 ret_22;
    (&ret_22)->p_0[int(0)] = mean_42;
    (&ret_22)->w_mean_0[int(0)] = 0.0f;
    (&ret_22)->w_cov_0[int(0)] = 2.0f;
    float _S4910 = (F32_sqrt((3.0f)));
    float3  delta_96 = make_float3 (_S4910 * _S4908.x) * _S4909.rows[0U];
    float3  _S4911 = mean_42 + delta_96;
    float3  _S4912 = mean_42 - delta_96;
    float3  delta_97 = make_float3 (_S4910 * _S4908.y) * _S4909.rows[1U];
    float3  _S4913 = mean_42 + delta_97;
    float3  _S4914 = mean_42 - delta_97;
    float3  delta_98 = make_float3 (_S4910 * _S4908.z) * _S4909.rows[2U];
    float3  _S4915 = mean_42 + delta_98;
    float3  _S4916 = mean_42 - delta_98;
    (&ret_22)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_22)->p_0[0U] = mul_0(R_44, (&ret_22)->p_0[0U]) + t_40;
    (&ret_22)->p_0[1U] = mul_0(R_44, _S4911) + t_40;
    (&ret_22)->p_0[2U] = mul_0(R_44, _S4913) + t_40;
    (&ret_22)->p_0[3U] = mul_0(R_44, _S4915) + t_40;
    (&ret_22)->p_0[4U] = mul_0(R_44, _S4912) + t_40;
    (&ret_22)->p_0[5U] = mul_0(R_44, _S4914) + t_40;
    (&ret_22)->p_0[6U] = mul_0(R_44, _S4916) + t_40;
    SigmaPoints_0 _S4917 = ret_22;
    Matrix<float, 2, 2>  covar2d_28;
    bool _S4918 = persp_proj_3dgs_ut_1(&_S4917, intrins_40, dist_coeffs_60, image_width_45, image_height_45, &covar2d_28, mean2d_37);
    float det_orig_42 = *&(((&covar2d_28)->rows + (int(0)))->x) * *&(((&covar2d_28)->rows + (int(1)))->y) - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x);
    float _S4919 = *&(((&covar2d_28)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(0)))->x) = _S4919;
    float _S4920 = *&(((&covar2d_28)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(1)))->y) = _S4920;
    float compensation_29 = (F32_sqrt(((F32_max((0.0f), (det_orig_42 / (_S4919 * _S4920 - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x))))))));
    *opacity_32 = 1.0f / (1.0f + (F32_exp((- in_opacity_37))));
    if(antialiased_45)
    {
        *opacity_32 = *opacity_32 * compensation_29;
    }
    float extend_28 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_32 / 0.00392156885936856f)))))))));
    float radius_x_32 = extend_28 * (F32_sqrt((covar2d_28[int(0)].x)));
    float radius_y_32 = extend_28 * (F32_sqrt((covar2d_28[int(1)].y)));
    *aabb_xyxy_32 = make_int4 (int((F32_floor(((*mean2d_37).x - radius_x_32)))), int((F32_floor(((*mean2d_37).y - radius_y_32)))), int((F32_ceil(((*mean2d_37).x + radius_x_32)))), int((F32_ceil(((*mean2d_37).y + radius_y_32)))));
    float _S4921 = mean_c_41.z;
    *depth_29 = (F32_max((_S4921), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4921 + length_1(mean_c_41)))));
    *conic_28 = exp_0(- scale_42);
    float3  _S4922 = mean_42 - - mul_0(transpose_0(R_44), t_40);
    float3  _S4923 = _S4922 * make_float3 ((F32_rsqrt((dot_0(_S4922, _S4922)))));
    float _S4924 = dot_0((*sv_sites_22)[int(3)], _S4923);
    float w_80 = (F32_exp((dot_0((*sv_sites_22)[int(0)], _S4923) - _S4924)));
    float w_81 = (F32_exp((dot_0((*sv_sites_22)[int(1)], _S4923) - _S4924)));
    float w_82 = (F32_exp((dot_0((*sv_sites_22)[int(2)], _S4923) - _S4924)));
    float w_83 = (F32_exp((0.0f)));
    *rgb_30 = max_0((make_float3 (w_80) * (*sv_colors_22)[int(0)] + make_float3 (w_81) * (*sv_colors_22)[int(1)] + make_float3 (w_82) * (*sv_colors_22)[int(2)] + make_float3 (w_83) * (*sv_colors_22)[int(3)]) / make_float3 (w_80 + w_81 + w_82 + w_83) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_46, float3  mean_43, float4  quat_44, float3  scale_43, float in_opacity_38, FixedArray<float3 , 4>  * sv_sites_23, FixedArray<float3 , 4>  * sv_colors_23, Matrix<float, 3, 3>  R_45, float3  t_41, float fx_58, float fy_58, float cx_53, float cy_53, FixedArray<float, 10>  * dist_coeffs_61, uint image_width_46, uint image_height_46, float near_plane_37, float far_plane_37, int4  * aabb_xyxy_33, float2  * mean2d_38, float * depth_30, float3  * conic_29, float * opacity_33, float3  * rgb_31)
{
    float3  mean_c_42 = mul_0(R_45, mean_43) + t_41;
    float4  intrins_41 = make_float4 (fx_58, fy_58, cx_53, cy_53);
    float3  _S4925 = exp_0(scale_43);
    float x_60 = quat_44.y;
    float x2_48 = x_60 * x_60;
    float y2_48 = quat_44.z * quat_44.z;
    float z2_63 = quat_44.w * quat_44.w;
    float xy_48 = quat_44.y * quat_44.z;
    float xz_48 = quat_44.y * quat_44.w;
    float yz_48 = quat_44.z * quat_44.w;
    float wx_48 = quat_44.x * quat_44.y;
    float wy_48 = quat_44.x * quat_44.z;
    float wz_48 = quat_44.x * quat_44.w;
    Matrix<float, 3, 3>  _S4926 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_48 + z2_63), 2.0f * (xy_48 + wz_48), 2.0f * (xz_48 - wy_48), 2.0f * (xy_48 - wz_48), 1.0f - 2.0f * (x2_48 + z2_63), 2.0f * (yz_48 + wx_48), 2.0f * (xz_48 + wy_48), 2.0f * (yz_48 - wx_48), 1.0f - 2.0f * (x2_48 + y2_48))));
    SigmaPoints_0 ret_23;
    (&ret_23)->p_0[int(0)] = mean_43;
    (&ret_23)->w_mean_0[int(0)] = 0.0f;
    (&ret_23)->w_cov_0[int(0)] = 2.0f;
    float _S4927 = (F32_sqrt((3.0f)));
    float3  delta_99 = make_float3 (_S4927 * _S4925.x) * _S4926.rows[0U];
    float3  _S4928 = mean_43 + delta_99;
    float3  _S4929 = mean_43 - delta_99;
    float3  delta_100 = make_float3 (_S4927 * _S4925.y) * _S4926.rows[1U];
    float3  _S4930 = mean_43 + delta_100;
    float3  _S4931 = mean_43 - delta_100;
    float3  delta_101 = make_float3 (_S4927 * _S4925.z) * _S4926.rows[2U];
    float3  _S4932 = mean_43 + delta_101;
    float3  _S4933 = mean_43 - delta_101;
    (&ret_23)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_23)->p_0[0U] = mul_0(R_45, (&ret_23)->p_0[0U]) + t_41;
    (&ret_23)->p_0[1U] = mul_0(R_45, _S4928) + t_41;
    (&ret_23)->p_0[2U] = mul_0(R_45, _S4930) + t_41;
    (&ret_23)->p_0[3U] = mul_0(R_45, _S4932) + t_41;
    (&ret_23)->p_0[4U] = mul_0(R_45, _S4929) + t_41;
    (&ret_23)->p_0[5U] = mul_0(R_45, _S4931) + t_41;
    (&ret_23)->p_0[6U] = mul_0(R_45, _S4933) + t_41;
    SigmaPoints_0 _S4934 = ret_23;
    Matrix<float, 2, 2>  covar2d_29;
    bool _S4935 = fisheye_proj_3dgs_ut_1(&_S4934, intrins_41, dist_coeffs_61, &covar2d_29, mean2d_38);
    float det_orig_43 = *&(((&covar2d_29)->rows + (int(0)))->x) * *&(((&covar2d_29)->rows + (int(1)))->y) - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x);
    float _S4936 = *&(((&covar2d_29)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(0)))->x) = _S4936;
    float _S4937 = *&(((&covar2d_29)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(1)))->y) = _S4937;
    float compensation_30 = (F32_sqrt(((F32_max((0.0f), (det_orig_43 / (_S4936 * _S4937 - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x))))))));
    *opacity_33 = 1.0f / (1.0f + (F32_exp((- in_opacity_38))));
    if(antialiased_46)
    {
        *opacity_33 = *opacity_33 * compensation_30;
    }
    float extend_29 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_33 / 0.00392156885936856f)))))))));
    float radius_x_33 = extend_29 * (F32_sqrt((covar2d_29[int(0)].x)));
    float radius_y_33 = extend_29 * (F32_sqrt((covar2d_29[int(1)].y)));
    *aabb_xyxy_33 = make_int4 (int((F32_floor(((*mean2d_38).x - radius_x_33)))), int((F32_floor(((*mean2d_38).y - radius_y_33)))), int((F32_ceil(((*mean2d_38).x + radius_x_33)))), int((F32_ceil(((*mean2d_38).y + radius_y_33)))));
    float _S4938 = mean_c_42.z;
    *depth_30 = (F32_max((_S4938), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4938 + length_1(mean_c_42)))));
    *conic_29 = exp_0(- scale_43);
    float3  _S4939 = mean_43 - - mul_0(transpose_0(R_45), t_41);
    float3  _S4940 = _S4939 * make_float3 ((F32_rsqrt((dot_0(_S4939, _S4939)))));
    float _S4941 = dot_0((*sv_sites_23)[int(3)], _S4940);
    float w_84 = (F32_exp((dot_0((*sv_sites_23)[int(0)], _S4940) - _S4941)));
    float w_85 = (F32_exp((dot_0((*sv_sites_23)[int(1)], _S4940) - _S4941)));
    float w_86 = (F32_exp((dot_0((*sv_sites_23)[int(2)], _S4940) - _S4941)));
    float w_87 = (F32_exp((0.0f)));
    *rgb_31 = max_0((make_float3 (w_84) * (*sv_colors_23)[int(0)] + make_float3 (w_85) * (*sv_colors_23)[int(1)] + make_float3 (w_86) * (*sv_colors_23)[int(2)] + make_float3 (w_87) * (*sv_colors_23)[int(3)]) / make_float3 (w_84 + w_85 + w_86 + w_87) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0
{
    FixedArray<float3 , 4>  primal_0;
    FixedArray<float3 , 4>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S4942;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(bool antialiased_47, float3  dpmean_10, float4  dpquat_9, float3  dpscale_9, float dpin_opacity_8, FixedArray<float3 , 4>  * dpsv_sites_8, FixedArray<float3 , 4>  * dpsv_colors_8, Matrix<float, 3, 3>  dpR_10, float3  dpt_9, float fx_59, float fy_59, float cx_54, float cy_54, FixedArray<float, 10>  * dist_coeffs_62, uint image_width_47, uint image_height_47, float near_plane_38, float far_plane_38, int4  * aabb_xyxy_34, float2  * dpmean2d_12, float * dpdepth_9, float3  * dpconic_8, float * dpopacity_10, float3  * dprgb_9, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_22)
{
    Matrix<float, 2, 2>  _S4943 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_22->_S4942 = _S4943;
    float2  _S4944 = make_float2 (0.0f);
    float3  _S4945 = make_float3 (0.0f);
    float3  mean_c_43 = s_primal_ctx_mul_0(dpR_10, dpmean_10) + dpt_9;
    float4  intrins_42 = make_float4 (fx_59, fy_59, cx_54, cy_54);
    float3  _S4946 = s_primal_ctx_exp_0(dpscale_9);
    float _S4947 = dpquat_9.y;
    float x2_49 = _S4947 * _S4947;
    float y2_49 = dpquat_9.z * dpquat_9.z;
    float z2_64 = dpquat_9.w * dpquat_9.w;
    float xy_49 = dpquat_9.y * dpquat_9.z;
    float xz_49 = dpquat_9.y * dpquat_9.w;
    float yz_49 = dpquat_9.z * dpquat_9.w;
    float wx_49 = dpquat_9.x * dpquat_9.y;
    float wy_49 = dpquat_9.x * dpquat_9.z;
    float wz_49 = dpquat_9.x * dpquat_9.w;
    Matrix<float, 3, 3>  _S4948 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_49 + z2_64), 2.0f * (xy_49 + wz_49), 2.0f * (xz_49 - wy_49), 2.0f * (xy_49 - wz_49), 1.0f - 2.0f * (x2_49 + z2_64), 2.0f * (yz_49 + wx_49), 2.0f * (xz_49 + wy_49), 2.0f * (yz_49 - wx_49), 1.0f - 2.0f * (x2_49 + y2_49))));
    FixedArray<float3 , 7>  _S4949 = {
        _S4945, _S4945, _S4945, _S4945, _S4945, _S4945, _S4945
    };
    FixedArray<float, 7>  _S4950 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4951;
    (&_S4951)->p_0 = _S4949;
    (&_S4951)->w_mean_0 = _S4950;
    (&_S4951)->w_cov_0 = _S4950;
    (&_S4951)->p_0[int(0)] = dpmean_10;
    SigmaPoints_0 _S4952 = _S4951;
    (&_S4952)->w_mean_0[int(0)] = 0.0f;
    (&_S4952)->w_cov_0[int(0)] = 2.0f;
    float _S4953 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_102 = make_float3 (_S4953 * _S4946.x) * _S4948.rows[0U];
    float3  _S4954 = dpmean_10 + delta_102;
    float3  _S4955 = dpmean_10 - delta_102;
    float3  delta_103 = make_float3 (_S4953 * _S4946.y) * _S4948.rows[1U];
    float3  _S4956 = dpmean_10 + delta_103;
    float3  _S4957 = dpmean_10 - delta_103;
    float3  delta_104 = make_float3 (_S4953 * _S4946.z) * _S4948.rows[2U];
    float3  _S4958 = dpmean_10 + delta_104;
    float3  _S4959 = dpmean_10 - delta_104;
    (&_S4952)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4952)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4952)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4952)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4952)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4952)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4952)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4952)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4952)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4952)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4952)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4952)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4952)->p_0[0U] = s_primal_ctx_mul_0(dpR_10, _S4951.p_0[0U]) + dpt_9;
    (&_S4952)->p_0[1U] = s_primal_ctx_mul_0(dpR_10, _S4954) + dpt_9;
    (&_S4952)->p_0[2U] = s_primal_ctx_mul_0(dpR_10, _S4956) + dpt_9;
    (&_S4952)->p_0[3U] = s_primal_ctx_mul_0(dpR_10, _S4958) + dpt_9;
    (&_S4952)->p_0[4U] = s_primal_ctx_mul_0(dpR_10, _S4955) + dpt_9;
    (&_S4952)->p_0[5U] = s_primal_ctx_mul_0(dpR_10, _S4957) + dpt_9;
    (&_S4952)->p_0[6U] = s_primal_ctx_mul_0(dpR_10, _S4959) + dpt_9;
    float2  _S4960 = _S4944;
    Matrix<float, 2, 2>  _S4961 = _S4943;
    SigmaPoints_0 _S4962 = _S4952;
    bool _S4963 = persp_proj_3dgs_ut_1(&_S4962, intrins_42, dist_coeffs_62, image_width_47, image_height_47, &_S4961, &_S4960);
    _s_diff_ctx_22->_S4942 = _S4961;
    float2  _S4964 = _S4960;
    float _S4965 = _S4961.rows[int(0)].y * _S4961.rows[int(1)].x;
    float det_orig_44 = _S4961.rows[int(0)].x * _S4961.rows[int(1)].y - _S4965;
    float _S4966 = _S4961.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4967 = _S4961;
    *&(((&_S4967)->rows + (int(0)))->x) = _S4966;
    float _S4968 = _S4961.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4967)->rows + (int(1)))->y) = _S4968;
    Matrix<float, 2, 2>  _S4969 = _S4967;
    Matrix<float, 2, 2>  _S4970 = _S4967;
    float _S4971 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_44 / (_S4966 * _S4968 - _S4965)));
    float _S4972 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_8));
    float _S4973;
    if(antialiased_47)
    {
        _S4973 = _S4972 * _S4971;
    }
    else
    {
        _S4973 = _S4972;
    }
    float _S4974 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4973 / 0.00392156885936856f)));
    float radius_x_34 = _S4974 * s_primal_ctx_sqrt_0(_S4969.rows[int(0)].x);
    float radius_y_34 = _S4974 * s_primal_ctx_sqrt_0(_S4970.rows[int(1)].y);
    float _S4975 = _S4964.x;
    float _S4976 = _S4964.y;
    float _S4977 = mean_c_43.z;
    float _S4978 = s_primal_ctx_max_0(_S4977, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4977 + length_1(mean_c_43)));
    float3  _S4979 = s_primal_ctx_exp_0(- dpscale_9);
    float3  _S4980 = dpmean_10 - - s_primal_ctx_mul_0(transpose_0(dpR_10), dpt_9);
    float3  _S4981 = _S4980 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4980, _S4980)));
    float _S4982 = s_primal_ctx_dot_0((*dpsv_sites_8)[int(3)], _S4981);
    float _S4983 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(0)], _S4981) - _S4982);
    float _S4984 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(1)], _S4981) - _S4982);
    float _S4985 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(2)], _S4981) - _S4982);
    float _S4986 = s_primal_ctx_exp_1(0.0f);
    float3  _S4987 = s_primal_ctx_max_1((make_float3 (_S4983) * (*dpsv_colors_8)[int(0)] + make_float3 (_S4984) * (*dpsv_colors_8)[int(1)] + make_float3 (_S4985) * (*dpsv_colors_8)[int(2)] + make_float3 (_S4986) * (*dpsv_colors_8)[int(3)]) / make_float3 (_S4983 + _S4984 + _S4985 + _S4986) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_34 = make_int4 (int((F32_floor((_S4975 - radius_x_34)))), int((F32_floor((_S4976 - radius_y_34)))), int((F32_ceil((_S4975 + radius_x_34)))), int((F32_ceil((_S4976 + radius_y_34)))));
    *dpmean2d_12 = _S4964;
    *dpdepth_9 = _S4978;
    *dpconic_8 = _S4979;
    *dpopacity_10 = _S4973;
    *dprgb_9 = _S4987;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(bool antialiased_48, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_11, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_10, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_10, DiffPair_float_0 * dpin_opacity_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_9, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_11, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_10, float fx_60, float fy_60, float cx_55, float cy_55, FixedArray<float, 10>  * dist_coeffs_63, uint image_width_48, uint image_height_48, float near_plane_39, float far_plane_39, float2  dpmean2d_13, float dpdepth_10, float3  dpconic_9, float dpopacity_11, float3  dprgb_10, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_23)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4988 = *dpmean_11;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4989 = *dpquat_10;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4990 = *dpscale_10;
    FixedArray<float3 , 4>  _S4991 = dpsv_sites_9->primal_0;
    FixedArray<float3 , 4>  _S4992 = dpsv_colors_9->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4993 = *dpR_11;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4994 = *dpt_10;
    float3  _S4995 = make_float3 (0.0f);
    float3  mean_c_44 = s_primal_ctx_mul_0((*dpR_11).primal_0, (*dpmean_11).primal_0) + (*dpt_10).primal_0;
    float3  _S4996 = s_primal_ctx_exp_0((*dpscale_10).primal_0);
    float _S4997 = (*dpquat_10).primal_0.y;
    float x2_50 = _S4997 * _S4997;
    float y2_50 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.z;
    float z2_65 = (*dpquat_10).primal_0.w * (*dpquat_10).primal_0.w;
    float xy_50 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.z;
    float xz_50 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.w;
    float yz_50 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.w;
    float wx_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.y;
    float wy_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.z;
    float wz_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.w;
    Matrix<float, 3, 3>  _S4998 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_50 + z2_65), 2.0f * (xy_50 + wz_50), 2.0f * (xz_50 - wy_50), 2.0f * (xy_50 - wz_50), 1.0f - 2.0f * (x2_50 + z2_65), 2.0f * (yz_50 + wx_50), 2.0f * (xz_50 + wy_50), 2.0f * (yz_50 - wx_50), 1.0f - 2.0f * (x2_50 + y2_50))));
    FixedArray<float3 , 7>  _S4999 = {
        _S4995, _S4995, _S4995, _S4995, _S4995, _S4995, _S4995
    };
    FixedArray<float, 7>  _S5000 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5001;
    (&_S5001)->p_0 = _S4999;
    (&_S5001)->w_mean_0 = _S5000;
    (&_S5001)->w_cov_0 = _S5000;
    (&_S5001)->p_0[int(0)] = (*dpmean_11).primal_0;
    float _S5002 = s_primal_ctx_sqrt_0(3.0f);
    float _S5003 = _S5002 * _S4996.x;
    float3  _S5004 = make_float3 (_S5003);
    float3  delta_105 = make_float3 (_S5003) * _S4998.rows[0U];
    float3  _S5005 = (*dpmean_11).primal_0 + delta_105;
    float3  _S5006 = (*dpmean_11).primal_0 - delta_105;
    float _S5007 = _S5002 * _S4996.y;
    float3  _S5008 = make_float3 (_S5007);
    float3  delta_106 = make_float3 (_S5007) * _S4998.rows[1U];
    float3  _S5009 = (*dpmean_11).primal_0 + delta_106;
    float3  _S5010 = (*dpmean_11).primal_0 - delta_106;
    float _S5011 = _S5002 * _S4996.z;
    float3  _S5012 = make_float3 (_S5011);
    float3  delta_107 = make_float3 (_S5011) * _S4998.rows[2U];
    float3  _S5013 = (*dpmean_11).primal_0 + delta_107;
    float3  _S5014 = (*dpmean_11).primal_0 - delta_107;
    SigmaPoints_0 _S5015 = _S5001;
    float _S5016 = *&(((&_s_diff_ctx_23->_S4942)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_23->_S4942)->rows + (int(1)))->x);
    float det_orig_45 = *&(((&_s_diff_ctx_23->_S4942)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_23->_S4942)->rows + (int(1)))->y) - _S5016;
    float _S5017 = *&(((&_s_diff_ctx_23->_S4942)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5018 = _s_diff_ctx_23->_S4942;
    *&(((&_S5018)->rows + (int(0)))->x) = _S5017;
    float _S5019 = *&(((&_s_diff_ctx_23->_S4942)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5018)->rows + (int(1)))->y) = _S5019;
    Matrix<float, 2, 2>  _S5020 = _S5018;
    Matrix<float, 2, 2>  _S5021 = _S5018;
    float det_blur_29 = _S5017 * _S5019 - _S5016;
    float _S5022 = det_orig_45 / det_blur_29;
    float _S5023 = det_blur_29 * det_blur_29;
    float _S5024 = s_primal_ctx_max_0(0.0f, _S5022);
    float _S5025 = s_primal_ctx_sqrt_0(_S5024);
    float _S5026 = - (*dpin_opacity_9).primal_0;
    float _S5027 = 1.0f + s_primal_ctx_exp_1(_S5026);
    float _S5028 = 1.0f / _S5027;
    float _S5029 = _S5027 * _S5027;
    float _S5030;
    if(antialiased_48)
    {
        _S5030 = _S5028 * _S5025;
    }
    else
    {
        _S5030 = _S5028;
    }
    float _S5031 = _S5030 / 0.00392156885936856f;
    float _S5032 = 2.0f * s_primal_ctx_log_0(_S5031);
    float _S5033 = s_primal_ctx_sqrt_0(_S5032);
    float _S5034 = _S5020.rows[int(0)].x;
    float _S5035 = _S5021.rows[int(1)].y;
    float _S5036 = mean_c_44.z;
    float _S5037 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5038 = _S5037 * (_S5036 + length_1(mean_c_44));
    float3  _S5039 = - _S4990.primal_0;
    Matrix<float, 3, 3>  _S5040 = transpose_0(_S4993.primal_0);
    float3  _S5041 = _S4988.primal_0 - - s_primal_ctx_mul_0(_S5040, _S4994.primal_0);
    float _S5042 = s_primal_ctx_dot_0(_S5041, _S5041);
    float _S5043 = s_primal_ctx_rsqrt_0(_S5042);
    float3  _S5044 = make_float3 (_S5043);
    float3  _S5045 = _S5041 * make_float3 (_S5043);
    float _S5046 = s_primal_ctx_dot_0(_S4991[int(3)], _S5045);
    float _S5047 = s_primal_ctx_dot_0(_S4991[int(0)], _S5045) - _S5046;
    float _S5048 = s_primal_ctx_exp_1(_S5047);
    float3  _S5049 = make_float3 (_S5048);
    float _S5050 = s_primal_ctx_dot_0(_S4991[int(1)], _S5045) - _S5046;
    float _S5051 = s_primal_ctx_exp_1(_S5050);
    float3  _S5052 = make_float3 (_S5051);
    float _S5053 = s_primal_ctx_dot_0(_S4991[int(2)], _S5045) - _S5046;
    float _S5054 = s_primal_ctx_exp_1(_S5053);
    float3  _S5055 = make_float3 (_S5054);
    float _S5056 = s_primal_ctx_exp_1(0.0f);
    float3  _S5057 = make_float3 (_S5056);
    float total_w_4 = _S5048 + _S5051 + _S5054 + _S5056;
    float3  _S5058 = make_float3 (total_w_4);
    float3  total_c_4 = make_float3 (_S5048) * _S4992[int(0)] + make_float3 (_S5051) * _S4992[int(1)] + make_float3 (_S5054) * _S4992[int(2)] + make_float3 (_S5056) * _S4992[int(3)];
    float3  _S5059 = make_float3 (total_w_4 * total_w_4);
    float3  _S5060 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5061;
    (&_S5061)->primal_0 = total_c_4 / make_float3 (total_w_4) + make_float3 (0.5f);
    (&_S5061)->differential_0 = _S4995;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5062;
    (&_S5062)->primal_0 = _S5060;
    (&_S5062)->differential_0 = _S4995;
    s_bwd_prop_max_0(&_S5061, &_S5062, dprgb_10);
    float3  _S5063 = _S5061.differential_0 / _S5059;
    float3  _S5064 = total_c_4 * - _S5063;
    float3  s_diff_total_c_T_4 = _S5058 * _S5063;
    float3  _S5065 = _S5057 * s_diff_total_c_T_4;
    float _S5066 = _S5064.x + _S5064.y + _S5064.z;
    float3  _S5067 = _S5055 * s_diff_total_c_T_4;
    float3  _S5068 = _S4992[int(2)] * s_diff_total_c_T_4;
    float _S5069 = _S5066 + _S5068.x + _S5068.y + _S5068.z;
    DiffPair_float_0 _S5070;
    (&_S5070)->primal_0 = _S5053;
    (&_S5070)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5070, _S5069);
    float _S5071 = - _S5070.differential_0;
    float3  _S5072 = _S5052 * s_diff_total_c_T_4;
    float3  _S5073 = _S4992[int(1)] * s_diff_total_c_T_4;
    float _S5074 = _S5066 + _S5073.x + _S5073.y + _S5073.z;
    DiffPair_float_0 _S5075;
    (&_S5075)->primal_0 = _S5050;
    (&_S5075)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5075, _S5074);
    float _S5076 = - _S5075.differential_0;
    float3  _S5077 = _S5049 * s_diff_total_c_T_4;
    float3  _S5078 = _S4992[int(0)] * s_diff_total_c_T_4;
    float _S5079 = _S5066 + _S5078.x + _S5078.y + _S5078.z;
    DiffPair_float_0 _S5080;
    (&_S5080)->primal_0 = _S5047;
    (&_S5080)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5080, _S5079);
    float _S5081 = _S5071 + _S5076 + - _S5080.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5082;
    (&_S5082)->primal_0 = _S4991[int(3)];
    (&_S5082)->differential_0 = _S4995;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5083;
    (&_S5083)->primal_0 = _S5045;
    (&_S5083)->differential_0 = _S4995;
    s_bwd_prop_dot_0(&_S5082, &_S5083, _S5081);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5084;
    (&_S5084)->primal_0 = _S4991[int(2)];
    (&_S5084)->differential_0 = _S4995;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5085;
    (&_S5085)->primal_0 = _S5045;
    (&_S5085)->differential_0 = _S4995;
    s_bwd_prop_dot_0(&_S5084, &_S5085, _S5070.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5086;
    (&_S5086)->primal_0 = _S4991[int(1)];
    (&_S5086)->differential_0 = _S4995;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5087;
    (&_S5087)->primal_0 = _S5045;
    (&_S5087)->differential_0 = _S4995;
    s_bwd_prop_dot_0(&_S5086, &_S5087, _S5075.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5088;
    (&_S5088)->primal_0 = _S4991[int(0)];
    (&_S5088)->differential_0 = _S4995;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5089;
    (&_S5089)->primal_0 = _S5045;
    (&_S5089)->differential_0 = _S4995;
    s_bwd_prop_dot_0(&_S5088, &_S5089, _S5080.differential_0);
    float3  _S5090 = _S5083.differential_0 + _S5085.differential_0 + _S5087.differential_0 + _S5089.differential_0;
    float3  _S5091 = _S5041 * _S5090;
    float3  _S5092 = _S5044 * _S5090;
    float _S5093 = _S5091.x + _S5091.y + _S5091.z;
    DiffPair_float_0 _S5094;
    (&_S5094)->primal_0 = _S5042;
    (&_S5094)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5094, _S5093);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5095;
    (&_S5095)->primal_0 = _S5041;
    (&_S5095)->differential_0 = _S4995;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5096;
    (&_S5096)->primal_0 = _S5041;
    (&_S5096)->differential_0 = _S4995;
    s_bwd_prop_dot_0(&_S5095, &_S5096, _S5094.differential_0);
    float3  _S5097 = _S5092 + _S5096.differential_0 + _S5095.differential_0;
    float3  _S5098 = - - _S5097;
    Matrix<float, 3, 3>  _S5099 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5100;
    (&_S5100)->primal_0 = _S5040;
    (&_S5100)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5101;
    (&_S5101)->primal_0 = _S4994.primal_0;
    (&_S5101)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5100, &_S5101, _S5098);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5102 = _S5101;
    Matrix<float, 3, 3>  _S5103 = transpose_0(_S5100.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5104;
    (&_S5104)->primal_0 = _S5039;
    (&_S5104)->differential_0 = _S4995;
    s_bwd_prop_exp_1(&_S5104, dpconic_9);
    float3  _S5105 = - _S5104.differential_0;
    DiffPair_float_0 _S5106;
    (&_S5106)->primal_0 = _S5036;
    (&_S5106)->differential_0 = 0.0f;
    DiffPair_float_0 _S5107;
    (&_S5107)->primal_0 = _S5038;
    (&_S5107)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5106, &_S5107, dpdepth_10);
    float _S5108 = _S5037 * _S5107.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5109;
    (&_S5109)->primal_0 = mean_c_44;
    (&_S5109)->differential_0 = _S4995;
    s_bwd_length_impl_1(&_S5109, _S5108);
    float _S5110 = _S5106.differential_0 + _S5108;
    DiffPair_float_0 _S5111;
    (&_S5111)->primal_0 = _S5035;
    (&_S5111)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5111, 0.0f);
    DiffPair_float_0 _S5112;
    (&_S5112)->primal_0 = _S5034;
    (&_S5112)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5112, 0.0f);
    DiffPair_float_0 _S5113;
    (&_S5113)->primal_0 = 3.32999992370605469f;
    (&_S5113)->differential_0 = 0.0f;
    DiffPair_float_0 _S5114;
    (&_S5114)->primal_0 = _S5033;
    (&_S5114)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5113, &_S5114, 0.0f);
    DiffPair_float_0 _S5115;
    (&_S5115)->primal_0 = _S5032;
    (&_S5115)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5115, _S5114.differential_0);
    float _S5116 = 2.0f * _S5115.differential_0;
    DiffPair_float_0 _S5117;
    (&_S5117)->primal_0 = _S5031;
    (&_S5117)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5117, _S5116);
    float _S5118 = dpopacity_11 + 254.9999847412109375f * _S5117.differential_0;
    FixedArray<float3 , 4>  _S5119;
    _S5119[int(0)] = _S4995;
    _S5119[int(1)] = _S4995;
    _S5119[int(2)] = _S4995;
    _S5119[int(3)] = _S4995;
    _S5119[int(3)] = _S5065;
    _S5119[int(2)] = _S5067;
    _S5119[int(1)] = _S5072;
    _S5119[int(0)] = _S5077;
    FixedArray<float3 , 4>  _S5120 = {
        _S5119[int(0)], _S5119[int(1)], _S5119[int(2)], _S5119[int(3)]
    };
    FixedArray<float3 , 4>  _S5121;
    _S5121[int(0)] = _S4995;
    _S5121[int(1)] = _S4995;
    _S5121[int(2)] = _S4995;
    _S5121[int(3)] = _S4995;
    _S5121[int(3)] = _S5082.differential_0;
    _S5121[int(2)] = _S5084.differential_0;
    _S5121[int(1)] = _S5086.differential_0;
    _S5121[int(0)] = _S5088.differential_0;
    FixedArray<float3 , 4>  _S5122 = {
        _S5121[int(0)], _S5121[int(1)], _S5121[int(2)], _S5121[int(3)]
    };
    float3  _S5123 = _S5109.differential_0 + make_float3 (0.0f, 0.0f, _S5110);
    float2  _S5124 = make_float2 (0.0f, _S5111.differential_0);
    float2  _S5125 = make_float2 (_S5112.differential_0, 0.0f);
    float _S5126;
    if(antialiased_48)
    {
        float _S5127 = _S5028 * _S5118;
        _S5030 = _S5025 * _S5118;
        _S5126 = _S5127;
    }
    else
    {
        _S5030 = _S5118;
        _S5126 = 0.0f;
    }
    float _S5128 = - (_S5030 / _S5029);
    DiffPair_float_0 _S5129;
    (&_S5129)->primal_0 = _S5026;
    (&_S5129)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5129, _S5128);
    float _S5130 = - _S5129.differential_0;
    DiffPair_float_0 _S5131;
    (&_S5131)->primal_0 = _S5024;
    (&_S5131)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5131, _S5126);
    DiffPair_float_0 _S5132;
    (&_S5132)->primal_0 = 0.0f;
    (&_S5132)->differential_0 = 0.0f;
    DiffPair_float_0 _S5133;
    (&_S5133)->primal_0 = _S5022;
    (&_S5133)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5132, &_S5133, _S5131.differential_0);
    float _S5134 = _S5133.differential_0 / _S5023;
    float s_diff_det_blur_T_6 = det_orig_45 * - _S5134;
    float s_diff_det_orig_T_9 = det_blur_29 * _S5134;
    float _S5135 = - s_diff_det_blur_T_6;
    float _S5136 = _S5017 * s_diff_det_blur_T_6;
    float _S5137 = _S5019 * s_diff_det_blur_T_6;
    Matrix<float, 2, 2>  _S5138 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5139 = _S5138;
    _S5139[int(1)] = _S5124;
    _S5139[int(0)] = _S5125;
    float _S5140 = _S5137 + _S5139.rows[int(0)].x;
    float _S5141 = _S5135 + - s_diff_det_orig_T_9;
    float _S5142 = *&(((&_s_diff_ctx_23->_S4942)->rows + (int(0)))->y) * _S5141;
    float _S5143 = *&(((&_s_diff_ctx_23->_S4942)->rows + (int(1)))->x) * _S5141;
    float _S5144 = *&(((&_s_diff_ctx_23->_S4942)->rows + (int(1)))->y) * s_diff_det_orig_T_9;
    float _S5145 = _S5136 + _S5139.rows[int(1)].y + *&(((&_s_diff_ctx_23->_S4942)->rows + (int(0)))->x) * s_diff_det_orig_T_9;
    float2  _S5146 = make_float2 (0.0f);
    float2  _S5147 = _S5146;
    *&((&_S5147)->x) = _S5142;
    *&((&_S5147)->y) = _S5145;
    float _S5148 = _S5140 + _S5144;
    float2  _S5149 = _S5146;
    *&((&_S5149)->y) = _S5143;
    *&((&_S5149)->x) = _S5148;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5150;
    (&_S5150)->primal_0 = _S4993.primal_0;
    (&_S5150)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5151;
    (&_S5151)->primal_0 = _S5014;
    (&_S5151)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5150, &_S5151, _S4995);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5152;
    (&_S5152)->primal_0 = _S4993.primal_0;
    (&_S5152)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5153;
    (&_S5153)->primal_0 = _S5010;
    (&_S5153)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5152, &_S5153, _S4995);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5154;
    (&_S5154)->primal_0 = _S4993.primal_0;
    (&_S5154)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5155;
    (&_S5155)->primal_0 = _S5006;
    (&_S5155)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5154, &_S5155, _S4995);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5156;
    (&_S5156)->primal_0 = _S4993.primal_0;
    (&_S5156)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5157;
    (&_S5157)->primal_0 = _S5013;
    (&_S5157)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5156, &_S5157, _S4995);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5158;
    (&_S5158)->primal_0 = _S4993.primal_0;
    (&_S5158)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5159;
    (&_S5159)->primal_0 = _S5009;
    (&_S5159)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5158, &_S5159, _S4995);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5160;
    (&_S5160)->primal_0 = _S4993.primal_0;
    (&_S5160)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5161;
    (&_S5161)->primal_0 = _S5005;
    (&_S5161)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5160, &_S5161, _S4995);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5162;
    (&_S5162)->primal_0 = _S4993.primal_0;
    (&_S5162)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5163;
    (&_S5163)->primal_0 = _S5015.p_0[0U];
    (&_S5163)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5162, &_S5163, _S4995);
    float3  _S5164 = - _S5151.differential_0 + _S5157.differential_0;
    float3  _S5165 = _S5012 * _S5164;
    float3  _S5166 = _S4998.rows[2U] * _S5164;
    float _S5167 = _S5002 * (_S5166.x + _S5166.y + _S5166.z);
    float3  _S5168 = - _S5153.differential_0 + _S5159.differential_0;
    float3  _S5169 = _S5008 * _S5168;
    float3  _S5170 = _S4998.rows[1U] * _S5168;
    float _S5171 = _S5002 * (_S5170.x + _S5170.y + _S5170.z);
    float3  _S5172 = - _S5155.differential_0 + _S5161.differential_0;
    float3  _S5173 = _S5004 * _S5172;
    float3  _S5174 = _S4998.rows[0U] * _S5172;
    float _S5175 = _S5002 * (_S5174.x + _S5174.y + _S5174.z);
    Matrix<float, 3, 3>  _S5176 = _S5099;
    _S5176[2U] = _S5165;
    _S5176[1U] = _S5169;
    _S5176[0U] = _S5173;
    Matrix<float, 3, 3>  _S5177 = transpose_0(transpose_0(_S5176));
    float _S5178 = 2.0f * - _S5177.rows[int(2)].z;
    float _S5179 = 2.0f * _S5177.rows[int(2)].y;
    float _S5180 = 2.0f * _S5177.rows[int(2)].x;
    float _S5181 = 2.0f * _S5177.rows[int(1)].z;
    float _S5182 = 2.0f * - _S5177.rows[int(1)].y;
    float _S5183 = 2.0f * _S5177.rows[int(1)].x;
    float _S5184 = 2.0f * _S5177.rows[int(0)].z;
    float _S5185 = 2.0f * _S5177.rows[int(0)].y;
    float _S5186 = 2.0f * - _S5177.rows[int(0)].x;
    float _S5187 = - _S5183 + _S5185;
    float _S5188 = _S5180 + - _S5184;
    float _S5189 = - _S5179 + _S5181;
    float _S5190 = _S5179 + _S5181;
    float _S5191 = _S5180 + _S5184;
    float _S5192 = _S5183 + _S5185;
    float _S5193 = _S4989.primal_0.w * (_S5182 + _S5186);
    float _S5194 = _S4989.primal_0.z * (_S5178 + _S5186);
    float _S5195 = _S4989.primal_0.y * (_S5178 + _S5182);
    float _S5196 = _S4989.primal_0.x * _S5187 + _S4989.primal_0.z * _S5190 + _S4989.primal_0.y * _S5191 + _S5193 + _S5193;
    float _S5197 = _S4989.primal_0.x * _S5188 + _S4989.primal_0.w * _S5190 + _S4989.primal_0.y * _S5192 + _S5194 + _S5194;
    float _S5198 = _S4989.primal_0.x * _S5189 + _S4989.primal_0.w * _S5191 + _S4989.primal_0.z * _S5192 + _S5195 + _S5195;
    float _S5199 = _S4989.primal_0.w * _S5187 + _S4989.primal_0.z * _S5188 + _S4989.primal_0.y * _S5189;
    float3  _S5200 = _S4995;
    *&((&_S5200)->z) = _S5167;
    *&((&_S5200)->y) = _S5171;
    *&((&_S5200)->x) = _S5175;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5201;
    (&_S5201)->primal_0 = _S4990.primal_0;
    (&_S5201)->differential_0 = _S4995;
    s_bwd_prop_exp_1(&_S5201, _S5200);
    Matrix<float, 2, 2>  _S5202 = _S5138;
    _S5202[int(1)] = _S5147;
    _S5202[int(0)] = _S5149;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5203;
    (&_S5203)->primal_0 = _S4993.primal_0;
    (&_S5203)->differential_0 = _S5099;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5204;
    (&_S5204)->primal_0 = _S4988.primal_0;
    (&_S5204)->differential_0 = _S4995;
    s_bwd_prop_mul_1(&_S5203, &_S5204, _S5123);
    float3  _S5205 = _S5123 + _S5102.differential_0;
    dpt_10->primal_0 = (*dpt_10).primal_0;
    dpt_10->differential_0 = _S5205;
    Matrix<float, 3, 3>  _S5206 = _S5150.differential_0 + _S5152.differential_0 + _S5154.differential_0 + _S5156.differential_0 + _S5158.differential_0 + _S5160.differential_0 + _S5162.differential_0 + _S5203.differential_0 + _S5103;
    dpR_11->primal_0 = (*dpR_11).primal_0;
    dpR_11->differential_0 = _S5206;
    dpsv_colors_9->primal_0 = dpsv_colors_9->primal_0;
    dpsv_colors_9->differential_0 = _S5120;
    dpsv_sites_9->primal_0 = dpsv_sites_9->primal_0;
    dpsv_sites_9->differential_0 = _S5122;
    dpin_opacity_9->primal_0 = (*dpin_opacity_9).primal_0;
    dpin_opacity_9->differential_0 = _S5130;
    float3  _S5207 = _S5201.differential_0 + _S5105;
    dpscale_10->primal_0 = (*dpscale_10).primal_0;
    dpscale_10->differential_0 = _S5207;
    float4  _S5208 = make_float4 (0.0f);
    *&((&_S5208)->w) = _S5196;
    *&((&_S5208)->z) = _S5197;
    *&((&_S5208)->y) = _S5198;
    *&((&_S5208)->x) = _S5199;
    dpquat_10->primal_0 = (*dpquat_10).primal_0;
    dpquat_10->differential_0 = _S5208;
    float3  _S5209 = _S5151.differential_0 + _S5157.differential_0 + _S5153.differential_0 + _S5159.differential_0 + _S5155.differential_0 + _S5161.differential_0 + _S5204.differential_0 + _S5097;
    dpmean_11->primal_0 = (*dpmean_11).primal_0;
    dpmean_11->differential_0 = _S5209;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_2(bool _S5210, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5211, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5212, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5213, DiffPair_float_0 * _S5214, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5215, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5216, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5217, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5218, float _S5219, float _S5220, float _S5221, float _S5222, FixedArray<float, 10>  * _S5223, uint _S5224, uint _S5225, float _S5226, float _S5227, float2  _S5228, float _S5229, float3  _S5230, float _S5231, float3  _S5232)
{
    FixedArray<float3 , 4>  _S5233 = _S5215->primal_0;
    FixedArray<float3 , 4>  _S5234 = _S5216->primal_0;
    int4  _S5235;
    float2  _S5236;
    float _S5237;
    float3  _S5238;
    float _S5239;
    float3  _S5240;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S5241;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(_S5210, (*_S5211).primal_0, (*_S5212).primal_0, (*_S5213).primal_0, (*_S5214).primal_0, &_S5233, &_S5234, (*_S5217).primal_0, (*_S5218).primal_0, _S5219, _S5220, _S5221, _S5222, _S5223, _S5224, _S5225, _S5226, _S5227, &_S5235, &_S5236, &_S5237, &_S5238, &_S5239, &_S5240, &_S5241);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S5242 = _S5241;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(_S5210, _S5211, _S5212, _S5213, _S5214, _S5215, _S5216, _S5217, _S5218, _S5219, _S5220, _S5221, _S5222, _S5223, _S5224, _S5225, _S5226, _S5227, _S5228, _S5229, _S5230, _S5231, _S5232, &_S5242);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_49, float3  mean_44, float4  quat_45, float3  scale_44, float in_opacity_39, FixedArray<float3 , 4>  * sv_sites_24, FixedArray<float3 , 4>  * sv_colors_24, Matrix<float, 3, 3>  R_46, float3  t_42, float fx_61, float fy_61, float cx_56, float cy_56, FixedArray<float, 10>  * dist_coeffs_64, uint image_width_49, uint image_height_49, float2  v_mean2d_9, float v_depth_10, float3  v_conic_9, float v_opacity_11, float3  v_rgb_10, float3  * v_mean_11, float4  * v_quat_10, float3  * v_scale_10, float * v_in_opacity_9, FixedArray<float3 , 4>  * v_sv_dirs_4, FixedArray<float3 , 4>  * v_sv_colors_4, Matrix<float, 3, 3>  * v_R_11, float3  * v_t_10)
{
    float3  _S5243 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_6;
    (&dp_mean_6)->primal_0 = mean_44;
    (&dp_mean_6)->differential_0 = _S5243;
    float4  _S5244 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_5;
    (&dp_quat_5)->primal_0 = quat_45;
    (&dp_quat_5)->differential_0 = _S5244;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_5;
    (&dp_scale_5)->primal_0 = scale_44;
    (&dp_scale_5)->differential_0 = _S5243;
    DiffPair_float_0 dp_in_opacity_4;
    (&dp_in_opacity_4)->primal_0 = in_opacity_39;
    (&dp_in_opacity_4)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S5245 = { _S5243, _S5243, _S5243, _S5243 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_4;
    (&dp_sv_dirs_4)->primal_0 = *sv_sites_24;
    (&dp_sv_dirs_4)->differential_0 = _S5245;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_4;
    (&dp_sv_colors_4)->primal_0 = *sv_colors_24;
    (&dp_sv_colors_4)->differential_0 = _S5245;
    Matrix<float, 3, 3>  _S5246 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_6;
    (&dp_R_6)->primal_0 = R_46;
    (&dp_R_6)->differential_0 = _S5246;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_5;
    (&dp_t_5)->primal_0 = t_42;
    (&dp_t_5)->differential_0 = _S5243;
    s_bwd_projection_3dgut_sv_persp_differentiable_2(antialiased_49, &dp_mean_6, &dp_quat_5, &dp_scale_5, &dp_in_opacity_4, &dp_sv_dirs_4, &dp_sv_colors_4, &dp_R_6, &dp_t_5, fx_61, fy_61, cx_56, cy_56, dist_coeffs_64, image_width_49, image_height_49, 0.0f, 1.00000001504746622e+30f, v_mean2d_9, v_depth_10, v_conic_9, v_opacity_11, v_rgb_10);
    *v_mean_11 = dp_mean_6.differential_0;
    *v_quat_10 = dp_quat_5.differential_0;
    *v_scale_10 = dp_scale_5.differential_0;
    *v_in_opacity_9 = dp_in_opacity_4.differential_0;
    *v_sv_dirs_4 = (&dp_sv_dirs_4)->differential_0;
    *v_sv_colors_4 = (&dp_sv_colors_4)->differential_0;
    *v_R_11 = dp_R_6.differential_0;
    *v_t_10 = dp_t_5.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S5247;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_50, float3  dpmean_12, float4  dpquat_11, float3  dpscale_11, float dpin_opacity_10, FixedArray<float3 , 4>  * dpsv_sites_10, FixedArray<float3 , 4>  * dpsv_colors_10, Matrix<float, 3, 3>  dpR_12, float3  dpt_11, float fx_62, float fy_62, float cx_57, float cy_57, FixedArray<float, 10>  * dist_coeffs_65, uint image_width_50, uint image_height_50, float near_plane_40, float far_plane_40, int4  * aabb_xyxy_35, float2  * dpmean2d_14, float * dpdepth_11, float3  * dpconic_10, float * dpopacity_12, float3  * dprgb_11, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_24)
{
    Matrix<float, 2, 2>  _S5248 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_24->_S5247 = _S5248;
    float2  _S5249 = make_float2 (0.0f);
    float3  _S5250 = make_float3 (0.0f);
    float3  mean_c_45 = s_primal_ctx_mul_0(dpR_12, dpmean_12) + dpt_11;
    float _S5251 = length_1(mean_c_45);
    float4  intrins_43 = make_float4 (fx_62, fy_62, cx_57, cy_57);
    float3  _S5252 = s_primal_ctx_exp_0(dpscale_11);
    float _S5253 = dpquat_11.y;
    float x2_51 = _S5253 * _S5253;
    float y2_51 = dpquat_11.z * dpquat_11.z;
    float z2_66 = dpquat_11.w * dpquat_11.w;
    float xy_51 = dpquat_11.y * dpquat_11.z;
    float xz_51 = dpquat_11.y * dpquat_11.w;
    float yz_51 = dpquat_11.z * dpquat_11.w;
    float wx_51 = dpquat_11.x * dpquat_11.y;
    float wy_51 = dpquat_11.x * dpquat_11.z;
    float wz_51 = dpquat_11.x * dpquat_11.w;
    Matrix<float, 3, 3>  _S5254 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_51 + z2_66), 2.0f * (xy_51 + wz_51), 2.0f * (xz_51 - wy_51), 2.0f * (xy_51 - wz_51), 1.0f - 2.0f * (x2_51 + z2_66), 2.0f * (yz_51 + wx_51), 2.0f * (xz_51 + wy_51), 2.0f * (yz_51 - wx_51), 1.0f - 2.0f * (x2_51 + y2_51))));
    FixedArray<float3 , 7>  _S5255 = {
        _S5250, _S5250, _S5250, _S5250, _S5250, _S5250, _S5250
    };
    FixedArray<float, 7>  _S5256 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5257;
    (&_S5257)->p_0 = _S5255;
    (&_S5257)->w_mean_0 = _S5256;
    (&_S5257)->w_cov_0 = _S5256;
    (&_S5257)->p_0[int(0)] = dpmean_12;
    SigmaPoints_0 _S5258 = _S5257;
    (&_S5258)->w_mean_0[int(0)] = 0.0f;
    (&_S5258)->w_cov_0[int(0)] = 2.0f;
    float _S5259 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_108 = make_float3 (_S5259 * _S5252.x) * _S5254.rows[0U];
    float3  _S5260 = dpmean_12 + delta_108;
    float3  _S5261 = dpmean_12 - delta_108;
    float3  delta_109 = make_float3 (_S5259 * _S5252.y) * _S5254.rows[1U];
    float3  _S5262 = dpmean_12 + delta_109;
    float3  _S5263 = dpmean_12 - delta_109;
    float3  delta_110 = make_float3 (_S5259 * _S5252.z) * _S5254.rows[2U];
    float3  _S5264 = dpmean_12 + delta_110;
    float3  _S5265 = dpmean_12 - delta_110;
    (&_S5258)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5258)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5258)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5258)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5258)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5258)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5258)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5258)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5258)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5258)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5258)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5258)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5258)->p_0[0U] = s_primal_ctx_mul_0(dpR_12, _S5257.p_0[0U]) + dpt_11;
    (&_S5258)->p_0[1U] = s_primal_ctx_mul_0(dpR_12, _S5260) + dpt_11;
    (&_S5258)->p_0[2U] = s_primal_ctx_mul_0(dpR_12, _S5262) + dpt_11;
    (&_S5258)->p_0[3U] = s_primal_ctx_mul_0(dpR_12, _S5264) + dpt_11;
    (&_S5258)->p_0[4U] = s_primal_ctx_mul_0(dpR_12, _S5261) + dpt_11;
    (&_S5258)->p_0[5U] = s_primal_ctx_mul_0(dpR_12, _S5263) + dpt_11;
    (&_S5258)->p_0[6U] = s_primal_ctx_mul_0(dpR_12, _S5265) + dpt_11;
    float2  _S5266 = _S5249;
    Matrix<float, 2, 2>  _S5267 = _S5248;
    SigmaPoints_0 _S5268 = _S5258;
    bool _S5269 = fisheye_proj_3dgs_ut_1(&_S5268, intrins_43, dist_coeffs_65, &_S5267, &_S5266);
    _s_diff_ctx_24->_S5247 = _S5267;
    float2  _S5270 = _S5266;
    float _S5271 = _S5267.rows[int(0)].y * _S5267.rows[int(1)].x;
    float det_orig_46 = _S5267.rows[int(0)].x * _S5267.rows[int(1)].y - _S5271;
    float _S5272 = _S5267.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5273 = _S5267;
    *&(((&_S5273)->rows + (int(0)))->x) = _S5272;
    float _S5274 = _S5267.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5273)->rows + (int(1)))->y) = _S5274;
    Matrix<float, 2, 2>  _S5275 = _S5273;
    Matrix<float, 2, 2>  _S5276 = _S5273;
    float _S5277 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_46 / (_S5272 * _S5274 - _S5271)));
    float _S5278 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_10));
    float _S5279;
    if(antialiased_50)
    {
        _S5279 = _S5278 * _S5277;
    }
    else
    {
        _S5279 = _S5278;
    }
    float _S5280 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5279 / 0.00392156885936856f)));
    float radius_x_35 = _S5280 * s_primal_ctx_sqrt_0(_S5275.rows[int(0)].x);
    float radius_y_35 = _S5280 * s_primal_ctx_sqrt_0(_S5276.rows[int(1)].y);
    float _S5281 = _S5270.x;
    float _S5282 = _S5270.y;
    float _S5283 = mean_c_45.z;
    float _S5284 = s_primal_ctx_max_0(_S5283, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5283 + _S5251));
    float3  _S5285 = s_primal_ctx_exp_0(- dpscale_11);
    float3  _S5286 = dpmean_12 - - s_primal_ctx_mul_0(transpose_0(dpR_12), dpt_11);
    float3  _S5287 = _S5286 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5286, _S5286)));
    float _S5288 = s_primal_ctx_dot_0((*dpsv_sites_10)[int(3)], _S5287);
    float _S5289 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(0)], _S5287) - _S5288);
    float _S5290 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(1)], _S5287) - _S5288);
    float _S5291 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(2)], _S5287) - _S5288);
    float _S5292 = s_primal_ctx_exp_1(0.0f);
    float3  _S5293 = s_primal_ctx_max_1((make_float3 (_S5289) * (*dpsv_colors_10)[int(0)] + make_float3 (_S5290) * (*dpsv_colors_10)[int(1)] + make_float3 (_S5291) * (*dpsv_colors_10)[int(2)] + make_float3 (_S5292) * (*dpsv_colors_10)[int(3)]) / make_float3 (_S5289 + _S5290 + _S5291 + _S5292) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_35 = make_int4 (int((F32_floor((_S5281 - radius_x_35)))), int((F32_floor((_S5282 - radius_y_35)))), int((F32_ceil((_S5281 + radius_x_35)))), int((F32_ceil((_S5282 + radius_y_35)))));
    *dpmean2d_14 = _S5270;
    *dpdepth_11 = _S5284;
    *dpconic_10 = _S5285;
    *dpopacity_12 = _S5279;
    *dprgb_11 = _S5293;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_51, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_13, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_12, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_12, DiffPair_float_0 * dpin_opacity_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_11, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_13, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_12, float fx_63, float fy_63, float cx_58, float cy_58, FixedArray<float, 10>  * dist_coeffs_66, uint image_width_51, uint image_height_51, float near_plane_41, float far_plane_41, float2  dpmean2d_15, float dpdepth_12, float3  dpconic_11, float dpopacity_13, float3  dprgb_12, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_25)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5294 = *dpmean_13;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5295 = *dpquat_12;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5296 = *dpscale_12;
    FixedArray<float3 , 4>  _S5297 = dpsv_sites_11->primal_0;
    FixedArray<float3 , 4>  _S5298 = dpsv_colors_11->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5299 = *dpR_13;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5300 = *dpt_12;
    float3  _S5301 = make_float3 (0.0f);
    float3  mean_c_46 = s_primal_ctx_mul_0((*dpR_13).primal_0, (*dpmean_13).primal_0) + (*dpt_12).primal_0;
    float _S5302 = length_1(mean_c_46);
    float3  _S5303 = s_primal_ctx_exp_0((*dpscale_12).primal_0);
    float _S5304 = (*dpquat_12).primal_0.y;
    float x2_52 = _S5304 * _S5304;
    float y2_52 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.z;
    float z2_67 = (*dpquat_12).primal_0.w * (*dpquat_12).primal_0.w;
    float xy_52 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.z;
    float xz_52 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.w;
    float yz_52 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.w;
    float wx_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.y;
    float wy_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.z;
    float wz_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.w;
    Matrix<float, 3, 3>  _S5305 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_52 + z2_67), 2.0f * (xy_52 + wz_52), 2.0f * (xz_52 - wy_52), 2.0f * (xy_52 - wz_52), 1.0f - 2.0f * (x2_52 + z2_67), 2.0f * (yz_52 + wx_52), 2.0f * (xz_52 + wy_52), 2.0f * (yz_52 - wx_52), 1.0f - 2.0f * (x2_52 + y2_52))));
    FixedArray<float3 , 7>  _S5306 = {
        _S5301, _S5301, _S5301, _S5301, _S5301, _S5301, _S5301
    };
    FixedArray<float, 7>  _S5307 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5308;
    (&_S5308)->p_0 = _S5306;
    (&_S5308)->w_mean_0 = _S5307;
    (&_S5308)->w_cov_0 = _S5307;
    (&_S5308)->p_0[int(0)] = (*dpmean_13).primal_0;
    float _S5309 = s_primal_ctx_sqrt_0(3.0f);
    float _S5310 = _S5309 * _S5303.x;
    float3  _S5311 = make_float3 (_S5310);
    float3  delta_111 = make_float3 (_S5310) * _S5305.rows[0U];
    float3  _S5312 = (*dpmean_13).primal_0 + delta_111;
    float3  _S5313 = (*dpmean_13).primal_0 - delta_111;
    float _S5314 = _S5309 * _S5303.y;
    float3  _S5315 = make_float3 (_S5314);
    float3  delta_112 = make_float3 (_S5314) * _S5305.rows[1U];
    float3  _S5316 = (*dpmean_13).primal_0 + delta_112;
    float3  _S5317 = (*dpmean_13).primal_0 - delta_112;
    float _S5318 = _S5309 * _S5303.z;
    float3  _S5319 = make_float3 (_S5318);
    float3  delta_113 = make_float3 (_S5318) * _S5305.rows[2U];
    float3  _S5320 = (*dpmean_13).primal_0 + delta_113;
    float3  _S5321 = (*dpmean_13).primal_0 - delta_113;
    SigmaPoints_0 _S5322 = _S5308;
    float _S5323 = *&(((&_s_diff_ctx_25->_S5247)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_25->_S5247)->rows + (int(1)))->x);
    float det_orig_47 = *&(((&_s_diff_ctx_25->_S5247)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_25->_S5247)->rows + (int(1)))->y) - _S5323;
    float _S5324 = *&(((&_s_diff_ctx_25->_S5247)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5325 = _s_diff_ctx_25->_S5247;
    *&(((&_S5325)->rows + (int(0)))->x) = _S5324;
    float _S5326 = *&(((&_s_diff_ctx_25->_S5247)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5325)->rows + (int(1)))->y) = _S5326;
    Matrix<float, 2, 2>  _S5327 = _S5325;
    Matrix<float, 2, 2>  _S5328 = _S5325;
    float det_blur_30 = _S5324 * _S5326 - _S5323;
    float _S5329 = det_orig_47 / det_blur_30;
    float _S5330 = det_blur_30 * det_blur_30;
    float _S5331 = s_primal_ctx_max_0(0.0f, _S5329);
    float _S5332 = s_primal_ctx_sqrt_0(_S5331);
    float _S5333 = - (*dpin_opacity_11).primal_0;
    float _S5334 = 1.0f + s_primal_ctx_exp_1(_S5333);
    float _S5335 = 1.0f / _S5334;
    float _S5336 = _S5334 * _S5334;
    float _S5337;
    if(antialiased_51)
    {
        _S5337 = _S5335 * _S5332;
    }
    else
    {
        _S5337 = _S5335;
    }
    float _S5338 = _S5337 / 0.00392156885936856f;
    float _S5339 = 2.0f * s_primal_ctx_log_0(_S5338);
    float _S5340 = s_primal_ctx_sqrt_0(_S5339);
    float _S5341 = _S5327.rows[int(0)].x;
    float _S5342 = _S5328.rows[int(1)].y;
    float _S5343 = mean_c_46.z;
    float _S5344 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5345 = _S5344 * (_S5343 + _S5302);
    float3  _S5346 = - _S5296.primal_0;
    Matrix<float, 3, 3>  _S5347 = transpose_0(_S5299.primal_0);
    float3  _S5348 = _S5294.primal_0 - - s_primal_ctx_mul_0(_S5347, _S5300.primal_0);
    float _S5349 = s_primal_ctx_dot_0(_S5348, _S5348);
    float _S5350 = s_primal_ctx_rsqrt_0(_S5349);
    float3  _S5351 = make_float3 (_S5350);
    float3  _S5352 = _S5348 * make_float3 (_S5350);
    float _S5353 = s_primal_ctx_dot_0(_S5297[int(3)], _S5352);
    float _S5354 = s_primal_ctx_dot_0(_S5297[int(0)], _S5352) - _S5353;
    float _S5355 = s_primal_ctx_exp_1(_S5354);
    float3  _S5356 = make_float3 (_S5355);
    float _S5357 = s_primal_ctx_dot_0(_S5297[int(1)], _S5352) - _S5353;
    float _S5358 = s_primal_ctx_exp_1(_S5357);
    float3  _S5359 = make_float3 (_S5358);
    float _S5360 = s_primal_ctx_dot_0(_S5297[int(2)], _S5352) - _S5353;
    float _S5361 = s_primal_ctx_exp_1(_S5360);
    float3  _S5362 = make_float3 (_S5361);
    float _S5363 = s_primal_ctx_exp_1(0.0f);
    float3  _S5364 = make_float3 (_S5363);
    float total_w_5 = _S5355 + _S5358 + _S5361 + _S5363;
    float3  _S5365 = make_float3 (total_w_5);
    float3  total_c_5 = make_float3 (_S5355) * _S5298[int(0)] + make_float3 (_S5358) * _S5298[int(1)] + make_float3 (_S5361) * _S5298[int(2)] + make_float3 (_S5363) * _S5298[int(3)];
    float3  _S5366 = make_float3 (total_w_5 * total_w_5);
    float3  _S5367 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5368;
    (&_S5368)->primal_0 = total_c_5 / make_float3 (total_w_5) + make_float3 (0.5f);
    (&_S5368)->differential_0 = _S5301;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5369;
    (&_S5369)->primal_0 = _S5367;
    (&_S5369)->differential_0 = _S5301;
    s_bwd_prop_max_0(&_S5368, &_S5369, dprgb_12);
    float3  _S5370 = _S5368.differential_0 / _S5366;
    float3  _S5371 = total_c_5 * - _S5370;
    float3  s_diff_total_c_T_5 = _S5365 * _S5370;
    float3  _S5372 = _S5364 * s_diff_total_c_T_5;
    float _S5373 = _S5371.x + _S5371.y + _S5371.z;
    float3  _S5374 = _S5362 * s_diff_total_c_T_5;
    float3  _S5375 = _S5298[int(2)] * s_diff_total_c_T_5;
    float _S5376 = _S5373 + _S5375.x + _S5375.y + _S5375.z;
    DiffPair_float_0 _S5377;
    (&_S5377)->primal_0 = _S5360;
    (&_S5377)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5377, _S5376);
    float _S5378 = - _S5377.differential_0;
    float3  _S5379 = _S5359 * s_diff_total_c_T_5;
    float3  _S5380 = _S5298[int(1)] * s_diff_total_c_T_5;
    float _S5381 = _S5373 + _S5380.x + _S5380.y + _S5380.z;
    DiffPair_float_0 _S5382;
    (&_S5382)->primal_0 = _S5357;
    (&_S5382)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5382, _S5381);
    float _S5383 = - _S5382.differential_0;
    float3  _S5384 = _S5356 * s_diff_total_c_T_5;
    float3  _S5385 = _S5298[int(0)] * s_diff_total_c_T_5;
    float _S5386 = _S5373 + _S5385.x + _S5385.y + _S5385.z;
    DiffPair_float_0 _S5387;
    (&_S5387)->primal_0 = _S5354;
    (&_S5387)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5387, _S5386);
    float _S5388 = _S5378 + _S5383 + - _S5387.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5389;
    (&_S5389)->primal_0 = _S5297[int(3)];
    (&_S5389)->differential_0 = _S5301;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5390;
    (&_S5390)->primal_0 = _S5352;
    (&_S5390)->differential_0 = _S5301;
    s_bwd_prop_dot_0(&_S5389, &_S5390, _S5388);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5391;
    (&_S5391)->primal_0 = _S5297[int(2)];
    (&_S5391)->differential_0 = _S5301;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5392;
    (&_S5392)->primal_0 = _S5352;
    (&_S5392)->differential_0 = _S5301;
    s_bwd_prop_dot_0(&_S5391, &_S5392, _S5377.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5393;
    (&_S5393)->primal_0 = _S5297[int(1)];
    (&_S5393)->differential_0 = _S5301;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5394;
    (&_S5394)->primal_0 = _S5352;
    (&_S5394)->differential_0 = _S5301;
    s_bwd_prop_dot_0(&_S5393, &_S5394, _S5382.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5395;
    (&_S5395)->primal_0 = _S5297[int(0)];
    (&_S5395)->differential_0 = _S5301;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5396;
    (&_S5396)->primal_0 = _S5352;
    (&_S5396)->differential_0 = _S5301;
    s_bwd_prop_dot_0(&_S5395, &_S5396, _S5387.differential_0);
    float3  _S5397 = _S5390.differential_0 + _S5392.differential_0 + _S5394.differential_0 + _S5396.differential_0;
    float3  _S5398 = _S5348 * _S5397;
    float3  _S5399 = _S5351 * _S5397;
    float _S5400 = _S5398.x + _S5398.y + _S5398.z;
    DiffPair_float_0 _S5401;
    (&_S5401)->primal_0 = _S5349;
    (&_S5401)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5401, _S5400);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5402;
    (&_S5402)->primal_0 = _S5348;
    (&_S5402)->differential_0 = _S5301;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5403;
    (&_S5403)->primal_0 = _S5348;
    (&_S5403)->differential_0 = _S5301;
    s_bwd_prop_dot_0(&_S5402, &_S5403, _S5401.differential_0);
    float3  _S5404 = _S5399 + _S5403.differential_0 + _S5402.differential_0;
    float3  _S5405 = - - _S5404;
    Matrix<float, 3, 3>  _S5406 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5407;
    (&_S5407)->primal_0 = _S5347;
    (&_S5407)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5408;
    (&_S5408)->primal_0 = _S5300.primal_0;
    (&_S5408)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5407, &_S5408, _S5405);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5409 = _S5408;
    Matrix<float, 3, 3>  _S5410 = transpose_0(_S5407.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5411;
    (&_S5411)->primal_0 = _S5346;
    (&_S5411)->differential_0 = _S5301;
    s_bwd_prop_exp_1(&_S5411, dpconic_11);
    float3  _S5412 = - _S5411.differential_0;
    DiffPair_float_0 _S5413;
    (&_S5413)->primal_0 = _S5343;
    (&_S5413)->differential_0 = 0.0f;
    DiffPair_float_0 _S5414;
    (&_S5414)->primal_0 = _S5345;
    (&_S5414)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5413, &_S5414, dpdepth_12);
    float _S5415 = _S5344 * _S5414.differential_0;
    float _S5416 = _S5413.differential_0 + _S5415;
    DiffPair_float_0 _S5417;
    (&_S5417)->primal_0 = _S5342;
    (&_S5417)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5417, 0.0f);
    DiffPair_float_0 _S5418;
    (&_S5418)->primal_0 = _S5341;
    (&_S5418)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5418, 0.0f);
    DiffPair_float_0 _S5419;
    (&_S5419)->primal_0 = 3.32999992370605469f;
    (&_S5419)->differential_0 = 0.0f;
    DiffPair_float_0 _S5420;
    (&_S5420)->primal_0 = _S5340;
    (&_S5420)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5419, &_S5420, 0.0f);
    DiffPair_float_0 _S5421;
    (&_S5421)->primal_0 = _S5339;
    (&_S5421)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5421, _S5420.differential_0);
    float _S5422 = 2.0f * _S5421.differential_0;
    DiffPair_float_0 _S5423;
    (&_S5423)->primal_0 = _S5338;
    (&_S5423)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5423, _S5422);
    float _S5424 = dpopacity_13 + 254.9999847412109375f * _S5423.differential_0;
    FixedArray<float3 , 4>  _S5425;
    _S5425[int(0)] = _S5301;
    _S5425[int(1)] = _S5301;
    _S5425[int(2)] = _S5301;
    _S5425[int(3)] = _S5301;
    _S5425[int(3)] = _S5372;
    _S5425[int(2)] = _S5374;
    _S5425[int(1)] = _S5379;
    _S5425[int(0)] = _S5384;
    FixedArray<float3 , 4>  _S5426 = {
        _S5425[int(0)], _S5425[int(1)], _S5425[int(2)], _S5425[int(3)]
    };
    FixedArray<float3 , 4>  _S5427;
    _S5427[int(0)] = _S5301;
    _S5427[int(1)] = _S5301;
    _S5427[int(2)] = _S5301;
    _S5427[int(3)] = _S5301;
    _S5427[int(3)] = _S5389.differential_0;
    _S5427[int(2)] = _S5391.differential_0;
    _S5427[int(1)] = _S5393.differential_0;
    _S5427[int(0)] = _S5395.differential_0;
    FixedArray<float3 , 4>  _S5428 = {
        _S5427[int(0)], _S5427[int(1)], _S5427[int(2)], _S5427[int(3)]
    };
    float3  _S5429 = make_float3 (0.0f, 0.0f, _S5416);
    float2  _S5430 = make_float2 (0.0f, _S5417.differential_0);
    float2  _S5431 = make_float2 (_S5418.differential_0, 0.0f);
    float _S5432;
    if(antialiased_51)
    {
        float _S5433 = _S5335 * _S5424;
        _S5337 = _S5332 * _S5424;
        _S5432 = _S5433;
    }
    else
    {
        _S5337 = _S5424;
        _S5432 = 0.0f;
    }
    float _S5434 = - (_S5337 / _S5336);
    DiffPair_float_0 _S5435;
    (&_S5435)->primal_0 = _S5333;
    (&_S5435)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5435, _S5434);
    float _S5436 = - _S5435.differential_0;
    DiffPair_float_0 _S5437;
    (&_S5437)->primal_0 = _S5331;
    (&_S5437)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5437, _S5432);
    DiffPair_float_0 _S5438;
    (&_S5438)->primal_0 = 0.0f;
    (&_S5438)->differential_0 = 0.0f;
    DiffPair_float_0 _S5439;
    (&_S5439)->primal_0 = _S5329;
    (&_S5439)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5438, &_S5439, _S5437.differential_0);
    float _S5440 = _S5439.differential_0 / _S5330;
    float s_diff_det_blur_T_7 = det_orig_47 * - _S5440;
    float s_diff_det_orig_T_10 = det_blur_30 * _S5440;
    float _S5441 = - s_diff_det_blur_T_7;
    float _S5442 = _S5324 * s_diff_det_blur_T_7;
    float _S5443 = _S5326 * s_diff_det_blur_T_7;
    Matrix<float, 2, 2>  _S5444 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5445 = _S5444;
    _S5445[int(1)] = _S5430;
    _S5445[int(0)] = _S5431;
    float _S5446 = _S5443 + _S5445.rows[int(0)].x;
    float _S5447 = _S5441 + - s_diff_det_orig_T_10;
    float _S5448 = *&(((&_s_diff_ctx_25->_S5247)->rows + (int(0)))->y) * _S5447;
    float _S5449 = *&(((&_s_diff_ctx_25->_S5247)->rows + (int(1)))->x) * _S5447;
    float _S5450 = *&(((&_s_diff_ctx_25->_S5247)->rows + (int(1)))->y) * s_diff_det_orig_T_10;
    float _S5451 = _S5442 + _S5445.rows[int(1)].y + *&(((&_s_diff_ctx_25->_S5247)->rows + (int(0)))->x) * s_diff_det_orig_T_10;
    float2  _S5452 = make_float2 (0.0f);
    float2  _S5453 = _S5452;
    *&((&_S5453)->x) = _S5448;
    *&((&_S5453)->y) = _S5451;
    float _S5454 = _S5446 + _S5450;
    float2  _S5455 = _S5452;
    *&((&_S5455)->y) = _S5449;
    *&((&_S5455)->x) = _S5454;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5456;
    (&_S5456)->primal_0 = _S5299.primal_0;
    (&_S5456)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5457;
    (&_S5457)->primal_0 = _S5321;
    (&_S5457)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5456, &_S5457, _S5301);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5458;
    (&_S5458)->primal_0 = _S5299.primal_0;
    (&_S5458)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5459;
    (&_S5459)->primal_0 = _S5317;
    (&_S5459)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5458, &_S5459, _S5301);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5460;
    (&_S5460)->primal_0 = _S5299.primal_0;
    (&_S5460)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5461;
    (&_S5461)->primal_0 = _S5313;
    (&_S5461)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5460, &_S5461, _S5301);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5462;
    (&_S5462)->primal_0 = _S5299.primal_0;
    (&_S5462)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5463;
    (&_S5463)->primal_0 = _S5320;
    (&_S5463)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5462, &_S5463, _S5301);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5464;
    (&_S5464)->primal_0 = _S5299.primal_0;
    (&_S5464)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5465;
    (&_S5465)->primal_0 = _S5316;
    (&_S5465)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5464, &_S5465, _S5301);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5466;
    (&_S5466)->primal_0 = _S5299.primal_0;
    (&_S5466)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5467;
    (&_S5467)->primal_0 = _S5312;
    (&_S5467)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5466, &_S5467, _S5301);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5468;
    (&_S5468)->primal_0 = _S5299.primal_0;
    (&_S5468)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5469;
    (&_S5469)->primal_0 = _S5322.p_0[0U];
    (&_S5469)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5468, &_S5469, _S5301);
    float3  _S5470 = - _S5457.differential_0 + _S5463.differential_0;
    float3  _S5471 = _S5319 * _S5470;
    float3  _S5472 = _S5305.rows[2U] * _S5470;
    float _S5473 = _S5309 * (_S5472.x + _S5472.y + _S5472.z);
    float3  _S5474 = - _S5459.differential_0 + _S5465.differential_0;
    float3  _S5475 = _S5315 * _S5474;
    float3  _S5476 = _S5305.rows[1U] * _S5474;
    float _S5477 = _S5309 * (_S5476.x + _S5476.y + _S5476.z);
    float3  _S5478 = - _S5461.differential_0 + _S5467.differential_0;
    float3  _S5479 = _S5311 * _S5478;
    float3  _S5480 = _S5305.rows[0U] * _S5478;
    float _S5481 = _S5309 * (_S5480.x + _S5480.y + _S5480.z);
    Matrix<float, 3, 3>  _S5482 = _S5406;
    _S5482[2U] = _S5471;
    _S5482[1U] = _S5475;
    _S5482[0U] = _S5479;
    Matrix<float, 3, 3>  _S5483 = transpose_0(transpose_0(_S5482));
    float _S5484 = 2.0f * - _S5483.rows[int(2)].z;
    float _S5485 = 2.0f * _S5483.rows[int(2)].y;
    float _S5486 = 2.0f * _S5483.rows[int(2)].x;
    float _S5487 = 2.0f * _S5483.rows[int(1)].z;
    float _S5488 = 2.0f * - _S5483.rows[int(1)].y;
    float _S5489 = 2.0f * _S5483.rows[int(1)].x;
    float _S5490 = 2.0f * _S5483.rows[int(0)].z;
    float _S5491 = 2.0f * _S5483.rows[int(0)].y;
    float _S5492 = 2.0f * - _S5483.rows[int(0)].x;
    float _S5493 = - _S5489 + _S5491;
    float _S5494 = _S5486 + - _S5490;
    float _S5495 = - _S5485 + _S5487;
    float _S5496 = _S5485 + _S5487;
    float _S5497 = _S5486 + _S5490;
    float _S5498 = _S5489 + _S5491;
    float _S5499 = _S5295.primal_0.w * (_S5488 + _S5492);
    float _S5500 = _S5295.primal_0.z * (_S5484 + _S5492);
    float _S5501 = _S5295.primal_0.y * (_S5484 + _S5488);
    float _S5502 = _S5295.primal_0.x * _S5493 + _S5295.primal_0.z * _S5496 + _S5295.primal_0.y * _S5497 + _S5499 + _S5499;
    float _S5503 = _S5295.primal_0.x * _S5494 + _S5295.primal_0.w * _S5496 + _S5295.primal_0.y * _S5498 + _S5500 + _S5500;
    float _S5504 = _S5295.primal_0.x * _S5495 + _S5295.primal_0.w * _S5497 + _S5295.primal_0.z * _S5498 + _S5501 + _S5501;
    float _S5505 = _S5295.primal_0.w * _S5493 + _S5295.primal_0.z * _S5494 + _S5295.primal_0.y * _S5495;
    float3  _S5506 = _S5301;
    *&((&_S5506)->z) = _S5473;
    *&((&_S5506)->y) = _S5477;
    *&((&_S5506)->x) = _S5481;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5507;
    (&_S5507)->primal_0 = _S5296.primal_0;
    (&_S5507)->differential_0 = _S5301;
    s_bwd_prop_exp_1(&_S5507, _S5506);
    Matrix<float, 2, 2>  _S5508 = _S5444;
    _S5508[int(1)] = _S5453;
    _S5508[int(0)] = _S5455;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5509;
    (&_S5509)->primal_0 = mean_c_46;
    (&_S5509)->differential_0 = _S5301;
    s_bwd_length_impl_1(&_S5509, _S5415);
    float3  _S5510 = _S5509.differential_0 + _S5429;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5511;
    (&_S5511)->primal_0 = _S5299.primal_0;
    (&_S5511)->differential_0 = _S5406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5512;
    (&_S5512)->primal_0 = _S5294.primal_0;
    (&_S5512)->differential_0 = _S5301;
    s_bwd_prop_mul_1(&_S5511, &_S5512, _S5510);
    float3  _S5513 = _S5510 + _S5409.differential_0;
    dpt_12->primal_0 = (*dpt_12).primal_0;
    dpt_12->differential_0 = _S5513;
    Matrix<float, 3, 3>  _S5514 = _S5456.differential_0 + _S5458.differential_0 + _S5460.differential_0 + _S5462.differential_0 + _S5464.differential_0 + _S5466.differential_0 + _S5468.differential_0 + _S5511.differential_0 + _S5410;
    dpR_13->primal_0 = (*dpR_13).primal_0;
    dpR_13->differential_0 = _S5514;
    dpsv_colors_11->primal_0 = dpsv_colors_11->primal_0;
    dpsv_colors_11->differential_0 = _S5426;
    dpsv_sites_11->primal_0 = dpsv_sites_11->primal_0;
    dpsv_sites_11->differential_0 = _S5428;
    dpin_opacity_11->primal_0 = (*dpin_opacity_11).primal_0;
    dpin_opacity_11->differential_0 = _S5436;
    float3  _S5515 = _S5507.differential_0 + _S5412;
    dpscale_12->primal_0 = (*dpscale_12).primal_0;
    dpscale_12->differential_0 = _S5515;
    float4  _S5516 = make_float4 (0.0f);
    *&((&_S5516)->w) = _S5502;
    *&((&_S5516)->z) = _S5503;
    *&((&_S5516)->y) = _S5504;
    *&((&_S5516)->x) = _S5505;
    dpquat_12->primal_0 = (*dpquat_12).primal_0;
    dpquat_12->differential_0 = _S5516;
    float3  _S5517 = _S5457.differential_0 + _S5463.differential_0 + _S5459.differential_0 + _S5465.differential_0 + _S5461.differential_0 + _S5467.differential_0 + _S5512.differential_0 + _S5404;
    dpmean_13->primal_0 = (*dpmean_13).primal_0;
    dpmean_13->differential_0 = _S5517;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_2(bool _S5518, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5519, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5520, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5521, DiffPair_float_0 * _S5522, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5523, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5524, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5525, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5526, float _S5527, float _S5528, float _S5529, float _S5530, FixedArray<float, 10>  * _S5531, uint _S5532, uint _S5533, float _S5534, float _S5535, float2  _S5536, float _S5537, float3  _S5538, float _S5539, float3  _S5540)
{
    FixedArray<float3 , 4>  _S5541 = _S5523->primal_0;
    FixedArray<float3 , 4>  _S5542 = _S5524->primal_0;
    int4  _S5543;
    float2  _S5544;
    float _S5545;
    float3  _S5546;
    float _S5547;
    float3  _S5548;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S5549;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(_S5518, (*_S5519).primal_0, (*_S5520).primal_0, (*_S5521).primal_0, (*_S5522).primal_0, &_S5541, &_S5542, (*_S5525).primal_0, (*_S5526).primal_0, _S5527, _S5528, _S5529, _S5530, _S5531, _S5532, _S5533, _S5534, _S5535, &_S5543, &_S5544, &_S5545, &_S5546, &_S5547, &_S5548, &_S5549);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S5550 = _S5549;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(_S5518, _S5519, _S5520, _S5521, _S5522, _S5523, _S5524, _S5525, _S5526, _S5527, _S5528, _S5529, _S5530, _S5531, _S5532, _S5533, _S5534, _S5535, _S5536, _S5537, _S5538, _S5539, _S5540, &_S5550);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_52, float3  mean_45, float4  quat_46, float3  scale_45, float in_opacity_40, FixedArray<float3 , 4>  * sv_sites_25, FixedArray<float3 , 4>  * sv_colors_25, Matrix<float, 3, 3>  R_47, float3  t_43, float fx_64, float fy_64, float cx_59, float cy_59, FixedArray<float, 10>  * dist_coeffs_67, uint image_width_52, uint image_height_52, float2  v_mean2d_10, float v_depth_11, float3  v_conic_10, float v_opacity_12, float3  v_rgb_11, float3  * v_mean_12, float4  * v_quat_11, float3  * v_scale_11, float * v_in_opacity_10, FixedArray<float3 , 4>  * v_sv_dirs_5, FixedArray<float3 , 4>  * v_sv_colors_5, Matrix<float, 3, 3>  * v_R_12, float3  * v_t_11)
{
    float3  _S5551 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_7;
    (&dp_mean_7)->primal_0 = mean_45;
    (&dp_mean_7)->differential_0 = _S5551;
    float4  _S5552 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_6;
    (&dp_quat_6)->primal_0 = quat_46;
    (&dp_quat_6)->differential_0 = _S5552;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_6;
    (&dp_scale_6)->primal_0 = scale_45;
    (&dp_scale_6)->differential_0 = _S5551;
    DiffPair_float_0 dp_in_opacity_5;
    (&dp_in_opacity_5)->primal_0 = in_opacity_40;
    (&dp_in_opacity_5)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S5553 = { _S5551, _S5551, _S5551, _S5551 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_5;
    (&dp_sv_dirs_5)->primal_0 = *sv_sites_25;
    (&dp_sv_dirs_5)->differential_0 = _S5553;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_5;
    (&dp_sv_colors_5)->primal_0 = *sv_colors_25;
    (&dp_sv_colors_5)->differential_0 = _S5553;
    Matrix<float, 3, 3>  _S5554 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_7;
    (&dp_R_7)->primal_0 = R_47;
    (&dp_R_7)->differential_0 = _S5554;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_6;
    (&dp_t_6)->primal_0 = t_43;
    (&dp_t_6)->differential_0 = _S5551;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_2(antialiased_52, &dp_mean_7, &dp_quat_6, &dp_scale_6, &dp_in_opacity_5, &dp_sv_dirs_5, &dp_sv_colors_5, &dp_R_7, &dp_t_6, fx_64, fy_64, cx_59, cy_59, dist_coeffs_67, image_width_52, image_height_52, 0.0f, 1.00000001504746622e+30f, v_mean2d_10, v_depth_11, v_conic_10, v_opacity_12, v_rgb_11);
    *v_mean_12 = dp_mean_7.differential_0;
    *v_quat_11 = dp_quat_6.differential_0;
    *v_scale_11 = dp_scale_6.differential_0;
    *v_in_opacity_10 = dp_in_opacity_5.differential_0;
    *v_sv_dirs_5 = (&dp_sv_dirs_5)->differential_0;
    *v_sv_colors_5 = (&dp_sv_colors_5)->differential_0;
    *v_R_12 = dp_R_7.differential_0;
    *v_t_11 = dp_t_6.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_53, float3  mean_46, float4  quat_47, float3  scale_46, float in_opacity_41, FixedArray<float3 , 5>  * sv_sites_26, FixedArray<float3 , 5>  * sv_colors_26, Matrix<float, 3, 3>  R_48, float3  t_44, float fx_65, float fy_65, float cx_60, float cy_60, FixedArray<float, 10>  * dist_coeffs_68, uint image_width_53, uint image_height_53, float near_plane_42, float far_plane_42, int4  * aabb_xyxy_36, float2  * mean2d_39, float * depth_31, float3  * conic_30, float * opacity_34, float3  * rgb_32)
{
    float3  mean_c_47 = mul_0(R_48, mean_46) + t_44;
    float4  intrins_44 = make_float4 (fx_65, fy_65, cx_60, cy_60);
    float3  _S5555 = exp_0(scale_46);
    float x_61 = quat_47.y;
    float x2_53 = x_61 * x_61;
    float y2_53 = quat_47.z * quat_47.z;
    float z2_68 = quat_47.w * quat_47.w;
    float xy_53 = quat_47.y * quat_47.z;
    float xz_53 = quat_47.y * quat_47.w;
    float yz_53 = quat_47.z * quat_47.w;
    float wx_53 = quat_47.x * quat_47.y;
    float wy_53 = quat_47.x * quat_47.z;
    float wz_53 = quat_47.x * quat_47.w;
    Matrix<float, 3, 3>  _S5556 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_53 + z2_68), 2.0f * (xy_53 + wz_53), 2.0f * (xz_53 - wy_53), 2.0f * (xy_53 - wz_53), 1.0f - 2.0f * (x2_53 + z2_68), 2.0f * (yz_53 + wx_53), 2.0f * (xz_53 + wy_53), 2.0f * (yz_53 - wx_53), 1.0f - 2.0f * (x2_53 + y2_53))));
    SigmaPoints_0 ret_24;
    (&ret_24)->p_0[int(0)] = mean_46;
    (&ret_24)->w_mean_0[int(0)] = 0.0f;
    (&ret_24)->w_cov_0[int(0)] = 2.0f;
    float _S5557 = (F32_sqrt((3.0f)));
    float3  delta_114 = make_float3 (_S5557 * _S5555.x) * _S5556.rows[0U];
    float3  _S5558 = mean_46 + delta_114;
    float3  _S5559 = mean_46 - delta_114;
    float3  delta_115 = make_float3 (_S5557 * _S5555.y) * _S5556.rows[1U];
    float3  _S5560 = mean_46 + delta_115;
    float3  _S5561 = mean_46 - delta_115;
    float3  delta_116 = make_float3 (_S5557 * _S5555.z) * _S5556.rows[2U];
    float3  _S5562 = mean_46 + delta_116;
    float3  _S5563 = mean_46 - delta_116;
    (&ret_24)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_24)->p_0[0U] = mul_0(R_48, (&ret_24)->p_0[0U]) + t_44;
    (&ret_24)->p_0[1U] = mul_0(R_48, _S5558) + t_44;
    (&ret_24)->p_0[2U] = mul_0(R_48, _S5560) + t_44;
    (&ret_24)->p_0[3U] = mul_0(R_48, _S5562) + t_44;
    (&ret_24)->p_0[4U] = mul_0(R_48, _S5559) + t_44;
    (&ret_24)->p_0[5U] = mul_0(R_48, _S5561) + t_44;
    (&ret_24)->p_0[6U] = mul_0(R_48, _S5563) + t_44;
    SigmaPoints_0 _S5564 = ret_24;
    Matrix<float, 2, 2>  covar2d_30;
    bool _S5565 = persp_proj_3dgs_ut_1(&_S5564, intrins_44, dist_coeffs_68, image_width_53, image_height_53, &covar2d_30, mean2d_39);
    float det_orig_48 = *&(((&covar2d_30)->rows + (int(0)))->x) * *&(((&covar2d_30)->rows + (int(1)))->y) - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x);
    float _S5566 = *&(((&covar2d_30)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(0)))->x) = _S5566;
    float _S5567 = *&(((&covar2d_30)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(1)))->y) = _S5567;
    float compensation_31 = (F32_sqrt(((F32_max((0.0f), (det_orig_48 / (_S5566 * _S5567 - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x))))))));
    *opacity_34 = 1.0f / (1.0f + (F32_exp((- in_opacity_41))));
    if(antialiased_53)
    {
        *opacity_34 = *opacity_34 * compensation_31;
    }
    float extend_30 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_34 / 0.00392156885936856f)))))))));
    float radius_x_36 = extend_30 * (F32_sqrt((covar2d_30[int(0)].x)));
    float radius_y_36 = extend_30 * (F32_sqrt((covar2d_30[int(1)].y)));
    *aabb_xyxy_36 = make_int4 (int((F32_floor(((*mean2d_39).x - radius_x_36)))), int((F32_floor(((*mean2d_39).y - radius_y_36)))), int((F32_ceil(((*mean2d_39).x + radius_x_36)))), int((F32_ceil(((*mean2d_39).y + radius_y_36)))));
    float _S5568 = mean_c_47.z;
    *depth_31 = (F32_max((_S5568), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5568 + length_1(mean_c_47)))));
    *conic_30 = exp_0(- scale_46);
    float3  _S5569 = mean_46 - - mul_0(transpose_0(R_48), t_44);
    float3  _S5570 = _S5569 * make_float3 ((F32_rsqrt((dot_0(_S5569, _S5569)))));
    float _S5571 = dot_0((*sv_sites_26)[int(4)], _S5570);
    float w_88 = (F32_exp((dot_0((*sv_sites_26)[int(0)], _S5570) - _S5571)));
    float w_89 = (F32_exp((dot_0((*sv_sites_26)[int(1)], _S5570) - _S5571)));
    float w_90 = (F32_exp((dot_0((*sv_sites_26)[int(2)], _S5570) - _S5571)));
    float w_91 = (F32_exp((dot_0((*sv_sites_26)[int(3)], _S5570) - _S5571)));
    float w_92 = (F32_exp((0.0f)));
    *rgb_32 = max_0((make_float3 (w_88) * (*sv_colors_26)[int(0)] + make_float3 (w_89) * (*sv_colors_26)[int(1)] + make_float3 (w_90) * (*sv_colors_26)[int(2)] + make_float3 (w_91) * (*sv_colors_26)[int(3)] + make_float3 (w_92) * (*sv_colors_26)[int(4)]) / make_float3 (w_88 + w_89 + w_90 + w_91 + w_92) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_54, float3  mean_47, float4  quat_48, float3  scale_47, float in_opacity_42, FixedArray<float3 , 5>  * sv_sites_27, FixedArray<float3 , 5>  * sv_colors_27, Matrix<float, 3, 3>  R_49, float3  t_45, float fx_66, float fy_66, float cx_61, float cy_61, FixedArray<float, 10>  * dist_coeffs_69, uint image_width_54, uint image_height_54, float near_plane_43, float far_plane_43, int4  * aabb_xyxy_37, float2  * mean2d_40, float * depth_32, float3  * conic_31, float * opacity_35, float3  * rgb_33)
{
    float3  mean_c_48 = mul_0(R_49, mean_47) + t_45;
    float4  intrins_45 = make_float4 (fx_66, fy_66, cx_61, cy_61);
    float3  _S5572 = exp_0(scale_47);
    float x_62 = quat_48.y;
    float x2_54 = x_62 * x_62;
    float y2_54 = quat_48.z * quat_48.z;
    float z2_69 = quat_48.w * quat_48.w;
    float xy_54 = quat_48.y * quat_48.z;
    float xz_54 = quat_48.y * quat_48.w;
    float yz_54 = quat_48.z * quat_48.w;
    float wx_54 = quat_48.x * quat_48.y;
    float wy_54 = quat_48.x * quat_48.z;
    float wz_54 = quat_48.x * quat_48.w;
    Matrix<float, 3, 3>  _S5573 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_54 + z2_69), 2.0f * (xy_54 + wz_54), 2.0f * (xz_54 - wy_54), 2.0f * (xy_54 - wz_54), 1.0f - 2.0f * (x2_54 + z2_69), 2.0f * (yz_54 + wx_54), 2.0f * (xz_54 + wy_54), 2.0f * (yz_54 - wx_54), 1.0f - 2.0f * (x2_54 + y2_54))));
    SigmaPoints_0 ret_25;
    (&ret_25)->p_0[int(0)] = mean_47;
    (&ret_25)->w_mean_0[int(0)] = 0.0f;
    (&ret_25)->w_cov_0[int(0)] = 2.0f;
    float _S5574 = (F32_sqrt((3.0f)));
    float3  delta_117 = make_float3 (_S5574 * _S5572.x) * _S5573.rows[0U];
    float3  _S5575 = mean_47 + delta_117;
    float3  _S5576 = mean_47 - delta_117;
    float3  delta_118 = make_float3 (_S5574 * _S5572.y) * _S5573.rows[1U];
    float3  _S5577 = mean_47 + delta_118;
    float3  _S5578 = mean_47 - delta_118;
    float3  delta_119 = make_float3 (_S5574 * _S5572.z) * _S5573.rows[2U];
    float3  _S5579 = mean_47 + delta_119;
    float3  _S5580 = mean_47 - delta_119;
    (&ret_25)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_25)->p_0[0U] = mul_0(R_49, (&ret_25)->p_0[0U]) + t_45;
    (&ret_25)->p_0[1U] = mul_0(R_49, _S5575) + t_45;
    (&ret_25)->p_0[2U] = mul_0(R_49, _S5577) + t_45;
    (&ret_25)->p_0[3U] = mul_0(R_49, _S5579) + t_45;
    (&ret_25)->p_0[4U] = mul_0(R_49, _S5576) + t_45;
    (&ret_25)->p_0[5U] = mul_0(R_49, _S5578) + t_45;
    (&ret_25)->p_0[6U] = mul_0(R_49, _S5580) + t_45;
    SigmaPoints_0 _S5581 = ret_25;
    Matrix<float, 2, 2>  covar2d_31;
    bool _S5582 = fisheye_proj_3dgs_ut_1(&_S5581, intrins_45, dist_coeffs_69, &covar2d_31, mean2d_40);
    float det_orig_49 = *&(((&covar2d_31)->rows + (int(0)))->x) * *&(((&covar2d_31)->rows + (int(1)))->y) - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x);
    float _S5583 = *&(((&covar2d_31)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(0)))->x) = _S5583;
    float _S5584 = *&(((&covar2d_31)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(1)))->y) = _S5584;
    float compensation_32 = (F32_sqrt(((F32_max((0.0f), (det_orig_49 / (_S5583 * _S5584 - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x))))))));
    *opacity_35 = 1.0f / (1.0f + (F32_exp((- in_opacity_42))));
    if(antialiased_54)
    {
        *opacity_35 = *opacity_35 * compensation_32;
    }
    float extend_31 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_35 / 0.00392156885936856f)))))))));
    float radius_x_37 = extend_31 * (F32_sqrt((covar2d_31[int(0)].x)));
    float radius_y_37 = extend_31 * (F32_sqrt((covar2d_31[int(1)].y)));
    *aabb_xyxy_37 = make_int4 (int((F32_floor(((*mean2d_40).x - radius_x_37)))), int((F32_floor(((*mean2d_40).y - radius_y_37)))), int((F32_ceil(((*mean2d_40).x + radius_x_37)))), int((F32_ceil(((*mean2d_40).y + radius_y_37)))));
    float _S5585 = mean_c_48.z;
    *depth_32 = (F32_max((_S5585), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5585 + length_1(mean_c_48)))));
    *conic_31 = exp_0(- scale_47);
    float3  _S5586 = mean_47 - - mul_0(transpose_0(R_49), t_45);
    float3  _S5587 = _S5586 * make_float3 ((F32_rsqrt((dot_0(_S5586, _S5586)))));
    float _S5588 = dot_0((*sv_sites_27)[int(4)], _S5587);
    float w_93 = (F32_exp((dot_0((*sv_sites_27)[int(0)], _S5587) - _S5588)));
    float w_94 = (F32_exp((dot_0((*sv_sites_27)[int(1)], _S5587) - _S5588)));
    float w_95 = (F32_exp((dot_0((*sv_sites_27)[int(2)], _S5587) - _S5588)));
    float w_96 = (F32_exp((dot_0((*sv_sites_27)[int(3)], _S5587) - _S5588)));
    float w_97 = (F32_exp((0.0f)));
    *rgb_33 = max_0((make_float3 (w_93) * (*sv_colors_27)[int(0)] + make_float3 (w_94) * (*sv_colors_27)[int(1)] + make_float3 (w_95) * (*sv_colors_27)[int(2)] + make_float3 (w_96) * (*sv_colors_27)[int(3)] + make_float3 (w_97) * (*sv_colors_27)[int(4)]) / make_float3 (w_93 + w_94 + w_95 + w_96 + w_97) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0
{
    FixedArray<float3 , 5>  primal_0;
    FixedArray<float3 , 5>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S5589;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(bool antialiased_55, float3  dpmean_14, float4  dpquat_13, float3  dpscale_13, float dpin_opacity_12, FixedArray<float3 , 5>  * dpsv_sites_12, FixedArray<float3 , 5>  * dpsv_colors_12, Matrix<float, 3, 3>  dpR_14, float3  dpt_13, float fx_67, float fy_67, float cx_62, float cy_62, FixedArray<float, 10>  * dist_coeffs_70, uint image_width_55, uint image_height_55, float near_plane_44, float far_plane_44, int4  * aabb_xyxy_38, float2  * dpmean2d_16, float * dpdepth_13, float3  * dpconic_12, float * dpopacity_14, float3  * dprgb_13, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_26)
{
    Matrix<float, 2, 2>  _S5590 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_26->_S5589 = _S5590;
    float2  _S5591 = make_float2 (0.0f);
    float3  _S5592 = make_float3 (0.0f);
    float3  mean_c_49 = s_primal_ctx_mul_0(dpR_14, dpmean_14) + dpt_13;
    float4  intrins_46 = make_float4 (fx_67, fy_67, cx_62, cy_62);
    float3  _S5593 = s_primal_ctx_exp_0(dpscale_13);
    float _S5594 = dpquat_13.y;
    float x2_55 = _S5594 * _S5594;
    float y2_55 = dpquat_13.z * dpquat_13.z;
    float z2_70 = dpquat_13.w * dpquat_13.w;
    float xy_55 = dpquat_13.y * dpquat_13.z;
    float xz_55 = dpquat_13.y * dpquat_13.w;
    float yz_55 = dpquat_13.z * dpquat_13.w;
    float wx_55 = dpquat_13.x * dpquat_13.y;
    float wy_55 = dpquat_13.x * dpquat_13.z;
    float wz_55 = dpquat_13.x * dpquat_13.w;
    Matrix<float, 3, 3>  _S5595 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_55 + z2_70), 2.0f * (xy_55 + wz_55), 2.0f * (xz_55 - wy_55), 2.0f * (xy_55 - wz_55), 1.0f - 2.0f * (x2_55 + z2_70), 2.0f * (yz_55 + wx_55), 2.0f * (xz_55 + wy_55), 2.0f * (yz_55 - wx_55), 1.0f - 2.0f * (x2_55 + y2_55))));
    FixedArray<float3 , 7>  _S5596 = {
        _S5592, _S5592, _S5592, _S5592, _S5592, _S5592, _S5592
    };
    FixedArray<float, 7>  _S5597 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5598;
    (&_S5598)->p_0 = _S5596;
    (&_S5598)->w_mean_0 = _S5597;
    (&_S5598)->w_cov_0 = _S5597;
    (&_S5598)->p_0[int(0)] = dpmean_14;
    SigmaPoints_0 _S5599 = _S5598;
    (&_S5599)->w_mean_0[int(0)] = 0.0f;
    (&_S5599)->w_cov_0[int(0)] = 2.0f;
    float _S5600 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_120 = make_float3 (_S5600 * _S5593.x) * _S5595.rows[0U];
    float3  _S5601 = dpmean_14 + delta_120;
    float3  _S5602 = dpmean_14 - delta_120;
    float3  delta_121 = make_float3 (_S5600 * _S5593.y) * _S5595.rows[1U];
    float3  _S5603 = dpmean_14 + delta_121;
    float3  _S5604 = dpmean_14 - delta_121;
    float3  delta_122 = make_float3 (_S5600 * _S5593.z) * _S5595.rows[2U];
    float3  _S5605 = dpmean_14 + delta_122;
    float3  _S5606 = dpmean_14 - delta_122;
    (&_S5599)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5599)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5599)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5599)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5599)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5599)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5599)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5599)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5599)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5599)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5599)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5599)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5599)->p_0[0U] = s_primal_ctx_mul_0(dpR_14, _S5598.p_0[0U]) + dpt_13;
    (&_S5599)->p_0[1U] = s_primal_ctx_mul_0(dpR_14, _S5601) + dpt_13;
    (&_S5599)->p_0[2U] = s_primal_ctx_mul_0(dpR_14, _S5603) + dpt_13;
    (&_S5599)->p_0[3U] = s_primal_ctx_mul_0(dpR_14, _S5605) + dpt_13;
    (&_S5599)->p_0[4U] = s_primal_ctx_mul_0(dpR_14, _S5602) + dpt_13;
    (&_S5599)->p_0[5U] = s_primal_ctx_mul_0(dpR_14, _S5604) + dpt_13;
    (&_S5599)->p_0[6U] = s_primal_ctx_mul_0(dpR_14, _S5606) + dpt_13;
    float2  _S5607 = _S5591;
    Matrix<float, 2, 2>  _S5608 = _S5590;
    SigmaPoints_0 _S5609 = _S5599;
    bool _S5610 = persp_proj_3dgs_ut_1(&_S5609, intrins_46, dist_coeffs_70, image_width_55, image_height_55, &_S5608, &_S5607);
    _s_diff_ctx_26->_S5589 = _S5608;
    float2  _S5611 = _S5607;
    float _S5612 = _S5608.rows[int(0)].y * _S5608.rows[int(1)].x;
    float det_orig_50 = _S5608.rows[int(0)].x * _S5608.rows[int(1)].y - _S5612;
    float _S5613 = _S5608.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5614 = _S5608;
    *&(((&_S5614)->rows + (int(0)))->x) = _S5613;
    float _S5615 = _S5608.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5614)->rows + (int(1)))->y) = _S5615;
    Matrix<float, 2, 2>  _S5616 = _S5614;
    Matrix<float, 2, 2>  _S5617 = _S5614;
    float _S5618 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_50 / (_S5613 * _S5615 - _S5612)));
    float _S5619 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_12));
    float _S5620;
    if(antialiased_55)
    {
        _S5620 = _S5619 * _S5618;
    }
    else
    {
        _S5620 = _S5619;
    }
    float _S5621 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5620 / 0.00392156885936856f)));
    float radius_x_38 = _S5621 * s_primal_ctx_sqrt_0(_S5616.rows[int(0)].x);
    float radius_y_38 = _S5621 * s_primal_ctx_sqrt_0(_S5617.rows[int(1)].y);
    float _S5622 = _S5611.x;
    float _S5623 = _S5611.y;
    float _S5624 = mean_c_49.z;
    float _S5625 = s_primal_ctx_max_0(_S5624, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5624 + length_1(mean_c_49)));
    float3  _S5626 = s_primal_ctx_exp_0(- dpscale_13);
    float3  _S5627 = dpmean_14 - - s_primal_ctx_mul_0(transpose_0(dpR_14), dpt_13);
    float3  _S5628 = _S5627 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5627, _S5627)));
    float _S5629 = s_primal_ctx_dot_0((*dpsv_sites_12)[int(4)], _S5628);
    float _S5630 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(0)], _S5628) - _S5629);
    float _S5631 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(1)], _S5628) - _S5629);
    float _S5632 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(2)], _S5628) - _S5629);
    float _S5633 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(3)], _S5628) - _S5629);
    float _S5634 = s_primal_ctx_exp_1(0.0f);
    float3  _S5635 = s_primal_ctx_max_1((make_float3 (_S5630) * (*dpsv_colors_12)[int(0)] + make_float3 (_S5631) * (*dpsv_colors_12)[int(1)] + make_float3 (_S5632) * (*dpsv_colors_12)[int(2)] + make_float3 (_S5633) * (*dpsv_colors_12)[int(3)] + make_float3 (_S5634) * (*dpsv_colors_12)[int(4)]) / make_float3 (_S5630 + _S5631 + _S5632 + _S5633 + _S5634) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_38 = make_int4 (int((F32_floor((_S5622 - radius_x_38)))), int((F32_floor((_S5623 - radius_y_38)))), int((F32_ceil((_S5622 + radius_x_38)))), int((F32_ceil((_S5623 + radius_y_38)))));
    *dpmean2d_16 = _S5611;
    *dpdepth_13 = _S5625;
    *dpconic_12 = _S5626;
    *dpopacity_14 = _S5620;
    *dprgb_13 = _S5635;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(bool antialiased_56, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_15, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_14, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_14, DiffPair_float_0 * dpin_opacity_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_13, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_15, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_14, float fx_68, float fy_68, float cx_63, float cy_63, FixedArray<float, 10>  * dist_coeffs_71, uint image_width_56, uint image_height_56, float near_plane_45, float far_plane_45, float2  dpmean2d_17, float dpdepth_14, float3  dpconic_13, float dpopacity_15, float3  dprgb_14, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_27)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5636 = *dpmean_15;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5637 = *dpquat_14;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5638 = *dpscale_14;
    FixedArray<float3 , 5>  _S5639 = dpsv_sites_13->primal_0;
    FixedArray<float3 , 5>  _S5640 = dpsv_colors_13->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5641 = *dpR_15;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5642 = *dpt_14;
    float3  _S5643 = make_float3 (0.0f);
    float3  mean_c_50 = s_primal_ctx_mul_0((*dpR_15).primal_0, (*dpmean_15).primal_0) + (*dpt_14).primal_0;
    float3  _S5644 = s_primal_ctx_exp_0((*dpscale_14).primal_0);
    float _S5645 = (*dpquat_14).primal_0.y;
    float x2_56 = _S5645 * _S5645;
    float y2_56 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.z;
    float z2_71 = (*dpquat_14).primal_0.w * (*dpquat_14).primal_0.w;
    float xy_56 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.z;
    float xz_56 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.w;
    float yz_56 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.w;
    float wx_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.y;
    float wy_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.z;
    float wz_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.w;
    Matrix<float, 3, 3>  _S5646 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_56 + z2_71), 2.0f * (xy_56 + wz_56), 2.0f * (xz_56 - wy_56), 2.0f * (xy_56 - wz_56), 1.0f - 2.0f * (x2_56 + z2_71), 2.0f * (yz_56 + wx_56), 2.0f * (xz_56 + wy_56), 2.0f * (yz_56 - wx_56), 1.0f - 2.0f * (x2_56 + y2_56))));
    FixedArray<float3 , 7>  _S5647 = {
        _S5643, _S5643, _S5643, _S5643, _S5643, _S5643, _S5643
    };
    FixedArray<float, 7>  _S5648 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5649;
    (&_S5649)->p_0 = _S5647;
    (&_S5649)->w_mean_0 = _S5648;
    (&_S5649)->w_cov_0 = _S5648;
    (&_S5649)->p_0[int(0)] = (*dpmean_15).primal_0;
    float _S5650 = s_primal_ctx_sqrt_0(3.0f);
    float _S5651 = _S5650 * _S5644.x;
    float3  _S5652 = make_float3 (_S5651);
    float3  delta_123 = make_float3 (_S5651) * _S5646.rows[0U];
    float3  _S5653 = (*dpmean_15).primal_0 + delta_123;
    float3  _S5654 = (*dpmean_15).primal_0 - delta_123;
    float _S5655 = _S5650 * _S5644.y;
    float3  _S5656 = make_float3 (_S5655);
    float3  delta_124 = make_float3 (_S5655) * _S5646.rows[1U];
    float3  _S5657 = (*dpmean_15).primal_0 + delta_124;
    float3  _S5658 = (*dpmean_15).primal_0 - delta_124;
    float _S5659 = _S5650 * _S5644.z;
    float3  _S5660 = make_float3 (_S5659);
    float3  delta_125 = make_float3 (_S5659) * _S5646.rows[2U];
    float3  _S5661 = (*dpmean_15).primal_0 + delta_125;
    float3  _S5662 = (*dpmean_15).primal_0 - delta_125;
    SigmaPoints_0 _S5663 = _S5649;
    float _S5664 = *&(((&_s_diff_ctx_27->_S5589)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_27->_S5589)->rows + (int(1)))->x);
    float det_orig_51 = *&(((&_s_diff_ctx_27->_S5589)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_27->_S5589)->rows + (int(1)))->y) - _S5664;
    float _S5665 = *&(((&_s_diff_ctx_27->_S5589)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5666 = _s_diff_ctx_27->_S5589;
    *&(((&_S5666)->rows + (int(0)))->x) = _S5665;
    float _S5667 = *&(((&_s_diff_ctx_27->_S5589)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5666)->rows + (int(1)))->y) = _S5667;
    Matrix<float, 2, 2>  _S5668 = _S5666;
    Matrix<float, 2, 2>  _S5669 = _S5666;
    float det_blur_31 = _S5665 * _S5667 - _S5664;
    float _S5670 = det_orig_51 / det_blur_31;
    float _S5671 = det_blur_31 * det_blur_31;
    float _S5672 = s_primal_ctx_max_0(0.0f, _S5670);
    float _S5673 = s_primal_ctx_sqrt_0(_S5672);
    float _S5674 = - (*dpin_opacity_13).primal_0;
    float _S5675 = 1.0f + s_primal_ctx_exp_1(_S5674);
    float _S5676 = 1.0f / _S5675;
    float _S5677 = _S5675 * _S5675;
    float _S5678;
    if(antialiased_56)
    {
        _S5678 = _S5676 * _S5673;
    }
    else
    {
        _S5678 = _S5676;
    }
    float _S5679 = _S5678 / 0.00392156885936856f;
    float _S5680 = 2.0f * s_primal_ctx_log_0(_S5679);
    float _S5681 = s_primal_ctx_sqrt_0(_S5680);
    float _S5682 = _S5668.rows[int(0)].x;
    float _S5683 = _S5669.rows[int(1)].y;
    float _S5684 = mean_c_50.z;
    float _S5685 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5686 = _S5685 * (_S5684 + length_1(mean_c_50));
    float3  _S5687 = - _S5638.primal_0;
    Matrix<float, 3, 3>  _S5688 = transpose_0(_S5641.primal_0);
    float3  _S5689 = _S5636.primal_0 - - s_primal_ctx_mul_0(_S5688, _S5642.primal_0);
    float _S5690 = s_primal_ctx_dot_0(_S5689, _S5689);
    float _S5691 = s_primal_ctx_rsqrt_0(_S5690);
    float3  _S5692 = make_float3 (_S5691);
    float3  _S5693 = _S5689 * make_float3 (_S5691);
    float _S5694 = s_primal_ctx_dot_0(_S5639[int(4)], _S5693);
    float _S5695 = s_primal_ctx_dot_0(_S5639[int(0)], _S5693) - _S5694;
    float _S5696 = s_primal_ctx_exp_1(_S5695);
    float3  _S5697 = make_float3 (_S5696);
    float _S5698 = s_primal_ctx_dot_0(_S5639[int(1)], _S5693) - _S5694;
    float _S5699 = s_primal_ctx_exp_1(_S5698);
    float3  _S5700 = make_float3 (_S5699);
    float _S5701 = s_primal_ctx_dot_0(_S5639[int(2)], _S5693) - _S5694;
    float _S5702 = s_primal_ctx_exp_1(_S5701);
    float3  _S5703 = make_float3 (_S5702);
    float _S5704 = s_primal_ctx_dot_0(_S5639[int(3)], _S5693) - _S5694;
    float _S5705 = s_primal_ctx_exp_1(_S5704);
    float3  _S5706 = make_float3 (_S5705);
    float _S5707 = s_primal_ctx_exp_1(0.0f);
    float3  _S5708 = make_float3 (_S5707);
    float total_w_6 = _S5696 + _S5699 + _S5702 + _S5705 + _S5707;
    float3  _S5709 = make_float3 (total_w_6);
    float3  total_c_6 = make_float3 (_S5696) * _S5640[int(0)] + make_float3 (_S5699) * _S5640[int(1)] + make_float3 (_S5702) * _S5640[int(2)] + make_float3 (_S5705) * _S5640[int(3)] + make_float3 (_S5707) * _S5640[int(4)];
    float3  _S5710 = make_float3 (total_w_6 * total_w_6);
    float3  _S5711 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5712;
    (&_S5712)->primal_0 = total_c_6 / make_float3 (total_w_6) + make_float3 (0.5f);
    (&_S5712)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5713;
    (&_S5713)->primal_0 = _S5711;
    (&_S5713)->differential_0 = _S5643;
    s_bwd_prop_max_0(&_S5712, &_S5713, dprgb_14);
    float3  _S5714 = _S5712.differential_0 / _S5710;
    float3  _S5715 = total_c_6 * - _S5714;
    float3  s_diff_total_c_T_6 = _S5709 * _S5714;
    float3  _S5716 = _S5708 * s_diff_total_c_T_6;
    float _S5717 = _S5715.x + _S5715.y + _S5715.z;
    float3  _S5718 = _S5706 * s_diff_total_c_T_6;
    float3  _S5719 = _S5640[int(3)] * s_diff_total_c_T_6;
    float _S5720 = _S5717 + _S5719.x + _S5719.y + _S5719.z;
    DiffPair_float_0 _S5721;
    (&_S5721)->primal_0 = _S5704;
    (&_S5721)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5721, _S5720);
    float _S5722 = - _S5721.differential_0;
    float3  _S5723 = _S5703 * s_diff_total_c_T_6;
    float3  _S5724 = _S5640[int(2)] * s_diff_total_c_T_6;
    float _S5725 = _S5717 + _S5724.x + _S5724.y + _S5724.z;
    DiffPair_float_0 _S5726;
    (&_S5726)->primal_0 = _S5701;
    (&_S5726)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5726, _S5725);
    float _S5727 = - _S5726.differential_0;
    float3  _S5728 = _S5700 * s_diff_total_c_T_6;
    float3  _S5729 = _S5640[int(1)] * s_diff_total_c_T_6;
    float _S5730 = _S5717 + _S5729.x + _S5729.y + _S5729.z;
    DiffPair_float_0 _S5731;
    (&_S5731)->primal_0 = _S5698;
    (&_S5731)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5731, _S5730);
    float _S5732 = - _S5731.differential_0;
    float3  _S5733 = _S5697 * s_diff_total_c_T_6;
    float3  _S5734 = _S5640[int(0)] * s_diff_total_c_T_6;
    float _S5735 = _S5717 + _S5734.x + _S5734.y + _S5734.z;
    DiffPair_float_0 _S5736;
    (&_S5736)->primal_0 = _S5695;
    (&_S5736)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5736, _S5735);
    float _S5737 = _S5722 + _S5727 + _S5732 + - _S5736.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5738;
    (&_S5738)->primal_0 = _S5639[int(4)];
    (&_S5738)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5739;
    (&_S5739)->primal_0 = _S5693;
    (&_S5739)->differential_0 = _S5643;
    s_bwd_prop_dot_0(&_S5738, &_S5739, _S5737);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5740;
    (&_S5740)->primal_0 = _S5639[int(3)];
    (&_S5740)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5741;
    (&_S5741)->primal_0 = _S5693;
    (&_S5741)->differential_0 = _S5643;
    s_bwd_prop_dot_0(&_S5740, &_S5741, _S5721.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5742;
    (&_S5742)->primal_0 = _S5639[int(2)];
    (&_S5742)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5743;
    (&_S5743)->primal_0 = _S5693;
    (&_S5743)->differential_0 = _S5643;
    s_bwd_prop_dot_0(&_S5742, &_S5743, _S5726.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5744;
    (&_S5744)->primal_0 = _S5639[int(1)];
    (&_S5744)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5745;
    (&_S5745)->primal_0 = _S5693;
    (&_S5745)->differential_0 = _S5643;
    s_bwd_prop_dot_0(&_S5744, &_S5745, _S5731.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5746;
    (&_S5746)->primal_0 = _S5639[int(0)];
    (&_S5746)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5747;
    (&_S5747)->primal_0 = _S5693;
    (&_S5747)->differential_0 = _S5643;
    s_bwd_prop_dot_0(&_S5746, &_S5747, _S5736.differential_0);
    float3  _S5748 = _S5739.differential_0 + _S5741.differential_0 + _S5743.differential_0 + _S5745.differential_0 + _S5747.differential_0;
    float3  _S5749 = _S5689 * _S5748;
    float3  _S5750 = _S5692 * _S5748;
    float _S5751 = _S5749.x + _S5749.y + _S5749.z;
    DiffPair_float_0 _S5752;
    (&_S5752)->primal_0 = _S5690;
    (&_S5752)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5752, _S5751);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5753;
    (&_S5753)->primal_0 = _S5689;
    (&_S5753)->differential_0 = _S5643;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5754;
    (&_S5754)->primal_0 = _S5689;
    (&_S5754)->differential_0 = _S5643;
    s_bwd_prop_dot_0(&_S5753, &_S5754, _S5752.differential_0);
    float3  _S5755 = _S5750 + _S5754.differential_0 + _S5753.differential_0;
    float3  _S5756 = - - _S5755;
    Matrix<float, 3, 3>  _S5757 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5758;
    (&_S5758)->primal_0 = _S5688;
    (&_S5758)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5759;
    (&_S5759)->primal_0 = _S5642.primal_0;
    (&_S5759)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5758, &_S5759, _S5756);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5760 = _S5759;
    Matrix<float, 3, 3>  _S5761 = transpose_0(_S5758.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5762;
    (&_S5762)->primal_0 = _S5687;
    (&_S5762)->differential_0 = _S5643;
    s_bwd_prop_exp_1(&_S5762, dpconic_13);
    float3  _S5763 = - _S5762.differential_0;
    DiffPair_float_0 _S5764;
    (&_S5764)->primal_0 = _S5684;
    (&_S5764)->differential_0 = 0.0f;
    DiffPair_float_0 _S5765;
    (&_S5765)->primal_0 = _S5686;
    (&_S5765)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5764, &_S5765, dpdepth_14);
    float _S5766 = _S5685 * _S5765.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5767;
    (&_S5767)->primal_0 = mean_c_50;
    (&_S5767)->differential_0 = _S5643;
    s_bwd_length_impl_1(&_S5767, _S5766);
    float _S5768 = _S5764.differential_0 + _S5766;
    DiffPair_float_0 _S5769;
    (&_S5769)->primal_0 = _S5683;
    (&_S5769)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5769, 0.0f);
    DiffPair_float_0 _S5770;
    (&_S5770)->primal_0 = _S5682;
    (&_S5770)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5770, 0.0f);
    DiffPair_float_0 _S5771;
    (&_S5771)->primal_0 = 3.32999992370605469f;
    (&_S5771)->differential_0 = 0.0f;
    DiffPair_float_0 _S5772;
    (&_S5772)->primal_0 = _S5681;
    (&_S5772)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5771, &_S5772, 0.0f);
    DiffPair_float_0 _S5773;
    (&_S5773)->primal_0 = _S5680;
    (&_S5773)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5773, _S5772.differential_0);
    float _S5774 = 2.0f * _S5773.differential_0;
    DiffPair_float_0 _S5775;
    (&_S5775)->primal_0 = _S5679;
    (&_S5775)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5775, _S5774);
    float _S5776 = dpopacity_15 + 254.9999847412109375f * _S5775.differential_0;
    FixedArray<float3 , 5>  _S5777;
    _S5777[int(0)] = _S5643;
    _S5777[int(1)] = _S5643;
    _S5777[int(2)] = _S5643;
    _S5777[int(3)] = _S5643;
    _S5777[int(4)] = _S5643;
    _S5777[int(4)] = _S5716;
    _S5777[int(3)] = _S5718;
    _S5777[int(2)] = _S5723;
    _S5777[int(1)] = _S5728;
    _S5777[int(0)] = _S5733;
    FixedArray<float3 , 5>  _S5778 = {
        _S5777[int(0)], _S5777[int(1)], _S5777[int(2)], _S5777[int(3)], _S5777[int(4)]
    };
    FixedArray<float3 , 5>  _S5779;
    _S5779[int(0)] = _S5643;
    _S5779[int(1)] = _S5643;
    _S5779[int(2)] = _S5643;
    _S5779[int(3)] = _S5643;
    _S5779[int(4)] = _S5643;
    _S5779[int(4)] = _S5738.differential_0;
    _S5779[int(3)] = _S5740.differential_0;
    _S5779[int(2)] = _S5742.differential_0;
    _S5779[int(1)] = _S5744.differential_0;
    _S5779[int(0)] = _S5746.differential_0;
    FixedArray<float3 , 5>  _S5780 = {
        _S5779[int(0)], _S5779[int(1)], _S5779[int(2)], _S5779[int(3)], _S5779[int(4)]
    };
    float3  _S5781 = _S5767.differential_0 + make_float3 (0.0f, 0.0f, _S5768);
    float2  _S5782 = make_float2 (0.0f, _S5769.differential_0);
    float2  _S5783 = make_float2 (_S5770.differential_0, 0.0f);
    float _S5784;
    if(antialiased_56)
    {
        float _S5785 = _S5676 * _S5776;
        _S5678 = _S5673 * _S5776;
        _S5784 = _S5785;
    }
    else
    {
        _S5678 = _S5776;
        _S5784 = 0.0f;
    }
    float _S5786 = - (_S5678 / _S5677);
    DiffPair_float_0 _S5787;
    (&_S5787)->primal_0 = _S5674;
    (&_S5787)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5787, _S5786);
    float _S5788 = - _S5787.differential_0;
    DiffPair_float_0 _S5789;
    (&_S5789)->primal_0 = _S5672;
    (&_S5789)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5789, _S5784);
    DiffPair_float_0 _S5790;
    (&_S5790)->primal_0 = 0.0f;
    (&_S5790)->differential_0 = 0.0f;
    DiffPair_float_0 _S5791;
    (&_S5791)->primal_0 = _S5670;
    (&_S5791)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5790, &_S5791, _S5789.differential_0);
    float _S5792 = _S5791.differential_0 / _S5671;
    float s_diff_det_blur_T_8 = det_orig_51 * - _S5792;
    float s_diff_det_orig_T_11 = det_blur_31 * _S5792;
    float _S5793 = - s_diff_det_blur_T_8;
    float _S5794 = _S5665 * s_diff_det_blur_T_8;
    float _S5795 = _S5667 * s_diff_det_blur_T_8;
    Matrix<float, 2, 2>  _S5796 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5797 = _S5796;
    _S5797[int(1)] = _S5782;
    _S5797[int(0)] = _S5783;
    float _S5798 = _S5795 + _S5797.rows[int(0)].x;
    float _S5799 = _S5793 + - s_diff_det_orig_T_11;
    float _S5800 = *&(((&_s_diff_ctx_27->_S5589)->rows + (int(0)))->y) * _S5799;
    float _S5801 = *&(((&_s_diff_ctx_27->_S5589)->rows + (int(1)))->x) * _S5799;
    float _S5802 = *&(((&_s_diff_ctx_27->_S5589)->rows + (int(1)))->y) * s_diff_det_orig_T_11;
    float _S5803 = _S5794 + _S5797.rows[int(1)].y + *&(((&_s_diff_ctx_27->_S5589)->rows + (int(0)))->x) * s_diff_det_orig_T_11;
    float2  _S5804 = make_float2 (0.0f);
    float2  _S5805 = _S5804;
    *&((&_S5805)->x) = _S5800;
    *&((&_S5805)->y) = _S5803;
    float _S5806 = _S5798 + _S5802;
    float2  _S5807 = _S5804;
    *&((&_S5807)->y) = _S5801;
    *&((&_S5807)->x) = _S5806;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5808;
    (&_S5808)->primal_0 = _S5641.primal_0;
    (&_S5808)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5809;
    (&_S5809)->primal_0 = _S5662;
    (&_S5809)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5808, &_S5809, _S5643);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5810;
    (&_S5810)->primal_0 = _S5641.primal_0;
    (&_S5810)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5811;
    (&_S5811)->primal_0 = _S5658;
    (&_S5811)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5810, &_S5811, _S5643);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5812;
    (&_S5812)->primal_0 = _S5641.primal_0;
    (&_S5812)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5813;
    (&_S5813)->primal_0 = _S5654;
    (&_S5813)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5812, &_S5813, _S5643);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5814;
    (&_S5814)->primal_0 = _S5641.primal_0;
    (&_S5814)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5815;
    (&_S5815)->primal_0 = _S5661;
    (&_S5815)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5814, &_S5815, _S5643);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5816;
    (&_S5816)->primal_0 = _S5641.primal_0;
    (&_S5816)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5817;
    (&_S5817)->primal_0 = _S5657;
    (&_S5817)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5816, &_S5817, _S5643);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5818;
    (&_S5818)->primal_0 = _S5641.primal_0;
    (&_S5818)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5819;
    (&_S5819)->primal_0 = _S5653;
    (&_S5819)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5818, &_S5819, _S5643);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5820;
    (&_S5820)->primal_0 = _S5641.primal_0;
    (&_S5820)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5821;
    (&_S5821)->primal_0 = _S5663.p_0[0U];
    (&_S5821)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5820, &_S5821, _S5643);
    float3  _S5822 = - _S5809.differential_0 + _S5815.differential_0;
    float3  _S5823 = _S5660 * _S5822;
    float3  _S5824 = _S5646.rows[2U] * _S5822;
    float _S5825 = _S5650 * (_S5824.x + _S5824.y + _S5824.z);
    float3  _S5826 = - _S5811.differential_0 + _S5817.differential_0;
    float3  _S5827 = _S5656 * _S5826;
    float3  _S5828 = _S5646.rows[1U] * _S5826;
    float _S5829 = _S5650 * (_S5828.x + _S5828.y + _S5828.z);
    float3  _S5830 = - _S5813.differential_0 + _S5819.differential_0;
    float3  _S5831 = _S5652 * _S5830;
    float3  _S5832 = _S5646.rows[0U] * _S5830;
    float _S5833 = _S5650 * (_S5832.x + _S5832.y + _S5832.z);
    Matrix<float, 3, 3>  _S5834 = _S5757;
    _S5834[2U] = _S5823;
    _S5834[1U] = _S5827;
    _S5834[0U] = _S5831;
    Matrix<float, 3, 3>  _S5835 = transpose_0(transpose_0(_S5834));
    float _S5836 = 2.0f * - _S5835.rows[int(2)].z;
    float _S5837 = 2.0f * _S5835.rows[int(2)].y;
    float _S5838 = 2.0f * _S5835.rows[int(2)].x;
    float _S5839 = 2.0f * _S5835.rows[int(1)].z;
    float _S5840 = 2.0f * - _S5835.rows[int(1)].y;
    float _S5841 = 2.0f * _S5835.rows[int(1)].x;
    float _S5842 = 2.0f * _S5835.rows[int(0)].z;
    float _S5843 = 2.0f * _S5835.rows[int(0)].y;
    float _S5844 = 2.0f * - _S5835.rows[int(0)].x;
    float _S5845 = - _S5841 + _S5843;
    float _S5846 = _S5838 + - _S5842;
    float _S5847 = - _S5837 + _S5839;
    float _S5848 = _S5837 + _S5839;
    float _S5849 = _S5838 + _S5842;
    float _S5850 = _S5841 + _S5843;
    float _S5851 = _S5637.primal_0.w * (_S5840 + _S5844);
    float _S5852 = _S5637.primal_0.z * (_S5836 + _S5844);
    float _S5853 = _S5637.primal_0.y * (_S5836 + _S5840);
    float _S5854 = _S5637.primal_0.x * _S5845 + _S5637.primal_0.z * _S5848 + _S5637.primal_0.y * _S5849 + _S5851 + _S5851;
    float _S5855 = _S5637.primal_0.x * _S5846 + _S5637.primal_0.w * _S5848 + _S5637.primal_0.y * _S5850 + _S5852 + _S5852;
    float _S5856 = _S5637.primal_0.x * _S5847 + _S5637.primal_0.w * _S5849 + _S5637.primal_0.z * _S5850 + _S5853 + _S5853;
    float _S5857 = _S5637.primal_0.w * _S5845 + _S5637.primal_0.z * _S5846 + _S5637.primal_0.y * _S5847;
    float3  _S5858 = _S5643;
    *&((&_S5858)->z) = _S5825;
    *&((&_S5858)->y) = _S5829;
    *&((&_S5858)->x) = _S5833;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5859;
    (&_S5859)->primal_0 = _S5638.primal_0;
    (&_S5859)->differential_0 = _S5643;
    s_bwd_prop_exp_1(&_S5859, _S5858);
    Matrix<float, 2, 2>  _S5860 = _S5796;
    _S5860[int(1)] = _S5805;
    _S5860[int(0)] = _S5807;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5861;
    (&_S5861)->primal_0 = _S5641.primal_0;
    (&_S5861)->differential_0 = _S5757;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5862;
    (&_S5862)->primal_0 = _S5636.primal_0;
    (&_S5862)->differential_0 = _S5643;
    s_bwd_prop_mul_1(&_S5861, &_S5862, _S5781);
    float3  _S5863 = _S5781 + _S5760.differential_0;
    dpt_14->primal_0 = (*dpt_14).primal_0;
    dpt_14->differential_0 = _S5863;
    Matrix<float, 3, 3>  _S5864 = _S5808.differential_0 + _S5810.differential_0 + _S5812.differential_0 + _S5814.differential_0 + _S5816.differential_0 + _S5818.differential_0 + _S5820.differential_0 + _S5861.differential_0 + _S5761;
    dpR_15->primal_0 = (*dpR_15).primal_0;
    dpR_15->differential_0 = _S5864;
    dpsv_colors_13->primal_0 = dpsv_colors_13->primal_0;
    dpsv_colors_13->differential_0 = _S5778;
    dpsv_sites_13->primal_0 = dpsv_sites_13->primal_0;
    dpsv_sites_13->differential_0 = _S5780;
    dpin_opacity_13->primal_0 = (*dpin_opacity_13).primal_0;
    dpin_opacity_13->differential_0 = _S5788;
    float3  _S5865 = _S5859.differential_0 + _S5763;
    dpscale_14->primal_0 = (*dpscale_14).primal_0;
    dpscale_14->differential_0 = _S5865;
    float4  _S5866 = make_float4 (0.0f);
    *&((&_S5866)->w) = _S5854;
    *&((&_S5866)->z) = _S5855;
    *&((&_S5866)->y) = _S5856;
    *&((&_S5866)->x) = _S5857;
    dpquat_14->primal_0 = (*dpquat_14).primal_0;
    dpquat_14->differential_0 = _S5866;
    float3  _S5867 = _S5809.differential_0 + _S5815.differential_0 + _S5811.differential_0 + _S5817.differential_0 + _S5813.differential_0 + _S5819.differential_0 + _S5862.differential_0 + _S5755;
    dpmean_15->primal_0 = (*dpmean_15).primal_0;
    dpmean_15->differential_0 = _S5867;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_3(bool _S5868, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5869, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5870, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5871, DiffPair_float_0 * _S5872, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5873, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5874, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5875, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5876, float _S5877, float _S5878, float _S5879, float _S5880, FixedArray<float, 10>  * _S5881, uint _S5882, uint _S5883, float _S5884, float _S5885, float2  _S5886, float _S5887, float3  _S5888, float _S5889, float3  _S5890)
{
    FixedArray<float3 , 5>  _S5891 = _S5873->primal_0;
    FixedArray<float3 , 5>  _S5892 = _S5874->primal_0;
    int4  _S5893;
    float2  _S5894;
    float _S5895;
    float3  _S5896;
    float _S5897;
    float3  _S5898;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S5899;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(_S5868, (*_S5869).primal_0, (*_S5870).primal_0, (*_S5871).primal_0, (*_S5872).primal_0, &_S5891, &_S5892, (*_S5875).primal_0, (*_S5876).primal_0, _S5877, _S5878, _S5879, _S5880, _S5881, _S5882, _S5883, _S5884, _S5885, &_S5893, &_S5894, &_S5895, &_S5896, &_S5897, &_S5898, &_S5899);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S5900 = _S5899;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(_S5868, _S5869, _S5870, _S5871, _S5872, _S5873, _S5874, _S5875, _S5876, _S5877, _S5878, _S5879, _S5880, _S5881, _S5882, _S5883, _S5884, _S5885, _S5886, _S5887, _S5888, _S5889, _S5890, &_S5900);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_57, float3  mean_48, float4  quat_49, float3  scale_48, float in_opacity_43, FixedArray<float3 , 5>  * sv_sites_28, FixedArray<float3 , 5>  * sv_colors_28, Matrix<float, 3, 3>  R_50, float3  t_46, float fx_69, float fy_69, float cx_64, float cy_64, FixedArray<float, 10>  * dist_coeffs_72, uint image_width_57, uint image_height_57, float2  v_mean2d_11, float v_depth_12, float3  v_conic_11, float v_opacity_13, float3  v_rgb_12, float3  * v_mean_13, float4  * v_quat_12, float3  * v_scale_12, float * v_in_opacity_11, FixedArray<float3 , 5>  * v_sv_dirs_6, FixedArray<float3 , 5>  * v_sv_colors_6, Matrix<float, 3, 3>  * v_R_13, float3  * v_t_12)
{
    float3  _S5901 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_8;
    (&dp_mean_8)->primal_0 = mean_48;
    (&dp_mean_8)->differential_0 = _S5901;
    float4  _S5902 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_7;
    (&dp_quat_7)->primal_0 = quat_49;
    (&dp_quat_7)->differential_0 = _S5902;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_7;
    (&dp_scale_7)->primal_0 = scale_48;
    (&dp_scale_7)->differential_0 = _S5901;
    DiffPair_float_0 dp_in_opacity_6;
    (&dp_in_opacity_6)->primal_0 = in_opacity_43;
    (&dp_in_opacity_6)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S5903 = { _S5901, _S5901, _S5901, _S5901, _S5901 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_6;
    (&dp_sv_dirs_6)->primal_0 = *sv_sites_28;
    (&dp_sv_dirs_6)->differential_0 = _S5903;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_6;
    (&dp_sv_colors_6)->primal_0 = *sv_colors_28;
    (&dp_sv_colors_6)->differential_0 = _S5903;
    Matrix<float, 3, 3>  _S5904 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_8;
    (&dp_R_8)->primal_0 = R_50;
    (&dp_R_8)->differential_0 = _S5904;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_7;
    (&dp_t_7)->primal_0 = t_46;
    (&dp_t_7)->differential_0 = _S5901;
    s_bwd_projection_3dgut_sv_persp_differentiable_3(antialiased_57, &dp_mean_8, &dp_quat_7, &dp_scale_7, &dp_in_opacity_6, &dp_sv_dirs_6, &dp_sv_colors_6, &dp_R_8, &dp_t_7, fx_69, fy_69, cx_64, cy_64, dist_coeffs_72, image_width_57, image_height_57, 0.0f, 1.00000001504746622e+30f, v_mean2d_11, v_depth_12, v_conic_11, v_opacity_13, v_rgb_12);
    *v_mean_13 = dp_mean_8.differential_0;
    *v_quat_12 = dp_quat_7.differential_0;
    *v_scale_12 = dp_scale_7.differential_0;
    *v_in_opacity_11 = dp_in_opacity_6.differential_0;
    *v_sv_dirs_6 = (&dp_sv_dirs_6)->differential_0;
    *v_sv_colors_6 = (&dp_sv_colors_6)->differential_0;
    *v_R_13 = dp_R_8.differential_0;
    *v_t_12 = dp_t_7.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S5905;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_58, float3  dpmean_16, float4  dpquat_15, float3  dpscale_15, float dpin_opacity_14, FixedArray<float3 , 5>  * dpsv_sites_14, FixedArray<float3 , 5>  * dpsv_colors_14, Matrix<float, 3, 3>  dpR_16, float3  dpt_15, float fx_70, float fy_70, float cx_65, float cy_65, FixedArray<float, 10>  * dist_coeffs_73, uint image_width_58, uint image_height_58, float near_plane_46, float far_plane_46, int4  * aabb_xyxy_39, float2  * dpmean2d_18, float * dpdepth_15, float3  * dpconic_14, float * dpopacity_16, float3  * dprgb_15, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_28)
{
    Matrix<float, 2, 2>  _S5906 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_28->_S5905 = _S5906;
    float2  _S5907 = make_float2 (0.0f);
    float3  _S5908 = make_float3 (0.0f);
    float3  mean_c_51 = s_primal_ctx_mul_0(dpR_16, dpmean_16) + dpt_15;
    float _S5909 = length_1(mean_c_51);
    float4  intrins_47 = make_float4 (fx_70, fy_70, cx_65, cy_65);
    float3  _S5910 = s_primal_ctx_exp_0(dpscale_15);
    float _S5911 = dpquat_15.y;
    float x2_57 = _S5911 * _S5911;
    float y2_57 = dpquat_15.z * dpquat_15.z;
    float z2_72 = dpquat_15.w * dpquat_15.w;
    float xy_57 = dpquat_15.y * dpquat_15.z;
    float xz_57 = dpquat_15.y * dpquat_15.w;
    float yz_57 = dpquat_15.z * dpquat_15.w;
    float wx_57 = dpquat_15.x * dpquat_15.y;
    float wy_57 = dpquat_15.x * dpquat_15.z;
    float wz_57 = dpquat_15.x * dpquat_15.w;
    Matrix<float, 3, 3>  _S5912 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_57 + z2_72), 2.0f * (xy_57 + wz_57), 2.0f * (xz_57 - wy_57), 2.0f * (xy_57 - wz_57), 1.0f - 2.0f * (x2_57 + z2_72), 2.0f * (yz_57 + wx_57), 2.0f * (xz_57 + wy_57), 2.0f * (yz_57 - wx_57), 1.0f - 2.0f * (x2_57 + y2_57))));
    FixedArray<float3 , 7>  _S5913 = {
        _S5908, _S5908, _S5908, _S5908, _S5908, _S5908, _S5908
    };
    FixedArray<float, 7>  _S5914 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5915;
    (&_S5915)->p_0 = _S5913;
    (&_S5915)->w_mean_0 = _S5914;
    (&_S5915)->w_cov_0 = _S5914;
    (&_S5915)->p_0[int(0)] = dpmean_16;
    SigmaPoints_0 _S5916 = _S5915;
    (&_S5916)->w_mean_0[int(0)] = 0.0f;
    (&_S5916)->w_cov_0[int(0)] = 2.0f;
    float _S5917 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_126 = make_float3 (_S5917 * _S5910.x) * _S5912.rows[0U];
    float3  _S5918 = dpmean_16 + delta_126;
    float3  _S5919 = dpmean_16 - delta_126;
    float3  delta_127 = make_float3 (_S5917 * _S5910.y) * _S5912.rows[1U];
    float3  _S5920 = dpmean_16 + delta_127;
    float3  _S5921 = dpmean_16 - delta_127;
    float3  delta_128 = make_float3 (_S5917 * _S5910.z) * _S5912.rows[2U];
    float3  _S5922 = dpmean_16 + delta_128;
    float3  _S5923 = dpmean_16 - delta_128;
    (&_S5916)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5916)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5916)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5916)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5916)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5916)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5916)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5916)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5916)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5916)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5916)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5916)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5916)->p_0[0U] = s_primal_ctx_mul_0(dpR_16, _S5915.p_0[0U]) + dpt_15;
    (&_S5916)->p_0[1U] = s_primal_ctx_mul_0(dpR_16, _S5918) + dpt_15;
    (&_S5916)->p_0[2U] = s_primal_ctx_mul_0(dpR_16, _S5920) + dpt_15;
    (&_S5916)->p_0[3U] = s_primal_ctx_mul_0(dpR_16, _S5922) + dpt_15;
    (&_S5916)->p_0[4U] = s_primal_ctx_mul_0(dpR_16, _S5919) + dpt_15;
    (&_S5916)->p_0[5U] = s_primal_ctx_mul_0(dpR_16, _S5921) + dpt_15;
    (&_S5916)->p_0[6U] = s_primal_ctx_mul_0(dpR_16, _S5923) + dpt_15;
    float2  _S5924 = _S5907;
    Matrix<float, 2, 2>  _S5925 = _S5906;
    SigmaPoints_0 _S5926 = _S5916;
    bool _S5927 = fisheye_proj_3dgs_ut_1(&_S5926, intrins_47, dist_coeffs_73, &_S5925, &_S5924);
    _s_diff_ctx_28->_S5905 = _S5925;
    float2  _S5928 = _S5924;
    float _S5929 = _S5925.rows[int(0)].y * _S5925.rows[int(1)].x;
    float det_orig_52 = _S5925.rows[int(0)].x * _S5925.rows[int(1)].y - _S5929;
    float _S5930 = _S5925.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5931 = _S5925;
    *&(((&_S5931)->rows + (int(0)))->x) = _S5930;
    float _S5932 = _S5925.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5931)->rows + (int(1)))->y) = _S5932;
    Matrix<float, 2, 2>  _S5933 = _S5931;
    Matrix<float, 2, 2>  _S5934 = _S5931;
    float _S5935 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_52 / (_S5930 * _S5932 - _S5929)));
    float _S5936 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_14));
    float _S5937;
    if(antialiased_58)
    {
        _S5937 = _S5936 * _S5935;
    }
    else
    {
        _S5937 = _S5936;
    }
    float _S5938 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5937 / 0.00392156885936856f)));
    float radius_x_39 = _S5938 * s_primal_ctx_sqrt_0(_S5933.rows[int(0)].x);
    float radius_y_39 = _S5938 * s_primal_ctx_sqrt_0(_S5934.rows[int(1)].y);
    float _S5939 = _S5928.x;
    float _S5940 = _S5928.y;
    float _S5941 = mean_c_51.z;
    float _S5942 = s_primal_ctx_max_0(_S5941, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5941 + _S5909));
    float3  _S5943 = s_primal_ctx_exp_0(- dpscale_15);
    float3  _S5944 = dpmean_16 - - s_primal_ctx_mul_0(transpose_0(dpR_16), dpt_15);
    float3  _S5945 = _S5944 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5944, _S5944)));
    float _S5946 = s_primal_ctx_dot_0((*dpsv_sites_14)[int(4)], _S5945);
    float _S5947 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(0)], _S5945) - _S5946);
    float _S5948 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(1)], _S5945) - _S5946);
    float _S5949 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(2)], _S5945) - _S5946);
    float _S5950 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(3)], _S5945) - _S5946);
    float _S5951 = s_primal_ctx_exp_1(0.0f);
    float3  _S5952 = s_primal_ctx_max_1((make_float3 (_S5947) * (*dpsv_colors_14)[int(0)] + make_float3 (_S5948) * (*dpsv_colors_14)[int(1)] + make_float3 (_S5949) * (*dpsv_colors_14)[int(2)] + make_float3 (_S5950) * (*dpsv_colors_14)[int(3)] + make_float3 (_S5951) * (*dpsv_colors_14)[int(4)]) / make_float3 (_S5947 + _S5948 + _S5949 + _S5950 + _S5951) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_39 = make_int4 (int((F32_floor((_S5939 - radius_x_39)))), int((F32_floor((_S5940 - radius_y_39)))), int((F32_ceil((_S5939 + radius_x_39)))), int((F32_ceil((_S5940 + radius_y_39)))));
    *dpmean2d_18 = _S5928;
    *dpdepth_15 = _S5942;
    *dpconic_14 = _S5943;
    *dpopacity_16 = _S5937;
    *dprgb_15 = _S5952;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_59, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_17, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_16, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_16, DiffPair_float_0 * dpin_opacity_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_15, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_17, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_16, float fx_71, float fy_71, float cx_66, float cy_66, FixedArray<float, 10>  * dist_coeffs_74, uint image_width_59, uint image_height_59, float near_plane_47, float far_plane_47, float2  dpmean2d_19, float dpdepth_16, float3  dpconic_15, float dpopacity_17, float3  dprgb_16, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_29)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5953 = *dpmean_17;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5954 = *dpquat_16;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5955 = *dpscale_16;
    FixedArray<float3 , 5>  _S5956 = dpsv_sites_15->primal_0;
    FixedArray<float3 , 5>  _S5957 = dpsv_colors_15->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5958 = *dpR_17;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5959 = *dpt_16;
    float3  _S5960 = make_float3 (0.0f);
    float3  mean_c_52 = s_primal_ctx_mul_0((*dpR_17).primal_0, (*dpmean_17).primal_0) + (*dpt_16).primal_0;
    float _S5961 = length_1(mean_c_52);
    float3  _S5962 = s_primal_ctx_exp_0((*dpscale_16).primal_0);
    float _S5963 = (*dpquat_16).primal_0.y;
    float x2_58 = _S5963 * _S5963;
    float y2_58 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.z;
    float z2_73 = (*dpquat_16).primal_0.w * (*dpquat_16).primal_0.w;
    float xy_58 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.z;
    float xz_58 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.w;
    float yz_58 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.w;
    float wx_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.y;
    float wy_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.z;
    float wz_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.w;
    Matrix<float, 3, 3>  _S5964 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_58 + z2_73), 2.0f * (xy_58 + wz_58), 2.0f * (xz_58 - wy_58), 2.0f * (xy_58 - wz_58), 1.0f - 2.0f * (x2_58 + z2_73), 2.0f * (yz_58 + wx_58), 2.0f * (xz_58 + wy_58), 2.0f * (yz_58 - wx_58), 1.0f - 2.0f * (x2_58 + y2_58))));
    FixedArray<float3 , 7>  _S5965 = {
        _S5960, _S5960, _S5960, _S5960, _S5960, _S5960, _S5960
    };
    FixedArray<float, 7>  _S5966 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5967;
    (&_S5967)->p_0 = _S5965;
    (&_S5967)->w_mean_0 = _S5966;
    (&_S5967)->w_cov_0 = _S5966;
    (&_S5967)->p_0[int(0)] = (*dpmean_17).primal_0;
    float _S5968 = s_primal_ctx_sqrt_0(3.0f);
    float _S5969 = _S5968 * _S5962.x;
    float3  _S5970 = make_float3 (_S5969);
    float3  delta_129 = make_float3 (_S5969) * _S5964.rows[0U];
    float3  _S5971 = (*dpmean_17).primal_0 + delta_129;
    float3  _S5972 = (*dpmean_17).primal_0 - delta_129;
    float _S5973 = _S5968 * _S5962.y;
    float3  _S5974 = make_float3 (_S5973);
    float3  delta_130 = make_float3 (_S5973) * _S5964.rows[1U];
    float3  _S5975 = (*dpmean_17).primal_0 + delta_130;
    float3  _S5976 = (*dpmean_17).primal_0 - delta_130;
    float _S5977 = _S5968 * _S5962.z;
    float3  _S5978 = make_float3 (_S5977);
    float3  delta_131 = make_float3 (_S5977) * _S5964.rows[2U];
    float3  _S5979 = (*dpmean_17).primal_0 + delta_131;
    float3  _S5980 = (*dpmean_17).primal_0 - delta_131;
    SigmaPoints_0 _S5981 = _S5967;
    float _S5982 = *&(((&_s_diff_ctx_29->_S5905)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_29->_S5905)->rows + (int(1)))->x);
    float det_orig_53 = *&(((&_s_diff_ctx_29->_S5905)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_29->_S5905)->rows + (int(1)))->y) - _S5982;
    float _S5983 = *&(((&_s_diff_ctx_29->_S5905)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5984 = _s_diff_ctx_29->_S5905;
    *&(((&_S5984)->rows + (int(0)))->x) = _S5983;
    float _S5985 = *&(((&_s_diff_ctx_29->_S5905)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5984)->rows + (int(1)))->y) = _S5985;
    Matrix<float, 2, 2>  _S5986 = _S5984;
    Matrix<float, 2, 2>  _S5987 = _S5984;
    float det_blur_32 = _S5983 * _S5985 - _S5982;
    float _S5988 = det_orig_53 / det_blur_32;
    float _S5989 = det_blur_32 * det_blur_32;
    float _S5990 = s_primal_ctx_max_0(0.0f, _S5988);
    float _S5991 = s_primal_ctx_sqrt_0(_S5990);
    float _S5992 = - (*dpin_opacity_15).primal_0;
    float _S5993 = 1.0f + s_primal_ctx_exp_1(_S5992);
    float _S5994 = 1.0f / _S5993;
    float _S5995 = _S5993 * _S5993;
    float _S5996;
    if(antialiased_59)
    {
        _S5996 = _S5994 * _S5991;
    }
    else
    {
        _S5996 = _S5994;
    }
    float _S5997 = _S5996 / 0.00392156885936856f;
    float _S5998 = 2.0f * s_primal_ctx_log_0(_S5997);
    float _S5999 = s_primal_ctx_sqrt_0(_S5998);
    float _S6000 = _S5986.rows[int(0)].x;
    float _S6001 = _S5987.rows[int(1)].y;
    float _S6002 = mean_c_52.z;
    float _S6003 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6004 = _S6003 * (_S6002 + _S5961);
    float3  _S6005 = - _S5955.primal_0;
    Matrix<float, 3, 3>  _S6006 = transpose_0(_S5958.primal_0);
    float3  _S6007 = _S5953.primal_0 - - s_primal_ctx_mul_0(_S6006, _S5959.primal_0);
    float _S6008 = s_primal_ctx_dot_0(_S6007, _S6007);
    float _S6009 = s_primal_ctx_rsqrt_0(_S6008);
    float3  _S6010 = make_float3 (_S6009);
    float3  _S6011 = _S6007 * make_float3 (_S6009);
    float _S6012 = s_primal_ctx_dot_0(_S5956[int(4)], _S6011);
    float _S6013 = s_primal_ctx_dot_0(_S5956[int(0)], _S6011) - _S6012;
    float _S6014 = s_primal_ctx_exp_1(_S6013);
    float3  _S6015 = make_float3 (_S6014);
    float _S6016 = s_primal_ctx_dot_0(_S5956[int(1)], _S6011) - _S6012;
    float _S6017 = s_primal_ctx_exp_1(_S6016);
    float3  _S6018 = make_float3 (_S6017);
    float _S6019 = s_primal_ctx_dot_0(_S5956[int(2)], _S6011) - _S6012;
    float _S6020 = s_primal_ctx_exp_1(_S6019);
    float3  _S6021 = make_float3 (_S6020);
    float _S6022 = s_primal_ctx_dot_0(_S5956[int(3)], _S6011) - _S6012;
    float _S6023 = s_primal_ctx_exp_1(_S6022);
    float3  _S6024 = make_float3 (_S6023);
    float _S6025 = s_primal_ctx_exp_1(0.0f);
    float3  _S6026 = make_float3 (_S6025);
    float total_w_7 = _S6014 + _S6017 + _S6020 + _S6023 + _S6025;
    float3  _S6027 = make_float3 (total_w_7);
    float3  total_c_7 = make_float3 (_S6014) * _S5957[int(0)] + make_float3 (_S6017) * _S5957[int(1)] + make_float3 (_S6020) * _S5957[int(2)] + make_float3 (_S6023) * _S5957[int(3)] + make_float3 (_S6025) * _S5957[int(4)];
    float3  _S6028 = make_float3 (total_w_7 * total_w_7);
    float3  _S6029 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6030;
    (&_S6030)->primal_0 = total_c_7 / make_float3 (total_w_7) + make_float3 (0.5f);
    (&_S6030)->differential_0 = _S5960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6031;
    (&_S6031)->primal_0 = _S6029;
    (&_S6031)->differential_0 = _S5960;
    s_bwd_prop_max_0(&_S6030, &_S6031, dprgb_16);
    float3  _S6032 = _S6030.differential_0 / _S6028;
    float3  _S6033 = total_c_7 * - _S6032;
    float3  s_diff_total_c_T_7 = _S6027 * _S6032;
    float3  _S6034 = _S6026 * s_diff_total_c_T_7;
    float _S6035 = _S6033.x + _S6033.y + _S6033.z;
    float3  _S6036 = _S6024 * s_diff_total_c_T_7;
    float3  _S6037 = _S5957[int(3)] * s_diff_total_c_T_7;
    float _S6038 = _S6035 + _S6037.x + _S6037.y + _S6037.z;
    DiffPair_float_0 _S6039;
    (&_S6039)->primal_0 = _S6022;
    (&_S6039)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6039, _S6038);
    float _S6040 = - _S6039.differential_0;
    float3  _S6041 = _S6021 * s_diff_total_c_T_7;
    float3  _S6042 = _S5957[int(2)] * s_diff_total_c_T_7;
    float _S6043 = _S6035 + _S6042.x + _S6042.y + _S6042.z;
    DiffPair_float_0 _S6044;
    (&_S6044)->primal_0 = _S6019;
    (&_S6044)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6044, _S6043);
    float _S6045 = - _S6044.differential_0;
    float3  _S6046 = _S6018 * s_diff_total_c_T_7;
    float3  _S6047 = _S5957[int(1)] * s_diff_total_c_T_7;
    float _S6048 = _S6035 + _S6047.x + _S6047.y + _S6047.z;
    DiffPair_float_0 _S6049;
    (&_S6049)->primal_0 = _S6016;
    (&_S6049)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6049, _S6048);
    float _S6050 = - _S6049.differential_0;
    float3  _S6051 = _S6015 * s_diff_total_c_T_7;
    float3  _S6052 = _S5957[int(0)] * s_diff_total_c_T_7;
    float _S6053 = _S6035 + _S6052.x + _S6052.y + _S6052.z;
    DiffPair_float_0 _S6054;
    (&_S6054)->primal_0 = _S6013;
    (&_S6054)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6054, _S6053);
    float _S6055 = _S6040 + _S6045 + _S6050 + - _S6054.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6056;
    (&_S6056)->primal_0 = _S5956[int(4)];
    (&_S6056)->differential_0 = _S5960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6057;
    (&_S6057)->primal_0 = _S6011;
    (&_S6057)->differential_0 = _S5960;
    s_bwd_prop_dot_0(&_S6056, &_S6057, _S6055);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6058;
    (&_S6058)->primal_0 = _S5956[int(3)];
    (&_S6058)->differential_0 = _S5960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6059;
    (&_S6059)->primal_0 = _S6011;
    (&_S6059)->differential_0 = _S5960;
    s_bwd_prop_dot_0(&_S6058, &_S6059, _S6039.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6060;
    (&_S6060)->primal_0 = _S5956[int(2)];
    (&_S6060)->differential_0 = _S5960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6061;
    (&_S6061)->primal_0 = _S6011;
    (&_S6061)->differential_0 = _S5960;
    s_bwd_prop_dot_0(&_S6060, &_S6061, _S6044.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6062;
    (&_S6062)->primal_0 = _S5956[int(1)];
    (&_S6062)->differential_0 = _S5960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6063;
    (&_S6063)->primal_0 = _S6011;
    (&_S6063)->differential_0 = _S5960;
    s_bwd_prop_dot_0(&_S6062, &_S6063, _S6049.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6064;
    (&_S6064)->primal_0 = _S5956[int(0)];
    (&_S6064)->differential_0 = _S5960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6065;
    (&_S6065)->primal_0 = _S6011;
    (&_S6065)->differential_0 = _S5960;
    s_bwd_prop_dot_0(&_S6064, &_S6065, _S6054.differential_0);
    float3  _S6066 = _S6057.differential_0 + _S6059.differential_0 + _S6061.differential_0 + _S6063.differential_0 + _S6065.differential_0;
    float3  _S6067 = _S6007 * _S6066;
    float3  _S6068 = _S6010 * _S6066;
    float _S6069 = _S6067.x + _S6067.y + _S6067.z;
    DiffPair_float_0 _S6070;
    (&_S6070)->primal_0 = _S6008;
    (&_S6070)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6070, _S6069);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6071;
    (&_S6071)->primal_0 = _S6007;
    (&_S6071)->differential_0 = _S5960;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6072;
    (&_S6072)->primal_0 = _S6007;
    (&_S6072)->differential_0 = _S5960;
    s_bwd_prop_dot_0(&_S6071, &_S6072, _S6070.differential_0);
    float3  _S6073 = _S6068 + _S6072.differential_0 + _S6071.differential_0;
    float3  _S6074 = - - _S6073;
    Matrix<float, 3, 3>  _S6075 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6076;
    (&_S6076)->primal_0 = _S6006;
    (&_S6076)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6077;
    (&_S6077)->primal_0 = _S5959.primal_0;
    (&_S6077)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6076, &_S6077, _S6074);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6078 = _S6077;
    Matrix<float, 3, 3>  _S6079 = transpose_0(_S6076.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6080;
    (&_S6080)->primal_0 = _S6005;
    (&_S6080)->differential_0 = _S5960;
    s_bwd_prop_exp_1(&_S6080, dpconic_15);
    float3  _S6081 = - _S6080.differential_0;
    DiffPair_float_0 _S6082;
    (&_S6082)->primal_0 = _S6002;
    (&_S6082)->differential_0 = 0.0f;
    DiffPair_float_0 _S6083;
    (&_S6083)->primal_0 = _S6004;
    (&_S6083)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6082, &_S6083, dpdepth_16);
    float _S6084 = _S6003 * _S6083.differential_0;
    float _S6085 = _S6082.differential_0 + _S6084;
    DiffPair_float_0 _S6086;
    (&_S6086)->primal_0 = _S6001;
    (&_S6086)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6086, 0.0f);
    DiffPair_float_0 _S6087;
    (&_S6087)->primal_0 = _S6000;
    (&_S6087)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6087, 0.0f);
    DiffPair_float_0 _S6088;
    (&_S6088)->primal_0 = 3.32999992370605469f;
    (&_S6088)->differential_0 = 0.0f;
    DiffPair_float_0 _S6089;
    (&_S6089)->primal_0 = _S5999;
    (&_S6089)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6088, &_S6089, 0.0f);
    DiffPair_float_0 _S6090;
    (&_S6090)->primal_0 = _S5998;
    (&_S6090)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6090, _S6089.differential_0);
    float _S6091 = 2.0f * _S6090.differential_0;
    DiffPair_float_0 _S6092;
    (&_S6092)->primal_0 = _S5997;
    (&_S6092)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6092, _S6091);
    float _S6093 = dpopacity_17 + 254.9999847412109375f * _S6092.differential_0;
    FixedArray<float3 , 5>  _S6094;
    _S6094[int(0)] = _S5960;
    _S6094[int(1)] = _S5960;
    _S6094[int(2)] = _S5960;
    _S6094[int(3)] = _S5960;
    _S6094[int(4)] = _S5960;
    _S6094[int(4)] = _S6034;
    _S6094[int(3)] = _S6036;
    _S6094[int(2)] = _S6041;
    _S6094[int(1)] = _S6046;
    _S6094[int(0)] = _S6051;
    FixedArray<float3 , 5>  _S6095 = {
        _S6094[int(0)], _S6094[int(1)], _S6094[int(2)], _S6094[int(3)], _S6094[int(4)]
    };
    FixedArray<float3 , 5>  _S6096;
    _S6096[int(0)] = _S5960;
    _S6096[int(1)] = _S5960;
    _S6096[int(2)] = _S5960;
    _S6096[int(3)] = _S5960;
    _S6096[int(4)] = _S5960;
    _S6096[int(4)] = _S6056.differential_0;
    _S6096[int(3)] = _S6058.differential_0;
    _S6096[int(2)] = _S6060.differential_0;
    _S6096[int(1)] = _S6062.differential_0;
    _S6096[int(0)] = _S6064.differential_0;
    FixedArray<float3 , 5>  _S6097 = {
        _S6096[int(0)], _S6096[int(1)], _S6096[int(2)], _S6096[int(3)], _S6096[int(4)]
    };
    float3  _S6098 = make_float3 (0.0f, 0.0f, _S6085);
    float2  _S6099 = make_float2 (0.0f, _S6086.differential_0);
    float2  _S6100 = make_float2 (_S6087.differential_0, 0.0f);
    float _S6101;
    if(antialiased_59)
    {
        float _S6102 = _S5994 * _S6093;
        _S5996 = _S5991 * _S6093;
        _S6101 = _S6102;
    }
    else
    {
        _S5996 = _S6093;
        _S6101 = 0.0f;
    }
    float _S6103 = - (_S5996 / _S5995);
    DiffPair_float_0 _S6104;
    (&_S6104)->primal_0 = _S5992;
    (&_S6104)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6104, _S6103);
    float _S6105 = - _S6104.differential_0;
    DiffPair_float_0 _S6106;
    (&_S6106)->primal_0 = _S5990;
    (&_S6106)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6106, _S6101);
    DiffPair_float_0 _S6107;
    (&_S6107)->primal_0 = 0.0f;
    (&_S6107)->differential_0 = 0.0f;
    DiffPair_float_0 _S6108;
    (&_S6108)->primal_0 = _S5988;
    (&_S6108)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6107, &_S6108, _S6106.differential_0);
    float _S6109 = _S6108.differential_0 / _S5989;
    float s_diff_det_blur_T_9 = det_orig_53 * - _S6109;
    float s_diff_det_orig_T_12 = det_blur_32 * _S6109;
    float _S6110 = - s_diff_det_blur_T_9;
    float _S6111 = _S5983 * s_diff_det_blur_T_9;
    float _S6112 = _S5985 * s_diff_det_blur_T_9;
    Matrix<float, 2, 2>  _S6113 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6114 = _S6113;
    _S6114[int(1)] = _S6099;
    _S6114[int(0)] = _S6100;
    float _S6115 = _S6112 + _S6114.rows[int(0)].x;
    float _S6116 = _S6110 + - s_diff_det_orig_T_12;
    float _S6117 = *&(((&_s_diff_ctx_29->_S5905)->rows + (int(0)))->y) * _S6116;
    float _S6118 = *&(((&_s_diff_ctx_29->_S5905)->rows + (int(1)))->x) * _S6116;
    float _S6119 = *&(((&_s_diff_ctx_29->_S5905)->rows + (int(1)))->y) * s_diff_det_orig_T_12;
    float _S6120 = _S6111 + _S6114.rows[int(1)].y + *&(((&_s_diff_ctx_29->_S5905)->rows + (int(0)))->x) * s_diff_det_orig_T_12;
    float2  _S6121 = make_float2 (0.0f);
    float2  _S6122 = _S6121;
    *&((&_S6122)->x) = _S6117;
    *&((&_S6122)->y) = _S6120;
    float _S6123 = _S6115 + _S6119;
    float2  _S6124 = _S6121;
    *&((&_S6124)->y) = _S6118;
    *&((&_S6124)->x) = _S6123;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6125;
    (&_S6125)->primal_0 = _S5958.primal_0;
    (&_S6125)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6126;
    (&_S6126)->primal_0 = _S5980;
    (&_S6126)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6125, &_S6126, _S5960);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6127;
    (&_S6127)->primal_0 = _S5958.primal_0;
    (&_S6127)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6128;
    (&_S6128)->primal_0 = _S5976;
    (&_S6128)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6127, &_S6128, _S5960);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6129;
    (&_S6129)->primal_0 = _S5958.primal_0;
    (&_S6129)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6130;
    (&_S6130)->primal_0 = _S5972;
    (&_S6130)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6129, &_S6130, _S5960);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6131;
    (&_S6131)->primal_0 = _S5958.primal_0;
    (&_S6131)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6132;
    (&_S6132)->primal_0 = _S5979;
    (&_S6132)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6131, &_S6132, _S5960);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6133;
    (&_S6133)->primal_0 = _S5958.primal_0;
    (&_S6133)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6134;
    (&_S6134)->primal_0 = _S5975;
    (&_S6134)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6133, &_S6134, _S5960);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6135;
    (&_S6135)->primal_0 = _S5958.primal_0;
    (&_S6135)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6136;
    (&_S6136)->primal_0 = _S5971;
    (&_S6136)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6135, &_S6136, _S5960);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6137;
    (&_S6137)->primal_0 = _S5958.primal_0;
    (&_S6137)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6138;
    (&_S6138)->primal_0 = _S5981.p_0[0U];
    (&_S6138)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6137, &_S6138, _S5960);
    float3  _S6139 = - _S6126.differential_0 + _S6132.differential_0;
    float3  _S6140 = _S5978 * _S6139;
    float3  _S6141 = _S5964.rows[2U] * _S6139;
    float _S6142 = _S5968 * (_S6141.x + _S6141.y + _S6141.z);
    float3  _S6143 = - _S6128.differential_0 + _S6134.differential_0;
    float3  _S6144 = _S5974 * _S6143;
    float3  _S6145 = _S5964.rows[1U] * _S6143;
    float _S6146 = _S5968 * (_S6145.x + _S6145.y + _S6145.z);
    float3  _S6147 = - _S6130.differential_0 + _S6136.differential_0;
    float3  _S6148 = _S5970 * _S6147;
    float3  _S6149 = _S5964.rows[0U] * _S6147;
    float _S6150 = _S5968 * (_S6149.x + _S6149.y + _S6149.z);
    Matrix<float, 3, 3>  _S6151 = _S6075;
    _S6151[2U] = _S6140;
    _S6151[1U] = _S6144;
    _S6151[0U] = _S6148;
    Matrix<float, 3, 3>  _S6152 = transpose_0(transpose_0(_S6151));
    float _S6153 = 2.0f * - _S6152.rows[int(2)].z;
    float _S6154 = 2.0f * _S6152.rows[int(2)].y;
    float _S6155 = 2.0f * _S6152.rows[int(2)].x;
    float _S6156 = 2.0f * _S6152.rows[int(1)].z;
    float _S6157 = 2.0f * - _S6152.rows[int(1)].y;
    float _S6158 = 2.0f * _S6152.rows[int(1)].x;
    float _S6159 = 2.0f * _S6152.rows[int(0)].z;
    float _S6160 = 2.0f * _S6152.rows[int(0)].y;
    float _S6161 = 2.0f * - _S6152.rows[int(0)].x;
    float _S6162 = - _S6158 + _S6160;
    float _S6163 = _S6155 + - _S6159;
    float _S6164 = - _S6154 + _S6156;
    float _S6165 = _S6154 + _S6156;
    float _S6166 = _S6155 + _S6159;
    float _S6167 = _S6158 + _S6160;
    float _S6168 = _S5954.primal_0.w * (_S6157 + _S6161);
    float _S6169 = _S5954.primal_0.z * (_S6153 + _S6161);
    float _S6170 = _S5954.primal_0.y * (_S6153 + _S6157);
    float _S6171 = _S5954.primal_0.x * _S6162 + _S5954.primal_0.z * _S6165 + _S5954.primal_0.y * _S6166 + _S6168 + _S6168;
    float _S6172 = _S5954.primal_0.x * _S6163 + _S5954.primal_0.w * _S6165 + _S5954.primal_0.y * _S6167 + _S6169 + _S6169;
    float _S6173 = _S5954.primal_0.x * _S6164 + _S5954.primal_0.w * _S6166 + _S5954.primal_0.z * _S6167 + _S6170 + _S6170;
    float _S6174 = _S5954.primal_0.w * _S6162 + _S5954.primal_0.z * _S6163 + _S5954.primal_0.y * _S6164;
    float3  _S6175 = _S5960;
    *&((&_S6175)->z) = _S6142;
    *&((&_S6175)->y) = _S6146;
    *&((&_S6175)->x) = _S6150;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6176;
    (&_S6176)->primal_0 = _S5955.primal_0;
    (&_S6176)->differential_0 = _S5960;
    s_bwd_prop_exp_1(&_S6176, _S6175);
    Matrix<float, 2, 2>  _S6177 = _S6113;
    _S6177[int(1)] = _S6122;
    _S6177[int(0)] = _S6124;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6178;
    (&_S6178)->primal_0 = mean_c_52;
    (&_S6178)->differential_0 = _S5960;
    s_bwd_length_impl_1(&_S6178, _S6084);
    float3  _S6179 = _S6178.differential_0 + _S6098;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6180;
    (&_S6180)->primal_0 = _S5958.primal_0;
    (&_S6180)->differential_0 = _S6075;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6181;
    (&_S6181)->primal_0 = _S5953.primal_0;
    (&_S6181)->differential_0 = _S5960;
    s_bwd_prop_mul_1(&_S6180, &_S6181, _S6179);
    float3  _S6182 = _S6179 + _S6078.differential_0;
    dpt_16->primal_0 = (*dpt_16).primal_0;
    dpt_16->differential_0 = _S6182;
    Matrix<float, 3, 3>  _S6183 = _S6125.differential_0 + _S6127.differential_0 + _S6129.differential_0 + _S6131.differential_0 + _S6133.differential_0 + _S6135.differential_0 + _S6137.differential_0 + _S6180.differential_0 + _S6079;
    dpR_17->primal_0 = (*dpR_17).primal_0;
    dpR_17->differential_0 = _S6183;
    dpsv_colors_15->primal_0 = dpsv_colors_15->primal_0;
    dpsv_colors_15->differential_0 = _S6095;
    dpsv_sites_15->primal_0 = dpsv_sites_15->primal_0;
    dpsv_sites_15->differential_0 = _S6097;
    dpin_opacity_15->primal_0 = (*dpin_opacity_15).primal_0;
    dpin_opacity_15->differential_0 = _S6105;
    float3  _S6184 = _S6176.differential_0 + _S6081;
    dpscale_16->primal_0 = (*dpscale_16).primal_0;
    dpscale_16->differential_0 = _S6184;
    float4  _S6185 = make_float4 (0.0f);
    *&((&_S6185)->w) = _S6171;
    *&((&_S6185)->z) = _S6172;
    *&((&_S6185)->y) = _S6173;
    *&((&_S6185)->x) = _S6174;
    dpquat_16->primal_0 = (*dpquat_16).primal_0;
    dpquat_16->differential_0 = _S6185;
    float3  _S6186 = _S6126.differential_0 + _S6132.differential_0 + _S6128.differential_0 + _S6134.differential_0 + _S6130.differential_0 + _S6136.differential_0 + _S6181.differential_0 + _S6073;
    dpmean_17->primal_0 = (*dpmean_17).primal_0;
    dpmean_17->differential_0 = _S6186;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_3(bool _S6187, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6188, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6189, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6190, DiffPair_float_0 * _S6191, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S6192, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S6193, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6194, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6195, float _S6196, float _S6197, float _S6198, float _S6199, FixedArray<float, 10>  * _S6200, uint _S6201, uint _S6202, float _S6203, float _S6204, float2  _S6205, float _S6206, float3  _S6207, float _S6208, float3  _S6209)
{
    FixedArray<float3 , 5>  _S6210 = _S6192->primal_0;
    FixedArray<float3 , 5>  _S6211 = _S6193->primal_0;
    int4  _S6212;
    float2  _S6213;
    float _S6214;
    float3  _S6215;
    float _S6216;
    float3  _S6217;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S6218;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(_S6187, (*_S6188).primal_0, (*_S6189).primal_0, (*_S6190).primal_0, (*_S6191).primal_0, &_S6210, &_S6211, (*_S6194).primal_0, (*_S6195).primal_0, _S6196, _S6197, _S6198, _S6199, _S6200, _S6201, _S6202, _S6203, _S6204, &_S6212, &_S6213, &_S6214, &_S6215, &_S6216, &_S6217, &_S6218);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S6219 = _S6218;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(_S6187, _S6188, _S6189, _S6190, _S6191, _S6192, _S6193, _S6194, _S6195, _S6196, _S6197, _S6198, _S6199, _S6200, _S6201, _S6202, _S6203, _S6204, _S6205, _S6206, _S6207, _S6208, _S6209, &_S6219);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_60, float3  mean_49, float4  quat_50, float3  scale_49, float in_opacity_44, FixedArray<float3 , 5>  * sv_sites_29, FixedArray<float3 , 5>  * sv_colors_29, Matrix<float, 3, 3>  R_51, float3  t_47, float fx_72, float fy_72, float cx_67, float cy_67, FixedArray<float, 10>  * dist_coeffs_75, uint image_width_60, uint image_height_60, float2  v_mean2d_12, float v_depth_13, float3  v_conic_12, float v_opacity_14, float3  v_rgb_13, float3  * v_mean_14, float4  * v_quat_13, float3  * v_scale_13, float * v_in_opacity_12, FixedArray<float3 , 5>  * v_sv_dirs_7, FixedArray<float3 , 5>  * v_sv_colors_7, Matrix<float, 3, 3>  * v_R_14, float3  * v_t_13)
{
    float3  _S6220 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_9;
    (&dp_mean_9)->primal_0 = mean_49;
    (&dp_mean_9)->differential_0 = _S6220;
    float4  _S6221 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_8;
    (&dp_quat_8)->primal_0 = quat_50;
    (&dp_quat_8)->differential_0 = _S6221;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_8;
    (&dp_scale_8)->primal_0 = scale_49;
    (&dp_scale_8)->differential_0 = _S6220;
    DiffPair_float_0 dp_in_opacity_7;
    (&dp_in_opacity_7)->primal_0 = in_opacity_44;
    (&dp_in_opacity_7)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S6222 = { _S6220, _S6220, _S6220, _S6220, _S6220 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_7;
    (&dp_sv_dirs_7)->primal_0 = *sv_sites_29;
    (&dp_sv_dirs_7)->differential_0 = _S6222;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_7;
    (&dp_sv_colors_7)->primal_0 = *sv_colors_29;
    (&dp_sv_colors_7)->differential_0 = _S6222;
    Matrix<float, 3, 3>  _S6223 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_9;
    (&dp_R_9)->primal_0 = R_51;
    (&dp_R_9)->differential_0 = _S6223;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_8;
    (&dp_t_8)->primal_0 = t_47;
    (&dp_t_8)->differential_0 = _S6220;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_3(antialiased_60, &dp_mean_9, &dp_quat_8, &dp_scale_8, &dp_in_opacity_7, &dp_sv_dirs_7, &dp_sv_colors_7, &dp_R_9, &dp_t_8, fx_72, fy_72, cx_67, cy_67, dist_coeffs_75, image_width_60, image_height_60, 0.0f, 1.00000001504746622e+30f, v_mean2d_12, v_depth_13, v_conic_12, v_opacity_14, v_rgb_13);
    *v_mean_14 = dp_mean_9.differential_0;
    *v_quat_13 = dp_quat_8.differential_0;
    *v_scale_13 = dp_scale_8.differential_0;
    *v_in_opacity_12 = dp_in_opacity_7.differential_0;
    *v_sv_dirs_7 = (&dp_sv_dirs_7)->differential_0;
    *v_sv_colors_7 = (&dp_sv_colors_7)->differential_0;
    *v_R_14 = dp_R_9.differential_0;
    *v_t_13 = dp_t_8.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_61, float3  mean_50, float4  quat_51, float3  scale_50, float in_opacity_45, FixedArray<float3 , 6>  * sv_sites_30, FixedArray<float3 , 6>  * sv_colors_30, Matrix<float, 3, 3>  R_52, float3  t_48, float fx_73, float fy_73, float cx_68, float cy_68, FixedArray<float, 10>  * dist_coeffs_76, uint image_width_61, uint image_height_61, float near_plane_48, float far_plane_48, int4  * aabb_xyxy_40, float2  * mean2d_41, float * depth_33, float3  * conic_32, float * opacity_36, float3  * rgb_34)
{
    float3  mean_c_53 = mul_0(R_52, mean_50) + t_48;
    float4  intrins_48 = make_float4 (fx_73, fy_73, cx_68, cy_68);
    float3  _S6224 = exp_0(scale_50);
    float x_63 = quat_51.y;
    float x2_59 = x_63 * x_63;
    float y2_59 = quat_51.z * quat_51.z;
    float z2_74 = quat_51.w * quat_51.w;
    float xy_59 = quat_51.y * quat_51.z;
    float xz_59 = quat_51.y * quat_51.w;
    float yz_59 = quat_51.z * quat_51.w;
    float wx_59 = quat_51.x * quat_51.y;
    float wy_59 = quat_51.x * quat_51.z;
    float wz_59 = quat_51.x * quat_51.w;
    Matrix<float, 3, 3>  _S6225 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_59 + z2_74), 2.0f * (xy_59 + wz_59), 2.0f * (xz_59 - wy_59), 2.0f * (xy_59 - wz_59), 1.0f - 2.0f * (x2_59 + z2_74), 2.0f * (yz_59 + wx_59), 2.0f * (xz_59 + wy_59), 2.0f * (yz_59 - wx_59), 1.0f - 2.0f * (x2_59 + y2_59))));
    SigmaPoints_0 ret_26;
    (&ret_26)->p_0[int(0)] = mean_50;
    (&ret_26)->w_mean_0[int(0)] = 0.0f;
    (&ret_26)->w_cov_0[int(0)] = 2.0f;
    float _S6226 = (F32_sqrt((3.0f)));
    float3  delta_132 = make_float3 (_S6226 * _S6224.x) * _S6225.rows[0U];
    float3  _S6227 = mean_50 + delta_132;
    float3  _S6228 = mean_50 - delta_132;
    float3  delta_133 = make_float3 (_S6226 * _S6224.y) * _S6225.rows[1U];
    float3  _S6229 = mean_50 + delta_133;
    float3  _S6230 = mean_50 - delta_133;
    float3  delta_134 = make_float3 (_S6226 * _S6224.z) * _S6225.rows[2U];
    float3  _S6231 = mean_50 + delta_134;
    float3  _S6232 = mean_50 - delta_134;
    (&ret_26)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_26)->p_0[0U] = mul_0(R_52, (&ret_26)->p_0[0U]) + t_48;
    (&ret_26)->p_0[1U] = mul_0(R_52, _S6227) + t_48;
    (&ret_26)->p_0[2U] = mul_0(R_52, _S6229) + t_48;
    (&ret_26)->p_0[3U] = mul_0(R_52, _S6231) + t_48;
    (&ret_26)->p_0[4U] = mul_0(R_52, _S6228) + t_48;
    (&ret_26)->p_0[5U] = mul_0(R_52, _S6230) + t_48;
    (&ret_26)->p_0[6U] = mul_0(R_52, _S6232) + t_48;
    SigmaPoints_0 _S6233 = ret_26;
    Matrix<float, 2, 2>  covar2d_32;
    bool _S6234 = persp_proj_3dgs_ut_1(&_S6233, intrins_48, dist_coeffs_76, image_width_61, image_height_61, &covar2d_32, mean2d_41);
    float det_orig_54 = *&(((&covar2d_32)->rows + (int(0)))->x) * *&(((&covar2d_32)->rows + (int(1)))->y) - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x);
    float _S6235 = *&(((&covar2d_32)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(0)))->x) = _S6235;
    float _S6236 = *&(((&covar2d_32)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(1)))->y) = _S6236;
    float compensation_33 = (F32_sqrt(((F32_max((0.0f), (det_orig_54 / (_S6235 * _S6236 - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x))))))));
    *opacity_36 = 1.0f / (1.0f + (F32_exp((- in_opacity_45))));
    if(antialiased_61)
    {
        *opacity_36 = *opacity_36 * compensation_33;
    }
    float extend_32 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_36 / 0.00392156885936856f)))))))));
    float radius_x_40 = extend_32 * (F32_sqrt((covar2d_32[int(0)].x)));
    float radius_y_40 = extend_32 * (F32_sqrt((covar2d_32[int(1)].y)));
    *aabb_xyxy_40 = make_int4 (int((F32_floor(((*mean2d_41).x - radius_x_40)))), int((F32_floor(((*mean2d_41).y - radius_y_40)))), int((F32_ceil(((*mean2d_41).x + radius_x_40)))), int((F32_ceil(((*mean2d_41).y + radius_y_40)))));
    float _S6237 = mean_c_53.z;
    *depth_33 = (F32_max((_S6237), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6237 + length_1(mean_c_53)))));
    *conic_32 = exp_0(- scale_50);
    float3  _S6238 = mean_50 - - mul_0(transpose_0(R_52), t_48);
    float3  _S6239 = _S6238 * make_float3 ((F32_rsqrt((dot_0(_S6238, _S6238)))));
    float _S6240 = dot_0((*sv_sites_30)[int(5)], _S6239);
    float w_98 = (F32_exp((dot_0((*sv_sites_30)[int(0)], _S6239) - _S6240)));
    float w_99 = (F32_exp((dot_0((*sv_sites_30)[int(1)], _S6239) - _S6240)));
    float w_100 = (F32_exp((dot_0((*sv_sites_30)[int(2)], _S6239) - _S6240)));
    float w_101 = (F32_exp((dot_0((*sv_sites_30)[int(3)], _S6239) - _S6240)));
    float w_102 = (F32_exp((dot_0((*sv_sites_30)[int(4)], _S6239) - _S6240)));
    float w_103 = (F32_exp((0.0f)));
    *rgb_34 = max_0((make_float3 (w_98) * (*sv_colors_30)[int(0)] + make_float3 (w_99) * (*sv_colors_30)[int(1)] + make_float3 (w_100) * (*sv_colors_30)[int(2)] + make_float3 (w_101) * (*sv_colors_30)[int(3)] + make_float3 (w_102) * (*sv_colors_30)[int(4)] + make_float3 (w_103) * (*sv_colors_30)[int(5)]) / make_float3 (w_98 + w_99 + w_100 + w_101 + w_102 + w_103) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_62, float3  mean_51, float4  quat_52, float3  scale_51, float in_opacity_46, FixedArray<float3 , 6>  * sv_sites_31, FixedArray<float3 , 6>  * sv_colors_31, Matrix<float, 3, 3>  R_53, float3  t_49, float fx_74, float fy_74, float cx_69, float cy_69, FixedArray<float, 10>  * dist_coeffs_77, uint image_width_62, uint image_height_62, float near_plane_49, float far_plane_49, int4  * aabb_xyxy_41, float2  * mean2d_42, float * depth_34, float3  * conic_33, float * opacity_37, float3  * rgb_35)
{
    float3  mean_c_54 = mul_0(R_53, mean_51) + t_49;
    float4  intrins_49 = make_float4 (fx_74, fy_74, cx_69, cy_69);
    float3  _S6241 = exp_0(scale_51);
    float x_64 = quat_52.y;
    float x2_60 = x_64 * x_64;
    float y2_60 = quat_52.z * quat_52.z;
    float z2_75 = quat_52.w * quat_52.w;
    float xy_60 = quat_52.y * quat_52.z;
    float xz_60 = quat_52.y * quat_52.w;
    float yz_60 = quat_52.z * quat_52.w;
    float wx_60 = quat_52.x * quat_52.y;
    float wy_60 = quat_52.x * quat_52.z;
    float wz_60 = quat_52.x * quat_52.w;
    Matrix<float, 3, 3>  _S6242 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_60 + z2_75), 2.0f * (xy_60 + wz_60), 2.0f * (xz_60 - wy_60), 2.0f * (xy_60 - wz_60), 1.0f - 2.0f * (x2_60 + z2_75), 2.0f * (yz_60 + wx_60), 2.0f * (xz_60 + wy_60), 2.0f * (yz_60 - wx_60), 1.0f - 2.0f * (x2_60 + y2_60))));
    SigmaPoints_0 ret_27;
    (&ret_27)->p_0[int(0)] = mean_51;
    (&ret_27)->w_mean_0[int(0)] = 0.0f;
    (&ret_27)->w_cov_0[int(0)] = 2.0f;
    float _S6243 = (F32_sqrt((3.0f)));
    float3  delta_135 = make_float3 (_S6243 * _S6241.x) * _S6242.rows[0U];
    float3  _S6244 = mean_51 + delta_135;
    float3  _S6245 = mean_51 - delta_135;
    float3  delta_136 = make_float3 (_S6243 * _S6241.y) * _S6242.rows[1U];
    float3  _S6246 = mean_51 + delta_136;
    float3  _S6247 = mean_51 - delta_136;
    float3  delta_137 = make_float3 (_S6243 * _S6241.z) * _S6242.rows[2U];
    float3  _S6248 = mean_51 + delta_137;
    float3  _S6249 = mean_51 - delta_137;
    (&ret_27)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_27)->p_0[0U] = mul_0(R_53, (&ret_27)->p_0[0U]) + t_49;
    (&ret_27)->p_0[1U] = mul_0(R_53, _S6244) + t_49;
    (&ret_27)->p_0[2U] = mul_0(R_53, _S6246) + t_49;
    (&ret_27)->p_0[3U] = mul_0(R_53, _S6248) + t_49;
    (&ret_27)->p_0[4U] = mul_0(R_53, _S6245) + t_49;
    (&ret_27)->p_0[5U] = mul_0(R_53, _S6247) + t_49;
    (&ret_27)->p_0[6U] = mul_0(R_53, _S6249) + t_49;
    SigmaPoints_0 _S6250 = ret_27;
    Matrix<float, 2, 2>  covar2d_33;
    bool _S6251 = fisheye_proj_3dgs_ut_1(&_S6250, intrins_49, dist_coeffs_77, &covar2d_33, mean2d_42);
    float det_orig_55 = *&(((&covar2d_33)->rows + (int(0)))->x) * *&(((&covar2d_33)->rows + (int(1)))->y) - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x);
    float _S6252 = *&(((&covar2d_33)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(0)))->x) = _S6252;
    float _S6253 = *&(((&covar2d_33)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(1)))->y) = _S6253;
    float compensation_34 = (F32_sqrt(((F32_max((0.0f), (det_orig_55 / (_S6252 * _S6253 - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x))))))));
    *opacity_37 = 1.0f / (1.0f + (F32_exp((- in_opacity_46))));
    if(antialiased_62)
    {
        *opacity_37 = *opacity_37 * compensation_34;
    }
    float extend_33 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_37 / 0.00392156885936856f)))))))));
    float radius_x_41 = extend_33 * (F32_sqrt((covar2d_33[int(0)].x)));
    float radius_y_41 = extend_33 * (F32_sqrt((covar2d_33[int(1)].y)));
    *aabb_xyxy_41 = make_int4 (int((F32_floor(((*mean2d_42).x - radius_x_41)))), int((F32_floor(((*mean2d_42).y - radius_y_41)))), int((F32_ceil(((*mean2d_42).x + radius_x_41)))), int((F32_ceil(((*mean2d_42).y + radius_y_41)))));
    float _S6254 = mean_c_54.z;
    *depth_34 = (F32_max((_S6254), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6254 + length_1(mean_c_54)))));
    *conic_33 = exp_0(- scale_51);
    float3  _S6255 = mean_51 - - mul_0(transpose_0(R_53), t_49);
    float3  _S6256 = _S6255 * make_float3 ((F32_rsqrt((dot_0(_S6255, _S6255)))));
    float _S6257 = dot_0((*sv_sites_31)[int(5)], _S6256);
    float w_104 = (F32_exp((dot_0((*sv_sites_31)[int(0)], _S6256) - _S6257)));
    float w_105 = (F32_exp((dot_0((*sv_sites_31)[int(1)], _S6256) - _S6257)));
    float w_106 = (F32_exp((dot_0((*sv_sites_31)[int(2)], _S6256) - _S6257)));
    float w_107 = (F32_exp((dot_0((*sv_sites_31)[int(3)], _S6256) - _S6257)));
    float w_108 = (F32_exp((dot_0((*sv_sites_31)[int(4)], _S6256) - _S6257)));
    float w_109 = (F32_exp((0.0f)));
    *rgb_35 = max_0((make_float3 (w_104) * (*sv_colors_31)[int(0)] + make_float3 (w_105) * (*sv_colors_31)[int(1)] + make_float3 (w_106) * (*sv_colors_31)[int(2)] + make_float3 (w_107) * (*sv_colors_31)[int(3)] + make_float3 (w_108) * (*sv_colors_31)[int(4)] + make_float3 (w_109) * (*sv_colors_31)[int(5)]) / make_float3 (w_104 + w_105 + w_106 + w_107 + w_108 + w_109) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0
{
    FixedArray<float3 , 6>  primal_0;
    FixedArray<float3 , 6>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S6258;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(bool antialiased_63, float3  dpmean_18, float4  dpquat_17, float3  dpscale_17, float dpin_opacity_16, FixedArray<float3 , 6>  * dpsv_sites_16, FixedArray<float3 , 6>  * dpsv_colors_16, Matrix<float, 3, 3>  dpR_18, float3  dpt_17, float fx_75, float fy_75, float cx_70, float cy_70, FixedArray<float, 10>  * dist_coeffs_78, uint image_width_63, uint image_height_63, float near_plane_50, float far_plane_50, int4  * aabb_xyxy_42, float2  * dpmean2d_20, float * dpdepth_17, float3  * dpconic_16, float * dpopacity_18, float3  * dprgb_17, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_30)
{
    Matrix<float, 2, 2>  _S6259 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_30->_S6258 = _S6259;
    float2  _S6260 = make_float2 (0.0f);
    float3  _S6261 = make_float3 (0.0f);
    float3  mean_c_55 = s_primal_ctx_mul_0(dpR_18, dpmean_18) + dpt_17;
    float4  intrins_50 = make_float4 (fx_75, fy_75, cx_70, cy_70);
    float3  _S6262 = s_primal_ctx_exp_0(dpscale_17);
    float _S6263 = dpquat_17.y;
    float x2_61 = _S6263 * _S6263;
    float y2_61 = dpquat_17.z * dpquat_17.z;
    float z2_76 = dpquat_17.w * dpquat_17.w;
    float xy_61 = dpquat_17.y * dpquat_17.z;
    float xz_61 = dpquat_17.y * dpquat_17.w;
    float yz_61 = dpquat_17.z * dpquat_17.w;
    float wx_61 = dpquat_17.x * dpquat_17.y;
    float wy_61 = dpquat_17.x * dpquat_17.z;
    float wz_61 = dpquat_17.x * dpquat_17.w;
    Matrix<float, 3, 3>  _S6264 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_61 + z2_76), 2.0f * (xy_61 + wz_61), 2.0f * (xz_61 - wy_61), 2.0f * (xy_61 - wz_61), 1.0f - 2.0f * (x2_61 + z2_76), 2.0f * (yz_61 + wx_61), 2.0f * (xz_61 + wy_61), 2.0f * (yz_61 - wx_61), 1.0f - 2.0f * (x2_61 + y2_61))));
    FixedArray<float3 , 7>  _S6265 = {
        _S6261, _S6261, _S6261, _S6261, _S6261, _S6261, _S6261
    };
    FixedArray<float, 7>  _S6266 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6267;
    (&_S6267)->p_0 = _S6265;
    (&_S6267)->w_mean_0 = _S6266;
    (&_S6267)->w_cov_0 = _S6266;
    (&_S6267)->p_0[int(0)] = dpmean_18;
    SigmaPoints_0 _S6268 = _S6267;
    (&_S6268)->w_mean_0[int(0)] = 0.0f;
    (&_S6268)->w_cov_0[int(0)] = 2.0f;
    float _S6269 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_138 = make_float3 (_S6269 * _S6262.x) * _S6264.rows[0U];
    float3  _S6270 = dpmean_18 + delta_138;
    float3  _S6271 = dpmean_18 - delta_138;
    float3  delta_139 = make_float3 (_S6269 * _S6262.y) * _S6264.rows[1U];
    float3  _S6272 = dpmean_18 + delta_139;
    float3  _S6273 = dpmean_18 - delta_139;
    float3  delta_140 = make_float3 (_S6269 * _S6262.z) * _S6264.rows[2U];
    float3  _S6274 = dpmean_18 + delta_140;
    float3  _S6275 = dpmean_18 - delta_140;
    (&_S6268)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6268)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6268)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6268)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6268)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6268)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6268)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6268)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6268)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6268)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6268)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6268)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6268)->p_0[0U] = s_primal_ctx_mul_0(dpR_18, _S6267.p_0[0U]) + dpt_17;
    (&_S6268)->p_0[1U] = s_primal_ctx_mul_0(dpR_18, _S6270) + dpt_17;
    (&_S6268)->p_0[2U] = s_primal_ctx_mul_0(dpR_18, _S6272) + dpt_17;
    (&_S6268)->p_0[3U] = s_primal_ctx_mul_0(dpR_18, _S6274) + dpt_17;
    (&_S6268)->p_0[4U] = s_primal_ctx_mul_0(dpR_18, _S6271) + dpt_17;
    (&_S6268)->p_0[5U] = s_primal_ctx_mul_0(dpR_18, _S6273) + dpt_17;
    (&_S6268)->p_0[6U] = s_primal_ctx_mul_0(dpR_18, _S6275) + dpt_17;
    float2  _S6276 = _S6260;
    Matrix<float, 2, 2>  _S6277 = _S6259;
    SigmaPoints_0 _S6278 = _S6268;
    bool _S6279 = persp_proj_3dgs_ut_1(&_S6278, intrins_50, dist_coeffs_78, image_width_63, image_height_63, &_S6277, &_S6276);
    _s_diff_ctx_30->_S6258 = _S6277;
    float2  _S6280 = _S6276;
    float _S6281 = _S6277.rows[int(0)].y * _S6277.rows[int(1)].x;
    float det_orig_56 = _S6277.rows[int(0)].x * _S6277.rows[int(1)].y - _S6281;
    float _S6282 = _S6277.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6283 = _S6277;
    *&(((&_S6283)->rows + (int(0)))->x) = _S6282;
    float _S6284 = _S6277.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6283)->rows + (int(1)))->y) = _S6284;
    Matrix<float, 2, 2>  _S6285 = _S6283;
    Matrix<float, 2, 2>  _S6286 = _S6283;
    float _S6287 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_56 / (_S6282 * _S6284 - _S6281)));
    float _S6288 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_16));
    float _S6289;
    if(antialiased_63)
    {
        _S6289 = _S6288 * _S6287;
    }
    else
    {
        _S6289 = _S6288;
    }
    float _S6290 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6289 / 0.00392156885936856f)));
    float radius_x_42 = _S6290 * s_primal_ctx_sqrt_0(_S6285.rows[int(0)].x);
    float radius_y_42 = _S6290 * s_primal_ctx_sqrt_0(_S6286.rows[int(1)].y);
    float _S6291 = _S6280.x;
    float _S6292 = _S6280.y;
    float _S6293 = mean_c_55.z;
    float _S6294 = s_primal_ctx_max_0(_S6293, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6293 + length_1(mean_c_55)));
    float3  _S6295 = s_primal_ctx_exp_0(- dpscale_17);
    float3  _S6296 = dpmean_18 - - s_primal_ctx_mul_0(transpose_0(dpR_18), dpt_17);
    float3  _S6297 = _S6296 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6296, _S6296)));
    float _S6298 = s_primal_ctx_dot_0((*dpsv_sites_16)[int(5)], _S6297);
    float _S6299 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(0)], _S6297) - _S6298);
    float _S6300 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(1)], _S6297) - _S6298);
    float _S6301 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(2)], _S6297) - _S6298);
    float _S6302 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(3)], _S6297) - _S6298);
    float _S6303 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(4)], _S6297) - _S6298);
    float _S6304 = s_primal_ctx_exp_1(0.0f);
    float3  _S6305 = s_primal_ctx_max_1((make_float3 (_S6299) * (*dpsv_colors_16)[int(0)] + make_float3 (_S6300) * (*dpsv_colors_16)[int(1)] + make_float3 (_S6301) * (*dpsv_colors_16)[int(2)] + make_float3 (_S6302) * (*dpsv_colors_16)[int(3)] + make_float3 (_S6303) * (*dpsv_colors_16)[int(4)] + make_float3 (_S6304) * (*dpsv_colors_16)[int(5)]) / make_float3 (_S6299 + _S6300 + _S6301 + _S6302 + _S6303 + _S6304) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_42 = make_int4 (int((F32_floor((_S6291 - radius_x_42)))), int((F32_floor((_S6292 - radius_y_42)))), int((F32_ceil((_S6291 + radius_x_42)))), int((F32_ceil((_S6292 + radius_y_42)))));
    *dpmean2d_20 = _S6280;
    *dpdepth_17 = _S6294;
    *dpconic_16 = _S6295;
    *dpopacity_18 = _S6289;
    *dprgb_17 = _S6305;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(bool antialiased_64, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_19, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_18, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_18, DiffPair_float_0 * dpin_opacity_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_17, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_19, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_18, float fx_76, float fy_76, float cx_71, float cy_71, FixedArray<float, 10>  * dist_coeffs_79, uint image_width_64, uint image_height_64, float near_plane_51, float far_plane_51, float2  dpmean2d_21, float dpdepth_18, float3  dpconic_17, float dpopacity_19, float3  dprgb_18, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_31)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6306 = *dpmean_19;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6307 = *dpquat_18;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6308 = *dpscale_18;
    FixedArray<float3 , 6>  _S6309 = dpsv_sites_17->primal_0;
    FixedArray<float3 , 6>  _S6310 = dpsv_colors_17->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6311 = *dpR_19;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6312 = *dpt_18;
    float3  _S6313 = make_float3 (0.0f);
    float3  mean_c_56 = s_primal_ctx_mul_0((*dpR_19).primal_0, (*dpmean_19).primal_0) + (*dpt_18).primal_0;
    float3  _S6314 = s_primal_ctx_exp_0((*dpscale_18).primal_0);
    float _S6315 = (*dpquat_18).primal_0.y;
    float x2_62 = _S6315 * _S6315;
    float y2_62 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.z;
    float z2_77 = (*dpquat_18).primal_0.w * (*dpquat_18).primal_0.w;
    float xy_62 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.z;
    float xz_62 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.w;
    float yz_62 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.w;
    float wx_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.y;
    float wy_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.z;
    float wz_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.w;
    Matrix<float, 3, 3>  _S6316 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_62 + z2_77), 2.0f * (xy_62 + wz_62), 2.0f * (xz_62 - wy_62), 2.0f * (xy_62 - wz_62), 1.0f - 2.0f * (x2_62 + z2_77), 2.0f * (yz_62 + wx_62), 2.0f * (xz_62 + wy_62), 2.0f * (yz_62 - wx_62), 1.0f - 2.0f * (x2_62 + y2_62))));
    FixedArray<float3 , 7>  _S6317 = {
        _S6313, _S6313, _S6313, _S6313, _S6313, _S6313, _S6313
    };
    FixedArray<float, 7>  _S6318 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6319;
    (&_S6319)->p_0 = _S6317;
    (&_S6319)->w_mean_0 = _S6318;
    (&_S6319)->w_cov_0 = _S6318;
    (&_S6319)->p_0[int(0)] = (*dpmean_19).primal_0;
    float _S6320 = s_primal_ctx_sqrt_0(3.0f);
    float _S6321 = _S6320 * _S6314.x;
    float3  _S6322 = make_float3 (_S6321);
    float3  delta_141 = make_float3 (_S6321) * _S6316.rows[0U];
    float3  _S6323 = (*dpmean_19).primal_0 + delta_141;
    float3  _S6324 = (*dpmean_19).primal_0 - delta_141;
    float _S6325 = _S6320 * _S6314.y;
    float3  _S6326 = make_float3 (_S6325);
    float3  delta_142 = make_float3 (_S6325) * _S6316.rows[1U];
    float3  _S6327 = (*dpmean_19).primal_0 + delta_142;
    float3  _S6328 = (*dpmean_19).primal_0 - delta_142;
    float _S6329 = _S6320 * _S6314.z;
    float3  _S6330 = make_float3 (_S6329);
    float3  delta_143 = make_float3 (_S6329) * _S6316.rows[2U];
    float3  _S6331 = (*dpmean_19).primal_0 + delta_143;
    float3  _S6332 = (*dpmean_19).primal_0 - delta_143;
    SigmaPoints_0 _S6333 = _S6319;
    float _S6334 = *&(((&_s_diff_ctx_31->_S6258)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_31->_S6258)->rows + (int(1)))->x);
    float det_orig_57 = *&(((&_s_diff_ctx_31->_S6258)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_31->_S6258)->rows + (int(1)))->y) - _S6334;
    float _S6335 = *&(((&_s_diff_ctx_31->_S6258)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6336 = _s_diff_ctx_31->_S6258;
    *&(((&_S6336)->rows + (int(0)))->x) = _S6335;
    float _S6337 = *&(((&_s_diff_ctx_31->_S6258)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6336)->rows + (int(1)))->y) = _S6337;
    Matrix<float, 2, 2>  _S6338 = _S6336;
    Matrix<float, 2, 2>  _S6339 = _S6336;
    float det_blur_33 = _S6335 * _S6337 - _S6334;
    float _S6340 = det_orig_57 / det_blur_33;
    float _S6341 = det_blur_33 * det_blur_33;
    float _S6342 = s_primal_ctx_max_0(0.0f, _S6340);
    float _S6343 = s_primal_ctx_sqrt_0(_S6342);
    float _S6344 = - (*dpin_opacity_17).primal_0;
    float _S6345 = 1.0f + s_primal_ctx_exp_1(_S6344);
    float _S6346 = 1.0f / _S6345;
    float _S6347 = _S6345 * _S6345;
    float _S6348;
    if(antialiased_64)
    {
        _S6348 = _S6346 * _S6343;
    }
    else
    {
        _S6348 = _S6346;
    }
    float _S6349 = _S6348 / 0.00392156885936856f;
    float _S6350 = 2.0f * s_primal_ctx_log_0(_S6349);
    float _S6351 = s_primal_ctx_sqrt_0(_S6350);
    float _S6352 = _S6338.rows[int(0)].x;
    float _S6353 = _S6339.rows[int(1)].y;
    float _S6354 = mean_c_56.z;
    float _S6355 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6356 = _S6355 * (_S6354 + length_1(mean_c_56));
    float3  _S6357 = - _S6308.primal_0;
    Matrix<float, 3, 3>  _S6358 = transpose_0(_S6311.primal_0);
    float3  _S6359 = _S6306.primal_0 - - s_primal_ctx_mul_0(_S6358, _S6312.primal_0);
    float _S6360 = s_primal_ctx_dot_0(_S6359, _S6359);
    float _S6361 = s_primal_ctx_rsqrt_0(_S6360);
    float3  _S6362 = make_float3 (_S6361);
    float3  _S6363 = _S6359 * make_float3 (_S6361);
    float _S6364 = s_primal_ctx_dot_0(_S6309[int(5)], _S6363);
    float _S6365 = s_primal_ctx_dot_0(_S6309[int(0)], _S6363) - _S6364;
    float _S6366 = s_primal_ctx_exp_1(_S6365);
    float3  _S6367 = make_float3 (_S6366);
    float _S6368 = s_primal_ctx_dot_0(_S6309[int(1)], _S6363) - _S6364;
    float _S6369 = s_primal_ctx_exp_1(_S6368);
    float3  _S6370 = make_float3 (_S6369);
    float _S6371 = s_primal_ctx_dot_0(_S6309[int(2)], _S6363) - _S6364;
    float _S6372 = s_primal_ctx_exp_1(_S6371);
    float3  _S6373 = make_float3 (_S6372);
    float _S6374 = s_primal_ctx_dot_0(_S6309[int(3)], _S6363) - _S6364;
    float _S6375 = s_primal_ctx_exp_1(_S6374);
    float3  _S6376 = make_float3 (_S6375);
    float _S6377 = s_primal_ctx_dot_0(_S6309[int(4)], _S6363) - _S6364;
    float _S6378 = s_primal_ctx_exp_1(_S6377);
    float3  _S6379 = make_float3 (_S6378);
    float _S6380 = s_primal_ctx_exp_1(0.0f);
    float3  _S6381 = make_float3 (_S6380);
    float total_w_8 = _S6366 + _S6369 + _S6372 + _S6375 + _S6378 + _S6380;
    float3  _S6382 = make_float3 (total_w_8);
    float3  total_c_8 = make_float3 (_S6366) * _S6310[int(0)] + make_float3 (_S6369) * _S6310[int(1)] + make_float3 (_S6372) * _S6310[int(2)] + make_float3 (_S6375) * _S6310[int(3)] + make_float3 (_S6378) * _S6310[int(4)] + make_float3 (_S6380) * _S6310[int(5)];
    float3  _S6383 = make_float3 (total_w_8 * total_w_8);
    float3  _S6384 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6385;
    (&_S6385)->primal_0 = total_c_8 / make_float3 (total_w_8) + make_float3 (0.5f);
    (&_S6385)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6386;
    (&_S6386)->primal_0 = _S6384;
    (&_S6386)->differential_0 = _S6313;
    s_bwd_prop_max_0(&_S6385, &_S6386, dprgb_18);
    float3  _S6387 = _S6385.differential_0 / _S6383;
    float3  _S6388 = total_c_8 * - _S6387;
    float3  s_diff_total_c_T_8 = _S6382 * _S6387;
    float3  _S6389 = _S6381 * s_diff_total_c_T_8;
    float _S6390 = _S6388.x + _S6388.y + _S6388.z;
    float3  _S6391 = _S6379 * s_diff_total_c_T_8;
    float3  _S6392 = _S6310[int(4)] * s_diff_total_c_T_8;
    float _S6393 = _S6390 + _S6392.x + _S6392.y + _S6392.z;
    DiffPair_float_0 _S6394;
    (&_S6394)->primal_0 = _S6377;
    (&_S6394)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6394, _S6393);
    float _S6395 = - _S6394.differential_0;
    float3  _S6396 = _S6376 * s_diff_total_c_T_8;
    float3  _S6397 = _S6310[int(3)] * s_diff_total_c_T_8;
    float _S6398 = _S6390 + _S6397.x + _S6397.y + _S6397.z;
    DiffPair_float_0 _S6399;
    (&_S6399)->primal_0 = _S6374;
    (&_S6399)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6399, _S6398);
    float _S6400 = - _S6399.differential_0;
    float3  _S6401 = _S6373 * s_diff_total_c_T_8;
    float3  _S6402 = _S6310[int(2)] * s_diff_total_c_T_8;
    float _S6403 = _S6390 + _S6402.x + _S6402.y + _S6402.z;
    DiffPair_float_0 _S6404;
    (&_S6404)->primal_0 = _S6371;
    (&_S6404)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6404, _S6403);
    float _S6405 = - _S6404.differential_0;
    float3  _S6406 = _S6370 * s_diff_total_c_T_8;
    float3  _S6407 = _S6310[int(1)] * s_diff_total_c_T_8;
    float _S6408 = _S6390 + _S6407.x + _S6407.y + _S6407.z;
    DiffPair_float_0 _S6409;
    (&_S6409)->primal_0 = _S6368;
    (&_S6409)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6409, _S6408);
    float _S6410 = - _S6409.differential_0;
    float3  _S6411 = _S6367 * s_diff_total_c_T_8;
    float3  _S6412 = _S6310[int(0)] * s_diff_total_c_T_8;
    float _S6413 = _S6390 + _S6412.x + _S6412.y + _S6412.z;
    DiffPair_float_0 _S6414;
    (&_S6414)->primal_0 = _S6365;
    (&_S6414)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6414, _S6413);
    float _S6415 = _S6395 + _S6400 + _S6405 + _S6410 + - _S6414.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6416;
    (&_S6416)->primal_0 = _S6309[int(5)];
    (&_S6416)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6417;
    (&_S6417)->primal_0 = _S6363;
    (&_S6417)->differential_0 = _S6313;
    s_bwd_prop_dot_0(&_S6416, &_S6417, _S6415);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6418;
    (&_S6418)->primal_0 = _S6309[int(4)];
    (&_S6418)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6419;
    (&_S6419)->primal_0 = _S6363;
    (&_S6419)->differential_0 = _S6313;
    s_bwd_prop_dot_0(&_S6418, &_S6419, _S6394.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6420;
    (&_S6420)->primal_0 = _S6309[int(3)];
    (&_S6420)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6421;
    (&_S6421)->primal_0 = _S6363;
    (&_S6421)->differential_0 = _S6313;
    s_bwd_prop_dot_0(&_S6420, &_S6421, _S6399.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6422;
    (&_S6422)->primal_0 = _S6309[int(2)];
    (&_S6422)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6423;
    (&_S6423)->primal_0 = _S6363;
    (&_S6423)->differential_0 = _S6313;
    s_bwd_prop_dot_0(&_S6422, &_S6423, _S6404.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6424;
    (&_S6424)->primal_0 = _S6309[int(1)];
    (&_S6424)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6425;
    (&_S6425)->primal_0 = _S6363;
    (&_S6425)->differential_0 = _S6313;
    s_bwd_prop_dot_0(&_S6424, &_S6425, _S6409.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6426;
    (&_S6426)->primal_0 = _S6309[int(0)];
    (&_S6426)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6427;
    (&_S6427)->primal_0 = _S6363;
    (&_S6427)->differential_0 = _S6313;
    s_bwd_prop_dot_0(&_S6426, &_S6427, _S6414.differential_0);
    float3  _S6428 = _S6417.differential_0 + _S6419.differential_0 + _S6421.differential_0 + _S6423.differential_0 + _S6425.differential_0 + _S6427.differential_0;
    float3  _S6429 = _S6359 * _S6428;
    float3  _S6430 = _S6362 * _S6428;
    float _S6431 = _S6429.x + _S6429.y + _S6429.z;
    DiffPair_float_0 _S6432;
    (&_S6432)->primal_0 = _S6360;
    (&_S6432)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6432, _S6431);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6433;
    (&_S6433)->primal_0 = _S6359;
    (&_S6433)->differential_0 = _S6313;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6434;
    (&_S6434)->primal_0 = _S6359;
    (&_S6434)->differential_0 = _S6313;
    s_bwd_prop_dot_0(&_S6433, &_S6434, _S6432.differential_0);
    float3  _S6435 = _S6430 + _S6434.differential_0 + _S6433.differential_0;
    float3  _S6436 = - - _S6435;
    Matrix<float, 3, 3>  _S6437 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6438;
    (&_S6438)->primal_0 = _S6358;
    (&_S6438)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6439;
    (&_S6439)->primal_0 = _S6312.primal_0;
    (&_S6439)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6438, &_S6439, _S6436);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6440 = _S6439;
    Matrix<float, 3, 3>  _S6441 = transpose_0(_S6438.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6442;
    (&_S6442)->primal_0 = _S6357;
    (&_S6442)->differential_0 = _S6313;
    s_bwd_prop_exp_1(&_S6442, dpconic_17);
    float3  _S6443 = - _S6442.differential_0;
    DiffPair_float_0 _S6444;
    (&_S6444)->primal_0 = _S6354;
    (&_S6444)->differential_0 = 0.0f;
    DiffPair_float_0 _S6445;
    (&_S6445)->primal_0 = _S6356;
    (&_S6445)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6444, &_S6445, dpdepth_18);
    float _S6446 = _S6355 * _S6445.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6447;
    (&_S6447)->primal_0 = mean_c_56;
    (&_S6447)->differential_0 = _S6313;
    s_bwd_length_impl_1(&_S6447, _S6446);
    float _S6448 = _S6444.differential_0 + _S6446;
    DiffPair_float_0 _S6449;
    (&_S6449)->primal_0 = _S6353;
    (&_S6449)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6449, 0.0f);
    DiffPair_float_0 _S6450;
    (&_S6450)->primal_0 = _S6352;
    (&_S6450)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6450, 0.0f);
    DiffPair_float_0 _S6451;
    (&_S6451)->primal_0 = 3.32999992370605469f;
    (&_S6451)->differential_0 = 0.0f;
    DiffPair_float_0 _S6452;
    (&_S6452)->primal_0 = _S6351;
    (&_S6452)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6451, &_S6452, 0.0f);
    DiffPair_float_0 _S6453;
    (&_S6453)->primal_0 = _S6350;
    (&_S6453)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6453, _S6452.differential_0);
    float _S6454 = 2.0f * _S6453.differential_0;
    DiffPair_float_0 _S6455;
    (&_S6455)->primal_0 = _S6349;
    (&_S6455)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6455, _S6454);
    float _S6456 = dpopacity_19 + 254.9999847412109375f * _S6455.differential_0;
    FixedArray<float3 , 6>  _S6457;
    _S6457[int(0)] = _S6313;
    _S6457[int(1)] = _S6313;
    _S6457[int(2)] = _S6313;
    _S6457[int(3)] = _S6313;
    _S6457[int(4)] = _S6313;
    _S6457[int(5)] = _S6313;
    _S6457[int(5)] = _S6389;
    _S6457[int(4)] = _S6391;
    _S6457[int(3)] = _S6396;
    _S6457[int(2)] = _S6401;
    _S6457[int(1)] = _S6406;
    _S6457[int(0)] = _S6411;
    FixedArray<float3 , 6>  _S6458 = {
        _S6457[int(0)], _S6457[int(1)], _S6457[int(2)], _S6457[int(3)], _S6457[int(4)], _S6457[int(5)]
    };
    FixedArray<float3 , 6>  _S6459;
    _S6459[int(0)] = _S6313;
    _S6459[int(1)] = _S6313;
    _S6459[int(2)] = _S6313;
    _S6459[int(3)] = _S6313;
    _S6459[int(4)] = _S6313;
    _S6459[int(5)] = _S6313;
    _S6459[int(5)] = _S6416.differential_0;
    _S6459[int(4)] = _S6418.differential_0;
    _S6459[int(3)] = _S6420.differential_0;
    _S6459[int(2)] = _S6422.differential_0;
    _S6459[int(1)] = _S6424.differential_0;
    _S6459[int(0)] = _S6426.differential_0;
    FixedArray<float3 , 6>  _S6460 = {
        _S6459[int(0)], _S6459[int(1)], _S6459[int(2)], _S6459[int(3)], _S6459[int(4)], _S6459[int(5)]
    };
    float3  _S6461 = _S6447.differential_0 + make_float3 (0.0f, 0.0f, _S6448);
    float2  _S6462 = make_float2 (0.0f, _S6449.differential_0);
    float2  _S6463 = make_float2 (_S6450.differential_0, 0.0f);
    float _S6464;
    if(antialiased_64)
    {
        float _S6465 = _S6346 * _S6456;
        _S6348 = _S6343 * _S6456;
        _S6464 = _S6465;
    }
    else
    {
        _S6348 = _S6456;
        _S6464 = 0.0f;
    }
    float _S6466 = - (_S6348 / _S6347);
    DiffPair_float_0 _S6467;
    (&_S6467)->primal_0 = _S6344;
    (&_S6467)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6467, _S6466);
    float _S6468 = - _S6467.differential_0;
    DiffPair_float_0 _S6469;
    (&_S6469)->primal_0 = _S6342;
    (&_S6469)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6469, _S6464);
    DiffPair_float_0 _S6470;
    (&_S6470)->primal_0 = 0.0f;
    (&_S6470)->differential_0 = 0.0f;
    DiffPair_float_0 _S6471;
    (&_S6471)->primal_0 = _S6340;
    (&_S6471)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6470, &_S6471, _S6469.differential_0);
    float _S6472 = _S6471.differential_0 / _S6341;
    float s_diff_det_blur_T_10 = det_orig_57 * - _S6472;
    float s_diff_det_orig_T_13 = det_blur_33 * _S6472;
    float _S6473 = - s_diff_det_blur_T_10;
    float _S6474 = _S6335 * s_diff_det_blur_T_10;
    float _S6475 = _S6337 * s_diff_det_blur_T_10;
    Matrix<float, 2, 2>  _S6476 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6477 = _S6476;
    _S6477[int(1)] = _S6462;
    _S6477[int(0)] = _S6463;
    float _S6478 = _S6475 + _S6477.rows[int(0)].x;
    float _S6479 = _S6473 + - s_diff_det_orig_T_13;
    float _S6480 = *&(((&_s_diff_ctx_31->_S6258)->rows + (int(0)))->y) * _S6479;
    float _S6481 = *&(((&_s_diff_ctx_31->_S6258)->rows + (int(1)))->x) * _S6479;
    float _S6482 = *&(((&_s_diff_ctx_31->_S6258)->rows + (int(1)))->y) * s_diff_det_orig_T_13;
    float _S6483 = _S6474 + _S6477.rows[int(1)].y + *&(((&_s_diff_ctx_31->_S6258)->rows + (int(0)))->x) * s_diff_det_orig_T_13;
    float2  _S6484 = make_float2 (0.0f);
    float2  _S6485 = _S6484;
    *&((&_S6485)->x) = _S6480;
    *&((&_S6485)->y) = _S6483;
    float _S6486 = _S6478 + _S6482;
    float2  _S6487 = _S6484;
    *&((&_S6487)->y) = _S6481;
    *&((&_S6487)->x) = _S6486;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6488;
    (&_S6488)->primal_0 = _S6311.primal_0;
    (&_S6488)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6489;
    (&_S6489)->primal_0 = _S6332;
    (&_S6489)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6488, &_S6489, _S6313);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6490;
    (&_S6490)->primal_0 = _S6311.primal_0;
    (&_S6490)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6491;
    (&_S6491)->primal_0 = _S6328;
    (&_S6491)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6490, &_S6491, _S6313);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6492;
    (&_S6492)->primal_0 = _S6311.primal_0;
    (&_S6492)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6493;
    (&_S6493)->primal_0 = _S6324;
    (&_S6493)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6492, &_S6493, _S6313);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6494;
    (&_S6494)->primal_0 = _S6311.primal_0;
    (&_S6494)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6495;
    (&_S6495)->primal_0 = _S6331;
    (&_S6495)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6494, &_S6495, _S6313);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6496;
    (&_S6496)->primal_0 = _S6311.primal_0;
    (&_S6496)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6497;
    (&_S6497)->primal_0 = _S6327;
    (&_S6497)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6496, &_S6497, _S6313);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6498;
    (&_S6498)->primal_0 = _S6311.primal_0;
    (&_S6498)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6499;
    (&_S6499)->primal_0 = _S6323;
    (&_S6499)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6498, &_S6499, _S6313);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6500;
    (&_S6500)->primal_0 = _S6311.primal_0;
    (&_S6500)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6501;
    (&_S6501)->primal_0 = _S6333.p_0[0U];
    (&_S6501)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6500, &_S6501, _S6313);
    float3  _S6502 = - _S6489.differential_0 + _S6495.differential_0;
    float3  _S6503 = _S6330 * _S6502;
    float3  _S6504 = _S6316.rows[2U] * _S6502;
    float _S6505 = _S6320 * (_S6504.x + _S6504.y + _S6504.z);
    float3  _S6506 = - _S6491.differential_0 + _S6497.differential_0;
    float3  _S6507 = _S6326 * _S6506;
    float3  _S6508 = _S6316.rows[1U] * _S6506;
    float _S6509 = _S6320 * (_S6508.x + _S6508.y + _S6508.z);
    float3  _S6510 = - _S6493.differential_0 + _S6499.differential_0;
    float3  _S6511 = _S6322 * _S6510;
    float3  _S6512 = _S6316.rows[0U] * _S6510;
    float _S6513 = _S6320 * (_S6512.x + _S6512.y + _S6512.z);
    Matrix<float, 3, 3>  _S6514 = _S6437;
    _S6514[2U] = _S6503;
    _S6514[1U] = _S6507;
    _S6514[0U] = _S6511;
    Matrix<float, 3, 3>  _S6515 = transpose_0(transpose_0(_S6514));
    float _S6516 = 2.0f * - _S6515.rows[int(2)].z;
    float _S6517 = 2.0f * _S6515.rows[int(2)].y;
    float _S6518 = 2.0f * _S6515.rows[int(2)].x;
    float _S6519 = 2.0f * _S6515.rows[int(1)].z;
    float _S6520 = 2.0f * - _S6515.rows[int(1)].y;
    float _S6521 = 2.0f * _S6515.rows[int(1)].x;
    float _S6522 = 2.0f * _S6515.rows[int(0)].z;
    float _S6523 = 2.0f * _S6515.rows[int(0)].y;
    float _S6524 = 2.0f * - _S6515.rows[int(0)].x;
    float _S6525 = - _S6521 + _S6523;
    float _S6526 = _S6518 + - _S6522;
    float _S6527 = - _S6517 + _S6519;
    float _S6528 = _S6517 + _S6519;
    float _S6529 = _S6518 + _S6522;
    float _S6530 = _S6521 + _S6523;
    float _S6531 = _S6307.primal_0.w * (_S6520 + _S6524);
    float _S6532 = _S6307.primal_0.z * (_S6516 + _S6524);
    float _S6533 = _S6307.primal_0.y * (_S6516 + _S6520);
    float _S6534 = _S6307.primal_0.x * _S6525 + _S6307.primal_0.z * _S6528 + _S6307.primal_0.y * _S6529 + _S6531 + _S6531;
    float _S6535 = _S6307.primal_0.x * _S6526 + _S6307.primal_0.w * _S6528 + _S6307.primal_0.y * _S6530 + _S6532 + _S6532;
    float _S6536 = _S6307.primal_0.x * _S6527 + _S6307.primal_0.w * _S6529 + _S6307.primal_0.z * _S6530 + _S6533 + _S6533;
    float _S6537 = _S6307.primal_0.w * _S6525 + _S6307.primal_0.z * _S6526 + _S6307.primal_0.y * _S6527;
    float3  _S6538 = _S6313;
    *&((&_S6538)->z) = _S6505;
    *&((&_S6538)->y) = _S6509;
    *&((&_S6538)->x) = _S6513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6539;
    (&_S6539)->primal_0 = _S6308.primal_0;
    (&_S6539)->differential_0 = _S6313;
    s_bwd_prop_exp_1(&_S6539, _S6538);
    Matrix<float, 2, 2>  _S6540 = _S6476;
    _S6540[int(1)] = _S6485;
    _S6540[int(0)] = _S6487;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6541;
    (&_S6541)->primal_0 = _S6311.primal_0;
    (&_S6541)->differential_0 = _S6437;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6542;
    (&_S6542)->primal_0 = _S6306.primal_0;
    (&_S6542)->differential_0 = _S6313;
    s_bwd_prop_mul_1(&_S6541, &_S6542, _S6461);
    float3  _S6543 = _S6461 + _S6440.differential_0;
    dpt_18->primal_0 = (*dpt_18).primal_0;
    dpt_18->differential_0 = _S6543;
    Matrix<float, 3, 3>  _S6544 = _S6488.differential_0 + _S6490.differential_0 + _S6492.differential_0 + _S6494.differential_0 + _S6496.differential_0 + _S6498.differential_0 + _S6500.differential_0 + _S6541.differential_0 + _S6441;
    dpR_19->primal_0 = (*dpR_19).primal_0;
    dpR_19->differential_0 = _S6544;
    dpsv_colors_17->primal_0 = dpsv_colors_17->primal_0;
    dpsv_colors_17->differential_0 = _S6458;
    dpsv_sites_17->primal_0 = dpsv_sites_17->primal_0;
    dpsv_sites_17->differential_0 = _S6460;
    dpin_opacity_17->primal_0 = (*dpin_opacity_17).primal_0;
    dpin_opacity_17->differential_0 = _S6468;
    float3  _S6545 = _S6539.differential_0 + _S6443;
    dpscale_18->primal_0 = (*dpscale_18).primal_0;
    dpscale_18->differential_0 = _S6545;
    float4  _S6546 = make_float4 (0.0f);
    *&((&_S6546)->w) = _S6534;
    *&((&_S6546)->z) = _S6535;
    *&((&_S6546)->y) = _S6536;
    *&((&_S6546)->x) = _S6537;
    dpquat_18->primal_0 = (*dpquat_18).primal_0;
    dpquat_18->differential_0 = _S6546;
    float3  _S6547 = _S6489.differential_0 + _S6495.differential_0 + _S6491.differential_0 + _S6497.differential_0 + _S6493.differential_0 + _S6499.differential_0 + _S6542.differential_0 + _S6435;
    dpmean_19->primal_0 = (*dpmean_19).primal_0;
    dpmean_19->differential_0 = _S6547;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_4(bool _S6548, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6549, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6550, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6551, DiffPair_float_0 * _S6552, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6553, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6554, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6555, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6556, float _S6557, float _S6558, float _S6559, float _S6560, FixedArray<float, 10>  * _S6561, uint _S6562, uint _S6563, float _S6564, float _S6565, float2  _S6566, float _S6567, float3  _S6568, float _S6569, float3  _S6570)
{
    FixedArray<float3 , 6>  _S6571 = _S6553->primal_0;
    FixedArray<float3 , 6>  _S6572 = _S6554->primal_0;
    int4  _S6573;
    float2  _S6574;
    float _S6575;
    float3  _S6576;
    float _S6577;
    float3  _S6578;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S6579;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(_S6548, (*_S6549).primal_0, (*_S6550).primal_0, (*_S6551).primal_0, (*_S6552).primal_0, &_S6571, &_S6572, (*_S6555).primal_0, (*_S6556).primal_0, _S6557, _S6558, _S6559, _S6560, _S6561, _S6562, _S6563, _S6564, _S6565, &_S6573, &_S6574, &_S6575, &_S6576, &_S6577, &_S6578, &_S6579);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S6580 = _S6579;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(_S6548, _S6549, _S6550, _S6551, _S6552, _S6553, _S6554, _S6555, _S6556, _S6557, _S6558, _S6559, _S6560, _S6561, _S6562, _S6563, _S6564, _S6565, _S6566, _S6567, _S6568, _S6569, _S6570, &_S6580);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_65, float3  mean_52, float4  quat_53, float3  scale_52, float in_opacity_47, FixedArray<float3 , 6>  * sv_sites_32, FixedArray<float3 , 6>  * sv_colors_32, Matrix<float, 3, 3>  R_54, float3  t_50, float fx_77, float fy_77, float cx_72, float cy_72, FixedArray<float, 10>  * dist_coeffs_80, uint image_width_65, uint image_height_65, float2  v_mean2d_13, float v_depth_14, float3  v_conic_13, float v_opacity_15, float3  v_rgb_14, float3  * v_mean_15, float4  * v_quat_14, float3  * v_scale_14, float * v_in_opacity_13, FixedArray<float3 , 6>  * v_sv_dirs_8, FixedArray<float3 , 6>  * v_sv_colors_8, Matrix<float, 3, 3>  * v_R_15, float3  * v_t_14)
{
    float3  _S6581 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_10;
    (&dp_mean_10)->primal_0 = mean_52;
    (&dp_mean_10)->differential_0 = _S6581;
    float4  _S6582 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_9;
    (&dp_quat_9)->primal_0 = quat_53;
    (&dp_quat_9)->differential_0 = _S6582;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_9;
    (&dp_scale_9)->primal_0 = scale_52;
    (&dp_scale_9)->differential_0 = _S6581;
    DiffPair_float_0 dp_in_opacity_8;
    (&dp_in_opacity_8)->primal_0 = in_opacity_47;
    (&dp_in_opacity_8)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S6583 = { _S6581, _S6581, _S6581, _S6581, _S6581, _S6581 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_8;
    (&dp_sv_dirs_8)->primal_0 = *sv_sites_32;
    (&dp_sv_dirs_8)->differential_0 = _S6583;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_8;
    (&dp_sv_colors_8)->primal_0 = *sv_colors_32;
    (&dp_sv_colors_8)->differential_0 = _S6583;
    Matrix<float, 3, 3>  _S6584 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_10;
    (&dp_R_10)->primal_0 = R_54;
    (&dp_R_10)->differential_0 = _S6584;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_9;
    (&dp_t_9)->primal_0 = t_50;
    (&dp_t_9)->differential_0 = _S6581;
    s_bwd_projection_3dgut_sv_persp_differentiable_4(antialiased_65, &dp_mean_10, &dp_quat_9, &dp_scale_9, &dp_in_opacity_8, &dp_sv_dirs_8, &dp_sv_colors_8, &dp_R_10, &dp_t_9, fx_77, fy_77, cx_72, cy_72, dist_coeffs_80, image_width_65, image_height_65, 0.0f, 1.00000001504746622e+30f, v_mean2d_13, v_depth_14, v_conic_13, v_opacity_15, v_rgb_14);
    *v_mean_15 = dp_mean_10.differential_0;
    *v_quat_14 = dp_quat_9.differential_0;
    *v_scale_14 = dp_scale_9.differential_0;
    *v_in_opacity_13 = dp_in_opacity_8.differential_0;
    *v_sv_dirs_8 = (&dp_sv_dirs_8)->differential_0;
    *v_sv_colors_8 = (&dp_sv_colors_8)->differential_0;
    *v_R_15 = dp_R_10.differential_0;
    *v_t_14 = dp_t_9.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S6585;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_66, float3  dpmean_20, float4  dpquat_19, float3  dpscale_19, float dpin_opacity_18, FixedArray<float3 , 6>  * dpsv_sites_18, FixedArray<float3 , 6>  * dpsv_colors_18, Matrix<float, 3, 3>  dpR_20, float3  dpt_19, float fx_78, float fy_78, float cx_73, float cy_73, FixedArray<float, 10>  * dist_coeffs_81, uint image_width_66, uint image_height_66, float near_plane_52, float far_plane_52, int4  * aabb_xyxy_43, float2  * dpmean2d_22, float * dpdepth_19, float3  * dpconic_18, float * dpopacity_20, float3  * dprgb_19, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_32)
{
    Matrix<float, 2, 2>  _S6586 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_32->_S6585 = _S6586;
    float2  _S6587 = make_float2 (0.0f);
    float3  _S6588 = make_float3 (0.0f);
    float3  mean_c_57 = s_primal_ctx_mul_0(dpR_20, dpmean_20) + dpt_19;
    float _S6589 = length_1(mean_c_57);
    float4  intrins_51 = make_float4 (fx_78, fy_78, cx_73, cy_73);
    float3  _S6590 = s_primal_ctx_exp_0(dpscale_19);
    float _S6591 = dpquat_19.y;
    float x2_63 = _S6591 * _S6591;
    float y2_63 = dpquat_19.z * dpquat_19.z;
    float z2_78 = dpquat_19.w * dpquat_19.w;
    float xy_63 = dpquat_19.y * dpquat_19.z;
    float xz_63 = dpquat_19.y * dpquat_19.w;
    float yz_63 = dpquat_19.z * dpquat_19.w;
    float wx_63 = dpquat_19.x * dpquat_19.y;
    float wy_63 = dpquat_19.x * dpquat_19.z;
    float wz_63 = dpquat_19.x * dpquat_19.w;
    Matrix<float, 3, 3>  _S6592 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_63 + z2_78), 2.0f * (xy_63 + wz_63), 2.0f * (xz_63 - wy_63), 2.0f * (xy_63 - wz_63), 1.0f - 2.0f * (x2_63 + z2_78), 2.0f * (yz_63 + wx_63), 2.0f * (xz_63 + wy_63), 2.0f * (yz_63 - wx_63), 1.0f - 2.0f * (x2_63 + y2_63))));
    FixedArray<float3 , 7>  _S6593 = {
        _S6588, _S6588, _S6588, _S6588, _S6588, _S6588, _S6588
    };
    FixedArray<float, 7>  _S6594 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6595;
    (&_S6595)->p_0 = _S6593;
    (&_S6595)->w_mean_0 = _S6594;
    (&_S6595)->w_cov_0 = _S6594;
    (&_S6595)->p_0[int(0)] = dpmean_20;
    SigmaPoints_0 _S6596 = _S6595;
    (&_S6596)->w_mean_0[int(0)] = 0.0f;
    (&_S6596)->w_cov_0[int(0)] = 2.0f;
    float _S6597 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_144 = make_float3 (_S6597 * _S6590.x) * _S6592.rows[0U];
    float3  _S6598 = dpmean_20 + delta_144;
    float3  _S6599 = dpmean_20 - delta_144;
    float3  delta_145 = make_float3 (_S6597 * _S6590.y) * _S6592.rows[1U];
    float3  _S6600 = dpmean_20 + delta_145;
    float3  _S6601 = dpmean_20 - delta_145;
    float3  delta_146 = make_float3 (_S6597 * _S6590.z) * _S6592.rows[2U];
    float3  _S6602 = dpmean_20 + delta_146;
    float3  _S6603 = dpmean_20 - delta_146;
    (&_S6596)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6596)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6596)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6596)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6596)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6596)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6596)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6596)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6596)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6596)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6596)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6596)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6596)->p_0[0U] = s_primal_ctx_mul_0(dpR_20, _S6595.p_0[0U]) + dpt_19;
    (&_S6596)->p_0[1U] = s_primal_ctx_mul_0(dpR_20, _S6598) + dpt_19;
    (&_S6596)->p_0[2U] = s_primal_ctx_mul_0(dpR_20, _S6600) + dpt_19;
    (&_S6596)->p_0[3U] = s_primal_ctx_mul_0(dpR_20, _S6602) + dpt_19;
    (&_S6596)->p_0[4U] = s_primal_ctx_mul_0(dpR_20, _S6599) + dpt_19;
    (&_S6596)->p_0[5U] = s_primal_ctx_mul_0(dpR_20, _S6601) + dpt_19;
    (&_S6596)->p_0[6U] = s_primal_ctx_mul_0(dpR_20, _S6603) + dpt_19;
    float2  _S6604 = _S6587;
    Matrix<float, 2, 2>  _S6605 = _S6586;
    SigmaPoints_0 _S6606 = _S6596;
    bool _S6607 = fisheye_proj_3dgs_ut_1(&_S6606, intrins_51, dist_coeffs_81, &_S6605, &_S6604);
    _s_diff_ctx_32->_S6585 = _S6605;
    float2  _S6608 = _S6604;
    float _S6609 = _S6605.rows[int(0)].y * _S6605.rows[int(1)].x;
    float det_orig_58 = _S6605.rows[int(0)].x * _S6605.rows[int(1)].y - _S6609;
    float _S6610 = _S6605.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6611 = _S6605;
    *&(((&_S6611)->rows + (int(0)))->x) = _S6610;
    float _S6612 = _S6605.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6611)->rows + (int(1)))->y) = _S6612;
    Matrix<float, 2, 2>  _S6613 = _S6611;
    Matrix<float, 2, 2>  _S6614 = _S6611;
    float _S6615 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_58 / (_S6610 * _S6612 - _S6609)));
    float _S6616 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_18));
    float _S6617;
    if(antialiased_66)
    {
        _S6617 = _S6616 * _S6615;
    }
    else
    {
        _S6617 = _S6616;
    }
    float _S6618 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6617 / 0.00392156885936856f)));
    float radius_x_43 = _S6618 * s_primal_ctx_sqrt_0(_S6613.rows[int(0)].x);
    float radius_y_43 = _S6618 * s_primal_ctx_sqrt_0(_S6614.rows[int(1)].y);
    float _S6619 = _S6608.x;
    float _S6620 = _S6608.y;
    float _S6621 = mean_c_57.z;
    float _S6622 = s_primal_ctx_max_0(_S6621, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6621 + _S6589));
    float3  _S6623 = s_primal_ctx_exp_0(- dpscale_19);
    float3  _S6624 = dpmean_20 - - s_primal_ctx_mul_0(transpose_0(dpR_20), dpt_19);
    float3  _S6625 = _S6624 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6624, _S6624)));
    float _S6626 = s_primal_ctx_dot_0((*dpsv_sites_18)[int(5)], _S6625);
    float _S6627 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(0)], _S6625) - _S6626);
    float _S6628 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(1)], _S6625) - _S6626);
    float _S6629 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(2)], _S6625) - _S6626);
    float _S6630 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(3)], _S6625) - _S6626);
    float _S6631 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(4)], _S6625) - _S6626);
    float _S6632 = s_primal_ctx_exp_1(0.0f);
    float3  _S6633 = s_primal_ctx_max_1((make_float3 (_S6627) * (*dpsv_colors_18)[int(0)] + make_float3 (_S6628) * (*dpsv_colors_18)[int(1)] + make_float3 (_S6629) * (*dpsv_colors_18)[int(2)] + make_float3 (_S6630) * (*dpsv_colors_18)[int(3)] + make_float3 (_S6631) * (*dpsv_colors_18)[int(4)] + make_float3 (_S6632) * (*dpsv_colors_18)[int(5)]) / make_float3 (_S6627 + _S6628 + _S6629 + _S6630 + _S6631 + _S6632) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_43 = make_int4 (int((F32_floor((_S6619 - radius_x_43)))), int((F32_floor((_S6620 - radius_y_43)))), int((F32_ceil((_S6619 + radius_x_43)))), int((F32_ceil((_S6620 + radius_y_43)))));
    *dpmean2d_22 = _S6608;
    *dpdepth_19 = _S6622;
    *dpconic_18 = _S6623;
    *dpopacity_20 = _S6617;
    *dprgb_19 = _S6633;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_67, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_21, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_20, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_20, DiffPair_float_0 * dpin_opacity_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_19, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_21, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_20, float fx_79, float fy_79, float cx_74, float cy_74, FixedArray<float, 10>  * dist_coeffs_82, uint image_width_67, uint image_height_67, float near_plane_53, float far_plane_53, float2  dpmean2d_23, float dpdepth_20, float3  dpconic_19, float dpopacity_21, float3  dprgb_20, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_33)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6634 = *dpmean_21;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6635 = *dpquat_20;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6636 = *dpscale_20;
    FixedArray<float3 , 6>  _S6637 = dpsv_sites_19->primal_0;
    FixedArray<float3 , 6>  _S6638 = dpsv_colors_19->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6639 = *dpR_21;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6640 = *dpt_20;
    float3  _S6641 = make_float3 (0.0f);
    float3  mean_c_58 = s_primal_ctx_mul_0((*dpR_21).primal_0, (*dpmean_21).primal_0) + (*dpt_20).primal_0;
    float _S6642 = length_1(mean_c_58);
    float3  _S6643 = s_primal_ctx_exp_0((*dpscale_20).primal_0);
    float _S6644 = (*dpquat_20).primal_0.y;
    float x2_64 = _S6644 * _S6644;
    float y2_64 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.z;
    float z2_79 = (*dpquat_20).primal_0.w * (*dpquat_20).primal_0.w;
    float xy_64 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.z;
    float xz_64 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.w;
    float yz_64 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.w;
    float wx_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.y;
    float wy_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.z;
    float wz_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.w;
    Matrix<float, 3, 3>  _S6645 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_64 + z2_79), 2.0f * (xy_64 + wz_64), 2.0f * (xz_64 - wy_64), 2.0f * (xy_64 - wz_64), 1.0f - 2.0f * (x2_64 + z2_79), 2.0f * (yz_64 + wx_64), 2.0f * (xz_64 + wy_64), 2.0f * (yz_64 - wx_64), 1.0f - 2.0f * (x2_64 + y2_64))));
    FixedArray<float3 , 7>  _S6646 = {
        _S6641, _S6641, _S6641, _S6641, _S6641, _S6641, _S6641
    };
    FixedArray<float, 7>  _S6647 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6648;
    (&_S6648)->p_0 = _S6646;
    (&_S6648)->w_mean_0 = _S6647;
    (&_S6648)->w_cov_0 = _S6647;
    (&_S6648)->p_0[int(0)] = (*dpmean_21).primal_0;
    float _S6649 = s_primal_ctx_sqrt_0(3.0f);
    float _S6650 = _S6649 * _S6643.x;
    float3  _S6651 = make_float3 (_S6650);
    float3  delta_147 = make_float3 (_S6650) * _S6645.rows[0U];
    float3  _S6652 = (*dpmean_21).primal_0 + delta_147;
    float3  _S6653 = (*dpmean_21).primal_0 - delta_147;
    float _S6654 = _S6649 * _S6643.y;
    float3  _S6655 = make_float3 (_S6654);
    float3  delta_148 = make_float3 (_S6654) * _S6645.rows[1U];
    float3  _S6656 = (*dpmean_21).primal_0 + delta_148;
    float3  _S6657 = (*dpmean_21).primal_0 - delta_148;
    float _S6658 = _S6649 * _S6643.z;
    float3  _S6659 = make_float3 (_S6658);
    float3  delta_149 = make_float3 (_S6658) * _S6645.rows[2U];
    float3  _S6660 = (*dpmean_21).primal_0 + delta_149;
    float3  _S6661 = (*dpmean_21).primal_0 - delta_149;
    SigmaPoints_0 _S6662 = _S6648;
    float _S6663 = *&(((&_s_diff_ctx_33->_S6585)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_33->_S6585)->rows + (int(1)))->x);
    float det_orig_59 = *&(((&_s_diff_ctx_33->_S6585)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_33->_S6585)->rows + (int(1)))->y) - _S6663;
    float _S6664 = *&(((&_s_diff_ctx_33->_S6585)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6665 = _s_diff_ctx_33->_S6585;
    *&(((&_S6665)->rows + (int(0)))->x) = _S6664;
    float _S6666 = *&(((&_s_diff_ctx_33->_S6585)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6665)->rows + (int(1)))->y) = _S6666;
    Matrix<float, 2, 2>  _S6667 = _S6665;
    Matrix<float, 2, 2>  _S6668 = _S6665;
    float det_blur_34 = _S6664 * _S6666 - _S6663;
    float _S6669 = det_orig_59 / det_blur_34;
    float _S6670 = det_blur_34 * det_blur_34;
    float _S6671 = s_primal_ctx_max_0(0.0f, _S6669);
    float _S6672 = s_primal_ctx_sqrt_0(_S6671);
    float _S6673 = - (*dpin_opacity_19).primal_0;
    float _S6674 = 1.0f + s_primal_ctx_exp_1(_S6673);
    float _S6675 = 1.0f / _S6674;
    float _S6676 = _S6674 * _S6674;
    float _S6677;
    if(antialiased_67)
    {
        _S6677 = _S6675 * _S6672;
    }
    else
    {
        _S6677 = _S6675;
    }
    float _S6678 = _S6677 / 0.00392156885936856f;
    float _S6679 = 2.0f * s_primal_ctx_log_0(_S6678);
    float _S6680 = s_primal_ctx_sqrt_0(_S6679);
    float _S6681 = _S6667.rows[int(0)].x;
    float _S6682 = _S6668.rows[int(1)].y;
    float _S6683 = mean_c_58.z;
    float _S6684 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6685 = _S6684 * (_S6683 + _S6642);
    float3  _S6686 = - _S6636.primal_0;
    Matrix<float, 3, 3>  _S6687 = transpose_0(_S6639.primal_0);
    float3  _S6688 = _S6634.primal_0 - - s_primal_ctx_mul_0(_S6687, _S6640.primal_0);
    float _S6689 = s_primal_ctx_dot_0(_S6688, _S6688);
    float _S6690 = s_primal_ctx_rsqrt_0(_S6689);
    float3  _S6691 = make_float3 (_S6690);
    float3  _S6692 = _S6688 * make_float3 (_S6690);
    float _S6693 = s_primal_ctx_dot_0(_S6637[int(5)], _S6692);
    float _S6694 = s_primal_ctx_dot_0(_S6637[int(0)], _S6692) - _S6693;
    float _S6695 = s_primal_ctx_exp_1(_S6694);
    float3  _S6696 = make_float3 (_S6695);
    float _S6697 = s_primal_ctx_dot_0(_S6637[int(1)], _S6692) - _S6693;
    float _S6698 = s_primal_ctx_exp_1(_S6697);
    float3  _S6699 = make_float3 (_S6698);
    float _S6700 = s_primal_ctx_dot_0(_S6637[int(2)], _S6692) - _S6693;
    float _S6701 = s_primal_ctx_exp_1(_S6700);
    float3  _S6702 = make_float3 (_S6701);
    float _S6703 = s_primal_ctx_dot_0(_S6637[int(3)], _S6692) - _S6693;
    float _S6704 = s_primal_ctx_exp_1(_S6703);
    float3  _S6705 = make_float3 (_S6704);
    float _S6706 = s_primal_ctx_dot_0(_S6637[int(4)], _S6692) - _S6693;
    float _S6707 = s_primal_ctx_exp_1(_S6706);
    float3  _S6708 = make_float3 (_S6707);
    float _S6709 = s_primal_ctx_exp_1(0.0f);
    float3  _S6710 = make_float3 (_S6709);
    float total_w_9 = _S6695 + _S6698 + _S6701 + _S6704 + _S6707 + _S6709;
    float3  _S6711 = make_float3 (total_w_9);
    float3  total_c_9 = make_float3 (_S6695) * _S6638[int(0)] + make_float3 (_S6698) * _S6638[int(1)] + make_float3 (_S6701) * _S6638[int(2)] + make_float3 (_S6704) * _S6638[int(3)] + make_float3 (_S6707) * _S6638[int(4)] + make_float3 (_S6709) * _S6638[int(5)];
    float3  _S6712 = make_float3 (total_w_9 * total_w_9);
    float3  _S6713 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6714;
    (&_S6714)->primal_0 = total_c_9 / make_float3 (total_w_9) + make_float3 (0.5f);
    (&_S6714)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6715;
    (&_S6715)->primal_0 = _S6713;
    (&_S6715)->differential_0 = _S6641;
    s_bwd_prop_max_0(&_S6714, &_S6715, dprgb_20);
    float3  _S6716 = _S6714.differential_0 / _S6712;
    float3  _S6717 = total_c_9 * - _S6716;
    float3  s_diff_total_c_T_9 = _S6711 * _S6716;
    float3  _S6718 = _S6710 * s_diff_total_c_T_9;
    float _S6719 = _S6717.x + _S6717.y + _S6717.z;
    float3  _S6720 = _S6708 * s_diff_total_c_T_9;
    float3  _S6721 = _S6638[int(4)] * s_diff_total_c_T_9;
    float _S6722 = _S6719 + _S6721.x + _S6721.y + _S6721.z;
    DiffPair_float_0 _S6723;
    (&_S6723)->primal_0 = _S6706;
    (&_S6723)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6723, _S6722);
    float _S6724 = - _S6723.differential_0;
    float3  _S6725 = _S6705 * s_diff_total_c_T_9;
    float3  _S6726 = _S6638[int(3)] * s_diff_total_c_T_9;
    float _S6727 = _S6719 + _S6726.x + _S6726.y + _S6726.z;
    DiffPair_float_0 _S6728;
    (&_S6728)->primal_0 = _S6703;
    (&_S6728)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6728, _S6727);
    float _S6729 = - _S6728.differential_0;
    float3  _S6730 = _S6702 * s_diff_total_c_T_9;
    float3  _S6731 = _S6638[int(2)] * s_diff_total_c_T_9;
    float _S6732 = _S6719 + _S6731.x + _S6731.y + _S6731.z;
    DiffPair_float_0 _S6733;
    (&_S6733)->primal_0 = _S6700;
    (&_S6733)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6733, _S6732);
    float _S6734 = - _S6733.differential_0;
    float3  _S6735 = _S6699 * s_diff_total_c_T_9;
    float3  _S6736 = _S6638[int(1)] * s_diff_total_c_T_9;
    float _S6737 = _S6719 + _S6736.x + _S6736.y + _S6736.z;
    DiffPair_float_0 _S6738;
    (&_S6738)->primal_0 = _S6697;
    (&_S6738)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6738, _S6737);
    float _S6739 = - _S6738.differential_0;
    float3  _S6740 = _S6696 * s_diff_total_c_T_9;
    float3  _S6741 = _S6638[int(0)] * s_diff_total_c_T_9;
    float _S6742 = _S6719 + _S6741.x + _S6741.y + _S6741.z;
    DiffPair_float_0 _S6743;
    (&_S6743)->primal_0 = _S6694;
    (&_S6743)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6743, _S6742);
    float _S6744 = _S6724 + _S6729 + _S6734 + _S6739 + - _S6743.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6745;
    (&_S6745)->primal_0 = _S6637[int(5)];
    (&_S6745)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6746;
    (&_S6746)->primal_0 = _S6692;
    (&_S6746)->differential_0 = _S6641;
    s_bwd_prop_dot_0(&_S6745, &_S6746, _S6744);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6747;
    (&_S6747)->primal_0 = _S6637[int(4)];
    (&_S6747)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6748;
    (&_S6748)->primal_0 = _S6692;
    (&_S6748)->differential_0 = _S6641;
    s_bwd_prop_dot_0(&_S6747, &_S6748, _S6723.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6749;
    (&_S6749)->primal_0 = _S6637[int(3)];
    (&_S6749)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6750;
    (&_S6750)->primal_0 = _S6692;
    (&_S6750)->differential_0 = _S6641;
    s_bwd_prop_dot_0(&_S6749, &_S6750, _S6728.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6751;
    (&_S6751)->primal_0 = _S6637[int(2)];
    (&_S6751)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6752;
    (&_S6752)->primal_0 = _S6692;
    (&_S6752)->differential_0 = _S6641;
    s_bwd_prop_dot_0(&_S6751, &_S6752, _S6733.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6753;
    (&_S6753)->primal_0 = _S6637[int(1)];
    (&_S6753)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6754;
    (&_S6754)->primal_0 = _S6692;
    (&_S6754)->differential_0 = _S6641;
    s_bwd_prop_dot_0(&_S6753, &_S6754, _S6738.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6755;
    (&_S6755)->primal_0 = _S6637[int(0)];
    (&_S6755)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6756;
    (&_S6756)->primal_0 = _S6692;
    (&_S6756)->differential_0 = _S6641;
    s_bwd_prop_dot_0(&_S6755, &_S6756, _S6743.differential_0);
    float3  _S6757 = _S6746.differential_0 + _S6748.differential_0 + _S6750.differential_0 + _S6752.differential_0 + _S6754.differential_0 + _S6756.differential_0;
    float3  _S6758 = _S6688 * _S6757;
    float3  _S6759 = _S6691 * _S6757;
    float _S6760 = _S6758.x + _S6758.y + _S6758.z;
    DiffPair_float_0 _S6761;
    (&_S6761)->primal_0 = _S6689;
    (&_S6761)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6761, _S6760);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6762;
    (&_S6762)->primal_0 = _S6688;
    (&_S6762)->differential_0 = _S6641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6763;
    (&_S6763)->primal_0 = _S6688;
    (&_S6763)->differential_0 = _S6641;
    s_bwd_prop_dot_0(&_S6762, &_S6763, _S6761.differential_0);
    float3  _S6764 = _S6759 + _S6763.differential_0 + _S6762.differential_0;
    float3  _S6765 = - - _S6764;
    Matrix<float, 3, 3>  _S6766 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6767;
    (&_S6767)->primal_0 = _S6687;
    (&_S6767)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6768;
    (&_S6768)->primal_0 = _S6640.primal_0;
    (&_S6768)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6767, &_S6768, _S6765);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6769 = _S6768;
    Matrix<float, 3, 3>  _S6770 = transpose_0(_S6767.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6771;
    (&_S6771)->primal_0 = _S6686;
    (&_S6771)->differential_0 = _S6641;
    s_bwd_prop_exp_1(&_S6771, dpconic_19);
    float3  _S6772 = - _S6771.differential_0;
    DiffPair_float_0 _S6773;
    (&_S6773)->primal_0 = _S6683;
    (&_S6773)->differential_0 = 0.0f;
    DiffPair_float_0 _S6774;
    (&_S6774)->primal_0 = _S6685;
    (&_S6774)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6773, &_S6774, dpdepth_20);
    float _S6775 = _S6684 * _S6774.differential_0;
    float _S6776 = _S6773.differential_0 + _S6775;
    DiffPair_float_0 _S6777;
    (&_S6777)->primal_0 = _S6682;
    (&_S6777)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6777, 0.0f);
    DiffPair_float_0 _S6778;
    (&_S6778)->primal_0 = _S6681;
    (&_S6778)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6778, 0.0f);
    DiffPair_float_0 _S6779;
    (&_S6779)->primal_0 = 3.32999992370605469f;
    (&_S6779)->differential_0 = 0.0f;
    DiffPair_float_0 _S6780;
    (&_S6780)->primal_0 = _S6680;
    (&_S6780)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6779, &_S6780, 0.0f);
    DiffPair_float_0 _S6781;
    (&_S6781)->primal_0 = _S6679;
    (&_S6781)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6781, _S6780.differential_0);
    float _S6782 = 2.0f * _S6781.differential_0;
    DiffPair_float_0 _S6783;
    (&_S6783)->primal_0 = _S6678;
    (&_S6783)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6783, _S6782);
    float _S6784 = dpopacity_21 + 254.9999847412109375f * _S6783.differential_0;
    FixedArray<float3 , 6>  _S6785;
    _S6785[int(0)] = _S6641;
    _S6785[int(1)] = _S6641;
    _S6785[int(2)] = _S6641;
    _S6785[int(3)] = _S6641;
    _S6785[int(4)] = _S6641;
    _S6785[int(5)] = _S6641;
    _S6785[int(5)] = _S6718;
    _S6785[int(4)] = _S6720;
    _S6785[int(3)] = _S6725;
    _S6785[int(2)] = _S6730;
    _S6785[int(1)] = _S6735;
    _S6785[int(0)] = _S6740;
    FixedArray<float3 , 6>  _S6786 = {
        _S6785[int(0)], _S6785[int(1)], _S6785[int(2)], _S6785[int(3)], _S6785[int(4)], _S6785[int(5)]
    };
    FixedArray<float3 , 6>  _S6787;
    _S6787[int(0)] = _S6641;
    _S6787[int(1)] = _S6641;
    _S6787[int(2)] = _S6641;
    _S6787[int(3)] = _S6641;
    _S6787[int(4)] = _S6641;
    _S6787[int(5)] = _S6641;
    _S6787[int(5)] = _S6745.differential_0;
    _S6787[int(4)] = _S6747.differential_0;
    _S6787[int(3)] = _S6749.differential_0;
    _S6787[int(2)] = _S6751.differential_0;
    _S6787[int(1)] = _S6753.differential_0;
    _S6787[int(0)] = _S6755.differential_0;
    FixedArray<float3 , 6>  _S6788 = {
        _S6787[int(0)], _S6787[int(1)], _S6787[int(2)], _S6787[int(3)], _S6787[int(4)], _S6787[int(5)]
    };
    float3  _S6789 = make_float3 (0.0f, 0.0f, _S6776);
    float2  _S6790 = make_float2 (0.0f, _S6777.differential_0);
    float2  _S6791 = make_float2 (_S6778.differential_0, 0.0f);
    float _S6792;
    if(antialiased_67)
    {
        float _S6793 = _S6675 * _S6784;
        _S6677 = _S6672 * _S6784;
        _S6792 = _S6793;
    }
    else
    {
        _S6677 = _S6784;
        _S6792 = 0.0f;
    }
    float _S6794 = - (_S6677 / _S6676);
    DiffPair_float_0 _S6795;
    (&_S6795)->primal_0 = _S6673;
    (&_S6795)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6795, _S6794);
    float _S6796 = - _S6795.differential_0;
    DiffPair_float_0 _S6797;
    (&_S6797)->primal_0 = _S6671;
    (&_S6797)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6797, _S6792);
    DiffPair_float_0 _S6798;
    (&_S6798)->primal_0 = 0.0f;
    (&_S6798)->differential_0 = 0.0f;
    DiffPair_float_0 _S6799;
    (&_S6799)->primal_0 = _S6669;
    (&_S6799)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6798, &_S6799, _S6797.differential_0);
    float _S6800 = _S6799.differential_0 / _S6670;
    float s_diff_det_blur_T_11 = det_orig_59 * - _S6800;
    float s_diff_det_orig_T_14 = det_blur_34 * _S6800;
    float _S6801 = - s_diff_det_blur_T_11;
    float _S6802 = _S6664 * s_diff_det_blur_T_11;
    float _S6803 = _S6666 * s_diff_det_blur_T_11;
    Matrix<float, 2, 2>  _S6804 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6805 = _S6804;
    _S6805[int(1)] = _S6790;
    _S6805[int(0)] = _S6791;
    float _S6806 = _S6803 + _S6805.rows[int(0)].x;
    float _S6807 = _S6801 + - s_diff_det_orig_T_14;
    float _S6808 = *&(((&_s_diff_ctx_33->_S6585)->rows + (int(0)))->y) * _S6807;
    float _S6809 = *&(((&_s_diff_ctx_33->_S6585)->rows + (int(1)))->x) * _S6807;
    float _S6810 = *&(((&_s_diff_ctx_33->_S6585)->rows + (int(1)))->y) * s_diff_det_orig_T_14;
    float _S6811 = _S6802 + _S6805.rows[int(1)].y + *&(((&_s_diff_ctx_33->_S6585)->rows + (int(0)))->x) * s_diff_det_orig_T_14;
    float2  _S6812 = make_float2 (0.0f);
    float2  _S6813 = _S6812;
    *&((&_S6813)->x) = _S6808;
    *&((&_S6813)->y) = _S6811;
    float _S6814 = _S6806 + _S6810;
    float2  _S6815 = _S6812;
    *&((&_S6815)->y) = _S6809;
    *&((&_S6815)->x) = _S6814;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6816;
    (&_S6816)->primal_0 = _S6639.primal_0;
    (&_S6816)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6817;
    (&_S6817)->primal_0 = _S6661;
    (&_S6817)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6816, &_S6817, _S6641);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6818;
    (&_S6818)->primal_0 = _S6639.primal_0;
    (&_S6818)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6819;
    (&_S6819)->primal_0 = _S6657;
    (&_S6819)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6818, &_S6819, _S6641);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6820;
    (&_S6820)->primal_0 = _S6639.primal_0;
    (&_S6820)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6821;
    (&_S6821)->primal_0 = _S6653;
    (&_S6821)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6820, &_S6821, _S6641);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6822;
    (&_S6822)->primal_0 = _S6639.primal_0;
    (&_S6822)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6823;
    (&_S6823)->primal_0 = _S6660;
    (&_S6823)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6822, &_S6823, _S6641);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6824;
    (&_S6824)->primal_0 = _S6639.primal_0;
    (&_S6824)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6825;
    (&_S6825)->primal_0 = _S6656;
    (&_S6825)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6824, &_S6825, _S6641);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6826;
    (&_S6826)->primal_0 = _S6639.primal_0;
    (&_S6826)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6827;
    (&_S6827)->primal_0 = _S6652;
    (&_S6827)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6826, &_S6827, _S6641);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6828;
    (&_S6828)->primal_0 = _S6639.primal_0;
    (&_S6828)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6829;
    (&_S6829)->primal_0 = _S6662.p_0[0U];
    (&_S6829)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6828, &_S6829, _S6641);
    float3  _S6830 = - _S6817.differential_0 + _S6823.differential_0;
    float3  _S6831 = _S6659 * _S6830;
    float3  _S6832 = _S6645.rows[2U] * _S6830;
    float _S6833 = _S6649 * (_S6832.x + _S6832.y + _S6832.z);
    float3  _S6834 = - _S6819.differential_0 + _S6825.differential_0;
    float3  _S6835 = _S6655 * _S6834;
    float3  _S6836 = _S6645.rows[1U] * _S6834;
    float _S6837 = _S6649 * (_S6836.x + _S6836.y + _S6836.z);
    float3  _S6838 = - _S6821.differential_0 + _S6827.differential_0;
    float3  _S6839 = _S6651 * _S6838;
    float3  _S6840 = _S6645.rows[0U] * _S6838;
    float _S6841 = _S6649 * (_S6840.x + _S6840.y + _S6840.z);
    Matrix<float, 3, 3>  _S6842 = _S6766;
    _S6842[2U] = _S6831;
    _S6842[1U] = _S6835;
    _S6842[0U] = _S6839;
    Matrix<float, 3, 3>  _S6843 = transpose_0(transpose_0(_S6842));
    float _S6844 = 2.0f * - _S6843.rows[int(2)].z;
    float _S6845 = 2.0f * _S6843.rows[int(2)].y;
    float _S6846 = 2.0f * _S6843.rows[int(2)].x;
    float _S6847 = 2.0f * _S6843.rows[int(1)].z;
    float _S6848 = 2.0f * - _S6843.rows[int(1)].y;
    float _S6849 = 2.0f * _S6843.rows[int(1)].x;
    float _S6850 = 2.0f * _S6843.rows[int(0)].z;
    float _S6851 = 2.0f * _S6843.rows[int(0)].y;
    float _S6852 = 2.0f * - _S6843.rows[int(0)].x;
    float _S6853 = - _S6849 + _S6851;
    float _S6854 = _S6846 + - _S6850;
    float _S6855 = - _S6845 + _S6847;
    float _S6856 = _S6845 + _S6847;
    float _S6857 = _S6846 + _S6850;
    float _S6858 = _S6849 + _S6851;
    float _S6859 = _S6635.primal_0.w * (_S6848 + _S6852);
    float _S6860 = _S6635.primal_0.z * (_S6844 + _S6852);
    float _S6861 = _S6635.primal_0.y * (_S6844 + _S6848);
    float _S6862 = _S6635.primal_0.x * _S6853 + _S6635.primal_0.z * _S6856 + _S6635.primal_0.y * _S6857 + _S6859 + _S6859;
    float _S6863 = _S6635.primal_0.x * _S6854 + _S6635.primal_0.w * _S6856 + _S6635.primal_0.y * _S6858 + _S6860 + _S6860;
    float _S6864 = _S6635.primal_0.x * _S6855 + _S6635.primal_0.w * _S6857 + _S6635.primal_0.z * _S6858 + _S6861 + _S6861;
    float _S6865 = _S6635.primal_0.w * _S6853 + _S6635.primal_0.z * _S6854 + _S6635.primal_0.y * _S6855;
    float3  _S6866 = _S6641;
    *&((&_S6866)->z) = _S6833;
    *&((&_S6866)->y) = _S6837;
    *&((&_S6866)->x) = _S6841;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6867;
    (&_S6867)->primal_0 = _S6636.primal_0;
    (&_S6867)->differential_0 = _S6641;
    s_bwd_prop_exp_1(&_S6867, _S6866);
    Matrix<float, 2, 2>  _S6868 = _S6804;
    _S6868[int(1)] = _S6813;
    _S6868[int(0)] = _S6815;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6869;
    (&_S6869)->primal_0 = mean_c_58;
    (&_S6869)->differential_0 = _S6641;
    s_bwd_length_impl_1(&_S6869, _S6775);
    float3  _S6870 = _S6869.differential_0 + _S6789;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6871;
    (&_S6871)->primal_0 = _S6639.primal_0;
    (&_S6871)->differential_0 = _S6766;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6872;
    (&_S6872)->primal_0 = _S6634.primal_0;
    (&_S6872)->differential_0 = _S6641;
    s_bwd_prop_mul_1(&_S6871, &_S6872, _S6870);
    float3  _S6873 = _S6870 + _S6769.differential_0;
    dpt_20->primal_0 = (*dpt_20).primal_0;
    dpt_20->differential_0 = _S6873;
    Matrix<float, 3, 3>  _S6874 = _S6816.differential_0 + _S6818.differential_0 + _S6820.differential_0 + _S6822.differential_0 + _S6824.differential_0 + _S6826.differential_0 + _S6828.differential_0 + _S6871.differential_0 + _S6770;
    dpR_21->primal_0 = (*dpR_21).primal_0;
    dpR_21->differential_0 = _S6874;
    dpsv_colors_19->primal_0 = dpsv_colors_19->primal_0;
    dpsv_colors_19->differential_0 = _S6786;
    dpsv_sites_19->primal_0 = dpsv_sites_19->primal_0;
    dpsv_sites_19->differential_0 = _S6788;
    dpin_opacity_19->primal_0 = (*dpin_opacity_19).primal_0;
    dpin_opacity_19->differential_0 = _S6796;
    float3  _S6875 = _S6867.differential_0 + _S6772;
    dpscale_20->primal_0 = (*dpscale_20).primal_0;
    dpscale_20->differential_0 = _S6875;
    float4  _S6876 = make_float4 (0.0f);
    *&((&_S6876)->w) = _S6862;
    *&((&_S6876)->z) = _S6863;
    *&((&_S6876)->y) = _S6864;
    *&((&_S6876)->x) = _S6865;
    dpquat_20->primal_0 = (*dpquat_20).primal_0;
    dpquat_20->differential_0 = _S6876;
    float3  _S6877 = _S6817.differential_0 + _S6823.differential_0 + _S6819.differential_0 + _S6825.differential_0 + _S6821.differential_0 + _S6827.differential_0 + _S6872.differential_0 + _S6764;
    dpmean_21->primal_0 = (*dpmean_21).primal_0;
    dpmean_21->differential_0 = _S6877;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_4(bool _S6878, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6879, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6880, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6881, DiffPair_float_0 * _S6882, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6883, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6884, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6885, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6886, float _S6887, float _S6888, float _S6889, float _S6890, FixedArray<float, 10>  * _S6891, uint _S6892, uint _S6893, float _S6894, float _S6895, float2  _S6896, float _S6897, float3  _S6898, float _S6899, float3  _S6900)
{
    FixedArray<float3 , 6>  _S6901 = _S6883->primal_0;
    FixedArray<float3 , 6>  _S6902 = _S6884->primal_0;
    int4  _S6903;
    float2  _S6904;
    float _S6905;
    float3  _S6906;
    float _S6907;
    float3  _S6908;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S6909;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(_S6878, (*_S6879).primal_0, (*_S6880).primal_0, (*_S6881).primal_0, (*_S6882).primal_0, &_S6901, &_S6902, (*_S6885).primal_0, (*_S6886).primal_0, _S6887, _S6888, _S6889, _S6890, _S6891, _S6892, _S6893, _S6894, _S6895, &_S6903, &_S6904, &_S6905, &_S6906, &_S6907, &_S6908, &_S6909);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S6910 = _S6909;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(_S6878, _S6879, _S6880, _S6881, _S6882, _S6883, _S6884, _S6885, _S6886, _S6887, _S6888, _S6889, _S6890, _S6891, _S6892, _S6893, _S6894, _S6895, _S6896, _S6897, _S6898, _S6899, _S6900, &_S6910);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_68, float3  mean_53, float4  quat_54, float3  scale_53, float in_opacity_48, FixedArray<float3 , 6>  * sv_sites_33, FixedArray<float3 , 6>  * sv_colors_33, Matrix<float, 3, 3>  R_55, float3  t_51, float fx_80, float fy_80, float cx_75, float cy_75, FixedArray<float, 10>  * dist_coeffs_83, uint image_width_68, uint image_height_68, float2  v_mean2d_14, float v_depth_15, float3  v_conic_14, float v_opacity_16, float3  v_rgb_15, float3  * v_mean_16, float4  * v_quat_15, float3  * v_scale_15, float * v_in_opacity_14, FixedArray<float3 , 6>  * v_sv_dirs_9, FixedArray<float3 , 6>  * v_sv_colors_9, Matrix<float, 3, 3>  * v_R_16, float3  * v_t_15)
{
    float3  _S6911 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_11;
    (&dp_mean_11)->primal_0 = mean_53;
    (&dp_mean_11)->differential_0 = _S6911;
    float4  _S6912 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_10;
    (&dp_quat_10)->primal_0 = quat_54;
    (&dp_quat_10)->differential_0 = _S6912;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_10;
    (&dp_scale_10)->primal_0 = scale_53;
    (&dp_scale_10)->differential_0 = _S6911;
    DiffPair_float_0 dp_in_opacity_9;
    (&dp_in_opacity_9)->primal_0 = in_opacity_48;
    (&dp_in_opacity_9)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S6913 = { _S6911, _S6911, _S6911, _S6911, _S6911, _S6911 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_9;
    (&dp_sv_dirs_9)->primal_0 = *sv_sites_33;
    (&dp_sv_dirs_9)->differential_0 = _S6913;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_9;
    (&dp_sv_colors_9)->primal_0 = *sv_colors_33;
    (&dp_sv_colors_9)->differential_0 = _S6913;
    Matrix<float, 3, 3>  _S6914 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_11;
    (&dp_R_11)->primal_0 = R_55;
    (&dp_R_11)->differential_0 = _S6914;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_10;
    (&dp_t_10)->primal_0 = t_51;
    (&dp_t_10)->differential_0 = _S6911;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_4(antialiased_68, &dp_mean_11, &dp_quat_10, &dp_scale_10, &dp_in_opacity_9, &dp_sv_dirs_9, &dp_sv_colors_9, &dp_R_11, &dp_t_10, fx_80, fy_80, cx_75, cy_75, dist_coeffs_83, image_width_68, image_height_68, 0.0f, 1.00000001504746622e+30f, v_mean2d_14, v_depth_15, v_conic_14, v_opacity_16, v_rgb_15);
    *v_mean_16 = dp_mean_11.differential_0;
    *v_quat_15 = dp_quat_10.differential_0;
    *v_scale_15 = dp_scale_10.differential_0;
    *v_in_opacity_14 = dp_in_opacity_9.differential_0;
    *v_sv_dirs_9 = (&dp_sv_dirs_9)->differential_0;
    *v_sv_colors_9 = (&dp_sv_colors_9)->differential_0;
    *v_R_16 = dp_R_11.differential_0;
    *v_t_15 = dp_t_10.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_69, float3  mean_54, float4  quat_55, float3  scale_54, float in_opacity_49, FixedArray<float3 , 7>  * sv_sites_34, FixedArray<float3 , 7>  * sv_colors_34, Matrix<float, 3, 3>  R_56, float3  t_52, float fx_81, float fy_81, float cx_76, float cy_76, FixedArray<float, 10>  * dist_coeffs_84, uint image_width_69, uint image_height_69, float near_plane_54, float far_plane_54, int4  * aabb_xyxy_44, float2  * mean2d_43, float * depth_35, float3  * conic_34, float * opacity_38, float3  * rgb_36)
{
    float3  mean_c_59 = mul_0(R_56, mean_54) + t_52;
    float4  intrins_52 = make_float4 (fx_81, fy_81, cx_76, cy_76);
    float3  _S6915 = exp_0(scale_54);
    float x_65 = quat_55.y;
    float x2_65 = x_65 * x_65;
    float y2_65 = quat_55.z * quat_55.z;
    float z2_80 = quat_55.w * quat_55.w;
    float xy_65 = quat_55.y * quat_55.z;
    float xz_65 = quat_55.y * quat_55.w;
    float yz_65 = quat_55.z * quat_55.w;
    float wx_65 = quat_55.x * quat_55.y;
    float wy_65 = quat_55.x * quat_55.z;
    float wz_65 = quat_55.x * quat_55.w;
    Matrix<float, 3, 3>  _S6916 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_65 + z2_80), 2.0f * (xy_65 + wz_65), 2.0f * (xz_65 - wy_65), 2.0f * (xy_65 - wz_65), 1.0f - 2.0f * (x2_65 + z2_80), 2.0f * (yz_65 + wx_65), 2.0f * (xz_65 + wy_65), 2.0f * (yz_65 - wx_65), 1.0f - 2.0f * (x2_65 + y2_65))));
    SigmaPoints_0 ret_28;
    (&ret_28)->p_0[int(0)] = mean_54;
    (&ret_28)->w_mean_0[int(0)] = 0.0f;
    (&ret_28)->w_cov_0[int(0)] = 2.0f;
    float _S6917 = (F32_sqrt((3.0f)));
    float3  delta_150 = make_float3 (_S6917 * _S6915.x) * _S6916.rows[0U];
    float3  _S6918 = mean_54 + delta_150;
    float3  _S6919 = mean_54 - delta_150;
    float3  delta_151 = make_float3 (_S6917 * _S6915.y) * _S6916.rows[1U];
    float3  _S6920 = mean_54 + delta_151;
    float3  _S6921 = mean_54 - delta_151;
    float3  delta_152 = make_float3 (_S6917 * _S6915.z) * _S6916.rows[2U];
    float3  _S6922 = mean_54 + delta_152;
    float3  _S6923 = mean_54 - delta_152;
    (&ret_28)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_28)->p_0[0U] = mul_0(R_56, (&ret_28)->p_0[0U]) + t_52;
    (&ret_28)->p_0[1U] = mul_0(R_56, _S6918) + t_52;
    (&ret_28)->p_0[2U] = mul_0(R_56, _S6920) + t_52;
    (&ret_28)->p_0[3U] = mul_0(R_56, _S6922) + t_52;
    (&ret_28)->p_0[4U] = mul_0(R_56, _S6919) + t_52;
    (&ret_28)->p_0[5U] = mul_0(R_56, _S6921) + t_52;
    (&ret_28)->p_0[6U] = mul_0(R_56, _S6923) + t_52;
    SigmaPoints_0 _S6924 = ret_28;
    Matrix<float, 2, 2>  covar2d_34;
    bool _S6925 = persp_proj_3dgs_ut_1(&_S6924, intrins_52, dist_coeffs_84, image_width_69, image_height_69, &covar2d_34, mean2d_43);
    float det_orig_60 = *&(((&covar2d_34)->rows + (int(0)))->x) * *&(((&covar2d_34)->rows + (int(1)))->y) - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x);
    float _S6926 = *&(((&covar2d_34)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(0)))->x) = _S6926;
    float _S6927 = *&(((&covar2d_34)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(1)))->y) = _S6927;
    float compensation_35 = (F32_sqrt(((F32_max((0.0f), (det_orig_60 / (_S6926 * _S6927 - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x))))))));
    *opacity_38 = 1.0f / (1.0f + (F32_exp((- in_opacity_49))));
    if(antialiased_69)
    {
        *opacity_38 = *opacity_38 * compensation_35;
    }
    float extend_34 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_38 / 0.00392156885936856f)))))))));
    float radius_x_44 = extend_34 * (F32_sqrt((covar2d_34[int(0)].x)));
    float radius_y_44 = extend_34 * (F32_sqrt((covar2d_34[int(1)].y)));
    *aabb_xyxy_44 = make_int4 (int((F32_floor(((*mean2d_43).x - radius_x_44)))), int((F32_floor(((*mean2d_43).y - radius_y_44)))), int((F32_ceil(((*mean2d_43).x + radius_x_44)))), int((F32_ceil(((*mean2d_43).y + radius_y_44)))));
    float _S6928 = mean_c_59.z;
    *depth_35 = (F32_max((_S6928), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6928 + length_1(mean_c_59)))));
    *conic_34 = exp_0(- scale_54);
    float3  _S6929 = mean_54 - - mul_0(transpose_0(R_56), t_52);
    float3  _S6930 = _S6929 * make_float3 ((F32_rsqrt((dot_0(_S6929, _S6929)))));
    float _S6931 = dot_0((*sv_sites_34)[int(6)], _S6930);
    float w_110 = (F32_exp((dot_0((*sv_sites_34)[int(0)], _S6930) - _S6931)));
    float w_111 = (F32_exp((dot_0((*sv_sites_34)[int(1)], _S6930) - _S6931)));
    float w_112 = (F32_exp((dot_0((*sv_sites_34)[int(2)], _S6930) - _S6931)));
    float w_113 = (F32_exp((dot_0((*sv_sites_34)[int(3)], _S6930) - _S6931)));
    float w_114 = (F32_exp((dot_0((*sv_sites_34)[int(4)], _S6930) - _S6931)));
    float w_115 = (F32_exp((dot_0((*sv_sites_34)[int(5)], _S6930) - _S6931)));
    float w_116 = (F32_exp((0.0f)));
    *rgb_36 = max_0((make_float3 (w_110) * (*sv_colors_34)[int(0)] + make_float3 (w_111) * (*sv_colors_34)[int(1)] + make_float3 (w_112) * (*sv_colors_34)[int(2)] + make_float3 (w_113) * (*sv_colors_34)[int(3)] + make_float3 (w_114) * (*sv_colors_34)[int(4)] + make_float3 (w_115) * (*sv_colors_34)[int(5)] + make_float3 (w_116) * (*sv_colors_34)[int(6)]) / make_float3 (w_110 + w_111 + w_112 + w_113 + w_114 + w_115 + w_116) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_70, float3  mean_55, float4  quat_56, float3  scale_55, float in_opacity_50, FixedArray<float3 , 7>  * sv_sites_35, FixedArray<float3 , 7>  * sv_colors_35, Matrix<float, 3, 3>  R_57, float3  t_53, float fx_82, float fy_82, float cx_77, float cy_77, FixedArray<float, 10>  * dist_coeffs_85, uint image_width_70, uint image_height_70, float near_plane_55, float far_plane_55, int4  * aabb_xyxy_45, float2  * mean2d_44, float * depth_36, float3  * conic_35, float * opacity_39, float3  * rgb_37)
{
    float3  mean_c_60 = mul_0(R_57, mean_55) + t_53;
    float4  intrins_53 = make_float4 (fx_82, fy_82, cx_77, cy_77);
    float3  _S6932 = exp_0(scale_55);
    float x_66 = quat_56.y;
    float x2_66 = x_66 * x_66;
    float y2_66 = quat_56.z * quat_56.z;
    float z2_81 = quat_56.w * quat_56.w;
    float xy_66 = quat_56.y * quat_56.z;
    float xz_66 = quat_56.y * quat_56.w;
    float yz_66 = quat_56.z * quat_56.w;
    float wx_66 = quat_56.x * quat_56.y;
    float wy_66 = quat_56.x * quat_56.z;
    float wz_66 = quat_56.x * quat_56.w;
    Matrix<float, 3, 3>  _S6933 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_66 + z2_81), 2.0f * (xy_66 + wz_66), 2.0f * (xz_66 - wy_66), 2.0f * (xy_66 - wz_66), 1.0f - 2.0f * (x2_66 + z2_81), 2.0f * (yz_66 + wx_66), 2.0f * (xz_66 + wy_66), 2.0f * (yz_66 - wx_66), 1.0f - 2.0f * (x2_66 + y2_66))));
    SigmaPoints_0 ret_29;
    (&ret_29)->p_0[int(0)] = mean_55;
    (&ret_29)->w_mean_0[int(0)] = 0.0f;
    (&ret_29)->w_cov_0[int(0)] = 2.0f;
    float _S6934 = (F32_sqrt((3.0f)));
    float3  delta_153 = make_float3 (_S6934 * _S6932.x) * _S6933.rows[0U];
    float3  _S6935 = mean_55 + delta_153;
    float3  _S6936 = mean_55 - delta_153;
    float3  delta_154 = make_float3 (_S6934 * _S6932.y) * _S6933.rows[1U];
    float3  _S6937 = mean_55 + delta_154;
    float3  _S6938 = mean_55 - delta_154;
    float3  delta_155 = make_float3 (_S6934 * _S6932.z) * _S6933.rows[2U];
    float3  _S6939 = mean_55 + delta_155;
    float3  _S6940 = mean_55 - delta_155;
    (&ret_29)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_29)->p_0[0U] = mul_0(R_57, (&ret_29)->p_0[0U]) + t_53;
    (&ret_29)->p_0[1U] = mul_0(R_57, _S6935) + t_53;
    (&ret_29)->p_0[2U] = mul_0(R_57, _S6937) + t_53;
    (&ret_29)->p_0[3U] = mul_0(R_57, _S6939) + t_53;
    (&ret_29)->p_0[4U] = mul_0(R_57, _S6936) + t_53;
    (&ret_29)->p_0[5U] = mul_0(R_57, _S6938) + t_53;
    (&ret_29)->p_0[6U] = mul_0(R_57, _S6940) + t_53;
    SigmaPoints_0 _S6941 = ret_29;
    Matrix<float, 2, 2>  covar2d_35;
    bool _S6942 = fisheye_proj_3dgs_ut_1(&_S6941, intrins_53, dist_coeffs_85, &covar2d_35, mean2d_44);
    float det_orig_61 = *&(((&covar2d_35)->rows + (int(0)))->x) * *&(((&covar2d_35)->rows + (int(1)))->y) - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x);
    float _S6943 = *&(((&covar2d_35)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(0)))->x) = _S6943;
    float _S6944 = *&(((&covar2d_35)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(1)))->y) = _S6944;
    float compensation_36 = (F32_sqrt(((F32_max((0.0f), (det_orig_61 / (_S6943 * _S6944 - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x))))))));
    *opacity_39 = 1.0f / (1.0f + (F32_exp((- in_opacity_50))));
    if(antialiased_70)
    {
        *opacity_39 = *opacity_39 * compensation_36;
    }
    float extend_35 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_39 / 0.00392156885936856f)))))))));
    float radius_x_45 = extend_35 * (F32_sqrt((covar2d_35[int(0)].x)));
    float radius_y_45 = extend_35 * (F32_sqrt((covar2d_35[int(1)].y)));
    *aabb_xyxy_45 = make_int4 (int((F32_floor(((*mean2d_44).x - radius_x_45)))), int((F32_floor(((*mean2d_44).y - radius_y_45)))), int((F32_ceil(((*mean2d_44).x + radius_x_45)))), int((F32_ceil(((*mean2d_44).y + radius_y_45)))));
    float _S6945 = mean_c_60.z;
    *depth_36 = (F32_max((_S6945), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6945 + length_1(mean_c_60)))));
    *conic_35 = exp_0(- scale_55);
    float3  _S6946 = mean_55 - - mul_0(transpose_0(R_57), t_53);
    float3  _S6947 = _S6946 * make_float3 ((F32_rsqrt((dot_0(_S6946, _S6946)))));
    float _S6948 = dot_0((*sv_sites_35)[int(6)], _S6947);
    float w_117 = (F32_exp((dot_0((*sv_sites_35)[int(0)], _S6947) - _S6948)));
    float w_118 = (F32_exp((dot_0((*sv_sites_35)[int(1)], _S6947) - _S6948)));
    float w_119 = (F32_exp((dot_0((*sv_sites_35)[int(2)], _S6947) - _S6948)));
    float w_120 = (F32_exp((dot_0((*sv_sites_35)[int(3)], _S6947) - _S6948)));
    float w_121 = (F32_exp((dot_0((*sv_sites_35)[int(4)], _S6947) - _S6948)));
    float w_122 = (F32_exp((dot_0((*sv_sites_35)[int(5)], _S6947) - _S6948)));
    float w_123 = (F32_exp((0.0f)));
    *rgb_37 = max_0((make_float3 (w_117) * (*sv_colors_35)[int(0)] + make_float3 (w_118) * (*sv_colors_35)[int(1)] + make_float3 (w_119) * (*sv_colors_35)[int(2)] + make_float3 (w_120) * (*sv_colors_35)[int(3)] + make_float3 (w_121) * (*sv_colors_35)[int(4)] + make_float3 (w_122) * (*sv_colors_35)[int(5)] + make_float3 (w_123) * (*sv_colors_35)[int(6)]) / make_float3 (w_117 + w_118 + w_119 + w_120 + w_121 + w_122 + w_123) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0
{
    FixedArray<float3 , 7>  primal_0;
    FixedArray<float3 , 7>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S6949;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(bool antialiased_71, float3  dpmean_22, float4  dpquat_21, float3  dpscale_21, float dpin_opacity_20, FixedArray<float3 , 7>  * dpsv_sites_20, FixedArray<float3 , 7>  * dpsv_colors_20, Matrix<float, 3, 3>  dpR_22, float3  dpt_21, float fx_83, float fy_83, float cx_78, float cy_78, FixedArray<float, 10>  * dist_coeffs_86, uint image_width_71, uint image_height_71, float near_plane_56, float far_plane_56, int4  * aabb_xyxy_46, float2  * dpmean2d_24, float * dpdepth_21, float3  * dpconic_20, float * dpopacity_22, float3  * dprgb_21, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_34)
{
    Matrix<float, 2, 2>  _S6950 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_34->_S6949 = _S6950;
    float2  _S6951 = make_float2 (0.0f);
    float3  _S6952 = make_float3 (0.0f);
    float3  mean_c_61 = s_primal_ctx_mul_0(dpR_22, dpmean_22) + dpt_21;
    float4  intrins_54 = make_float4 (fx_83, fy_83, cx_78, cy_78);
    float3  _S6953 = s_primal_ctx_exp_0(dpscale_21);
    float _S6954 = dpquat_21.y;
    float x2_67 = _S6954 * _S6954;
    float y2_67 = dpquat_21.z * dpquat_21.z;
    float z2_82 = dpquat_21.w * dpquat_21.w;
    float xy_67 = dpquat_21.y * dpquat_21.z;
    float xz_67 = dpquat_21.y * dpquat_21.w;
    float yz_67 = dpquat_21.z * dpquat_21.w;
    float wx_67 = dpquat_21.x * dpquat_21.y;
    float wy_67 = dpquat_21.x * dpquat_21.z;
    float wz_67 = dpquat_21.x * dpquat_21.w;
    Matrix<float, 3, 3>  _S6955 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_67 + z2_82), 2.0f * (xy_67 + wz_67), 2.0f * (xz_67 - wy_67), 2.0f * (xy_67 - wz_67), 1.0f - 2.0f * (x2_67 + z2_82), 2.0f * (yz_67 + wx_67), 2.0f * (xz_67 + wy_67), 2.0f * (yz_67 - wx_67), 1.0f - 2.0f * (x2_67 + y2_67))));
    FixedArray<float3 , 7>  _S6956 = {
        _S6952, _S6952, _S6952, _S6952, _S6952, _S6952, _S6952
    };
    FixedArray<float, 7>  _S6957 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6958;
    (&_S6958)->p_0 = _S6956;
    (&_S6958)->w_mean_0 = _S6957;
    (&_S6958)->w_cov_0 = _S6957;
    (&_S6958)->p_0[int(0)] = dpmean_22;
    SigmaPoints_0 _S6959 = _S6958;
    (&_S6959)->w_mean_0[int(0)] = 0.0f;
    (&_S6959)->w_cov_0[int(0)] = 2.0f;
    float _S6960 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_156 = make_float3 (_S6960 * _S6953.x) * _S6955.rows[0U];
    float3  _S6961 = dpmean_22 + delta_156;
    float3  _S6962 = dpmean_22 - delta_156;
    float3  delta_157 = make_float3 (_S6960 * _S6953.y) * _S6955.rows[1U];
    float3  _S6963 = dpmean_22 + delta_157;
    float3  _S6964 = dpmean_22 - delta_157;
    float3  delta_158 = make_float3 (_S6960 * _S6953.z) * _S6955.rows[2U];
    float3  _S6965 = dpmean_22 + delta_158;
    float3  _S6966 = dpmean_22 - delta_158;
    (&_S6959)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6959)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6959)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6959)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6959)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6959)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6959)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6959)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6959)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6959)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6959)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6959)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6959)->p_0[0U] = s_primal_ctx_mul_0(dpR_22, _S6958.p_0[0U]) + dpt_21;
    (&_S6959)->p_0[1U] = s_primal_ctx_mul_0(dpR_22, _S6961) + dpt_21;
    (&_S6959)->p_0[2U] = s_primal_ctx_mul_0(dpR_22, _S6963) + dpt_21;
    (&_S6959)->p_0[3U] = s_primal_ctx_mul_0(dpR_22, _S6965) + dpt_21;
    (&_S6959)->p_0[4U] = s_primal_ctx_mul_0(dpR_22, _S6962) + dpt_21;
    (&_S6959)->p_0[5U] = s_primal_ctx_mul_0(dpR_22, _S6964) + dpt_21;
    (&_S6959)->p_0[6U] = s_primal_ctx_mul_0(dpR_22, _S6966) + dpt_21;
    float2  _S6967 = _S6951;
    Matrix<float, 2, 2>  _S6968 = _S6950;
    SigmaPoints_0 _S6969 = _S6959;
    bool _S6970 = persp_proj_3dgs_ut_1(&_S6969, intrins_54, dist_coeffs_86, image_width_71, image_height_71, &_S6968, &_S6967);
    _s_diff_ctx_34->_S6949 = _S6968;
    float2  _S6971 = _S6967;
    float _S6972 = _S6968.rows[int(0)].y * _S6968.rows[int(1)].x;
    float det_orig_62 = _S6968.rows[int(0)].x * _S6968.rows[int(1)].y - _S6972;
    float _S6973 = _S6968.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6974 = _S6968;
    *&(((&_S6974)->rows + (int(0)))->x) = _S6973;
    float _S6975 = _S6968.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6974)->rows + (int(1)))->y) = _S6975;
    Matrix<float, 2, 2>  _S6976 = _S6974;
    Matrix<float, 2, 2>  _S6977 = _S6974;
    float _S6978 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_62 / (_S6973 * _S6975 - _S6972)));
    float _S6979 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_20));
    float _S6980;
    if(antialiased_71)
    {
        _S6980 = _S6979 * _S6978;
    }
    else
    {
        _S6980 = _S6979;
    }
    float _S6981 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6980 / 0.00392156885936856f)));
    float radius_x_46 = _S6981 * s_primal_ctx_sqrt_0(_S6976.rows[int(0)].x);
    float radius_y_46 = _S6981 * s_primal_ctx_sqrt_0(_S6977.rows[int(1)].y);
    float _S6982 = _S6971.x;
    float _S6983 = _S6971.y;
    float _S6984 = mean_c_61.z;
    float _S6985 = s_primal_ctx_max_0(_S6984, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6984 + length_1(mean_c_61)));
    float3  _S6986 = s_primal_ctx_exp_0(- dpscale_21);
    float3  _S6987 = dpmean_22 - - s_primal_ctx_mul_0(transpose_0(dpR_22), dpt_21);
    float3  _S6988 = _S6987 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6987, _S6987)));
    float _S6989 = s_primal_ctx_dot_0((*dpsv_sites_20)[int(6)], _S6988);
    float _S6990 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(0)], _S6988) - _S6989);
    float _S6991 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(1)], _S6988) - _S6989);
    float _S6992 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(2)], _S6988) - _S6989);
    float _S6993 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(3)], _S6988) - _S6989);
    float _S6994 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(4)], _S6988) - _S6989);
    float _S6995 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(5)], _S6988) - _S6989);
    float _S6996 = s_primal_ctx_exp_1(0.0f);
    float3  _S6997 = s_primal_ctx_max_1((make_float3 (_S6990) * (*dpsv_colors_20)[int(0)] + make_float3 (_S6991) * (*dpsv_colors_20)[int(1)] + make_float3 (_S6992) * (*dpsv_colors_20)[int(2)] + make_float3 (_S6993) * (*dpsv_colors_20)[int(3)] + make_float3 (_S6994) * (*dpsv_colors_20)[int(4)] + make_float3 (_S6995) * (*dpsv_colors_20)[int(5)] + make_float3 (_S6996) * (*dpsv_colors_20)[int(6)]) / make_float3 (_S6990 + _S6991 + _S6992 + _S6993 + _S6994 + _S6995 + _S6996) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_46 = make_int4 (int((F32_floor((_S6982 - radius_x_46)))), int((F32_floor((_S6983 - radius_y_46)))), int((F32_ceil((_S6982 + radius_x_46)))), int((F32_ceil((_S6983 + radius_y_46)))));
    *dpmean2d_24 = _S6971;
    *dpdepth_21 = _S6985;
    *dpconic_20 = _S6986;
    *dpopacity_22 = _S6980;
    *dprgb_21 = _S6997;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(bool antialiased_72, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_23, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_22, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_22, DiffPair_float_0 * dpin_opacity_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_21, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_23, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_22, float fx_84, float fy_84, float cx_79, float cy_79, FixedArray<float, 10>  * dist_coeffs_87, uint image_width_72, uint image_height_72, float near_plane_57, float far_plane_57, float2  dpmean2d_25, float dpdepth_22, float3  dpconic_21, float dpopacity_23, float3  dprgb_22, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_35)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6998 = *dpmean_23;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6999 = *dpquat_22;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7000 = *dpscale_22;
    FixedArray<float3 , 7>  _S7001 = dpsv_sites_21->primal_0;
    FixedArray<float3 , 7>  _S7002 = dpsv_colors_21->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7003 = *dpR_23;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7004 = *dpt_22;
    float3  _S7005 = make_float3 (0.0f);
    float3  mean_c_62 = s_primal_ctx_mul_0((*dpR_23).primal_0, (*dpmean_23).primal_0) + (*dpt_22).primal_0;
    float3  _S7006 = s_primal_ctx_exp_0((*dpscale_22).primal_0);
    float _S7007 = (*dpquat_22).primal_0.y;
    float x2_68 = _S7007 * _S7007;
    float y2_68 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.z;
    float z2_83 = (*dpquat_22).primal_0.w * (*dpquat_22).primal_0.w;
    float xy_68 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.z;
    float xz_68 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.w;
    float yz_68 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.w;
    float wx_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.y;
    float wy_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.z;
    float wz_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.w;
    Matrix<float, 3, 3>  _S7008 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_68 + z2_83), 2.0f * (xy_68 + wz_68), 2.0f * (xz_68 - wy_68), 2.0f * (xy_68 - wz_68), 1.0f - 2.0f * (x2_68 + z2_83), 2.0f * (yz_68 + wx_68), 2.0f * (xz_68 + wy_68), 2.0f * (yz_68 - wx_68), 1.0f - 2.0f * (x2_68 + y2_68))));
    FixedArray<float3 , 7>  _S7009 = {
        _S7005, _S7005, _S7005, _S7005, _S7005, _S7005, _S7005
    };
    FixedArray<float, 7>  _S7010 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7011;
    (&_S7011)->p_0 = _S7009;
    (&_S7011)->w_mean_0 = _S7010;
    (&_S7011)->w_cov_0 = _S7010;
    (&_S7011)->p_0[int(0)] = (*dpmean_23).primal_0;
    float _S7012 = s_primal_ctx_sqrt_0(3.0f);
    float _S7013 = _S7012 * _S7006.x;
    float3  _S7014 = make_float3 (_S7013);
    float3  delta_159 = make_float3 (_S7013) * _S7008.rows[0U];
    float3  _S7015 = (*dpmean_23).primal_0 + delta_159;
    float3  _S7016 = (*dpmean_23).primal_0 - delta_159;
    float _S7017 = _S7012 * _S7006.y;
    float3  _S7018 = make_float3 (_S7017);
    float3  delta_160 = make_float3 (_S7017) * _S7008.rows[1U];
    float3  _S7019 = (*dpmean_23).primal_0 + delta_160;
    float3  _S7020 = (*dpmean_23).primal_0 - delta_160;
    float _S7021 = _S7012 * _S7006.z;
    float3  _S7022 = make_float3 (_S7021);
    float3  delta_161 = make_float3 (_S7021) * _S7008.rows[2U];
    float3  _S7023 = (*dpmean_23).primal_0 + delta_161;
    float3  _S7024 = (*dpmean_23).primal_0 - delta_161;
    SigmaPoints_0 _S7025 = _S7011;
    float _S7026 = *&(((&_s_diff_ctx_35->_S6949)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_35->_S6949)->rows + (int(1)))->x);
    float det_orig_63 = *&(((&_s_diff_ctx_35->_S6949)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_35->_S6949)->rows + (int(1)))->y) - _S7026;
    float _S7027 = *&(((&_s_diff_ctx_35->_S6949)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7028 = _s_diff_ctx_35->_S6949;
    *&(((&_S7028)->rows + (int(0)))->x) = _S7027;
    float _S7029 = *&(((&_s_diff_ctx_35->_S6949)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7028)->rows + (int(1)))->y) = _S7029;
    Matrix<float, 2, 2>  _S7030 = _S7028;
    Matrix<float, 2, 2>  _S7031 = _S7028;
    float det_blur_35 = _S7027 * _S7029 - _S7026;
    float _S7032 = det_orig_63 / det_blur_35;
    float _S7033 = det_blur_35 * det_blur_35;
    float _S7034 = s_primal_ctx_max_0(0.0f, _S7032);
    float _S7035 = s_primal_ctx_sqrt_0(_S7034);
    float _S7036 = - (*dpin_opacity_21).primal_0;
    float _S7037 = 1.0f + s_primal_ctx_exp_1(_S7036);
    float _S7038 = 1.0f / _S7037;
    float _S7039 = _S7037 * _S7037;
    float _S7040;
    if(antialiased_72)
    {
        _S7040 = _S7038 * _S7035;
    }
    else
    {
        _S7040 = _S7038;
    }
    float _S7041 = _S7040 / 0.00392156885936856f;
    float _S7042 = 2.0f * s_primal_ctx_log_0(_S7041);
    float _S7043 = s_primal_ctx_sqrt_0(_S7042);
    float _S7044 = _S7030.rows[int(0)].x;
    float _S7045 = _S7031.rows[int(1)].y;
    float _S7046 = mean_c_62.z;
    float _S7047 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S7048 = _S7047 * (_S7046 + length_1(mean_c_62));
    float3  _S7049 = - _S7000.primal_0;
    Matrix<float, 3, 3>  _S7050 = transpose_0(_S7003.primal_0);
    float3  _S7051 = _S6998.primal_0 - - s_primal_ctx_mul_0(_S7050, _S7004.primal_0);
    float _S7052 = s_primal_ctx_dot_0(_S7051, _S7051);
    float _S7053 = s_primal_ctx_rsqrt_0(_S7052);
    float3  _S7054 = make_float3 (_S7053);
    float3  _S7055 = _S7051 * make_float3 (_S7053);
    float _S7056 = s_primal_ctx_dot_0(_S7001[int(6)], _S7055);
    float _S7057 = s_primal_ctx_dot_0(_S7001[int(0)], _S7055) - _S7056;
    float _S7058 = s_primal_ctx_exp_1(_S7057);
    float3  _S7059 = make_float3 (_S7058);
    float _S7060 = s_primal_ctx_dot_0(_S7001[int(1)], _S7055) - _S7056;
    float _S7061 = s_primal_ctx_exp_1(_S7060);
    float3  _S7062 = make_float3 (_S7061);
    float _S7063 = s_primal_ctx_dot_0(_S7001[int(2)], _S7055) - _S7056;
    float _S7064 = s_primal_ctx_exp_1(_S7063);
    float3  _S7065 = make_float3 (_S7064);
    float _S7066 = s_primal_ctx_dot_0(_S7001[int(3)], _S7055) - _S7056;
    float _S7067 = s_primal_ctx_exp_1(_S7066);
    float3  _S7068 = make_float3 (_S7067);
    float _S7069 = s_primal_ctx_dot_0(_S7001[int(4)], _S7055) - _S7056;
    float _S7070 = s_primal_ctx_exp_1(_S7069);
    float3  _S7071 = make_float3 (_S7070);
    float _S7072 = s_primal_ctx_dot_0(_S7001[int(5)], _S7055) - _S7056;
    float _S7073 = s_primal_ctx_exp_1(_S7072);
    float3  _S7074 = make_float3 (_S7073);
    float _S7075 = s_primal_ctx_exp_1(0.0f);
    float3  _S7076 = make_float3 (_S7075);
    float total_w_10 = _S7058 + _S7061 + _S7064 + _S7067 + _S7070 + _S7073 + _S7075;
    float3  _S7077 = make_float3 (total_w_10);
    float3  total_c_10 = make_float3 (_S7058) * _S7002[int(0)] + make_float3 (_S7061) * _S7002[int(1)] + make_float3 (_S7064) * _S7002[int(2)] + make_float3 (_S7067) * _S7002[int(3)] + make_float3 (_S7070) * _S7002[int(4)] + make_float3 (_S7073) * _S7002[int(5)] + make_float3 (_S7075) * _S7002[int(6)];
    float3  _S7078 = make_float3 (total_w_10 * total_w_10);
    float3  _S7079 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7080;
    (&_S7080)->primal_0 = total_c_10 / make_float3 (total_w_10) + make_float3 (0.5f);
    (&_S7080)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7081;
    (&_S7081)->primal_0 = _S7079;
    (&_S7081)->differential_0 = _S7005;
    s_bwd_prop_max_0(&_S7080, &_S7081, dprgb_22);
    float3  _S7082 = _S7080.differential_0 / _S7078;
    float3  _S7083 = total_c_10 * - _S7082;
    float3  s_diff_total_c_T_10 = _S7077 * _S7082;
    float3  _S7084 = _S7076 * s_diff_total_c_T_10;
    float _S7085 = _S7083.x + _S7083.y + _S7083.z;
    float3  _S7086 = _S7074 * s_diff_total_c_T_10;
    float3  _S7087 = _S7002[int(5)] * s_diff_total_c_T_10;
    float _S7088 = _S7085 + _S7087.x + _S7087.y + _S7087.z;
    DiffPair_float_0 _S7089;
    (&_S7089)->primal_0 = _S7072;
    (&_S7089)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7089, _S7088);
    float _S7090 = - _S7089.differential_0;
    float3  _S7091 = _S7071 * s_diff_total_c_T_10;
    float3  _S7092 = _S7002[int(4)] * s_diff_total_c_T_10;
    float _S7093 = _S7085 + _S7092.x + _S7092.y + _S7092.z;
    DiffPair_float_0 _S7094;
    (&_S7094)->primal_0 = _S7069;
    (&_S7094)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7094, _S7093);
    float _S7095 = - _S7094.differential_0;
    float3  _S7096 = _S7068 * s_diff_total_c_T_10;
    float3  _S7097 = _S7002[int(3)] * s_diff_total_c_T_10;
    float _S7098 = _S7085 + _S7097.x + _S7097.y + _S7097.z;
    DiffPair_float_0 _S7099;
    (&_S7099)->primal_0 = _S7066;
    (&_S7099)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7099, _S7098);
    float _S7100 = - _S7099.differential_0;
    float3  _S7101 = _S7065 * s_diff_total_c_T_10;
    float3  _S7102 = _S7002[int(2)] * s_diff_total_c_T_10;
    float _S7103 = _S7085 + _S7102.x + _S7102.y + _S7102.z;
    DiffPair_float_0 _S7104;
    (&_S7104)->primal_0 = _S7063;
    (&_S7104)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7104, _S7103);
    float _S7105 = - _S7104.differential_0;
    float3  _S7106 = _S7062 * s_diff_total_c_T_10;
    float3  _S7107 = _S7002[int(1)] * s_diff_total_c_T_10;
    float _S7108 = _S7085 + _S7107.x + _S7107.y + _S7107.z;
    DiffPair_float_0 _S7109;
    (&_S7109)->primal_0 = _S7060;
    (&_S7109)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7109, _S7108);
    float _S7110 = - _S7109.differential_0;
    float3  _S7111 = _S7059 * s_diff_total_c_T_10;
    float3  _S7112 = _S7002[int(0)] * s_diff_total_c_T_10;
    float _S7113 = _S7085 + _S7112.x + _S7112.y + _S7112.z;
    DiffPair_float_0 _S7114;
    (&_S7114)->primal_0 = _S7057;
    (&_S7114)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7114, _S7113);
    float _S7115 = _S7090 + _S7095 + _S7100 + _S7105 + _S7110 + - _S7114.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7116;
    (&_S7116)->primal_0 = _S7001[int(6)];
    (&_S7116)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7117;
    (&_S7117)->primal_0 = _S7055;
    (&_S7117)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7116, &_S7117, _S7115);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7118;
    (&_S7118)->primal_0 = _S7001[int(5)];
    (&_S7118)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7119;
    (&_S7119)->primal_0 = _S7055;
    (&_S7119)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7118, &_S7119, _S7089.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7120;
    (&_S7120)->primal_0 = _S7001[int(4)];
    (&_S7120)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7121;
    (&_S7121)->primal_0 = _S7055;
    (&_S7121)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7120, &_S7121, _S7094.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7122;
    (&_S7122)->primal_0 = _S7001[int(3)];
    (&_S7122)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7123;
    (&_S7123)->primal_0 = _S7055;
    (&_S7123)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7122, &_S7123, _S7099.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7124;
    (&_S7124)->primal_0 = _S7001[int(2)];
    (&_S7124)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7125;
    (&_S7125)->primal_0 = _S7055;
    (&_S7125)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7124, &_S7125, _S7104.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7126;
    (&_S7126)->primal_0 = _S7001[int(1)];
    (&_S7126)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7127;
    (&_S7127)->primal_0 = _S7055;
    (&_S7127)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7126, &_S7127, _S7109.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7128;
    (&_S7128)->primal_0 = _S7001[int(0)];
    (&_S7128)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7129;
    (&_S7129)->primal_0 = _S7055;
    (&_S7129)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7128, &_S7129, _S7114.differential_0);
    float3  _S7130 = _S7117.differential_0 + _S7119.differential_0 + _S7121.differential_0 + _S7123.differential_0 + _S7125.differential_0 + _S7127.differential_0 + _S7129.differential_0;
    float3  _S7131 = _S7051 * _S7130;
    float3  _S7132 = _S7054 * _S7130;
    float _S7133 = _S7131.x + _S7131.y + _S7131.z;
    DiffPair_float_0 _S7134;
    (&_S7134)->primal_0 = _S7052;
    (&_S7134)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7134, _S7133);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7135;
    (&_S7135)->primal_0 = _S7051;
    (&_S7135)->differential_0 = _S7005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7136;
    (&_S7136)->primal_0 = _S7051;
    (&_S7136)->differential_0 = _S7005;
    s_bwd_prop_dot_0(&_S7135, &_S7136, _S7134.differential_0);
    float3  _S7137 = _S7132 + _S7136.differential_0 + _S7135.differential_0;
    float3  _S7138 = - - _S7137;
    Matrix<float, 3, 3>  _S7139 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7140;
    (&_S7140)->primal_0 = _S7050;
    (&_S7140)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7141;
    (&_S7141)->primal_0 = _S7004.primal_0;
    (&_S7141)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7140, &_S7141, _S7138);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7142 = _S7141;
    Matrix<float, 3, 3>  _S7143 = transpose_0(_S7140.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7144;
    (&_S7144)->primal_0 = _S7049;
    (&_S7144)->differential_0 = _S7005;
    s_bwd_prop_exp_1(&_S7144, dpconic_21);
    float3  _S7145 = - _S7144.differential_0;
    DiffPair_float_0 _S7146;
    (&_S7146)->primal_0 = _S7046;
    (&_S7146)->differential_0 = 0.0f;
    DiffPair_float_0 _S7147;
    (&_S7147)->primal_0 = _S7048;
    (&_S7147)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7146, &_S7147, dpdepth_22);
    float _S7148 = _S7047 * _S7147.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7149;
    (&_S7149)->primal_0 = mean_c_62;
    (&_S7149)->differential_0 = _S7005;
    s_bwd_length_impl_1(&_S7149, _S7148);
    float _S7150 = _S7146.differential_0 + _S7148;
    DiffPair_float_0 _S7151;
    (&_S7151)->primal_0 = _S7045;
    (&_S7151)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7151, 0.0f);
    DiffPair_float_0 _S7152;
    (&_S7152)->primal_0 = _S7044;
    (&_S7152)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7152, 0.0f);
    DiffPair_float_0 _S7153;
    (&_S7153)->primal_0 = 3.32999992370605469f;
    (&_S7153)->differential_0 = 0.0f;
    DiffPair_float_0 _S7154;
    (&_S7154)->primal_0 = _S7043;
    (&_S7154)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7153, &_S7154, 0.0f);
    DiffPair_float_0 _S7155;
    (&_S7155)->primal_0 = _S7042;
    (&_S7155)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7155, _S7154.differential_0);
    float _S7156 = 2.0f * _S7155.differential_0;
    DiffPair_float_0 _S7157;
    (&_S7157)->primal_0 = _S7041;
    (&_S7157)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7157, _S7156);
    float _S7158 = dpopacity_23 + 254.9999847412109375f * _S7157.differential_0;
    FixedArray<float3 , 7>  _S7159;
    _S7159[int(0)] = _S7005;
    _S7159[int(1)] = _S7005;
    _S7159[int(2)] = _S7005;
    _S7159[int(3)] = _S7005;
    _S7159[int(4)] = _S7005;
    _S7159[int(5)] = _S7005;
    _S7159[int(6)] = _S7005;
    _S7159[int(6)] = _S7084;
    _S7159[int(5)] = _S7086;
    _S7159[int(4)] = _S7091;
    _S7159[int(3)] = _S7096;
    _S7159[int(2)] = _S7101;
    _S7159[int(1)] = _S7106;
    _S7159[int(0)] = _S7111;
    FixedArray<float3 , 7>  _S7160 = {
        _S7159[int(0)], _S7159[int(1)], _S7159[int(2)], _S7159[int(3)], _S7159[int(4)], _S7159[int(5)], _S7159[int(6)]
    };
    FixedArray<float3 , 7>  _S7161;
    _S7161[int(0)] = _S7005;
    _S7161[int(1)] = _S7005;
    _S7161[int(2)] = _S7005;
    _S7161[int(3)] = _S7005;
    _S7161[int(4)] = _S7005;
    _S7161[int(5)] = _S7005;
    _S7161[int(6)] = _S7005;
    _S7161[int(6)] = _S7116.differential_0;
    _S7161[int(5)] = _S7118.differential_0;
    _S7161[int(4)] = _S7120.differential_0;
    _S7161[int(3)] = _S7122.differential_0;
    _S7161[int(2)] = _S7124.differential_0;
    _S7161[int(1)] = _S7126.differential_0;
    _S7161[int(0)] = _S7128.differential_0;
    FixedArray<float3 , 7>  _S7162 = {
        _S7161[int(0)], _S7161[int(1)], _S7161[int(2)], _S7161[int(3)], _S7161[int(4)], _S7161[int(5)], _S7161[int(6)]
    };
    float3  _S7163 = _S7149.differential_0 + make_float3 (0.0f, 0.0f, _S7150);
    float2  _S7164 = make_float2 (0.0f, _S7151.differential_0);
    float2  _S7165 = make_float2 (_S7152.differential_0, 0.0f);
    float _S7166;
    if(antialiased_72)
    {
        float _S7167 = _S7038 * _S7158;
        _S7040 = _S7035 * _S7158;
        _S7166 = _S7167;
    }
    else
    {
        _S7040 = _S7158;
        _S7166 = 0.0f;
    }
    float _S7168 = - (_S7040 / _S7039);
    DiffPair_float_0 _S7169;
    (&_S7169)->primal_0 = _S7036;
    (&_S7169)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7169, _S7168);
    float _S7170 = - _S7169.differential_0;
    DiffPair_float_0 _S7171;
    (&_S7171)->primal_0 = _S7034;
    (&_S7171)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7171, _S7166);
    DiffPair_float_0 _S7172;
    (&_S7172)->primal_0 = 0.0f;
    (&_S7172)->differential_0 = 0.0f;
    DiffPair_float_0 _S7173;
    (&_S7173)->primal_0 = _S7032;
    (&_S7173)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7172, &_S7173, _S7171.differential_0);
    float _S7174 = _S7173.differential_0 / _S7033;
    float s_diff_det_blur_T_12 = det_orig_63 * - _S7174;
    float s_diff_det_orig_T_15 = det_blur_35 * _S7174;
    float _S7175 = - s_diff_det_blur_T_12;
    float _S7176 = _S7027 * s_diff_det_blur_T_12;
    float _S7177 = _S7029 * s_diff_det_blur_T_12;
    Matrix<float, 2, 2>  _S7178 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7179 = _S7178;
    _S7179[int(1)] = _S7164;
    _S7179[int(0)] = _S7165;
    float _S7180 = _S7177 + _S7179.rows[int(0)].x;
    float _S7181 = _S7175 + - s_diff_det_orig_T_15;
    float _S7182 = *&(((&_s_diff_ctx_35->_S6949)->rows + (int(0)))->y) * _S7181;
    float _S7183 = *&(((&_s_diff_ctx_35->_S6949)->rows + (int(1)))->x) * _S7181;
    float _S7184 = *&(((&_s_diff_ctx_35->_S6949)->rows + (int(1)))->y) * s_diff_det_orig_T_15;
    float _S7185 = _S7176 + _S7179.rows[int(1)].y + *&(((&_s_diff_ctx_35->_S6949)->rows + (int(0)))->x) * s_diff_det_orig_T_15;
    float2  _S7186 = make_float2 (0.0f);
    float2  _S7187 = _S7186;
    *&((&_S7187)->x) = _S7182;
    *&((&_S7187)->y) = _S7185;
    float _S7188 = _S7180 + _S7184;
    float2  _S7189 = _S7186;
    *&((&_S7189)->y) = _S7183;
    *&((&_S7189)->x) = _S7188;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7190;
    (&_S7190)->primal_0 = _S7003.primal_0;
    (&_S7190)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7191;
    (&_S7191)->primal_0 = _S7024;
    (&_S7191)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7190, &_S7191, _S7005);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7192;
    (&_S7192)->primal_0 = _S7003.primal_0;
    (&_S7192)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7193;
    (&_S7193)->primal_0 = _S7020;
    (&_S7193)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7192, &_S7193, _S7005);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7194;
    (&_S7194)->primal_0 = _S7003.primal_0;
    (&_S7194)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7195;
    (&_S7195)->primal_0 = _S7016;
    (&_S7195)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7194, &_S7195, _S7005);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7196;
    (&_S7196)->primal_0 = _S7003.primal_0;
    (&_S7196)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7197;
    (&_S7197)->primal_0 = _S7023;
    (&_S7197)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7196, &_S7197, _S7005);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7198;
    (&_S7198)->primal_0 = _S7003.primal_0;
    (&_S7198)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7199;
    (&_S7199)->primal_0 = _S7019;
    (&_S7199)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7198, &_S7199, _S7005);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7200;
    (&_S7200)->primal_0 = _S7003.primal_0;
    (&_S7200)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7201;
    (&_S7201)->primal_0 = _S7015;
    (&_S7201)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7200, &_S7201, _S7005);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7202;
    (&_S7202)->primal_0 = _S7003.primal_0;
    (&_S7202)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7203;
    (&_S7203)->primal_0 = _S7025.p_0[0U];
    (&_S7203)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7202, &_S7203, _S7005);
    float3  _S7204 = - _S7191.differential_0 + _S7197.differential_0;
    float3  _S7205 = _S7022 * _S7204;
    float3  _S7206 = _S7008.rows[2U] * _S7204;
    float _S7207 = _S7012 * (_S7206.x + _S7206.y + _S7206.z);
    float3  _S7208 = - _S7193.differential_0 + _S7199.differential_0;
    float3  _S7209 = _S7018 * _S7208;
    float3  _S7210 = _S7008.rows[1U] * _S7208;
    float _S7211 = _S7012 * (_S7210.x + _S7210.y + _S7210.z);
    float3  _S7212 = - _S7195.differential_0 + _S7201.differential_0;
    float3  _S7213 = _S7014 * _S7212;
    float3  _S7214 = _S7008.rows[0U] * _S7212;
    float _S7215 = _S7012 * (_S7214.x + _S7214.y + _S7214.z);
    Matrix<float, 3, 3>  _S7216 = _S7139;
    _S7216[2U] = _S7205;
    _S7216[1U] = _S7209;
    _S7216[0U] = _S7213;
    Matrix<float, 3, 3>  _S7217 = transpose_0(transpose_0(_S7216));
    float _S7218 = 2.0f * - _S7217.rows[int(2)].z;
    float _S7219 = 2.0f * _S7217.rows[int(2)].y;
    float _S7220 = 2.0f * _S7217.rows[int(2)].x;
    float _S7221 = 2.0f * _S7217.rows[int(1)].z;
    float _S7222 = 2.0f * - _S7217.rows[int(1)].y;
    float _S7223 = 2.0f * _S7217.rows[int(1)].x;
    float _S7224 = 2.0f * _S7217.rows[int(0)].z;
    float _S7225 = 2.0f * _S7217.rows[int(0)].y;
    float _S7226 = 2.0f * - _S7217.rows[int(0)].x;
    float _S7227 = - _S7223 + _S7225;
    float _S7228 = _S7220 + - _S7224;
    float _S7229 = - _S7219 + _S7221;
    float _S7230 = _S7219 + _S7221;
    float _S7231 = _S7220 + _S7224;
    float _S7232 = _S7223 + _S7225;
    float _S7233 = _S6999.primal_0.w * (_S7222 + _S7226);
    float _S7234 = _S6999.primal_0.z * (_S7218 + _S7226);
    float _S7235 = _S6999.primal_0.y * (_S7218 + _S7222);
    float _S7236 = _S6999.primal_0.x * _S7227 + _S6999.primal_0.z * _S7230 + _S6999.primal_0.y * _S7231 + _S7233 + _S7233;
    float _S7237 = _S6999.primal_0.x * _S7228 + _S6999.primal_0.w * _S7230 + _S6999.primal_0.y * _S7232 + _S7234 + _S7234;
    float _S7238 = _S6999.primal_0.x * _S7229 + _S6999.primal_0.w * _S7231 + _S6999.primal_0.z * _S7232 + _S7235 + _S7235;
    float _S7239 = _S6999.primal_0.w * _S7227 + _S6999.primal_0.z * _S7228 + _S6999.primal_0.y * _S7229;
    float3  _S7240 = _S7005;
    *&((&_S7240)->z) = _S7207;
    *&((&_S7240)->y) = _S7211;
    *&((&_S7240)->x) = _S7215;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7241;
    (&_S7241)->primal_0 = _S7000.primal_0;
    (&_S7241)->differential_0 = _S7005;
    s_bwd_prop_exp_1(&_S7241, _S7240);
    Matrix<float, 2, 2>  _S7242 = _S7178;
    _S7242[int(1)] = _S7187;
    _S7242[int(0)] = _S7189;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7243;
    (&_S7243)->primal_0 = _S7003.primal_0;
    (&_S7243)->differential_0 = _S7139;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7244;
    (&_S7244)->primal_0 = _S6998.primal_0;
    (&_S7244)->differential_0 = _S7005;
    s_bwd_prop_mul_1(&_S7243, &_S7244, _S7163);
    float3  _S7245 = _S7163 + _S7142.differential_0;
    dpt_22->primal_0 = (*dpt_22).primal_0;
    dpt_22->differential_0 = _S7245;
    Matrix<float, 3, 3>  _S7246 = _S7190.differential_0 + _S7192.differential_0 + _S7194.differential_0 + _S7196.differential_0 + _S7198.differential_0 + _S7200.differential_0 + _S7202.differential_0 + _S7243.differential_0 + _S7143;
    dpR_23->primal_0 = (*dpR_23).primal_0;
    dpR_23->differential_0 = _S7246;
    dpsv_colors_21->primal_0 = dpsv_colors_21->primal_0;
    dpsv_colors_21->differential_0 = _S7160;
    dpsv_sites_21->primal_0 = dpsv_sites_21->primal_0;
    dpsv_sites_21->differential_0 = _S7162;
    dpin_opacity_21->primal_0 = (*dpin_opacity_21).primal_0;
    dpin_opacity_21->differential_0 = _S7170;
    float3  _S7247 = _S7241.differential_0 + _S7145;
    dpscale_22->primal_0 = (*dpscale_22).primal_0;
    dpscale_22->differential_0 = _S7247;
    float4  _S7248 = make_float4 (0.0f);
    *&((&_S7248)->w) = _S7236;
    *&((&_S7248)->z) = _S7237;
    *&((&_S7248)->y) = _S7238;
    *&((&_S7248)->x) = _S7239;
    dpquat_22->primal_0 = (*dpquat_22).primal_0;
    dpquat_22->differential_0 = _S7248;
    float3  _S7249 = _S7191.differential_0 + _S7197.differential_0 + _S7193.differential_0 + _S7199.differential_0 + _S7195.differential_0 + _S7201.differential_0 + _S7244.differential_0 + _S7137;
    dpmean_23->primal_0 = (*dpmean_23).primal_0;
    dpmean_23->differential_0 = _S7249;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_5(bool _S7250, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7251, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7252, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7253, DiffPair_float_0 * _S7254, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7255, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7256, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7257, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7258, float _S7259, float _S7260, float _S7261, float _S7262, FixedArray<float, 10>  * _S7263, uint _S7264, uint _S7265, float _S7266, float _S7267, float2  _S7268, float _S7269, float3  _S7270, float _S7271, float3  _S7272)
{
    FixedArray<float3 , 7>  _S7273 = _S7255->primal_0;
    FixedArray<float3 , 7>  _S7274 = _S7256->primal_0;
    int4  _S7275;
    float2  _S7276;
    float _S7277;
    float3  _S7278;
    float _S7279;
    float3  _S7280;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S7281;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(_S7250, (*_S7251).primal_0, (*_S7252).primal_0, (*_S7253).primal_0, (*_S7254).primal_0, &_S7273, &_S7274, (*_S7257).primal_0, (*_S7258).primal_0, _S7259, _S7260, _S7261, _S7262, _S7263, _S7264, _S7265, _S7266, _S7267, &_S7275, &_S7276, &_S7277, &_S7278, &_S7279, &_S7280, &_S7281);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S7282 = _S7281;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(_S7250, _S7251, _S7252, _S7253, _S7254, _S7255, _S7256, _S7257, _S7258, _S7259, _S7260, _S7261, _S7262, _S7263, _S7264, _S7265, _S7266, _S7267, _S7268, _S7269, _S7270, _S7271, _S7272, &_S7282);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_73, float3  mean_56, float4  quat_57, float3  scale_56, float in_opacity_51, FixedArray<float3 , 7>  * sv_sites_36, FixedArray<float3 , 7>  * sv_colors_36, Matrix<float, 3, 3>  R_58, float3  t_54, float fx_85, float fy_85, float cx_80, float cy_80, FixedArray<float, 10>  * dist_coeffs_88, uint image_width_73, uint image_height_73, float2  v_mean2d_15, float v_depth_16, float3  v_conic_15, float v_opacity_17, float3  v_rgb_16, float3  * v_mean_17, float4  * v_quat_16, float3  * v_scale_16, float * v_in_opacity_15, FixedArray<float3 , 7>  * v_sv_dirs_10, FixedArray<float3 , 7>  * v_sv_colors_10, Matrix<float, 3, 3>  * v_R_17, float3  * v_t_16)
{
    float3  _S7283 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_12;
    (&dp_mean_12)->primal_0 = mean_56;
    (&dp_mean_12)->differential_0 = _S7283;
    float4  _S7284 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_11;
    (&dp_quat_11)->primal_0 = quat_57;
    (&dp_quat_11)->differential_0 = _S7284;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_11;
    (&dp_scale_11)->primal_0 = scale_56;
    (&dp_scale_11)->differential_0 = _S7283;
    DiffPair_float_0 dp_in_opacity_10;
    (&dp_in_opacity_10)->primal_0 = in_opacity_51;
    (&dp_in_opacity_10)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S7285 = { _S7283, _S7283, _S7283, _S7283, _S7283, _S7283, _S7283 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_10;
    (&dp_sv_dirs_10)->primal_0 = *sv_sites_36;
    (&dp_sv_dirs_10)->differential_0 = _S7285;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_10;
    (&dp_sv_colors_10)->primal_0 = *sv_colors_36;
    (&dp_sv_colors_10)->differential_0 = _S7285;
    Matrix<float, 3, 3>  _S7286 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_12;
    (&dp_R_12)->primal_0 = R_58;
    (&dp_R_12)->differential_0 = _S7286;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_11;
    (&dp_t_11)->primal_0 = t_54;
    (&dp_t_11)->differential_0 = _S7283;
    s_bwd_projection_3dgut_sv_persp_differentiable_5(antialiased_73, &dp_mean_12, &dp_quat_11, &dp_scale_11, &dp_in_opacity_10, &dp_sv_dirs_10, &dp_sv_colors_10, &dp_R_12, &dp_t_11, fx_85, fy_85, cx_80, cy_80, dist_coeffs_88, image_width_73, image_height_73, 0.0f, 1.00000001504746622e+30f, v_mean2d_15, v_depth_16, v_conic_15, v_opacity_17, v_rgb_16);
    *v_mean_17 = dp_mean_12.differential_0;
    *v_quat_16 = dp_quat_11.differential_0;
    *v_scale_16 = dp_scale_11.differential_0;
    *v_in_opacity_15 = dp_in_opacity_10.differential_0;
    *v_sv_dirs_10 = (&dp_sv_dirs_10)->differential_0;
    *v_sv_colors_10 = (&dp_sv_colors_10)->differential_0;
    *v_R_17 = dp_R_12.differential_0;
    *v_t_16 = dp_t_11.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S7287;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_74, float3  dpmean_24, float4  dpquat_23, float3  dpscale_23, float dpin_opacity_22, FixedArray<float3 , 7>  * dpsv_sites_22, FixedArray<float3 , 7>  * dpsv_colors_22, Matrix<float, 3, 3>  dpR_24, float3  dpt_23, float fx_86, float fy_86, float cx_81, float cy_81, FixedArray<float, 10>  * dist_coeffs_89, uint image_width_74, uint image_height_74, float near_plane_58, float far_plane_58, int4  * aabb_xyxy_47, float2  * dpmean2d_26, float * dpdepth_23, float3  * dpconic_22, float * dpopacity_24, float3  * dprgb_23, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_36)
{
    Matrix<float, 2, 2>  _S7288 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_36->_S7287 = _S7288;
    float2  _S7289 = make_float2 (0.0f);
    float3  _S7290 = make_float3 (0.0f);
    float3  mean_c_63 = s_primal_ctx_mul_0(dpR_24, dpmean_24) + dpt_23;
    float _S7291 = length_1(mean_c_63);
    float4  intrins_55 = make_float4 (fx_86, fy_86, cx_81, cy_81);
    float3  _S7292 = s_primal_ctx_exp_0(dpscale_23);
    float _S7293 = dpquat_23.y;
    float x2_69 = _S7293 * _S7293;
    float y2_69 = dpquat_23.z * dpquat_23.z;
    float z2_84 = dpquat_23.w * dpquat_23.w;
    float xy_69 = dpquat_23.y * dpquat_23.z;
    float xz_69 = dpquat_23.y * dpquat_23.w;
    float yz_69 = dpquat_23.z * dpquat_23.w;
    float wx_69 = dpquat_23.x * dpquat_23.y;
    float wy_69 = dpquat_23.x * dpquat_23.z;
    float wz_69 = dpquat_23.x * dpquat_23.w;
    Matrix<float, 3, 3>  _S7294 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_69 + z2_84), 2.0f * (xy_69 + wz_69), 2.0f * (xz_69 - wy_69), 2.0f * (xy_69 - wz_69), 1.0f - 2.0f * (x2_69 + z2_84), 2.0f * (yz_69 + wx_69), 2.0f * (xz_69 + wy_69), 2.0f * (yz_69 - wx_69), 1.0f - 2.0f * (x2_69 + y2_69))));
    FixedArray<float3 , 7>  _S7295 = {
        _S7290, _S7290, _S7290, _S7290, _S7290, _S7290, _S7290
    };
    FixedArray<float, 7>  _S7296 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7297;
    (&_S7297)->p_0 = _S7295;
    (&_S7297)->w_mean_0 = _S7296;
    (&_S7297)->w_cov_0 = _S7296;
    (&_S7297)->p_0[int(0)] = dpmean_24;
    SigmaPoints_0 _S7298 = _S7297;
    (&_S7298)->w_mean_0[int(0)] = 0.0f;
    (&_S7298)->w_cov_0[int(0)] = 2.0f;
    float _S7299 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_162 = make_float3 (_S7299 * _S7292.x) * _S7294.rows[0U];
    float3  _S7300 = dpmean_24 + delta_162;
    float3  _S7301 = dpmean_24 - delta_162;
    float3  delta_163 = make_float3 (_S7299 * _S7292.y) * _S7294.rows[1U];
    float3  _S7302 = dpmean_24 + delta_163;
    float3  _S7303 = dpmean_24 - delta_163;
    float3  delta_164 = make_float3 (_S7299 * _S7292.z) * _S7294.rows[2U];
    float3  _S7304 = dpmean_24 + delta_164;
    float3  _S7305 = dpmean_24 - delta_164;
    (&_S7298)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7298)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7298)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7298)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7298)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7298)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7298)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7298)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7298)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7298)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7298)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7298)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7298)->p_0[0U] = s_primal_ctx_mul_0(dpR_24, _S7297.p_0[0U]) + dpt_23;
    (&_S7298)->p_0[1U] = s_primal_ctx_mul_0(dpR_24, _S7300) + dpt_23;
    (&_S7298)->p_0[2U] = s_primal_ctx_mul_0(dpR_24, _S7302) + dpt_23;
    (&_S7298)->p_0[3U] = s_primal_ctx_mul_0(dpR_24, _S7304) + dpt_23;
    (&_S7298)->p_0[4U] = s_primal_ctx_mul_0(dpR_24, _S7301) + dpt_23;
    (&_S7298)->p_0[5U] = s_primal_ctx_mul_0(dpR_24, _S7303) + dpt_23;
    (&_S7298)->p_0[6U] = s_primal_ctx_mul_0(dpR_24, _S7305) + dpt_23;
    float2  _S7306 = _S7289;
    Matrix<float, 2, 2>  _S7307 = _S7288;
    SigmaPoints_0 _S7308 = _S7298;
    bool _S7309 = fisheye_proj_3dgs_ut_1(&_S7308, intrins_55, dist_coeffs_89, &_S7307, &_S7306);
    _s_diff_ctx_36->_S7287 = _S7307;
    float2  _S7310 = _S7306;
    float _S7311 = _S7307.rows[int(0)].y * _S7307.rows[int(1)].x;
    float det_orig_64 = _S7307.rows[int(0)].x * _S7307.rows[int(1)].y - _S7311;
    float _S7312 = _S7307.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7313 = _S7307;
    *&(((&_S7313)->rows + (int(0)))->x) = _S7312;
    float _S7314 = _S7307.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7313)->rows + (int(1)))->y) = _S7314;
    Matrix<float, 2, 2>  _S7315 = _S7313;
    Matrix<float, 2, 2>  _S7316 = _S7313;
    float _S7317 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_64 / (_S7312 * _S7314 - _S7311)));
    float _S7318 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_22));
    float _S7319;
    if(antialiased_74)
    {
        _S7319 = _S7318 * _S7317;
    }
    else
    {
        _S7319 = _S7318;
    }
    float _S7320 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7319 / 0.00392156885936856f)));
    float radius_x_47 = _S7320 * s_primal_ctx_sqrt_0(_S7315.rows[int(0)].x);
    float radius_y_47 = _S7320 * s_primal_ctx_sqrt_0(_S7316.rows[int(1)].y);
    float _S7321 = _S7310.x;
    float _S7322 = _S7310.y;
    float _S7323 = mean_c_63.z;
    float _S7324 = s_primal_ctx_max_0(_S7323, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S7323 + _S7291));
    float3  _S7325 = s_primal_ctx_exp_0(- dpscale_23);
    float3  _S7326 = dpmean_24 - - s_primal_ctx_mul_0(transpose_0(dpR_24), dpt_23);
    float3  _S7327 = _S7326 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7326, _S7326)));
    float _S7328 = s_primal_ctx_dot_0((*dpsv_sites_22)[int(6)], _S7327);
    float _S7329 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(0)], _S7327) - _S7328);
    float _S7330 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(1)], _S7327) - _S7328);
    float _S7331 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(2)], _S7327) - _S7328);
    float _S7332 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(3)], _S7327) - _S7328);
    float _S7333 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(4)], _S7327) - _S7328);
    float _S7334 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(5)], _S7327) - _S7328);
    float _S7335 = s_primal_ctx_exp_1(0.0f);
    float3  _S7336 = s_primal_ctx_max_1((make_float3 (_S7329) * (*dpsv_colors_22)[int(0)] + make_float3 (_S7330) * (*dpsv_colors_22)[int(1)] + make_float3 (_S7331) * (*dpsv_colors_22)[int(2)] + make_float3 (_S7332) * (*dpsv_colors_22)[int(3)] + make_float3 (_S7333) * (*dpsv_colors_22)[int(4)] + make_float3 (_S7334) * (*dpsv_colors_22)[int(5)] + make_float3 (_S7335) * (*dpsv_colors_22)[int(6)]) / make_float3 (_S7329 + _S7330 + _S7331 + _S7332 + _S7333 + _S7334 + _S7335) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_47 = make_int4 (int((F32_floor((_S7321 - radius_x_47)))), int((F32_floor((_S7322 - radius_y_47)))), int((F32_ceil((_S7321 + radius_x_47)))), int((F32_ceil((_S7322 + radius_y_47)))));
    *dpmean2d_26 = _S7310;
    *dpdepth_23 = _S7324;
    *dpconic_22 = _S7325;
    *dpopacity_24 = _S7319;
    *dprgb_23 = _S7336;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_75, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_25, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_24, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_24, DiffPair_float_0 * dpin_opacity_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_23, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_25, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_24, float fx_87, float fy_87, float cx_82, float cy_82, FixedArray<float, 10>  * dist_coeffs_90, uint image_width_75, uint image_height_75, float near_plane_59, float far_plane_59, float2  dpmean2d_27, float dpdepth_24, float3  dpconic_23, float dpopacity_25, float3  dprgb_24, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_37)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7337 = *dpmean_25;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7338 = *dpquat_24;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7339 = *dpscale_24;
    FixedArray<float3 , 7>  _S7340 = dpsv_sites_23->primal_0;
    FixedArray<float3 , 7>  _S7341 = dpsv_colors_23->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7342 = *dpR_25;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7343 = *dpt_24;
    float3  _S7344 = make_float3 (0.0f);
    float3  mean_c_64 = s_primal_ctx_mul_0((*dpR_25).primal_0, (*dpmean_25).primal_0) + (*dpt_24).primal_0;
    float _S7345 = length_1(mean_c_64);
    float3  _S7346 = s_primal_ctx_exp_0((*dpscale_24).primal_0);
    float _S7347 = (*dpquat_24).primal_0.y;
    float x2_70 = _S7347 * _S7347;
    float y2_70 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.z;
    float z2_85 = (*dpquat_24).primal_0.w * (*dpquat_24).primal_0.w;
    float xy_70 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.z;
    float xz_70 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.w;
    float yz_70 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.w;
    float wx_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.y;
    float wy_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.z;
    float wz_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.w;
    Matrix<float, 3, 3>  _S7348 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_70 + z2_85), 2.0f * (xy_70 + wz_70), 2.0f * (xz_70 - wy_70), 2.0f * (xy_70 - wz_70), 1.0f - 2.0f * (x2_70 + z2_85), 2.0f * (yz_70 + wx_70), 2.0f * (xz_70 + wy_70), 2.0f * (yz_70 - wx_70), 1.0f - 2.0f * (x2_70 + y2_70))));
    FixedArray<float3 , 7>  _S7349 = {
        _S7344, _S7344, _S7344, _S7344, _S7344, _S7344, _S7344
    };
    FixedArray<float, 7>  _S7350 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7351;
    (&_S7351)->p_0 = _S7349;
    (&_S7351)->w_mean_0 = _S7350;
    (&_S7351)->w_cov_0 = _S7350;
    (&_S7351)->p_0[int(0)] = (*dpmean_25).primal_0;
    float _S7352 = s_primal_ctx_sqrt_0(3.0f);
    float _S7353 = _S7352 * _S7346.x;
    float3  _S7354 = make_float3 (_S7353);
    float3  delta_165 = make_float3 (_S7353) * _S7348.rows[0U];
    float3  _S7355 = (*dpmean_25).primal_0 + delta_165;
    float3  _S7356 = (*dpmean_25).primal_0 - delta_165;
    float _S7357 = _S7352 * _S7346.y;
    float3  _S7358 = make_float3 (_S7357);
    float3  delta_166 = make_float3 (_S7357) * _S7348.rows[1U];
    float3  _S7359 = (*dpmean_25).primal_0 + delta_166;
    float3  _S7360 = (*dpmean_25).primal_0 - delta_166;
    float _S7361 = _S7352 * _S7346.z;
    float3  _S7362 = make_float3 (_S7361);
    float3  delta_167 = make_float3 (_S7361) * _S7348.rows[2U];
    float3  _S7363 = (*dpmean_25).primal_0 + delta_167;
    float3  _S7364 = (*dpmean_25).primal_0 - delta_167;
    SigmaPoints_0 _S7365 = _S7351;
    float _S7366 = *&(((&_s_diff_ctx_37->_S7287)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_37->_S7287)->rows + (int(1)))->x);
    float det_orig_65 = *&(((&_s_diff_ctx_37->_S7287)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_37->_S7287)->rows + (int(1)))->y) - _S7366;
    float _S7367 = *&(((&_s_diff_ctx_37->_S7287)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7368 = _s_diff_ctx_37->_S7287;
    *&(((&_S7368)->rows + (int(0)))->x) = _S7367;
    float _S7369 = *&(((&_s_diff_ctx_37->_S7287)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7368)->rows + (int(1)))->y) = _S7369;
    Matrix<float, 2, 2>  _S7370 = _S7368;
    Matrix<float, 2, 2>  _S7371 = _S7368;
    float det_blur_36 = _S7367 * _S7369 - _S7366;
    float _S7372 = det_orig_65 / det_blur_36;
    float _S7373 = det_blur_36 * det_blur_36;
    float _S7374 = s_primal_ctx_max_0(0.0f, _S7372);
    float _S7375 = s_primal_ctx_sqrt_0(_S7374);
    float _S7376 = - (*dpin_opacity_23).primal_0;
    float _S7377 = 1.0f + s_primal_ctx_exp_1(_S7376);
    float _S7378 = 1.0f / _S7377;
    float _S7379 = _S7377 * _S7377;
    float _S7380;
    if(antialiased_75)
    {
        _S7380 = _S7378 * _S7375;
    }
    else
    {
        _S7380 = _S7378;
    }
    float _S7381 = _S7380 / 0.00392156885936856f;
    float _S7382 = 2.0f * s_primal_ctx_log_0(_S7381);
    float _S7383 = s_primal_ctx_sqrt_0(_S7382);
    float _S7384 = _S7370.rows[int(0)].x;
    float _S7385 = _S7371.rows[int(1)].y;
    float _S7386 = mean_c_64.z;
    float _S7387 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S7388 = _S7387 * (_S7386 + _S7345);
    float3  _S7389 = - _S7339.primal_0;
    Matrix<float, 3, 3>  _S7390 = transpose_0(_S7342.primal_0);
    float3  _S7391 = _S7337.primal_0 - - s_primal_ctx_mul_0(_S7390, _S7343.primal_0);
    float _S7392 = s_primal_ctx_dot_0(_S7391, _S7391);
    float _S7393 = s_primal_ctx_rsqrt_0(_S7392);
    float3  _S7394 = make_float3 (_S7393);
    float3  _S7395 = _S7391 * make_float3 (_S7393);
    float _S7396 = s_primal_ctx_dot_0(_S7340[int(6)], _S7395);
    float _S7397 = s_primal_ctx_dot_0(_S7340[int(0)], _S7395) - _S7396;
    float _S7398 = s_primal_ctx_exp_1(_S7397);
    float3  _S7399 = make_float3 (_S7398);
    float _S7400 = s_primal_ctx_dot_0(_S7340[int(1)], _S7395) - _S7396;
    float _S7401 = s_primal_ctx_exp_1(_S7400);
    float3  _S7402 = make_float3 (_S7401);
    float _S7403 = s_primal_ctx_dot_0(_S7340[int(2)], _S7395) - _S7396;
    float _S7404 = s_primal_ctx_exp_1(_S7403);
    float3  _S7405 = make_float3 (_S7404);
    float _S7406 = s_primal_ctx_dot_0(_S7340[int(3)], _S7395) - _S7396;
    float _S7407 = s_primal_ctx_exp_1(_S7406);
    float3  _S7408 = make_float3 (_S7407);
    float _S7409 = s_primal_ctx_dot_0(_S7340[int(4)], _S7395) - _S7396;
    float _S7410 = s_primal_ctx_exp_1(_S7409);
    float3  _S7411 = make_float3 (_S7410);
    float _S7412 = s_primal_ctx_dot_0(_S7340[int(5)], _S7395) - _S7396;
    float _S7413 = s_primal_ctx_exp_1(_S7412);
    float3  _S7414 = make_float3 (_S7413);
    float _S7415 = s_primal_ctx_exp_1(0.0f);
    float3  _S7416 = make_float3 (_S7415);
    float total_w_11 = _S7398 + _S7401 + _S7404 + _S7407 + _S7410 + _S7413 + _S7415;
    float3  _S7417 = make_float3 (total_w_11);
    float3  total_c_11 = make_float3 (_S7398) * _S7341[int(0)] + make_float3 (_S7401) * _S7341[int(1)] + make_float3 (_S7404) * _S7341[int(2)] + make_float3 (_S7407) * _S7341[int(3)] + make_float3 (_S7410) * _S7341[int(4)] + make_float3 (_S7413) * _S7341[int(5)] + make_float3 (_S7415) * _S7341[int(6)];
    float3  _S7418 = make_float3 (total_w_11 * total_w_11);
    float3  _S7419 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7420;
    (&_S7420)->primal_0 = total_c_11 / make_float3 (total_w_11) + make_float3 (0.5f);
    (&_S7420)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7421;
    (&_S7421)->primal_0 = _S7419;
    (&_S7421)->differential_0 = _S7344;
    s_bwd_prop_max_0(&_S7420, &_S7421, dprgb_24);
    float3  _S7422 = _S7420.differential_0 / _S7418;
    float3  _S7423 = total_c_11 * - _S7422;
    float3  s_diff_total_c_T_11 = _S7417 * _S7422;
    float3  _S7424 = _S7416 * s_diff_total_c_T_11;
    float _S7425 = _S7423.x + _S7423.y + _S7423.z;
    float3  _S7426 = _S7414 * s_diff_total_c_T_11;
    float3  _S7427 = _S7341[int(5)] * s_diff_total_c_T_11;
    float _S7428 = _S7425 + _S7427.x + _S7427.y + _S7427.z;
    DiffPair_float_0 _S7429;
    (&_S7429)->primal_0 = _S7412;
    (&_S7429)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7429, _S7428);
    float _S7430 = - _S7429.differential_0;
    float3  _S7431 = _S7411 * s_diff_total_c_T_11;
    float3  _S7432 = _S7341[int(4)] * s_diff_total_c_T_11;
    float _S7433 = _S7425 + _S7432.x + _S7432.y + _S7432.z;
    DiffPair_float_0 _S7434;
    (&_S7434)->primal_0 = _S7409;
    (&_S7434)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7434, _S7433);
    float _S7435 = - _S7434.differential_0;
    float3  _S7436 = _S7408 * s_diff_total_c_T_11;
    float3  _S7437 = _S7341[int(3)] * s_diff_total_c_T_11;
    float _S7438 = _S7425 + _S7437.x + _S7437.y + _S7437.z;
    DiffPair_float_0 _S7439;
    (&_S7439)->primal_0 = _S7406;
    (&_S7439)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7439, _S7438);
    float _S7440 = - _S7439.differential_0;
    float3  _S7441 = _S7405 * s_diff_total_c_T_11;
    float3  _S7442 = _S7341[int(2)] * s_diff_total_c_T_11;
    float _S7443 = _S7425 + _S7442.x + _S7442.y + _S7442.z;
    DiffPair_float_0 _S7444;
    (&_S7444)->primal_0 = _S7403;
    (&_S7444)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7444, _S7443);
    float _S7445 = - _S7444.differential_0;
    float3  _S7446 = _S7402 * s_diff_total_c_T_11;
    float3  _S7447 = _S7341[int(1)] * s_diff_total_c_T_11;
    float _S7448 = _S7425 + _S7447.x + _S7447.y + _S7447.z;
    DiffPair_float_0 _S7449;
    (&_S7449)->primal_0 = _S7400;
    (&_S7449)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7449, _S7448);
    float _S7450 = - _S7449.differential_0;
    float3  _S7451 = _S7399 * s_diff_total_c_T_11;
    float3  _S7452 = _S7341[int(0)] * s_diff_total_c_T_11;
    float _S7453 = _S7425 + _S7452.x + _S7452.y + _S7452.z;
    DiffPair_float_0 _S7454;
    (&_S7454)->primal_0 = _S7397;
    (&_S7454)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7454, _S7453);
    float _S7455 = _S7430 + _S7435 + _S7440 + _S7445 + _S7450 + - _S7454.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7456;
    (&_S7456)->primal_0 = _S7340[int(6)];
    (&_S7456)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7457;
    (&_S7457)->primal_0 = _S7395;
    (&_S7457)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7456, &_S7457, _S7455);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7458;
    (&_S7458)->primal_0 = _S7340[int(5)];
    (&_S7458)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7459;
    (&_S7459)->primal_0 = _S7395;
    (&_S7459)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7458, &_S7459, _S7429.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7460;
    (&_S7460)->primal_0 = _S7340[int(4)];
    (&_S7460)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7461;
    (&_S7461)->primal_0 = _S7395;
    (&_S7461)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7460, &_S7461, _S7434.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7462;
    (&_S7462)->primal_0 = _S7340[int(3)];
    (&_S7462)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7463;
    (&_S7463)->primal_0 = _S7395;
    (&_S7463)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7462, &_S7463, _S7439.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7464;
    (&_S7464)->primal_0 = _S7340[int(2)];
    (&_S7464)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7465;
    (&_S7465)->primal_0 = _S7395;
    (&_S7465)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7464, &_S7465, _S7444.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7466;
    (&_S7466)->primal_0 = _S7340[int(1)];
    (&_S7466)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7467;
    (&_S7467)->primal_0 = _S7395;
    (&_S7467)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7466, &_S7467, _S7449.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7468;
    (&_S7468)->primal_0 = _S7340[int(0)];
    (&_S7468)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7469;
    (&_S7469)->primal_0 = _S7395;
    (&_S7469)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7468, &_S7469, _S7454.differential_0);
    float3  _S7470 = _S7457.differential_0 + _S7459.differential_0 + _S7461.differential_0 + _S7463.differential_0 + _S7465.differential_0 + _S7467.differential_0 + _S7469.differential_0;
    float3  _S7471 = _S7391 * _S7470;
    float3  _S7472 = _S7394 * _S7470;
    float _S7473 = _S7471.x + _S7471.y + _S7471.z;
    DiffPair_float_0 _S7474;
    (&_S7474)->primal_0 = _S7392;
    (&_S7474)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7474, _S7473);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7475;
    (&_S7475)->primal_0 = _S7391;
    (&_S7475)->differential_0 = _S7344;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7476;
    (&_S7476)->primal_0 = _S7391;
    (&_S7476)->differential_0 = _S7344;
    s_bwd_prop_dot_0(&_S7475, &_S7476, _S7474.differential_0);
    float3  _S7477 = _S7472 + _S7476.differential_0 + _S7475.differential_0;
    float3  _S7478 = - - _S7477;
    Matrix<float, 3, 3>  _S7479 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7480;
    (&_S7480)->primal_0 = _S7390;
    (&_S7480)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7481;
    (&_S7481)->primal_0 = _S7343.primal_0;
    (&_S7481)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7480, &_S7481, _S7478);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7482 = _S7481;
    Matrix<float, 3, 3>  _S7483 = transpose_0(_S7480.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7484;
    (&_S7484)->primal_0 = _S7389;
    (&_S7484)->differential_0 = _S7344;
    s_bwd_prop_exp_1(&_S7484, dpconic_23);
    float3  _S7485 = - _S7484.differential_0;
    DiffPair_float_0 _S7486;
    (&_S7486)->primal_0 = _S7386;
    (&_S7486)->differential_0 = 0.0f;
    DiffPair_float_0 _S7487;
    (&_S7487)->primal_0 = _S7388;
    (&_S7487)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7486, &_S7487, dpdepth_24);
    float _S7488 = _S7387 * _S7487.differential_0;
    float _S7489 = _S7486.differential_0 + _S7488;
    DiffPair_float_0 _S7490;
    (&_S7490)->primal_0 = _S7385;
    (&_S7490)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7490, 0.0f);
    DiffPair_float_0 _S7491;
    (&_S7491)->primal_0 = _S7384;
    (&_S7491)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7491, 0.0f);
    DiffPair_float_0 _S7492;
    (&_S7492)->primal_0 = 3.32999992370605469f;
    (&_S7492)->differential_0 = 0.0f;
    DiffPair_float_0 _S7493;
    (&_S7493)->primal_0 = _S7383;
    (&_S7493)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7492, &_S7493, 0.0f);
    DiffPair_float_0 _S7494;
    (&_S7494)->primal_0 = _S7382;
    (&_S7494)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7494, _S7493.differential_0);
    float _S7495 = 2.0f * _S7494.differential_0;
    DiffPair_float_0 _S7496;
    (&_S7496)->primal_0 = _S7381;
    (&_S7496)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7496, _S7495);
    float _S7497 = dpopacity_25 + 254.9999847412109375f * _S7496.differential_0;
    FixedArray<float3 , 7>  _S7498;
    _S7498[int(0)] = _S7344;
    _S7498[int(1)] = _S7344;
    _S7498[int(2)] = _S7344;
    _S7498[int(3)] = _S7344;
    _S7498[int(4)] = _S7344;
    _S7498[int(5)] = _S7344;
    _S7498[int(6)] = _S7344;
    _S7498[int(6)] = _S7424;
    _S7498[int(5)] = _S7426;
    _S7498[int(4)] = _S7431;
    _S7498[int(3)] = _S7436;
    _S7498[int(2)] = _S7441;
    _S7498[int(1)] = _S7446;
    _S7498[int(0)] = _S7451;
    FixedArray<float3 , 7>  _S7499 = {
        _S7498[int(0)], _S7498[int(1)], _S7498[int(2)], _S7498[int(3)], _S7498[int(4)], _S7498[int(5)], _S7498[int(6)]
    };
    FixedArray<float3 , 7>  _S7500;
    _S7500[int(0)] = _S7344;
    _S7500[int(1)] = _S7344;
    _S7500[int(2)] = _S7344;
    _S7500[int(3)] = _S7344;
    _S7500[int(4)] = _S7344;
    _S7500[int(5)] = _S7344;
    _S7500[int(6)] = _S7344;
    _S7500[int(6)] = _S7456.differential_0;
    _S7500[int(5)] = _S7458.differential_0;
    _S7500[int(4)] = _S7460.differential_0;
    _S7500[int(3)] = _S7462.differential_0;
    _S7500[int(2)] = _S7464.differential_0;
    _S7500[int(1)] = _S7466.differential_0;
    _S7500[int(0)] = _S7468.differential_0;
    FixedArray<float3 , 7>  _S7501 = {
        _S7500[int(0)], _S7500[int(1)], _S7500[int(2)], _S7500[int(3)], _S7500[int(4)], _S7500[int(5)], _S7500[int(6)]
    };
    float3  _S7502 = make_float3 (0.0f, 0.0f, _S7489);
    float2  _S7503 = make_float2 (0.0f, _S7490.differential_0);
    float2  _S7504 = make_float2 (_S7491.differential_0, 0.0f);
    float _S7505;
    if(antialiased_75)
    {
        float _S7506 = _S7378 * _S7497;
        _S7380 = _S7375 * _S7497;
        _S7505 = _S7506;
    }
    else
    {
        _S7380 = _S7497;
        _S7505 = 0.0f;
    }
    float _S7507 = - (_S7380 / _S7379);
    DiffPair_float_0 _S7508;
    (&_S7508)->primal_0 = _S7376;
    (&_S7508)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7508, _S7507);
    float _S7509 = - _S7508.differential_0;
    DiffPair_float_0 _S7510;
    (&_S7510)->primal_0 = _S7374;
    (&_S7510)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7510, _S7505);
    DiffPair_float_0 _S7511;
    (&_S7511)->primal_0 = 0.0f;
    (&_S7511)->differential_0 = 0.0f;
    DiffPair_float_0 _S7512;
    (&_S7512)->primal_0 = _S7372;
    (&_S7512)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7511, &_S7512, _S7510.differential_0);
    float _S7513 = _S7512.differential_0 / _S7373;
    float s_diff_det_blur_T_13 = det_orig_65 * - _S7513;
    float s_diff_det_orig_T_16 = det_blur_36 * _S7513;
    float _S7514 = - s_diff_det_blur_T_13;
    float _S7515 = _S7367 * s_diff_det_blur_T_13;
    float _S7516 = _S7369 * s_diff_det_blur_T_13;
    Matrix<float, 2, 2>  _S7517 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7518 = _S7517;
    _S7518[int(1)] = _S7503;
    _S7518[int(0)] = _S7504;
    float _S7519 = _S7516 + _S7518.rows[int(0)].x;
    float _S7520 = _S7514 + - s_diff_det_orig_T_16;
    float _S7521 = *&(((&_s_diff_ctx_37->_S7287)->rows + (int(0)))->y) * _S7520;
    float _S7522 = *&(((&_s_diff_ctx_37->_S7287)->rows + (int(1)))->x) * _S7520;
    float _S7523 = *&(((&_s_diff_ctx_37->_S7287)->rows + (int(1)))->y) * s_diff_det_orig_T_16;
    float _S7524 = _S7515 + _S7518.rows[int(1)].y + *&(((&_s_diff_ctx_37->_S7287)->rows + (int(0)))->x) * s_diff_det_orig_T_16;
    float2  _S7525 = make_float2 (0.0f);
    float2  _S7526 = _S7525;
    *&((&_S7526)->x) = _S7521;
    *&((&_S7526)->y) = _S7524;
    float _S7527 = _S7519 + _S7523;
    float2  _S7528 = _S7525;
    *&((&_S7528)->y) = _S7522;
    *&((&_S7528)->x) = _S7527;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7529;
    (&_S7529)->primal_0 = _S7342.primal_0;
    (&_S7529)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7530;
    (&_S7530)->primal_0 = _S7364;
    (&_S7530)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7529, &_S7530, _S7344);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7531;
    (&_S7531)->primal_0 = _S7342.primal_0;
    (&_S7531)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7532;
    (&_S7532)->primal_0 = _S7360;
    (&_S7532)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7531, &_S7532, _S7344);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7533;
    (&_S7533)->primal_0 = _S7342.primal_0;
    (&_S7533)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7534;
    (&_S7534)->primal_0 = _S7356;
    (&_S7534)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7533, &_S7534, _S7344);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7535;
    (&_S7535)->primal_0 = _S7342.primal_0;
    (&_S7535)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7536;
    (&_S7536)->primal_0 = _S7363;
    (&_S7536)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7535, &_S7536, _S7344);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7537;
    (&_S7537)->primal_0 = _S7342.primal_0;
    (&_S7537)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7538;
    (&_S7538)->primal_0 = _S7359;
    (&_S7538)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7537, &_S7538, _S7344);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7539;
    (&_S7539)->primal_0 = _S7342.primal_0;
    (&_S7539)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7540;
    (&_S7540)->primal_0 = _S7355;
    (&_S7540)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7539, &_S7540, _S7344);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7541;
    (&_S7541)->primal_0 = _S7342.primal_0;
    (&_S7541)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7542;
    (&_S7542)->primal_0 = _S7365.p_0[0U];
    (&_S7542)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7541, &_S7542, _S7344);
    float3  _S7543 = - _S7530.differential_0 + _S7536.differential_0;
    float3  _S7544 = _S7362 * _S7543;
    float3  _S7545 = _S7348.rows[2U] * _S7543;
    float _S7546 = _S7352 * (_S7545.x + _S7545.y + _S7545.z);
    float3  _S7547 = - _S7532.differential_0 + _S7538.differential_0;
    float3  _S7548 = _S7358 * _S7547;
    float3  _S7549 = _S7348.rows[1U] * _S7547;
    float _S7550 = _S7352 * (_S7549.x + _S7549.y + _S7549.z);
    float3  _S7551 = - _S7534.differential_0 + _S7540.differential_0;
    float3  _S7552 = _S7354 * _S7551;
    float3  _S7553 = _S7348.rows[0U] * _S7551;
    float _S7554 = _S7352 * (_S7553.x + _S7553.y + _S7553.z);
    Matrix<float, 3, 3>  _S7555 = _S7479;
    _S7555[2U] = _S7544;
    _S7555[1U] = _S7548;
    _S7555[0U] = _S7552;
    Matrix<float, 3, 3>  _S7556 = transpose_0(transpose_0(_S7555));
    float _S7557 = 2.0f * - _S7556.rows[int(2)].z;
    float _S7558 = 2.0f * _S7556.rows[int(2)].y;
    float _S7559 = 2.0f * _S7556.rows[int(2)].x;
    float _S7560 = 2.0f * _S7556.rows[int(1)].z;
    float _S7561 = 2.0f * - _S7556.rows[int(1)].y;
    float _S7562 = 2.0f * _S7556.rows[int(1)].x;
    float _S7563 = 2.0f * _S7556.rows[int(0)].z;
    float _S7564 = 2.0f * _S7556.rows[int(0)].y;
    float _S7565 = 2.0f * - _S7556.rows[int(0)].x;
    float _S7566 = - _S7562 + _S7564;
    float _S7567 = _S7559 + - _S7563;
    float _S7568 = - _S7558 + _S7560;
    float _S7569 = _S7558 + _S7560;
    float _S7570 = _S7559 + _S7563;
    float _S7571 = _S7562 + _S7564;
    float _S7572 = _S7338.primal_0.w * (_S7561 + _S7565);
    float _S7573 = _S7338.primal_0.z * (_S7557 + _S7565);
    float _S7574 = _S7338.primal_0.y * (_S7557 + _S7561);
    float _S7575 = _S7338.primal_0.x * _S7566 + _S7338.primal_0.z * _S7569 + _S7338.primal_0.y * _S7570 + _S7572 + _S7572;
    float _S7576 = _S7338.primal_0.x * _S7567 + _S7338.primal_0.w * _S7569 + _S7338.primal_0.y * _S7571 + _S7573 + _S7573;
    float _S7577 = _S7338.primal_0.x * _S7568 + _S7338.primal_0.w * _S7570 + _S7338.primal_0.z * _S7571 + _S7574 + _S7574;
    float _S7578 = _S7338.primal_0.w * _S7566 + _S7338.primal_0.z * _S7567 + _S7338.primal_0.y * _S7568;
    float3  _S7579 = _S7344;
    *&((&_S7579)->z) = _S7546;
    *&((&_S7579)->y) = _S7550;
    *&((&_S7579)->x) = _S7554;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7580;
    (&_S7580)->primal_0 = _S7339.primal_0;
    (&_S7580)->differential_0 = _S7344;
    s_bwd_prop_exp_1(&_S7580, _S7579);
    Matrix<float, 2, 2>  _S7581 = _S7517;
    _S7581[int(1)] = _S7526;
    _S7581[int(0)] = _S7528;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7582;
    (&_S7582)->primal_0 = mean_c_64;
    (&_S7582)->differential_0 = _S7344;
    s_bwd_length_impl_1(&_S7582, _S7488);
    float3  _S7583 = _S7582.differential_0 + _S7502;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7584;
    (&_S7584)->primal_0 = _S7342.primal_0;
    (&_S7584)->differential_0 = _S7479;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7585;
    (&_S7585)->primal_0 = _S7337.primal_0;
    (&_S7585)->differential_0 = _S7344;
    s_bwd_prop_mul_1(&_S7584, &_S7585, _S7583);
    float3  _S7586 = _S7583 + _S7482.differential_0;
    dpt_24->primal_0 = (*dpt_24).primal_0;
    dpt_24->differential_0 = _S7586;
    Matrix<float, 3, 3>  _S7587 = _S7529.differential_0 + _S7531.differential_0 + _S7533.differential_0 + _S7535.differential_0 + _S7537.differential_0 + _S7539.differential_0 + _S7541.differential_0 + _S7584.differential_0 + _S7483;
    dpR_25->primal_0 = (*dpR_25).primal_0;
    dpR_25->differential_0 = _S7587;
    dpsv_colors_23->primal_0 = dpsv_colors_23->primal_0;
    dpsv_colors_23->differential_0 = _S7499;
    dpsv_sites_23->primal_0 = dpsv_sites_23->primal_0;
    dpsv_sites_23->differential_0 = _S7501;
    dpin_opacity_23->primal_0 = (*dpin_opacity_23).primal_0;
    dpin_opacity_23->differential_0 = _S7509;
    float3  _S7588 = _S7580.differential_0 + _S7485;
    dpscale_24->primal_0 = (*dpscale_24).primal_0;
    dpscale_24->differential_0 = _S7588;
    float4  _S7589 = make_float4 (0.0f);
    *&((&_S7589)->w) = _S7575;
    *&((&_S7589)->z) = _S7576;
    *&((&_S7589)->y) = _S7577;
    *&((&_S7589)->x) = _S7578;
    dpquat_24->primal_0 = (*dpquat_24).primal_0;
    dpquat_24->differential_0 = _S7589;
    float3  _S7590 = _S7530.differential_0 + _S7536.differential_0 + _S7532.differential_0 + _S7538.differential_0 + _S7534.differential_0 + _S7540.differential_0 + _S7585.differential_0 + _S7477;
    dpmean_25->primal_0 = (*dpmean_25).primal_0;
    dpmean_25->differential_0 = _S7590;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_5(bool _S7591, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7592, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7593, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7594, DiffPair_float_0 * _S7595, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7596, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7597, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7598, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7599, float _S7600, float _S7601, float _S7602, float _S7603, FixedArray<float, 10>  * _S7604, uint _S7605, uint _S7606, float _S7607, float _S7608, float2  _S7609, float _S7610, float3  _S7611, float _S7612, float3  _S7613)
{
    FixedArray<float3 , 7>  _S7614 = _S7596->primal_0;
    FixedArray<float3 , 7>  _S7615 = _S7597->primal_0;
    int4  _S7616;
    float2  _S7617;
    float _S7618;
    float3  _S7619;
    float _S7620;
    float3  _S7621;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S7622;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(_S7591, (*_S7592).primal_0, (*_S7593).primal_0, (*_S7594).primal_0, (*_S7595).primal_0, &_S7614, &_S7615, (*_S7598).primal_0, (*_S7599).primal_0, _S7600, _S7601, _S7602, _S7603, _S7604, _S7605, _S7606, _S7607, _S7608, &_S7616, &_S7617, &_S7618, &_S7619, &_S7620, &_S7621, &_S7622);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S7623 = _S7622;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(_S7591, _S7592, _S7593, _S7594, _S7595, _S7596, _S7597, _S7598, _S7599, _S7600, _S7601, _S7602, _S7603, _S7604, _S7605, _S7606, _S7607, _S7608, _S7609, _S7610, _S7611, _S7612, _S7613, &_S7623);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_76, float3  mean_57, float4  quat_58, float3  scale_57, float in_opacity_52, FixedArray<float3 , 7>  * sv_sites_37, FixedArray<float3 , 7>  * sv_colors_37, Matrix<float, 3, 3>  R_59, float3  t_55, float fx_88, float fy_88, float cx_83, float cy_83, FixedArray<float, 10>  * dist_coeffs_91, uint image_width_76, uint image_height_76, float2  v_mean2d_16, float v_depth_17, float3  v_conic_16, float v_opacity_18, float3  v_rgb_17, float3  * v_mean_18, float4  * v_quat_17, float3  * v_scale_17, float * v_in_opacity_16, FixedArray<float3 , 7>  * v_sv_dirs_11, FixedArray<float3 , 7>  * v_sv_colors_11, Matrix<float, 3, 3>  * v_R_18, float3  * v_t_17)
{
    float3  _S7624 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_13;
    (&dp_mean_13)->primal_0 = mean_57;
    (&dp_mean_13)->differential_0 = _S7624;
    float4  _S7625 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_12;
    (&dp_quat_12)->primal_0 = quat_58;
    (&dp_quat_12)->differential_0 = _S7625;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_12;
    (&dp_scale_12)->primal_0 = scale_57;
    (&dp_scale_12)->differential_0 = _S7624;
    DiffPair_float_0 dp_in_opacity_11;
    (&dp_in_opacity_11)->primal_0 = in_opacity_52;
    (&dp_in_opacity_11)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S7626 = { _S7624, _S7624, _S7624, _S7624, _S7624, _S7624, _S7624 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_11;
    (&dp_sv_dirs_11)->primal_0 = *sv_sites_37;
    (&dp_sv_dirs_11)->differential_0 = _S7626;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_11;
    (&dp_sv_colors_11)->primal_0 = *sv_colors_37;
    (&dp_sv_colors_11)->differential_0 = _S7626;
    Matrix<float, 3, 3>  _S7627 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_13;
    (&dp_R_13)->primal_0 = R_59;
    (&dp_R_13)->differential_0 = _S7627;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_12;
    (&dp_t_12)->primal_0 = t_55;
    (&dp_t_12)->differential_0 = _S7624;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_5(antialiased_76, &dp_mean_13, &dp_quat_12, &dp_scale_12, &dp_in_opacity_11, &dp_sv_dirs_11, &dp_sv_colors_11, &dp_R_13, &dp_t_12, fx_88, fy_88, cx_83, cy_83, dist_coeffs_91, image_width_76, image_height_76, 0.0f, 1.00000001504746622e+30f, v_mean2d_16, v_depth_17, v_conic_16, v_opacity_18, v_rgb_17);
    *v_mean_18 = dp_mean_13.differential_0;
    *v_quat_17 = dp_quat_12.differential_0;
    *v_scale_17 = dp_scale_12.differential_0;
    *v_in_opacity_16 = dp_in_opacity_11.differential_0;
    *v_sv_dirs_11 = (&dp_sv_dirs_11)->differential_0;
    *v_sv_colors_11 = (&dp_sv_colors_11)->differential_0;
    *v_R_18 = dp_R_13.differential_0;
    *v_t_17 = dp_t_12.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_77, float3  mean_58, float4  quat_59, float3  scale_58, float in_opacity_53, FixedArray<float3 , 8>  * sv_sites_38, FixedArray<float3 , 8>  * sv_colors_38, Matrix<float, 3, 3>  R_60, float3  t_56, float fx_89, float fy_89, float cx_84, float cy_84, FixedArray<float, 10>  * dist_coeffs_92, uint image_width_77, uint image_height_77, float near_plane_60, float far_plane_60, int4  * aabb_xyxy_48, float2  * mean2d_45, float * depth_37, float3  * conic_36, float * opacity_40, float3  * rgb_38)
{
    float3  mean_c_65 = mul_0(R_60, mean_58) + t_56;
    float4  intrins_56 = make_float4 (fx_89, fy_89, cx_84, cy_84);
    float3  _S7628 = exp_0(scale_58);
    float x_67 = quat_59.y;
    float x2_71 = x_67 * x_67;
    float y2_71 = quat_59.z * quat_59.z;
    float z2_86 = quat_59.w * quat_59.w;
    float xy_71 = quat_59.y * quat_59.z;
    float xz_71 = quat_59.y * quat_59.w;
    float yz_71 = quat_59.z * quat_59.w;
    float wx_71 = quat_59.x * quat_59.y;
    float wy_71 = quat_59.x * quat_59.z;
    float wz_71 = quat_59.x * quat_59.w;
    Matrix<float, 3, 3>  _S7629 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_71 + z2_86), 2.0f * (xy_71 + wz_71), 2.0f * (xz_71 - wy_71), 2.0f * (xy_71 - wz_71), 1.0f - 2.0f * (x2_71 + z2_86), 2.0f * (yz_71 + wx_71), 2.0f * (xz_71 + wy_71), 2.0f * (yz_71 - wx_71), 1.0f - 2.0f * (x2_71 + y2_71))));
    SigmaPoints_0 ret_30;
    (&ret_30)->p_0[int(0)] = mean_58;
    (&ret_30)->w_mean_0[int(0)] = 0.0f;
    (&ret_30)->w_cov_0[int(0)] = 2.0f;
    float _S7630 = (F32_sqrt((3.0f)));
    float3  delta_168 = make_float3 (_S7630 * _S7628.x) * _S7629.rows[0U];
    float3  _S7631 = mean_58 + delta_168;
    float3  _S7632 = mean_58 - delta_168;
    float3  delta_169 = make_float3 (_S7630 * _S7628.y) * _S7629.rows[1U];
    float3  _S7633 = mean_58 + delta_169;
    float3  _S7634 = mean_58 - delta_169;
    float3  delta_170 = make_float3 (_S7630 * _S7628.z) * _S7629.rows[2U];
    float3  _S7635 = mean_58 + delta_170;
    float3  _S7636 = mean_58 - delta_170;
    (&ret_30)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_30)->p_0[0U] = mul_0(R_60, (&ret_30)->p_0[0U]) + t_56;
    (&ret_30)->p_0[1U] = mul_0(R_60, _S7631) + t_56;
    (&ret_30)->p_0[2U] = mul_0(R_60, _S7633) + t_56;
    (&ret_30)->p_0[3U] = mul_0(R_60, _S7635) + t_56;
    (&ret_30)->p_0[4U] = mul_0(R_60, _S7632) + t_56;
    (&ret_30)->p_0[5U] = mul_0(R_60, _S7634) + t_56;
    (&ret_30)->p_0[6U] = mul_0(R_60, _S7636) + t_56;
    SigmaPoints_0 _S7637 = ret_30;
    Matrix<float, 2, 2>  covar2d_36;
    bool _S7638 = persp_proj_3dgs_ut_1(&_S7637, intrins_56, dist_coeffs_92, image_width_77, image_height_77, &covar2d_36, mean2d_45);
    float det_orig_66 = *&(((&covar2d_36)->rows + (int(0)))->x) * *&(((&covar2d_36)->rows + (int(1)))->y) - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x);
    float _S7639 = *&(((&covar2d_36)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(0)))->x) = _S7639;
    float _S7640 = *&(((&covar2d_36)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(1)))->y) = _S7640;
    float compensation_37 = (F32_sqrt(((F32_max((0.0f), (det_orig_66 / (_S7639 * _S7640 - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x))))))));
    *opacity_40 = 1.0f / (1.0f + (F32_exp((- in_opacity_53))));
    if(antialiased_77)
    {
        *opacity_40 = *opacity_40 * compensation_37;
    }
    float extend_36 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_40 / 0.00392156885936856f)))))))));
    float radius_x_48 = extend_36 * (F32_sqrt((covar2d_36[int(0)].x)));
    float radius_y_48 = extend_36 * (F32_sqrt((covar2d_36[int(1)].y)));
    *aabb_xyxy_48 = make_int4 (int((F32_floor(((*mean2d_45).x - radius_x_48)))), int((F32_floor(((*mean2d_45).y - radius_y_48)))), int((F32_ceil(((*mean2d_45).x + radius_x_48)))), int((F32_ceil(((*mean2d_45).y + radius_y_48)))));
    float _S7641 = mean_c_65.z;
    *depth_37 = (F32_max((_S7641), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7641 + length_1(mean_c_65)))));
    *conic_36 = exp_0(- scale_58);
    float3  _S7642 = mean_58 - - mul_0(transpose_0(R_60), t_56);
    float3  _S7643 = _S7642 * make_float3 ((F32_rsqrt((dot_0(_S7642, _S7642)))));
    float _S7644 = dot_0((*sv_sites_38)[int(7)], _S7643);
    float w_124 = (F32_exp((dot_0((*sv_sites_38)[int(0)], _S7643) - _S7644)));
    float w_125 = (F32_exp((dot_0((*sv_sites_38)[int(1)], _S7643) - _S7644)));
    float w_126 = (F32_exp((dot_0((*sv_sites_38)[int(2)], _S7643) - _S7644)));
    float w_127 = (F32_exp((dot_0((*sv_sites_38)[int(3)], _S7643) - _S7644)));
    float w_128 = (F32_exp((dot_0((*sv_sites_38)[int(4)], _S7643) - _S7644)));
    float w_129 = (F32_exp((dot_0((*sv_sites_38)[int(5)], _S7643) - _S7644)));
    float w_130 = (F32_exp((dot_0((*sv_sites_38)[int(6)], _S7643) - _S7644)));
    float w_131 = (F32_exp((0.0f)));
    *rgb_38 = max_0((make_float3 (w_124) * (*sv_colors_38)[int(0)] + make_float3 (w_125) * (*sv_colors_38)[int(1)] + make_float3 (w_126) * (*sv_colors_38)[int(2)] + make_float3 (w_127) * (*sv_colors_38)[int(3)] + make_float3 (w_128) * (*sv_colors_38)[int(4)] + make_float3 (w_129) * (*sv_colors_38)[int(5)] + make_float3 (w_130) * (*sv_colors_38)[int(6)] + make_float3 (w_131) * (*sv_colors_38)[int(7)]) / make_float3 (w_124 + w_125 + w_126 + w_127 + w_128 + w_129 + w_130 + w_131) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_78, float3  mean_59, float4  quat_60, float3  scale_59, float in_opacity_54, FixedArray<float3 , 8>  * sv_sites_39, FixedArray<float3 , 8>  * sv_colors_39, Matrix<float, 3, 3>  R_61, float3  t_57, float fx_90, float fy_90, float cx_85, float cy_85, FixedArray<float, 10>  * dist_coeffs_93, uint image_width_78, uint image_height_78, float near_plane_61, float far_plane_61, int4  * aabb_xyxy_49, float2  * mean2d_46, float * depth_38, float3  * conic_37, float * opacity_41, float3  * rgb_39)
{
    float3  mean_c_66 = mul_0(R_61, mean_59) + t_57;
    float4  intrins_57 = make_float4 (fx_90, fy_90, cx_85, cy_85);
    float3  _S7645 = exp_0(scale_59);
    float x_68 = quat_60.y;
    float x2_72 = x_68 * x_68;
    float y2_72 = quat_60.z * quat_60.z;
    float z2_87 = quat_60.w * quat_60.w;
    float xy_72 = quat_60.y * quat_60.z;
    float xz_72 = quat_60.y * quat_60.w;
    float yz_72 = quat_60.z * quat_60.w;
    float wx_72 = quat_60.x * quat_60.y;
    float wy_72 = quat_60.x * quat_60.z;
    float wz_72 = quat_60.x * quat_60.w;
    Matrix<float, 3, 3>  _S7646 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_72 + z2_87), 2.0f * (xy_72 + wz_72), 2.0f * (xz_72 - wy_72), 2.0f * (xy_72 - wz_72), 1.0f - 2.0f * (x2_72 + z2_87), 2.0f * (yz_72 + wx_72), 2.0f * (xz_72 + wy_72), 2.0f * (yz_72 - wx_72), 1.0f - 2.0f * (x2_72 + y2_72))));
    SigmaPoints_0 ret_31;
    (&ret_31)->p_0[int(0)] = mean_59;
    (&ret_31)->w_mean_0[int(0)] = 0.0f;
    (&ret_31)->w_cov_0[int(0)] = 2.0f;
    float _S7647 = (F32_sqrt((3.0f)));
    float3  delta_171 = make_float3 (_S7647 * _S7645.x) * _S7646.rows[0U];
    float3  _S7648 = mean_59 + delta_171;
    float3  _S7649 = mean_59 - delta_171;
    float3  delta_172 = make_float3 (_S7647 * _S7645.y) * _S7646.rows[1U];
    float3  _S7650 = mean_59 + delta_172;
    float3  _S7651 = mean_59 - delta_172;
    float3  delta_173 = make_float3 (_S7647 * _S7645.z) * _S7646.rows[2U];
    float3  _S7652 = mean_59 + delta_173;
    float3  _S7653 = mean_59 - delta_173;
    (&ret_31)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_31)->p_0[0U] = mul_0(R_61, (&ret_31)->p_0[0U]) + t_57;
    (&ret_31)->p_0[1U] = mul_0(R_61, _S7648) + t_57;
    (&ret_31)->p_0[2U] = mul_0(R_61, _S7650) + t_57;
    (&ret_31)->p_0[3U] = mul_0(R_61, _S7652) + t_57;
    (&ret_31)->p_0[4U] = mul_0(R_61, _S7649) + t_57;
    (&ret_31)->p_0[5U] = mul_0(R_61, _S7651) + t_57;
    (&ret_31)->p_0[6U] = mul_0(R_61, _S7653) + t_57;
    SigmaPoints_0 _S7654 = ret_31;
    Matrix<float, 2, 2>  covar2d_37;
    bool _S7655 = fisheye_proj_3dgs_ut_1(&_S7654, intrins_57, dist_coeffs_93, &covar2d_37, mean2d_46);
    float det_orig_67 = *&(((&covar2d_37)->rows + (int(0)))->x) * *&(((&covar2d_37)->rows + (int(1)))->y) - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x);
    float _S7656 = *&(((&covar2d_37)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(0)))->x) = _S7656;
    float _S7657 = *&(((&covar2d_37)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(1)))->y) = _S7657;
    float compensation_38 = (F32_sqrt(((F32_max((0.0f), (det_orig_67 / (_S7656 * _S7657 - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x))))))));
    *opacity_41 = 1.0f / (1.0f + (F32_exp((- in_opacity_54))));
    if(antialiased_78)
    {
        *opacity_41 = *opacity_41 * compensation_38;
    }
    float extend_37 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_41 / 0.00392156885936856f)))))))));
    float radius_x_49 = extend_37 * (F32_sqrt((covar2d_37[int(0)].x)));
    float radius_y_49 = extend_37 * (F32_sqrt((covar2d_37[int(1)].y)));
    *aabb_xyxy_49 = make_int4 (int((F32_floor(((*mean2d_46).x - radius_x_49)))), int((F32_floor(((*mean2d_46).y - radius_y_49)))), int((F32_ceil(((*mean2d_46).x + radius_x_49)))), int((F32_ceil(((*mean2d_46).y + radius_y_49)))));
    float _S7658 = mean_c_66.z;
    *depth_38 = (F32_max((_S7658), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7658 + length_1(mean_c_66)))));
    *conic_37 = exp_0(- scale_59);
    float3  _S7659 = mean_59 - - mul_0(transpose_0(R_61), t_57);
    float3  _S7660 = _S7659 * make_float3 ((F32_rsqrt((dot_0(_S7659, _S7659)))));
    float _S7661 = dot_0((*sv_sites_39)[int(7)], _S7660);
    float w_132 = (F32_exp((dot_0((*sv_sites_39)[int(0)], _S7660) - _S7661)));
    float w_133 = (F32_exp((dot_0((*sv_sites_39)[int(1)], _S7660) - _S7661)));
    float w_134 = (F32_exp((dot_0((*sv_sites_39)[int(2)], _S7660) - _S7661)));
    float w_135 = (F32_exp((dot_0((*sv_sites_39)[int(3)], _S7660) - _S7661)));
    float w_136 = (F32_exp((dot_0((*sv_sites_39)[int(4)], _S7660) - _S7661)));
    float w_137 = (F32_exp((dot_0((*sv_sites_39)[int(5)], _S7660) - _S7661)));
    float w_138 = (F32_exp((dot_0((*sv_sites_39)[int(6)], _S7660) - _S7661)));
    float w_139 = (F32_exp((0.0f)));
    *rgb_39 = max_0((make_float3 (w_132) * (*sv_colors_39)[int(0)] + make_float3 (w_133) * (*sv_colors_39)[int(1)] + make_float3 (w_134) * (*sv_colors_39)[int(2)] + make_float3 (w_135) * (*sv_colors_39)[int(3)] + make_float3 (w_136) * (*sv_colors_39)[int(4)] + make_float3 (w_137) * (*sv_colors_39)[int(5)] + make_float3 (w_138) * (*sv_colors_39)[int(6)] + make_float3 (w_139) * (*sv_colors_39)[int(7)]) / make_float3 (w_132 + w_133 + w_134 + w_135 + w_136 + w_137 + w_138 + w_139) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0
{
    FixedArray<float3 , 8>  primal_0;
    FixedArray<float3 , 8>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S7662;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(bool antialiased_79, float3  dpmean_26, float4  dpquat_25, float3  dpscale_25, float dpin_opacity_24, FixedArray<float3 , 8>  * dpsv_sites_24, FixedArray<float3 , 8>  * dpsv_colors_24, Matrix<float, 3, 3>  dpR_26, float3  dpt_25, float fx_91, float fy_91, float cx_86, float cy_86, FixedArray<float, 10>  * dist_coeffs_94, uint image_width_79, uint image_height_79, float near_plane_62, float far_plane_62, int4  * aabb_xyxy_50, float2  * dpmean2d_28, float * dpdepth_25, float3  * dpconic_24, float * dpopacity_26, float3  * dprgb_25, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_38)
{
    Matrix<float, 2, 2>  _S7663 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_38->_S7662 = _S7663;
    float2  _S7664 = make_float2 (0.0f);
    float3  _S7665 = make_float3 (0.0f);
    float3  mean_c_67 = s_primal_ctx_mul_0(dpR_26, dpmean_26) + dpt_25;
    float4  intrins_58 = make_float4 (fx_91, fy_91, cx_86, cy_86);
    float3  _S7666 = s_primal_ctx_exp_0(dpscale_25);
    float _S7667 = dpquat_25.y;
    float x2_73 = _S7667 * _S7667;
    float y2_73 = dpquat_25.z * dpquat_25.z;
    float z2_88 = dpquat_25.w * dpquat_25.w;
    float xy_73 = dpquat_25.y * dpquat_25.z;
    float xz_73 = dpquat_25.y * dpquat_25.w;
    float yz_73 = dpquat_25.z * dpquat_25.w;
    float wx_73 = dpquat_25.x * dpquat_25.y;
    float wy_73 = dpquat_25.x * dpquat_25.z;
    float wz_73 = dpquat_25.x * dpquat_25.w;
    Matrix<float, 3, 3>  _S7668 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_73 + z2_88), 2.0f * (xy_73 + wz_73), 2.0f * (xz_73 - wy_73), 2.0f * (xy_73 - wz_73), 1.0f - 2.0f * (x2_73 + z2_88), 2.0f * (yz_73 + wx_73), 2.0f * (xz_73 + wy_73), 2.0f * (yz_73 - wx_73), 1.0f - 2.0f * (x2_73 + y2_73))));
    FixedArray<float3 , 7>  _S7669 = {
        _S7665, _S7665, _S7665, _S7665, _S7665, _S7665, _S7665
    };
    FixedArray<float, 7>  _S7670 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7671;
    (&_S7671)->p_0 = _S7669;
    (&_S7671)->w_mean_0 = _S7670;
    (&_S7671)->w_cov_0 = _S7670;
    (&_S7671)->p_0[int(0)] = dpmean_26;
    SigmaPoints_0 _S7672 = _S7671;
    (&_S7672)->w_mean_0[int(0)] = 0.0f;
    (&_S7672)->w_cov_0[int(0)] = 2.0f;
    float _S7673 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_174 = make_float3 (_S7673 * _S7666.x) * _S7668.rows[0U];
    float3  _S7674 = dpmean_26 + delta_174;
    float3  _S7675 = dpmean_26 - delta_174;
    float3  delta_175 = make_float3 (_S7673 * _S7666.y) * _S7668.rows[1U];
    float3  _S7676 = dpmean_26 + delta_175;
    float3  _S7677 = dpmean_26 - delta_175;
    float3  delta_176 = make_float3 (_S7673 * _S7666.z) * _S7668.rows[2U];
    float3  _S7678 = dpmean_26 + delta_176;
    float3  _S7679 = dpmean_26 - delta_176;
    (&_S7672)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7672)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7672)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7672)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7672)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7672)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7672)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7672)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7672)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7672)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7672)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7672)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7672)->p_0[0U] = s_primal_ctx_mul_0(dpR_26, _S7671.p_0[0U]) + dpt_25;
    (&_S7672)->p_0[1U] = s_primal_ctx_mul_0(dpR_26, _S7674) + dpt_25;
    (&_S7672)->p_0[2U] = s_primal_ctx_mul_0(dpR_26, _S7676) + dpt_25;
    (&_S7672)->p_0[3U] = s_primal_ctx_mul_0(dpR_26, _S7678) + dpt_25;
    (&_S7672)->p_0[4U] = s_primal_ctx_mul_0(dpR_26, _S7675) + dpt_25;
    (&_S7672)->p_0[5U] = s_primal_ctx_mul_0(dpR_26, _S7677) + dpt_25;
    (&_S7672)->p_0[6U] = s_primal_ctx_mul_0(dpR_26, _S7679) + dpt_25;
    float2  _S7680 = _S7664;
    Matrix<float, 2, 2>  _S7681 = _S7663;
    SigmaPoints_0 _S7682 = _S7672;
    bool _S7683 = persp_proj_3dgs_ut_1(&_S7682, intrins_58, dist_coeffs_94, image_width_79, image_height_79, &_S7681, &_S7680);
    _s_diff_ctx_38->_S7662 = _S7681;
    float2  _S7684 = _S7680;
    float _S7685 = _S7681.rows[int(0)].y * _S7681.rows[int(1)].x;
    float det_orig_68 = _S7681.rows[int(0)].x * _S7681.rows[int(1)].y - _S7685;
    float _S7686 = _S7681.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7687 = _S7681;
    *&(((&_S7687)->rows + (int(0)))->x) = _S7686;
    float _S7688 = _S7681.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7687)->rows + (int(1)))->y) = _S7688;
    Matrix<float, 2, 2>  _S7689 = _S7687;
    Matrix<float, 2, 2>  _S7690 = _S7687;
    float _S7691 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_68 / (_S7686 * _S7688 - _S7685)));
    float _S7692 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_24));
    float _S7693;
    if(antialiased_79)
    {
        _S7693 = _S7692 * _S7691;
    }
    else
    {
        _S7693 = _S7692;
    }
    float _S7694 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7693 / 0.00392156885936856f)));
    float radius_x_50 = _S7694 * s_primal_ctx_sqrt_0(_S7689.rows[int(0)].x);
    float radius_y_50 = _S7694 * s_primal_ctx_sqrt_0(_S7690.rows[int(1)].y);
    float _S7695 = _S7684.x;
    float _S7696 = _S7684.y;
    float _S7697 = mean_c_67.z;
    float _S7698 = s_primal_ctx_max_0(_S7697, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S7697 + length_1(mean_c_67)));
    float3  _S7699 = s_primal_ctx_exp_0(- dpscale_25);
    float3  _S7700 = dpmean_26 - - s_primal_ctx_mul_0(transpose_0(dpR_26), dpt_25);
    float3  _S7701 = _S7700 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7700, _S7700)));
    float _S7702 = s_primal_ctx_dot_0((*dpsv_sites_24)[int(7)], _S7701);
    float _S7703 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(0)], _S7701) - _S7702);
    float _S7704 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(1)], _S7701) - _S7702);
    float _S7705 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(2)], _S7701) - _S7702);
    float _S7706 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(3)], _S7701) - _S7702);
    float _S7707 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(4)], _S7701) - _S7702);
    float _S7708 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(5)], _S7701) - _S7702);
    float _S7709 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(6)], _S7701) - _S7702);
    float _S7710 = s_primal_ctx_exp_1(0.0f);
    float3  _S7711 = s_primal_ctx_max_1((make_float3 (_S7703) * (*dpsv_colors_24)[int(0)] + make_float3 (_S7704) * (*dpsv_colors_24)[int(1)] + make_float3 (_S7705) * (*dpsv_colors_24)[int(2)] + make_float3 (_S7706) * (*dpsv_colors_24)[int(3)] + make_float3 (_S7707) * (*dpsv_colors_24)[int(4)] + make_float3 (_S7708) * (*dpsv_colors_24)[int(5)] + make_float3 (_S7709) * (*dpsv_colors_24)[int(6)] + make_float3 (_S7710) * (*dpsv_colors_24)[int(7)]) / make_float3 (_S7703 + _S7704 + _S7705 + _S7706 + _S7707 + _S7708 + _S7709 + _S7710) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_50 = make_int4 (int((F32_floor((_S7695 - radius_x_50)))), int((F32_floor((_S7696 - radius_y_50)))), int((F32_ceil((_S7695 + radius_x_50)))), int((F32_ceil((_S7696 + radius_y_50)))));
    *dpmean2d_28 = _S7684;
    *dpdepth_25 = _S7698;
    *dpconic_24 = _S7699;
    *dpopacity_26 = _S7693;
    *dprgb_25 = _S7711;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(bool antialiased_80, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_27, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_26, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_26, DiffPair_float_0 * dpin_opacity_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_25, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_27, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_26, float fx_92, float fy_92, float cx_87, float cy_87, FixedArray<float, 10>  * dist_coeffs_95, uint image_width_80, uint image_height_80, float near_plane_63, float far_plane_63, float2  dpmean2d_29, float dpdepth_26, float3  dpconic_25, float dpopacity_27, float3  dprgb_26, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_39)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7712 = *dpmean_27;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7713 = *dpquat_26;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7714 = *dpscale_26;
    FixedArray<float3 , 8>  _S7715 = dpsv_sites_25->primal_0;
    FixedArray<float3 , 8>  _S7716 = dpsv_colors_25->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7717 = *dpR_27;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7718 = *dpt_26;
    float3  _S7719 = make_float3 (0.0f);
    float3  mean_c_68 = s_primal_ctx_mul_0((*dpR_27).primal_0, (*dpmean_27).primal_0) + (*dpt_26).primal_0;
    float3  _S7720 = s_primal_ctx_exp_0((*dpscale_26).primal_0);
    float _S7721 = (*dpquat_26).primal_0.y;
    float x2_74 = _S7721 * _S7721;
    float y2_74 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.z;
    float z2_89 = (*dpquat_26).primal_0.w * (*dpquat_26).primal_0.w;
    float xy_74 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.z;
    float xz_74 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.w;
    float yz_74 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.w;
    float wx_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.y;
    float wy_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.z;
    float wz_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.w;
    Matrix<float, 3, 3>  _S7722 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_74 + z2_89), 2.0f * (xy_74 + wz_74), 2.0f * (xz_74 - wy_74), 2.0f * (xy_74 - wz_74), 1.0f - 2.0f * (x2_74 + z2_89), 2.0f * (yz_74 + wx_74), 2.0f * (xz_74 + wy_74), 2.0f * (yz_74 - wx_74), 1.0f - 2.0f * (x2_74 + y2_74))));
    FixedArray<float3 , 7>  _S7723 = {
        _S7719, _S7719, _S7719, _S7719, _S7719, _S7719, _S7719
    };
    FixedArray<float, 7>  _S7724 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7725;
    (&_S7725)->p_0 = _S7723;
    (&_S7725)->w_mean_0 = _S7724;
    (&_S7725)->w_cov_0 = _S7724;
    (&_S7725)->p_0[int(0)] = (*dpmean_27).primal_0;
    float _S7726 = s_primal_ctx_sqrt_0(3.0f);
    float _S7727 = _S7726 * _S7720.x;
    float3  _S7728 = make_float3 (_S7727);
    float3  delta_177 = make_float3 (_S7727) * _S7722.rows[0U];
    float3  _S7729 = (*dpmean_27).primal_0 + delta_177;
    float3  _S7730 = (*dpmean_27).primal_0 - delta_177;
    float _S7731 = _S7726 * _S7720.y;
    float3  _S7732 = make_float3 (_S7731);
    float3  delta_178 = make_float3 (_S7731) * _S7722.rows[1U];
    float3  _S7733 = (*dpmean_27).primal_0 + delta_178;
    float3  _S7734 = (*dpmean_27).primal_0 - delta_178;
    float _S7735 = _S7726 * _S7720.z;
    float3  _S7736 = make_float3 (_S7735);
    float3  delta_179 = make_float3 (_S7735) * _S7722.rows[2U];
    float3  _S7737 = (*dpmean_27).primal_0 + delta_179;
    float3  _S7738 = (*dpmean_27).primal_0 - delta_179;
    SigmaPoints_0 _S7739 = _S7725;
    float _S7740 = *&(((&_s_diff_ctx_39->_S7662)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_39->_S7662)->rows + (int(1)))->x);
    float det_orig_69 = *&(((&_s_diff_ctx_39->_S7662)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_39->_S7662)->rows + (int(1)))->y) - _S7740;
    float _S7741 = *&(((&_s_diff_ctx_39->_S7662)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7742 = _s_diff_ctx_39->_S7662;
    *&(((&_S7742)->rows + (int(0)))->x) = _S7741;
    float _S7743 = *&(((&_s_diff_ctx_39->_S7662)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7742)->rows + (int(1)))->y) = _S7743;
    Matrix<float, 2, 2>  _S7744 = _S7742;
    Matrix<float, 2, 2>  _S7745 = _S7742;
    float det_blur_37 = _S7741 * _S7743 - _S7740;
    float _S7746 = det_orig_69 / det_blur_37;
    float _S7747 = det_blur_37 * det_blur_37;
    float _S7748 = s_primal_ctx_max_0(0.0f, _S7746);
    float _S7749 = s_primal_ctx_sqrt_0(_S7748);
    float _S7750 = - (*dpin_opacity_25).primal_0;
    float _S7751 = 1.0f + s_primal_ctx_exp_1(_S7750);
    float _S7752 = 1.0f / _S7751;
    float _S7753 = _S7751 * _S7751;
    float _S7754;
    if(antialiased_80)
    {
        _S7754 = _S7752 * _S7749;
    }
    else
    {
        _S7754 = _S7752;
    }
    float _S7755 = _S7754 / 0.00392156885936856f;
    float _S7756 = 2.0f * s_primal_ctx_log_0(_S7755);
    float _S7757 = s_primal_ctx_sqrt_0(_S7756);
    float _S7758 = _S7744.rows[int(0)].x;
    float _S7759 = _S7745.rows[int(1)].y;
    float _S7760 = mean_c_68.z;
    float _S7761 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S7762 = _S7761 * (_S7760 + length_1(mean_c_68));
    float3  _S7763 = - _S7714.primal_0;
    Matrix<float, 3, 3>  _S7764 = transpose_0(_S7717.primal_0);
    float3  _S7765 = _S7712.primal_0 - - s_primal_ctx_mul_0(_S7764, _S7718.primal_0);
    float _S7766 = s_primal_ctx_dot_0(_S7765, _S7765);
    float _S7767 = s_primal_ctx_rsqrt_0(_S7766);
    float3  _S7768 = make_float3 (_S7767);
    float3  _S7769 = _S7765 * make_float3 (_S7767);
    float _S7770 = s_primal_ctx_dot_0(_S7715[int(7)], _S7769);
    float _S7771 = s_primal_ctx_dot_0(_S7715[int(0)], _S7769) - _S7770;
    float _S7772 = s_primal_ctx_exp_1(_S7771);
    float3  _S7773 = make_float3 (_S7772);
    float _S7774 = s_primal_ctx_dot_0(_S7715[int(1)], _S7769) - _S7770;
    float _S7775 = s_primal_ctx_exp_1(_S7774);
    float3  _S7776 = make_float3 (_S7775);
    float _S7777 = s_primal_ctx_dot_0(_S7715[int(2)], _S7769) - _S7770;
    float _S7778 = s_primal_ctx_exp_1(_S7777);
    float3  _S7779 = make_float3 (_S7778);
    float _S7780 = s_primal_ctx_dot_0(_S7715[int(3)], _S7769) - _S7770;
    float _S7781 = s_primal_ctx_exp_1(_S7780);
    float3  _S7782 = make_float3 (_S7781);
    float _S7783 = s_primal_ctx_dot_0(_S7715[int(4)], _S7769) - _S7770;
    float _S7784 = s_primal_ctx_exp_1(_S7783);
    float3  _S7785 = make_float3 (_S7784);
    float _S7786 = s_primal_ctx_dot_0(_S7715[int(5)], _S7769) - _S7770;
    float _S7787 = s_primal_ctx_exp_1(_S7786);
    float3  _S7788 = make_float3 (_S7787);
    float _S7789 = s_primal_ctx_dot_0(_S7715[int(6)], _S7769) - _S7770;
    float _S7790 = s_primal_ctx_exp_1(_S7789);
    float3  _S7791 = make_float3 (_S7790);
    float _S7792 = s_primal_ctx_exp_1(0.0f);
    float3  _S7793 = make_float3 (_S7792);
    float total_w_12 = _S7772 + _S7775 + _S7778 + _S7781 + _S7784 + _S7787 + _S7790 + _S7792;
    float3  _S7794 = make_float3 (total_w_12);
    float3  total_c_12 = make_float3 (_S7772) * _S7716[int(0)] + make_float3 (_S7775) * _S7716[int(1)] + make_float3 (_S7778) * _S7716[int(2)] + make_float3 (_S7781) * _S7716[int(3)] + make_float3 (_S7784) * _S7716[int(4)] + make_float3 (_S7787) * _S7716[int(5)] + make_float3 (_S7790) * _S7716[int(6)] + make_float3 (_S7792) * _S7716[int(7)];
    float3  _S7795 = make_float3 (total_w_12 * total_w_12);
    float3  _S7796 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7797;
    (&_S7797)->primal_0 = total_c_12 / make_float3 (total_w_12) + make_float3 (0.5f);
    (&_S7797)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7798;
    (&_S7798)->primal_0 = _S7796;
    (&_S7798)->differential_0 = _S7719;
    s_bwd_prop_max_0(&_S7797, &_S7798, dprgb_26);
    float3  _S7799 = _S7797.differential_0 / _S7795;
    float3  _S7800 = total_c_12 * - _S7799;
    float3  s_diff_total_c_T_12 = _S7794 * _S7799;
    float3  _S7801 = _S7793 * s_diff_total_c_T_12;
    float _S7802 = _S7800.x + _S7800.y + _S7800.z;
    float3  _S7803 = _S7791 * s_diff_total_c_T_12;
    float3  _S7804 = _S7716[int(6)] * s_diff_total_c_T_12;
    float _S7805 = _S7802 + _S7804.x + _S7804.y + _S7804.z;
    DiffPair_float_0 _S7806;
    (&_S7806)->primal_0 = _S7789;
    (&_S7806)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7806, _S7805);
    float _S7807 = - _S7806.differential_0;
    float3  _S7808 = _S7788 * s_diff_total_c_T_12;
    float3  _S7809 = _S7716[int(5)] * s_diff_total_c_T_12;
    float _S7810 = _S7802 + _S7809.x + _S7809.y + _S7809.z;
    DiffPair_float_0 _S7811;
    (&_S7811)->primal_0 = _S7786;
    (&_S7811)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7811, _S7810);
    float _S7812 = - _S7811.differential_0;
    float3  _S7813 = _S7785 * s_diff_total_c_T_12;
    float3  _S7814 = _S7716[int(4)] * s_diff_total_c_T_12;
    float _S7815 = _S7802 + _S7814.x + _S7814.y + _S7814.z;
    DiffPair_float_0 _S7816;
    (&_S7816)->primal_0 = _S7783;
    (&_S7816)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7816, _S7815);
    float _S7817 = - _S7816.differential_0;
    float3  _S7818 = _S7782 * s_diff_total_c_T_12;
    float3  _S7819 = _S7716[int(3)] * s_diff_total_c_T_12;
    float _S7820 = _S7802 + _S7819.x + _S7819.y + _S7819.z;
    DiffPair_float_0 _S7821;
    (&_S7821)->primal_0 = _S7780;
    (&_S7821)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7821, _S7820);
    float _S7822 = - _S7821.differential_0;
    float3  _S7823 = _S7779 * s_diff_total_c_T_12;
    float3  _S7824 = _S7716[int(2)] * s_diff_total_c_T_12;
    float _S7825 = _S7802 + _S7824.x + _S7824.y + _S7824.z;
    DiffPair_float_0 _S7826;
    (&_S7826)->primal_0 = _S7777;
    (&_S7826)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7826, _S7825);
    float _S7827 = - _S7826.differential_0;
    float3  _S7828 = _S7776 * s_diff_total_c_T_12;
    float3  _S7829 = _S7716[int(1)] * s_diff_total_c_T_12;
    float _S7830 = _S7802 + _S7829.x + _S7829.y + _S7829.z;
    DiffPair_float_0 _S7831;
    (&_S7831)->primal_0 = _S7774;
    (&_S7831)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7831, _S7830);
    float _S7832 = - _S7831.differential_0;
    float3  _S7833 = _S7773 * s_diff_total_c_T_12;
    float3  _S7834 = _S7716[int(0)] * s_diff_total_c_T_12;
    float _S7835 = _S7802 + _S7834.x + _S7834.y + _S7834.z;
    DiffPair_float_0 _S7836;
    (&_S7836)->primal_0 = _S7771;
    (&_S7836)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7836, _S7835);
    float _S7837 = _S7807 + _S7812 + _S7817 + _S7822 + _S7827 + _S7832 + - _S7836.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7838;
    (&_S7838)->primal_0 = _S7715[int(7)];
    (&_S7838)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7839;
    (&_S7839)->primal_0 = _S7769;
    (&_S7839)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7838, &_S7839, _S7837);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7840;
    (&_S7840)->primal_0 = _S7715[int(6)];
    (&_S7840)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7841;
    (&_S7841)->primal_0 = _S7769;
    (&_S7841)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7840, &_S7841, _S7806.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7842;
    (&_S7842)->primal_0 = _S7715[int(5)];
    (&_S7842)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7843;
    (&_S7843)->primal_0 = _S7769;
    (&_S7843)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7842, &_S7843, _S7811.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7844;
    (&_S7844)->primal_0 = _S7715[int(4)];
    (&_S7844)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7845;
    (&_S7845)->primal_0 = _S7769;
    (&_S7845)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7844, &_S7845, _S7816.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7846;
    (&_S7846)->primal_0 = _S7715[int(3)];
    (&_S7846)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7847;
    (&_S7847)->primal_0 = _S7769;
    (&_S7847)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7846, &_S7847, _S7821.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7848;
    (&_S7848)->primal_0 = _S7715[int(2)];
    (&_S7848)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7849;
    (&_S7849)->primal_0 = _S7769;
    (&_S7849)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7848, &_S7849, _S7826.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7850;
    (&_S7850)->primal_0 = _S7715[int(1)];
    (&_S7850)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7851;
    (&_S7851)->primal_0 = _S7769;
    (&_S7851)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7850, &_S7851, _S7831.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7852;
    (&_S7852)->primal_0 = _S7715[int(0)];
    (&_S7852)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7853;
    (&_S7853)->primal_0 = _S7769;
    (&_S7853)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7852, &_S7853, _S7836.differential_0);
    float3  _S7854 = _S7839.differential_0 + _S7841.differential_0 + _S7843.differential_0 + _S7845.differential_0 + _S7847.differential_0 + _S7849.differential_0 + _S7851.differential_0 + _S7853.differential_0;
    float3  _S7855 = _S7765 * _S7854;
    float3  _S7856 = _S7768 * _S7854;
    float _S7857 = _S7855.x + _S7855.y + _S7855.z;
    DiffPair_float_0 _S7858;
    (&_S7858)->primal_0 = _S7766;
    (&_S7858)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7858, _S7857);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7859;
    (&_S7859)->primal_0 = _S7765;
    (&_S7859)->differential_0 = _S7719;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7860;
    (&_S7860)->primal_0 = _S7765;
    (&_S7860)->differential_0 = _S7719;
    s_bwd_prop_dot_0(&_S7859, &_S7860, _S7858.differential_0);
    float3  _S7861 = _S7856 + _S7860.differential_0 + _S7859.differential_0;
    float3  _S7862 = - - _S7861;
    Matrix<float, 3, 3>  _S7863 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7864;
    (&_S7864)->primal_0 = _S7764;
    (&_S7864)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7865;
    (&_S7865)->primal_0 = _S7718.primal_0;
    (&_S7865)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7864, &_S7865, _S7862);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7866 = _S7865;
    Matrix<float, 3, 3>  _S7867 = transpose_0(_S7864.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7868;
    (&_S7868)->primal_0 = _S7763;
    (&_S7868)->differential_0 = _S7719;
    s_bwd_prop_exp_1(&_S7868, dpconic_25);
    float3  _S7869 = - _S7868.differential_0;
    DiffPair_float_0 _S7870;
    (&_S7870)->primal_0 = _S7760;
    (&_S7870)->differential_0 = 0.0f;
    DiffPair_float_0 _S7871;
    (&_S7871)->primal_0 = _S7762;
    (&_S7871)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7870, &_S7871, dpdepth_26);
    float _S7872 = _S7761 * _S7871.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7873;
    (&_S7873)->primal_0 = mean_c_68;
    (&_S7873)->differential_0 = _S7719;
    s_bwd_length_impl_1(&_S7873, _S7872);
    float _S7874 = _S7870.differential_0 + _S7872;
    DiffPair_float_0 _S7875;
    (&_S7875)->primal_0 = _S7759;
    (&_S7875)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7875, 0.0f);
    DiffPair_float_0 _S7876;
    (&_S7876)->primal_0 = _S7758;
    (&_S7876)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7876, 0.0f);
    DiffPair_float_0 _S7877;
    (&_S7877)->primal_0 = 3.32999992370605469f;
    (&_S7877)->differential_0 = 0.0f;
    DiffPair_float_0 _S7878;
    (&_S7878)->primal_0 = _S7757;
    (&_S7878)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7877, &_S7878, 0.0f);
    DiffPair_float_0 _S7879;
    (&_S7879)->primal_0 = _S7756;
    (&_S7879)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7879, _S7878.differential_0);
    float _S7880 = 2.0f * _S7879.differential_0;
    DiffPair_float_0 _S7881;
    (&_S7881)->primal_0 = _S7755;
    (&_S7881)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7881, _S7880);
    float _S7882 = dpopacity_27 + 254.9999847412109375f * _S7881.differential_0;
    FixedArray<float3 , 8>  _S7883;
    _S7883[int(0)] = _S7719;
    _S7883[int(1)] = _S7719;
    _S7883[int(2)] = _S7719;
    _S7883[int(3)] = _S7719;
    _S7883[int(4)] = _S7719;
    _S7883[int(5)] = _S7719;
    _S7883[int(6)] = _S7719;
    _S7883[int(7)] = _S7719;
    _S7883[int(7)] = _S7801;
    _S7883[int(6)] = _S7803;
    _S7883[int(5)] = _S7808;
    _S7883[int(4)] = _S7813;
    _S7883[int(3)] = _S7818;
    _S7883[int(2)] = _S7823;
    _S7883[int(1)] = _S7828;
    _S7883[int(0)] = _S7833;
    FixedArray<float3 , 8>  _S7884 = {
        _S7883[int(0)], _S7883[int(1)], _S7883[int(2)], _S7883[int(3)], _S7883[int(4)], _S7883[int(5)], _S7883[int(6)], _S7883[int(7)]
    };
    FixedArray<float3 , 8>  _S7885;
    _S7885[int(0)] = _S7719;
    _S7885[int(1)] = _S7719;
    _S7885[int(2)] = _S7719;
    _S7885[int(3)] = _S7719;
    _S7885[int(4)] = _S7719;
    _S7885[int(5)] = _S7719;
    _S7885[int(6)] = _S7719;
    _S7885[int(7)] = _S7719;
    _S7885[int(7)] = _S7838.differential_0;
    _S7885[int(6)] = _S7840.differential_0;
    _S7885[int(5)] = _S7842.differential_0;
    _S7885[int(4)] = _S7844.differential_0;
    _S7885[int(3)] = _S7846.differential_0;
    _S7885[int(2)] = _S7848.differential_0;
    _S7885[int(1)] = _S7850.differential_0;
    _S7885[int(0)] = _S7852.differential_0;
    FixedArray<float3 , 8>  _S7886 = {
        _S7885[int(0)], _S7885[int(1)], _S7885[int(2)], _S7885[int(3)], _S7885[int(4)], _S7885[int(5)], _S7885[int(6)], _S7885[int(7)]
    };
    float3  _S7887 = _S7873.differential_0 + make_float3 (0.0f, 0.0f, _S7874);
    float2  _S7888 = make_float2 (0.0f, _S7875.differential_0);
    float2  _S7889 = make_float2 (_S7876.differential_0, 0.0f);
    float _S7890;
    if(antialiased_80)
    {
        float _S7891 = _S7752 * _S7882;
        _S7754 = _S7749 * _S7882;
        _S7890 = _S7891;
    }
    else
    {
        _S7754 = _S7882;
        _S7890 = 0.0f;
    }
    float _S7892 = - (_S7754 / _S7753);
    DiffPair_float_0 _S7893;
    (&_S7893)->primal_0 = _S7750;
    (&_S7893)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7893, _S7892);
    float _S7894 = - _S7893.differential_0;
    DiffPair_float_0 _S7895;
    (&_S7895)->primal_0 = _S7748;
    (&_S7895)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7895, _S7890);
    DiffPair_float_0 _S7896;
    (&_S7896)->primal_0 = 0.0f;
    (&_S7896)->differential_0 = 0.0f;
    DiffPair_float_0 _S7897;
    (&_S7897)->primal_0 = _S7746;
    (&_S7897)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7896, &_S7897, _S7895.differential_0);
    float _S7898 = _S7897.differential_0 / _S7747;
    float s_diff_det_blur_T_14 = det_orig_69 * - _S7898;
    float s_diff_det_orig_T_17 = det_blur_37 * _S7898;
    float _S7899 = - s_diff_det_blur_T_14;
    float _S7900 = _S7741 * s_diff_det_blur_T_14;
    float _S7901 = _S7743 * s_diff_det_blur_T_14;
    Matrix<float, 2, 2>  _S7902 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7903 = _S7902;
    _S7903[int(1)] = _S7888;
    _S7903[int(0)] = _S7889;
    float _S7904 = _S7901 + _S7903.rows[int(0)].x;
    float _S7905 = _S7899 + - s_diff_det_orig_T_17;
    float _S7906 = *&(((&_s_diff_ctx_39->_S7662)->rows + (int(0)))->y) * _S7905;
    float _S7907 = *&(((&_s_diff_ctx_39->_S7662)->rows + (int(1)))->x) * _S7905;
    float _S7908 = *&(((&_s_diff_ctx_39->_S7662)->rows + (int(1)))->y) * s_diff_det_orig_T_17;
    float _S7909 = _S7900 + _S7903.rows[int(1)].y + *&(((&_s_diff_ctx_39->_S7662)->rows + (int(0)))->x) * s_diff_det_orig_T_17;
    float2  _S7910 = make_float2 (0.0f);
    float2  _S7911 = _S7910;
    *&((&_S7911)->x) = _S7906;
    *&((&_S7911)->y) = _S7909;
    float _S7912 = _S7904 + _S7908;
    float2  _S7913 = _S7910;
    *&((&_S7913)->y) = _S7907;
    *&((&_S7913)->x) = _S7912;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7914;
    (&_S7914)->primal_0 = _S7717.primal_0;
    (&_S7914)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7915;
    (&_S7915)->primal_0 = _S7738;
    (&_S7915)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7914, &_S7915, _S7719);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7916;
    (&_S7916)->primal_0 = _S7717.primal_0;
    (&_S7916)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7917;
    (&_S7917)->primal_0 = _S7734;
    (&_S7917)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7916, &_S7917, _S7719);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7918;
    (&_S7918)->primal_0 = _S7717.primal_0;
    (&_S7918)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7919;
    (&_S7919)->primal_0 = _S7730;
    (&_S7919)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7918, &_S7919, _S7719);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7920;
    (&_S7920)->primal_0 = _S7717.primal_0;
    (&_S7920)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7921;
    (&_S7921)->primal_0 = _S7737;
    (&_S7921)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7920, &_S7921, _S7719);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7922;
    (&_S7922)->primal_0 = _S7717.primal_0;
    (&_S7922)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7923;
    (&_S7923)->primal_0 = _S7733;
    (&_S7923)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7922, &_S7923, _S7719);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7924;
    (&_S7924)->primal_0 = _S7717.primal_0;
    (&_S7924)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7925;
    (&_S7925)->primal_0 = _S7729;
    (&_S7925)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7924, &_S7925, _S7719);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7926;
    (&_S7926)->primal_0 = _S7717.primal_0;
    (&_S7926)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7927;
    (&_S7927)->primal_0 = _S7739.p_0[0U];
    (&_S7927)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7926, &_S7927, _S7719);
    float3  _S7928 = - _S7915.differential_0 + _S7921.differential_0;
    float3  _S7929 = _S7736 * _S7928;
    float3  _S7930 = _S7722.rows[2U] * _S7928;
    float _S7931 = _S7726 * (_S7930.x + _S7930.y + _S7930.z);
    float3  _S7932 = - _S7917.differential_0 + _S7923.differential_0;
    float3  _S7933 = _S7732 * _S7932;
    float3  _S7934 = _S7722.rows[1U] * _S7932;
    float _S7935 = _S7726 * (_S7934.x + _S7934.y + _S7934.z);
    float3  _S7936 = - _S7919.differential_0 + _S7925.differential_0;
    float3  _S7937 = _S7728 * _S7936;
    float3  _S7938 = _S7722.rows[0U] * _S7936;
    float _S7939 = _S7726 * (_S7938.x + _S7938.y + _S7938.z);
    Matrix<float, 3, 3>  _S7940 = _S7863;
    _S7940[2U] = _S7929;
    _S7940[1U] = _S7933;
    _S7940[0U] = _S7937;
    Matrix<float, 3, 3>  _S7941 = transpose_0(transpose_0(_S7940));
    float _S7942 = 2.0f * - _S7941.rows[int(2)].z;
    float _S7943 = 2.0f * _S7941.rows[int(2)].y;
    float _S7944 = 2.0f * _S7941.rows[int(2)].x;
    float _S7945 = 2.0f * _S7941.rows[int(1)].z;
    float _S7946 = 2.0f * - _S7941.rows[int(1)].y;
    float _S7947 = 2.0f * _S7941.rows[int(1)].x;
    float _S7948 = 2.0f * _S7941.rows[int(0)].z;
    float _S7949 = 2.0f * _S7941.rows[int(0)].y;
    float _S7950 = 2.0f * - _S7941.rows[int(0)].x;
    float _S7951 = - _S7947 + _S7949;
    float _S7952 = _S7944 + - _S7948;
    float _S7953 = - _S7943 + _S7945;
    float _S7954 = _S7943 + _S7945;
    float _S7955 = _S7944 + _S7948;
    float _S7956 = _S7947 + _S7949;
    float _S7957 = _S7713.primal_0.w * (_S7946 + _S7950);
    float _S7958 = _S7713.primal_0.z * (_S7942 + _S7950);
    float _S7959 = _S7713.primal_0.y * (_S7942 + _S7946);
    float _S7960 = _S7713.primal_0.x * _S7951 + _S7713.primal_0.z * _S7954 + _S7713.primal_0.y * _S7955 + _S7957 + _S7957;
    float _S7961 = _S7713.primal_0.x * _S7952 + _S7713.primal_0.w * _S7954 + _S7713.primal_0.y * _S7956 + _S7958 + _S7958;
    float _S7962 = _S7713.primal_0.x * _S7953 + _S7713.primal_0.w * _S7955 + _S7713.primal_0.z * _S7956 + _S7959 + _S7959;
    float _S7963 = _S7713.primal_0.w * _S7951 + _S7713.primal_0.z * _S7952 + _S7713.primal_0.y * _S7953;
    float3  _S7964 = _S7719;
    *&((&_S7964)->z) = _S7931;
    *&((&_S7964)->y) = _S7935;
    *&((&_S7964)->x) = _S7939;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7965;
    (&_S7965)->primal_0 = _S7714.primal_0;
    (&_S7965)->differential_0 = _S7719;
    s_bwd_prop_exp_1(&_S7965, _S7964);
    Matrix<float, 2, 2>  _S7966 = _S7902;
    _S7966[int(1)] = _S7911;
    _S7966[int(0)] = _S7913;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7967;
    (&_S7967)->primal_0 = _S7717.primal_0;
    (&_S7967)->differential_0 = _S7863;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7968;
    (&_S7968)->primal_0 = _S7712.primal_0;
    (&_S7968)->differential_0 = _S7719;
    s_bwd_prop_mul_1(&_S7967, &_S7968, _S7887);
    float3  _S7969 = _S7887 + _S7866.differential_0;
    dpt_26->primal_0 = (*dpt_26).primal_0;
    dpt_26->differential_0 = _S7969;
    Matrix<float, 3, 3>  _S7970 = _S7914.differential_0 + _S7916.differential_0 + _S7918.differential_0 + _S7920.differential_0 + _S7922.differential_0 + _S7924.differential_0 + _S7926.differential_0 + _S7967.differential_0 + _S7867;
    dpR_27->primal_0 = (*dpR_27).primal_0;
    dpR_27->differential_0 = _S7970;
    dpsv_colors_25->primal_0 = dpsv_colors_25->primal_0;
    dpsv_colors_25->differential_0 = _S7884;
    dpsv_sites_25->primal_0 = dpsv_sites_25->primal_0;
    dpsv_sites_25->differential_0 = _S7886;
    dpin_opacity_25->primal_0 = (*dpin_opacity_25).primal_0;
    dpin_opacity_25->differential_0 = _S7894;
    float3  _S7971 = _S7965.differential_0 + _S7869;
    dpscale_26->primal_0 = (*dpscale_26).primal_0;
    dpscale_26->differential_0 = _S7971;
    float4  _S7972 = make_float4 (0.0f);
    *&((&_S7972)->w) = _S7960;
    *&((&_S7972)->z) = _S7961;
    *&((&_S7972)->y) = _S7962;
    *&((&_S7972)->x) = _S7963;
    dpquat_26->primal_0 = (*dpquat_26).primal_0;
    dpquat_26->differential_0 = _S7972;
    float3  _S7973 = _S7915.differential_0 + _S7921.differential_0 + _S7917.differential_0 + _S7923.differential_0 + _S7919.differential_0 + _S7925.differential_0 + _S7968.differential_0 + _S7861;
    dpmean_27->primal_0 = (*dpmean_27).primal_0;
    dpmean_27->differential_0 = _S7973;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_6(bool _S7974, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7975, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7976, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7977, DiffPair_float_0 * _S7978, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7979, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7980, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7981, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7982, float _S7983, float _S7984, float _S7985, float _S7986, FixedArray<float, 10>  * _S7987, uint _S7988, uint _S7989, float _S7990, float _S7991, float2  _S7992, float _S7993, float3  _S7994, float _S7995, float3  _S7996)
{
    FixedArray<float3 , 8>  _S7997 = _S7979->primal_0;
    FixedArray<float3 , 8>  _S7998 = _S7980->primal_0;
    int4  _S7999;
    float2  _S8000;
    float _S8001;
    float3  _S8002;
    float _S8003;
    float3  _S8004;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S8005;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(_S7974, (*_S7975).primal_0, (*_S7976).primal_0, (*_S7977).primal_0, (*_S7978).primal_0, &_S7997, &_S7998, (*_S7981).primal_0, (*_S7982).primal_0, _S7983, _S7984, _S7985, _S7986, _S7987, _S7988, _S7989, _S7990, _S7991, &_S7999, &_S8000, &_S8001, &_S8002, &_S8003, &_S8004, &_S8005);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S8006 = _S8005;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(_S7974, _S7975, _S7976, _S7977, _S7978, _S7979, _S7980, _S7981, _S7982, _S7983, _S7984, _S7985, _S7986, _S7987, _S7988, _S7989, _S7990, _S7991, _S7992, _S7993, _S7994, _S7995, _S7996, &_S8006);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_81, float3  mean_60, float4  quat_61, float3  scale_60, float in_opacity_55, FixedArray<float3 , 8>  * sv_sites_40, FixedArray<float3 , 8>  * sv_colors_40, Matrix<float, 3, 3>  R_62, float3  t_58, float fx_93, float fy_93, float cx_88, float cy_88, FixedArray<float, 10>  * dist_coeffs_96, uint image_width_81, uint image_height_81, float2  v_mean2d_17, float v_depth_18, float3  v_conic_17, float v_opacity_19, float3  v_rgb_18, float3  * v_mean_19, float4  * v_quat_18, float3  * v_scale_18, float * v_in_opacity_17, FixedArray<float3 , 8>  * v_sv_dirs_12, FixedArray<float3 , 8>  * v_sv_colors_12, Matrix<float, 3, 3>  * v_R_19, float3  * v_t_18)
{
    float3  _S8007 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_14;
    (&dp_mean_14)->primal_0 = mean_60;
    (&dp_mean_14)->differential_0 = _S8007;
    float4  _S8008 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_13;
    (&dp_quat_13)->primal_0 = quat_61;
    (&dp_quat_13)->differential_0 = _S8008;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_13;
    (&dp_scale_13)->primal_0 = scale_60;
    (&dp_scale_13)->differential_0 = _S8007;
    DiffPair_float_0 dp_in_opacity_12;
    (&dp_in_opacity_12)->primal_0 = in_opacity_55;
    (&dp_in_opacity_12)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S8009 = { _S8007, _S8007, _S8007, _S8007, _S8007, _S8007, _S8007, _S8007 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_12;
    (&dp_sv_dirs_12)->primal_0 = *sv_sites_40;
    (&dp_sv_dirs_12)->differential_0 = _S8009;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_12;
    (&dp_sv_colors_12)->primal_0 = *sv_colors_40;
    (&dp_sv_colors_12)->differential_0 = _S8009;
    Matrix<float, 3, 3>  _S8010 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_14;
    (&dp_R_14)->primal_0 = R_62;
    (&dp_R_14)->differential_0 = _S8010;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_13;
    (&dp_t_13)->primal_0 = t_58;
    (&dp_t_13)->differential_0 = _S8007;
    s_bwd_projection_3dgut_sv_persp_differentiable_6(antialiased_81, &dp_mean_14, &dp_quat_13, &dp_scale_13, &dp_in_opacity_12, &dp_sv_dirs_12, &dp_sv_colors_12, &dp_R_14, &dp_t_13, fx_93, fy_93, cx_88, cy_88, dist_coeffs_96, image_width_81, image_height_81, 0.0f, 1.00000001504746622e+30f, v_mean2d_17, v_depth_18, v_conic_17, v_opacity_19, v_rgb_18);
    *v_mean_19 = dp_mean_14.differential_0;
    *v_quat_18 = dp_quat_13.differential_0;
    *v_scale_18 = dp_scale_13.differential_0;
    *v_in_opacity_17 = dp_in_opacity_12.differential_0;
    *v_sv_dirs_12 = (&dp_sv_dirs_12)->differential_0;
    *v_sv_colors_12 = (&dp_sv_colors_12)->differential_0;
    *v_R_19 = dp_R_14.differential_0;
    *v_t_18 = dp_t_13.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S8011;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_82, float3  dpmean_28, float4  dpquat_27, float3  dpscale_27, float dpin_opacity_26, FixedArray<float3 , 8>  * dpsv_sites_26, FixedArray<float3 , 8>  * dpsv_colors_26, Matrix<float, 3, 3>  dpR_28, float3  dpt_27, float fx_94, float fy_94, float cx_89, float cy_89, FixedArray<float, 10>  * dist_coeffs_97, uint image_width_82, uint image_height_82, float near_plane_64, float far_plane_64, int4  * aabb_xyxy_51, float2  * dpmean2d_30, float * dpdepth_27, float3  * dpconic_26, float * dpopacity_28, float3  * dprgb_27, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_40)
{
    Matrix<float, 2, 2>  _S8012 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_40->_S8011 = _S8012;
    float2  _S8013 = make_float2 (0.0f);
    float3  _S8014 = make_float3 (0.0f);
    float3  mean_c_69 = s_primal_ctx_mul_0(dpR_28, dpmean_28) + dpt_27;
    float _S8015 = length_1(mean_c_69);
    float4  intrins_59 = make_float4 (fx_94, fy_94, cx_89, cy_89);
    float3  _S8016 = s_primal_ctx_exp_0(dpscale_27);
    float _S8017 = dpquat_27.y;
    float x2_75 = _S8017 * _S8017;
    float y2_75 = dpquat_27.z * dpquat_27.z;
    float z2_90 = dpquat_27.w * dpquat_27.w;
    float xy_75 = dpquat_27.y * dpquat_27.z;
    float xz_75 = dpquat_27.y * dpquat_27.w;
    float yz_75 = dpquat_27.z * dpquat_27.w;
    float wx_75 = dpquat_27.x * dpquat_27.y;
    float wy_75 = dpquat_27.x * dpquat_27.z;
    float wz_75 = dpquat_27.x * dpquat_27.w;
    Matrix<float, 3, 3>  _S8018 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_75 + z2_90), 2.0f * (xy_75 + wz_75), 2.0f * (xz_75 - wy_75), 2.0f * (xy_75 - wz_75), 1.0f - 2.0f * (x2_75 + z2_90), 2.0f * (yz_75 + wx_75), 2.0f * (xz_75 + wy_75), 2.0f * (yz_75 - wx_75), 1.0f - 2.0f * (x2_75 + y2_75))));
    FixedArray<float3 , 7>  _S8019 = {
        _S8014, _S8014, _S8014, _S8014, _S8014, _S8014, _S8014
    };
    FixedArray<float, 7>  _S8020 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S8021;
    (&_S8021)->p_0 = _S8019;
    (&_S8021)->w_mean_0 = _S8020;
    (&_S8021)->w_cov_0 = _S8020;
    (&_S8021)->p_0[int(0)] = dpmean_28;
    SigmaPoints_0 _S8022 = _S8021;
    (&_S8022)->w_mean_0[int(0)] = 0.0f;
    (&_S8022)->w_cov_0[int(0)] = 2.0f;
    float _S8023 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_180 = make_float3 (_S8023 * _S8016.x) * _S8018.rows[0U];
    float3  _S8024 = dpmean_28 + delta_180;
    float3  _S8025 = dpmean_28 - delta_180;
    float3  delta_181 = make_float3 (_S8023 * _S8016.y) * _S8018.rows[1U];
    float3  _S8026 = dpmean_28 + delta_181;
    float3  _S8027 = dpmean_28 - delta_181;
    float3  delta_182 = make_float3 (_S8023 * _S8016.z) * _S8018.rows[2U];
    float3  _S8028 = dpmean_28 + delta_182;
    float3  _S8029 = dpmean_28 - delta_182;
    (&_S8022)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S8022)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S8022)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S8022)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S8022)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S8022)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S8022)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S8022)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S8022)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S8022)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S8022)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S8022)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S8022)->p_0[0U] = s_primal_ctx_mul_0(dpR_28, _S8021.p_0[0U]) + dpt_27;
    (&_S8022)->p_0[1U] = s_primal_ctx_mul_0(dpR_28, _S8024) + dpt_27;
    (&_S8022)->p_0[2U] = s_primal_ctx_mul_0(dpR_28, _S8026) + dpt_27;
    (&_S8022)->p_0[3U] = s_primal_ctx_mul_0(dpR_28, _S8028) + dpt_27;
    (&_S8022)->p_0[4U] = s_primal_ctx_mul_0(dpR_28, _S8025) + dpt_27;
    (&_S8022)->p_0[5U] = s_primal_ctx_mul_0(dpR_28, _S8027) + dpt_27;
    (&_S8022)->p_0[6U] = s_primal_ctx_mul_0(dpR_28, _S8029) + dpt_27;
    float2  _S8030 = _S8013;
    Matrix<float, 2, 2>  _S8031 = _S8012;
    SigmaPoints_0 _S8032 = _S8022;
    bool _S8033 = fisheye_proj_3dgs_ut_1(&_S8032, intrins_59, dist_coeffs_97, &_S8031, &_S8030);
    _s_diff_ctx_40->_S8011 = _S8031;
    float2  _S8034 = _S8030;
    float _S8035 = _S8031.rows[int(0)].y * _S8031.rows[int(1)].x;
    float det_orig_70 = _S8031.rows[int(0)].x * _S8031.rows[int(1)].y - _S8035;
    float _S8036 = _S8031.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S8037 = _S8031;
    *&(((&_S8037)->rows + (int(0)))->x) = _S8036;
    float _S8038 = _S8031.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S8037)->rows + (int(1)))->y) = _S8038;
    Matrix<float, 2, 2>  _S8039 = _S8037;
    Matrix<float, 2, 2>  _S8040 = _S8037;
    float _S8041 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_70 / (_S8036 * _S8038 - _S8035)));
    float _S8042 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_26));
    float _S8043;
    if(antialiased_82)
    {
        _S8043 = _S8042 * _S8041;
    }
    else
    {
        _S8043 = _S8042;
    }
    float _S8044 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S8043 / 0.00392156885936856f)));
    float radius_x_51 = _S8044 * s_primal_ctx_sqrt_0(_S8039.rows[int(0)].x);
    float radius_y_51 = _S8044 * s_primal_ctx_sqrt_0(_S8040.rows[int(1)].y);
    float _S8045 = _S8034.x;
    float _S8046 = _S8034.y;
    float _S8047 = mean_c_69.z;
    float _S8048 = s_primal_ctx_max_0(_S8047, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S8047 + _S8015));
    float3  _S8049 = s_primal_ctx_exp_0(- dpscale_27);
    float3  _S8050 = dpmean_28 - - s_primal_ctx_mul_0(transpose_0(dpR_28), dpt_27);
    float3  _S8051 = _S8050 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S8050, _S8050)));
    float _S8052 = s_primal_ctx_dot_0((*dpsv_sites_26)[int(7)], _S8051);
    float _S8053 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(0)], _S8051) - _S8052);
    float _S8054 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(1)], _S8051) - _S8052);
    float _S8055 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(2)], _S8051) - _S8052);
    float _S8056 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(3)], _S8051) - _S8052);
    float _S8057 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(4)], _S8051) - _S8052);
    float _S8058 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(5)], _S8051) - _S8052);
    float _S8059 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(6)], _S8051) - _S8052);
    float _S8060 = s_primal_ctx_exp_1(0.0f);
    float3  _S8061 = s_primal_ctx_max_1((make_float3 (_S8053) * (*dpsv_colors_26)[int(0)] + make_float3 (_S8054) * (*dpsv_colors_26)[int(1)] + make_float3 (_S8055) * (*dpsv_colors_26)[int(2)] + make_float3 (_S8056) * (*dpsv_colors_26)[int(3)] + make_float3 (_S8057) * (*dpsv_colors_26)[int(4)] + make_float3 (_S8058) * (*dpsv_colors_26)[int(5)] + make_float3 (_S8059) * (*dpsv_colors_26)[int(6)] + make_float3 (_S8060) * (*dpsv_colors_26)[int(7)]) / make_float3 (_S8053 + _S8054 + _S8055 + _S8056 + _S8057 + _S8058 + _S8059 + _S8060) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_51 = make_int4 (int((F32_floor((_S8045 - radius_x_51)))), int((F32_floor((_S8046 - radius_y_51)))), int((F32_ceil((_S8045 + radius_x_51)))), int((F32_ceil((_S8046 + radius_y_51)))));
    *dpmean2d_30 = _S8034;
    *dpdepth_27 = _S8048;
    *dpconic_26 = _S8049;
    *dpopacity_28 = _S8043;
    *dprgb_27 = _S8061;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_83, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_29, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_28, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_28, DiffPair_float_0 * dpin_opacity_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_27, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_29, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_28, float fx_95, float fy_95, float cx_90, float cy_90, FixedArray<float, 10>  * dist_coeffs_98, uint image_width_83, uint image_height_83, float near_plane_65, float far_plane_65, float2  dpmean2d_31, float dpdepth_28, float3  dpconic_27, float dpopacity_29, float3  dprgb_28, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_41)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8062 = *dpmean_29;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S8063 = *dpquat_28;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8064 = *dpscale_28;
    FixedArray<float3 , 8>  _S8065 = dpsv_sites_27->primal_0;
    FixedArray<float3 , 8>  _S8066 = dpsv_colors_27->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8067 = *dpR_29;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8068 = *dpt_28;
    float3  _S8069 = make_float3 (0.0f);
    float3  mean_c_70 = s_primal_ctx_mul_0((*dpR_29).primal_0, (*dpmean_29).primal_0) + (*dpt_28).primal_0;
    float _S8070 = length_1(mean_c_70);
    float3  _S8071 = s_primal_ctx_exp_0((*dpscale_28).primal_0);
    float _S8072 = (*dpquat_28).primal_0.y;
    float x2_76 = _S8072 * _S8072;
    float y2_76 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.z;
    float z2_91 = (*dpquat_28).primal_0.w * (*dpquat_28).primal_0.w;
    float xy_76 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.z;
    float xz_76 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.w;
    float yz_76 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.w;
    float wx_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.y;
    float wy_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.z;
    float wz_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.w;
    Matrix<float, 3, 3>  _S8073 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_76 + z2_91), 2.0f * (xy_76 + wz_76), 2.0f * (xz_76 - wy_76), 2.0f * (xy_76 - wz_76), 1.0f - 2.0f * (x2_76 + z2_91), 2.0f * (yz_76 + wx_76), 2.0f * (xz_76 + wy_76), 2.0f * (yz_76 - wx_76), 1.0f - 2.0f * (x2_76 + y2_76))));
    FixedArray<float3 , 7>  _S8074 = {
        _S8069, _S8069, _S8069, _S8069, _S8069, _S8069, _S8069
    };
    FixedArray<float, 7>  _S8075 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S8076;
    (&_S8076)->p_0 = _S8074;
    (&_S8076)->w_mean_0 = _S8075;
    (&_S8076)->w_cov_0 = _S8075;
    (&_S8076)->p_0[int(0)] = (*dpmean_29).primal_0;
    float _S8077 = s_primal_ctx_sqrt_0(3.0f);
    float _S8078 = _S8077 * _S8071.x;
    float3  _S8079 = make_float3 (_S8078);
    float3  delta_183 = make_float3 (_S8078) * _S8073.rows[0U];
    float3  _S8080 = (*dpmean_29).primal_0 + delta_183;
    float3  _S8081 = (*dpmean_29).primal_0 - delta_183;
    float _S8082 = _S8077 * _S8071.y;
    float3  _S8083 = make_float3 (_S8082);
    float3  delta_184 = make_float3 (_S8082) * _S8073.rows[1U];
    float3  _S8084 = (*dpmean_29).primal_0 + delta_184;
    float3  _S8085 = (*dpmean_29).primal_0 - delta_184;
    float _S8086 = _S8077 * _S8071.z;
    float3  _S8087 = make_float3 (_S8086);
    float3  delta_185 = make_float3 (_S8086) * _S8073.rows[2U];
    float3  _S8088 = (*dpmean_29).primal_0 + delta_185;
    float3  _S8089 = (*dpmean_29).primal_0 - delta_185;
    SigmaPoints_0 _S8090 = _S8076;
    float _S8091 = *&(((&_s_diff_ctx_41->_S8011)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_41->_S8011)->rows + (int(1)))->x);
    float det_orig_71 = *&(((&_s_diff_ctx_41->_S8011)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_41->_S8011)->rows + (int(1)))->y) - _S8091;
    float _S8092 = *&(((&_s_diff_ctx_41->_S8011)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S8093 = _s_diff_ctx_41->_S8011;
    *&(((&_S8093)->rows + (int(0)))->x) = _S8092;
    float _S8094 = *&(((&_s_diff_ctx_41->_S8011)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S8093)->rows + (int(1)))->y) = _S8094;
    Matrix<float, 2, 2>  _S8095 = _S8093;
    Matrix<float, 2, 2>  _S8096 = _S8093;
    float det_blur_38 = _S8092 * _S8094 - _S8091;
    float _S8097 = det_orig_71 / det_blur_38;
    float _S8098 = det_blur_38 * det_blur_38;
    float _S8099 = s_primal_ctx_max_0(0.0f, _S8097);
    float _S8100 = s_primal_ctx_sqrt_0(_S8099);
    float _S8101 = - (*dpin_opacity_27).primal_0;
    float _S8102 = 1.0f + s_primal_ctx_exp_1(_S8101);
    float _S8103 = 1.0f / _S8102;
    float _S8104 = _S8102 * _S8102;
    float _S8105;
    if(antialiased_83)
    {
        _S8105 = _S8103 * _S8100;
    }
    else
    {
        _S8105 = _S8103;
    }
    float _S8106 = _S8105 / 0.00392156885936856f;
    float _S8107 = 2.0f * s_primal_ctx_log_0(_S8106);
    float _S8108 = s_primal_ctx_sqrt_0(_S8107);
    float _S8109 = _S8095.rows[int(0)].x;
    float _S8110 = _S8096.rows[int(1)].y;
    float _S8111 = mean_c_70.z;
    float _S8112 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8113 = _S8112 * (_S8111 + _S8070);
    float3  _S8114 = - _S8064.primal_0;
    Matrix<float, 3, 3>  _S8115 = transpose_0(_S8067.primal_0);
    float3  _S8116 = _S8062.primal_0 - - s_primal_ctx_mul_0(_S8115, _S8068.primal_0);
    float _S8117 = s_primal_ctx_dot_0(_S8116, _S8116);
    float _S8118 = s_primal_ctx_rsqrt_0(_S8117);
    float3  _S8119 = make_float3 (_S8118);
    float3  _S8120 = _S8116 * make_float3 (_S8118);
    float _S8121 = s_primal_ctx_dot_0(_S8065[int(7)], _S8120);
    float _S8122 = s_primal_ctx_dot_0(_S8065[int(0)], _S8120) - _S8121;
    float _S8123 = s_primal_ctx_exp_1(_S8122);
    float3  _S8124 = make_float3 (_S8123);
    float _S8125 = s_primal_ctx_dot_0(_S8065[int(1)], _S8120) - _S8121;
    float _S8126 = s_primal_ctx_exp_1(_S8125);
    float3  _S8127 = make_float3 (_S8126);
    float _S8128 = s_primal_ctx_dot_0(_S8065[int(2)], _S8120) - _S8121;
    float _S8129 = s_primal_ctx_exp_1(_S8128);
    float3  _S8130 = make_float3 (_S8129);
    float _S8131 = s_primal_ctx_dot_0(_S8065[int(3)], _S8120) - _S8121;
    float _S8132 = s_primal_ctx_exp_1(_S8131);
    float3  _S8133 = make_float3 (_S8132);
    float _S8134 = s_primal_ctx_dot_0(_S8065[int(4)], _S8120) - _S8121;
    float _S8135 = s_primal_ctx_exp_1(_S8134);
    float3  _S8136 = make_float3 (_S8135);
    float _S8137 = s_primal_ctx_dot_0(_S8065[int(5)], _S8120) - _S8121;
    float _S8138 = s_primal_ctx_exp_1(_S8137);
    float3  _S8139 = make_float3 (_S8138);
    float _S8140 = s_primal_ctx_dot_0(_S8065[int(6)], _S8120) - _S8121;
    float _S8141 = s_primal_ctx_exp_1(_S8140);
    float3  _S8142 = make_float3 (_S8141);
    float _S8143 = s_primal_ctx_exp_1(0.0f);
    float3  _S8144 = make_float3 (_S8143);
    float total_w_13 = _S8123 + _S8126 + _S8129 + _S8132 + _S8135 + _S8138 + _S8141 + _S8143;
    float3  _S8145 = make_float3 (total_w_13);
    float3  total_c_13 = make_float3 (_S8123) * _S8066[int(0)] + make_float3 (_S8126) * _S8066[int(1)] + make_float3 (_S8129) * _S8066[int(2)] + make_float3 (_S8132) * _S8066[int(3)] + make_float3 (_S8135) * _S8066[int(4)] + make_float3 (_S8138) * _S8066[int(5)] + make_float3 (_S8141) * _S8066[int(6)] + make_float3 (_S8143) * _S8066[int(7)];
    float3  _S8146 = make_float3 (total_w_13 * total_w_13);
    float3  _S8147 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8148;
    (&_S8148)->primal_0 = total_c_13 / make_float3 (total_w_13) + make_float3 (0.5f);
    (&_S8148)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8149;
    (&_S8149)->primal_0 = _S8147;
    (&_S8149)->differential_0 = _S8069;
    s_bwd_prop_max_0(&_S8148, &_S8149, dprgb_28);
    float3  _S8150 = _S8148.differential_0 / _S8146;
    float3  _S8151 = total_c_13 * - _S8150;
    float3  s_diff_total_c_T_13 = _S8145 * _S8150;
    float3  _S8152 = _S8144 * s_diff_total_c_T_13;
    float _S8153 = _S8151.x + _S8151.y + _S8151.z;
    float3  _S8154 = _S8142 * s_diff_total_c_T_13;
    float3  _S8155 = _S8066[int(6)] * s_diff_total_c_T_13;
    float _S8156 = _S8153 + _S8155.x + _S8155.y + _S8155.z;
    DiffPair_float_0 _S8157;
    (&_S8157)->primal_0 = _S8140;
    (&_S8157)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8157, _S8156);
    float _S8158 = - _S8157.differential_0;
    float3  _S8159 = _S8139 * s_diff_total_c_T_13;
    float3  _S8160 = _S8066[int(5)] * s_diff_total_c_T_13;
    float _S8161 = _S8153 + _S8160.x + _S8160.y + _S8160.z;
    DiffPair_float_0 _S8162;
    (&_S8162)->primal_0 = _S8137;
    (&_S8162)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8162, _S8161);
    float _S8163 = - _S8162.differential_0;
    float3  _S8164 = _S8136 * s_diff_total_c_T_13;
    float3  _S8165 = _S8066[int(4)] * s_diff_total_c_T_13;
    float _S8166 = _S8153 + _S8165.x + _S8165.y + _S8165.z;
    DiffPair_float_0 _S8167;
    (&_S8167)->primal_0 = _S8134;
    (&_S8167)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8167, _S8166);
    float _S8168 = - _S8167.differential_0;
    float3  _S8169 = _S8133 * s_diff_total_c_T_13;
    float3  _S8170 = _S8066[int(3)] * s_diff_total_c_T_13;
    float _S8171 = _S8153 + _S8170.x + _S8170.y + _S8170.z;
    DiffPair_float_0 _S8172;
    (&_S8172)->primal_0 = _S8131;
    (&_S8172)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8172, _S8171);
    float _S8173 = - _S8172.differential_0;
    float3  _S8174 = _S8130 * s_diff_total_c_T_13;
    float3  _S8175 = _S8066[int(2)] * s_diff_total_c_T_13;
    float _S8176 = _S8153 + _S8175.x + _S8175.y + _S8175.z;
    DiffPair_float_0 _S8177;
    (&_S8177)->primal_0 = _S8128;
    (&_S8177)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8177, _S8176);
    float _S8178 = - _S8177.differential_0;
    float3  _S8179 = _S8127 * s_diff_total_c_T_13;
    float3  _S8180 = _S8066[int(1)] * s_diff_total_c_T_13;
    float _S8181 = _S8153 + _S8180.x + _S8180.y + _S8180.z;
    DiffPair_float_0 _S8182;
    (&_S8182)->primal_0 = _S8125;
    (&_S8182)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8182, _S8181);
    float _S8183 = - _S8182.differential_0;
    float3  _S8184 = _S8124 * s_diff_total_c_T_13;
    float3  _S8185 = _S8066[int(0)] * s_diff_total_c_T_13;
    float _S8186 = _S8153 + _S8185.x + _S8185.y + _S8185.z;
    DiffPair_float_0 _S8187;
    (&_S8187)->primal_0 = _S8122;
    (&_S8187)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8187, _S8186);
    float _S8188 = _S8158 + _S8163 + _S8168 + _S8173 + _S8178 + _S8183 + - _S8187.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8189;
    (&_S8189)->primal_0 = _S8065[int(7)];
    (&_S8189)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8190;
    (&_S8190)->primal_0 = _S8120;
    (&_S8190)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8189, &_S8190, _S8188);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8191;
    (&_S8191)->primal_0 = _S8065[int(6)];
    (&_S8191)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8192;
    (&_S8192)->primal_0 = _S8120;
    (&_S8192)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8191, &_S8192, _S8157.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8193;
    (&_S8193)->primal_0 = _S8065[int(5)];
    (&_S8193)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8194;
    (&_S8194)->primal_0 = _S8120;
    (&_S8194)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8193, &_S8194, _S8162.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8195;
    (&_S8195)->primal_0 = _S8065[int(4)];
    (&_S8195)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8196;
    (&_S8196)->primal_0 = _S8120;
    (&_S8196)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8195, &_S8196, _S8167.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8197;
    (&_S8197)->primal_0 = _S8065[int(3)];
    (&_S8197)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8198;
    (&_S8198)->primal_0 = _S8120;
    (&_S8198)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8197, &_S8198, _S8172.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8199;
    (&_S8199)->primal_0 = _S8065[int(2)];
    (&_S8199)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8200;
    (&_S8200)->primal_0 = _S8120;
    (&_S8200)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8199, &_S8200, _S8177.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8201;
    (&_S8201)->primal_0 = _S8065[int(1)];
    (&_S8201)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8202;
    (&_S8202)->primal_0 = _S8120;
    (&_S8202)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8201, &_S8202, _S8182.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8203;
    (&_S8203)->primal_0 = _S8065[int(0)];
    (&_S8203)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8204;
    (&_S8204)->primal_0 = _S8120;
    (&_S8204)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8203, &_S8204, _S8187.differential_0);
    float3  _S8205 = _S8190.differential_0 + _S8192.differential_0 + _S8194.differential_0 + _S8196.differential_0 + _S8198.differential_0 + _S8200.differential_0 + _S8202.differential_0 + _S8204.differential_0;
    float3  _S8206 = _S8116 * _S8205;
    float3  _S8207 = _S8119 * _S8205;
    float _S8208 = _S8206.x + _S8206.y + _S8206.z;
    DiffPair_float_0 _S8209;
    (&_S8209)->primal_0 = _S8117;
    (&_S8209)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S8209, _S8208);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8210;
    (&_S8210)->primal_0 = _S8116;
    (&_S8210)->differential_0 = _S8069;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8211;
    (&_S8211)->primal_0 = _S8116;
    (&_S8211)->differential_0 = _S8069;
    s_bwd_prop_dot_0(&_S8210, &_S8211, _S8209.differential_0);
    float3  _S8212 = _S8207 + _S8211.differential_0 + _S8210.differential_0;
    float3  _S8213 = - - _S8212;
    Matrix<float, 3, 3>  _S8214 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8215;
    (&_S8215)->primal_0 = _S8115;
    (&_S8215)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8216;
    (&_S8216)->primal_0 = _S8068.primal_0;
    (&_S8216)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8215, &_S8216, _S8213);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8217 = _S8216;
    Matrix<float, 3, 3>  _S8218 = transpose_0(_S8215.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8219;
    (&_S8219)->primal_0 = _S8114;
    (&_S8219)->differential_0 = _S8069;
    s_bwd_prop_exp_1(&_S8219, dpconic_27);
    float3  _S8220 = - _S8219.differential_0;
    DiffPair_float_0 _S8221;
    (&_S8221)->primal_0 = _S8111;
    (&_S8221)->differential_0 = 0.0f;
    DiffPair_float_0 _S8222;
    (&_S8222)->primal_0 = _S8113;
    (&_S8222)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8221, &_S8222, dpdepth_28);
    float _S8223 = _S8112 * _S8222.differential_0;
    float _S8224 = _S8221.differential_0 + _S8223;
    DiffPair_float_0 _S8225;
    (&_S8225)->primal_0 = _S8110;
    (&_S8225)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8225, 0.0f);
    DiffPair_float_0 _S8226;
    (&_S8226)->primal_0 = _S8109;
    (&_S8226)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8226, 0.0f);
    DiffPair_float_0 _S8227;
    (&_S8227)->primal_0 = 3.32999992370605469f;
    (&_S8227)->differential_0 = 0.0f;
    DiffPair_float_0 _S8228;
    (&_S8228)->primal_0 = _S8108;
    (&_S8228)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8227, &_S8228, 0.0f);
    DiffPair_float_0 _S8229;
    (&_S8229)->primal_0 = _S8107;
    (&_S8229)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8229, _S8228.differential_0);
    float _S8230 = 2.0f * _S8229.differential_0;
    DiffPair_float_0 _S8231;
    (&_S8231)->primal_0 = _S8106;
    (&_S8231)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S8231, _S8230);
    float _S8232 = dpopacity_29 + 254.9999847412109375f * _S8231.differential_0;
    FixedArray<float3 , 8>  _S8233;
    _S8233[int(0)] = _S8069;
    _S8233[int(1)] = _S8069;
    _S8233[int(2)] = _S8069;
    _S8233[int(3)] = _S8069;
    _S8233[int(4)] = _S8069;
    _S8233[int(5)] = _S8069;
    _S8233[int(6)] = _S8069;
    _S8233[int(7)] = _S8069;
    _S8233[int(7)] = _S8152;
    _S8233[int(6)] = _S8154;
    _S8233[int(5)] = _S8159;
    _S8233[int(4)] = _S8164;
    _S8233[int(3)] = _S8169;
    _S8233[int(2)] = _S8174;
    _S8233[int(1)] = _S8179;
    _S8233[int(0)] = _S8184;
    FixedArray<float3 , 8>  _S8234 = {
        _S8233[int(0)], _S8233[int(1)], _S8233[int(2)], _S8233[int(3)], _S8233[int(4)], _S8233[int(5)], _S8233[int(6)], _S8233[int(7)]
    };
    FixedArray<float3 , 8>  _S8235;
    _S8235[int(0)] = _S8069;
    _S8235[int(1)] = _S8069;
    _S8235[int(2)] = _S8069;
    _S8235[int(3)] = _S8069;
    _S8235[int(4)] = _S8069;
    _S8235[int(5)] = _S8069;
    _S8235[int(6)] = _S8069;
    _S8235[int(7)] = _S8069;
    _S8235[int(7)] = _S8189.differential_0;
    _S8235[int(6)] = _S8191.differential_0;
    _S8235[int(5)] = _S8193.differential_0;
    _S8235[int(4)] = _S8195.differential_0;
    _S8235[int(3)] = _S8197.differential_0;
    _S8235[int(2)] = _S8199.differential_0;
    _S8235[int(1)] = _S8201.differential_0;
    _S8235[int(0)] = _S8203.differential_0;
    FixedArray<float3 , 8>  _S8236 = {
        _S8235[int(0)], _S8235[int(1)], _S8235[int(2)], _S8235[int(3)], _S8235[int(4)], _S8235[int(5)], _S8235[int(6)], _S8235[int(7)]
    };
    float3  _S8237 = make_float3 (0.0f, 0.0f, _S8224);
    float2  _S8238 = make_float2 (0.0f, _S8225.differential_0);
    float2  _S8239 = make_float2 (_S8226.differential_0, 0.0f);
    float _S8240;
    if(antialiased_83)
    {
        float _S8241 = _S8103 * _S8232;
        _S8105 = _S8100 * _S8232;
        _S8240 = _S8241;
    }
    else
    {
        _S8105 = _S8232;
        _S8240 = 0.0f;
    }
    float _S8242 = - (_S8105 / _S8104);
    DiffPair_float_0 _S8243;
    (&_S8243)->primal_0 = _S8101;
    (&_S8243)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8243, _S8242);
    float _S8244 = - _S8243.differential_0;
    DiffPair_float_0 _S8245;
    (&_S8245)->primal_0 = _S8099;
    (&_S8245)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8245, _S8240);
    DiffPair_float_0 _S8246;
    (&_S8246)->primal_0 = 0.0f;
    (&_S8246)->differential_0 = 0.0f;
    DiffPair_float_0 _S8247;
    (&_S8247)->primal_0 = _S8097;
    (&_S8247)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8246, &_S8247, _S8245.differential_0);
    float _S8248 = _S8247.differential_0 / _S8098;
    float s_diff_det_blur_T_15 = det_orig_71 * - _S8248;
    float s_diff_det_orig_T_18 = det_blur_38 * _S8248;
    float _S8249 = - s_diff_det_blur_T_15;
    float _S8250 = _S8092 * s_diff_det_blur_T_15;
    float _S8251 = _S8094 * s_diff_det_blur_T_15;
    Matrix<float, 2, 2>  _S8252 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S8253 = _S8252;
    _S8253[int(1)] = _S8238;
    _S8253[int(0)] = _S8239;
    float _S8254 = _S8251 + _S8253.rows[int(0)].x;
    float _S8255 = _S8249 + - s_diff_det_orig_T_18;
    float _S8256 = *&(((&_s_diff_ctx_41->_S8011)->rows + (int(0)))->y) * _S8255;
    float _S8257 = *&(((&_s_diff_ctx_41->_S8011)->rows + (int(1)))->x) * _S8255;
    float _S8258 = *&(((&_s_diff_ctx_41->_S8011)->rows + (int(1)))->y) * s_diff_det_orig_T_18;
    float _S8259 = _S8250 + _S8253.rows[int(1)].y + *&(((&_s_diff_ctx_41->_S8011)->rows + (int(0)))->x) * s_diff_det_orig_T_18;
    float2  _S8260 = make_float2 (0.0f);
    float2  _S8261 = _S8260;
    *&((&_S8261)->x) = _S8256;
    *&((&_S8261)->y) = _S8259;
    float _S8262 = _S8254 + _S8258;
    float2  _S8263 = _S8260;
    *&((&_S8263)->y) = _S8257;
    *&((&_S8263)->x) = _S8262;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8264;
    (&_S8264)->primal_0 = _S8067.primal_0;
    (&_S8264)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8265;
    (&_S8265)->primal_0 = _S8089;
    (&_S8265)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8264, &_S8265, _S8069);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8266;
    (&_S8266)->primal_0 = _S8067.primal_0;
    (&_S8266)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8267;
    (&_S8267)->primal_0 = _S8085;
    (&_S8267)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8266, &_S8267, _S8069);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8268;
    (&_S8268)->primal_0 = _S8067.primal_0;
    (&_S8268)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8269;
    (&_S8269)->primal_0 = _S8081;
    (&_S8269)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8268, &_S8269, _S8069);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8270;
    (&_S8270)->primal_0 = _S8067.primal_0;
    (&_S8270)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8271;
    (&_S8271)->primal_0 = _S8088;
    (&_S8271)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8270, &_S8271, _S8069);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8272;
    (&_S8272)->primal_0 = _S8067.primal_0;
    (&_S8272)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8273;
    (&_S8273)->primal_0 = _S8084;
    (&_S8273)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8272, &_S8273, _S8069);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8274;
    (&_S8274)->primal_0 = _S8067.primal_0;
    (&_S8274)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8275;
    (&_S8275)->primal_0 = _S8080;
    (&_S8275)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8274, &_S8275, _S8069);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8276;
    (&_S8276)->primal_0 = _S8067.primal_0;
    (&_S8276)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8277;
    (&_S8277)->primal_0 = _S8090.p_0[0U];
    (&_S8277)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8276, &_S8277, _S8069);
    float3  _S8278 = - _S8265.differential_0 + _S8271.differential_0;
    float3  _S8279 = _S8087 * _S8278;
    float3  _S8280 = _S8073.rows[2U] * _S8278;
    float _S8281 = _S8077 * (_S8280.x + _S8280.y + _S8280.z);
    float3  _S8282 = - _S8267.differential_0 + _S8273.differential_0;
    float3  _S8283 = _S8083 * _S8282;
    float3  _S8284 = _S8073.rows[1U] * _S8282;
    float _S8285 = _S8077 * (_S8284.x + _S8284.y + _S8284.z);
    float3  _S8286 = - _S8269.differential_0 + _S8275.differential_0;
    float3  _S8287 = _S8079 * _S8286;
    float3  _S8288 = _S8073.rows[0U] * _S8286;
    float _S8289 = _S8077 * (_S8288.x + _S8288.y + _S8288.z);
    Matrix<float, 3, 3>  _S8290 = _S8214;
    _S8290[2U] = _S8279;
    _S8290[1U] = _S8283;
    _S8290[0U] = _S8287;
    Matrix<float, 3, 3>  _S8291 = transpose_0(transpose_0(_S8290));
    float _S8292 = 2.0f * - _S8291.rows[int(2)].z;
    float _S8293 = 2.0f * _S8291.rows[int(2)].y;
    float _S8294 = 2.0f * _S8291.rows[int(2)].x;
    float _S8295 = 2.0f * _S8291.rows[int(1)].z;
    float _S8296 = 2.0f * - _S8291.rows[int(1)].y;
    float _S8297 = 2.0f * _S8291.rows[int(1)].x;
    float _S8298 = 2.0f * _S8291.rows[int(0)].z;
    float _S8299 = 2.0f * _S8291.rows[int(0)].y;
    float _S8300 = 2.0f * - _S8291.rows[int(0)].x;
    float _S8301 = - _S8297 + _S8299;
    float _S8302 = _S8294 + - _S8298;
    float _S8303 = - _S8293 + _S8295;
    float _S8304 = _S8293 + _S8295;
    float _S8305 = _S8294 + _S8298;
    float _S8306 = _S8297 + _S8299;
    float _S8307 = _S8063.primal_0.w * (_S8296 + _S8300);
    float _S8308 = _S8063.primal_0.z * (_S8292 + _S8300);
    float _S8309 = _S8063.primal_0.y * (_S8292 + _S8296);
    float _S8310 = _S8063.primal_0.x * _S8301 + _S8063.primal_0.z * _S8304 + _S8063.primal_0.y * _S8305 + _S8307 + _S8307;
    float _S8311 = _S8063.primal_0.x * _S8302 + _S8063.primal_0.w * _S8304 + _S8063.primal_0.y * _S8306 + _S8308 + _S8308;
    float _S8312 = _S8063.primal_0.x * _S8303 + _S8063.primal_0.w * _S8305 + _S8063.primal_0.z * _S8306 + _S8309 + _S8309;
    float _S8313 = _S8063.primal_0.w * _S8301 + _S8063.primal_0.z * _S8302 + _S8063.primal_0.y * _S8303;
    float3  _S8314 = _S8069;
    *&((&_S8314)->z) = _S8281;
    *&((&_S8314)->y) = _S8285;
    *&((&_S8314)->x) = _S8289;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8315;
    (&_S8315)->primal_0 = _S8064.primal_0;
    (&_S8315)->differential_0 = _S8069;
    s_bwd_prop_exp_1(&_S8315, _S8314);
    Matrix<float, 2, 2>  _S8316 = _S8252;
    _S8316[int(1)] = _S8261;
    _S8316[int(0)] = _S8263;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8317;
    (&_S8317)->primal_0 = mean_c_70;
    (&_S8317)->differential_0 = _S8069;
    s_bwd_length_impl_1(&_S8317, _S8223);
    float3  _S8318 = _S8317.differential_0 + _S8237;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8319;
    (&_S8319)->primal_0 = _S8067.primal_0;
    (&_S8319)->differential_0 = _S8214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8320;
    (&_S8320)->primal_0 = _S8062.primal_0;
    (&_S8320)->differential_0 = _S8069;
    s_bwd_prop_mul_1(&_S8319, &_S8320, _S8318);
    float3  _S8321 = _S8318 + _S8217.differential_0;
    dpt_28->primal_0 = (*dpt_28).primal_0;
    dpt_28->differential_0 = _S8321;
    Matrix<float, 3, 3>  _S8322 = _S8264.differential_0 + _S8266.differential_0 + _S8268.differential_0 + _S8270.differential_0 + _S8272.differential_0 + _S8274.differential_0 + _S8276.differential_0 + _S8319.differential_0 + _S8218;
    dpR_29->primal_0 = (*dpR_29).primal_0;
    dpR_29->differential_0 = _S8322;
    dpsv_colors_27->primal_0 = dpsv_colors_27->primal_0;
    dpsv_colors_27->differential_0 = _S8234;
    dpsv_sites_27->primal_0 = dpsv_sites_27->primal_0;
    dpsv_sites_27->differential_0 = _S8236;
    dpin_opacity_27->primal_0 = (*dpin_opacity_27).primal_0;
    dpin_opacity_27->differential_0 = _S8244;
    float3  _S8323 = _S8315.differential_0 + _S8220;
    dpscale_28->primal_0 = (*dpscale_28).primal_0;
    dpscale_28->differential_0 = _S8323;
    float4  _S8324 = make_float4 (0.0f);
    *&((&_S8324)->w) = _S8310;
    *&((&_S8324)->z) = _S8311;
    *&((&_S8324)->y) = _S8312;
    *&((&_S8324)->x) = _S8313;
    dpquat_28->primal_0 = (*dpquat_28).primal_0;
    dpquat_28->differential_0 = _S8324;
    float3  _S8325 = _S8265.differential_0 + _S8271.differential_0 + _S8267.differential_0 + _S8273.differential_0 + _S8269.differential_0 + _S8275.differential_0 + _S8320.differential_0 + _S8212;
    dpmean_29->primal_0 = (*dpmean_29).primal_0;
    dpmean_29->differential_0 = _S8325;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_6(bool _S8326, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8327, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S8328, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8329, DiffPair_float_0 * _S8330, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S8331, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S8332, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S8333, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8334, float _S8335, float _S8336, float _S8337, float _S8338, FixedArray<float, 10>  * _S8339, uint _S8340, uint _S8341, float _S8342, float _S8343, float2  _S8344, float _S8345, float3  _S8346, float _S8347, float3  _S8348)
{
    FixedArray<float3 , 8>  _S8349 = _S8331->primal_0;
    FixedArray<float3 , 8>  _S8350 = _S8332->primal_0;
    int4  _S8351;
    float2  _S8352;
    float _S8353;
    float3  _S8354;
    float _S8355;
    float3  _S8356;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S8357;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(_S8326, (*_S8327).primal_0, (*_S8328).primal_0, (*_S8329).primal_0, (*_S8330).primal_0, &_S8349, &_S8350, (*_S8333).primal_0, (*_S8334).primal_0, _S8335, _S8336, _S8337, _S8338, _S8339, _S8340, _S8341, _S8342, _S8343, &_S8351, &_S8352, &_S8353, &_S8354, &_S8355, &_S8356, &_S8357);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S8358 = _S8357;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(_S8326, _S8327, _S8328, _S8329, _S8330, _S8331, _S8332, _S8333, _S8334, _S8335, _S8336, _S8337, _S8338, _S8339, _S8340, _S8341, _S8342, _S8343, _S8344, _S8345, _S8346, _S8347, _S8348, &_S8358);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_84, float3  mean_61, float4  quat_62, float3  scale_61, float in_opacity_56, FixedArray<float3 , 8>  * sv_sites_41, FixedArray<float3 , 8>  * sv_colors_41, Matrix<float, 3, 3>  R_63, float3  t_59, float fx_96, float fy_96, float cx_91, float cy_91, FixedArray<float, 10>  * dist_coeffs_99, uint image_width_84, uint image_height_84, float2  v_mean2d_18, float v_depth_19, float3  v_conic_18, float v_opacity_20, float3  v_rgb_19, float3  * v_mean_20, float4  * v_quat_19, float3  * v_scale_19, float * v_in_opacity_18, FixedArray<float3 , 8>  * v_sv_dirs_13, FixedArray<float3 , 8>  * v_sv_colors_13, Matrix<float, 3, 3>  * v_R_20, float3  * v_t_19)
{
    float3  _S8359 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_15;
    (&dp_mean_15)->primal_0 = mean_61;
    (&dp_mean_15)->differential_0 = _S8359;
    float4  _S8360 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_14;
    (&dp_quat_14)->primal_0 = quat_62;
    (&dp_quat_14)->differential_0 = _S8360;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_14;
    (&dp_scale_14)->primal_0 = scale_61;
    (&dp_scale_14)->differential_0 = _S8359;
    DiffPair_float_0 dp_in_opacity_13;
    (&dp_in_opacity_13)->primal_0 = in_opacity_56;
    (&dp_in_opacity_13)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S8361 = { _S8359, _S8359, _S8359, _S8359, _S8359, _S8359, _S8359, _S8359 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_13;
    (&dp_sv_dirs_13)->primal_0 = *sv_sites_41;
    (&dp_sv_dirs_13)->differential_0 = _S8361;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_13;
    (&dp_sv_colors_13)->primal_0 = *sv_colors_41;
    (&dp_sv_colors_13)->differential_0 = _S8361;
    Matrix<float, 3, 3>  _S8362 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_15;
    (&dp_R_15)->primal_0 = R_63;
    (&dp_R_15)->differential_0 = _S8362;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_14;
    (&dp_t_14)->primal_0 = t_59;
    (&dp_t_14)->differential_0 = _S8359;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_6(antialiased_84, &dp_mean_15, &dp_quat_14, &dp_scale_14, &dp_in_opacity_13, &dp_sv_dirs_13, &dp_sv_colors_13, &dp_R_15, &dp_t_14, fx_96, fy_96, cx_91, cy_91, dist_coeffs_99, image_width_84, image_height_84, 0.0f, 1.00000001504746622e+30f, v_mean2d_18, v_depth_19, v_conic_18, v_opacity_20, v_rgb_19);
    *v_mean_20 = dp_mean_15.differential_0;
    *v_quat_19 = dp_quat_14.differential_0;
    *v_scale_19 = dp_scale_14.differential_0;
    *v_in_opacity_18 = dp_in_opacity_13.differential_0;
    *v_sv_dirs_13 = (&dp_sv_dirs_13)->differential_0;
    *v_sv_colors_13 = (&dp_sv_colors_13)->differential_0;
    *v_R_20 = dp_R_15.differential_0;
    *v_t_19 = dp_t_14.differential_0;
    return;
}

inline __device__ void _d_abs_0(DiffPair_float_0 * dpx_13, float dOut_17)
{
    float _S8363 = _slang_select(((*dpx_13).primal_0) > 0.0f, 1.0f,_slang_select(((*dpx_13).primal_0) == 0.0f, 0.0f,-1.0f)) * dOut_17;
    dpx_13->primal_0 = (*dpx_13).primal_0;
    dpx_13->differential_0 = _S8363;
    return;
}

inline __device__ void _d_exp2_0(DiffPair_float_0 * dpx_14, float dOut_18)
{
    float _S8364 = (F32_exp2(((*dpx_14).primal_0))) * 0.693145751953125f * dOut_18;
    dpx_14->primal_0 = (*dpx_14).primal_0;
    dpx_14->differential_0 = _S8364;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp(float3  mean_62, float4  quat_63, float3  scale_62, float2  hardness_0, FixedArray<float3 , 16>  * sh_coeffs_15, FixedArray<float3 , 2>  * ch_coeffs_0, Matrix<float, 3, 3>  R_64, float3  t_60, float fx_97, float fy_97, float cx_92, float cy_92, FixedArray<float, 10>  * dist_coeffs_100, uint image_width_85, uint image_height_85, float near_plane_66, float far_plane_66, int4  * aabb_xyxy_52, float * depth_39, FixedArray<float3 , 3>  * verts_0, FixedArray<float3 , 3>  * rgbs_0, float3  * normal_0)
{
    for(;;)
    {
        float3  mean_c_71 = mul_0(R_64, mean_62) + t_60;
        float _S8365 = mean_c_71.z;
        bool _S8366;
        if(_S8365 < near_plane_66)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = _S8365 > far_plane_66;
        }
        if(_S8366)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S8367 = scale_62.x;
        float sx_1 = (F32_exp((_S8367)));
        float _S8368 = scale_62.y;
        float sy_1 = (F32_exp((_S8368)));
        float sz_1 = scale_62.z - 0.5f * (_S8367 + _S8368);
        float x_69 = quat_63.y;
        float x2_77 = x_69 * x_69;
        float y2_77 = quat_63.z * quat_63.z;
        float z2_92 = quat_63.w * quat_63.w;
        float xy_77 = quat_63.y * quat_63.z;
        float xz_77 = quat_63.y * quat_63.w;
        float yz_77 = quat_63.z * quat_63.w;
        float wx_77 = quat_63.x * quat_63.y;
        float wy_77 = quat_63.x * quat_63.z;
        float wz_77 = quat_63.x * quat_63.w;
        Matrix<float, 3, 3>  _S8369 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_77 + z2_92), 2.0f * (xy_77 + wz_77), 2.0f * (xz_77 - wy_77), 2.0f * (xy_77 - wz_77), 1.0f - 2.0f * (x2_77 + z2_92), 2.0f * (yz_77 + wx_77), 2.0f * (xz_77 + wy_77), 2.0f * (yz_77 - wx_77), 1.0f - 2.0f * (x2_77 + y2_77)));
        float3  vert0_1 = mul_0(_S8369, make_float3 (sx_1, 0.0f, 0.0f)) + mean_62;
        float3  vert1_1 = mul_0(_S8369, make_float3 (sx_1 * (-0.5f + sz_1), sy_1, 0.0f)) + mean_62;
        float3  vert2_1 = mul_0(_S8369, make_float3 (sx_1 * (-0.5f - sz_1), - sy_1, 0.0f)) + mean_62;
        float3  vert0_c_0 = mul_0(R_64, vert0_1) + t_60;
        float3  vert1_c_0 = mul_0(R_64, vert1_1) + t_60;
        float3  vert2_c_0 = mul_0(R_64, vert2_1) + t_60;
        float _S8370 = vert0_c_0.z;
        float _S8371 = vert1_c_0.z;
        float _S8372 = vert2_c_0.z;
        if(_S8370 < near_plane_66)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = _S8370 > far_plane_66;
        }
        if(_S8366)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = _S8371 < near_plane_66;
        }
        if(_S8366)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = _S8371 > far_plane_66;
        }
        if(_S8366)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = _S8372 < near_plane_66;
        }
        if(_S8366)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = _S8372 > far_plane_66;
        }
        if(_S8366)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_0;
        for(;;)
        {
            float2  uv0_1 = float2 {vert0_c_0.x, vert0_c_0.y} / make_float2 (_S8370);
            if(_S8370 < 0.0f)
            {
                _S8366 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S8373 = camera_distortion_jac_0(uv0_1, dist_coeffs_100);
                _S8366 = !((F32_min((determinant_0(_S8373)), ((F32_min((_S8373.rows[int(0)].x), (_S8373.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S8366)
            {
                uv0_0 = uv0_1;
                break;
            }
            float u_56 = uv0_1.x;
            float v_56 = uv0_1.y;
            float r2_56 = u_56 * u_56 + v_56 * v_56;
            float2  _S8374 = uv0_1 * make_float2 (1.0f + r2_56 * ((*dist_coeffs_100)[int(0)] + r2_56 * ((*dist_coeffs_100)[int(1)] + r2_56 * ((*dist_coeffs_100)[int(2)] + r2_56 * (*dist_coeffs_100)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_100)[int(4)] * u_56 * v_56 + (*dist_coeffs_100)[int(5)] * (r2_56 + 2.0f * u_56 * u_56) + (*dist_coeffs_100)[int(6)] * r2_56, 2.0f * (*dist_coeffs_100)[int(5)] * u_56 * v_56 + (*dist_coeffs_100)[int(4)] * (r2_56 + 2.0f * v_56 * v_56) + (*dist_coeffs_100)[int(7)] * r2_56);
            float2  _S8375 = _S8374 + make_float2 ((*dist_coeffs_100)[int(8)] * _S8374.x + (*dist_coeffs_100)[int(9)] * _S8374.y, 0.0f);
            uv0_0 = make_float2 (fx_97 * _S8375.x + cx_92, fy_97 * _S8375.y + cy_92);
            break;
        }
        float2  uv1_0;
        bool all_valid_8 = true & (!_S8366);
        for(;;)
        {
            float2  uv1_1 = float2 {vert1_c_0.x, vert1_c_0.y} / make_float2 (_S8371);
            if(_S8371 < 0.0f)
            {
                _S8366 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S8376 = camera_distortion_jac_0(uv1_1, dist_coeffs_100);
                _S8366 = !((F32_min((determinant_0(_S8376)), ((F32_min((_S8376.rows[int(0)].x), (_S8376.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S8366)
            {
                uv1_0 = uv1_1;
                break;
            }
            float u_57 = uv1_1.x;
            float v_57 = uv1_1.y;
            float r2_57 = u_57 * u_57 + v_57 * v_57;
            float2  _S8377 = uv1_1 * make_float2 (1.0f + r2_57 * ((*dist_coeffs_100)[int(0)] + r2_57 * ((*dist_coeffs_100)[int(1)] + r2_57 * ((*dist_coeffs_100)[int(2)] + r2_57 * (*dist_coeffs_100)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_100)[int(4)] * u_57 * v_57 + (*dist_coeffs_100)[int(5)] * (r2_57 + 2.0f * u_57 * u_57) + (*dist_coeffs_100)[int(6)] * r2_57, 2.0f * (*dist_coeffs_100)[int(5)] * u_57 * v_57 + (*dist_coeffs_100)[int(4)] * (r2_57 + 2.0f * v_57 * v_57) + (*dist_coeffs_100)[int(7)] * r2_57);
            float2  _S8378 = _S8377 + make_float2 ((*dist_coeffs_100)[int(8)] * _S8377.x + (*dist_coeffs_100)[int(9)] * _S8377.y, 0.0f);
            uv1_0 = make_float2 (fx_97 * _S8378.x + cx_92, fy_97 * _S8378.y + cy_92);
            break;
        }
        float2  uv2_0;
        bool all_valid_9 = all_valid_8 & (!_S8366);
        for(;;)
        {
            float2  uv2_1 = float2 {vert2_c_0.x, vert2_c_0.y} / make_float2 (_S8372);
            if(_S8372 < 0.0f)
            {
                _S8366 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S8379 = camera_distortion_jac_0(uv2_1, dist_coeffs_100);
                _S8366 = !((F32_min((determinant_0(_S8379)), ((F32_min((_S8379.rows[int(0)].x), (_S8379.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S8366)
            {
                uv2_0 = uv2_1;
                break;
            }
            float u_58 = uv2_1.x;
            float v_58 = uv2_1.y;
            float r2_58 = u_58 * u_58 + v_58 * v_58;
            float2  _S8380 = uv2_1 * make_float2 (1.0f + r2_58 * ((*dist_coeffs_100)[int(0)] + r2_58 * ((*dist_coeffs_100)[int(1)] + r2_58 * ((*dist_coeffs_100)[int(2)] + r2_58 * (*dist_coeffs_100)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_100)[int(4)] * u_58 * v_58 + (*dist_coeffs_100)[int(5)] * (r2_58 + 2.0f * u_58 * u_58) + (*dist_coeffs_100)[int(6)] * r2_58, 2.0f * (*dist_coeffs_100)[int(5)] * u_58 * v_58 + (*dist_coeffs_100)[int(4)] * (r2_58 + 2.0f * v_58 * v_58) + (*dist_coeffs_100)[int(7)] * r2_58);
            float2  _S8381 = _S8380 + make_float2 ((*dist_coeffs_100)[int(8)] * _S8380.x + (*dist_coeffs_100)[int(9)] * _S8380.y, 0.0f);
            uv2_0 = make_float2 (fx_97 * _S8381.x + cx_92, fy_97 * _S8381.y + cy_92);
            break;
        }
        if(!(all_valid_9 & (!_S8366)))
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_0 = uv1_0 - uv0_0;
        float2  e1_0 = uv2_0 - uv1_0;
        float offset_0 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_0.y))))) - 1.0f) * ((F32_abs((e0_0.x * e1_0.y - e0_0.y * e1_0.x))) / (length_0(e0_0) + length_0(e1_0) + length_0(uv0_0 - uv2_0)));
        float _S8382 = uv0_0.x;
        float _S8383 = uv1_0.x;
        float _S8384 = uv2_0.x;
        float xmax_19 = (F32_max(((F32_max((_S8382), (_S8383)))), (_S8384))) + offset_0;
        float xmin_19 = (F32_min(((F32_min((_S8382), (_S8383)))), (_S8384))) - offset_0;
        float _S8385 = uv0_0.y;
        float _S8386 = uv1_0.y;
        float _S8387 = uv2_0.y;
        float ymax_19 = (F32_max(((F32_max((_S8385), (_S8386)))), (_S8387))) + offset_0;
        float ymin_19 = (F32_min(((F32_min((_S8385), (_S8386)))), (_S8387))) - offset_0;
        if(xmax_19 <= 0.0f)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = xmin_19 >= float(image_width_85);
        }
        if(_S8366)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = ymax_19 <= 0.0f;
        }
        if(_S8366)
        {
            _S8366 = true;
        }
        else
        {
            _S8366 = ymin_19 >= float(image_height_85);
        }
        if(_S8366)
        {
            _S8366 = true;
        }
        else
        {
            if(_S8365 <= 0.0f)
            {
                if(xmin_19 <= 0.0f)
                {
                    _S8366 = xmax_19 >= float(image_width_85);
                }
                else
                {
                    _S8366 = false;
                }
                if(_S8366)
                {
                    _S8366 = true;
                }
                else
                {
                    if(ymin_19 <= 0.0f)
                    {
                        _S8366 = ymax_19 >= float(image_width_85);
                    }
                    else
                    {
                        _S8366 = false;
                    }
                }
            }
            else
            {
                _S8366 = false;
            }
        }
        if(_S8366)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_52 = make_int4 (int((F32_floor((xmin_19)))), int((F32_floor((ymin_19)))), int((F32_ceil((xmax_19)))), int((F32_ceil((ymax_19)))));
        float3  _S8388 = (vert0_c_0 + vert1_c_0 + vert2_c_0) / make_float3 (3.0f);
        float _S8389 = _S8388.z;
        *depth_39 = (F32_max((_S8389), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8389 + length_1(_S8388)))));
        float3  _S8390 = mean_62 - - mul_0(transpose_0(R_64), t_60);
        float _S8391 = _S8390.x;
        float _S8392 = _S8390.y;
        float _S8393 = _S8390.z;
        float norm_10 = (F32_sqrt((_S8391 * _S8391 + _S8392 * _S8392 + _S8393 * _S8393)));
        float x_70 = _S8391 / norm_10;
        float y_18 = _S8392 / norm_10;
        float z_15 = _S8393 / norm_10;
        float z2_93 = z_15 * z_15;
        float fTmp0B_15 = -1.09254848957061768f * z_15;
        float fC1_15 = x_70 * x_70 - y_18 * y_18;
        float fS1_15 = 2.0f * x_70 * y_18;
        float fTmp0C_15 = -2.28522896766662598f * z2_93 + 0.4570457935333252f;
        float fTmp1B_15 = 1.44530570507049561f * z_15;
        float3  color_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_15)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_18) * (*sh_coeffs_15)[int(1)] + make_float3 (z_15) * (*sh_coeffs_15)[int(2)] - make_float3 (x_70) * (*sh_coeffs_15)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_15) * (*sh_coeffs_15)[int(4)] + make_float3 (fTmp0B_15 * y_18) * (*sh_coeffs_15)[int(5)] + make_float3 (0.94617468118667603f * z2_93 - 0.31539157032966614f) * (*sh_coeffs_15)[int(6)] + make_float3 (fTmp0B_15 * x_70) * (*sh_coeffs_15)[int(7)] + make_float3 (0.54627424478530884f * fC1_15) * (*sh_coeffs_15)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_70 * fS1_15 + y_18 * fC1_15)) * (*sh_coeffs_15)[int(9)] + make_float3 (fTmp1B_15 * fS1_15) * (*sh_coeffs_15)[int(10)] + make_float3 (fTmp0C_15 * y_18) * (*sh_coeffs_15)[int(11)] + make_float3 (z_15 * (1.86588168144226074f * z2_93 - 1.11952900886535645f)) * (*sh_coeffs_15)[int(12)] + make_float3 (fTmp0C_15 * x_70) * (*sh_coeffs_15)[int(13)] + make_float3 (fTmp1B_15 * fC1_15) * (*sh_coeffs_15)[int(14)] + make_float3 (-0.59004360437393188f * (x_70 * fC1_15 - y_18 * fS1_15)) * (*sh_coeffs_15)[int(15)]);
        float3  _S8394 = make_float3 (0.0f);
        (*rgbs_0)[int(0)] = max_0(color_0 + (*ch_coeffs_0)[int(0)] + make_float3 (0.5f), _S8394);
        float3  _S8395 = color_0 - (*ch_coeffs_0)[int(0)] * make_float3 (0.5f);
        float3  _S8396 = (*ch_coeffs_0)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_0)[int(1)] = max_0(_S8395 + _S8396 + make_float3 (0.5f), _S8394);
        (*rgbs_0)[int(2)] = max_0(_S8395 - _S8396 + make_float3 (0.5f), _S8394);
        (*verts_0)[int(0)] = vert0_1;
        (*verts_0)[int(1)] = vert1_1;
        (*verts_0)[int(2)] = vert2_1;
        float3  _S8397 = normalize_0(cross_0(vert1_c_0 - vert0_c_0, vert2_c_0 - vert0_c_0));
        *normal_0 = _S8397 * make_float3 (float(- (F32_sign((dot_0(_S8397, mean_c_71))))));
        break;
    }
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye(float3  mean_63, float4  quat_64, float3  scale_63, float2  hardness_1, FixedArray<float3 , 16>  * sh_coeffs_16, FixedArray<float3 , 2>  * ch_coeffs_1, Matrix<float, 3, 3>  R_65, float3  t_61, float fx_98, float fy_98, float cx_93, float cy_93, FixedArray<float, 10>  * dist_coeffs_101, uint image_width_86, uint image_height_86, float near_plane_67, float far_plane_67, int4  * aabb_xyxy_53, float * depth_40, FixedArray<float3 , 3>  * verts_1, FixedArray<float3 , 3>  * rgbs_1, float3  * normal_1)
{
    bool _S8398;
    bool _S8399;
    bool _S8400;
    for(;;)
    {
        float3  mean_c_72 = mul_0(R_65, mean_63) + t_61;
        float _S8401 = length_1(mean_c_72);
        bool _S8402;
        if(_S8401 < near_plane_67)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = _S8401 > far_plane_67;
        }
        if(_S8402)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S8403 = scale_63.x;
        float sx_2 = (F32_exp((_S8403)));
        float _S8404 = scale_63.y;
        float sy_2 = (F32_exp((_S8404)));
        float sz_2 = scale_63.z - 0.5f * (_S8403 + _S8404);
        float x_71 = quat_64.y;
        float x2_78 = x_71 * x_71;
        float y2_78 = quat_64.z * quat_64.z;
        float z2_94 = quat_64.w * quat_64.w;
        float xy_78 = quat_64.y * quat_64.z;
        float xz_78 = quat_64.y * quat_64.w;
        float yz_78 = quat_64.z * quat_64.w;
        float wx_78 = quat_64.x * quat_64.y;
        float wy_78 = quat_64.x * quat_64.z;
        float wz_78 = quat_64.x * quat_64.w;
        Matrix<float, 3, 3>  _S8405 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_78 + z2_94), 2.0f * (xy_78 + wz_78), 2.0f * (xz_78 - wy_78), 2.0f * (xy_78 - wz_78), 1.0f - 2.0f * (x2_78 + z2_94), 2.0f * (yz_78 + wx_78), 2.0f * (xz_78 + wy_78), 2.0f * (yz_78 - wx_78), 1.0f - 2.0f * (x2_78 + y2_78)));
        float3  vert0_2 = mul_0(_S8405, make_float3 (sx_2, 0.0f, 0.0f)) + mean_63;
        float3  vert1_2 = mul_0(_S8405, make_float3 (sx_2 * (-0.5f + sz_2), sy_2, 0.0f)) + mean_63;
        float3  vert2_2 = mul_0(_S8405, make_float3 (sx_2 * (-0.5f - sz_2), - sy_2, 0.0f)) + mean_63;
        float3  vert0_c_1 = mul_0(R_65, vert0_2) + t_61;
        float3  vert1_c_1 = mul_0(R_65, vert1_2) + t_61;
        float3  vert2_c_1 = mul_0(R_65, vert2_2) + t_61;
        float _S8406 = length_1(vert0_c_1);
        float _S8407 = length_1(vert1_c_1);
        float _S8408 = length_1(vert2_c_1);
        if(_S8406 < near_plane_67)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = _S8406 > far_plane_67;
        }
        if(_S8402)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = _S8407 < near_plane_67;
        }
        if(_S8402)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = _S8407 > far_plane_67;
        }
        if(_S8402)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = _S8408 < near_plane_67;
        }
        if(_S8402)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = _S8408 > far_plane_67;
        }
        if(_S8402)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_2;
        float k_7;
        for(;;)
        {
            float2  _S8409 = float2 {vert0_c_1.x, vert0_c_1.y};
            float r_24 = length_0(_S8409);
            float _S8410 = vert0_c_1.z;
            float theta_20 = (F32_atan2((r_24), (_S8410)));
            if(theta_20 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_20 * theta_20 / 3.0f) / _S8410;
            }
            else
            {
                k_7 = theta_20 / r_24;
            }
            float2  uv0_3 = _S8409 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S8411 = camera_distortion_jac_0(uv0_3, dist_coeffs_101);
            bool _S8412 = !((F32_min((determinant_0(_S8411)), ((F32_min((_S8411.rows[int(0)].x), (_S8411.rows[int(1)].y)))))) > 0.0f);
            _S8398 = _S8412;
            if(_S8412)
            {
                uv0_2 = uv0_3;
                break;
            }
            float u_59 = uv0_3.x;
            float v_59 = uv0_3.y;
            float r2_59 = u_59 * u_59 + v_59 * v_59;
            float2  _S8413 = uv0_3 * make_float2 (1.0f + r2_59 * ((*dist_coeffs_101)[int(0)] + r2_59 * ((*dist_coeffs_101)[int(1)] + r2_59 * ((*dist_coeffs_101)[int(2)] + r2_59 * (*dist_coeffs_101)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_101)[int(4)] * u_59 * v_59 + (*dist_coeffs_101)[int(5)] * (r2_59 + 2.0f * u_59 * u_59) + (*dist_coeffs_101)[int(6)] * r2_59, 2.0f * (*dist_coeffs_101)[int(5)] * u_59 * v_59 + (*dist_coeffs_101)[int(4)] * (r2_59 + 2.0f * v_59 * v_59) + (*dist_coeffs_101)[int(7)] * r2_59);
            float2  _S8414 = _S8413 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8413.x + (*dist_coeffs_101)[int(9)] * _S8413.y, 0.0f);
            uv0_2 = make_float2 (fx_98 * _S8414.x + cx_93, fy_98 * _S8414.y + cy_93);
            break;
        }
        float2  uv1_2;
        bool all_valid_10 = true & (!_S8398);
        for(;;)
        {
            float2  _S8415 = float2 {vert1_c_1.x, vert1_c_1.y};
            float r_25 = length_0(_S8415);
            float _S8416 = vert1_c_1.z;
            float theta_21 = (F32_atan2((r_25), (_S8416)));
            if(theta_21 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_21 * theta_21 / 3.0f) / _S8416;
            }
            else
            {
                k_7 = theta_21 / r_25;
            }
            float2  uv1_3 = _S8415 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S8417 = camera_distortion_jac_0(uv1_3, dist_coeffs_101);
            bool _S8418 = !((F32_min((determinant_0(_S8417)), ((F32_min((_S8417.rows[int(0)].x), (_S8417.rows[int(1)].y)))))) > 0.0f);
            _S8399 = _S8418;
            if(_S8418)
            {
                uv1_2 = uv1_3;
                break;
            }
            float u_60 = uv1_3.x;
            float v_60 = uv1_3.y;
            float r2_60 = u_60 * u_60 + v_60 * v_60;
            float2  _S8419 = uv1_3 * make_float2 (1.0f + r2_60 * ((*dist_coeffs_101)[int(0)] + r2_60 * ((*dist_coeffs_101)[int(1)] + r2_60 * ((*dist_coeffs_101)[int(2)] + r2_60 * (*dist_coeffs_101)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_101)[int(4)] * u_60 * v_60 + (*dist_coeffs_101)[int(5)] * (r2_60 + 2.0f * u_60 * u_60) + (*dist_coeffs_101)[int(6)] * r2_60, 2.0f * (*dist_coeffs_101)[int(5)] * u_60 * v_60 + (*dist_coeffs_101)[int(4)] * (r2_60 + 2.0f * v_60 * v_60) + (*dist_coeffs_101)[int(7)] * r2_60);
            float2  _S8420 = _S8419 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8419.x + (*dist_coeffs_101)[int(9)] * _S8419.y, 0.0f);
            uv1_2 = make_float2 (fx_98 * _S8420.x + cx_93, fy_98 * _S8420.y + cy_93);
            break;
        }
        float2  uv2_2;
        bool all_valid_11 = all_valid_10 & (!_S8399);
        for(;;)
        {
            float2  _S8421 = float2 {vert2_c_1.x, vert2_c_1.y};
            float r_26 = length_0(_S8421);
            float _S8422 = vert2_c_1.z;
            float theta_22 = (F32_atan2((r_26), (_S8422)));
            if(theta_22 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_22 * theta_22 / 3.0f) / _S8422;
            }
            else
            {
                k_7 = theta_22 / r_26;
            }
            float2  uv2_3 = _S8421 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S8423 = camera_distortion_jac_0(uv2_3, dist_coeffs_101);
            bool _S8424 = !((F32_min((determinant_0(_S8423)), ((F32_min((_S8423.rows[int(0)].x), (_S8423.rows[int(1)].y)))))) > 0.0f);
            _S8400 = _S8424;
            if(_S8424)
            {
                uv2_2 = uv2_3;
                break;
            }
            float u_61 = uv2_3.x;
            float v_61 = uv2_3.y;
            float r2_61 = u_61 * u_61 + v_61 * v_61;
            float2  _S8425 = uv2_3 * make_float2 (1.0f + r2_61 * ((*dist_coeffs_101)[int(0)] + r2_61 * ((*dist_coeffs_101)[int(1)] + r2_61 * ((*dist_coeffs_101)[int(2)] + r2_61 * (*dist_coeffs_101)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_101)[int(4)] * u_61 * v_61 + (*dist_coeffs_101)[int(5)] * (r2_61 + 2.0f * u_61 * u_61) + (*dist_coeffs_101)[int(6)] * r2_61, 2.0f * (*dist_coeffs_101)[int(5)] * u_61 * v_61 + (*dist_coeffs_101)[int(4)] * (r2_61 + 2.0f * v_61 * v_61) + (*dist_coeffs_101)[int(7)] * r2_61);
            float2  _S8426 = _S8425 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8425.x + (*dist_coeffs_101)[int(9)] * _S8425.y, 0.0f);
            uv2_2 = make_float2 (fx_98 * _S8426.x + cx_93, fy_98 * _S8426.y + cy_93);
            break;
        }
        if(!(all_valid_11 & (!_S8400)))
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_1 = uv1_2 - uv0_2;
        float2  e1_1 = uv2_2 - uv1_2;
        float offset_1 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_1.y))))) - 1.0f) * ((F32_abs((e0_1.x * e1_1.y - e0_1.y * e1_1.x))) / (length_0(e0_1) + length_0(e1_1) + length_0(uv0_2 - uv2_2)));
        float _S8427 = uv0_2.x;
        float _S8428 = uv1_2.x;
        float _S8429 = uv2_2.x;
        float xmax_20 = (F32_max(((F32_max((_S8427), (_S8428)))), (_S8429))) + offset_1;
        float xmin_20 = (F32_min(((F32_min((_S8427), (_S8428)))), (_S8429))) - offset_1;
        float _S8430 = uv0_2.y;
        float _S8431 = uv1_2.y;
        float _S8432 = uv2_2.y;
        float ymax_20 = (F32_max(((F32_max((_S8430), (_S8431)))), (_S8432))) + offset_1;
        float ymin_20 = (F32_min(((F32_min((_S8430), (_S8431)))), (_S8432))) - offset_1;
        if(xmax_20 <= 0.0f)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = xmin_20 >= float(image_width_86);
        }
        if(_S8402)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = ymax_20 <= 0.0f;
        }
        if(_S8402)
        {
            _S8402 = true;
        }
        else
        {
            _S8402 = ymin_20 >= float(image_height_86);
        }
        if(_S8402)
        {
            _S8402 = true;
        }
        else
        {
            if((mean_c_72.z) <= 0.0f)
            {
                if(xmin_20 <= 0.0f)
                {
                    _S8402 = xmax_20 >= float(image_width_86);
                }
                else
                {
                    _S8402 = false;
                }
                if(_S8402)
                {
                    _S8402 = true;
                }
                else
                {
                    if(ymin_20 <= 0.0f)
                    {
                        _S8402 = ymax_20 >= float(image_width_86);
                    }
                    else
                    {
                        _S8402 = false;
                    }
                }
            }
            else
            {
                _S8402 = false;
            }
        }
        if(_S8402)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_53 = make_int4 (int((F32_floor((xmin_20)))), int((F32_floor((ymin_20)))), int((F32_ceil((xmax_20)))), int((F32_ceil((ymax_20)))));
        float3  _S8433 = (vert0_c_1 + vert1_c_1 + vert2_c_1) / make_float3 (3.0f);
        float _S8434 = _S8433.z;
        *depth_40 = (F32_max((_S8434), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8434 + length_1(_S8433)))));
        float3  _S8435 = mean_63 - - mul_0(transpose_0(R_65), t_61);
        float _S8436 = _S8435.x;
        float _S8437 = _S8435.y;
        float _S8438 = _S8435.z;
        float norm_11 = (F32_sqrt((_S8436 * _S8436 + _S8437 * _S8437 + _S8438 * _S8438)));
        float x_72 = _S8436 / norm_11;
        float y_19 = _S8437 / norm_11;
        float z_16 = _S8438 / norm_11;
        float z2_95 = z_16 * z_16;
        float fTmp0B_16 = -1.09254848957061768f * z_16;
        float fC1_16 = x_72 * x_72 - y_19 * y_19;
        float fS1_16 = 2.0f * x_72 * y_19;
        float fTmp0C_16 = -2.28522896766662598f * z2_95 + 0.4570457935333252f;
        float fTmp1B_16 = 1.44530570507049561f * z_16;
        float3  color_1 = make_float3 (0.282094806432724f) * (*sh_coeffs_16)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_19) * (*sh_coeffs_16)[int(1)] + make_float3 (z_16) * (*sh_coeffs_16)[int(2)] - make_float3 (x_72) * (*sh_coeffs_16)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_16) * (*sh_coeffs_16)[int(4)] + make_float3 (fTmp0B_16 * y_19) * (*sh_coeffs_16)[int(5)] + make_float3 (0.94617468118667603f * z2_95 - 0.31539157032966614f) * (*sh_coeffs_16)[int(6)] + make_float3 (fTmp0B_16 * x_72) * (*sh_coeffs_16)[int(7)] + make_float3 (0.54627424478530884f * fC1_16) * (*sh_coeffs_16)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_72 * fS1_16 + y_19 * fC1_16)) * (*sh_coeffs_16)[int(9)] + make_float3 (fTmp1B_16 * fS1_16) * (*sh_coeffs_16)[int(10)] + make_float3 (fTmp0C_16 * y_19) * (*sh_coeffs_16)[int(11)] + make_float3 (z_16 * (1.86588168144226074f * z2_95 - 1.11952900886535645f)) * (*sh_coeffs_16)[int(12)] + make_float3 (fTmp0C_16 * x_72) * (*sh_coeffs_16)[int(13)] + make_float3 (fTmp1B_16 * fC1_16) * (*sh_coeffs_16)[int(14)] + make_float3 (-0.59004360437393188f * (x_72 * fC1_16 - y_19 * fS1_16)) * (*sh_coeffs_16)[int(15)]);
        float3  _S8439 = make_float3 (0.0f);
        (*rgbs_1)[int(0)] = max_0(color_1 + (*ch_coeffs_1)[int(0)] + make_float3 (0.5f), _S8439);
        float3  _S8440 = color_1 - (*ch_coeffs_1)[int(0)] * make_float3 (0.5f);
        float3  _S8441 = (*ch_coeffs_1)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_1)[int(1)] = max_0(_S8440 + _S8441 + make_float3 (0.5f), _S8439);
        (*rgbs_1)[int(2)] = max_0(_S8440 - _S8441 + make_float3 (0.5f), _S8439);
        (*verts_1)[int(0)] = vert0_2;
        (*verts_1)[int(1)] = vert1_2;
        (*verts_1)[int(2)] = vert2_2;
        float3  _S8442 = normalize_0(cross_0(vert1_c_1 - vert0_c_1, vert2_c_1 - vert0_c_1));
        *normal_1 = _S8442 * make_float3 (float(- (F32_sign((dot_0(_S8442, mean_c_72))))));
        break;
    }
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_persp_differentiable(float3  mean_64, float4  quat_65, float3  scale_64, float2  hardness_2, FixedArray<float3 , 16>  * sh_coeffs_17, FixedArray<float3 , 2>  * ch_coeffs_2, Matrix<float, 3, 3>  R_66, float3  t_62, float fx_99, float fy_99, float cx_94, float cy_94, FixedArray<float, 10>  * dist_coeffs_102, uint image_width_87, uint image_height_87, float near_plane_68, float far_plane_68, int4  * aabb_xyxy_54, float * depth_41, FixedArray<float3 , 3>  * verts_2, FixedArray<float3 , 3>  * rgbs_2, float3  * normal_2)
{
    float3  mean_c_73 = mul_0(R_66, mean_64) + t_62;
    float _S8443 = scale_64.x;
    float sx_3 = (F32_exp((_S8443)));
    float _S8444 = scale_64.y;
    float sy_3 = (F32_exp((_S8444)));
    float sz_3 = scale_64.z - 0.5f * (_S8443 + _S8444);
    float x_73 = quat_65.y;
    float x2_79 = x_73 * x_73;
    float y2_79 = quat_65.z * quat_65.z;
    float z2_96 = quat_65.w * quat_65.w;
    float xy_79 = quat_65.y * quat_65.z;
    float xz_79 = quat_65.y * quat_65.w;
    float yz_79 = quat_65.z * quat_65.w;
    float wx_79 = quat_65.x * quat_65.y;
    float wy_79 = quat_65.x * quat_65.z;
    float wz_79 = quat_65.x * quat_65.w;
    Matrix<float, 3, 3>  _S8445 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_79 + z2_96), 2.0f * (xy_79 + wz_79), 2.0f * (xz_79 - wy_79), 2.0f * (xy_79 - wz_79), 1.0f - 2.0f * (x2_79 + z2_96), 2.0f * (yz_79 + wx_79), 2.0f * (xz_79 + wy_79), 2.0f * (yz_79 - wx_79), 1.0f - 2.0f * (x2_79 + y2_79)));
    float3  vert0_3 = mul_0(_S8445, make_float3 (sx_3, 0.0f, 0.0f)) + mean_64;
    float3  vert1_3 = mul_0(_S8445, make_float3 (sx_3 * (-0.5f + sz_3), sy_3, 0.0f)) + mean_64;
    float3  vert2_3 = mul_0(_S8445, make_float3 (sx_3 * (-0.5f - sz_3), - sy_3, 0.0f)) + mean_64;
    float3  vert0_c_2 = mul_0(R_66, vert0_3) + t_62;
    float3  vert1_c_2 = mul_0(R_66, vert1_3) + t_62;
    float3  vert2_c_2 = mul_0(R_66, vert2_3) + t_62;
    float2  _S8446 = float2 {vert0_c_2.x, vert0_c_2.y} / make_float2 (vert0_c_2.z);
    float u_62 = _S8446.x;
    float v_62 = _S8446.y;
    float r2_62 = u_62 * u_62 + v_62 * v_62;
    float _S8447 = 2.0f * (*dist_coeffs_102)[int(4)];
    float _S8448 = 2.0f * (*dist_coeffs_102)[int(5)];
    float2  _S8449 = _S8446 * make_float2 (1.0f + r2_62 * ((*dist_coeffs_102)[int(0)] + r2_62 * ((*dist_coeffs_102)[int(1)] + r2_62 * ((*dist_coeffs_102)[int(2)] + r2_62 * (*dist_coeffs_102)[int(3)])))) + make_float2 (_S8447 * u_62 * v_62 + (*dist_coeffs_102)[int(5)] * (r2_62 + 2.0f * u_62 * u_62) + (*dist_coeffs_102)[int(6)] * r2_62, _S8448 * u_62 * v_62 + (*dist_coeffs_102)[int(4)] * (r2_62 + 2.0f * v_62 * v_62) + (*dist_coeffs_102)[int(7)] * r2_62);
    float2  _S8450 = _S8449 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8449.x + (*dist_coeffs_102)[int(9)] * _S8449.y, 0.0f);
    float _S8451 = fx_99 * _S8450.x + cx_94;
    float _S8452 = fy_99 * _S8450.y + cy_94;
    float2  uv0_4 = make_float2 (_S8451, _S8452);
    float2  _S8453 = float2 {vert1_c_2.x, vert1_c_2.y} / make_float2 (vert1_c_2.z);
    float u_63 = _S8453.x;
    float v_63 = _S8453.y;
    float r2_63 = u_63 * u_63 + v_63 * v_63;
    float2  _S8454 = _S8453 * make_float2 (1.0f + r2_63 * ((*dist_coeffs_102)[int(0)] + r2_63 * ((*dist_coeffs_102)[int(1)] + r2_63 * ((*dist_coeffs_102)[int(2)] + r2_63 * (*dist_coeffs_102)[int(3)])))) + make_float2 (_S8447 * u_63 * v_63 + (*dist_coeffs_102)[int(5)] * (r2_63 + 2.0f * u_63 * u_63) + (*dist_coeffs_102)[int(6)] * r2_63, _S8448 * u_63 * v_63 + (*dist_coeffs_102)[int(4)] * (r2_63 + 2.0f * v_63 * v_63) + (*dist_coeffs_102)[int(7)] * r2_63);
    float2  _S8455 = _S8454 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8454.x + (*dist_coeffs_102)[int(9)] * _S8454.y, 0.0f);
    float _S8456 = fx_99 * _S8455.x + cx_94;
    float _S8457 = fy_99 * _S8455.y + cy_94;
    float2  uv1_4 = make_float2 (_S8456, _S8457);
    float2  _S8458 = float2 {vert2_c_2.x, vert2_c_2.y} / make_float2 (vert2_c_2.z);
    float u_64 = _S8458.x;
    float v_64 = _S8458.y;
    float r2_64 = u_64 * u_64 + v_64 * v_64;
    float2  _S8459 = _S8458 * make_float2 (1.0f + r2_64 * ((*dist_coeffs_102)[int(0)] + r2_64 * ((*dist_coeffs_102)[int(1)] + r2_64 * ((*dist_coeffs_102)[int(2)] + r2_64 * (*dist_coeffs_102)[int(3)])))) + make_float2 (_S8447 * u_64 * v_64 + (*dist_coeffs_102)[int(5)] * (r2_64 + 2.0f * u_64 * u_64) + (*dist_coeffs_102)[int(6)] * r2_64, _S8448 * u_64 * v_64 + (*dist_coeffs_102)[int(4)] * (r2_64 + 2.0f * v_64 * v_64) + (*dist_coeffs_102)[int(7)] * r2_64);
    float2  _S8460 = _S8459 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8459.x + (*dist_coeffs_102)[int(9)] * _S8459.y, 0.0f);
    float _S8461 = fx_99 * _S8460.x + cx_94;
    float _S8462 = fy_99 * _S8460.y + cy_94;
    float2  uv2_4 = make_float2 (_S8461, _S8462);
    float2  e0_2 = uv1_4 - uv0_4;
    float2  e1_2 = uv2_4 - uv1_4;
    float offset_2 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_2.y))))) - 1.0f) * ((F32_abs((e0_2.x * e1_2.y - e0_2.y * e1_2.x))) / (length_0(e0_2) + length_0(e1_2) + length_0(uv0_4 - uv2_4)));
    *aabb_xyxy_54 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S8451), (_S8456)))), (_S8461))) - offset_2)))), int((F32_floor(((F32_min(((F32_min((_S8452), (_S8457)))), (_S8462))) - offset_2)))), int((F32_ceil(((F32_max(((F32_max((_S8451), (_S8456)))), (_S8461))) + offset_2)))), int((F32_ceil(((F32_max(((F32_max((_S8452), (_S8457)))), (_S8462))) + offset_2)))));
    float3  _S8463 = (vert0_c_2 + vert1_c_2 + vert2_c_2) / make_float3 (3.0f);
    float _S8464 = _S8463.z;
    *depth_41 = (F32_max((_S8464), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8464 + length_1(_S8463)))));
    float3  _S8465 = mean_64 - - mul_0(transpose_0(R_66), t_62);
    float _S8466 = _S8465.x;
    float _S8467 = _S8465.y;
    float _S8468 = _S8465.z;
    float norm_12 = (F32_sqrt((_S8466 * _S8466 + _S8467 * _S8467 + _S8468 * _S8468)));
    float x_74 = _S8466 / norm_12;
    float y_20 = _S8467 / norm_12;
    float z_17 = _S8468 / norm_12;
    float z2_97 = z_17 * z_17;
    float fTmp0B_17 = -1.09254848957061768f * z_17;
    float fC1_17 = x_74 * x_74 - y_20 * y_20;
    float fS1_17 = 2.0f * x_74 * y_20;
    float fTmp0C_17 = -2.28522896766662598f * z2_97 + 0.4570457935333252f;
    float fTmp1B_17 = 1.44530570507049561f * z_17;
    float3  color_2 = make_float3 (0.282094806432724f) * (*sh_coeffs_17)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_20) * (*sh_coeffs_17)[int(1)] + make_float3 (z_17) * (*sh_coeffs_17)[int(2)] - make_float3 (x_74) * (*sh_coeffs_17)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_17) * (*sh_coeffs_17)[int(4)] + make_float3 (fTmp0B_17 * y_20) * (*sh_coeffs_17)[int(5)] + make_float3 (0.94617468118667603f * z2_97 - 0.31539157032966614f) * (*sh_coeffs_17)[int(6)] + make_float3 (fTmp0B_17 * x_74) * (*sh_coeffs_17)[int(7)] + make_float3 (0.54627424478530884f * fC1_17) * (*sh_coeffs_17)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_74 * fS1_17 + y_20 * fC1_17)) * (*sh_coeffs_17)[int(9)] + make_float3 (fTmp1B_17 * fS1_17) * (*sh_coeffs_17)[int(10)] + make_float3 (fTmp0C_17 * y_20) * (*sh_coeffs_17)[int(11)] + make_float3 (z_17 * (1.86588168144226074f * z2_97 - 1.11952900886535645f)) * (*sh_coeffs_17)[int(12)] + make_float3 (fTmp0C_17 * x_74) * (*sh_coeffs_17)[int(13)] + make_float3 (fTmp1B_17 * fC1_17) * (*sh_coeffs_17)[int(14)] + make_float3 (-0.59004360437393188f * (x_74 * fC1_17 - y_20 * fS1_17)) * (*sh_coeffs_17)[int(15)]);
    float3  _S8469 = make_float3 (0.0f);
    (*rgbs_2)[int(0)] = max_0(color_2 + (*ch_coeffs_2)[int(0)] + make_float3 (0.5f), _S8469);
    float3  _S8470 = color_2 - (*ch_coeffs_2)[int(0)] * make_float3 (0.5f);
    float3  _S8471 = (*ch_coeffs_2)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_2)[int(1)] = max_0(_S8470 + _S8471 + make_float3 (0.5f), _S8469);
    (*rgbs_2)[int(2)] = max_0(_S8470 - _S8471 + make_float3 (0.5f), _S8469);
    (*verts_2)[int(0)] = vert0_3;
    (*verts_2)[int(1)] = vert1_3;
    (*verts_2)[int(2)] = vert2_3;
    float3  _S8472 = normalize_0(cross_0(vert1_c_2 - vert0_c_2, vert2_c_2 - vert0_c_2));
    *normal_2 = _S8472 * make_float3 (float(- (F32_sign((dot_0(_S8472, mean_c_73))))));
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_fisheye_differentiable(float3  mean_65, float4  quat_66, float3  scale_65, float2  hardness_3, FixedArray<float3 , 16>  * sh_coeffs_18, FixedArray<float3 , 2>  * ch_coeffs_3, Matrix<float, 3, 3>  R_67, float3  t_63, float fx_100, float fy_100, float cx_95, float cy_95, FixedArray<float, 10>  * dist_coeffs_103, uint image_width_88, uint image_height_88, float near_plane_69, float far_plane_69, int4  * aabb_xyxy_55, float * depth_42, FixedArray<float3 , 3>  * verts_3, FixedArray<float3 , 3>  * rgbs_3, float3  * normal_3)
{
    float3  mean_c_74 = mul_0(R_67, mean_65) + t_63;
    float _S8473 = scale_65.x;
    float sx_4 = (F32_exp((_S8473)));
    float _S8474 = scale_65.y;
    float sy_4 = (F32_exp((_S8474)));
    float sz_4 = scale_65.z - 0.5f * (_S8473 + _S8474);
    float x_75 = quat_66.y;
    float x2_80 = x_75 * x_75;
    float y2_80 = quat_66.z * quat_66.z;
    float z2_98 = quat_66.w * quat_66.w;
    float xy_80 = quat_66.y * quat_66.z;
    float xz_80 = quat_66.y * quat_66.w;
    float yz_80 = quat_66.z * quat_66.w;
    float wx_80 = quat_66.x * quat_66.y;
    float wy_80 = quat_66.x * quat_66.z;
    float wz_80 = quat_66.x * quat_66.w;
    Matrix<float, 3, 3>  _S8475 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_80 + z2_98), 2.0f * (xy_80 + wz_80), 2.0f * (xz_80 - wy_80), 2.0f * (xy_80 - wz_80), 1.0f - 2.0f * (x2_80 + z2_98), 2.0f * (yz_80 + wx_80), 2.0f * (xz_80 + wy_80), 2.0f * (yz_80 - wx_80), 1.0f - 2.0f * (x2_80 + y2_80)));
    float3  vert0_4 = mul_0(_S8475, make_float3 (sx_4, 0.0f, 0.0f)) + mean_65;
    float3  vert1_4 = mul_0(_S8475, make_float3 (sx_4 * (-0.5f + sz_4), sy_4, 0.0f)) + mean_65;
    float3  vert2_4 = mul_0(_S8475, make_float3 (sx_4 * (-0.5f - sz_4), - sy_4, 0.0f)) + mean_65;
    float3  vert0_c_3 = mul_0(R_67, vert0_4) + t_63;
    float3  vert1_c_3 = mul_0(R_67, vert1_4) + t_63;
    float3  vert2_c_3 = mul_0(R_67, vert2_4) + t_63;
    float2  _S8476 = float2 {vert0_c_3.x, vert0_c_3.y};
    float r_27 = length_0(_S8476);
    float _S8477 = vert0_c_3.z;
    float theta_23 = (F32_atan2((r_27), (_S8477)));
    float k_8;
    if(theta_23 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_23 * theta_23 / 3.0f) / _S8477;
    }
    else
    {
        k_8 = theta_23 / r_27;
    }
    float2  _S8478 = _S8476 * make_float2 (k_8);
    float u_65 = _S8478.x;
    float v_65 = _S8478.y;
    float r2_65 = u_65 * u_65 + v_65 * v_65;
    float _S8479 = 2.0f * (*dist_coeffs_103)[int(4)];
    float _S8480 = 2.0f * (*dist_coeffs_103)[int(5)];
    float2  _S8481 = _S8478 * make_float2 (1.0f + r2_65 * ((*dist_coeffs_103)[int(0)] + r2_65 * ((*dist_coeffs_103)[int(1)] + r2_65 * ((*dist_coeffs_103)[int(2)] + r2_65 * (*dist_coeffs_103)[int(3)])))) + make_float2 (_S8479 * u_65 * v_65 + (*dist_coeffs_103)[int(5)] * (r2_65 + 2.0f * u_65 * u_65) + (*dist_coeffs_103)[int(6)] * r2_65, _S8480 * u_65 * v_65 + (*dist_coeffs_103)[int(4)] * (r2_65 + 2.0f * v_65 * v_65) + (*dist_coeffs_103)[int(7)] * r2_65);
    float2  _S8482 = _S8481 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8481.x + (*dist_coeffs_103)[int(9)] * _S8481.y, 0.0f);
    float _S8483 = fx_100 * _S8482.x + cx_95;
    float _S8484 = fy_100 * _S8482.y + cy_95;
    float2  uv0_5 = make_float2 (_S8483, _S8484);
    float2  _S8485 = float2 {vert1_c_3.x, vert1_c_3.y};
    float r_28 = length_0(_S8485);
    float _S8486 = vert1_c_3.z;
    float theta_24 = (F32_atan2((r_28), (_S8486)));
    if(theta_24 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_24 * theta_24 / 3.0f) / _S8486;
    }
    else
    {
        k_8 = theta_24 / r_28;
    }
    float2  _S8487 = _S8485 * make_float2 (k_8);
    float u_66 = _S8487.x;
    float v_66 = _S8487.y;
    float r2_66 = u_66 * u_66 + v_66 * v_66;
    float2  _S8488 = _S8487 * make_float2 (1.0f + r2_66 * ((*dist_coeffs_103)[int(0)] + r2_66 * ((*dist_coeffs_103)[int(1)] + r2_66 * ((*dist_coeffs_103)[int(2)] + r2_66 * (*dist_coeffs_103)[int(3)])))) + make_float2 (_S8479 * u_66 * v_66 + (*dist_coeffs_103)[int(5)] * (r2_66 + 2.0f * u_66 * u_66) + (*dist_coeffs_103)[int(6)] * r2_66, _S8480 * u_66 * v_66 + (*dist_coeffs_103)[int(4)] * (r2_66 + 2.0f * v_66 * v_66) + (*dist_coeffs_103)[int(7)] * r2_66);
    float2  _S8489 = _S8488 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8488.x + (*dist_coeffs_103)[int(9)] * _S8488.y, 0.0f);
    float _S8490 = fx_100 * _S8489.x + cx_95;
    float _S8491 = fy_100 * _S8489.y + cy_95;
    float2  uv1_5 = make_float2 (_S8490, _S8491);
    float2  _S8492 = float2 {vert2_c_3.x, vert2_c_3.y};
    float r_29 = length_0(_S8492);
    float _S8493 = vert2_c_3.z;
    float theta_25 = (F32_atan2((r_29), (_S8493)));
    if(theta_25 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_25 * theta_25 / 3.0f) / _S8493;
    }
    else
    {
        k_8 = theta_25 / r_29;
    }
    float2  _S8494 = _S8492 * make_float2 (k_8);
    float u_67 = _S8494.x;
    float v_67 = _S8494.y;
    float r2_67 = u_67 * u_67 + v_67 * v_67;
    float2  _S8495 = _S8494 * make_float2 (1.0f + r2_67 * ((*dist_coeffs_103)[int(0)] + r2_67 * ((*dist_coeffs_103)[int(1)] + r2_67 * ((*dist_coeffs_103)[int(2)] + r2_67 * (*dist_coeffs_103)[int(3)])))) + make_float2 (_S8479 * u_67 * v_67 + (*dist_coeffs_103)[int(5)] * (r2_67 + 2.0f * u_67 * u_67) + (*dist_coeffs_103)[int(6)] * r2_67, _S8480 * u_67 * v_67 + (*dist_coeffs_103)[int(4)] * (r2_67 + 2.0f * v_67 * v_67) + (*dist_coeffs_103)[int(7)] * r2_67);
    float2  _S8496 = _S8495 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8495.x + (*dist_coeffs_103)[int(9)] * _S8495.y, 0.0f);
    float _S8497 = fx_100 * _S8496.x + cx_95;
    float _S8498 = fy_100 * _S8496.y + cy_95;
    float2  uv2_5 = make_float2 (_S8497, _S8498);
    float2  e0_3 = uv1_5 - uv0_5;
    float2  e1_3 = uv2_5 - uv1_5;
    float offset_3 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_3.y))))) - 1.0f) * ((F32_abs((e0_3.x * e1_3.y - e0_3.y * e1_3.x))) / (length_0(e0_3) + length_0(e1_3) + length_0(uv0_5 - uv2_5)));
    *aabb_xyxy_55 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S8483), (_S8490)))), (_S8497))) - offset_3)))), int((F32_floor(((F32_min(((F32_min((_S8484), (_S8491)))), (_S8498))) - offset_3)))), int((F32_ceil(((F32_max(((F32_max((_S8483), (_S8490)))), (_S8497))) + offset_3)))), int((F32_ceil(((F32_max(((F32_max((_S8484), (_S8491)))), (_S8498))) + offset_3)))));
    float3  _S8499 = (vert0_c_3 + vert1_c_3 + vert2_c_3) / make_float3 (3.0f);
    float _S8500 = _S8499.z;
    *depth_42 = (F32_max((_S8500), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8500 + length_1(_S8499)))));
    float3  _S8501 = mean_65 - - mul_0(transpose_0(R_67), t_63);
    float _S8502 = _S8501.x;
    float _S8503 = _S8501.y;
    float _S8504 = _S8501.z;
    float norm_13 = (F32_sqrt((_S8502 * _S8502 + _S8503 * _S8503 + _S8504 * _S8504)));
    float x_76 = _S8502 / norm_13;
    float y_21 = _S8503 / norm_13;
    float z_18 = _S8504 / norm_13;
    float z2_99 = z_18 * z_18;
    float fTmp0B_18 = -1.09254848957061768f * z_18;
    float fC1_18 = x_76 * x_76 - y_21 * y_21;
    float fS1_18 = 2.0f * x_76 * y_21;
    float fTmp0C_18 = -2.28522896766662598f * z2_99 + 0.4570457935333252f;
    float fTmp1B_18 = 1.44530570507049561f * z_18;
    float3  color_3 = make_float3 (0.282094806432724f) * (*sh_coeffs_18)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_21) * (*sh_coeffs_18)[int(1)] + make_float3 (z_18) * (*sh_coeffs_18)[int(2)] - make_float3 (x_76) * (*sh_coeffs_18)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_18) * (*sh_coeffs_18)[int(4)] + make_float3 (fTmp0B_18 * y_21) * (*sh_coeffs_18)[int(5)] + make_float3 (0.94617468118667603f * z2_99 - 0.31539157032966614f) * (*sh_coeffs_18)[int(6)] + make_float3 (fTmp0B_18 * x_76) * (*sh_coeffs_18)[int(7)] + make_float3 (0.54627424478530884f * fC1_18) * (*sh_coeffs_18)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_76 * fS1_18 + y_21 * fC1_18)) * (*sh_coeffs_18)[int(9)] + make_float3 (fTmp1B_18 * fS1_18) * (*sh_coeffs_18)[int(10)] + make_float3 (fTmp0C_18 * y_21) * (*sh_coeffs_18)[int(11)] + make_float3 (z_18 * (1.86588168144226074f * z2_99 - 1.11952900886535645f)) * (*sh_coeffs_18)[int(12)] + make_float3 (fTmp0C_18 * x_76) * (*sh_coeffs_18)[int(13)] + make_float3 (fTmp1B_18 * fC1_18) * (*sh_coeffs_18)[int(14)] + make_float3 (-0.59004360437393188f * (x_76 * fC1_18 - y_21 * fS1_18)) * (*sh_coeffs_18)[int(15)]);
    float3  _S8505 = make_float3 (0.0f);
    (*rgbs_3)[int(0)] = max_0(color_3 + (*ch_coeffs_3)[int(0)] + make_float3 (0.5f), _S8505);
    float3  _S8506 = color_3 - (*ch_coeffs_3)[int(0)] * make_float3 (0.5f);
    float3  _S8507 = (*ch_coeffs_3)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_3)[int(1)] = max_0(_S8506 + _S8507 + make_float3 (0.5f), _S8505);
    (*rgbs_3)[int(2)] = max_0(_S8506 - _S8507 + make_float3 (0.5f), _S8505);
    (*verts_3)[int(0)] = vert0_4;
    (*verts_3)[int(1)] = vert1_4;
    (*verts_3)[int(2)] = vert2_4;
    float3  _S8508 = normalize_0(cross_0(vert1_c_3 - vert0_c_3, vert2_c_3 - vert0_c_3));
    *normal_3 = _S8508 * make_float3 (float(- (F32_sign((dot_0(_S8508, mean_c_74))))));
    return;
}

inline __device__ void s_bwd_prop_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_15, float3  _s_dOut_9)
{
    float _S8509 = length_1((*dpx_15).primal_0);
    float3  _S8510 = (*dpx_15).primal_0 * _s_dOut_9;
    float3  _S8511 = make_float3 (1.0f / _S8509) * _s_dOut_9;
    float _S8512 = - ((_S8510.x + _S8510.y + _S8510.z) / (_S8509 * _S8509));
    float3  _S8513 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8514;
    (&_S8514)->primal_0 = (*dpx_15).primal_0;
    (&_S8514)->differential_0 = _S8513;
    s_bwd_length_impl_1(&_S8514, _S8512);
    float3  _S8515 = _S8511 + _S8514.differential_0;
    dpx_15->primal_0 = (*dpx_15).primal_0;
    dpx_15->differential_0 = _S8515;
    return;
}

inline __device__ void s_bwd_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8516, float3  _S8517)
{
    s_bwd_prop_normalize_impl_0(_S8516, _S8517);
    return;
}

inline __device__ void s_bwd_prop_exp2_0(DiffPair_float_0 * _S8518, float _S8519)
{
    _d_exp2_0(_S8518, _S8519);
    return;
}

inline __device__ void s_bwd_prop_abs_0(DiffPair_float_0 * _S8520, float _S8521)
{
    _d_abs_0(_S8520, _S8521);
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp_vjp(float3  mean_66, float4  quat_67, float3  scale_66, float2  hardness_4, FixedArray<float3 , 16>  * sh_coeffs_19, FixedArray<float3 , 2>  * ch_coeffs_4, Matrix<float, 3, 3>  R_68, float3  t_64, float fx_101, float fy_101, float cx_96, float cy_96, FixedArray<float, 10>  * dist_coeffs_104, uint image_width_89, uint image_height_89, float v_depth_20, FixedArray<float3 , 3>  * v_verts_0, FixedArray<float3 , 3>  * v_rgbs_0, float3  v_normal_0, float3  * v_mean_21, float4  * v_quat_20, float3  * v_scale_20, float2  * v_hardness_0, FixedArray<float3 , 16>  * v_sh_coeffs_5, FixedArray<float3 , 2>  * v_ch_coeffs_0, Matrix<float, 3, 3>  * v_R_21, float3  * v_t_20)
{
    float3  mean_c_75 = s_primal_ctx_mul_0(R_68, mean_66) + t_64;
    float _S8522 = scale_66.x;
    float _S8523 = s_primal_ctx_exp_1(_S8522);
    float _S8524 = scale_66.y;
    float _S8525 = s_primal_ctx_exp_1(_S8524);
    float sz_5 = scale_66.z - 0.5f * (_S8522 + _S8524);
    float _S8526 = quat_67.y;
    float x2_81 = _S8526 * _S8526;
    float y2_81 = quat_67.z * quat_67.z;
    float z2_100 = quat_67.w * quat_67.w;
    float xy_81 = quat_67.y * quat_67.z;
    float xz_81 = quat_67.y * quat_67.w;
    float yz_81 = quat_67.z * quat_67.w;
    float wx_81 = quat_67.x * quat_67.y;
    float wy_81 = quat_67.x * quat_67.z;
    float wz_81 = quat_67.x * quat_67.w;
    Matrix<float, 3, 3>  _S8527 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_81 + z2_100), 2.0f * (xy_81 + wz_81), 2.0f * (xz_81 - wy_81), 2.0f * (xy_81 - wz_81), 1.0f - 2.0f * (x2_81 + z2_100), 2.0f * (yz_81 + wx_81), 2.0f * (xz_81 + wy_81), 2.0f * (yz_81 - wx_81), 1.0f - 2.0f * (x2_81 + y2_81)));
    float3  _S8528 = make_float3 (_S8523, 0.0f, 0.0f);
    float3  vert0_5 = s_primal_ctx_mul_0(_S8527, _S8528) + mean_66;
    float _S8529 = -0.5f + sz_5;
    float3  _S8530 = make_float3 (_S8523 * _S8529, _S8525, 0.0f);
    float3  vert1_5 = s_primal_ctx_mul_0(_S8527, _S8530) + mean_66;
    float _S8531 = -0.5f - sz_5;
    float3  _S8532 = make_float3 (_S8523 * _S8531, - _S8525, 0.0f);
    float3  vert2_5 = s_primal_ctx_mul_0(_S8527, _S8532) + mean_66;
    float3  vert0_c_4 = s_primal_ctx_mul_0(R_68, vert0_5) + t_64;
    float3  vert1_c_4 = s_primal_ctx_mul_0(R_68, vert1_5) + t_64;
    float3  vert2_c_4 = s_primal_ctx_mul_0(R_68, vert2_5) + t_64;
    float2  _S8533 = float2 {vert0_c_4.x, vert0_c_4.y};
    float _S8534 = vert0_c_4.z;
    float2  _S8535 = make_float2 (_S8534);
    float2  _S8536 = _S8533 / make_float2 (_S8534);
    float2  _S8537 = make_float2 (_S8534 * _S8534);
    float u_68 = _S8536.x;
    float v_68 = _S8536.y;
    float r2_68 = u_68 * u_68 + v_68 * v_68;
    float _S8538 = (*dist_coeffs_104)[int(2)] + r2_68 * (*dist_coeffs_104)[int(3)];
    float _S8539 = (*dist_coeffs_104)[int(1)] + r2_68 * _S8538;
    float _S8540 = (*dist_coeffs_104)[int(0)] + r2_68 * _S8539;
    float radial_2 = 1.0f + r2_68 * _S8540;
    float2  _S8541 = make_float2 (radial_2);
    float _S8542 = 2.0f * (*dist_coeffs_104)[int(4)];
    float _S8543 = _S8542 * u_68;
    float _S8544 = 2.0f * u_68;
    float _S8545 = 2.0f * (*dist_coeffs_104)[int(5)];
    float _S8546 = _S8545 * u_68;
    float _S8547 = 2.0f * v_68;
    float2  _S8548 = _S8536 * make_float2 (radial_2) + make_float2 (_S8543 * v_68 + (*dist_coeffs_104)[int(5)] * (r2_68 + _S8544 * u_68) + (*dist_coeffs_104)[int(6)] * r2_68, _S8546 * v_68 + (*dist_coeffs_104)[int(4)] * (r2_68 + _S8547 * v_68) + (*dist_coeffs_104)[int(7)] * r2_68);
    float2  _S8549 = _S8548 + make_float2 ((*dist_coeffs_104)[int(8)] * _S8548.x + (*dist_coeffs_104)[int(9)] * _S8548.y, 0.0f);
    float _S8550 = fx_101 * _S8549.x + cx_96;
    float _S8551 = fy_101 * _S8549.y + cy_96;
    float2  uv0_6 = make_float2 (_S8550, _S8551);
    float2  _S8552 = float2 {vert1_c_4.x, vert1_c_4.y};
    float _S8553 = vert1_c_4.z;
    float2  _S8554 = make_float2 (_S8553);
    float2  _S8555 = _S8552 / make_float2 (_S8553);
    float2  _S8556 = make_float2 (_S8553 * _S8553);
    float u_69 = _S8555.x;
    float v_69 = _S8555.y;
    float r2_69 = u_69 * u_69 + v_69 * v_69;
    float _S8557 = (*dist_coeffs_104)[int(2)] + r2_69 * (*dist_coeffs_104)[int(3)];
    float _S8558 = (*dist_coeffs_104)[int(1)] + r2_69 * _S8557;
    float _S8559 = (*dist_coeffs_104)[int(0)] + r2_69 * _S8558;
    float radial_3 = 1.0f + r2_69 * _S8559;
    float2  _S8560 = make_float2 (radial_3);
    float _S8561 = _S8542 * u_69;
    float _S8562 = 2.0f * u_69;
    float _S8563 = _S8545 * u_69;
    float _S8564 = 2.0f * v_69;
    float2  _S8565 = _S8555 * make_float2 (radial_3) + make_float2 (_S8561 * v_69 + (*dist_coeffs_104)[int(5)] * (r2_69 + _S8562 * u_69) + (*dist_coeffs_104)[int(6)] * r2_69, _S8563 * v_69 + (*dist_coeffs_104)[int(4)] * (r2_69 + _S8564 * v_69) + (*dist_coeffs_104)[int(7)] * r2_69);
    float2  _S8566 = _S8565 + make_float2 ((*dist_coeffs_104)[int(8)] * _S8565.x + (*dist_coeffs_104)[int(9)] * _S8565.y, 0.0f);
    float _S8567 = fx_101 * _S8566.x + cx_96;
    float _S8568 = fy_101 * _S8566.y + cy_96;
    float2  uv1_6 = make_float2 (_S8567, _S8568);
    float2  _S8569 = float2 {vert2_c_4.x, vert2_c_4.y};
    float _S8570 = vert2_c_4.z;
    float2  _S8571 = make_float2 (_S8570);
    float2  _S8572 = _S8569 / make_float2 (_S8570);
    float2  _S8573 = make_float2 (_S8570 * _S8570);
    float u_70 = _S8572.x;
    float v_70 = _S8572.y;
    float r2_70 = u_70 * u_70 + v_70 * v_70;
    float _S8574 = (*dist_coeffs_104)[int(2)] + r2_70 * (*dist_coeffs_104)[int(3)];
    float _S8575 = (*dist_coeffs_104)[int(1)] + r2_70 * _S8574;
    float _S8576 = (*dist_coeffs_104)[int(0)] + r2_70 * _S8575;
    float radial_4 = 1.0f + r2_70 * _S8576;
    float2  _S8577 = make_float2 (radial_4);
    float _S8578 = _S8542 * u_70;
    float _S8579 = 2.0f * u_70;
    float _S8580 = _S8545 * u_70;
    float _S8581 = 2.0f * v_70;
    float2  _S8582 = _S8572 * make_float2 (radial_4) + make_float2 (_S8578 * v_70 + (*dist_coeffs_104)[int(5)] * (r2_70 + _S8579 * u_70) + (*dist_coeffs_104)[int(6)] * r2_70, _S8580 * v_70 + (*dist_coeffs_104)[int(4)] * (r2_70 + _S8581 * v_70) + (*dist_coeffs_104)[int(7)] * r2_70);
    float2  _S8583 = _S8582 + make_float2 ((*dist_coeffs_104)[int(8)] * _S8582.x + (*dist_coeffs_104)[int(9)] * _S8582.y, 0.0f);
    float _S8584 = fx_101 * _S8583.x + cx_96;
    float _S8585 = fy_101 * _S8583.y + cy_96;
    float2  uv2_6 = make_float2 (_S8584, _S8585);
    float2  e0_4 = uv1_6 - uv0_6;
    float2  e1_4 = uv2_6 - uv1_6;
    float2  e2_0 = uv0_6 - uv2_6;
    float _S8586 = e0_4.x;
    float _S8587 = e1_4.y;
    float _S8588 = e0_4.y;
    float _S8589 = e1_4.x;
    float _S8590 = _S8586 * _S8587 - _S8588 * _S8589;
    float _S8591 = 1.0f - hardness_4.y;
    float _S8592 = -1.0f / _S8591;
    float _S8593 = _S8591 * _S8591;
    float _S8594 = s_primal_ctx_max_0(_S8550, _S8567);
    float _S8595 = s_primal_ctx_min_0(_S8550, _S8567);
    float _S8596 = s_primal_ctx_max_0(_S8551, _S8568);
    float _S8597 = s_primal_ctx_min_0(_S8551, _S8568);
    float3  _S8598 = (vert0_c_4 + vert1_c_4 + vert2_c_4) / make_float3 (3.0f);
    float _S8599 = _S8598.z;
    float _S8600 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8601 = _S8600 * (_S8599 + length_1(_S8598));
    Matrix<float, 3, 3>  _S8602 = transpose_0(R_68);
    float3  _S8603 = mean_66 - - s_primal_ctx_mul_0(_S8602, t_64);
    float _S8604 = _S8603.x;
    float _S8605 = _S8603.y;
    float _S8606 = _S8603.z;
    float _S8607 = _S8604 * _S8604 + _S8605 * _S8605 + _S8606 * _S8606;
    float _S8608 = s_primal_ctx_sqrt_0(_S8607);
    float x_77 = _S8604 / _S8608;
    float3  _S8609 = make_float3 (x_77);
    float _S8610 = _S8608 * _S8608;
    float y_22 = _S8605 / _S8608;
    float z_19 = _S8606 / _S8608;
    float3  _S8611 = make_float3 (z_19);
    float _S8612 = - y_22;
    float3  _S8613 = make_float3 (_S8612);
    float z2_101 = z_19 * z_19;
    float fTmp0B_19 = -1.09254848957061768f * z_19;
    float fC1_19 = x_77 * x_77 - y_22 * y_22;
    float _S8614 = 2.0f * x_77;
    float fS1_19 = _S8614 * y_22;
    float pSH6_5 = 0.94617468118667603f * z2_101 - 0.31539157032966614f;
    float3  _S8615 = make_float3 (pSH6_5);
    float pSH7_5 = fTmp0B_19 * x_77;
    float3  _S8616 = make_float3 (pSH7_5);
    float pSH5_5 = fTmp0B_19 * y_22;
    float3  _S8617 = make_float3 (pSH5_5);
    float pSH8_5 = 0.54627424478530884f * fC1_19;
    float3  _S8618 = make_float3 (pSH8_5);
    float pSH4_5 = 0.54627424478530884f * fS1_19;
    float3  _S8619 = make_float3 (pSH4_5);
    float fTmp0C_19 = -2.28522896766662598f * z2_101 + 0.4570457935333252f;
    float fTmp1B_19 = 1.44530570507049561f * z_19;
    float _S8620 = 1.86588168144226074f * z2_101 - 1.11952900886535645f;
    float pSH12_5 = z_19 * _S8620;
    float3  _S8621 = make_float3 (pSH12_5);
    float pSH13_5 = fTmp0C_19 * x_77;
    float3  _S8622 = make_float3 (pSH13_5);
    float pSH11_5 = fTmp0C_19 * y_22;
    float3  _S8623 = make_float3 (pSH11_5);
    float pSH14_5 = fTmp1B_19 * fC1_19;
    float3  _S8624 = make_float3 (pSH14_5);
    float pSH10_5 = fTmp1B_19 * fS1_19;
    float3  _S8625 = make_float3 (pSH10_5);
    float pSH15_5 = -0.59004360437393188f * (x_77 * fC1_19 - y_22 * fS1_19);
    float3  _S8626 = make_float3 (pSH15_5);
    float pSH9_5 = -0.59004360437393188f * (x_77 * fS1_19 + y_22 * fC1_19);
    float3  _S8627 = make_float3 (pSH9_5);
    float3  color_4 = make_float3 (0.282094806432724f) * (*sh_coeffs_19)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S8612) * (*sh_coeffs_19)[int(1)] + make_float3 (z_19) * (*sh_coeffs_19)[int(2)] - make_float3 (x_77) * (*sh_coeffs_19)[int(3)]) + (make_float3 (pSH4_5) * (*sh_coeffs_19)[int(4)] + make_float3 (pSH5_5) * (*sh_coeffs_19)[int(5)] + make_float3 (pSH6_5) * (*sh_coeffs_19)[int(6)] + make_float3 (pSH7_5) * (*sh_coeffs_19)[int(7)] + make_float3 (pSH8_5) * (*sh_coeffs_19)[int(8)]) + (make_float3 (pSH9_5) * (*sh_coeffs_19)[int(9)] + make_float3 (pSH10_5) * (*sh_coeffs_19)[int(10)] + make_float3 (pSH11_5) * (*sh_coeffs_19)[int(11)] + make_float3 (pSH12_5) * (*sh_coeffs_19)[int(12)] + make_float3 (pSH13_5) * (*sh_coeffs_19)[int(13)] + make_float3 (pSH14_5) * (*sh_coeffs_19)[int(14)] + make_float3 (pSH15_5) * (*sh_coeffs_19)[int(15)]);
    float3  _S8628 = color_4 + (*ch_coeffs_4)[int(0)] + make_float3 (0.5f);
    float3  _S8629 = make_float3 (0.0f);
    float3  _S8630 = color_4 - (*ch_coeffs_4)[int(0)] * make_float3 (0.5f);
    float _S8631 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S8632 = make_float3 (_S8631);
    float3  _S8633 = (*ch_coeffs_4)[int(1)] * make_float3 (_S8631);
    float3  _S8634 = _S8630 + _S8633 + make_float3 (0.5f);
    float3  _S8635 = _S8630 - _S8633 + make_float3 (0.5f);
    float3  _S8636 = vert1_c_4 - vert0_c_4;
    float3  _S8637 = vert2_c_4 - vert0_c_4;
    float3  _S8638 = s_primal_ctx_cross_0(_S8636, _S8637);
    float3  _S8639 = normalize_0(_S8638);
    float3  _S8640 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S8639, mean_c_75)))))) * v_normal_0;
    float3  _S8641 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8642;
    (&_S8642)->primal_0 = _S8639;
    (&_S8642)->differential_0 = _S8641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8643;
    (&_S8643)->primal_0 = mean_c_75;
    (&_S8643)->differential_0 = _S8641;
    s_bwd_prop_dot_0(&_S8642, &_S8643, 0.0f);
    float3  _S8644 = _S8640 + _S8642.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8645;
    (&_S8645)->primal_0 = _S8638;
    (&_S8645)->differential_0 = _S8641;
    s_bwd_normalize_impl_0(&_S8645, _S8644);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8646;
    (&_S8646)->primal_0 = _S8636;
    (&_S8646)->differential_0 = _S8641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8647;
    (&_S8647)->primal_0 = _S8637;
    (&_S8647)->differential_0 = _S8641;
    s_bwd_prop_cross_0(&_S8646, &_S8647, _S8645.differential_0);
    float3  _S8648 = - _S8647.differential_0;
    float3  _S8649 = - _S8646.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8650;
    (&_S8650)->primal_0 = _S8635;
    (&_S8650)->differential_0 = _S8641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8651;
    (&_S8651)->primal_0 = _S8629;
    (&_S8651)->differential_0 = _S8641;
    s_bwd_prop_max_0(&_S8650, &_S8651, (*v_rgbs_0)[int(2)]);
    float3  _S8652 = - _S8650.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8653;
    (&_S8653)->primal_0 = _S8634;
    (&_S8653)->differential_0 = _S8641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8654;
    (&_S8654)->primal_0 = _S8629;
    (&_S8654)->differential_0 = _S8641;
    s_bwd_prop_max_0(&_S8653, &_S8654, (*v_rgbs_0)[int(1)]);
    float3  _S8655 = _S8632 * (_S8652 + _S8653.differential_0);
    float3  _S8656 = _S8650.differential_0 + _S8653.differential_0;
    float3  _S8657 = make_float3 (0.5f) * - _S8656;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8658;
    (&_S8658)->primal_0 = _S8628;
    (&_S8658)->differential_0 = _S8641;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8659;
    (&_S8659)->primal_0 = _S8629;
    (&_S8659)->differential_0 = _S8641;
    s_bwd_prop_max_0(&_S8658, &_S8659, (*v_rgbs_0)[int(0)]);
    float3  _S8660 = _S8657 + _S8658.differential_0;
    float3  _S8661 = _S8656 + _S8658.differential_0;
    float3  _S8662 = _S8626 * _S8661;
    float3  _S8663 = (*sh_coeffs_19)[int(15)] * _S8661;
    float3  _S8664 = _S8624 * _S8661;
    float3  _S8665 = (*sh_coeffs_19)[int(14)] * _S8661;
    float3  _S8666 = _S8622 * _S8661;
    float3  _S8667 = (*sh_coeffs_19)[int(13)] * _S8661;
    float3  _S8668 = _S8621 * _S8661;
    float3  _S8669 = (*sh_coeffs_19)[int(12)] * _S8661;
    float3  _S8670 = _S8623 * _S8661;
    float3  _S8671 = (*sh_coeffs_19)[int(11)] * _S8661;
    float3  _S8672 = _S8625 * _S8661;
    float3  _S8673 = (*sh_coeffs_19)[int(10)] * _S8661;
    float3  _S8674 = _S8627 * _S8661;
    float3  _S8675 = (*sh_coeffs_19)[int(9)] * _S8661;
    float s_diff_fS2_T_5 = -0.59004360437393188f * (_S8675.x + _S8675.y + _S8675.z);
    float s_diff_fC2_T_5 = -0.59004360437393188f * (_S8663.x + _S8663.y + _S8663.z);
    float _S8676 = _S8673.x + _S8673.y + _S8673.z;
    float _S8677 = _S8665.x + _S8665.y + _S8665.z;
    float _S8678 = _S8671.x + _S8671.y + _S8671.z;
    float _S8679 = _S8667.x + _S8667.y + _S8667.z;
    float _S8680 = _S8669.x + _S8669.y + _S8669.z;
    float _S8681 = - s_diff_fC2_T_5;
    float3  _S8682 = _S8618 * _S8661;
    float3  _S8683 = (*sh_coeffs_19)[int(8)] * _S8661;
    float3  _S8684 = _S8616 * _S8661;
    float3  _S8685 = (*sh_coeffs_19)[int(7)] * _S8661;
    float3  _S8686 = _S8615 * _S8661;
    float3  _S8687 = (*sh_coeffs_19)[int(6)] * _S8661;
    float3  _S8688 = _S8617 * _S8661;
    float3  _S8689 = (*sh_coeffs_19)[int(5)] * _S8661;
    float3  _S8690 = _S8619 * _S8661;
    float3  _S8691 = (*sh_coeffs_19)[int(4)] * _S8661;
    float _S8692 = _S8689.x + _S8689.y + _S8689.z;
    float _S8693 = _S8685.x + _S8685.y + _S8685.z;
    float _S8694 = fTmp1B_19 * _S8676 + x_77 * s_diff_fS2_T_5 + y_22 * _S8681 + 0.54627424478530884f * (_S8691.x + _S8691.y + _S8691.z);
    float _S8695 = fTmp1B_19 * _S8677 + y_22 * s_diff_fS2_T_5 + x_77 * s_diff_fC2_T_5 + 0.54627424478530884f * (_S8683.x + _S8683.y + _S8683.z);
    float _S8696 = y_22 * - _S8695;
    float _S8697 = x_77 * _S8695;
    float _S8698 = z_19 * (1.86588168144226074f * (z_19 * _S8680) + -2.28522896766662598f * (y_22 * _S8678 + x_77 * _S8679) + 0.94617468118667603f * (_S8687.x + _S8687.y + _S8687.z));
    float3  _S8699 = make_float3 (0.48860251903533936f) * _S8661;
    float3  _S8700 = - _S8699;
    float3  _S8701 = _S8609 * _S8700;
    float3  _S8702 = (*sh_coeffs_19)[int(3)] * _S8700;
    float3  _S8703 = _S8611 * _S8699;
    float3  _S8704 = (*sh_coeffs_19)[int(2)] * _S8699;
    float3  _S8705 = _S8613 * _S8699;
    float3  _S8706 = (*sh_coeffs_19)[int(1)] * _S8699;
    float _S8707 = (_S8620 * _S8680 + 1.44530570507049561f * (fS1_19 * _S8676 + fC1_19 * _S8677) + -1.09254848957061768f * (y_22 * _S8692 + x_77 * _S8693) + _S8698 + _S8698 + _S8704.x + _S8704.y + _S8704.z) / _S8610;
    float _S8708 = _S8608 * _S8707;
    float _S8709 = (fTmp0C_19 * _S8678 + fC1_19 * s_diff_fS2_T_5 + fS1_19 * _S8681 + fTmp0B_19 * _S8692 + _S8614 * _S8694 + _S8696 + _S8696 + - (_S8706.x + _S8706.y + _S8706.z)) / _S8610;
    float _S8710 = _S8608 * _S8709;
    float _S8711 = (fTmp0C_19 * _S8679 + fS1_19 * s_diff_fS2_T_5 + fC1_19 * s_diff_fC2_T_5 + fTmp0B_19 * _S8693 + 2.0f * (y_22 * _S8694) + _S8697 + _S8697 + _S8702.x + _S8702.y + _S8702.z) / _S8610;
    float _S8712 = _S8608 * _S8711;
    float _S8713 = _S8606 * - _S8707 + _S8605 * - _S8709 + _S8604 * - _S8711;
    DiffPair_float_0 _S8714;
    (&_S8714)->primal_0 = _S8607;
    (&_S8714)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8714, _S8713);
    float _S8715 = _S8606 * _S8714.differential_0;
    float _S8716 = _S8605 * _S8714.differential_0;
    float _S8717 = _S8604 * _S8714.differential_0;
    float3  _S8718 = make_float3 (0.282094806432724f) * _S8661;
    float3  _S8719 = make_float3 (_S8712 + _S8717 + _S8717, _S8710 + _S8716 + _S8716, _S8708 + _S8715 + _S8715);
    float3  _S8720 = - - _S8719;
    Matrix<float, 3, 3>  _S8721 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8722;
    (&_S8722)->primal_0 = _S8602;
    (&_S8722)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8723;
    (&_S8723)->primal_0 = t_64;
    (&_S8723)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8722, &_S8723, _S8720);
    Matrix<float, 3, 3>  _S8724 = transpose_0(_S8722.differential_0);
    DiffPair_float_0 _S8725;
    (&_S8725)->primal_0 = _S8599;
    (&_S8725)->differential_0 = 0.0f;
    DiffPair_float_0 _S8726;
    (&_S8726)->primal_0 = _S8601;
    (&_S8726)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8725, &_S8726, v_depth_20);
    float _S8727 = _S8600 * _S8726.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8728;
    (&_S8728)->primal_0 = _S8598;
    (&_S8728)->differential_0 = _S8641;
    s_bwd_length_impl_1(&_S8728, _S8727);
    float3  _S8729 = make_float3 (0.3333333432674408f) * (_S8728.differential_0 + make_float3 (0.0f, 0.0f, _S8725.differential_0 + _S8727));
    DiffPair_float_0 _S8730;
    (&_S8730)->primal_0 = _S8597;
    (&_S8730)->differential_0 = 0.0f;
    DiffPair_float_0 _S8731;
    (&_S8731)->primal_0 = _S8585;
    (&_S8731)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8730, &_S8731, 0.0f);
    DiffPair_float_0 _S8732;
    (&_S8732)->primal_0 = _S8551;
    (&_S8732)->differential_0 = 0.0f;
    DiffPair_float_0 _S8733;
    (&_S8733)->primal_0 = _S8568;
    (&_S8733)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8732, &_S8733, _S8730.differential_0);
    DiffPair_float_0 _S8734;
    (&_S8734)->primal_0 = _S8596;
    (&_S8734)->differential_0 = 0.0f;
    DiffPair_float_0 _S8735;
    (&_S8735)->primal_0 = _S8585;
    (&_S8735)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8734, &_S8735, 0.0f);
    DiffPair_float_0 _S8736;
    (&_S8736)->primal_0 = _S8551;
    (&_S8736)->differential_0 = 0.0f;
    DiffPair_float_0 _S8737;
    (&_S8737)->primal_0 = _S8568;
    (&_S8737)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8736, &_S8737, _S8734.differential_0);
    DiffPair_float_0 _S8738;
    (&_S8738)->primal_0 = _S8595;
    (&_S8738)->differential_0 = 0.0f;
    DiffPair_float_0 _S8739;
    (&_S8739)->primal_0 = _S8584;
    (&_S8739)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8738, &_S8739, 0.0f);
    DiffPair_float_0 _S8740;
    (&_S8740)->primal_0 = _S8550;
    (&_S8740)->differential_0 = 0.0f;
    DiffPair_float_0 _S8741;
    (&_S8741)->primal_0 = _S8567;
    (&_S8741)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8740, &_S8741, _S8738.differential_0);
    DiffPair_float_0 _S8742;
    (&_S8742)->primal_0 = _S8594;
    (&_S8742)->differential_0 = 0.0f;
    DiffPair_float_0 _S8743;
    (&_S8743)->primal_0 = _S8584;
    (&_S8743)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8742, &_S8743, 0.0f);
    DiffPair_float_0 _S8744;
    (&_S8744)->primal_0 = _S8550;
    (&_S8744)->differential_0 = 0.0f;
    DiffPair_float_0 _S8745;
    (&_S8745)->primal_0 = _S8567;
    (&_S8745)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8744, &_S8745, _S8742.differential_0);
    DiffPair_float_0 _S8746;
    (&_S8746)->primal_0 = _S8592;
    (&_S8746)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S8746, 0.0f);
    float _S8747 = - (-1.0f * - (_S8746.differential_0 / _S8593));
    float2  _S8748 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8749;
    (&_S8749)->primal_0 = e2_0;
    (&_S8749)->differential_0 = _S8748;
    s_bwd_length_impl_0(&_S8749, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8750;
    (&_S8750)->primal_0 = e1_4;
    (&_S8750)->differential_0 = _S8748;
    s_bwd_length_impl_0(&_S8750, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8751;
    (&_S8751)->primal_0 = e0_4;
    (&_S8751)->differential_0 = _S8748;
    s_bwd_length_impl_0(&_S8751, -0.0f);
    DiffPair_float_0 _S8752;
    (&_S8752)->primal_0 = _S8590;
    (&_S8752)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S8752, 0.0f);
    float _S8753 = - _S8752.differential_0;
    float2  _S8754 = _S8750.differential_0 + make_float2 (_S8588 * _S8753, _S8586 * _S8752.differential_0);
    float2  _S8755 = _S8751.differential_0 + make_float2 (_S8587 * _S8752.differential_0, _S8589 * _S8753);
    float2  _S8756 = - _S8749.differential_0 + _S8754;
    float _S8757 = fx_101 * (_S8739.differential_0 + _S8743.differential_0 + _S8756.x);
    float2  _S8758 = make_float2 (_S8757, fy_101 * (_S8731.differential_0 + _S8735.differential_0 + _S8756.y)) + make_float2 ((*dist_coeffs_104)[int(8)] * _S8757, (*dist_coeffs_104)[int(9)] * _S8757);
    float2  _S8759 = _S8572 * _S8758;
    float _S8760 = (*dist_coeffs_104)[int(4)] * _S8758.y;
    float _S8761 = (*dist_coeffs_104)[int(5)] * _S8758.x;
    float _S8762 = _S8759.x + _S8759.y;
    float _S8763 = r2_70 * _S8762;
    float _S8764 = r2_70 * _S8763;
    float _S8765 = (*dist_coeffs_104)[int(7)] * _S8758.y + _S8760 + (*dist_coeffs_104)[int(6)] * _S8758.x + _S8761 + _S8576 * _S8762 + _S8575 * _S8763 + _S8574 * _S8764 + (*dist_coeffs_104)[int(3)] * (r2_70 * _S8764);
    float _S8766 = v_70 * _S8765;
    float _S8767 = u_70 * _S8765;
    float2  _S8768 = (_S8577 * _S8758 + make_float2 (_S8545 * (v_70 * _S8758.y) + _S8579 * _S8761 + 2.0f * (u_70 * _S8761) + _S8542 * (v_70 * _S8758.x) + _S8767 + _S8767, _S8581 * _S8760 + 2.0f * (v_70 * _S8760) + _S8580 * _S8758.y + _S8578 * _S8758.x + _S8766 + _S8766)) / _S8573;
    float2  _S8769 = _S8569 * - _S8768;
    float2  _S8770 = _S8571 * _S8768;
    float2  _S8771 = - _S8754 + _S8755;
    float _S8772 = fx_101 * (_S8741.differential_0 + _S8745.differential_0 + _S8771.x);
    float2  _S8773 = make_float2 (_S8772, fy_101 * (_S8733.differential_0 + _S8737.differential_0 + _S8771.y)) + make_float2 ((*dist_coeffs_104)[int(8)] * _S8772, (*dist_coeffs_104)[int(9)] * _S8772);
    float2  _S8774 = _S8555 * _S8773;
    float _S8775 = (*dist_coeffs_104)[int(4)] * _S8773.y;
    float _S8776 = (*dist_coeffs_104)[int(5)] * _S8773.x;
    float _S8777 = _S8774.x + _S8774.y;
    float _S8778 = r2_69 * _S8777;
    float _S8779 = r2_69 * _S8778;
    float _S8780 = (*dist_coeffs_104)[int(7)] * _S8773.y + _S8775 + (*dist_coeffs_104)[int(6)] * _S8773.x + _S8776 + _S8559 * _S8777 + _S8558 * _S8778 + _S8557 * _S8779 + (*dist_coeffs_104)[int(3)] * (r2_69 * _S8779);
    float _S8781 = v_69 * _S8780;
    float _S8782 = u_69 * _S8780;
    float2  _S8783 = (_S8560 * _S8773 + make_float2 (_S8545 * (v_69 * _S8773.y) + _S8562 * _S8776 + 2.0f * (u_69 * _S8776) + _S8542 * (v_69 * _S8773.x) + _S8782 + _S8782, _S8564 * _S8775 + 2.0f * (v_69 * _S8775) + _S8563 * _S8773.y + _S8561 * _S8773.x + _S8781 + _S8781)) / _S8556;
    float2  _S8784 = _S8552 * - _S8783;
    float2  _S8785 = _S8554 * _S8783;
    float _S8786 = _S8784.x + _S8784.y;
    float2  _S8787 = _S8749.differential_0 + - _S8755;
    float _S8788 = fx_101 * (_S8740.differential_0 + _S8744.differential_0 + _S8787.x);
    float2  _S8789 = make_float2 (_S8788, fy_101 * (_S8732.differential_0 + _S8736.differential_0 + _S8787.y)) + make_float2 ((*dist_coeffs_104)[int(8)] * _S8788, (*dist_coeffs_104)[int(9)] * _S8788);
    float2  _S8790 = _S8536 * _S8789;
    float _S8791 = (*dist_coeffs_104)[int(4)] * _S8789.y;
    float _S8792 = (*dist_coeffs_104)[int(5)] * _S8789.x;
    float _S8793 = _S8790.x + _S8790.y;
    float _S8794 = r2_68 * _S8793;
    float _S8795 = r2_68 * _S8794;
    float _S8796 = (*dist_coeffs_104)[int(7)] * _S8789.y + _S8791 + (*dist_coeffs_104)[int(6)] * _S8789.x + _S8792 + _S8540 * _S8793 + _S8539 * _S8794 + _S8538 * _S8795 + (*dist_coeffs_104)[int(3)] * (r2_68 * _S8795);
    float _S8797 = v_68 * _S8796;
    float _S8798 = u_68 * _S8796;
    float2  _S8799 = (_S8541 * _S8789 + make_float2 (_S8545 * (v_68 * _S8789.y) + _S8544 * _S8792 + 2.0f * (u_68 * _S8792) + _S8542 * (v_68 * _S8789.x) + _S8798 + _S8798, _S8547 * _S8791 + 2.0f * (v_68 * _S8791) + _S8546 * _S8789.y + _S8543 * _S8789.x + _S8797 + _S8797)) / _S8537;
    float2  _S8800 = _S8533 * - _S8799;
    float2  _S8801 = _S8535 * _S8799;
    float _S8802 = _S8800.x + _S8800.y;
    float3  _S8803 = _S8647.differential_0 + _S8729 + make_float3 (_S8770.x, _S8770.y, _S8769.x + _S8769.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8804;
    (&_S8804)->primal_0 = R_68;
    (&_S8804)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8805;
    (&_S8805)->primal_0 = vert2_5;
    (&_S8805)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8804, &_S8805, _S8803);
    float3  _S8806 = _S8646.differential_0 + _S8729 + make_float3 (_S8785.x, _S8785.y, _S8786);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8807;
    (&_S8807)->primal_0 = R_68;
    (&_S8807)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8808;
    (&_S8808)->primal_0 = vert1_5;
    (&_S8808)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8807, &_S8808, _S8806);
    float3  _S8809 = _S8648 + _S8649 + _S8729 + make_float3 (_S8801.x, _S8801.y, _S8802);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8810;
    (&_S8810)->primal_0 = R_68;
    (&_S8810)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8811;
    (&_S8811)->primal_0 = vert0_5;
    (&_S8811)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8810, &_S8811, _S8809);
    float3  _S8812 = (*v_verts_0)[int(2)] + _S8805.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8813;
    (&_S8813)->primal_0 = _S8527;
    (&_S8813)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8814;
    (&_S8814)->primal_0 = _S8532;
    (&_S8814)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8813, &_S8814, _S8812);
    float _S8815 = - _S8814.differential_0.y;
    float _S8816 = _S8531 * _S8814.differential_0.x;
    float _S8817 = - (_S8523 * _S8814.differential_0.x);
    float3  _S8818 = (*v_verts_0)[int(1)] + _S8808.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8819;
    (&_S8819)->primal_0 = _S8527;
    (&_S8819)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8820;
    (&_S8820)->primal_0 = _S8530;
    (&_S8820)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8819, &_S8820, _S8818);
    float _S8821 = _S8523 * _S8820.differential_0.x;
    float _S8822 = _S8529 * _S8820.differential_0.x;
    float3  _S8823 = (*v_verts_0)[int(0)] + _S8811.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8824;
    (&_S8824)->primal_0 = _S8527;
    (&_S8824)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8825;
    (&_S8825)->primal_0 = _S8528;
    (&_S8825)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8824, &_S8825, _S8823);
    Matrix<float, 3, 3>  _S8826 = transpose_0(_S8813.differential_0 + _S8819.differential_0 + _S8824.differential_0);
    float _S8827 = 2.0f * - _S8826.rows[int(2)].z;
    float _S8828 = 2.0f * _S8826.rows[int(2)].y;
    float _S8829 = 2.0f * _S8826.rows[int(2)].x;
    float _S8830 = 2.0f * _S8826.rows[int(1)].z;
    float _S8831 = 2.0f * - _S8826.rows[int(1)].y;
    float _S8832 = 2.0f * _S8826.rows[int(1)].x;
    float _S8833 = 2.0f * _S8826.rows[int(0)].z;
    float _S8834 = 2.0f * _S8826.rows[int(0)].y;
    float _S8835 = 2.0f * - _S8826.rows[int(0)].x;
    float _S8836 = - _S8832 + _S8834;
    float _S8837 = _S8829 + - _S8833;
    float _S8838 = - _S8828 + _S8830;
    float _S8839 = _S8828 + _S8830;
    float _S8840 = _S8829 + _S8833;
    float _S8841 = _S8832 + _S8834;
    float _S8842 = quat_67.w * (_S8831 + _S8835);
    float _S8843 = quat_67.z * (_S8827 + _S8835);
    float _S8844 = quat_67.y * (_S8827 + _S8831);
    float _S8845 = quat_67.x * _S8836 + quat_67.z * _S8839 + quat_67.y * _S8840 + _S8842 + _S8842;
    float _S8846 = quat_67.x * _S8837 + quat_67.w * _S8839 + quat_67.y * _S8841 + _S8843 + _S8843;
    float _S8847 = quat_67.x * _S8838 + quat_67.w * _S8840 + quat_67.z * _S8841 + _S8844 + _S8844;
    float _S8848 = quat_67.w * _S8836 + quat_67.z * _S8837 + quat_67.y * _S8838;
    float _S8849 = _S8817 + _S8821;
    float _S8850 = 0.5f * - _S8849;
    float _S8851 = _S8815 + _S8820.differential_0.y;
    DiffPair_float_0 _S8852;
    (&_S8852)->primal_0 = _S8524;
    (&_S8852)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8852, _S8851);
    float _S8853 = _S8850 + _S8852.differential_0;
    float _S8854 = _S8816 + _S8822 + _S8825.differential_0.x;
    DiffPair_float_0 _S8855;
    (&_S8855)->primal_0 = _S8522;
    (&_S8855)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8855, _S8854);
    float _S8856 = _S8850 + _S8855.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8857;
    (&_S8857)->primal_0 = R_68;
    (&_S8857)->differential_0 = _S8721;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8858;
    (&_S8858)->primal_0 = mean_66;
    (&_S8858)->differential_0 = _S8641;
    s_bwd_prop_mul_1(&_S8857, &_S8858, _S8643.differential_0);
    float3  _S8859 = _S8723.differential_0 + _S8803 + _S8806 + _S8809 + _S8643.differential_0;
    Matrix<float, 3, 3>  _S8860 = _S8724 + _S8804.differential_0 + _S8807.differential_0 + _S8810.differential_0 + _S8857.differential_0;
    FixedArray<float3 , 2>  _S8861;
    _S8861[int(0)] = _S8641;
    _S8861[int(1)] = _S8641;
    _S8861[int(1)] = _S8655;
    _S8861[int(0)] = _S8660;
    FixedArray<float3 , 16>  _S8862;
    _S8862[int(0)] = _S8641;
    _S8862[int(1)] = _S8641;
    _S8862[int(2)] = _S8641;
    _S8862[int(3)] = _S8641;
    _S8862[int(4)] = _S8641;
    _S8862[int(5)] = _S8641;
    _S8862[int(6)] = _S8641;
    _S8862[int(7)] = _S8641;
    _S8862[int(8)] = _S8641;
    _S8862[int(9)] = _S8641;
    _S8862[int(10)] = _S8641;
    _S8862[int(11)] = _S8641;
    _S8862[int(12)] = _S8641;
    _S8862[int(13)] = _S8641;
    _S8862[int(14)] = _S8641;
    _S8862[int(15)] = _S8641;
    _S8862[int(15)] = _S8662;
    _S8862[int(14)] = _S8664;
    _S8862[int(13)] = _S8666;
    _S8862[int(12)] = _S8668;
    _S8862[int(11)] = _S8670;
    _S8862[int(10)] = _S8672;
    _S8862[int(9)] = _S8674;
    _S8862[int(8)] = _S8682;
    _S8862[int(7)] = _S8684;
    _S8862[int(6)] = _S8686;
    _S8862[int(5)] = _S8688;
    _S8862[int(4)] = _S8690;
    _S8862[int(3)] = _S8701;
    _S8862[int(2)] = _S8703;
    _S8862[int(1)] = _S8705;
    _S8862[int(0)] = _S8718;
    float2  _S8863 = make_float2 (0.0f, _S8747);
    float3  _S8864 = make_float3 (_S8856, _S8853, _S8849);
    float4  _S8865 = make_float4 (0.0f);
    *&((&_S8865)->w) = _S8845;
    *&((&_S8865)->z) = _S8846;
    *&((&_S8865)->y) = _S8847;
    *&((&_S8865)->x) = _S8848;
    *v_mean_21 = _S8719 + _S8812 + _S8818 + _S8823 + _S8858.differential_0;
    *v_quat_20 = _S8865;
    *v_scale_20 = _S8864;
    *v_hardness_0 = _S8863;
    *v_sh_coeffs_5 = _S8862;
    *v_ch_coeffs_0 = _S8861;
    *v_R_21 = _S8860;
    *v_t_20 = _S8859;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye_vjp(float3  mean_67, float4  quat_68, float3  scale_67, float2  hardness_5, FixedArray<float3 , 16>  * sh_coeffs_20, FixedArray<float3 , 2>  * ch_coeffs_5, Matrix<float, 3, 3>  R_69, float3  t_65, float fx_102, float fy_102, float cx_97, float cy_97, FixedArray<float, 10>  * dist_coeffs_105, uint image_width_90, uint image_height_90, float v_depth_21, FixedArray<float3 , 3>  * v_verts_1, FixedArray<float3 , 3>  * v_rgbs_1, float3  v_normal_1, float3  * v_mean_22, float4  * v_quat_21, float3  * v_scale_21, float2  * v_hardness_1, FixedArray<float3 , 16>  * v_sh_coeffs_6, FixedArray<float3 , 2>  * v_ch_coeffs_1, Matrix<float, 3, 3>  * v_R_22, float3  * v_t_21)
{
    float3  mean_c_76 = s_primal_ctx_mul_0(R_69, mean_67) + t_65;
    float _S8866 = scale_67.x;
    float _S8867 = s_primal_ctx_exp_1(_S8866);
    float _S8868 = scale_67.y;
    float _S8869 = s_primal_ctx_exp_1(_S8868);
    float sz_6 = scale_67.z - 0.5f * (_S8866 + _S8868);
    float _S8870 = quat_68.y;
    float x2_82 = _S8870 * _S8870;
    float y2_82 = quat_68.z * quat_68.z;
    float z2_102 = quat_68.w * quat_68.w;
    float xy_82 = quat_68.y * quat_68.z;
    float xz_82 = quat_68.y * quat_68.w;
    float yz_82 = quat_68.z * quat_68.w;
    float wx_82 = quat_68.x * quat_68.y;
    float wy_82 = quat_68.x * quat_68.z;
    float wz_82 = quat_68.x * quat_68.w;
    Matrix<float, 3, 3>  _S8871 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_82 + z2_102), 2.0f * (xy_82 + wz_82), 2.0f * (xz_82 - wy_82), 2.0f * (xy_82 - wz_82), 1.0f - 2.0f * (x2_82 + z2_102), 2.0f * (yz_82 + wx_82), 2.0f * (xz_82 + wy_82), 2.0f * (yz_82 - wx_82), 1.0f - 2.0f * (x2_82 + y2_82)));
    float3  _S8872 = make_float3 (_S8867, 0.0f, 0.0f);
    float3  vert0_6 = s_primal_ctx_mul_0(_S8871, _S8872) + mean_67;
    float _S8873 = -0.5f + sz_6;
    float3  _S8874 = make_float3 (_S8867 * _S8873, _S8869, 0.0f);
    float3  vert1_6 = s_primal_ctx_mul_0(_S8871, _S8874) + mean_67;
    float _S8875 = -0.5f - sz_6;
    float3  _S8876 = make_float3 (_S8867 * _S8875, - _S8869, 0.0f);
    float3  vert2_6 = s_primal_ctx_mul_0(_S8871, _S8876) + mean_67;
    float3  vert0_c_5 = s_primal_ctx_mul_0(R_69, vert0_6) + t_65;
    float3  vert1_c_5 = s_primal_ctx_mul_0(R_69, vert1_6) + t_65;
    float3  vert2_c_5 = s_primal_ctx_mul_0(R_69, vert2_6) + t_65;
    float2  _S8877 = float2 {vert0_c_5.x, vert0_c_5.y};
    float _S8878 = length_0(_S8877);
    float _S8879 = vert0_c_5.z;
    float _S8880 = s_primal_ctx_atan2_0(_S8878, _S8879);
    bool _S8881 = _S8880 < 0.00100000004749745f;
    float k_9;
    float _S8882;
    float _S8883;
    float _S8884;
    if(_S8881)
    {
        float _S8885 = 1.0f - _S8880 * _S8880 / 3.0f;
        float _S8886 = _S8879 * _S8879;
        k_9 = _S8885 / _S8879;
        _S8882 = 0.0f;
        _S8883 = _S8886;
        _S8884 = _S8885;
    }
    else
    {
        float _S8887 = _S8878 * _S8878;
        k_9 = _S8880 / _S8878;
        _S8882 = _S8887;
        _S8883 = 0.0f;
        _S8884 = 0.0f;
    }
    float2  _S8888 = make_float2 (k_9);
    float2  _S8889 = _S8877 * make_float2 (k_9);
    float u_71 = _S8889.x;
    float v_71 = _S8889.y;
    float r2_71 = u_71 * u_71 + v_71 * v_71;
    float _S8890 = (*dist_coeffs_105)[int(2)] + r2_71 * (*dist_coeffs_105)[int(3)];
    float _S8891 = (*dist_coeffs_105)[int(1)] + r2_71 * _S8890;
    float _S8892 = (*dist_coeffs_105)[int(0)] + r2_71 * _S8891;
    float radial_5 = 1.0f + r2_71 * _S8892;
    float2  _S8893 = make_float2 (radial_5);
    float _S8894 = 2.0f * (*dist_coeffs_105)[int(4)];
    float _S8895 = _S8894 * u_71;
    float _S8896 = 2.0f * u_71;
    float _S8897 = 2.0f * (*dist_coeffs_105)[int(5)];
    float _S8898 = _S8897 * u_71;
    float _S8899 = 2.0f * v_71;
    float2  _S8900 = _S8889 * make_float2 (radial_5) + make_float2 (_S8895 * v_71 + (*dist_coeffs_105)[int(5)] * (r2_71 + _S8896 * u_71) + (*dist_coeffs_105)[int(6)] * r2_71, _S8898 * v_71 + (*dist_coeffs_105)[int(4)] * (r2_71 + _S8899 * v_71) + (*dist_coeffs_105)[int(7)] * r2_71);
    float2  _S8901 = _S8900 + make_float2 ((*dist_coeffs_105)[int(8)] * _S8900.x + (*dist_coeffs_105)[int(9)] * _S8900.y, 0.0f);
    float _S8902 = fx_102 * _S8901.x + cx_97;
    float _S8903 = fy_102 * _S8901.y + cy_97;
    float2  uv0_7 = make_float2 (_S8902, _S8903);
    float2  _S8904 = float2 {vert1_c_5.x, vert1_c_5.y};
    float _S8905 = length_0(_S8904);
    float _S8906 = vert1_c_5.z;
    float _S8907 = s_primal_ctx_atan2_0(_S8905, _S8906);
    bool _S8908 = _S8907 < 0.00100000004749745f;
    float _S8909;
    float _S8910;
    float _S8911;
    if(_S8908)
    {
        float _S8912 = 1.0f - _S8907 * _S8907 / 3.0f;
        float _S8913 = _S8906 * _S8906;
        k_9 = _S8912 / _S8906;
        _S8909 = 0.0f;
        _S8910 = _S8913;
        _S8911 = _S8912;
    }
    else
    {
        float _S8914 = _S8905 * _S8905;
        k_9 = _S8907 / _S8905;
        _S8909 = _S8914;
        _S8910 = 0.0f;
        _S8911 = 0.0f;
    }
    float2  _S8915 = make_float2 (k_9);
    float2  _S8916 = _S8904 * make_float2 (k_9);
    float u_72 = _S8916.x;
    float v_72 = _S8916.y;
    float r2_72 = u_72 * u_72 + v_72 * v_72;
    float _S8917 = (*dist_coeffs_105)[int(2)] + r2_72 * (*dist_coeffs_105)[int(3)];
    float _S8918 = (*dist_coeffs_105)[int(1)] + r2_72 * _S8917;
    float _S8919 = (*dist_coeffs_105)[int(0)] + r2_72 * _S8918;
    float radial_6 = 1.0f + r2_72 * _S8919;
    float2  _S8920 = make_float2 (radial_6);
    float _S8921 = _S8894 * u_72;
    float _S8922 = 2.0f * u_72;
    float _S8923 = _S8897 * u_72;
    float _S8924 = 2.0f * v_72;
    float2  _S8925 = _S8916 * make_float2 (radial_6) + make_float2 (_S8921 * v_72 + (*dist_coeffs_105)[int(5)] * (r2_72 + _S8922 * u_72) + (*dist_coeffs_105)[int(6)] * r2_72, _S8923 * v_72 + (*dist_coeffs_105)[int(4)] * (r2_72 + _S8924 * v_72) + (*dist_coeffs_105)[int(7)] * r2_72);
    float2  _S8926 = _S8925 + make_float2 ((*dist_coeffs_105)[int(8)] * _S8925.x + (*dist_coeffs_105)[int(9)] * _S8925.y, 0.0f);
    float _S8927 = fx_102 * _S8926.x + cx_97;
    float _S8928 = fy_102 * _S8926.y + cy_97;
    float2  uv1_7 = make_float2 (_S8927, _S8928);
    float2  _S8929 = float2 {vert2_c_5.x, vert2_c_5.y};
    float _S8930 = length_0(_S8929);
    float _S8931 = vert2_c_5.z;
    float _S8932 = s_primal_ctx_atan2_0(_S8930, _S8931);
    bool _S8933 = _S8932 < 0.00100000004749745f;
    float _S8934;
    float _S8935;
    float _S8936;
    if(_S8933)
    {
        float _S8937 = 1.0f - _S8932 * _S8932 / 3.0f;
        float _S8938 = _S8931 * _S8931;
        k_9 = _S8937 / _S8931;
        _S8934 = 0.0f;
        _S8935 = _S8938;
        _S8936 = _S8937;
    }
    else
    {
        float _S8939 = _S8930 * _S8930;
        k_9 = _S8932 / _S8930;
        _S8934 = _S8939;
        _S8935 = 0.0f;
        _S8936 = 0.0f;
    }
    float2  _S8940 = make_float2 (k_9);
    float2  _S8941 = _S8929 * make_float2 (k_9);
    float u_73 = _S8941.x;
    float v_73 = _S8941.y;
    float r2_73 = u_73 * u_73 + v_73 * v_73;
    float _S8942 = (*dist_coeffs_105)[int(2)] + r2_73 * (*dist_coeffs_105)[int(3)];
    float _S8943 = (*dist_coeffs_105)[int(1)] + r2_73 * _S8942;
    float _S8944 = (*dist_coeffs_105)[int(0)] + r2_73 * _S8943;
    float radial_7 = 1.0f + r2_73 * _S8944;
    float2  _S8945 = make_float2 (radial_7);
    float _S8946 = _S8894 * u_73;
    float _S8947 = 2.0f * u_73;
    float _S8948 = _S8897 * u_73;
    float _S8949 = 2.0f * v_73;
    float2  _S8950 = _S8941 * make_float2 (radial_7) + make_float2 (_S8946 * v_73 + (*dist_coeffs_105)[int(5)] * (r2_73 + _S8947 * u_73) + (*dist_coeffs_105)[int(6)] * r2_73, _S8948 * v_73 + (*dist_coeffs_105)[int(4)] * (r2_73 + _S8949 * v_73) + (*dist_coeffs_105)[int(7)] * r2_73);
    float2  _S8951 = _S8950 + make_float2 ((*dist_coeffs_105)[int(8)] * _S8950.x + (*dist_coeffs_105)[int(9)] * _S8950.y, 0.0f);
    float _S8952 = fx_102 * _S8951.x + cx_97;
    float _S8953 = fy_102 * _S8951.y + cy_97;
    float2  uv2_7 = make_float2 (_S8952, _S8953);
    float2  e0_5 = uv1_7 - uv0_7;
    float2  e1_5 = uv2_7 - uv1_7;
    float2  e2_1 = uv0_7 - uv2_7;
    float _S8954 = e0_5.x;
    float _S8955 = e1_5.y;
    float _S8956 = e0_5.y;
    float _S8957 = e1_5.x;
    float _S8958 = _S8954 * _S8955 - _S8956 * _S8957;
    float _S8959 = 1.0f - hardness_5.y;
    float _S8960 = -1.0f / _S8959;
    float _S8961 = _S8959 * _S8959;
    float _S8962 = s_primal_ctx_max_0(_S8902, _S8927);
    float _S8963 = s_primal_ctx_min_0(_S8902, _S8927);
    float _S8964 = s_primal_ctx_max_0(_S8903, _S8928);
    float _S8965 = s_primal_ctx_min_0(_S8903, _S8928);
    float3  _S8966 = (vert0_c_5 + vert1_c_5 + vert2_c_5) / make_float3 (3.0f);
    float _S8967 = _S8966.z;
    float _S8968 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8969 = _S8968 * (_S8967 + length_1(_S8966));
    Matrix<float, 3, 3>  _S8970 = transpose_0(R_69);
    float3  _S8971 = mean_67 - - s_primal_ctx_mul_0(_S8970, t_65);
    float _S8972 = _S8971.x;
    float _S8973 = _S8971.y;
    float _S8974 = _S8971.z;
    float _S8975 = _S8972 * _S8972 + _S8973 * _S8973 + _S8974 * _S8974;
    float _S8976 = s_primal_ctx_sqrt_0(_S8975);
    float x_78 = _S8972 / _S8976;
    float3  _S8977 = make_float3 (x_78);
    float _S8978 = _S8976 * _S8976;
    float y_23 = _S8973 / _S8976;
    float z_20 = _S8974 / _S8976;
    float3  _S8979 = make_float3 (z_20);
    float _S8980 = - y_23;
    float3  _S8981 = make_float3 (_S8980);
    float z2_103 = z_20 * z_20;
    float fTmp0B_20 = -1.09254848957061768f * z_20;
    float fC1_20 = x_78 * x_78 - y_23 * y_23;
    float _S8982 = 2.0f * x_78;
    float fS1_20 = _S8982 * y_23;
    float pSH6_6 = 0.94617468118667603f * z2_103 - 0.31539157032966614f;
    float3  _S8983 = make_float3 (pSH6_6);
    float pSH7_6 = fTmp0B_20 * x_78;
    float3  _S8984 = make_float3 (pSH7_6);
    float pSH5_6 = fTmp0B_20 * y_23;
    float3  _S8985 = make_float3 (pSH5_6);
    float pSH8_6 = 0.54627424478530884f * fC1_20;
    float3  _S8986 = make_float3 (pSH8_6);
    float pSH4_6 = 0.54627424478530884f * fS1_20;
    float3  _S8987 = make_float3 (pSH4_6);
    float fTmp0C_20 = -2.28522896766662598f * z2_103 + 0.4570457935333252f;
    float fTmp1B_20 = 1.44530570507049561f * z_20;
    float _S8988 = 1.86588168144226074f * z2_103 - 1.11952900886535645f;
    float pSH12_6 = z_20 * _S8988;
    float3  _S8989 = make_float3 (pSH12_6);
    float pSH13_6 = fTmp0C_20 * x_78;
    float3  _S8990 = make_float3 (pSH13_6);
    float pSH11_6 = fTmp0C_20 * y_23;
    float3  _S8991 = make_float3 (pSH11_6);
    float pSH14_6 = fTmp1B_20 * fC1_20;
    float3  _S8992 = make_float3 (pSH14_6);
    float pSH10_6 = fTmp1B_20 * fS1_20;
    float3  _S8993 = make_float3 (pSH10_6);
    float pSH15_6 = -0.59004360437393188f * (x_78 * fC1_20 - y_23 * fS1_20);
    float3  _S8994 = make_float3 (pSH15_6);
    float pSH9_6 = -0.59004360437393188f * (x_78 * fS1_20 + y_23 * fC1_20);
    float3  _S8995 = make_float3 (pSH9_6);
    float3  color_5 = make_float3 (0.282094806432724f) * (*sh_coeffs_20)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S8980) * (*sh_coeffs_20)[int(1)] + make_float3 (z_20) * (*sh_coeffs_20)[int(2)] - make_float3 (x_78) * (*sh_coeffs_20)[int(3)]) + (make_float3 (pSH4_6) * (*sh_coeffs_20)[int(4)] + make_float3 (pSH5_6) * (*sh_coeffs_20)[int(5)] + make_float3 (pSH6_6) * (*sh_coeffs_20)[int(6)] + make_float3 (pSH7_6) * (*sh_coeffs_20)[int(7)] + make_float3 (pSH8_6) * (*sh_coeffs_20)[int(8)]) + (make_float3 (pSH9_6) * (*sh_coeffs_20)[int(9)] + make_float3 (pSH10_6) * (*sh_coeffs_20)[int(10)] + make_float3 (pSH11_6) * (*sh_coeffs_20)[int(11)] + make_float3 (pSH12_6) * (*sh_coeffs_20)[int(12)] + make_float3 (pSH13_6) * (*sh_coeffs_20)[int(13)] + make_float3 (pSH14_6) * (*sh_coeffs_20)[int(14)] + make_float3 (pSH15_6) * (*sh_coeffs_20)[int(15)]);
    float3  _S8996 = color_5 + (*ch_coeffs_5)[int(0)] + make_float3 (0.5f);
    float3  _S8997 = make_float3 (0.0f);
    float3  _S8998 = color_5 - (*ch_coeffs_5)[int(0)] * make_float3 (0.5f);
    float _S8999 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S9000 = make_float3 (_S8999);
    float3  _S9001 = (*ch_coeffs_5)[int(1)] * make_float3 (_S8999);
    float3  _S9002 = _S8998 + _S9001 + make_float3 (0.5f);
    float3  _S9003 = _S8998 - _S9001 + make_float3 (0.5f);
    float3  _S9004 = vert1_c_5 - vert0_c_5;
    float3  _S9005 = vert2_c_5 - vert0_c_5;
    float3  _S9006 = s_primal_ctx_cross_0(_S9004, _S9005);
    float3  _S9007 = normalize_0(_S9006);
    float3  _S9008 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S9007, mean_c_76)))))) * v_normal_1;
    float3  _S9009 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9010;
    (&_S9010)->primal_0 = _S9007;
    (&_S9010)->differential_0 = _S9009;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9011;
    (&_S9011)->primal_0 = mean_c_76;
    (&_S9011)->differential_0 = _S9009;
    s_bwd_prop_dot_0(&_S9010, &_S9011, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9012 = _S9011;
    float3  _S9013 = _S9008 + _S9010.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9014;
    (&_S9014)->primal_0 = _S9006;
    (&_S9014)->differential_0 = _S9009;
    s_bwd_normalize_impl_0(&_S9014, _S9013);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9015;
    (&_S9015)->primal_0 = _S9004;
    (&_S9015)->differential_0 = _S9009;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9016;
    (&_S9016)->primal_0 = _S9005;
    (&_S9016)->differential_0 = _S9009;
    s_bwd_prop_cross_0(&_S9015, &_S9016, _S9014.differential_0);
    float3  _S9017 = - _S9016.differential_0;
    float3  _S9018 = - _S9015.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9019;
    (&_S9019)->primal_0 = _S9003;
    (&_S9019)->differential_0 = _S9009;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9020;
    (&_S9020)->primal_0 = _S8997;
    (&_S9020)->differential_0 = _S9009;
    s_bwd_prop_max_0(&_S9019, &_S9020, (*v_rgbs_1)[int(2)]);
    float3  _S9021 = - _S9019.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9022;
    (&_S9022)->primal_0 = _S9002;
    (&_S9022)->differential_0 = _S9009;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9023;
    (&_S9023)->primal_0 = _S8997;
    (&_S9023)->differential_0 = _S9009;
    s_bwd_prop_max_0(&_S9022, &_S9023, (*v_rgbs_1)[int(1)]);
    float3  _S9024 = _S9000 * (_S9021 + _S9022.differential_0);
    float3  _S9025 = _S9019.differential_0 + _S9022.differential_0;
    float3  _S9026 = make_float3 (0.5f) * - _S9025;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9027;
    (&_S9027)->primal_0 = _S8996;
    (&_S9027)->differential_0 = _S9009;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9028;
    (&_S9028)->primal_0 = _S8997;
    (&_S9028)->differential_0 = _S9009;
    s_bwd_prop_max_0(&_S9027, &_S9028, (*v_rgbs_1)[int(0)]);
    float3  _S9029 = _S9026 + _S9027.differential_0;
    float3  _S9030 = _S9025 + _S9027.differential_0;
    float3  _S9031 = _S8994 * _S9030;
    float3  _S9032 = (*sh_coeffs_20)[int(15)] * _S9030;
    float3  _S9033 = _S8992 * _S9030;
    float3  _S9034 = (*sh_coeffs_20)[int(14)] * _S9030;
    float3  _S9035 = _S8990 * _S9030;
    float3  _S9036 = (*sh_coeffs_20)[int(13)] * _S9030;
    float3  _S9037 = _S8989 * _S9030;
    float3  _S9038 = (*sh_coeffs_20)[int(12)] * _S9030;
    float3  _S9039 = _S8991 * _S9030;
    float3  _S9040 = (*sh_coeffs_20)[int(11)] * _S9030;
    float3  _S9041 = _S8993 * _S9030;
    float3  _S9042 = (*sh_coeffs_20)[int(10)] * _S9030;
    float3  _S9043 = _S8995 * _S9030;
    float3  _S9044 = (*sh_coeffs_20)[int(9)] * _S9030;
    float s_diff_fS2_T_6 = -0.59004360437393188f * (_S9044.x + _S9044.y + _S9044.z);
    float s_diff_fC2_T_6 = -0.59004360437393188f * (_S9032.x + _S9032.y + _S9032.z);
    float _S9045 = _S9042.x + _S9042.y + _S9042.z;
    float _S9046 = _S9034.x + _S9034.y + _S9034.z;
    float _S9047 = _S9040.x + _S9040.y + _S9040.z;
    float _S9048 = _S9036.x + _S9036.y + _S9036.z;
    float _S9049 = _S9038.x + _S9038.y + _S9038.z;
    float _S9050 = - s_diff_fC2_T_6;
    float3  _S9051 = _S8986 * _S9030;
    float3  _S9052 = (*sh_coeffs_20)[int(8)] * _S9030;
    float3  _S9053 = _S8984 * _S9030;
    float3  _S9054 = (*sh_coeffs_20)[int(7)] * _S9030;
    float3  _S9055 = _S8983 * _S9030;
    float3  _S9056 = (*sh_coeffs_20)[int(6)] * _S9030;
    float3  _S9057 = _S8985 * _S9030;
    float3  _S9058 = (*sh_coeffs_20)[int(5)] * _S9030;
    float3  _S9059 = _S8987 * _S9030;
    float3  _S9060 = (*sh_coeffs_20)[int(4)] * _S9030;
    float _S9061 = _S9058.x + _S9058.y + _S9058.z;
    float _S9062 = _S9054.x + _S9054.y + _S9054.z;
    float _S9063 = fTmp1B_20 * _S9045 + x_78 * s_diff_fS2_T_6 + y_23 * _S9050 + 0.54627424478530884f * (_S9060.x + _S9060.y + _S9060.z);
    float _S9064 = fTmp1B_20 * _S9046 + y_23 * s_diff_fS2_T_6 + x_78 * s_diff_fC2_T_6 + 0.54627424478530884f * (_S9052.x + _S9052.y + _S9052.z);
    float _S9065 = y_23 * - _S9064;
    float _S9066 = x_78 * _S9064;
    float _S9067 = z_20 * (1.86588168144226074f * (z_20 * _S9049) + -2.28522896766662598f * (y_23 * _S9047 + x_78 * _S9048) + 0.94617468118667603f * (_S9056.x + _S9056.y + _S9056.z));
    float3  _S9068 = make_float3 (0.48860251903533936f) * _S9030;
    float3  _S9069 = - _S9068;
    float3  _S9070 = _S8977 * _S9069;
    float3  _S9071 = (*sh_coeffs_20)[int(3)] * _S9069;
    float3  _S9072 = _S8979 * _S9068;
    float3  _S9073 = (*sh_coeffs_20)[int(2)] * _S9068;
    float3  _S9074 = _S8981 * _S9068;
    float3  _S9075 = (*sh_coeffs_20)[int(1)] * _S9068;
    float _S9076 = (_S8988 * _S9049 + 1.44530570507049561f * (fS1_20 * _S9045 + fC1_20 * _S9046) + -1.09254848957061768f * (y_23 * _S9061 + x_78 * _S9062) + _S9067 + _S9067 + _S9073.x + _S9073.y + _S9073.z) / _S8978;
    float _S9077 = _S8976 * _S9076;
    float _S9078 = (fTmp0C_20 * _S9047 + fC1_20 * s_diff_fS2_T_6 + fS1_20 * _S9050 + fTmp0B_20 * _S9061 + _S8982 * _S9063 + _S9065 + _S9065 + - (_S9075.x + _S9075.y + _S9075.z)) / _S8978;
    float _S9079 = _S8976 * _S9078;
    float _S9080 = (fTmp0C_20 * _S9048 + fS1_20 * s_diff_fS2_T_6 + fC1_20 * s_diff_fC2_T_6 + fTmp0B_20 * _S9062 + 2.0f * (y_23 * _S9063) + _S9066 + _S9066 + _S9071.x + _S9071.y + _S9071.z) / _S8978;
    float _S9081 = _S8976 * _S9080;
    float _S9082 = _S8974 * - _S9076 + _S8973 * - _S9078 + _S8972 * - _S9080;
    DiffPair_float_0 _S9083;
    (&_S9083)->primal_0 = _S8975;
    (&_S9083)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9083, _S9082);
    float _S9084 = _S8974 * _S9083.differential_0;
    float _S9085 = _S8973 * _S9083.differential_0;
    float _S9086 = _S8972 * _S9083.differential_0;
    float3  _S9087 = make_float3 (0.282094806432724f) * _S9030;
    float3  _S9088 = make_float3 (_S9081 + _S9086 + _S9086, _S9079 + _S9085 + _S9085, _S9077 + _S9084 + _S9084);
    float3  _S9089 = - - _S9088;
    Matrix<float, 3, 3>  _S9090 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9091;
    (&_S9091)->primal_0 = _S8970;
    (&_S9091)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9092;
    (&_S9092)->primal_0 = t_65;
    (&_S9092)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9091, &_S9092, _S9089);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9093 = _S9092;
    Matrix<float, 3, 3>  _S9094 = transpose_0(_S9091.differential_0);
    DiffPair_float_0 _S9095;
    (&_S9095)->primal_0 = _S8967;
    (&_S9095)->differential_0 = 0.0f;
    DiffPair_float_0 _S9096;
    (&_S9096)->primal_0 = _S8969;
    (&_S9096)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9095, &_S9096, v_depth_21);
    float _S9097 = _S8968 * _S9096.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9098;
    (&_S9098)->primal_0 = _S8966;
    (&_S9098)->differential_0 = _S9009;
    s_bwd_length_impl_1(&_S9098, _S9097);
    float3  _S9099 = make_float3 (0.3333333432674408f) * (_S9098.differential_0 + make_float3 (0.0f, 0.0f, _S9095.differential_0 + _S9097));
    DiffPair_float_0 _S9100;
    (&_S9100)->primal_0 = _S8965;
    (&_S9100)->differential_0 = 0.0f;
    DiffPair_float_0 _S9101;
    (&_S9101)->primal_0 = _S8953;
    (&_S9101)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9100, &_S9101, 0.0f);
    DiffPair_float_0 _S9102;
    (&_S9102)->primal_0 = _S8903;
    (&_S9102)->differential_0 = 0.0f;
    DiffPair_float_0 _S9103;
    (&_S9103)->primal_0 = _S8928;
    (&_S9103)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9102, &_S9103, _S9100.differential_0);
    DiffPair_float_0 _S9104;
    (&_S9104)->primal_0 = _S8964;
    (&_S9104)->differential_0 = 0.0f;
    DiffPair_float_0 _S9105;
    (&_S9105)->primal_0 = _S8953;
    (&_S9105)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9104, &_S9105, 0.0f);
    DiffPair_float_0 _S9106;
    (&_S9106)->primal_0 = _S8903;
    (&_S9106)->differential_0 = 0.0f;
    DiffPair_float_0 _S9107;
    (&_S9107)->primal_0 = _S8928;
    (&_S9107)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9106, &_S9107, _S9104.differential_0);
    DiffPair_float_0 _S9108;
    (&_S9108)->primal_0 = _S8963;
    (&_S9108)->differential_0 = 0.0f;
    DiffPair_float_0 _S9109;
    (&_S9109)->primal_0 = _S8952;
    (&_S9109)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9108, &_S9109, 0.0f);
    DiffPair_float_0 _S9110;
    (&_S9110)->primal_0 = _S8902;
    (&_S9110)->differential_0 = 0.0f;
    DiffPair_float_0 _S9111;
    (&_S9111)->primal_0 = _S8927;
    (&_S9111)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9110, &_S9111, _S9108.differential_0);
    DiffPair_float_0 _S9112;
    (&_S9112)->primal_0 = _S8962;
    (&_S9112)->differential_0 = 0.0f;
    DiffPair_float_0 _S9113;
    (&_S9113)->primal_0 = _S8952;
    (&_S9113)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9112, &_S9113, 0.0f);
    DiffPair_float_0 _S9114;
    (&_S9114)->primal_0 = _S8902;
    (&_S9114)->differential_0 = 0.0f;
    DiffPair_float_0 _S9115;
    (&_S9115)->primal_0 = _S8927;
    (&_S9115)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9114, &_S9115, _S9112.differential_0);
    DiffPair_float_0 _S9116;
    (&_S9116)->primal_0 = _S8960;
    (&_S9116)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S9116, 0.0f);
    float _S9117 = - (-1.0f * - (_S9116.differential_0 / _S8961));
    float2  _S9118 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9119;
    (&_S9119)->primal_0 = e2_1;
    (&_S9119)->differential_0 = _S9118;
    s_bwd_length_impl_0(&_S9119, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9120;
    (&_S9120)->primal_0 = e1_5;
    (&_S9120)->differential_0 = _S9118;
    s_bwd_length_impl_0(&_S9120, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9121;
    (&_S9121)->primal_0 = e0_5;
    (&_S9121)->differential_0 = _S9118;
    s_bwd_length_impl_0(&_S9121, -0.0f);
    DiffPair_float_0 _S9122;
    (&_S9122)->primal_0 = _S8958;
    (&_S9122)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S9122, 0.0f);
    float _S9123 = - _S9122.differential_0;
    float2  _S9124 = _S9120.differential_0 + make_float2 (_S8956 * _S9123, _S8954 * _S9122.differential_0);
    float2  _S9125 = - _S9124;
    float2  _S9126 = _S9121.differential_0 + make_float2 (_S8955 * _S9122.differential_0, _S8957 * _S9123);
    float2  _S9127 = - _S9126;
    float2  _S9128 = - _S9119.differential_0 + _S9124;
    float _S9129 = fx_102 * (_S9109.differential_0 + _S9113.differential_0 + _S9128.x);
    float2  _S9130 = make_float2 (_S9129, fy_102 * (_S9101.differential_0 + _S9105.differential_0 + _S9128.y)) + make_float2 ((*dist_coeffs_105)[int(8)] * _S9129, (*dist_coeffs_105)[int(9)] * _S9129);
    float2  _S9131 = _S8941 * _S9130;
    float2  _S9132 = _S8945 * _S9130;
    float _S9133 = (*dist_coeffs_105)[int(4)] * _S9130.y;
    float _S9134 = (*dist_coeffs_105)[int(5)] * _S9130.x;
    float _S9135 = _S9131.x + _S9131.y;
    float _S9136 = r2_73 * _S9135;
    float _S9137 = r2_73 * _S9136;
    float _S9138 = (*dist_coeffs_105)[int(7)] * _S9130.y + _S9133 + (*dist_coeffs_105)[int(6)] * _S9130.x + _S9134 + _S8944 * _S9135 + _S8943 * _S9136 + _S8942 * _S9137 + (*dist_coeffs_105)[int(3)] * (r2_73 * _S9137);
    float _S9139 = v_73 * _S9138;
    float _S9140 = u_73 * _S9138;
    float _S9141 = _S8949 * _S9133 + 2.0f * (v_73 * _S9133) + _S8948 * _S9130.y + _S8946 * _S9130.x + _S9139 + _S9139;
    float _S9142 = _S8897 * (v_73 * _S9130.y) + _S8947 * _S9134 + 2.0f * (u_73 * _S9134) + _S8894 * (v_73 * _S9130.x) + _S9140 + _S9140;
    float3  _S9143 = _S9015.differential_0 + _S9099;
    float3  _S9144 = _S9017 + _S9018 + _S9099;
    float3  _S9145 = _S9016.differential_0 + _S9099;
    FixedArray<float3 , 2>  _S9146;
    _S9146[int(0)] = _S9009;
    _S9146[int(1)] = _S9009;
    _S9146[int(1)] = _S9024;
    _S9146[int(0)] = _S9029;
    float3  _S9147 = _S9146[int(0)];
    float3  _S9148 = _S9146[int(1)];
    FixedArray<float3 , 16>  _S9149;
    _S9149[int(0)] = _S9009;
    _S9149[int(1)] = _S9009;
    _S9149[int(2)] = _S9009;
    _S9149[int(3)] = _S9009;
    _S9149[int(4)] = _S9009;
    _S9149[int(5)] = _S9009;
    _S9149[int(6)] = _S9009;
    _S9149[int(7)] = _S9009;
    _S9149[int(8)] = _S9009;
    _S9149[int(9)] = _S9009;
    _S9149[int(10)] = _S9009;
    _S9149[int(11)] = _S9009;
    _S9149[int(12)] = _S9009;
    _S9149[int(13)] = _S9009;
    _S9149[int(14)] = _S9009;
    _S9149[int(15)] = _S9009;
    _S9149[int(7)] = _S9053;
    _S9149[int(0)] = _S9087;
    _S9149[int(1)] = _S9074;
    _S9149[int(2)] = _S9072;
    _S9149[int(3)] = _S9070;
    _S9149[int(4)] = _S9059;
    _S9149[int(5)] = _S9057;
    _S9149[int(6)] = _S9055;
    _S9149[int(15)] = _S9031;
    _S9149[int(8)] = _S9051;
    _S9149[int(9)] = _S9043;
    _S9149[int(10)] = _S9041;
    _S9149[int(11)] = _S9039;
    _S9149[int(12)] = _S9037;
    _S9149[int(13)] = _S9035;
    _S9149[int(14)] = _S9033;
    float3  _S9150 = _S9149[int(0)];
    float3  _S9151 = _S9149[int(1)];
    float3  _S9152 = _S9149[int(2)];
    float3  _S9153 = _S9149[int(3)];
    float3  _S9154 = _S9149[int(4)];
    float3  _S9155 = _S9149[int(5)];
    float3  _S9156 = _S9149[int(6)];
    float3  _S9157 = _S9149[int(7)];
    float3  _S9158 = _S9149[int(8)];
    float3  _S9159 = _S9149[int(9)];
    float3  _S9160 = _S9149[int(10)];
    float3  _S9161 = _S9149[int(11)];
    float3  _S9162 = _S9149[int(12)];
    float3  _S9163 = _S9149[int(13)];
    float3  _S9164 = _S9149[int(14)];
    float3  _S9165 = _S9149[int(15)];
    float _S9166 = _S9110.differential_0 + _S9114.differential_0;
    float2  _S9167 = _S9119.differential_0 + _S9127;
    float _S9168 = _S9103.differential_0 + _S9107.differential_0;
    float _S9169 = _S9102.differential_0 + _S9106.differential_0;
    float2  _S9170 = _S9125 + _S9126;
    float _S9171 = _S9111.differential_0 + _S9115.differential_0;
    float2  _S9172 = make_float2 (0.0f, _S9117);
    float2  _S9173 = _S9132 + make_float2 (_S9142, _S9141);
    float2  _S9174 = _S8929 * _S9173;
    float2  _S9175 = _S8940 * _S9173;
    float _S9176 = _S9174.x + _S9174.y;
    if(_S8933)
    {
        float _S9177 = _S9176 / _S8935;
        float _S9178 = _S8936 * - _S9177;
        float _S9179 = _S8932 * (0.3333333432674408f * - (_S8931 * _S9177));
        k_9 = _S9179 + _S9179;
        _S8934 = _S9178;
        _S8935 = 0.0f;
    }
    else
    {
        float _S9180 = _S9176 / _S8934;
        float _S9181 = _S8932 * - _S9180;
        k_9 = _S8930 * _S9180;
        _S8934 = 0.0f;
        _S8935 = _S9181;
    }
    DiffPair_float_0 _S9182;
    (&_S9182)->primal_0 = _S8930;
    (&_S9182)->differential_0 = 0.0f;
    DiffPair_float_0 _S9183;
    (&_S9183)->primal_0 = _S8931;
    (&_S9183)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S9182, &_S9183, k_9);
    float _S9184 = _S9183.differential_0 + _S8934;
    float _S9185 = _S9182.differential_0 + _S8935;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9186;
    (&_S9186)->primal_0 = _S8929;
    (&_S9186)->differential_0 = _S9118;
    s_bwd_length_impl_0(&_S9186, _S9185);
    float2  _S9187 = _S9186.differential_0 + _S9175;
    float _S9188 = fx_102 * (_S9170.x + _S9171);
    float2  _S9189 = make_float2 (_S9188, fy_102 * (_S9170.y + _S9168)) + make_float2 ((*dist_coeffs_105)[int(8)] * _S9188, (*dist_coeffs_105)[int(9)] * _S9188);
    float2  _S9190 = _S8916 * _S9189;
    float _S9191 = (*dist_coeffs_105)[int(4)] * _S9189.y;
    float _S9192 = (*dist_coeffs_105)[int(5)] * _S9189.x;
    float _S9193 = _S9190.x + _S9190.y;
    float _S9194 = r2_72 * _S9193;
    float _S9195 = r2_72 * _S9194;
    float _S9196 = (*dist_coeffs_105)[int(7)] * _S9189.y + _S9191 + (*dist_coeffs_105)[int(6)] * _S9189.x + _S9192 + _S8919 * _S9193 + _S8918 * _S9194 + _S8917 * _S9195 + (*dist_coeffs_105)[int(3)] * (r2_72 * _S9195);
    float _S9197 = v_72 * _S9196;
    float _S9198 = u_72 * _S9196;
    float3  _S9199 = _S9145 + make_float3 (_S9187.x, _S9187.y, _S9184);
    float2  _S9200 = _S8920 * _S9189 + make_float2 (_S8897 * (v_72 * _S9189.y) + _S8922 * _S9192 + 2.0f * (u_72 * _S9192) + _S8894 * (v_72 * _S9189.x) + _S9198 + _S9198, _S8924 * _S9191 + 2.0f * (v_72 * _S9191) + _S8923 * _S9189.y + _S8921 * _S9189.x + _S9197 + _S9197);
    float2  _S9201 = _S8904 * _S9200;
    float2  _S9202 = _S8915 * _S9200;
    float _S9203 = _S9201.x + _S9201.y;
    if(_S8908)
    {
        float _S9204 = _S9203 / _S8910;
        float _S9205 = _S8911 * - _S9204;
        float _S9206 = _S8907 * (0.3333333432674408f * - (_S8906 * _S9204));
        k_9 = _S9206 + _S9206;
        _S8909 = _S9205;
        _S8910 = 0.0f;
    }
    else
    {
        float _S9207 = _S9203 / _S8909;
        float _S9208 = _S8907 * - _S9207;
        k_9 = _S8905 * _S9207;
        _S8909 = 0.0f;
        _S8910 = _S9208;
    }
    DiffPair_float_0 _S9209;
    (&_S9209)->primal_0 = _S8905;
    (&_S9209)->differential_0 = 0.0f;
    DiffPair_float_0 _S9210;
    (&_S9210)->primal_0 = _S8906;
    (&_S9210)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S9209, &_S9210, k_9);
    float _S9211 = _S9210.differential_0 + _S8909;
    float _S9212 = _S9209.differential_0 + _S8910;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9213;
    (&_S9213)->primal_0 = _S8904;
    (&_S9213)->differential_0 = _S9118;
    s_bwd_length_impl_0(&_S9213, _S9212);
    float2  _S9214 = _S9213.differential_0 + _S9202;
    float _S9215 = fx_102 * (_S9167.x + _S9166);
    float2  _S9216 = make_float2 (_S9215, fy_102 * (_S9167.y + _S9169)) + make_float2 ((*dist_coeffs_105)[int(8)] * _S9215, (*dist_coeffs_105)[int(9)] * _S9215);
    float2  _S9217 = _S8889 * _S9216;
    float _S9218 = (*dist_coeffs_105)[int(4)] * _S9216.y;
    float _S9219 = (*dist_coeffs_105)[int(5)] * _S9216.x;
    float _S9220 = _S9217.x + _S9217.y;
    float _S9221 = r2_71 * _S9220;
    float _S9222 = r2_71 * _S9221;
    float _S9223 = (*dist_coeffs_105)[int(7)] * _S9216.y + _S9218 + (*dist_coeffs_105)[int(6)] * _S9216.x + _S9219 + _S8892 * _S9220 + _S8891 * _S9221 + _S8890 * _S9222 + (*dist_coeffs_105)[int(3)] * (r2_71 * _S9222);
    float _S9224 = v_71 * _S9223;
    float _S9225 = u_71 * _S9223;
    float3  _S9226 = _S9143 + make_float3 (_S9214.x, _S9214.y, _S9211);
    float2  _S9227 = _S8893 * _S9216 + make_float2 (_S8897 * (v_71 * _S9216.y) + _S8896 * _S9219 + 2.0f * (u_71 * _S9219) + _S8894 * (v_71 * _S9216.x) + _S9225 + _S9225, _S8899 * _S9218 + 2.0f * (v_71 * _S9218) + _S8898 * _S9216.y + _S8895 * _S9216.x + _S9224 + _S9224);
    float2  _S9228 = _S8877 * _S9227;
    float2  _S9229 = _S8888 * _S9227;
    float _S9230 = _S9228.x + _S9228.y;
    if(_S8881)
    {
        float _S9231 = _S9230 / _S8883;
        float _S9232 = _S8884 * - _S9231;
        float _S9233 = _S8880 * (0.3333333432674408f * - (_S8879 * _S9231));
        k_9 = _S9233 + _S9233;
        _S8882 = _S9232;
        _S8883 = 0.0f;
    }
    else
    {
        float _S9234 = _S9230 / _S8882;
        float _S9235 = _S8880 * - _S9234;
        k_9 = _S8878 * _S9234;
        _S8882 = 0.0f;
        _S8883 = _S9235;
    }
    DiffPair_float_0 _S9236;
    (&_S9236)->primal_0 = _S8878;
    (&_S9236)->differential_0 = 0.0f;
    DiffPair_float_0 _S9237;
    (&_S9237)->primal_0 = _S8879;
    (&_S9237)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S9236, &_S9237, k_9);
    float _S9238 = _S9237.differential_0 + _S8882;
    float _S9239 = _S9236.differential_0 + _S8883;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9240;
    (&_S9240)->primal_0 = _S8877;
    (&_S9240)->differential_0 = _S9118;
    s_bwd_length_impl_0(&_S9240, _S9239);
    float2  _S9241 = _S9240.differential_0 + _S9229;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9242;
    (&_S9242)->primal_0 = vert2_c_5;
    (&_S9242)->differential_0 = _S9009;
    s_bwd_length_impl_1(&_S9242, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9243;
    (&_S9243)->primal_0 = vert1_c_5;
    (&_S9243)->differential_0 = _S9009;
    s_bwd_length_impl_1(&_S9243, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9244;
    (&_S9244)->primal_0 = vert0_c_5;
    (&_S9244)->differential_0 = _S9009;
    s_bwd_length_impl_1(&_S9244, 0.0f);
    float3  _S9245 = _S9242.differential_0 + _S9199;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9246;
    (&_S9246)->primal_0 = R_69;
    (&_S9246)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9247;
    (&_S9247)->primal_0 = vert2_6;
    (&_S9247)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9246, &_S9247, _S9245);
    float3  _S9248 = _S9243.differential_0 + _S9226;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9249;
    (&_S9249)->primal_0 = R_69;
    (&_S9249)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9250;
    (&_S9250)->primal_0 = vert1_6;
    (&_S9250)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9249, &_S9250, _S9248);
    float3  _S9251 = _S9244.differential_0 + _S9144 + make_float3 (_S9241.x, _S9241.y, _S9238);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9252;
    (&_S9252)->primal_0 = R_69;
    (&_S9252)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9253;
    (&_S9253)->primal_0 = vert0_6;
    (&_S9253)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9252, &_S9253, _S9251);
    float3  _S9254 = _S9247.differential_0 + (*v_verts_1)[int(2)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9255;
    (&_S9255)->primal_0 = _S8871;
    (&_S9255)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9256;
    (&_S9256)->primal_0 = _S8876;
    (&_S9256)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9255, &_S9256, _S9254);
    float _S9257 = - _S9256.differential_0.y;
    float _S9258 = _S8875 * _S9256.differential_0.x;
    float _S9259 = - (_S8867 * _S9256.differential_0.x);
    float3  _S9260 = _S9250.differential_0 + (*v_verts_1)[int(1)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9261;
    (&_S9261)->primal_0 = _S8871;
    (&_S9261)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9262;
    (&_S9262)->primal_0 = _S8874;
    (&_S9262)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9261, &_S9262, _S9260);
    float _S9263 = _S8867 * _S9262.differential_0.x;
    float _S9264 = _S8873 * _S9262.differential_0.x;
    float3  _S9265 = _S9253.differential_0 + (*v_verts_1)[int(0)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9266;
    (&_S9266)->primal_0 = _S8871;
    (&_S9266)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9267;
    (&_S9267)->primal_0 = _S8872;
    (&_S9267)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9266, &_S9267, _S9265);
    Matrix<float, 3, 3>  _S9268 = transpose_0(_S9255.differential_0 + _S9261.differential_0 + _S9266.differential_0);
    float _S9269 = 2.0f * - _S9268.rows[int(2)].z;
    float _S9270 = 2.0f * _S9268.rows[int(2)].y;
    float _S9271 = 2.0f * _S9268.rows[int(2)].x;
    float _S9272 = 2.0f * _S9268.rows[int(1)].z;
    float _S9273 = 2.0f * - _S9268.rows[int(1)].y;
    float _S9274 = 2.0f * _S9268.rows[int(1)].x;
    float _S9275 = 2.0f * _S9268.rows[int(0)].z;
    float _S9276 = 2.0f * _S9268.rows[int(0)].y;
    float _S9277 = 2.0f * - _S9268.rows[int(0)].x;
    float _S9278 = - _S9274 + _S9276;
    float _S9279 = _S9271 + - _S9275;
    float _S9280 = - _S9270 + _S9272;
    float _S9281 = _S9270 + _S9272;
    float _S9282 = _S9271 + _S9275;
    float _S9283 = _S9274 + _S9276;
    float _S9284 = quat_68.w * (_S9273 + _S9277);
    float _S9285 = quat_68.z * (_S9269 + _S9277);
    float _S9286 = quat_68.y * (_S9269 + _S9273);
    float _S9287 = quat_68.x * _S9278 + quat_68.z * _S9281 + quat_68.y * _S9282 + _S9284 + _S9284;
    float _S9288 = quat_68.x * _S9279 + quat_68.w * _S9281 + quat_68.y * _S9283 + _S9285 + _S9285;
    float _S9289 = quat_68.x * _S9280 + quat_68.w * _S9282 + quat_68.z * _S9283 + _S9286 + _S9286;
    float _S9290 = quat_68.w * _S9278 + quat_68.z * _S9279 + quat_68.y * _S9280;
    float _S9291 = _S9259 + _S9263;
    float _S9292 = 0.5f * - _S9291;
    float _S9293 = _S9257 + _S9262.differential_0.y;
    DiffPair_float_0 _S9294;
    (&_S9294)->primal_0 = _S8868;
    (&_S9294)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9294, _S9293);
    float _S9295 = _S9292 + _S9294.differential_0;
    float _S9296 = _S9258 + _S9264 + _S9267.differential_0.x;
    DiffPair_float_0 _S9297;
    (&_S9297)->primal_0 = _S8866;
    (&_S9297)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S9297, _S9296);
    float _S9298 = _S9292 + _S9297.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9299;
    (&_S9299)->primal_0 = mean_c_76;
    (&_S9299)->differential_0 = _S9009;
    s_bwd_length_impl_1(&_S9299, 0.0f);
    float3  _S9300 = _S9299.differential_0 + _S9012.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9301;
    (&_S9301)->primal_0 = R_69;
    (&_S9301)->differential_0 = _S9090;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9302;
    (&_S9302)->primal_0 = mean_67;
    (&_S9302)->differential_0 = _S9009;
    s_bwd_prop_mul_1(&_S9301, &_S9302, _S9300);
    float3  _S9303 = _S9245 + _S9248 + _S9251 + _S9300 + _S9093.differential_0;
    Matrix<float, 3, 3>  _S9304 = _S9246.differential_0 + _S9249.differential_0 + _S9252.differential_0 + _S9301.differential_0 + _S9094;
    float3  _S9305 = make_float3 (_S9298, _S9295, _S9291);
    float4  _S9306 = make_float4 (0.0f);
    *&((&_S9306)->w) = _S9287;
    *&((&_S9306)->z) = _S9288;
    *&((&_S9306)->y) = _S9289;
    *&((&_S9306)->x) = _S9290;
    float4  _S9307 = _S9306;
    float3  _S9308 = _S9254 + _S9260 + _S9265 + _S9302.differential_0 + _S9088;
    *v_mean_22 = _S9308;
    *v_quat_21 = _S9307;
    *v_scale_21 = _S9305;
    *v_hardness_1 = _S9172;
    (*v_sh_coeffs_6)[int(0)] = _S9150;
    (*v_sh_coeffs_6)[int(1)] = _S9151;
    (*v_sh_coeffs_6)[int(2)] = _S9152;
    (*v_sh_coeffs_6)[int(3)] = _S9153;
    (*v_sh_coeffs_6)[int(4)] = _S9154;
    (*v_sh_coeffs_6)[int(5)] = _S9155;
    (*v_sh_coeffs_6)[int(6)] = _S9156;
    (*v_sh_coeffs_6)[int(7)] = _S9157;
    (*v_sh_coeffs_6)[int(8)] = _S9158;
    (*v_sh_coeffs_6)[int(9)] = _S9159;
    (*v_sh_coeffs_6)[int(10)] = _S9160;
    (*v_sh_coeffs_6)[int(11)] = _S9161;
    (*v_sh_coeffs_6)[int(12)] = _S9162;
    (*v_sh_coeffs_6)[int(13)] = _S9163;
    (*v_sh_coeffs_6)[int(14)] = _S9164;
    (*v_sh_coeffs_6)[int(15)] = _S9165;
    (*v_ch_coeffs_1)[int(0)] = _S9147;
    (*v_ch_coeffs_1)[int(1)] = _S9148;
    *v_R_22 = _S9304;
    *v_t_21 = _S9303;
    return;
}

inline __device__ bool ray_triangle_intersection_uvt(float3  ray_o_4, float3  ray_d_4, FixedArray<float3 , 3>  * verts_4, float * u_74, float * v_74, float * t_66)
{
    float3  v1v0_0 = (*verts_4)[int(1)] - (*verts_4)[int(0)];
    float3  v2v0_0 = (*verts_4)[int(2)] - (*verts_4)[int(0)];
    float3  rov0_0 = ray_o_4 - (*verts_4)[int(0)];
    float3  n_0 = cross_0(v1v0_0, v2v0_0);
    float3  q_2 = cross_0(rov0_0, ray_d_4);
    float d_28 = 1.0f / dot_0(ray_d_4, n_0);
    *u_74 = d_28 * dot_0(- q_2, v2v0_0);
    *v_74 = d_28 * dot_0(q_2, v1v0_0);
    *t_66 = d_28 * dot_0(- n_0, rov0_0);
    bool _S9309;
    if((*u_74) >= 0.0f)
    {
        _S9309 = (*v_74) >= 0.0f;
    }
    else
    {
        _S9309 = false;
    }
    if(_S9309)
    {
        _S9309 = (*u_74 + *v_74) <= 1.0f;
    }
    else
    {
        _S9309 = false;
    }
    if(_S9309)
    {
        _S9309 = (*t_66) >= 0.0f;
    }
    else
    {
        _S9309 = false;
    }
    return _S9309;
}

inline __device__ void _d_pow_0(DiffPair_float_0 * dpx_16, DiffPair_float_0 * dpy_5, float dOut_19)
{
    if(((*dpx_16).primal_0) < 9.99999997475242708e-07f)
    {
        dpx_16->primal_0 = (*dpx_16).primal_0;
        dpx_16->differential_0 = 0.0f;
        dpy_5->primal_0 = (*dpy_5).primal_0;
        dpy_5->differential_0 = 0.0f;
    }
    else
    {
        float val_0 = (F32_pow(((*dpx_16).primal_0), ((*dpy_5).primal_0)));
        DiffPair_float_0 _S9310 = *dpx_16;
        float _S9311 = val_0 * (*dpy_5).primal_0 / (*dpx_16).primal_0 * dOut_19;
        dpx_16->primal_0 = (*dpx_16).primal_0;
        dpx_16->differential_0 = _S9311;
        float _S9312 = val_0 * (F32_log((_S9310.primal_0))) * dOut_19;
        dpy_5->primal_0 = (*dpy_5).primal_0;
        dpy_5->differential_0 = _S9312;
    }
    return;
}

inline __device__ float evaluate_alpha_opaque_triangle(FixedArray<float3 , 3>  * verts_5, float2  hardness_6, float3  ray_o_5, float3  ray_d_5)
{
    float3  v1v0_1 = (*verts_5)[int(1)] - (*verts_5)[int(0)];
    float3  v2v0_1 = (*verts_5)[int(2)] - (*verts_5)[int(0)];
    float3  rov0_1 = ray_o_5 - (*verts_5)[int(0)];
    float3  n_1 = cross_0(v1v0_1, v2v0_1);
    float3  q_3 = cross_0(rov0_1, ray_d_5);
    float d_29 = 1.0f / dot_0(ray_d_5, n_1);
    float u_75 = d_29 * dot_0(- q_3, v2v0_1);
    float v_75 = d_29 * dot_0(q_3, v1v0_1);
    float t_67 = d_29 * dot_0(- n_1, rov0_1);
    bool _S9313;
    if(u_75 >= 0.0f)
    {
        _S9313 = v_75 >= 0.0f;
    }
    else
    {
        _S9313 = false;
    }
    if(_S9313)
    {
        _S9313 = (u_75 + v_75) <= 1.0f;
    }
    else
    {
        _S9313 = false;
    }
    if(_S9313)
    {
        _S9313 = t_67 >= 0.0f;
    }
    else
    {
        _S9313 = false;
    }
    if(!_S9313)
    {
        return 0.0f;
    }
    float opac_0 = (F32_min(((F32_min((u_75), (v_75)))), ((F32_sqrt((0.5f))) * (1.0f - u_75 - v_75)))) * (2.0f + (F32_sqrt((2.0f))));
    float w_140 = 1.0f - (F32_pow((1.0f - opac_0), (1.0f / (1.0f - clamp_0(hardness_6.y, 0.0f, 0.99989998340606689f)))));
    float o_0 = hardness_6.x;
    float _S9314;
    if(opac_0 < 0.0f)
    {
        _S9314 = 0.0f;
    }
    else
    {
        _S9314 = (F32_min((o_0 * w_140), (0.99500000476837158f)));
    }
    return _S9314;
}

inline __device__ float s_primal_ctx_pow_0(float _S9315, float _S9316)
{
    return (F32_pow((_S9315), (_S9316)));
}

inline __device__ void s_bwd_prop_pow_0(DiffPair_float_0 * _S9317, DiffPair_float_0 * _S9318, float _S9319)
{
    _d_pow_0(_S9317, _S9318, _S9319);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_0, DiffPair_vectorx3Cfloatx2C2x3E_0 * dphardness_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_2, float _s_dOut_10)
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S9320 = *dphardness_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9321 = *dpray_d_2;
    float3  v1v0_2 = dpverts_0->primal_0[int(1)] - dpverts_0->primal_0[int(0)];
    float3  v2v0_2 = dpverts_0->primal_0[int(2)] - dpverts_0->primal_0[int(0)];
    float3  rov0_2 = (*dpray_o_2).primal_0 - dpverts_0->primal_0[int(0)];
    float3  _S9322 = s_primal_ctx_cross_0(v1v0_2, v2v0_2);
    float3  _S9323 = s_primal_ctx_cross_0(rov0_2, (*dpray_d_2).primal_0);
    float _S9324 = s_primal_ctx_dot_0((*dpray_d_2).primal_0, _S9322);
    float d_30 = 1.0f / _S9324;
    float _S9325 = _S9324 * _S9324;
    float3  _S9326 = - _S9323;
    float _S9327 = s_primal_ctx_dot_0(_S9326, v2v0_2);
    float u_76 = d_30 * _S9327;
    float _S9328 = s_primal_ctx_dot_0(_S9323, v1v0_2);
    float v_76 = d_30 * _S9328;
    float3  _S9329 = - _S9322;
    float t_68 = d_30 * s_primal_ctx_dot_0(_S9329, rov0_2);
    bool _S9330;
    if(u_76 >= 0.0f)
    {
        _S9330 = v_76 >= 0.0f;
    }
    else
    {
        _S9330 = false;
    }
    if(_S9330)
    {
        _S9330 = (u_76 + v_76) <= 1.0f;
    }
    else
    {
        _S9330 = false;
    }
    if(_S9330)
    {
        _S9330 = t_68 >= 0.0f;
    }
    else
    {
        _S9330 = false;
    }
    bool _S9331 = !!_S9330;
    float _S9332;
    float _S9333;
    float _S9334;
    float _S9335;
    float _S9336;
    float _S9337;
    float _S9338;
    float _S9339;
    float _S9340;
    float _S9341;
    float _S9342;
    if(_S9331)
    {
        float _S9343 = s_primal_ctx_min_0(u_76, v_76);
        float _S9344 = s_primal_ctx_sqrt_0(0.5f);
        float _S9345 = _S9344 * (1.0f - u_76 - v_76);
        float _S9346 = 2.0f + s_primal_ctx_sqrt_0(2.0f);
        float opac_1 = s_primal_ctx_min_0(_S9343, _S9345) * _S9346;
        float _S9347 = _S9320.primal_0.y;
        float _S9348 = 1.0f - opac_1;
        float _S9349 = 1.0f - s_primal_ctx_clamp_0(_S9347, 0.0f, 0.99989998340606689f);
        float _S9350 = 1.0f / _S9349;
        float _S9351 = _S9349 * _S9349;
        float w_141 = 1.0f - s_primal_ctx_pow_0(_S9348, _S9350);
        float o_1 = _S9320.primal_0.x;
        bool _S9352 = opac_1 < 0.0f;
        if(_S9352)
        {
            _S9332 = 0.0f;
        }
        else
        {
            _S9332 = o_1 * w_141;
        }
        _S9330 = _S9352;
        _S9333 = o_1;
        _S9334 = w_141;
        _S9335 = _S9348;
        _S9336 = _S9350;
        _S9337 = _S9351;
        _S9338 = _S9347;
        _S9339 = _S9346;
        _S9340 = _S9343;
        _S9341 = _S9345;
        _S9342 = _S9344;
    }
    else
    {
        _S9330 = false;
        _S9332 = 0.0f;
        _S9333 = 0.0f;
        _S9334 = 0.0f;
        _S9335 = 0.0f;
        _S9336 = 0.0f;
        _S9337 = 0.0f;
        _S9338 = 0.0f;
        _S9339 = 0.0f;
        _S9340 = 0.0f;
        _S9341 = 0.0f;
        _S9342 = 0.0f;
    }
    float2  _S9353 = make_float2 (0.0f);
    float2  _S9354;
    if(_S9331)
    {
        if(_S9330)
        {
            _S9332 = 0.0f;
            _S9333 = 0.0f;
        }
        else
        {
            DiffPair_float_0 _S9355;
            (&_S9355)->primal_0 = _S9332;
            (&_S9355)->differential_0 = 0.0f;
            DiffPair_float_0 _S9356;
            (&_S9356)->primal_0 = 0.99500000476837158f;
            (&_S9356)->differential_0 = 0.0f;
            s_bwd_prop_min_0(&_S9355, &_S9356, _s_dOut_10);
            float _S9357 = _S9333 * _S9355.differential_0;
            _S9332 = _S9334 * _S9355.differential_0;
            _S9333 = _S9357;
        }
        float _S9358 = - _S9333;
        DiffPair_float_0 _S9359;
        (&_S9359)->primal_0 = _S9335;
        (&_S9359)->differential_0 = 0.0f;
        DiffPair_float_0 _S9360;
        (&_S9360)->primal_0 = _S9336;
        (&_S9360)->differential_0 = 0.0f;
        s_bwd_prop_pow_0(&_S9359, &_S9360, _S9358);
        float _S9361 = - - (_S9360.differential_0 / _S9337);
        float s_diff_opac_T_0 = - _S9359.differential_0;
        DiffPair_float_0 _S9362;
        (&_S9362)->primal_0 = _S9338;
        (&_S9362)->differential_0 = 0.0f;
        DiffPair_float_0 _S9363;
        (&_S9363)->primal_0 = 0.0f;
        (&_S9363)->differential_0 = 0.0f;
        DiffPair_float_0 _S9364;
        (&_S9364)->primal_0 = 0.99989998340606689f;
        (&_S9364)->differential_0 = 0.0f;
        s_bwd_prop_clamp_0(&_S9362, &_S9363, &_S9364, _S9361);
        float _S9365 = _S9339 * s_diff_opac_T_0;
        DiffPair_float_0 _S9366;
        (&_S9366)->primal_0 = _S9340;
        (&_S9366)->differential_0 = 0.0f;
        DiffPair_float_0 _S9367;
        (&_S9367)->primal_0 = _S9341;
        (&_S9367)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S9366, &_S9367, _S9365);
        float _S9368 = - (_S9342 * _S9367.differential_0);
        DiffPair_float_0 _S9369;
        (&_S9369)->primal_0 = u_76;
        (&_S9369)->differential_0 = 0.0f;
        DiffPair_float_0 _S9370;
        (&_S9370)->primal_0 = v_76;
        (&_S9370)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S9369, &_S9370, _S9366.differential_0);
        float2  _S9371 = make_float2 (_S9332, _S9362.differential_0);
        float _S9372 = _S9368 + _S9370.differential_0;
        _S9332 = _S9368 + _S9369.differential_0;
        _S9333 = _S9372;
        _S9354 = _S9371;
    }
    else
    {
        _S9332 = 0.0f;
        _S9333 = 0.0f;
        _S9354 = _S9353;
    }
    float3  _S9373 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9374;
    (&_S9374)->primal_0 = _S9329;
    (&_S9374)->differential_0 = _S9373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9375;
    (&_S9375)->primal_0 = rov0_2;
    (&_S9375)->differential_0 = _S9373;
    s_bwd_prop_dot_0(&_S9374, &_S9375, 0.0f);
    float3  _S9376 = - _S9374.differential_0;
    float _S9377 = d_30 * _S9333;
    float _S9378 = _S9328 * _S9333;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9379;
    (&_S9379)->primal_0 = _S9323;
    (&_S9379)->differential_0 = _S9373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9380;
    (&_S9380)->primal_0 = v1v0_2;
    (&_S9380)->differential_0 = _S9373;
    s_bwd_prop_dot_0(&_S9379, &_S9380, _S9377);
    float _S9381 = d_30 * _S9332;
    float _S9382 = _S9327 * _S9332;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9383;
    (&_S9383)->primal_0 = _S9326;
    (&_S9383)->differential_0 = _S9373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9384;
    (&_S9384)->primal_0 = v2v0_2;
    (&_S9384)->differential_0 = _S9373;
    s_bwd_prop_dot_0(&_S9383, &_S9384, _S9381);
    float3  _S9385 = - _S9383.differential_0;
    float _S9386 = - ((_S9378 + _S9382) / _S9325);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9387;
    (&_S9387)->primal_0 = _S9321.primal_0;
    (&_S9387)->differential_0 = _S9373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9388;
    (&_S9388)->primal_0 = _S9322;
    (&_S9388)->differential_0 = _S9373;
    s_bwd_prop_dot_0(&_S9387, &_S9388, _S9386);
    float3  _S9389 = _S9379.differential_0 + _S9385;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9390;
    (&_S9390)->primal_0 = rov0_2;
    (&_S9390)->differential_0 = _S9373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9391;
    (&_S9391)->primal_0 = _S9321.primal_0;
    (&_S9391)->differential_0 = _S9373;
    s_bwd_prop_cross_0(&_S9390, &_S9391, _S9389);
    float3  _S9392 = _S9376 + _S9388.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9393;
    (&_S9393)->primal_0 = v1v0_2;
    (&_S9393)->differential_0 = _S9373;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9394;
    (&_S9394)->primal_0 = v2v0_2;
    (&_S9394)->differential_0 = _S9373;
    s_bwd_prop_cross_0(&_S9393, &_S9394, _S9392);
    float3  _S9395 = _S9375.differential_0 + _S9390.differential_0;
    float3  _S9396 = _S9384.differential_0 + _S9394.differential_0;
    float3  _S9397 = _S9380.differential_0 + _S9393.differential_0;
    float3  _S9398 = - _S9395 + - _S9396 + - _S9397;
    float3  _S9399 = _S9387.differential_0 + _S9391.differential_0;
    dpray_d_2->primal_0 = (*dpray_d_2).primal_0;
    dpray_d_2->differential_0 = _S9399;
    dpray_o_2->primal_0 = (*dpray_o_2).primal_0;
    dpray_o_2->differential_0 = _S9395;
    dphardness_0->primal_0 = (*dphardness_0).primal_0;
    dphardness_0->differential_0 = _S9354;
    FixedArray<float3 , 3>  _S9400;
    _S9400[int(0)] = _S9373;
    _S9400[int(1)] = _S9373;
    _S9400[int(2)] = _S9373;
    _S9400[int(2)] = _S9396;
    _S9400[int(0)] = _S9398;
    _S9400[int(1)] = _S9397;
    dpverts_0->primal_0 = dpverts_0->primal_0;
    dpverts_0->differential_0 = _S9400;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S9401, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9402, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9403, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9404, float _S9405)
{
    s_bwd_prop_evaluate_alpha_opaque_triangle_0(_S9401, _S9402, _S9403, _S9404, _S9405);
    return;
}

inline __device__ void evaluate_alpha_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_6, float2  hardness_7, float3  ray_o_6, float3  ray_d_6, float v_alpha_1, FixedArray<float3 , 3>  * v_verts_2, float2  * v_hardness_2, float3  * v_ray_o_3, float3  * v_ray_d_3)
{
    float3  _S9406 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S9407 = { _S9406, _S9406, _S9406 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_0;
    (&dp_verts_0)->primal_0 = *verts_6;
    (&dp_verts_0)->differential_0 = _S9407;
    float2  _S9408 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_hardness_0;
    (&dp_hardness_0)->primal_0 = hardness_7;
    (&dp_hardness_0)->differential_0 = _S9408;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_2;
    (&dp_ray_o_2)->primal_0 = ray_o_6;
    (&dp_ray_o_2)->differential_0 = _S9406;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_2;
    (&dp_ray_d_2)->primal_0 = ray_d_6;
    (&dp_ray_d_2)->differential_0 = _S9406;
    s_bwd_evaluate_alpha_opaque_triangle_0(&dp_verts_0, &dp_hardness_0, &dp_ray_o_2, &dp_ray_d_2, v_alpha_1);
    *v_verts_2 = (&dp_verts_0)->differential_0;
    *v_hardness_2 = dp_hardness_0.differential_0;
    *v_ray_o_3 = dp_ray_o_2.differential_0;
    *v_ray_d_3 = dp_ray_d_2.differential_0;
    return;
}

inline __device__ float evaluate_sorting_depth_opaque_triangle(FixedArray<float3 , 3>  * verts_7, FixedArray<float3 , 3>  * rgbs_4, float3  ray_o_7, float3  ray_d_7)
{
    float3  n_2 = cross_0((*verts_7)[int(1)] - (*verts_7)[int(0)], (*verts_7)[int(2)] - (*verts_7)[int(0)]);
    return 1.0f / dot_0(ray_d_7, n_2) * dot_0(- n_2, ray_o_7 - (*verts_7)[int(0)]);
}

inline __device__ void evaluate_color_opaque_triangle(FixedArray<float3 , 3>  * verts_8, FixedArray<float3 , 3>  * rgbs_5, float3  ray_o_8, float3  ray_d_8, float3  * color_6, float * depth_43)
{
    float3  v1v0_3 = (*verts_8)[int(1)] - (*verts_8)[int(0)];
    float3  v2v0_3 = (*verts_8)[int(2)] - (*verts_8)[int(0)];
    float3  rov0_3 = ray_o_8 - (*verts_8)[int(0)];
    float3  n_3 = cross_0(v1v0_3, v2v0_3);
    float3  q_4 = cross_0(rov0_3, ray_d_8);
    float d_31 = 1.0f / dot_0(ray_d_8, n_3);
    float u_77 = d_31 * dot_0(- q_4, v2v0_3);
    float v_77 = d_31 * dot_0(q_4, v1v0_3);
    *depth_43 = d_31 * dot_0(- n_3, rov0_3);
    *color_6 = (*rgbs_5)[int(0)] * make_float3 (1.0f - u_77 - v_77) + (*rgbs_5)[int(1)] * make_float3 (u_77) + (*rgbs_5)[int(2)] * make_float3 (v_77);
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dprgbs_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_3, float3  dpcolor_0, float dpdepth_29)
{
    float3  v1v0_4 = dpverts_1->primal_0[int(1)] - dpverts_1->primal_0[int(0)];
    float3  v2v0_4 = dpverts_1->primal_0[int(2)] - dpverts_1->primal_0[int(0)];
    float3  rov0_4 = (*dpray_o_3).primal_0 - dpverts_1->primal_0[int(0)];
    float3  _S9409 = s_primal_ctx_cross_0(v1v0_4, v2v0_4);
    float3  _S9410 = s_primal_ctx_cross_0(rov0_4, (*dpray_d_3).primal_0);
    float _S9411 = s_primal_ctx_dot_0((*dpray_d_3).primal_0, _S9409);
    float d_32 = 1.0f / _S9411;
    float _S9412 = _S9411 * _S9411;
    float3  _S9413 = - _S9410;
    float _S9414 = s_primal_ctx_dot_0(_S9413, v2v0_4);
    float u_78 = d_32 * _S9414;
    float _S9415 = s_primal_ctx_dot_0(_S9410, v1v0_4);
    float v_78 = d_32 * _S9415;
    float3  _S9416 = - _S9409;
    float3  _S9417 = dprgbs_0->primal_0[int(2)] * dpcolor_0;
    float3  _S9418 = make_float3 (v_78) * dpcolor_0;
    float3  _S9419 = dprgbs_0->primal_0[int(1)] * dpcolor_0;
    float3  _S9420 = make_float3 (u_78) * dpcolor_0;
    float3  _S9421 = dprgbs_0->primal_0[int(0)] * dpcolor_0;
    float3  _S9422 = make_float3 (1.0f - u_78 - v_78) * dpcolor_0;
    float _S9423 = - (_S9421.x + _S9421.y + _S9421.z);
    float _S9424 = d_32 * dpdepth_29;
    float _S9425 = s_primal_ctx_dot_0(_S9416, rov0_4) * dpdepth_29;
    float3  _S9426 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9427;
    (&_S9427)->primal_0 = _S9416;
    (&_S9427)->differential_0 = _S9426;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9428;
    (&_S9428)->primal_0 = rov0_4;
    (&_S9428)->differential_0 = _S9426;
    s_bwd_prop_dot_0(&_S9427, &_S9428, _S9424);
    float3  _S9429 = - _S9427.differential_0;
    float _S9430 = _S9423 + _S9417.x + _S9417.y + _S9417.z;
    float _S9431 = d_32 * _S9430;
    float _S9432 = _S9415 * _S9430;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9433;
    (&_S9433)->primal_0 = _S9410;
    (&_S9433)->differential_0 = _S9426;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9434;
    (&_S9434)->primal_0 = v1v0_4;
    (&_S9434)->differential_0 = _S9426;
    s_bwd_prop_dot_0(&_S9433, &_S9434, _S9431);
    float _S9435 = _S9423 + _S9419.x + _S9419.y + _S9419.z;
    float _S9436 = d_32 * _S9435;
    float _S9437 = _S9414 * _S9435;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9438;
    (&_S9438)->primal_0 = _S9413;
    (&_S9438)->differential_0 = _S9426;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9439;
    (&_S9439)->primal_0 = v2v0_4;
    (&_S9439)->differential_0 = _S9426;
    s_bwd_prop_dot_0(&_S9438, &_S9439, _S9436);
    float3  _S9440 = - _S9438.differential_0;
    float _S9441 = - ((_S9425 + _S9432 + _S9437) / _S9412);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9442;
    (&_S9442)->primal_0 = (*dpray_d_3).primal_0;
    (&_S9442)->differential_0 = _S9426;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9443;
    (&_S9443)->primal_0 = _S9409;
    (&_S9443)->differential_0 = _S9426;
    s_bwd_prop_dot_0(&_S9442, &_S9443, _S9441);
    float3  _S9444 = _S9433.differential_0 + _S9440;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9445;
    (&_S9445)->primal_0 = rov0_4;
    (&_S9445)->differential_0 = _S9426;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9446;
    (&_S9446)->primal_0 = (*dpray_d_3).primal_0;
    (&_S9446)->differential_0 = _S9426;
    s_bwd_prop_cross_0(&_S9445, &_S9446, _S9444);
    float3  _S9447 = _S9429 + _S9443.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9448;
    (&_S9448)->primal_0 = v1v0_4;
    (&_S9448)->differential_0 = _S9426;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9449;
    (&_S9449)->primal_0 = v2v0_4;
    (&_S9449)->differential_0 = _S9426;
    s_bwd_prop_cross_0(&_S9448, &_S9449, _S9447);
    float3  _S9450 = _S9428.differential_0 + _S9445.differential_0;
    float3  _S9451 = _S9439.differential_0 + _S9449.differential_0;
    float3  _S9452 = _S9434.differential_0 + _S9448.differential_0;
    float3  _S9453 = - _S9450 + - _S9451 + - _S9452;
    float3  _S9454 = _S9442.differential_0 + _S9446.differential_0;
    dpray_d_3->primal_0 = (*dpray_d_3).primal_0;
    dpray_d_3->differential_0 = _S9454;
    dpray_o_3->primal_0 = (*dpray_o_3).primal_0;
    dpray_o_3->differential_0 = _S9450;
    FixedArray<float3 , 3>  _S9455;
    _S9455[int(0)] = _S9426;
    _S9455[int(1)] = _S9426;
    _S9455[int(2)] = _S9426;
    _S9455[int(2)] = _S9418;
    _S9455[int(1)] = _S9420;
    _S9455[int(0)] = _S9422;
    dprgbs_0->primal_0 = dprgbs_0->primal_0;
    dprgbs_0->differential_0 = _S9455;
    FixedArray<float3 , 3>  _S9456;
    _S9456[int(0)] = _S9426;
    _S9456[int(1)] = _S9426;
    _S9456[int(2)] = _S9426;
    _S9456[int(2)] = _S9451;
    _S9456[int(0)] = _S9453;
    _S9456[int(1)] = _S9452;
    dpverts_1->primal_0 = dpverts_1->primal_0;
    dpverts_1->differential_0 = _S9456;
    return;
}

inline __device__ void s_bwd_evaluate_color_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S9457, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S9458, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9459, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9460, float3  _S9461, float _S9462)
{
    s_bwd_prop_evaluate_color_opaque_triangle_0(_S9457, _S9458, _S9459, _S9460, _S9461, _S9462);
    return;
}

inline __device__ void evaluate_color_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_9, FixedArray<float3 , 3>  * rgbs_6, float3  ray_o_9, float3  ray_d_9, float3  v_color_0, float v_depth_22, FixedArray<float3 , 3>  * v_verts_3, FixedArray<float3 , 3>  * v_rgbs_2, float3  * v_ray_o_4, float3  * v_ray_d_4)
{
    float3  _S9463 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S9464 = { _S9463, _S9463, _S9463 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_1;
    (&dp_verts_1)->primal_0 = *verts_9;
    (&dp_verts_1)->differential_0 = _S9464;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_rgbs_0;
    (&dp_rgbs_0)->primal_0 = *rgbs_6;
    (&dp_rgbs_0)->differential_0 = _S9464;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_3;
    (&dp_ray_o_3)->primal_0 = ray_o_9;
    (&dp_ray_o_3)->differential_0 = _S9463;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_3;
    (&dp_ray_d_3)->primal_0 = ray_d_9;
    (&dp_ray_d_3)->differential_0 = _S9463;
    s_bwd_evaluate_color_opaque_triangle_0(&dp_verts_1, &dp_rgbs_0, &dp_ray_o_3, &dp_ray_d_3, v_color_0, v_depth_22);
    *v_verts_3 = (&dp_verts_1)->differential_0;
    *v_rgbs_2 = (&dp_rgbs_0)->differential_0;
    *v_ray_o_4 = dp_ray_o_3.differential_0;
    *v_ray_d_4 = dp_ray_d_3.differential_0;
    return;
}

inline __device__ void projection_voxel_eval3d_persp(float3  pos_0, float size_0, FixedArray<float, 8>  * densities_0, FixedArray<float3 , 16>  * sh_coeffs_21, Matrix<float, 3, 3>  R_70, float3  t_69, float fx_103, float fy_103, float cx_98, float cy_98, FixedArray<float, 10>  * dist_coeffs_106, uint image_width_91, uint image_height_91, float near_plane_70, float far_plane_70, int4  * aabb_xyxy_56, float * depth_44, float3  * rgbs_7)
{
    float2  * _S9465;
    float2  * _S9466;
    float2  * _S9467;
    float2  * _S9468;
    float2  * _S9469;
    float2  * _S9470;
    float2  * _S9471;
    float2  * _S9472;
    bool _S9473;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_0;
        float3  _S9474 = mul_0(R_70, pos_0) + t_69;
        pos_c_0[int(0)] = _S9474;
        float _S9475 = _S9474.z;
        float _S9476 = (F32_min((far_plane_70), (_S9475)));
        float _S9477 = (F32_max((near_plane_70), (_S9475)));
        float3  _S9478 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 0.0f)) + t_69;
        pos_c_0[int(1)] = _S9478;
        float _S9479 = _S9478.z;
        float _S9480 = (F32_min((_S9476), (_S9479)));
        float _S9481 = (F32_max((_S9477), (_S9479)));
        float3  _S9482 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 0.0f)) + t_69;
        pos_c_0[int(2)] = _S9482;
        float _S9483 = _S9482.z;
        float _S9484 = (F32_min((_S9480), (_S9483)));
        float _S9485 = (F32_max((_S9481), (_S9483)));
        float3  _S9486 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 1.0f, 0.0f)) + t_69;
        pos_c_0[int(3)] = _S9486;
        float _S9487 = _S9486.z;
        float _S9488 = (F32_min((_S9484), (_S9487)));
        float _S9489 = (F32_max((_S9485), (_S9487)));
        float3  _S9490 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 0.0f, 1.0f)) + t_69;
        pos_c_0[int(4)] = _S9490;
        float _S9491 = _S9490.z;
        float _S9492 = (F32_min((_S9488), (_S9491)));
        float _S9493 = (F32_max((_S9489), (_S9491)));
        float3  _S9494 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 1.0f)) + t_69;
        pos_c_0[int(5)] = _S9494;
        float _S9495 = _S9494.z;
        float _S9496 = (F32_min((_S9492), (_S9495)));
        float _S9497 = (F32_max((_S9493), (_S9495)));
        float3  _S9498 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 1.0f)) + t_69;
        pos_c_0[int(6)] = _S9498;
        float _S9499 = _S9498.z;
        float _S9500 = (F32_min((_S9496), (_S9499)));
        float _S9501 = (F32_max((_S9497), (_S9499)));
        float3  _S9502 = mul_0(R_70, pos_0 + make_float3 (size_0)) + t_69;
        pos_c_0[int(7)] = _S9502;
        float _S9503 = _S9502.z;
        float _S9504 = (F32_min((_S9500), (_S9503)));
        float _S9505 = (F32_max((_S9501), (_S9503)));
        bool _S9506;
        if(_S9504 < near_plane_70)
        {
            _S9506 = true;
        }
        else
        {
            _S9506 = _S9505 > far_plane_70;
        }
        if(_S9506)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_77 = mul_0(R_70, pos_0 + make_float3 (0.5f * size_0)) + t_69;
        FixedArray<float2 , 8>  uv_7;
        for(;;)
        {
            float3  _S9507 = pos_c_0[int(0)];
            _S9465 = &uv_7[int(0)];
            for(;;)
            {
                float _S9508 = _S9507.z;
                uv_7[int(0)] = float2 {_S9507.x, _S9507.y} / make_float2 (_S9508);
                if(_S9508 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9509 = camera_distortion_jac_0(uv_7[int(0)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9509)), ((F32_min((_S9509.rows[int(0)].x), (_S9509.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_79 = uv_7[int(0)].x;
                float v_79 = uv_7[int(0)].y;
                float r2_74 = u_79 * u_79 + v_79 * v_79;
                float2  _S9510 = uv_7[int(0)] * make_float2 (1.0f + r2_74 * ((*dist_coeffs_106)[int(0)] + r2_74 * ((*dist_coeffs_106)[int(1)] + r2_74 * ((*dist_coeffs_106)[int(2)] + r2_74 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_79 * v_79 + (*dist_coeffs_106)[int(5)] * (r2_74 + 2.0f * u_79 * u_79) + (*dist_coeffs_106)[int(6)] * r2_74, 2.0f * (*dist_coeffs_106)[int(5)] * u_79 * v_79 + (*dist_coeffs_106)[int(4)] * (r2_74 + 2.0f * v_79 * v_79) + (*dist_coeffs_106)[int(7)] * r2_74);
                float2  _S9511 = _S9510 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9510.x + (*dist_coeffs_106)[int(9)] * _S9510.y, 0.0f);
                uv_7[int(0)] = make_float2 (fx_103 * _S9511.x + cx_98, fy_103 * _S9511.y + cy_98);
                break;
            }
            bool all_valid_12 = true & (!_S9506);
            float3  _S9512 = pos_c_0[int(1)];
            _S9466 = &uv_7[int(1)];
            for(;;)
            {
                float _S9513 = _S9512.z;
                uv_7[int(1)] = float2 {_S9512.x, _S9512.y} / make_float2 (_S9513);
                if(_S9513 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9514 = camera_distortion_jac_0(uv_7[int(1)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9514)), ((F32_min((_S9514.rows[int(0)].x), (_S9514.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_80 = uv_7[int(1)].x;
                float v_80 = uv_7[int(1)].y;
                float r2_75 = u_80 * u_80 + v_80 * v_80;
                float2  _S9515 = uv_7[int(1)] * make_float2 (1.0f + r2_75 * ((*dist_coeffs_106)[int(0)] + r2_75 * ((*dist_coeffs_106)[int(1)] + r2_75 * ((*dist_coeffs_106)[int(2)] + r2_75 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_80 * v_80 + (*dist_coeffs_106)[int(5)] * (r2_75 + 2.0f * u_80 * u_80) + (*dist_coeffs_106)[int(6)] * r2_75, 2.0f * (*dist_coeffs_106)[int(5)] * u_80 * v_80 + (*dist_coeffs_106)[int(4)] * (r2_75 + 2.0f * v_80 * v_80) + (*dist_coeffs_106)[int(7)] * r2_75);
                float2  _S9516 = _S9515 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9515.x + (*dist_coeffs_106)[int(9)] * _S9515.y, 0.0f);
                uv_7[int(1)] = make_float2 (fx_103 * _S9516.x + cx_98, fy_103 * _S9516.y + cy_98);
                break;
            }
            bool all_valid_13 = all_valid_12 & (!_S9506);
            float3  _S9517 = pos_c_0[int(2)];
            _S9467 = &uv_7[int(2)];
            for(;;)
            {
                float _S9518 = _S9517.z;
                uv_7[int(2)] = float2 {_S9517.x, _S9517.y} / make_float2 (_S9518);
                if(_S9518 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9519 = camera_distortion_jac_0(uv_7[int(2)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9519)), ((F32_min((_S9519.rows[int(0)].x), (_S9519.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_81 = uv_7[int(2)].x;
                float v_81 = uv_7[int(2)].y;
                float r2_76 = u_81 * u_81 + v_81 * v_81;
                float2  _S9520 = uv_7[int(2)] * make_float2 (1.0f + r2_76 * ((*dist_coeffs_106)[int(0)] + r2_76 * ((*dist_coeffs_106)[int(1)] + r2_76 * ((*dist_coeffs_106)[int(2)] + r2_76 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_81 * v_81 + (*dist_coeffs_106)[int(5)] * (r2_76 + 2.0f * u_81 * u_81) + (*dist_coeffs_106)[int(6)] * r2_76, 2.0f * (*dist_coeffs_106)[int(5)] * u_81 * v_81 + (*dist_coeffs_106)[int(4)] * (r2_76 + 2.0f * v_81 * v_81) + (*dist_coeffs_106)[int(7)] * r2_76);
                float2  _S9521 = _S9520 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9520.x + (*dist_coeffs_106)[int(9)] * _S9520.y, 0.0f);
                uv_7[int(2)] = make_float2 (fx_103 * _S9521.x + cx_98, fy_103 * _S9521.y + cy_98);
                break;
            }
            bool all_valid_14 = all_valid_13 & (!_S9506);
            float3  _S9522 = pos_c_0[int(3)];
            _S9468 = &uv_7[int(3)];
            for(;;)
            {
                float _S9523 = _S9522.z;
                uv_7[int(3)] = float2 {_S9522.x, _S9522.y} / make_float2 (_S9523);
                if(_S9523 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9524 = camera_distortion_jac_0(uv_7[int(3)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9524)), ((F32_min((_S9524.rows[int(0)].x), (_S9524.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_82 = uv_7[int(3)].x;
                float v_82 = uv_7[int(3)].y;
                float r2_77 = u_82 * u_82 + v_82 * v_82;
                float2  _S9525 = uv_7[int(3)] * make_float2 (1.0f + r2_77 * ((*dist_coeffs_106)[int(0)] + r2_77 * ((*dist_coeffs_106)[int(1)] + r2_77 * ((*dist_coeffs_106)[int(2)] + r2_77 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_82 * v_82 + (*dist_coeffs_106)[int(5)] * (r2_77 + 2.0f * u_82 * u_82) + (*dist_coeffs_106)[int(6)] * r2_77, 2.0f * (*dist_coeffs_106)[int(5)] * u_82 * v_82 + (*dist_coeffs_106)[int(4)] * (r2_77 + 2.0f * v_82 * v_82) + (*dist_coeffs_106)[int(7)] * r2_77);
                float2  _S9526 = _S9525 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9525.x + (*dist_coeffs_106)[int(9)] * _S9525.y, 0.0f);
                uv_7[int(3)] = make_float2 (fx_103 * _S9526.x + cx_98, fy_103 * _S9526.y + cy_98);
                break;
            }
            bool all_valid_15 = all_valid_14 & (!_S9506);
            float3  _S9527 = pos_c_0[int(4)];
            _S9469 = &uv_7[int(4)];
            for(;;)
            {
                float _S9528 = _S9527.z;
                uv_7[int(4)] = float2 {_S9527.x, _S9527.y} / make_float2 (_S9528);
                if(_S9528 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9529 = camera_distortion_jac_0(uv_7[int(4)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9529)), ((F32_min((_S9529.rows[int(0)].x), (_S9529.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_83 = uv_7[int(4)].x;
                float v_83 = uv_7[int(4)].y;
                float r2_78 = u_83 * u_83 + v_83 * v_83;
                float2  _S9530 = uv_7[int(4)] * make_float2 (1.0f + r2_78 * ((*dist_coeffs_106)[int(0)] + r2_78 * ((*dist_coeffs_106)[int(1)] + r2_78 * ((*dist_coeffs_106)[int(2)] + r2_78 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_83 * v_83 + (*dist_coeffs_106)[int(5)] * (r2_78 + 2.0f * u_83 * u_83) + (*dist_coeffs_106)[int(6)] * r2_78, 2.0f * (*dist_coeffs_106)[int(5)] * u_83 * v_83 + (*dist_coeffs_106)[int(4)] * (r2_78 + 2.0f * v_83 * v_83) + (*dist_coeffs_106)[int(7)] * r2_78);
                float2  _S9531 = _S9530 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9530.x + (*dist_coeffs_106)[int(9)] * _S9530.y, 0.0f);
                uv_7[int(4)] = make_float2 (fx_103 * _S9531.x + cx_98, fy_103 * _S9531.y + cy_98);
                break;
            }
            bool all_valid_16 = all_valid_15 & (!_S9506);
            float3  _S9532 = pos_c_0[int(5)];
            _S9470 = &uv_7[int(5)];
            for(;;)
            {
                float _S9533 = _S9532.z;
                uv_7[int(5)] = float2 {_S9532.x, _S9532.y} / make_float2 (_S9533);
                if(_S9533 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9534 = camera_distortion_jac_0(uv_7[int(5)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9534)), ((F32_min((_S9534.rows[int(0)].x), (_S9534.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_84 = uv_7[int(5)].x;
                float v_84 = uv_7[int(5)].y;
                float r2_79 = u_84 * u_84 + v_84 * v_84;
                float2  _S9535 = uv_7[int(5)] * make_float2 (1.0f + r2_79 * ((*dist_coeffs_106)[int(0)] + r2_79 * ((*dist_coeffs_106)[int(1)] + r2_79 * ((*dist_coeffs_106)[int(2)] + r2_79 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_84 * v_84 + (*dist_coeffs_106)[int(5)] * (r2_79 + 2.0f * u_84 * u_84) + (*dist_coeffs_106)[int(6)] * r2_79, 2.0f * (*dist_coeffs_106)[int(5)] * u_84 * v_84 + (*dist_coeffs_106)[int(4)] * (r2_79 + 2.0f * v_84 * v_84) + (*dist_coeffs_106)[int(7)] * r2_79);
                float2  _S9536 = _S9535 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9535.x + (*dist_coeffs_106)[int(9)] * _S9535.y, 0.0f);
                uv_7[int(5)] = make_float2 (fx_103 * _S9536.x + cx_98, fy_103 * _S9536.y + cy_98);
                break;
            }
            bool all_valid_17 = all_valid_16 & (!_S9506);
            float3  _S9537 = pos_c_0[int(6)];
            _S9471 = &uv_7[int(6)];
            for(;;)
            {
                float _S9538 = _S9537.z;
                uv_7[int(6)] = float2 {_S9537.x, _S9537.y} / make_float2 (_S9538);
                if(_S9538 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9539 = camera_distortion_jac_0(uv_7[int(6)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9539)), ((F32_min((_S9539.rows[int(0)].x), (_S9539.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_85 = uv_7[int(6)].x;
                float v_85 = uv_7[int(6)].y;
                float r2_80 = u_85 * u_85 + v_85 * v_85;
                float2  _S9540 = uv_7[int(6)] * make_float2 (1.0f + r2_80 * ((*dist_coeffs_106)[int(0)] + r2_80 * ((*dist_coeffs_106)[int(1)] + r2_80 * ((*dist_coeffs_106)[int(2)] + r2_80 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_85 * v_85 + (*dist_coeffs_106)[int(5)] * (r2_80 + 2.0f * u_85 * u_85) + (*dist_coeffs_106)[int(6)] * r2_80, 2.0f * (*dist_coeffs_106)[int(5)] * u_85 * v_85 + (*dist_coeffs_106)[int(4)] * (r2_80 + 2.0f * v_85 * v_85) + (*dist_coeffs_106)[int(7)] * r2_80);
                float2  _S9541 = _S9540 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9540.x + (*dist_coeffs_106)[int(9)] * _S9540.y, 0.0f);
                uv_7[int(6)] = make_float2 (fx_103 * _S9541.x + cx_98, fy_103 * _S9541.y + cy_98);
                break;
            }
            bool all_valid_18 = all_valid_17 & (!_S9506);
            float3  _S9542 = pos_c_0[int(7)];
            _S9472 = &uv_7[int(7)];
            for(;;)
            {
                float _S9543 = _S9542.z;
                uv_7[int(7)] = float2 {_S9542.x, _S9542.y} / make_float2 (_S9543);
                if(_S9543 < 0.0f)
                {
                    _S9506 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9544 = camera_distortion_jac_0(uv_7[int(7)], dist_coeffs_106);
                    _S9506 = !((F32_min((determinant_0(_S9544)), ((F32_min((_S9544.rows[int(0)].x), (_S9544.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9506)
                {
                    break;
                }
                float u_86 = uv_7[int(7)].x;
                float v_86 = uv_7[int(7)].y;
                float r2_81 = u_86 * u_86 + v_86 * v_86;
                float2  _S9545 = uv_7[int(7)] * make_float2 (1.0f + r2_81 * ((*dist_coeffs_106)[int(0)] + r2_81 * ((*dist_coeffs_106)[int(1)] + r2_81 * ((*dist_coeffs_106)[int(2)] + r2_81 * (*dist_coeffs_106)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_106)[int(4)] * u_86 * v_86 + (*dist_coeffs_106)[int(5)] * (r2_81 + 2.0f * u_86 * u_86) + (*dist_coeffs_106)[int(6)] * r2_81, 2.0f * (*dist_coeffs_106)[int(5)] * u_86 * v_86 + (*dist_coeffs_106)[int(4)] * (r2_81 + 2.0f * v_86 * v_86) + (*dist_coeffs_106)[int(7)] * r2_81);
                float2  _S9546 = _S9545 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9545.x + (*dist_coeffs_106)[int(9)] * _S9545.y, 0.0f);
                uv_7[int(7)] = make_float2 (fx_103 * _S9546.x + cx_98, fy_103 * _S9546.y + cy_98);
                break;
            }
            _S9473 = all_valid_18 & (!_S9506);
            break;
        }
        if(!_S9473)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_0)[int(0)]), ((*densities_0)[int(1)])))), ((*densities_0)[int(2)])))), ((*densities_0)[int(3)])))), ((*densities_0)[int(4)])))), ((*densities_0)[int(5)])))), ((*densities_0)[int(6)])))), ((*densities_0)[int(7)]))) * size_0 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9547 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9465).x), ((*_S9466).x)))), ((*_S9467).x)))), ((*_S9468).x)))), ((*_S9469).x)))), ((*_S9470).x)))), ((*_S9471).x)))), ((*_S9472).x)));
        float _S9548 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9465).x), ((*_S9466).x)))), ((*_S9467).x)))), ((*_S9468).x)))), ((*_S9469).x)))), ((*_S9470).x)))), ((*_S9471).x)))), ((*_S9472).x)));
        float _S9549 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9465).y), ((*_S9466).y)))), ((*_S9467).y)))), ((*_S9468).y)))), ((*_S9469).y)))), ((*_S9470).y)))), ((*_S9471).y)))), ((*_S9472).y)));
        float _S9550 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9465).y), ((*_S9466).y)))), ((*_S9467).y)))), ((*_S9468).y)))), ((*_S9469).y)))), ((*_S9470).y)))), ((*_S9471).y)))), ((*_S9472).y)));
        if(_S9547 <= 0.0f)
        {
            _S9506 = true;
        }
        else
        {
            _S9506 = _S9548 >= float(image_width_91);
        }
        if(_S9506)
        {
            _S9506 = true;
        }
        else
        {
            _S9506 = _S9549 <= 0.0f;
        }
        if(_S9506)
        {
            _S9506 = true;
        }
        else
        {
            _S9506 = _S9550 >= float(image_height_91);
        }
        if(_S9506)
        {
            _S9506 = true;
        }
        else
        {
            if(_S9504 <= 0.0f)
            {
                if(_S9548 <= 0.0f)
                {
                    _S9506 = _S9547 >= float(image_width_91);
                }
                else
                {
                    _S9506 = false;
                }
                if(_S9506)
                {
                    _S9506 = true;
                }
                else
                {
                    if(_S9550 <= 0.0f)
                    {
                        _S9506 = _S9549 >= float(image_width_91);
                    }
                    else
                    {
                        _S9506 = false;
                    }
                }
            }
            else
            {
                _S9506 = false;
            }
        }
        if(_S9506)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_56 = make_int4 (int((F32_floor((_S9548)))), int((F32_floor((_S9550)))), int((F32_ceil((_S9547)))), int((F32_ceil((_S9549)))));
        float _S9551 = mean_c_77.z;
        *depth_44 = (F32_max((_S9551), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9551 + length_1(mean_c_77)))));
        float3  _S9552 = mean_c_77 - - mul_0(transpose_0(R_70), t_69);
        float3  _S9553 = make_float3 (0.282094806432724f) * (*sh_coeffs_21)[int(0)];
        *rgbs_7 = _S9553;
        float _S9554 = _S9552.x;
        float _S9555 = _S9552.y;
        float _S9556 = _S9552.z;
        float norm_14 = (F32_sqrt((_S9554 * _S9554 + _S9555 * _S9555 + _S9556 * _S9556)));
        float x_79 = _S9554 / norm_14;
        float y_24 = _S9555 / norm_14;
        float z_21 = _S9556 / norm_14;
        float3  _S9557 = _S9553 + make_float3 (0.48860251903533936f) * (make_float3 (- y_24) * (*sh_coeffs_21)[int(1)] + make_float3 (z_21) * (*sh_coeffs_21)[int(2)] - make_float3 (x_79) * (*sh_coeffs_21)[int(3)]);
        *rgbs_7 = _S9557;
        float z2_104 = z_21 * z_21;
        float fTmp0B_21 = -1.09254848957061768f * z_21;
        float fC1_21 = x_79 * x_79 - y_24 * y_24;
        float fS1_21 = 2.0f * x_79 * y_24;
        float3  _S9558 = _S9557 + (make_float3 (0.54627424478530884f * fS1_21) * (*sh_coeffs_21)[int(4)] + make_float3 (fTmp0B_21 * y_24) * (*sh_coeffs_21)[int(5)] + make_float3 (0.94617468118667603f * z2_104 - 0.31539157032966614f) * (*sh_coeffs_21)[int(6)] + make_float3 (fTmp0B_21 * x_79) * (*sh_coeffs_21)[int(7)] + make_float3 (0.54627424478530884f * fC1_21) * (*sh_coeffs_21)[int(8)]);
        *rgbs_7 = _S9558;
        float fTmp0C_21 = -2.28522896766662598f * z2_104 + 0.4570457935333252f;
        float fTmp1B_21 = 1.44530570507049561f * z_21;
        *rgbs_7 = max_0(_S9558 + (make_float3 (-0.59004360437393188f * (x_79 * fS1_21 + y_24 * fC1_21)) * (*sh_coeffs_21)[int(9)] + make_float3 (fTmp1B_21 * fS1_21) * (*sh_coeffs_21)[int(10)] + make_float3 (fTmp0C_21 * y_24) * (*sh_coeffs_21)[int(11)] + make_float3 (z_21 * (1.86588168144226074f * z2_104 - 1.11952900886535645f)) * (*sh_coeffs_21)[int(12)] + make_float3 (fTmp0C_21 * x_79) * (*sh_coeffs_21)[int(13)] + make_float3 (fTmp1B_21 * fC1_21) * (*sh_coeffs_21)[int(14)] + make_float3 (-0.59004360437393188f * (x_79 * fC1_21 - y_24 * fS1_21)) * (*sh_coeffs_21)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye(float3  pos_1, float size_1, FixedArray<float, 8>  * densities_1, FixedArray<float3 , 16>  * sh_coeffs_22, Matrix<float, 3, 3>  R_71, float3  t_70, float fx_104, float fy_104, float cx_99, float cy_99, FixedArray<float, 10>  * dist_coeffs_107, uint image_width_92, uint image_height_92, float near_plane_71, float far_plane_71, int4  * aabb_xyxy_57, float * depth_45, float3  * rgbs_8)
{
    float2  * _S9559;
    bool _S9560;
    float2  * _S9561;
    bool _S9562;
    float2  * _S9563;
    bool _S9564;
    float2  * _S9565;
    bool _S9566;
    float2  * _S9567;
    bool _S9568;
    float2  * _S9569;
    bool _S9570;
    float2  * _S9571;
    bool _S9572;
    float2  * _S9573;
    bool _S9574;
    bool _S9575;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_1;
        float3  _S9576 = mul_0(R_71, pos_1) + t_70;
        pos_c_1[int(0)] = _S9576;
        float _S9577 = length_1(_S9576);
        float _S9578 = (F32_min((far_plane_71), (_S9577)));
        float _S9579 = (F32_max((near_plane_71), (_S9577)));
        float3  _S9580 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 0.0f)) + t_70;
        pos_c_1[int(1)] = _S9580;
        float _S9581 = length_1(_S9580);
        float _S9582 = (F32_min((_S9578), (_S9581)));
        float _S9583 = (F32_max((_S9579), (_S9581)));
        float3  _S9584 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 0.0f)) + t_70;
        pos_c_1[int(2)] = _S9584;
        float _S9585 = length_1(_S9584);
        float _S9586 = (F32_min((_S9582), (_S9585)));
        float _S9587 = (F32_max((_S9583), (_S9585)));
        float3  _S9588 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 1.0f, 0.0f)) + t_70;
        pos_c_1[int(3)] = _S9588;
        float _S9589 = length_1(_S9588);
        float _S9590 = (F32_min((_S9586), (_S9589)));
        float _S9591 = (F32_max((_S9587), (_S9589)));
        float3  _S9592 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 0.0f, 1.0f)) + t_70;
        pos_c_1[int(4)] = _S9592;
        float _S9593 = length_1(_S9592);
        float _S9594 = (F32_min((_S9590), (_S9593)));
        float _S9595 = (F32_max((_S9591), (_S9593)));
        float3  _S9596 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 1.0f)) + t_70;
        pos_c_1[int(5)] = _S9596;
        float _S9597 = length_1(_S9596);
        float _S9598 = (F32_min((_S9594), (_S9597)));
        float _S9599 = (F32_max((_S9595), (_S9597)));
        float3  _S9600 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 1.0f)) + t_70;
        pos_c_1[int(6)] = _S9600;
        float _S9601 = length_1(_S9600);
        float _S9602 = (F32_min((_S9598), (_S9601)));
        float _S9603 = (F32_max((_S9599), (_S9601)));
        float3  _S9604 = mul_0(R_71, pos_1 + make_float3 (size_1)) + t_70;
        pos_c_1[int(7)] = _S9604;
        float _S9605 = length_1(_S9604);
        float _S9606 = (F32_min((_S9602), (_S9605)));
        float _S9607 = (F32_max((_S9603), (_S9605)));
        bool _S9608;
        if(_S9606 < near_plane_71)
        {
            _S9608 = true;
        }
        else
        {
            _S9608 = _S9607 > far_plane_71;
        }
        if(_S9608)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_78 = mul_0(R_71, pos_1 + make_float3 (0.5f * size_1)) + t_70;
        FixedArray<float2 , 8>  uv_8;
        for(;;)
        {
            float k_10;
            float3  _S9609 = pos_c_1[int(0)];
            _S9559 = &uv_8[int(0)];
            for(;;)
            {
                float2  _S9610 = float2 {_S9609.x, _S9609.y};
                float r_30 = length_0(_S9610);
                float _S9611 = _S9609.z;
                float theta_26 = (F32_atan2((r_30), (_S9611)));
                if(theta_26 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_26 * theta_26 / 3.0f) / _S9611;
                }
                else
                {
                    k_10 = theta_26 / r_30;
                }
                float2  _S9612 = _S9610 * make_float2 (k_10);
                uv_8[int(0)] = _S9612;
                Matrix<float, 2, 2>  _S9613 = camera_distortion_jac_0(_S9612, dist_coeffs_107);
                bool _S9614 = !((F32_min((determinant_0(_S9613)), ((F32_min((_S9613.rows[int(0)].x), (_S9613.rows[int(1)].y)))))) > 0.0f);
                _S9560 = _S9614;
                if(_S9614)
                {
                    break;
                }
                float u_87 = uv_8[int(0)].x;
                float v_87 = uv_8[int(0)].y;
                float r2_82 = u_87 * u_87 + v_87 * v_87;
                float2  _S9615 = uv_8[int(0)] * make_float2 (1.0f + r2_82 * ((*dist_coeffs_107)[int(0)] + r2_82 * ((*dist_coeffs_107)[int(1)] + r2_82 * ((*dist_coeffs_107)[int(2)] + r2_82 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_87 * v_87 + (*dist_coeffs_107)[int(5)] * (r2_82 + 2.0f * u_87 * u_87) + (*dist_coeffs_107)[int(6)] * r2_82, 2.0f * (*dist_coeffs_107)[int(5)] * u_87 * v_87 + (*dist_coeffs_107)[int(4)] * (r2_82 + 2.0f * v_87 * v_87) + (*dist_coeffs_107)[int(7)] * r2_82);
                float2  _S9616 = _S9615 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9615.x + (*dist_coeffs_107)[int(9)] * _S9615.y, 0.0f);
                uv_8[int(0)] = make_float2 (fx_104 * _S9616.x + cx_99, fy_104 * _S9616.y + cy_99);
                break;
            }
            bool all_valid_19 = true & (!_S9560);
            float3  _S9617 = pos_c_1[int(1)];
            _S9561 = &uv_8[int(1)];
            for(;;)
            {
                float2  _S9618 = float2 {_S9617.x, _S9617.y};
                float r_31 = length_0(_S9618);
                float _S9619 = _S9617.z;
                float theta_27 = (F32_atan2((r_31), (_S9619)));
                if(theta_27 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_27 * theta_27 / 3.0f) / _S9619;
                }
                else
                {
                    k_10 = theta_27 / r_31;
                }
                float2  _S9620 = _S9618 * make_float2 (k_10);
                uv_8[int(1)] = _S9620;
                Matrix<float, 2, 2>  _S9621 = camera_distortion_jac_0(_S9620, dist_coeffs_107);
                bool _S9622 = !((F32_min((determinant_0(_S9621)), ((F32_min((_S9621.rows[int(0)].x), (_S9621.rows[int(1)].y)))))) > 0.0f);
                _S9562 = _S9622;
                if(_S9622)
                {
                    break;
                }
                float u_88 = uv_8[int(1)].x;
                float v_88 = uv_8[int(1)].y;
                float r2_83 = u_88 * u_88 + v_88 * v_88;
                float2  _S9623 = uv_8[int(1)] * make_float2 (1.0f + r2_83 * ((*dist_coeffs_107)[int(0)] + r2_83 * ((*dist_coeffs_107)[int(1)] + r2_83 * ((*dist_coeffs_107)[int(2)] + r2_83 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_88 * v_88 + (*dist_coeffs_107)[int(5)] * (r2_83 + 2.0f * u_88 * u_88) + (*dist_coeffs_107)[int(6)] * r2_83, 2.0f * (*dist_coeffs_107)[int(5)] * u_88 * v_88 + (*dist_coeffs_107)[int(4)] * (r2_83 + 2.0f * v_88 * v_88) + (*dist_coeffs_107)[int(7)] * r2_83);
                float2  _S9624 = _S9623 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9623.x + (*dist_coeffs_107)[int(9)] * _S9623.y, 0.0f);
                uv_8[int(1)] = make_float2 (fx_104 * _S9624.x + cx_99, fy_104 * _S9624.y + cy_99);
                break;
            }
            bool all_valid_20 = all_valid_19 & (!_S9562);
            float3  _S9625 = pos_c_1[int(2)];
            _S9563 = &uv_8[int(2)];
            for(;;)
            {
                float2  _S9626 = float2 {_S9625.x, _S9625.y};
                float r_32 = length_0(_S9626);
                float _S9627 = _S9625.z;
                float theta_28 = (F32_atan2((r_32), (_S9627)));
                if(theta_28 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_28 * theta_28 / 3.0f) / _S9627;
                }
                else
                {
                    k_10 = theta_28 / r_32;
                }
                float2  _S9628 = _S9626 * make_float2 (k_10);
                uv_8[int(2)] = _S9628;
                Matrix<float, 2, 2>  _S9629 = camera_distortion_jac_0(_S9628, dist_coeffs_107);
                bool _S9630 = !((F32_min((determinant_0(_S9629)), ((F32_min((_S9629.rows[int(0)].x), (_S9629.rows[int(1)].y)))))) > 0.0f);
                _S9564 = _S9630;
                if(_S9630)
                {
                    break;
                }
                float u_89 = uv_8[int(2)].x;
                float v_89 = uv_8[int(2)].y;
                float r2_84 = u_89 * u_89 + v_89 * v_89;
                float2  _S9631 = uv_8[int(2)] * make_float2 (1.0f + r2_84 * ((*dist_coeffs_107)[int(0)] + r2_84 * ((*dist_coeffs_107)[int(1)] + r2_84 * ((*dist_coeffs_107)[int(2)] + r2_84 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_89 * v_89 + (*dist_coeffs_107)[int(5)] * (r2_84 + 2.0f * u_89 * u_89) + (*dist_coeffs_107)[int(6)] * r2_84, 2.0f * (*dist_coeffs_107)[int(5)] * u_89 * v_89 + (*dist_coeffs_107)[int(4)] * (r2_84 + 2.0f * v_89 * v_89) + (*dist_coeffs_107)[int(7)] * r2_84);
                float2  _S9632 = _S9631 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9631.x + (*dist_coeffs_107)[int(9)] * _S9631.y, 0.0f);
                uv_8[int(2)] = make_float2 (fx_104 * _S9632.x + cx_99, fy_104 * _S9632.y + cy_99);
                break;
            }
            bool all_valid_21 = all_valid_20 & (!_S9564);
            float3  _S9633 = pos_c_1[int(3)];
            _S9565 = &uv_8[int(3)];
            for(;;)
            {
                float2  _S9634 = float2 {_S9633.x, _S9633.y};
                float r_33 = length_0(_S9634);
                float _S9635 = _S9633.z;
                float theta_29 = (F32_atan2((r_33), (_S9635)));
                if(theta_29 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_29 * theta_29 / 3.0f) / _S9635;
                }
                else
                {
                    k_10 = theta_29 / r_33;
                }
                float2  _S9636 = _S9634 * make_float2 (k_10);
                uv_8[int(3)] = _S9636;
                Matrix<float, 2, 2>  _S9637 = camera_distortion_jac_0(_S9636, dist_coeffs_107);
                bool _S9638 = !((F32_min((determinant_0(_S9637)), ((F32_min((_S9637.rows[int(0)].x), (_S9637.rows[int(1)].y)))))) > 0.0f);
                _S9566 = _S9638;
                if(_S9638)
                {
                    break;
                }
                float u_90 = uv_8[int(3)].x;
                float v_90 = uv_8[int(3)].y;
                float r2_85 = u_90 * u_90 + v_90 * v_90;
                float2  _S9639 = uv_8[int(3)] * make_float2 (1.0f + r2_85 * ((*dist_coeffs_107)[int(0)] + r2_85 * ((*dist_coeffs_107)[int(1)] + r2_85 * ((*dist_coeffs_107)[int(2)] + r2_85 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_90 * v_90 + (*dist_coeffs_107)[int(5)] * (r2_85 + 2.0f * u_90 * u_90) + (*dist_coeffs_107)[int(6)] * r2_85, 2.0f * (*dist_coeffs_107)[int(5)] * u_90 * v_90 + (*dist_coeffs_107)[int(4)] * (r2_85 + 2.0f * v_90 * v_90) + (*dist_coeffs_107)[int(7)] * r2_85);
                float2  _S9640 = _S9639 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9639.x + (*dist_coeffs_107)[int(9)] * _S9639.y, 0.0f);
                uv_8[int(3)] = make_float2 (fx_104 * _S9640.x + cx_99, fy_104 * _S9640.y + cy_99);
                break;
            }
            bool all_valid_22 = all_valid_21 & (!_S9566);
            float3  _S9641 = pos_c_1[int(4)];
            _S9567 = &uv_8[int(4)];
            for(;;)
            {
                float2  _S9642 = float2 {_S9641.x, _S9641.y};
                float r_34 = length_0(_S9642);
                float _S9643 = _S9641.z;
                float theta_30 = (F32_atan2((r_34), (_S9643)));
                if(theta_30 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_30 * theta_30 / 3.0f) / _S9643;
                }
                else
                {
                    k_10 = theta_30 / r_34;
                }
                float2  _S9644 = _S9642 * make_float2 (k_10);
                uv_8[int(4)] = _S9644;
                Matrix<float, 2, 2>  _S9645 = camera_distortion_jac_0(_S9644, dist_coeffs_107);
                bool _S9646 = !((F32_min((determinant_0(_S9645)), ((F32_min((_S9645.rows[int(0)].x), (_S9645.rows[int(1)].y)))))) > 0.0f);
                _S9568 = _S9646;
                if(_S9646)
                {
                    break;
                }
                float u_91 = uv_8[int(4)].x;
                float v_91 = uv_8[int(4)].y;
                float r2_86 = u_91 * u_91 + v_91 * v_91;
                float2  _S9647 = uv_8[int(4)] * make_float2 (1.0f + r2_86 * ((*dist_coeffs_107)[int(0)] + r2_86 * ((*dist_coeffs_107)[int(1)] + r2_86 * ((*dist_coeffs_107)[int(2)] + r2_86 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_91 * v_91 + (*dist_coeffs_107)[int(5)] * (r2_86 + 2.0f * u_91 * u_91) + (*dist_coeffs_107)[int(6)] * r2_86, 2.0f * (*dist_coeffs_107)[int(5)] * u_91 * v_91 + (*dist_coeffs_107)[int(4)] * (r2_86 + 2.0f * v_91 * v_91) + (*dist_coeffs_107)[int(7)] * r2_86);
                float2  _S9648 = _S9647 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9647.x + (*dist_coeffs_107)[int(9)] * _S9647.y, 0.0f);
                uv_8[int(4)] = make_float2 (fx_104 * _S9648.x + cx_99, fy_104 * _S9648.y + cy_99);
                break;
            }
            bool all_valid_23 = all_valid_22 & (!_S9568);
            float3  _S9649 = pos_c_1[int(5)];
            _S9569 = &uv_8[int(5)];
            for(;;)
            {
                float2  _S9650 = float2 {_S9649.x, _S9649.y};
                float r_35 = length_0(_S9650);
                float _S9651 = _S9649.z;
                float theta_31 = (F32_atan2((r_35), (_S9651)));
                if(theta_31 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_31 * theta_31 / 3.0f) / _S9651;
                }
                else
                {
                    k_10 = theta_31 / r_35;
                }
                float2  _S9652 = _S9650 * make_float2 (k_10);
                uv_8[int(5)] = _S9652;
                Matrix<float, 2, 2>  _S9653 = camera_distortion_jac_0(_S9652, dist_coeffs_107);
                bool _S9654 = !((F32_min((determinant_0(_S9653)), ((F32_min((_S9653.rows[int(0)].x), (_S9653.rows[int(1)].y)))))) > 0.0f);
                _S9570 = _S9654;
                if(_S9654)
                {
                    break;
                }
                float u_92 = uv_8[int(5)].x;
                float v_92 = uv_8[int(5)].y;
                float r2_87 = u_92 * u_92 + v_92 * v_92;
                float2  _S9655 = uv_8[int(5)] * make_float2 (1.0f + r2_87 * ((*dist_coeffs_107)[int(0)] + r2_87 * ((*dist_coeffs_107)[int(1)] + r2_87 * ((*dist_coeffs_107)[int(2)] + r2_87 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_92 * v_92 + (*dist_coeffs_107)[int(5)] * (r2_87 + 2.0f * u_92 * u_92) + (*dist_coeffs_107)[int(6)] * r2_87, 2.0f * (*dist_coeffs_107)[int(5)] * u_92 * v_92 + (*dist_coeffs_107)[int(4)] * (r2_87 + 2.0f * v_92 * v_92) + (*dist_coeffs_107)[int(7)] * r2_87);
                float2  _S9656 = _S9655 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9655.x + (*dist_coeffs_107)[int(9)] * _S9655.y, 0.0f);
                uv_8[int(5)] = make_float2 (fx_104 * _S9656.x + cx_99, fy_104 * _S9656.y + cy_99);
                break;
            }
            bool all_valid_24 = all_valid_23 & (!_S9570);
            float3  _S9657 = pos_c_1[int(6)];
            _S9571 = &uv_8[int(6)];
            for(;;)
            {
                float2  _S9658 = float2 {_S9657.x, _S9657.y};
                float r_36 = length_0(_S9658);
                float _S9659 = _S9657.z;
                float theta_32 = (F32_atan2((r_36), (_S9659)));
                if(theta_32 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_32 * theta_32 / 3.0f) / _S9659;
                }
                else
                {
                    k_10 = theta_32 / r_36;
                }
                float2  _S9660 = _S9658 * make_float2 (k_10);
                uv_8[int(6)] = _S9660;
                Matrix<float, 2, 2>  _S9661 = camera_distortion_jac_0(_S9660, dist_coeffs_107);
                bool _S9662 = !((F32_min((determinant_0(_S9661)), ((F32_min((_S9661.rows[int(0)].x), (_S9661.rows[int(1)].y)))))) > 0.0f);
                _S9572 = _S9662;
                if(_S9662)
                {
                    break;
                }
                float u_93 = uv_8[int(6)].x;
                float v_93 = uv_8[int(6)].y;
                float r2_88 = u_93 * u_93 + v_93 * v_93;
                float2  _S9663 = uv_8[int(6)] * make_float2 (1.0f + r2_88 * ((*dist_coeffs_107)[int(0)] + r2_88 * ((*dist_coeffs_107)[int(1)] + r2_88 * ((*dist_coeffs_107)[int(2)] + r2_88 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_93 * v_93 + (*dist_coeffs_107)[int(5)] * (r2_88 + 2.0f * u_93 * u_93) + (*dist_coeffs_107)[int(6)] * r2_88, 2.0f * (*dist_coeffs_107)[int(5)] * u_93 * v_93 + (*dist_coeffs_107)[int(4)] * (r2_88 + 2.0f * v_93 * v_93) + (*dist_coeffs_107)[int(7)] * r2_88);
                float2  _S9664 = _S9663 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9663.x + (*dist_coeffs_107)[int(9)] * _S9663.y, 0.0f);
                uv_8[int(6)] = make_float2 (fx_104 * _S9664.x + cx_99, fy_104 * _S9664.y + cy_99);
                break;
            }
            bool all_valid_25 = all_valid_24 & (!_S9572);
            float3  _S9665 = pos_c_1[int(7)];
            _S9573 = &uv_8[int(7)];
            for(;;)
            {
                float2  _S9666 = float2 {_S9665.x, _S9665.y};
                float r_37 = length_0(_S9666);
                float _S9667 = _S9665.z;
                float theta_33 = (F32_atan2((r_37), (_S9667)));
                if(theta_33 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_33 * theta_33 / 3.0f) / _S9667;
                }
                else
                {
                    k_10 = theta_33 / r_37;
                }
                float2  _S9668 = _S9666 * make_float2 (k_10);
                uv_8[int(7)] = _S9668;
                Matrix<float, 2, 2>  _S9669 = camera_distortion_jac_0(_S9668, dist_coeffs_107);
                bool _S9670 = !((F32_min((determinant_0(_S9669)), ((F32_min((_S9669.rows[int(0)].x), (_S9669.rows[int(1)].y)))))) > 0.0f);
                _S9574 = _S9670;
                if(_S9670)
                {
                    break;
                }
                float u_94 = uv_8[int(7)].x;
                float v_94 = uv_8[int(7)].y;
                float r2_89 = u_94 * u_94 + v_94 * v_94;
                float2  _S9671 = uv_8[int(7)] * make_float2 (1.0f + r2_89 * ((*dist_coeffs_107)[int(0)] + r2_89 * ((*dist_coeffs_107)[int(1)] + r2_89 * ((*dist_coeffs_107)[int(2)] + r2_89 * (*dist_coeffs_107)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_107)[int(4)] * u_94 * v_94 + (*dist_coeffs_107)[int(5)] * (r2_89 + 2.0f * u_94 * u_94) + (*dist_coeffs_107)[int(6)] * r2_89, 2.0f * (*dist_coeffs_107)[int(5)] * u_94 * v_94 + (*dist_coeffs_107)[int(4)] * (r2_89 + 2.0f * v_94 * v_94) + (*dist_coeffs_107)[int(7)] * r2_89);
                float2  _S9672 = _S9671 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9671.x + (*dist_coeffs_107)[int(9)] * _S9671.y, 0.0f);
                uv_8[int(7)] = make_float2 (fx_104 * _S9672.x + cx_99, fy_104 * _S9672.y + cy_99);
                break;
            }
            _S9575 = all_valid_25 & (!_S9574);
            break;
        }
        if(!_S9575)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_1)[int(0)]), ((*densities_1)[int(1)])))), ((*densities_1)[int(2)])))), ((*densities_1)[int(3)])))), ((*densities_1)[int(4)])))), ((*densities_1)[int(5)])))), ((*densities_1)[int(6)])))), ((*densities_1)[int(7)]))) * size_1 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9673 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9559).x), ((*_S9561).x)))), ((*_S9563).x)))), ((*_S9565).x)))), ((*_S9567).x)))), ((*_S9569).x)))), ((*_S9571).x)))), ((*_S9573).x)));
        float _S9674 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9559).x), ((*_S9561).x)))), ((*_S9563).x)))), ((*_S9565).x)))), ((*_S9567).x)))), ((*_S9569).x)))), ((*_S9571).x)))), ((*_S9573).x)));
        float _S9675 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9559).y), ((*_S9561).y)))), ((*_S9563).y)))), ((*_S9565).y)))), ((*_S9567).y)))), ((*_S9569).y)))), ((*_S9571).y)))), ((*_S9573).y)));
        float _S9676 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9559).y), ((*_S9561).y)))), ((*_S9563).y)))), ((*_S9565).y)))), ((*_S9567).y)))), ((*_S9569).y)))), ((*_S9571).y)))), ((*_S9573).y)));
        if(_S9673 <= 0.0f)
        {
            _S9608 = true;
        }
        else
        {
            _S9608 = _S9674 >= float(image_width_92);
        }
        if(_S9608)
        {
            _S9608 = true;
        }
        else
        {
            _S9608 = _S9675 <= 0.0f;
        }
        if(_S9608)
        {
            _S9608 = true;
        }
        else
        {
            _S9608 = _S9676 >= float(image_height_92);
        }
        if(_S9608)
        {
            _S9608 = true;
        }
        else
        {
            if(_S9606 <= 0.0f)
            {
                if(_S9674 <= 0.0f)
                {
                    _S9608 = _S9673 >= float(image_width_92);
                }
                else
                {
                    _S9608 = false;
                }
                if(_S9608)
                {
                    _S9608 = true;
                }
                else
                {
                    if(_S9676 <= 0.0f)
                    {
                        _S9608 = _S9675 >= float(image_width_92);
                    }
                    else
                    {
                        _S9608 = false;
                    }
                }
            }
            else
            {
                _S9608 = false;
            }
        }
        if(_S9608)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_57 = make_int4 (int((F32_floor((_S9674)))), int((F32_floor((_S9676)))), int((F32_ceil((_S9673)))), int((F32_ceil((_S9675)))));
        float _S9677 = mean_c_78.z;
        *depth_45 = (F32_max((_S9677), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9677 + length_1(mean_c_78)))));
        float3  _S9678 = mean_c_78 - - mul_0(transpose_0(R_71), t_70);
        float3  _S9679 = make_float3 (0.282094806432724f) * (*sh_coeffs_22)[int(0)];
        *rgbs_8 = _S9679;
        float _S9680 = _S9678.x;
        float _S9681 = _S9678.y;
        float _S9682 = _S9678.z;
        float norm_15 = (F32_sqrt((_S9680 * _S9680 + _S9681 * _S9681 + _S9682 * _S9682)));
        float x_80 = _S9680 / norm_15;
        float y_25 = _S9681 / norm_15;
        float z_22 = _S9682 / norm_15;
        float3  _S9683 = _S9679 + make_float3 (0.48860251903533936f) * (make_float3 (- y_25) * (*sh_coeffs_22)[int(1)] + make_float3 (z_22) * (*sh_coeffs_22)[int(2)] - make_float3 (x_80) * (*sh_coeffs_22)[int(3)]);
        *rgbs_8 = _S9683;
        float z2_105 = z_22 * z_22;
        float fTmp0B_22 = -1.09254848957061768f * z_22;
        float fC1_22 = x_80 * x_80 - y_25 * y_25;
        float fS1_22 = 2.0f * x_80 * y_25;
        float3  _S9684 = _S9683 + (make_float3 (0.54627424478530884f * fS1_22) * (*sh_coeffs_22)[int(4)] + make_float3 (fTmp0B_22 * y_25) * (*sh_coeffs_22)[int(5)] + make_float3 (0.94617468118667603f * z2_105 - 0.31539157032966614f) * (*sh_coeffs_22)[int(6)] + make_float3 (fTmp0B_22 * x_80) * (*sh_coeffs_22)[int(7)] + make_float3 (0.54627424478530884f * fC1_22) * (*sh_coeffs_22)[int(8)]);
        *rgbs_8 = _S9684;
        float fTmp0C_22 = -2.28522896766662598f * z2_105 + 0.4570457935333252f;
        float fTmp1B_22 = 1.44530570507049561f * z_22;
        *rgbs_8 = max_0(_S9684 + (make_float3 (-0.59004360437393188f * (x_80 * fS1_22 + y_25 * fC1_22)) * (*sh_coeffs_22)[int(9)] + make_float3 (fTmp1B_22 * fS1_22) * (*sh_coeffs_22)[int(10)] + make_float3 (fTmp0C_22 * y_25) * (*sh_coeffs_22)[int(11)] + make_float3 (z_22 * (1.86588168144226074f * z2_105 - 1.11952900886535645f)) * (*sh_coeffs_22)[int(12)] + make_float3 (fTmp0C_22 * x_80) * (*sh_coeffs_22)[int(13)] + make_float3 (fTmp1B_22 * fC1_22) * (*sh_coeffs_22)[int(14)] + make_float3 (-0.59004360437393188f * (x_80 * fC1_22 - y_25 * fS1_22)) * (*sh_coeffs_22)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_voxel_eval3d_persp_differentiable(float3  pos_2, float size_2, FixedArray<float, 8>  * densities_2, FixedArray<float3 , 16>  * sh_coeffs_23, Matrix<float, 3, 3>  R_72, float3  t_71, float fx_105, float fy_105, float cx_100, float cy_100, FixedArray<float, 10>  * dist_coeffs_108, uint image_width_93, uint image_height_93, float near_plane_72, float far_plane_72, int4  * aabb_xyxy_58, float * depth_46, float3  * rgbs_9)
{
    FixedArray<float3 , 8>  pos_c_2;
    float3  _S9685 = mul_0(R_72, pos_2) + t_71;
    pos_c_2[int(0)] = _S9685;
    float3  _S9686 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 0.0f)) + t_71;
    pos_c_2[int(1)] = _S9686;
    float3  _S9687 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 0.0f)) + t_71;
    pos_c_2[int(2)] = _S9687;
    float3  _S9688 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 1.0f, 0.0f)) + t_71;
    pos_c_2[int(3)] = _S9688;
    float3  _S9689 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 0.0f, 1.0f)) + t_71;
    pos_c_2[int(4)] = _S9689;
    float3  _S9690 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 1.0f)) + t_71;
    pos_c_2[int(5)] = _S9690;
    float3  _S9691 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 1.0f)) + t_71;
    pos_c_2[int(6)] = _S9691;
    float3  _S9692 = mul_0(R_72, pos_2 + make_float3 (size_2)) + t_71;
    pos_c_2[int(7)] = _S9692;
    float3  mean_c_79 = mul_0(R_72, pos_2 + make_float3 (0.5f * size_2)) + t_71;
    FixedArray<float2 , 8>  uv_9;
    float2  _S9693 = float2 {_S9685.x, _S9685.y} / make_float2 (_S9685.z);
    float u_95 = _S9693.x;
    float v_95 = _S9693.y;
    float r2_90 = u_95 * u_95 + v_95 * v_95;
    float _S9694 = 2.0f * (*dist_coeffs_108)[int(4)];
    float _S9695 = 2.0f * (*dist_coeffs_108)[int(5)];
    float2  _S9696 = _S9693 * make_float2 (1.0f + r2_90 * ((*dist_coeffs_108)[int(0)] + r2_90 * ((*dist_coeffs_108)[int(1)] + r2_90 * ((*dist_coeffs_108)[int(2)] + r2_90 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_95 * v_95 + (*dist_coeffs_108)[int(5)] * (r2_90 + 2.0f * u_95 * u_95) + (*dist_coeffs_108)[int(6)] * r2_90, _S9695 * u_95 * v_95 + (*dist_coeffs_108)[int(4)] * (r2_90 + 2.0f * v_95 * v_95) + (*dist_coeffs_108)[int(7)] * r2_90);
    float2  _S9697 = _S9696 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9696.x + (*dist_coeffs_108)[int(9)] * _S9696.y, 0.0f);
    float _S9698 = fx_105 * _S9697.x + cx_100;
    float _S9699 = fy_105 * _S9697.y + cy_100;
    uv_9[int(0)] = make_float2 (_S9698, _S9699);
    float2  _S9700 = float2 {_S9686.x, _S9686.y} / make_float2 (_S9686.z);
    float u_96 = _S9700.x;
    float v_96 = _S9700.y;
    float r2_91 = u_96 * u_96 + v_96 * v_96;
    float2  _S9701 = _S9700 * make_float2 (1.0f + r2_91 * ((*dist_coeffs_108)[int(0)] + r2_91 * ((*dist_coeffs_108)[int(1)] + r2_91 * ((*dist_coeffs_108)[int(2)] + r2_91 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_96 * v_96 + (*dist_coeffs_108)[int(5)] * (r2_91 + 2.0f * u_96 * u_96) + (*dist_coeffs_108)[int(6)] * r2_91, _S9695 * u_96 * v_96 + (*dist_coeffs_108)[int(4)] * (r2_91 + 2.0f * v_96 * v_96) + (*dist_coeffs_108)[int(7)] * r2_91);
    float2  _S9702 = _S9701 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9701.x + (*dist_coeffs_108)[int(9)] * _S9701.y, 0.0f);
    float _S9703 = fx_105 * _S9702.x + cx_100;
    float _S9704 = fy_105 * _S9702.y + cy_100;
    uv_9[int(1)] = make_float2 (_S9703, _S9704);
    float2  _S9705 = float2 {_S9687.x, _S9687.y} / make_float2 (_S9687.z);
    float u_97 = _S9705.x;
    float v_97 = _S9705.y;
    float r2_92 = u_97 * u_97 + v_97 * v_97;
    float2  _S9706 = _S9705 * make_float2 (1.0f + r2_92 * ((*dist_coeffs_108)[int(0)] + r2_92 * ((*dist_coeffs_108)[int(1)] + r2_92 * ((*dist_coeffs_108)[int(2)] + r2_92 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_97 * v_97 + (*dist_coeffs_108)[int(5)] * (r2_92 + 2.0f * u_97 * u_97) + (*dist_coeffs_108)[int(6)] * r2_92, _S9695 * u_97 * v_97 + (*dist_coeffs_108)[int(4)] * (r2_92 + 2.0f * v_97 * v_97) + (*dist_coeffs_108)[int(7)] * r2_92);
    float2  _S9707 = _S9706 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9706.x + (*dist_coeffs_108)[int(9)] * _S9706.y, 0.0f);
    float _S9708 = fx_105 * _S9707.x + cx_100;
    float _S9709 = fy_105 * _S9707.y + cy_100;
    uv_9[int(2)] = make_float2 (_S9708, _S9709);
    float2  _S9710 = float2 {_S9688.x, _S9688.y} / make_float2 (_S9688.z);
    float u_98 = _S9710.x;
    float v_98 = _S9710.y;
    float r2_93 = u_98 * u_98 + v_98 * v_98;
    float2  _S9711 = _S9710 * make_float2 (1.0f + r2_93 * ((*dist_coeffs_108)[int(0)] + r2_93 * ((*dist_coeffs_108)[int(1)] + r2_93 * ((*dist_coeffs_108)[int(2)] + r2_93 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_98 * v_98 + (*dist_coeffs_108)[int(5)] * (r2_93 + 2.0f * u_98 * u_98) + (*dist_coeffs_108)[int(6)] * r2_93, _S9695 * u_98 * v_98 + (*dist_coeffs_108)[int(4)] * (r2_93 + 2.0f * v_98 * v_98) + (*dist_coeffs_108)[int(7)] * r2_93);
    float2  _S9712 = _S9711 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9711.x + (*dist_coeffs_108)[int(9)] * _S9711.y, 0.0f);
    float _S9713 = fx_105 * _S9712.x + cx_100;
    float _S9714 = fy_105 * _S9712.y + cy_100;
    uv_9[int(3)] = make_float2 (_S9713, _S9714);
    float2  _S9715 = float2 {_S9689.x, _S9689.y} / make_float2 (_S9689.z);
    float u_99 = _S9715.x;
    float v_99 = _S9715.y;
    float r2_94 = u_99 * u_99 + v_99 * v_99;
    float2  _S9716 = _S9715 * make_float2 (1.0f + r2_94 * ((*dist_coeffs_108)[int(0)] + r2_94 * ((*dist_coeffs_108)[int(1)] + r2_94 * ((*dist_coeffs_108)[int(2)] + r2_94 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_99 * v_99 + (*dist_coeffs_108)[int(5)] * (r2_94 + 2.0f * u_99 * u_99) + (*dist_coeffs_108)[int(6)] * r2_94, _S9695 * u_99 * v_99 + (*dist_coeffs_108)[int(4)] * (r2_94 + 2.0f * v_99 * v_99) + (*dist_coeffs_108)[int(7)] * r2_94);
    float2  _S9717 = _S9716 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9716.x + (*dist_coeffs_108)[int(9)] * _S9716.y, 0.0f);
    float _S9718 = fx_105 * _S9717.x + cx_100;
    float _S9719 = fy_105 * _S9717.y + cy_100;
    uv_9[int(4)] = make_float2 (_S9718, _S9719);
    float2  _S9720 = float2 {_S9690.x, _S9690.y} / make_float2 (_S9690.z);
    float u_100 = _S9720.x;
    float v_100 = _S9720.y;
    float r2_95 = u_100 * u_100 + v_100 * v_100;
    float2  _S9721 = _S9720 * make_float2 (1.0f + r2_95 * ((*dist_coeffs_108)[int(0)] + r2_95 * ((*dist_coeffs_108)[int(1)] + r2_95 * ((*dist_coeffs_108)[int(2)] + r2_95 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_100 * v_100 + (*dist_coeffs_108)[int(5)] * (r2_95 + 2.0f * u_100 * u_100) + (*dist_coeffs_108)[int(6)] * r2_95, _S9695 * u_100 * v_100 + (*dist_coeffs_108)[int(4)] * (r2_95 + 2.0f * v_100 * v_100) + (*dist_coeffs_108)[int(7)] * r2_95);
    float2  _S9722 = _S9721 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9721.x + (*dist_coeffs_108)[int(9)] * _S9721.y, 0.0f);
    float _S9723 = fx_105 * _S9722.x + cx_100;
    float _S9724 = fy_105 * _S9722.y + cy_100;
    uv_9[int(5)] = make_float2 (_S9723, _S9724);
    float2  _S9725 = float2 {_S9691.x, _S9691.y} / make_float2 (_S9691.z);
    float u_101 = _S9725.x;
    float v_101 = _S9725.y;
    float r2_96 = u_101 * u_101 + v_101 * v_101;
    float2  _S9726 = _S9725 * make_float2 (1.0f + r2_96 * ((*dist_coeffs_108)[int(0)] + r2_96 * ((*dist_coeffs_108)[int(1)] + r2_96 * ((*dist_coeffs_108)[int(2)] + r2_96 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_101 * v_101 + (*dist_coeffs_108)[int(5)] * (r2_96 + 2.0f * u_101 * u_101) + (*dist_coeffs_108)[int(6)] * r2_96, _S9695 * u_101 * v_101 + (*dist_coeffs_108)[int(4)] * (r2_96 + 2.0f * v_101 * v_101) + (*dist_coeffs_108)[int(7)] * r2_96);
    float2  _S9727 = _S9726 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9726.x + (*dist_coeffs_108)[int(9)] * _S9726.y, 0.0f);
    float _S9728 = fx_105 * _S9727.x + cx_100;
    float _S9729 = fy_105 * _S9727.y + cy_100;
    uv_9[int(6)] = make_float2 (_S9728, _S9729);
    float2  _S9730 = float2 {_S9692.x, _S9692.y} / make_float2 (_S9692.z);
    float u_102 = _S9730.x;
    float v_102 = _S9730.y;
    float r2_97 = u_102 * u_102 + v_102 * v_102;
    float2  _S9731 = _S9730 * make_float2 (1.0f + r2_97 * ((*dist_coeffs_108)[int(0)] + r2_97 * ((*dist_coeffs_108)[int(1)] + r2_97 * ((*dist_coeffs_108)[int(2)] + r2_97 * (*dist_coeffs_108)[int(3)])))) + make_float2 (_S9694 * u_102 * v_102 + (*dist_coeffs_108)[int(5)] * (r2_97 + 2.0f * u_102 * u_102) + (*dist_coeffs_108)[int(6)] * r2_97, _S9695 * u_102 * v_102 + (*dist_coeffs_108)[int(4)] * (r2_97 + 2.0f * v_102 * v_102) + (*dist_coeffs_108)[int(7)] * r2_97);
    float2  _S9732 = _S9731 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9731.x + (*dist_coeffs_108)[int(9)] * _S9731.y, 0.0f);
    float _S9733 = fx_105 * _S9732.x + cx_100;
    float _S9734 = fy_105 * _S9732.y + cy_100;
    uv_9[int(7)] = make_float2 (_S9733, _S9734);
    *aabb_xyxy_58 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S9698), (_S9703)))), (_S9708)))), (_S9713)))), (_S9718)))), (_S9723)))), (_S9728)))), (_S9733))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S9699), (_S9704)))), (_S9709)))), (_S9714)))), (_S9719)))), (_S9724)))), (_S9729)))), (_S9734))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S9698), (_S9703)))), (_S9708)))), (_S9713)))), (_S9718)))), (_S9723)))), (_S9728)))), (_S9733))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S9699), (_S9704)))), (_S9709)))), (_S9714)))), (_S9719)))), (_S9724)))), (_S9729)))), (_S9734))))))));
    float _S9735 = mean_c_79.z;
    *depth_46 = (F32_max((_S9735), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9735 + length_1(mean_c_79)))));
    float3  _S9736 = mean_c_79 - - mul_0(transpose_0(R_72), t_71);
    float3  _S9737 = make_float3 (0.282094806432724f) * (*sh_coeffs_23)[int(0)];
    *rgbs_9 = _S9737;
    float _S9738 = _S9736.x;
    float _S9739 = _S9736.y;
    float _S9740 = _S9736.z;
    float norm_16 = (F32_sqrt((_S9738 * _S9738 + _S9739 * _S9739 + _S9740 * _S9740)));
    float x_81 = _S9738 / norm_16;
    float y_26 = _S9739 / norm_16;
    float z_23 = _S9740 / norm_16;
    float3  _S9741 = _S9737 + make_float3 (0.48860251903533936f) * (make_float3 (- y_26) * (*sh_coeffs_23)[int(1)] + make_float3 (z_23) * (*sh_coeffs_23)[int(2)] - make_float3 (x_81) * (*sh_coeffs_23)[int(3)]);
    *rgbs_9 = _S9741;
    float z2_106 = z_23 * z_23;
    float fTmp0B_23 = -1.09254848957061768f * z_23;
    float fC1_23 = x_81 * x_81 - y_26 * y_26;
    float fS1_23 = 2.0f * x_81 * y_26;
    float3  _S9742 = _S9741 + (make_float3 (0.54627424478530884f * fS1_23) * (*sh_coeffs_23)[int(4)] + make_float3 (fTmp0B_23 * y_26) * (*sh_coeffs_23)[int(5)] + make_float3 (0.94617468118667603f * z2_106 - 0.31539157032966614f) * (*sh_coeffs_23)[int(6)] + make_float3 (fTmp0B_23 * x_81) * (*sh_coeffs_23)[int(7)] + make_float3 (0.54627424478530884f * fC1_23) * (*sh_coeffs_23)[int(8)]);
    *rgbs_9 = _S9742;
    float fTmp0C_23 = -2.28522896766662598f * z2_106 + 0.4570457935333252f;
    float fTmp1B_23 = 1.44530570507049561f * z_23;
    *rgbs_9 = max_0(_S9742 + (make_float3 (-0.59004360437393188f * (x_81 * fS1_23 + y_26 * fC1_23)) * (*sh_coeffs_23)[int(9)] + make_float3 (fTmp1B_23 * fS1_23) * (*sh_coeffs_23)[int(10)] + make_float3 (fTmp0C_23 * y_26) * (*sh_coeffs_23)[int(11)] + make_float3 (z_23 * (1.86588168144226074f * z2_106 - 1.11952900886535645f)) * (*sh_coeffs_23)[int(12)] + make_float3 (fTmp0C_23 * x_81) * (*sh_coeffs_23)[int(13)] + make_float3 (fTmp1B_23 * fC1_23) * (*sh_coeffs_23)[int(14)] + make_float3 (-0.59004360437393188f * (x_81 * fC1_23 - y_26 * fS1_23)) * (*sh_coeffs_23)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_voxel_eval3d_fisheye_differentiable(float3  pos_3, float size_3, FixedArray<float, 8>  * densities_3, FixedArray<float3 , 16>  * sh_coeffs_24, Matrix<float, 3, 3>  R_73, float3  t_72, float fx_106, float fy_106, float cx_101, float cy_101, FixedArray<float, 10>  * dist_coeffs_109, uint image_width_94, uint image_height_94, float near_plane_73, float far_plane_73, int4  * aabb_xyxy_59, float * depth_47, float3  * rgbs_10)
{
    FixedArray<float3 , 8>  pos_c_3;
    float3  _S9743 = mul_0(R_73, pos_3) + t_72;
    pos_c_3[int(0)] = _S9743;
    pos_c_3[int(1)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 0.0f)) + t_72;
    pos_c_3[int(2)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 0.0f)) + t_72;
    pos_c_3[int(3)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 1.0f, 0.0f)) + t_72;
    pos_c_3[int(4)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 0.0f, 1.0f)) + t_72;
    pos_c_3[int(5)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 1.0f)) + t_72;
    pos_c_3[int(6)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 1.0f)) + t_72;
    pos_c_3[int(7)] = mul_0(R_73, pos_3 + make_float3 (size_3)) + t_72;
    float3  mean_c_80 = mul_0(R_73, pos_3 + make_float3 (0.5f * size_3)) + t_72;
    FixedArray<float2 , 8>  uv_10;
    float2  _S9744 = float2 {_S9743.x, _S9743.y};
    float r_38 = length_0(_S9744);
    float _S9745 = _S9743.z;
    float theta_34 = (F32_atan2((r_38), (_S9745)));
    float k_11;
    if(theta_34 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_34 * theta_34 / 3.0f) / _S9745;
    }
    else
    {
        k_11 = theta_34 / r_38;
    }
    float2  _S9746 = _S9744 * make_float2 (k_11);
    float u_103 = _S9746.x;
    float v_103 = _S9746.y;
    float r2_98 = u_103 * u_103 + v_103 * v_103;
    float _S9747 = 2.0f * (*dist_coeffs_109)[int(4)];
    float _S9748 = 2.0f * (*dist_coeffs_109)[int(5)];
    float2  _S9749 = _S9746 * make_float2 (1.0f + r2_98 * ((*dist_coeffs_109)[int(0)] + r2_98 * ((*dist_coeffs_109)[int(1)] + r2_98 * ((*dist_coeffs_109)[int(2)] + r2_98 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_103 * v_103 + (*dist_coeffs_109)[int(5)] * (r2_98 + 2.0f * u_103 * u_103) + (*dist_coeffs_109)[int(6)] * r2_98, _S9748 * u_103 * v_103 + (*dist_coeffs_109)[int(4)] * (r2_98 + 2.0f * v_103 * v_103) + (*dist_coeffs_109)[int(7)] * r2_98);
    float2  _S9750 = _S9749 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9749.x + (*dist_coeffs_109)[int(9)] * _S9749.y, 0.0f);
    uv_10[int(0)] = make_float2 (fx_106 * _S9750.x + cx_101, fy_106 * _S9750.y + cy_101);
    float2  _S9751 = float2 {pos_c_3[int(1)].x, pos_c_3[int(1)].y};
    float r_39 = length_0(_S9751);
    float _S9752 = pos_c_3[int(1)].z;
    float theta_35 = (F32_atan2((r_39), (_S9752)));
    if(theta_35 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_35 * theta_35 / 3.0f) / _S9752;
    }
    else
    {
        k_11 = theta_35 / r_39;
    }
    float2  _S9753 = _S9751 * make_float2 (k_11);
    float u_104 = _S9753.x;
    float v_104 = _S9753.y;
    float r2_99 = u_104 * u_104 + v_104 * v_104;
    float2  _S9754 = _S9753 * make_float2 (1.0f + r2_99 * ((*dist_coeffs_109)[int(0)] + r2_99 * ((*dist_coeffs_109)[int(1)] + r2_99 * ((*dist_coeffs_109)[int(2)] + r2_99 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_104 * v_104 + (*dist_coeffs_109)[int(5)] * (r2_99 + 2.0f * u_104 * u_104) + (*dist_coeffs_109)[int(6)] * r2_99, _S9748 * u_104 * v_104 + (*dist_coeffs_109)[int(4)] * (r2_99 + 2.0f * v_104 * v_104) + (*dist_coeffs_109)[int(7)] * r2_99);
    float2  _S9755 = _S9754 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9754.x + (*dist_coeffs_109)[int(9)] * _S9754.y, 0.0f);
    uv_10[int(1)] = make_float2 (fx_106 * _S9755.x + cx_101, fy_106 * _S9755.y + cy_101);
    float2  _S9756 = float2 {pos_c_3[int(2)].x, pos_c_3[int(2)].y};
    float r_40 = length_0(_S9756);
    float _S9757 = pos_c_3[int(2)].z;
    float theta_36 = (F32_atan2((r_40), (_S9757)));
    if(theta_36 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_36 * theta_36 / 3.0f) / _S9757;
    }
    else
    {
        k_11 = theta_36 / r_40;
    }
    float2  _S9758 = _S9756 * make_float2 (k_11);
    float u_105 = _S9758.x;
    float v_105 = _S9758.y;
    float r2_100 = u_105 * u_105 + v_105 * v_105;
    float2  _S9759 = _S9758 * make_float2 (1.0f + r2_100 * ((*dist_coeffs_109)[int(0)] + r2_100 * ((*dist_coeffs_109)[int(1)] + r2_100 * ((*dist_coeffs_109)[int(2)] + r2_100 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_105 * v_105 + (*dist_coeffs_109)[int(5)] * (r2_100 + 2.0f * u_105 * u_105) + (*dist_coeffs_109)[int(6)] * r2_100, _S9748 * u_105 * v_105 + (*dist_coeffs_109)[int(4)] * (r2_100 + 2.0f * v_105 * v_105) + (*dist_coeffs_109)[int(7)] * r2_100);
    float2  _S9760 = _S9759 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9759.x + (*dist_coeffs_109)[int(9)] * _S9759.y, 0.0f);
    uv_10[int(2)] = make_float2 (fx_106 * _S9760.x + cx_101, fy_106 * _S9760.y + cy_101);
    float2  _S9761 = float2 {pos_c_3[int(3)].x, pos_c_3[int(3)].y};
    float r_41 = length_0(_S9761);
    float _S9762 = pos_c_3[int(3)].z;
    float theta_37 = (F32_atan2((r_41), (_S9762)));
    if(theta_37 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_37 * theta_37 / 3.0f) / _S9762;
    }
    else
    {
        k_11 = theta_37 / r_41;
    }
    float2  _S9763 = _S9761 * make_float2 (k_11);
    float u_106 = _S9763.x;
    float v_106 = _S9763.y;
    float r2_101 = u_106 * u_106 + v_106 * v_106;
    float2  _S9764 = _S9763 * make_float2 (1.0f + r2_101 * ((*dist_coeffs_109)[int(0)] + r2_101 * ((*dist_coeffs_109)[int(1)] + r2_101 * ((*dist_coeffs_109)[int(2)] + r2_101 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_106 * v_106 + (*dist_coeffs_109)[int(5)] * (r2_101 + 2.0f * u_106 * u_106) + (*dist_coeffs_109)[int(6)] * r2_101, _S9748 * u_106 * v_106 + (*dist_coeffs_109)[int(4)] * (r2_101 + 2.0f * v_106 * v_106) + (*dist_coeffs_109)[int(7)] * r2_101);
    float2  _S9765 = _S9764 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9764.x + (*dist_coeffs_109)[int(9)] * _S9764.y, 0.0f);
    uv_10[int(3)] = make_float2 (fx_106 * _S9765.x + cx_101, fy_106 * _S9765.y + cy_101);
    float2  _S9766 = float2 {pos_c_3[int(4)].x, pos_c_3[int(4)].y};
    float r_42 = length_0(_S9766);
    float _S9767 = pos_c_3[int(4)].z;
    float theta_38 = (F32_atan2((r_42), (_S9767)));
    if(theta_38 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_38 * theta_38 / 3.0f) / _S9767;
    }
    else
    {
        k_11 = theta_38 / r_42;
    }
    float2  _S9768 = _S9766 * make_float2 (k_11);
    float u_107 = _S9768.x;
    float v_107 = _S9768.y;
    float r2_102 = u_107 * u_107 + v_107 * v_107;
    float2  _S9769 = _S9768 * make_float2 (1.0f + r2_102 * ((*dist_coeffs_109)[int(0)] + r2_102 * ((*dist_coeffs_109)[int(1)] + r2_102 * ((*dist_coeffs_109)[int(2)] + r2_102 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_107 * v_107 + (*dist_coeffs_109)[int(5)] * (r2_102 + 2.0f * u_107 * u_107) + (*dist_coeffs_109)[int(6)] * r2_102, _S9748 * u_107 * v_107 + (*dist_coeffs_109)[int(4)] * (r2_102 + 2.0f * v_107 * v_107) + (*dist_coeffs_109)[int(7)] * r2_102);
    float2  _S9770 = _S9769 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9769.x + (*dist_coeffs_109)[int(9)] * _S9769.y, 0.0f);
    uv_10[int(4)] = make_float2 (fx_106 * _S9770.x + cx_101, fy_106 * _S9770.y + cy_101);
    float2  _S9771 = float2 {pos_c_3[int(5)].x, pos_c_3[int(5)].y};
    float r_43 = length_0(_S9771);
    float _S9772 = pos_c_3[int(5)].z;
    float theta_39 = (F32_atan2((r_43), (_S9772)));
    if(theta_39 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_39 * theta_39 / 3.0f) / _S9772;
    }
    else
    {
        k_11 = theta_39 / r_43;
    }
    float2  _S9773 = _S9771 * make_float2 (k_11);
    float u_108 = _S9773.x;
    float v_108 = _S9773.y;
    float r2_103 = u_108 * u_108 + v_108 * v_108;
    float2  _S9774 = _S9773 * make_float2 (1.0f + r2_103 * ((*dist_coeffs_109)[int(0)] + r2_103 * ((*dist_coeffs_109)[int(1)] + r2_103 * ((*dist_coeffs_109)[int(2)] + r2_103 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_108 * v_108 + (*dist_coeffs_109)[int(5)] * (r2_103 + 2.0f * u_108 * u_108) + (*dist_coeffs_109)[int(6)] * r2_103, _S9748 * u_108 * v_108 + (*dist_coeffs_109)[int(4)] * (r2_103 + 2.0f * v_108 * v_108) + (*dist_coeffs_109)[int(7)] * r2_103);
    float2  _S9775 = _S9774 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9774.x + (*dist_coeffs_109)[int(9)] * _S9774.y, 0.0f);
    uv_10[int(5)] = make_float2 (fx_106 * _S9775.x + cx_101, fy_106 * _S9775.y + cy_101);
    float2  _S9776 = float2 {pos_c_3[int(6)].x, pos_c_3[int(6)].y};
    float r_44 = length_0(_S9776);
    float _S9777 = pos_c_3[int(6)].z;
    float theta_40 = (F32_atan2((r_44), (_S9777)));
    if(theta_40 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_40 * theta_40 / 3.0f) / _S9777;
    }
    else
    {
        k_11 = theta_40 / r_44;
    }
    float2  _S9778 = _S9776 * make_float2 (k_11);
    float u_109 = _S9778.x;
    float v_109 = _S9778.y;
    float r2_104 = u_109 * u_109 + v_109 * v_109;
    float2  _S9779 = _S9778 * make_float2 (1.0f + r2_104 * ((*dist_coeffs_109)[int(0)] + r2_104 * ((*dist_coeffs_109)[int(1)] + r2_104 * ((*dist_coeffs_109)[int(2)] + r2_104 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_109 * v_109 + (*dist_coeffs_109)[int(5)] * (r2_104 + 2.0f * u_109 * u_109) + (*dist_coeffs_109)[int(6)] * r2_104, _S9748 * u_109 * v_109 + (*dist_coeffs_109)[int(4)] * (r2_104 + 2.0f * v_109 * v_109) + (*dist_coeffs_109)[int(7)] * r2_104);
    float2  _S9780 = _S9779 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9779.x + (*dist_coeffs_109)[int(9)] * _S9779.y, 0.0f);
    uv_10[int(6)] = make_float2 (fx_106 * _S9780.x + cx_101, fy_106 * _S9780.y + cy_101);
    float2  _S9781 = float2 {pos_c_3[int(7)].x, pos_c_3[int(7)].y};
    float r_45 = length_0(_S9781);
    float _S9782 = pos_c_3[int(7)].z;
    float theta_41 = (F32_atan2((r_45), (_S9782)));
    if(theta_41 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_41 * theta_41 / 3.0f) / _S9782;
    }
    else
    {
        k_11 = theta_41 / r_45;
    }
    float2  _S9783 = _S9781 * make_float2 (k_11);
    float u_110 = _S9783.x;
    float v_110 = _S9783.y;
    float r2_105 = u_110 * u_110 + v_110 * v_110;
    float2  _S9784 = _S9783 * make_float2 (1.0f + r2_105 * ((*dist_coeffs_109)[int(0)] + r2_105 * ((*dist_coeffs_109)[int(1)] + r2_105 * ((*dist_coeffs_109)[int(2)] + r2_105 * (*dist_coeffs_109)[int(3)])))) + make_float2 (_S9747 * u_110 * v_110 + (*dist_coeffs_109)[int(5)] * (r2_105 + 2.0f * u_110 * u_110) + (*dist_coeffs_109)[int(6)] * r2_105, _S9748 * u_110 * v_110 + (*dist_coeffs_109)[int(4)] * (r2_105 + 2.0f * v_110 * v_110) + (*dist_coeffs_109)[int(7)] * r2_105);
    float2  _S9785 = _S9784 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9784.x + (*dist_coeffs_109)[int(9)] * _S9784.y, 0.0f);
    float _S9786 = fx_106 * _S9785.x + cx_101;
    float _S9787 = fy_106 * _S9785.y + cy_101;
    uv_10[int(7)] = make_float2 (_S9786, _S9787);
    *aabb_xyxy_59 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S9786))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S9787))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S9786))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S9787))))))));
    float _S9788 = mean_c_80.z;
    *depth_47 = (F32_max((_S9788), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9788 + length_1(mean_c_80)))));
    float3  _S9789 = mean_c_80 - - mul_0(transpose_0(R_73), t_72);
    float3  _S9790 = make_float3 (0.282094806432724f) * (*sh_coeffs_24)[int(0)];
    *rgbs_10 = _S9790;
    float _S9791 = _S9789.x;
    float _S9792 = _S9789.y;
    float _S9793 = _S9789.z;
    float norm_17 = (F32_sqrt((_S9791 * _S9791 + _S9792 * _S9792 + _S9793 * _S9793)));
    float x_82 = _S9791 / norm_17;
    float y_27 = _S9792 / norm_17;
    float z_24 = _S9793 / norm_17;
    float3  _S9794 = _S9790 + make_float3 (0.48860251903533936f) * (make_float3 (- y_27) * (*sh_coeffs_24)[int(1)] + make_float3 (z_24) * (*sh_coeffs_24)[int(2)] - make_float3 (x_82) * (*sh_coeffs_24)[int(3)]);
    *rgbs_10 = _S9794;
    float z2_107 = z_24 * z_24;
    float fTmp0B_24 = -1.09254848957061768f * z_24;
    float fC1_24 = x_82 * x_82 - y_27 * y_27;
    float fS1_24 = 2.0f * x_82 * y_27;
    float3  _S9795 = _S9794 + (make_float3 (0.54627424478530884f * fS1_24) * (*sh_coeffs_24)[int(4)] + make_float3 (fTmp0B_24 * y_27) * (*sh_coeffs_24)[int(5)] + make_float3 (0.94617468118667603f * z2_107 - 0.31539157032966614f) * (*sh_coeffs_24)[int(6)] + make_float3 (fTmp0B_24 * x_82) * (*sh_coeffs_24)[int(7)] + make_float3 (0.54627424478530884f * fC1_24) * (*sh_coeffs_24)[int(8)]);
    *rgbs_10 = _S9795;
    float fTmp0C_24 = -2.28522896766662598f * z2_107 + 0.4570457935333252f;
    float fTmp1B_24 = 1.44530570507049561f * z_24;
    *rgbs_10 = max_0(_S9795 + (make_float3 (-0.59004360437393188f * (x_82 * fS1_24 + y_27 * fC1_24)) * (*sh_coeffs_24)[int(9)] + make_float3 (fTmp1B_24 * fS1_24) * (*sh_coeffs_24)[int(10)] + make_float3 (fTmp0C_24 * y_27) * (*sh_coeffs_24)[int(11)] + make_float3 (z_24 * (1.86588168144226074f * z2_107 - 1.11952900886535645f)) * (*sh_coeffs_24)[int(12)] + make_float3 (fTmp0C_24 * x_82) * (*sh_coeffs_24)[int(13)] + make_float3 (fTmp1B_24 * fC1_24) * (*sh_coeffs_24)[int(14)] + make_float3 (-0.59004360437393188f * (x_82 * fC1_24 - y_27 * fS1_24)) * (*sh_coeffs_24)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void projection_voxel_eval3d_persp_vjp(float3  pos_4, float size_4, FixedArray<float, 8>  * densities_4, FixedArray<float3 , 16>  * sh_coeffs_25, Matrix<float, 3, 3>  R_74, float3  t_73, float fx_107, float fy_107, float cx_102, float cy_102, FixedArray<float, 10>  * dist_coeffs_110, uint image_width_95, uint image_height_95, float3  v_rgb_20, FixedArray<float, 8>  * v_densities_0, FixedArray<float3 , 16>  * v_sh_coeffs_7, Matrix<float, 3, 3>  * v_R_23, float3  * v_t_22)
{
    float3  _S9796 = s_primal_ctx_mul_0(R_74, pos_4) + t_73;
    float _S9797 = _S9796.z;
    float2  _S9798 = make_float2 (_S9797);
    float _S9799 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S9797);
    float _S9800 = s_primal_ctx_max_0(0.0f, _S9797);
    float3  pos_i_0 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S9801 = s_primal_ctx_mul_0(R_74, pos_i_0) + t_73;
    float _S9802 = _S9801.z;
    float2  _S9803 = make_float2 (_S9802);
    float _S9804 = s_primal_ctx_min_0(_S9799, _S9802);
    float _S9805 = s_primal_ctx_max_0(_S9800, _S9802);
    float3  pos_i_1 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S9806 = s_primal_ctx_mul_0(R_74, pos_i_1) + t_73;
    float _S9807 = _S9806.z;
    float2  _S9808 = make_float2 (_S9807);
    float _S9809 = s_primal_ctx_min_0(_S9804, _S9807);
    float _S9810 = s_primal_ctx_max_0(_S9805, _S9807);
    float3  pos_i_2 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S9811 = s_primal_ctx_mul_0(R_74, pos_i_2) + t_73;
    float _S9812 = _S9811.z;
    float2  _S9813 = make_float2 (_S9812);
    float _S9814 = s_primal_ctx_min_0(_S9809, _S9812);
    float _S9815 = s_primal_ctx_max_0(_S9810, _S9812);
    float3  pos_i_3 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S9816 = s_primal_ctx_mul_0(R_74, pos_i_3) + t_73;
    float _S9817 = _S9816.z;
    float2  _S9818 = make_float2 (_S9817);
    float _S9819 = s_primal_ctx_min_0(_S9814, _S9817);
    float _S9820 = s_primal_ctx_max_0(_S9815, _S9817);
    float3  pos_i_4 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S9821 = s_primal_ctx_mul_0(R_74, pos_i_4) + t_73;
    float _S9822 = _S9821.z;
    float2  _S9823 = make_float2 (_S9822);
    float _S9824 = s_primal_ctx_min_0(_S9819, _S9822);
    float _S9825 = s_primal_ctx_max_0(_S9820, _S9822);
    float3  pos_i_5 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S9826 = s_primal_ctx_mul_0(R_74, pos_i_5) + t_73;
    float _S9827 = _S9826.z;
    float2  _S9828 = make_float2 (_S9827);
    float _S9829 = s_primal_ctx_min_0(_S9824, _S9827);
    float _S9830 = s_primal_ctx_max_0(_S9825, _S9827);
    float3  pos_i_6 = pos_4 + make_float3 (size_4);
    float3  _S9831 = s_primal_ctx_mul_0(R_74, pos_i_6) + t_73;
    float _S9832 = _S9831.z;
    float2  _S9833 = make_float2 (_S9832);
    float3  _S9834 = pos_4 + make_float3 (0.5f * size_4);
    float3  mean_c_81 = s_primal_ctx_mul_0(R_74, _S9834) + t_73;
    float2  _S9835 = float2 {_S9796.x, _S9796.y};
    float2  _S9836 = _S9835 / make_float2 (_S9797);
    float2  _S9837 = make_float2 (_S9797 * _S9797);
    float u_111 = _S9836.x;
    float v_111 = _S9836.y;
    float r2_106 = u_111 * u_111 + v_111 * v_111;
    float _S9838 = (*dist_coeffs_110)[int(2)] + r2_106 * (*dist_coeffs_110)[int(3)];
    float _S9839 = (*dist_coeffs_110)[int(1)] + r2_106 * _S9838;
    float _S9840 = (*dist_coeffs_110)[int(0)] + r2_106 * _S9839;
    float radial_8 = 1.0f + r2_106 * _S9840;
    float2  _S9841 = make_float2 (radial_8);
    float _S9842 = 2.0f * (*dist_coeffs_110)[int(4)];
    float _S9843 = _S9842 * u_111;
    float _S9844 = 2.0f * u_111;
    float _S9845 = 2.0f * (*dist_coeffs_110)[int(5)];
    float _S9846 = _S9845 * u_111;
    float _S9847 = 2.0f * v_111;
    float2  _S9848 = _S9836 * make_float2 (radial_8) + make_float2 (_S9843 * v_111 + (*dist_coeffs_110)[int(5)] * (r2_106 + _S9844 * u_111) + (*dist_coeffs_110)[int(6)] * r2_106, _S9846 * v_111 + (*dist_coeffs_110)[int(4)] * (r2_106 + _S9847 * v_111) + (*dist_coeffs_110)[int(7)] * r2_106);
    float2  _S9849 = _S9848 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9848.x + (*dist_coeffs_110)[int(9)] * _S9848.y, 0.0f);
    float _S9850 = fx_107 * _S9849.x + cx_102;
    float _S9851 = fy_107 * _S9849.y + cy_102;
    float2  _S9852 = float2 {_S9801.x, _S9801.y};
    float2  _S9853 = _S9852 / make_float2 (_S9802);
    float2  _S9854 = make_float2 (_S9802 * _S9802);
    float u_112 = _S9853.x;
    float v_112 = _S9853.y;
    float r2_107 = u_112 * u_112 + v_112 * v_112;
    float _S9855 = (*dist_coeffs_110)[int(2)] + r2_107 * (*dist_coeffs_110)[int(3)];
    float _S9856 = (*dist_coeffs_110)[int(1)] + r2_107 * _S9855;
    float _S9857 = (*dist_coeffs_110)[int(0)] + r2_107 * _S9856;
    float radial_9 = 1.0f + r2_107 * _S9857;
    float2  _S9858 = make_float2 (radial_9);
    float _S9859 = _S9842 * u_112;
    float _S9860 = 2.0f * u_112;
    float _S9861 = _S9845 * u_112;
    float _S9862 = 2.0f * v_112;
    float2  _S9863 = _S9853 * make_float2 (radial_9) + make_float2 (_S9859 * v_112 + (*dist_coeffs_110)[int(5)] * (r2_107 + _S9860 * u_112) + (*dist_coeffs_110)[int(6)] * r2_107, _S9861 * v_112 + (*dist_coeffs_110)[int(4)] * (r2_107 + _S9862 * v_112) + (*dist_coeffs_110)[int(7)] * r2_107);
    float2  _S9864 = _S9863 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9863.x + (*dist_coeffs_110)[int(9)] * _S9863.y, 0.0f);
    float _S9865 = fx_107 * _S9864.x + cx_102;
    float _S9866 = fy_107 * _S9864.y + cy_102;
    float2  _S9867 = float2 {_S9806.x, _S9806.y};
    float2  _S9868 = _S9867 / make_float2 (_S9807);
    float2  _S9869 = make_float2 (_S9807 * _S9807);
    float u_113 = _S9868.x;
    float v_113 = _S9868.y;
    float r2_108 = u_113 * u_113 + v_113 * v_113;
    float _S9870 = (*dist_coeffs_110)[int(2)] + r2_108 * (*dist_coeffs_110)[int(3)];
    float _S9871 = (*dist_coeffs_110)[int(1)] + r2_108 * _S9870;
    float _S9872 = (*dist_coeffs_110)[int(0)] + r2_108 * _S9871;
    float radial_10 = 1.0f + r2_108 * _S9872;
    float2  _S9873 = make_float2 (radial_10);
    float _S9874 = _S9842 * u_113;
    float _S9875 = 2.0f * u_113;
    float _S9876 = _S9845 * u_113;
    float _S9877 = 2.0f * v_113;
    float2  _S9878 = _S9868 * make_float2 (radial_10) + make_float2 (_S9874 * v_113 + (*dist_coeffs_110)[int(5)] * (r2_108 + _S9875 * u_113) + (*dist_coeffs_110)[int(6)] * r2_108, _S9876 * v_113 + (*dist_coeffs_110)[int(4)] * (r2_108 + _S9877 * v_113) + (*dist_coeffs_110)[int(7)] * r2_108);
    float2  _S9879 = _S9878 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9878.x + (*dist_coeffs_110)[int(9)] * _S9878.y, 0.0f);
    float _S9880 = fx_107 * _S9879.x + cx_102;
    float _S9881 = fy_107 * _S9879.y + cy_102;
    float2  _S9882 = float2 {_S9811.x, _S9811.y};
    float2  _S9883 = _S9882 / make_float2 (_S9812);
    float2  _S9884 = make_float2 (_S9812 * _S9812);
    float u_114 = _S9883.x;
    float v_114 = _S9883.y;
    float r2_109 = u_114 * u_114 + v_114 * v_114;
    float _S9885 = (*dist_coeffs_110)[int(2)] + r2_109 * (*dist_coeffs_110)[int(3)];
    float _S9886 = (*dist_coeffs_110)[int(1)] + r2_109 * _S9885;
    float _S9887 = (*dist_coeffs_110)[int(0)] + r2_109 * _S9886;
    float radial_11 = 1.0f + r2_109 * _S9887;
    float2  _S9888 = make_float2 (radial_11);
    float _S9889 = _S9842 * u_114;
    float _S9890 = 2.0f * u_114;
    float _S9891 = _S9845 * u_114;
    float _S9892 = 2.0f * v_114;
    float2  _S9893 = _S9883 * make_float2 (radial_11) + make_float2 (_S9889 * v_114 + (*dist_coeffs_110)[int(5)] * (r2_109 + _S9890 * u_114) + (*dist_coeffs_110)[int(6)] * r2_109, _S9891 * v_114 + (*dist_coeffs_110)[int(4)] * (r2_109 + _S9892 * v_114) + (*dist_coeffs_110)[int(7)] * r2_109);
    float2  _S9894 = _S9893 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9893.x + (*dist_coeffs_110)[int(9)] * _S9893.y, 0.0f);
    float _S9895 = fx_107 * _S9894.x + cx_102;
    float _S9896 = fy_107 * _S9894.y + cy_102;
    float2  _S9897 = float2 {_S9816.x, _S9816.y};
    float2  _S9898 = _S9897 / make_float2 (_S9817);
    float2  _S9899 = make_float2 (_S9817 * _S9817);
    float u_115 = _S9898.x;
    float v_115 = _S9898.y;
    float r2_110 = u_115 * u_115 + v_115 * v_115;
    float _S9900 = (*dist_coeffs_110)[int(2)] + r2_110 * (*dist_coeffs_110)[int(3)];
    float _S9901 = (*dist_coeffs_110)[int(1)] + r2_110 * _S9900;
    float _S9902 = (*dist_coeffs_110)[int(0)] + r2_110 * _S9901;
    float radial_12 = 1.0f + r2_110 * _S9902;
    float2  _S9903 = make_float2 (radial_12);
    float _S9904 = _S9842 * u_115;
    float _S9905 = 2.0f * u_115;
    float _S9906 = _S9845 * u_115;
    float _S9907 = 2.0f * v_115;
    float2  _S9908 = _S9898 * make_float2 (radial_12) + make_float2 (_S9904 * v_115 + (*dist_coeffs_110)[int(5)] * (r2_110 + _S9905 * u_115) + (*dist_coeffs_110)[int(6)] * r2_110, _S9906 * v_115 + (*dist_coeffs_110)[int(4)] * (r2_110 + _S9907 * v_115) + (*dist_coeffs_110)[int(7)] * r2_110);
    float2  _S9909 = _S9908 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9908.x + (*dist_coeffs_110)[int(9)] * _S9908.y, 0.0f);
    float _S9910 = fx_107 * _S9909.x + cx_102;
    float _S9911 = fy_107 * _S9909.y + cy_102;
    float2  _S9912 = float2 {_S9821.x, _S9821.y};
    float2  _S9913 = _S9912 / make_float2 (_S9822);
    float2  _S9914 = make_float2 (_S9822 * _S9822);
    float u_116 = _S9913.x;
    float v_116 = _S9913.y;
    float r2_111 = u_116 * u_116 + v_116 * v_116;
    float _S9915 = (*dist_coeffs_110)[int(2)] + r2_111 * (*dist_coeffs_110)[int(3)];
    float _S9916 = (*dist_coeffs_110)[int(1)] + r2_111 * _S9915;
    float _S9917 = (*dist_coeffs_110)[int(0)] + r2_111 * _S9916;
    float radial_13 = 1.0f + r2_111 * _S9917;
    float2  _S9918 = make_float2 (radial_13);
    float _S9919 = _S9842 * u_116;
    float _S9920 = 2.0f * u_116;
    float _S9921 = _S9845 * u_116;
    float _S9922 = 2.0f * v_116;
    float2  _S9923 = _S9913 * make_float2 (radial_13) + make_float2 (_S9919 * v_116 + (*dist_coeffs_110)[int(5)] * (r2_111 + _S9920 * u_116) + (*dist_coeffs_110)[int(6)] * r2_111, _S9921 * v_116 + (*dist_coeffs_110)[int(4)] * (r2_111 + _S9922 * v_116) + (*dist_coeffs_110)[int(7)] * r2_111);
    float2  _S9924 = _S9923 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9923.x + (*dist_coeffs_110)[int(9)] * _S9923.y, 0.0f);
    float _S9925 = fx_107 * _S9924.x + cx_102;
    float _S9926 = fy_107 * _S9924.y + cy_102;
    float2  _S9927 = float2 {_S9826.x, _S9826.y};
    float2  _S9928 = _S9927 / make_float2 (_S9827);
    float2  _S9929 = make_float2 (_S9827 * _S9827);
    float u_117 = _S9928.x;
    float v_117 = _S9928.y;
    float r2_112 = u_117 * u_117 + v_117 * v_117;
    float _S9930 = (*dist_coeffs_110)[int(2)] + r2_112 * (*dist_coeffs_110)[int(3)];
    float _S9931 = (*dist_coeffs_110)[int(1)] + r2_112 * _S9930;
    float _S9932 = (*dist_coeffs_110)[int(0)] + r2_112 * _S9931;
    float radial_14 = 1.0f + r2_112 * _S9932;
    float2  _S9933 = make_float2 (radial_14);
    float _S9934 = _S9842 * u_117;
    float _S9935 = 2.0f * u_117;
    float _S9936 = _S9845 * u_117;
    float _S9937 = 2.0f * v_117;
    float2  _S9938 = _S9928 * make_float2 (radial_14) + make_float2 (_S9934 * v_117 + (*dist_coeffs_110)[int(5)] * (r2_112 + _S9935 * u_117) + (*dist_coeffs_110)[int(6)] * r2_112, _S9936 * v_117 + (*dist_coeffs_110)[int(4)] * (r2_112 + _S9937 * v_117) + (*dist_coeffs_110)[int(7)] * r2_112);
    float2  _S9939 = _S9938 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9938.x + (*dist_coeffs_110)[int(9)] * _S9938.y, 0.0f);
    float _S9940 = fx_107 * _S9939.x + cx_102;
    float _S9941 = fy_107 * _S9939.y + cy_102;
    float2  _S9942 = float2 {_S9831.x, _S9831.y};
    float2  _S9943 = _S9942 / make_float2 (_S9832);
    float2  _S9944 = make_float2 (_S9832 * _S9832);
    float u_118 = _S9943.x;
    float v_118 = _S9943.y;
    float r2_113 = u_118 * u_118 + v_118 * v_118;
    float _S9945 = (*dist_coeffs_110)[int(2)] + r2_113 * (*dist_coeffs_110)[int(3)];
    float _S9946 = (*dist_coeffs_110)[int(1)] + r2_113 * _S9945;
    float _S9947 = (*dist_coeffs_110)[int(0)] + r2_113 * _S9946;
    float radial_15 = 1.0f + r2_113 * _S9947;
    float2  _S9948 = make_float2 (radial_15);
    float _S9949 = _S9842 * u_118;
    float _S9950 = 2.0f * u_118;
    float _S9951 = _S9845 * u_118;
    float _S9952 = 2.0f * v_118;
    float2  _S9953 = _S9943 * make_float2 (radial_15) + make_float2 (_S9949 * v_118 + (*dist_coeffs_110)[int(5)] * (r2_113 + _S9950 * u_118) + (*dist_coeffs_110)[int(6)] * r2_113, _S9951 * v_118 + (*dist_coeffs_110)[int(4)] * (r2_113 + _S9952 * v_118) + (*dist_coeffs_110)[int(7)] * r2_113);
    float2  _S9954 = _S9953 + make_float2 ((*dist_coeffs_110)[int(8)] * _S9953.x + (*dist_coeffs_110)[int(9)] * _S9953.y, 0.0f);
    float _S9955 = fx_107 * _S9954.x + cx_102;
    float _S9956 = fy_107 * _S9954.y + cy_102;
    float _S9957 = s_primal_ctx_max_0(_S9850, _S9865);
    float _S9958 = s_primal_ctx_min_0(_S9850, _S9865);
    float _S9959 = s_primal_ctx_max_0(_S9851, _S9866);
    float _S9960 = s_primal_ctx_min_0(_S9851, _S9866);
    float _S9961 = s_primal_ctx_max_0(_S9957, _S9880);
    float _S9962 = s_primal_ctx_min_0(_S9958, _S9880);
    float _S9963 = s_primal_ctx_max_0(_S9959, _S9881);
    float _S9964 = s_primal_ctx_min_0(_S9960, _S9881);
    float _S9965 = s_primal_ctx_max_0(_S9961, _S9895);
    float _S9966 = s_primal_ctx_min_0(_S9962, _S9895);
    float _S9967 = s_primal_ctx_max_0(_S9963, _S9896);
    float _S9968 = s_primal_ctx_min_0(_S9964, _S9896);
    float _S9969 = s_primal_ctx_max_0(_S9965, _S9910);
    float _S9970 = s_primal_ctx_min_0(_S9966, _S9910);
    float _S9971 = s_primal_ctx_max_0(_S9967, _S9911);
    float _S9972 = s_primal_ctx_min_0(_S9968, _S9911);
    float _S9973 = s_primal_ctx_max_0(_S9969, _S9925);
    float _S9974 = s_primal_ctx_min_0(_S9970, _S9925);
    float _S9975 = s_primal_ctx_max_0(_S9971, _S9926);
    float _S9976 = s_primal_ctx_min_0(_S9972, _S9926);
    float _S9977 = s_primal_ctx_max_0(_S9973, _S9940);
    float _S9978 = s_primal_ctx_min_0(_S9974, _S9940);
    float _S9979 = s_primal_ctx_max_0(_S9975, _S9941);
    float _S9980 = s_primal_ctx_min_0(_S9976, _S9941);
    float _S9981 = mean_c_81.z;
    float _S9982 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S9983 = _S9982 * (_S9981 + length_1(mean_c_81));
    Matrix<float, 3, 3>  _S9984 = transpose_0(R_74);
    float3  _S9985 = mean_c_81 - - s_primal_ctx_mul_0(_S9984, t_73);
    float _S9986 = _S9985.x;
    float _S9987 = _S9985.y;
    float _S9988 = _S9985.z;
    float _S9989 = _S9986 * _S9986 + _S9987 * _S9987 + _S9988 * _S9988;
    float _S9990 = s_primal_ctx_sqrt_0(_S9989);
    float x_83 = _S9986 / _S9990;
    float3  _S9991 = make_float3 (x_83);
    float _S9992 = _S9990 * _S9990;
    float y_28 = _S9987 / _S9990;
    float z_25 = _S9988 / _S9990;
    float3  _S9993 = make_float3 (z_25);
    float _S9994 = - y_28;
    float3  _S9995 = make_float3 (_S9994);
    float z2_108 = z_25 * z_25;
    float fTmp0B_25 = -1.09254848957061768f * z_25;
    float fC1_25 = x_83 * x_83 - y_28 * y_28;
    float _S9996 = 2.0f * x_83;
    float fS1_25 = _S9996 * y_28;
    float pSH6_7 = 0.94617468118667603f * z2_108 - 0.31539157032966614f;
    float3  _S9997 = make_float3 (pSH6_7);
    float pSH7_7 = fTmp0B_25 * x_83;
    float3  _S9998 = make_float3 (pSH7_7);
    float pSH5_7 = fTmp0B_25 * y_28;
    float3  _S9999 = make_float3 (pSH5_7);
    float pSH8_7 = 0.54627424478530884f * fC1_25;
    float3  _S10000 = make_float3 (pSH8_7);
    float pSH4_7 = 0.54627424478530884f * fS1_25;
    float3  _S10001 = make_float3 (pSH4_7);
    float fTmp0C_25 = -2.28522896766662598f * z2_108 + 0.4570457935333252f;
    float fTmp1B_25 = 1.44530570507049561f * z_25;
    float _S10002 = 1.86588168144226074f * z2_108 - 1.11952900886535645f;
    float pSH12_7 = z_25 * _S10002;
    float3  _S10003 = make_float3 (pSH12_7);
    float pSH13_7 = fTmp0C_25 * x_83;
    float3  _S10004 = make_float3 (pSH13_7);
    float pSH11_7 = fTmp0C_25 * y_28;
    float3  _S10005 = make_float3 (pSH11_7);
    float pSH14_7 = fTmp1B_25 * fC1_25;
    float3  _S10006 = make_float3 (pSH14_7);
    float pSH10_7 = fTmp1B_25 * fS1_25;
    float3  _S10007 = make_float3 (pSH10_7);
    float pSH15_7 = -0.59004360437393188f * (x_83 * fC1_25 - y_28 * fS1_25);
    float3  _S10008 = make_float3 (pSH15_7);
    float pSH9_7 = -0.59004360437393188f * (x_83 * fS1_25 + y_28 * fC1_25);
    float3  _S10009 = make_float3 (pSH9_7);
    float3  _S10010 = make_float3 (0.0f);
    float3  _S10011 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10012;
    (&_S10012)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_25)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S9994) * (*sh_coeffs_25)[int(1)] + make_float3 (z_25) * (*sh_coeffs_25)[int(2)] - make_float3 (x_83) * (*sh_coeffs_25)[int(3)]) + (make_float3 (pSH4_7) * (*sh_coeffs_25)[int(4)] + make_float3 (pSH5_7) * (*sh_coeffs_25)[int(5)] + make_float3 (pSH6_7) * (*sh_coeffs_25)[int(6)] + make_float3 (pSH7_7) * (*sh_coeffs_25)[int(7)] + make_float3 (pSH8_7) * (*sh_coeffs_25)[int(8)]) + (make_float3 (pSH9_7) * (*sh_coeffs_25)[int(9)] + make_float3 (pSH10_7) * (*sh_coeffs_25)[int(10)] + make_float3 (pSH11_7) * (*sh_coeffs_25)[int(11)] + make_float3 (pSH12_7) * (*sh_coeffs_25)[int(12)] + make_float3 (pSH13_7) * (*sh_coeffs_25)[int(13)] + make_float3 (pSH14_7) * (*sh_coeffs_25)[int(14)] + make_float3 (pSH15_7) * (*sh_coeffs_25)[int(15)]) + make_float3 (0.5f);
    (&_S10012)->differential_0 = _S10011;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10013;
    (&_S10013)->primal_0 = _S10010;
    (&_S10013)->differential_0 = _S10011;
    s_bwd_prop_max_0(&_S10012, &_S10013, v_rgb_20);
    float3  _S10014 = _S10008 * _S10012.differential_0;
    float3  _S10015 = (*sh_coeffs_25)[int(15)] * _S10012.differential_0;
    float3  _S10016 = _S10006 * _S10012.differential_0;
    float3  _S10017 = (*sh_coeffs_25)[int(14)] * _S10012.differential_0;
    float3  _S10018 = _S10004 * _S10012.differential_0;
    float3  _S10019 = (*sh_coeffs_25)[int(13)] * _S10012.differential_0;
    float3  _S10020 = _S10003 * _S10012.differential_0;
    float3  _S10021 = (*sh_coeffs_25)[int(12)] * _S10012.differential_0;
    float3  _S10022 = _S10005 * _S10012.differential_0;
    float3  _S10023 = (*sh_coeffs_25)[int(11)] * _S10012.differential_0;
    float3  _S10024 = _S10007 * _S10012.differential_0;
    float3  _S10025 = (*sh_coeffs_25)[int(10)] * _S10012.differential_0;
    float3  _S10026 = _S10009 * _S10012.differential_0;
    float3  _S10027 = (*sh_coeffs_25)[int(9)] * _S10012.differential_0;
    float s_diff_fS2_T_7 = -0.59004360437393188f * (_S10027.x + _S10027.y + _S10027.z);
    float s_diff_fC2_T_7 = -0.59004360437393188f * (_S10015.x + _S10015.y + _S10015.z);
    float _S10028 = _S10025.x + _S10025.y + _S10025.z;
    float _S10029 = _S10017.x + _S10017.y + _S10017.z;
    float _S10030 = _S10023.x + _S10023.y + _S10023.z;
    float _S10031 = _S10019.x + _S10019.y + _S10019.z;
    float _S10032 = _S10021.x + _S10021.y + _S10021.z;
    float _S10033 = - s_diff_fC2_T_7;
    float3  _S10034 = _S10000 * _S10012.differential_0;
    float3  _S10035 = (*sh_coeffs_25)[int(8)] * _S10012.differential_0;
    float3  _S10036 = _S9998 * _S10012.differential_0;
    float3  _S10037 = (*sh_coeffs_25)[int(7)] * _S10012.differential_0;
    float3  _S10038 = _S9997 * _S10012.differential_0;
    float3  _S10039 = (*sh_coeffs_25)[int(6)] * _S10012.differential_0;
    float3  _S10040 = _S9999 * _S10012.differential_0;
    float3  _S10041 = (*sh_coeffs_25)[int(5)] * _S10012.differential_0;
    float3  _S10042 = _S10001 * _S10012.differential_0;
    float3  _S10043 = (*sh_coeffs_25)[int(4)] * _S10012.differential_0;
    float _S10044 = _S10041.x + _S10041.y + _S10041.z;
    float _S10045 = _S10037.x + _S10037.y + _S10037.z;
    float _S10046 = fTmp1B_25 * _S10028 + x_83 * s_diff_fS2_T_7 + y_28 * _S10033 + 0.54627424478530884f * (_S10043.x + _S10043.y + _S10043.z);
    float _S10047 = fTmp1B_25 * _S10029 + y_28 * s_diff_fS2_T_7 + x_83 * s_diff_fC2_T_7 + 0.54627424478530884f * (_S10035.x + _S10035.y + _S10035.z);
    float _S10048 = y_28 * - _S10047;
    float _S10049 = x_83 * _S10047;
    float _S10050 = z_25 * (1.86588168144226074f * (z_25 * _S10032) + -2.28522896766662598f * (y_28 * _S10030 + x_83 * _S10031) + 0.94617468118667603f * (_S10039.x + _S10039.y + _S10039.z));
    float3  _S10051 = make_float3 (0.48860251903533936f) * _S10012.differential_0;
    float3  _S10052 = - _S10051;
    float3  _S10053 = _S9991 * _S10052;
    float3  _S10054 = (*sh_coeffs_25)[int(3)] * _S10052;
    float3  _S10055 = _S9993 * _S10051;
    float3  _S10056 = (*sh_coeffs_25)[int(2)] * _S10051;
    float3  _S10057 = _S9995 * _S10051;
    float3  _S10058 = (*sh_coeffs_25)[int(1)] * _S10051;
    float _S10059 = (_S10002 * _S10032 + 1.44530570507049561f * (fS1_25 * _S10028 + fC1_25 * _S10029) + -1.09254848957061768f * (y_28 * _S10044 + x_83 * _S10045) + _S10050 + _S10050 + _S10056.x + _S10056.y + _S10056.z) / _S9992;
    float _S10060 = _S9990 * _S10059;
    float _S10061 = (fTmp0C_25 * _S10030 + fC1_25 * s_diff_fS2_T_7 + fS1_25 * _S10033 + fTmp0B_25 * _S10044 + _S9996 * _S10046 + _S10048 + _S10048 + - (_S10058.x + _S10058.y + _S10058.z)) / _S9992;
    float _S10062 = _S9990 * _S10061;
    float _S10063 = (fTmp0C_25 * _S10031 + fS1_25 * s_diff_fS2_T_7 + fC1_25 * s_diff_fC2_T_7 + fTmp0B_25 * _S10045 + 2.0f * (y_28 * _S10046) + _S10049 + _S10049 + _S10054.x + _S10054.y + _S10054.z) / _S9992;
    float _S10064 = _S9990 * _S10063;
    float _S10065 = _S9988 * - _S10059 + _S9987 * - _S10061 + _S9986 * - _S10063;
    DiffPair_float_0 _S10066;
    (&_S10066)->primal_0 = _S9989;
    (&_S10066)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S10066, _S10065);
    float _S10067 = _S9988 * _S10066.differential_0;
    float _S10068 = _S9987 * _S10066.differential_0;
    float _S10069 = _S9986 * _S10066.differential_0;
    float3  _S10070 = make_float3 (0.282094806432724f) * _S10012.differential_0;
    float3  _S10071 = make_float3 (_S10064 + _S10069 + _S10069, _S10062 + _S10068 + _S10068, _S10060 + _S10067 + _S10067);
    float3  _S10072 = - - _S10071;
    Matrix<float, 3, 3>  _S10073 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10074;
    (&_S10074)->primal_0 = _S9984;
    (&_S10074)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10075;
    (&_S10075)->primal_0 = t_73;
    (&_S10075)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10074, &_S10075, _S10072);
    Matrix<float, 3, 3>  _S10076 = transpose_0(_S10074.differential_0);
    DiffPair_float_0 _S10077;
    (&_S10077)->primal_0 = _S9981;
    (&_S10077)->differential_0 = 0.0f;
    DiffPair_float_0 _S10078;
    (&_S10078)->primal_0 = _S9983;
    (&_S10078)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10077, &_S10078, 0.0f);
    float _S10079 = _S9982 * _S10078.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10080;
    (&_S10080)->primal_0 = mean_c_81;
    (&_S10080)->differential_0 = _S10011;
    s_bwd_length_impl_1(&_S10080, _S10079);
    float _S10081 = _S10077.differential_0 + _S10079;
    DiffPair_float_0 _S10082;
    (&_S10082)->primal_0 = _S9980;
    (&_S10082)->differential_0 = 0.0f;
    DiffPair_float_0 _S10083;
    (&_S10083)->primal_0 = _S9956;
    (&_S10083)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10082, &_S10083, 0.0f);
    DiffPair_float_0 _S10084;
    (&_S10084)->primal_0 = _S9979;
    (&_S10084)->differential_0 = 0.0f;
    DiffPair_float_0 _S10085;
    (&_S10085)->primal_0 = _S9956;
    (&_S10085)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10084, &_S10085, 0.0f);
    DiffPair_float_0 _S10086;
    (&_S10086)->primal_0 = _S9978;
    (&_S10086)->differential_0 = 0.0f;
    DiffPair_float_0 _S10087;
    (&_S10087)->primal_0 = _S9955;
    (&_S10087)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10086, &_S10087, 0.0f);
    DiffPair_float_0 _S10088;
    (&_S10088)->primal_0 = _S9977;
    (&_S10088)->differential_0 = 0.0f;
    DiffPair_float_0 _S10089;
    (&_S10089)->primal_0 = _S9955;
    (&_S10089)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10088, &_S10089, 0.0f);
    DiffPair_float_0 _S10090;
    (&_S10090)->primal_0 = _S9976;
    (&_S10090)->differential_0 = 0.0f;
    DiffPair_float_0 _S10091;
    (&_S10091)->primal_0 = _S9941;
    (&_S10091)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10090, &_S10091, _S10082.differential_0);
    DiffPair_float_0 _S10092;
    (&_S10092)->primal_0 = _S9975;
    (&_S10092)->differential_0 = 0.0f;
    DiffPair_float_0 _S10093;
    (&_S10093)->primal_0 = _S9941;
    (&_S10093)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10092, &_S10093, _S10084.differential_0);
    DiffPair_float_0 _S10094;
    (&_S10094)->primal_0 = _S9974;
    (&_S10094)->differential_0 = 0.0f;
    DiffPair_float_0 _S10095;
    (&_S10095)->primal_0 = _S9940;
    (&_S10095)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10094, &_S10095, _S10086.differential_0);
    DiffPair_float_0 _S10096;
    (&_S10096)->primal_0 = _S9973;
    (&_S10096)->differential_0 = 0.0f;
    DiffPair_float_0 _S10097;
    (&_S10097)->primal_0 = _S9940;
    (&_S10097)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10096, &_S10097, _S10088.differential_0);
    DiffPair_float_0 _S10098;
    (&_S10098)->primal_0 = _S9972;
    (&_S10098)->differential_0 = 0.0f;
    DiffPair_float_0 _S10099;
    (&_S10099)->primal_0 = _S9926;
    (&_S10099)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10098, &_S10099, _S10090.differential_0);
    DiffPair_float_0 _S10100;
    (&_S10100)->primal_0 = _S9971;
    (&_S10100)->differential_0 = 0.0f;
    DiffPair_float_0 _S10101;
    (&_S10101)->primal_0 = _S9926;
    (&_S10101)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10100, &_S10101, _S10092.differential_0);
    DiffPair_float_0 _S10102;
    (&_S10102)->primal_0 = _S9970;
    (&_S10102)->differential_0 = 0.0f;
    DiffPair_float_0 _S10103;
    (&_S10103)->primal_0 = _S9925;
    (&_S10103)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10102, &_S10103, _S10094.differential_0);
    DiffPair_float_0 _S10104;
    (&_S10104)->primal_0 = _S9969;
    (&_S10104)->differential_0 = 0.0f;
    DiffPair_float_0 _S10105;
    (&_S10105)->primal_0 = _S9925;
    (&_S10105)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10104, &_S10105, _S10096.differential_0);
    DiffPair_float_0 _S10106;
    (&_S10106)->primal_0 = _S9968;
    (&_S10106)->differential_0 = 0.0f;
    DiffPair_float_0 _S10107;
    (&_S10107)->primal_0 = _S9911;
    (&_S10107)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10106, &_S10107, _S10098.differential_0);
    DiffPair_float_0 _S10108;
    (&_S10108)->primal_0 = _S9967;
    (&_S10108)->differential_0 = 0.0f;
    DiffPair_float_0 _S10109;
    (&_S10109)->primal_0 = _S9911;
    (&_S10109)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10108, &_S10109, _S10100.differential_0);
    DiffPair_float_0 _S10110;
    (&_S10110)->primal_0 = _S9966;
    (&_S10110)->differential_0 = 0.0f;
    DiffPair_float_0 _S10111;
    (&_S10111)->primal_0 = _S9910;
    (&_S10111)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10110, &_S10111, _S10102.differential_0);
    DiffPair_float_0 _S10112;
    (&_S10112)->primal_0 = _S9965;
    (&_S10112)->differential_0 = 0.0f;
    DiffPair_float_0 _S10113;
    (&_S10113)->primal_0 = _S9910;
    (&_S10113)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10112, &_S10113, _S10104.differential_0);
    DiffPair_float_0 _S10114;
    (&_S10114)->primal_0 = _S9964;
    (&_S10114)->differential_0 = 0.0f;
    DiffPair_float_0 _S10115;
    (&_S10115)->primal_0 = _S9896;
    (&_S10115)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10114, &_S10115, _S10106.differential_0);
    DiffPair_float_0 _S10116;
    (&_S10116)->primal_0 = _S9963;
    (&_S10116)->differential_0 = 0.0f;
    DiffPair_float_0 _S10117;
    (&_S10117)->primal_0 = _S9896;
    (&_S10117)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10116, &_S10117, _S10108.differential_0);
    DiffPair_float_0 _S10118;
    (&_S10118)->primal_0 = _S9962;
    (&_S10118)->differential_0 = 0.0f;
    DiffPair_float_0 _S10119;
    (&_S10119)->primal_0 = _S9895;
    (&_S10119)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10118, &_S10119, _S10110.differential_0);
    DiffPair_float_0 _S10120;
    (&_S10120)->primal_0 = _S9961;
    (&_S10120)->differential_0 = 0.0f;
    DiffPair_float_0 _S10121;
    (&_S10121)->primal_0 = _S9895;
    (&_S10121)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10120, &_S10121, _S10112.differential_0);
    DiffPair_float_0 _S10122;
    (&_S10122)->primal_0 = _S9960;
    (&_S10122)->differential_0 = 0.0f;
    DiffPair_float_0 _S10123;
    (&_S10123)->primal_0 = _S9881;
    (&_S10123)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10122, &_S10123, _S10114.differential_0);
    DiffPair_float_0 _S10124;
    (&_S10124)->primal_0 = _S9959;
    (&_S10124)->differential_0 = 0.0f;
    DiffPair_float_0 _S10125;
    (&_S10125)->primal_0 = _S9881;
    (&_S10125)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10124, &_S10125, _S10116.differential_0);
    DiffPair_float_0 _S10126;
    (&_S10126)->primal_0 = _S9958;
    (&_S10126)->differential_0 = 0.0f;
    DiffPair_float_0 _S10127;
    (&_S10127)->primal_0 = _S9880;
    (&_S10127)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10126, &_S10127, _S10118.differential_0);
    DiffPair_float_0 _S10128;
    (&_S10128)->primal_0 = _S9957;
    (&_S10128)->differential_0 = 0.0f;
    DiffPair_float_0 _S10129;
    (&_S10129)->primal_0 = _S9880;
    (&_S10129)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10128, &_S10129, _S10120.differential_0);
    DiffPair_float_0 _S10130;
    (&_S10130)->primal_0 = _S9851;
    (&_S10130)->differential_0 = 0.0f;
    DiffPair_float_0 _S10131;
    (&_S10131)->primal_0 = _S9866;
    (&_S10131)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10130, &_S10131, _S10122.differential_0);
    DiffPair_float_0 _S10132;
    (&_S10132)->primal_0 = _S9851;
    (&_S10132)->differential_0 = 0.0f;
    DiffPair_float_0 _S10133;
    (&_S10133)->primal_0 = _S9866;
    (&_S10133)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10132, &_S10133, _S10124.differential_0);
    DiffPair_float_0 _S10134;
    (&_S10134)->primal_0 = _S9850;
    (&_S10134)->differential_0 = 0.0f;
    DiffPair_float_0 _S10135;
    (&_S10135)->primal_0 = _S9865;
    (&_S10135)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10134, &_S10135, _S10126.differential_0);
    DiffPair_float_0 _S10136;
    (&_S10136)->primal_0 = _S9850;
    (&_S10136)->differential_0 = 0.0f;
    DiffPair_float_0 _S10137;
    (&_S10137)->primal_0 = _S9865;
    (&_S10137)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10136, &_S10137, _S10128.differential_0);
    float _S10138 = fx_107 * (_S10087.differential_0 + _S10089.differential_0);
    float2  _S10139 = make_float2 (_S10138, fy_107 * (_S10083.differential_0 + _S10085.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10138, (*dist_coeffs_110)[int(9)] * _S10138);
    float2  _S10140 = _S9943 * _S10139;
    float _S10141 = (*dist_coeffs_110)[int(4)] * _S10139.y;
    float _S10142 = (*dist_coeffs_110)[int(5)] * _S10139.x;
    float _S10143 = _S10140.x + _S10140.y;
    float _S10144 = r2_113 * _S10143;
    float _S10145 = r2_113 * _S10144;
    float _S10146 = (*dist_coeffs_110)[int(7)] * _S10139.y + _S10141 + (*dist_coeffs_110)[int(6)] * _S10139.x + _S10142 + _S9947 * _S10143 + _S9946 * _S10144 + _S9945 * _S10145 + (*dist_coeffs_110)[int(3)] * (r2_113 * _S10145);
    float _S10147 = v_118 * _S10146;
    float _S10148 = u_118 * _S10146;
    float2  _S10149 = (_S9948 * _S10139 + make_float2 (_S9845 * (v_118 * _S10139.y) + _S9950 * _S10142 + 2.0f * (u_118 * _S10142) + _S9842 * (v_118 * _S10139.x) + _S10148 + _S10148, _S9952 * _S10141 + 2.0f * (v_118 * _S10141) + _S9951 * _S10139.y + _S9949 * _S10139.x + _S10147 + _S10147)) / _S9944;
    float2  _S10150 = _S9942 * - _S10149;
    float2  _S10151 = _S9833 * _S10149;
    float _S10152 = fx_107 * (_S10095.differential_0 + _S10097.differential_0);
    float2  _S10153 = make_float2 (_S10152, fy_107 * (_S10091.differential_0 + _S10093.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10152, (*dist_coeffs_110)[int(9)] * _S10152);
    float2  _S10154 = _S9928 * _S10153;
    float _S10155 = (*dist_coeffs_110)[int(4)] * _S10153.y;
    float _S10156 = (*dist_coeffs_110)[int(5)] * _S10153.x;
    float _S10157 = _S10154.x + _S10154.y;
    float _S10158 = r2_112 * _S10157;
    float _S10159 = r2_112 * _S10158;
    float _S10160 = (*dist_coeffs_110)[int(7)] * _S10153.y + _S10155 + (*dist_coeffs_110)[int(6)] * _S10153.x + _S10156 + _S9932 * _S10157 + _S9931 * _S10158 + _S9930 * _S10159 + (*dist_coeffs_110)[int(3)] * (r2_112 * _S10159);
    float _S10161 = v_117 * _S10160;
    float _S10162 = u_117 * _S10160;
    float2  _S10163 = (_S9933 * _S10153 + make_float2 (_S9845 * (v_117 * _S10153.y) + _S9935 * _S10156 + 2.0f * (u_117 * _S10156) + _S9842 * (v_117 * _S10153.x) + _S10162 + _S10162, _S9937 * _S10155 + 2.0f * (v_117 * _S10155) + _S9936 * _S10153.y + _S9934 * _S10153.x + _S10161 + _S10161)) / _S9929;
    float2  _S10164 = _S9927 * - _S10163;
    float2  _S10165 = _S9828 * _S10163;
    float _S10166 = fx_107 * (_S10103.differential_0 + _S10105.differential_0);
    float2  _S10167 = make_float2 (_S10166, fy_107 * (_S10099.differential_0 + _S10101.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10166, (*dist_coeffs_110)[int(9)] * _S10166);
    float2  _S10168 = _S9913 * _S10167;
    float _S10169 = (*dist_coeffs_110)[int(4)] * _S10167.y;
    float _S10170 = (*dist_coeffs_110)[int(5)] * _S10167.x;
    float _S10171 = _S10168.x + _S10168.y;
    float _S10172 = r2_111 * _S10171;
    float _S10173 = r2_111 * _S10172;
    float _S10174 = (*dist_coeffs_110)[int(7)] * _S10167.y + _S10169 + (*dist_coeffs_110)[int(6)] * _S10167.x + _S10170 + _S9917 * _S10171 + _S9916 * _S10172 + _S9915 * _S10173 + (*dist_coeffs_110)[int(3)] * (r2_111 * _S10173);
    float _S10175 = v_116 * _S10174;
    float _S10176 = u_116 * _S10174;
    float2  _S10177 = (_S9918 * _S10167 + make_float2 (_S9845 * (v_116 * _S10167.y) + _S9920 * _S10170 + 2.0f * (u_116 * _S10170) + _S9842 * (v_116 * _S10167.x) + _S10176 + _S10176, _S9922 * _S10169 + 2.0f * (v_116 * _S10169) + _S9921 * _S10167.y + _S9919 * _S10167.x + _S10175 + _S10175)) / _S9914;
    float2  _S10178 = _S9912 * - _S10177;
    float2  _S10179 = _S9823 * _S10177;
    float _S10180 = fx_107 * (_S10111.differential_0 + _S10113.differential_0);
    float2  _S10181 = make_float2 (_S10180, fy_107 * (_S10107.differential_0 + _S10109.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10180, (*dist_coeffs_110)[int(9)] * _S10180);
    float2  _S10182 = _S9898 * _S10181;
    float _S10183 = (*dist_coeffs_110)[int(4)] * _S10181.y;
    float _S10184 = (*dist_coeffs_110)[int(5)] * _S10181.x;
    float _S10185 = _S10182.x + _S10182.y;
    float _S10186 = r2_110 * _S10185;
    float _S10187 = r2_110 * _S10186;
    float _S10188 = (*dist_coeffs_110)[int(7)] * _S10181.y + _S10183 + (*dist_coeffs_110)[int(6)] * _S10181.x + _S10184 + _S9902 * _S10185 + _S9901 * _S10186 + _S9900 * _S10187 + (*dist_coeffs_110)[int(3)] * (r2_110 * _S10187);
    float _S10189 = v_115 * _S10188;
    float _S10190 = u_115 * _S10188;
    float2  _S10191 = (_S9903 * _S10181 + make_float2 (_S9845 * (v_115 * _S10181.y) + _S9905 * _S10184 + 2.0f * (u_115 * _S10184) + _S9842 * (v_115 * _S10181.x) + _S10190 + _S10190, _S9907 * _S10183 + 2.0f * (v_115 * _S10183) + _S9906 * _S10181.y + _S9904 * _S10181.x + _S10189 + _S10189)) / _S9899;
    float2  _S10192 = _S9897 * - _S10191;
    float2  _S10193 = _S9818 * _S10191;
    float _S10194 = fx_107 * (_S10119.differential_0 + _S10121.differential_0);
    float2  _S10195 = make_float2 (_S10194, fy_107 * (_S10115.differential_0 + _S10117.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10194, (*dist_coeffs_110)[int(9)] * _S10194);
    float2  _S10196 = _S9883 * _S10195;
    float _S10197 = (*dist_coeffs_110)[int(4)] * _S10195.y;
    float _S10198 = (*dist_coeffs_110)[int(5)] * _S10195.x;
    float _S10199 = _S10196.x + _S10196.y;
    float _S10200 = r2_109 * _S10199;
    float _S10201 = r2_109 * _S10200;
    float _S10202 = (*dist_coeffs_110)[int(7)] * _S10195.y + _S10197 + (*dist_coeffs_110)[int(6)] * _S10195.x + _S10198 + _S9887 * _S10199 + _S9886 * _S10200 + _S9885 * _S10201 + (*dist_coeffs_110)[int(3)] * (r2_109 * _S10201);
    float _S10203 = v_114 * _S10202;
    float _S10204 = u_114 * _S10202;
    float2  _S10205 = (_S9888 * _S10195 + make_float2 (_S9845 * (v_114 * _S10195.y) + _S9890 * _S10198 + 2.0f * (u_114 * _S10198) + _S9842 * (v_114 * _S10195.x) + _S10204 + _S10204, _S9892 * _S10197 + 2.0f * (v_114 * _S10197) + _S9891 * _S10195.y + _S9889 * _S10195.x + _S10203 + _S10203)) / _S9884;
    float2  _S10206 = _S9882 * - _S10205;
    float2  _S10207 = _S9813 * _S10205;
    float _S10208 = fx_107 * (_S10127.differential_0 + _S10129.differential_0);
    float2  _S10209 = make_float2 (_S10208, fy_107 * (_S10123.differential_0 + _S10125.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10208, (*dist_coeffs_110)[int(9)] * _S10208);
    float2  _S10210 = _S9868 * _S10209;
    float _S10211 = (*dist_coeffs_110)[int(4)] * _S10209.y;
    float _S10212 = (*dist_coeffs_110)[int(5)] * _S10209.x;
    float _S10213 = _S10210.x + _S10210.y;
    float _S10214 = r2_108 * _S10213;
    float _S10215 = r2_108 * _S10214;
    float _S10216 = (*dist_coeffs_110)[int(7)] * _S10209.y + _S10211 + (*dist_coeffs_110)[int(6)] * _S10209.x + _S10212 + _S9872 * _S10213 + _S9871 * _S10214 + _S9870 * _S10215 + (*dist_coeffs_110)[int(3)] * (r2_108 * _S10215);
    float _S10217 = v_113 * _S10216;
    float _S10218 = u_113 * _S10216;
    float2  _S10219 = (_S9873 * _S10209 + make_float2 (_S9845 * (v_113 * _S10209.y) + _S9875 * _S10212 + 2.0f * (u_113 * _S10212) + _S9842 * (v_113 * _S10209.x) + _S10218 + _S10218, _S9877 * _S10211 + 2.0f * (v_113 * _S10211) + _S9876 * _S10209.y + _S9874 * _S10209.x + _S10217 + _S10217)) / _S9869;
    float2  _S10220 = _S9867 * - _S10219;
    float2  _S10221 = _S9808 * _S10219;
    float _S10222 = fx_107 * (_S10135.differential_0 + _S10137.differential_0);
    float2  _S10223 = make_float2 (_S10222, fy_107 * (_S10131.differential_0 + _S10133.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10222, (*dist_coeffs_110)[int(9)] * _S10222);
    float2  _S10224 = _S9853 * _S10223;
    float _S10225 = (*dist_coeffs_110)[int(4)] * _S10223.y;
    float _S10226 = (*dist_coeffs_110)[int(5)] * _S10223.x;
    float _S10227 = _S10224.x + _S10224.y;
    float _S10228 = r2_107 * _S10227;
    float _S10229 = r2_107 * _S10228;
    float _S10230 = (*dist_coeffs_110)[int(7)] * _S10223.y + _S10225 + (*dist_coeffs_110)[int(6)] * _S10223.x + _S10226 + _S9857 * _S10227 + _S9856 * _S10228 + _S9855 * _S10229 + (*dist_coeffs_110)[int(3)] * (r2_107 * _S10229);
    float _S10231 = v_112 * _S10230;
    float _S10232 = u_112 * _S10230;
    float2  _S10233 = (_S9858 * _S10223 + make_float2 (_S9845 * (v_112 * _S10223.y) + _S9860 * _S10226 + 2.0f * (u_112 * _S10226) + _S9842 * (v_112 * _S10223.x) + _S10232 + _S10232, _S9862 * _S10225 + 2.0f * (v_112 * _S10225) + _S9861 * _S10223.y + _S9859 * _S10223.x + _S10231 + _S10231)) / _S9854;
    float2  _S10234 = _S9852 * - _S10233;
    float2  _S10235 = _S9803 * _S10233;
    float _S10236 = fx_107 * (_S10134.differential_0 + _S10136.differential_0);
    float2  _S10237 = make_float2 (_S10236, fy_107 * (_S10130.differential_0 + _S10132.differential_0)) + make_float2 ((*dist_coeffs_110)[int(8)] * _S10236, (*dist_coeffs_110)[int(9)] * _S10236);
    float2  _S10238 = _S9836 * _S10237;
    float _S10239 = (*dist_coeffs_110)[int(4)] * _S10237.y;
    float _S10240 = (*dist_coeffs_110)[int(5)] * _S10237.x;
    float _S10241 = _S10238.x + _S10238.y;
    float _S10242 = r2_106 * _S10241;
    float _S10243 = r2_106 * _S10242;
    float _S10244 = (*dist_coeffs_110)[int(7)] * _S10237.y + _S10239 + (*dist_coeffs_110)[int(6)] * _S10237.x + _S10240 + _S9840 * _S10241 + _S9839 * _S10242 + _S9838 * _S10243 + (*dist_coeffs_110)[int(3)] * (r2_106 * _S10243);
    float _S10245 = v_111 * _S10244;
    float _S10246 = u_111 * _S10244;
    float2  _S10247 = (_S9841 * _S10237 + make_float2 (_S9845 * (v_111 * _S10237.y) + _S9844 * _S10240 + 2.0f * (u_111 * _S10240) + _S9842 * (v_111 * _S10237.x) + _S10246 + _S10246, _S9847 * _S10239 + 2.0f * (v_111 * _S10239) + _S9846 * _S10237.y + _S9843 * _S10237.x + _S10245 + _S10245)) / _S9837;
    float2  _S10248 = _S9835 * - _S10247;
    float2  _S10249 = _S9798 * _S10247;
    float3  _S10250 = _S10071 + _S10080.differential_0 + make_float3 (0.0f, 0.0f, _S10081);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10251;
    (&_S10251)->primal_0 = R_74;
    (&_S10251)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10252;
    (&_S10252)->primal_0 = _S9834;
    (&_S10252)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10251, &_S10252, _S10250);
    DiffPair_float_0 _S10253;
    (&_S10253)->primal_0 = _S9830;
    (&_S10253)->differential_0 = 0.0f;
    DiffPair_float_0 _S10254;
    (&_S10254)->primal_0 = _S9832;
    (&_S10254)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10253, &_S10254, 0.0f);
    DiffPair_float_0 _S10255;
    (&_S10255)->primal_0 = _S9829;
    (&_S10255)->differential_0 = 0.0f;
    DiffPair_float_0 _S10256;
    (&_S10256)->primal_0 = _S9832;
    (&_S10256)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10255, &_S10256, 0.0f);
    float3  _S10257 = make_float3 (_S10151.x, _S10151.y, _S10254.differential_0 + _S10256.differential_0 + _S10150.x + _S10150.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10258;
    (&_S10258)->primal_0 = R_74;
    (&_S10258)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10259;
    (&_S10259)->primal_0 = pos_i_6;
    (&_S10259)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10258, &_S10259, _S10257);
    DiffPair_float_0 _S10260;
    (&_S10260)->primal_0 = _S9825;
    (&_S10260)->differential_0 = 0.0f;
    DiffPair_float_0 _S10261;
    (&_S10261)->primal_0 = _S9827;
    (&_S10261)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10260, &_S10261, _S10253.differential_0);
    DiffPair_float_0 _S10262;
    (&_S10262)->primal_0 = _S9824;
    (&_S10262)->differential_0 = 0.0f;
    DiffPair_float_0 _S10263;
    (&_S10263)->primal_0 = _S9827;
    (&_S10263)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10262, &_S10263, _S10255.differential_0);
    float3  _S10264 = make_float3 (_S10165.x, _S10165.y, _S10261.differential_0 + _S10263.differential_0 + _S10164.x + _S10164.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10265;
    (&_S10265)->primal_0 = R_74;
    (&_S10265)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10266;
    (&_S10266)->primal_0 = pos_i_5;
    (&_S10266)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10265, &_S10266, _S10264);
    DiffPair_float_0 _S10267;
    (&_S10267)->primal_0 = _S9820;
    (&_S10267)->differential_0 = 0.0f;
    DiffPair_float_0 _S10268;
    (&_S10268)->primal_0 = _S9822;
    (&_S10268)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10267, &_S10268, _S10260.differential_0);
    DiffPair_float_0 _S10269;
    (&_S10269)->primal_0 = _S9819;
    (&_S10269)->differential_0 = 0.0f;
    DiffPair_float_0 _S10270;
    (&_S10270)->primal_0 = _S9822;
    (&_S10270)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10269, &_S10270, _S10262.differential_0);
    float3  _S10271 = make_float3 (_S10179.x, _S10179.y, _S10268.differential_0 + _S10270.differential_0 + _S10178.x + _S10178.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10272;
    (&_S10272)->primal_0 = R_74;
    (&_S10272)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10273;
    (&_S10273)->primal_0 = pos_i_4;
    (&_S10273)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10272, &_S10273, _S10271);
    DiffPair_float_0 _S10274;
    (&_S10274)->primal_0 = _S9815;
    (&_S10274)->differential_0 = 0.0f;
    DiffPair_float_0 _S10275;
    (&_S10275)->primal_0 = _S9817;
    (&_S10275)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10274, &_S10275, _S10267.differential_0);
    DiffPair_float_0 _S10276;
    (&_S10276)->primal_0 = _S9814;
    (&_S10276)->differential_0 = 0.0f;
    DiffPair_float_0 _S10277;
    (&_S10277)->primal_0 = _S9817;
    (&_S10277)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10276, &_S10277, _S10269.differential_0);
    float3  _S10278 = make_float3 (_S10193.x, _S10193.y, _S10275.differential_0 + _S10277.differential_0 + _S10192.x + _S10192.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10279;
    (&_S10279)->primal_0 = R_74;
    (&_S10279)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10280;
    (&_S10280)->primal_0 = pos_i_3;
    (&_S10280)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10279, &_S10280, _S10278);
    DiffPair_float_0 _S10281;
    (&_S10281)->primal_0 = _S9810;
    (&_S10281)->differential_0 = 0.0f;
    DiffPair_float_0 _S10282;
    (&_S10282)->primal_0 = _S9812;
    (&_S10282)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10281, &_S10282, _S10274.differential_0);
    DiffPair_float_0 _S10283;
    (&_S10283)->primal_0 = _S9809;
    (&_S10283)->differential_0 = 0.0f;
    DiffPair_float_0 _S10284;
    (&_S10284)->primal_0 = _S9812;
    (&_S10284)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10283, &_S10284, _S10276.differential_0);
    float3  _S10285 = make_float3 (_S10207.x, _S10207.y, _S10282.differential_0 + _S10284.differential_0 + _S10206.x + _S10206.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10286;
    (&_S10286)->primal_0 = R_74;
    (&_S10286)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10287;
    (&_S10287)->primal_0 = pos_i_2;
    (&_S10287)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10286, &_S10287, _S10285);
    DiffPair_float_0 _S10288;
    (&_S10288)->primal_0 = _S9805;
    (&_S10288)->differential_0 = 0.0f;
    DiffPair_float_0 _S10289;
    (&_S10289)->primal_0 = _S9807;
    (&_S10289)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10288, &_S10289, _S10281.differential_0);
    DiffPair_float_0 _S10290;
    (&_S10290)->primal_0 = _S9804;
    (&_S10290)->differential_0 = 0.0f;
    DiffPair_float_0 _S10291;
    (&_S10291)->primal_0 = _S9807;
    (&_S10291)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10290, &_S10291, _S10283.differential_0);
    float3  _S10292 = make_float3 (_S10221.x, _S10221.y, _S10289.differential_0 + _S10291.differential_0 + _S10220.x + _S10220.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10293;
    (&_S10293)->primal_0 = R_74;
    (&_S10293)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10294;
    (&_S10294)->primal_0 = pos_i_1;
    (&_S10294)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10293, &_S10294, _S10292);
    DiffPair_float_0 _S10295;
    (&_S10295)->primal_0 = _S9800;
    (&_S10295)->differential_0 = 0.0f;
    DiffPair_float_0 _S10296;
    (&_S10296)->primal_0 = _S9802;
    (&_S10296)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10295, &_S10296, _S10288.differential_0);
    DiffPair_float_0 _S10297;
    (&_S10297)->primal_0 = _S9799;
    (&_S10297)->differential_0 = 0.0f;
    DiffPair_float_0 _S10298;
    (&_S10298)->primal_0 = _S9802;
    (&_S10298)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10297, &_S10298, _S10290.differential_0);
    float3  _S10299 = make_float3 (_S10235.x, _S10235.y, _S10296.differential_0 + _S10298.differential_0 + _S10234.x + _S10234.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10300;
    (&_S10300)->primal_0 = R_74;
    (&_S10300)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10301;
    (&_S10301)->primal_0 = pos_i_0;
    (&_S10301)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10300, &_S10301, _S10299);
    DiffPair_float_0 _S10302;
    (&_S10302)->primal_0 = 0.0f;
    (&_S10302)->differential_0 = 0.0f;
    DiffPair_float_0 _S10303;
    (&_S10303)->primal_0 = _S9797;
    (&_S10303)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10302, &_S10303, _S10295.differential_0);
    DiffPair_float_0 _S10304;
    (&_S10304)->primal_0 = 1.00000001504746622e+30f;
    (&_S10304)->differential_0 = 0.0f;
    DiffPair_float_0 _S10305;
    (&_S10305)->primal_0 = _S9797;
    (&_S10305)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10304, &_S10305, _S10297.differential_0);
    float3  _S10306 = make_float3 (_S10249.x, _S10249.y, _S10303.differential_0 + _S10305.differential_0 + _S10248.x + _S10248.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10307;
    (&_S10307)->primal_0 = R_74;
    (&_S10307)->differential_0 = _S10073;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10308;
    (&_S10308)->primal_0 = pos_4;
    (&_S10308)->differential_0 = _S10011;
    s_bwd_prop_mul_1(&_S10307, &_S10308, _S10306);
    float3  _S10309 = _S10075.differential_0 + _S10250 + _S10257 + _S10264 + _S10271 + _S10278 + _S10285 + _S10292 + _S10299 + _S10306;
    Matrix<float, 3, 3>  _S10310 = _S10076 + _S10251.differential_0 + _S10258.differential_0 + _S10265.differential_0 + _S10272.differential_0 + _S10279.differential_0 + _S10286.differential_0 + _S10293.differential_0 + _S10300.differential_0 + _S10307.differential_0;
    FixedArray<float3 , 16>  _S10311;
    _S10311[int(0)] = _S10011;
    _S10311[int(1)] = _S10011;
    _S10311[int(2)] = _S10011;
    _S10311[int(3)] = _S10011;
    _S10311[int(4)] = _S10011;
    _S10311[int(5)] = _S10011;
    _S10311[int(6)] = _S10011;
    _S10311[int(7)] = _S10011;
    _S10311[int(8)] = _S10011;
    _S10311[int(9)] = _S10011;
    _S10311[int(10)] = _S10011;
    _S10311[int(11)] = _S10011;
    _S10311[int(12)] = _S10011;
    _S10311[int(13)] = _S10011;
    _S10311[int(14)] = _S10011;
    _S10311[int(15)] = _S10011;
    _S10311[int(15)] = _S10014;
    _S10311[int(14)] = _S10016;
    _S10311[int(13)] = _S10018;
    _S10311[int(12)] = _S10020;
    _S10311[int(11)] = _S10022;
    _S10311[int(10)] = _S10024;
    _S10311[int(9)] = _S10026;
    _S10311[int(8)] = _S10034;
    _S10311[int(7)] = _S10036;
    _S10311[int(6)] = _S10038;
    _S10311[int(5)] = _S10040;
    _S10311[int(4)] = _S10042;
    _S10311[int(3)] = _S10053;
    _S10311[int(2)] = _S10055;
    _S10311[int(1)] = _S10057;
    _S10311[int(0)] = _S10070;
    (*v_densities_0)[int(0)] = 0.0f;
    (*v_densities_0)[int(1)] = 0.0f;
    (*v_densities_0)[int(2)] = 0.0f;
    (*v_densities_0)[int(3)] = 0.0f;
    (*v_densities_0)[int(4)] = 0.0f;
    (*v_densities_0)[int(5)] = 0.0f;
    (*v_densities_0)[int(6)] = 0.0f;
    (*v_densities_0)[int(7)] = 0.0f;
    *v_sh_coeffs_7 = _S10311;
    *v_R_23 = _S10310;
    *v_t_22 = _S10309;
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye_vjp(float3  pos_5, float size_5, FixedArray<float, 8>  * densities_5, FixedArray<float3 , 16>  * sh_coeffs_26, Matrix<float, 3, 3>  R_75, float3  t_74, float fx_108, float fy_108, float cx_103, float cy_103, FixedArray<float, 10>  * dist_coeffs_111, uint image_width_96, uint image_height_96, float3  v_rgb_21, FixedArray<float, 8>  * v_densities_1, FixedArray<float3 , 16>  * v_sh_coeffs_8, Matrix<float, 3, 3>  * v_R_24, float3  * v_t_23)
{
    float3  _S10312 = s_primal_ctx_mul_0(R_75, pos_5) + t_74;
    float _S10313 = length_1(_S10312);
    float _S10314 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S10313);
    float _S10315 = s_primal_ctx_max_0(0.0f, _S10313);
    float3  pos_i_7 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S10316 = s_primal_ctx_mul_0(R_75, pos_i_7) + t_74;
    float _S10317 = length_1(_S10316);
    float _S10318 = s_primal_ctx_min_0(_S10314, _S10317);
    float _S10319 = s_primal_ctx_max_0(_S10315, _S10317);
    float3  pos_i_8 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S10320 = s_primal_ctx_mul_0(R_75, pos_i_8) + t_74;
    float _S10321 = length_1(_S10320);
    float _S10322 = s_primal_ctx_min_0(_S10318, _S10321);
    float _S10323 = s_primal_ctx_max_0(_S10319, _S10321);
    float3  pos_i_9 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S10324 = s_primal_ctx_mul_0(R_75, pos_i_9) + t_74;
    float _S10325 = length_1(_S10324);
    float _S10326 = s_primal_ctx_min_0(_S10322, _S10325);
    float _S10327 = s_primal_ctx_max_0(_S10323, _S10325);
    float3  pos_i_10 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S10328 = s_primal_ctx_mul_0(R_75, pos_i_10) + t_74;
    float _S10329 = length_1(_S10328);
    float _S10330 = s_primal_ctx_min_0(_S10326, _S10329);
    float _S10331 = s_primal_ctx_max_0(_S10327, _S10329);
    float3  pos_i_11 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S10332 = s_primal_ctx_mul_0(R_75, pos_i_11) + t_74;
    float _S10333 = length_1(_S10332);
    float _S10334 = s_primal_ctx_min_0(_S10330, _S10333);
    float _S10335 = s_primal_ctx_max_0(_S10331, _S10333);
    float3  pos_i_12 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S10336 = s_primal_ctx_mul_0(R_75, pos_i_12) + t_74;
    float _S10337 = length_1(_S10336);
    float _S10338 = s_primal_ctx_min_0(_S10334, _S10337);
    float _S10339 = s_primal_ctx_max_0(_S10335, _S10337);
    float3  pos_i_13 = pos_5 + make_float3 (size_5);
    float3  _S10340 = s_primal_ctx_mul_0(R_75, pos_i_13) + t_74;
    float _S10341 = length_1(_S10340);
    float3  _S10342 = pos_5 + make_float3 (0.5f * size_5);
    float3  mean_c_82 = s_primal_ctx_mul_0(R_75, _S10342) + t_74;
    float2  _S10343 = float2 {_S10312.x, _S10312.y};
    float _S10344 = length_0(_S10343);
    float _S10345 = _S10312.z;
    float _S10346 = s_primal_ctx_atan2_0(_S10344, _S10345);
    bool _S10347 = _S10346 < 0.00100000004749745f;
    float k_12;
    float _S10348;
    float _S10349;
    float _S10350;
    if(_S10347)
    {
        float _S10351 = 1.0f - _S10346 * _S10346 / 3.0f;
        float _S10352 = _S10345 * _S10345;
        k_12 = _S10351 / _S10345;
        _S10348 = 0.0f;
        _S10349 = _S10352;
        _S10350 = _S10351;
    }
    else
    {
        float _S10353 = _S10344 * _S10344;
        k_12 = _S10346 / _S10344;
        _S10348 = _S10353;
        _S10349 = 0.0f;
        _S10350 = 0.0f;
    }
    float2  _S10354 = make_float2 (k_12);
    float2  _S10355 = _S10343 * make_float2 (k_12);
    float u_119 = _S10355.x;
    float v_119 = _S10355.y;
    float r2_114 = u_119 * u_119 + v_119 * v_119;
    float _S10356 = (*dist_coeffs_111)[int(2)] + r2_114 * (*dist_coeffs_111)[int(3)];
    float _S10357 = (*dist_coeffs_111)[int(1)] + r2_114 * _S10356;
    float _S10358 = (*dist_coeffs_111)[int(0)] + r2_114 * _S10357;
    float radial_16 = 1.0f + r2_114 * _S10358;
    float2  _S10359 = make_float2 (radial_16);
    float _S10360 = 2.0f * (*dist_coeffs_111)[int(4)];
    float _S10361 = _S10360 * u_119;
    float _S10362 = 2.0f * u_119;
    float _S10363 = 2.0f * (*dist_coeffs_111)[int(5)];
    float _S10364 = _S10363 * u_119;
    float _S10365 = 2.0f * v_119;
    float2  _S10366 = _S10355 * make_float2 (radial_16) + make_float2 (_S10361 * v_119 + (*dist_coeffs_111)[int(5)] * (r2_114 + _S10362 * u_119) + (*dist_coeffs_111)[int(6)] * r2_114, _S10364 * v_119 + (*dist_coeffs_111)[int(4)] * (r2_114 + _S10365 * v_119) + (*dist_coeffs_111)[int(7)] * r2_114);
    float2  _S10367 = _S10366 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10366.x + (*dist_coeffs_111)[int(9)] * _S10366.y, 0.0f);
    float _S10368 = fx_108 * _S10367.x + cx_103;
    float _S10369 = fy_108 * _S10367.y + cy_103;
    float2  _S10370 = float2 {_S10316.x, _S10316.y};
    float _S10371 = length_0(_S10370);
    float _S10372 = _S10316.z;
    float _S10373 = s_primal_ctx_atan2_0(_S10371, _S10372);
    bool _S10374 = _S10373 < 0.00100000004749745f;
    float _S10375;
    float _S10376;
    float _S10377;
    if(_S10374)
    {
        float _S10378 = 1.0f - _S10373 * _S10373 / 3.0f;
        float _S10379 = _S10372 * _S10372;
        k_12 = _S10378 / _S10372;
        _S10375 = 0.0f;
        _S10376 = _S10379;
        _S10377 = _S10378;
    }
    else
    {
        float _S10380 = _S10371 * _S10371;
        k_12 = _S10373 / _S10371;
        _S10375 = _S10380;
        _S10376 = 0.0f;
        _S10377 = 0.0f;
    }
    float2  _S10381 = make_float2 (k_12);
    float2  _S10382 = _S10370 * make_float2 (k_12);
    float u_120 = _S10382.x;
    float v_120 = _S10382.y;
    float r2_115 = u_120 * u_120 + v_120 * v_120;
    float _S10383 = (*dist_coeffs_111)[int(2)] + r2_115 * (*dist_coeffs_111)[int(3)];
    float _S10384 = (*dist_coeffs_111)[int(1)] + r2_115 * _S10383;
    float _S10385 = (*dist_coeffs_111)[int(0)] + r2_115 * _S10384;
    float radial_17 = 1.0f + r2_115 * _S10385;
    float2  _S10386 = make_float2 (radial_17);
    float _S10387 = _S10360 * u_120;
    float _S10388 = 2.0f * u_120;
    float _S10389 = _S10363 * u_120;
    float _S10390 = 2.0f * v_120;
    float2  _S10391 = _S10382 * make_float2 (radial_17) + make_float2 (_S10387 * v_120 + (*dist_coeffs_111)[int(5)] * (r2_115 + _S10388 * u_120) + (*dist_coeffs_111)[int(6)] * r2_115, _S10389 * v_120 + (*dist_coeffs_111)[int(4)] * (r2_115 + _S10390 * v_120) + (*dist_coeffs_111)[int(7)] * r2_115);
    float2  _S10392 = _S10391 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10391.x + (*dist_coeffs_111)[int(9)] * _S10391.y, 0.0f);
    float _S10393 = fx_108 * _S10392.x + cx_103;
    float _S10394 = fy_108 * _S10392.y + cy_103;
    float2  _S10395 = float2 {_S10320.x, _S10320.y};
    float _S10396 = length_0(_S10395);
    float _S10397 = _S10320.z;
    float _S10398 = s_primal_ctx_atan2_0(_S10396, _S10397);
    bool _S10399 = _S10398 < 0.00100000004749745f;
    float _S10400;
    float _S10401;
    float _S10402;
    if(_S10399)
    {
        float _S10403 = 1.0f - _S10398 * _S10398 / 3.0f;
        float _S10404 = _S10397 * _S10397;
        k_12 = _S10403 / _S10397;
        _S10400 = 0.0f;
        _S10401 = _S10404;
        _S10402 = _S10403;
    }
    else
    {
        float _S10405 = _S10396 * _S10396;
        k_12 = _S10398 / _S10396;
        _S10400 = _S10405;
        _S10401 = 0.0f;
        _S10402 = 0.0f;
    }
    float2  _S10406 = make_float2 (k_12);
    float2  _S10407 = _S10395 * make_float2 (k_12);
    float u_121 = _S10407.x;
    float v_121 = _S10407.y;
    float r2_116 = u_121 * u_121 + v_121 * v_121;
    float _S10408 = (*dist_coeffs_111)[int(2)] + r2_116 * (*dist_coeffs_111)[int(3)];
    float _S10409 = (*dist_coeffs_111)[int(1)] + r2_116 * _S10408;
    float _S10410 = (*dist_coeffs_111)[int(0)] + r2_116 * _S10409;
    float radial_18 = 1.0f + r2_116 * _S10410;
    float2  _S10411 = make_float2 (radial_18);
    float _S10412 = _S10360 * u_121;
    float _S10413 = 2.0f * u_121;
    float _S10414 = _S10363 * u_121;
    float _S10415 = 2.0f * v_121;
    float2  _S10416 = _S10407 * make_float2 (radial_18) + make_float2 (_S10412 * v_121 + (*dist_coeffs_111)[int(5)] * (r2_116 + _S10413 * u_121) + (*dist_coeffs_111)[int(6)] * r2_116, _S10414 * v_121 + (*dist_coeffs_111)[int(4)] * (r2_116 + _S10415 * v_121) + (*dist_coeffs_111)[int(7)] * r2_116);
    float2  _S10417 = _S10416 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10416.x + (*dist_coeffs_111)[int(9)] * _S10416.y, 0.0f);
    float _S10418 = fx_108 * _S10417.x + cx_103;
    float _S10419 = fy_108 * _S10417.y + cy_103;
    float2  _S10420 = float2 {_S10324.x, _S10324.y};
    float _S10421 = length_0(_S10420);
    float _S10422 = _S10324.z;
    float _S10423 = s_primal_ctx_atan2_0(_S10421, _S10422);
    bool _S10424 = _S10423 < 0.00100000004749745f;
    float _S10425;
    float _S10426;
    float _S10427;
    if(_S10424)
    {
        float _S10428 = 1.0f - _S10423 * _S10423 / 3.0f;
        float _S10429 = _S10422 * _S10422;
        k_12 = _S10428 / _S10422;
        _S10425 = 0.0f;
        _S10426 = _S10429;
        _S10427 = _S10428;
    }
    else
    {
        float _S10430 = _S10421 * _S10421;
        k_12 = _S10423 / _S10421;
        _S10425 = _S10430;
        _S10426 = 0.0f;
        _S10427 = 0.0f;
    }
    float2  _S10431 = make_float2 (k_12);
    float2  _S10432 = _S10420 * make_float2 (k_12);
    float u_122 = _S10432.x;
    float v_122 = _S10432.y;
    float r2_117 = u_122 * u_122 + v_122 * v_122;
    float _S10433 = (*dist_coeffs_111)[int(2)] + r2_117 * (*dist_coeffs_111)[int(3)];
    float _S10434 = (*dist_coeffs_111)[int(1)] + r2_117 * _S10433;
    float _S10435 = (*dist_coeffs_111)[int(0)] + r2_117 * _S10434;
    float radial_19 = 1.0f + r2_117 * _S10435;
    float2  _S10436 = make_float2 (radial_19);
    float _S10437 = _S10360 * u_122;
    float _S10438 = 2.0f * u_122;
    float _S10439 = _S10363 * u_122;
    float _S10440 = 2.0f * v_122;
    float2  _S10441 = _S10432 * make_float2 (radial_19) + make_float2 (_S10437 * v_122 + (*dist_coeffs_111)[int(5)] * (r2_117 + _S10438 * u_122) + (*dist_coeffs_111)[int(6)] * r2_117, _S10439 * v_122 + (*dist_coeffs_111)[int(4)] * (r2_117 + _S10440 * v_122) + (*dist_coeffs_111)[int(7)] * r2_117);
    float2  _S10442 = _S10441 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10441.x + (*dist_coeffs_111)[int(9)] * _S10441.y, 0.0f);
    float _S10443 = fx_108 * _S10442.x + cx_103;
    float _S10444 = fy_108 * _S10442.y + cy_103;
    float2  _S10445 = float2 {_S10328.x, _S10328.y};
    float _S10446 = length_0(_S10445);
    float _S10447 = _S10328.z;
    float _S10448 = s_primal_ctx_atan2_0(_S10446, _S10447);
    bool _S10449 = _S10448 < 0.00100000004749745f;
    float _S10450;
    float _S10451;
    float _S10452;
    if(_S10449)
    {
        float _S10453 = 1.0f - _S10448 * _S10448 / 3.0f;
        float _S10454 = _S10447 * _S10447;
        k_12 = _S10453 / _S10447;
        _S10450 = 0.0f;
        _S10451 = _S10454;
        _S10452 = _S10453;
    }
    else
    {
        float _S10455 = _S10446 * _S10446;
        k_12 = _S10448 / _S10446;
        _S10450 = _S10455;
        _S10451 = 0.0f;
        _S10452 = 0.0f;
    }
    float2  _S10456 = make_float2 (k_12);
    float2  _S10457 = _S10445 * make_float2 (k_12);
    float u_123 = _S10457.x;
    float v_123 = _S10457.y;
    float r2_118 = u_123 * u_123 + v_123 * v_123;
    float _S10458 = (*dist_coeffs_111)[int(2)] + r2_118 * (*dist_coeffs_111)[int(3)];
    float _S10459 = (*dist_coeffs_111)[int(1)] + r2_118 * _S10458;
    float _S10460 = (*dist_coeffs_111)[int(0)] + r2_118 * _S10459;
    float radial_20 = 1.0f + r2_118 * _S10460;
    float2  _S10461 = make_float2 (radial_20);
    float _S10462 = _S10360 * u_123;
    float _S10463 = 2.0f * u_123;
    float _S10464 = _S10363 * u_123;
    float _S10465 = 2.0f * v_123;
    float2  _S10466 = _S10457 * make_float2 (radial_20) + make_float2 (_S10462 * v_123 + (*dist_coeffs_111)[int(5)] * (r2_118 + _S10463 * u_123) + (*dist_coeffs_111)[int(6)] * r2_118, _S10464 * v_123 + (*dist_coeffs_111)[int(4)] * (r2_118 + _S10465 * v_123) + (*dist_coeffs_111)[int(7)] * r2_118);
    float2  _S10467 = _S10466 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10466.x + (*dist_coeffs_111)[int(9)] * _S10466.y, 0.0f);
    float _S10468 = fx_108 * _S10467.x + cx_103;
    float _S10469 = fy_108 * _S10467.y + cy_103;
    float2  _S10470 = float2 {_S10332.x, _S10332.y};
    float _S10471 = length_0(_S10470);
    float _S10472 = _S10332.z;
    float _S10473 = s_primal_ctx_atan2_0(_S10471, _S10472);
    bool _S10474 = _S10473 < 0.00100000004749745f;
    float _S10475;
    float _S10476;
    float _S10477;
    if(_S10474)
    {
        float _S10478 = 1.0f - _S10473 * _S10473 / 3.0f;
        float _S10479 = _S10472 * _S10472;
        k_12 = _S10478 / _S10472;
        _S10475 = 0.0f;
        _S10476 = _S10479;
        _S10477 = _S10478;
    }
    else
    {
        float _S10480 = _S10471 * _S10471;
        k_12 = _S10473 / _S10471;
        _S10475 = _S10480;
        _S10476 = 0.0f;
        _S10477 = 0.0f;
    }
    float2  _S10481 = make_float2 (k_12);
    float2  _S10482 = _S10470 * make_float2 (k_12);
    float u_124 = _S10482.x;
    float v_124 = _S10482.y;
    float r2_119 = u_124 * u_124 + v_124 * v_124;
    float _S10483 = (*dist_coeffs_111)[int(2)] + r2_119 * (*dist_coeffs_111)[int(3)];
    float _S10484 = (*dist_coeffs_111)[int(1)] + r2_119 * _S10483;
    float _S10485 = (*dist_coeffs_111)[int(0)] + r2_119 * _S10484;
    float radial_21 = 1.0f + r2_119 * _S10485;
    float2  _S10486 = make_float2 (radial_21);
    float _S10487 = _S10360 * u_124;
    float _S10488 = 2.0f * u_124;
    float _S10489 = _S10363 * u_124;
    float _S10490 = 2.0f * v_124;
    float2  _S10491 = _S10482 * make_float2 (radial_21) + make_float2 (_S10487 * v_124 + (*dist_coeffs_111)[int(5)] * (r2_119 + _S10488 * u_124) + (*dist_coeffs_111)[int(6)] * r2_119, _S10489 * v_124 + (*dist_coeffs_111)[int(4)] * (r2_119 + _S10490 * v_124) + (*dist_coeffs_111)[int(7)] * r2_119);
    float2  _S10492 = _S10491 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10491.x + (*dist_coeffs_111)[int(9)] * _S10491.y, 0.0f);
    float _S10493 = fx_108 * _S10492.x + cx_103;
    float _S10494 = fy_108 * _S10492.y + cy_103;
    float2  _S10495 = float2 {_S10336.x, _S10336.y};
    float _S10496 = length_0(_S10495);
    float _S10497 = _S10336.z;
    float _S10498 = s_primal_ctx_atan2_0(_S10496, _S10497);
    bool _S10499 = _S10498 < 0.00100000004749745f;
    float _S10500;
    float _S10501;
    float _S10502;
    if(_S10499)
    {
        float _S10503 = 1.0f - _S10498 * _S10498 / 3.0f;
        float _S10504 = _S10497 * _S10497;
        k_12 = _S10503 / _S10497;
        _S10500 = 0.0f;
        _S10501 = _S10504;
        _S10502 = _S10503;
    }
    else
    {
        float _S10505 = _S10496 * _S10496;
        k_12 = _S10498 / _S10496;
        _S10500 = _S10505;
        _S10501 = 0.0f;
        _S10502 = 0.0f;
    }
    float2  _S10506 = make_float2 (k_12);
    float2  _S10507 = _S10495 * make_float2 (k_12);
    float u_125 = _S10507.x;
    float v_125 = _S10507.y;
    float r2_120 = u_125 * u_125 + v_125 * v_125;
    float _S10508 = (*dist_coeffs_111)[int(2)] + r2_120 * (*dist_coeffs_111)[int(3)];
    float _S10509 = (*dist_coeffs_111)[int(1)] + r2_120 * _S10508;
    float _S10510 = (*dist_coeffs_111)[int(0)] + r2_120 * _S10509;
    float radial_22 = 1.0f + r2_120 * _S10510;
    float2  _S10511 = make_float2 (radial_22);
    float _S10512 = _S10360 * u_125;
    float _S10513 = 2.0f * u_125;
    float _S10514 = _S10363 * u_125;
    float _S10515 = 2.0f * v_125;
    float2  _S10516 = _S10507 * make_float2 (radial_22) + make_float2 (_S10512 * v_125 + (*dist_coeffs_111)[int(5)] * (r2_120 + _S10513 * u_125) + (*dist_coeffs_111)[int(6)] * r2_120, _S10514 * v_125 + (*dist_coeffs_111)[int(4)] * (r2_120 + _S10515 * v_125) + (*dist_coeffs_111)[int(7)] * r2_120);
    float2  _S10517 = _S10516 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10516.x + (*dist_coeffs_111)[int(9)] * _S10516.y, 0.0f);
    float _S10518 = fx_108 * _S10517.x + cx_103;
    float _S10519 = fy_108 * _S10517.y + cy_103;
    float2  _S10520 = float2 {_S10340.x, _S10340.y};
    float _S10521 = length_0(_S10520);
    float _S10522 = _S10340.z;
    float _S10523 = s_primal_ctx_atan2_0(_S10521, _S10522);
    bool _S10524 = _S10523 < 0.00100000004749745f;
    float _S10525;
    float _S10526;
    float _S10527;
    if(_S10524)
    {
        float _S10528 = 1.0f - _S10523 * _S10523 / 3.0f;
        float _S10529 = _S10522 * _S10522;
        k_12 = _S10528 / _S10522;
        _S10525 = 0.0f;
        _S10526 = _S10529;
        _S10527 = _S10528;
    }
    else
    {
        float _S10530 = _S10521 * _S10521;
        k_12 = _S10523 / _S10521;
        _S10525 = _S10530;
        _S10526 = 0.0f;
        _S10527 = 0.0f;
    }
    float2  _S10531 = make_float2 (k_12);
    float2  _S10532 = _S10520 * make_float2 (k_12);
    float u_126 = _S10532.x;
    float v_126 = _S10532.y;
    float r2_121 = u_126 * u_126 + v_126 * v_126;
    float _S10533 = (*dist_coeffs_111)[int(2)] + r2_121 * (*dist_coeffs_111)[int(3)];
    float _S10534 = (*dist_coeffs_111)[int(1)] + r2_121 * _S10533;
    float _S10535 = (*dist_coeffs_111)[int(0)] + r2_121 * _S10534;
    float radial_23 = 1.0f + r2_121 * _S10535;
    float2  _S10536 = make_float2 (radial_23);
    float _S10537 = _S10360 * u_126;
    float _S10538 = 2.0f * u_126;
    float _S10539 = _S10363 * u_126;
    float _S10540 = 2.0f * v_126;
    float2  _S10541 = _S10532 * make_float2 (radial_23) + make_float2 (_S10537 * v_126 + (*dist_coeffs_111)[int(5)] * (r2_121 + _S10538 * u_126) + (*dist_coeffs_111)[int(6)] * r2_121, _S10539 * v_126 + (*dist_coeffs_111)[int(4)] * (r2_121 + _S10540 * v_126) + (*dist_coeffs_111)[int(7)] * r2_121);
    float2  _S10542 = _S10541 + make_float2 ((*dist_coeffs_111)[int(8)] * _S10541.x + (*dist_coeffs_111)[int(9)] * _S10541.y, 0.0f);
    float _S10543 = fx_108 * _S10542.x + cx_103;
    float _S10544 = fy_108 * _S10542.y + cy_103;
    float _S10545 = s_primal_ctx_max_0(_S10368, _S10393);
    float _S10546 = s_primal_ctx_min_0(_S10368, _S10393);
    float _S10547 = s_primal_ctx_max_0(_S10369, _S10394);
    float _S10548 = s_primal_ctx_min_0(_S10369, _S10394);
    float _S10549 = s_primal_ctx_max_0(_S10545, _S10418);
    float _S10550 = s_primal_ctx_min_0(_S10546, _S10418);
    float _S10551 = s_primal_ctx_max_0(_S10547, _S10419);
    float _S10552 = s_primal_ctx_min_0(_S10548, _S10419);
    float _S10553 = s_primal_ctx_max_0(_S10549, _S10443);
    float _S10554 = s_primal_ctx_min_0(_S10550, _S10443);
    float _S10555 = s_primal_ctx_max_0(_S10551, _S10444);
    float _S10556 = s_primal_ctx_min_0(_S10552, _S10444);
    float _S10557 = s_primal_ctx_max_0(_S10553, _S10468);
    float _S10558 = s_primal_ctx_min_0(_S10554, _S10468);
    float _S10559 = s_primal_ctx_max_0(_S10555, _S10469);
    float _S10560 = s_primal_ctx_min_0(_S10556, _S10469);
    float _S10561 = s_primal_ctx_max_0(_S10557, _S10493);
    float _S10562 = s_primal_ctx_min_0(_S10558, _S10493);
    float _S10563 = s_primal_ctx_max_0(_S10559, _S10494);
    float _S10564 = s_primal_ctx_min_0(_S10560, _S10494);
    float _S10565 = s_primal_ctx_max_0(_S10561, _S10518);
    float _S10566 = s_primal_ctx_min_0(_S10562, _S10518);
    float _S10567 = s_primal_ctx_max_0(_S10563, _S10519);
    float _S10568 = s_primal_ctx_min_0(_S10564, _S10519);
    float _S10569 = mean_c_82.z;
    float _S10570 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S10571 = _S10570 * (_S10569 + length_1(mean_c_82));
    Matrix<float, 3, 3>  _S10572 = transpose_0(R_75);
    float3  _S10573 = mean_c_82 - - s_primal_ctx_mul_0(_S10572, t_74);
    float _S10574 = _S10573.x;
    float _S10575 = _S10573.y;
    float _S10576 = _S10573.z;
    float _S10577 = _S10574 * _S10574 + _S10575 * _S10575 + _S10576 * _S10576;
    float _S10578 = s_primal_ctx_sqrt_0(_S10577);
    float x_84 = _S10574 / _S10578;
    float3  _S10579 = make_float3 (x_84);
    float _S10580 = _S10578 * _S10578;
    float y_29 = _S10575 / _S10578;
    float z_26 = _S10576 / _S10578;
    float3  _S10581 = make_float3 (z_26);
    float _S10582 = - y_29;
    float3  _S10583 = make_float3 (_S10582);
    float z2_109 = z_26 * z_26;
    float fTmp0B_26 = -1.09254848957061768f * z_26;
    float fC1_26 = x_84 * x_84 - y_29 * y_29;
    float _S10584 = 2.0f * x_84;
    float fS1_26 = _S10584 * y_29;
    float pSH6_8 = 0.94617468118667603f * z2_109 - 0.31539157032966614f;
    float3  _S10585 = make_float3 (pSH6_8);
    float pSH7_8 = fTmp0B_26 * x_84;
    float3  _S10586 = make_float3 (pSH7_8);
    float pSH5_8 = fTmp0B_26 * y_29;
    float3  _S10587 = make_float3 (pSH5_8);
    float pSH8_8 = 0.54627424478530884f * fC1_26;
    float3  _S10588 = make_float3 (pSH8_8);
    float pSH4_8 = 0.54627424478530884f * fS1_26;
    float3  _S10589 = make_float3 (pSH4_8);
    float fTmp0C_26 = -2.28522896766662598f * z2_109 + 0.4570457935333252f;
    float fTmp1B_26 = 1.44530570507049561f * z_26;
    float _S10590 = 1.86588168144226074f * z2_109 - 1.11952900886535645f;
    float pSH12_8 = z_26 * _S10590;
    float3  _S10591 = make_float3 (pSH12_8);
    float pSH13_8 = fTmp0C_26 * x_84;
    float3  _S10592 = make_float3 (pSH13_8);
    float pSH11_8 = fTmp0C_26 * y_29;
    float3  _S10593 = make_float3 (pSH11_8);
    float pSH14_8 = fTmp1B_26 * fC1_26;
    float3  _S10594 = make_float3 (pSH14_8);
    float pSH10_8 = fTmp1B_26 * fS1_26;
    float3  _S10595 = make_float3 (pSH10_8);
    float pSH15_8 = -0.59004360437393188f * (x_84 * fC1_26 - y_29 * fS1_26);
    float3  _S10596 = make_float3 (pSH15_8);
    float pSH9_8 = -0.59004360437393188f * (x_84 * fS1_26 + y_29 * fC1_26);
    float3  _S10597 = make_float3 (pSH9_8);
    float3  _S10598 = make_float3 (0.0f);
    float3  _S10599 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10600;
    (&_S10600)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_26)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S10582) * (*sh_coeffs_26)[int(1)] + make_float3 (z_26) * (*sh_coeffs_26)[int(2)] - make_float3 (x_84) * (*sh_coeffs_26)[int(3)]) + (make_float3 (pSH4_8) * (*sh_coeffs_26)[int(4)] + make_float3 (pSH5_8) * (*sh_coeffs_26)[int(5)] + make_float3 (pSH6_8) * (*sh_coeffs_26)[int(6)] + make_float3 (pSH7_8) * (*sh_coeffs_26)[int(7)] + make_float3 (pSH8_8) * (*sh_coeffs_26)[int(8)]) + (make_float3 (pSH9_8) * (*sh_coeffs_26)[int(9)] + make_float3 (pSH10_8) * (*sh_coeffs_26)[int(10)] + make_float3 (pSH11_8) * (*sh_coeffs_26)[int(11)] + make_float3 (pSH12_8) * (*sh_coeffs_26)[int(12)] + make_float3 (pSH13_8) * (*sh_coeffs_26)[int(13)] + make_float3 (pSH14_8) * (*sh_coeffs_26)[int(14)] + make_float3 (pSH15_8) * (*sh_coeffs_26)[int(15)]) + make_float3 (0.5f);
    (&_S10600)->differential_0 = _S10599;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10601;
    (&_S10601)->primal_0 = _S10598;
    (&_S10601)->differential_0 = _S10599;
    s_bwd_prop_max_0(&_S10600, &_S10601, v_rgb_21);
    float3  _S10602 = _S10596 * _S10600.differential_0;
    float3  _S10603 = (*sh_coeffs_26)[int(15)] * _S10600.differential_0;
    float3  _S10604 = _S10594 * _S10600.differential_0;
    float3  _S10605 = (*sh_coeffs_26)[int(14)] * _S10600.differential_0;
    float3  _S10606 = _S10592 * _S10600.differential_0;
    float3  _S10607 = (*sh_coeffs_26)[int(13)] * _S10600.differential_0;
    float3  _S10608 = _S10591 * _S10600.differential_0;
    float3  _S10609 = (*sh_coeffs_26)[int(12)] * _S10600.differential_0;
    float3  _S10610 = _S10593 * _S10600.differential_0;
    float3  _S10611 = (*sh_coeffs_26)[int(11)] * _S10600.differential_0;
    float3  _S10612 = _S10595 * _S10600.differential_0;
    float3  _S10613 = (*sh_coeffs_26)[int(10)] * _S10600.differential_0;
    float3  _S10614 = _S10597 * _S10600.differential_0;
    float3  _S10615 = (*sh_coeffs_26)[int(9)] * _S10600.differential_0;
    float s_diff_fS2_T_8 = -0.59004360437393188f * (_S10615.x + _S10615.y + _S10615.z);
    float s_diff_fC2_T_8 = -0.59004360437393188f * (_S10603.x + _S10603.y + _S10603.z);
    float _S10616 = _S10613.x + _S10613.y + _S10613.z;
    float _S10617 = _S10605.x + _S10605.y + _S10605.z;
    float _S10618 = _S10611.x + _S10611.y + _S10611.z;
    float _S10619 = _S10607.x + _S10607.y + _S10607.z;
    float _S10620 = _S10609.x + _S10609.y + _S10609.z;
    float _S10621 = - s_diff_fC2_T_8;
    float3  _S10622 = _S10588 * _S10600.differential_0;
    float3  _S10623 = (*sh_coeffs_26)[int(8)] * _S10600.differential_0;
    float3  _S10624 = _S10586 * _S10600.differential_0;
    float3  _S10625 = (*sh_coeffs_26)[int(7)] * _S10600.differential_0;
    float3  _S10626 = _S10585 * _S10600.differential_0;
    float3  _S10627 = (*sh_coeffs_26)[int(6)] * _S10600.differential_0;
    float3  _S10628 = _S10587 * _S10600.differential_0;
    float3  _S10629 = (*sh_coeffs_26)[int(5)] * _S10600.differential_0;
    float3  _S10630 = _S10589 * _S10600.differential_0;
    float3  _S10631 = (*sh_coeffs_26)[int(4)] * _S10600.differential_0;
    float _S10632 = _S10629.x + _S10629.y + _S10629.z;
    float _S10633 = _S10625.x + _S10625.y + _S10625.z;
    float _S10634 = fTmp1B_26 * _S10616 + x_84 * s_diff_fS2_T_8 + y_29 * _S10621 + 0.54627424478530884f * (_S10631.x + _S10631.y + _S10631.z);
    float _S10635 = fTmp1B_26 * _S10617 + y_29 * s_diff_fS2_T_8 + x_84 * s_diff_fC2_T_8 + 0.54627424478530884f * (_S10623.x + _S10623.y + _S10623.z);
    float _S10636 = y_29 * - _S10635;
    float _S10637 = x_84 * _S10635;
    float _S10638 = z_26 * (1.86588168144226074f * (z_26 * _S10620) + -2.28522896766662598f * (y_29 * _S10618 + x_84 * _S10619) + 0.94617468118667603f * (_S10627.x + _S10627.y + _S10627.z));
    float3  _S10639 = make_float3 (0.48860251903533936f) * _S10600.differential_0;
    float3  _S10640 = - _S10639;
    float3  _S10641 = _S10579 * _S10640;
    float3  _S10642 = (*sh_coeffs_26)[int(3)] * _S10640;
    float3  _S10643 = _S10581 * _S10639;
    float3  _S10644 = (*sh_coeffs_26)[int(2)] * _S10639;
    float3  _S10645 = _S10583 * _S10639;
    float3  _S10646 = (*sh_coeffs_26)[int(1)] * _S10639;
    float _S10647 = (_S10590 * _S10620 + 1.44530570507049561f * (fS1_26 * _S10616 + fC1_26 * _S10617) + -1.09254848957061768f * (y_29 * _S10632 + x_84 * _S10633) + _S10638 + _S10638 + _S10644.x + _S10644.y + _S10644.z) / _S10580;
    float _S10648 = _S10578 * _S10647;
    float _S10649 = (fTmp0C_26 * _S10618 + fC1_26 * s_diff_fS2_T_8 + fS1_26 * _S10621 + fTmp0B_26 * _S10632 + _S10584 * _S10634 + _S10636 + _S10636 + - (_S10646.x + _S10646.y + _S10646.z)) / _S10580;
    float _S10650 = _S10578 * _S10649;
    float _S10651 = (fTmp0C_26 * _S10619 + fS1_26 * s_diff_fS2_T_8 + fC1_26 * s_diff_fC2_T_8 + fTmp0B_26 * _S10633 + 2.0f * (y_29 * _S10634) + _S10637 + _S10637 + _S10642.x + _S10642.y + _S10642.z) / _S10580;
    float _S10652 = _S10578 * _S10651;
    float _S10653 = _S10576 * - _S10647 + _S10575 * - _S10649 + _S10574 * - _S10651;
    DiffPair_float_0 _S10654;
    (&_S10654)->primal_0 = _S10577;
    (&_S10654)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S10654, _S10653);
    float _S10655 = _S10576 * _S10654.differential_0;
    float _S10656 = _S10575 * _S10654.differential_0;
    float _S10657 = _S10574 * _S10654.differential_0;
    float3  _S10658 = make_float3 (0.282094806432724f) * _S10600.differential_0;
    float3  _S10659 = make_float3 (_S10652 + _S10657 + _S10657, _S10650 + _S10656 + _S10656, _S10648 + _S10655 + _S10655);
    float3  _S10660 = - - _S10659;
    Matrix<float, 3, 3>  _S10661 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10662;
    (&_S10662)->primal_0 = _S10572;
    (&_S10662)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10663;
    (&_S10663)->primal_0 = t_74;
    (&_S10663)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S10662, &_S10663, _S10660);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10664 = _S10663;
    Matrix<float, 3, 3>  _S10665 = transpose_0(_S10662.differential_0);
    DiffPair_float_0 _S10666;
    (&_S10666)->primal_0 = _S10569;
    (&_S10666)->differential_0 = 0.0f;
    DiffPair_float_0 _S10667;
    (&_S10667)->primal_0 = _S10571;
    (&_S10667)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10666, &_S10667, 0.0f);
    float _S10668 = _S10570 * _S10667.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10669;
    (&_S10669)->primal_0 = mean_c_82;
    (&_S10669)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S10669, _S10668);
    float _S10670 = _S10666.differential_0 + _S10668;
    DiffPair_float_0 _S10671;
    (&_S10671)->primal_0 = _S10568;
    (&_S10671)->differential_0 = 0.0f;
    DiffPair_float_0 _S10672;
    (&_S10672)->primal_0 = _S10544;
    (&_S10672)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10671, &_S10672, 0.0f);
    DiffPair_float_0 _S10673;
    (&_S10673)->primal_0 = _S10567;
    (&_S10673)->differential_0 = 0.0f;
    DiffPair_float_0 _S10674;
    (&_S10674)->primal_0 = _S10544;
    (&_S10674)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10673, &_S10674, 0.0f);
    DiffPair_float_0 _S10675;
    (&_S10675)->primal_0 = _S10566;
    (&_S10675)->differential_0 = 0.0f;
    DiffPair_float_0 _S10676;
    (&_S10676)->primal_0 = _S10543;
    (&_S10676)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10675, &_S10676, 0.0f);
    DiffPair_float_0 _S10677;
    (&_S10677)->primal_0 = _S10565;
    (&_S10677)->differential_0 = 0.0f;
    DiffPair_float_0 _S10678;
    (&_S10678)->primal_0 = _S10543;
    (&_S10678)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10677, &_S10678, 0.0f);
    DiffPair_float_0 _S10679;
    (&_S10679)->primal_0 = _S10564;
    (&_S10679)->differential_0 = 0.0f;
    DiffPair_float_0 _S10680;
    (&_S10680)->primal_0 = _S10519;
    (&_S10680)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10679, &_S10680, _S10671.differential_0);
    DiffPair_float_0 _S10681;
    (&_S10681)->primal_0 = _S10563;
    (&_S10681)->differential_0 = 0.0f;
    DiffPair_float_0 _S10682;
    (&_S10682)->primal_0 = _S10519;
    (&_S10682)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10681, &_S10682, _S10673.differential_0);
    DiffPair_float_0 _S10683;
    (&_S10683)->primal_0 = _S10562;
    (&_S10683)->differential_0 = 0.0f;
    DiffPair_float_0 _S10684;
    (&_S10684)->primal_0 = _S10518;
    (&_S10684)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10683, &_S10684, _S10675.differential_0);
    DiffPair_float_0 _S10685;
    (&_S10685)->primal_0 = _S10561;
    (&_S10685)->differential_0 = 0.0f;
    DiffPair_float_0 _S10686;
    (&_S10686)->primal_0 = _S10518;
    (&_S10686)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10685, &_S10686, _S10677.differential_0);
    DiffPair_float_0 _S10687;
    (&_S10687)->primal_0 = _S10560;
    (&_S10687)->differential_0 = 0.0f;
    DiffPair_float_0 _S10688;
    (&_S10688)->primal_0 = _S10494;
    (&_S10688)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10687, &_S10688, _S10679.differential_0);
    DiffPair_float_0 _S10689;
    (&_S10689)->primal_0 = _S10559;
    (&_S10689)->differential_0 = 0.0f;
    DiffPair_float_0 _S10690;
    (&_S10690)->primal_0 = _S10494;
    (&_S10690)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10689, &_S10690, _S10681.differential_0);
    DiffPair_float_0 _S10691;
    (&_S10691)->primal_0 = _S10558;
    (&_S10691)->differential_0 = 0.0f;
    DiffPair_float_0 _S10692;
    (&_S10692)->primal_0 = _S10493;
    (&_S10692)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10691, &_S10692, _S10683.differential_0);
    DiffPair_float_0 _S10693;
    (&_S10693)->primal_0 = _S10557;
    (&_S10693)->differential_0 = 0.0f;
    DiffPair_float_0 _S10694;
    (&_S10694)->primal_0 = _S10493;
    (&_S10694)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10693, &_S10694, _S10685.differential_0);
    DiffPair_float_0 _S10695;
    (&_S10695)->primal_0 = _S10556;
    (&_S10695)->differential_0 = 0.0f;
    DiffPair_float_0 _S10696;
    (&_S10696)->primal_0 = _S10469;
    (&_S10696)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10695, &_S10696, _S10687.differential_0);
    DiffPair_float_0 _S10697;
    (&_S10697)->primal_0 = _S10555;
    (&_S10697)->differential_0 = 0.0f;
    DiffPair_float_0 _S10698;
    (&_S10698)->primal_0 = _S10469;
    (&_S10698)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10697, &_S10698, _S10689.differential_0);
    DiffPair_float_0 _S10699;
    (&_S10699)->primal_0 = _S10554;
    (&_S10699)->differential_0 = 0.0f;
    DiffPair_float_0 _S10700;
    (&_S10700)->primal_0 = _S10468;
    (&_S10700)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10699, &_S10700, _S10691.differential_0);
    DiffPair_float_0 _S10701;
    (&_S10701)->primal_0 = _S10553;
    (&_S10701)->differential_0 = 0.0f;
    DiffPair_float_0 _S10702;
    (&_S10702)->primal_0 = _S10468;
    (&_S10702)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10701, &_S10702, _S10693.differential_0);
    DiffPair_float_0 _S10703;
    (&_S10703)->primal_0 = _S10552;
    (&_S10703)->differential_0 = 0.0f;
    DiffPair_float_0 _S10704;
    (&_S10704)->primal_0 = _S10444;
    (&_S10704)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10703, &_S10704, _S10695.differential_0);
    DiffPair_float_0 _S10705;
    (&_S10705)->primal_0 = _S10551;
    (&_S10705)->differential_0 = 0.0f;
    DiffPair_float_0 _S10706;
    (&_S10706)->primal_0 = _S10444;
    (&_S10706)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10705, &_S10706, _S10697.differential_0);
    DiffPair_float_0 _S10707;
    (&_S10707)->primal_0 = _S10550;
    (&_S10707)->differential_0 = 0.0f;
    DiffPair_float_0 _S10708;
    (&_S10708)->primal_0 = _S10443;
    (&_S10708)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10707, &_S10708, _S10699.differential_0);
    DiffPair_float_0 _S10709;
    (&_S10709)->primal_0 = _S10549;
    (&_S10709)->differential_0 = 0.0f;
    DiffPair_float_0 _S10710;
    (&_S10710)->primal_0 = _S10443;
    (&_S10710)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10709, &_S10710, _S10701.differential_0);
    DiffPair_float_0 _S10711;
    (&_S10711)->primal_0 = _S10548;
    (&_S10711)->differential_0 = 0.0f;
    DiffPair_float_0 _S10712;
    (&_S10712)->primal_0 = _S10419;
    (&_S10712)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10711, &_S10712, _S10703.differential_0);
    DiffPair_float_0 _S10713;
    (&_S10713)->primal_0 = _S10547;
    (&_S10713)->differential_0 = 0.0f;
    DiffPair_float_0 _S10714;
    (&_S10714)->primal_0 = _S10419;
    (&_S10714)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10713, &_S10714, _S10705.differential_0);
    DiffPair_float_0 _S10715;
    (&_S10715)->primal_0 = _S10546;
    (&_S10715)->differential_0 = 0.0f;
    DiffPair_float_0 _S10716;
    (&_S10716)->primal_0 = _S10418;
    (&_S10716)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10715, &_S10716, _S10707.differential_0);
    DiffPair_float_0 _S10717;
    (&_S10717)->primal_0 = _S10545;
    (&_S10717)->differential_0 = 0.0f;
    DiffPair_float_0 _S10718;
    (&_S10718)->primal_0 = _S10418;
    (&_S10718)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10717, &_S10718, _S10709.differential_0);
    DiffPair_float_0 _S10719;
    (&_S10719)->primal_0 = _S10369;
    (&_S10719)->differential_0 = 0.0f;
    DiffPair_float_0 _S10720;
    (&_S10720)->primal_0 = _S10394;
    (&_S10720)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10719, &_S10720, _S10711.differential_0);
    DiffPair_float_0 _S10721;
    (&_S10721)->primal_0 = _S10369;
    (&_S10721)->differential_0 = 0.0f;
    DiffPair_float_0 _S10722;
    (&_S10722)->primal_0 = _S10394;
    (&_S10722)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10721, &_S10722, _S10713.differential_0);
    DiffPair_float_0 _S10723;
    (&_S10723)->primal_0 = _S10368;
    (&_S10723)->differential_0 = 0.0f;
    DiffPair_float_0 _S10724;
    (&_S10724)->primal_0 = _S10393;
    (&_S10724)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10723, &_S10724, _S10715.differential_0);
    DiffPair_float_0 _S10725;
    (&_S10725)->primal_0 = _S10368;
    (&_S10725)->differential_0 = 0.0f;
    DiffPair_float_0 _S10726;
    (&_S10726)->primal_0 = _S10393;
    (&_S10726)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10725, &_S10726, _S10717.differential_0);
    float _S10727 = fx_108 * (_S10676.differential_0 + _S10678.differential_0);
    float2  _S10728 = make_float2 (_S10727, fy_108 * (_S10672.differential_0 + _S10674.differential_0)) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10727, (*dist_coeffs_111)[int(9)] * _S10727);
    float2  _S10729 = _S10532 * _S10728;
    float2  _S10730 = _S10536 * _S10728;
    float _S10731 = (*dist_coeffs_111)[int(4)] * _S10728.y;
    float _S10732 = (*dist_coeffs_111)[int(5)] * _S10728.x;
    float _S10733 = _S10729.x + _S10729.y;
    float _S10734 = r2_121 * _S10733;
    float _S10735 = r2_121 * _S10734;
    float _S10736 = (*dist_coeffs_111)[int(7)] * _S10728.y + _S10731 + (*dist_coeffs_111)[int(6)] * _S10728.x + _S10732 + _S10535 * _S10733 + _S10534 * _S10734 + _S10533 * _S10735 + (*dist_coeffs_111)[int(3)] * (r2_121 * _S10735);
    float _S10737 = v_126 * _S10736;
    float _S10738 = u_126 * _S10736;
    float _S10739 = _S10540 * _S10731 + 2.0f * (v_126 * _S10731) + _S10539 * _S10728.y + _S10537 * _S10728.x + _S10737 + _S10737;
    float _S10740 = _S10363 * (v_126 * _S10728.y) + _S10538 * _S10732 + 2.0f * (u_126 * _S10732) + _S10360 * (v_126 * _S10728.x) + _S10738 + _S10738;
    FixedArray<float3 , 16>  _S10741;
    _S10741[int(0)] = _S10599;
    _S10741[int(1)] = _S10599;
    _S10741[int(2)] = _S10599;
    _S10741[int(3)] = _S10599;
    _S10741[int(4)] = _S10599;
    _S10741[int(5)] = _S10599;
    _S10741[int(6)] = _S10599;
    _S10741[int(7)] = _S10599;
    _S10741[int(8)] = _S10599;
    _S10741[int(9)] = _S10599;
    _S10741[int(10)] = _S10599;
    _S10741[int(11)] = _S10599;
    _S10741[int(12)] = _S10599;
    _S10741[int(13)] = _S10599;
    _S10741[int(14)] = _S10599;
    _S10741[int(15)] = _S10599;
    _S10741[int(7)] = _S10624;
    _S10741[int(0)] = _S10658;
    _S10741[int(1)] = _S10645;
    _S10741[int(2)] = _S10643;
    _S10741[int(3)] = _S10641;
    _S10741[int(4)] = _S10630;
    _S10741[int(5)] = _S10628;
    _S10741[int(6)] = _S10626;
    _S10741[int(15)] = _S10602;
    _S10741[int(8)] = _S10622;
    _S10741[int(9)] = _S10614;
    _S10741[int(10)] = _S10612;
    _S10741[int(11)] = _S10610;
    _S10741[int(12)] = _S10608;
    _S10741[int(13)] = _S10606;
    _S10741[int(14)] = _S10604;
    float3  _S10742 = _S10741[int(0)];
    float3  _S10743 = _S10741[int(1)];
    float3  _S10744 = _S10741[int(2)];
    float3  _S10745 = _S10741[int(3)];
    float3  _S10746 = _S10741[int(4)];
    float3  _S10747 = _S10741[int(5)];
    float3  _S10748 = _S10741[int(6)];
    float3  _S10749 = _S10741[int(7)];
    float3  _S10750 = _S10741[int(8)];
    float3  _S10751 = _S10741[int(9)];
    float3  _S10752 = _S10741[int(10)];
    float3  _S10753 = _S10741[int(11)];
    float3  _S10754 = _S10741[int(12)];
    float3  _S10755 = _S10741[int(13)];
    float3  _S10756 = _S10741[int(14)];
    float3  _S10757 = _S10741[int(15)];
    float3  _S10758 = _S10659 + _S10669.differential_0 + make_float3 (0.0f, 0.0f, _S10670);
    float _S10759 = _S10724.differential_0 + _S10726.differential_0;
    float _S10760 = _S10719.differential_0 + _S10721.differential_0;
    float _S10761 = _S10720.differential_0 + _S10722.differential_0;
    float _S10762 = _S10716.differential_0 + _S10718.differential_0;
    float _S10763 = _S10723.differential_0 + _S10725.differential_0;
    float _S10764 = _S10680.differential_0 + _S10682.differential_0;
    float _S10765 = _S10684.differential_0 + _S10686.differential_0;
    float _S10766 = _S10688.differential_0 + _S10690.differential_0;
    float _S10767 = _S10692.differential_0 + _S10694.differential_0;
    float _S10768 = _S10696.differential_0 + _S10698.differential_0;
    float _S10769 = _S10700.differential_0 + _S10702.differential_0;
    float _S10770 = _S10704.differential_0 + _S10706.differential_0;
    float _S10771 = _S10708.differential_0 + _S10710.differential_0;
    float _S10772 = _S10712.differential_0 + _S10714.differential_0;
    float2  _S10773 = _S10730 + make_float2 (_S10740, _S10739);
    float2  _S10774 = _S10520 * _S10773;
    float2  _S10775 = _S10531 * _S10773;
    float _S10776 = _S10774.x + _S10774.y;
    if(_S10524)
    {
        float _S10777 = _S10776 / _S10526;
        float _S10778 = _S10527 * - _S10777;
        float _S10779 = _S10523 * (0.3333333432674408f * - (_S10522 * _S10777));
        k_12 = _S10779 + _S10779;
        _S10525 = _S10778;
        _S10526 = 0.0f;
    }
    else
    {
        float _S10780 = _S10776 / _S10525;
        float _S10781 = _S10523 * - _S10780;
        k_12 = _S10521 * _S10780;
        _S10525 = 0.0f;
        _S10526 = _S10781;
    }
    DiffPair_float_0 _S10782;
    (&_S10782)->primal_0 = _S10521;
    (&_S10782)->differential_0 = 0.0f;
    DiffPair_float_0 _S10783;
    (&_S10783)->primal_0 = _S10522;
    (&_S10783)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10782, &_S10783, k_12);
    float _S10784 = _S10783.differential_0 + _S10525;
    float _S10785 = _S10782.differential_0 + _S10526;
    float2  _S10786 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10787;
    (&_S10787)->primal_0 = _S10520;
    (&_S10787)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10787, _S10785);
    float2  _S10788 = _S10787.differential_0 + _S10775;
    float _S10789 = fx_108 * _S10765;
    float2  _S10790 = make_float2 (_S10789, fy_108 * _S10764) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10789, (*dist_coeffs_111)[int(9)] * _S10789);
    float2  _S10791 = _S10507 * _S10790;
    float _S10792 = (*dist_coeffs_111)[int(4)] * _S10790.y;
    float _S10793 = (*dist_coeffs_111)[int(5)] * _S10790.x;
    float _S10794 = _S10791.x + _S10791.y;
    float _S10795 = r2_120 * _S10794;
    float _S10796 = r2_120 * _S10795;
    float _S10797 = (*dist_coeffs_111)[int(7)] * _S10790.y + _S10792 + (*dist_coeffs_111)[int(6)] * _S10790.x + _S10793 + _S10510 * _S10794 + _S10509 * _S10795 + _S10508 * _S10796 + (*dist_coeffs_111)[int(3)] * (r2_120 * _S10796);
    float _S10798 = v_125 * _S10797;
    float _S10799 = u_125 * _S10797;
    float3  _S10800 = make_float3 (_S10788.x, _S10788.y, _S10784);
    float2  _S10801 = _S10511 * _S10790 + make_float2 (_S10363 * (v_125 * _S10790.y) + _S10513 * _S10793 + 2.0f * (u_125 * _S10793) + _S10360 * (v_125 * _S10790.x) + _S10799 + _S10799, _S10515 * _S10792 + 2.0f * (v_125 * _S10792) + _S10514 * _S10790.y + _S10512 * _S10790.x + _S10798 + _S10798);
    float2  _S10802 = _S10495 * _S10801;
    float2  _S10803 = _S10506 * _S10801;
    float _S10804 = _S10802.x + _S10802.y;
    if(_S10499)
    {
        float _S10805 = _S10804 / _S10501;
        float _S10806 = _S10502 * - _S10805;
        float _S10807 = _S10498 * (0.3333333432674408f * - (_S10497 * _S10805));
        k_12 = _S10807 + _S10807;
        _S10500 = _S10806;
        _S10501 = 0.0f;
    }
    else
    {
        float _S10808 = _S10804 / _S10500;
        float _S10809 = _S10498 * - _S10808;
        k_12 = _S10496 * _S10808;
        _S10500 = 0.0f;
        _S10501 = _S10809;
    }
    DiffPair_float_0 _S10810;
    (&_S10810)->primal_0 = _S10496;
    (&_S10810)->differential_0 = 0.0f;
    DiffPair_float_0 _S10811;
    (&_S10811)->primal_0 = _S10497;
    (&_S10811)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10810, &_S10811, k_12);
    float _S10812 = _S10811.differential_0 + _S10500;
    float _S10813 = _S10810.differential_0 + _S10501;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10814;
    (&_S10814)->primal_0 = _S10495;
    (&_S10814)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10814, _S10813);
    float2  _S10815 = _S10814.differential_0 + _S10803;
    float _S10816 = fx_108 * _S10767;
    float2  _S10817 = make_float2 (_S10816, fy_108 * _S10766) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10816, (*dist_coeffs_111)[int(9)] * _S10816);
    float2  _S10818 = _S10482 * _S10817;
    float _S10819 = (*dist_coeffs_111)[int(4)] * _S10817.y;
    float _S10820 = (*dist_coeffs_111)[int(5)] * _S10817.x;
    float _S10821 = _S10818.x + _S10818.y;
    float _S10822 = r2_119 * _S10821;
    float _S10823 = r2_119 * _S10822;
    float _S10824 = (*dist_coeffs_111)[int(7)] * _S10817.y + _S10819 + (*dist_coeffs_111)[int(6)] * _S10817.x + _S10820 + _S10485 * _S10821 + _S10484 * _S10822 + _S10483 * _S10823 + (*dist_coeffs_111)[int(3)] * (r2_119 * _S10823);
    float _S10825 = v_124 * _S10824;
    float _S10826 = u_124 * _S10824;
    float3  _S10827 = make_float3 (_S10815.x, _S10815.y, _S10812);
    float2  _S10828 = _S10486 * _S10817 + make_float2 (_S10363 * (v_124 * _S10817.y) + _S10488 * _S10820 + 2.0f * (u_124 * _S10820) + _S10360 * (v_124 * _S10817.x) + _S10826 + _S10826, _S10490 * _S10819 + 2.0f * (v_124 * _S10819) + _S10489 * _S10817.y + _S10487 * _S10817.x + _S10825 + _S10825);
    float2  _S10829 = _S10470 * _S10828;
    float2  _S10830 = _S10481 * _S10828;
    float _S10831 = _S10829.x + _S10829.y;
    if(_S10474)
    {
        float _S10832 = _S10831 / _S10476;
        float _S10833 = _S10477 * - _S10832;
        float _S10834 = _S10473 * (0.3333333432674408f * - (_S10472 * _S10832));
        k_12 = _S10834 + _S10834;
        _S10475 = _S10833;
        _S10476 = 0.0f;
    }
    else
    {
        float _S10835 = _S10831 / _S10475;
        float _S10836 = _S10473 * - _S10835;
        k_12 = _S10471 * _S10835;
        _S10475 = 0.0f;
        _S10476 = _S10836;
    }
    DiffPair_float_0 _S10837;
    (&_S10837)->primal_0 = _S10471;
    (&_S10837)->differential_0 = 0.0f;
    DiffPair_float_0 _S10838;
    (&_S10838)->primal_0 = _S10472;
    (&_S10838)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10837, &_S10838, k_12);
    float _S10839 = _S10838.differential_0 + _S10475;
    float _S10840 = _S10837.differential_0 + _S10476;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10841;
    (&_S10841)->primal_0 = _S10470;
    (&_S10841)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10841, _S10840);
    float2  _S10842 = _S10841.differential_0 + _S10830;
    float _S10843 = fx_108 * _S10769;
    float2  _S10844 = make_float2 (_S10843, fy_108 * _S10768) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10843, (*dist_coeffs_111)[int(9)] * _S10843);
    float2  _S10845 = _S10457 * _S10844;
    float _S10846 = (*dist_coeffs_111)[int(4)] * _S10844.y;
    float _S10847 = (*dist_coeffs_111)[int(5)] * _S10844.x;
    float _S10848 = _S10845.x + _S10845.y;
    float _S10849 = r2_118 * _S10848;
    float _S10850 = r2_118 * _S10849;
    float _S10851 = (*dist_coeffs_111)[int(7)] * _S10844.y + _S10846 + (*dist_coeffs_111)[int(6)] * _S10844.x + _S10847 + _S10460 * _S10848 + _S10459 * _S10849 + _S10458 * _S10850 + (*dist_coeffs_111)[int(3)] * (r2_118 * _S10850);
    float _S10852 = v_123 * _S10851;
    float _S10853 = u_123 * _S10851;
    float3  _S10854 = make_float3 (_S10842.x, _S10842.y, _S10839);
    float2  _S10855 = _S10461 * _S10844 + make_float2 (_S10363 * (v_123 * _S10844.y) + _S10463 * _S10847 + 2.0f * (u_123 * _S10847) + _S10360 * (v_123 * _S10844.x) + _S10853 + _S10853, _S10465 * _S10846 + 2.0f * (v_123 * _S10846) + _S10464 * _S10844.y + _S10462 * _S10844.x + _S10852 + _S10852);
    float2  _S10856 = _S10445 * _S10855;
    float2  _S10857 = _S10456 * _S10855;
    float _S10858 = _S10856.x + _S10856.y;
    if(_S10449)
    {
        float _S10859 = _S10858 / _S10451;
        float _S10860 = _S10452 * - _S10859;
        float _S10861 = _S10448 * (0.3333333432674408f * - (_S10447 * _S10859));
        k_12 = _S10861 + _S10861;
        _S10450 = _S10860;
        _S10451 = 0.0f;
    }
    else
    {
        float _S10862 = _S10858 / _S10450;
        float _S10863 = _S10448 * - _S10862;
        k_12 = _S10446 * _S10862;
        _S10450 = 0.0f;
        _S10451 = _S10863;
    }
    DiffPair_float_0 _S10864;
    (&_S10864)->primal_0 = _S10446;
    (&_S10864)->differential_0 = 0.0f;
    DiffPair_float_0 _S10865;
    (&_S10865)->primal_0 = _S10447;
    (&_S10865)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10864, &_S10865, k_12);
    float _S10866 = _S10865.differential_0 + _S10450;
    float _S10867 = _S10864.differential_0 + _S10451;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10868;
    (&_S10868)->primal_0 = _S10445;
    (&_S10868)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10868, _S10867);
    float2  _S10869 = _S10868.differential_0 + _S10857;
    float _S10870 = fx_108 * _S10771;
    float2  _S10871 = make_float2 (_S10870, fy_108 * _S10770) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10870, (*dist_coeffs_111)[int(9)] * _S10870);
    float2  _S10872 = _S10432 * _S10871;
    float _S10873 = (*dist_coeffs_111)[int(4)] * _S10871.y;
    float _S10874 = (*dist_coeffs_111)[int(5)] * _S10871.x;
    float _S10875 = _S10872.x + _S10872.y;
    float _S10876 = r2_117 * _S10875;
    float _S10877 = r2_117 * _S10876;
    float _S10878 = (*dist_coeffs_111)[int(7)] * _S10871.y + _S10873 + (*dist_coeffs_111)[int(6)] * _S10871.x + _S10874 + _S10435 * _S10875 + _S10434 * _S10876 + _S10433 * _S10877 + (*dist_coeffs_111)[int(3)] * (r2_117 * _S10877);
    float _S10879 = v_122 * _S10878;
    float _S10880 = u_122 * _S10878;
    float3  _S10881 = make_float3 (_S10869.x, _S10869.y, _S10866);
    float2  _S10882 = _S10436 * _S10871 + make_float2 (_S10363 * (v_122 * _S10871.y) + _S10438 * _S10874 + 2.0f * (u_122 * _S10874) + _S10360 * (v_122 * _S10871.x) + _S10880 + _S10880, _S10440 * _S10873 + 2.0f * (v_122 * _S10873) + _S10439 * _S10871.y + _S10437 * _S10871.x + _S10879 + _S10879);
    float2  _S10883 = _S10420 * _S10882;
    float2  _S10884 = _S10431 * _S10882;
    float _S10885 = _S10883.x + _S10883.y;
    if(_S10424)
    {
        float _S10886 = _S10885 / _S10426;
        float _S10887 = _S10427 * - _S10886;
        float _S10888 = _S10423 * (0.3333333432674408f * - (_S10422 * _S10886));
        k_12 = _S10888 + _S10888;
        _S10425 = _S10887;
        _S10426 = 0.0f;
    }
    else
    {
        float _S10889 = _S10885 / _S10425;
        float _S10890 = _S10423 * - _S10889;
        k_12 = _S10421 * _S10889;
        _S10425 = 0.0f;
        _S10426 = _S10890;
    }
    DiffPair_float_0 _S10891;
    (&_S10891)->primal_0 = _S10421;
    (&_S10891)->differential_0 = 0.0f;
    DiffPair_float_0 _S10892;
    (&_S10892)->primal_0 = _S10422;
    (&_S10892)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10891, &_S10892, k_12);
    float _S10893 = _S10892.differential_0 + _S10425;
    float _S10894 = _S10891.differential_0 + _S10426;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10895;
    (&_S10895)->primal_0 = _S10420;
    (&_S10895)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10895, _S10894);
    float2  _S10896 = _S10895.differential_0 + _S10884;
    float _S10897 = fx_108 * _S10762;
    float2  _S10898 = make_float2 (_S10897, fy_108 * _S10772) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10897, (*dist_coeffs_111)[int(9)] * _S10897);
    float2  _S10899 = _S10407 * _S10898;
    float _S10900 = (*dist_coeffs_111)[int(4)] * _S10898.y;
    float _S10901 = (*dist_coeffs_111)[int(5)] * _S10898.x;
    float _S10902 = _S10899.x + _S10899.y;
    float _S10903 = r2_116 * _S10902;
    float _S10904 = r2_116 * _S10903;
    float _S10905 = (*dist_coeffs_111)[int(7)] * _S10898.y + _S10900 + (*dist_coeffs_111)[int(6)] * _S10898.x + _S10901 + _S10410 * _S10902 + _S10409 * _S10903 + _S10408 * _S10904 + (*dist_coeffs_111)[int(3)] * (r2_116 * _S10904);
    float _S10906 = v_121 * _S10905;
    float _S10907 = u_121 * _S10905;
    float3  _S10908 = make_float3 (_S10896.x, _S10896.y, _S10893);
    float2  _S10909 = _S10411 * _S10898 + make_float2 (_S10363 * (v_121 * _S10898.y) + _S10413 * _S10901 + 2.0f * (u_121 * _S10901) + _S10360 * (v_121 * _S10898.x) + _S10907 + _S10907, _S10415 * _S10900 + 2.0f * (v_121 * _S10900) + _S10414 * _S10898.y + _S10412 * _S10898.x + _S10906 + _S10906);
    float2  _S10910 = _S10395 * _S10909;
    float2  _S10911 = _S10406 * _S10909;
    float _S10912 = _S10910.x + _S10910.y;
    if(_S10399)
    {
        float _S10913 = _S10912 / _S10401;
        float _S10914 = _S10402 * - _S10913;
        float _S10915 = _S10398 * (0.3333333432674408f * - (_S10397 * _S10913));
        k_12 = _S10915 + _S10915;
        _S10400 = _S10914;
        _S10401 = 0.0f;
    }
    else
    {
        float _S10916 = _S10912 / _S10400;
        float _S10917 = _S10398 * - _S10916;
        k_12 = _S10396 * _S10916;
        _S10400 = 0.0f;
        _S10401 = _S10917;
    }
    DiffPair_float_0 _S10918;
    (&_S10918)->primal_0 = _S10396;
    (&_S10918)->differential_0 = 0.0f;
    DiffPair_float_0 _S10919;
    (&_S10919)->primal_0 = _S10397;
    (&_S10919)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10918, &_S10919, k_12);
    float _S10920 = _S10919.differential_0 + _S10400;
    float _S10921 = _S10918.differential_0 + _S10401;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10922;
    (&_S10922)->primal_0 = _S10395;
    (&_S10922)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10922, _S10921);
    float2  _S10923 = _S10922.differential_0 + _S10911;
    float _S10924 = fx_108 * _S10759;
    float2  _S10925 = make_float2 (_S10924, fy_108 * _S10761) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10924, (*dist_coeffs_111)[int(9)] * _S10924);
    float2  _S10926 = _S10382 * _S10925;
    float _S10927 = (*dist_coeffs_111)[int(4)] * _S10925.y;
    float _S10928 = (*dist_coeffs_111)[int(5)] * _S10925.x;
    float _S10929 = _S10926.x + _S10926.y;
    float _S10930 = r2_115 * _S10929;
    float _S10931 = r2_115 * _S10930;
    float _S10932 = (*dist_coeffs_111)[int(7)] * _S10925.y + _S10927 + (*dist_coeffs_111)[int(6)] * _S10925.x + _S10928 + _S10385 * _S10929 + _S10384 * _S10930 + _S10383 * _S10931 + (*dist_coeffs_111)[int(3)] * (r2_115 * _S10931);
    float _S10933 = v_120 * _S10932;
    float _S10934 = u_120 * _S10932;
    float3  _S10935 = make_float3 (_S10923.x, _S10923.y, _S10920);
    float2  _S10936 = _S10386 * _S10925 + make_float2 (_S10363 * (v_120 * _S10925.y) + _S10388 * _S10928 + 2.0f * (u_120 * _S10928) + _S10360 * (v_120 * _S10925.x) + _S10934 + _S10934, _S10390 * _S10927 + 2.0f * (v_120 * _S10927) + _S10389 * _S10925.y + _S10387 * _S10925.x + _S10933 + _S10933);
    float2  _S10937 = _S10370 * _S10936;
    float2  _S10938 = _S10381 * _S10936;
    float _S10939 = _S10937.x + _S10937.y;
    if(_S10374)
    {
        float _S10940 = _S10939 / _S10376;
        float _S10941 = _S10377 * - _S10940;
        float _S10942 = _S10373 * (0.3333333432674408f * - (_S10372 * _S10940));
        k_12 = _S10942 + _S10942;
        _S10375 = _S10941;
        _S10376 = 0.0f;
    }
    else
    {
        float _S10943 = _S10939 / _S10375;
        float _S10944 = _S10373 * - _S10943;
        k_12 = _S10371 * _S10943;
        _S10375 = 0.0f;
        _S10376 = _S10944;
    }
    DiffPair_float_0 _S10945;
    (&_S10945)->primal_0 = _S10371;
    (&_S10945)->differential_0 = 0.0f;
    DiffPair_float_0 _S10946;
    (&_S10946)->primal_0 = _S10372;
    (&_S10946)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10945, &_S10946, k_12);
    float _S10947 = _S10946.differential_0 + _S10375;
    float _S10948 = _S10945.differential_0 + _S10376;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10949;
    (&_S10949)->primal_0 = _S10370;
    (&_S10949)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10949, _S10948);
    float2  _S10950 = _S10949.differential_0 + _S10938;
    float _S10951 = fx_108 * _S10763;
    float2  _S10952 = make_float2 (_S10951, fy_108 * _S10760) + make_float2 ((*dist_coeffs_111)[int(8)] * _S10951, (*dist_coeffs_111)[int(9)] * _S10951);
    float2  _S10953 = _S10355 * _S10952;
    float _S10954 = (*dist_coeffs_111)[int(4)] * _S10952.y;
    float _S10955 = (*dist_coeffs_111)[int(5)] * _S10952.x;
    float _S10956 = _S10953.x + _S10953.y;
    float _S10957 = r2_114 * _S10956;
    float _S10958 = r2_114 * _S10957;
    float _S10959 = (*dist_coeffs_111)[int(7)] * _S10952.y + _S10954 + (*dist_coeffs_111)[int(6)] * _S10952.x + _S10955 + _S10358 * _S10956 + _S10357 * _S10957 + _S10356 * _S10958 + (*dist_coeffs_111)[int(3)] * (r2_114 * _S10958);
    float _S10960 = v_119 * _S10959;
    float _S10961 = u_119 * _S10959;
    float3  _S10962 = make_float3 (_S10950.x, _S10950.y, _S10947);
    float2  _S10963 = _S10359 * _S10952 + make_float2 (_S10363 * (v_119 * _S10952.y) + _S10362 * _S10955 + 2.0f * (u_119 * _S10955) + _S10360 * (v_119 * _S10952.x) + _S10961 + _S10961, _S10365 * _S10954 + 2.0f * (v_119 * _S10954) + _S10364 * _S10952.y + _S10361 * _S10952.x + _S10960 + _S10960);
    float2  _S10964 = _S10343 * _S10963;
    float2  _S10965 = _S10354 * _S10963;
    float _S10966 = _S10964.x + _S10964.y;
    if(_S10347)
    {
        float _S10967 = _S10966 / _S10349;
        float _S10968 = _S10350 * - _S10967;
        float _S10969 = _S10346 * (0.3333333432674408f * - (_S10345 * _S10967));
        k_12 = _S10969 + _S10969;
        _S10348 = _S10968;
        _S10349 = 0.0f;
    }
    else
    {
        float _S10970 = _S10966 / _S10348;
        float _S10971 = _S10346 * - _S10970;
        k_12 = _S10344 * _S10970;
        _S10348 = 0.0f;
        _S10349 = _S10971;
    }
    DiffPair_float_0 _S10972;
    (&_S10972)->primal_0 = _S10344;
    (&_S10972)->differential_0 = 0.0f;
    DiffPair_float_0 _S10973;
    (&_S10973)->primal_0 = _S10345;
    (&_S10973)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10972, &_S10973, k_12);
    float _S10974 = _S10973.differential_0 + _S10348;
    float _S10975 = _S10972.differential_0 + _S10349;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10976;
    (&_S10976)->primal_0 = _S10343;
    (&_S10976)->differential_0 = _S10786;
    s_bwd_length_impl_0(&_S10976, _S10975);
    float2  _S10977 = _S10976.differential_0 + _S10965;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10978;
    (&_S10978)->primal_0 = R_75;
    (&_S10978)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10979;
    (&_S10979)->primal_0 = _S10342;
    (&_S10979)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S10978, &_S10979, _S10758);
    DiffPair_float_0 _S10980;
    (&_S10980)->primal_0 = _S10339;
    (&_S10980)->differential_0 = 0.0f;
    DiffPair_float_0 _S10981;
    (&_S10981)->primal_0 = _S10341;
    (&_S10981)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10980, &_S10981, 0.0f);
    DiffPair_float_0 _S10982;
    (&_S10982)->primal_0 = _S10338;
    (&_S10982)->differential_0 = 0.0f;
    DiffPair_float_0 _S10983;
    (&_S10983)->primal_0 = _S10341;
    (&_S10983)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10982, &_S10983, 0.0f);
    float _S10984 = _S10981.differential_0 + _S10983.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10985;
    (&_S10985)->primal_0 = _S10340;
    (&_S10985)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S10985, _S10984);
    float3  _S10986 = _S10985.differential_0 + _S10800;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10987;
    (&_S10987)->primal_0 = R_75;
    (&_S10987)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10988;
    (&_S10988)->primal_0 = pos_i_13;
    (&_S10988)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S10987, &_S10988, _S10986);
    DiffPair_float_0 _S10989;
    (&_S10989)->primal_0 = _S10335;
    (&_S10989)->differential_0 = 0.0f;
    DiffPair_float_0 _S10990;
    (&_S10990)->primal_0 = _S10337;
    (&_S10990)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10989, &_S10990, _S10980.differential_0);
    DiffPair_float_0 _S10991;
    (&_S10991)->primal_0 = _S10334;
    (&_S10991)->differential_0 = 0.0f;
    DiffPair_float_0 _S10992;
    (&_S10992)->primal_0 = _S10337;
    (&_S10992)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10991, &_S10992, _S10982.differential_0);
    float _S10993 = _S10990.differential_0 + _S10992.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10994;
    (&_S10994)->primal_0 = _S10336;
    (&_S10994)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S10994, _S10993);
    float3  _S10995 = _S10994.differential_0 + _S10827;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10996;
    (&_S10996)->primal_0 = R_75;
    (&_S10996)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10997;
    (&_S10997)->primal_0 = pos_i_12;
    (&_S10997)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S10996, &_S10997, _S10995);
    DiffPair_float_0 _S10998;
    (&_S10998)->primal_0 = _S10331;
    (&_S10998)->differential_0 = 0.0f;
    DiffPair_float_0 _S10999;
    (&_S10999)->primal_0 = _S10333;
    (&_S10999)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10998, &_S10999, _S10989.differential_0);
    DiffPair_float_0 _S11000;
    (&_S11000)->primal_0 = _S10330;
    (&_S11000)->differential_0 = 0.0f;
    DiffPair_float_0 _S11001;
    (&_S11001)->primal_0 = _S10333;
    (&_S11001)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11000, &_S11001, _S10991.differential_0);
    float _S11002 = _S10999.differential_0 + _S11001.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11003;
    (&_S11003)->primal_0 = _S10332;
    (&_S11003)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S11003, _S11002);
    float3  _S11004 = _S11003.differential_0 + _S10854;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11005;
    (&_S11005)->primal_0 = R_75;
    (&_S11005)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11006;
    (&_S11006)->primal_0 = pos_i_11;
    (&_S11006)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S11005, &_S11006, _S11004);
    DiffPair_float_0 _S11007;
    (&_S11007)->primal_0 = _S10327;
    (&_S11007)->differential_0 = 0.0f;
    DiffPair_float_0 _S11008;
    (&_S11008)->primal_0 = _S10329;
    (&_S11008)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11007, &_S11008, _S10998.differential_0);
    DiffPair_float_0 _S11009;
    (&_S11009)->primal_0 = _S10326;
    (&_S11009)->differential_0 = 0.0f;
    DiffPair_float_0 _S11010;
    (&_S11010)->primal_0 = _S10329;
    (&_S11010)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11009, &_S11010, _S11000.differential_0);
    float _S11011 = _S11008.differential_0 + _S11010.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11012;
    (&_S11012)->primal_0 = _S10328;
    (&_S11012)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S11012, _S11011);
    float3  _S11013 = _S11012.differential_0 + _S10881;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11014;
    (&_S11014)->primal_0 = R_75;
    (&_S11014)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11015;
    (&_S11015)->primal_0 = pos_i_10;
    (&_S11015)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S11014, &_S11015, _S11013);
    DiffPair_float_0 _S11016;
    (&_S11016)->primal_0 = _S10323;
    (&_S11016)->differential_0 = 0.0f;
    DiffPair_float_0 _S11017;
    (&_S11017)->primal_0 = _S10325;
    (&_S11017)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11016, &_S11017, _S11007.differential_0);
    DiffPair_float_0 _S11018;
    (&_S11018)->primal_0 = _S10322;
    (&_S11018)->differential_0 = 0.0f;
    DiffPair_float_0 _S11019;
    (&_S11019)->primal_0 = _S10325;
    (&_S11019)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11018, &_S11019, _S11009.differential_0);
    float _S11020 = _S11017.differential_0 + _S11019.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11021;
    (&_S11021)->primal_0 = _S10324;
    (&_S11021)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S11021, _S11020);
    float3  _S11022 = _S11021.differential_0 + _S10908;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11023;
    (&_S11023)->primal_0 = R_75;
    (&_S11023)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11024;
    (&_S11024)->primal_0 = pos_i_9;
    (&_S11024)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S11023, &_S11024, _S11022);
    DiffPair_float_0 _S11025;
    (&_S11025)->primal_0 = _S10319;
    (&_S11025)->differential_0 = 0.0f;
    DiffPair_float_0 _S11026;
    (&_S11026)->primal_0 = _S10321;
    (&_S11026)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11025, &_S11026, _S11016.differential_0);
    DiffPair_float_0 _S11027;
    (&_S11027)->primal_0 = _S10318;
    (&_S11027)->differential_0 = 0.0f;
    DiffPair_float_0 _S11028;
    (&_S11028)->primal_0 = _S10321;
    (&_S11028)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11027, &_S11028, _S11018.differential_0);
    float _S11029 = _S11026.differential_0 + _S11028.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11030;
    (&_S11030)->primal_0 = _S10320;
    (&_S11030)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S11030, _S11029);
    float3  _S11031 = _S11030.differential_0 + _S10935;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11032;
    (&_S11032)->primal_0 = R_75;
    (&_S11032)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11033;
    (&_S11033)->primal_0 = pos_i_8;
    (&_S11033)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S11032, &_S11033, _S11031);
    DiffPair_float_0 _S11034;
    (&_S11034)->primal_0 = _S10315;
    (&_S11034)->differential_0 = 0.0f;
    DiffPair_float_0 _S11035;
    (&_S11035)->primal_0 = _S10317;
    (&_S11035)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11034, &_S11035, _S11025.differential_0);
    DiffPair_float_0 _S11036;
    (&_S11036)->primal_0 = _S10314;
    (&_S11036)->differential_0 = 0.0f;
    DiffPair_float_0 _S11037;
    (&_S11037)->primal_0 = _S10317;
    (&_S11037)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11036, &_S11037, _S11027.differential_0);
    float _S11038 = _S11035.differential_0 + _S11037.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11039;
    (&_S11039)->primal_0 = _S10316;
    (&_S11039)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S11039, _S11038);
    float3  _S11040 = _S11039.differential_0 + _S10962;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11041;
    (&_S11041)->primal_0 = R_75;
    (&_S11041)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11042;
    (&_S11042)->primal_0 = pos_i_7;
    (&_S11042)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S11041, &_S11042, _S11040);
    DiffPair_float_0 _S11043;
    (&_S11043)->primal_0 = 0.0f;
    (&_S11043)->differential_0 = 0.0f;
    DiffPair_float_0 _S11044;
    (&_S11044)->primal_0 = _S10313;
    (&_S11044)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11043, &_S11044, _S11034.differential_0);
    DiffPair_float_0 _S11045;
    (&_S11045)->primal_0 = 1.00000001504746622e+30f;
    (&_S11045)->differential_0 = 0.0f;
    DiffPair_float_0 _S11046;
    (&_S11046)->primal_0 = _S10313;
    (&_S11046)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11045, &_S11046, _S11036.differential_0);
    float _S11047 = _S11044.differential_0 + _S11046.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11048;
    (&_S11048)->primal_0 = _S10312;
    (&_S11048)->differential_0 = _S10599;
    s_bwd_length_impl_1(&_S11048, _S11047);
    float3  _S11049 = _S11048.differential_0 + make_float3 (_S10977.x, _S10977.y, _S10974);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S11050;
    (&_S11050)->primal_0 = R_75;
    (&_S11050)->differential_0 = _S10661;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11051;
    (&_S11051)->primal_0 = pos_5;
    (&_S11051)->differential_0 = _S10599;
    s_bwd_prop_mul_1(&_S11050, &_S11051, _S11049);
    float3  _S11052 = _S10758 + _S10986 + _S10995 + _S11004 + _S11013 + _S11022 + _S11031 + _S11040 + _S11049 + _S10664.differential_0;
    Matrix<float, 3, 3>  _S11053 = _S10978.differential_0 + _S10987.differential_0 + _S10996.differential_0 + _S11005.differential_0 + _S11014.differential_0 + _S11023.differential_0 + _S11032.differential_0 + _S11041.differential_0 + _S11050.differential_0 + _S10665;
    (*v_densities_1)[int(0)] = 0.0f;
    (*v_densities_1)[int(1)] = 0.0f;
    (*v_densities_1)[int(2)] = 0.0f;
    (*v_densities_1)[int(3)] = 0.0f;
    (*v_densities_1)[int(4)] = 0.0f;
    (*v_densities_1)[int(5)] = 0.0f;
    (*v_densities_1)[int(6)] = 0.0f;
    (*v_densities_1)[int(7)] = 0.0f;
    (*v_sh_coeffs_8)[int(0)] = _S10742;
    (*v_sh_coeffs_8)[int(1)] = _S10743;
    (*v_sh_coeffs_8)[int(2)] = _S10744;
    (*v_sh_coeffs_8)[int(3)] = _S10745;
    (*v_sh_coeffs_8)[int(4)] = _S10746;
    (*v_sh_coeffs_8)[int(5)] = _S10747;
    (*v_sh_coeffs_8)[int(6)] = _S10748;
    (*v_sh_coeffs_8)[int(7)] = _S10749;
    (*v_sh_coeffs_8)[int(8)] = _S10750;
    (*v_sh_coeffs_8)[int(9)] = _S10751;
    (*v_sh_coeffs_8)[int(10)] = _S10752;
    (*v_sh_coeffs_8)[int(11)] = _S10753;
    (*v_sh_coeffs_8)[int(12)] = _S10754;
    (*v_sh_coeffs_8)[int(13)] = _S10755;
    (*v_sh_coeffs_8)[int(14)] = _S10756;
    (*v_sh_coeffs_8)[int(15)] = _S10757;
    *v_R_24 = _S11053;
    *v_t_23 = _S11052;
    return;
}

inline __device__ void _d_abs_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_17, float3  dOut_20)
{
    float3  _S11054 = _slang_select(((*dpx_17).primal_0) > make_float3 (0.0f), make_float3 (1.0f),_slang_select(((*dpx_17).primal_0) == make_float3 (0.0f), make_float3 (0.0f),make_float3 (-1.0f))) * dOut_20;
    dpx_17->primal_0 = (*dpx_17).primal_0;
    dpx_17->differential_0 = _S11054;
    return;
}

inline __device__ float3  abs_0(float3  x_85)
{
    float3  result_14;
    int i_10 = int(0);
    for(;;)
    {
        if(i_10 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_14, i_10) = (F32_abs((_slang_vector_get_element(x_85, i_10))));
        i_10 = i_10 + int(1);
    }
    return result_14;
}

inline __device__ bool ray_aabb_intersection(float3  ray_o_10, float3  ray_d_10, float3  center_0, float radius_0, float * t0_0, float * t1_0)
{
    float3  m_2 = make_float3 (1.0f) / ray_d_10;
    float3  k_13 = abs_0(m_2) * make_float3 (radius_0);
    float3  _S11055 = - (m_2 * (ray_o_10 - center_0));
    float3  ta_0 = _S11055 - k_13;
    float3  tb_0 = _S11055 + k_13;
    *t0_0 = (F32_max(((F32_max((ta_0.x), (ta_0.y)))), ((F32_max((ta_0.z), (0.0f))))));
    float _S11056 = (F32_min(((F32_min((tb_0.x), (tb_0.y)))), (tb_0.z)));
    *t1_0 = _S11056;
    return (*t0_0) < _S11056;
}

inline __device__ void _d_lerp_0(DiffPair_float_0 * dpx_18, DiffPair_float_0 * dpy_6, DiffPair_float_0 * dps_0, float dOut_21)
{
    float _S11057 = (1.0f - (*dps_0).primal_0) * dOut_21;
    dpx_18->primal_0 = (*dpx_18).primal_0;
    dpx_18->differential_0 = _S11057;
    DiffPair_float_0 _S11058 = *dpy_6;
    float _S11059 = (*dps_0).primal_0 * dOut_21;
    dpy_6->primal_0 = (*dpy_6).primal_0;
    dpy_6->differential_0 = _S11059;
    float _S11060 = (_S11058.primal_0 - (*dpx_18).primal_0) * dOut_21;
    dps_0->primal_0 = _S11058.primal_0;
    dps_0->differential_0 = _S11060;
    return;
}

inline __device__ float lerp_0(float x_86, float y_30, float s_0)
{
    return x_86 + (y_30 - x_86) * s_0;
}

inline __device__ float interp_0(FixedArray<float, 8>  * densities_6, float3  w_142)
{
    float _S11061 = w_142.z;
    float _S11062 = 1.0f - _S11061;
    float _S11063 = w_142.y;
    float _S11064 = 1.0f - _S11063;
    float _S11065 = _S11062 * _S11064;
    float _S11066 = w_142.x;
    float _S11067 = 1.0f - _S11066;
    float _S11068 = _S11062 * _S11063;
    float _S11069 = _S11061 * _S11064;
    float _S11070 = _S11061 * _S11063;
    return _S11065 * _S11067 * (*densities_6)[int(0)] + _S11065 * _S11066 * (*densities_6)[int(1)] + _S11068 * _S11067 * (*densities_6)[int(2)] + _S11068 * _S11066 * (*densities_6)[int(3)] + _S11069 * _S11067 * (*densities_6)[int(4)] + _S11069 * _S11066 * (*densities_6)[int(5)] + _S11070 * _S11067 * (*densities_6)[int(6)] + _S11070 * _S11066 * (*densities_6)[int(7)];
}

inline __device__ float evaluate_alpha_voxel(float3  pos_6, float size_6, FixedArray<float, 8>  * densities_7, float3  ray_o_11, float3  ray_d_11)
{
    float _S11071 = 0.5f * size_6;
    float3  m_3 = make_float3 (1.0f) / ray_d_11;
    float3  k_14 = abs_0(m_3) * make_float3 (_S11071);
    float3  _S11072 = - (m_3 * (ray_o_11 - (pos_6 + make_float3 (_S11071))));
    float3  ta_1 = _S11072 - k_14;
    float3  tb_1 = _S11072 + k_14;
    float t0_1 = (F32_max(((F32_max((ta_1.x), (ta_1.y)))), ((F32_max((ta_1.z), (0.0f))))));
    float t1_1 = (F32_min(((F32_min((tb_1.x), (tb_1.y)))), (tb_1.z)));
    if(!(t0_1 < t1_1))
    {
        return 0.0f;
    }
    int i_11 = int(0);
    float accum_0 = 0.0f;
    for(;;)
    {
        if(i_11 < int(8))
        {
        }
        else
        {
            break;
        }
        float _S11073 = interp_0(densities_7, (ray_o_11 + ray_d_11 * make_float3 (lerp_0(t0_1, t1_1, (float(i_11) + 0.5f) / 8.0f)) - pos_6) / make_float3 (size_6));
        float _S11074;
        if(_S11073 > 1.10000002384185791f)
        {
            _S11074 = _S11073;
        }
        else
        {
            _S11074 = (F32_exp((0.90909093618392944f * _S11073 - 0.90468984842300415f)));
        }
        float accum_1 = accum_0 + _S11074;
        i_11 = i_11 + int(1);
        accum_0 = accum_1;
    }
    return (F32_min((1.0f - (F32_exp((- (t1_1 - t0_1) / 8.0f * accum_0)))), (0.99900001287460327f)));
}

struct DiffPair_arrayx3Cfloatx2C8x3E_0
{
    FixedArray<float, 8>  primal_0;
    FixedArray<float, 8>  differential_0;
};

struct s_bwd_prop_evaluate_alpha_voxel_Intermediates_0
{
    float _S11075;
};

inline __device__ float3  s_primal_ctx_abs_0(float3  _S11076)
{
    return abs_0(_S11076);
}

inline __device__ float s_primal_ctx_lerp_0(float _S11077, float _S11078, float _S11079)
{
    return lerp_0(_S11077, _S11078, _S11079);
}

inline __device__ float s_primal_ctx_interp_0(FixedArray<float, 8>  * dpdensities_0, float3  dpw_0)
{
    float _S11080 = dpw_0.z;
    float _S11081 = 1.0f - _S11080;
    float _S11082 = dpw_0.y;
    float _S11083 = 1.0f - _S11082;
    float _S11084 = _S11081 * _S11083;
    float _S11085 = dpw_0.x;
    float _S11086 = 1.0f - _S11085;
    float _S11087 = _S11081 * _S11082;
    float _S11088 = _S11080 * _S11083;
    float _S11089 = _S11080 * _S11082;
    return _S11084 * _S11086 * (*dpdensities_0)[int(0)] + _S11084 * _S11085 * (*dpdensities_0)[int(1)] + _S11087 * _S11086 * (*dpdensities_0)[int(2)] + _S11087 * _S11085 * (*dpdensities_0)[int(3)] + _S11088 * _S11086 * (*dpdensities_0)[int(4)] + _S11088 * _S11085 * (*dpdensities_0)[int(5)] + _S11089 * _S11086 * (*dpdensities_0)[int(6)] + _S11089 * _S11085 * (*dpdensities_0)[int(7)];
}

inline __device__ float s_primal_ctx_evaluate_alpha_voxel_0(float3  pos_7, float size_7, FixedArray<float, 8>  * dpdensities_1, float3  dpray_o_4, float3  dpray_d_4, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_42)
{
    _s_diff_ctx_42->_S11075 = 0.0f;
    _s_diff_ctx_42->_S11075 = 0.0f;
    float _S11090 = 0.5f * size_7;
    float3  m_4 = make_float3 (1.0f) / dpray_d_4;
    float3  k_15 = s_primal_ctx_abs_0(m_4) * make_float3 (_S11090);
    float3  _S11091 = - (m_4 * (dpray_o_4 - (pos_7 + make_float3 (_S11090))));
    float3  ta_2 = _S11091 - k_15;
    float3  tb_2 = _S11091 + k_15;
    float _S11092 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_2.x, ta_2.y), s_primal_ctx_max_0(ta_2.z, 0.0f));
    float _S11093 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_2.x, tb_2.y), tb_2.z);
    float accum_2;
    if(!!(_S11092 < _S11093))
    {
        float _S11094 = - (_S11093 - _S11092);
        bool _runFlag_0 = true;
        accum_2 = 0.0f;
        int i_12 = int(0);
        int _pc_0 = int(0);
        for(;;)
        {
            _s_diff_ctx_42->_S11075 = accum_2;
            if(_runFlag_0)
            {
            }
            else
            {
                break;
            }
            float _S11095;
            int _S11096;
            if(i_12 < int(8))
            {
                float _S11097 = s_primal_ctx_interp_0(dpdensities_1, (dpray_o_4 + dpray_d_4 * make_float3 (s_primal_ctx_lerp_0(_S11092, _S11093, (float(i_12) + 0.5f) / 8.0f)) - pos_7) / make_float3 (size_7));
                if(_S11097 > 1.10000002384185791f)
                {
                    _S11095 = _S11097;
                }
                else
                {
                    _S11095 = s_primal_ctx_exp_1(0.90909093618392944f * _S11097 - 0.90468984842300415f);
                }
                float accum_3 = accum_2 + _S11095;
                _S11096 = int(2);
                _S11095 = accum_3;
            }
            else
            {
                _S11096 = int(1);
                _S11095 = 0.0f;
            }
            if(_S11096 != int(2))
            {
                _runFlag_0 = false;
            }
            if(_runFlag_0)
            {
                int _S11098 = i_12 + int(1);
                accum_2 = _S11095;
                i_12 = _S11098;
            }
            _pc_0 = _pc_0 + int(1);
        }
        accum_2 = s_primal_ctx_min_0(1.0f - s_primal_ctx_exp_1(_S11094 / 8.0f * accum_2), 0.99900001287460327f);
    }
    else
    {
        accum_2 = 0.0f;
    }
    return accum_2;
}

inline __device__ void s_bwd_prop_abs_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11099, float3  _S11100)
{
    _d_abs_vector_0(_S11099, _S11100);
    return;
}

inline __device__ void s_bwd_prop_interp_0(DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpw_1, float _s_dOut_11)
{
    float _S11101 = (*dpw_1).primal_0.z;
    float _S11102 = 1.0f - _S11101;
    float _S11103 = (*dpw_1).primal_0.y;
    float _S11104 = 1.0f - _S11103;
    float _S11105 = _S11102 * _S11104;
    float _S11106 = (*dpw_1).primal_0.x;
    float _S11107 = 1.0f - _S11106;
    float _S11108 = _S11102 * _S11103;
    float _S11109 = _S11101 * _S11104;
    float _S11110 = _S11101 * _S11103;
    float _S11111 = _S11110 * _S11106 * _s_dOut_11;
    float s_diff_w7_T_0 = dpdensities_2->primal_0[int(7)] * _s_dOut_11;
    float _S11112 = _S11110 * _S11107 * _s_dOut_11;
    float s_diff_w6_T_0 = dpdensities_2->primal_0[int(6)] * _s_dOut_11;
    float _S11113 = _S11109 * _S11106 * _s_dOut_11;
    float s_diff_w5_T_0 = dpdensities_2->primal_0[int(5)] * _s_dOut_11;
    float _S11114 = _S11109 * _S11107 * _s_dOut_11;
    float s_diff_w4_T_0 = dpdensities_2->primal_0[int(4)] * _s_dOut_11;
    float _S11115 = _S11108 * _S11106 * _s_dOut_11;
    float s_diff_w3_T_0 = dpdensities_2->primal_0[int(3)] * _s_dOut_11;
    float _S11116 = _S11108 * _S11107 * _s_dOut_11;
    float s_diff_w2_T_0 = dpdensities_2->primal_0[int(2)] * _s_dOut_11;
    float _S11117 = _S11105 * _S11106 * _s_dOut_11;
    float s_diff_w1_T_0 = dpdensities_2->primal_0[int(1)] * _s_dOut_11;
    float _S11118 = _S11105 * _S11107 * _s_dOut_11;
    float s_diff_w0_T_0 = dpdensities_2->primal_0[int(0)] * _s_dOut_11;
    float _S11119 = _S11106 * s_diff_w7_T_0 + _S11107 * s_diff_w6_T_0;
    float _S11120 = _S11106 * s_diff_w5_T_0 + _S11107 * s_diff_w4_T_0;
    float _S11121 = _S11106 * s_diff_w3_T_0 + _S11107 * s_diff_w2_T_0;
    float _S11122 = _S11106 * s_diff_w1_T_0 + _S11107 * s_diff_w0_T_0;
    float3  _S11123 = make_float3 (_S11110 * s_diff_w7_T_0 + _S11109 * s_diff_w5_T_0 + _S11108 * s_diff_w3_T_0 + _S11105 * s_diff_w1_T_0 + - (_S11110 * s_diff_w6_T_0 + _S11109 * s_diff_w4_T_0 + _S11108 * s_diff_w2_T_0 + _S11105 * s_diff_w0_T_0), _S11101 * _S11119 + _S11102 * _S11121 + - (_S11101 * _S11120 + _S11102 * _S11122), _S11103 * _S11119 + _S11104 * _S11120 + - (_S11103 * _S11121 + _S11104 * _S11122));
    dpw_1->primal_0 = (*dpw_1).primal_0;
    dpw_1->differential_0 = _S11123;
    FixedArray<float, 8>  _S11124;
    _S11124[int(0)] = 0.0f;
    _S11124[int(1)] = 0.0f;
    _S11124[int(2)] = 0.0f;
    _S11124[int(3)] = 0.0f;
    _S11124[int(4)] = 0.0f;
    _S11124[int(5)] = 0.0f;
    _S11124[int(6)] = 0.0f;
    _S11124[int(7)] = 0.0f;
    _S11124[int(7)] = _S11111;
    _S11124[int(6)] = _S11112;
    _S11124[int(5)] = _S11113;
    _S11124[int(4)] = _S11114;
    _S11124[int(3)] = _S11115;
    _S11124[int(2)] = _S11116;
    _S11124[int(1)] = _S11117;
    _S11124[int(0)] = _S11118;
    dpdensities_2->primal_0 = dpdensities_2->primal_0;
    dpdensities_2->differential_0 = _S11124;
    return;
}

inline __device__ void s_bwd_prop_lerp_0(DiffPair_float_0 * _S11125, DiffPair_float_0 * _S11126, DiffPair_float_0 * _S11127, float _S11128)
{
    _d_lerp_0(_S11125, _S11126, _S11127, _S11128);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_voxel_0(float3  pos_8, float size_8, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_5, float _s_dOut_12, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_43)
{
    FixedArray<float, 8>  _S11129 = dpdensities_3->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11130 = *dpray_o_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11131 = *dpray_d_5;
    float _S11132 = 0.5f * size_8;
    float3  _S11133 = make_float3 (_S11132);
    float3  _S11134 = make_float3 (size_8);
    float3  m_5 = make_float3 (1.0f) / (*dpray_d_5).primal_0;
    float3  _S11135 = (*dpray_d_5).primal_0 * (*dpray_d_5).primal_0;
    float3  _S11136 = (*dpray_o_5).primal_0 - (pos_8 + make_float3 (_S11132));
    float3  k_16 = s_primal_ctx_abs_0(m_5) * make_float3 (_S11132);
    float3  _S11137 = - (m_5 * _S11136);
    float3  ta_3 = _S11137 - k_16;
    float3  tb_3 = _S11137 + k_16;
    float _S11138 = ta_3.x;
    float _S11139 = ta_3.y;
    float _S11140 = s_primal_ctx_max_0(_S11138, _S11139);
    float _S11141 = ta_3.z;
    float _S11142 = s_primal_ctx_max_0(_S11141, 0.0f);
    float _S11143 = s_primal_ctx_max_0(_S11140, _S11142);
    float _S11144 = tb_3.x;
    float _S11145 = tb_3.y;
    float _S11146 = s_primal_ctx_min_0(_S11144, _S11145);
    float _S11147 = tb_3.z;
    float _S11148 = s_primal_ctx_min_0(_S11146, _S11147);
    bool _S11149 = !!(_S11143 < _S11148);
    float _S11150;
    float _S11151;
    float _S11152;
    if(_S11149)
    {
        float _S11153 = - (_S11148 - _S11143) / 8.0f;
        float _S11154 = _S11153 * _s_diff_ctx_43->_S11075;
        _S11150 = 1.0f - s_primal_ctx_exp_1(_S11154);
        _S11151 = _S11154;
        _S11152 = _S11153;
    }
    else
    {
        _S11150 = 0.0f;
        _S11151 = 0.0f;
        _S11152 = 0.0f;
    }
    float3  _S11155 = make_float3 (0.0f);
    FixedArray<float, 8>  _S11156 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    float3  _S11157;
    float3  _S11158;
    FixedArray<float, 8>  _S11159;
    if(_S11149)
    {
        DiffPair_float_0 _S11160;
        (&_S11160)->primal_0 = _S11150;
        (&_S11160)->differential_0 = 0.0f;
        DiffPair_float_0 _S11161;
        (&_S11161)->primal_0 = 0.99900001287460327f;
        (&_S11161)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S11160, &_S11161, _s_dOut_12);
        float _S11162 = - _S11160.differential_0;
        DiffPair_float_0 _S11163;
        (&_S11163)->primal_0 = _S11151;
        (&_S11163)->differential_0 = 0.0f;
        s_bwd_prop_exp_0(&_S11163, _S11162);
        float _S11164 = _S11152 * _S11163.differential_0;
        float _S11165 = 0.125f * (_s_diff_ctx_43->_S11075 * _S11163.differential_0);
        int _dc_0 = int(8);
        _S11150 = _S11164;
        _S11151 = 0.0f;
        _S11152 = 0.0f;
        _S11157 = _S11155;
        _S11158 = _S11155;
        _S11159[int(0)] = 0.0f;
        _S11159[int(1)] = 0.0f;
        _S11159[int(2)] = 0.0f;
        _S11159[int(3)] = 0.0f;
        _S11159[int(4)] = 0.0f;
        _S11159[int(5)] = 0.0f;
        _S11159[int(6)] = 0.0f;
        _S11159[int(7)] = 0.0f;
        for(;;)
        {
            if(_dc_0 >= int(0))
            {
            }
            else
            {
                break;
            }
            bool _S11166 = _dc_0 < int(8);
            float _S11167;
            float _S11168;
            int _S11169;
            float3  _S11170;
            float3  _S11171;
            bool _S11172;
            if(_S11166)
            {
                float _S11173 = (float(_dc_0) + 0.5f) / 8.0f;
                float _S11174 = s_primal_ctx_lerp_0(_S11143, _S11148, _S11173);
                float3  _S11175 = make_float3 (_S11174);
                float3  _S11176 = (_S11130.primal_0 + _S11131.primal_0 * make_float3 (_S11174) - pos_8) / make_float3 (size_8);
                FixedArray<float, 8>  _S11177 = _S11129;
                float _S11178 = s_primal_ctx_interp_0(&_S11177, _S11176);
                bool _S11179 = _S11178 > 1.10000002384185791f;
                if(_S11179)
                {
                    _S11167 = 0.0f;
                }
                else
                {
                    _S11167 = 0.90909093618392944f * _S11178 - 0.90468984842300415f;
                }
                _S11169 = int(2);
                _S11172 = _S11179;
                _S11170 = _S11176;
                _S11171 = _S11175;
                _S11168 = _S11173;
            }
            else
            {
                _S11169 = int(1);
                _S11172 = false;
                _S11167 = 0.0f;
                _S11170 = _S11155;
                _S11171 = _S11155;
                _S11168 = 0.0f;
            }
            float _S11180;
            float _S11181;
            if(!(_S11169 != int(2)))
            {
                _S11180 = _S11150;
                _S11181 = 0.0f;
            }
            else
            {
                _S11180 = 0.0f;
                _S11181 = _S11150;
            }
            if(_S11166)
            {
                float _S11182 = _S11180 + _S11181;
                float _S11183;
                if(_S11172)
                {
                    _S11183 = _S11180;
                }
                else
                {
                    DiffPair_float_0 _S11184;
                    (&_S11184)->primal_0 = _S11167;
                    (&_S11184)->differential_0 = 0.0f;
                    s_bwd_prop_exp_0(&_S11184, _S11180);
                    _S11183 = 0.90909093618392944f * _S11184.differential_0;
                }
                DiffPair_arrayx3Cfloatx2C8x3E_0 _S11185;
                (&_S11185)->primal_0 = _S11129;
                (&_S11185)->differential_0 = _S11156;
                DiffPair_vectorx3Cfloatx2C3x3E_0 _S11186;
                (&_S11186)->primal_0 = _S11170;
                (&_S11186)->differential_0 = _S11155;
                s_bwd_prop_interp_0(&_S11185, &_S11186, _S11183);
                float3  _S11187 = _S11186.differential_0 / _S11134;
                float3  _S11188 = _S11131.primal_0 * _S11187;
                float3  _S11189 = _S11171 * _S11187;
                float _S11190 = _S11188.x + _S11188.y + _S11188.z;
                DiffPair_float_0 _S11191;
                (&_S11191)->primal_0 = _S11143;
                (&_S11191)->differential_0 = 0.0f;
                DiffPair_float_0 _S11192;
                (&_S11192)->primal_0 = _S11148;
                (&_S11192)->differential_0 = 0.0f;
                DiffPair_float_0 _S11193;
                (&_S11193)->primal_0 = _S11168;
                (&_S11193)->differential_0 = 0.0f;
                s_bwd_prop_lerp_0(&_S11191, &_S11192, &_S11193, _S11190);
                float _S11194 = (&_S11185)->differential_0[int(0)] + _S11159[int(0)];
                float _S11195 = (&_S11185)->differential_0[int(1)] + _S11159[int(1)];
                float _S11196 = (&_S11185)->differential_0[int(2)] + _S11159[int(2)];
                float _S11197 = (&_S11185)->differential_0[int(3)] + _S11159[int(3)];
                float _S11198 = (&_S11185)->differential_0[int(4)] + _S11159[int(4)];
                float _S11199 = (&_S11185)->differential_0[int(5)] + _S11159[int(5)];
                float _S11200 = (&_S11185)->differential_0[int(6)] + _S11159[int(6)];
                float _S11201 = (&_S11185)->differential_0[int(7)] + _S11159[int(7)];
                float3  _S11202 = _S11187 + _S11158;
                float3  _S11203 = _S11189 + _S11157;
                float _S11204 = _S11192.differential_0 + _S11151;
                float _S11205 = _S11191.differential_0 + _S11152;
                _S11150 = _S11182;
                _S11151 = _S11204;
                _S11152 = _S11205;
                _S11157 = _S11203;
                _S11158 = _S11202;
                _S11159[int(0)] = _S11194;
                _S11159[int(1)] = _S11195;
                _S11159[int(2)] = _S11196;
                _S11159[int(3)] = _S11197;
                _S11159[int(4)] = _S11198;
                _S11159[int(5)] = _S11199;
                _S11159[int(6)] = _S11200;
                _S11159[int(7)] = _S11201;
            }
            else
            {
                _S11150 = _S11181;
            }
            _dc_0 = _dc_0 - int(1);
        }
        float _S11206 = - _S11165;
        float _S11207 = - _S11206 + _S11152;
        _S11150 = _S11206 + _S11151;
        _S11151 = _S11207;
    }
    else
    {
        _S11150 = 0.0f;
        _S11151 = 0.0f;
        _S11157 = _S11155;
        _S11158 = _S11155;
        _S11159[int(0)] = 0.0f;
        _S11159[int(1)] = 0.0f;
        _S11159[int(2)] = 0.0f;
        _S11159[int(3)] = 0.0f;
        _S11159[int(4)] = 0.0f;
        _S11159[int(5)] = 0.0f;
        _S11159[int(6)] = 0.0f;
        _S11159[int(7)] = 0.0f;
    }
    DiffPair_float_0 _S11208;
    (&_S11208)->primal_0 = _S11146;
    (&_S11208)->differential_0 = 0.0f;
    DiffPair_float_0 _S11209;
    (&_S11209)->primal_0 = _S11147;
    (&_S11209)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11208, &_S11209, _S11150);
    DiffPair_float_0 _S11210;
    (&_S11210)->primal_0 = _S11144;
    (&_S11210)->differential_0 = 0.0f;
    DiffPair_float_0 _S11211;
    (&_S11211)->primal_0 = _S11145;
    (&_S11211)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11210, &_S11211, _S11208.differential_0);
    DiffPair_float_0 _S11212;
    (&_S11212)->primal_0 = _S11140;
    (&_S11212)->differential_0 = 0.0f;
    DiffPair_float_0 _S11213;
    (&_S11213)->primal_0 = _S11142;
    (&_S11213)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11212, &_S11213, _S11151);
    DiffPair_float_0 _S11214;
    (&_S11214)->primal_0 = _S11141;
    (&_S11214)->differential_0 = 0.0f;
    DiffPair_float_0 _S11215;
    (&_S11215)->primal_0 = 0.0f;
    (&_S11215)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11214, &_S11215, _S11213.differential_0);
    DiffPair_float_0 _S11216;
    (&_S11216)->primal_0 = _S11138;
    (&_S11216)->differential_0 = 0.0f;
    DiffPair_float_0 _S11217;
    (&_S11217)->primal_0 = _S11139;
    (&_S11217)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11216, &_S11217, _S11212.differential_0);
    float3  s_diff_tb_T_0 = make_float3 (_S11210.differential_0, _S11211.differential_0, _S11209.differential_0);
    float3  s_diff_ta_T_0 = make_float3 (_S11216.differential_0, _S11217.differential_0, _S11214.differential_0);
    float3  s_diff_n_T_0 = - (s_diff_tb_T_0 + s_diff_ta_T_0);
    float3  _S11218 = _S11133 * (s_diff_tb_T_0 + - s_diff_ta_T_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11219;
    (&_S11219)->primal_0 = m_5;
    (&_S11219)->differential_0 = _S11155;
    s_bwd_prop_abs_1(&_S11219, _S11218);
    float3  _S11220 = m_5 * s_diff_n_T_0;
    float3  _S11221 = - ((_S11219.differential_0 + _S11136 * s_diff_n_T_0) / _S11135) + _S11157;
    dpray_d_5->primal_0 = (*dpray_d_5).primal_0;
    dpray_d_5->differential_0 = _S11221;
    float3  _S11222 = _S11220 + _S11158;
    dpray_o_5->primal_0 = (*dpray_o_5).primal_0;
    dpray_o_5->differential_0 = _S11222;
    dpdensities_3->primal_0 = dpdensities_3->primal_0;
    dpdensities_3->differential_0 = _S11159;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_voxel_0(float3  _S11223, float _S11224, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S11225, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11226, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11227, float _S11228)
{
    FixedArray<float, 8>  _S11229 = _S11225->primal_0;
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S11230;
    float _S11231 = s_primal_ctx_evaluate_alpha_voxel_0(_S11223, _S11224, &_S11229, (*_S11226).primal_0, (*_S11227).primal_0, &_S11230);
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S11232 = _S11230;
    s_bwd_prop_evaluate_alpha_voxel_0(_S11223, _S11224, _S11225, _S11226, _S11227, _S11228, &_S11232);
    return;
}

inline __device__ void evaluate_alpha_voxel_vjp(float3  pos_9, float size_9, FixedArray<float, 8>  * densities_8, float3  ray_o_12, float3  ray_d_12, float v_alpha_2, FixedArray<float, 8>  * v_densities_2, float3  * v_ray_o_5, float3  * v_ray_d_5)
{
    FixedArray<float, 8>  _S11233 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_0;
    (&dp_densities_0)->primal_0 = *densities_8;
    (&dp_densities_0)->differential_0 = _S11233;
    float3  _S11234 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_4;
    (&dp_ray_o_4)->primal_0 = ray_o_12;
    (&dp_ray_o_4)->differential_0 = _S11234;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_4;
    (&dp_ray_d_4)->primal_0 = ray_d_12;
    (&dp_ray_d_4)->differential_0 = _S11234;
    s_bwd_evaluate_alpha_voxel_0(pos_9, size_9, &dp_densities_0, &dp_ray_o_4, &dp_ray_d_4, v_alpha_2);
    *v_densities_2 = (&dp_densities_0)->differential_0;
    *v_ray_o_5 = dp_ray_o_4.differential_0;
    *v_ray_d_5 = dp_ray_d_4.differential_0;
    return;
}

inline __device__ void evaluate_color_voxel(float3  pos_10, float size_10, FixedArray<float, 8>  * densities_9, float3  rgb_40, float3  ray_o_13, float3  ray_d_13, float3  * out_rgb_1, float * depth_48)
{
    *out_rgb_1 = rgb_40;
    float _S11235 = 0.5f * size_10;
    float3  m_6 = make_float3 (1.0f) / ray_d_13;
    float3  k_17 = abs_0(m_6) * make_float3 (_S11235);
    float3  _S11236 = - (m_6 * (ray_o_13 - (pos_10 + make_float3 (_S11235))));
    float3  ta_4 = _S11236 - k_17;
    float3  tb_4 = _S11236 + k_17;
    float _S11237 = (F32_max(((F32_max((ta_4.x), (ta_4.y)))), ((F32_max((ta_4.z), (0.0f))))));
    float _S11238 = (F32_min(((F32_min((tb_4.x), (tb_4.y)))), (tb_4.z)));
    int i_13 = int(0);
    float accum_4 = 0.0f;
    float depth_accum_0 = 0.0f;
    for(;;)
    {
        if(i_13 < int(8))
        {
        }
        else
        {
            break;
        }
        float t_75 = lerp_0(_S11237, _S11238, (float(i_13) + 0.5f) / 8.0f);
        float _S11239 = interp_0(densities_9, (ray_o_13 + ray_d_13 * make_float3 (t_75) - pos_10) / make_float3 (size_10));
        float _S11240;
        if(_S11239 > 1.10000002384185791f)
        {
            _S11240 = _S11239;
        }
        else
        {
            _S11240 = (F32_exp((0.90909093618392944f * _S11239 - 0.90468984842300415f)));
        }
        float accum_5 = accum_4 + _S11240;
        float depth_accum_1 = depth_accum_0 + t_75 * _S11240;
        i_13 = i_13 + int(1);
        accum_4 = accum_5;
        depth_accum_0 = depth_accum_1;
    }
    *depth_48 = (F32_max((depth_accum_0 / accum_4), (0.0f)));
    return;
}

struct s_bwd_prop_evaluate_color_voxel_Intermediates_0
{
    float _S11241;
    float _S11242;
};

inline __device__ void s_primal_ctx_evaluate_color_voxel_0(float3  pos_11, float size_11, FixedArray<float, 8>  * dpdensities_4, float3  dprgb_29, float3  dpray_o_6, float3  dpray_d_6, float3  * dpout_rgb_1, float * dpdepth_30, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_44)
{
    _s_diff_ctx_44->_S11241 = 0.0f;
    _s_diff_ctx_44->_S11242 = 0.0f;
    float _S11243 = 0.5f * size_11;
    float3  m_7 = make_float3 (1.0f) / dpray_d_6;
    float3  k_18 = s_primal_ctx_abs_0(m_7) * make_float3 (_S11243);
    float3  _S11244 = - (m_7 * (dpray_o_6 - (pos_11 + make_float3 (_S11243))));
    float3  ta_5 = _S11244 - k_18;
    float3  tb_5 = _S11244 + k_18;
    float _S11245 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_5.x, ta_5.y), s_primal_ctx_max_0(ta_5.z, 0.0f));
    float _S11246 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_5.x, tb_5.y), tb_5.z);
    bool _runFlag_1 = true;
    float accum_6 = 0.0f;
    float depth_accum_2 = 0.0f;
    int i_14 = int(0);
    int _pc_1 = int(0);
    for(;;)
    {
        _s_diff_ctx_44->_S11241 = depth_accum_2;
        _s_diff_ctx_44->_S11242 = accum_6;
        if(_runFlag_1)
        {
        }
        else
        {
            break;
        }
        float _S11247;
        float _S11248;
        int _S11249;
        if(i_14 < int(8))
        {
            float _S11250 = s_primal_ctx_lerp_0(_S11245, _S11246, (float(i_14) + 0.5f) / 8.0f);
            float _S11251 = s_primal_ctx_interp_0(dpdensities_4, (dpray_o_6 + dpray_d_6 * make_float3 (_S11250) - pos_11) / make_float3 (size_11));
            if(_S11251 > 1.10000002384185791f)
            {
                _S11247 = _S11251;
            }
            else
            {
                _S11247 = s_primal_ctx_exp_1(0.90909093618392944f * _S11251 - 0.90468984842300415f);
            }
            float accum_7 = accum_6 + _S11247;
            float depth_accum_3 = depth_accum_2 + _S11250 * _S11247;
            _S11249 = int(1);
            _S11247 = accum_7;
            _S11248 = depth_accum_3;
        }
        else
        {
            _S11249 = int(0);
            _S11247 = 0.0f;
            _S11248 = 0.0f;
        }
        if(_S11249 != int(1))
        {
            _runFlag_1 = false;
        }
        if(_runFlag_1)
        {
            int _S11252 = i_14 + int(1);
            accum_6 = _S11247;
            depth_accum_2 = _S11248;
            i_14 = _S11252;
        }
        _pc_1 = _pc_1 + int(1);
    }
    float _S11253 = s_primal_ctx_max_0(depth_accum_2 / accum_6, 0.0f);
    *dpout_rgb_1 = dprgb_29;
    *dpdepth_30 = _S11253;
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_voxel_0(float3  pos_12, float size_12, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_30, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_7, float3  dpout_rgb_2, float dpdepth_31, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_45)
{
    FixedArray<float, 8>  _S11254 = dpdensities_5->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11255 = *dpray_o_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11256 = *dpray_d_7;
    float3  _S11257 = make_float3 (size_12);
    float _S11258 = 0.5f * size_12;
    float3  _S11259 = make_float3 (_S11258);
    float3  m_8 = make_float3 (1.0f) / (*dpray_d_7).primal_0;
    float3  _S11260 = (*dpray_d_7).primal_0 * (*dpray_d_7).primal_0;
    float3  _S11261 = (*dpray_o_7).primal_0 - (pos_12 + make_float3 (_S11258));
    float3  k_19 = s_primal_ctx_abs_0(m_8) * make_float3 (_S11258);
    float3  _S11262 = - (m_8 * _S11261);
    float3  ta_6 = _S11262 - k_19;
    float3  tb_6 = _S11262 + k_19;
    float _S11263 = ta_6.x;
    float _S11264 = ta_6.y;
    float _S11265 = s_primal_ctx_max_0(_S11263, _S11264);
    float _S11266 = ta_6.z;
    float _S11267 = s_primal_ctx_max_0(_S11266, 0.0f);
    float _S11268 = s_primal_ctx_max_0(_S11265, _S11267);
    float _S11269 = tb_6.x;
    float _S11270 = tb_6.y;
    float _S11271 = s_primal_ctx_min_0(_S11269, _S11270);
    float _S11272 = tb_6.z;
    float _S11273 = s_primal_ctx_min_0(_S11271, _S11272);
    float _S11274 = _s_diff_ctx_45->_S11242 * _s_diff_ctx_45->_S11242;
    float3  _S11275 = make_float3 (0.0f);
    FixedArray<float, 8>  _S11276 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_float_0 _S11277;
    (&_S11277)->primal_0 = _s_diff_ctx_45->_S11241 / _s_diff_ctx_45->_S11242;
    (&_S11277)->differential_0 = 0.0f;
    DiffPair_float_0 _S11278;
    (&_S11278)->primal_0 = 0.0f;
    (&_S11278)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11277, &_S11278, dpdepth_31);
    float _S11279 = _S11277.differential_0 / _S11274;
    float _S11280 = _s_diff_ctx_45->_S11241 * - _S11279;
    float _S11281 = _s_diff_ctx_45->_S11242 * _S11279;
    int _dc_1 = int(8);
    float _S11282 = _S11280;
    float _S11283 = _S11281;
    float _S11284 = 0.0f;
    float _S11285 = 0.0f;
    float3  _S11286 = _S11275;
    float3  _S11287 = _S11275;
    FixedArray<float, 8>  _S11288;
    _S11288[int(0)] = 0.0f;
    _S11288[int(1)] = 0.0f;
    _S11288[int(2)] = 0.0f;
    _S11288[int(3)] = 0.0f;
    _S11288[int(4)] = 0.0f;
    _S11288[int(5)] = 0.0f;
    _S11288[int(6)] = 0.0f;
    _S11288[int(7)] = 0.0f;
    for(;;)
    {
        if(_dc_1 >= int(0))
        {
        }
        else
        {
            break;
        }
        bool _S11289 = _dc_1 < int(8);
        int _S11290;
        float _S11291;
        float _S11292;
        float _S11293;
        float _S11294;
        float3  _S11295;
        float3  _S11296;
        bool _S11297;
        if(_S11289)
        {
            float _S11298 = (float(_dc_1) + 0.5f) / 8.0f;
            float _S11299 = s_primal_ctx_lerp_0(_S11268, _S11273, _S11298);
            float3  _S11300 = make_float3 (_S11299);
            float3  _S11301 = (_S11255.primal_0 + _S11256.primal_0 * make_float3 (_S11299) - pos_12) / make_float3 (size_12);
            FixedArray<float, 8>  _S11302 = _S11254;
            float _S11303 = s_primal_ctx_interp_0(&_S11302, _S11301);
            bool _S11304 = _S11303 > 1.10000002384185791f;
            if(_S11304)
            {
                _S11291 = _S11303;
                _S11292 = 0.0f;
            }
            else
            {
                float _S11305 = 0.90909093618392944f * _S11303 - 0.90468984842300415f;
                _S11291 = s_primal_ctx_exp_1(_S11305);
                _S11292 = _S11305;
            }
            float _S11306 = _S11291;
            float _S11307 = _S11292;
            _S11290 = int(1);
            _S11291 = _S11299;
            _S11292 = _S11306;
            _S11297 = _S11304;
            _S11293 = _S11307;
            _S11295 = _S11301;
            _S11296 = _S11300;
            _S11294 = _S11298;
        }
        else
        {
            _S11290 = int(0);
            _S11291 = 0.0f;
            _S11292 = 0.0f;
            _S11297 = false;
            _S11293 = 0.0f;
            _S11295 = _S11275;
            _S11296 = _S11275;
            _S11294 = 0.0f;
        }
        float _S11308;
        float _S11309;
        float _S11310;
        float _S11311;
        if(!(_S11290 != int(1)))
        {
            _S11308 = _S11282;
            _S11309 = _S11283;
            _S11310 = 0.0f;
            _S11311 = 0.0f;
        }
        else
        {
            _S11308 = 0.0f;
            _S11309 = 0.0f;
            _S11310 = _S11283;
            _S11311 = _S11282;
        }
        if(_S11289)
        {
            float _S11312 = _S11292 * _S11309;
            float _S11313 = _S11309 + _S11310;
            float _S11314 = _S11291 * _S11309 + _S11308;
            float _S11315 = _S11308 + _S11311;
            float _S11316;
            if(_S11297)
            {
                _S11316 = _S11314;
            }
            else
            {
                DiffPair_float_0 _S11317;
                (&_S11317)->primal_0 = _S11293;
                (&_S11317)->differential_0 = 0.0f;
                s_bwd_prop_exp_0(&_S11317, _S11314);
                _S11316 = 0.90909093618392944f * _S11317.differential_0;
            }
            DiffPair_arrayx3Cfloatx2C8x3E_0 _S11318;
            (&_S11318)->primal_0 = _S11254;
            (&_S11318)->differential_0 = _S11276;
            DiffPair_vectorx3Cfloatx2C3x3E_0 _S11319;
            (&_S11319)->primal_0 = _S11295;
            (&_S11319)->differential_0 = _S11275;
            s_bwd_prop_interp_0(&_S11318, &_S11319, _S11316);
            float3  _S11320 = _S11319.differential_0 / _S11257;
            float3  _S11321 = _S11256.primal_0 * _S11320;
            float3  _S11322 = _S11296 * _S11320;
            float _S11323 = _S11321.x + _S11321.y + _S11321.z + _S11312;
            DiffPair_float_0 _S11324;
            (&_S11324)->primal_0 = _S11268;
            (&_S11324)->differential_0 = 0.0f;
            DiffPair_float_0 _S11325;
            (&_S11325)->primal_0 = _S11273;
            (&_S11325)->differential_0 = 0.0f;
            DiffPair_float_0 _S11326;
            (&_S11326)->primal_0 = _S11294;
            (&_S11326)->differential_0 = 0.0f;
            s_bwd_prop_lerp_0(&_S11324, &_S11325, &_S11326, _S11323);
            float _S11327 = (&_S11318)->differential_0[int(0)] + _S11288[int(0)];
            float _S11328 = (&_S11318)->differential_0[int(1)] + _S11288[int(1)];
            float _S11329 = (&_S11318)->differential_0[int(2)] + _S11288[int(2)];
            float _S11330 = (&_S11318)->differential_0[int(3)] + _S11288[int(3)];
            float _S11331 = (&_S11318)->differential_0[int(4)] + _S11288[int(4)];
            float _S11332 = (&_S11318)->differential_0[int(5)] + _S11288[int(5)];
            float _S11333 = (&_S11318)->differential_0[int(6)] + _S11288[int(6)];
            float _S11334 = (&_S11318)->differential_0[int(7)] + _S11288[int(7)];
            float3  _S11335 = _S11320 + _S11287;
            float3  _S11336 = _S11322 + _S11286;
            float _S11337 = _S11325.differential_0 + _S11284;
            float _S11338 = _S11324.differential_0 + _S11285;
            _S11282 = _S11315;
            _S11283 = _S11313;
            _S11284 = _S11337;
            _S11285 = _S11338;
            _S11286 = _S11336;
            _S11287 = _S11335;
            _S11288[int(0)] = _S11327;
            _S11288[int(1)] = _S11328;
            _S11288[int(2)] = _S11329;
            _S11288[int(3)] = _S11330;
            _S11288[int(4)] = _S11331;
            _S11288[int(5)] = _S11332;
            _S11288[int(6)] = _S11333;
            _S11288[int(7)] = _S11334;
        }
        else
        {
            _S11282 = _S11311;
            _S11283 = _S11310;
        }
        _dc_1 = _dc_1 - int(1);
    }
    DiffPair_float_0 _S11339;
    (&_S11339)->primal_0 = _S11271;
    (&_S11339)->differential_0 = 0.0f;
    DiffPair_float_0 _S11340;
    (&_S11340)->primal_0 = _S11272;
    (&_S11340)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11339, &_S11340, _S11284);
    DiffPair_float_0 _S11341;
    (&_S11341)->primal_0 = _S11269;
    (&_S11341)->differential_0 = 0.0f;
    DiffPair_float_0 _S11342;
    (&_S11342)->primal_0 = _S11270;
    (&_S11342)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S11341, &_S11342, _S11339.differential_0);
    DiffPair_float_0 _S11343;
    (&_S11343)->primal_0 = _S11265;
    (&_S11343)->differential_0 = 0.0f;
    DiffPair_float_0 _S11344;
    (&_S11344)->primal_0 = _S11267;
    (&_S11344)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11343, &_S11344, _S11285);
    DiffPair_float_0 _S11345;
    (&_S11345)->primal_0 = _S11266;
    (&_S11345)->differential_0 = 0.0f;
    DiffPair_float_0 _S11346;
    (&_S11346)->primal_0 = 0.0f;
    (&_S11346)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11345, &_S11346, _S11344.differential_0);
    DiffPair_float_0 _S11347;
    (&_S11347)->primal_0 = _S11263;
    (&_S11347)->differential_0 = 0.0f;
    DiffPair_float_0 _S11348;
    (&_S11348)->primal_0 = _S11264;
    (&_S11348)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S11347, &_S11348, _S11343.differential_0);
    float3  s_diff_tb_T_1 = make_float3 (_S11341.differential_0, _S11342.differential_0, _S11340.differential_0);
    float3  s_diff_ta_T_1 = make_float3 (_S11347.differential_0, _S11348.differential_0, _S11345.differential_0);
    float3  s_diff_n_T_1 = - (s_diff_tb_T_1 + s_diff_ta_T_1);
    float3  _S11349 = _S11259 * (s_diff_tb_T_1 + - s_diff_ta_T_1);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S11350;
    (&_S11350)->primal_0 = m_8;
    (&_S11350)->differential_0 = _S11275;
    s_bwd_prop_abs_1(&_S11350, _S11349);
    float3  _S11351 = m_8 * s_diff_n_T_1;
    float3  _S11352 = - ((_S11350.differential_0 + _S11261 * s_diff_n_T_1) / _S11260) + _S11286;
    dpray_d_7->primal_0 = (*dpray_d_7).primal_0;
    dpray_d_7->differential_0 = _S11352;
    float3  _S11353 = _S11351 + _S11287;
    dpray_o_7->primal_0 = (*dpray_o_7).primal_0;
    dpray_o_7->differential_0 = _S11353;
    dprgb_30->primal_0 = (*dprgb_30).primal_0;
    dprgb_30->differential_0 = dpout_rgb_2;
    dpdensities_5->primal_0 = dpdensities_5->primal_0;
    dpdensities_5->differential_0 = _S11288;
    return;
}

inline __device__ void s_bwd_evaluate_color_voxel_0(float3  _S11354, float _S11355, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S11356, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11357, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11358, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S11359, float3  _S11360, float _S11361)
{
    FixedArray<float, 8>  _S11362 = _S11356->primal_0;
    float3  _S11363;
    float _S11364;
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S11365;
    s_primal_ctx_evaluate_color_voxel_0(_S11354, _S11355, &_S11362, (*_S11357).primal_0, (*_S11358).primal_0, (*_S11359).primal_0, &_S11363, &_S11364, &_S11365);
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S11366 = _S11365;
    s_bwd_prop_evaluate_color_voxel_0(_S11354, _S11355, _S11356, _S11357, _S11358, _S11359, _S11360, _S11361, &_S11366);
    return;
}

inline __device__ void evaluate_color_voxel_vjp(float3  pos_13, float size_13, FixedArray<float, 8>  * densities_10, float3  rgb_41, float3  ray_o_14, float3  ray_d_14, float3  v_out_rgb_1, float v_depth_23, FixedArray<float, 8>  * v_densities_3, float3  * v_rgb_22, float3  * v_ray_o_6, float3  * v_ray_d_6)
{
    FixedArray<float, 8>  _S11367 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_1;
    (&dp_densities_1)->primal_0 = *densities_10;
    (&dp_densities_1)->differential_0 = _S11367;
    float3  _S11368 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_1;
    (&dp_rgb_1)->primal_0 = rgb_41;
    (&dp_rgb_1)->differential_0 = _S11368;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_5;
    (&dp_ray_o_5)->primal_0 = ray_o_14;
    (&dp_ray_o_5)->differential_0 = _S11368;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_5;
    (&dp_ray_d_5)->primal_0 = ray_d_14;
    (&dp_ray_d_5)->differential_0 = _S11368;
    s_bwd_evaluate_color_voxel_0(pos_13, size_13, &dp_densities_1, &dp_rgb_1, &dp_ray_o_5, &dp_ray_d_5, v_out_rgb_1, v_depth_23);
    *v_densities_3 = (&dp_densities_1)->differential_0;
    *v_rgb_22 = dp_rgb_1.differential_0;
    *v_ray_o_6 = dp_ray_o_5.differential_0;
    *v_ray_d_6 = dp_ray_d_5.differential_0;
    return;
}

