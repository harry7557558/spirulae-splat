#pragma once

// #if defined(CUDART_VERSION) && CUDART_VERSION >= 12000
// typedef double4_32a my_double4;
// typedef longlong4_32a my_longlong4;
// typedef ulonglong4_32a my_ulonglong4;
// #else
// typedef double4 my_double4;
// typedef longlong4 my_longlong4;
// typedef ulonglong4 my_ulonglong4;
// #endif

#include "slang.cuh"

inline __device__ Matrix<float, 3, 3>  transpose_0(Matrix<float, 3, 3>  x_0)
{
    Matrix<float, 3, 3>  result_0;
    int r_0 = int(0);
    for(;;)
    {
        if(r_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_0 = int(0);
        for(;;)
        {
            if(c_0 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_0)->rows + (r_0)), c_0) = _slang_vector_get_element(x_0.rows[c_0], r_0);
            c_0 = c_0 + int(1);
        }
        r_0 = r_0 + int(1);
    }
    return result_0;
}

inline __device__ Matrix<float, 3, 2>  transpose_1(Matrix<float, 2, 3>  x_1)
{
    Matrix<float, 3, 2>  result_1;
    int r_1 = int(0);
    for(;;)
    {
        if(r_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_1 = int(0);
        for(;;)
        {
            if(c_1 < int(2))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_1)->rows + (r_1)), c_1) = _slang_vector_get_element(x_1.rows[c_1], r_1);
            c_1 = c_1 + int(1);
        }
        r_1 = r_1 + int(1);
    }
    return result_1;
}

inline __device__ Matrix<float, 2, 3>  transpose_2(Matrix<float, 3, 2>  x_2)
{
    Matrix<float, 2, 3>  result_2;
    int r_2 = int(0);
    for(;;)
    {
        if(r_2 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_2 = int(0);
        for(;;)
        {
            if(c_2 < int(3))
            {
            }
            else
            {
                break;
            }
            *_slang_vector_get_element_ptr(((&result_2)->rows + (r_2)), c_2) = _slang_vector_get_element(x_2.rows[c_2], r_2);
            c_2 = c_2 + int(1);
        }
        r_2 = r_2 + int(1);
    }
    return result_2;
}

inline __device__ Matrix<float, 3, 3>  normalized_quat_to_rotmat(float4  quat_0)
{
    float x_3 = quat_0.y;
    float x2_0 = x_3 * x_3;
    float y2_0 = quat_0.z * quat_0.z;
    float z2_0 = quat_0.w * quat_0.w;
    float xy_0 = quat_0.y * quat_0.z;
    float xz_0 = quat_0.y * quat_0.w;
    float yz_0 = quat_0.z * quat_0.w;
    float wx_0 = quat_0.x * quat_0.y;
    float wy_0 = quat_0.x * quat_0.z;
    float wz_0 = quat_0.x * quat_0.w;
    return transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_0 + z2_0), 2.0f * (xy_0 + wz_0), 2.0f * (xz_0 - wy_0), 2.0f * (xy_0 - wz_0), 1.0f - 2.0f * (x2_0 + z2_0), 2.0f * (yz_0 + wx_0), 2.0f * (xz_0 + wy_0), 2.0f * (yz_0 - wx_0), 1.0f - 2.0f * (x2_0 + y2_0)));
}

struct DiffPair_matrixx3Cfloatx2C3x2C3x3E_0
{
    Matrix<float, 3, 3>  primal_0;
    Matrix<float, 3, 3>  differential_0;
};

struct DiffPair_vectorx3Cfloatx2C3x3E_0
{
    float3  primal_0;
    float3  differential_0;
};

inline __device__ void _d_mul_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * right_0, float3  dOut_0)
{
    float _S1 = (*left_0).primal_0.rows[int(0)].x * dOut_0.x;
    Matrix<float, 3, 3>  left_d_result_0;
    *&(((&left_d_result_0)->rows + (int(0)))->x) = (*right_0).primal_0.x * dOut_0.x;
    float sum_0 = _S1 + (*left_0).primal_0.rows[int(1)].x * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->x) = (*right_0).primal_0.x * dOut_0.y;
    float sum_1 = sum_0 + (*left_0).primal_0.rows[int(2)].x * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->x) = (*right_0).primal_0.x * dOut_0.z;
    float3  right_d_result_0;
    *&((&right_d_result_0)->x) = sum_1;
    float _S2 = (*left_0).primal_0.rows[int(0)].y * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->y) = (*right_0).primal_0.y * dOut_0.x;
    float sum_2 = _S2 + (*left_0).primal_0.rows[int(1)].y * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->y) = (*right_0).primal_0.y * dOut_0.y;
    float sum_3 = sum_2 + (*left_0).primal_0.rows[int(2)].y * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->y) = (*right_0).primal_0.y * dOut_0.z;
    *&((&right_d_result_0)->y) = sum_3;
    float _S3 = (*left_0).primal_0.rows[int(0)].z * dOut_0.x;
    *&(((&left_d_result_0)->rows + (int(0)))->z) = (*right_0).primal_0.z * dOut_0.x;
    float sum_4 = _S3 + (*left_0).primal_0.rows[int(1)].z * dOut_0.y;
    *&(((&left_d_result_0)->rows + (int(1)))->z) = (*right_0).primal_0.z * dOut_0.y;
    float sum_5 = sum_4 + (*left_0).primal_0.rows[int(2)].z * dOut_0.z;
    *&(((&left_d_result_0)->rows + (int(2)))->z) = (*right_0).primal_0.z * dOut_0.z;
    *&((&right_d_result_0)->z) = sum_5;
    left_0->primal_0 = (*left_0).primal_0;
    left_0->differential_0 = left_d_result_0;
    right_0->primal_0 = (*right_0).primal_0;
    right_0->differential_0 = right_d_result_0;
    return;
}

inline __device__ float3  mul_0(Matrix<float, 3, 3>  left_1, float3  right_1)
{
    float3  result_3;
    int i_0 = int(0);
    for(;;)
    {
        if(i_0 < int(3))
        {
        }
        else
        {
            break;
        }
        int j_0 = int(0);
        float sum_6 = 0.0f;
        for(;;)
        {
            if(j_0 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_7 = sum_6 + _slang_vector_get_element(left_1.rows[i_0], j_0) * _slang_vector_get_element(right_1, j_0);
            j_0 = j_0 + int(1);
            sum_6 = sum_7;
        }
        *_slang_vector_get_element_ptr(&result_3, i_0) = sum_6;
        i_0 = i_0 + int(1);
    }
    return result_3;
}

inline __device__ void posW2C(Matrix<float, 3, 3>  R_0, float3  t_0, float3  pW_0, float3  * pC_0)
{
    *pC_0 = mul_0(R_0, pW_0) + t_0;
    return;
}

inline __device__ void mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * left_2, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_2, Matrix<float, 3, 3>  dOut_1)
{
    Matrix<float, 3, 3>  left_d_result_1;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_1;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(0)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].x;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(0)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].y;
    *&(((&left_d_result_1)->rows + (int(0)))->x) = *&(((&left_d_result_1)->rows + (int(0)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(0)].x * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->y) = *&(((&left_d_result_1)->rows + (int(0)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(0)].y * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(0)))->z) = *&(((&left_d_result_1)->rows + (int(0)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(0)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(0)].z * dOut_1.rows[int(0)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(1)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].x;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(1)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].y;
    *&(((&left_d_result_1)->rows + (int(1)))->x) = *&(((&left_d_result_1)->rows + (int(1)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(1)].x * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->y) = *&(((&left_d_result_1)->rows + (int(1)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(1)].y * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(1)))->z) = *&(((&left_d_result_1)->rows + (int(1)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(1)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(1)].z * dOut_1.rows[int(1)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(0)))->x) = *&(((&right_d_result_1)->rows + (int(0)))->x) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(1)))->x) = *&(((&right_d_result_1)->rows + (int(1)))->x) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].x;
    *&(((&right_d_result_1)->rows + (int(2)))->x) = *&(((&right_d_result_1)->rows + (int(2)))->x) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].x;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(0)))->y) = *&(((&right_d_result_1)->rows + (int(0)))->y) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(1)))->y) = *&(((&right_d_result_1)->rows + (int(1)))->y) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].y;
    *&(((&right_d_result_1)->rows + (int(2)))->y) = *&(((&right_d_result_1)->rows + (int(2)))->y) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].y;
    *&(((&left_d_result_1)->rows + (int(2)))->x) = *&(((&left_d_result_1)->rows + (int(2)))->x) + (*right_2).primal_0.rows[int(0)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(0)))->z) = *&(((&right_d_result_1)->rows + (int(0)))->z) + (*left_2).primal_0.rows[int(2)].x * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->y) = *&(((&left_d_result_1)->rows + (int(2)))->y) + (*right_2).primal_0.rows[int(1)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(1)))->z) = *&(((&right_d_result_1)->rows + (int(1)))->z) + (*left_2).primal_0.rows[int(2)].y * dOut_1.rows[int(2)].z;
    *&(((&left_d_result_1)->rows + (int(2)))->z) = *&(((&left_d_result_1)->rows + (int(2)))->z) + (*right_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    *&(((&right_d_result_1)->rows + (int(2)))->z) = *&(((&right_d_result_1)->rows + (int(2)))->z) + (*left_2).primal_0.rows[int(2)].z * dOut_1.rows[int(2)].z;
    left_2->primal_0 = (*left_2).primal_0;
    left_2->differential_0 = left_d_result_1;
    right_2->primal_0 = (*right_2).primal_0;
    right_2->differential_0 = right_d_result_1;
    return;
}

struct DiffPair_matrixx3Cfloatx2C2x2C3x3E_0
{
    Matrix<float, 2, 3>  primal_0;
    Matrix<float, 2, 3>  differential_0;
};

inline __device__ void mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_3, Matrix<float, 2, 3>  dOut_2)
{
    Matrix<float, 2, 3>  left_d_result_2;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 3>  right_d_result_2;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = 0.0f;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = 0.0f;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(0)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].x;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(0)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].y;
    *&(((&left_d_result_2)->rows + (int(0)))->x) = *&(((&left_d_result_2)->rows + (int(0)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(0)].x * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->y) = *&(((&left_d_result_2)->rows + (int(0)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(0)].y * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(0)))->z) = *&(((&left_d_result_2)->rows + (int(0)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(0)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(0)].z * dOut_2.rows[int(0)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(0)))->x) = *&(((&right_d_result_2)->rows + (int(0)))->x) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(1)))->x) = *&(((&right_d_result_2)->rows + (int(1)))->x) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].x * dOut_2.rows[int(1)].x;
    *&(((&right_d_result_2)->rows + (int(2)))->x) = *&(((&right_d_result_2)->rows + (int(2)))->x) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].x;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(0)))->y) = *&(((&right_d_result_2)->rows + (int(0)))->y) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(1)))->y) = *&(((&right_d_result_2)->rows + (int(1)))->y) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].y * dOut_2.rows[int(1)].y;
    *&(((&right_d_result_2)->rows + (int(2)))->y) = *&(((&right_d_result_2)->rows + (int(2)))->y) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].y;
    *&(((&left_d_result_2)->rows + (int(1)))->x) = *&(((&left_d_result_2)->rows + (int(1)))->x) + (*right_3).primal_0.rows[int(0)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(0)))->z) = *&(((&right_d_result_2)->rows + (int(0)))->z) + (*left_3).primal_0.rows[int(1)].x * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->y) = *&(((&left_d_result_2)->rows + (int(1)))->y) + (*right_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(1)))->z) = *&(((&right_d_result_2)->rows + (int(1)))->z) + (*left_3).primal_0.rows[int(1)].y * dOut_2.rows[int(1)].z;
    *&(((&left_d_result_2)->rows + (int(1)))->z) = *&(((&left_d_result_2)->rows + (int(1)))->z) + (*right_3).primal_0.rows[int(2)].z * dOut_2.rows[int(1)].z;
    *&(((&right_d_result_2)->rows + (int(2)))->z) = *&(((&right_d_result_2)->rows + (int(2)))->z) + (*left_3).primal_0.rows[int(1)].z * dOut_2.rows[int(1)].z;
    left_3->primal_0 = (*left_3).primal_0;
    left_3->differential_0 = left_d_result_2;
    right_3->primal_0 = (*right_3).primal_0;
    right_3->differential_0 = right_d_result_2;
    return;
}

struct DiffPair_matrixx3Cfloatx2C3x2C2x3E_0
{
    Matrix<float, 3, 2>  primal_0;
    Matrix<float, 3, 2>  differential_0;
};

inline __device__ void mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * left_4, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * right_4, Matrix<float, 2, 2>  dOut_3)
{
    Matrix<float, 2, 3>  left_d_result_3;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = 0.0f;
    Matrix<float, 3, 2>  right_d_result_3;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = 0.0f;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = 0.0f;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(0)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].x;
    *&(((&left_d_result_3)->rows + (int(0)))->x) = *&(((&left_d_result_3)->rows + (int(0)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(0)].x * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->y) = *&(((&left_d_result_3)->rows + (int(0)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(0)].y * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(0)))->z) = *&(((&left_d_result_3)->rows + (int(0)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(0)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(0)].z * dOut_3.rows[int(0)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(0)))->x) = *&(((&right_d_result_3)->rows + (int(0)))->x) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(1)))->x) = *&(((&right_d_result_3)->rows + (int(1)))->x) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].x * dOut_3.rows[int(1)].x;
    *&(((&right_d_result_3)->rows + (int(2)))->x) = *&(((&right_d_result_3)->rows + (int(2)))->x) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].x;
    *&(((&left_d_result_3)->rows + (int(1)))->x) = *&(((&left_d_result_3)->rows + (int(1)))->x) + (*right_4).primal_0.rows[int(0)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(0)))->y) = *&(((&right_d_result_3)->rows + (int(0)))->y) + (*left_4).primal_0.rows[int(1)].x * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->y) = *&(((&left_d_result_3)->rows + (int(1)))->y) + (*right_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(1)))->y) = *&(((&right_d_result_3)->rows + (int(1)))->y) + (*left_4).primal_0.rows[int(1)].y * dOut_3.rows[int(1)].y;
    *&(((&left_d_result_3)->rows + (int(1)))->z) = *&(((&left_d_result_3)->rows + (int(1)))->z) + (*right_4).primal_0.rows[int(2)].y * dOut_3.rows[int(1)].y;
    *&(((&right_d_result_3)->rows + (int(2)))->y) = *&(((&right_d_result_3)->rows + (int(2)))->y) + (*left_4).primal_0.rows[int(1)].z * dOut_3.rows[int(1)].y;
    left_4->primal_0 = (*left_4).primal_0;
    left_4->differential_0 = left_d_result_3;
    right_4->primal_0 = (*right_4).primal_0;
    right_4->differential_0 = right_d_result_3;
    return;
}

inline __device__ Matrix<float, 3, 3>  mul_4(Matrix<float, 3, 3>  left_5, Matrix<float, 3, 3>  right_5)
{
    Matrix<float, 3, 3>  result_4;
    int r_3 = int(0);
    for(;;)
    {
        if(r_3 < int(3))
        {
        }
        else
        {
            break;
        }
        int c_3 = int(0);
        for(;;)
        {
            if(c_3 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_1 = int(0);
            float sum_8 = 0.0f;
            for(;;)
            {
                if(i_1 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_9 = sum_8 + _slang_vector_get_element(left_5.rows[r_3], i_1) * _slang_vector_get_element(right_5.rows[i_1], c_3);
                i_1 = i_1 + int(1);
                sum_8 = sum_9;
            }
            *_slang_vector_get_element_ptr(((&result_4)->rows + (r_3)), c_3) = sum_8;
            c_3 = c_3 + int(1);
        }
        r_3 = r_3 + int(1);
    }
    return result_4;
}

inline __device__ Matrix<float, 2, 3>  mul_5(Matrix<float, 2, 3>  left_6, Matrix<float, 3, 3>  right_6)
{
    Matrix<float, 2, 3>  result_5;
    int r_4 = int(0);
    for(;;)
    {
        if(r_4 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_4 = int(0);
        for(;;)
        {
            if(c_4 < int(3))
            {
            }
            else
            {
                break;
            }
            int i_2 = int(0);
            float sum_10 = 0.0f;
            for(;;)
            {
                if(i_2 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_11 = sum_10 + _slang_vector_get_element(left_6.rows[r_4], i_2) * _slang_vector_get_element(right_6.rows[i_2], c_4);
                i_2 = i_2 + int(1);
                sum_10 = sum_11;
            }
            *_slang_vector_get_element_ptr(((&result_5)->rows + (r_4)), c_4) = sum_10;
            c_4 = c_4 + int(1);
        }
        r_4 = r_4 + int(1);
    }
    return result_5;
}

inline __device__ Matrix<float, 2, 2>  mul_6(Matrix<float, 2, 3>  left_7, Matrix<float, 3, 2>  right_7)
{
    Matrix<float, 2, 2>  result_6;
    int r_5 = int(0);
    for(;;)
    {
        if(r_5 < int(2))
        {
        }
        else
        {
            break;
        }
        int c_5 = int(0);
        for(;;)
        {
            if(c_5 < int(2))
            {
            }
            else
            {
                break;
            }
            int i_3 = int(0);
            float sum_12 = 0.0f;
            for(;;)
            {
                if(i_3 < int(3))
                {
                }
                else
                {
                    break;
                }
                float sum_13 = sum_12 + _slang_vector_get_element(left_7.rows[r_5], i_3) * _slang_vector_get_element(right_7.rows[i_3], c_5);
                i_3 = i_3 + int(1);
                sum_12 = sum_13;
            }
            *_slang_vector_get_element_ptr(((&result_6)->rows + (r_5)), c_5) = sum_12;
            c_5 = c_5 + int(1);
        }
        r_5 = r_5 + int(1);
    }
    return result_6;
}

inline __device__ void covarW2C(Matrix<float, 3, 3>  R_1, Matrix<float, 3, 3>  covarW_0, Matrix<float, 3, 3>  * covarC_0)
{
    *covarC_0 = mul_4(mul_4(R_1, covarW_0), transpose_0(R_1));
    return;
}

inline __device__ void quat_scale_to_covar(float4  quat_1, float3  scale_0, Matrix<float, 3, 3>  * covar_0)
{
    float x_4 = quat_1.y;
    float x2_1 = x_4 * x_4;
    float y2_1 = quat_1.z * quat_1.z;
    float z2_1 = quat_1.w * quat_1.w;
    float xy_1 = quat_1.y * quat_1.z;
    float xz_1 = quat_1.y * quat_1.w;
    float yz_1 = quat_1.z * quat_1.w;
    float wx_1 = quat_1.x * quat_1.y;
    float wy_1 = quat_1.x * quat_1.z;
    float wz_1 = quat_1.x * quat_1.w;
    Matrix<float, 3, 3>  M_0 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_1 + z2_1), 2.0f * (xy_1 + wz_1), 2.0f * (xz_1 - wy_1), 2.0f * (xy_1 - wz_1), 1.0f - 2.0f * (x2_1 + z2_1), 2.0f * (yz_1 + wx_1), 2.0f * (xz_1 + wy_1), 2.0f * (yz_1 - wx_1), 1.0f - 2.0f * (x2_1 + y2_1))), makeMatrix<float, 3, 3> (scale_0.x, 0.0f, 0.0f, 0.0f, scale_0.y, 0.0f, 0.0f, 0.0f, scale_0.z));
    *covar_0 = mul_4(M_0, transpose_0(M_0));
    return;
}

inline __device__ void quat_scale_to_sqrt_covar(float4  quat_2, float3  scale_1, Matrix<float, 3, 3>  * M_1)
{
    float x_5 = quat_2.y;
    float x2_2 = x_5 * x_5;
    float y2_2 = quat_2.z * quat_2.z;
    float z2_2 = quat_2.w * quat_2.w;
    float xy_2 = quat_2.y * quat_2.z;
    float xz_2 = quat_2.y * quat_2.w;
    float yz_2 = quat_2.z * quat_2.w;
    float wx_2 = quat_2.x * quat_2.y;
    float wy_2 = quat_2.x * quat_2.z;
    float wz_2 = quat_2.x * quat_2.w;
    *M_1 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_2 + z2_2), 2.0f * (xy_2 + wz_2), 2.0f * (xz_2 - wy_2), 2.0f * (xy_2 - wz_2), 1.0f - 2.0f * (x2_2 + z2_2), 2.0f * (yz_2 + wx_2), 2.0f * (xz_2 + wy_2), 2.0f * (yz_2 - wx_2), 1.0f - 2.0f * (x2_2 + y2_2))), makeMatrix<float, 3, 3> (scale_1.x, 0.0f, 0.0f, 0.0f, scale_1.y, 0.0f, 0.0f, 0.0f, scale_1.z));
    return;
}

inline __device__ Matrix<float, 2, 2>  inverse(Matrix<float, 2, 2>  m_0)
{
    float invdet_0 = 1.0f / (m_0.rows[int(0)].x * m_0.rows[int(1)].y - m_0.rows[int(0)].y * m_0.rows[int(1)].x);
    return makeMatrix<float, 2, 2> (m_0.rows[int(1)].y * invdet_0, - m_0.rows[int(0)].y * invdet_0, - m_0.rows[int(1)].x * invdet_0, m_0.rows[int(0)].x * invdet_0);
}

inline __device__ Matrix<float, 2, 2>  camera_distortion_jac_0(float2  uv_0, FixedArray<float, 10>  * dist_coeffs_0)
{
    float u_0 = uv_0.x;
    float v_0 = uv_0.y;
    float r2_0 = u_0 * u_0 + v_0 * v_0;
    float _S4 = (*dist_coeffs_0)[int(2)] + r2_0 * (*dist_coeffs_0)[int(3)];
    float _S5 = (*dist_coeffs_0)[int(1)] + r2_0 * _S4;
    float _S6 = (*dist_coeffs_0)[int(0)] + r2_0 * _S5;
    float2  _S7 = make_float2 (1.0f + r2_0 * _S6);
    float _S8 = 2.0f * (*dist_coeffs_0)[int(4)];
    float _S9 = _S8 * u_0;
    float _S10 = 2.0f * u_0;
    float _S11 = 2.0f * (*dist_coeffs_0)[int(5)];
    float _S12 = _S11 * u_0;
    float _S13 = 2.0f * v_0;
    float2  _S14 = make_float2 (1.0f, 0.0f) + make_float2 ((*dist_coeffs_0)[int(8)], (*dist_coeffs_0)[int(9)]);
    float2  _S15 = uv_0 * _S14;
    float _S16 = (*dist_coeffs_0)[int(4)] * _S14.y;
    float _S17 = (*dist_coeffs_0)[int(5)] * _S14.x;
    float _S18 = _S15.x + _S15.y;
    float _S19 = r2_0 * _S18;
    float _S20 = r2_0 * _S19;
    float _S21 = (*dist_coeffs_0)[int(7)] * _S14.y + _S16 + (*dist_coeffs_0)[int(6)] * _S14.x + _S17 + _S6 * _S18 + _S5 * _S19 + _S4 * _S20 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S20);
    float _S22 = v_0 * _S21;
    float _S23 = u_0 * _S21;
    float2  _S24 = make_float2 (0.0f, 1.0f) + make_float2 (0.0f, 0.0f);
    float2  _S25 = uv_0 * _S24;
    float _S26 = (*dist_coeffs_0)[int(4)] * _S24.y;
    float _S27 = (*dist_coeffs_0)[int(5)] * _S24.x;
    float _S28 = _S25.x + _S25.y;
    float _S29 = r2_0 * _S28;
    float _S30 = r2_0 * _S29;
    float _S31 = (*dist_coeffs_0)[int(7)] * _S24.y + _S26 + (*dist_coeffs_0)[int(6)] * _S24.x + _S27 + _S6 * _S28 + _S5 * _S29 + _S4 * _S30 + (*dist_coeffs_0)[int(3)] * (r2_0 * _S30);
    float _S32 = v_0 * _S31;
    float _S33 = u_0 * _S31;
    return makeMatrix<float, 2, 2> (_S7 * _S14 + make_float2 (_S11 * (v_0 * _S14.y) + _S10 * _S17 + 2.0f * (u_0 * _S17) + _S8 * (v_0 * _S14.x) + _S23 + _S23, _S13 * _S16 + 2.0f * (v_0 * _S16) + _S12 * _S14.y + _S9 * _S14.x + _S22 + _S22), _S7 * _S24 + make_float2 (_S11 * (v_0 * _S24.y) + _S10 * _S27 + 2.0f * (u_0 * _S27) + _S8 * (v_0 * _S24.x) + _S33 + _S33, _S13 * _S26 + 2.0f * (v_0 * _S26) + _S12 * _S24.y + _S9 * _S24.x + _S32 + _S32));
}

inline __device__ float determinant_0(Matrix<float, 2, 2>  m_1)
{
    return m_1.rows[int(0)].x * m_1.rows[int(1)].y - m_1.rows[int(0)].y * m_1.rows[int(1)].x;
}

struct DiffPair_float_0
{
    float primal_0;
    float differential_0;
};

inline __device__ void _d_min_0(DiffPair_float_0 * dpx_0, DiffPair_float_0 * dpy_0, float dOut_4)
{
    DiffPair_float_0 _S34 = *dpx_0;
    float _S35;
    if(((*dpx_0).primal_0) < ((*dpy_0).primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpx_0).primal_0) > ((*dpy_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpx_0->primal_0 = _S34.primal_0;
    dpx_0->differential_0 = _S35;
    DiffPair_float_0 _S36 = *dpy_0;
    if(((*dpy_0).primal_0) < (_S34.primal_0))
    {
        _S35 = dOut_4;
    }
    else
    {
        if(((*dpy_0).primal_0) > ((*dpx_0).primal_0))
        {
            _S35 = 0.0f;
        }
        else
        {
            _S35 = 0.5f * dOut_4;
        }
    }
    dpy_0->primal_0 = _S36.primal_0;
    dpy_0->differential_0 = _S35;
    return;
}

inline __device__ bool is_valid_distortion(float2  uv_1, FixedArray<float, 10>  * dist_coeffs_1)
{
    Matrix<float, 2, 2>  _S37 = camera_distortion_jac_0(uv_1, dist_coeffs_1);
    return (F32_min((determinant_0(_S37)), ((F32_min((_S37.rows[int(0)].x), (_S37.rows[int(1)].y)))))) > 0.0f;
}

inline __device__ void _d_max_0(DiffPair_float_0 * dpx_1, DiffPair_float_0 * dpy_1, float dOut_5)
{
    DiffPair_float_0 _S38 = *dpx_1;
    float _S39;
    if(((*dpx_1).primal_0) > ((*dpy_1).primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpx_1).primal_0) < ((*dpy_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpx_1->primal_0 = _S38.primal_0;
    dpx_1->differential_0 = _S39;
    DiffPair_float_0 _S40 = *dpy_1;
    if(((*dpy_1).primal_0) > (_S38.primal_0))
    {
        _S39 = dOut_5;
    }
    else
    {
        if(((*dpy_1).primal_0) < ((*dpx_1).primal_0))
        {
            _S39 = 0.0f;
        }
        else
        {
            _S39 = 0.5f * dOut_5;
        }
    }
    dpy_1->primal_0 = _S40.primal_0;
    dpy_1->differential_0 = _S39;
    return;
}

inline __device__ void _d_sqrt_0(DiffPair_float_0 * dpx_2, float dOut_6)
{
    float _S41 = 0.5f / (F32_sqrt(((F32_max((1.00000001168609742e-07f), ((*dpx_2).primal_0)))))) * dOut_6;
    dpx_2->primal_0 = (*dpx_2).primal_0;
    dpx_2->differential_0 = _S41;
    return;
}

inline __device__ void _d_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_2, float dOut_7)
{
    float3  x_d_result_0;
    *&((&x_d_result_0)->x) = (*dpy_2).primal_0.x * dOut_7;
    float3  y_d_result_0;
    *&((&y_d_result_0)->x) = (*dpx_3).primal_0.x * dOut_7;
    *&((&x_d_result_0)->y) = (*dpy_2).primal_0.y * dOut_7;
    *&((&y_d_result_0)->y) = (*dpx_3).primal_0.y * dOut_7;
    *&((&x_d_result_0)->z) = (*dpy_2).primal_0.z * dOut_7;
    *&((&y_d_result_0)->z) = (*dpx_3).primal_0.z * dOut_7;
    dpx_3->primal_0 = (*dpx_3).primal_0;
    dpx_3->differential_0 = x_d_result_0;
    dpy_2->primal_0 = (*dpy_2).primal_0;
    dpy_2->differential_0 = y_d_result_0;
    return;
}

inline __device__ float dot_0(float3  x_6, float3  y_0)
{
    int i_4 = int(0);
    float result_7 = 0.0f;
    for(;;)
    {
        if(i_4 < int(3))
        {
        }
        else
        {
            break;
        }
        float result_8 = result_7 + _slang_vector_get_element(x_6, i_4) * _slang_vector_get_element(y_0, i_4);
        i_4 = i_4 + int(1);
        result_7 = result_8;
    }
    return result_7;
}

inline __device__ float dot_1(float2  x_7, float2  y_1)
{
    int i_5 = int(0);
    float result_9 = 0.0f;
    for(;;)
    {
        if(i_5 < int(2))
        {
        }
        else
        {
            break;
        }
        float result_10 = result_9 + _slang_vector_get_element(x_7, i_5) * _slang_vector_get_element(y_1, i_5);
        i_5 = i_5 + int(1);
        result_9 = result_10;
    }
    return result_9;
}

inline __device__ float length_0(float2  x_8)
{
    return (F32_sqrt((dot_1(x_8, x_8))));
}

inline __device__ float length_1(float3  x_9)
{
    return (F32_sqrt((dot_0(x_9, x_9))));
}

inline __device__ float2  distort_point(float2  uv_2, bool is_fisheye_0, FixedArray<float, 10>  * dist_coeffs_2)
{
    float2  _S42;
    if(is_fisheye_0)
    {
        float r_6 = length_0(uv_2);
        float theta_0 = (F32_atan((r_6)));
        float _S43;
        if(r_6 < 0.00100000004749745f)
        {
            _S43 = 1.0f - r_6 * r_6 / 3.0f;
        }
        else
        {
            _S43 = theta_0 / r_6;
        }
        _S42 = uv_2 * make_float2 (_S43);
    }
    else
    {
        _S42 = uv_2;
    }
    float u_1 = _S42.x;
    float v_1 = _S42.y;
    float r2_1 = u_1 * u_1 + v_1 * v_1;
    float2  _S44 = _S42 * make_float2 (1.0f + r2_1 * ((*dist_coeffs_2)[int(0)] + r2_1 * ((*dist_coeffs_2)[int(1)] + r2_1 * ((*dist_coeffs_2)[int(2)] + r2_1 * (*dist_coeffs_2)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_2)[int(4)] * u_1 * v_1 + (*dist_coeffs_2)[int(5)] * (r2_1 + 2.0f * u_1 * u_1) + (*dist_coeffs_2)[int(6)] * r2_1, 2.0f * (*dist_coeffs_2)[int(5)] * u_1 * v_1 + (*dist_coeffs_2)[int(4)] * (r2_1 + 2.0f * v_1 * v_1) + (*dist_coeffs_2)[int(7)] * r2_1);
    return _S44 + make_float2 ((*dist_coeffs_2)[int(8)] * _S44.x + (*dist_coeffs_2)[int(9)] * _S44.y, 0.0f);
}

inline __device__ bool undistort_point_0(float2  uv_3, FixedArray<float, 10>  * dist_coeffs_3, int maxiter_0, float2  * uv_undist_0)
{
    int i_6 = int(0);
    float2  q_0 = uv_3;
    for(;;)
    {
        if(i_6 < maxiter_0)
        {
        }
        else
        {
            break;
        }
        float u_2 = q_0.x;
        float v_2 = q_0.y;
        float r2_2 = u_2 * u_2 + v_2 * v_2;
        float2  _S45 = q_0 * make_float2 (1.0f + r2_2 * ((*dist_coeffs_3)[int(0)] + r2_2 * ((*dist_coeffs_3)[int(1)] + r2_2 * ((*dist_coeffs_3)[int(2)] + r2_2 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_2 * v_2 + (*dist_coeffs_3)[int(5)] * (r2_2 + 2.0f * u_2 * u_2) + (*dist_coeffs_3)[int(6)] * r2_2, 2.0f * (*dist_coeffs_3)[int(5)] * u_2 * v_2 + (*dist_coeffs_3)[int(4)] * (r2_2 + 2.0f * v_2 * v_2) + (*dist_coeffs_3)[int(7)] * r2_2);
        float2  r_7 = _S45 + make_float2 ((*dist_coeffs_3)[int(8)] * _S45.x + (*dist_coeffs_3)[int(9)] * _S45.y, 0.0f) - uv_3;
        Matrix<float, 2, 2>  _S46 = camera_distortion_jac_0(q_0, dist_coeffs_3);
        float inv_det_0 = 1.0f / (_S46.rows[int(0)].x * _S46.rows[int(1)].y - _S46.rows[int(0)].y * _S46.rows[int(1)].x);
        float _S47 = r_7.x;
        float _S48 = r_7.y;
        float2  q_1 = q_0 - make_float2 ((_S47 * _S46.rows[int(1)].y - _S48 * _S46.rows[int(0)].y) * inv_det_0, (- _S47 * _S46.rows[int(1)].x + _S48 * _S46.rows[int(0)].x) * inv_det_0);
        i_6 = i_6 + int(1);
        q_0 = q_1;
    }
    *uv_undist_0 = q_0;
    Matrix<float, 2, 2>  _S49 = camera_distortion_jac_0(q_0, dist_coeffs_3);
    bool _S50;
    if((F32_min((determinant_0(_S49)), ((F32_min((_S49.rows[int(0)].x), (_S49.rows[int(1)].y)))))) > 0.0f)
    {
        float u_3 = (*uv_undist_0).x;
        float v_3 = (*uv_undist_0).y;
        float r2_3 = u_3 * u_3 + v_3 * v_3;
        float2  _S51 = *uv_undist_0 * make_float2 (1.0f + r2_3 * ((*dist_coeffs_3)[int(0)] + r2_3 * ((*dist_coeffs_3)[int(1)] + r2_3 * ((*dist_coeffs_3)[int(2)] + r2_3 * (*dist_coeffs_3)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_3)[int(4)] * u_3 * v_3 + (*dist_coeffs_3)[int(5)] * (r2_3 + 2.0f * u_3 * u_3) + (*dist_coeffs_3)[int(6)] * r2_3, 2.0f * (*dist_coeffs_3)[int(5)] * u_3 * v_3 + (*dist_coeffs_3)[int(4)] * (r2_3 + 2.0f * v_3 * v_3) + (*dist_coeffs_3)[int(7)] * r2_3);
        _S50 = (length_0(_S51 + make_float2 ((*dist_coeffs_3)[int(8)] * _S51.x + (*dist_coeffs_3)[int(9)] * _S51.y, 0.0f) - uv_3)) < 0.00999999977648258f;
    }
    else
    {
        _S50 = false;
    }
    return _S50;
}

inline __device__ bool undistort_point(float2  uv_4, bool is_fisheye_1, FixedArray<float, 10>  * dist_coeffs_4, float2  * uv_undist_1)
{
    float2  _S52 = uv_4;
    bool _S53 = undistort_point_0(uv_4, dist_coeffs_4, int(8), &_S52);
    if(!_S53)
    {
        return false;
    }
    float3  raydir_0;
    if(is_fisheye_1)
    {
        float2  _S54 = _S52;
        float theta_1 = length_0(_S52);
        float _S55;
        if(theta_1 < 0.00100000004749745f)
        {
            _S55 = 1.0f - theta_1 * theta_1 / 6.0f;
        }
        else
        {
            _S55 = (F32_sin((theta_1))) / theta_1;
        }
        float3  _S56 = make_float3 ((_S54 * make_float2 (_S55)).x, (_S54 * make_float2 (_S55)).y, (F32_cos((theta_1))));
        raydir_0 = _S56;
    }
    else
    {
        raydir_0 = make_float3 (_S52.x, _S52.y, 1.0f);
    }
    *uv_undist_1 = float2 {raydir_0.x, raydir_0.y} / make_float2 ((F32_max((raydir_0.z), (9.999999960041972e-13f))));
    return true;
}

inline __device__ bool unproject_point(float2  uv_5, bool is_fisheye_2, FixedArray<float, 10>  * dist_coeffs_5, float3  * raydir_1)
{
    float2  _S57 = uv_5;
    int3  _S58 = make_int3 (int(0));
    float3  _S59 = make_float3 ((float)_S58.x, (float)_S58.y, (float)_S58.z);
    *raydir_1 = _S59;
    bool _S60 = undistort_point_0(uv_5, dist_coeffs_5, int(8), &_S57);
    if(!_S60)
    {
        return false;
    }
    float3  _S61;
    if(is_fisheye_2)
    {
        float2  _S62 = _S57;
        float theta_2 = length_0(_S57);
        float _S63;
        if(theta_2 < 0.00100000004749745f)
        {
            _S63 = 1.0f - theta_2 * theta_2 / 6.0f;
        }
        else
        {
            _S63 = (F32_sin((theta_2))) / theta_2;
        }
        float3  _S64 = make_float3 ((_S62 * make_float2 (_S63)).x, (_S62 * make_float2 (_S63)).y, (F32_cos((theta_2))));
        _S61 = _S64;
    }
    else
    {
        _S61 = make_float3 (_S57.x, _S57.y, 1.0f);
    }
    *raydir_1 = _S61;
    return true;
}

inline __device__ float3  normalize_0(float3  x_10)
{
    return x_10 / make_float3 (length_1(x_10));
}

inline __device__ bool generate_ray(float2  uv_6, bool is_fisheye_3, FixedArray<float, 10>  * dist_coeffs_6, float3  * raydir_2)
{
    float2  _S65 = uv_6;
    bool _S66 = undistort_point_0(uv_6, dist_coeffs_6, int(8), &_S65);
    if(!_S66)
    {
        int3  _S67 = make_int3 (int(0));
        float3  _S68 = make_float3 ((float)_S67.x, (float)_S67.y, (float)_S67.z);
        *raydir_2 = _S68;
        return false;
    }
    float3  _S69;
    if(is_fisheye_3)
    {
        float2  _S70 = _S65;
        float theta_3 = length_0(_S65);
        float _S71;
        if(theta_3 < 0.00100000004749745f)
        {
            _S71 = 1.0f - theta_3 * theta_3 / 6.0f;
        }
        else
        {
            _S71 = (F32_sin((theta_3))) / theta_3;
        }
        float3  _S72 = make_float3 ((_S70 * make_float2 (_S71)).x, (_S70 * make_float2 (_S71)).y, (F32_cos((theta_3))));
        _S69 = _S72;
    }
    else
    {
        _S69 = make_float3 (_S65.x, _S65.y, 1.0f);
    }
    *raydir_2 = normalize_0(_S69);
    return true;
}

inline __device__ void _d_mul_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * left_8, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * right_8, float3  dOut_8)
{
    float _S73 = (*right_8).primal_0.rows[int(0)].x * dOut_8.x;
    Matrix<float, 3, 3>  right_d_result_4;
    *&(((&right_d_result_4)->rows + (int(0)))->x) = (*left_8).primal_0.x * dOut_8.x;
    float sum_14 = _S73 + (*right_8).primal_0.rows[int(0)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(0)))->y) = (*left_8).primal_0.x * dOut_8.y;
    float sum_15 = sum_14 + (*right_8).primal_0.rows[int(0)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(0)))->z) = (*left_8).primal_0.x * dOut_8.z;
    float3  left_d_result_4;
    *&((&left_d_result_4)->x) = sum_15;
    float _S74 = (*right_8).primal_0.rows[int(1)].x * dOut_8.x;
    *&(((&right_d_result_4)->rows + (int(1)))->x) = (*left_8).primal_0.y * dOut_8.x;
    float sum_16 = _S74 + (*right_8).primal_0.rows[int(1)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(1)))->y) = (*left_8).primal_0.y * dOut_8.y;
    float sum_17 = sum_16 + (*right_8).primal_0.rows[int(1)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(1)))->z) = (*left_8).primal_0.y * dOut_8.z;
    *&((&left_d_result_4)->y) = sum_17;
    float _S75 = (*right_8).primal_0.rows[int(2)].x * dOut_8.x;
    *&(((&right_d_result_4)->rows + (int(2)))->x) = (*left_8).primal_0.z * dOut_8.x;
    float sum_18 = _S75 + (*right_8).primal_0.rows[int(2)].y * dOut_8.y;
    *&(((&right_d_result_4)->rows + (int(2)))->y) = (*left_8).primal_0.z * dOut_8.y;
    float sum_19 = sum_18 + (*right_8).primal_0.rows[int(2)].z * dOut_8.z;
    *&(((&right_d_result_4)->rows + (int(2)))->z) = (*left_8).primal_0.z * dOut_8.z;
    *&((&left_d_result_4)->z) = sum_19;
    left_8->primal_0 = (*left_8).primal_0;
    left_8->differential_0 = left_d_result_4;
    right_8->primal_0 = (*right_8).primal_0;
    right_8->differential_0 = right_d_result_4;
    return;
}

inline __device__ float3  mul_7(float3  left_9, Matrix<float, 3, 3>  right_9)
{
    float3  result_11;
    int j_1 = int(0);
    for(;;)
    {
        if(j_1 < int(3))
        {
        }
        else
        {
            break;
        }
        int i_7 = int(0);
        float sum_20 = 0.0f;
        for(;;)
        {
            if(i_7 < int(3))
            {
            }
            else
            {
                break;
            }
            float sum_21 = sum_20 + _slang_vector_get_element(left_9, i_7) * _slang_vector_get_element(right_9.rows[i_7], j_1);
            i_7 = i_7 + int(1);
            sum_20 = sum_21;
        }
        *_slang_vector_get_element_ptr(&result_11, j_1) = sum_20;
        j_1 = j_1 + int(1);
    }
    return result_11;
}

inline __device__ float3  transform_ray_o(Matrix<float, 3, 3>  R_2, float3  t_1)
{
    return - mul_7(t_1, R_2);
}

inline __device__ float3  transform_ray_d(Matrix<float, 3, 3>  R_3, float3  raydir_3)
{
    return mul_7(raydir_3, R_3);
}

inline __device__ float3  undo_transform_ray_d(Matrix<float, 3, 3>  R_4, float3  raydir_4)
{
    return mul_7(raydir_4, transpose_0(R_4));
}

inline __device__ void s_bwd_prop_mul_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S76, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S77, float3  _S78)
{
    _d_mul_1(_S76, _S77, _S78);
    return;
}

inline __device__ void s_bwd_prop_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_0, float3  _s_dOut_0)
{
    float3  _S79 = - _s_dOut_0;
    float3  _S80 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S81;
    (&_S81)->primal_0 = (*dpt_0).primal_0;
    (&_S81)->differential_0 = _S80;
    Matrix<float, 3, 3>  _S82 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S83;
    (&_S83)->primal_0 = (*dpR_0).primal_0;
    (&_S83)->differential_0 = _S82;
    s_bwd_prop_mul_0(&_S81, &_S83, _S79);
    dpt_0->primal_0 = (*dpt_0).primal_0;
    dpt_0->differential_0 = _S81.differential_0;
    dpR_0->primal_0 = (*dpR_0).primal_0;
    dpR_0->differential_0 = _S83.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_o_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S84, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S85, float3  _S86)
{
    s_bwd_prop_transform_ray_o_0(_S84, _S85, _S86);
    return;
}

inline __device__ void transform_ray_o_vjp(Matrix<float, 3, 3>  R_5, float3  t_2, float3  v_ray_o_0, Matrix<float, 3, 3>  * v_R_0, float3  * v_t_0)
{
    Matrix<float, 3, 3>  _S87 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_0;
    (&dp_R_0)->primal_0 = R_5;
    (&dp_R_0)->differential_0 = _S87;
    float3  _S88 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_0;
    (&dp_t_0)->primal_0 = t_2;
    (&dp_t_0)->differential_0 = _S88;
    s_bwd_transform_ray_o_0(&dp_R_0, &dp_t_0, v_ray_o_0);
    *v_R_0 = dp_R_0.differential_0;
    *v_t_0 = dp_t_0.differential_0;
    return;
}

inline __device__ void s_bwd_prop_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpraydir_0, float3  _s_dOut_1)
{
    float3  _S89 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S90;
    (&_S90)->primal_0 = (*dpraydir_0).primal_0;
    (&_S90)->differential_0 = _S89;
    Matrix<float, 3, 3>  _S91 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S92;
    (&_S92)->primal_0 = (*dpR_1).primal_0;
    (&_S92)->differential_0 = _S91;
    s_bwd_prop_mul_0(&_S90, &_S92, _s_dOut_1);
    dpraydir_0->primal_0 = (*dpraydir_0).primal_0;
    dpraydir_0->differential_0 = _S90.differential_0;
    dpR_1->primal_0 = (*dpR_1).primal_0;
    dpR_1->differential_0 = _S92.differential_0;
    return;
}

inline __device__ void s_bwd_transform_ray_d_0(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S93, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S94, float3  _S95)
{
    s_bwd_prop_transform_ray_d_0(_S93, _S94, _S95);
    return;
}

inline __device__ void transform_ray_d_vjp(Matrix<float, 3, 3>  R_6, float3  raydir_5, float3  v_ray_d_0, Matrix<float, 3, 3>  * v_R_1, float3  * v_raydir_0)
{
    Matrix<float, 3, 3>  _S96 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_1;
    (&dp_R_1)->primal_0 = R_6;
    (&dp_R_1)->differential_0 = _S96;
    float3  _S97 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_raydir_0;
    (&dp_raydir_0)->primal_0 = raydir_5;
    (&dp_raydir_0)->differential_0 = _S97;
    s_bwd_transform_ray_d_0(&dp_R_1, &dp_raydir_0, v_ray_d_0);
    *v_R_1 = dp_R_1.differential_0;
    *v_raydir_0 = dp_raydir_0.differential_0;
    return;
}

inline __device__ void _d_exp_0(DiffPair_float_0 * dpx_4, float dOut_9)
{
    float _S98 = (F32_exp(((*dpx_4).primal_0))) * dOut_9;
    dpx_4->primal_0 = (*dpx_4).primal_0;
    dpx_4->differential_0 = _S98;
    return;
}

inline __device__ void map_opaque_triangle(float3  mean_0, float4  quat_3, float3  scale_2, float3  * vert0_0, float3  * vert1_0, float3  * vert2_0)
{
    float _S99 = scale_2.x;
    float sx_0 = (F32_exp((_S99)));
    float _S100 = scale_2.y;
    float sy_0 = (F32_exp((_S100)));
    float sz_0 = scale_2.z - 0.5f * (_S99 + _S100);
    float x_11 = quat_3.y;
    float x2_3 = x_11 * x_11;
    float y2_3 = quat_3.z * quat_3.z;
    float z2_3 = quat_3.w * quat_3.w;
    float xy_3 = quat_3.y * quat_3.z;
    float xz_3 = quat_3.y * quat_3.w;
    float yz_3 = quat_3.z * quat_3.w;
    float wx_3 = quat_3.x * quat_3.y;
    float wy_3 = quat_3.x * quat_3.z;
    float wz_3 = quat_3.x * quat_3.w;
    Matrix<float, 3, 3>  _S101 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_3 + z2_3), 2.0f * (xy_3 + wz_3), 2.0f * (xz_3 - wy_3), 2.0f * (xy_3 - wz_3), 1.0f - 2.0f * (x2_3 + z2_3), 2.0f * (yz_3 + wx_3), 2.0f * (xz_3 + wy_3), 2.0f * (yz_3 - wx_3), 1.0f - 2.0f * (x2_3 + y2_3)));
    *vert0_0 = mul_0(_S101, make_float3 (sx_0, 0.0f, 0.0f)) + mean_0;
    *vert1_0 = mul_0(_S101, make_float3 (sx_0 * (-0.5f + sz_0), sy_0, 0.0f)) + mean_0;
    *vert2_0 = mul_0(_S101, make_float3 (sx_0 * (-0.5f - sz_0), - sy_0, 0.0f)) + mean_0;
    return;
}

inline __device__ void persp_proj_3dgs(float3  mean3d_0, Matrix<float, 3, 3>  cov3d_0, float fx_0, float fy_0, float cx_0, float cy_0, uint width_0, uint height_0, Matrix<float, 2, 2>  * cov2d_0, float2  * mean2d_0)
{
    float _S102 = float(width_0);
    float _S103 = float(height_0);
    float _S104 = 0.30000001192092896f * (0.5f * _S102 / fx_0);
    float _S105 = 0.30000001192092896f * (0.5f * _S103 / fy_0);
    float rz_0 = 1.0f / mean3d_0.z;
    float rz2_0 = rz_0 * rz_0;
    Matrix<float, 2, 3>  J_0 = makeMatrix<float, 2, 3> (fx_0 * rz_0, 0.0f, - fx_0 * (mean3d_0.z * (F32_min(((_S102 - cx_0) / fx_0 + _S104), ((F32_max((- (cx_0 / fx_0 + _S104)), (mean3d_0.x * rz_0))))))) * rz2_0, 0.0f, fy_0 * rz_0, - fy_0 * (mean3d_0.z * (F32_min(((_S103 - cy_0) / fy_0 + _S105), ((F32_max((- (cy_0 / fy_0 + _S105)), (mean3d_0.y * rz_0))))))) * rz2_0);
    *cov2d_0 = mul_6(mul_5(J_0, cov3d_0), transpose_1(J_0));
    *mean2d_0 = make_float2 (fx_0 * mean3d_0.x * rz_0 + cx_0, fy_0 * mean3d_0.y * rz_0 + cy_0);
    return;
}

inline __device__ void _d_clamp_0(DiffPair_float_0 * dpx_5, DiffPair_float_0 * dpMin_0, DiffPair_float_0 * dpMax_0, float dOut_10)
{
    DiffPair_float_0 _S106 = *dpx_5;
    bool _S107;
    if(((*dpx_5).primal_0) >= ((*dpMin_0).primal_0))
    {
        _S107 = ((*dpx_5).primal_0) <= ((*dpMax_0).primal_0);
    }
    else
    {
        _S107 = false;
    }
    float _S108;
    if(_S107)
    {
        _S108 = dOut_10;
    }
    else
    {
        _S108 = 0.0f;
    }
    dpx_5->primal_0 = _S106.primal_0;
    dpx_5->differential_0 = _S108;
    DiffPair_float_0 _S109 = *dpMin_0;
    if((_S106.primal_0) < ((*dpMin_0).primal_0))
    {
        _S108 = dOut_10;
    }
    else
    {
        _S108 = 0.0f;
    }
    dpMin_0->primal_0 = _S109.primal_0;
    dpMin_0->differential_0 = _S108;
    DiffPair_float_0 _S110 = *dpMax_0;
    if(((*dpx_5).primal_0) > ((*dpMax_0).primal_0))
    {
        _S108 = dOut_10;
    }
    else
    {
        _S108 = 0.0f;
    }
    dpMax_0->primal_0 = _S110.primal_0;
    dpMax_0->differential_0 = _S108;
    return;
}

inline __device__ float clamp_0(float x_12, float minBound_0, float maxBound_0)
{
    return (F32_min(((F32_max((x_12), (minBound_0)))), (maxBound_0)));
}

struct SigmaPoints_0
{
    FixedArray<float3 , 7>  p_0;
    FixedArray<float, 7>  w_mean_0;
    FixedArray<float, 7>  w_cov_0;
};

inline __device__ bool persp_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_0, float4  intrins_0, FixedArray<float, 10>  * dist_coeffs_7, uint width_1, uint height_1, Matrix<float, 2, 2>  * cov2d_1, float2  * mean2d_1)
{
    float2  * _S111;
    float2  * _S112;
    float2  * _S113;
    bool _S114;
    float2  * _S115;
    float2  * _S116;
    float2  * _S117;
    bool _S118;
    float2  * _S119;
    bool _S120;
    int2  _S121 = make_int2 (int(0));
    float2  _S122 = make_float2 ((float)_S121.x, (float)_S121.y);
    *mean2d_1 = _S122;
    *cov2d_1 = makeMatrix<float, 2, 2> (0.0f);
    float fx_1 = intrins_0.x;
    float fy_1 = intrins_0.y;
    float _S123 = float(width_1);
    float _S124 = float(height_1);
    float _S125 = 0.30000001192092896f * (0.5f * _S123 / fx_1) * fx_1;
    float lim_x_pos_0 = _S123 + _S125;
    float _S126 = 0.30000001192092896f * (0.5f * _S124 / fy_1) * fy_1;
    float lim_y_pos_0 = _S124 + _S126;
    FixedArray<float2 , 7>  proj_points_0;
    for(;;)
    {
        bool _S127;
        _S111 = &proj_points_0[int(0)];
        for(;;)
        {
            float _S128 = sigmas_0->p_0[int(0)].z;
            proj_points_0[int(0)] = float2 {sigmas_0->p_0[int(0)].x, sigmas_0->p_0[int(0)].y} / make_float2 (_S128);
            if(_S128 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S129 = camera_distortion_jac_0(proj_points_0[int(0)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S129)), ((F32_min((_S129.rows[int(0)].x), (_S129.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_4 = proj_points_0[int(0)].x;
            float v_4 = proj_points_0[int(0)].y;
            float r2_4 = u_4 * u_4 + v_4 * v_4;
            float2  _S130 = proj_points_0[int(0)] * make_float2 (1.0f + r2_4 * ((*dist_coeffs_7)[int(0)] + r2_4 * ((*dist_coeffs_7)[int(1)] + r2_4 * ((*dist_coeffs_7)[int(2)] + r2_4 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_4 * v_4 + (*dist_coeffs_7)[int(5)] * (r2_4 + 2.0f * u_4 * u_4) + (*dist_coeffs_7)[int(6)] * r2_4, 2.0f * (*dist_coeffs_7)[int(5)] * u_4 * v_4 + (*dist_coeffs_7)[int(4)] * (r2_4 + 2.0f * v_4 * v_4) + (*dist_coeffs_7)[int(7)] * r2_4);
            float2  _S131 = _S130 + make_float2 ((*dist_coeffs_7)[int(8)] * _S130.x + (*dist_coeffs_7)[int(9)] * _S130.y, 0.0f);
            proj_points_0[int(0)] = make_float2 (fx_1 * _S131.x + intrins_0.z, fy_1 * _S131.y + intrins_0.w);
            break;
        }
        bool all_valid_0 = true & (!_S127);
        _S112 = &proj_points_0[int(1)];
        for(;;)
        {
            float _S132 = sigmas_0->p_0[int(1)].z;
            proj_points_0[int(1)] = float2 {sigmas_0->p_0[int(1)].x, sigmas_0->p_0[int(1)].y} / make_float2 (_S132);
            if(_S132 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S133 = camera_distortion_jac_0(proj_points_0[int(1)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S133)), ((F32_min((_S133.rows[int(0)].x), (_S133.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_5 = proj_points_0[int(1)].x;
            float v_5 = proj_points_0[int(1)].y;
            float r2_5 = u_5 * u_5 + v_5 * v_5;
            float2  _S134 = proj_points_0[int(1)] * make_float2 (1.0f + r2_5 * ((*dist_coeffs_7)[int(0)] + r2_5 * ((*dist_coeffs_7)[int(1)] + r2_5 * ((*dist_coeffs_7)[int(2)] + r2_5 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_5 * v_5 + (*dist_coeffs_7)[int(5)] * (r2_5 + 2.0f * u_5 * u_5) + (*dist_coeffs_7)[int(6)] * r2_5, 2.0f * (*dist_coeffs_7)[int(5)] * u_5 * v_5 + (*dist_coeffs_7)[int(4)] * (r2_5 + 2.0f * v_5 * v_5) + (*dist_coeffs_7)[int(7)] * r2_5);
            float2  _S135 = _S134 + make_float2 ((*dist_coeffs_7)[int(8)] * _S134.x + (*dist_coeffs_7)[int(9)] * _S134.y, 0.0f);
            proj_points_0[int(1)] = make_float2 (fx_1 * _S135.x + intrins_0.z, fy_1 * _S135.y + intrins_0.w);
            break;
        }
        bool all_valid_1 = all_valid_0 & (!_S127);
        for(;;)
        {
            _S113 = &proj_points_0[int(2)];
            for(;;)
            {
                float _S136 = sigmas_0->p_0[int(2)].z;
                proj_points_0[int(2)] = float2 {sigmas_0->p_0[int(2)].x, sigmas_0->p_0[int(2)].y} / make_float2 (_S136);
                if(_S136 < 0.0f)
                {
                    _S127 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S137 = camera_distortion_jac_0(proj_points_0[int(2)], dist_coeffs_7);
                    _S127 = !((F32_min((determinant_0(_S137)), ((F32_min((_S137.rows[int(0)].x), (_S137.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S127)
                {
                    break;
                }
                float u_6 = proj_points_0[int(2)].x;
                float v_6 = proj_points_0[int(2)].y;
                float r2_6 = u_6 * u_6 + v_6 * v_6;
                float2  _S138 = proj_points_0[int(2)] * make_float2 (1.0f + r2_6 * ((*dist_coeffs_7)[int(0)] + r2_6 * ((*dist_coeffs_7)[int(1)] + r2_6 * ((*dist_coeffs_7)[int(2)] + r2_6 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_6 * v_6 + (*dist_coeffs_7)[int(5)] * (r2_6 + 2.0f * u_6 * u_6) + (*dist_coeffs_7)[int(6)] * r2_6, 2.0f * (*dist_coeffs_7)[int(5)] * u_6 * v_6 + (*dist_coeffs_7)[int(4)] * (r2_6 + 2.0f * v_6 * v_6) + (*dist_coeffs_7)[int(7)] * r2_6);
                float2  _S139 = _S138 + make_float2 ((*dist_coeffs_7)[int(8)] * _S138.x + (*dist_coeffs_7)[int(9)] * _S138.y, 0.0f);
                proj_points_0[int(2)] = make_float2 (fx_1 * _S139.x + intrins_0.z, fy_1 * _S139.y + intrins_0.w);
                break;
            }
            _S114 = all_valid_1 & (!_S127);
            break;
        }
        _S115 = &proj_points_0[int(3)];
        for(;;)
        {
            float _S140 = sigmas_0->p_0[int(3)].z;
            proj_points_0[int(3)] = float2 {sigmas_0->p_0[int(3)].x, sigmas_0->p_0[int(3)].y} / make_float2 (_S140);
            if(_S140 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S141 = camera_distortion_jac_0(proj_points_0[int(3)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S141)), ((F32_min((_S141.rows[int(0)].x), (_S141.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_7 = proj_points_0[int(3)].x;
            float v_7 = proj_points_0[int(3)].y;
            float r2_7 = u_7 * u_7 + v_7 * v_7;
            float2  _S142 = proj_points_0[int(3)] * make_float2 (1.0f + r2_7 * ((*dist_coeffs_7)[int(0)] + r2_7 * ((*dist_coeffs_7)[int(1)] + r2_7 * ((*dist_coeffs_7)[int(2)] + r2_7 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_7 * v_7 + (*dist_coeffs_7)[int(5)] * (r2_7 + 2.0f * u_7 * u_7) + (*dist_coeffs_7)[int(6)] * r2_7, 2.0f * (*dist_coeffs_7)[int(5)] * u_7 * v_7 + (*dist_coeffs_7)[int(4)] * (r2_7 + 2.0f * v_7 * v_7) + (*dist_coeffs_7)[int(7)] * r2_7);
            float2  _S143 = _S142 + make_float2 ((*dist_coeffs_7)[int(8)] * _S142.x + (*dist_coeffs_7)[int(9)] * _S142.y, 0.0f);
            proj_points_0[int(3)] = make_float2 (fx_1 * _S143.x + intrins_0.z, fy_1 * _S143.y + intrins_0.w);
            break;
        }
        bool all_valid_2 = _S114 & (!_S127);
        _S116 = &proj_points_0[int(4)];
        for(;;)
        {
            float _S144 = sigmas_0->p_0[int(4)].z;
            proj_points_0[int(4)] = float2 {sigmas_0->p_0[int(4)].x, sigmas_0->p_0[int(4)].y} / make_float2 (_S144);
            if(_S144 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S145 = camera_distortion_jac_0(proj_points_0[int(4)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S145)), ((F32_min((_S145.rows[int(0)].x), (_S145.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_8 = proj_points_0[int(4)].x;
            float v_8 = proj_points_0[int(4)].y;
            float r2_8 = u_8 * u_8 + v_8 * v_8;
            float2  _S146 = proj_points_0[int(4)] * make_float2 (1.0f + r2_8 * ((*dist_coeffs_7)[int(0)] + r2_8 * ((*dist_coeffs_7)[int(1)] + r2_8 * ((*dist_coeffs_7)[int(2)] + r2_8 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_8 * v_8 + (*dist_coeffs_7)[int(5)] * (r2_8 + 2.0f * u_8 * u_8) + (*dist_coeffs_7)[int(6)] * r2_8, 2.0f * (*dist_coeffs_7)[int(5)] * u_8 * v_8 + (*dist_coeffs_7)[int(4)] * (r2_8 + 2.0f * v_8 * v_8) + (*dist_coeffs_7)[int(7)] * r2_8);
            float2  _S147 = _S146 + make_float2 ((*dist_coeffs_7)[int(8)] * _S146.x + (*dist_coeffs_7)[int(9)] * _S146.y, 0.0f);
            proj_points_0[int(4)] = make_float2 (fx_1 * _S147.x + intrins_0.z, fy_1 * _S147.y + intrins_0.w);
            break;
        }
        bool all_valid_3 = all_valid_2 & (!_S127);
        for(;;)
        {
            _S117 = &proj_points_0[int(5)];
            for(;;)
            {
                float _S148 = sigmas_0->p_0[int(5)].z;
                proj_points_0[int(5)] = float2 {sigmas_0->p_0[int(5)].x, sigmas_0->p_0[int(5)].y} / make_float2 (_S148);
                if(_S148 < 0.0f)
                {
                    _S127 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S149 = camera_distortion_jac_0(proj_points_0[int(5)], dist_coeffs_7);
                    _S127 = !((F32_min((determinant_0(_S149)), ((F32_min((_S149.rows[int(0)].x), (_S149.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S127)
                {
                    break;
                }
                float u_9 = proj_points_0[int(5)].x;
                float v_9 = proj_points_0[int(5)].y;
                float r2_9 = u_9 * u_9 + v_9 * v_9;
                float2  _S150 = proj_points_0[int(5)] * make_float2 (1.0f + r2_9 * ((*dist_coeffs_7)[int(0)] + r2_9 * ((*dist_coeffs_7)[int(1)] + r2_9 * ((*dist_coeffs_7)[int(2)] + r2_9 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_9 * v_9 + (*dist_coeffs_7)[int(5)] * (r2_9 + 2.0f * u_9 * u_9) + (*dist_coeffs_7)[int(6)] * r2_9, 2.0f * (*dist_coeffs_7)[int(5)] * u_9 * v_9 + (*dist_coeffs_7)[int(4)] * (r2_9 + 2.0f * v_9 * v_9) + (*dist_coeffs_7)[int(7)] * r2_9);
                float2  _S151 = _S150 + make_float2 ((*dist_coeffs_7)[int(8)] * _S150.x + (*dist_coeffs_7)[int(9)] * _S150.y, 0.0f);
                proj_points_0[int(5)] = make_float2 (fx_1 * _S151.x + intrins_0.z, fy_1 * _S151.y + intrins_0.w);
                break;
            }
            _S118 = all_valid_3 & (!_S127);
            break;
        }
        _S119 = &proj_points_0[int(6)];
        for(;;)
        {
            float _S152 = sigmas_0->p_0[int(6)].z;
            proj_points_0[int(6)] = float2 {sigmas_0->p_0[int(6)].x, sigmas_0->p_0[int(6)].y} / make_float2 (_S152);
            if(_S152 < 0.0f)
            {
                _S127 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S153 = camera_distortion_jac_0(proj_points_0[int(6)], dist_coeffs_7);
                _S127 = !((F32_min((determinant_0(_S153)), ((F32_min((_S153.rows[int(0)].x), (_S153.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S127)
            {
                break;
            }
            float u_10 = proj_points_0[int(6)].x;
            float v_10 = proj_points_0[int(6)].y;
            float r2_10 = u_10 * u_10 + v_10 * v_10;
            float2  _S154 = proj_points_0[int(6)] * make_float2 (1.0f + r2_10 * ((*dist_coeffs_7)[int(0)] + r2_10 * ((*dist_coeffs_7)[int(1)] + r2_10 * ((*dist_coeffs_7)[int(2)] + r2_10 * (*dist_coeffs_7)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_7)[int(4)] * u_10 * v_10 + (*dist_coeffs_7)[int(5)] * (r2_10 + 2.0f * u_10 * u_10) + (*dist_coeffs_7)[int(6)] * r2_10, 2.0f * (*dist_coeffs_7)[int(5)] * u_10 * v_10 + (*dist_coeffs_7)[int(4)] * (r2_10 + 2.0f * v_10 * v_10) + (*dist_coeffs_7)[int(7)] * r2_10);
            float2  _S155 = _S154 + make_float2 ((*dist_coeffs_7)[int(8)] * _S154.x + (*dist_coeffs_7)[int(9)] * _S154.y, 0.0f);
            proj_points_0[int(6)] = make_float2 (fx_1 * _S155.x + intrins_0.z, fy_1 * _S155.y + intrins_0.w);
            break;
        }
        _S120 = _S118 & (!_S127);
        break;
    }
    if(!_S120)
    {
        return false;
    }
    float2  _S156 = *mean2d_1 + make_float2 (sigmas_0->w_mean_0[int(0)]) * *_S111;
    *mean2d_1 = _S156;
    float2  _S157 = _S156 + make_float2 (sigmas_0->w_mean_0[int(1)]) * *_S112;
    *mean2d_1 = _S157;
    float2  _S158 = _S157 + make_float2 (sigmas_0->w_mean_0[int(2)]) * *_S113;
    *mean2d_1 = _S158;
    float2  _S159 = _S158 + make_float2 (sigmas_0->w_mean_0[int(3)]) * *_S115;
    *mean2d_1 = _S159;
    float2  _S160 = _S159 + make_float2 (sigmas_0->w_mean_0[int(4)]) * *_S116;
    *mean2d_1 = _S160;
    float2  _S161 = _S160 + make_float2 (sigmas_0->w_mean_0[int(5)]) * *_S117;
    *mean2d_1 = _S161;
    float2  _S162 = _S161 + make_float2 (sigmas_0->w_mean_0[int(6)]) * *_S119;
    *mean2d_1 = _S162;
    float _S163 = - _S125;
    float _S164 = - _S126;
    float2  _S165 = make_float2 (clamp_0(_S162.x, _S163, lim_x_pos_0), clamp_0(_S162.y, _S164, lim_y_pos_0));
    float2  d_0 = make_float2 (clamp_0((*_S111).x, _S163, lim_x_pos_0), clamp_0((*_S111).y, _S164, lim_y_pos_0)) - _S165;
    float _S166 = d_0.x;
    float _S167 = d_0.y;
    float _S168 = _S166 * _S167;
    Matrix<float, 2, 2>  _S169 = *cov2d_1 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S166 * _S166, _S168, _S168, _S167 * _S167);
    *cov2d_1 = _S169;
    float2  d_1 = make_float2 (clamp_0((*_S112).x, _S163, lim_x_pos_0), clamp_0((*_S112).y, _S164, lim_y_pos_0)) - _S165;
    float _S170 = d_1.x;
    float _S171 = d_1.y;
    float _S172 = _S170 * _S171;
    Matrix<float, 2, 2>  _S173 = _S169 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S170 * _S170, _S172, _S172, _S171 * _S171);
    *cov2d_1 = _S173;
    float2  d_2 = make_float2 (clamp_0((*_S113).x, _S163, lim_x_pos_0), clamp_0((*_S113).y, _S164, lim_y_pos_0)) - _S165;
    float _S174 = d_2.x;
    float _S175 = d_2.y;
    float _S176 = _S174 * _S175;
    Matrix<float, 2, 2>  _S177 = _S173 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S174 * _S174, _S176, _S176, _S175 * _S175);
    *cov2d_1 = _S177;
    float2  d_3 = make_float2 (clamp_0((*_S115).x, _S163, lim_x_pos_0), clamp_0((*_S115).y, _S164, lim_y_pos_0)) - _S165;
    float _S178 = d_3.x;
    float _S179 = d_3.y;
    float _S180 = _S178 * _S179;
    Matrix<float, 2, 2>  _S181 = _S177 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S178 * _S178, _S180, _S180, _S179 * _S179);
    *cov2d_1 = _S181;
    float2  d_4 = make_float2 (clamp_0((*_S116).x, _S163, lim_x_pos_0), clamp_0((*_S116).y, _S164, lim_y_pos_0)) - _S165;
    float _S182 = d_4.x;
    float _S183 = d_4.y;
    float _S184 = _S182 * _S183;
    Matrix<float, 2, 2>  _S185 = _S181 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S182 * _S182, _S184, _S184, _S183 * _S183);
    *cov2d_1 = _S185;
    float2  d_5 = make_float2 (clamp_0((*_S117).x, _S163, lim_x_pos_0), clamp_0((*_S117).y, _S164, lim_y_pos_0)) - _S165;
    float _S186 = d_5.x;
    float _S187 = d_5.y;
    float _S188 = _S186 * _S187;
    Matrix<float, 2, 2>  _S189 = _S185 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S186 * _S186, _S188, _S188, _S187 * _S187);
    *cov2d_1 = _S189;
    float2  d_6 = make_float2 (clamp_0((*_S119).x, _S163, lim_x_pos_0), clamp_0((*_S119).y, _S164, lim_y_pos_0)) - _S165;
    float _S190 = d_6.x;
    float _S191 = d_6.y;
    float _S192 = _S190 * _S191;
    *cov2d_1 = _S189 + makeMatrix<float, 2, 2> (sigmas_0->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S190 * _S190, _S192, _S192, _S191 * _S191);
    return true;
}

inline __device__ bool persp_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_1, float4  intrins_1, FixedArray<float, 10>  * dist_coeffs_8, uint width_2, uint height_2, Matrix<float, 2, 2>  * cov2d_2, float2  * mean2d_2)
{
    int2  _S193 = make_int2 (int(0));
    float2  _S194 = make_float2 ((float)_S193.x, (float)_S193.y);
    *mean2d_2 = _S194;
    *cov2d_2 = makeMatrix<float, 2, 2> (0.0f);
    float fx_2 = intrins_1.x;
    float fy_2 = intrins_1.y;
    float _S195 = float(width_2);
    float _S196 = float(height_2);
    float _S197 = 0.30000001192092896f * (0.5f * _S195 / fx_2) * fx_2;
    float lim_x_pos_1 = _S195 + _S197;
    float _S198 = 0.30000001192092896f * (0.5f * _S196 / fy_2) * fy_2;
    float lim_y_pos_1 = _S196 + _S198;
    FixedArray<float2 , 7>  proj_points_1;
    float2  _S199 = float2 {sigmas_1->p_0[int(0)].x, sigmas_1->p_0[int(0)].y} / make_float2 (sigmas_1->p_0[int(0)].z);
    float u_11 = _S199.x;
    float v_11 = _S199.y;
    float r2_11 = u_11 * u_11 + v_11 * v_11;
    float _S200 = 2.0f * (*dist_coeffs_8)[int(4)];
    float _S201 = 2.0f * (*dist_coeffs_8)[int(5)];
    float2  _S202 = _S199 * make_float2 (1.0f + r2_11 * ((*dist_coeffs_8)[int(0)] + r2_11 * ((*dist_coeffs_8)[int(1)] + r2_11 * ((*dist_coeffs_8)[int(2)] + r2_11 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_11 * v_11 + (*dist_coeffs_8)[int(5)] * (r2_11 + 2.0f * u_11 * u_11) + (*dist_coeffs_8)[int(6)] * r2_11, _S201 * u_11 * v_11 + (*dist_coeffs_8)[int(4)] * (r2_11 + 2.0f * v_11 * v_11) + (*dist_coeffs_8)[int(7)] * r2_11);
    float2  _S203 = _S202 + make_float2 ((*dist_coeffs_8)[int(8)] * _S202.x + (*dist_coeffs_8)[int(9)] * _S202.y, 0.0f);
    float cx_1 = intrins_1.z;
    float cy_1 = intrins_1.w;
    float _S204 = fx_2 * _S203.x + cx_1;
    float _S205 = fy_2 * _S203.y + cy_1;
    float2  _S206 = make_float2 (_S204, _S205);
    proj_points_1[int(0)] = _S206;
    float2  _S207 = float2 {sigmas_1->p_0[int(1)].x, sigmas_1->p_0[int(1)].y} / make_float2 (sigmas_1->p_0[int(1)].z);
    float u_12 = _S207.x;
    float v_12 = _S207.y;
    float r2_12 = u_12 * u_12 + v_12 * v_12;
    float2  _S208 = _S207 * make_float2 (1.0f + r2_12 * ((*dist_coeffs_8)[int(0)] + r2_12 * ((*dist_coeffs_8)[int(1)] + r2_12 * ((*dist_coeffs_8)[int(2)] + r2_12 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_12 * v_12 + (*dist_coeffs_8)[int(5)] * (r2_12 + 2.0f * u_12 * u_12) + (*dist_coeffs_8)[int(6)] * r2_12, _S201 * u_12 * v_12 + (*dist_coeffs_8)[int(4)] * (r2_12 + 2.0f * v_12 * v_12) + (*dist_coeffs_8)[int(7)] * r2_12);
    float2  _S209 = _S208 + make_float2 ((*dist_coeffs_8)[int(8)] * _S208.x + (*dist_coeffs_8)[int(9)] * _S208.y, 0.0f);
    float _S210 = fx_2 * _S209.x + cx_1;
    float _S211 = fy_2 * _S209.y + cy_1;
    float2  _S212 = make_float2 (_S210, _S211);
    proj_points_1[int(1)] = _S212;
    float2  _S213 = float2 {sigmas_1->p_0[int(2)].x, sigmas_1->p_0[int(2)].y} / make_float2 (sigmas_1->p_0[int(2)].z);
    float u_13 = _S213.x;
    float v_13 = _S213.y;
    float r2_13 = u_13 * u_13 + v_13 * v_13;
    float2  _S214 = _S213 * make_float2 (1.0f + r2_13 * ((*dist_coeffs_8)[int(0)] + r2_13 * ((*dist_coeffs_8)[int(1)] + r2_13 * ((*dist_coeffs_8)[int(2)] + r2_13 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_13 * v_13 + (*dist_coeffs_8)[int(5)] * (r2_13 + 2.0f * u_13 * u_13) + (*dist_coeffs_8)[int(6)] * r2_13, _S201 * u_13 * v_13 + (*dist_coeffs_8)[int(4)] * (r2_13 + 2.0f * v_13 * v_13) + (*dist_coeffs_8)[int(7)] * r2_13);
    float2  _S215 = _S214 + make_float2 ((*dist_coeffs_8)[int(8)] * _S214.x + (*dist_coeffs_8)[int(9)] * _S214.y, 0.0f);
    float _S216 = fx_2 * _S215.x + cx_1;
    float _S217 = fy_2 * _S215.y + cy_1;
    float2  _S218 = make_float2 (_S216, _S217);
    proj_points_1[int(2)] = _S218;
    float2  _S219 = float2 {sigmas_1->p_0[int(3)].x, sigmas_1->p_0[int(3)].y} / make_float2 (sigmas_1->p_0[int(3)].z);
    float u_14 = _S219.x;
    float v_14 = _S219.y;
    float r2_14 = u_14 * u_14 + v_14 * v_14;
    float2  _S220 = _S219 * make_float2 (1.0f + r2_14 * ((*dist_coeffs_8)[int(0)] + r2_14 * ((*dist_coeffs_8)[int(1)] + r2_14 * ((*dist_coeffs_8)[int(2)] + r2_14 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_14 * v_14 + (*dist_coeffs_8)[int(5)] * (r2_14 + 2.0f * u_14 * u_14) + (*dist_coeffs_8)[int(6)] * r2_14, _S201 * u_14 * v_14 + (*dist_coeffs_8)[int(4)] * (r2_14 + 2.0f * v_14 * v_14) + (*dist_coeffs_8)[int(7)] * r2_14);
    float2  _S221 = _S220 + make_float2 ((*dist_coeffs_8)[int(8)] * _S220.x + (*dist_coeffs_8)[int(9)] * _S220.y, 0.0f);
    float _S222 = fx_2 * _S221.x + cx_1;
    float _S223 = fy_2 * _S221.y + cy_1;
    float2  _S224 = make_float2 (_S222, _S223);
    proj_points_1[int(3)] = _S224;
    float2  _S225 = float2 {sigmas_1->p_0[int(4)].x, sigmas_1->p_0[int(4)].y} / make_float2 (sigmas_1->p_0[int(4)].z);
    float u_15 = _S225.x;
    float v_15 = _S225.y;
    float r2_15 = u_15 * u_15 + v_15 * v_15;
    float2  _S226 = _S225 * make_float2 (1.0f + r2_15 * ((*dist_coeffs_8)[int(0)] + r2_15 * ((*dist_coeffs_8)[int(1)] + r2_15 * ((*dist_coeffs_8)[int(2)] + r2_15 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_15 * v_15 + (*dist_coeffs_8)[int(5)] * (r2_15 + 2.0f * u_15 * u_15) + (*dist_coeffs_8)[int(6)] * r2_15, _S201 * u_15 * v_15 + (*dist_coeffs_8)[int(4)] * (r2_15 + 2.0f * v_15 * v_15) + (*dist_coeffs_8)[int(7)] * r2_15);
    float2  _S227 = _S226 + make_float2 ((*dist_coeffs_8)[int(8)] * _S226.x + (*dist_coeffs_8)[int(9)] * _S226.y, 0.0f);
    float _S228 = fx_2 * _S227.x + cx_1;
    float _S229 = fy_2 * _S227.y + cy_1;
    float2  _S230 = make_float2 (_S228, _S229);
    proj_points_1[int(4)] = _S230;
    float2  _S231 = float2 {sigmas_1->p_0[int(5)].x, sigmas_1->p_0[int(5)].y} / make_float2 (sigmas_1->p_0[int(5)].z);
    float u_16 = _S231.x;
    float v_16 = _S231.y;
    float r2_16 = u_16 * u_16 + v_16 * v_16;
    float2  _S232 = _S231 * make_float2 (1.0f + r2_16 * ((*dist_coeffs_8)[int(0)] + r2_16 * ((*dist_coeffs_8)[int(1)] + r2_16 * ((*dist_coeffs_8)[int(2)] + r2_16 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_16 * v_16 + (*dist_coeffs_8)[int(5)] * (r2_16 + 2.0f * u_16 * u_16) + (*dist_coeffs_8)[int(6)] * r2_16, _S201 * u_16 * v_16 + (*dist_coeffs_8)[int(4)] * (r2_16 + 2.0f * v_16 * v_16) + (*dist_coeffs_8)[int(7)] * r2_16);
    float2  _S233 = _S232 + make_float2 ((*dist_coeffs_8)[int(8)] * _S232.x + (*dist_coeffs_8)[int(9)] * _S232.y, 0.0f);
    float _S234 = fx_2 * _S233.x + cx_1;
    float _S235 = fy_2 * _S233.y + cy_1;
    float2  _S236 = make_float2 (_S234, _S235);
    proj_points_1[int(5)] = _S236;
    float2  _S237 = float2 {sigmas_1->p_0[int(6)].x, sigmas_1->p_0[int(6)].y} / make_float2 (sigmas_1->p_0[int(6)].z);
    float u_17 = _S237.x;
    float v_17 = _S237.y;
    float r2_17 = u_17 * u_17 + v_17 * v_17;
    float2  _S238 = _S237 * make_float2 (1.0f + r2_17 * ((*dist_coeffs_8)[int(0)] + r2_17 * ((*dist_coeffs_8)[int(1)] + r2_17 * ((*dist_coeffs_8)[int(2)] + r2_17 * (*dist_coeffs_8)[int(3)])))) + make_float2 (_S200 * u_17 * v_17 + (*dist_coeffs_8)[int(5)] * (r2_17 + 2.0f * u_17 * u_17) + (*dist_coeffs_8)[int(6)] * r2_17, _S201 * u_17 * v_17 + (*dist_coeffs_8)[int(4)] * (r2_17 + 2.0f * v_17 * v_17) + (*dist_coeffs_8)[int(7)] * r2_17);
    float2  _S239 = _S238 + make_float2 ((*dist_coeffs_8)[int(8)] * _S238.x + (*dist_coeffs_8)[int(9)] * _S238.y, 0.0f);
    float _S240 = fx_2 * _S239.x + cx_1;
    float _S241 = fy_2 * _S239.y + cy_1;
    float2  _S242 = make_float2 (_S240, _S241);
    proj_points_1[int(6)] = _S242;
    float2  _S243 = *mean2d_2 + make_float2 (sigmas_1->w_mean_0[int(0)]) * _S206;
    *mean2d_2 = _S243;
    float2  _S244 = _S243 + make_float2 (sigmas_1->w_mean_0[int(1)]) * _S212;
    *mean2d_2 = _S244;
    float2  _S245 = _S244 + make_float2 (sigmas_1->w_mean_0[int(2)]) * _S218;
    *mean2d_2 = _S245;
    float2  _S246 = _S245 + make_float2 (sigmas_1->w_mean_0[int(3)]) * _S224;
    *mean2d_2 = _S246;
    float2  _S247 = _S246 + make_float2 (sigmas_1->w_mean_0[int(4)]) * _S230;
    *mean2d_2 = _S247;
    float2  _S248 = _S247 + make_float2 (sigmas_1->w_mean_0[int(5)]) * _S236;
    *mean2d_2 = _S248;
    float2  _S249 = _S248 + make_float2 (sigmas_1->w_mean_0[int(6)]) * _S242;
    *mean2d_2 = _S249;
    float _S250 = - _S197;
    float _S251 = - _S198;
    float2  _S252 = make_float2 (clamp_0(_S249.x, _S250, lim_x_pos_1), clamp_0(_S249.y, _S251, lim_y_pos_1));
    float2  d_7 = make_float2 (clamp_0(_S204, _S250, lim_x_pos_1), clamp_0(_S205, _S251, lim_y_pos_1)) - _S252;
    float _S253 = d_7.x;
    float _S254 = d_7.y;
    float _S255 = _S253 * _S254;
    Matrix<float, 2, 2>  _S256 = *cov2d_2 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S253 * _S253, _S255, _S255, _S254 * _S254);
    *cov2d_2 = _S256;
    float2  d_8 = make_float2 (clamp_0(_S210, _S250, lim_x_pos_1), clamp_0(_S211, _S251, lim_y_pos_1)) - _S252;
    float _S257 = d_8.x;
    float _S258 = d_8.y;
    float _S259 = _S257 * _S258;
    Matrix<float, 2, 2>  _S260 = _S256 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S257 * _S257, _S259, _S259, _S258 * _S258);
    *cov2d_2 = _S260;
    float2  d_9 = make_float2 (clamp_0(_S216, _S250, lim_x_pos_1), clamp_0(_S217, _S251, lim_y_pos_1)) - _S252;
    float _S261 = d_9.x;
    float _S262 = d_9.y;
    float _S263 = _S261 * _S262;
    Matrix<float, 2, 2>  _S264 = _S260 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S261 * _S261, _S263, _S263, _S262 * _S262);
    *cov2d_2 = _S264;
    float2  d_10 = make_float2 (clamp_0(_S222, _S250, lim_x_pos_1), clamp_0(_S223, _S251, lim_y_pos_1)) - _S252;
    float _S265 = d_10.x;
    float _S266 = d_10.y;
    float _S267 = _S265 * _S266;
    Matrix<float, 2, 2>  _S268 = _S264 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S265 * _S265, _S267, _S267, _S266 * _S266);
    *cov2d_2 = _S268;
    float2  d_11 = make_float2 (clamp_0(_S228, _S250, lim_x_pos_1), clamp_0(_S229, _S251, lim_y_pos_1)) - _S252;
    float _S269 = d_11.x;
    float _S270 = d_11.y;
    float _S271 = _S269 * _S270;
    Matrix<float, 2, 2>  _S272 = _S268 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S269 * _S269, _S271, _S271, _S270 * _S270);
    *cov2d_2 = _S272;
    float2  d_12 = make_float2 (clamp_0(_S234, _S250, lim_x_pos_1), clamp_0(_S235, _S251, lim_y_pos_1)) - _S252;
    float _S273 = d_12.x;
    float _S274 = d_12.y;
    float _S275 = _S273 * _S274;
    Matrix<float, 2, 2>  _S276 = _S272 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S273 * _S273, _S275, _S275, _S274 * _S274);
    *cov2d_2 = _S276;
    float2  d_13 = make_float2 (clamp_0(_S240, _S250, lim_x_pos_1), clamp_0(_S241, _S251, lim_y_pos_1)) - _S252;
    float _S277 = d_13.x;
    float _S278 = d_13.y;
    float _S279 = _S277 * _S278;
    *cov2d_2 = _S276 + makeMatrix<float, 2, 2> (sigmas_1->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S277 * _S277, _S279, _S279, _S278 * _S278);
    return true;
}

inline __device__ void _d_atan2_0(DiffPair_float_0 * dpy_3, DiffPair_float_0 * dpx_6, float dOut_11)
{
    DiffPair_float_0 _S280 = *dpx_6;
    float _S281 = - (*dpy_3).primal_0 / ((*dpx_6).primal_0 * (*dpx_6).primal_0 + (*dpy_3).primal_0 * (*dpy_3).primal_0) * dOut_11;
    dpx_6->primal_0 = (*dpx_6).primal_0;
    dpx_6->differential_0 = _S281;
    float _S282 = _S280.primal_0 / (_S280.primal_0 * _S280.primal_0 + (*dpy_3).primal_0 * (*dpy_3).primal_0) * dOut_11;
    dpy_3->primal_0 = (*dpy_3).primal_0;
    dpy_3->differential_0 = _S282;
    return;
}

inline __device__ float s_primal_ctx_atan2_0(float _S283, float _S284)
{
    return (F32_atan2((_S283), (_S284)));
}

inline __device__ void s_bwd_prop_atan2_0(DiffPair_float_0 * _S285, DiffPair_float_0 * _S286, float _S287)
{
    _d_atan2_0(_S285, _S286, _S287);
    return;
}

struct DiffPair_vectorx3Cfloatx2C2x3E_0
{
    float2  primal_0;
    float2  differential_0;
};

inline __device__ void s_bwd_prop_sqrt_0(DiffPair_float_0 * _S288, float _S289)
{
    _d_sqrt_0(_S288, _S289);
    return;
}

inline __device__ void s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpx_7, float _s_dOut_2)
{
    float _S290 = (*dpx_7).primal_0.x;
    float _S291 = (*dpx_7).primal_0.y;
    DiffPair_float_0 _S292;
    (&_S292)->primal_0 = _S290 * _S290 + _S291 * _S291;
    (&_S292)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S292, _s_dOut_2);
    float _S293 = (*dpx_7).primal_0.y * _S292.differential_0;
    float _S294 = _S293 + _S293;
    float _S295 = (*dpx_7).primal_0.x * _S292.differential_0;
    float _S296 = _S295 + _S295;
    float2  _S297 = make_float2 (0.0f);
    *&((&_S297)->y) = _S294;
    *&((&_S297)->x) = _S296;
    dpx_7->primal_0 = (*dpx_7).primal_0;
    dpx_7->differential_0 = _S297;
    return;
}

inline __device__ void s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S298, float _S299)
{
    s_bwd_prop_length_impl_0(_S298, _S299);
    return;
}

inline __device__ bool fisheye_proj_3dgs_0(float3  mean3d_1, Matrix<float, 3, 3>  cov3d_1, float4  intrins_2, FixedArray<float, 10>  * dist_coeffs_9, Matrix<float, 2, 2>  * cov2d_3, float2  * mean2d_3)
{
    float k_0;
    float2  _S300;
    float _S301;
    float _S302;
    bool _S303;
    for(;;)
    {
        float2  _S304 = float2 {mean3d_1.x, mean3d_1.y};
        _S300 = _S304;
        float r_8 = length_0(_S304);
        _S301 = r_8;
        float _S305 = mean3d_1.z;
        _S302 = _S305;
        float theta_4 = (F32_atan2((r_8), (_S305)));
        if(theta_4 < 0.00100000004749745f)
        {
            k_0 = (1.0f - theta_4 * theta_4 / 3.0f) / _S305;
        }
        else
        {
            k_0 = theta_4 / r_8;
        }
        float2  _S306 = _S304 * make_float2 (k_0);
        *mean2d_3 = _S306;
        Matrix<float, 2, 2>  _S307 = camera_distortion_jac_0(_S306, dist_coeffs_9);
        bool _S308 = !((F32_min((determinant_0(_S307)), ((F32_min((_S307.rows[int(0)].x), (_S307.rows[int(1)].y)))))) > 0.0f);
        _S303 = _S308;
        if(_S308)
        {
            break;
        }
        float u_18 = (*mean2d_3).x;
        float v_18 = (*mean2d_3).y;
        float r2_18 = u_18 * u_18 + v_18 * v_18;
        float2  _S309 = *mean2d_3 * make_float2 (1.0f + r2_18 * ((*dist_coeffs_9)[int(0)] + r2_18 * ((*dist_coeffs_9)[int(1)] + r2_18 * ((*dist_coeffs_9)[int(2)] + r2_18 * (*dist_coeffs_9)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_9)[int(4)] * u_18 * v_18 + (*dist_coeffs_9)[int(5)] * (r2_18 + 2.0f * u_18 * u_18) + (*dist_coeffs_9)[int(6)] * r2_18, 2.0f * (*dist_coeffs_9)[int(5)] * u_18 * v_18 + (*dist_coeffs_9)[int(4)] * (r2_18 + 2.0f * v_18 * v_18) + (*dist_coeffs_9)[int(7)] * r2_18);
        float2  _S310 = _S309 + make_float2 ((*dist_coeffs_9)[int(8)] * _S309.x + (*dist_coeffs_9)[int(9)] * _S309.y, 0.0f);
        *mean2d_3 = make_float2 (intrins_2.x * _S310.x + intrins_2.z, intrins_2.y * _S310.y + intrins_2.w);
        break;
    }
    if(!!_S303)
    {
        return false;
    }
    Matrix<float, 2, 3>  J_1;
    float2  _S311 = make_float2 (0.0f);
    float2  seed_0 = _S311;
    *&((&seed_0)->x) = 1.0f;
    float2  _S312 = seed_0;
    float _S313 = s_primal_ctx_atan2_0(_S301, _S302);
    bool _S314 = _S313 < 0.00100000004749745f;
    float _S315;
    float _S316;
    float _S317;
    if(_S314)
    {
        float _S318 = 1.0f - _S313 * _S313 / 3.0f;
        float _S319 = _S302 * _S302;
        k_0 = _S318 / _S302;
        _S315 = 0.0f;
        _S316 = _S319;
        _S317 = _S318;
    }
    else
    {
        float _S320 = _S301 * _S301;
        k_0 = _S313 / _S301;
        _S315 = _S320;
        _S316 = 0.0f;
        _S317 = 0.0f;
    }
    float2  _S321 = make_float2 (k_0);
    float2  _S322 = _S300 * make_float2 (k_0);
    float u_19 = _S322.x;
    float v_19 = _S322.y;
    float r2_19 = u_19 * u_19 + v_19 * v_19;
    float _S323 = (*dist_coeffs_9)[int(2)] + r2_19 * (*dist_coeffs_9)[int(3)];
    float _S324 = (*dist_coeffs_9)[int(1)] + r2_19 * _S323;
    float _S325 = (*dist_coeffs_9)[int(0)] + r2_19 * _S324;
    float _S326 = 2.0f * (*dist_coeffs_9)[int(4)];
    float _S327 = 2.0f * (*dist_coeffs_9)[int(5)];
    float fx_3 = intrins_2.x;
    float fy_3 = intrins_2.y;
    float _S328 = fx_3 * _S312.x;
    float2  _S329 = make_float2 (_S328, fy_3 * _S312.y) + make_float2 ((*dist_coeffs_9)[int(8)] * _S328, (*dist_coeffs_9)[int(9)] * _S328);
    float2  _S330 = _S322 * _S329;
    float _S331 = (*dist_coeffs_9)[int(4)] * _S329.y;
    float _S332 = (*dist_coeffs_9)[int(5)] * _S329.x;
    float _S333 = _S330.x + _S330.y;
    float _S334 = r2_19 * _S333;
    float _S335 = r2_19 * _S334;
    float _S336 = (*dist_coeffs_9)[int(7)] * _S329.y + _S331 + (*dist_coeffs_9)[int(6)] * _S329.x + _S332 + _S325 * _S333 + _S324 * _S334 + _S323 * _S335 + (*dist_coeffs_9)[int(3)] * (r2_19 * _S335);
    float _S337 = v_19 * _S336;
    float _S338 = u_19 * _S336;
    float2  _S339 = make_float2 (1.0f + r2_19 * _S325) * _S329 + make_float2 (_S327 * (v_19 * _S329.y) + 2.0f * u_19 * _S332 + 2.0f * (u_19 * _S332) + _S326 * (v_19 * _S329.x) + _S338 + _S338, 2.0f * v_19 * _S331 + 2.0f * (v_19 * _S331) + _S327 * u_19 * _S329.y + _S326 * u_19 * _S329.x + _S337 + _S337);
    float2  _S340 = _S300 * _S339;
    float2  _S341 = _S321 * _S339;
    float _S342 = _S340.x + _S340.y;
    if(_S314)
    {
        float _S343 = _S342 / _S316;
        float _S344 = _S317 * - _S343;
        float _S345 = _S313 * (0.3333333432674408f * - (_S302 * _S343));
        k_0 = _S345 + _S345;
        _S315 = _S344;
        _S316 = 0.0f;
    }
    else
    {
        float _S346 = _S342 / _S315;
        float _S347 = _S313 * - _S346;
        k_0 = _S301 * _S346;
        _S315 = 0.0f;
        _S316 = _S347;
    }
    float _S348 = _S301;
    DiffPair_float_0 _S349;
    (&_S349)->primal_0 = _S301;
    (&_S349)->differential_0 = 0.0f;
    float _S350 = _S302;
    DiffPair_float_0 _S351;
    (&_S351)->primal_0 = _S302;
    (&_S351)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S349, &_S351, k_0);
    float _S352 = _S351.differential_0 + _S315;
    float _S353 = _S349.differential_0 + _S316;
    float2  _S354 = make_float2 (0.0f);
    float2  _S355 = _S300;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S356;
    (&_S356)->primal_0 = _S300;
    (&_S356)->differential_0 = _S354;
    s_bwd_length_impl_0(&_S356, _S353);
    float2  _S357 = _S356.differential_0 + _S341;
    float3  _S358 = make_float3 (_S357.x, _S357.y, _S352);
    J_1[int(0)] = _S358;
    float2  seed_1 = _S311;
    *&((&seed_1)->y) = 1.0f;
    float2  _S359 = seed_1;
    if(_S314)
    {
        float _S360 = 1.0f - _S313 * _S313 / 3.0f;
        float _S361 = _S302 * _S302;
        k_0 = _S360 / _S302;
        _S315 = 0.0f;
        _S316 = _S361;
        _S317 = _S360;
    }
    else
    {
        float _S362 = _S301 * _S301;
        k_0 = _S313 / _S301;
        _S315 = _S362;
        _S316 = 0.0f;
        _S317 = 0.0f;
    }
    float2  _S363 = make_float2 (k_0);
    float2  _S364 = _S300 * make_float2 (k_0);
    float u_20 = _S364.x;
    float v_20 = _S364.y;
    float r2_20 = u_20 * u_20 + v_20 * v_20;
    float _S365 = (*dist_coeffs_9)[int(2)] + r2_20 * (*dist_coeffs_9)[int(3)];
    float _S366 = (*dist_coeffs_9)[int(1)] + r2_20 * _S365;
    float _S367 = (*dist_coeffs_9)[int(0)] + r2_20 * _S366;
    float _S368 = fx_3 * _S359.x;
    float2  _S369 = make_float2 (_S368, fy_3 * _S359.y) + make_float2 ((*dist_coeffs_9)[int(8)] * _S368, (*dist_coeffs_9)[int(9)] * _S368);
    float2  _S370 = _S364 * _S369;
    float _S371 = (*dist_coeffs_9)[int(4)] * _S369.y;
    float _S372 = (*dist_coeffs_9)[int(5)] * _S369.x;
    float _S373 = _S370.x + _S370.y;
    float _S374 = r2_20 * _S373;
    float _S375 = r2_20 * _S374;
    float _S376 = (*dist_coeffs_9)[int(7)] * _S369.y + _S371 + (*dist_coeffs_9)[int(6)] * _S369.x + _S372 + _S367 * _S373 + _S366 * _S374 + _S365 * _S375 + (*dist_coeffs_9)[int(3)] * (r2_20 * _S375);
    float _S377 = v_20 * _S376;
    float _S378 = u_20 * _S376;
    float2  _S379 = make_float2 (1.0f + r2_20 * _S367) * _S369 + make_float2 (_S327 * (v_20 * _S369.y) + 2.0f * u_20 * _S372 + 2.0f * (u_20 * _S372) + _S326 * (v_20 * _S369.x) + _S378 + _S378, 2.0f * v_20 * _S371 + 2.0f * (v_20 * _S371) + _S327 * u_20 * _S369.y + _S326 * u_20 * _S369.x + _S377 + _S377);
    float2  _S380 = _S300 * _S379;
    float2  _S381 = _S363 * _S379;
    float _S382 = _S380.x + _S380.y;
    if(_S314)
    {
        float _S383 = _S382 / _S316;
        float _S384 = _S317 * - _S383;
        float _S385 = _S313 * (0.3333333432674408f * - (_S302 * _S383));
        k_0 = _S385 + _S385;
        _S315 = _S384;
        _S316 = 0.0f;
    }
    else
    {
        float _S386 = _S382 / _S315;
        float _S387 = _S313 * - _S386;
        k_0 = _S301 * _S386;
        _S315 = 0.0f;
        _S316 = _S387;
    }
    DiffPair_float_0 _S388;
    (&_S388)->primal_0 = _S348;
    (&_S388)->differential_0 = 0.0f;
    DiffPair_float_0 _S389;
    (&_S389)->primal_0 = _S350;
    (&_S389)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S388, &_S389, k_0);
    float _S390 = _S389.differential_0 + _S315;
    float _S391 = _S388.differential_0 + _S316;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S392;
    (&_S392)->primal_0 = _S355;
    (&_S392)->differential_0 = _S354;
    s_bwd_length_impl_0(&_S392, _S391);
    float2  _S393 = _S392.differential_0 + _S381;
    float3  _S394 = make_float3 (_S393.x, _S393.y, _S390);
    J_1[int(1)] = _S394;
    *cov2d_3 = mul_6(mul_5(J_1, cov3d_1), transpose_1(J_1));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_1(float3  mean3d_2, Matrix<float, 3, 3>  cov3d_2, float4  intrins_3, FixedArray<float, 10>  * dist_coeffs_10, Matrix<float, 2, 2>  * cov2d_4, float2  * mean2d_4)
{
    float2  _S395 = float2 {mean3d_2.x, mean3d_2.y};
    float r_9 = length_0(_S395);
    float _S396 = mean3d_2.z;
    float theta_5 = (F32_atan2((r_9), (_S396)));
    float k_1;
    if(theta_5 < 0.00100000004749745f)
    {
        k_1 = (1.0f - theta_5 * theta_5 / 3.0f) / _S396;
    }
    else
    {
        k_1 = theta_5 / r_9;
    }
    float2  _S397 = _S395 * make_float2 (k_1);
    float u_21 = _S397.x;
    float v_21 = _S397.y;
    float r2_21 = u_21 * u_21 + v_21 * v_21;
    float _S398 = 2.0f * (*dist_coeffs_10)[int(4)];
    float _S399 = 2.0f * (*dist_coeffs_10)[int(5)];
    float2  _S400 = _S397 * make_float2 (1.0f + r2_21 * ((*dist_coeffs_10)[int(0)] + r2_21 * ((*dist_coeffs_10)[int(1)] + r2_21 * ((*dist_coeffs_10)[int(2)] + r2_21 * (*dist_coeffs_10)[int(3)])))) + make_float2 (_S398 * u_21 * v_21 + (*dist_coeffs_10)[int(5)] * (r2_21 + 2.0f * u_21 * u_21) + (*dist_coeffs_10)[int(6)] * r2_21, _S399 * u_21 * v_21 + (*dist_coeffs_10)[int(4)] * (r2_21 + 2.0f * v_21 * v_21) + (*dist_coeffs_10)[int(7)] * r2_21);
    float2  _S401 = _S400 + make_float2 ((*dist_coeffs_10)[int(8)] * _S400.x + (*dist_coeffs_10)[int(9)] * _S400.y, 0.0f);
    float fx_4 = intrins_3.x;
    float fy_4 = intrins_3.y;
    *mean2d_4 = make_float2 (fx_4 * _S401.x + intrins_3.z, fy_4 * _S401.y + intrins_3.w);
    Matrix<float, 2, 3>  J_2;
    float2  _S402 = make_float2 (0.0f);
    float2  seed_2 = _S402;
    *&((&seed_2)->x) = 1.0f;
    float2  _S403 = seed_2;
    float _S404 = s_primal_ctx_atan2_0(r_9, _S396);
    bool _S405 = _S404 < 0.00100000004749745f;
    float _S406;
    float _S407;
    float _S408;
    if(_S405)
    {
        float _S409 = 1.0f - _S404 * _S404 / 3.0f;
        float _S410 = _S396 * _S396;
        k_1 = _S409 / _S396;
        _S406 = 0.0f;
        _S407 = _S410;
        _S408 = _S409;
    }
    else
    {
        float _S411 = r_9 * r_9;
        k_1 = _S404 / r_9;
        _S406 = _S411;
        _S407 = 0.0f;
        _S408 = 0.0f;
    }
    float2  _S412 = make_float2 (k_1);
    float2  _S413 = _S395 * make_float2 (k_1);
    float u_22 = _S413.x;
    float v_22 = _S413.y;
    float r2_22 = u_22 * u_22 + v_22 * v_22;
    float _S414 = (*dist_coeffs_10)[int(2)] + r2_22 * (*dist_coeffs_10)[int(3)];
    float _S415 = (*dist_coeffs_10)[int(1)] + r2_22 * _S414;
    float _S416 = (*dist_coeffs_10)[int(0)] + r2_22 * _S415;
    float _S417 = fx_4 * _S403.x;
    float2  _S418 = make_float2 (_S417, fy_4 * _S403.y) + make_float2 ((*dist_coeffs_10)[int(8)] * _S417, (*dist_coeffs_10)[int(9)] * _S417);
    float2  _S419 = _S413 * _S418;
    float _S420 = (*dist_coeffs_10)[int(4)] * _S418.y;
    float _S421 = (*dist_coeffs_10)[int(5)] * _S418.x;
    float _S422 = _S419.x + _S419.y;
    float _S423 = r2_22 * _S422;
    float _S424 = r2_22 * _S423;
    float _S425 = (*dist_coeffs_10)[int(7)] * _S418.y + _S420 + (*dist_coeffs_10)[int(6)] * _S418.x + _S421 + _S416 * _S422 + _S415 * _S423 + _S414 * _S424 + (*dist_coeffs_10)[int(3)] * (r2_22 * _S424);
    float _S426 = v_22 * _S425;
    float _S427 = u_22 * _S425;
    float2  _S428 = make_float2 (1.0f + r2_22 * _S416) * _S418 + make_float2 (_S399 * (v_22 * _S418.y) + 2.0f * u_22 * _S421 + 2.0f * (u_22 * _S421) + _S398 * (v_22 * _S418.x) + _S427 + _S427, 2.0f * v_22 * _S420 + 2.0f * (v_22 * _S420) + _S399 * u_22 * _S418.y + _S398 * u_22 * _S418.x + _S426 + _S426);
    float2  _S429 = _S395 * _S428;
    float2  _S430 = _S412 * _S428;
    float _S431 = _S429.x + _S429.y;
    if(_S405)
    {
        float _S432 = _S431 / _S407;
        float _S433 = _S408 * - _S432;
        float _S434 = _S404 * (0.3333333432674408f * - (_S396 * _S432));
        k_1 = _S434 + _S434;
        _S406 = _S433;
        _S407 = 0.0f;
    }
    else
    {
        float _S435 = _S431 / _S406;
        float _S436 = _S404 * - _S435;
        k_1 = r_9 * _S435;
        _S406 = 0.0f;
        _S407 = _S436;
    }
    DiffPair_float_0 _S437;
    (&_S437)->primal_0 = r_9;
    (&_S437)->differential_0 = 0.0f;
    DiffPair_float_0 _S438;
    (&_S438)->primal_0 = _S396;
    (&_S438)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S437, &_S438, k_1);
    float _S439 = _S438.differential_0 + _S406;
    float _S440 = _S437.differential_0 + _S407;
    float2  _S441 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S442;
    (&_S442)->primal_0 = _S395;
    (&_S442)->differential_0 = _S441;
    s_bwd_length_impl_0(&_S442, _S440);
    float2  _S443 = _S442.differential_0 + _S430;
    float3  _S444 = make_float3 (_S443.x, _S443.y, _S439);
    J_2[int(0)] = _S444;
    float2  seed_3 = _S402;
    *&((&seed_3)->y) = 1.0f;
    float2  _S445 = seed_3;
    if(_S405)
    {
        float _S446 = 1.0f - _S404 * _S404 / 3.0f;
        float _S447 = _S396 * _S396;
        k_1 = _S446 / _S396;
        _S406 = 0.0f;
        _S407 = _S447;
        _S408 = _S446;
    }
    else
    {
        float _S448 = r_9 * r_9;
        k_1 = _S404 / r_9;
        _S406 = _S448;
        _S407 = 0.0f;
        _S408 = 0.0f;
    }
    float2  _S449 = make_float2 (k_1);
    float2  _S450 = _S395 * make_float2 (k_1);
    float u_23 = _S450.x;
    float v_23 = _S450.y;
    float r2_23 = u_23 * u_23 + v_23 * v_23;
    float _S451 = (*dist_coeffs_10)[int(2)] + r2_23 * (*dist_coeffs_10)[int(3)];
    float _S452 = (*dist_coeffs_10)[int(1)] + r2_23 * _S451;
    float _S453 = (*dist_coeffs_10)[int(0)] + r2_23 * _S452;
    float _S454 = fx_4 * _S445.x;
    float2  _S455 = make_float2 (_S454, fy_4 * _S445.y) + make_float2 ((*dist_coeffs_10)[int(8)] * _S454, (*dist_coeffs_10)[int(9)] * _S454);
    float2  _S456 = _S450 * _S455;
    float _S457 = (*dist_coeffs_10)[int(4)] * _S455.y;
    float _S458 = (*dist_coeffs_10)[int(5)] * _S455.x;
    float _S459 = _S456.x + _S456.y;
    float _S460 = r2_23 * _S459;
    float _S461 = r2_23 * _S460;
    float _S462 = (*dist_coeffs_10)[int(7)] * _S455.y + _S457 + (*dist_coeffs_10)[int(6)] * _S455.x + _S458 + _S453 * _S459 + _S452 * _S460 + _S451 * _S461 + (*dist_coeffs_10)[int(3)] * (r2_23 * _S461);
    float _S463 = v_23 * _S462;
    float _S464 = u_23 * _S462;
    float2  _S465 = make_float2 (1.0f + r2_23 * _S453) * _S455 + make_float2 (_S399 * (v_23 * _S455.y) + 2.0f * u_23 * _S458 + 2.0f * (u_23 * _S458) + _S398 * (v_23 * _S455.x) + _S464 + _S464, 2.0f * v_23 * _S457 + 2.0f * (v_23 * _S457) + _S399 * u_23 * _S455.y + _S398 * u_23 * _S455.x + _S463 + _S463);
    float2  _S466 = _S395 * _S465;
    float2  _S467 = _S449 * _S465;
    float _S468 = _S466.x + _S466.y;
    if(_S405)
    {
        float _S469 = _S468 / _S407;
        float _S470 = _S408 * - _S469;
        float _S471 = _S404 * (0.3333333432674408f * - (_S396 * _S469));
        k_1 = _S471 + _S471;
        _S406 = _S470;
        _S407 = 0.0f;
    }
    else
    {
        float _S472 = _S468 / _S406;
        float _S473 = _S404 * - _S472;
        k_1 = r_9 * _S472;
        _S406 = 0.0f;
        _S407 = _S473;
    }
    DiffPair_float_0 _S474;
    (&_S474)->primal_0 = r_9;
    (&_S474)->differential_0 = 0.0f;
    DiffPair_float_0 _S475;
    (&_S475)->primal_0 = _S396;
    (&_S475)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S474, &_S475, k_1);
    float _S476 = _S475.differential_0 + _S406;
    float _S477 = _S474.differential_0 + _S407;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S478;
    (&_S478)->primal_0 = _S395;
    (&_S478)->differential_0 = _S441;
    s_bwd_length_impl_0(&_S478, _S477);
    float2  _S479 = _S478.differential_0 + _S467;
    float3  _S480 = make_float3 (_S479.x, _S479.y, _S476);
    J_2[int(1)] = _S480;
    *cov2d_4 = mul_6(mul_5(J_2, cov3d_2), transpose_1(J_2));
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_0(SigmaPoints_0 * sigmas_2, float4  intrins_4, FixedArray<float, 10>  * dist_coeffs_11, Matrix<float, 2, 2>  * cov2d_5, float2  * mean2d_5)
{
    float2  * _S481;
    bool _S482;
    float2  * _S483;
    bool _S484;
    float2  * _S485;
    bool _S486;
    bool _S487;
    float2  * _S488;
    bool _S489;
    float2  * _S490;
    bool _S491;
    float2  * _S492;
    bool _S493;
    bool _S494;
    float2  * _S495;
    bool _S496;
    bool _S497;
    int2  _S498 = make_int2 (int(0));
    float2  _S499 = make_float2 ((float)_S498.x, (float)_S498.y);
    *mean2d_5 = _S499;
    *cov2d_5 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_2;
    for(;;)
    {
        float k_2;
        _S481 = &proj_points_2[int(0)];
        for(;;)
        {
            float2  _S500 = float2 {sigmas_2->p_0[int(0)].x, sigmas_2->p_0[int(0)].y};
            float r_10 = length_0(_S500);
            float _S501 = sigmas_2->p_0[int(0)].z;
            float theta_6 = (F32_atan2((r_10), (_S501)));
            if(theta_6 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_6 * theta_6 / 3.0f) / _S501;
            }
            else
            {
                k_2 = theta_6 / r_10;
            }
            float2  _S502 = _S500 * make_float2 (k_2);
            proj_points_2[int(0)] = _S502;
            Matrix<float, 2, 2>  _S503 = camera_distortion_jac_0(_S502, dist_coeffs_11);
            bool _S504 = !((F32_min((determinant_0(_S503)), ((F32_min((_S503.rows[int(0)].x), (_S503.rows[int(1)].y)))))) > 0.0f);
            _S482 = _S504;
            if(_S504)
            {
                break;
            }
            float u_24 = proj_points_2[int(0)].x;
            float v_24 = proj_points_2[int(0)].y;
            float r2_24 = u_24 * u_24 + v_24 * v_24;
            float2  _S505 = proj_points_2[int(0)] * make_float2 (1.0f + r2_24 * ((*dist_coeffs_11)[int(0)] + r2_24 * ((*dist_coeffs_11)[int(1)] + r2_24 * ((*dist_coeffs_11)[int(2)] + r2_24 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_24 * v_24 + (*dist_coeffs_11)[int(5)] * (r2_24 + 2.0f * u_24 * u_24) + (*dist_coeffs_11)[int(6)] * r2_24, 2.0f * (*dist_coeffs_11)[int(5)] * u_24 * v_24 + (*dist_coeffs_11)[int(4)] * (r2_24 + 2.0f * v_24 * v_24) + (*dist_coeffs_11)[int(7)] * r2_24);
            float2  _S506 = _S505 + make_float2 ((*dist_coeffs_11)[int(8)] * _S505.x + (*dist_coeffs_11)[int(9)] * _S505.y, 0.0f);
            proj_points_2[int(0)] = make_float2 (intrins_4.x * _S506.x + intrins_4.z, intrins_4.y * _S506.y + intrins_4.w);
            break;
        }
        bool all_valid_4 = true & (!_S482);
        _S483 = &proj_points_2[int(1)];
        for(;;)
        {
            float2  _S507 = float2 {sigmas_2->p_0[int(1)].x, sigmas_2->p_0[int(1)].y};
            float r_11 = length_0(_S507);
            float _S508 = sigmas_2->p_0[int(1)].z;
            float theta_7 = (F32_atan2((r_11), (_S508)));
            if(theta_7 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_7 * theta_7 / 3.0f) / _S508;
            }
            else
            {
                k_2 = theta_7 / r_11;
            }
            float2  _S509 = _S507 * make_float2 (k_2);
            proj_points_2[int(1)] = _S509;
            Matrix<float, 2, 2>  _S510 = camera_distortion_jac_0(_S509, dist_coeffs_11);
            bool _S511 = !((F32_min((determinant_0(_S510)), ((F32_min((_S510.rows[int(0)].x), (_S510.rows[int(1)].y)))))) > 0.0f);
            _S484 = _S511;
            if(_S511)
            {
                break;
            }
            float u_25 = proj_points_2[int(1)].x;
            float v_25 = proj_points_2[int(1)].y;
            float r2_25 = u_25 * u_25 + v_25 * v_25;
            float2  _S512 = proj_points_2[int(1)] * make_float2 (1.0f + r2_25 * ((*dist_coeffs_11)[int(0)] + r2_25 * ((*dist_coeffs_11)[int(1)] + r2_25 * ((*dist_coeffs_11)[int(2)] + r2_25 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_25 * v_25 + (*dist_coeffs_11)[int(5)] * (r2_25 + 2.0f * u_25 * u_25) + (*dist_coeffs_11)[int(6)] * r2_25, 2.0f * (*dist_coeffs_11)[int(5)] * u_25 * v_25 + (*dist_coeffs_11)[int(4)] * (r2_25 + 2.0f * v_25 * v_25) + (*dist_coeffs_11)[int(7)] * r2_25);
            float2  _S513 = _S512 + make_float2 ((*dist_coeffs_11)[int(8)] * _S512.x + (*dist_coeffs_11)[int(9)] * _S512.y, 0.0f);
            proj_points_2[int(1)] = make_float2 (intrins_4.x * _S513.x + intrins_4.z, intrins_4.y * _S513.y + intrins_4.w);
            break;
        }
        bool all_valid_5 = all_valid_4 & (!_S484);
        for(;;)
        {
            _S485 = &proj_points_2[int(2)];
            for(;;)
            {
                float2  _S514 = float2 {sigmas_2->p_0[int(2)].x, sigmas_2->p_0[int(2)].y};
                float r_12 = length_0(_S514);
                float _S515 = sigmas_2->p_0[int(2)].z;
                float theta_8 = (F32_atan2((r_12), (_S515)));
                if(theta_8 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_8 * theta_8 / 3.0f) / _S515;
                }
                else
                {
                    k_2 = theta_8 / r_12;
                }
                float2  _S516 = _S514 * make_float2 (k_2);
                proj_points_2[int(2)] = _S516;
                Matrix<float, 2, 2>  _S517 = camera_distortion_jac_0(_S516, dist_coeffs_11);
                bool _S518 = !((F32_min((determinant_0(_S517)), ((F32_min((_S517.rows[int(0)].x), (_S517.rows[int(1)].y)))))) > 0.0f);
                _S486 = _S518;
                if(_S518)
                {
                    break;
                }
                float u_26 = proj_points_2[int(2)].x;
                float v_26 = proj_points_2[int(2)].y;
                float r2_26 = u_26 * u_26 + v_26 * v_26;
                float2  _S519 = proj_points_2[int(2)] * make_float2 (1.0f + r2_26 * ((*dist_coeffs_11)[int(0)] + r2_26 * ((*dist_coeffs_11)[int(1)] + r2_26 * ((*dist_coeffs_11)[int(2)] + r2_26 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_26 * v_26 + (*dist_coeffs_11)[int(5)] * (r2_26 + 2.0f * u_26 * u_26) + (*dist_coeffs_11)[int(6)] * r2_26, 2.0f * (*dist_coeffs_11)[int(5)] * u_26 * v_26 + (*dist_coeffs_11)[int(4)] * (r2_26 + 2.0f * v_26 * v_26) + (*dist_coeffs_11)[int(7)] * r2_26);
                float2  _S520 = _S519 + make_float2 ((*dist_coeffs_11)[int(8)] * _S519.x + (*dist_coeffs_11)[int(9)] * _S519.y, 0.0f);
                proj_points_2[int(2)] = make_float2 (intrins_4.x * _S520.x + intrins_4.z, intrins_4.y * _S520.y + intrins_4.w);
                break;
            }
            _S487 = all_valid_5 & (!_S486);
            break;
        }
        _S488 = &proj_points_2[int(3)];
        for(;;)
        {
            float2  _S521 = float2 {sigmas_2->p_0[int(3)].x, sigmas_2->p_0[int(3)].y};
            float r_13 = length_0(_S521);
            float _S522 = sigmas_2->p_0[int(3)].z;
            float theta_9 = (F32_atan2((r_13), (_S522)));
            if(theta_9 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_9 * theta_9 / 3.0f) / _S522;
            }
            else
            {
                k_2 = theta_9 / r_13;
            }
            float2  _S523 = _S521 * make_float2 (k_2);
            proj_points_2[int(3)] = _S523;
            Matrix<float, 2, 2>  _S524 = camera_distortion_jac_0(_S523, dist_coeffs_11);
            bool _S525 = !((F32_min((determinant_0(_S524)), ((F32_min((_S524.rows[int(0)].x), (_S524.rows[int(1)].y)))))) > 0.0f);
            _S489 = _S525;
            if(_S525)
            {
                break;
            }
            float u_27 = proj_points_2[int(3)].x;
            float v_27 = proj_points_2[int(3)].y;
            float r2_27 = u_27 * u_27 + v_27 * v_27;
            float2  _S526 = proj_points_2[int(3)] * make_float2 (1.0f + r2_27 * ((*dist_coeffs_11)[int(0)] + r2_27 * ((*dist_coeffs_11)[int(1)] + r2_27 * ((*dist_coeffs_11)[int(2)] + r2_27 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_27 * v_27 + (*dist_coeffs_11)[int(5)] * (r2_27 + 2.0f * u_27 * u_27) + (*dist_coeffs_11)[int(6)] * r2_27, 2.0f * (*dist_coeffs_11)[int(5)] * u_27 * v_27 + (*dist_coeffs_11)[int(4)] * (r2_27 + 2.0f * v_27 * v_27) + (*dist_coeffs_11)[int(7)] * r2_27);
            float2  _S527 = _S526 + make_float2 ((*dist_coeffs_11)[int(8)] * _S526.x + (*dist_coeffs_11)[int(9)] * _S526.y, 0.0f);
            proj_points_2[int(3)] = make_float2 (intrins_4.x * _S527.x + intrins_4.z, intrins_4.y * _S527.y + intrins_4.w);
            break;
        }
        bool all_valid_6 = _S487 & (!_S489);
        _S490 = &proj_points_2[int(4)];
        for(;;)
        {
            float2  _S528 = float2 {sigmas_2->p_0[int(4)].x, sigmas_2->p_0[int(4)].y};
            float r_14 = length_0(_S528);
            float _S529 = sigmas_2->p_0[int(4)].z;
            float theta_10 = (F32_atan2((r_14), (_S529)));
            if(theta_10 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_10 * theta_10 / 3.0f) / _S529;
            }
            else
            {
                k_2 = theta_10 / r_14;
            }
            float2  _S530 = _S528 * make_float2 (k_2);
            proj_points_2[int(4)] = _S530;
            Matrix<float, 2, 2>  _S531 = camera_distortion_jac_0(_S530, dist_coeffs_11);
            bool _S532 = !((F32_min((determinant_0(_S531)), ((F32_min((_S531.rows[int(0)].x), (_S531.rows[int(1)].y)))))) > 0.0f);
            _S491 = _S532;
            if(_S532)
            {
                break;
            }
            float u_28 = proj_points_2[int(4)].x;
            float v_28 = proj_points_2[int(4)].y;
            float r2_28 = u_28 * u_28 + v_28 * v_28;
            float2  _S533 = proj_points_2[int(4)] * make_float2 (1.0f + r2_28 * ((*dist_coeffs_11)[int(0)] + r2_28 * ((*dist_coeffs_11)[int(1)] + r2_28 * ((*dist_coeffs_11)[int(2)] + r2_28 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_28 * v_28 + (*dist_coeffs_11)[int(5)] * (r2_28 + 2.0f * u_28 * u_28) + (*dist_coeffs_11)[int(6)] * r2_28, 2.0f * (*dist_coeffs_11)[int(5)] * u_28 * v_28 + (*dist_coeffs_11)[int(4)] * (r2_28 + 2.0f * v_28 * v_28) + (*dist_coeffs_11)[int(7)] * r2_28);
            float2  _S534 = _S533 + make_float2 ((*dist_coeffs_11)[int(8)] * _S533.x + (*dist_coeffs_11)[int(9)] * _S533.y, 0.0f);
            proj_points_2[int(4)] = make_float2 (intrins_4.x * _S534.x + intrins_4.z, intrins_4.y * _S534.y + intrins_4.w);
            break;
        }
        bool all_valid_7 = all_valid_6 & (!_S491);
        for(;;)
        {
            _S492 = &proj_points_2[int(5)];
            for(;;)
            {
                float2  _S535 = float2 {sigmas_2->p_0[int(5)].x, sigmas_2->p_0[int(5)].y};
                float r_15 = length_0(_S535);
                float _S536 = sigmas_2->p_0[int(5)].z;
                float theta_11 = (F32_atan2((r_15), (_S536)));
                if(theta_11 < 0.00100000004749745f)
                {
                    k_2 = (1.0f - theta_11 * theta_11 / 3.0f) / _S536;
                }
                else
                {
                    k_2 = theta_11 / r_15;
                }
                float2  _S537 = _S535 * make_float2 (k_2);
                proj_points_2[int(5)] = _S537;
                Matrix<float, 2, 2>  _S538 = camera_distortion_jac_0(_S537, dist_coeffs_11);
                bool _S539 = !((F32_min((determinant_0(_S538)), ((F32_min((_S538.rows[int(0)].x), (_S538.rows[int(1)].y)))))) > 0.0f);
                _S493 = _S539;
                if(_S539)
                {
                    break;
                }
                float u_29 = proj_points_2[int(5)].x;
                float v_29 = proj_points_2[int(5)].y;
                float r2_29 = u_29 * u_29 + v_29 * v_29;
                float2  _S540 = proj_points_2[int(5)] * make_float2 (1.0f + r2_29 * ((*dist_coeffs_11)[int(0)] + r2_29 * ((*dist_coeffs_11)[int(1)] + r2_29 * ((*dist_coeffs_11)[int(2)] + r2_29 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_29 * v_29 + (*dist_coeffs_11)[int(5)] * (r2_29 + 2.0f * u_29 * u_29) + (*dist_coeffs_11)[int(6)] * r2_29, 2.0f * (*dist_coeffs_11)[int(5)] * u_29 * v_29 + (*dist_coeffs_11)[int(4)] * (r2_29 + 2.0f * v_29 * v_29) + (*dist_coeffs_11)[int(7)] * r2_29);
                float2  _S541 = _S540 + make_float2 ((*dist_coeffs_11)[int(8)] * _S540.x + (*dist_coeffs_11)[int(9)] * _S540.y, 0.0f);
                proj_points_2[int(5)] = make_float2 (intrins_4.x * _S541.x + intrins_4.z, intrins_4.y * _S541.y + intrins_4.w);
                break;
            }
            _S494 = all_valid_7 & (!_S493);
            break;
        }
        _S495 = &proj_points_2[int(6)];
        for(;;)
        {
            float2  _S542 = float2 {sigmas_2->p_0[int(6)].x, sigmas_2->p_0[int(6)].y};
            float r_16 = length_0(_S542);
            float _S543 = sigmas_2->p_0[int(6)].z;
            float theta_12 = (F32_atan2((r_16), (_S543)));
            if(theta_12 < 0.00100000004749745f)
            {
                k_2 = (1.0f - theta_12 * theta_12 / 3.0f) / _S543;
            }
            else
            {
                k_2 = theta_12 / r_16;
            }
            float2  _S544 = _S542 * make_float2 (k_2);
            proj_points_2[int(6)] = _S544;
            Matrix<float, 2, 2>  _S545 = camera_distortion_jac_0(_S544, dist_coeffs_11);
            bool _S546 = !((F32_min((determinant_0(_S545)), ((F32_min((_S545.rows[int(0)].x), (_S545.rows[int(1)].y)))))) > 0.0f);
            _S496 = _S546;
            if(_S546)
            {
                break;
            }
            float u_30 = proj_points_2[int(6)].x;
            float v_30 = proj_points_2[int(6)].y;
            float r2_30 = u_30 * u_30 + v_30 * v_30;
            float2  _S547 = proj_points_2[int(6)] * make_float2 (1.0f + r2_30 * ((*dist_coeffs_11)[int(0)] + r2_30 * ((*dist_coeffs_11)[int(1)] + r2_30 * ((*dist_coeffs_11)[int(2)] + r2_30 * (*dist_coeffs_11)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_11)[int(4)] * u_30 * v_30 + (*dist_coeffs_11)[int(5)] * (r2_30 + 2.0f * u_30 * u_30) + (*dist_coeffs_11)[int(6)] * r2_30, 2.0f * (*dist_coeffs_11)[int(5)] * u_30 * v_30 + (*dist_coeffs_11)[int(4)] * (r2_30 + 2.0f * v_30 * v_30) + (*dist_coeffs_11)[int(7)] * r2_30);
            float2  _S548 = _S547 + make_float2 ((*dist_coeffs_11)[int(8)] * _S547.x + (*dist_coeffs_11)[int(9)] * _S547.y, 0.0f);
            proj_points_2[int(6)] = make_float2 (intrins_4.x * _S548.x + intrins_4.z, intrins_4.y * _S548.y + intrins_4.w);
            break;
        }
        _S497 = _S494 & (!_S496);
        break;
    }
    if(!_S497)
    {
        return false;
    }
    float2  _S549 = *mean2d_5 + make_float2 (sigmas_2->w_mean_0[int(0)]) * *_S481;
    *mean2d_5 = _S549;
    float2  _S550 = _S549 + make_float2 (sigmas_2->w_mean_0[int(1)]) * *_S483;
    *mean2d_5 = _S550;
    float2  _S551 = _S550 + make_float2 (sigmas_2->w_mean_0[int(2)]) * *_S485;
    *mean2d_5 = _S551;
    float2  _S552 = _S551 + make_float2 (sigmas_2->w_mean_0[int(3)]) * *_S488;
    *mean2d_5 = _S552;
    float2  _S553 = _S552 + make_float2 (sigmas_2->w_mean_0[int(4)]) * *_S490;
    *mean2d_5 = _S553;
    float2  _S554 = _S553 + make_float2 (sigmas_2->w_mean_0[int(5)]) * *_S492;
    *mean2d_5 = _S554;
    float2  _S555 = _S554 + make_float2 (sigmas_2->w_mean_0[int(6)]) * *_S495;
    *mean2d_5 = _S555;
    float2  d_14 = *_S481 - _S555;
    float _S556 = d_14.x;
    float _S557 = d_14.y;
    float _S558 = _S556 * _S557;
    Matrix<float, 2, 2>  _S559 = *cov2d_5 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S556 * _S556, _S558, _S558, _S557 * _S557);
    *cov2d_5 = _S559;
    float2  d_15 = *_S483 - *mean2d_5;
    float _S560 = d_15.x;
    float _S561 = d_15.y;
    float _S562 = _S560 * _S561;
    Matrix<float, 2, 2>  _S563 = _S559 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S560 * _S560, _S562, _S562, _S561 * _S561);
    *cov2d_5 = _S563;
    float2  d_16 = *_S485 - *mean2d_5;
    float _S564 = d_16.x;
    float _S565 = d_16.y;
    float _S566 = _S564 * _S565;
    Matrix<float, 2, 2>  _S567 = _S563 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S564 * _S564, _S566, _S566, _S565 * _S565);
    *cov2d_5 = _S567;
    float2  d_17 = *_S488 - *mean2d_5;
    float _S568 = d_17.x;
    float _S569 = d_17.y;
    float _S570 = _S568 * _S569;
    Matrix<float, 2, 2>  _S571 = _S567 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S568 * _S568, _S570, _S570, _S569 * _S569);
    *cov2d_5 = _S571;
    float2  d_18 = *_S490 - *mean2d_5;
    float _S572 = d_18.x;
    float _S573 = d_18.y;
    float _S574 = _S572 * _S573;
    Matrix<float, 2, 2>  _S575 = _S571 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S572 * _S572, _S574, _S574, _S573 * _S573);
    *cov2d_5 = _S575;
    float2  d_19 = *_S492 - *mean2d_5;
    float _S576 = d_19.x;
    float _S577 = d_19.y;
    float _S578 = _S576 * _S577;
    Matrix<float, 2, 2>  _S579 = _S575 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S576 * _S576, _S578, _S578, _S577 * _S577);
    *cov2d_5 = _S579;
    float2  d_20 = *_S495 - *mean2d_5;
    float _S580 = d_20.x;
    float _S581 = d_20.y;
    float _S582 = _S580 * _S581;
    *cov2d_5 = _S579 + makeMatrix<float, 2, 2> (sigmas_2->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S580 * _S580, _S582, _S582, _S581 * _S581);
    return true;
}

inline __device__ bool fisheye_proj_3dgs_ut_1(SigmaPoints_0 * sigmas_3, float4  intrins_5, FixedArray<float, 10>  * dist_coeffs_12, Matrix<float, 2, 2>  * cov2d_6, float2  * mean2d_6)
{
    int2  _S583 = make_int2 (int(0));
    float2  _S584 = make_float2 ((float)_S583.x, (float)_S583.y);
    *mean2d_6 = _S584;
    *cov2d_6 = makeMatrix<float, 2, 2> (0.0f);
    FixedArray<float2 , 7>  proj_points_3;
    float2  _S585 = float2 {sigmas_3->p_0[int(0)].x, sigmas_3->p_0[int(0)].y};
    float r_17 = length_0(_S585);
    float _S586 = sigmas_3->p_0[int(0)].z;
    float theta_13 = (F32_atan2((r_17), (_S586)));
    float k_3;
    if(theta_13 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_13 * theta_13 / 3.0f) / _S586;
    }
    else
    {
        k_3 = theta_13 / r_17;
    }
    float2  _S587 = _S585 * make_float2 (k_3);
    float u_31 = _S587.x;
    float v_31 = _S587.y;
    float r2_31 = u_31 * u_31 + v_31 * v_31;
    float _S588 = 2.0f * (*dist_coeffs_12)[int(4)];
    float _S589 = 2.0f * (*dist_coeffs_12)[int(5)];
    float2  _S590 = _S587 * make_float2 (1.0f + r2_31 * ((*dist_coeffs_12)[int(0)] + r2_31 * ((*dist_coeffs_12)[int(1)] + r2_31 * ((*dist_coeffs_12)[int(2)] + r2_31 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_31 * v_31 + (*dist_coeffs_12)[int(5)] * (r2_31 + 2.0f * u_31 * u_31) + (*dist_coeffs_12)[int(6)] * r2_31, _S589 * u_31 * v_31 + (*dist_coeffs_12)[int(4)] * (r2_31 + 2.0f * v_31 * v_31) + (*dist_coeffs_12)[int(7)] * r2_31);
    float2  _S591 = _S590 + make_float2 ((*dist_coeffs_12)[int(8)] * _S590.x + (*dist_coeffs_12)[int(9)] * _S590.y, 0.0f);
    float fx_5 = intrins_5.x;
    float fy_5 = intrins_5.y;
    float cx_2 = intrins_5.z;
    float cy_2 = intrins_5.w;
    proj_points_3[int(0)] = make_float2 (fx_5 * _S591.x + cx_2, fy_5 * _S591.y + cy_2);
    float2  _S592 = float2 {sigmas_3->p_0[int(1)].x, sigmas_3->p_0[int(1)].y};
    float r_18 = length_0(_S592);
    float _S593 = sigmas_3->p_0[int(1)].z;
    float theta_14 = (F32_atan2((r_18), (_S593)));
    if(theta_14 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_14 * theta_14 / 3.0f) / _S593;
    }
    else
    {
        k_3 = theta_14 / r_18;
    }
    float2  _S594 = _S592 * make_float2 (k_3);
    float u_32 = _S594.x;
    float v_32 = _S594.y;
    float r2_32 = u_32 * u_32 + v_32 * v_32;
    float2  _S595 = _S594 * make_float2 (1.0f + r2_32 * ((*dist_coeffs_12)[int(0)] + r2_32 * ((*dist_coeffs_12)[int(1)] + r2_32 * ((*dist_coeffs_12)[int(2)] + r2_32 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_32 * v_32 + (*dist_coeffs_12)[int(5)] * (r2_32 + 2.0f * u_32 * u_32) + (*dist_coeffs_12)[int(6)] * r2_32, _S589 * u_32 * v_32 + (*dist_coeffs_12)[int(4)] * (r2_32 + 2.0f * v_32 * v_32) + (*dist_coeffs_12)[int(7)] * r2_32);
    float2  _S596 = _S595 + make_float2 ((*dist_coeffs_12)[int(8)] * _S595.x + (*dist_coeffs_12)[int(9)] * _S595.y, 0.0f);
    proj_points_3[int(1)] = make_float2 (fx_5 * _S596.x + cx_2, fy_5 * _S596.y + cy_2);
    float2  _S597 = float2 {sigmas_3->p_0[int(2)].x, sigmas_3->p_0[int(2)].y};
    float r_19 = length_0(_S597);
    float _S598 = sigmas_3->p_0[int(2)].z;
    float theta_15 = (F32_atan2((r_19), (_S598)));
    if(theta_15 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_15 * theta_15 / 3.0f) / _S598;
    }
    else
    {
        k_3 = theta_15 / r_19;
    }
    float2  _S599 = _S597 * make_float2 (k_3);
    float u_33 = _S599.x;
    float v_33 = _S599.y;
    float r2_33 = u_33 * u_33 + v_33 * v_33;
    float2  _S600 = _S599 * make_float2 (1.0f + r2_33 * ((*dist_coeffs_12)[int(0)] + r2_33 * ((*dist_coeffs_12)[int(1)] + r2_33 * ((*dist_coeffs_12)[int(2)] + r2_33 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_33 * v_33 + (*dist_coeffs_12)[int(5)] * (r2_33 + 2.0f * u_33 * u_33) + (*dist_coeffs_12)[int(6)] * r2_33, _S589 * u_33 * v_33 + (*dist_coeffs_12)[int(4)] * (r2_33 + 2.0f * v_33 * v_33) + (*dist_coeffs_12)[int(7)] * r2_33);
    float2  _S601 = _S600 + make_float2 ((*dist_coeffs_12)[int(8)] * _S600.x + (*dist_coeffs_12)[int(9)] * _S600.y, 0.0f);
    proj_points_3[int(2)] = make_float2 (fx_5 * _S601.x + cx_2, fy_5 * _S601.y + cy_2);
    float2  _S602 = float2 {sigmas_3->p_0[int(3)].x, sigmas_3->p_0[int(3)].y};
    float r_20 = length_0(_S602);
    float _S603 = sigmas_3->p_0[int(3)].z;
    float theta_16 = (F32_atan2((r_20), (_S603)));
    if(theta_16 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_16 * theta_16 / 3.0f) / _S603;
    }
    else
    {
        k_3 = theta_16 / r_20;
    }
    float2  _S604 = _S602 * make_float2 (k_3);
    float u_34 = _S604.x;
    float v_34 = _S604.y;
    float r2_34 = u_34 * u_34 + v_34 * v_34;
    float2  _S605 = _S604 * make_float2 (1.0f + r2_34 * ((*dist_coeffs_12)[int(0)] + r2_34 * ((*dist_coeffs_12)[int(1)] + r2_34 * ((*dist_coeffs_12)[int(2)] + r2_34 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_34 * v_34 + (*dist_coeffs_12)[int(5)] * (r2_34 + 2.0f * u_34 * u_34) + (*dist_coeffs_12)[int(6)] * r2_34, _S589 * u_34 * v_34 + (*dist_coeffs_12)[int(4)] * (r2_34 + 2.0f * v_34 * v_34) + (*dist_coeffs_12)[int(7)] * r2_34);
    float2  _S606 = _S605 + make_float2 ((*dist_coeffs_12)[int(8)] * _S605.x + (*dist_coeffs_12)[int(9)] * _S605.y, 0.0f);
    proj_points_3[int(3)] = make_float2 (fx_5 * _S606.x + cx_2, fy_5 * _S606.y + cy_2);
    float2  _S607 = float2 {sigmas_3->p_0[int(4)].x, sigmas_3->p_0[int(4)].y};
    float r_21 = length_0(_S607);
    float _S608 = sigmas_3->p_0[int(4)].z;
    float theta_17 = (F32_atan2((r_21), (_S608)));
    if(theta_17 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_17 * theta_17 / 3.0f) / _S608;
    }
    else
    {
        k_3 = theta_17 / r_21;
    }
    float2  _S609 = _S607 * make_float2 (k_3);
    float u_35 = _S609.x;
    float v_35 = _S609.y;
    float r2_35 = u_35 * u_35 + v_35 * v_35;
    float2  _S610 = _S609 * make_float2 (1.0f + r2_35 * ((*dist_coeffs_12)[int(0)] + r2_35 * ((*dist_coeffs_12)[int(1)] + r2_35 * ((*dist_coeffs_12)[int(2)] + r2_35 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_35 * v_35 + (*dist_coeffs_12)[int(5)] * (r2_35 + 2.0f * u_35 * u_35) + (*dist_coeffs_12)[int(6)] * r2_35, _S589 * u_35 * v_35 + (*dist_coeffs_12)[int(4)] * (r2_35 + 2.0f * v_35 * v_35) + (*dist_coeffs_12)[int(7)] * r2_35);
    float2  _S611 = _S610 + make_float2 ((*dist_coeffs_12)[int(8)] * _S610.x + (*dist_coeffs_12)[int(9)] * _S610.y, 0.0f);
    proj_points_3[int(4)] = make_float2 (fx_5 * _S611.x + cx_2, fy_5 * _S611.y + cy_2);
    float2  _S612 = float2 {sigmas_3->p_0[int(5)].x, sigmas_3->p_0[int(5)].y};
    float r_22 = length_0(_S612);
    float _S613 = sigmas_3->p_0[int(5)].z;
    float theta_18 = (F32_atan2((r_22), (_S613)));
    if(theta_18 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_18 * theta_18 / 3.0f) / _S613;
    }
    else
    {
        k_3 = theta_18 / r_22;
    }
    float2  _S614 = _S612 * make_float2 (k_3);
    float u_36 = _S614.x;
    float v_36 = _S614.y;
    float r2_36 = u_36 * u_36 + v_36 * v_36;
    float2  _S615 = _S614 * make_float2 (1.0f + r2_36 * ((*dist_coeffs_12)[int(0)] + r2_36 * ((*dist_coeffs_12)[int(1)] + r2_36 * ((*dist_coeffs_12)[int(2)] + r2_36 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_36 * v_36 + (*dist_coeffs_12)[int(5)] * (r2_36 + 2.0f * u_36 * u_36) + (*dist_coeffs_12)[int(6)] * r2_36, _S589 * u_36 * v_36 + (*dist_coeffs_12)[int(4)] * (r2_36 + 2.0f * v_36 * v_36) + (*dist_coeffs_12)[int(7)] * r2_36);
    float2  _S616 = _S615 + make_float2 ((*dist_coeffs_12)[int(8)] * _S615.x + (*dist_coeffs_12)[int(9)] * _S615.y, 0.0f);
    proj_points_3[int(5)] = make_float2 (fx_5 * _S616.x + cx_2, fy_5 * _S616.y + cy_2);
    float2  _S617 = float2 {sigmas_3->p_0[int(6)].x, sigmas_3->p_0[int(6)].y};
    float r_23 = length_0(_S617);
    float _S618 = sigmas_3->p_0[int(6)].z;
    float theta_19 = (F32_atan2((r_23), (_S618)));
    if(theta_19 < 0.00100000004749745f)
    {
        k_3 = (1.0f - theta_19 * theta_19 / 3.0f) / _S618;
    }
    else
    {
        k_3 = theta_19 / r_23;
    }
    float2  _S619 = _S617 * make_float2 (k_3);
    float u_37 = _S619.x;
    float v_37 = _S619.y;
    float r2_37 = u_37 * u_37 + v_37 * v_37;
    float2  _S620 = _S619 * make_float2 (1.0f + r2_37 * ((*dist_coeffs_12)[int(0)] + r2_37 * ((*dist_coeffs_12)[int(1)] + r2_37 * ((*dist_coeffs_12)[int(2)] + r2_37 * (*dist_coeffs_12)[int(3)])))) + make_float2 (_S588 * u_37 * v_37 + (*dist_coeffs_12)[int(5)] * (r2_37 + 2.0f * u_37 * u_37) + (*dist_coeffs_12)[int(6)] * r2_37, _S589 * u_37 * v_37 + (*dist_coeffs_12)[int(4)] * (r2_37 + 2.0f * v_37 * v_37) + (*dist_coeffs_12)[int(7)] * r2_37);
    float2  _S621 = _S620 + make_float2 ((*dist_coeffs_12)[int(8)] * _S620.x + (*dist_coeffs_12)[int(9)] * _S620.y, 0.0f);
    float2  _S622 = make_float2 (fx_5 * _S621.x + cx_2, fy_5 * _S621.y + cy_2);
    proj_points_3[int(6)] = _S622;
    float2  _S623 = *mean2d_6 + make_float2 (sigmas_3->w_mean_0[int(0)]) * proj_points_3[int(0)];
    *mean2d_6 = _S623;
    float2  _S624 = _S623 + make_float2 (sigmas_3->w_mean_0[int(1)]) * proj_points_3[int(1)];
    *mean2d_6 = _S624;
    float2  _S625 = _S624 + make_float2 (sigmas_3->w_mean_0[int(2)]) * proj_points_3[int(2)];
    *mean2d_6 = _S625;
    float2  _S626 = _S625 + make_float2 (sigmas_3->w_mean_0[int(3)]) * proj_points_3[int(3)];
    *mean2d_6 = _S626;
    float2  _S627 = _S626 + make_float2 (sigmas_3->w_mean_0[int(4)]) * proj_points_3[int(4)];
    *mean2d_6 = _S627;
    float2  _S628 = _S627 + make_float2 (sigmas_3->w_mean_0[int(5)]) * proj_points_3[int(5)];
    *mean2d_6 = _S628;
    float2  _S629 = _S628 + make_float2 (sigmas_3->w_mean_0[int(6)]) * _S622;
    *mean2d_6 = _S629;
    float2  d_21 = proj_points_3[int(0)] - _S629;
    float _S630 = d_21.x;
    float _S631 = d_21.y;
    float _S632 = _S630 * _S631;
    Matrix<float, 2, 2>  _S633 = *cov2d_6 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(0)]) * makeMatrix<float, 2, 2> (_S630 * _S630, _S632, _S632, _S631 * _S631);
    *cov2d_6 = _S633;
    float2  d_22 = proj_points_3[int(1)] - *mean2d_6;
    float _S634 = d_22.x;
    float _S635 = d_22.y;
    float _S636 = _S634 * _S635;
    Matrix<float, 2, 2>  _S637 = _S633 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(1)]) * makeMatrix<float, 2, 2> (_S634 * _S634, _S636, _S636, _S635 * _S635);
    *cov2d_6 = _S637;
    float2  d_23 = proj_points_3[int(2)] - *mean2d_6;
    float _S638 = d_23.x;
    float _S639 = d_23.y;
    float _S640 = _S638 * _S639;
    Matrix<float, 2, 2>  _S641 = _S637 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(2)]) * makeMatrix<float, 2, 2> (_S638 * _S638, _S640, _S640, _S639 * _S639);
    *cov2d_6 = _S641;
    float2  d_24 = proj_points_3[int(3)] - *mean2d_6;
    float _S642 = d_24.x;
    float _S643 = d_24.y;
    float _S644 = _S642 * _S643;
    Matrix<float, 2, 2>  _S645 = _S641 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(3)]) * makeMatrix<float, 2, 2> (_S642 * _S642, _S644, _S644, _S643 * _S643);
    *cov2d_6 = _S645;
    float2  d_25 = proj_points_3[int(4)] - *mean2d_6;
    float _S646 = d_25.x;
    float _S647 = d_25.y;
    float _S648 = _S646 * _S647;
    Matrix<float, 2, 2>  _S649 = _S645 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(4)]) * makeMatrix<float, 2, 2> (_S646 * _S646, _S648, _S648, _S647 * _S647);
    *cov2d_6 = _S649;
    float2  d_26 = proj_points_3[int(5)] - *mean2d_6;
    float _S650 = d_26.x;
    float _S651 = d_26.y;
    float _S652 = _S650 * _S651;
    Matrix<float, 2, 2>  _S653 = _S649 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(5)]) * makeMatrix<float, 2, 2> (_S650 * _S650, _S652, _S652, _S651 * _S651);
    *cov2d_6 = _S653;
    float2  d_27 = _S622 - *mean2d_6;
    float _S654 = d_27.x;
    float _S655 = d_27.y;
    float _S656 = _S654 * _S655;
    *cov2d_6 = _S653 + makeMatrix<float, 2, 2> (sigmas_3->w_cov_0[int(6)]) * makeMatrix<float, 2, 2> (_S654 * _S654, _S656, _S656, _S655 * _S655);
    return true;
}

inline __device__ void ortho_proj_3dgs(float3  mean3d_3, Matrix<float, 3, 3>  cov3d_3, float fx_6, float fy_6, float cx_3, float cy_3, Matrix<float, 2, 2>  * cov2d_7, float2  * mean2d_7)
{
    Matrix<float, 2, 3>  J_3 = makeMatrix<float, 2, 3> (fx_6, 0.0f, 0.0f, 0.0f, fy_6, 0.0f);
    *cov2d_7 = mul_6(mul_5(J_3, cov3d_3), transpose_1(J_3));
    *mean2d_7 = make_float2 (fx_6 * mean3d_3.x + cx_3, fy_6 * mean3d_3.y + cy_3);
    return;
}

inline __device__ float add_blur(float eps2d_0, Matrix<float, 2, 2>  * covar_1, float * compensation_0)
{
    float det_orig_0 = *&((covar_1->rows + (int(0)))->x) * *&((covar_1->rows + (int(1)))->y) - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    float _S657 = *&((covar_1->rows + (int(0)))->x) + eps2d_0;
    *&((covar_1->rows + (int(0)))->x) = _S657;
    float _S658 = *&((covar_1->rows + (int(1)))->y) + eps2d_0;
    *&((covar_1->rows + (int(1)))->y) = _S658;
    float det_blur_0 = _S657 * _S658 - *&((covar_1->rows + (int(0)))->y) * *&((covar_1->rows + (int(1)))->x);
    *compensation_0 = (F32_sqrt(((F32_max((0.0f), (det_orig_0 / det_blur_0))))));
    return det_blur_0;
}

inline __device__ float3  exp_0(float3  x_13)
{
    float3  result_12;
    int i_8 = int(0);
    for(;;)
    {
        if(i_8 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_12, i_8) = (F32_exp((_slang_vector_get_element(x_13, i_8))));
        i_8 = i_8 + int(1);
    }
    return result_12;
}

inline __device__ void _d_exp_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_8, float3  dOut_12)
{
    float3  _S659 = exp_0((*dpx_8).primal_0) * dOut_12;
    dpx_8->primal_0 = (*dpx_8).primal_0;
    dpx_8->differential_0 = _S659;
    return;
}

inline __device__ void _d_log_0(DiffPair_float_0 * dpx_9, float dOut_13)
{
    float _S660 = 1.0f / (*dpx_9).primal_0 * dOut_13;
    dpx_9->primal_0 = (*dpx_9).primal_0;
    dpx_9->differential_0 = _S660;
    return;
}

inline __device__ void _d_max_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_10, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpy_4, float3  dOut_14)
{
    DiffPair_float_0 left_dp_0;
    (&left_dp_0)->primal_0 = (*dpx_10).primal_0.x;
    (&left_dp_0)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_0;
    (&right_dp_0)->primal_0 = (*dpy_4).primal_0.x;
    (&right_dp_0)->differential_0 = 0.0f;
    _d_max_0(&left_dp_0, &right_dp_0, dOut_14.x);
    float3  left_d_result_5;
    *&((&left_d_result_5)->x) = left_dp_0.differential_0;
    float3  right_d_result_5;
    *&((&right_d_result_5)->x) = right_dp_0.differential_0;
    DiffPair_float_0 left_dp_1;
    (&left_dp_1)->primal_0 = (*dpx_10).primal_0.y;
    (&left_dp_1)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_1;
    (&right_dp_1)->primal_0 = (*dpy_4).primal_0.y;
    (&right_dp_1)->differential_0 = 0.0f;
    _d_max_0(&left_dp_1, &right_dp_1, dOut_14.y);
    *&((&left_d_result_5)->y) = left_dp_1.differential_0;
    *&((&right_d_result_5)->y) = right_dp_1.differential_0;
    DiffPair_float_0 left_dp_2;
    (&left_dp_2)->primal_0 = (*dpx_10).primal_0.z;
    (&left_dp_2)->differential_0 = 0.0f;
    DiffPair_float_0 right_dp_2;
    (&right_dp_2)->primal_0 = (*dpy_4).primal_0.z;
    (&right_dp_2)->differential_0 = 0.0f;
    _d_max_0(&left_dp_2, &right_dp_2, dOut_14.z);
    *&((&left_d_result_5)->z) = left_dp_2.differential_0;
    *&((&right_d_result_5)->z) = right_dp_2.differential_0;
    dpx_10->primal_0 = (*dpx_10).primal_0;
    dpx_10->differential_0 = left_d_result_5;
    dpy_4->primal_0 = (*dpy_4).primal_0;
    dpy_4->differential_0 = right_d_result_5;
    return;
}

inline __device__ float3  max_0(float3  x_14, float3  y_2)
{
    float3  result_13;
    int i_9 = int(0);
    for(;;)
    {
        if(i_9 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_13, i_9) = (F32_max((_slang_vector_get_element(x_14, i_9)), (_slang_vector_get_element(y_2, i_9))));
        i_9 = i_9 + int(1);
    }
    return result_13;
}

inline __device__ void projection_3dgs_persp(bool antialiased_0, float3  mean_1, float4  quat_4, float3  scale_3, float in_opacity_0, FixedArray<float3 , 16>  * sh_coeffs_0, Matrix<float, 3, 3>  R_7, float3  t_3, float fx_7, float fy_7, float cx_4, float cy_4, FixedArray<float, 10>  * dist_coeffs_13, uint image_width_0, uint image_height_0, float near_plane_0, float far_plane_0, int4  * aabb_xyxy_0, float2  * mean2d_8, float * depth_0, float3  * conic_0, float * opacity_0, float3  * rgb_0)
{
    for(;;)
    {
        float3  mean_c_0 = mul_0(R_7, mean_1) + t_3;
        float _S661 = mean_c_0.z;
        bool _S662;
        if(_S661 < near_plane_0)
        {
            _S662 = true;
        }
        else
        {
            _S662 = _S661 > far_plane_0;
        }
        if(_S662)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        Matrix<float, 2, 2>  covar2d_0;
        float3  _S663 = exp_0(scale_3);
        float x_15 = quat_4.y;
        float x2_4 = x_15 * x_15;
        float y2_4 = quat_4.z * quat_4.z;
        float z2_4 = quat_4.w * quat_4.w;
        float xy_4 = quat_4.y * quat_4.z;
        float xz_4 = quat_4.y * quat_4.w;
        float yz_4 = quat_4.z * quat_4.w;
        float wx_4 = quat_4.x * quat_4.y;
        float wy_4 = quat_4.x * quat_4.z;
        float wz_4 = quat_4.x * quat_4.w;
        Matrix<float, 3, 3>  M_2 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_4 + z2_4), 2.0f * (xy_4 + wz_4), 2.0f * (xz_4 - wy_4), 2.0f * (xy_4 - wz_4), 1.0f - 2.0f * (x2_4 + z2_4), 2.0f * (yz_4 + wx_4), 2.0f * (xz_4 + wy_4), 2.0f * (yz_4 - wx_4), 1.0f - 2.0f * (x2_4 + y2_4))), makeMatrix<float, 3, 3> (_S663.x, 0.0f, 0.0f, 0.0f, _S663.y, 0.0f, 0.0f, 0.0f, _S663.z));
        Matrix<float, 3, 3>  _S664 = transpose_0(R_7);
        float _S665 = float(image_width_0);
        float _S666 = float(image_height_0);
        float _S667 = 0.30000001192092896f * (0.5f * _S665 / fx_7);
        float _S668 = 0.30000001192092896f * (0.5f * _S666 / fy_7);
        float rz_1 = 1.0f / mean_c_0.z;
        float rz2_1 = rz_1 * rz_1;
        Matrix<float, 2, 3>  J_4 = makeMatrix<float, 2, 3> (fx_7 * rz_1, 0.0f, - fx_7 * (mean_c_0.z * (F32_min(((_S665 - cx_4) / fx_7 + _S667), ((F32_max((- (cx_4 / fx_7 + _S667)), (mean_c_0.x * rz_1))))))) * rz2_1, 0.0f, fy_7 * rz_1, - fy_7 * (mean_c_0.z * (F32_min(((_S666 - cy_4) / fy_7 + _S668), ((F32_max((- (cy_4 / fy_7 + _S668)), (mean_c_0.y * rz_1))))))) * rz2_1);
        covar2d_0 = mul_6(mul_5(J_4, mul_4(mul_4(R_7, mul_4(M_2, transpose_0(M_2))), _S664)), transpose_1(J_4));
        *mean2d_8 = make_float2 (fx_7 * mean_c_0.x * rz_1 + cx_4, fy_7 * mean_c_0.y * rz_1 + cy_4);
        float det_orig_1 = *&(((&covar2d_0)->rows + (int(0)))->x) * *&(((&covar2d_0)->rows + (int(1)))->y) - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float _S669 = *&(((&covar2d_0)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(0)))->x) = _S669;
        float _S670 = *&(((&covar2d_0)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_0)->rows + (int(1)))->y) = _S670;
        float det_blur_1 = _S669 * _S670 - *&(((&covar2d_0)->rows + (int(0)))->y) * *&(((&covar2d_0)->rows + (int(1)))->x);
        float compensation_1 = (F32_sqrt(((F32_max((0.0f), (det_orig_1 / det_blur_1))))));
        if(det_blur_1 <= 0.0f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_1 = 1.0f / (covar2d_0.rows[int(0)].x * covar2d_0.rows[int(1)].y - covar2d_0.rows[int(0)].y * covar2d_0.rows[int(1)].x);
        Matrix<float, 2, 2>  _S671 = makeMatrix<float, 2, 2> (covar2d_0.rows[int(1)].y * invdet_1, - covar2d_0.rows[int(0)].y * invdet_1, - covar2d_0.rows[int(1)].x * invdet_1, covar2d_0.rows[int(0)].x * invdet_1);
        *opacity_0 = 1.0f / (1.0f + (F32_exp((- in_opacity_0))));
        if(antialiased_0)
        {
            *opacity_0 = *opacity_0 * compensation_1;
        }
        if((*opacity_0) < 0.00392156885936856f)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_0 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_0 / 0.00392156885936856f)))))))));
        float radius_x_0 = extend_0 * (F32_sqrt((covar2d_0[int(0)].x)));
        float radius_y_0 = extend_0 * (F32_sqrt((covar2d_0[int(1)].y)));
        float xmin_0 = (F32_floor(((*mean2d_8).x - radius_x_0)));
        float xmax_0 = (F32_ceil(((*mean2d_8).x + radius_x_0)));
        float ymin_0 = (F32_floor(((*mean2d_8).y - radius_y_0)));
        float ymax_0 = (F32_ceil(((*mean2d_8).y + radius_y_0)));
        if(xmax_0 <= 0.0f)
        {
            _S662 = true;
        }
        else
        {
            _S662 = xmin_0 >= _S665;
        }
        if(_S662)
        {
            _S662 = true;
        }
        else
        {
            _S662 = ymax_0 <= 0.0f;
        }
        if(_S662)
        {
            _S662 = true;
        }
        else
        {
            _S662 = ymin_0 >= _S666;
        }
        if(_S662)
        {
            *aabb_xyxy_0 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_0 = make_int4 (int(xmin_0), int(ymin_0), int(xmax_0), int(ymax_0));
        *depth_0 = length_1(mean_c_0);
        *conic_0 = make_float3 (_S671.rows[int(0)].x, _S671.rows[int(0)].y, _S671.rows[int(1)].y);
        float3  _S672 = mean_1 - - mul_0(_S664, t_3);
        float3  _S673 = make_float3 (0.282094806432724f) * (*sh_coeffs_0)[int(0)];
        *rgb_0 = _S673;
        float _S674 = _S672.x;
        float _S675 = _S672.y;
        float _S676 = _S672.z;
        float norm_0 = (F32_sqrt((_S674 * _S674 + _S675 * _S675 + _S676 * _S676)));
        float x_16 = _S674 / norm_0;
        float y_3 = _S675 / norm_0;
        float z_0 = _S676 / norm_0;
        float3  _S677 = _S673 + make_float3 (0.48860251903533936f) * (make_float3 (- y_3) * (*sh_coeffs_0)[int(1)] + make_float3 (z_0) * (*sh_coeffs_0)[int(2)] - make_float3 (x_16) * (*sh_coeffs_0)[int(3)]);
        *rgb_0 = _S677;
        float z2_5 = z_0 * z_0;
        float fTmp0B_0 = -1.09254848957061768f * z_0;
        float fC1_0 = x_16 * x_16 - y_3 * y_3;
        float fS1_0 = 2.0f * x_16 * y_3;
        float3  _S678 = _S677 + (make_float3 (0.54627424478530884f * fS1_0) * (*sh_coeffs_0)[int(4)] + make_float3 (fTmp0B_0 * y_3) * (*sh_coeffs_0)[int(5)] + make_float3 (0.94617468118667603f * z2_5 - 0.31539157032966614f) * (*sh_coeffs_0)[int(6)] + make_float3 (fTmp0B_0 * x_16) * (*sh_coeffs_0)[int(7)] + make_float3 (0.54627424478530884f * fC1_0) * (*sh_coeffs_0)[int(8)]);
        *rgb_0 = _S678;
        float fTmp0C_0 = -2.28522896766662598f * z2_5 + 0.4570457935333252f;
        float fTmp1B_0 = 1.44530570507049561f * z_0;
        *rgb_0 = max_0(_S678 + (make_float3 (-0.59004360437393188f * (x_16 * fS1_0 + y_3 * fC1_0)) * (*sh_coeffs_0)[int(9)] + make_float3 (fTmp1B_0 * fS1_0) * (*sh_coeffs_0)[int(10)] + make_float3 (fTmp0C_0 * y_3) * (*sh_coeffs_0)[int(11)] + make_float3 (z_0 * (1.86588168144226074f * z2_5 - 1.11952900886535645f)) * (*sh_coeffs_0)[int(12)] + make_float3 (fTmp0C_0 * x_16) * (*sh_coeffs_0)[int(13)] + make_float3 (fTmp1B_0 * fC1_0) * (*sh_coeffs_0)[int(14)] + make_float3 (-0.59004360437393188f * (x_16 * fC1_0 - y_3 * fS1_0)) * (*sh_coeffs_0)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_fisheye(bool antialiased_1, float3  mean_2, float4  quat_5, float3  scale_4, float in_opacity_1, FixedArray<float3 , 16>  * sh_coeffs_1, Matrix<float, 3, 3>  R_8, float3  t_4, float fx_8, float fy_8, float cx_5, float cy_5, FixedArray<float, 10>  * dist_coeffs_14, uint image_width_1, uint image_height_1, float near_plane_1, float far_plane_1, int4  * aabb_xyxy_1, float2  * mean2d_9, float * depth_1, float3  * conic_1, float * opacity_1, float3  * rgb_1)
{
    for(;;)
    {
        float3  mean_c_1 = mul_0(R_8, mean_2) + t_4;
        float _S679 = length_1(mean_c_1);
        bool _S680;
        if(_S679 < near_plane_1)
        {
            _S680 = true;
        }
        else
        {
            _S680 = _S679 > far_plane_1;
        }
        if(_S680)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_6 = make_float4 (fx_8, fy_8, cx_5, cy_5);
        Matrix<float, 2, 2>  covar2d_1;
        float3  _S681 = exp_0(scale_4);
        float x_17 = quat_5.y;
        float x2_5 = x_17 * x_17;
        float y2_5 = quat_5.z * quat_5.z;
        float z2_6 = quat_5.w * quat_5.w;
        float xy_5 = quat_5.y * quat_5.z;
        float xz_5 = quat_5.y * quat_5.w;
        float yz_5 = quat_5.z * quat_5.w;
        float wx_5 = quat_5.x * quat_5.y;
        float wy_5 = quat_5.x * quat_5.z;
        float wz_5 = quat_5.x * quat_5.w;
        Matrix<float, 3, 3>  M_3 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_5 + z2_6), 2.0f * (xy_5 + wz_5), 2.0f * (xz_5 - wy_5), 2.0f * (xy_5 - wz_5), 1.0f - 2.0f * (x2_5 + z2_6), 2.0f * (yz_5 + wx_5), 2.0f * (xz_5 + wy_5), 2.0f * (yz_5 - wx_5), 1.0f - 2.0f * (x2_5 + y2_5))), makeMatrix<float, 3, 3> (_S681.x, 0.0f, 0.0f, 0.0f, _S681.y, 0.0f, 0.0f, 0.0f, _S681.z));
        Matrix<float, 3, 3>  _S682 = transpose_0(R_8);
        bool _S683 = fisheye_proj_3dgs_0(mean_c_1, mul_4(mul_4(R_8, mul_4(M_3, transpose_0(M_3))), _S682), intrins_6, dist_coeffs_14, &covar2d_1, mean2d_9);
        if(!(true & _S683))
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_2 = *&(((&covar2d_1)->rows + (int(0)))->x) * *&(((&covar2d_1)->rows + (int(1)))->y) - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float _S684 = *&(((&covar2d_1)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(0)))->x) = _S684;
        float _S685 = *&(((&covar2d_1)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_1)->rows + (int(1)))->y) = _S685;
        float det_blur_2 = _S684 * _S685 - *&(((&covar2d_1)->rows + (int(0)))->y) * *&(((&covar2d_1)->rows + (int(1)))->x);
        float compensation_2 = (F32_sqrt(((F32_max((0.0f), (det_orig_2 / det_blur_2))))));
        if(det_blur_2 <= 0.0f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_2 = 1.0f / (covar2d_1.rows[int(0)].x * covar2d_1.rows[int(1)].y - covar2d_1.rows[int(0)].y * covar2d_1.rows[int(1)].x);
        Matrix<float, 2, 2>  _S686 = makeMatrix<float, 2, 2> (covar2d_1.rows[int(1)].y * invdet_2, - covar2d_1.rows[int(0)].y * invdet_2, - covar2d_1.rows[int(1)].x * invdet_2, covar2d_1.rows[int(0)].x * invdet_2);
        *opacity_1 = 1.0f / (1.0f + (F32_exp((- in_opacity_1))));
        if(antialiased_1)
        {
            *opacity_1 = *opacity_1 * compensation_2;
        }
        if((*opacity_1) < 0.00392156885936856f)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_1 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_1 / 0.00392156885936856f)))))))));
        float radius_x_1 = extend_1 * (F32_sqrt((covar2d_1[int(0)].x)));
        float radius_y_1 = extend_1 * (F32_sqrt((covar2d_1[int(1)].y)));
        float xmin_1 = (F32_floor(((*mean2d_9).x - radius_x_1)));
        float xmax_1 = (F32_ceil(((*mean2d_9).x + radius_x_1)));
        float ymin_1 = (F32_floor(((*mean2d_9).y - radius_y_1)));
        float ymax_1 = (F32_ceil(((*mean2d_9).y + radius_y_1)));
        if(xmax_1 <= 0.0f)
        {
            _S680 = true;
        }
        else
        {
            _S680 = xmin_1 >= float(image_width_1);
        }
        if(_S680)
        {
            _S680 = true;
        }
        else
        {
            _S680 = ymax_1 <= 0.0f;
        }
        if(_S680)
        {
            _S680 = true;
        }
        else
        {
            _S680 = ymin_1 >= float(image_height_1);
        }
        if(_S680)
        {
            *aabb_xyxy_1 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_1 = make_int4 (int(xmin_1), int(ymin_1), int(xmax_1), int(ymax_1));
        *depth_1 = _S679;
        *conic_1 = make_float3 (_S686.rows[int(0)].x, _S686.rows[int(0)].y, _S686.rows[int(1)].y);
        float3  _S687 = mean_2 - - mul_0(_S682, t_4);
        float3  _S688 = make_float3 (0.282094806432724f) * (*sh_coeffs_1)[int(0)];
        *rgb_1 = _S688;
        float _S689 = _S687.x;
        float _S690 = _S687.y;
        float _S691 = _S687.z;
        float norm_1 = (F32_sqrt((_S689 * _S689 + _S690 * _S690 + _S691 * _S691)));
        float x_18 = _S689 / norm_1;
        float y_4 = _S690 / norm_1;
        float z_1 = _S691 / norm_1;
        float3  _S692 = _S688 + make_float3 (0.48860251903533936f) * (make_float3 (- y_4) * (*sh_coeffs_1)[int(1)] + make_float3 (z_1) * (*sh_coeffs_1)[int(2)] - make_float3 (x_18) * (*sh_coeffs_1)[int(3)]);
        *rgb_1 = _S692;
        float z2_7 = z_1 * z_1;
        float fTmp0B_1 = -1.09254848957061768f * z_1;
        float fC1_1 = x_18 * x_18 - y_4 * y_4;
        float fS1_1 = 2.0f * x_18 * y_4;
        float3  _S693 = _S692 + (make_float3 (0.54627424478530884f * fS1_1) * (*sh_coeffs_1)[int(4)] + make_float3 (fTmp0B_1 * y_4) * (*sh_coeffs_1)[int(5)] + make_float3 (0.94617468118667603f * z2_7 - 0.31539157032966614f) * (*sh_coeffs_1)[int(6)] + make_float3 (fTmp0B_1 * x_18) * (*sh_coeffs_1)[int(7)] + make_float3 (0.54627424478530884f * fC1_1) * (*sh_coeffs_1)[int(8)]);
        *rgb_1 = _S693;
        float fTmp0C_1 = -2.28522896766662598f * z2_7 + 0.4570457935333252f;
        float fTmp1B_1 = 1.44530570507049561f * z_1;
        *rgb_1 = max_0(_S693 + (make_float3 (-0.59004360437393188f * (x_18 * fS1_1 + y_4 * fC1_1)) * (*sh_coeffs_1)[int(9)] + make_float3 (fTmp1B_1 * fS1_1) * (*sh_coeffs_1)[int(10)] + make_float3 (fTmp0C_1 * y_4) * (*sh_coeffs_1)[int(11)] + make_float3 (z_1 * (1.86588168144226074f * z2_7 - 1.11952900886535645f)) * (*sh_coeffs_1)[int(12)] + make_float3 (fTmp0C_1 * x_18) * (*sh_coeffs_1)[int(13)] + make_float3 (fTmp1B_1 * fC1_1) * (*sh_coeffs_1)[int(14)] + make_float3 (-0.59004360437393188f * (x_18 * fC1_1 - y_4 * fS1_1)) * (*sh_coeffs_1)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgs_ortho(bool antialiased_2, float3  mean_3, float4  quat_6, float3  scale_5, float in_opacity_2, FixedArray<float3 , 16>  * sh_coeffs_2, Matrix<float, 3, 3>  R_9, float3  t_5, float fx_9, float fy_9, float cx_6, float cy_6, FixedArray<float, 10>  * dist_coeffs_15, uint image_width_2, uint image_height_2, float near_plane_2, float far_plane_2, int4  * aabb_xyxy_2, float2  * mean2d_10, float * depth_2, float3  * conic_2, float * opacity_2, float3  * rgb_2)
{
    for(;;)
    {
        float3  mean_c_2 = mul_0(R_9, mean_3) + t_5;
        float _S694 = mean_c_2.z;
        bool _S695;
        if(_S694 < near_plane_2)
        {
            _S695 = true;
        }
        else
        {
            _S695 = _S694 > far_plane_2;
        }
        if(_S695)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        Matrix<float, 2, 2>  covar2d_2;
        float3  _S696 = exp_0(scale_5);
        float x_19 = quat_6.y;
        float x2_6 = x_19 * x_19;
        float y2_6 = quat_6.z * quat_6.z;
        float z2_8 = quat_6.w * quat_6.w;
        float xy_6 = quat_6.y * quat_6.z;
        float xz_6 = quat_6.y * quat_6.w;
        float yz_6 = quat_6.z * quat_6.w;
        float wx_6 = quat_6.x * quat_6.y;
        float wy_6 = quat_6.x * quat_6.z;
        float wz_6 = quat_6.x * quat_6.w;
        Matrix<float, 3, 3>  M_4 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_6 + z2_8), 2.0f * (xy_6 + wz_6), 2.0f * (xz_6 - wy_6), 2.0f * (xy_6 - wz_6), 1.0f - 2.0f * (x2_6 + z2_8), 2.0f * (yz_6 + wx_6), 2.0f * (xz_6 + wy_6), 2.0f * (yz_6 - wx_6), 1.0f - 2.0f * (x2_6 + y2_6))), makeMatrix<float, 3, 3> (_S696.x, 0.0f, 0.0f, 0.0f, _S696.y, 0.0f, 0.0f, 0.0f, _S696.z));
        Matrix<float, 3, 3>  _S697 = transpose_0(R_9);
        Matrix<float, 2, 3>  J_5 = makeMatrix<float, 2, 3> (fx_9, 0.0f, 0.0f, 0.0f, fy_9, 0.0f);
        covar2d_2 = mul_6(mul_5(J_5, mul_4(mul_4(R_9, mul_4(M_4, transpose_0(M_4))), _S697)), transpose_1(J_5));
        *mean2d_10 = make_float2 (fx_9 * mean_c_2.x + cx_6, fy_9 * mean_c_2.y + cy_6);
        float det_orig_3 = *&(((&covar2d_2)->rows + (int(0)))->x) * *&(((&covar2d_2)->rows + (int(1)))->y) - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float _S698 = *&(((&covar2d_2)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(0)))->x) = _S698;
        float _S699 = *&(((&covar2d_2)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_2)->rows + (int(1)))->y) = _S699;
        float det_blur_3 = _S698 * _S699 - *&(((&covar2d_2)->rows + (int(0)))->y) * *&(((&covar2d_2)->rows + (int(1)))->x);
        float compensation_3 = (F32_sqrt(((F32_max((0.0f), (det_orig_3 / det_blur_3))))));
        if(det_blur_3 <= 0.0f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float invdet_3 = 1.0f / (covar2d_2.rows[int(0)].x * covar2d_2.rows[int(1)].y - covar2d_2.rows[int(0)].y * covar2d_2.rows[int(1)].x);
        Matrix<float, 2, 2>  _S700 = makeMatrix<float, 2, 2> (covar2d_2.rows[int(1)].y * invdet_3, - covar2d_2.rows[int(0)].y * invdet_3, - covar2d_2.rows[int(1)].x * invdet_3, covar2d_2.rows[int(0)].x * invdet_3);
        *opacity_2 = 1.0f / (1.0f + (F32_exp((- in_opacity_2))));
        if(antialiased_2)
        {
            *opacity_2 = *opacity_2 * compensation_3;
        }
        if((*opacity_2) < 0.00392156885936856f)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_2 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_2 / 0.00392156885936856f)))))))));
        float radius_x_2 = extend_2 * (F32_sqrt((covar2d_2[int(0)].x)));
        float radius_y_2 = extend_2 * (F32_sqrt((covar2d_2[int(1)].y)));
        float xmin_2 = (F32_floor(((*mean2d_10).x - radius_x_2)));
        float xmax_2 = (F32_ceil(((*mean2d_10).x + radius_x_2)));
        float ymin_2 = (F32_floor(((*mean2d_10).y - radius_y_2)));
        float ymax_2 = (F32_ceil(((*mean2d_10).y + radius_y_2)));
        if(xmax_2 <= 0.0f)
        {
            _S695 = true;
        }
        else
        {
            _S695 = xmin_2 >= float(image_width_2);
        }
        if(_S695)
        {
            _S695 = true;
        }
        else
        {
            _S695 = ymax_2 <= 0.0f;
        }
        if(_S695)
        {
            _S695 = true;
        }
        else
        {
            _S695 = ymin_2 >= float(image_height_2);
        }
        if(_S695)
        {
            *aabb_xyxy_2 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_2 = make_int4 (int(xmin_2), int(ymin_2), int(xmax_2), int(ymax_2));
        *depth_2 = length_1(mean_c_2);
        *conic_2 = make_float3 (_S700.rows[int(0)].x, _S700.rows[int(0)].y, _S700.rows[int(1)].y);
        float3  _S701 = mean_3 - - mul_0(_S697, t_5);
        float3  _S702 = make_float3 (0.282094806432724f) * (*sh_coeffs_2)[int(0)];
        *rgb_2 = _S702;
        float _S703 = _S701.x;
        float _S704 = _S701.y;
        float _S705 = _S701.z;
        float norm_2 = (F32_sqrt((_S703 * _S703 + _S704 * _S704 + _S705 * _S705)));
        float x_20 = _S703 / norm_2;
        float y_5 = _S704 / norm_2;
        float z_2 = _S705 / norm_2;
        float3  _S706 = _S702 + make_float3 (0.48860251903533936f) * (make_float3 (- y_5) * (*sh_coeffs_2)[int(1)] + make_float3 (z_2) * (*sh_coeffs_2)[int(2)] - make_float3 (x_20) * (*sh_coeffs_2)[int(3)]);
        *rgb_2 = _S706;
        float z2_9 = z_2 * z_2;
        float fTmp0B_2 = -1.09254848957061768f * z_2;
        float fC1_2 = x_20 * x_20 - y_5 * y_5;
        float fS1_2 = 2.0f * x_20 * y_5;
        float3  _S707 = _S706 + (make_float3 (0.54627424478530884f * fS1_2) * (*sh_coeffs_2)[int(4)] + make_float3 (fTmp0B_2 * y_5) * (*sh_coeffs_2)[int(5)] + make_float3 (0.94617468118667603f * z2_9 - 0.31539157032966614f) * (*sh_coeffs_2)[int(6)] + make_float3 (fTmp0B_2 * x_20) * (*sh_coeffs_2)[int(7)] + make_float3 (0.54627424478530884f * fC1_2) * (*sh_coeffs_2)[int(8)]);
        *rgb_2 = _S707;
        float fTmp0C_2 = -2.28522896766662598f * z2_9 + 0.4570457935333252f;
        float fTmp1B_2 = 1.44530570507049561f * z_2;
        *rgb_2 = max_0(_S707 + (make_float3 (-0.59004360437393188f * (x_20 * fS1_2 + y_5 * fC1_2)) * (*sh_coeffs_2)[int(9)] + make_float3 (fTmp1B_2 * fS1_2) * (*sh_coeffs_2)[int(10)] + make_float3 (fTmp0C_2 * y_5) * (*sh_coeffs_2)[int(11)] + make_float3 (z_2 * (1.86588168144226074f * z2_9 - 1.11952900886535645f)) * (*sh_coeffs_2)[int(12)] + make_float3 (fTmp0C_2 * x_20) * (*sh_coeffs_2)[int(13)] + make_float3 (fTmp1B_2 * fC1_2) * (*sh_coeffs_2)[int(14)] + make_float3 (-0.59004360437393188f * (x_20 * fC1_2 - y_5 * fS1_2)) * (*sh_coeffs_2)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_persp(bool antialiased_3, float3  mean_4, float4  quat_7, float3  scale_6, float in_opacity_3, FixedArray<float3 , 16>  * sh_coeffs_3, Matrix<float, 3, 3>  R_10, float3  t_6, float fx_10, float fy_10, float cx_7, float cy_7, FixedArray<float, 10>  * dist_coeffs_16, uint image_width_3, uint image_height_3, float near_plane_3, float far_plane_3, int4  * aabb_xyxy_3, float2  * mean2d_11, float * depth_3, float3  * conic_3, float * opacity_3, float3  * rgb_3)
{
    for(;;)
    {
        float3  mean_c_3 = mul_0(R_10, mean_4) + t_6;
        float _S708 = mean_c_3.z;
        bool _S709;
        if(_S708 < near_plane_3)
        {
            _S709 = true;
        }
        else
        {
            _S709 = _S708 > far_plane_3;
        }
        if(_S709)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_7 = make_float4 (fx_10, fy_10, cx_7, cy_7);
        Matrix<float, 2, 2>  covar2d_3;
        float3  _S710 = exp_0(scale_6);
        float x_21 = quat_7.y;
        float x2_7 = x_21 * x_21;
        float y2_7 = quat_7.z * quat_7.z;
        float z2_10 = quat_7.w * quat_7.w;
        float xy_7 = quat_7.y * quat_7.z;
        float xz_7 = quat_7.y * quat_7.w;
        float yz_7 = quat_7.z * quat_7.w;
        float wx_7 = quat_7.x * quat_7.y;
        float wy_7 = quat_7.x * quat_7.z;
        float wz_7 = quat_7.x * quat_7.w;
        Matrix<float, 3, 3>  _S711 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_7 + z2_10), 2.0f * (xy_7 + wz_7), 2.0f * (xz_7 - wy_7), 2.0f * (xy_7 - wz_7), 1.0f - 2.0f * (x2_7 + z2_10), 2.0f * (yz_7 + wx_7), 2.0f * (xz_7 + wy_7), 2.0f * (yz_7 - wx_7), 1.0f - 2.0f * (x2_7 + y2_7))));
        SigmaPoints_0 ret_0;
        (&ret_0)->p_0[int(0)] = mean_4;
        (&ret_0)->w_mean_0[int(0)] = 0.0f;
        (&ret_0)->w_cov_0[int(0)] = 2.0f;
        float _S712 = (F32_sqrt((3.0f)));
        float3  delta_0 = make_float3 (_S712 * _S710.x) * _S711.rows[0U];
        float3  _S713 = mean_4 + delta_0;
        float3  _S714 = mean_4 - delta_0;
        float3  delta_1 = make_float3 (_S712 * _S710.y) * _S711.rows[1U];
        float3  _S715 = mean_4 + delta_1;
        float3  _S716 = mean_4 - delta_1;
        float3  delta_2 = make_float3 (_S712 * _S710.z) * _S711.rows[2U];
        float3  _S717 = mean_4 + delta_2;
        float3  _S718 = mean_4 - delta_2;
        (&ret_0)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_0)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_0)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_0)->p_0[0U] = mul_0(R_10, (&ret_0)->p_0[0U]) + t_6;
        (&ret_0)->p_0[1U] = mul_0(R_10, _S713) + t_6;
        (&ret_0)->p_0[2U] = mul_0(R_10, _S715) + t_6;
        (&ret_0)->p_0[3U] = mul_0(R_10, _S717) + t_6;
        (&ret_0)->p_0[4U] = mul_0(R_10, _S714) + t_6;
        (&ret_0)->p_0[5U] = mul_0(R_10, _S716) + t_6;
        (&ret_0)->p_0[6U] = mul_0(R_10, _S718) + t_6;
        SigmaPoints_0 _S719 = ret_0;
        bool _S720 = persp_proj_3dgs_ut_0(&_S719, intrins_7, dist_coeffs_16, image_width_3, image_height_3, &covar2d_3, mean2d_11);
        if(!(true & _S720))
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_4 = *&(((&covar2d_3)->rows + (int(0)))->x) * *&(((&covar2d_3)->rows + (int(1)))->y) - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float _S721 = *&(((&covar2d_3)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(0)))->x) = _S721;
        float _S722 = *&(((&covar2d_3)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_3)->rows + (int(1)))->y) = _S722;
        float det_blur_4 = _S721 * _S722 - *&(((&covar2d_3)->rows + (int(0)))->y) * *&(((&covar2d_3)->rows + (int(1)))->x);
        float compensation_4 = (F32_sqrt(((F32_max((0.0f), (det_orig_4 / det_blur_4))))));
        if(det_blur_4 <= 0.0f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_3 = 1.0f / (1.0f + (F32_exp((- in_opacity_3))));
        if(antialiased_3)
        {
            *opacity_3 = *opacity_3 * compensation_4;
        }
        if((*opacity_3) < 0.00392156885936856f)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_3 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_3 / 0.00392156885936856f)))))))));
        float radius_x_3 = extend_3 * (F32_sqrt((covar2d_3[int(0)].x)));
        float radius_y_3 = extend_3 * (F32_sqrt((covar2d_3[int(1)].y)));
        float xmin_3 = (F32_floor(((*mean2d_11).x - radius_x_3)));
        float xmax_3 = (F32_ceil(((*mean2d_11).x + radius_x_3)));
        float ymin_3 = (F32_floor(((*mean2d_11).y - radius_y_3)));
        float ymax_3 = (F32_ceil(((*mean2d_11).y + radius_y_3)));
        if(xmax_3 <= 0.0f)
        {
            _S709 = true;
        }
        else
        {
            _S709 = xmin_3 >= float(image_width_3);
        }
        if(_S709)
        {
            _S709 = true;
        }
        else
        {
            _S709 = ymax_3 <= 0.0f;
        }
        if(_S709)
        {
            _S709 = true;
        }
        else
        {
            _S709 = ymin_3 >= float(image_height_3);
        }
        if(_S709)
        {
            *aabb_xyxy_3 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_3 = make_int4 (int(xmin_3), int(ymin_3), int(xmax_3), int(ymax_3));
        *depth_3 = (F32_max((_S708), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S708 + length_1(mean_c_3)))));
        *conic_3 = exp_0(- scale_6);
        float3  _S723 = mean_4 - - mul_0(transpose_0(R_10), t_6);
        float3  _S724 = make_float3 (0.282094806432724f) * (*sh_coeffs_3)[int(0)];
        *rgb_3 = _S724;
        float _S725 = _S723.x;
        float _S726 = _S723.y;
        float _S727 = _S723.z;
        float norm_3 = (F32_sqrt((_S725 * _S725 + _S726 * _S726 + _S727 * _S727)));
        float x_22 = _S725 / norm_3;
        float y_6 = _S726 / norm_3;
        float z_3 = _S727 / norm_3;
        float3  _S728 = _S724 + make_float3 (0.48860251903533936f) * (make_float3 (- y_6) * (*sh_coeffs_3)[int(1)] + make_float3 (z_3) * (*sh_coeffs_3)[int(2)] - make_float3 (x_22) * (*sh_coeffs_3)[int(3)]);
        *rgb_3 = _S728;
        float z2_11 = z_3 * z_3;
        float fTmp0B_3 = -1.09254848957061768f * z_3;
        float fC1_3 = x_22 * x_22 - y_6 * y_6;
        float fS1_3 = 2.0f * x_22 * y_6;
        float3  _S729 = _S728 + (make_float3 (0.54627424478530884f * fS1_3) * (*sh_coeffs_3)[int(4)] + make_float3 (fTmp0B_3 * y_6) * (*sh_coeffs_3)[int(5)] + make_float3 (0.94617468118667603f * z2_11 - 0.31539157032966614f) * (*sh_coeffs_3)[int(6)] + make_float3 (fTmp0B_3 * x_22) * (*sh_coeffs_3)[int(7)] + make_float3 (0.54627424478530884f * fC1_3) * (*sh_coeffs_3)[int(8)]);
        *rgb_3 = _S729;
        float fTmp0C_3 = -2.28522896766662598f * z2_11 + 0.4570457935333252f;
        float fTmp1B_3 = 1.44530570507049561f * z_3;
        *rgb_3 = max_0(_S729 + (make_float3 (-0.59004360437393188f * (x_22 * fS1_3 + y_6 * fC1_3)) * (*sh_coeffs_3)[int(9)] + make_float3 (fTmp1B_3 * fS1_3) * (*sh_coeffs_3)[int(10)] + make_float3 (fTmp0C_3 * y_6) * (*sh_coeffs_3)[int(11)] + make_float3 (z_3 * (1.86588168144226074f * z2_11 - 1.11952900886535645f)) * (*sh_coeffs_3)[int(12)] + make_float3 (fTmp0C_3 * x_22) * (*sh_coeffs_3)[int(13)] + make_float3 (fTmp1B_3 * fC1_3) * (*sh_coeffs_3)[int(14)] + make_float3 (-0.59004360437393188f * (x_22 * fC1_3 - y_6 * fS1_3)) * (*sh_coeffs_3)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_fisheye(bool antialiased_4, float3  mean_5, float4  quat_8, float3  scale_7, float in_opacity_4, FixedArray<float3 , 16>  * sh_coeffs_4, Matrix<float, 3, 3>  R_11, float3  t_7, float fx_11, float fy_11, float cx_8, float cy_8, FixedArray<float, 10>  * dist_coeffs_17, uint image_width_4, uint image_height_4, float near_plane_4, float far_plane_4, int4  * aabb_xyxy_4, float2  * mean2d_12, float * depth_4, float3  * conic_4, float * opacity_4, float3  * rgb_4)
{
    for(;;)
    {
        float3  mean_c_4 = mul_0(R_11, mean_5) + t_7;
        float _S730 = length_1(mean_c_4);
        bool _S731;
        if(_S730 < near_plane_4)
        {
            _S731 = true;
        }
        else
        {
            _S731 = _S730 > far_plane_4;
        }
        if(_S731)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_8 = make_float4 (fx_11, fy_11, cx_8, cy_8);
        Matrix<float, 2, 2>  covar2d_4;
        float3  _S732 = exp_0(scale_7);
        float x_23 = quat_8.y;
        float x2_8 = x_23 * x_23;
        float y2_8 = quat_8.z * quat_8.z;
        float z2_12 = quat_8.w * quat_8.w;
        float xy_8 = quat_8.y * quat_8.z;
        float xz_8 = quat_8.y * quat_8.w;
        float yz_8 = quat_8.z * quat_8.w;
        float wx_8 = quat_8.x * quat_8.y;
        float wy_8 = quat_8.x * quat_8.z;
        float wz_8 = quat_8.x * quat_8.w;
        Matrix<float, 3, 3>  _S733 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_8 + z2_12), 2.0f * (xy_8 + wz_8), 2.0f * (xz_8 - wy_8), 2.0f * (xy_8 - wz_8), 1.0f - 2.0f * (x2_8 + z2_12), 2.0f * (yz_8 + wx_8), 2.0f * (xz_8 + wy_8), 2.0f * (yz_8 - wx_8), 1.0f - 2.0f * (x2_8 + y2_8))));
        SigmaPoints_0 ret_1;
        (&ret_1)->p_0[int(0)] = mean_5;
        (&ret_1)->w_mean_0[int(0)] = 0.0f;
        (&ret_1)->w_cov_0[int(0)] = 2.0f;
        float _S734 = (F32_sqrt((3.0f)));
        float3  delta_3 = make_float3 (_S734 * _S732.x) * _S733.rows[0U];
        float3  _S735 = mean_5 + delta_3;
        float3  _S736 = mean_5 - delta_3;
        float3  delta_4 = make_float3 (_S734 * _S732.y) * _S733.rows[1U];
        float3  _S737 = mean_5 + delta_4;
        float3  _S738 = mean_5 - delta_4;
        float3  delta_5 = make_float3 (_S734 * _S732.z) * _S733.rows[2U];
        float3  _S739 = mean_5 + delta_5;
        float3  _S740 = mean_5 - delta_5;
        (&ret_1)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_1)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_1)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_1)->p_0[0U] = mul_0(R_11, (&ret_1)->p_0[0U]) + t_7;
        (&ret_1)->p_0[1U] = mul_0(R_11, _S735) + t_7;
        (&ret_1)->p_0[2U] = mul_0(R_11, _S737) + t_7;
        (&ret_1)->p_0[3U] = mul_0(R_11, _S739) + t_7;
        (&ret_1)->p_0[4U] = mul_0(R_11, _S736) + t_7;
        (&ret_1)->p_0[5U] = mul_0(R_11, _S738) + t_7;
        (&ret_1)->p_0[6U] = mul_0(R_11, _S740) + t_7;
        SigmaPoints_0 _S741 = ret_1;
        bool _S742 = fisheye_proj_3dgs_ut_0(&_S741, intrins_8, dist_coeffs_17, &covar2d_4, mean2d_12);
        if(!(true & _S742))
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_5 = *&(((&covar2d_4)->rows + (int(0)))->x) * *&(((&covar2d_4)->rows + (int(1)))->y) - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float _S743 = *&(((&covar2d_4)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(0)))->x) = _S743;
        float _S744 = *&(((&covar2d_4)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_4)->rows + (int(1)))->y) = _S744;
        float det_blur_5 = _S743 * _S744 - *&(((&covar2d_4)->rows + (int(0)))->y) * *&(((&covar2d_4)->rows + (int(1)))->x);
        float compensation_5 = (F32_sqrt(((F32_max((0.0f), (det_orig_5 / det_blur_5))))));
        if(det_blur_5 <= 0.0f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_4 = 1.0f / (1.0f + (F32_exp((- in_opacity_4))));
        if(antialiased_4)
        {
            *opacity_4 = *opacity_4 * compensation_5;
        }
        if((*opacity_4) < 0.00392156885936856f)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_4 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_4 / 0.00392156885936856f)))))))));
        float radius_x_4 = extend_4 * (F32_sqrt((covar2d_4[int(0)].x)));
        float radius_y_4 = extend_4 * (F32_sqrt((covar2d_4[int(1)].y)));
        float xmin_4 = (F32_floor(((*mean2d_12).x - radius_x_4)));
        float xmax_4 = (F32_ceil(((*mean2d_12).x + radius_x_4)));
        float ymin_4 = (F32_floor(((*mean2d_12).y - radius_y_4)));
        float ymax_4 = (F32_ceil(((*mean2d_12).y + radius_y_4)));
        if(xmax_4 <= 0.0f)
        {
            _S731 = true;
        }
        else
        {
            _S731 = xmin_4 >= float(image_width_4);
        }
        if(_S731)
        {
            _S731 = true;
        }
        else
        {
            _S731 = ymax_4 <= 0.0f;
        }
        if(_S731)
        {
            _S731 = true;
        }
        else
        {
            _S731 = ymin_4 >= float(image_height_4);
        }
        if(_S731)
        {
            *aabb_xyxy_4 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_4 = make_int4 (int(xmin_4), int(ymin_4), int(xmax_4), int(ymax_4));
        float _S745 = mean_c_4.z;
        *depth_4 = (F32_max((_S745), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S745 + _S730))));
        *conic_4 = exp_0(- scale_7);
        float3  _S746 = mean_5 - - mul_0(transpose_0(R_11), t_7);
        float3  _S747 = make_float3 (0.282094806432724f) * (*sh_coeffs_4)[int(0)];
        *rgb_4 = _S747;
        float _S748 = _S746.x;
        float _S749 = _S746.y;
        float _S750 = _S746.z;
        float norm_4 = (F32_sqrt((_S748 * _S748 + _S749 * _S749 + _S750 * _S750)));
        float x_24 = _S748 / norm_4;
        float y_7 = _S749 / norm_4;
        float z_4 = _S750 / norm_4;
        float3  _S751 = _S747 + make_float3 (0.48860251903533936f) * (make_float3 (- y_7) * (*sh_coeffs_4)[int(1)] + make_float3 (z_4) * (*sh_coeffs_4)[int(2)] - make_float3 (x_24) * (*sh_coeffs_4)[int(3)]);
        *rgb_4 = _S751;
        float z2_13 = z_4 * z_4;
        float fTmp0B_4 = -1.09254848957061768f * z_4;
        float fC1_4 = x_24 * x_24 - y_7 * y_7;
        float fS1_4 = 2.0f * x_24 * y_7;
        float3  _S752 = _S751 + (make_float3 (0.54627424478530884f * fS1_4) * (*sh_coeffs_4)[int(4)] + make_float3 (fTmp0B_4 * y_7) * (*sh_coeffs_4)[int(5)] + make_float3 (0.94617468118667603f * z2_13 - 0.31539157032966614f) * (*sh_coeffs_4)[int(6)] + make_float3 (fTmp0B_4 * x_24) * (*sh_coeffs_4)[int(7)] + make_float3 (0.54627424478530884f * fC1_4) * (*sh_coeffs_4)[int(8)]);
        *rgb_4 = _S752;
        float fTmp0C_4 = -2.28522896766662598f * z2_13 + 0.4570457935333252f;
        float fTmp1B_4 = 1.44530570507049561f * z_4;
        *rgb_4 = max_0(_S752 + (make_float3 (-0.59004360437393188f * (x_24 * fS1_4 + y_7 * fC1_4)) * (*sh_coeffs_4)[int(9)] + make_float3 (fTmp1B_4 * fS1_4) * (*sh_coeffs_4)[int(10)] + make_float3 (fTmp0C_4 * y_7) * (*sh_coeffs_4)[int(11)] + make_float3 (z_4 * (1.86588168144226074f * z2_13 - 1.11952900886535645f)) * (*sh_coeffs_4)[int(12)] + make_float3 (fTmp0C_4 * x_24) * (*sh_coeffs_4)[int(13)] + make_float3 (fTmp1B_4 * fC1_4) * (*sh_coeffs_4)[int(14)] + make_float3 (-0.59004360437393188f * (x_24 * fC1_4 - y_7 * fS1_4)) * (*sh_coeffs_4)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgs_persp_differentiable(bool antialiased_5, float3  mean_6, float4  quat_9, float3  scale_8, float in_opacity_5, FixedArray<float3 , 16>  * sh_coeffs_5, Matrix<float, 3, 3>  R_12, float3  t_8, float fx_12, float fy_12, float cx_9, float cy_9, FixedArray<float, 10>  * dist_coeffs_18, uint image_width_5, uint image_height_5, float near_plane_5, float far_plane_5, int4  * aabb_xyxy_5, float2  * mean2d_13, float * depth_5, float3  * conic_5, float * opacity_5, float3  * rgb_5)
{
    float3  mean_c_5 = mul_0(R_12, mean_6) + t_8;
    float3  _S753 = exp_0(scale_8);
    float x_25 = quat_9.y;
    float x2_9 = x_25 * x_25;
    float y2_9 = quat_9.z * quat_9.z;
    float z2_14 = quat_9.w * quat_9.w;
    float xy_9 = quat_9.y * quat_9.z;
    float xz_9 = quat_9.y * quat_9.w;
    float yz_9 = quat_9.z * quat_9.w;
    float wx_9 = quat_9.x * quat_9.y;
    float wy_9 = quat_9.x * quat_9.z;
    float wz_9 = quat_9.x * quat_9.w;
    Matrix<float, 3, 3>  M_5 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_9 + z2_14), 2.0f * (xy_9 + wz_9), 2.0f * (xz_9 - wy_9), 2.0f * (xy_9 - wz_9), 1.0f - 2.0f * (x2_9 + z2_14), 2.0f * (yz_9 + wx_9), 2.0f * (xz_9 + wy_9), 2.0f * (yz_9 - wx_9), 1.0f - 2.0f * (x2_9 + y2_9))), makeMatrix<float, 3, 3> (_S753.x, 0.0f, 0.0f, 0.0f, _S753.y, 0.0f, 0.0f, 0.0f, _S753.z));
    Matrix<float, 3, 3>  _S754 = transpose_0(R_12);
    float _S755 = float(image_width_5);
    float _S756 = float(image_height_5);
    float _S757 = 0.30000001192092896f * (0.5f * _S755 / fx_12);
    float _S758 = 0.30000001192092896f * (0.5f * _S756 / fy_12);
    float rz_2 = 1.0f / mean_c_5.z;
    float rz2_2 = rz_2 * rz_2;
    Matrix<float, 2, 3>  J_6 = makeMatrix<float, 2, 3> (fx_12 * rz_2, 0.0f, - fx_12 * (mean_c_5.z * (F32_min(((_S755 - cx_9) / fx_12 + _S757), ((F32_max((- (cx_9 / fx_12 + _S757)), (mean_c_5.x * rz_2))))))) * rz2_2, 0.0f, fy_12 * rz_2, - fy_12 * (mean_c_5.z * (F32_min(((_S756 - cy_9) / fy_12 + _S758), ((F32_max((- (cy_9 / fy_12 + _S758)), (mean_c_5.y * rz_2))))))) * rz2_2);
    Matrix<float, 2, 2>  covar2d_5 = mul_6(mul_5(J_6, mul_4(mul_4(R_12, mul_4(M_5, transpose_0(M_5))), _S754)), transpose_1(J_6));
    *mean2d_13 = make_float2 (fx_12 * mean_c_5.x * rz_2 + cx_9, fy_12 * mean_c_5.y * rz_2 + cy_9);
    float det_orig_6 = *&(((&covar2d_5)->rows + (int(0)))->x) * *&(((&covar2d_5)->rows + (int(1)))->y) - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x);
    float _S759 = *&(((&covar2d_5)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(0)))->x) = _S759;
    float _S760 = *&(((&covar2d_5)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_5)->rows + (int(1)))->y) = _S760;
    float compensation_6 = (F32_sqrt(((F32_max((0.0f), (det_orig_6 / (_S759 * _S760 - *&(((&covar2d_5)->rows + (int(0)))->y) * *&(((&covar2d_5)->rows + (int(1)))->x))))))));
    float invdet_4 = 1.0f / (covar2d_5.rows[int(0)].x * covar2d_5.rows[int(1)].y - covar2d_5.rows[int(0)].y * covar2d_5.rows[int(1)].x);
    Matrix<float, 2, 2>  _S761 = makeMatrix<float, 2, 2> (covar2d_5.rows[int(1)].y * invdet_4, - covar2d_5.rows[int(0)].y * invdet_4, - covar2d_5.rows[int(1)].x * invdet_4, covar2d_5.rows[int(0)].x * invdet_4);
    *opacity_5 = 1.0f / (1.0f + (F32_exp((- in_opacity_5))));
    if(antialiased_5)
    {
        *opacity_5 = *opacity_5 * compensation_6;
    }
    float extend_5 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_5 / 0.00392156885936856f)))))))));
    float radius_x_5 = extend_5 * (F32_sqrt((covar2d_5[int(0)].x)));
    float radius_y_5 = extend_5 * (F32_sqrt((covar2d_5[int(1)].y)));
    *aabb_xyxy_5 = make_int4 (int((F32_floor(((*mean2d_13).x - radius_x_5)))), int((F32_floor(((*mean2d_13).y - radius_y_5)))), int((F32_ceil(((*mean2d_13).x + radius_x_5)))), int((F32_ceil(((*mean2d_13).y + radius_y_5)))));
    *depth_5 = length_1(mean_c_5);
    *conic_5 = make_float3 (_S761.rows[int(0)].x, _S761.rows[int(0)].y, _S761.rows[int(1)].y);
    float3  _S762 = mean_6 - - mul_0(_S754, t_8);
    float3  _S763 = make_float3 (0.282094806432724f) * (*sh_coeffs_5)[int(0)];
    *rgb_5 = _S763;
    float _S764 = _S762.x;
    float _S765 = _S762.y;
    float _S766 = _S762.z;
    float norm_5 = (F32_sqrt((_S764 * _S764 + _S765 * _S765 + _S766 * _S766)));
    float x_26 = _S764 / norm_5;
    float y_8 = _S765 / norm_5;
    float z_5 = _S766 / norm_5;
    float3  _S767 = _S763 + make_float3 (0.48860251903533936f) * (make_float3 (- y_8) * (*sh_coeffs_5)[int(1)] + make_float3 (z_5) * (*sh_coeffs_5)[int(2)] - make_float3 (x_26) * (*sh_coeffs_5)[int(3)]);
    *rgb_5 = _S767;
    float z2_15 = z_5 * z_5;
    float fTmp0B_5 = -1.09254848957061768f * z_5;
    float fC1_5 = x_26 * x_26 - y_8 * y_8;
    float fS1_5 = 2.0f * x_26 * y_8;
    float3  _S768 = _S767 + (make_float3 (0.54627424478530884f * fS1_5) * (*sh_coeffs_5)[int(4)] + make_float3 (fTmp0B_5 * y_8) * (*sh_coeffs_5)[int(5)] + make_float3 (0.94617468118667603f * z2_15 - 0.31539157032966614f) * (*sh_coeffs_5)[int(6)] + make_float3 (fTmp0B_5 * x_26) * (*sh_coeffs_5)[int(7)] + make_float3 (0.54627424478530884f * fC1_5) * (*sh_coeffs_5)[int(8)]);
    *rgb_5 = _S768;
    float fTmp0C_5 = -2.28522896766662598f * z2_15 + 0.4570457935333252f;
    float fTmp1B_5 = 1.44530570507049561f * z_5;
    *rgb_5 = max_0(_S768 + (make_float3 (-0.59004360437393188f * (x_26 * fS1_5 + y_8 * fC1_5)) * (*sh_coeffs_5)[int(9)] + make_float3 (fTmp1B_5 * fS1_5) * (*sh_coeffs_5)[int(10)] + make_float3 (fTmp0C_5 * y_8) * (*sh_coeffs_5)[int(11)] + make_float3 (z_5 * (1.86588168144226074f * z2_15 - 1.11952900886535645f)) * (*sh_coeffs_5)[int(12)] + make_float3 (fTmp0C_5 * x_26) * (*sh_coeffs_5)[int(13)] + make_float3 (fTmp1B_5 * fC1_5) * (*sh_coeffs_5)[int(14)] + make_float3 (-0.59004360437393188f * (x_26 * fC1_5 - y_8 * fS1_5)) * (*sh_coeffs_5)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_fisheye_differentiable(bool antialiased_6, float3  mean_7, float4  quat_10, float3  scale_9, float in_opacity_6, FixedArray<float3 , 16>  * sh_coeffs_6, Matrix<float, 3, 3>  R_13, float3  t_9, float fx_13, float fy_13, float cx_10, float cy_10, FixedArray<float, 10>  * dist_coeffs_19, uint image_width_6, uint image_height_6, float near_plane_6, float far_plane_6, int4  * aabb_xyxy_6, float2  * mean2d_14, float * depth_6, float3  * conic_6, float * opacity_6, float3  * rgb_6)
{
    float3  mean_c_6 = mul_0(R_13, mean_7) + t_9;
    float3  _S769 = exp_0(scale_9);
    float x_27 = quat_10.y;
    float x2_10 = x_27 * x_27;
    float y2_10 = quat_10.z * quat_10.z;
    float z2_16 = quat_10.w * quat_10.w;
    float xy_10 = quat_10.y * quat_10.z;
    float xz_10 = quat_10.y * quat_10.w;
    float yz_10 = quat_10.z * quat_10.w;
    float wx_10 = quat_10.x * quat_10.y;
    float wy_10 = quat_10.x * quat_10.z;
    float wz_10 = quat_10.x * quat_10.w;
    Matrix<float, 3, 3>  M_6 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_10 + z2_16), 2.0f * (xy_10 + wz_10), 2.0f * (xz_10 - wy_10), 2.0f * (xy_10 - wz_10), 1.0f - 2.0f * (x2_10 + z2_16), 2.0f * (yz_10 + wx_10), 2.0f * (xz_10 + wy_10), 2.0f * (yz_10 - wx_10), 1.0f - 2.0f * (x2_10 + y2_10))), makeMatrix<float, 3, 3> (_S769.x, 0.0f, 0.0f, 0.0f, _S769.y, 0.0f, 0.0f, 0.0f, _S769.z));
    Matrix<float, 3, 3>  _S770 = transpose_0(R_13);
    Matrix<float, 2, 2>  covar2d_6;
    bool _S771 = fisheye_proj_3dgs_1(mean_c_6, mul_4(mul_4(R_13, mul_4(M_6, transpose_0(M_6))), _S770), make_float4 (fx_13, fy_13, cx_10, cy_10), dist_coeffs_19, &covar2d_6, mean2d_14);
    float det_orig_7 = *&(((&covar2d_6)->rows + (int(0)))->x) * *&(((&covar2d_6)->rows + (int(1)))->y) - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x);
    float _S772 = *&(((&covar2d_6)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(0)))->x) = _S772;
    float _S773 = *&(((&covar2d_6)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_6)->rows + (int(1)))->y) = _S773;
    float compensation_7 = (F32_sqrt(((F32_max((0.0f), (det_orig_7 / (_S772 * _S773 - *&(((&covar2d_6)->rows + (int(0)))->y) * *&(((&covar2d_6)->rows + (int(1)))->x))))))));
    float invdet_5 = 1.0f / (covar2d_6.rows[int(0)].x * covar2d_6.rows[int(1)].y - covar2d_6.rows[int(0)].y * covar2d_6.rows[int(1)].x);
    Matrix<float, 2, 2>  _S774 = makeMatrix<float, 2, 2> (covar2d_6.rows[int(1)].y * invdet_5, - covar2d_6.rows[int(0)].y * invdet_5, - covar2d_6.rows[int(1)].x * invdet_5, covar2d_6.rows[int(0)].x * invdet_5);
    *opacity_6 = 1.0f / (1.0f + (F32_exp((- in_opacity_6))));
    if(antialiased_6)
    {
        *opacity_6 = *opacity_6 * compensation_7;
    }
    float extend_6 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_6 / 0.00392156885936856f)))))))));
    float radius_x_6 = extend_6 * (F32_sqrt((covar2d_6[int(0)].x)));
    float radius_y_6 = extend_6 * (F32_sqrt((covar2d_6[int(1)].y)));
    *aabb_xyxy_6 = make_int4 (int((F32_floor(((*mean2d_14).x - radius_x_6)))), int((F32_floor(((*mean2d_14).y - radius_y_6)))), int((F32_ceil(((*mean2d_14).x + radius_x_6)))), int((F32_ceil(((*mean2d_14).y + radius_y_6)))));
    *depth_6 = length_1(mean_c_6);
    *conic_6 = make_float3 (_S774.rows[int(0)].x, _S774.rows[int(0)].y, _S774.rows[int(1)].y);
    float3  _S775 = mean_7 - - mul_0(_S770, t_9);
    float3  _S776 = make_float3 (0.282094806432724f) * (*sh_coeffs_6)[int(0)];
    *rgb_6 = _S776;
    float _S777 = _S775.x;
    float _S778 = _S775.y;
    float _S779 = _S775.z;
    float norm_6 = (F32_sqrt((_S777 * _S777 + _S778 * _S778 + _S779 * _S779)));
    float x_28 = _S777 / norm_6;
    float y_9 = _S778 / norm_6;
    float z_6 = _S779 / norm_6;
    float3  _S780 = _S776 + make_float3 (0.48860251903533936f) * (make_float3 (- y_9) * (*sh_coeffs_6)[int(1)] + make_float3 (z_6) * (*sh_coeffs_6)[int(2)] - make_float3 (x_28) * (*sh_coeffs_6)[int(3)]);
    *rgb_6 = _S780;
    float z2_17 = z_6 * z_6;
    float fTmp0B_6 = -1.09254848957061768f * z_6;
    float fC1_6 = x_28 * x_28 - y_9 * y_9;
    float fS1_6 = 2.0f * x_28 * y_9;
    float3  _S781 = _S780 + (make_float3 (0.54627424478530884f * fS1_6) * (*sh_coeffs_6)[int(4)] + make_float3 (fTmp0B_6 * y_9) * (*sh_coeffs_6)[int(5)] + make_float3 (0.94617468118667603f * z2_17 - 0.31539157032966614f) * (*sh_coeffs_6)[int(6)] + make_float3 (fTmp0B_6 * x_28) * (*sh_coeffs_6)[int(7)] + make_float3 (0.54627424478530884f * fC1_6) * (*sh_coeffs_6)[int(8)]);
    *rgb_6 = _S781;
    float fTmp0C_6 = -2.28522896766662598f * z2_17 + 0.4570457935333252f;
    float fTmp1B_6 = 1.44530570507049561f * z_6;
    *rgb_6 = max_0(_S781 + (make_float3 (-0.59004360437393188f * (x_28 * fS1_6 + y_9 * fC1_6)) * (*sh_coeffs_6)[int(9)] + make_float3 (fTmp1B_6 * fS1_6) * (*sh_coeffs_6)[int(10)] + make_float3 (fTmp0C_6 * y_9) * (*sh_coeffs_6)[int(11)] + make_float3 (z_6 * (1.86588168144226074f * z2_17 - 1.11952900886535645f)) * (*sh_coeffs_6)[int(12)] + make_float3 (fTmp0C_6 * x_28) * (*sh_coeffs_6)[int(13)] + make_float3 (fTmp1B_6 * fC1_6) * (*sh_coeffs_6)[int(14)] + make_float3 (-0.59004360437393188f * (x_28 * fC1_6 - y_9 * fS1_6)) * (*sh_coeffs_6)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgs_ortho_differentiable(bool antialiased_7, float3  mean_8, float4  quat_11, float3  scale_10, float in_opacity_7, FixedArray<float3 , 16>  * sh_coeffs_7, Matrix<float, 3, 3>  R_14, float3  t_10, float fx_14, float fy_14, float cx_11, float cy_11, FixedArray<float, 10>  * dist_coeffs_20, uint image_width_7, uint image_height_7, float near_plane_7, float far_plane_7, int4  * aabb_xyxy_7, float2  * mean2d_15, float * depth_7, float3  * conic_7, float * opacity_7, float3  * rgb_7)
{
    float3  mean_c_7 = mul_0(R_14, mean_8) + t_10;
    float3  _S782 = exp_0(scale_10);
    float x_29 = quat_11.y;
    float x2_11 = x_29 * x_29;
    float y2_11 = quat_11.z * quat_11.z;
    float z2_18 = quat_11.w * quat_11.w;
    float xy_11 = quat_11.y * quat_11.z;
    float xz_11 = quat_11.y * quat_11.w;
    float yz_11 = quat_11.z * quat_11.w;
    float wx_11 = quat_11.x * quat_11.y;
    float wy_11 = quat_11.x * quat_11.z;
    float wz_11 = quat_11.x * quat_11.w;
    Matrix<float, 3, 3>  M_7 = mul_4(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_11 + z2_18), 2.0f * (xy_11 + wz_11), 2.0f * (xz_11 - wy_11), 2.0f * (xy_11 - wz_11), 1.0f - 2.0f * (x2_11 + z2_18), 2.0f * (yz_11 + wx_11), 2.0f * (xz_11 + wy_11), 2.0f * (yz_11 - wx_11), 1.0f - 2.0f * (x2_11 + y2_11))), makeMatrix<float, 3, 3> (_S782.x, 0.0f, 0.0f, 0.0f, _S782.y, 0.0f, 0.0f, 0.0f, _S782.z));
    Matrix<float, 3, 3>  _S783 = transpose_0(R_14);
    Matrix<float, 2, 3>  J_7 = makeMatrix<float, 2, 3> (fx_14, 0.0f, 0.0f, 0.0f, fy_14, 0.0f);
    Matrix<float, 2, 2>  covar2d_7 = mul_6(mul_5(J_7, mul_4(mul_4(R_14, mul_4(M_7, transpose_0(M_7))), _S783)), transpose_1(J_7));
    *mean2d_15 = make_float2 (fx_14 * mean_c_7.x + cx_11, fy_14 * mean_c_7.y + cy_11);
    float det_orig_8 = *&(((&covar2d_7)->rows + (int(0)))->x) * *&(((&covar2d_7)->rows + (int(1)))->y) - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x);
    float _S784 = *&(((&covar2d_7)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(0)))->x) = _S784;
    float _S785 = *&(((&covar2d_7)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_7)->rows + (int(1)))->y) = _S785;
    float compensation_8 = (F32_sqrt(((F32_max((0.0f), (det_orig_8 / (_S784 * _S785 - *&(((&covar2d_7)->rows + (int(0)))->y) * *&(((&covar2d_7)->rows + (int(1)))->x))))))));
    float invdet_6 = 1.0f / (covar2d_7.rows[int(0)].x * covar2d_7.rows[int(1)].y - covar2d_7.rows[int(0)].y * covar2d_7.rows[int(1)].x);
    Matrix<float, 2, 2>  _S786 = makeMatrix<float, 2, 2> (covar2d_7.rows[int(1)].y * invdet_6, - covar2d_7.rows[int(0)].y * invdet_6, - covar2d_7.rows[int(1)].x * invdet_6, covar2d_7.rows[int(0)].x * invdet_6);
    *opacity_7 = 1.0f / (1.0f + (F32_exp((- in_opacity_7))));
    if(antialiased_7)
    {
        *opacity_7 = *opacity_7 * compensation_8;
    }
    float extend_7 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_7 / 0.00392156885936856f)))))))));
    float radius_x_7 = extend_7 * (F32_sqrt((covar2d_7[int(0)].x)));
    float radius_y_7 = extend_7 * (F32_sqrt((covar2d_7[int(1)].y)));
    *aabb_xyxy_7 = make_int4 (int((F32_floor(((*mean2d_15).x - radius_x_7)))), int((F32_floor(((*mean2d_15).y - radius_y_7)))), int((F32_ceil(((*mean2d_15).x + radius_x_7)))), int((F32_ceil(((*mean2d_15).y + radius_y_7)))));
    *depth_7 = length_1(mean_c_7);
    *conic_7 = make_float3 (_S786.rows[int(0)].x, _S786.rows[int(0)].y, _S786.rows[int(1)].y);
    float3  _S787 = mean_8 - - mul_0(_S783, t_10);
    float3  _S788 = make_float3 (0.282094806432724f) * (*sh_coeffs_7)[int(0)];
    *rgb_7 = _S788;
    float _S789 = _S787.x;
    float _S790 = _S787.y;
    float _S791 = _S787.z;
    float norm_7 = (F32_sqrt((_S789 * _S789 + _S790 * _S790 + _S791 * _S791)));
    float x_30 = _S789 / norm_7;
    float y_10 = _S790 / norm_7;
    float z_7 = _S791 / norm_7;
    float3  _S792 = _S788 + make_float3 (0.48860251903533936f) * (make_float3 (- y_10) * (*sh_coeffs_7)[int(1)] + make_float3 (z_7) * (*sh_coeffs_7)[int(2)] - make_float3 (x_30) * (*sh_coeffs_7)[int(3)]);
    *rgb_7 = _S792;
    float z2_19 = z_7 * z_7;
    float fTmp0B_7 = -1.09254848957061768f * z_7;
    float fC1_7 = x_30 * x_30 - y_10 * y_10;
    float fS1_7 = 2.0f * x_30 * y_10;
    float3  _S793 = _S792 + (make_float3 (0.54627424478530884f * fS1_7) * (*sh_coeffs_7)[int(4)] + make_float3 (fTmp0B_7 * y_10) * (*sh_coeffs_7)[int(5)] + make_float3 (0.94617468118667603f * z2_19 - 0.31539157032966614f) * (*sh_coeffs_7)[int(6)] + make_float3 (fTmp0B_7 * x_30) * (*sh_coeffs_7)[int(7)] + make_float3 (0.54627424478530884f * fC1_7) * (*sh_coeffs_7)[int(8)]);
    *rgb_7 = _S793;
    float fTmp0C_7 = -2.28522896766662598f * z2_19 + 0.4570457935333252f;
    float fTmp1B_7 = 1.44530570507049561f * z_7;
    *rgb_7 = max_0(_S793 + (make_float3 (-0.59004360437393188f * (x_30 * fS1_7 + y_10 * fC1_7)) * (*sh_coeffs_7)[int(9)] + make_float3 (fTmp1B_7 * fS1_7) * (*sh_coeffs_7)[int(10)] + make_float3 (fTmp0C_7 * y_10) * (*sh_coeffs_7)[int(11)] + make_float3 (z_7 * (1.86588168144226074f * z2_19 - 1.11952900886535645f)) * (*sh_coeffs_7)[int(12)] + make_float3 (fTmp0C_7 * x_30) * (*sh_coeffs_7)[int(13)] + make_float3 (fTmp1B_7 * fC1_7) * (*sh_coeffs_7)[int(14)] + make_float3 (-0.59004360437393188f * (x_30 * fC1_7 - y_10 * fS1_7)) * (*sh_coeffs_7)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_persp_differentiable(bool antialiased_8, float3  mean_9, float4  quat_12, float3  scale_11, float in_opacity_8, FixedArray<float3 , 16>  * sh_coeffs_8, Matrix<float, 3, 3>  R_15, float3  t_11, float fx_15, float fy_15, float cx_12, float cy_12, FixedArray<float, 10>  * dist_coeffs_21, uint image_width_8, uint image_height_8, float near_plane_8, float far_plane_8, int4  * aabb_xyxy_8, float2  * mean2d_16, float * depth_8, float3  * conic_8, float * opacity_8, float3  * rgb_8)
{
    float3  mean_c_8 = mul_0(R_15, mean_9) + t_11;
    float4  intrins_9 = make_float4 (fx_15, fy_15, cx_12, cy_12);
    float3  _S794 = exp_0(scale_11);
    float x_31 = quat_12.y;
    float x2_12 = x_31 * x_31;
    float y2_12 = quat_12.z * quat_12.z;
    float z2_20 = quat_12.w * quat_12.w;
    float xy_12 = quat_12.y * quat_12.z;
    float xz_12 = quat_12.y * quat_12.w;
    float yz_12 = quat_12.z * quat_12.w;
    float wx_12 = quat_12.x * quat_12.y;
    float wy_12 = quat_12.x * quat_12.z;
    float wz_12 = quat_12.x * quat_12.w;
    Matrix<float, 3, 3>  _S795 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_12 + z2_20), 2.0f * (xy_12 + wz_12), 2.0f * (xz_12 - wy_12), 2.0f * (xy_12 - wz_12), 1.0f - 2.0f * (x2_12 + z2_20), 2.0f * (yz_12 + wx_12), 2.0f * (xz_12 + wy_12), 2.0f * (yz_12 - wx_12), 1.0f - 2.0f * (x2_12 + y2_12))));
    SigmaPoints_0 ret_2;
    (&ret_2)->p_0[int(0)] = mean_9;
    (&ret_2)->w_mean_0[int(0)] = 0.0f;
    (&ret_2)->w_cov_0[int(0)] = 2.0f;
    float _S796 = (F32_sqrt((3.0f)));
    float3  delta_6 = make_float3 (_S796 * _S794.x) * _S795.rows[0U];
    float3  _S797 = mean_9 + delta_6;
    float3  _S798 = mean_9 - delta_6;
    float3  delta_7 = make_float3 (_S796 * _S794.y) * _S795.rows[1U];
    float3  _S799 = mean_9 + delta_7;
    float3  _S800 = mean_9 - delta_7;
    float3  delta_8 = make_float3 (_S796 * _S794.z) * _S795.rows[2U];
    float3  _S801 = mean_9 + delta_8;
    float3  _S802 = mean_9 - delta_8;
    (&ret_2)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_2)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_2)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_2)->p_0[0U] = mul_0(R_15, (&ret_2)->p_0[0U]) + t_11;
    (&ret_2)->p_0[1U] = mul_0(R_15, _S797) + t_11;
    (&ret_2)->p_0[2U] = mul_0(R_15, _S799) + t_11;
    (&ret_2)->p_0[3U] = mul_0(R_15, _S801) + t_11;
    (&ret_2)->p_0[4U] = mul_0(R_15, _S798) + t_11;
    (&ret_2)->p_0[5U] = mul_0(R_15, _S800) + t_11;
    (&ret_2)->p_0[6U] = mul_0(R_15, _S802) + t_11;
    SigmaPoints_0 _S803 = ret_2;
    Matrix<float, 2, 2>  covar2d_8;
    bool _S804 = persp_proj_3dgs_ut_1(&_S803, intrins_9, dist_coeffs_21, image_width_8, image_height_8, &covar2d_8, mean2d_16);
    float det_orig_9 = *&(((&covar2d_8)->rows + (int(0)))->x) * *&(((&covar2d_8)->rows + (int(1)))->y) - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x);
    float _S805 = *&(((&covar2d_8)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(0)))->x) = _S805;
    float _S806 = *&(((&covar2d_8)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_8)->rows + (int(1)))->y) = _S806;
    float compensation_9 = (F32_sqrt(((F32_max((0.0f), (det_orig_9 / (_S805 * _S806 - *&(((&covar2d_8)->rows + (int(0)))->y) * *&(((&covar2d_8)->rows + (int(1)))->x))))))));
    *opacity_8 = 1.0f / (1.0f + (F32_exp((- in_opacity_8))));
    if(antialiased_8)
    {
        *opacity_8 = *opacity_8 * compensation_9;
    }
    float extend_8 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_8 / 0.00392156885936856f)))))))));
    float radius_x_8 = extend_8 * (F32_sqrt((covar2d_8[int(0)].x)));
    float radius_y_8 = extend_8 * (F32_sqrt((covar2d_8[int(1)].y)));
    *aabb_xyxy_8 = make_int4 (int((F32_floor(((*mean2d_16).x - radius_x_8)))), int((F32_floor(((*mean2d_16).y - radius_y_8)))), int((F32_ceil(((*mean2d_16).x + radius_x_8)))), int((F32_ceil(((*mean2d_16).y + radius_y_8)))));
    float _S807 = mean_c_8.z;
    *depth_8 = (F32_max((_S807), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S807 + length_1(mean_c_8)))));
    *conic_8 = exp_0(- scale_11);
    float3  _S808 = mean_9 - - mul_0(transpose_0(R_15), t_11);
    float3  _S809 = make_float3 (0.282094806432724f) * (*sh_coeffs_8)[int(0)];
    *rgb_8 = _S809;
    float _S810 = _S808.x;
    float _S811 = _S808.y;
    float _S812 = _S808.z;
    float norm_8 = (F32_sqrt((_S810 * _S810 + _S811 * _S811 + _S812 * _S812)));
    float x_32 = _S810 / norm_8;
    float y_11 = _S811 / norm_8;
    float z_8 = _S812 / norm_8;
    float3  _S813 = _S809 + make_float3 (0.48860251903533936f) * (make_float3 (- y_11) * (*sh_coeffs_8)[int(1)] + make_float3 (z_8) * (*sh_coeffs_8)[int(2)] - make_float3 (x_32) * (*sh_coeffs_8)[int(3)]);
    *rgb_8 = _S813;
    float z2_21 = z_8 * z_8;
    float fTmp0B_8 = -1.09254848957061768f * z_8;
    float fC1_8 = x_32 * x_32 - y_11 * y_11;
    float fS1_8 = 2.0f * x_32 * y_11;
    float3  _S814 = _S813 + (make_float3 (0.54627424478530884f * fS1_8) * (*sh_coeffs_8)[int(4)] + make_float3 (fTmp0B_8 * y_11) * (*sh_coeffs_8)[int(5)] + make_float3 (0.94617468118667603f * z2_21 - 0.31539157032966614f) * (*sh_coeffs_8)[int(6)] + make_float3 (fTmp0B_8 * x_32) * (*sh_coeffs_8)[int(7)] + make_float3 (0.54627424478530884f * fC1_8) * (*sh_coeffs_8)[int(8)]);
    *rgb_8 = _S814;
    float fTmp0C_8 = -2.28522896766662598f * z2_21 + 0.4570457935333252f;
    float fTmp1B_8 = 1.44530570507049561f * z_8;
    *rgb_8 = max_0(_S814 + (make_float3 (-0.59004360437393188f * (x_32 * fS1_8 + y_11 * fC1_8)) * (*sh_coeffs_8)[int(9)] + make_float3 (fTmp1B_8 * fS1_8) * (*sh_coeffs_8)[int(10)] + make_float3 (fTmp0C_8 * y_11) * (*sh_coeffs_8)[int(11)] + make_float3 (z_8 * (1.86588168144226074f * z2_21 - 1.11952900886535645f)) * (*sh_coeffs_8)[int(12)] + make_float3 (fTmp0C_8 * x_32) * (*sh_coeffs_8)[int(13)] + make_float3 (fTmp1B_8 * fC1_8) * (*sh_coeffs_8)[int(14)] + make_float3 (-0.59004360437393188f * (x_32 * fC1_8 - y_11 * fS1_8)) * (*sh_coeffs_8)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_fisheye_differentiable(bool antialiased_9, float3  mean_10, float4  quat_13, float3  scale_12, float in_opacity_9, FixedArray<float3 , 16>  * sh_coeffs_9, Matrix<float, 3, 3>  R_16, float3  t_12, float fx_16, float fy_16, float cx_13, float cy_13, FixedArray<float, 10>  * dist_coeffs_22, uint image_width_9, uint image_height_9, float near_plane_9, float far_plane_9, int4  * aabb_xyxy_9, float2  * mean2d_17, float * depth_9, float3  * conic_9, float * opacity_9, float3  * rgb_9)
{
    float3  mean_c_9 = mul_0(R_16, mean_10) + t_12;
    float4  intrins_10 = make_float4 (fx_16, fy_16, cx_13, cy_13);
    float3  _S815 = exp_0(scale_12);
    float x_33 = quat_13.y;
    float x2_13 = x_33 * x_33;
    float y2_13 = quat_13.z * quat_13.z;
    float z2_22 = quat_13.w * quat_13.w;
    float xy_13 = quat_13.y * quat_13.z;
    float xz_13 = quat_13.y * quat_13.w;
    float yz_13 = quat_13.z * quat_13.w;
    float wx_13 = quat_13.x * quat_13.y;
    float wy_13 = quat_13.x * quat_13.z;
    float wz_13 = quat_13.x * quat_13.w;
    Matrix<float, 3, 3>  _S816 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_13 + z2_22), 2.0f * (xy_13 + wz_13), 2.0f * (xz_13 - wy_13), 2.0f * (xy_13 - wz_13), 1.0f - 2.0f * (x2_13 + z2_22), 2.0f * (yz_13 + wx_13), 2.0f * (xz_13 + wy_13), 2.0f * (yz_13 - wx_13), 1.0f - 2.0f * (x2_13 + y2_13))));
    SigmaPoints_0 ret_3;
    (&ret_3)->p_0[int(0)] = mean_10;
    (&ret_3)->w_mean_0[int(0)] = 0.0f;
    (&ret_3)->w_cov_0[int(0)] = 2.0f;
    float _S817 = (F32_sqrt((3.0f)));
    float3  delta_9 = make_float3 (_S817 * _S815.x) * _S816.rows[0U];
    float3  _S818 = mean_10 + delta_9;
    float3  _S819 = mean_10 - delta_9;
    float3  delta_10 = make_float3 (_S817 * _S815.y) * _S816.rows[1U];
    float3  _S820 = mean_10 + delta_10;
    float3  _S821 = mean_10 - delta_10;
    float3  delta_11 = make_float3 (_S817 * _S815.z) * _S816.rows[2U];
    float3  _S822 = mean_10 + delta_11;
    float3  _S823 = mean_10 - delta_11;
    (&ret_3)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_3)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_3)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_3)->p_0[0U] = mul_0(R_16, (&ret_3)->p_0[0U]) + t_12;
    (&ret_3)->p_0[1U] = mul_0(R_16, _S818) + t_12;
    (&ret_3)->p_0[2U] = mul_0(R_16, _S820) + t_12;
    (&ret_3)->p_0[3U] = mul_0(R_16, _S822) + t_12;
    (&ret_3)->p_0[4U] = mul_0(R_16, _S819) + t_12;
    (&ret_3)->p_0[5U] = mul_0(R_16, _S821) + t_12;
    (&ret_3)->p_0[6U] = mul_0(R_16, _S823) + t_12;
    SigmaPoints_0 _S824 = ret_3;
    Matrix<float, 2, 2>  covar2d_9;
    bool _S825 = fisheye_proj_3dgs_ut_1(&_S824, intrins_10, dist_coeffs_22, &covar2d_9, mean2d_17);
    float det_orig_10 = *&(((&covar2d_9)->rows + (int(0)))->x) * *&(((&covar2d_9)->rows + (int(1)))->y) - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x);
    float _S826 = *&(((&covar2d_9)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(0)))->x) = _S826;
    float _S827 = *&(((&covar2d_9)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_9)->rows + (int(1)))->y) = _S827;
    float compensation_10 = (F32_sqrt(((F32_max((0.0f), (det_orig_10 / (_S826 * _S827 - *&(((&covar2d_9)->rows + (int(0)))->y) * *&(((&covar2d_9)->rows + (int(1)))->x))))))));
    *opacity_9 = 1.0f / (1.0f + (F32_exp((- in_opacity_9))));
    if(antialiased_9)
    {
        *opacity_9 = *opacity_9 * compensation_10;
    }
    float extend_9 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_9 / 0.00392156885936856f)))))))));
    float radius_x_9 = extend_9 * (F32_sqrt((covar2d_9[int(0)].x)));
    float radius_y_9 = extend_9 * (F32_sqrt((covar2d_9[int(1)].y)));
    *aabb_xyxy_9 = make_int4 (int((F32_floor(((*mean2d_17).x - radius_x_9)))), int((F32_floor(((*mean2d_17).y - radius_y_9)))), int((F32_ceil(((*mean2d_17).x + radius_x_9)))), int((F32_ceil(((*mean2d_17).y + radius_y_9)))));
    float _S828 = mean_c_9.z;
    *depth_9 = (F32_max((_S828), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S828 + length_1(mean_c_9)))));
    *conic_9 = exp_0(- scale_12);
    float3  _S829 = mean_10 - - mul_0(transpose_0(R_16), t_12);
    float3  _S830 = make_float3 (0.282094806432724f) * (*sh_coeffs_9)[int(0)];
    *rgb_9 = _S830;
    float _S831 = _S829.x;
    float _S832 = _S829.y;
    float _S833 = _S829.z;
    float norm_9 = (F32_sqrt((_S831 * _S831 + _S832 * _S832 + _S833 * _S833)));
    float x_34 = _S831 / norm_9;
    float y_12 = _S832 / norm_9;
    float z_9 = _S833 / norm_9;
    float3  _S834 = _S830 + make_float3 (0.48860251903533936f) * (make_float3 (- y_12) * (*sh_coeffs_9)[int(1)] + make_float3 (z_9) * (*sh_coeffs_9)[int(2)] - make_float3 (x_34) * (*sh_coeffs_9)[int(3)]);
    *rgb_9 = _S834;
    float z2_23 = z_9 * z_9;
    float fTmp0B_9 = -1.09254848957061768f * z_9;
    float fC1_9 = x_34 * x_34 - y_12 * y_12;
    float fS1_9 = 2.0f * x_34 * y_12;
    float3  _S835 = _S834 + (make_float3 (0.54627424478530884f * fS1_9) * (*sh_coeffs_9)[int(4)] + make_float3 (fTmp0B_9 * y_12) * (*sh_coeffs_9)[int(5)] + make_float3 (0.94617468118667603f * z2_23 - 0.31539157032966614f) * (*sh_coeffs_9)[int(6)] + make_float3 (fTmp0B_9 * x_34) * (*sh_coeffs_9)[int(7)] + make_float3 (0.54627424478530884f * fC1_9) * (*sh_coeffs_9)[int(8)]);
    *rgb_9 = _S835;
    float fTmp0C_9 = -2.28522896766662598f * z2_23 + 0.4570457935333252f;
    float fTmp1B_9 = 1.44530570507049561f * z_9;
    *rgb_9 = max_0(_S835 + (make_float3 (-0.59004360437393188f * (x_34 * fS1_9 + y_12 * fC1_9)) * (*sh_coeffs_9)[int(9)] + make_float3 (fTmp1B_9 * fS1_9) * (*sh_coeffs_9)[int(10)] + make_float3 (fTmp0C_9 * y_12) * (*sh_coeffs_9)[int(11)] + make_float3 (z_9 * (1.86588168144226074f * z2_23 - 1.11952900886535645f)) * (*sh_coeffs_9)[int(12)] + make_float3 (fTmp0C_9 * x_34) * (*sh_coeffs_9)[int(13)] + make_float3 (fTmp1B_9 * fC1_9) * (*sh_coeffs_9)[int(14)] + make_float3 (-0.59004360437393188f * (x_34 * fC1_9 - y_12 * fS1_9)) * (*sh_coeffs_9)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ float3  s_primal_ctx_mul_0(Matrix<float, 3, 3>  _S836, float3  _S837)
{
    return mul_0(_S836, _S837);
}

inline __device__ float3  s_primal_ctx_exp_0(float3  _S838)
{
    return exp_0(_S838);
}

inline __device__ Matrix<float, 3, 3>  s_primal_ctx_mul_1(Matrix<float, 3, 3>  _S839, Matrix<float, 3, 3>  _S840)
{
    return mul_4(_S839, _S840);
}

inline __device__ float s_primal_ctx_max_0(float _S841, float _S842)
{
    return (F32_max((_S841), (_S842)));
}

inline __device__ float s_primal_ctx_min_0(float _S843, float _S844)
{
    return (F32_min((_S843), (_S844)));
}

inline __device__ Matrix<float, 2, 3>  s_primal_ctx_mul_2(Matrix<float, 2, 3>  _S845, Matrix<float, 3, 3>  _S846)
{
    return mul_5(_S845, _S846);
}

inline __device__ Matrix<float, 2, 2>  s_primal_ctx_mul_3(Matrix<float, 2, 3>  _S847, Matrix<float, 3, 2>  _S848)
{
    return mul_6(_S847, _S848);
}

inline __device__ float s_primal_ctx_sqrt_0(float _S849)
{
    return (F32_sqrt((_S849)));
}

inline __device__ float s_primal_ctx_exp_1(float _S850)
{
    return (F32_exp((_S850)));
}

inline __device__ float s_primal_ctx_log_0(float _S851)
{
    return (F32_log((_S851)));
}

inline __device__ void s_bwd_prop_max_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S852, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S853, float3  _S854)
{
    _d_max_vector_0(_S852, _S853, _S854);
    return;
}

inline __device__ void s_bwd_prop_mul_1(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S855, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S856, float3  _S857)
{
    _d_mul_0(_S855, _S856, _S857);
    return;
}

inline __device__ void s_bwd_prop_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_11, float _s_dOut_3)
{
    float _S858 = (*dpx_11).primal_0.x;
    float _S859 = (*dpx_11).primal_0.y;
    float _S860 = (*dpx_11).primal_0.z;
    DiffPair_float_0 _S861;
    (&_S861)->primal_0 = _S858 * _S858 + _S859 * _S859 + _S860 * _S860;
    (&_S861)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S861, _s_dOut_3);
    float _S862 = (*dpx_11).primal_0.z * _S861.differential_0;
    float _S863 = _S862 + _S862;
    float _S864 = (*dpx_11).primal_0.y * _S861.differential_0;
    float _S865 = _S864 + _S864;
    float _S866 = (*dpx_11).primal_0.x * _S861.differential_0;
    float _S867 = _S866 + _S866;
    float3  _S868 = make_float3 (0.0f);
    *&((&_S868)->z) = _S863;
    *&((&_S868)->y) = _S865;
    *&((&_S868)->x) = _S867;
    dpx_11->primal_0 = (*dpx_11).primal_0;
    dpx_11->differential_0 = _S868;
    return;
}

inline __device__ void s_bwd_length_impl_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S869, float _S870)
{
    s_bwd_prop_length_impl_1(_S869, _S870);
    return;
}

inline __device__ void s_bwd_prop_min_0(DiffPair_float_0 * _S871, DiffPair_float_0 * _S872, float _S873)
{
    _d_min_0(_S871, _S872, _S873);
    return;
}

inline __device__ void s_bwd_prop_log_0(DiffPair_float_0 * _S874, float _S875)
{
    _d_log_0(_S874, _S875);
    return;
}

inline __device__ void s_bwd_prop_exp_0(DiffPair_float_0 * _S876, float _S877)
{
    _d_exp_0(_S876, _S877);
    return;
}

inline __device__ void s_bwd_prop_max_1(DiffPair_float_0 * _S878, DiffPair_float_0 * _S879, float _S880)
{
    _d_max_0(_S878, _S879, _S880);
    return;
}

inline __device__ void s_bwd_prop_mul_2(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S881, DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 * _S882, Matrix<float, 2, 2>  _S883)
{
    mul_3(_S881, _S882, _S883);
    return;
}

inline __device__ void s_bwd_prop_mul_3(DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 * _S884, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S885, Matrix<float, 2, 3>  _S886)
{
    mul_2(_S884, _S885, _S886);
    return;
}

inline __device__ void s_bwd_prop_mul_4(DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S887, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S888, Matrix<float, 3, 3>  _S889)
{
    mul_1(_S887, _S888, _S889);
    return;
}

inline __device__ void s_bwd_prop_exp_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S890, float3  _S891)
{
    _d_exp_vector_0(_S890, _S891);
    return;
}

inline __device__ void projection_3dgs_persp_vjp(bool antialiased_10, float3  mean_11, float4  quat_14, float3  scale_13, float in_opacity_10, FixedArray<float3 , 16>  * sh_coeffs_10, Matrix<float, 3, 3>  R_17, float3  t_13, float fx_17, float fy_17, float cx_14, float cy_14, FixedArray<float, 10>  * dist_coeffs_23, uint image_width_10, uint image_height_10, float2  v_mean2d_0, float v_depth_0, float3  v_conic_0, float v_opacity_0, float3  v_rgb_0, float3  * v_mean_0, float4  * v_quat_0, float3  * v_scale_0, float * v_in_opacity_0, FixedArray<float3 , 16>  * v_sh_coeffs_0, Matrix<float, 3, 3>  * v_R_2, float3  * v_t_1)
{
    float3  mean_c_10 = s_primal_ctx_mul_0(R_17, mean_11) + t_13;
    float3  _S892 = s_primal_ctx_exp_0(scale_13);
    float _S893 = quat_14.y;
    float x2_14 = _S893 * _S893;
    float y2_14 = quat_14.z * quat_14.z;
    float z2_24 = quat_14.w * quat_14.w;
    float xy_14 = quat_14.y * quat_14.z;
    float xz_14 = quat_14.y * quat_14.w;
    float yz_14 = quat_14.z * quat_14.w;
    float wx_14 = quat_14.x * quat_14.y;
    float wy_14 = quat_14.x * quat_14.z;
    float wz_14 = quat_14.x * quat_14.w;
    Matrix<float, 3, 3>  _S894 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_14 + z2_24), 2.0f * (xy_14 + wz_14), 2.0f * (xz_14 - wy_14), 2.0f * (xy_14 - wz_14), 1.0f - 2.0f * (x2_14 + z2_24), 2.0f * (yz_14 + wx_14), 2.0f * (xz_14 + wy_14), 2.0f * (yz_14 - wx_14), 1.0f - 2.0f * (x2_14 + y2_14)));
    Matrix<float, 3, 3>  S_0 = makeMatrix<float, 3, 3> (_S892.x, 0.0f, 0.0f, 0.0f, _S892.y, 0.0f, 0.0f, 0.0f, _S892.z);
    Matrix<float, 3, 3>  _S895 = s_primal_ctx_mul_1(_S894, S_0);
    Matrix<float, 3, 3>  _S896 = transpose_0(_S895);
    Matrix<float, 3, 3>  _S897 = s_primal_ctx_mul_1(_S895, _S896);
    Matrix<float, 3, 3>  _S898 = s_primal_ctx_mul_1(R_17, _S897);
    Matrix<float, 3, 3>  _S899 = transpose_0(R_17);
    Matrix<float, 3, 3>  _S900 = s_primal_ctx_mul_1(_S898, _S899);
    float _S901 = float(image_width_10);
    float _S902 = float(image_height_10);
    float _S903 = 0.30000001192092896f * (0.5f * _S901 / fx_17);
    float lim_x_pos_2 = (_S901 - cx_14) / fx_17 + _S903;
    float _S904 = 0.30000001192092896f * (0.5f * _S902 / fy_17);
    float lim_y_pos_2 = (_S902 - cy_14) / fy_17 + _S904;
    float rz_3 = 1.0f / mean_c_10.z;
    float _S905 = mean_c_10.z * mean_c_10.z;
    float rz2_3 = rz_3 * rz_3;
    float _S906 = - (cx_14 / fx_17 + _S903);
    float _S907 = mean_c_10.x * rz_3;
    float _S908 = s_primal_ctx_max_0(_S906, _S907);
    float _S909 = s_primal_ctx_min_0(lim_x_pos_2, _S908);
    float _S910 = - (cy_14 / fy_17 + _S904);
    float _S911 = mean_c_10.y * rz_3;
    float _S912 = s_primal_ctx_max_0(_S910, _S911);
    float _S913 = s_primal_ctx_min_0(lim_y_pos_2, _S912);
    float _S914 = - fx_17;
    float _S915 = _S914 * (mean_c_10.z * _S909);
    float _S916 = - fy_17;
    float _S917 = _S916 * (mean_c_10.z * _S913);
    Matrix<float, 2, 3>  J_8 = makeMatrix<float, 2, 3> (fx_17 * rz_3, 0.0f, _S915 * rz2_3, 0.0f, fy_17 * rz_3, _S917 * rz2_3);
    Matrix<float, 2, 3>  _S918 = s_primal_ctx_mul_2(J_8, _S900);
    Matrix<float, 3, 2>  _S919 = transpose_1(J_8);
    Matrix<float, 2, 2>  _S920 = s_primal_ctx_mul_3(_S918, _S919);
    float _S921 = fx_17 * mean_c_10.x;
    float _S922 = fy_17 * mean_c_10.y;
    float _S923 = _S920.rows[int(0)].y * _S920.rows[int(1)].x;
    float det_orig_11 = _S920.rows[int(0)].x * _S920.rows[int(1)].y - _S923;
    float _S924 = _S920.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S925 = _S920;
    *&(((&_S925)->rows + (int(0)))->x) = _S924;
    float _S926 = _S920.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S925)->rows + (int(1)))->y) = _S926;
    Matrix<float, 2, 2>  _S927 = _S925;
    Matrix<float, 2, 2>  _S928 = _S925;
    float det_blur_6 = _S924 * _S926 - _S923;
    float _S929 = det_orig_11 / det_blur_6;
    float _S930 = det_blur_6 * det_blur_6;
    float _S931 = s_primal_ctx_max_0(0.0f, _S929);
    float _S932 = s_primal_ctx_sqrt_0(_S931);
    float invdet_7 = 1.0f / det_blur_6;
    float _S933 = - _S920.rows[int(0)].y;
    float _S934 = - _S920.rows[int(1)].x;
    float _S935 = - in_opacity_10;
    float _S936 = 1.0f + s_primal_ctx_exp_1(_S935);
    float _S937 = 1.0f / _S936;
    float _S938 = _S936 * _S936;
    float _S939;
    if(antialiased_10)
    {
        _S939 = _S937 * _S932;
    }
    else
    {
        _S939 = _S937;
    }
    float _S940 = _S939 / 0.00392156885936856f;
    float _S941 = 2.0f * s_primal_ctx_log_0(_S940);
    float _S942 = s_primal_ctx_sqrt_0(_S941);
    float _S943 = _S927.rows[int(0)].x;
    float _S944 = _S928.rows[int(1)].y;
    float3  _S945 = mean_11 - - s_primal_ctx_mul_0(_S899, t_13);
    float _S946 = _S945.x;
    float _S947 = _S945.y;
    float _S948 = _S945.z;
    float _S949 = _S946 * _S946 + _S947 * _S947 + _S948 * _S948;
    float _S950 = s_primal_ctx_sqrt_0(_S949);
    float x_35 = _S946 / _S950;
    float3  _S951 = make_float3 (x_35);
    float _S952 = _S950 * _S950;
    float y_13 = _S947 / _S950;
    float z_10 = _S948 / _S950;
    float3  _S953 = make_float3 (z_10);
    float _S954 = - y_13;
    float3  _S955 = make_float3 (_S954);
    float z2_25 = z_10 * z_10;
    float fTmp0B_10 = -1.09254848957061768f * z_10;
    float fC1_10 = x_35 * x_35 - y_13 * y_13;
    float _S956 = 2.0f * x_35;
    float fS1_10 = _S956 * y_13;
    float pSH6_0 = 0.94617468118667603f * z2_25 - 0.31539157032966614f;
    float3  _S957 = make_float3 (pSH6_0);
    float pSH7_0 = fTmp0B_10 * x_35;
    float3  _S958 = make_float3 (pSH7_0);
    float pSH5_0 = fTmp0B_10 * y_13;
    float3  _S959 = make_float3 (pSH5_0);
    float pSH8_0 = 0.54627424478530884f * fC1_10;
    float3  _S960 = make_float3 (pSH8_0);
    float pSH4_0 = 0.54627424478530884f * fS1_10;
    float3  _S961 = make_float3 (pSH4_0);
    float fTmp0C_10 = -2.28522896766662598f * z2_25 + 0.4570457935333252f;
    float fTmp1B_10 = 1.44530570507049561f * z_10;
    float _S962 = 1.86588168144226074f * z2_25 - 1.11952900886535645f;
    float pSH12_0 = z_10 * _S962;
    float3  _S963 = make_float3 (pSH12_0);
    float pSH13_0 = fTmp0C_10 * x_35;
    float3  _S964 = make_float3 (pSH13_0);
    float pSH11_0 = fTmp0C_10 * y_13;
    float3  _S965 = make_float3 (pSH11_0);
    float pSH14_0 = fTmp1B_10 * fC1_10;
    float3  _S966 = make_float3 (pSH14_0);
    float pSH10_0 = fTmp1B_10 * fS1_10;
    float3  _S967 = make_float3 (pSH10_0);
    float pSH15_0 = -0.59004360437393188f * (x_35 * fC1_10 - y_13 * fS1_10);
    float3  _S968 = make_float3 (pSH15_0);
    float pSH9_0 = -0.59004360437393188f * (x_35 * fS1_10 + y_13 * fC1_10);
    float3  _S969 = make_float3 (pSH9_0);
    float3  _S970 = make_float3 (0.0f);
    float3  _S971 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S972;
    (&_S972)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_10)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S954) * (*sh_coeffs_10)[int(1)] + make_float3 (z_10) * (*sh_coeffs_10)[int(2)] - make_float3 (x_35) * (*sh_coeffs_10)[int(3)]) + (make_float3 (pSH4_0) * (*sh_coeffs_10)[int(4)] + make_float3 (pSH5_0) * (*sh_coeffs_10)[int(5)] + make_float3 (pSH6_0) * (*sh_coeffs_10)[int(6)] + make_float3 (pSH7_0) * (*sh_coeffs_10)[int(7)] + make_float3 (pSH8_0) * (*sh_coeffs_10)[int(8)]) + (make_float3 (pSH9_0) * (*sh_coeffs_10)[int(9)] + make_float3 (pSH10_0) * (*sh_coeffs_10)[int(10)] + make_float3 (pSH11_0) * (*sh_coeffs_10)[int(11)] + make_float3 (pSH12_0) * (*sh_coeffs_10)[int(12)] + make_float3 (pSH13_0) * (*sh_coeffs_10)[int(13)] + make_float3 (pSH14_0) * (*sh_coeffs_10)[int(14)] + make_float3 (pSH15_0) * (*sh_coeffs_10)[int(15)]) + make_float3 (0.5f);
    (&_S972)->differential_0 = _S971;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S973;
    (&_S973)->primal_0 = _S970;
    (&_S973)->differential_0 = _S971;
    s_bwd_prop_max_0(&_S972, &_S973, v_rgb_0);
    float3  _S974 = _S968 * _S972.differential_0;
    float3  _S975 = (*sh_coeffs_10)[int(15)] * _S972.differential_0;
    float3  _S976 = _S966 * _S972.differential_0;
    float3  _S977 = (*sh_coeffs_10)[int(14)] * _S972.differential_0;
    float3  _S978 = _S964 * _S972.differential_0;
    float3  _S979 = (*sh_coeffs_10)[int(13)] * _S972.differential_0;
    float3  _S980 = _S963 * _S972.differential_0;
    float3  _S981 = (*sh_coeffs_10)[int(12)] * _S972.differential_0;
    float3  _S982 = _S965 * _S972.differential_0;
    float3  _S983 = (*sh_coeffs_10)[int(11)] * _S972.differential_0;
    float3  _S984 = _S967 * _S972.differential_0;
    float3  _S985 = (*sh_coeffs_10)[int(10)] * _S972.differential_0;
    float3  _S986 = _S969 * _S972.differential_0;
    float3  _S987 = (*sh_coeffs_10)[int(9)] * _S972.differential_0;
    float s_diff_fS2_T_0 = -0.59004360437393188f * (_S987.x + _S987.y + _S987.z);
    float s_diff_fC2_T_0 = -0.59004360437393188f * (_S975.x + _S975.y + _S975.z);
    float _S988 = _S985.x + _S985.y + _S985.z;
    float _S989 = _S977.x + _S977.y + _S977.z;
    float _S990 = _S983.x + _S983.y + _S983.z;
    float _S991 = _S979.x + _S979.y + _S979.z;
    float _S992 = _S981.x + _S981.y + _S981.z;
    float _S993 = - s_diff_fC2_T_0;
    float3  _S994 = _S960 * _S972.differential_0;
    float3  _S995 = (*sh_coeffs_10)[int(8)] * _S972.differential_0;
    float3  _S996 = _S958 * _S972.differential_0;
    float3  _S997 = (*sh_coeffs_10)[int(7)] * _S972.differential_0;
    float3  _S998 = _S957 * _S972.differential_0;
    float3  _S999 = (*sh_coeffs_10)[int(6)] * _S972.differential_0;
    float3  _S1000 = _S959 * _S972.differential_0;
    float3  _S1001 = (*sh_coeffs_10)[int(5)] * _S972.differential_0;
    float3  _S1002 = _S961 * _S972.differential_0;
    float3  _S1003 = (*sh_coeffs_10)[int(4)] * _S972.differential_0;
    float _S1004 = _S1001.x + _S1001.y + _S1001.z;
    float _S1005 = _S997.x + _S997.y + _S997.z;
    float _S1006 = fTmp1B_10 * _S988 + x_35 * s_diff_fS2_T_0 + y_13 * _S993 + 0.54627424478530884f * (_S1003.x + _S1003.y + _S1003.z);
    float _S1007 = fTmp1B_10 * _S989 + y_13 * s_diff_fS2_T_0 + x_35 * s_diff_fC2_T_0 + 0.54627424478530884f * (_S995.x + _S995.y + _S995.z);
    float _S1008 = y_13 * - _S1007;
    float _S1009 = x_35 * _S1007;
    float _S1010 = z_10 * (1.86588168144226074f * (z_10 * _S992) + -2.28522896766662598f * (y_13 * _S990 + x_35 * _S991) + 0.94617468118667603f * (_S999.x + _S999.y + _S999.z));
    float3  _S1011 = make_float3 (0.48860251903533936f) * _S972.differential_0;
    float3  _S1012 = - _S1011;
    float3  _S1013 = _S951 * _S1012;
    float3  _S1014 = (*sh_coeffs_10)[int(3)] * _S1012;
    float3  _S1015 = _S953 * _S1011;
    float3  _S1016 = (*sh_coeffs_10)[int(2)] * _S1011;
    float3  _S1017 = _S955 * _S1011;
    float3  _S1018 = (*sh_coeffs_10)[int(1)] * _S1011;
    float _S1019 = (_S962 * _S992 + 1.44530570507049561f * (fS1_10 * _S988 + fC1_10 * _S989) + -1.09254848957061768f * (y_13 * _S1004 + x_35 * _S1005) + _S1010 + _S1010 + _S1016.x + _S1016.y + _S1016.z) / _S952;
    float _S1020 = _S950 * _S1019;
    float _S1021 = (fTmp0C_10 * _S990 + fC1_10 * s_diff_fS2_T_0 + fS1_10 * _S993 + fTmp0B_10 * _S1004 + _S956 * _S1006 + _S1008 + _S1008 + - (_S1018.x + _S1018.y + _S1018.z)) / _S952;
    float _S1022 = _S950 * _S1021;
    float _S1023 = (fTmp0C_10 * _S991 + fS1_10 * s_diff_fS2_T_0 + fC1_10 * s_diff_fC2_T_0 + fTmp0B_10 * _S1005 + 2.0f * (y_13 * _S1006) + _S1009 + _S1009 + _S1014.x + _S1014.y + _S1014.z) / _S952;
    float _S1024 = _S950 * _S1023;
    float _S1025 = _S948 * - _S1019 + _S947 * - _S1021 + _S946 * - _S1023;
    DiffPair_float_0 _S1026;
    (&_S1026)->primal_0 = _S949;
    (&_S1026)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1026, _S1025);
    float _S1027 = _S948 * _S1026.differential_0;
    float _S1028 = _S947 * _S1026.differential_0;
    float _S1029 = _S946 * _S1026.differential_0;
    float3  _S1030 = make_float3 (0.282094806432724f) * _S972.differential_0;
    float3  _S1031 = make_float3 (_S1024 + _S1029 + _S1029, _S1022 + _S1028 + _S1028, _S1020 + _S1027 + _S1027);
    float3  _S1032 = - - _S1031;
    Matrix<float, 3, 3>  _S1033 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1034;
    (&_S1034)->primal_0 = _S899;
    (&_S1034)->differential_0 = _S1033;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1035;
    (&_S1035)->primal_0 = t_13;
    (&_S1035)->differential_0 = _S971;
    s_bwd_prop_mul_1(&_S1034, &_S1035, _S1032);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1036 = _S1034;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1037 = _S1035;
    float2  _S1038 = make_float2 (0.0f);
    float2  _S1039 = _S1038;
    *&((&_S1039)->y) = v_conic_0.z;
    float2  _S1040 = _S1038;
    *&((&_S1040)->y) = v_conic_0.y;
    *&((&_S1040)->x) = v_conic_0.x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1041;
    (&_S1041)->primal_0 = mean_c_10;
    (&_S1041)->differential_0 = _S971;
    s_bwd_length_impl_1(&_S1041, v_depth_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1042 = _S1041;
    DiffPair_float_0 _S1043;
    (&_S1043)->primal_0 = _S944;
    (&_S1043)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1043, 0.0f);
    DiffPair_float_0 _S1044;
    (&_S1044)->primal_0 = _S943;
    (&_S1044)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1044, 0.0f);
    DiffPair_float_0 _S1045;
    (&_S1045)->primal_0 = 3.32999992370605469f;
    (&_S1045)->differential_0 = 0.0f;
    DiffPair_float_0 _S1046;
    (&_S1046)->primal_0 = _S942;
    (&_S1046)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1045, &_S1046, 0.0f);
    DiffPair_float_0 _S1047;
    (&_S1047)->primal_0 = _S941;
    (&_S1047)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1047, _S1046.differential_0);
    float _S1048 = 2.0f * _S1047.differential_0;
    DiffPair_float_0 _S1049;
    (&_S1049)->primal_0 = _S940;
    (&_S1049)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S1049, _S1048);
    float _S1050 = v_opacity_0 + 254.9999847412109375f * _S1049.differential_0;
    Matrix<float, 2, 2>  _S1051 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S1052 = _S1051;
    _S1052[int(1)] = _S1039;
    _S1052[int(0)] = _S1040;
    Matrix<float, 2, 2>  _S1053 = _S1052;
    FixedArray<float3 , 16>  _S1054;
    _S1054[int(0)] = _S971;
    _S1054[int(1)] = _S971;
    _S1054[int(2)] = _S971;
    _S1054[int(3)] = _S971;
    _S1054[int(4)] = _S971;
    _S1054[int(5)] = _S971;
    _S1054[int(6)] = _S971;
    _S1054[int(7)] = _S971;
    _S1054[int(8)] = _S971;
    _S1054[int(9)] = _S971;
    _S1054[int(10)] = _S971;
    _S1054[int(11)] = _S971;
    _S1054[int(12)] = _S971;
    _S1054[int(13)] = _S971;
    _S1054[int(14)] = _S971;
    _S1054[int(15)] = _S971;
    _S1054[int(7)] = _S996;
    _S1054[int(0)] = _S1030;
    _S1054[int(1)] = _S1017;
    _S1054[int(2)] = _S1015;
    _S1054[int(3)] = _S1013;
    _S1054[int(4)] = _S1002;
    _S1054[int(5)] = _S1000;
    _S1054[int(6)] = _S998;
    _S1054[int(15)] = _S974;
    _S1054[int(8)] = _S994;
    _S1054[int(9)] = _S986;
    _S1054[int(10)] = _S984;
    _S1054[int(11)] = _S982;
    _S1054[int(12)] = _S980;
    _S1054[int(13)] = _S978;
    _S1054[int(14)] = _S976;
    float3  _S1055 = _S1054[int(0)];
    float3  _S1056 = _S1054[int(1)];
    float3  _S1057 = _S1054[int(2)];
    float3  _S1058 = _S1054[int(3)];
    float3  _S1059 = _S1054[int(4)];
    float3  _S1060 = _S1054[int(5)];
    float3  _S1061 = _S1054[int(6)];
    float3  _S1062 = _S1054[int(7)];
    float3  _S1063 = _S1054[int(8)];
    float3  _S1064 = _S1054[int(9)];
    float3  _S1065 = _S1054[int(10)];
    float3  _S1066 = _S1054[int(11)];
    float3  _S1067 = _S1054[int(12)];
    float3  _S1068 = _S1054[int(13)];
    float3  _S1069 = _S1054[int(14)];
    float3  _S1070 = _S1054[int(15)];
    float2  _S1071 = make_float2 (0.0f, _S1043.differential_0);
    float2  _S1072 = make_float2 (_S1044.differential_0, 0.0f);
    float _S1073;
    if(antialiased_10)
    {
        float _S1074 = _S937 * _S1050;
        _S939 = _S932 * _S1050;
        _S1073 = _S1074;
    }
    else
    {
        _S939 = _S1050;
        _S1073 = 0.0f;
    }
    float _S1075 = - (_S939 / _S938);
    DiffPair_float_0 _S1076;
    (&_S1076)->primal_0 = _S935;
    (&_S1076)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S1076, _S1075);
    float _S1077 = - _S1076.differential_0;
    float _S1078 = invdet_7 * _S1053.rows[int(1)].y;
    float _S1079 = - (invdet_7 * _S1053.rows[int(1)].x);
    float _S1080 = - (invdet_7 * _S1053.rows[int(0)].y);
    float _S1081 = invdet_7 * _S1053.rows[int(0)].x;
    float _S1082 = - ((_S924 * _S1053.rows[int(1)].y + _S934 * _S1053.rows[int(1)].x + _S933 * _S1053.rows[int(0)].y + _S926 * _S1053.rows[int(0)].x) / _S930);
    DiffPair_float_0 _S1083;
    (&_S1083)->primal_0 = _S931;
    (&_S1083)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1083, _S1073);
    DiffPair_float_0 _S1084;
    (&_S1084)->primal_0 = 0.0f;
    (&_S1084)->differential_0 = 0.0f;
    DiffPair_float_0 _S1085;
    (&_S1085)->primal_0 = _S929;
    (&_S1085)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1084, &_S1085, _S1083.differential_0);
    float _S1086 = _S1085.differential_0 / _S930;
    float s_diff_det_orig_T_0 = det_blur_6 * _S1086;
    float _S1087 = _S1082 + det_orig_11 * - _S1086;
    float _S1088 = - _S1087;
    float _S1089 = _S924 * _S1087;
    float _S1090 = _S926 * _S1087;
    Matrix<float, 2, 2>  _S1091 = _S1051;
    _S1091[int(1)] = _S1071;
    _S1091[int(0)] = _S1072;
    _S925 = _S1091;
    *&(((&_S925)->rows + (int(1)))->y) = 0.0f;
    float _S1092 = _S1081 + _S1089 + _S1091.rows[int(1)].y;
    *&(((&_S925)->rows + (int(0)))->x) = 0.0f;
    float _S1093 = _S1078 + _S1090 + _S1091.rows[int(0)].x;
    float _S1094 = _S1088 + - s_diff_det_orig_T_0;
    float _S1095 = _S1079 + _S920.rows[int(0)].y * _S1094;
    float _S1096 = _S1080 + _S920.rows[int(1)].x * _S1094;
    float _S1097 = _S920.rows[int(1)].y * s_diff_det_orig_T_0;
    float _S1098 = _S1092 + _S920.rows[int(0)].x * s_diff_det_orig_T_0;
    float2  _S1099 = _S1038;
    *&((&_S1099)->x) = _S1095;
    *&((&_S1099)->y) = _S1098;
    float _S1100 = _S1093 + _S1097;
    float2  _S1101 = _S1038;
    *&((&_S1101)->y) = _S1096;
    *&((&_S1101)->x) = _S1100;
    float _S1102 = _S922 * v_mean2d_0.y;
    float _S1103 = fy_17 * (rz_3 * v_mean2d_0.y);
    float _S1104 = _S921 * v_mean2d_0.x;
    float _S1105 = fx_17 * (rz_3 * v_mean2d_0.x);
    Matrix<float, 2, 2>  _S1106 = _S1051;
    _S1106[int(1)] = _S1099;
    _S1106[int(0)] = _S1101;
    Matrix<float, 2, 2>  _S1107 = _S925 + _S1106;
    Matrix<float, 2, 3>  _S1108 = makeMatrix<float, 2, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1109;
    (&_S1109)->primal_0 = _S918;
    (&_S1109)->differential_0 = _S1108;
    Matrix<float, 3, 2>  _S1110 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S1111;
    (&_S1111)->primal_0 = _S919;
    (&_S1111)->differential_0 = _S1110;
    s_bwd_prop_mul_2(&_S1109, &_S1111, _S1107);
    Matrix<float, 2, 3>  _S1112 = transpose_2(_S1111.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1113;
    (&_S1113)->primal_0 = J_8;
    (&_S1113)->differential_0 = _S1108;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1114;
    (&_S1114)->primal_0 = _S900;
    (&_S1114)->differential_0 = _S1033;
    s_bwd_prop_mul_3(&_S1113, &_S1114, _S1109.differential_0);
    Matrix<float, 2, 3>  _S1115 = _S1112 + _S1113.differential_0;
    float _S1116 = _S917 * _S1115.rows[int(1)].z;
    float s_diff_ty_T_0 = _S916 * (rz2_3 * _S1115.rows[int(1)].z);
    float _S1117 = fy_17 * _S1115.rows[int(1)].y;
    float _S1118 = _S915 * _S1115.rows[int(0)].z;
    float s_diff_tx_T_0 = _S914 * (rz2_3 * _S1115.rows[int(0)].z);
    float _S1119 = fx_17 * _S1115.rows[int(0)].x;
    float _S1120 = mean_c_10.z * s_diff_ty_T_0;
    float _S1121 = _S913 * s_diff_ty_T_0;
    DiffPair_float_0 _S1122;
    (&_S1122)->primal_0 = lim_y_pos_2;
    (&_S1122)->differential_0 = 0.0f;
    DiffPair_float_0 _S1123;
    (&_S1123)->primal_0 = _S912;
    (&_S1123)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1122, &_S1123, _S1120);
    DiffPair_float_0 _S1124;
    (&_S1124)->primal_0 = _S910;
    (&_S1124)->differential_0 = 0.0f;
    DiffPair_float_0 _S1125;
    (&_S1125)->primal_0 = _S911;
    (&_S1125)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1124, &_S1125, _S1123.differential_0);
    float _S1126 = mean_c_10.y * _S1125.differential_0;
    float _S1127 = rz_3 * _S1125.differential_0;
    float _S1128 = mean_c_10.z * s_diff_tx_T_0;
    float _S1129 = _S909 * s_diff_tx_T_0;
    DiffPair_float_0 _S1130;
    (&_S1130)->primal_0 = lim_x_pos_2;
    (&_S1130)->differential_0 = 0.0f;
    DiffPair_float_0 _S1131;
    (&_S1131)->primal_0 = _S908;
    (&_S1131)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S1130, &_S1131, _S1128);
    DiffPair_float_0 _S1132;
    (&_S1132)->primal_0 = _S906;
    (&_S1132)->differential_0 = 0.0f;
    DiffPair_float_0 _S1133;
    (&_S1133)->primal_0 = _S907;
    (&_S1133)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1132, &_S1133, _S1131.differential_0);
    float _S1134 = rz_3 * (_S1116 + _S1118);
    float _S1135 = _S1121 + _S1129 + - ((_S1102 + _S1104 + _S1117 + _S1119 + _S1126 + mean_c_10.x * _S1133.differential_0 + _S1134 + _S1134) / _S905);
    float _S1136 = _S1103 + _S1127;
    float _S1137 = _S1105 + rz_3 * _S1133.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1138;
    (&_S1138)->primal_0 = _S898;
    (&_S1138)->differential_0 = _S1033;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1139;
    (&_S1139)->primal_0 = _S899;
    (&_S1139)->differential_0 = _S1033;
    s_bwd_prop_mul_4(&_S1138, &_S1139, _S1114.differential_0);
    Matrix<float, 3, 3>  _S1140 = transpose_0(_S1139.differential_0 + _S1036.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1141;
    (&_S1141)->primal_0 = R_17;
    (&_S1141)->differential_0 = _S1033;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1142;
    (&_S1142)->primal_0 = _S897;
    (&_S1142)->differential_0 = _S1033;
    s_bwd_prop_mul_4(&_S1141, &_S1142, _S1138.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1143;
    (&_S1143)->primal_0 = _S895;
    (&_S1143)->differential_0 = _S1033;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1144;
    (&_S1144)->primal_0 = _S896;
    (&_S1144)->differential_0 = _S1033;
    s_bwd_prop_mul_4(&_S1143, &_S1144, _S1142.differential_0);
    Matrix<float, 3, 3>  _S1145 = _S1143.differential_0 + transpose_0(_S1144.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1146;
    (&_S1146)->primal_0 = _S894;
    (&_S1146)->differential_0 = _S1033;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1147;
    (&_S1147)->primal_0 = S_0;
    (&_S1147)->differential_0 = _S1033;
    s_bwd_prop_mul_4(&_S1146, &_S1147, _S1145);
    Matrix<float, 3, 3>  _S1148 = transpose_0(_S1146.differential_0);
    float _S1149 = 2.0f * - _S1148.rows[int(2)].z;
    float _S1150 = 2.0f * _S1148.rows[int(2)].y;
    float _S1151 = 2.0f * _S1148.rows[int(2)].x;
    float _S1152 = 2.0f * _S1148.rows[int(1)].z;
    float _S1153 = 2.0f * - _S1148.rows[int(1)].y;
    float _S1154 = 2.0f * _S1148.rows[int(1)].x;
    float _S1155 = 2.0f * _S1148.rows[int(0)].z;
    float _S1156 = 2.0f * _S1148.rows[int(0)].y;
    float _S1157 = 2.0f * - _S1148.rows[int(0)].x;
    float _S1158 = - _S1154 + _S1156;
    float _S1159 = _S1151 + - _S1155;
    float _S1160 = - _S1150 + _S1152;
    float _S1161 = _S1150 + _S1152;
    float _S1162 = _S1151 + _S1155;
    float _S1163 = _S1154 + _S1156;
    float _S1164 = quat_14.w * (_S1153 + _S1157);
    float _S1165 = quat_14.z * (_S1149 + _S1157);
    float _S1166 = quat_14.y * (_S1149 + _S1153);
    float _S1167 = quat_14.x * _S1158 + quat_14.z * _S1161 + quat_14.y * _S1162 + _S1164 + _S1164;
    float _S1168 = quat_14.x * _S1159 + quat_14.w * _S1161 + quat_14.y * _S1163 + _S1165 + _S1165;
    float _S1169 = quat_14.x * _S1160 + quat_14.w * _S1162 + quat_14.z * _S1163 + _S1166 + _S1166;
    float _S1170 = quat_14.w * _S1158 + quat_14.z * _S1159 + quat_14.y * _S1160;
    float3  _S1171 = _S971;
    *&((&_S1171)->z) = _S1147.differential_0.rows[int(2)].z;
    *&((&_S1171)->y) = _S1147.differential_0.rows[int(1)].y;
    *&((&_S1171)->x) = _S1147.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1172;
    (&_S1172)->primal_0 = scale_13;
    (&_S1172)->differential_0 = _S971;
    s_bwd_prop_exp_1(&_S1172, _S1171);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1173 = _S1172;
    float3  _S1174 = _S971;
    *&((&_S1174)->z) = _S1135;
    *&((&_S1174)->y) = _S1136;
    *&((&_S1174)->x) = _S1137;
    float3  _S1175 = _S1042.differential_0 + _S1174;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1176;
    (&_S1176)->primal_0 = R_17;
    (&_S1176)->differential_0 = _S1033;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1177;
    (&_S1177)->primal_0 = mean_11;
    (&_S1177)->differential_0 = _S971;
    s_bwd_prop_mul_1(&_S1176, &_S1177, _S1175);
    float3  _S1178 = _S1175 + _S1037.differential_0;
    Matrix<float, 3, 3>  _S1179 = _S1140 + _S1141.differential_0 + _S1176.differential_0;
    float4  _S1180 = make_float4 (0.0f);
    *&((&_S1180)->w) = _S1167;
    *&((&_S1180)->z) = _S1168;
    *&((&_S1180)->y) = _S1169;
    *&((&_S1180)->x) = _S1170;
    float4  _S1181 = _S1180;
    float3  _S1182 = _S1177.differential_0 + _S1031;
    *v_mean_0 = _S1182;
    *v_quat_0 = _S1181;
    *v_scale_0 = _S1173.differential_0;
    *v_in_opacity_0 = _S1077;
    (*v_sh_coeffs_0)[int(0)] = _S1055;
    (*v_sh_coeffs_0)[int(1)] = _S1056;
    (*v_sh_coeffs_0)[int(2)] = _S1057;
    (*v_sh_coeffs_0)[int(3)] = _S1058;
    (*v_sh_coeffs_0)[int(4)] = _S1059;
    (*v_sh_coeffs_0)[int(5)] = _S1060;
    (*v_sh_coeffs_0)[int(6)] = _S1061;
    (*v_sh_coeffs_0)[int(7)] = _S1062;
    (*v_sh_coeffs_0)[int(8)] = _S1063;
    (*v_sh_coeffs_0)[int(9)] = _S1064;
    (*v_sh_coeffs_0)[int(10)] = _S1065;
    (*v_sh_coeffs_0)[int(11)] = _S1066;
    (*v_sh_coeffs_0)[int(12)] = _S1067;
    (*v_sh_coeffs_0)[int(13)] = _S1068;
    (*v_sh_coeffs_0)[int(14)] = _S1069;
    (*v_sh_coeffs_0)[int(15)] = _S1070;
    *v_R_2 = _S1179;
    *v_t_1 = _S1178;
    return;
}

struct s_bwd_prop_s_bwd_prop_atan2_Intermediates_0
{
    DiffPair_float_0 _S1183;
    DiffPair_float_0 _S1184;
};

struct s_bwd_prop_fisheye_proj_3dgs_Intermediates_0
{
    DiffPair_float_0 _S1185;
    DiffPair_float_0 _S1186;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1187;
    DiffPair_float_0 _S1188;
    DiffPair_float_0 _S1189;
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1190;
};

struct s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S1191;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S1192;
};

inline __device__ float s_primal_ctx_s_primal_ctx_atan2_0(float _S1193, float _S1194)
{
    return s_primal_ctx_atan2_0(_S1193, _S1194);
}

struct s_bwd_prop_d_atan2_Intermediates_0
{
    DiffPair_float_0 _S1195;
    DiffPair_float_0 _S1196;
};

inline __device__ void s_primal_ctx_d_atan2_0(DiffPair_float_0 * dpdpy_0, DiffPair_float_0 * dpdpx_0, float dpdOut_0, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_0)
{
    DiffPair_float_0 _S1197 = { 0.0f, 0.0f };
    _s_diff_ctx_0->_S1195 = _S1197;
    _s_diff_ctx_0->_S1196 = _S1197;
    (&_s_diff_ctx_0->_S1195)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1195)->differential_0 = 0.0f;
    (&_s_diff_ctx_0->_S1196)->primal_0 = 0.0f;
    (&_s_diff_ctx_0->_S1196)->differential_0 = 0.0f;
    DiffPair_float_0 _S1198 = *dpdpy_0;
    _s_diff_ctx_0->_S1195 = *dpdpy_0;
    DiffPair_float_0 _S1199 = *dpdpx_0;
    _s_diff_ctx_0->_S1196 = *dpdpx_0;
    float _S1200 = _S1199.primal_0 * _S1199.primal_0 + _S1198.primal_0 * _S1198.primal_0;
    float _S1201 = - _S1198.primal_0 / _S1200 * dpdOut_0;
    float _S1202 = _S1199.primal_0 / _S1200 * dpdOut_0;
    dpdpy_0->primal_0 = _S1198.primal_0;
    dpdpy_0->differential_0 = _S1202;
    dpdpx_0->primal_0 = _S1199.primal_0;
    dpdpx_0->differential_0 = _S1201;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_atan2_0(DiffPair_float_0 * _S1203, DiffPair_float_0 * _S1204, float _S1205, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_1)
{
    DiffPair_float_0 _S1206 = { 0.0f, 0.0f };
    _s_diff_ctx_1->_S1183 = _S1206;
    _s_diff_ctx_1->_S1184 = _S1206;
    (&_s_diff_ctx_1->_S1183)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1183)->differential_0 = 0.0f;
    (&_s_diff_ctx_1->_S1184)->primal_0 = 0.0f;
    (&_s_diff_ctx_1->_S1184)->differential_0 = 0.0f;
    DiffPair_float_0 _S1207 = *_S1203;
    _s_diff_ctx_1->_S1183 = *_S1203;
    DiffPair_float_0 _S1208 = *_S1204;
    _s_diff_ctx_1->_S1184 = *_S1204;
    DiffPair_float_0 _S1209 = _S1207;
    DiffPair_float_0 _S1210 = _S1208;
    s_bwd_prop_d_atan2_Intermediates_0 _S1211;
    (&_S1211)->_S1195 = _S1206;
    (&_S1211)->_S1196 = _S1206;
    s_primal_ctx_d_atan2_0(&_S1209, &_S1210, _S1205, &_S1211);
    *_S1203 = _S1209;
    *_S1204 = _S1210;
    return;
}

struct s_bwd_prop_s_bwd_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1212;
};

struct s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1213;
};

struct s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1214;
    DiffPair_float_0 _S1215;
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1216;
};

struct s_bwd_prop_d_sqrt_Intermediates_0
{
    DiffPair_float_0 _S1217;
};

inline __device__ void s_primal_ctx_d_sqrt_0(DiffPair_float_0 * dpdpx_1, float dpdOut_1, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_2)
{
    DiffPair_float_0 _S1218 = { 0.0f, 0.0f };
    _s_diff_ctx_2->_S1217 = _S1218;
    (&_s_diff_ctx_2->_S1217)->primal_0 = 0.0f;
    (&_s_diff_ctx_2->_S1217)->differential_0 = 0.0f;
    DiffPair_float_0 _S1219 = *dpdpx_1;
    _s_diff_ctx_2->_S1217 = *dpdpx_1;
    float _S1220 = 0.5f / s_primal_ctx_sqrt_0(s_primal_ctx_max_0(1.00000001168609742e-07f, _S1219.primal_0)) * dpdOut_1;
    dpdpx_1->primal_0 = _S1219.primal_0;
    dpdpx_1->differential_0 = _S1220;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_sqrt_0(DiffPair_float_0 * _S1221, float _S1222, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_3)
{
    DiffPair_float_0 _S1223 = { 0.0f, 0.0f };
    _s_diff_ctx_3->_S1213 = _S1223;
    (&_s_diff_ctx_3->_S1213)->primal_0 = 0.0f;
    (&_s_diff_ctx_3->_S1213)->differential_0 = 0.0f;
    DiffPair_float_0 _S1224 = *_S1221;
    _s_diff_ctx_3->_S1213 = *_S1221;
    DiffPair_float_0 _S1225 = _S1224;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1226;
    (&_S1226)->_S1217 = _S1223;
    s_primal_ctx_d_sqrt_0(&_S1225, _S1222, &_S1226);
    *_S1221 = _S1225;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_prop_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_2, float dp_s_dOut_0, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_4)
{
    float2  _S1227 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1228 = { _S1227, _S1227 };
    DiffPair_float_0 _S1229 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1230 = { _S1229 };
    _s_diff_ctx_4->_S1214 = _S1228;
    _s_diff_ctx_4->_S1215 = _S1229;
    _s_diff_ctx_4->_S1216 = _S1230;
    (&_s_diff_ctx_4->_S1214)->primal_0 = _S1227;
    (&_s_diff_ctx_4->_S1214)->differential_0 = _S1227;
    (&_s_diff_ctx_4->_S1215)->primal_0 = 0.0f;
    (&_s_diff_ctx_4->_S1215)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1231 = *dpdpx_2;
    _s_diff_ctx_4->_S1214 = *dpdpx_2;
    float _S1232 = _S1231.primal_0.x;
    float _S1233 = _S1231.primal_0.y;
    DiffPair_float_0 _S1234;
    (&_S1234)->primal_0 = _S1232 * _S1232 + _S1233 * _S1233;
    (&_S1234)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_sqrt_0(&_S1234, dp_s_dOut_0, &_s_diff_ctx_4->_S1216);
    _s_diff_ctx_4->_S1215 = _S1234;
    float _S1235 = _S1231.primal_0.y * _S1234.differential_0;
    float _S1236 = _S1235 + _S1235;
    float _S1237 = _S1231.primal_0.x * _S1234.differential_0;
    float _S1238 = _S1237 + _S1237;
    float2  _S1239 = _S1227;
    *&((&_S1239)->y) = _S1236;
    *&((&_S1239)->x) = _S1238;
    dpdpx_2->primal_0 = _S1231.primal_0;
    dpdpx_2->differential_0 = _S1239;
    return;
}

inline __device__ void s_primal_ctx_s_bwd_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * _S1240, float _S1241, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_5)
{
    float2  _S1242 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1243 = { _S1242, _S1242 };
    _s_diff_ctx_5->_S1212 = _S1243;
    (&_s_diff_ctx_5->_S1212)->primal_0 = _S1242;
    (&_s_diff_ctx_5->_S1212)->differential_0 = _S1242;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1244 = *_S1240;
    _s_diff_ctx_5->_S1212 = *_S1240;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1245 = _S1244;
    DiffPair_float_0 _S1246 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1247 = { _S1246 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1248;
    (&_S1248)->_S1214 = _S1243;
    (&_S1248)->_S1215 = _S1246;
    (&_S1248)->_S1216 = _S1247;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1245, _S1241, &_S1248);
    *_S1240 = _S1245;
    return;
}

inline __device__ bool s_primal_ctx_fisheye_proj_3dgs_0(float3  dpmean3d_0, Matrix<float, 3, 3>  dpcov3d_0, float4  dpintrins_0, FixedArray<float, 10>  * dpdist_coeffs_0, Matrix<float, 2, 2>  * dpcov2d_0, float2  * dpmean2d_0, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_6)
{
    DiffPair_float_0 _S1249 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1250 = { _S1249, _S1249 };
    _s_diff_ctx_6->_S1185 = _S1249;
    _s_diff_ctx_6->_S1186 = _S1249;
    _s_diff_ctx_6->_S1187 = _S1250;
    _s_diff_ctx_6->_S1188 = _S1249;
    _s_diff_ctx_6->_S1189 = _S1249;
    _s_diff_ctx_6->_S1190 = _S1250;
    (&_s_diff_ctx_6->_S1185)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1185)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1186)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1186)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1188)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1188)->differential_0 = 0.0f;
    (&_s_diff_ctx_6->_S1189)->primal_0 = 0.0f;
    (&_s_diff_ctx_6->_S1189)->differential_0 = 0.0f;
    float2  _S1251 = make_float2 (0.0f);
    float2  _S1252 = float2 {dpmean3d_0.x, dpmean3d_0.y};
    float _S1253 = length_0(_S1252);
    float _S1254 = dpmean3d_0.z;
    float _S1255 = s_primal_ctx_atan2_0(_S1253, _S1254);
    float k_4;
    if(_S1255 < 0.00100000004749745f)
    {
        k_4 = (1.0f - _S1255 * _S1255 / 3.0f) / _S1254;
    }
    else
    {
        k_4 = _S1255 / _S1253;
    }
    float2  _S1256 = _S1252 * make_float2 (k_4);
    float u_38 = _S1256.x;
    float v_38 = _S1256.y;
    float r2_38 = u_38 * u_38 + v_38 * v_38;
    float _S1257 = 2.0f * (*dpdist_coeffs_0)[int(4)];
    float _S1258 = 2.0f * (*dpdist_coeffs_0)[int(5)];
    float2  _S1259 = _S1256 * make_float2 (1.0f + r2_38 * ((*dpdist_coeffs_0)[int(0)] + r2_38 * ((*dpdist_coeffs_0)[int(1)] + r2_38 * ((*dpdist_coeffs_0)[int(2)] + r2_38 * (*dpdist_coeffs_0)[int(3)])))) + make_float2 (_S1257 * u_38 * v_38 + (*dpdist_coeffs_0)[int(5)] * (r2_38 + 2.0f * u_38 * u_38) + (*dpdist_coeffs_0)[int(6)] * r2_38, _S1258 * u_38 * v_38 + (*dpdist_coeffs_0)[int(4)] * (r2_38 + 2.0f * v_38 * v_38) + (*dpdist_coeffs_0)[int(7)] * r2_38);
    float2  _S1260 = _S1259 + make_float2 ((*dpdist_coeffs_0)[int(8)] * _S1259.x + (*dpdist_coeffs_0)[int(9)] * _S1259.y, 0.0f);
    float fx_18 = dpintrins_0.x;
    float fy_18 = dpintrins_0.y;
    float2  _S1261 = make_float2 (fx_18 * _S1260.x + dpintrins_0.z, fy_18 * _S1260.y + dpintrins_0.w);
    Matrix<float, 2, 3>  J_9 = makeMatrix<float, 2, 3> (0.0f);
    float _S1262 = s_primal_ctx_s_primal_ctx_atan2_0(_S1253, _S1254);
    bool _S1263 = _S1262 < 0.00100000004749745f;
    float _S1264;
    float _S1265;
    float _S1266;
    if(_S1263)
    {
        float _S1267 = 1.0f - _S1262 * _S1262 / 3.0f;
        float _S1268 = _S1254 * _S1254;
        k_4 = _S1267 / _S1254;
        _S1264 = 0.0f;
        _S1265 = _S1268;
        _S1266 = _S1267;
    }
    else
    {
        float _S1269 = _S1253 * _S1253;
        k_4 = _S1262 / _S1253;
        _S1264 = _S1269;
        _S1265 = 0.0f;
        _S1266 = 0.0f;
    }
    float2  _S1270 = make_float2 (k_4);
    float2  _S1271 = _S1252 * make_float2 (k_4);
    float u_39 = _S1271.x;
    float v_39 = _S1271.y;
    float r2_39 = u_39 * u_39 + v_39 * v_39;
    float _S1272 = (*dpdist_coeffs_0)[int(2)] + r2_39 * (*dpdist_coeffs_0)[int(3)];
    float _S1273 = (*dpdist_coeffs_0)[int(1)] + r2_39 * _S1272;
    float _S1274 = (*dpdist_coeffs_0)[int(0)] + r2_39 * _S1273;
    float2  _S1275 = make_float2 (fx_18, 0.0f) + make_float2 ((*dpdist_coeffs_0)[int(8)] * fx_18, (*dpdist_coeffs_0)[int(9)] * fx_18);
    float2  _S1276 = _S1271 * _S1275;
    float _S1277 = (*dpdist_coeffs_0)[int(4)] * _S1275.y;
    float _S1278 = (*dpdist_coeffs_0)[int(5)] * _S1275.x;
    float _S1279 = _S1276.x + _S1276.y;
    float _S1280 = r2_39 * _S1279;
    float _S1281 = r2_39 * _S1280;
    float _S1282 = (*dpdist_coeffs_0)[int(7)] * _S1275.y + _S1277 + (*dpdist_coeffs_0)[int(6)] * _S1275.x + _S1278 + _S1274 * _S1279 + _S1273 * _S1280 + _S1272 * _S1281 + (*dpdist_coeffs_0)[int(3)] * (r2_39 * _S1281);
    float _S1283 = v_39 * _S1282;
    float _S1284 = u_39 * _S1282;
    float2  _S1285 = make_float2 (1.0f + r2_39 * _S1274) * _S1275 + make_float2 (_S1258 * (v_39 * _S1275.y) + 2.0f * u_39 * _S1278 + 2.0f * (u_39 * _S1278) + _S1257 * (v_39 * _S1275.x) + _S1284 + _S1284, 2.0f * v_39 * _S1277 + 2.0f * (v_39 * _S1277) + _S1258 * u_39 * _S1275.y + _S1257 * u_39 * _S1275.x + _S1283 + _S1283);
    float2  _S1286 = _S1252 * _S1285;
    float2  _S1287 = _S1270 * _S1285;
    float _S1288 = _S1286.x + _S1286.y;
    if(_S1263)
    {
        float _S1289 = _S1288 / _S1265;
        float _S1290 = _S1266 * - _S1289;
        float _S1291 = _S1262 * (0.3333333432674408f * - (_S1254 * _S1289));
        k_4 = _S1291 + _S1291;
        _S1264 = _S1290;
        _S1265 = 0.0f;
    }
    else
    {
        float _S1292 = _S1288 / _S1264;
        float _S1293 = _S1262 * - _S1292;
        k_4 = _S1253 * _S1292;
        _S1264 = 0.0f;
        _S1265 = _S1293;
    }
    DiffPair_float_0 _S1294;
    (&_S1294)->primal_0 = _S1253;
    (&_S1294)->differential_0 = 0.0f;
    DiffPair_float_0 _S1295;
    (&_S1295)->primal_0 = _S1254;
    (&_S1295)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1294, &_S1295, k_4, &_s_diff_ctx_6->_S1187);
    _s_diff_ctx_6->_S1185 = _S1294;
    _s_diff_ctx_6->_S1186 = _S1295;
    float _S1296 = _S1295.differential_0 + _S1264;
    float _S1297 = _S1294.differential_0 + _S1265;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1298;
    (&_S1298)->primal_0 = _S1252;
    (&_S1298)->differential_0 = _S1251;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1299 = { _S1251, _S1251 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1300;
    (&_S1300)->_S1212 = _S1299;
    s_primal_ctx_s_bwd_length_impl_0(&_S1298, _S1297, &_S1300);
    float2  _S1301 = _S1298.differential_0 + _S1287;
    float3  _S1302 = make_float3 (_S1301.x, _S1301.y, _S1296);
    Matrix<float, 2, 3>  _S1303 = J_9;
    _S1303[int(0)] = _S1302;
    if(_S1263)
    {
        float _S1304 = 1.0f - _S1262 * _S1262 / 3.0f;
        float _S1305 = _S1254 * _S1254;
        k_4 = _S1304 / _S1254;
        _S1264 = 0.0f;
        _S1265 = _S1305;
        _S1266 = _S1304;
    }
    else
    {
        float _S1306 = _S1253 * _S1253;
        k_4 = _S1262 / _S1253;
        _S1264 = _S1306;
        _S1265 = 0.0f;
        _S1266 = 0.0f;
    }
    float2  _S1307 = make_float2 (k_4);
    float2  _S1308 = _S1252 * make_float2 (k_4);
    float u_40 = _S1308.x;
    float v_40 = _S1308.y;
    float r2_40 = u_40 * u_40 + v_40 * v_40;
    float _S1309 = (*dpdist_coeffs_0)[int(2)] + r2_40 * (*dpdist_coeffs_0)[int(3)];
    float _S1310 = (*dpdist_coeffs_0)[int(1)] + r2_40 * _S1309;
    float _S1311 = (*dpdist_coeffs_0)[int(0)] + r2_40 * _S1310;
    float2  _S1312 = make_float2 (0.0f, fy_18);
    float2  _S1313 = _S1308 * _S1312;
    float _S1314 = (*dpdist_coeffs_0)[int(4)] * fy_18;
    float _S1315 = _S1313.x + _S1313.y;
    float _S1316 = r2_40 * _S1315;
    float _S1317 = r2_40 * _S1316;
    float _S1318 = (*dpdist_coeffs_0)[int(7)] * fy_18 + _S1314 + _S1311 * _S1315 + _S1310 * _S1316 + _S1309 * _S1317 + (*dpdist_coeffs_0)[int(3)] * (r2_40 * _S1317);
    float _S1319 = v_40 * _S1318;
    float _S1320 = u_40 * _S1318;
    float2  _S1321 = make_float2 (1.0f + r2_40 * _S1311) * _S1312 + make_float2 (_S1258 * (v_40 * fy_18) + _S1320 + _S1320, 2.0f * v_40 * _S1314 + 2.0f * (v_40 * _S1314) + _S1258 * u_40 * fy_18 + _S1319 + _S1319);
    float2  _S1322 = _S1252 * _S1321;
    float2  _S1323 = _S1307 * _S1321;
    float _S1324 = _S1322.x + _S1322.y;
    if(_S1263)
    {
        float _S1325 = _S1324 / _S1265;
        float _S1326 = _S1266 * - _S1325;
        float _S1327 = _S1262 * (0.3333333432674408f * - (_S1254 * _S1325));
        k_4 = _S1327 + _S1327;
        _S1264 = _S1326;
        _S1265 = 0.0f;
    }
    else
    {
        float _S1328 = _S1324 / _S1264;
        float _S1329 = _S1262 * - _S1328;
        k_4 = _S1253 * _S1328;
        _S1264 = 0.0f;
        _S1265 = _S1329;
    }
    DiffPair_float_0 _S1330;
    (&_S1330)->primal_0 = _S1253;
    (&_S1330)->differential_0 = 0.0f;
    DiffPair_float_0 _S1331;
    (&_S1331)->primal_0 = _S1254;
    (&_S1331)->differential_0 = 0.0f;
    s_primal_ctx_s_bwd_prop_atan2_0(&_S1330, &_S1331, k_4, &_s_diff_ctx_6->_S1190);
    _s_diff_ctx_6->_S1188 = _S1330;
    _s_diff_ctx_6->_S1189 = _S1331;
    float _S1332 = _S1331.differential_0 + _S1264;
    float _S1333 = _S1330.differential_0 + _S1265;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1334;
    (&_S1334)->primal_0 = _S1252;
    (&_S1334)->differential_0 = _S1251;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1335;
    (&_S1335)->_S1212 = _S1299;
    s_primal_ctx_s_bwd_length_impl_0(&_S1334, _S1333, &_S1335);
    float2  _S1336 = _S1334.differential_0 + _S1323;
    float3  _S1337 = make_float3 (_S1336.x, _S1336.y, _S1332);
    _S1303[int(1)] = _S1337;
    *dpcov2d_0 = s_primal_ctx_mul_3(s_primal_ctx_mul_2(_S1303, dpcov3d_0), transpose_1(_S1303));
    *dpmean2d_0 = _S1261;
    return true;
}

struct DiffPair_vectorx3Cfloatx2C4x3E_0
{
    float4  primal_0;
    float4  differential_0;
};

struct DiffPair_arrayx3Cfloatx2C10x3E_0
{
    FixedArray<float, 10>  primal_0;
    FixedArray<float, 10>  differential_0;
};

struct DiffPair_0
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 primal_0;
    DiffPair_vectorx3Cfloatx2C2x3E_0 differential_0;
};

struct DiffPair_1
{
    DiffPair_float_0 primal_0;
    DiffPair_float_0 differential_0;
};

inline __device__ void s_bwd_prop_d_sqrt_0(DiffPair_1 * dpdpx_3, DiffPair_float_0 * dpdOut_2, s_bwd_prop_d_sqrt_Intermediates_0 * _s_diff_ctx_7)
{
    DiffPair_1 _S1338 = *dpdpx_3;
    float _S1339 = s_primal_ctx_max_0(1.00000001168609742e-07f, (&_s_diff_ctx_7->_S1217)->primal_0);
    float _S1340 = s_primal_ctx_sqrt_0(_S1339);
    float _S1341 = 0.5f / _S1340 * (*dpdpx_3).differential_0.differential_0;
    float _S1342 = 0.5f * - ((*dpdOut_2).primal_0 * (*dpdpx_3).differential_0.differential_0 / (_S1340 * _S1340));
    DiffPair_float_0 _S1343;
    (&_S1343)->primal_0 = _S1339;
    (&_S1343)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1343, _S1342);
    DiffPair_float_0 _S1344;
    (&_S1344)->primal_0 = 1.00000001168609742e-07f;
    (&_S1344)->differential_0 = 0.0f;
    DiffPair_float_0 _S1345;
    (&_S1345)->primal_0 = (&_s_diff_ctx_7->_S1217)->primal_0;
    (&_S1345)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S1344, &_S1345, _S1343.differential_0);
    DiffPair_float_0 dpdpx_4 = { _S1345.differential_0 + (*dpdpx_3).differential_0.primal_0, 0.0f };
    dpdOut_2->primal_0 = (*dpdOut_2).primal_0;
    dpdOut_2->differential_0 = _S1341;
    dpdpx_3->primal_0 = _S1338.primal_0;
    dpdpx_3->differential_0 = dpdpx_4;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_sqrt_0(DiffPair_1 * _S1346, DiffPair_float_0 * _S1347, s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 * _s_diff_ctx_8)
{
    DiffPair_1 _S1348 = *_S1346;
    DiffPair_float_0 _S1349 = _s_diff_ctx_8->_S1213;
    DiffPair_float_0 _S1350 = { 0.0f, 0.0f };
    s_bwd_prop_d_sqrt_Intermediates_0 _S1351;
    (&_S1351)->_S1217 = _S1350;
    s_primal_ctx_d_sqrt_0(&_S1349, (*_S1347).primal_0, &_S1351);
    DiffPair_float_0 _S1352 = { (*_S1346).differential_0.primal_0, (*_S1346).differential_0.differential_0 };
    DiffPair_1 _S1353;
    (&_S1353)->primal_0 = _s_diff_ctx_8->_S1213;
    (&_S1353)->differential_0 = _S1352;
    DiffPair_float_0 _S1354;
    (&_S1354)->primal_0 = (*_S1347).primal_0;
    (&_S1354)->differential_0 = 0.0f;
    s_bwd_prop_d_sqrt_Intermediates_0 _S1355 = _S1351;
    s_bwd_prop_d_sqrt_0(&_S1353, &_S1354, &_S1355);
    DiffPair_float_0 _S1356 = { _S1353.differential_0.primal_0, _S1353.differential_0.differential_0 };
    _S1347->primal_0 = (*_S1347).primal_0;
    _S1347->differential_0 = _S1354.differential_0;
    _S1346->primal_0 = _S1348.primal_0;
    _S1346->differential_0 = _S1356;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_sqrt_0(DiffPair_float_0 * _S1357, float _s_dOut_4)
{
    DiffPair_float_0 _S1358;
    (&_S1358)->primal_0 = (*_S1357).primal_0;
    (&_S1358)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1358, _s_dOut_4);
    _S1357->primal_0 = (*_S1357).primal_0;
    _S1357->differential_0 = _S1358.differential_0;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_length_impl_0(DiffPair_0 * dpdpx_5, DiffPair_float_0 * dp_s_dOut_1, s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 * _s_diff_ctx_9)
{
    DiffPair_0 _S1359 = *dpdpx_5;
    float len_0 = *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->x) * *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->x) + *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->y) * *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->y);
    DiffPair_float_0 _S1360 = { len_0, 0.0f };
    float2  _S1361 = make_float2 (0.0f);
    float _S1362 = (*dpdpx_5).differential_0.differential_0.x;
    float _S1363 = _S1362 + _S1362;
    float _S1364 = (&_s_diff_ctx_9->_S1215)->differential_0 * _S1363;
    float _S1365 = (*dpdpx_5).differential_0.differential_0.y + (*dpdpx_5).differential_0.differential_0.y;
    float _S1366 = (&_s_diff_ctx_9->_S1215)->differential_0 * _S1365;
    DiffPair_float_0 _S1367 = { 0.0f, *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->x) * _S1363 + *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->y) * _S1365 };
    DiffPair_1 _S1368;
    (&_S1368)->primal_0 = _S1360;
    (&_S1368)->differential_0 = _S1367;
    DiffPair_float_0 _S1369;
    (&_S1369)->primal_0 = (*dp_s_dOut_1).primal_0;
    (&_S1369)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_sqrt_0(&_S1368, &_S1369, &_s_diff_ctx_9->_S1216);
    DiffPair_float_0 _S1370;
    (&_S1370)->primal_0 = len_0;
    (&_S1370)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1370, 0.0f);
    float _S1371 = _S1368.differential_0.primal_0 + _S1370.differential_0;
    float _S1372 = *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->y) * _S1371;
    float _S1373 = _S1366 + _S1372 + _S1372;
    float _S1374 = *&((&(&_s_diff_ctx_9->_S1214)->primal_0)->x) * _S1371;
    float _S1375 = _S1364 + _S1374 + _S1374;
    float2  _S1376 = _S1361;
    *&((&_S1376)->y) = _S1373;
    *&((&_S1376)->x) = _S1375;
    DiffPair_vectorx3Cfloatx2C2x3E_0 dpdpx_6 = { _S1359.differential_0.primal_0 + _S1376, _S1361 };
    dp_s_dOut_1->primal_0 = (*dp_s_dOut_1).primal_0;
    dp_s_dOut_1->differential_0 = _S1369.differential_0;
    dpdpx_5->primal_0 = _S1359.primal_0;
    dpdpx_5->differential_0 = dpdpx_6;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_length_impl_0(DiffPair_vectorx3Cfloatx2C2x3E_0 * dpdpx_7, float _s_dOut_5)
{
    float _S1377 = (*dpdpx_7).primal_0.x;
    float _S1378 = (*dpdpx_7).primal_0.y;
    DiffPair_float_0 _S1379;
    (&_S1379)->primal_0 = _S1377 * _S1377 + _S1378 * _S1378;
    (&_S1379)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_sqrt_0(&_S1379, _s_dOut_5);
    float _S1380 = (*dpdpx_7).primal_0.y * _S1379.differential_0;
    float _S1381 = _S1380 + _S1380;
    float _S1382 = (*dpdpx_7).primal_0.x * _S1379.differential_0;
    float _S1383 = _S1382 + _S1382;
    float2  _S1384 = make_float2 (0.0f);
    *&((&_S1384)->y) = _S1381;
    *&((&_S1384)->x) = _S1383;
    dpdpx_7->primal_0 = (*dpdpx_7).primal_0;
    dpdpx_7->differential_0 = _S1384;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_length_impl_0(DiffPair_0 * _S1385, DiffPair_float_0 * _S1386, s_bwd_prop_s_bwd_length_impl_Intermediates_0 * _s_diff_ctx_10)
{
    DiffPair_0 _S1387 = *_S1385;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1388 = _s_diff_ctx_10->_S1212;
    float2  _S1389 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1390 = { _S1389, _S1389 };
    DiffPair_float_0 _S1391 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_sqrt_Intermediates_0 _S1392 = { _S1391 };
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1393;
    (&_S1393)->_S1214 = _S1390;
    (&_S1393)->_S1215 = _S1391;
    (&_S1393)->_S1216 = _S1392;
    s_primal_ctx_s_bwd_prop_length_impl_0(&_S1388, (*_S1386).primal_0, &_S1393);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1394 = { (*_S1385).differential_0.primal_0, (*_S1385).differential_0.differential_0 };
    DiffPair_0 _S1395;
    (&_S1395)->primal_0 = _s_diff_ctx_10->_S1212;
    (&_S1395)->differential_0 = _S1394;
    DiffPair_float_0 _S1396;
    (&_S1396)->primal_0 = (*_S1386).primal_0;
    (&_S1396)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_length_impl_Intermediates_0 _S1397 = _S1393;
    s_bwd_prop_s_bwd_prop_length_impl_0(&_S1395, &_S1396, &_S1397);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1398;
    (&_S1398)->primal_0 = (&_s_diff_ctx_10->_S1212)->primal_0;
    (&_S1398)->differential_0 = _S1389;
    s_bwd_prop_s_primal_ctx_length_impl_0(&_S1398, 0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1399 = { _S1395.differential_0.primal_0 + _S1398.differential_0, _S1395.differential_0.differential_0 };
    _S1386->primal_0 = (*_S1386).primal_0;
    _S1386->differential_0 = _S1396.differential_0;
    _S1385->primal_0 = _S1387.primal_0;
    _S1385->differential_0 = _S1399;
    return;
}

inline __device__ void s_bwd_prop_d_atan2_0(DiffPair_1 * dpdpy_1, DiffPair_1 * dpdpx_8, DiffPair_float_0 * dpdOut_3, s_bwd_prop_d_atan2_Intermediates_0 * _s_diff_ctx_11)
{
    DiffPair_1 _S1400 = *dpdpy_1;
    DiffPair_1 _S1401 = *dpdpx_8;
    float _S1402 = - (&_s_diff_ctx_11->_S1195)->primal_0;
    float _S1403 = (&_s_diff_ctx_11->_S1196)->primal_0 * (&_s_diff_ctx_11->_S1196)->primal_0 + (&_s_diff_ctx_11->_S1195)->primal_0 * (&_s_diff_ctx_11->_S1195)->primal_0;
    float _S1404 = _S1403 * _S1403;
    float _S1405 = (*dpdOut_3).primal_0 * (*dpdpy_1).differential_0.differential_0 / _S1404;
    float _S1406 = (&_s_diff_ctx_11->_S1196)->primal_0 * - _S1405;
    float _S1407 = (&_s_diff_ctx_11->_S1195)->primal_0 * _S1406;
    float _S1408 = (&_s_diff_ctx_11->_S1196)->primal_0 * _S1406;
    float _S1409 = (*dpdOut_3).primal_0 * (*dpdpx_8).differential_0.differential_0 / _S1404;
    float _S1410 = _S1402 * - _S1409;
    float _S1411 = (&_s_diff_ctx_11->_S1195)->primal_0 * _S1410;
    float _S1412 = (&_s_diff_ctx_11->_S1196)->primal_0 * _S1410;
    DiffPair_float_0 dpdpx_9 = { _S1412 + _S1412 + ((*dpdpx_8).differential_0.primal_0 + (_S1408 + _S1408 + _S1403 * _S1405)), 0.0f };
    DiffPair_float_0 dpdpy_2 = { _S1407 + _S1407 + (*dpdpy_1).differential_0.primal_0 + _S1411 + _S1411 + - (_S1403 * _S1409), 0.0f };
    float _S1413 = (&_s_diff_ctx_11->_S1196)->primal_0 / _S1403 * (*dpdpy_1).differential_0.differential_0 + _S1402 / _S1403 * (*dpdpx_8).differential_0.differential_0;
    dpdOut_3->primal_0 = (*dpdOut_3).primal_0;
    dpdOut_3->differential_0 = _S1413;
    dpdpy_1->primal_0 = _S1400.primal_0;
    dpdpy_1->differential_0 = dpdpy_2;
    dpdpx_8->primal_0 = _S1401.primal_0;
    dpdpx_8->differential_0 = dpdpx_9;
    return;
}

inline __device__ void s_bwd_prop_s_bwd_prop_atan2_0(DiffPair_1 * _S1414, DiffPair_1 * _S1415, DiffPair_float_0 * _S1416, s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 * _s_diff_ctx_12)
{
    DiffPair_1 _S1417 = *_S1414;
    DiffPair_1 _S1418 = *_S1415;
    DiffPair_float_0 _S1419 = _s_diff_ctx_12->_S1183;
    DiffPair_float_0 _S1420 = _s_diff_ctx_12->_S1184;
    DiffPair_float_0 _S1421 = { 0.0f, 0.0f };
    s_bwd_prop_d_atan2_Intermediates_0 _S1422;
    (&_S1422)->_S1195 = _S1421;
    (&_S1422)->_S1196 = _S1421;
    s_primal_ctx_d_atan2_0(&_S1419, &_S1420, (*_S1416).primal_0, &_S1422);
    DiffPair_float_0 _S1423 = { (*_S1415).differential_0.primal_0, (*_S1415).differential_0.differential_0 };
    DiffPair_float_0 _S1424 = { (*_S1414).differential_0.primal_0, (*_S1414).differential_0.differential_0 };
    DiffPair_1 _S1425;
    (&_S1425)->primal_0 = _s_diff_ctx_12->_S1183;
    (&_S1425)->differential_0 = _S1424;
    DiffPair_1 _S1426;
    (&_S1426)->primal_0 = _s_diff_ctx_12->_S1184;
    (&_S1426)->differential_0 = _S1423;
    DiffPair_float_0 _S1427;
    (&_S1427)->primal_0 = (*_S1416).primal_0;
    (&_S1427)->differential_0 = 0.0f;
    s_bwd_prop_d_atan2_Intermediates_0 _S1428 = _S1422;
    s_bwd_prop_d_atan2_0(&_S1425, &_S1426, &_S1427, &_S1428);
    DiffPair_float_0 _S1429 = { _S1426.differential_0.primal_0, _S1426.differential_0.differential_0 };
    DiffPair_float_0 _S1430 = { _S1425.differential_0.primal_0, _S1425.differential_0.differential_0 };
    _S1416->primal_0 = (*_S1416).primal_0;
    _S1416->differential_0 = _S1427.differential_0;
    _S1414->primal_0 = _S1417.primal_0;
    _S1414->differential_0 = _S1430;
    _S1415->primal_0 = _S1418.primal_0;
    _S1415->differential_0 = _S1429;
    return;
}

inline __device__ void s_bwd_prop_s_primal_ctx_atan2_0(DiffPair_float_0 * _S1431, DiffPair_float_0 * _S1432, float _s_dOut_6)
{
    DiffPair_float_0 _S1433;
    (&_S1433)->primal_0 = (*_S1431).primal_0;
    (&_S1433)->differential_0 = 0.0f;
    DiffPair_float_0 _S1434;
    (&_S1434)->primal_0 = (*_S1432).primal_0;
    (&_S1434)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S1433, &_S1434, _s_dOut_6);
    _S1432->primal_0 = (*_S1432).primal_0;
    _S1432->differential_0 = _S1434.differential_0;
    _S1431->primal_0 = (*_S1431).primal_0;
    _S1431->differential_0 = _S1433.differential_0;
    return;
}

inline __device__ void s_bwd_prop_fisheye_proj_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean3d_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpcov3d_1, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpintrins_1, DiffPair_arrayx3Cfloatx2C10x3E_0 * dpdist_coeffs_1, Matrix<float, 2, 2>  dpcov2d_1, float2  dpmean2d_1, s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 * _s_diff_ctx_13)
{
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1435 = *dpcov3d_1;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S1436 = *dpintrins_1;
    FixedArray<float, 10>  _S1437 = dpdist_coeffs_1->primal_0;
    float2  _S1438 = make_float2 (0.0f);
    float2  _S1439 = float2 {(*dpmean3d_1).primal_0.x, (*dpmean3d_1).primal_0.y};
    float _S1440 = length_0(_S1439);
    float _S1441 = (*dpmean3d_1).primal_0.z;
    float _S1442 = s_primal_ctx_atan2_0(_S1440, _S1441);
    bool _S1443 = _S1442 < 0.00100000004749745f;
    float k_5;
    float _S1444;
    float _S1445;
    float _S1446;
    if(_S1443)
    {
        float _S1447 = 1.0f - _S1442 * _S1442 / 3.0f;
        float _S1448 = _S1441 * _S1441;
        k_5 = _S1447 / _S1441;
        _S1444 = 0.0f;
        _S1445 = _S1448;
        _S1446 = _S1447;
    }
    else
    {
        float _S1449 = _S1440 * _S1440;
        k_5 = _S1442 / _S1440;
        _S1444 = _S1449;
        _S1445 = 0.0f;
        _S1446 = 0.0f;
    }
    float2  _S1450 = make_float2 (k_5);
    float2  _S1451 = _S1439 * make_float2 (k_5);
    float u_41 = _S1451.x;
    float v_41 = _S1451.y;
    float r2_41 = u_41 * u_41 + v_41 * v_41;
    float _S1452 = _S1437[int(2)] + r2_41 * _S1437[int(3)];
    float _S1453 = _S1437[int(1)] + r2_41 * _S1452;
    float _S1454 = _S1437[int(0)] + r2_41 * _S1453;
    float radial_0 = 1.0f + r2_41 * _S1454;
    float2  _S1455 = make_float2 (radial_0);
    float _S1456 = 2.0f * _S1437[int(4)];
    float _S1457 = _S1456 * u_41;
    float _S1458 = 2.0f * u_41;
    float _S1459 = r2_41 + _S1458 * u_41;
    float _S1460 = 2.0f * _S1437[int(5)];
    float _S1461 = _S1460 * u_41;
    float _S1462 = 2.0f * v_41;
    float _S1463 = r2_41 + _S1462 * v_41;
    float2  _S1464 = _S1451 * make_float2 (radial_0) + make_float2 (_S1457 * v_41 + _S1437[int(5)] * _S1459 + _S1437[int(6)] * r2_41, _S1461 * v_41 + _S1437[int(4)] * _S1463 + _S1437[int(7)] * r2_41);
    float _S1465 = _S1464.x;
    float _S1466 = _S1464.y;
    float2  _S1467 = _S1464 + make_float2 (_S1437[int(8)] * _S1465 + _S1437[int(9)] * _S1466, 0.0f);
    float fx_19 = _S1436.primal_0.x;
    float fy_19 = _S1436.primal_0.y;
    float _S1468 = _S1467.x;
    float _S1469 = _S1467.y;
    Matrix<float, 2, 3>  J_10 = makeMatrix<float, 2, 3> (0.0f);
    float _S1470 = s_primal_ctx_s_primal_ctx_atan2_0(_S1440, _S1441);
    bool _S1471 = _S1470 < 0.00100000004749745f;
    float _S1472;
    float _S1473;
    float _S1474;
    if(_S1471)
    {
        float _S1475 = 1.0f - _S1470 * _S1470 / 3.0f;
        float _S1476 = _S1441 * _S1441;
        k_5 = _S1475 / _S1441;
        _S1472 = 0.0f;
        _S1473 = _S1476;
        _S1474 = _S1475;
    }
    else
    {
        float _S1477 = _S1440 * _S1440;
        k_5 = _S1470 / _S1440;
        _S1472 = _S1477;
        _S1473 = 0.0f;
        _S1474 = 0.0f;
    }
    float2  _S1478 = make_float2 (k_5);
    float2  _S1479 = _S1439 * make_float2 (k_5);
    float u_42 = _S1479.x;
    float v_42 = _S1479.y;
    float r2_42 = u_42 * u_42 + v_42 * v_42;
    float _S1480 = _S1437[int(2)] + r2_42 * _S1437[int(3)];
    float _S1481 = _S1437[int(1)] + r2_42 * _S1480;
    float _S1482 = _S1437[int(0)] + r2_42 * _S1481;
    float2  _S1483 = make_float2 (1.0f + r2_42 * _S1482);
    float _S1484 = _S1456 * u_42;
    float _S1485 = 2.0f * u_42;
    float _S1486 = _S1460 * u_42;
    float _S1487 = 2.0f * v_42;
    float2  _S1488 = make_float2 (fx_19, 0.0f) + make_float2 (_S1437[int(8)] * fx_19, _S1437[int(9)] * fx_19);
    float2  _S1489 = _S1479 * _S1488;
    float _S1490 = _S1437[int(4)] * _S1488.y;
    float _S1491 = v_42 * _S1488.y;
    float _S1492 = _S1437[int(5)] * _S1488.x;
    float _S1493 = v_42 * _S1488.x;
    float _S1494 = _S1489.x + _S1489.y;
    float _S1495 = r2_42 * _S1494;
    float _S1496 = r2_42 * _S1495;
    float _S1497 = r2_42 * _S1496;
    float _S1498 = _S1437[int(7)] * _S1488.y + _S1490 + _S1437[int(6)] * _S1488.x + _S1492 + _S1482 * _S1494 + _S1481 * _S1495 + _S1480 * _S1496 + _S1437[int(3)] * _S1497;
    float _S1499 = v_42 * _S1498;
    float _S1500 = u_42 * _S1498;
    float2  _S1501 = _S1483 * _S1488 + make_float2 (_S1460 * _S1491 + _S1485 * _S1492 + 2.0f * (u_42 * _S1492) + _S1456 * _S1493 + _S1500 + _S1500, _S1487 * _S1490 + 2.0f * (v_42 * _S1490) + _S1486 * _S1488.y + _S1484 * _S1488.x + _S1499 + _S1499);
    float2  _S1502 = _S1439 * _S1501;
    float2  _S1503 = _S1478 * _S1501;
    float _S1504 = _S1502.x + _S1502.y;
    float k_6;
    float _S1505;
    float _S1506;
    float _S1507;
    float _S1508;
    float _S1509;
    float _S1510;
    float _S1511;
    float _S1512;
    if(_S1471)
    {
        float _S1513 = _S1504 / _S1473;
        float _S1514 = _S1473 * _S1473;
        float _S1515 = - _S1513;
        float _S1516 = _S1474 * _S1515;
        float _S1517 = 0.3333333432674408f * - (_S1441 * _S1513);
        float _S1518 = _S1470 * _S1517;
        k_5 = _S1518 + _S1518;
        k_6 = _S1516;
        _S1505 = 0.0f;
        _S1506 = 0.0f;
        _S1507 = 0.0f;
        _S1508 = 0.0f;
        _S1509 = _S1517;
        _S1510 = _S1513;
        _S1511 = _S1515;
        _S1512 = _S1514;
    }
    else
    {
        float _S1519 = _S1504 / _S1472;
        float _S1520 = _S1472 * _S1472;
        float _S1521 = - _S1519;
        float _S1522 = _S1470 * _S1521;
        k_5 = _S1440 * _S1519;
        k_6 = 0.0f;
        _S1505 = _S1522;
        _S1506 = _S1519;
        _S1507 = _S1521;
        _S1508 = _S1520;
        _S1509 = 0.0f;
        _S1510 = 0.0f;
        _S1511 = 0.0f;
        _S1512 = 0.0f;
    }
    DiffPair_float_0 _S1523 = { _S1440, 0.0f };
    DiffPair_float_0 _S1524 = { _S1441, 0.0f };
    float _S1525 = (&_s_diff_ctx_13->_S1186)->differential_0 + k_6;
    float _S1526 = (&_s_diff_ctx_13->_S1185)->differential_0 + _S1505;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1527 = { _S1439, _S1438 };
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1528;
    (&_S1528)->primal_0 = _S1439;
    (&_S1528)->differential_0 = _S1438;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1529 = { _S1438, _S1438 };
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1530;
    (&_S1530)->_S1212 = _S1529;
    s_primal_ctx_s_bwd_length_impl_0(&_S1528, _S1526, &_S1530);
    float2  _S1531 = _S1528.differential_0 + _S1503;
    float3  _S1532 = make_float3 (_S1531.x, _S1531.y, _S1525);
    Matrix<float, 2, 3>  _S1533 = J_10;
    _S1533[int(0)] = _S1532;
    float _S1534;
    float _S1535;
    if(_S1471)
    {
        float _S1536 = 1.0f - _S1470 * _S1470 / 3.0f;
        float _S1537 = _S1441 * _S1441;
        k_6 = _S1536 / _S1441;
        _S1505 = 0.0f;
        _S1534 = _S1537;
        _S1535 = _S1536;
    }
    else
    {
        float _S1538 = _S1440 * _S1440;
        k_6 = _S1470 / _S1440;
        _S1505 = _S1538;
        _S1534 = 0.0f;
        _S1535 = 0.0f;
    }
    float2  _S1539 = make_float2 (k_6);
    float2  _S1540 = _S1439 * make_float2 (k_6);
    float u_43 = _S1540.x;
    float v_43 = _S1540.y;
    float r2_43 = u_43 * u_43 + v_43 * v_43;
    float _S1541 = _S1437[int(2)] + r2_43 * _S1437[int(3)];
    float _S1542 = _S1437[int(1)] + r2_43 * _S1541;
    float _S1543 = _S1437[int(0)] + r2_43 * _S1542;
    float2  _S1544 = make_float2 (1.0f + r2_43 * _S1543);
    float _S1545 = _S1456 * u_43;
    float _S1546 = 2.0f * u_43;
    float _S1547 = _S1460 * u_43;
    float _S1548 = 2.0f * v_43;
    float2  _S1549 = make_float2 (0.0f, fy_19);
    float2  _S1550 = _S1540 * _S1549;
    float _S1551 = _S1437[int(4)] * fy_19;
    float _S1552 = v_43 * fy_19;
    float _S1553 = _S1550.x + _S1550.y;
    float _S1554 = r2_43 * _S1553;
    float _S1555 = r2_43 * _S1554;
    float _S1556 = r2_43 * _S1555;
    float _S1557 = _S1437[int(7)] * fy_19 + _S1551 + _S1543 * _S1553 + _S1542 * _S1554 + _S1541 * _S1555 + _S1437[int(3)] * _S1556;
    float _S1558 = v_43 * _S1557;
    float _S1559 = u_43 * _S1557;
    float2  _S1560 = _S1544 * _S1549 + make_float2 (_S1460 * _S1552 + _S1559 + _S1559, _S1548 * _S1551 + 2.0f * (v_43 * _S1551) + _S1547 * fy_19 + _S1558 + _S1558);
    float2  _S1561 = _S1439 * _S1560;
    float2  _S1562 = _S1539 * _S1560;
    float _S1563 = _S1561.x + _S1561.y;
    float _S1564;
    float _S1565;
    float _S1566;
    float _S1567;
    float _S1568;
    float _S1569;
    float _S1570;
    float _S1571;
    float _S1572;
    if(_S1471)
    {
        float _S1573 = _S1563 / _S1534;
        float _S1574 = _S1534 * _S1534;
        float _S1575 = - _S1573;
        float _S1576 = _S1535 * _S1575;
        float _S1577 = 0.3333333432674408f * - (_S1441 * _S1573);
        float _S1578 = _S1470 * _S1577;
        k_6 = _S1578 + _S1578;
        _S1564 = _S1576;
        _S1565 = 0.0f;
        _S1566 = 0.0f;
        _S1567 = 0.0f;
        _S1568 = 0.0f;
        _S1569 = _S1577;
        _S1570 = _S1573;
        _S1571 = _S1575;
        _S1572 = _S1574;
    }
    else
    {
        float _S1579 = _S1563 / _S1505;
        float _S1580 = _S1505 * _S1505;
        float _S1581 = - _S1579;
        float _S1582 = _S1470 * _S1581;
        k_6 = _S1440 * _S1579;
        _S1564 = 0.0f;
        _S1565 = _S1582;
        _S1566 = _S1579;
        _S1567 = _S1581;
        _S1568 = _S1580;
        _S1569 = 0.0f;
        _S1570 = 0.0f;
        _S1571 = 0.0f;
        _S1572 = 0.0f;
    }
    float _S1583 = (&_s_diff_ctx_13->_S1189)->differential_0 + _S1564;
    float _S1584 = (&_s_diff_ctx_13->_S1188)->differential_0 + _S1565;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1585;
    (&_S1585)->primal_0 = _S1439;
    (&_S1585)->differential_0 = _S1438;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1586;
    (&_S1586)->_S1212 = _S1529;
    s_primal_ctx_s_bwd_length_impl_0(&_S1585, _S1584, &_S1586);
    float2  _S1587 = _S1585.differential_0 + _S1562;
    float3  _S1588 = make_float3 (_S1587.x, _S1587.y, _S1583);
    _S1533[int(1)] = _S1588;
    Matrix<float, 3, 2>  _S1589 = transpose_1(_S1533);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1590;
    (&_S1590)->primal_0 = s_primal_ctx_mul_2(_S1533, _S1435.primal_0);
    (&_S1590)->differential_0 = J_10;
    Matrix<float, 3, 2>  _S1591 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S1592;
    (&_S1592)->primal_0 = _S1589;
    (&_S1592)->differential_0 = _S1591;
    s_bwd_prop_mul_2(&_S1590, &_S1592, dpcov2d_1);
    Matrix<float, 2, 3>  _S1593 = transpose_2(_S1592.differential_0);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S1594;
    (&_S1594)->primal_0 = _S1533;
    (&_S1594)->differential_0 = J_10;
    Matrix<float, 3, 3>  _S1595 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1596;
    (&_S1596)->primal_0 = _S1435.primal_0;
    (&_S1596)->differential_0 = _S1595;
    s_bwd_prop_mul_3(&_S1594, &_S1596, _S1590.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S1597 = _S1596;
    Matrix<float, 2, 3>  _S1598 = _S1593 + _S1594.differential_0;
    float2  _S1599 = _S1438;
    *&((&_S1599)->y) = _S1598.rows[int(1)].y;
    *&((&_S1599)->x) = _S1598.rows[int(1)].x;
    float2  _S1600 = _S1599;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1601 = { _S1438, _S1599 };
    DiffPair_0 _S1602;
    (&_S1602)->primal_0 = _S1527;
    (&_S1602)->differential_0 = _S1601;
    DiffPair_float_0 _S1603;
    (&_S1603)->primal_0 = _S1584;
    (&_S1603)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1604 = _S1586;
    s_bwd_prop_s_bwd_length_impl_0(&_S1602, &_S1603, &_S1604);
    DiffPair_0 _S1605 = _S1602;
    DiffPair_float_0 _S1606 = _S1603;
    DiffPair_float_0 _S1607 = { 0.0f, _S1598.rows[int(1)].z };
    DiffPair_float_0 _S1608 = { 0.0f, _S1603.differential_0 };
    DiffPair_1 _S1609;
    (&_S1609)->primal_0 = _S1523;
    (&_S1609)->differential_0 = _S1608;
    DiffPair_1 _S1610;
    (&_S1610)->primal_0 = _S1524;
    (&_S1610)->differential_0 = _S1607;
    DiffPair_float_0 _S1611;
    (&_S1611)->primal_0 = k_6;
    (&_S1611)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S1609, &_S1610, &_S1611, &_s_diff_ctx_13->_S1190);
    DiffPair_1 _S1612 = _S1609;
    DiffPair_1 _S1613 = _S1610;
    DiffPair_float_0 _S1614 = _S1611;
    if(_S1471)
    {
        float _S1615 = _S1614.differential_0 + _S1614.differential_0;
        float _S1616 = _S1569 * _S1615;
        float _S1617 = - (0.3333333432674408f * (_S1470 * _S1615));
        float _S1618 = _S1571 * _S1598.rows[int(1)].z;
        float _S1619 = (_S1441 * _S1617 + - (_S1535 * _S1598.rows[int(1)].z)) / _S1572;
        float _S1620 = _S1563 * - _S1619;
        float _S1621 = _S1570 * _S1617 + _S1613.differential_0.primal_0;
        k_6 = _S1534 * _S1619;
        _S1564 = 0.0f;
        _S1565 = _S1620;
        _S1566 = _S1618;
        _S1567 = _S1612.differential_0.primal_0;
        _S1568 = _S1616;
        _S1569 = _S1621;
    }
    else
    {
        float _S1622 = _S1567 * _S1606.differential_0;
        float _S1623 = (_S1440 * _S1614.differential_0 + - (_S1470 * _S1606.differential_0)) / _S1568;
        float _S1624 = _S1563 * - _S1623;
        float _S1625 = _S1566 * _S1614.differential_0 + _S1612.differential_0.primal_0;
        k_6 = _S1505 * _S1623;
        _S1564 = _S1624;
        _S1565 = 0.0f;
        _S1566 = 0.0f;
        _S1567 = _S1625;
        _S1568 = _S1622;
        _S1569 = _S1613.differential_0.primal_0;
    }
    float2  _S1626 = _S1539 * _S1600;
    float2  _S1627 = _S1560 * _S1600;
    float2  _S1628 = _S1438;
    *&((&_S1628)->y) = k_6;
    *&((&_S1628)->x) = k_6;
    float2  _S1629 = _S1560 * _S1628;
    float2  _S1630 = _S1626 + _S1439 * _S1628;
    float _S1631 = _S1630.x;
    float _S1632 = _S1631 + _S1631;
    float _S1633 = _S1557 * _S1632;
    float _S1634 = _S1630.y + _S1630.y;
    float _S1635 = _S1557 * _S1634;
    float _S1636 = u_43 * _S1632 + v_43 * _S1634;
    float _S1637 = _S1437[int(3)] * _S1636;
    float _S1638 = _S1556 * _S1636;
    float _S1639 = _S1555 * _S1636;
    float _S1640 = _S1555 * _S1637;
    float _S1641 = _S1554 * _S1636;
    float _S1642 = _S1541 * _S1636 + r2_43 * _S1637;
    float _S1643 = _S1554 * _S1642;
    float _S1644 = _S1553 * _S1636;
    float _S1645 = _S1542 * _S1636 + r2_43 * _S1642;
    float _S1646 = _S1553 * _S1645;
    float _S1647 = _S1543 * _S1636 + r2_43 * _S1645;
    float _S1648 = v_43 * (_S1456 * _S1630.x);
    float _S1649 = _S1545 * _S1630.y;
    float _S1650 = _S1437[int(5)] * (_S1636 + u_43 * (2.0f * _S1630.x) + _S1546 * _S1630.x);
    float _S1651 = _S1437[int(6)] * _S1636;
    float _S1652 = _S1460 * _S1630.x;
    float _S1653 = _S1552 * _S1630.x;
    float _S1654 = v_43 * _S1652;
    float _S1655 = fy_19 * _S1652;
    float _S1656 = _S1547 * _S1630.y;
    float _S1657 = fy_19 * _S1630.y;
    float _S1658 = 2.0f * _S1630.y;
    float _S1659 = _S1551 * _S1658;
    float _S1660 = _S1551 * _S1630.y;
    float _S1661 = _S1636 + v_43 * _S1658 + _S1548 * _S1630.y;
    float _S1662 = _S1437[int(4)] * _S1661;
    float _S1663 = fy_19 * _S1661;
    float _S1664 = _S1437[int(7)] * _S1636;
    float _S1665 = fy_19 * _S1636;
    float2  _S1666 = _S1544 * _S1630;
    float2  _S1667 = _S1549 * _S1630;
    float2  _S1668 = _S1438;
    *&((&_S1668)->y) = _S1647;
    *&((&_S1668)->x) = _S1647;
    float2  _S1669 = _S1549 * _S1668;
    float _S1670 = _S1654 + _S1656 + _S1662 + _S1664;
    float _S1671 = _S1648 + _S1649 + _S1650 + _S1651;
    float2  _S1672 = _S1666 + _S1540 * _S1668;
    float2  _S1673 = _S1438;
    *&((&_S1673)->y) = _S1670;
    *&((&_S1673)->x) = _S1671;
    float2  _S1674 = _S1672 + _S1673;
    float _S1675 = _S1667.x + _S1667.y;
    float _S1676 = _S1644 + r2_43 * _S1675;
    float _S1677 = _S1641 + r2_43 * _S1676;
    float _S1678 = _S1639 + r2_43 * _S1677;
    float _S1679 = _S1640 + _S1643 + _S1646 + _S1543 * _S1675 + _S1542 * _S1676 + _S1541 * _S1677 + _S1437[int(3)] * _S1678;
    float _S1680 = v_43 * _S1679;
    float _S1681 = u_43 * _S1679;
    float2  _S1682 = _S1629 + _S1605.differential_0.primal_0;
    float2  _S1683 = _S1669 + make_float2 (_S1633 + _S1460 * _S1657 + _S1681 + _S1681, _S1635 + _S1655 + _S1659 + 2.0f * _S1660 + _S1680 + _S1680);
    float _S1684 = _S1653 + u_43 * _S1657;
    float _S1685 = _S1638 + r2_43 * _S1678;
    float2  _S1686 = _S1439 * _S1683;
    float _S1687 = _S1627.x + _S1627.y + _S1686.x + _S1686.y;
    float2  _S1688 = _S1539 * _S1683 + _S1682;
    if(_S1471)
    {
        float _S1689 = _S1441 * _S1565;
        float _S1690 = _S1687 / _S1534;
        float _S1691 = _S1470 * (0.3333333432674408f * - (_S1566 + _S1441 * _S1690));
        float _S1692 = _S1689 + _S1689 + _S1535 * - _S1690 + _S1569;
        k_6 = _S1691 + _S1691 + _S1568;
        _S1505 = _S1692;
        _S1534 = _S1567;
    }
    else
    {
        float _S1693 = _S1440 * _S1564;
        float _S1694 = _S1687 / _S1505;
        float _S1695 = _S1693 + _S1693 + _S1470 * - _S1694 + _S1567;
        k_6 = _S1440 * _S1694 + _S1568;
        _S1505 = _S1569;
        _S1534 = _S1695;
    }
    DiffPair_float_0 _S1696;
    (&_S1696)->primal_0 = _S1440;
    (&_S1696)->differential_0 = 0.0f;
    DiffPair_float_0 _S1697;
    (&_S1697)->primal_0 = _S1441;
    (&_S1697)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S1696, &_S1697, k_6);
    float _S1698 = _S1697.differential_0 + _S1505;
    float _S1699 = _S1696.differential_0 + _S1534;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1700;
    (&_S1700)->primal_0 = _S1439;
    (&_S1700)->differential_0 = _S1438;
    s_bwd_length_impl_0(&_S1700, _S1699);
    float2  _S1701 = _S1700.differential_0 + _S1688;
    float3  _S1702 = make_float3 (_S1701.x, _S1701.y, _S1698);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1703;
    (&_S1703)->primal_0 = _S1439;
    (&_S1703)->differential_0 = _S1438;
    s_bwd_length_impl_0(&_S1703, 0.0f);
    float3  _S1704 = _S1702 + make_float3 (_S1703.differential_0.x, _S1703.differential_0.y, 0.0f);
    float2  _S1705 = _S1438;
    *&((&_S1705)->y) = _S1598.rows[int(0)].y;
    *&((&_S1705)->x) = _S1598.rows[int(0)].x;
    float2  _S1706 = _S1705;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1707 = { _S1438, _S1705 };
    DiffPair_0 _S1708;
    (&_S1708)->primal_0 = _S1527;
    (&_S1708)->differential_0 = _S1707;
    DiffPair_float_0 _S1709;
    (&_S1709)->primal_0 = _S1526;
    (&_S1709)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_length_impl_Intermediates_0 _S1710 = _S1530;
    s_bwd_prop_s_bwd_length_impl_0(&_S1708, &_S1709, &_S1710);
    DiffPair_0 _S1711 = _S1708;
    DiffPair_float_0 _S1712 = _S1709;
    DiffPair_float_0 _S1713 = { 0.0f, _S1598.rows[int(0)].z };
    DiffPair_float_0 _S1714 = { 0.0f, _S1709.differential_0 };
    DiffPair_1 _S1715;
    (&_S1715)->primal_0 = _S1523;
    (&_S1715)->differential_0 = _S1714;
    DiffPair_1 _S1716;
    (&_S1716)->primal_0 = _S1524;
    (&_S1716)->differential_0 = _S1713;
    DiffPair_float_0 _S1717;
    (&_S1717)->primal_0 = k_5;
    (&_S1717)->differential_0 = 0.0f;
    s_bwd_prop_s_bwd_prop_atan2_0(&_S1715, &_S1716, &_S1717, &_s_diff_ctx_13->_S1187);
    DiffPair_1 _S1718 = _S1715;
    DiffPair_1 _S1719 = _S1716;
    DiffPair_float_0 _S1720 = _S1717;
    if(_S1471)
    {
        float _S1721 = _S1720.differential_0 + _S1720.differential_0;
        float _S1722 = _S1509 * _S1721;
        float _S1723 = - (0.3333333432674408f * (_S1470 * _S1721));
        float _S1724 = _S1511 * _S1598.rows[int(0)].z;
        float _S1725 = (_S1441 * _S1723 + - (_S1474 * _S1598.rows[int(0)].z)) / _S1512;
        float _S1726 = _S1504 * - _S1725;
        float _S1727 = _S1510 * _S1723 + _S1719.differential_0.primal_0;
        k_5 = _S1473 * _S1725;
        k_6 = 0.0f;
        _S1505 = _S1726;
        _S1506 = _S1724;
        _S1507 = _S1718.differential_0.primal_0;
        _S1508 = _S1722;
        _S1509 = _S1727;
    }
    else
    {
        float _S1728 = _S1507 * _S1712.differential_0;
        float _S1729 = (_S1440 * _S1720.differential_0 + - (_S1470 * _S1712.differential_0)) / _S1508;
        float _S1730 = _S1504 * - _S1729;
        float _S1731 = _S1506 * _S1720.differential_0 + _S1718.differential_0.primal_0;
        k_5 = _S1472 * _S1729;
        k_6 = _S1730;
        _S1505 = 0.0f;
        _S1506 = 0.0f;
        _S1507 = _S1731;
        _S1508 = _S1728;
        _S1509 = _S1719.differential_0.primal_0;
    }
    float2  _S1732 = _S1478 * _S1706;
    float2  _S1733 = _S1501 * _S1706;
    float2  _S1734 = _S1438;
    *&((&_S1734)->y) = k_5;
    *&((&_S1734)->x) = k_5;
    float2  _S1735 = _S1501 * _S1734;
    float2  _S1736 = _S1732 + _S1439 * _S1734;
    float _S1737 = _S1736.x;
    float _S1738 = _S1737 + _S1737;
    float _S1739 = _S1498 * _S1738;
    float _S1740 = _S1736.y + _S1736.y;
    float _S1741 = _S1498 * _S1740;
    float _S1742 = u_42 * _S1738 + v_42 * _S1740;
    float _S1743 = _S1437[int(3)] * _S1742;
    float _S1744 = _S1497 * _S1742;
    float _S1745 = _S1496 * _S1742;
    float _S1746 = _S1496 * _S1743;
    float _S1747 = _S1495 * _S1742;
    float _S1748 = _S1480 * _S1742 + r2_42 * _S1743;
    float _S1749 = _S1495 * _S1748;
    float _S1750 = _S1494 * _S1742;
    float _S1751 = _S1481 * _S1742 + r2_42 * _S1748;
    float _S1752 = _S1494 * _S1751;
    float _S1753 = _S1482 * _S1742 + r2_42 * _S1751;
    float _S1754 = _S1456 * _S1736.x;
    float _S1755 = _S1493 * _S1736.x;
    float _S1756 = v_42 * _S1754;
    float _S1757 = _S1488.x * _S1754;
    float _S1758 = _S1484 * _S1736.y;
    float _S1759 = _S1488.x * _S1736.y;
    float _S1760 = 2.0f * _S1736.x;
    float _S1761 = _S1492 * _S1760;
    float _S1762 = _S1492 * _S1736.x;
    float _S1763 = _S1742 + u_42 * _S1760 + _S1485 * _S1736.x;
    float _S1764 = _S1437[int(5)] * _S1763;
    float _S1765 = _S1488.x * _S1763;
    float _S1766 = _S1437[int(6)] * _S1742;
    float _S1767 = _S1488.x * _S1742;
    float _S1768 = _S1460 * _S1736.x;
    float _S1769 = _S1491 * _S1736.x;
    float _S1770 = v_42 * _S1768;
    float _S1771 = _S1488.y * _S1768;
    float _S1772 = _S1486 * _S1736.y;
    float _S1773 = _S1488.y * _S1736.y;
    float _S1774 = 2.0f * _S1736.y;
    float _S1775 = _S1490 * _S1774;
    float _S1776 = _S1490 * _S1736.y;
    float _S1777 = _S1742 + v_42 * _S1774 + _S1487 * _S1736.y;
    float _S1778 = _S1437[int(4)] * _S1777;
    float _S1779 = _S1488.y * _S1777;
    float _S1780 = _S1437[int(7)] * _S1742;
    float _S1781 = _S1488.y * _S1742;
    float2  _S1782 = _S1483 * _S1736;
    float2  _S1783 = _S1488 * _S1736;
    float2  _S1784 = _S1438;
    *&((&_S1784)->y) = _S1753;
    *&((&_S1784)->x) = _S1753;
    float2  _S1785 = _S1488 * _S1784;
    float _S1786 = _S1770 + _S1772 + _S1778 + _S1780;
    float _S1787 = _S1756 + _S1758 + _S1764 + _S1766;
    float2  _S1788 = _S1782 + _S1479 * _S1784;
    float2  _S1789 = _S1438;
    *&((&_S1789)->y) = _S1786;
    *&((&_S1789)->x) = _S1787;
    float2  _S1790 = _S1788 + _S1789;
    float _S1791 = fx_19 * _S1790.x;
    float _S1792 = fx_19 * _S1790.y;
    float _S1793 = _S1783.x + _S1783.y;
    float _S1794 = _S1750 + r2_42 * _S1793;
    float _S1795 = _S1747 + r2_42 * _S1794;
    float _S1796 = _S1745 + r2_42 * _S1795;
    float _S1797 = _S1746 + _S1749 + _S1752 + _S1482 * _S1793 + _S1481 * _S1794 + _S1480 * _S1795 + _S1437[int(3)] * _S1796;
    float _S1798 = v_42 * _S1797;
    float _S1799 = u_42 * _S1797;
    float2  _S1800 = _S1735 + _S1711.differential_0.primal_0;
    float _S1801 = _S1781 + _S1665;
    float _S1802 = _S1755 + u_42 * _S1759;
    float _S1803 = _S1437[int(8)] * _S1790.x + _S1437[int(9)] * _S1790.y + _S1790.x;
    float _S1804 = _S1795 + _S1677;
    float _S1805 = _S1794 + _S1676;
    float2  _S1806 = _S1785 + make_float2 (_S1739 + _S1761 + _S1460 * _S1773 + 2.0f * _S1762 + _S1456 * _S1759 + _S1799 + _S1799, _S1741 + _S1757 + _S1771 + _S1775 + 2.0f * _S1776 + _S1798 + _S1798);
    float _S1807 = _S1769 + u_42 * _S1773 + _S1684;
    float _S1808 = _S1744 + r2_42 * _S1796 + _S1685;
    float _S1809 = _S1796 + _S1678;
    float _S1810 = _S1779 + _S1663;
    float2  _S1811 = _S1439 * _S1806;
    float _S1812 = _S1733.x + _S1733.y + _S1811.x + _S1811.y;
    float2  _S1813 = _S1478 * _S1806 + _S1800;
    if(_S1471)
    {
        float _S1814 = _S1441 * _S1505;
        float _S1815 = _S1812 / _S1473;
        float _S1816 = _S1470 * (0.3333333432674408f * - (_S1506 + _S1441 * _S1815));
        float _S1817 = _S1814 + _S1814 + _S1474 * - _S1815 + _S1509;
        k_5 = _S1816 + _S1816 + _S1508;
        _S1472 = _S1817;
        _S1473 = _S1507;
    }
    else
    {
        float _S1818 = _S1440 * k_6;
        float _S1819 = _S1812 / _S1472;
        float _S1820 = _S1818 + _S1818 + _S1470 * - _S1819 + _S1507;
        k_5 = _S1440 * _S1819 + _S1508;
        _S1472 = _S1509;
        _S1473 = _S1820;
    }
    DiffPair_float_0 _S1821;
    (&_S1821)->primal_0 = _S1440;
    (&_S1821)->differential_0 = 0.0f;
    DiffPair_float_0 _S1822;
    (&_S1822)->primal_0 = _S1441;
    (&_S1822)->differential_0 = 0.0f;
    s_bwd_prop_s_primal_ctx_atan2_0(&_S1821, &_S1822, k_5);
    float _S1823 = _S1822.differential_0 + _S1472;
    float _S1824 = _S1821.differential_0 + _S1473;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1825;
    (&_S1825)->primal_0 = _S1439;
    (&_S1825)->differential_0 = _S1438;
    s_bwd_length_impl_0(&_S1825, _S1824);
    float2  _S1826 = _S1825.differential_0 + _S1813;
    float3  _S1827 = make_float3 (_S1826.x, _S1826.y, _S1823);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1828;
    (&_S1828)->primal_0 = _S1439;
    (&_S1828)->differential_0 = _S1438;
    s_bwd_length_impl_0(&_S1828, 0.0f);
    float _S1829 = fx_19 * dpmean2d_1.x;
    float2  _S1830 = make_float2 (_S1829, fy_19 * dpmean2d_1.y) + make_float2 (_S1437[int(8)] * _S1829, _S1437[int(9)] * _S1829);
    float2  _S1831 = _S1451 * _S1830;
    float2  _S1832 = _S1455 * _S1830;
    float _S1833 = _S1437[int(4)] * _S1830.y;
    float _S1834 = v_41 * _S1830.y;
    float _S1835 = _S1437[int(5)] * _S1830.x;
    float _S1836 = v_41 * _S1830.x;
    float _S1837 = _S1831.x + _S1831.y;
    float _S1838 = r2_41 * _S1837;
    float _S1839 = r2_41 * _S1838;
    float _S1840 = r2_41 * _S1839;
    float _S1841 = _S1437[int(7)] * _S1830.y + _S1833 + _S1437[int(6)] * _S1830.x + _S1835 + _S1454 * _S1837 + _S1453 * _S1838 + _S1452 * _S1839 + _S1437[int(3)] * _S1840;
    float _S1842 = v_41 * _S1841;
    float _S1843 = u_41 * _S1841;
    float _S1844 = _S1462 * _S1833 + 2.0f * (v_41 * _S1833) + _S1461 * _S1830.y + _S1457 * _S1830.x + _S1842 + _S1842;
    float _S1845 = _S1460 * _S1834 + _S1458 * _S1835 + 2.0f * (u_41 * _S1835) + _S1456 * _S1836 + _S1843 + _S1843;
    float _S1846 = _S1466 * _S1829 + _S1792;
    float _S1847 = _S1465 * _S1829 + _S1791;
    float _S1848 = r2_41 * _S1830.y + _S1801;
    float _S1849 = r2_41 * _S1830.x + _S1767;
    float _S1850 = 2.0f * (u_41 * _S1834 + _S1807) + _S1459 * _S1830.x + _S1765;
    float _S1851 = _S1463 * _S1830.y + 2.0f * (u_41 * _S1836 + _S1802) + _S1810;
    float _S1852 = r2_41 * _S1840 + _S1808;
    float _S1853 = _S1840 + _S1809;
    float _S1854 = _S1839 + _S1804;
    float _S1855 = _S1838 + _S1805;
    float3  _S1856 = _S1827 + make_float3 (_S1828.differential_0.x, _S1828.differential_0.y, 0.0f) + _S1704;
    float4  _S1857 = make_float4 (_S1468 * dpmean2d_1.x + _S1803, _S1469 * dpmean2d_1.y + _S1674.y, dpmean2d_1.x, dpmean2d_1.y);
    FixedArray<float, 10>  _S1858;
    _S1858[int(0)] = 0.0f;
    _S1858[int(1)] = 0.0f;
    _S1858[int(2)] = 0.0f;
    _S1858[int(3)] = 0.0f;
    _S1858[int(4)] = 0.0f;
    _S1858[int(5)] = 0.0f;
    _S1858[int(6)] = 0.0f;
    _S1858[int(7)] = 0.0f;
    _S1858[int(8)] = 0.0f;
    _S1858[int(9)] = 0.0f;
    _S1858[int(9)] = _S1846;
    _S1858[int(8)] = _S1847;
    _S1858[int(7)] = _S1848;
    _S1858[int(6)] = _S1849;
    _S1858[int(5)] = _S1850;
    _S1858[int(4)] = _S1851;
    _S1858[int(3)] = _S1852;
    _S1858[int(2)] = _S1853;
    _S1858[int(1)] = _S1854;
    _S1858[int(0)] = _S1855;
    FixedArray<float, 10>  _S1859 = {
        _S1858[int(0)], _S1858[int(1)], _S1858[int(2)], _S1858[int(3)], _S1858[int(4)], _S1858[int(5)], _S1858[int(6)], _S1858[int(7)], _S1858[int(8)], _S1858[int(9)]
    };
    float2  _S1860 = _S1832 + make_float2 (_S1845, _S1844);
    float2  _S1861 = _S1439 * _S1860;
    float2  _S1862 = _S1450 * _S1860;
    float _S1863 = _S1861.x + _S1861.y;
    if(_S1443)
    {
        float _S1864 = _S1863 / _S1445;
        float _S1865 = _S1446 * - _S1864;
        float _S1866 = _S1442 * (0.3333333432674408f * - (_S1441 * _S1864));
        k_5 = _S1866 + _S1866;
        _S1444 = _S1865;
        _S1445 = 0.0f;
    }
    else
    {
        float _S1867 = _S1863 / _S1444;
        float _S1868 = _S1442 * - _S1867;
        k_5 = _S1440 * _S1867;
        _S1444 = 0.0f;
        _S1445 = _S1868;
    }
    DiffPair_float_0 _S1869;
    (&_S1869)->primal_0 = _S1440;
    (&_S1869)->differential_0 = 0.0f;
    DiffPair_float_0 _S1870;
    (&_S1870)->primal_0 = _S1441;
    (&_S1870)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S1869, &_S1870, k_5);
    float _S1871 = _S1870.differential_0 + _S1444;
    float _S1872 = _S1869.differential_0 + _S1445;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S1873;
    (&_S1873)->primal_0 = _S1439;
    (&_S1873)->differential_0 = _S1438;
    s_bwd_length_impl_0(&_S1873, _S1872);
    float2  _S1874 = _S1873.differential_0 + _S1862;
    dpdist_coeffs_1->primal_0 = dpdist_coeffs_1->primal_0;
    dpdist_coeffs_1->differential_0 = _S1859;
    dpintrins_1->primal_0 = (*dpintrins_1).primal_0;
    dpintrins_1->differential_0 = _S1857;
    dpcov3d_1->primal_0 = (*dpcov3d_1).primal_0;
    dpcov3d_1->differential_0 = _S1597.differential_0;
    float3  _S1875 = _S1856 + make_float3 (_S1874.x, _S1874.y, _S1871);
    dpmean3d_1->primal_0 = (*dpmean3d_1).primal_0;
    dpmean3d_1->differential_0 = _S1875;
    return;
}

inline __device__ void projection_3dgs_fisheye_vjp(bool antialiased_11, float3  mean_12, float4  quat_15, float3  scale_14, float in_opacity_11, FixedArray<float3 , 16>  * sh_coeffs_11, Matrix<float, 3, 3>  R_18, float3  t_14, float fx_20, float fy_20, float cx_15, float cy_15, FixedArray<float, 10>  * dist_coeffs_24, uint image_width_11, uint image_height_11, float2  v_mean2d_1, float v_depth_1, float3  v_conic_1, float v_opacity_1, float3  v_rgb_1, float3  * v_mean_1, float4  * v_quat_1, float3  * v_scale_1, float * v_in_opacity_1, FixedArray<float3 , 16>  * v_sh_coeffs_1, Matrix<float, 3, 3>  * v_R_3, float3  * v_t_2)
{
    Matrix<float, 2, 2>  _S1876 = makeMatrix<float, 2, 2> (0.0f);
    DiffPair_float_0 _S1877 = { 0.0f, 0.0f };
    s_bwd_prop_s_bwd_prop_atan2_Intermediates_0 _S1878 = { _S1877, _S1877 };
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S1879 = { _S1877, _S1877, _S1878, _S1877, _S1877, _S1878 };
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S1880;
    (&_S1880)->_S1191 = _S1876;
    (&_S1880)->_S1192 = _S1879;
    float3  mean_c_11 = s_primal_ctx_mul_0(R_18, mean_12) + t_14;
    float4  intrins_11 = make_float4 (fx_20, fy_20, cx_15, cy_15);
    float3  _S1881 = s_primal_ctx_exp_0(scale_14);
    float _S1882 = quat_15.y;
    float x2_15 = _S1882 * _S1882;
    float y2_15 = quat_15.z * quat_15.z;
    float z2_26 = quat_15.w * quat_15.w;
    float xy_15 = quat_15.y * quat_15.z;
    float xz_15 = quat_15.y * quat_15.w;
    float yz_15 = quat_15.z * quat_15.w;
    float wx_15 = quat_15.x * quat_15.y;
    float wy_15 = quat_15.x * quat_15.z;
    float wz_15 = quat_15.x * quat_15.w;
    Matrix<float, 3, 3>  _S1883 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_15 + z2_26), 2.0f * (xy_15 + wz_15), 2.0f * (xz_15 - wy_15), 2.0f * (xy_15 - wz_15), 1.0f - 2.0f * (x2_15 + z2_26), 2.0f * (yz_15 + wx_15), 2.0f * (xz_15 + wy_15), 2.0f * (yz_15 - wx_15), 1.0f - 2.0f * (x2_15 + y2_15)));
    Matrix<float, 3, 3>  S_1 = makeMatrix<float, 3, 3> (_S1881.x, 0.0f, 0.0f, 0.0f, _S1881.y, 0.0f, 0.0f, 0.0f, _S1881.z);
    Matrix<float, 3, 3>  _S1884 = s_primal_ctx_mul_1(_S1883, S_1);
    Matrix<float, 3, 3>  _S1885 = transpose_0(_S1884);
    Matrix<float, 3, 3>  _S1886 = s_primal_ctx_mul_1(_S1884, _S1885);
    Matrix<float, 3, 3>  _S1887 = s_primal_ctx_mul_1(R_18, _S1886);
    Matrix<float, 3, 3>  _S1888 = transpose_0(R_18);
    Matrix<float, 3, 3>  _S1889 = s_primal_ctx_mul_1(_S1887, _S1888);
    Matrix<float, 2, 2>  _S1890 = _S1876;
    float2  _S1891 = make_float2 (0.0f);
    float2  _S1892 = _S1891;
    bool _S1893 = s_primal_ctx_fisheye_proj_3dgs_0(mean_c_11, _S1889, intrins_11, dist_coeffs_24, &_S1890, &_S1892, &(&_S1880)->_S1192);
    (&_S1880)->_S1191 = _S1890;
    s_bwd_prop_projection_3dgs_fisheye_differentiable_Intermediates_0 _S1894 = _S1880;
    float _S1895 = _S1880._S1191.rows[int(0)].y * _S1880._S1191.rows[int(1)].x;
    float det_orig_12 = _S1880._S1191.rows[int(0)].x * _S1880._S1191.rows[int(1)].y - _S1895;
    float _S1896 = _S1880._S1191.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S1897 = _S1880._S1191;
    *&(((&_S1897)->rows + (int(0)))->x) = _S1896;
    float _S1898 = _S1880._S1191.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S1897)->rows + (int(1)))->y) = _S1898;
    Matrix<float, 2, 2>  _S1899 = _S1897;
    Matrix<float, 2, 2>  _S1900 = _S1897;
    float det_blur_7 = _S1896 * _S1898 - _S1895;
    float _S1901 = det_orig_12 / det_blur_7;
    float _S1902 = det_blur_7 * det_blur_7;
    float _S1903 = s_primal_ctx_max_0(0.0f, _S1901);
    float _S1904 = s_primal_ctx_sqrt_0(_S1903);
    float invdet_8 = 1.0f / det_blur_7;
    float _S1905 = - _S1880._S1191.rows[int(0)].y;
    float _S1906 = - _S1880._S1191.rows[int(1)].x;
    float _S1907 = - in_opacity_11;
    float _S1908 = 1.0f + s_primal_ctx_exp_1(_S1907);
    float _S1909 = 1.0f / _S1908;
    float _S1910 = _S1908 * _S1908;
    float _S1911;
    if(antialiased_11)
    {
        _S1911 = _S1909 * _S1904;
    }
    else
    {
        _S1911 = _S1909;
    }
    float _S1912 = _S1911 / 0.00392156885936856f;
    float _S1913 = 2.0f * s_primal_ctx_log_0(_S1912);
    float _S1914 = s_primal_ctx_sqrt_0(_S1913);
    float _S1915 = _S1899.rows[int(0)].x;
    float _S1916 = _S1900.rows[int(1)].y;
    float3  _S1917 = mean_12 - - s_primal_ctx_mul_0(_S1888, t_14);
    float _S1918 = _S1917.x;
    float _S1919 = _S1917.y;
    float _S1920 = _S1917.z;
    float _S1921 = _S1918 * _S1918 + _S1919 * _S1919 + _S1920 * _S1920;
    float _S1922 = s_primal_ctx_sqrt_0(_S1921);
    float x_36 = _S1918 / _S1922;
    float3  _S1923 = make_float3 (x_36);
    float _S1924 = _S1922 * _S1922;
    float y_14 = _S1919 / _S1922;
    float z_11 = _S1920 / _S1922;
    float3  _S1925 = make_float3 (z_11);
    float _S1926 = - y_14;
    float3  _S1927 = make_float3 (_S1926);
    float z2_27 = z_11 * z_11;
    float fTmp0B_11 = -1.09254848957061768f * z_11;
    float fC1_11 = x_36 * x_36 - y_14 * y_14;
    float _S1928 = 2.0f * x_36;
    float fS1_11 = _S1928 * y_14;
    float pSH6_1 = 0.94617468118667603f * z2_27 - 0.31539157032966614f;
    float3  _S1929 = make_float3 (pSH6_1);
    float pSH7_1 = fTmp0B_11 * x_36;
    float3  _S1930 = make_float3 (pSH7_1);
    float pSH5_1 = fTmp0B_11 * y_14;
    float3  _S1931 = make_float3 (pSH5_1);
    float pSH8_1 = 0.54627424478530884f * fC1_11;
    float3  _S1932 = make_float3 (pSH8_1);
    float pSH4_1 = 0.54627424478530884f * fS1_11;
    float3  _S1933 = make_float3 (pSH4_1);
    float fTmp0C_11 = -2.28522896766662598f * z2_27 + 0.4570457935333252f;
    float fTmp1B_11 = 1.44530570507049561f * z_11;
    float _S1934 = 1.86588168144226074f * z2_27 - 1.11952900886535645f;
    float pSH12_1 = z_11 * _S1934;
    float3  _S1935 = make_float3 (pSH12_1);
    float pSH13_1 = fTmp0C_11 * x_36;
    float3  _S1936 = make_float3 (pSH13_1);
    float pSH11_1 = fTmp0C_11 * y_14;
    float3  _S1937 = make_float3 (pSH11_1);
    float pSH14_1 = fTmp1B_11 * fC1_11;
    float3  _S1938 = make_float3 (pSH14_1);
    float pSH10_1 = fTmp1B_11 * fS1_11;
    float3  _S1939 = make_float3 (pSH10_1);
    float pSH15_1 = -0.59004360437393188f * (x_36 * fC1_11 - y_14 * fS1_11);
    float3  _S1940 = make_float3 (pSH15_1);
    float pSH9_1 = -0.59004360437393188f * (x_36 * fS1_11 + y_14 * fC1_11);
    float3  _S1941 = make_float3 (pSH9_1);
    float3  _S1942 = make_float3 (0.0f);
    float3  _S1943 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1944;
    (&_S1944)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_11)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S1926) * (*sh_coeffs_11)[int(1)] + make_float3 (z_11) * (*sh_coeffs_11)[int(2)] - make_float3 (x_36) * (*sh_coeffs_11)[int(3)]) + (make_float3 (pSH4_1) * (*sh_coeffs_11)[int(4)] + make_float3 (pSH5_1) * (*sh_coeffs_11)[int(5)] + make_float3 (pSH6_1) * (*sh_coeffs_11)[int(6)] + make_float3 (pSH7_1) * (*sh_coeffs_11)[int(7)] + make_float3 (pSH8_1) * (*sh_coeffs_11)[int(8)]) + (make_float3 (pSH9_1) * (*sh_coeffs_11)[int(9)] + make_float3 (pSH10_1) * (*sh_coeffs_11)[int(10)] + make_float3 (pSH11_1) * (*sh_coeffs_11)[int(11)] + make_float3 (pSH12_1) * (*sh_coeffs_11)[int(12)] + make_float3 (pSH13_1) * (*sh_coeffs_11)[int(13)] + make_float3 (pSH14_1) * (*sh_coeffs_11)[int(14)] + make_float3 (pSH15_1) * (*sh_coeffs_11)[int(15)]) + make_float3 (0.5f);
    (&_S1944)->differential_0 = _S1943;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S1945;
    (&_S1945)->primal_0 = _S1942;
    (&_S1945)->differential_0 = _S1943;
    s_bwd_prop_max_0(&_S1944, &_S1945, v_rgb_1);
    float3  _S1946 = _S1940 * _S1944.differential_0;
    float3  _S1947 = (*sh_coeffs_11)[int(15)] * _S1944.differential_0;
    float3  _S1948 = _S1938 * _S1944.differential_0;
    float3  _S1949 = (*sh_coeffs_11)[int(14)] * _S1944.differential_0;
    float3  _S1950 = _S1936 * _S1944.differential_0;
    float3  _S1951 = (*sh_coeffs_11)[int(13)] * _S1944.differential_0;
    float3  _S1952 = _S1935 * _S1944.differential_0;
    float3  _S1953 = (*sh_coeffs_11)[int(12)] * _S1944.differential_0;
    float3  _S1954 = _S1937 * _S1944.differential_0;
    float3  _S1955 = (*sh_coeffs_11)[int(11)] * _S1944.differential_0;
    float3  _S1956 = _S1939 * _S1944.differential_0;
    float3  _S1957 = (*sh_coeffs_11)[int(10)] * _S1944.differential_0;
    float3  _S1958 = _S1941 * _S1944.differential_0;
    float3  _S1959 = (*sh_coeffs_11)[int(9)] * _S1944.differential_0;
    float s_diff_fS2_T_1 = -0.59004360437393188f * (_S1959.x + _S1959.y + _S1959.z);
    float s_diff_fC2_T_1 = -0.59004360437393188f * (_S1947.x + _S1947.y + _S1947.z);
    float _S1960 = _S1957.x + _S1957.y + _S1957.z;
    float _S1961 = _S1949.x + _S1949.y + _S1949.z;
    float _S1962 = _S1955.x + _S1955.y + _S1955.z;
    float _S1963 = _S1951.x + _S1951.y + _S1951.z;
    float _S1964 = _S1953.x + _S1953.y + _S1953.z;
    float _S1965 = - s_diff_fC2_T_1;
    float3  _S1966 = _S1932 * _S1944.differential_0;
    float3  _S1967 = (*sh_coeffs_11)[int(8)] * _S1944.differential_0;
    float3  _S1968 = _S1930 * _S1944.differential_0;
    float3  _S1969 = (*sh_coeffs_11)[int(7)] * _S1944.differential_0;
    float3  _S1970 = _S1929 * _S1944.differential_0;
    float3  _S1971 = (*sh_coeffs_11)[int(6)] * _S1944.differential_0;
    float3  _S1972 = _S1931 * _S1944.differential_0;
    float3  _S1973 = (*sh_coeffs_11)[int(5)] * _S1944.differential_0;
    float3  _S1974 = _S1933 * _S1944.differential_0;
    float3  _S1975 = (*sh_coeffs_11)[int(4)] * _S1944.differential_0;
    float _S1976 = _S1973.x + _S1973.y + _S1973.z;
    float _S1977 = _S1969.x + _S1969.y + _S1969.z;
    float _S1978 = fTmp1B_11 * _S1960 + x_36 * s_diff_fS2_T_1 + y_14 * _S1965 + 0.54627424478530884f * (_S1975.x + _S1975.y + _S1975.z);
    float _S1979 = fTmp1B_11 * _S1961 + y_14 * s_diff_fS2_T_1 + x_36 * s_diff_fC2_T_1 + 0.54627424478530884f * (_S1967.x + _S1967.y + _S1967.z);
    float _S1980 = y_14 * - _S1979;
    float _S1981 = x_36 * _S1979;
    float _S1982 = z_11 * (1.86588168144226074f * (z_11 * _S1964) + -2.28522896766662598f * (y_14 * _S1962 + x_36 * _S1963) + 0.94617468118667603f * (_S1971.x + _S1971.y + _S1971.z));
    float3  _S1983 = make_float3 (0.48860251903533936f) * _S1944.differential_0;
    float3  _S1984 = - _S1983;
    float3  _S1985 = _S1923 * _S1984;
    float3  _S1986 = (*sh_coeffs_11)[int(3)] * _S1984;
    float3  _S1987 = _S1925 * _S1983;
    float3  _S1988 = (*sh_coeffs_11)[int(2)] * _S1983;
    float3  _S1989 = _S1927 * _S1983;
    float3  _S1990 = (*sh_coeffs_11)[int(1)] * _S1983;
    float _S1991 = (_S1934 * _S1964 + 1.44530570507049561f * (fS1_11 * _S1960 + fC1_11 * _S1961) + -1.09254848957061768f * (y_14 * _S1976 + x_36 * _S1977) + _S1982 + _S1982 + _S1988.x + _S1988.y + _S1988.z) / _S1924;
    float _S1992 = _S1922 * _S1991;
    float _S1993 = (fTmp0C_11 * _S1962 + fC1_11 * s_diff_fS2_T_1 + fS1_11 * _S1965 + fTmp0B_11 * _S1976 + _S1928 * _S1978 + _S1980 + _S1980 + - (_S1990.x + _S1990.y + _S1990.z)) / _S1924;
    float _S1994 = _S1922 * _S1993;
    float _S1995 = (fTmp0C_11 * _S1963 + fS1_11 * s_diff_fS2_T_1 + fC1_11 * s_diff_fC2_T_1 + fTmp0B_11 * _S1977 + 2.0f * (y_14 * _S1978) + _S1981 + _S1981 + _S1986.x + _S1986.y + _S1986.z) / _S1924;
    float _S1996 = _S1922 * _S1995;
    float _S1997 = _S1920 * - _S1991 + _S1919 * - _S1993 + _S1918 * - _S1995;
    DiffPair_float_0 _S1998;
    (&_S1998)->primal_0 = _S1921;
    (&_S1998)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S1998, _S1997);
    float _S1999 = _S1920 * _S1998.differential_0;
    float _S2000 = _S1919 * _S1998.differential_0;
    float _S2001 = _S1918 * _S1998.differential_0;
    float3  _S2002 = make_float3 (0.282094806432724f) * _S1944.differential_0;
    float3  _S2003 = make_float3 (_S1996 + _S2001 + _S2001, _S1994 + _S2000 + _S2000, _S1992 + _S1999 + _S1999);
    float3  _S2004 = - - _S2003;
    Matrix<float, 3, 3>  _S2005 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2006;
    (&_S2006)->primal_0 = _S1888;
    (&_S2006)->differential_0 = _S2005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2007;
    (&_S2007)->primal_0 = t_14;
    (&_S2007)->differential_0 = _S1943;
    s_bwd_prop_mul_1(&_S2006, &_S2007, _S2004);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2008 = _S2006;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2009 = _S2007;
    float2  _S2010 = _S1891;
    *&((&_S2010)->y) = v_conic_1.z;
    float2  _S2011 = _S1891;
    *&((&_S2011)->y) = v_conic_1.y;
    *&((&_S2011)->x) = v_conic_1.x;
    DiffPair_float_0 _S2012;
    (&_S2012)->primal_0 = _S1916;
    (&_S2012)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2012, 0.0f);
    DiffPair_float_0 _S2013;
    (&_S2013)->primal_0 = _S1915;
    (&_S2013)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2013, 0.0f);
    DiffPair_float_0 _S2014;
    (&_S2014)->primal_0 = 3.32999992370605469f;
    (&_S2014)->differential_0 = 0.0f;
    DiffPair_float_0 _S2015;
    (&_S2015)->primal_0 = _S1914;
    (&_S2015)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2014, &_S2015, 0.0f);
    DiffPair_float_0 _S2016;
    (&_S2016)->primal_0 = _S1913;
    (&_S2016)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2016, _S2015.differential_0);
    float _S2017 = 2.0f * _S2016.differential_0;
    DiffPair_float_0 _S2018;
    (&_S2018)->primal_0 = _S1912;
    (&_S2018)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2018, _S2017);
    float2  _S2019 = make_float2 (_S2013.differential_0, 0.0f);
    float _S2020 = v_opacity_1 + 254.9999847412109375f * _S2018.differential_0;
    FixedArray<float3 , 16>  _S2021;
    _S2021[int(0)] = _S1943;
    _S2021[int(1)] = _S1943;
    _S2021[int(2)] = _S1943;
    _S2021[int(3)] = _S1943;
    _S2021[int(4)] = _S1943;
    _S2021[int(5)] = _S1943;
    _S2021[int(6)] = _S1943;
    _S2021[int(7)] = _S1943;
    _S2021[int(8)] = _S1943;
    _S2021[int(9)] = _S1943;
    _S2021[int(10)] = _S1943;
    _S2021[int(11)] = _S1943;
    _S2021[int(12)] = _S1943;
    _S2021[int(13)] = _S1943;
    _S2021[int(14)] = _S1943;
    _S2021[int(15)] = _S1943;
    _S2021[int(7)] = _S1968;
    _S2021[int(0)] = _S2002;
    _S2021[int(1)] = _S1989;
    _S2021[int(2)] = _S1987;
    _S2021[int(3)] = _S1985;
    _S2021[int(4)] = _S1974;
    _S2021[int(5)] = _S1972;
    _S2021[int(6)] = _S1970;
    _S2021[int(15)] = _S1946;
    _S2021[int(8)] = _S1966;
    _S2021[int(9)] = _S1958;
    _S2021[int(10)] = _S1956;
    _S2021[int(11)] = _S1954;
    _S2021[int(12)] = _S1952;
    _S2021[int(13)] = _S1950;
    _S2021[int(14)] = _S1948;
    float3  _S2022 = _S2021[int(0)];
    float3  _S2023 = _S2021[int(1)];
    float3  _S2024 = _S2021[int(2)];
    float3  _S2025 = _S2021[int(3)];
    float3  _S2026 = _S2021[int(4)];
    float3  _S2027 = _S2021[int(5)];
    float3  _S2028 = _S2021[int(6)];
    float3  _S2029 = _S2021[int(7)];
    float3  _S2030 = _S2021[int(8)];
    float3  _S2031 = _S2021[int(9)];
    float3  _S2032 = _S2021[int(10)];
    float3  _S2033 = _S2021[int(11)];
    float3  _S2034 = _S2021[int(12)];
    float3  _S2035 = _S2021[int(13)];
    float3  _S2036 = _S2021[int(14)];
    float3  _S2037 = _S2021[int(15)];
    Matrix<float, 2, 2>  _S2038 = _S1876;
    _S2038[int(1)] = _S2010;
    _S2038[int(0)] = _S2011;
    Matrix<float, 2, 2>  _S2039 = _S2038;
    float2  _S2040 = make_float2 (0.0f, _S2012.differential_0);
    float _S2041;
    if(antialiased_11)
    {
        float _S2042 = _S1909 * _S2020;
        _S1911 = _S1904 * _S2020;
        _S2041 = _S2042;
    }
    else
    {
        _S1911 = _S2020;
        _S2041 = 0.0f;
    }
    float _S2043 = - (_S1911 / _S1910);
    DiffPair_float_0 _S2044;
    (&_S2044)->primal_0 = _S1907;
    (&_S2044)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2044, _S2043);
    float _S2045 = - _S2044.differential_0;
    float _S2046 = invdet_8 * _S2039.rows[int(1)].y;
    float _S2047 = - (invdet_8 * _S2039.rows[int(1)].x);
    float _S2048 = - (invdet_8 * _S2039.rows[int(0)].y);
    float _S2049 = invdet_8 * _S2039.rows[int(0)].x;
    float _S2050 = - ((_S1896 * _S2039.rows[int(1)].y + _S1906 * _S2039.rows[int(1)].x + _S1905 * _S2039.rows[int(0)].y + _S1898 * _S2039.rows[int(0)].x) / _S1902);
    DiffPair_float_0 _S2051;
    (&_S2051)->primal_0 = _S1903;
    (&_S2051)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2051, _S2041);
    DiffPair_float_0 _S2052;
    (&_S2052)->primal_0 = 0.0f;
    (&_S2052)->differential_0 = 0.0f;
    DiffPair_float_0 _S2053;
    (&_S2053)->primal_0 = _S1901;
    (&_S2053)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2052, &_S2053, _S2051.differential_0);
    float _S2054 = _S2053.differential_0 / _S1902;
    float s_diff_det_orig_T_1 = det_blur_7 * _S2054;
    float _S2055 = _S2050 + det_orig_12 * - _S2054;
    float _S2056 = - _S2055;
    float _S2057 = _S1896 * _S2055;
    float _S2058 = _S1898 * _S2055;
    Matrix<float, 2, 2>  _S2059 = _S1876;
    _S2059[int(1)] = _S2040;
    _S2059[int(0)] = _S2019;
    _S1897 = _S2059;
    *&(((&_S1897)->rows + (int(1)))->y) = 0.0f;
    float _S2060 = _S2049 + _S2057 + _S2059.rows[int(1)].y;
    *&(((&_S1897)->rows + (int(0)))->x) = 0.0f;
    float _S2061 = _S2046 + _S2058 + _S2059.rows[int(0)].x;
    float _S2062 = _S2056 + - s_diff_det_orig_T_1;
    float _S2063 = _S2047 + _S1894._S1191.rows[int(0)].y * _S2062;
    float _S2064 = _S2048 + _S1894._S1191.rows[int(1)].x * _S2062;
    float _S2065 = _S1894._S1191.rows[int(1)].y * s_diff_det_orig_T_1;
    float _S2066 = _S2060 + _S1894._S1191.rows[int(0)].x * s_diff_det_orig_T_1;
    float2  _S2067 = _S1891;
    *&((&_S2067)->x) = _S2063;
    *&((&_S2067)->y) = _S2066;
    float _S2068 = _S2061 + _S2065;
    float2  _S2069 = _S1891;
    *&((&_S2069)->y) = _S2064;
    *&((&_S2069)->x) = _S2068;
    Matrix<float, 2, 2>  _S2070 = _S1876;
    _S2070[int(1)] = _S2067;
    _S2070[int(0)] = _S2069;
    Matrix<float, 2, 2>  _S2071 = _S1897 + _S2070;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2072;
    (&_S2072)->primal_0 = mean_c_11;
    (&_S2072)->differential_0 = _S1943;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2073;
    (&_S2073)->primal_0 = _S1889;
    (&_S2073)->differential_0 = _S2005;
    float4  _S2074 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S2075;
    (&_S2075)->primal_0 = intrins_11;
    (&_S2075)->differential_0 = _S2074;
    FixedArray<float, 10>  _S2076 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C10x3E_0 _S2077;
    (&_S2077)->primal_0 = *dist_coeffs_24;
    (&_S2077)->differential_0 = _S2076;
    s_bwd_prop_fisheye_proj_3dgs_Intermediates_0 _S2078 = _S1894._S1192;
    s_bwd_prop_fisheye_proj_3dgs_0(&_S2072, &_S2073, &_S2075, &_S2077, _S2071, v_mean2d_1, &_S2078);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2079;
    (&_S2079)->primal_0 = _S1887;
    (&_S2079)->differential_0 = _S2005;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2080;
    (&_S2080)->primal_0 = _S1888;
    (&_S2080)->differential_0 = _S2005;
    s_bwd_prop_mul_4(&_S2079, &_S2080, _S2073.differential_0);
    Matrix<float, 3, 3>  _S2081 = transpose_0(_S2080.differential_0 + _S2008.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2082;
    (&_S2082)->primal_0 = R_18;
    (&_S2082)->differential_0 = _S2005;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2083;
    (&_S2083)->primal_0 = _S1886;
    (&_S2083)->differential_0 = _S2005;
    s_bwd_prop_mul_4(&_S2082, &_S2083, _S2079.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2084;
    (&_S2084)->primal_0 = _S1884;
    (&_S2084)->differential_0 = _S2005;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2085;
    (&_S2085)->primal_0 = _S1885;
    (&_S2085)->differential_0 = _S2005;
    s_bwd_prop_mul_4(&_S2084, &_S2085, _S2083.differential_0);
    Matrix<float, 3, 3>  _S2086 = _S2084.differential_0 + transpose_0(_S2085.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2087;
    (&_S2087)->primal_0 = _S1883;
    (&_S2087)->differential_0 = _S2005;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2088;
    (&_S2088)->primal_0 = S_1;
    (&_S2088)->differential_0 = _S2005;
    s_bwd_prop_mul_4(&_S2087, &_S2088, _S2086);
    Matrix<float, 3, 3>  _S2089 = transpose_0(_S2087.differential_0);
    float _S2090 = 2.0f * - _S2089.rows[int(2)].z;
    float _S2091 = 2.0f * _S2089.rows[int(2)].y;
    float _S2092 = 2.0f * _S2089.rows[int(2)].x;
    float _S2093 = 2.0f * _S2089.rows[int(1)].z;
    float _S2094 = 2.0f * - _S2089.rows[int(1)].y;
    float _S2095 = 2.0f * _S2089.rows[int(1)].x;
    float _S2096 = 2.0f * _S2089.rows[int(0)].z;
    float _S2097 = 2.0f * _S2089.rows[int(0)].y;
    float _S2098 = 2.0f * - _S2089.rows[int(0)].x;
    float _S2099 = - _S2095 + _S2097;
    float _S2100 = _S2092 + - _S2096;
    float _S2101 = - _S2091 + _S2093;
    float _S2102 = _S2091 + _S2093;
    float _S2103 = _S2092 + _S2096;
    float _S2104 = _S2095 + _S2097;
    float _S2105 = quat_15.w * (_S2094 + _S2098);
    float _S2106 = quat_15.z * (_S2090 + _S2098);
    float _S2107 = quat_15.y * (_S2090 + _S2094);
    float _S2108 = quat_15.x * _S2099 + quat_15.z * _S2102 + quat_15.y * _S2103 + _S2105 + _S2105;
    float _S2109 = quat_15.x * _S2100 + quat_15.w * _S2102 + quat_15.y * _S2104 + _S2106 + _S2106;
    float _S2110 = quat_15.x * _S2101 + quat_15.w * _S2103 + quat_15.z * _S2104 + _S2107 + _S2107;
    float _S2111 = quat_15.w * _S2099 + quat_15.z * _S2100 + quat_15.y * _S2101;
    float3  _S2112 = _S1943;
    *&((&_S2112)->z) = _S2088.differential_0.rows[int(2)].z;
    *&((&_S2112)->y) = _S2088.differential_0.rows[int(1)].y;
    *&((&_S2112)->x) = _S2088.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2113;
    (&_S2113)->primal_0 = scale_14;
    (&_S2113)->differential_0 = _S1943;
    s_bwd_prop_exp_1(&_S2113, _S2112);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2114 = _S2113;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2115;
    (&_S2115)->primal_0 = mean_c_11;
    (&_S2115)->differential_0 = _S1943;
    s_bwd_length_impl_1(&_S2115, v_depth_1);
    float3  _S2116 = _S2072.differential_0 + _S2115.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2117;
    (&_S2117)->primal_0 = R_18;
    (&_S2117)->differential_0 = _S2005;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2118;
    (&_S2118)->primal_0 = mean_12;
    (&_S2118)->differential_0 = _S1943;
    s_bwd_prop_mul_1(&_S2117, &_S2118, _S2116);
    float3  _S2119 = _S2116 + _S2009.differential_0;
    Matrix<float, 3, 3>  _S2120 = _S2081 + _S2082.differential_0 + _S2117.differential_0;
    float4  _S2121 = _S2074;
    *&((&_S2121)->w) = _S2108;
    *&((&_S2121)->z) = _S2109;
    *&((&_S2121)->y) = _S2110;
    *&((&_S2121)->x) = _S2111;
    float4  _S2122 = _S2121;
    float3  _S2123 = _S2118.differential_0 + _S2003;
    *v_mean_1 = _S2123;
    *v_quat_1 = _S2122;
    *v_scale_1 = _S2114.differential_0;
    *v_in_opacity_1 = _S2045;
    (*v_sh_coeffs_1)[int(0)] = _S2022;
    (*v_sh_coeffs_1)[int(1)] = _S2023;
    (*v_sh_coeffs_1)[int(2)] = _S2024;
    (*v_sh_coeffs_1)[int(3)] = _S2025;
    (*v_sh_coeffs_1)[int(4)] = _S2026;
    (*v_sh_coeffs_1)[int(5)] = _S2027;
    (*v_sh_coeffs_1)[int(6)] = _S2028;
    (*v_sh_coeffs_1)[int(7)] = _S2029;
    (*v_sh_coeffs_1)[int(8)] = _S2030;
    (*v_sh_coeffs_1)[int(9)] = _S2031;
    (*v_sh_coeffs_1)[int(10)] = _S2032;
    (*v_sh_coeffs_1)[int(11)] = _S2033;
    (*v_sh_coeffs_1)[int(12)] = _S2034;
    (*v_sh_coeffs_1)[int(13)] = _S2035;
    (*v_sh_coeffs_1)[int(14)] = _S2036;
    (*v_sh_coeffs_1)[int(15)] = _S2037;
    *v_R_3 = _S2120;
    *v_t_2 = _S2119;
    return;
}

inline __device__ void projection_3dgs_ortho_vjp(bool antialiased_12, float3  mean_13, float4  quat_16, float3  scale_15, float in_opacity_12, FixedArray<float3 , 16>  * sh_coeffs_12, Matrix<float, 3, 3>  R_19, float3  t_15, float fx_21, float fy_21, float cx_16, float cy_16, FixedArray<float, 10>  * dist_coeffs_25, uint image_width_12, uint image_height_12, float2  v_mean2d_2, float v_depth_2, float3  v_conic_2, float v_opacity_2, float3  v_rgb_2, float3  * v_mean_2, float4  * v_quat_2, float3  * v_scale_2, float * v_in_opacity_2, FixedArray<float3 , 16>  * v_sh_coeffs_2, Matrix<float, 3, 3>  * v_R_4, float3  * v_t_3)
{
    float3  mean_c_12 = s_primal_ctx_mul_0(R_19, mean_13) + t_15;
    float3  _S2124 = s_primal_ctx_exp_0(scale_15);
    float _S2125 = quat_16.y;
    float x2_16 = _S2125 * _S2125;
    float y2_16 = quat_16.z * quat_16.z;
    float z2_28 = quat_16.w * quat_16.w;
    float xy_16 = quat_16.y * quat_16.z;
    float xz_16 = quat_16.y * quat_16.w;
    float yz_16 = quat_16.z * quat_16.w;
    float wx_16 = quat_16.x * quat_16.y;
    float wy_16 = quat_16.x * quat_16.z;
    float wz_16 = quat_16.x * quat_16.w;
    Matrix<float, 3, 3>  _S2126 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_16 + z2_28), 2.0f * (xy_16 + wz_16), 2.0f * (xz_16 - wy_16), 2.0f * (xy_16 - wz_16), 1.0f - 2.0f * (x2_16 + z2_28), 2.0f * (yz_16 + wx_16), 2.0f * (xz_16 + wy_16), 2.0f * (yz_16 - wx_16), 1.0f - 2.0f * (x2_16 + y2_16)));
    Matrix<float, 3, 3>  S_2 = makeMatrix<float, 3, 3> (_S2124.x, 0.0f, 0.0f, 0.0f, _S2124.y, 0.0f, 0.0f, 0.0f, _S2124.z);
    Matrix<float, 3, 3>  _S2127 = s_primal_ctx_mul_1(_S2126, S_2);
    Matrix<float, 3, 3>  _S2128 = transpose_0(_S2127);
    Matrix<float, 3, 3>  _S2129 = s_primal_ctx_mul_1(_S2127, _S2128);
    Matrix<float, 3, 3>  _S2130 = s_primal_ctx_mul_1(R_19, _S2129);
    Matrix<float, 3, 3>  _S2131 = transpose_0(R_19);
    Matrix<float, 3, 3>  _S2132 = s_primal_ctx_mul_1(_S2130, _S2131);
    Matrix<float, 2, 3>  J_11 = makeMatrix<float, 2, 3> (fx_21, 0.0f, 0.0f, 0.0f, fy_21, 0.0f);
    Matrix<float, 2, 3>  _S2133 = s_primal_ctx_mul_2(J_11, _S2132);
    Matrix<float, 3, 2>  _S2134 = transpose_1(J_11);
    Matrix<float, 2, 2>  _S2135 = s_primal_ctx_mul_3(_S2133, _S2134);
    float _S2136 = _S2135.rows[int(0)].y * _S2135.rows[int(1)].x;
    float det_orig_13 = _S2135.rows[int(0)].x * _S2135.rows[int(1)].y - _S2136;
    float _S2137 = _S2135.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2138 = _S2135;
    *&(((&_S2138)->rows + (int(0)))->x) = _S2137;
    float _S2139 = _S2135.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2138)->rows + (int(1)))->y) = _S2139;
    Matrix<float, 2, 2>  _S2140 = _S2138;
    Matrix<float, 2, 2>  _S2141 = _S2138;
    float det_blur_8 = _S2137 * _S2139 - _S2136;
    float _S2142 = det_orig_13 / det_blur_8;
    float _S2143 = det_blur_8 * det_blur_8;
    float _S2144 = s_primal_ctx_max_0(0.0f, _S2142);
    float _S2145 = s_primal_ctx_sqrt_0(_S2144);
    float invdet_9 = 1.0f / det_blur_8;
    float _S2146 = - _S2135.rows[int(0)].y;
    float _S2147 = - _S2135.rows[int(1)].x;
    float _S2148 = - in_opacity_12;
    float _S2149 = 1.0f + s_primal_ctx_exp_1(_S2148);
    float _S2150 = 1.0f / _S2149;
    float _S2151 = _S2149 * _S2149;
    float _S2152;
    if(antialiased_12)
    {
        _S2152 = _S2150 * _S2145;
    }
    else
    {
        _S2152 = _S2150;
    }
    float _S2153 = _S2152 / 0.00392156885936856f;
    float _S2154 = 2.0f * s_primal_ctx_log_0(_S2153);
    float _S2155 = s_primal_ctx_sqrt_0(_S2154);
    float _S2156 = _S2140.rows[int(0)].x;
    float _S2157 = _S2141.rows[int(1)].y;
    float3  _S2158 = mean_13 - - s_primal_ctx_mul_0(_S2131, t_15);
    float _S2159 = _S2158.x;
    float _S2160 = _S2158.y;
    float _S2161 = _S2158.z;
    float _S2162 = _S2159 * _S2159 + _S2160 * _S2160 + _S2161 * _S2161;
    float _S2163 = s_primal_ctx_sqrt_0(_S2162);
    float x_37 = _S2159 / _S2163;
    float3  _S2164 = make_float3 (x_37);
    float _S2165 = _S2163 * _S2163;
    float y_15 = _S2160 / _S2163;
    float z_12 = _S2161 / _S2163;
    float3  _S2166 = make_float3 (z_12);
    float _S2167 = - y_15;
    float3  _S2168 = make_float3 (_S2167);
    float z2_29 = z_12 * z_12;
    float fTmp0B_12 = -1.09254848957061768f * z_12;
    float fC1_12 = x_37 * x_37 - y_15 * y_15;
    float _S2169 = 2.0f * x_37;
    float fS1_12 = _S2169 * y_15;
    float pSH6_2 = 0.94617468118667603f * z2_29 - 0.31539157032966614f;
    float3  _S2170 = make_float3 (pSH6_2);
    float pSH7_2 = fTmp0B_12 * x_37;
    float3  _S2171 = make_float3 (pSH7_2);
    float pSH5_2 = fTmp0B_12 * y_15;
    float3  _S2172 = make_float3 (pSH5_2);
    float pSH8_2 = 0.54627424478530884f * fC1_12;
    float3  _S2173 = make_float3 (pSH8_2);
    float pSH4_2 = 0.54627424478530884f * fS1_12;
    float3  _S2174 = make_float3 (pSH4_2);
    float fTmp0C_12 = -2.28522896766662598f * z2_29 + 0.4570457935333252f;
    float fTmp1B_12 = 1.44530570507049561f * z_12;
    float _S2175 = 1.86588168144226074f * z2_29 - 1.11952900886535645f;
    float pSH12_2 = z_12 * _S2175;
    float3  _S2176 = make_float3 (pSH12_2);
    float pSH13_2 = fTmp0C_12 * x_37;
    float3  _S2177 = make_float3 (pSH13_2);
    float pSH11_2 = fTmp0C_12 * y_15;
    float3  _S2178 = make_float3 (pSH11_2);
    float pSH14_2 = fTmp1B_12 * fC1_12;
    float3  _S2179 = make_float3 (pSH14_2);
    float pSH10_2 = fTmp1B_12 * fS1_12;
    float3  _S2180 = make_float3 (pSH10_2);
    float pSH15_2 = -0.59004360437393188f * (x_37 * fC1_12 - y_15 * fS1_12);
    float3  _S2181 = make_float3 (pSH15_2);
    float pSH9_2 = -0.59004360437393188f * (x_37 * fS1_12 + y_15 * fC1_12);
    float3  _S2182 = make_float3 (pSH9_2);
    float3  _S2183 = make_float3 (0.0f);
    float3  _S2184 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2185;
    (&_S2185)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_12)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2167) * (*sh_coeffs_12)[int(1)] + make_float3 (z_12) * (*sh_coeffs_12)[int(2)] - make_float3 (x_37) * (*sh_coeffs_12)[int(3)]) + (make_float3 (pSH4_2) * (*sh_coeffs_12)[int(4)] + make_float3 (pSH5_2) * (*sh_coeffs_12)[int(5)] + make_float3 (pSH6_2) * (*sh_coeffs_12)[int(6)] + make_float3 (pSH7_2) * (*sh_coeffs_12)[int(7)] + make_float3 (pSH8_2) * (*sh_coeffs_12)[int(8)]) + (make_float3 (pSH9_2) * (*sh_coeffs_12)[int(9)] + make_float3 (pSH10_2) * (*sh_coeffs_12)[int(10)] + make_float3 (pSH11_2) * (*sh_coeffs_12)[int(11)] + make_float3 (pSH12_2) * (*sh_coeffs_12)[int(12)] + make_float3 (pSH13_2) * (*sh_coeffs_12)[int(13)] + make_float3 (pSH14_2) * (*sh_coeffs_12)[int(14)] + make_float3 (pSH15_2) * (*sh_coeffs_12)[int(15)]) + make_float3 (0.5f);
    (&_S2185)->differential_0 = _S2184;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2186;
    (&_S2186)->primal_0 = _S2183;
    (&_S2186)->differential_0 = _S2184;
    s_bwd_prop_max_0(&_S2185, &_S2186, v_rgb_2);
    float3  _S2187 = _S2181 * _S2185.differential_0;
    float3  _S2188 = (*sh_coeffs_12)[int(15)] * _S2185.differential_0;
    float3  _S2189 = _S2179 * _S2185.differential_0;
    float3  _S2190 = (*sh_coeffs_12)[int(14)] * _S2185.differential_0;
    float3  _S2191 = _S2177 * _S2185.differential_0;
    float3  _S2192 = (*sh_coeffs_12)[int(13)] * _S2185.differential_0;
    float3  _S2193 = _S2176 * _S2185.differential_0;
    float3  _S2194 = (*sh_coeffs_12)[int(12)] * _S2185.differential_0;
    float3  _S2195 = _S2178 * _S2185.differential_0;
    float3  _S2196 = (*sh_coeffs_12)[int(11)] * _S2185.differential_0;
    float3  _S2197 = _S2180 * _S2185.differential_0;
    float3  _S2198 = (*sh_coeffs_12)[int(10)] * _S2185.differential_0;
    float3  _S2199 = _S2182 * _S2185.differential_0;
    float3  _S2200 = (*sh_coeffs_12)[int(9)] * _S2185.differential_0;
    float s_diff_fS2_T_2 = -0.59004360437393188f * (_S2200.x + _S2200.y + _S2200.z);
    float s_diff_fC2_T_2 = -0.59004360437393188f * (_S2188.x + _S2188.y + _S2188.z);
    float _S2201 = _S2198.x + _S2198.y + _S2198.z;
    float _S2202 = _S2190.x + _S2190.y + _S2190.z;
    float _S2203 = _S2196.x + _S2196.y + _S2196.z;
    float _S2204 = _S2192.x + _S2192.y + _S2192.z;
    float _S2205 = _S2194.x + _S2194.y + _S2194.z;
    float _S2206 = - s_diff_fC2_T_2;
    float3  _S2207 = _S2173 * _S2185.differential_0;
    float3  _S2208 = (*sh_coeffs_12)[int(8)] * _S2185.differential_0;
    float3  _S2209 = _S2171 * _S2185.differential_0;
    float3  _S2210 = (*sh_coeffs_12)[int(7)] * _S2185.differential_0;
    float3  _S2211 = _S2170 * _S2185.differential_0;
    float3  _S2212 = (*sh_coeffs_12)[int(6)] * _S2185.differential_0;
    float3  _S2213 = _S2172 * _S2185.differential_0;
    float3  _S2214 = (*sh_coeffs_12)[int(5)] * _S2185.differential_0;
    float3  _S2215 = _S2174 * _S2185.differential_0;
    float3  _S2216 = (*sh_coeffs_12)[int(4)] * _S2185.differential_0;
    float _S2217 = _S2214.x + _S2214.y + _S2214.z;
    float _S2218 = _S2210.x + _S2210.y + _S2210.z;
    float _S2219 = fTmp1B_12 * _S2201 + x_37 * s_diff_fS2_T_2 + y_15 * _S2206 + 0.54627424478530884f * (_S2216.x + _S2216.y + _S2216.z);
    float _S2220 = fTmp1B_12 * _S2202 + y_15 * s_diff_fS2_T_2 + x_37 * s_diff_fC2_T_2 + 0.54627424478530884f * (_S2208.x + _S2208.y + _S2208.z);
    float _S2221 = y_15 * - _S2220;
    float _S2222 = x_37 * _S2220;
    float _S2223 = z_12 * (1.86588168144226074f * (z_12 * _S2205) + -2.28522896766662598f * (y_15 * _S2203 + x_37 * _S2204) + 0.94617468118667603f * (_S2212.x + _S2212.y + _S2212.z));
    float3  _S2224 = make_float3 (0.48860251903533936f) * _S2185.differential_0;
    float3  _S2225 = - _S2224;
    float3  _S2226 = _S2164 * _S2225;
    float3  _S2227 = (*sh_coeffs_12)[int(3)] * _S2225;
    float3  _S2228 = _S2166 * _S2224;
    float3  _S2229 = (*sh_coeffs_12)[int(2)] * _S2224;
    float3  _S2230 = _S2168 * _S2224;
    float3  _S2231 = (*sh_coeffs_12)[int(1)] * _S2224;
    float _S2232 = (_S2175 * _S2205 + 1.44530570507049561f * (fS1_12 * _S2201 + fC1_12 * _S2202) + -1.09254848957061768f * (y_15 * _S2217 + x_37 * _S2218) + _S2223 + _S2223 + _S2229.x + _S2229.y + _S2229.z) / _S2165;
    float _S2233 = _S2163 * _S2232;
    float _S2234 = (fTmp0C_12 * _S2203 + fC1_12 * s_diff_fS2_T_2 + fS1_12 * _S2206 + fTmp0B_12 * _S2217 + _S2169 * _S2219 + _S2221 + _S2221 + - (_S2231.x + _S2231.y + _S2231.z)) / _S2165;
    float _S2235 = _S2163 * _S2234;
    float _S2236 = (fTmp0C_12 * _S2204 + fS1_12 * s_diff_fS2_T_2 + fC1_12 * s_diff_fC2_T_2 + fTmp0B_12 * _S2218 + 2.0f * (y_15 * _S2219) + _S2222 + _S2222 + _S2227.x + _S2227.y + _S2227.z) / _S2165;
    float _S2237 = _S2163 * _S2236;
    float _S2238 = _S2161 * - _S2232 + _S2160 * - _S2234 + _S2159 * - _S2236;
    DiffPair_float_0 _S2239;
    (&_S2239)->primal_0 = _S2162;
    (&_S2239)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2239, _S2238);
    float _S2240 = _S2161 * _S2239.differential_0;
    float _S2241 = _S2160 * _S2239.differential_0;
    float _S2242 = _S2159 * _S2239.differential_0;
    float3  _S2243 = make_float3 (0.282094806432724f) * _S2185.differential_0;
    float3  _S2244 = make_float3 (_S2237 + _S2242 + _S2242, _S2235 + _S2241 + _S2241, _S2233 + _S2240 + _S2240);
    float3  _S2245 = - - _S2244;
    Matrix<float, 3, 3>  _S2246 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2247;
    (&_S2247)->primal_0 = _S2131;
    (&_S2247)->differential_0 = _S2246;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2248;
    (&_S2248)->primal_0 = t_15;
    (&_S2248)->differential_0 = _S2184;
    s_bwd_prop_mul_1(&_S2247, &_S2248, _S2245);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2249 = _S2247;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2250 = _S2248;
    float2  _S2251 = make_float2 (0.0f);
    float2  _S2252 = _S2251;
    *&((&_S2252)->y) = v_conic_2.z;
    float2  _S2253 = _S2251;
    *&((&_S2253)->y) = v_conic_2.y;
    *&((&_S2253)->x) = v_conic_2.x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2254;
    (&_S2254)->primal_0 = mean_c_12;
    (&_S2254)->differential_0 = _S2184;
    s_bwd_length_impl_1(&_S2254, v_depth_2);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2255 = _S2254;
    DiffPair_float_0 _S2256;
    (&_S2256)->primal_0 = _S2157;
    (&_S2256)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2256, 0.0f);
    DiffPair_float_0 _S2257;
    (&_S2257)->primal_0 = _S2156;
    (&_S2257)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2257, 0.0f);
    DiffPair_float_0 _S2258;
    (&_S2258)->primal_0 = 3.32999992370605469f;
    (&_S2258)->differential_0 = 0.0f;
    DiffPair_float_0 _S2259;
    (&_S2259)->primal_0 = _S2155;
    (&_S2259)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2258, &_S2259, 0.0f);
    DiffPair_float_0 _S2260;
    (&_S2260)->primal_0 = _S2154;
    (&_S2260)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2260, _S2259.differential_0);
    float _S2261 = 2.0f * _S2260.differential_0;
    DiffPair_float_0 _S2262;
    (&_S2262)->primal_0 = _S2153;
    (&_S2262)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2262, _S2261);
    float _S2263 = v_opacity_2 + 254.9999847412109375f * _S2262.differential_0;
    Matrix<float, 2, 2>  _S2264 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S2265 = _S2264;
    _S2265[int(1)] = _S2252;
    _S2265[int(0)] = _S2253;
    Matrix<float, 2, 2>  _S2266 = _S2265;
    FixedArray<float3 , 16>  _S2267;
    _S2267[int(0)] = _S2184;
    _S2267[int(1)] = _S2184;
    _S2267[int(2)] = _S2184;
    _S2267[int(3)] = _S2184;
    _S2267[int(4)] = _S2184;
    _S2267[int(5)] = _S2184;
    _S2267[int(6)] = _S2184;
    _S2267[int(7)] = _S2184;
    _S2267[int(8)] = _S2184;
    _S2267[int(9)] = _S2184;
    _S2267[int(10)] = _S2184;
    _S2267[int(11)] = _S2184;
    _S2267[int(12)] = _S2184;
    _S2267[int(13)] = _S2184;
    _S2267[int(14)] = _S2184;
    _S2267[int(15)] = _S2184;
    _S2267[int(7)] = _S2209;
    _S2267[int(0)] = _S2243;
    _S2267[int(1)] = _S2230;
    _S2267[int(2)] = _S2228;
    _S2267[int(3)] = _S2226;
    _S2267[int(4)] = _S2215;
    _S2267[int(5)] = _S2213;
    _S2267[int(6)] = _S2211;
    _S2267[int(15)] = _S2187;
    _S2267[int(8)] = _S2207;
    _S2267[int(9)] = _S2199;
    _S2267[int(10)] = _S2197;
    _S2267[int(11)] = _S2195;
    _S2267[int(12)] = _S2193;
    _S2267[int(13)] = _S2191;
    _S2267[int(14)] = _S2189;
    float3  _S2268 = _S2267[int(0)];
    float3  _S2269 = _S2267[int(1)];
    float3  _S2270 = _S2267[int(2)];
    float3  _S2271 = _S2267[int(3)];
    float3  _S2272 = _S2267[int(4)];
    float3  _S2273 = _S2267[int(5)];
    float3  _S2274 = _S2267[int(6)];
    float3  _S2275 = _S2267[int(7)];
    float3  _S2276 = _S2267[int(8)];
    float3  _S2277 = _S2267[int(9)];
    float3  _S2278 = _S2267[int(10)];
    float3  _S2279 = _S2267[int(11)];
    float3  _S2280 = _S2267[int(12)];
    float3  _S2281 = _S2267[int(13)];
    float3  _S2282 = _S2267[int(14)];
    float3  _S2283 = _S2267[int(15)];
    float2  _S2284 = make_float2 (0.0f, _S2256.differential_0);
    float2  _S2285 = make_float2 (_S2257.differential_0, 0.0f);
    float _S2286;
    if(antialiased_12)
    {
        float _S2287 = _S2150 * _S2263;
        _S2152 = _S2145 * _S2263;
        _S2286 = _S2287;
    }
    else
    {
        _S2152 = _S2263;
        _S2286 = 0.0f;
    }
    float _S2288 = - (_S2152 / _S2151);
    DiffPair_float_0 _S2289;
    (&_S2289)->primal_0 = _S2148;
    (&_S2289)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2289, _S2288);
    float _S2290 = - _S2289.differential_0;
    float _S2291 = invdet_9 * _S2266.rows[int(1)].y;
    float _S2292 = - (invdet_9 * _S2266.rows[int(1)].x);
    float _S2293 = - (invdet_9 * _S2266.rows[int(0)].y);
    float _S2294 = invdet_9 * _S2266.rows[int(0)].x;
    float _S2295 = - ((_S2137 * _S2266.rows[int(1)].y + _S2147 * _S2266.rows[int(1)].x + _S2146 * _S2266.rows[int(0)].y + _S2139 * _S2266.rows[int(0)].x) / _S2143);
    DiffPair_float_0 _S2296;
    (&_S2296)->primal_0 = _S2144;
    (&_S2296)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2296, _S2286);
    DiffPair_float_0 _S2297;
    (&_S2297)->primal_0 = 0.0f;
    (&_S2297)->differential_0 = 0.0f;
    DiffPair_float_0 _S2298;
    (&_S2298)->primal_0 = _S2142;
    (&_S2298)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2297, &_S2298, _S2296.differential_0);
    float _S2299 = _S2298.differential_0 / _S2143;
    float s_diff_det_orig_T_2 = det_blur_8 * _S2299;
    float _S2300 = _S2295 + det_orig_13 * - _S2299;
    float _S2301 = - _S2300;
    float _S2302 = _S2137 * _S2300;
    float _S2303 = _S2139 * _S2300;
    Matrix<float, 2, 2>  _S2304 = _S2264;
    _S2304[int(1)] = _S2284;
    _S2304[int(0)] = _S2285;
    _S2138 = _S2304;
    *&(((&_S2138)->rows + (int(1)))->y) = 0.0f;
    float _S2305 = _S2294 + _S2302 + _S2304.rows[int(1)].y;
    *&(((&_S2138)->rows + (int(0)))->x) = 0.0f;
    float _S2306 = _S2291 + _S2303 + _S2304.rows[int(0)].x;
    float _S2307 = _S2301 + - s_diff_det_orig_T_2;
    float _S2308 = _S2292 + _S2135.rows[int(0)].y * _S2307;
    float _S2309 = _S2293 + _S2135.rows[int(1)].x * _S2307;
    float _S2310 = _S2135.rows[int(1)].y * s_diff_det_orig_T_2;
    float _S2311 = _S2305 + _S2135.rows[int(0)].x * s_diff_det_orig_T_2;
    float2  _S2312 = _S2251;
    *&((&_S2312)->x) = _S2308;
    *&((&_S2312)->y) = _S2311;
    float _S2313 = _S2306 + _S2310;
    float2  _S2314 = _S2251;
    *&((&_S2314)->y) = _S2309;
    *&((&_S2314)->x) = _S2313;
    float _S2315 = fy_21 * v_mean2d_2.y;
    float _S2316 = fx_21 * v_mean2d_2.x;
    Matrix<float, 2, 2>  _S2317 = _S2264;
    _S2317[int(1)] = _S2312;
    _S2317[int(0)] = _S2314;
    Matrix<float, 2, 2>  _S2318 = _S2138 + _S2317;
    Matrix<float, 2, 3>  _S2319 = makeMatrix<float, 2, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2320;
    (&_S2320)->primal_0 = _S2133;
    (&_S2320)->differential_0 = _S2319;
    Matrix<float, 3, 2>  _S2321 = makeMatrix<float, 3, 2> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C2x3E_0 _S2322;
    (&_S2322)->primal_0 = _S2134;
    (&_S2322)->differential_0 = _S2321;
    s_bwd_prop_mul_2(&_S2320, &_S2322, _S2318);
    DiffPair_matrixx3Cfloatx2C2x2C3x3E_0 _S2323;
    (&_S2323)->primal_0 = J_11;
    (&_S2323)->differential_0 = _S2319;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2324;
    (&_S2324)->primal_0 = _S2132;
    (&_S2324)->differential_0 = _S2246;
    s_bwd_prop_mul_3(&_S2323, &_S2324, _S2320.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2325;
    (&_S2325)->primal_0 = _S2130;
    (&_S2325)->differential_0 = _S2246;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2326;
    (&_S2326)->primal_0 = _S2131;
    (&_S2326)->differential_0 = _S2246;
    s_bwd_prop_mul_4(&_S2325, &_S2326, _S2324.differential_0);
    Matrix<float, 3, 3>  _S2327 = transpose_0(_S2326.differential_0 + _S2249.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2328;
    (&_S2328)->primal_0 = R_19;
    (&_S2328)->differential_0 = _S2246;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2329;
    (&_S2329)->primal_0 = _S2129;
    (&_S2329)->differential_0 = _S2246;
    s_bwd_prop_mul_4(&_S2328, &_S2329, _S2325.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2330;
    (&_S2330)->primal_0 = _S2127;
    (&_S2330)->differential_0 = _S2246;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2331;
    (&_S2331)->primal_0 = _S2128;
    (&_S2331)->differential_0 = _S2246;
    s_bwd_prop_mul_4(&_S2330, &_S2331, _S2329.differential_0);
    Matrix<float, 3, 3>  _S2332 = _S2330.differential_0 + transpose_0(_S2331.differential_0);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2333;
    (&_S2333)->primal_0 = _S2126;
    (&_S2333)->differential_0 = _S2246;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2334;
    (&_S2334)->primal_0 = S_2;
    (&_S2334)->differential_0 = _S2246;
    s_bwd_prop_mul_4(&_S2333, &_S2334, _S2332);
    Matrix<float, 3, 3>  _S2335 = transpose_0(_S2333.differential_0);
    float _S2336 = 2.0f * - _S2335.rows[int(2)].z;
    float _S2337 = 2.0f * _S2335.rows[int(2)].y;
    float _S2338 = 2.0f * _S2335.rows[int(2)].x;
    float _S2339 = 2.0f * _S2335.rows[int(1)].z;
    float _S2340 = 2.0f * - _S2335.rows[int(1)].y;
    float _S2341 = 2.0f * _S2335.rows[int(1)].x;
    float _S2342 = 2.0f * _S2335.rows[int(0)].z;
    float _S2343 = 2.0f * _S2335.rows[int(0)].y;
    float _S2344 = 2.0f * - _S2335.rows[int(0)].x;
    float _S2345 = - _S2341 + _S2343;
    float _S2346 = _S2338 + - _S2342;
    float _S2347 = - _S2337 + _S2339;
    float _S2348 = _S2337 + _S2339;
    float _S2349 = _S2338 + _S2342;
    float _S2350 = _S2341 + _S2343;
    float _S2351 = quat_16.w * (_S2340 + _S2344);
    float _S2352 = quat_16.z * (_S2336 + _S2344);
    float _S2353 = quat_16.y * (_S2336 + _S2340);
    float _S2354 = quat_16.x * _S2345 + quat_16.z * _S2348 + quat_16.y * _S2349 + _S2351 + _S2351;
    float _S2355 = quat_16.x * _S2346 + quat_16.w * _S2348 + quat_16.y * _S2350 + _S2352 + _S2352;
    float _S2356 = quat_16.x * _S2347 + quat_16.w * _S2349 + quat_16.z * _S2350 + _S2353 + _S2353;
    float _S2357 = quat_16.w * _S2345 + quat_16.z * _S2346 + quat_16.y * _S2347;
    float3  _S2358 = _S2184;
    *&((&_S2358)->z) = _S2334.differential_0.rows[int(2)].z;
    *&((&_S2358)->y) = _S2334.differential_0.rows[int(1)].y;
    *&((&_S2358)->x) = _S2334.differential_0.rows[int(0)].x;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2359;
    (&_S2359)->primal_0 = scale_15;
    (&_S2359)->differential_0 = _S2184;
    s_bwd_prop_exp_1(&_S2359, _S2358);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2360 = _S2359;
    float3  _S2361 = _S2184;
    *&((&_S2361)->y) = _S2315;
    *&((&_S2361)->x) = _S2316;
    float3  _S2362 = _S2255.differential_0 + _S2361;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2363;
    (&_S2363)->primal_0 = R_19;
    (&_S2363)->differential_0 = _S2246;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2364;
    (&_S2364)->primal_0 = mean_13;
    (&_S2364)->differential_0 = _S2184;
    s_bwd_prop_mul_1(&_S2363, &_S2364, _S2362);
    float3  _S2365 = _S2362 + _S2250.differential_0;
    Matrix<float, 3, 3>  _S2366 = _S2327 + _S2328.differential_0 + _S2363.differential_0;
    float4  _S2367 = make_float4 (0.0f);
    *&((&_S2367)->w) = _S2354;
    *&((&_S2367)->z) = _S2355;
    *&((&_S2367)->y) = _S2356;
    *&((&_S2367)->x) = _S2357;
    float4  _S2368 = _S2367;
    float3  _S2369 = _S2364.differential_0 + _S2244;
    *v_mean_2 = _S2369;
    *v_quat_2 = _S2368;
    *v_scale_2 = _S2360.differential_0;
    *v_in_opacity_2 = _S2290;
    (*v_sh_coeffs_2)[int(0)] = _S2268;
    (*v_sh_coeffs_2)[int(1)] = _S2269;
    (*v_sh_coeffs_2)[int(2)] = _S2270;
    (*v_sh_coeffs_2)[int(3)] = _S2271;
    (*v_sh_coeffs_2)[int(4)] = _S2272;
    (*v_sh_coeffs_2)[int(5)] = _S2273;
    (*v_sh_coeffs_2)[int(6)] = _S2274;
    (*v_sh_coeffs_2)[int(7)] = _S2275;
    (*v_sh_coeffs_2)[int(8)] = _S2276;
    (*v_sh_coeffs_2)[int(9)] = _S2277;
    (*v_sh_coeffs_2)[int(10)] = _S2278;
    (*v_sh_coeffs_2)[int(11)] = _S2279;
    (*v_sh_coeffs_2)[int(12)] = _S2280;
    (*v_sh_coeffs_2)[int(13)] = _S2281;
    (*v_sh_coeffs_2)[int(14)] = _S2282;
    (*v_sh_coeffs_2)[int(15)] = _S2283;
    *v_R_4 = _S2366;
    *v_t_3 = _S2365;
    return;
}

struct s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S2370;
};

inline __device__ void projection_3dgut_persp_vjp(bool antialiased_13, float3  mean_14, float4  quat_17, float3  scale_16, float in_opacity_13, FixedArray<float3 , 16>  * sh_coeffs_13, Matrix<float, 3, 3>  R_20, float3  t_16, float fx_22, float fy_22, float cx_17, float cy_17, FixedArray<float, 10>  * dist_coeffs_26, uint image_width_13, uint image_height_13, float2  v_mean2d_3, float v_depth_3, float3  v_conic_3, float v_opacity_3, float3  v_rgb_3, float3  * v_mean_3, float4  * v_quat_3, float3  * v_scale_3, float * v_in_opacity_3, FixedArray<float3 , 16>  * v_sh_coeffs_3, Matrix<float, 3, 3>  * v_R_5, float3  * v_t_4)
{
    Matrix<float, 2, 2>  _S2371 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2372;
    (&_S2372)->_S2370 = _S2371;
    float2  _S2373 = make_float2 (0.0f);
    float3  _S2374 = make_float3 (0.0f);
    float4  intrins_12 = make_float4 (fx_22, fy_22, cx_17, cy_17);
    float3  _S2375 = s_primal_ctx_exp_0(scale_16);
    float _S2376 = quat_17.y;
    float x2_17 = _S2376 * _S2376;
    float y2_17 = quat_17.z * quat_17.z;
    float z2_30 = quat_17.w * quat_17.w;
    float xy_17 = quat_17.y * quat_17.z;
    float xz_17 = quat_17.y * quat_17.w;
    float yz_17 = quat_17.z * quat_17.w;
    float wx_17 = quat_17.x * quat_17.y;
    float wy_17 = quat_17.x * quat_17.z;
    float wz_17 = quat_17.x * quat_17.w;
    Matrix<float, 3, 3>  _S2377 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_17 + z2_30), 2.0f * (xy_17 + wz_17), 2.0f * (xz_17 - wy_17), 2.0f * (xy_17 - wz_17), 1.0f - 2.0f * (x2_17 + z2_30), 2.0f * (yz_17 + wx_17), 2.0f * (xz_17 + wy_17), 2.0f * (yz_17 - wx_17), 1.0f - 2.0f * (x2_17 + y2_17))));
    FixedArray<float3 , 7>  _S2378 = {
        _S2374, _S2374, _S2374, _S2374, _S2374, _S2374, _S2374
    };
    FixedArray<float, 7>  _S2379 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S2380;
    (&_S2380)->p_0 = _S2378;
    (&_S2380)->w_mean_0 = _S2379;
    (&_S2380)->w_cov_0 = _S2379;
    (&_S2380)->p_0[int(0)] = mean_14;
    SigmaPoints_0 _S2381 = _S2380;
    (&_S2381)->w_mean_0[int(0)] = 0.0f;
    (&_S2381)->w_cov_0[int(0)] = 2.0f;
    float _S2382 = s_primal_ctx_sqrt_0(3.0f);
    float _S2383 = _S2382 * _S2375.x;
    float3  delta_12 = make_float3 (_S2383) * _S2377.rows[0U];
    float3  _S2384 = mean_14 + delta_12;
    float3  _S2385 = mean_14 - delta_12;
    float _S2386 = _S2382 * _S2375.y;
    float3  delta_13 = make_float3 (_S2386) * _S2377.rows[1U];
    float3  _S2387 = mean_14 + delta_13;
    float3  _S2388 = mean_14 - delta_13;
    float _S2389 = _S2382 * _S2375.z;
    float3  delta_14 = make_float3 (_S2389) * _S2377.rows[2U];
    float3  _S2390 = mean_14 + delta_14;
    float3  _S2391 = mean_14 - delta_14;
    (&_S2381)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S2381)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S2381)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S2381)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S2381)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S2381)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S2381)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S2381)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S2381)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S2381)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S2381)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S2381)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S2392 = _S2380;
    (&_S2381)->p_0[0U] = s_primal_ctx_mul_0(R_20, _S2380.p_0[0U]) + t_16;
    (&_S2381)->p_0[1U] = s_primal_ctx_mul_0(R_20, _S2384) + t_16;
    (&_S2381)->p_0[2U] = s_primal_ctx_mul_0(R_20, _S2387) + t_16;
    (&_S2381)->p_0[3U] = s_primal_ctx_mul_0(R_20, _S2390) + t_16;
    (&_S2381)->p_0[4U] = s_primal_ctx_mul_0(R_20, _S2385) + t_16;
    (&_S2381)->p_0[5U] = s_primal_ctx_mul_0(R_20, _S2388) + t_16;
    (&_S2381)->p_0[6U] = s_primal_ctx_mul_0(R_20, _S2391) + t_16;
    float2  _S2393 = _S2373;
    Matrix<float, 2, 2>  _S2394 = _S2371;
    SigmaPoints_0 _S2395 = _S2381;
    bool _S2396 = persp_proj_3dgs_ut_1(&_S2395, intrins_12, dist_coeffs_26, image_width_13, image_height_13, &_S2394, &_S2393);
    (&_S2372)->_S2370 = _S2394;
    s_bwd_prop_projection_3dgut_persp_differentiable_Intermediates_0 _S2397 = _S2372;
    float3  mean_c_13 = s_primal_ctx_mul_0(R_20, mean_14) + t_16;
    float3  _S2398 = make_float3 (_S2383);
    float3  _S2399 = make_float3 (_S2386);
    float3  _S2400 = make_float3 (_S2389);
    float _S2401 = _S2372._S2370.rows[int(0)].y * _S2372._S2370.rows[int(1)].x;
    float det_orig_14 = _S2372._S2370.rows[int(0)].x * _S2372._S2370.rows[int(1)].y - _S2401;
    float _S2402 = _S2372._S2370.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2403 = _S2372._S2370;
    *&(((&_S2403)->rows + (int(0)))->x) = _S2402;
    float _S2404 = _S2372._S2370.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2403)->rows + (int(1)))->y) = _S2404;
    Matrix<float, 2, 2>  _S2405 = _S2403;
    Matrix<float, 2, 2>  _S2406 = _S2403;
    float det_blur_9 = _S2402 * _S2404 - _S2401;
    float _S2407 = det_orig_14 / det_blur_9;
    float _S2408 = det_blur_9 * det_blur_9;
    float _S2409 = s_primal_ctx_max_0(0.0f, _S2407);
    float _S2410 = s_primal_ctx_sqrt_0(_S2409);
    float _S2411 = - in_opacity_13;
    float _S2412 = 1.0f + s_primal_ctx_exp_1(_S2411);
    float _S2413 = 1.0f / _S2412;
    float _S2414 = _S2412 * _S2412;
    float _S2415;
    if(antialiased_13)
    {
        _S2415 = _S2413 * _S2410;
    }
    else
    {
        _S2415 = _S2413;
    }
    float _S2416 = _S2415 / 0.00392156885936856f;
    float _S2417 = 2.0f * s_primal_ctx_log_0(_S2416);
    float _S2418 = s_primal_ctx_sqrt_0(_S2417);
    float _S2419 = _S2405.rows[int(0)].x;
    float _S2420 = _S2406.rows[int(1)].y;
    float _S2421 = mean_c_13.z;
    float _S2422 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S2423 = _S2422 * (_S2421 + length_1(mean_c_13));
    float3  _S2424 = - scale_16;
    Matrix<float, 3, 3>  _S2425 = transpose_0(R_20);
    float3  _S2426 = mean_14 - - s_primal_ctx_mul_0(_S2425, t_16);
    float _S2427 = _S2426.x;
    float _S2428 = _S2426.y;
    float _S2429 = _S2426.z;
    float _S2430 = _S2427 * _S2427 + _S2428 * _S2428 + _S2429 * _S2429;
    float _S2431 = s_primal_ctx_sqrt_0(_S2430);
    float x_38 = _S2427 / _S2431;
    float3  _S2432 = make_float3 (x_38);
    float _S2433 = _S2431 * _S2431;
    float y_16 = _S2428 / _S2431;
    float z_13 = _S2429 / _S2431;
    float3  _S2434 = make_float3 (z_13);
    float _S2435 = - y_16;
    float3  _S2436 = make_float3 (_S2435);
    float z2_31 = z_13 * z_13;
    float fTmp0B_13 = -1.09254848957061768f * z_13;
    float fC1_13 = x_38 * x_38 - y_16 * y_16;
    float _S2437 = 2.0f * x_38;
    float fS1_13 = _S2437 * y_16;
    float pSH6_3 = 0.94617468118667603f * z2_31 - 0.31539157032966614f;
    float3  _S2438 = make_float3 (pSH6_3);
    float pSH7_3 = fTmp0B_13 * x_38;
    float3  _S2439 = make_float3 (pSH7_3);
    float pSH5_3 = fTmp0B_13 * y_16;
    float3  _S2440 = make_float3 (pSH5_3);
    float pSH8_3 = 0.54627424478530884f * fC1_13;
    float3  _S2441 = make_float3 (pSH8_3);
    float pSH4_3 = 0.54627424478530884f * fS1_13;
    float3  _S2442 = make_float3 (pSH4_3);
    float fTmp0C_13 = -2.28522896766662598f * z2_31 + 0.4570457935333252f;
    float fTmp1B_13 = 1.44530570507049561f * z_13;
    float _S2443 = 1.86588168144226074f * z2_31 - 1.11952900886535645f;
    float pSH12_3 = z_13 * _S2443;
    float3  _S2444 = make_float3 (pSH12_3);
    float pSH13_3 = fTmp0C_13 * x_38;
    float3  _S2445 = make_float3 (pSH13_3);
    float pSH11_3 = fTmp0C_13 * y_16;
    float3  _S2446 = make_float3 (pSH11_3);
    float pSH14_3 = fTmp1B_13 * fC1_13;
    float3  _S2447 = make_float3 (pSH14_3);
    float pSH10_3 = fTmp1B_13 * fS1_13;
    float3  _S2448 = make_float3 (pSH10_3);
    float pSH15_3 = -0.59004360437393188f * (x_38 * fC1_13 - y_16 * fS1_13);
    float3  _S2449 = make_float3 (pSH15_3);
    float pSH9_3 = -0.59004360437393188f * (x_38 * fS1_13 + y_16 * fC1_13);
    float3  _S2450 = make_float3 (pSH9_3);
    float3  _S2451 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2452;
    (&_S2452)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_13)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2435) * (*sh_coeffs_13)[int(1)] + make_float3 (z_13) * (*sh_coeffs_13)[int(2)] - make_float3 (x_38) * (*sh_coeffs_13)[int(3)]) + (make_float3 (pSH4_3) * (*sh_coeffs_13)[int(4)] + make_float3 (pSH5_3) * (*sh_coeffs_13)[int(5)] + make_float3 (pSH6_3) * (*sh_coeffs_13)[int(6)] + make_float3 (pSH7_3) * (*sh_coeffs_13)[int(7)] + make_float3 (pSH8_3) * (*sh_coeffs_13)[int(8)]) + (make_float3 (pSH9_3) * (*sh_coeffs_13)[int(9)] + make_float3 (pSH10_3) * (*sh_coeffs_13)[int(10)] + make_float3 (pSH11_3) * (*sh_coeffs_13)[int(11)] + make_float3 (pSH12_3) * (*sh_coeffs_13)[int(12)] + make_float3 (pSH13_3) * (*sh_coeffs_13)[int(13)] + make_float3 (pSH14_3) * (*sh_coeffs_13)[int(14)] + make_float3 (pSH15_3) * (*sh_coeffs_13)[int(15)]) + make_float3 (0.5f);
    (&_S2452)->differential_0 = _S2374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2453;
    (&_S2453)->primal_0 = _S2451;
    (&_S2453)->differential_0 = _S2374;
    s_bwd_prop_max_0(&_S2452, &_S2453, v_rgb_3);
    float3  _S2454 = _S2449 * _S2452.differential_0;
    float3  _S2455 = (*sh_coeffs_13)[int(15)] * _S2452.differential_0;
    float3  _S2456 = _S2447 * _S2452.differential_0;
    float3  _S2457 = (*sh_coeffs_13)[int(14)] * _S2452.differential_0;
    float3  _S2458 = _S2445 * _S2452.differential_0;
    float3  _S2459 = (*sh_coeffs_13)[int(13)] * _S2452.differential_0;
    float3  _S2460 = _S2444 * _S2452.differential_0;
    float3  _S2461 = (*sh_coeffs_13)[int(12)] * _S2452.differential_0;
    float3  _S2462 = _S2446 * _S2452.differential_0;
    float3  _S2463 = (*sh_coeffs_13)[int(11)] * _S2452.differential_0;
    float3  _S2464 = _S2448 * _S2452.differential_0;
    float3  _S2465 = (*sh_coeffs_13)[int(10)] * _S2452.differential_0;
    float3  _S2466 = _S2450 * _S2452.differential_0;
    float3  _S2467 = (*sh_coeffs_13)[int(9)] * _S2452.differential_0;
    float s_diff_fS2_T_3 = -0.59004360437393188f * (_S2467.x + _S2467.y + _S2467.z);
    float s_diff_fC2_T_3 = -0.59004360437393188f * (_S2455.x + _S2455.y + _S2455.z);
    float _S2468 = _S2465.x + _S2465.y + _S2465.z;
    float _S2469 = _S2457.x + _S2457.y + _S2457.z;
    float _S2470 = _S2463.x + _S2463.y + _S2463.z;
    float _S2471 = _S2459.x + _S2459.y + _S2459.z;
    float _S2472 = _S2461.x + _S2461.y + _S2461.z;
    float _S2473 = - s_diff_fC2_T_3;
    float3  _S2474 = _S2441 * _S2452.differential_0;
    float3  _S2475 = (*sh_coeffs_13)[int(8)] * _S2452.differential_0;
    float3  _S2476 = _S2439 * _S2452.differential_0;
    float3  _S2477 = (*sh_coeffs_13)[int(7)] * _S2452.differential_0;
    float3  _S2478 = _S2438 * _S2452.differential_0;
    float3  _S2479 = (*sh_coeffs_13)[int(6)] * _S2452.differential_0;
    float3  _S2480 = _S2440 * _S2452.differential_0;
    float3  _S2481 = (*sh_coeffs_13)[int(5)] * _S2452.differential_0;
    float3  _S2482 = _S2442 * _S2452.differential_0;
    float3  _S2483 = (*sh_coeffs_13)[int(4)] * _S2452.differential_0;
    float _S2484 = _S2481.x + _S2481.y + _S2481.z;
    float _S2485 = _S2477.x + _S2477.y + _S2477.z;
    float _S2486 = fTmp1B_13 * _S2468 + x_38 * s_diff_fS2_T_3 + y_16 * _S2473 + 0.54627424478530884f * (_S2483.x + _S2483.y + _S2483.z);
    float _S2487 = fTmp1B_13 * _S2469 + y_16 * s_diff_fS2_T_3 + x_38 * s_diff_fC2_T_3 + 0.54627424478530884f * (_S2475.x + _S2475.y + _S2475.z);
    float _S2488 = y_16 * - _S2487;
    float _S2489 = x_38 * _S2487;
    float _S2490 = z_13 * (1.86588168144226074f * (z_13 * _S2472) + -2.28522896766662598f * (y_16 * _S2470 + x_38 * _S2471) + 0.94617468118667603f * (_S2479.x + _S2479.y + _S2479.z));
    float3  _S2491 = make_float3 (0.48860251903533936f) * _S2452.differential_0;
    float3  _S2492 = - _S2491;
    float3  _S2493 = _S2432 * _S2492;
    float3  _S2494 = (*sh_coeffs_13)[int(3)] * _S2492;
    float3  _S2495 = _S2434 * _S2491;
    float3  _S2496 = (*sh_coeffs_13)[int(2)] * _S2491;
    float3  _S2497 = _S2436 * _S2491;
    float3  _S2498 = (*sh_coeffs_13)[int(1)] * _S2491;
    float _S2499 = (_S2443 * _S2472 + 1.44530570507049561f * (fS1_13 * _S2468 + fC1_13 * _S2469) + -1.09254848957061768f * (y_16 * _S2484 + x_38 * _S2485) + _S2490 + _S2490 + _S2496.x + _S2496.y + _S2496.z) / _S2433;
    float _S2500 = _S2431 * _S2499;
    float _S2501 = (fTmp0C_13 * _S2470 + fC1_13 * s_diff_fS2_T_3 + fS1_13 * _S2473 + fTmp0B_13 * _S2484 + _S2437 * _S2486 + _S2488 + _S2488 + - (_S2498.x + _S2498.y + _S2498.z)) / _S2433;
    float _S2502 = _S2431 * _S2501;
    float _S2503 = (fTmp0C_13 * _S2471 + fS1_13 * s_diff_fS2_T_3 + fC1_13 * s_diff_fC2_T_3 + fTmp0B_13 * _S2485 + 2.0f * (y_16 * _S2486) + _S2489 + _S2489 + _S2494.x + _S2494.y + _S2494.z) / _S2433;
    float _S2504 = _S2431 * _S2503;
    float _S2505 = _S2429 * - _S2499 + _S2428 * - _S2501 + _S2427 * - _S2503;
    DiffPair_float_0 _S2506;
    (&_S2506)->primal_0 = _S2430;
    (&_S2506)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2506, _S2505);
    float _S2507 = _S2429 * _S2506.differential_0;
    float _S2508 = _S2428 * _S2506.differential_0;
    float _S2509 = _S2427 * _S2506.differential_0;
    float3  _S2510 = make_float3 (0.282094806432724f) * _S2452.differential_0;
    float3  _S2511 = make_float3 (_S2504 + _S2509 + _S2509, _S2502 + _S2508 + _S2508, _S2500 + _S2507 + _S2507);
    float3  _S2512 = - - _S2511;
    Matrix<float, 3, 3>  _S2513 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2514;
    (&_S2514)->primal_0 = _S2425;
    (&_S2514)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2515;
    (&_S2515)->primal_0 = t_16;
    (&_S2515)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2514, &_S2515, _S2512);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2516 = _S2515;
    Matrix<float, 3, 3>  _S2517 = transpose_0(_S2514.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2518;
    (&_S2518)->primal_0 = _S2424;
    (&_S2518)->differential_0 = _S2374;
    s_bwd_prop_exp_1(&_S2518, v_conic_3);
    float3  _S2519 = - _S2518.differential_0;
    DiffPair_float_0 _S2520;
    (&_S2520)->primal_0 = _S2421;
    (&_S2520)->differential_0 = 0.0f;
    DiffPair_float_0 _S2521;
    (&_S2521)->primal_0 = _S2423;
    (&_S2521)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2520, &_S2521, v_depth_3);
    float _S2522 = _S2422 * _S2521.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2523;
    (&_S2523)->primal_0 = mean_c_13;
    (&_S2523)->differential_0 = _S2374;
    s_bwd_length_impl_1(&_S2523, _S2522);
    float _S2524 = _S2520.differential_0 + _S2522;
    DiffPair_float_0 _S2525;
    (&_S2525)->primal_0 = _S2420;
    (&_S2525)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2525, 0.0f);
    DiffPair_float_0 _S2526;
    (&_S2526)->primal_0 = _S2419;
    (&_S2526)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2526, 0.0f);
    DiffPair_float_0 _S2527;
    (&_S2527)->primal_0 = 3.32999992370605469f;
    (&_S2527)->differential_0 = 0.0f;
    DiffPair_float_0 _S2528;
    (&_S2528)->primal_0 = _S2418;
    (&_S2528)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2527, &_S2528, 0.0f);
    DiffPair_float_0 _S2529;
    (&_S2529)->primal_0 = _S2417;
    (&_S2529)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2529, _S2528.differential_0);
    float _S2530 = 2.0f * _S2529.differential_0;
    DiffPair_float_0 _S2531;
    (&_S2531)->primal_0 = _S2416;
    (&_S2531)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2531, _S2530);
    float _S2532 = v_opacity_3 + 254.9999847412109375f * _S2531.differential_0;
    FixedArray<float3 , 16>  _S2533;
    _S2533[int(0)] = _S2374;
    _S2533[int(1)] = _S2374;
    _S2533[int(2)] = _S2374;
    _S2533[int(3)] = _S2374;
    _S2533[int(4)] = _S2374;
    _S2533[int(5)] = _S2374;
    _S2533[int(6)] = _S2374;
    _S2533[int(7)] = _S2374;
    _S2533[int(8)] = _S2374;
    _S2533[int(9)] = _S2374;
    _S2533[int(10)] = _S2374;
    _S2533[int(11)] = _S2374;
    _S2533[int(12)] = _S2374;
    _S2533[int(13)] = _S2374;
    _S2533[int(14)] = _S2374;
    _S2533[int(15)] = _S2374;
    _S2533[int(7)] = _S2476;
    _S2533[int(0)] = _S2510;
    _S2533[int(1)] = _S2497;
    _S2533[int(2)] = _S2495;
    _S2533[int(3)] = _S2493;
    _S2533[int(4)] = _S2482;
    _S2533[int(5)] = _S2480;
    _S2533[int(6)] = _S2478;
    _S2533[int(15)] = _S2454;
    _S2533[int(8)] = _S2474;
    _S2533[int(9)] = _S2466;
    _S2533[int(10)] = _S2464;
    _S2533[int(11)] = _S2462;
    _S2533[int(12)] = _S2460;
    _S2533[int(13)] = _S2458;
    _S2533[int(14)] = _S2456;
    float3  _S2534 = _S2533[int(0)];
    float3  _S2535 = _S2533[int(1)];
    float3  _S2536 = _S2533[int(2)];
    float3  _S2537 = _S2533[int(3)];
    float3  _S2538 = _S2533[int(4)];
    float3  _S2539 = _S2533[int(5)];
    float3  _S2540 = _S2533[int(6)];
    float3  _S2541 = _S2533[int(7)];
    float3  _S2542 = _S2533[int(8)];
    float3  _S2543 = _S2533[int(9)];
    float3  _S2544 = _S2533[int(10)];
    float3  _S2545 = _S2533[int(11)];
    float3  _S2546 = _S2533[int(12)];
    float3  _S2547 = _S2533[int(13)];
    float3  _S2548 = _S2533[int(14)];
    float3  _S2549 = _S2533[int(15)];
    float3  _S2550 = _S2523.differential_0 + make_float3 (0.0f, 0.0f, _S2524);
    float2  _S2551 = make_float2 (0.0f, _S2525.differential_0);
    float2  _S2552 = make_float2 (_S2526.differential_0, 0.0f);
    float _S2553;
    if(antialiased_13)
    {
        float _S2554 = _S2413 * _S2532;
        _S2415 = _S2410 * _S2532;
        _S2553 = _S2554;
    }
    else
    {
        _S2415 = _S2532;
        _S2553 = 0.0f;
    }
    float _S2555 = - (_S2415 / _S2414);
    DiffPair_float_0 _S2556;
    (&_S2556)->primal_0 = _S2411;
    (&_S2556)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2556, _S2555);
    float _S2557 = - _S2556.differential_0;
    DiffPair_float_0 _S2558;
    (&_S2558)->primal_0 = _S2409;
    (&_S2558)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2558, _S2553);
    DiffPair_float_0 _S2559;
    (&_S2559)->primal_0 = 0.0f;
    (&_S2559)->differential_0 = 0.0f;
    DiffPair_float_0 _S2560;
    (&_S2560)->primal_0 = _S2407;
    (&_S2560)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2559, &_S2560, _S2558.differential_0);
    float _S2561 = _S2560.differential_0 / _S2408;
    float s_diff_det_blur_T_0 = det_orig_14 * - _S2561;
    float s_diff_det_orig_T_3 = det_blur_9 * _S2561;
    float _S2562 = - s_diff_det_blur_T_0;
    float _S2563 = _S2402 * s_diff_det_blur_T_0;
    float _S2564 = _S2404 * s_diff_det_blur_T_0;
    Matrix<float, 2, 2>  _S2565 = _S2371;
    _S2565[int(1)] = _S2551;
    _S2565[int(0)] = _S2552;
    float _S2566 = _S2564 + _S2565.rows[int(0)].x;
    float _S2567 = _S2562 + - s_diff_det_orig_T_3;
    float _S2568 = _S2397._S2370.rows[int(0)].y * _S2567;
    float _S2569 = _S2397._S2370.rows[int(1)].x * _S2567;
    float _S2570 = _S2397._S2370.rows[int(1)].y * s_diff_det_orig_T_3;
    float _S2571 = _S2563 + _S2565.rows[int(1)].y + _S2397._S2370.rows[int(0)].x * s_diff_det_orig_T_3;
    float2  _S2572 = _S2373;
    *&((&_S2572)->x) = _S2568;
    *&((&_S2572)->y) = _S2571;
    float _S2573 = _S2566 + _S2570;
    float2  _S2574 = _S2373;
    *&((&_S2574)->y) = _S2569;
    *&((&_S2574)->x) = _S2573;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2575;
    (&_S2575)->primal_0 = R_20;
    (&_S2575)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2576;
    (&_S2576)->primal_0 = _S2391;
    (&_S2576)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2575, &_S2576, _S2374);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2577;
    (&_S2577)->primal_0 = R_20;
    (&_S2577)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2578;
    (&_S2578)->primal_0 = _S2388;
    (&_S2578)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2577, &_S2578, _S2374);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2579;
    (&_S2579)->primal_0 = R_20;
    (&_S2579)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2580;
    (&_S2580)->primal_0 = _S2385;
    (&_S2580)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2579, &_S2580, _S2374);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2581;
    (&_S2581)->primal_0 = R_20;
    (&_S2581)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2582;
    (&_S2582)->primal_0 = _S2390;
    (&_S2582)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2581, &_S2582, _S2374);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2583;
    (&_S2583)->primal_0 = R_20;
    (&_S2583)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2584;
    (&_S2584)->primal_0 = _S2387;
    (&_S2584)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2583, &_S2584, _S2374);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2585;
    (&_S2585)->primal_0 = R_20;
    (&_S2585)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2586;
    (&_S2586)->primal_0 = _S2384;
    (&_S2586)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2585, &_S2586, _S2374);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2587;
    (&_S2587)->primal_0 = R_20;
    (&_S2587)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2588;
    (&_S2588)->primal_0 = _S2392.p_0[0U];
    (&_S2588)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2587, &_S2588, _S2374);
    float3  _S2589 = - _S2576.differential_0 + _S2582.differential_0;
    float3  _S2590 = _S2400 * _S2589;
    float3  _S2591 = _S2377.rows[2U] * _S2589;
    float _S2592 = _S2382 * (_S2591.x + _S2591.y + _S2591.z);
    float3  _S2593 = - _S2578.differential_0 + _S2584.differential_0;
    float3  _S2594 = _S2399 * _S2593;
    float3  _S2595 = _S2377.rows[1U] * _S2593;
    float _S2596 = _S2382 * (_S2595.x + _S2595.y + _S2595.z);
    float3  _S2597 = - _S2580.differential_0 + _S2586.differential_0;
    float3  _S2598 = _S2398 * _S2597;
    float3  _S2599 = _S2377.rows[0U] * _S2597;
    float _S2600 = _S2382 * (_S2599.x + _S2599.y + _S2599.z);
    Matrix<float, 3, 3>  _S2601 = _S2513;
    _S2601[2U] = _S2590;
    _S2601[1U] = _S2594;
    _S2601[0U] = _S2598;
    Matrix<float, 3, 3>  _S2602 = transpose_0(transpose_0(_S2601));
    float _S2603 = 2.0f * - _S2602.rows[int(2)].z;
    float _S2604 = 2.0f * _S2602.rows[int(2)].y;
    float _S2605 = 2.0f * _S2602.rows[int(2)].x;
    float _S2606 = 2.0f * _S2602.rows[int(1)].z;
    float _S2607 = 2.0f * - _S2602.rows[int(1)].y;
    float _S2608 = 2.0f * _S2602.rows[int(1)].x;
    float _S2609 = 2.0f * _S2602.rows[int(0)].z;
    float _S2610 = 2.0f * _S2602.rows[int(0)].y;
    float _S2611 = 2.0f * - _S2602.rows[int(0)].x;
    float _S2612 = - _S2608 + _S2610;
    float _S2613 = _S2605 + - _S2609;
    float _S2614 = - _S2604 + _S2606;
    float _S2615 = _S2604 + _S2606;
    float _S2616 = _S2605 + _S2609;
    float _S2617 = _S2608 + _S2610;
    float _S2618 = quat_17.w * (_S2607 + _S2611);
    float _S2619 = quat_17.z * (_S2603 + _S2611);
    float _S2620 = quat_17.y * (_S2603 + _S2607);
    float _S2621 = quat_17.x * _S2612 + quat_17.z * _S2615 + quat_17.y * _S2616 + _S2618 + _S2618;
    float _S2622 = quat_17.x * _S2613 + quat_17.w * _S2615 + quat_17.y * _S2617 + _S2619 + _S2619;
    float _S2623 = quat_17.x * _S2614 + quat_17.w * _S2616 + quat_17.z * _S2617 + _S2620 + _S2620;
    float _S2624 = quat_17.w * _S2612 + quat_17.z * _S2613 + quat_17.y * _S2614;
    float3  _S2625 = _S2374;
    *&((&_S2625)->z) = _S2592;
    *&((&_S2625)->y) = _S2596;
    *&((&_S2625)->x) = _S2600;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2626;
    (&_S2626)->primal_0 = scale_16;
    (&_S2626)->differential_0 = _S2374;
    s_bwd_prop_exp_1(&_S2626, _S2625);
    Matrix<float, 2, 2>  _S2627 = _S2371;
    _S2627[int(1)] = _S2572;
    _S2627[int(0)] = _S2574;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2628;
    (&_S2628)->primal_0 = R_20;
    (&_S2628)->differential_0 = _S2513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2629;
    (&_S2629)->primal_0 = mean_14;
    (&_S2629)->differential_0 = _S2374;
    s_bwd_prop_mul_1(&_S2628, &_S2629, _S2550);
    float3  _S2630 = _S2550 + _S2516.differential_0;
    Matrix<float, 3, 3>  _S2631 = _S2575.differential_0 + _S2577.differential_0 + _S2579.differential_0 + _S2581.differential_0 + _S2583.differential_0 + _S2585.differential_0 + _S2587.differential_0 + _S2628.differential_0 + _S2517;
    float3  _S2632 = _S2626.differential_0 + _S2519;
    float4  _S2633 = make_float4 (0.0f);
    *&((&_S2633)->w) = _S2621;
    *&((&_S2633)->z) = _S2622;
    *&((&_S2633)->y) = _S2623;
    *&((&_S2633)->x) = _S2624;
    float4  _S2634 = _S2633;
    float3  _S2635 = _S2576.differential_0 + _S2582.differential_0 + _S2578.differential_0 + _S2584.differential_0 + _S2580.differential_0 + _S2586.differential_0 + _S2629.differential_0 + _S2511;
    *v_mean_3 = _S2635;
    *v_quat_3 = _S2634;
    *v_scale_3 = _S2632;
    *v_in_opacity_3 = _S2557;
    (*v_sh_coeffs_3)[int(0)] = _S2534;
    (*v_sh_coeffs_3)[int(1)] = _S2535;
    (*v_sh_coeffs_3)[int(2)] = _S2536;
    (*v_sh_coeffs_3)[int(3)] = _S2537;
    (*v_sh_coeffs_3)[int(4)] = _S2538;
    (*v_sh_coeffs_3)[int(5)] = _S2539;
    (*v_sh_coeffs_3)[int(6)] = _S2540;
    (*v_sh_coeffs_3)[int(7)] = _S2541;
    (*v_sh_coeffs_3)[int(8)] = _S2542;
    (*v_sh_coeffs_3)[int(9)] = _S2543;
    (*v_sh_coeffs_3)[int(10)] = _S2544;
    (*v_sh_coeffs_3)[int(11)] = _S2545;
    (*v_sh_coeffs_3)[int(12)] = _S2546;
    (*v_sh_coeffs_3)[int(13)] = _S2547;
    (*v_sh_coeffs_3)[int(14)] = _S2548;
    (*v_sh_coeffs_3)[int(15)] = _S2549;
    *v_R_5 = _S2631;
    *v_t_4 = _S2630;
    return;
}

struct s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S2636;
};

inline __device__ void projection_3dgut_fisheye_vjp(bool antialiased_14, float3  mean_15, float4  quat_18, float3  scale_17, float in_opacity_14, FixedArray<float3 , 16>  * sh_coeffs_14, Matrix<float, 3, 3>  R_21, float3  t_17, float fx_23, float fy_23, float cx_18, float cy_18, FixedArray<float, 10>  * dist_coeffs_27, uint image_width_14, uint image_height_14, float2  v_mean2d_4, float v_depth_4, float3  v_conic_4, float v_opacity_4, float3  v_rgb_4, float3  * v_mean_4, float4  * v_quat_4, float3  * v_scale_4, float * v_in_opacity_4, FixedArray<float3 , 16>  * v_sh_coeffs_4, Matrix<float, 3, 3>  * v_R_6, float3  * v_t_5)
{
    Matrix<float, 2, 2>  _S2637 = makeMatrix<float, 2, 2> (0.0f);
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S2638;
    (&_S2638)->_S2636 = _S2637;
    float2  _S2639 = make_float2 (0.0f);
    float3  _S2640 = make_float3 (0.0f);
    float4  intrins_13 = make_float4 (fx_23, fy_23, cx_18, cy_18);
    float3  _S2641 = s_primal_ctx_exp_0(scale_17);
    float _S2642 = quat_18.y;
    float x2_18 = _S2642 * _S2642;
    float y2_18 = quat_18.z * quat_18.z;
    float z2_32 = quat_18.w * quat_18.w;
    float xy_18 = quat_18.y * quat_18.z;
    float xz_18 = quat_18.y * quat_18.w;
    float yz_18 = quat_18.z * quat_18.w;
    float wx_18 = quat_18.x * quat_18.y;
    float wy_18 = quat_18.x * quat_18.z;
    float wz_18 = quat_18.x * quat_18.w;
    Matrix<float, 3, 3>  _S2643 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_18 + z2_32), 2.0f * (xy_18 + wz_18), 2.0f * (xz_18 - wy_18), 2.0f * (xy_18 - wz_18), 1.0f - 2.0f * (x2_18 + z2_32), 2.0f * (yz_18 + wx_18), 2.0f * (xz_18 + wy_18), 2.0f * (yz_18 - wx_18), 1.0f - 2.0f * (x2_18 + y2_18))));
    FixedArray<float3 , 7>  _S2644 = {
        _S2640, _S2640, _S2640, _S2640, _S2640, _S2640, _S2640
    };
    FixedArray<float, 7>  _S2645 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S2646;
    (&_S2646)->p_0 = _S2644;
    (&_S2646)->w_mean_0 = _S2645;
    (&_S2646)->w_cov_0 = _S2645;
    (&_S2646)->p_0[int(0)] = mean_15;
    SigmaPoints_0 _S2647 = _S2646;
    (&_S2647)->w_mean_0[int(0)] = 0.0f;
    (&_S2647)->w_cov_0[int(0)] = 2.0f;
    float _S2648 = s_primal_ctx_sqrt_0(3.0f);
    float _S2649 = _S2648 * _S2641.x;
    float3  delta_15 = make_float3 (_S2649) * _S2643.rows[0U];
    float3  _S2650 = mean_15 + delta_15;
    float3  _S2651 = mean_15 - delta_15;
    float _S2652 = _S2648 * _S2641.y;
    float3  delta_16 = make_float3 (_S2652) * _S2643.rows[1U];
    float3  _S2653 = mean_15 + delta_16;
    float3  _S2654 = mean_15 - delta_16;
    float _S2655 = _S2648 * _S2641.z;
    float3  delta_17 = make_float3 (_S2655) * _S2643.rows[2U];
    float3  _S2656 = mean_15 + delta_17;
    float3  _S2657 = mean_15 - delta_17;
    (&_S2647)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S2647)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S2647)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S2647)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S2647)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S2647)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S2647)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S2647)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S2647)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S2647)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S2647)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S2647)->w_cov_0[6U] = 0.1666666716337204f;
    SigmaPoints_0 _S2658 = _S2646;
    (&_S2647)->p_0[0U] = s_primal_ctx_mul_0(R_21, _S2646.p_0[0U]) + t_17;
    (&_S2647)->p_0[1U] = s_primal_ctx_mul_0(R_21, _S2650) + t_17;
    (&_S2647)->p_0[2U] = s_primal_ctx_mul_0(R_21, _S2653) + t_17;
    (&_S2647)->p_0[3U] = s_primal_ctx_mul_0(R_21, _S2656) + t_17;
    (&_S2647)->p_0[4U] = s_primal_ctx_mul_0(R_21, _S2651) + t_17;
    (&_S2647)->p_0[5U] = s_primal_ctx_mul_0(R_21, _S2654) + t_17;
    (&_S2647)->p_0[6U] = s_primal_ctx_mul_0(R_21, _S2657) + t_17;
    float2  _S2659 = _S2639;
    Matrix<float, 2, 2>  _S2660 = _S2637;
    SigmaPoints_0 _S2661 = _S2647;
    bool _S2662 = fisheye_proj_3dgs_ut_1(&_S2661, intrins_13, dist_coeffs_27, &_S2660, &_S2659);
    (&_S2638)->_S2636 = _S2660;
    s_bwd_prop_projection_3dgut_fisheye_differentiable_Intermediates_0 _S2663 = _S2638;
    float3  mean_c_14 = s_primal_ctx_mul_0(R_21, mean_15) + t_17;
    float _S2664 = length_1(mean_c_14);
    float3  _S2665 = make_float3 (_S2649);
    float3  _S2666 = make_float3 (_S2652);
    float3  _S2667 = make_float3 (_S2655);
    float _S2668 = _S2638._S2636.rows[int(0)].y * _S2638._S2636.rows[int(1)].x;
    float det_orig_15 = _S2638._S2636.rows[int(0)].x * _S2638._S2636.rows[int(1)].y - _S2668;
    float _S2669 = _S2638._S2636.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S2670 = _S2638._S2636;
    *&(((&_S2670)->rows + (int(0)))->x) = _S2669;
    float _S2671 = _S2638._S2636.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S2670)->rows + (int(1)))->y) = _S2671;
    Matrix<float, 2, 2>  _S2672 = _S2670;
    Matrix<float, 2, 2>  _S2673 = _S2670;
    float det_blur_10 = _S2669 * _S2671 - _S2668;
    float _S2674 = det_orig_15 / det_blur_10;
    float _S2675 = det_blur_10 * det_blur_10;
    float _S2676 = s_primal_ctx_max_0(0.0f, _S2674);
    float _S2677 = s_primal_ctx_sqrt_0(_S2676);
    float _S2678 = - in_opacity_14;
    float _S2679 = 1.0f + s_primal_ctx_exp_1(_S2678);
    float _S2680 = 1.0f / _S2679;
    float _S2681 = _S2679 * _S2679;
    float _S2682;
    if(antialiased_14)
    {
        _S2682 = _S2680 * _S2677;
    }
    else
    {
        _S2682 = _S2680;
    }
    float _S2683 = _S2682 / 0.00392156885936856f;
    float _S2684 = 2.0f * s_primal_ctx_log_0(_S2683);
    float _S2685 = s_primal_ctx_sqrt_0(_S2684);
    float _S2686 = _S2672.rows[int(0)].x;
    float _S2687 = _S2673.rows[int(1)].y;
    float _S2688 = mean_c_14.z;
    float _S2689 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S2690 = _S2689 * (_S2688 + _S2664);
    float3  _S2691 = - scale_17;
    Matrix<float, 3, 3>  _S2692 = transpose_0(R_21);
    float3  _S2693 = mean_15 - - s_primal_ctx_mul_0(_S2692, t_17);
    float _S2694 = _S2693.x;
    float _S2695 = _S2693.y;
    float _S2696 = _S2693.z;
    float _S2697 = _S2694 * _S2694 + _S2695 * _S2695 + _S2696 * _S2696;
    float _S2698 = s_primal_ctx_sqrt_0(_S2697);
    float x_39 = _S2694 / _S2698;
    float3  _S2699 = make_float3 (x_39);
    float _S2700 = _S2698 * _S2698;
    float y_17 = _S2695 / _S2698;
    float z_14 = _S2696 / _S2698;
    float3  _S2701 = make_float3 (z_14);
    float _S2702 = - y_17;
    float3  _S2703 = make_float3 (_S2702);
    float z2_33 = z_14 * z_14;
    float fTmp0B_14 = -1.09254848957061768f * z_14;
    float fC1_14 = x_39 * x_39 - y_17 * y_17;
    float _S2704 = 2.0f * x_39;
    float fS1_14 = _S2704 * y_17;
    float pSH6_4 = 0.94617468118667603f * z2_33 - 0.31539157032966614f;
    float3  _S2705 = make_float3 (pSH6_4);
    float pSH7_4 = fTmp0B_14 * x_39;
    float3  _S2706 = make_float3 (pSH7_4);
    float pSH5_4 = fTmp0B_14 * y_17;
    float3  _S2707 = make_float3 (pSH5_4);
    float pSH8_4 = 0.54627424478530884f * fC1_14;
    float3  _S2708 = make_float3 (pSH8_4);
    float pSH4_4 = 0.54627424478530884f * fS1_14;
    float3  _S2709 = make_float3 (pSH4_4);
    float fTmp0C_14 = -2.28522896766662598f * z2_33 + 0.4570457935333252f;
    float fTmp1B_14 = 1.44530570507049561f * z_14;
    float _S2710 = 1.86588168144226074f * z2_33 - 1.11952900886535645f;
    float pSH12_4 = z_14 * _S2710;
    float3  _S2711 = make_float3 (pSH12_4);
    float pSH13_4 = fTmp0C_14 * x_39;
    float3  _S2712 = make_float3 (pSH13_4);
    float pSH11_4 = fTmp0C_14 * y_17;
    float3  _S2713 = make_float3 (pSH11_4);
    float pSH14_4 = fTmp1B_14 * fC1_14;
    float3  _S2714 = make_float3 (pSH14_4);
    float pSH10_4 = fTmp1B_14 * fS1_14;
    float3  _S2715 = make_float3 (pSH10_4);
    float pSH15_4 = -0.59004360437393188f * (x_39 * fC1_14 - y_17 * fS1_14);
    float3  _S2716 = make_float3 (pSH15_4);
    float pSH9_4 = -0.59004360437393188f * (x_39 * fS1_14 + y_17 * fC1_14);
    float3  _S2717 = make_float3 (pSH9_4);
    float3  _S2718 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2719;
    (&_S2719)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_14)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S2702) * (*sh_coeffs_14)[int(1)] + make_float3 (z_14) * (*sh_coeffs_14)[int(2)] - make_float3 (x_39) * (*sh_coeffs_14)[int(3)]) + (make_float3 (pSH4_4) * (*sh_coeffs_14)[int(4)] + make_float3 (pSH5_4) * (*sh_coeffs_14)[int(5)] + make_float3 (pSH6_4) * (*sh_coeffs_14)[int(6)] + make_float3 (pSH7_4) * (*sh_coeffs_14)[int(7)] + make_float3 (pSH8_4) * (*sh_coeffs_14)[int(8)]) + (make_float3 (pSH9_4) * (*sh_coeffs_14)[int(9)] + make_float3 (pSH10_4) * (*sh_coeffs_14)[int(10)] + make_float3 (pSH11_4) * (*sh_coeffs_14)[int(11)] + make_float3 (pSH12_4) * (*sh_coeffs_14)[int(12)] + make_float3 (pSH13_4) * (*sh_coeffs_14)[int(13)] + make_float3 (pSH14_4) * (*sh_coeffs_14)[int(14)] + make_float3 (pSH15_4) * (*sh_coeffs_14)[int(15)]) + make_float3 (0.5f);
    (&_S2719)->differential_0 = _S2640;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2720;
    (&_S2720)->primal_0 = _S2718;
    (&_S2720)->differential_0 = _S2640;
    s_bwd_prop_max_0(&_S2719, &_S2720, v_rgb_4);
    float3  _S2721 = _S2716 * _S2719.differential_0;
    float3  _S2722 = (*sh_coeffs_14)[int(15)] * _S2719.differential_0;
    float3  _S2723 = _S2714 * _S2719.differential_0;
    float3  _S2724 = (*sh_coeffs_14)[int(14)] * _S2719.differential_0;
    float3  _S2725 = _S2712 * _S2719.differential_0;
    float3  _S2726 = (*sh_coeffs_14)[int(13)] * _S2719.differential_0;
    float3  _S2727 = _S2711 * _S2719.differential_0;
    float3  _S2728 = (*sh_coeffs_14)[int(12)] * _S2719.differential_0;
    float3  _S2729 = _S2713 * _S2719.differential_0;
    float3  _S2730 = (*sh_coeffs_14)[int(11)] * _S2719.differential_0;
    float3  _S2731 = _S2715 * _S2719.differential_0;
    float3  _S2732 = (*sh_coeffs_14)[int(10)] * _S2719.differential_0;
    float3  _S2733 = _S2717 * _S2719.differential_0;
    float3  _S2734 = (*sh_coeffs_14)[int(9)] * _S2719.differential_0;
    float s_diff_fS2_T_4 = -0.59004360437393188f * (_S2734.x + _S2734.y + _S2734.z);
    float s_diff_fC2_T_4 = -0.59004360437393188f * (_S2722.x + _S2722.y + _S2722.z);
    float _S2735 = _S2732.x + _S2732.y + _S2732.z;
    float _S2736 = _S2724.x + _S2724.y + _S2724.z;
    float _S2737 = _S2730.x + _S2730.y + _S2730.z;
    float _S2738 = _S2726.x + _S2726.y + _S2726.z;
    float _S2739 = _S2728.x + _S2728.y + _S2728.z;
    float _S2740 = - s_diff_fC2_T_4;
    float3  _S2741 = _S2708 * _S2719.differential_0;
    float3  _S2742 = (*sh_coeffs_14)[int(8)] * _S2719.differential_0;
    float3  _S2743 = _S2706 * _S2719.differential_0;
    float3  _S2744 = (*sh_coeffs_14)[int(7)] * _S2719.differential_0;
    float3  _S2745 = _S2705 * _S2719.differential_0;
    float3  _S2746 = (*sh_coeffs_14)[int(6)] * _S2719.differential_0;
    float3  _S2747 = _S2707 * _S2719.differential_0;
    float3  _S2748 = (*sh_coeffs_14)[int(5)] * _S2719.differential_0;
    float3  _S2749 = _S2709 * _S2719.differential_0;
    float3  _S2750 = (*sh_coeffs_14)[int(4)] * _S2719.differential_0;
    float _S2751 = _S2748.x + _S2748.y + _S2748.z;
    float _S2752 = _S2744.x + _S2744.y + _S2744.z;
    float _S2753 = fTmp1B_14 * _S2735 + x_39 * s_diff_fS2_T_4 + y_17 * _S2740 + 0.54627424478530884f * (_S2750.x + _S2750.y + _S2750.z);
    float _S2754 = fTmp1B_14 * _S2736 + y_17 * s_diff_fS2_T_4 + x_39 * s_diff_fC2_T_4 + 0.54627424478530884f * (_S2742.x + _S2742.y + _S2742.z);
    float _S2755 = y_17 * - _S2754;
    float _S2756 = x_39 * _S2754;
    float _S2757 = z_14 * (1.86588168144226074f * (z_14 * _S2739) + -2.28522896766662598f * (y_17 * _S2737 + x_39 * _S2738) + 0.94617468118667603f * (_S2746.x + _S2746.y + _S2746.z));
    float3  _S2758 = make_float3 (0.48860251903533936f) * _S2719.differential_0;
    float3  _S2759 = - _S2758;
    float3  _S2760 = _S2699 * _S2759;
    float3  _S2761 = (*sh_coeffs_14)[int(3)] * _S2759;
    float3  _S2762 = _S2701 * _S2758;
    float3  _S2763 = (*sh_coeffs_14)[int(2)] * _S2758;
    float3  _S2764 = _S2703 * _S2758;
    float3  _S2765 = (*sh_coeffs_14)[int(1)] * _S2758;
    float _S2766 = (_S2710 * _S2739 + 1.44530570507049561f * (fS1_14 * _S2735 + fC1_14 * _S2736) + -1.09254848957061768f * (y_17 * _S2751 + x_39 * _S2752) + _S2757 + _S2757 + _S2763.x + _S2763.y + _S2763.z) / _S2700;
    float _S2767 = _S2698 * _S2766;
    float _S2768 = (fTmp0C_14 * _S2737 + fC1_14 * s_diff_fS2_T_4 + fS1_14 * _S2740 + fTmp0B_14 * _S2751 + _S2704 * _S2753 + _S2755 + _S2755 + - (_S2765.x + _S2765.y + _S2765.z)) / _S2700;
    float _S2769 = _S2698 * _S2768;
    float _S2770 = (fTmp0C_14 * _S2738 + fS1_14 * s_diff_fS2_T_4 + fC1_14 * s_diff_fC2_T_4 + fTmp0B_14 * _S2752 + 2.0f * (y_17 * _S2753) + _S2756 + _S2756 + _S2761.x + _S2761.y + _S2761.z) / _S2700;
    float _S2771 = _S2698 * _S2770;
    float _S2772 = _S2696 * - _S2766 + _S2695 * - _S2768 + _S2694 * - _S2770;
    DiffPair_float_0 _S2773;
    (&_S2773)->primal_0 = _S2697;
    (&_S2773)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2773, _S2772);
    float _S2774 = _S2696 * _S2773.differential_0;
    float _S2775 = _S2695 * _S2773.differential_0;
    float _S2776 = _S2694 * _S2773.differential_0;
    float3  _S2777 = make_float3 (0.282094806432724f) * _S2719.differential_0;
    float3  _S2778 = make_float3 (_S2771 + _S2776 + _S2776, _S2769 + _S2775 + _S2775, _S2767 + _S2774 + _S2774);
    float3  _S2779 = - - _S2778;
    Matrix<float, 3, 3>  _S2780 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2781;
    (&_S2781)->primal_0 = _S2692;
    (&_S2781)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2782;
    (&_S2782)->primal_0 = t_17;
    (&_S2782)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2781, &_S2782, _S2779);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2783 = _S2782;
    Matrix<float, 3, 3>  _S2784 = transpose_0(_S2781.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2785;
    (&_S2785)->primal_0 = _S2691;
    (&_S2785)->differential_0 = _S2640;
    s_bwd_prop_exp_1(&_S2785, v_conic_4);
    float3  _S2786 = - _S2785.differential_0;
    DiffPair_float_0 _S2787;
    (&_S2787)->primal_0 = _S2688;
    (&_S2787)->differential_0 = 0.0f;
    DiffPair_float_0 _S2788;
    (&_S2788)->primal_0 = _S2690;
    (&_S2788)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2787, &_S2788, v_depth_4);
    float _S2789 = _S2689 * _S2788.differential_0;
    float _S2790 = _S2787.differential_0 + _S2789;
    DiffPair_float_0 _S2791;
    (&_S2791)->primal_0 = _S2687;
    (&_S2791)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2791, 0.0f);
    DiffPair_float_0 _S2792;
    (&_S2792)->primal_0 = _S2686;
    (&_S2792)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2792, 0.0f);
    DiffPair_float_0 _S2793;
    (&_S2793)->primal_0 = 3.32999992370605469f;
    (&_S2793)->differential_0 = 0.0f;
    DiffPair_float_0 _S2794;
    (&_S2794)->primal_0 = _S2685;
    (&_S2794)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S2793, &_S2794, 0.0f);
    DiffPair_float_0 _S2795;
    (&_S2795)->primal_0 = _S2684;
    (&_S2795)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2795, _S2794.differential_0);
    float _S2796 = 2.0f * _S2795.differential_0;
    DiffPair_float_0 _S2797;
    (&_S2797)->primal_0 = _S2683;
    (&_S2797)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S2797, _S2796);
    float _S2798 = v_opacity_4 + 254.9999847412109375f * _S2797.differential_0;
    FixedArray<float3 , 16>  _S2799;
    _S2799[int(0)] = _S2640;
    _S2799[int(1)] = _S2640;
    _S2799[int(2)] = _S2640;
    _S2799[int(3)] = _S2640;
    _S2799[int(4)] = _S2640;
    _S2799[int(5)] = _S2640;
    _S2799[int(6)] = _S2640;
    _S2799[int(7)] = _S2640;
    _S2799[int(8)] = _S2640;
    _S2799[int(9)] = _S2640;
    _S2799[int(10)] = _S2640;
    _S2799[int(11)] = _S2640;
    _S2799[int(12)] = _S2640;
    _S2799[int(13)] = _S2640;
    _S2799[int(14)] = _S2640;
    _S2799[int(15)] = _S2640;
    _S2799[int(7)] = _S2743;
    _S2799[int(0)] = _S2777;
    _S2799[int(1)] = _S2764;
    _S2799[int(2)] = _S2762;
    _S2799[int(3)] = _S2760;
    _S2799[int(4)] = _S2749;
    _S2799[int(5)] = _S2747;
    _S2799[int(6)] = _S2745;
    _S2799[int(15)] = _S2721;
    _S2799[int(8)] = _S2741;
    _S2799[int(9)] = _S2733;
    _S2799[int(10)] = _S2731;
    _S2799[int(11)] = _S2729;
    _S2799[int(12)] = _S2727;
    _S2799[int(13)] = _S2725;
    _S2799[int(14)] = _S2723;
    float3  _S2800 = _S2799[int(0)];
    float3  _S2801 = _S2799[int(1)];
    float3  _S2802 = _S2799[int(2)];
    float3  _S2803 = _S2799[int(3)];
    float3  _S2804 = _S2799[int(4)];
    float3  _S2805 = _S2799[int(5)];
    float3  _S2806 = _S2799[int(6)];
    float3  _S2807 = _S2799[int(7)];
    float3  _S2808 = _S2799[int(8)];
    float3  _S2809 = _S2799[int(9)];
    float3  _S2810 = _S2799[int(10)];
    float3  _S2811 = _S2799[int(11)];
    float3  _S2812 = _S2799[int(12)];
    float3  _S2813 = _S2799[int(13)];
    float3  _S2814 = _S2799[int(14)];
    float3  _S2815 = _S2799[int(15)];
    float3  _S2816 = make_float3 (0.0f, 0.0f, _S2790);
    float2  _S2817 = make_float2 (0.0f, _S2791.differential_0);
    float2  _S2818 = make_float2 (_S2792.differential_0, 0.0f);
    float _S2819;
    if(antialiased_14)
    {
        float _S2820 = _S2680 * _S2798;
        _S2682 = _S2677 * _S2798;
        _S2819 = _S2820;
    }
    else
    {
        _S2682 = _S2798;
        _S2819 = 0.0f;
    }
    float _S2821 = - (_S2682 / _S2681);
    DiffPair_float_0 _S2822;
    (&_S2822)->primal_0 = _S2678;
    (&_S2822)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2822, _S2821);
    float _S2823 = - _S2822.differential_0;
    DiffPair_float_0 _S2824;
    (&_S2824)->primal_0 = _S2676;
    (&_S2824)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S2824, _S2819);
    DiffPair_float_0 _S2825;
    (&_S2825)->primal_0 = 0.0f;
    (&_S2825)->differential_0 = 0.0f;
    DiffPair_float_0 _S2826;
    (&_S2826)->primal_0 = _S2674;
    (&_S2826)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S2825, &_S2826, _S2824.differential_0);
    float _S2827 = _S2826.differential_0 / _S2675;
    float s_diff_det_blur_T_1 = det_orig_15 * - _S2827;
    float s_diff_det_orig_T_4 = det_blur_10 * _S2827;
    float _S2828 = - s_diff_det_blur_T_1;
    float _S2829 = _S2669 * s_diff_det_blur_T_1;
    float _S2830 = _S2671 * s_diff_det_blur_T_1;
    Matrix<float, 2, 2>  _S2831 = _S2637;
    _S2831[int(1)] = _S2817;
    _S2831[int(0)] = _S2818;
    float _S2832 = _S2830 + _S2831.rows[int(0)].x;
    float _S2833 = _S2828 + - s_diff_det_orig_T_4;
    float _S2834 = _S2663._S2636.rows[int(0)].y * _S2833;
    float _S2835 = _S2663._S2636.rows[int(1)].x * _S2833;
    float _S2836 = _S2663._S2636.rows[int(1)].y * s_diff_det_orig_T_4;
    float _S2837 = _S2829 + _S2831.rows[int(1)].y + _S2663._S2636.rows[int(0)].x * s_diff_det_orig_T_4;
    float2  _S2838 = _S2639;
    *&((&_S2838)->x) = _S2834;
    *&((&_S2838)->y) = _S2837;
    float _S2839 = _S2832 + _S2836;
    float2  _S2840 = _S2639;
    *&((&_S2840)->y) = _S2835;
    *&((&_S2840)->x) = _S2839;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2841;
    (&_S2841)->primal_0 = R_21;
    (&_S2841)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2842;
    (&_S2842)->primal_0 = _S2657;
    (&_S2842)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2841, &_S2842, _S2640);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2843;
    (&_S2843)->primal_0 = R_21;
    (&_S2843)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2844;
    (&_S2844)->primal_0 = _S2654;
    (&_S2844)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2843, &_S2844, _S2640);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2845;
    (&_S2845)->primal_0 = R_21;
    (&_S2845)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2846;
    (&_S2846)->primal_0 = _S2651;
    (&_S2846)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2845, &_S2846, _S2640);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2847;
    (&_S2847)->primal_0 = R_21;
    (&_S2847)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2848;
    (&_S2848)->primal_0 = _S2656;
    (&_S2848)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2847, &_S2848, _S2640);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2849;
    (&_S2849)->primal_0 = R_21;
    (&_S2849)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2850;
    (&_S2850)->primal_0 = _S2653;
    (&_S2850)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2849, &_S2850, _S2640);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2851;
    (&_S2851)->primal_0 = R_21;
    (&_S2851)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2852;
    (&_S2852)->primal_0 = _S2650;
    (&_S2852)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2851, &_S2852, _S2640);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2853;
    (&_S2853)->primal_0 = R_21;
    (&_S2853)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2854;
    (&_S2854)->primal_0 = _S2658.p_0[0U];
    (&_S2854)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2853, &_S2854, _S2640);
    float3  _S2855 = - _S2842.differential_0 + _S2848.differential_0;
    float3  _S2856 = _S2667 * _S2855;
    float3  _S2857 = _S2643.rows[2U] * _S2855;
    float _S2858 = _S2648 * (_S2857.x + _S2857.y + _S2857.z);
    float3  _S2859 = - _S2844.differential_0 + _S2850.differential_0;
    float3  _S2860 = _S2666 * _S2859;
    float3  _S2861 = _S2643.rows[1U] * _S2859;
    float _S2862 = _S2648 * (_S2861.x + _S2861.y + _S2861.z);
    float3  _S2863 = - _S2846.differential_0 + _S2852.differential_0;
    float3  _S2864 = _S2665 * _S2863;
    float3  _S2865 = _S2643.rows[0U] * _S2863;
    float _S2866 = _S2648 * (_S2865.x + _S2865.y + _S2865.z);
    Matrix<float, 3, 3>  _S2867 = _S2780;
    _S2867[2U] = _S2856;
    _S2867[1U] = _S2860;
    _S2867[0U] = _S2864;
    Matrix<float, 3, 3>  _S2868 = transpose_0(transpose_0(_S2867));
    float _S2869 = 2.0f * - _S2868.rows[int(2)].z;
    float _S2870 = 2.0f * _S2868.rows[int(2)].y;
    float _S2871 = 2.0f * _S2868.rows[int(2)].x;
    float _S2872 = 2.0f * _S2868.rows[int(1)].z;
    float _S2873 = 2.0f * - _S2868.rows[int(1)].y;
    float _S2874 = 2.0f * _S2868.rows[int(1)].x;
    float _S2875 = 2.0f * _S2868.rows[int(0)].z;
    float _S2876 = 2.0f * _S2868.rows[int(0)].y;
    float _S2877 = 2.0f * - _S2868.rows[int(0)].x;
    float _S2878 = - _S2874 + _S2876;
    float _S2879 = _S2871 + - _S2875;
    float _S2880 = - _S2870 + _S2872;
    float _S2881 = _S2870 + _S2872;
    float _S2882 = _S2871 + _S2875;
    float _S2883 = _S2874 + _S2876;
    float _S2884 = quat_18.w * (_S2873 + _S2877);
    float _S2885 = quat_18.z * (_S2869 + _S2877);
    float _S2886 = quat_18.y * (_S2869 + _S2873);
    float _S2887 = quat_18.x * _S2878 + quat_18.z * _S2881 + quat_18.y * _S2882 + _S2884 + _S2884;
    float _S2888 = quat_18.x * _S2879 + quat_18.w * _S2881 + quat_18.y * _S2883 + _S2885 + _S2885;
    float _S2889 = quat_18.x * _S2880 + quat_18.w * _S2882 + quat_18.z * _S2883 + _S2886 + _S2886;
    float _S2890 = quat_18.w * _S2878 + quat_18.z * _S2879 + quat_18.y * _S2880;
    float3  _S2891 = _S2640;
    *&((&_S2891)->z) = _S2858;
    *&((&_S2891)->y) = _S2862;
    *&((&_S2891)->x) = _S2866;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2892;
    (&_S2892)->primal_0 = scale_17;
    (&_S2892)->differential_0 = _S2640;
    s_bwd_prop_exp_1(&_S2892, _S2891);
    Matrix<float, 2, 2>  _S2893 = _S2637;
    _S2893[int(1)] = _S2838;
    _S2893[int(0)] = _S2840;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2894;
    (&_S2894)->primal_0 = mean_c_14;
    (&_S2894)->differential_0 = _S2640;
    s_bwd_length_impl_1(&_S2894, _S2789);
    float3  _S2895 = _S2894.differential_0 + _S2816;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2896;
    (&_S2896)->primal_0 = R_21;
    (&_S2896)->differential_0 = _S2780;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2897;
    (&_S2897)->primal_0 = mean_15;
    (&_S2897)->differential_0 = _S2640;
    s_bwd_prop_mul_1(&_S2896, &_S2897, _S2895);
    float3  _S2898 = _S2895 + _S2783.differential_0;
    Matrix<float, 3, 3>  _S2899 = _S2841.differential_0 + _S2843.differential_0 + _S2845.differential_0 + _S2847.differential_0 + _S2849.differential_0 + _S2851.differential_0 + _S2853.differential_0 + _S2896.differential_0 + _S2784;
    float3  _S2900 = _S2892.differential_0 + _S2786;
    float4  _S2901 = make_float4 (0.0f);
    *&((&_S2901)->w) = _S2887;
    *&((&_S2901)->z) = _S2888;
    *&((&_S2901)->y) = _S2889;
    *&((&_S2901)->x) = _S2890;
    float4  _S2902 = _S2901;
    float3  _S2903 = _S2842.differential_0 + _S2848.differential_0 + _S2844.differential_0 + _S2850.differential_0 + _S2846.differential_0 + _S2852.differential_0 + _S2897.differential_0 + _S2778;
    *v_mean_4 = _S2903;
    *v_quat_4 = _S2902;
    *v_scale_4 = _S2900;
    *v_in_opacity_4 = _S2823;
    (*v_sh_coeffs_4)[int(0)] = _S2800;
    (*v_sh_coeffs_4)[int(1)] = _S2801;
    (*v_sh_coeffs_4)[int(2)] = _S2802;
    (*v_sh_coeffs_4)[int(3)] = _S2803;
    (*v_sh_coeffs_4)[int(4)] = _S2804;
    (*v_sh_coeffs_4)[int(5)] = _S2805;
    (*v_sh_coeffs_4)[int(6)] = _S2806;
    (*v_sh_coeffs_4)[int(7)] = _S2807;
    (*v_sh_coeffs_4)[int(8)] = _S2808;
    (*v_sh_coeffs_4)[int(9)] = _S2809;
    (*v_sh_coeffs_4)[int(10)] = _S2810;
    (*v_sh_coeffs_4)[int(11)] = _S2811;
    (*v_sh_coeffs_4)[int(12)] = _S2812;
    (*v_sh_coeffs_4)[int(13)] = _S2813;
    (*v_sh_coeffs_4)[int(14)] = _S2814;
    (*v_sh_coeffs_4)[int(15)] = _S2815;
    *v_R_6 = _S2899;
    *v_t_5 = _S2898;
    return;
}

inline __device__ Matrix<float, 3, 3>  compute_3dgut_iscl_rot(float4  quat_19, float3  scale_18)
{
    float x_40 = quat_19.y;
    float x2_19 = x_40 * x_40;
    float y2_19 = quat_19.z * quat_19.z;
    float z2_34 = quat_19.w * quat_19.w;
    float xy_19 = quat_19.y * quat_19.z;
    float xz_19 = quat_19.y * quat_19.w;
    float yz_19 = quat_19.z * quat_19.w;
    float wx_19 = quat_19.x * quat_19.y;
    float wy_19 = quat_19.x * quat_19.z;
    float wz_19 = quat_19.x * quat_19.w;
    return mul_4(makeMatrix<float, 3, 3> (scale_18.x, 0.0f, 0.0f, 0.0f, scale_18.y, 0.0f, 0.0f, 0.0f, scale_18.z), transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_19 + z2_34), 2.0f * (xy_19 + wz_19), 2.0f * (xz_19 - wy_19), 2.0f * (xy_19 - wz_19), 1.0f - 2.0f * (x2_19 + z2_34), 2.0f * (yz_19 + wx_19), 2.0f * (xz_19 + wy_19), 2.0f * (yz_19 - wx_19), 1.0f - 2.0f * (x2_19 + y2_19)))));
}

inline __device__ void s_bwd_prop_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_0, Matrix<float, 3, 3>  _s_dOut_7)
{
    float _S2904 = (*dpquat_0).primal_0.y;
    float x2_20 = _S2904 * _S2904;
    float y2_20 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.z;
    float z2_35 = (*dpquat_0).primal_0.w * (*dpquat_0).primal_0.w;
    float xy_20 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.z;
    float xz_20 = (*dpquat_0).primal_0.y * (*dpquat_0).primal_0.w;
    float yz_20 = (*dpquat_0).primal_0.z * (*dpquat_0).primal_0.w;
    float wx_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.y;
    float wy_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.z;
    float wz_20 = (*dpquat_0).primal_0.x * (*dpquat_0).primal_0.w;
    Matrix<float, 3, 3>  _S2905 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_20 + z2_35), 2.0f * (xy_20 + wz_20), 2.0f * (xz_20 - wy_20), 2.0f * (xy_20 - wz_20), 1.0f - 2.0f * (x2_20 + z2_35), 2.0f * (yz_20 + wx_20), 2.0f * (xz_20 + wy_20), 2.0f * (yz_20 - wx_20), 1.0f - 2.0f * (x2_20 + y2_20))));
    Matrix<float, 3, 3>  _S2906 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2907;
    (&_S2907)->primal_0 = makeMatrix<float, 3, 3> ((*dpscale_0).primal_0.x, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.y, 0.0f, 0.0f, 0.0f, (*dpscale_0).primal_0.z);
    (&_S2907)->differential_0 = _S2906;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2908;
    (&_S2908)->primal_0 = _S2905;
    (&_S2908)->differential_0 = _S2906;
    s_bwd_prop_mul_4(&_S2907, &_S2908, _s_dOut_7);
    Matrix<float, 3, 3>  _S2909 = transpose_0(transpose_0(_S2908.differential_0));
    float _S2910 = 2.0f * - _S2909.rows[int(2)].z;
    float _S2911 = 2.0f * _S2909.rows[int(2)].y;
    float _S2912 = 2.0f * _S2909.rows[int(2)].x;
    float _S2913 = 2.0f * _S2909.rows[int(1)].z;
    float _S2914 = 2.0f * - _S2909.rows[int(1)].y;
    float _S2915 = 2.0f * _S2909.rows[int(1)].x;
    float _S2916 = 2.0f * _S2909.rows[int(0)].z;
    float _S2917 = 2.0f * _S2909.rows[int(0)].y;
    float _S2918 = 2.0f * - _S2909.rows[int(0)].x;
    float _S2919 = - _S2915 + _S2917;
    float _S2920 = _S2912 + - _S2916;
    float _S2921 = - _S2911 + _S2913;
    float _S2922 = _S2911 + _S2913;
    float _S2923 = _S2912 + _S2916;
    float _S2924 = _S2915 + _S2917;
    float _S2925 = (*dpquat_0).primal_0.w * (_S2914 + _S2918);
    float _S2926 = (*dpquat_0).primal_0.z * (_S2910 + _S2918);
    float _S2927 = (*dpquat_0).primal_0.y * (_S2910 + _S2914);
    float _S2928 = (*dpquat_0).primal_0.x * _S2919 + (*dpquat_0).primal_0.z * _S2922 + (*dpquat_0).primal_0.y * _S2923 + _S2925 + _S2925;
    float _S2929 = (*dpquat_0).primal_0.x * _S2920 + (*dpquat_0).primal_0.w * _S2922 + (*dpquat_0).primal_0.y * _S2924 + _S2926 + _S2926;
    float _S2930 = (*dpquat_0).primal_0.x * _S2921 + (*dpquat_0).primal_0.w * _S2923 + (*dpquat_0).primal_0.z * _S2924 + _S2927 + _S2927;
    float _S2931 = (*dpquat_0).primal_0.w * _S2919 + (*dpquat_0).primal_0.z * _S2920 + (*dpquat_0).primal_0.y * _S2921;
    float3  _S2932 = make_float3 (_S2907.differential_0.rows[int(0)].x, _S2907.differential_0.rows[int(1)].y, _S2907.differential_0.rows[int(2)].z);
    dpscale_0->primal_0 = (*dpscale_0).primal_0;
    dpscale_0->differential_0 = _S2932;
    float4  _S2933 = make_float4 (0.0f);
    *&((&_S2933)->w) = _S2928;
    *&((&_S2933)->z) = _S2929;
    *&((&_S2933)->y) = _S2930;
    *&((&_S2933)->x) = _S2931;
    dpquat_0->primal_0 = (*dpquat_0).primal_0;
    dpquat_0->differential_0 = _S2933;
    return;
}

inline __device__ void s_bwd_compute_3dgut_iscl_rot_0(DiffPair_vectorx3Cfloatx2C4x3E_0 * _S2934, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2935, Matrix<float, 3, 3>  _S2936)
{
    s_bwd_prop_compute_3dgut_iscl_rot_0(_S2934, _S2935, _S2936);
    return;
}

inline __device__ void compute_3dgut_iscl_rot_vjp(float4  quat_20, float3  scale_19, Matrix<float, 3, 3>  v_iscl_rot_0, float4  * v_quat_5, float3  * v_scale_5)
{
    float4  _S2937 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_0;
    (&dp_quat_0)->primal_0 = quat_20;
    (&dp_quat_0)->differential_0 = _S2937;
    float3  _S2938 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_0;
    (&dp_scale_0)->primal_0 = scale_19;
    (&dp_scale_0)->differential_0 = _S2938;
    s_bwd_compute_3dgut_iscl_rot_0(&dp_quat_0, &dp_scale_0, v_iscl_rot_0);
    *v_quat_5 = dp_quat_0.differential_0;
    *v_scale_5 = dp_scale_0.differential_0;
    return;
}

inline __device__ void _d_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * a_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * b_0, float3  dOut_15)
{
    float _S2939 = dOut_15.y;
    float _S2940 = dOut_15.z;
    float _S2941 = dOut_15.x;
    float _S2942 = (*a_0).primal_0.z * _S2939 + - (*a_0).primal_0.y * _S2940;
    float _S2943 = - (*a_0).primal_0.z * _S2941 + (*a_0).primal_0.x * _S2940;
    float _S2944 = (*a_0).primal_0.y * _S2941 + - (*a_0).primal_0.x * _S2939;
    float3  _S2945 = make_float3 (- (*b_0).primal_0.z * _S2939 + (*b_0).primal_0.y * _S2940, (*b_0).primal_0.z * _S2941 + - (*b_0).primal_0.x * _S2940, - (*b_0).primal_0.y * _S2941 + (*b_0).primal_0.x * _S2939);
    a_0->primal_0 = (*a_0).primal_0;
    a_0->differential_0 = _S2945;
    float3  _S2946 = make_float3 (_S2942, _S2943, _S2944);
    b_0->primal_0 = (*b_0).primal_0;
    b_0->differential_0 = _S2946;
    return;
}

inline __device__ float3  cross_0(float3  left_10, float3  right_10)
{
    float _S2947 = left_10.y;
    float _S2948 = right_10.z;
    float _S2949 = left_10.z;
    float _S2950 = right_10.y;
    float _S2951 = right_10.x;
    float _S2952 = left_10.x;
    return make_float3 (_S2947 * _S2948 - _S2949 * _S2950, _S2949 * _S2951 - _S2952 * _S2948, _S2952 * _S2950 - _S2947 * _S2951);
}

inline __device__ float evaluate_alpha_3dgs(float3  mean_16, Matrix<float, 3, 3>  iscl_rot_0, float opacity_10, float3  ray_o_0, float3  ray_d_0)
{
    float3  grd_0 = mul_0(iscl_rot_0, ray_d_0);
    float3  gcrod_0 = cross_0(grd_0, mul_0(iscl_rot_0, ray_o_0 - mean_16));
    return opacity_10 * (F32_exp((-0.5f * dot_0(gcrod_0, gcrod_0) / dot_0(grd_0, grd_0))));
}

inline __device__ float3  s_primal_ctx_cross_0(float3  _S2953, float3  _S2954)
{
    return cross_0(_S2953, _S2954);
}

inline __device__ float s_primal_ctx_dot_0(float3  _S2955, float3  _S2956)
{
    return dot_0(_S2955, _S2956);
}

inline __device__ void s_bwd_prop_dot_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2957, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2958, float _S2959)
{
    _d_dot_0(_S2957, _S2958, _S2959);
    return;
}

inline __device__ void s_bwd_prop_cross_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2960, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2961, float3  _S2962)
{
    _d_cross_0(_S2960, _S2961, _S2962);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_0, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_0, DiffPair_float_0 * dpopacity_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_0, float _s_dOut_8)
{
    float3  _S2963 = (*dpray_o_0).primal_0 - (*dpmean_0).primal_0;
    float3  _S2964 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, _S2963);
    float3  _S2965 = s_primal_ctx_mul_0((*dpiscl_rot_0).primal_0, (*dpray_d_0).primal_0);
    float3  _S2966 = s_primal_ctx_cross_0(_S2965, _S2964);
    float _S2967 = -0.5f * s_primal_ctx_dot_0(_S2966, _S2966);
    float _S2968 = s_primal_ctx_dot_0(_S2965, _S2965);
    float _S2969 = _S2967 / _S2968;
    float _S2970 = _S2968 * _S2968;
    float _S2971 = (*dpopacity_0).primal_0 * _s_dOut_8;
    float _S2972 = s_primal_ctx_exp_1(_S2969) * _s_dOut_8;
    DiffPair_float_0 _S2973;
    (&_S2973)->primal_0 = _S2969;
    (&_S2973)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S2973, _S2971);
    float _S2974 = _S2973.differential_0 / _S2970;
    float _S2975 = _S2967 * - _S2974;
    float _S2976 = _S2968 * _S2974;
    float3  _S2977 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2978;
    (&_S2978)->primal_0 = _S2965;
    (&_S2978)->differential_0 = _S2977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2979;
    (&_S2979)->primal_0 = _S2965;
    (&_S2979)->differential_0 = _S2977;
    s_bwd_prop_dot_0(&_S2978, &_S2979, _S2975);
    float _S2980 = -0.5f * _S2976;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2981;
    (&_S2981)->primal_0 = _S2966;
    (&_S2981)->differential_0 = _S2977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2982;
    (&_S2982)->primal_0 = _S2966;
    (&_S2982)->differential_0 = _S2977;
    s_bwd_prop_dot_0(&_S2981, &_S2982, _S2980);
    float3  _S2983 = _S2982.differential_0 + _S2981.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2984;
    (&_S2984)->primal_0 = _S2965;
    (&_S2984)->differential_0 = _S2977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2985;
    (&_S2985)->primal_0 = _S2964;
    (&_S2985)->differential_0 = _S2977;
    s_bwd_prop_cross_0(&_S2984, &_S2985, _S2983);
    float3  _S2986 = _S2979.differential_0 + _S2978.differential_0 + _S2984.differential_0;
    Matrix<float, 3, 3>  _S2987 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2988;
    (&_S2988)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S2988)->differential_0 = _S2987;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2989;
    (&_S2989)->primal_0 = (*dpray_d_0).primal_0;
    (&_S2989)->differential_0 = _S2977;
    s_bwd_prop_mul_1(&_S2988, &_S2989, _S2986);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S2990;
    (&_S2990)->primal_0 = (*dpiscl_rot_0).primal_0;
    (&_S2990)->differential_0 = _S2987;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S2991;
    (&_S2991)->primal_0 = _S2963;
    (&_S2991)->differential_0 = _S2977;
    s_bwd_prop_mul_1(&_S2990, &_S2991, _S2985.differential_0);
    float3  _S2992 = - _S2991.differential_0;
    dpray_d_0->primal_0 = (*dpray_d_0).primal_0;
    dpray_d_0->differential_0 = _S2989.differential_0;
    dpray_o_0->primal_0 = (*dpray_o_0).primal_0;
    dpray_o_0->differential_0 = _S2991.differential_0;
    dpopacity_0->primal_0 = (*dpopacity_0).primal_0;
    dpopacity_0->differential_0 = _S2972;
    Matrix<float, 3, 3>  _S2993 = _S2988.differential_0 + _S2990.differential_0;
    dpiscl_rot_0->primal_0 = (*dpiscl_rot_0).primal_0;
    dpiscl_rot_0->differential_0 = _S2993;
    dpmean_0->primal_0 = (*dpmean_0).primal_0;
    dpmean_0->differential_0 = _S2992;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2994, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S2995, DiffPair_float_0 * _S2996, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2997, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S2998, float _S2999)
{
    s_bwd_prop_evaluate_alpha_3dgs_0(_S2994, _S2995, _S2996, _S2997, _S2998, _S2999);
    return;
}

inline __device__ void evaluate_alpha_3dgs_vjp(float3  mean_17, Matrix<float, 3, 3>  iscl_rot_1, float opacity_11, float3  ray_o_1, float3  ray_d_1, float v_alpha_0, float3  * v_mean_5, Matrix<float, 3, 3>  * v_iscl_rot_1, float * v_opacity_5, float3  * v_ray_o_1, float3  * v_ray_d_1)
{
    float3  _S3000 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_0;
    (&dp_mean_0)->primal_0 = mean_17;
    (&dp_mean_0)->differential_0 = _S3000;
    Matrix<float, 3, 3>  _S3001 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_0;
    (&dp_iscl_rot_0)->primal_0 = iscl_rot_1;
    (&dp_iscl_rot_0)->differential_0 = _S3001;
    DiffPair_float_0 dp_opacity_0;
    (&dp_opacity_0)->primal_0 = opacity_11;
    (&dp_opacity_0)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_0;
    (&dp_ray_o_0)->primal_0 = ray_o_1;
    (&dp_ray_o_0)->differential_0 = _S3000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_0;
    (&dp_ray_d_0)->primal_0 = ray_d_1;
    (&dp_ray_d_0)->differential_0 = _S3000;
    s_bwd_evaluate_alpha_3dgs_0(&dp_mean_0, &dp_iscl_rot_0, &dp_opacity_0, &dp_ray_o_0, &dp_ray_d_0, v_alpha_0);
    *v_mean_5 = dp_mean_0.differential_0;
    *v_iscl_rot_1 = dp_iscl_rot_0.differential_0;
    *v_opacity_5 = dp_opacity_0.differential_0;
    *v_ray_o_1 = dp_ray_o_0.differential_0;
    *v_ray_d_1 = dp_ray_d_0.differential_0;
    return;
}

inline __device__ void evaluate_color_3dgs(float3  mean_18, Matrix<float, 3, 3>  iscl_rot_2, float opacity_12, float3  rgb_10, float3  ray_o_2, float3  ray_d_2, float3  * out_rgb_0, float * depth_10)
{
    *out_rgb_0 = rgb_10;
    float3  grd_1 = mul_0(iscl_rot_2, ray_d_2);
    *depth_10 = - dot_0(mul_0(iscl_rot_2, ray_o_2 - mean_18), grd_1) / dot_0(grd_1, grd_1);
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpiscl_rot_1, DiffPair_float_0 * dpopacity_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_1, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_1, float3  dpout_rgb_0, float dpdepth_0)
{
    float3  _S3002 = (*dpray_o_1).primal_0 - (*dpmean_1).primal_0;
    float3  _S3003 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, _S3002);
    float3  _S3004 = s_primal_ctx_mul_0((*dpiscl_rot_1).primal_0, (*dpray_d_1).primal_0);
    float _S3005 = s_primal_ctx_dot_0(_S3004, _S3004);
    float _S3006 = dpdepth_0 / (_S3005 * _S3005);
    float _S3007 = - s_primal_ctx_dot_0(_S3003, _S3004) * - _S3006;
    float _S3008 = _S3005 * _S3006;
    float3  _S3009 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3010;
    (&_S3010)->primal_0 = _S3004;
    (&_S3010)->differential_0 = _S3009;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3011;
    (&_S3011)->primal_0 = _S3004;
    (&_S3011)->differential_0 = _S3009;
    s_bwd_prop_dot_0(&_S3010, &_S3011, _S3007);
    float _S3012 = - _S3008;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3013;
    (&_S3013)->primal_0 = _S3003;
    (&_S3013)->differential_0 = _S3009;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3014;
    (&_S3014)->primal_0 = _S3004;
    (&_S3014)->differential_0 = _S3009;
    s_bwd_prop_dot_0(&_S3013, &_S3014, _S3012);
    float3  _S3015 = _S3011.differential_0 + _S3010.differential_0 + _S3014.differential_0;
    Matrix<float, 3, 3>  _S3016 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3017;
    (&_S3017)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S3017)->differential_0 = _S3016;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3018;
    (&_S3018)->primal_0 = (*dpray_d_1).primal_0;
    (&_S3018)->differential_0 = _S3009;
    s_bwd_prop_mul_1(&_S3017, &_S3018, _S3015);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3019;
    (&_S3019)->primal_0 = (*dpiscl_rot_1).primal_0;
    (&_S3019)->differential_0 = _S3016;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3020;
    (&_S3020)->primal_0 = _S3002;
    (&_S3020)->differential_0 = _S3009;
    s_bwd_prop_mul_1(&_S3019, &_S3020, _S3013.differential_0);
    float3  _S3021 = - _S3020.differential_0;
    dpray_d_1->primal_0 = (*dpray_d_1).primal_0;
    dpray_d_1->differential_0 = _S3018.differential_0;
    dpray_o_1->primal_0 = (*dpray_o_1).primal_0;
    dpray_o_1->differential_0 = _S3020.differential_0;
    dprgb_0->primal_0 = (*dprgb_0).primal_0;
    dprgb_0->differential_0 = dpout_rgb_0;
    dpopacity_1->primal_0 = (*dpopacity_1).primal_0;
    dpopacity_1->differential_0 = 0.0f;
    Matrix<float, 3, 3>  _S3022 = _S3017.differential_0 + _S3019.differential_0;
    dpiscl_rot_1->primal_0 = (*dpiscl_rot_1).primal_0;
    dpiscl_rot_1->differential_0 = _S3022;
    dpmean_1->primal_0 = (*dpmean_1).primal_0;
    dpmean_1->differential_0 = _S3021;
    return;
}

inline __device__ void s_bwd_evaluate_color_3dgs_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3023, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3024, DiffPair_float_0 * _S3025, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3026, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3027, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3028, float3  _S3029, float _S3030)
{
    s_bwd_prop_evaluate_color_3dgs_0(_S3023, _S3024, _S3025, _S3026, _S3027, _S3028, _S3029, _S3030);
    return;
}

inline __device__ void evaluate_color_3dgs_vjp(float3  mean_19, Matrix<float, 3, 3>  iscl_rot_3, float opacity_13, float3  rgb_11, float3  ray_o_3, float3  ray_d_3, float3  v_out_rgb_0, float v_depth_5, float3  * v_mean_6, Matrix<float, 3, 3>  * v_iscl_rot_2, float * v_opacity_6, float3  * v_rgb_5, float3  * v_ray_o_2, float3  * v_ray_d_2)
{
    float3  _S3031 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_1;
    (&dp_mean_1)->primal_0 = mean_19;
    (&dp_mean_1)->differential_0 = _S3031;
    Matrix<float, 3, 3>  _S3032 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_iscl_rot_1;
    (&dp_iscl_rot_1)->primal_0 = iscl_rot_3;
    (&dp_iscl_rot_1)->differential_0 = _S3032;
    DiffPair_float_0 dp_opacity_1;
    (&dp_opacity_1)->primal_0 = opacity_13;
    (&dp_opacity_1)->differential_0 = 0.0f;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_0;
    (&dp_rgb_0)->primal_0 = rgb_11;
    (&dp_rgb_0)->differential_0 = _S3031;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_1;
    (&dp_ray_o_1)->primal_0 = ray_o_3;
    (&dp_ray_o_1)->differential_0 = _S3031;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_1;
    (&dp_ray_d_1)->primal_0 = ray_d_3;
    (&dp_ray_d_1)->differential_0 = _S3031;
    s_bwd_evaluate_color_3dgs_0(&dp_mean_1, &dp_iscl_rot_1, &dp_opacity_1, &dp_rgb_0, &dp_ray_o_1, &dp_ray_d_1, v_out_rgb_0, v_depth_5);
    *v_mean_6 = dp_mean_1.differential_0;
    *v_iscl_rot_2 = dp_iscl_rot_1.differential_0;
    *v_opacity_6 = dp_opacity_1.differential_0;
    *v_rgb_5 = dp_rgb_0.differential_0;
    *v_ray_o_2 = dp_ray_o_1.differential_0;
    *v_ray_d_2 = dp_ray_d_1.differential_0;
    return;
}

inline __device__ void _d_rsqrt_0(DiffPair_float_0 * dpx_12, float dOut_16)
{
    float _S3033 = -0.5f / ((*dpx_12).primal_0 * (F32_sqrt(((*dpx_12).primal_0)))) * dOut_16;
    dpx_12->primal_0 = (*dpx_12).primal_0;
    dpx_12->differential_0 = _S3033;
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_15, float3  mean_20, float4  quat_21, float3  scale_20, float in_opacity_15, FixedArray<float3 , 2>  * sv_sites_0, FixedArray<float3 , 2>  * sv_colors_0, Matrix<float, 3, 3>  R_22, float3  t_18, float fx_24, float fy_24, float cx_19, float cy_19, FixedArray<float, 10>  * dist_coeffs_28, uint image_width_15, uint image_height_15, float near_plane_10, float far_plane_10, int4  * aabb_xyxy_10, float2  * mean2d_18, float * depth_11, float3  * conic_10, float * opacity_14, float3  * rgb_12)
{
    for(;;)
    {
        float3  mean_c_15 = mul_0(R_22, mean_20) + t_18;
        float _S3034 = mean_c_15.z;
        bool _S3035;
        if(_S3034 < near_plane_10)
        {
            _S3035 = true;
        }
        else
        {
            _S3035 = _S3034 > far_plane_10;
        }
        if(_S3035)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_14 = make_float4 (fx_24, fy_24, cx_19, cy_19);
        Matrix<float, 2, 2>  covar2d_10;
        float3  _S3036 = exp_0(scale_20);
        float x_41 = quat_21.y;
        float x2_21 = x_41 * x_41;
        float y2_21 = quat_21.z * quat_21.z;
        float z2_36 = quat_21.w * quat_21.w;
        float xy_21 = quat_21.y * quat_21.z;
        float xz_21 = quat_21.y * quat_21.w;
        float yz_21 = quat_21.z * quat_21.w;
        float wx_21 = quat_21.x * quat_21.y;
        float wy_21 = quat_21.x * quat_21.z;
        float wz_21 = quat_21.x * quat_21.w;
        Matrix<float, 3, 3>  _S3037 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_21 + z2_36), 2.0f * (xy_21 + wz_21), 2.0f * (xz_21 - wy_21), 2.0f * (xy_21 - wz_21), 1.0f - 2.0f * (x2_21 + z2_36), 2.0f * (yz_21 + wx_21), 2.0f * (xz_21 + wy_21), 2.0f * (yz_21 - wx_21), 1.0f - 2.0f * (x2_21 + y2_21))));
        SigmaPoints_0 ret_4;
        (&ret_4)->p_0[int(0)] = mean_20;
        (&ret_4)->w_mean_0[int(0)] = 0.0f;
        (&ret_4)->w_cov_0[int(0)] = 2.0f;
        float _S3038 = (F32_sqrt((3.0f)));
        float3  delta_18 = make_float3 (_S3038 * _S3036.x) * _S3037.rows[0U];
        float3  _S3039 = mean_20 + delta_18;
        float3  _S3040 = mean_20 - delta_18;
        float3  delta_19 = make_float3 (_S3038 * _S3036.y) * _S3037.rows[1U];
        float3  _S3041 = mean_20 + delta_19;
        float3  _S3042 = mean_20 - delta_19;
        float3  delta_20 = make_float3 (_S3038 * _S3036.z) * _S3037.rows[2U];
        float3  _S3043 = mean_20 + delta_20;
        float3  _S3044 = mean_20 - delta_20;
        (&ret_4)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_4)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_4)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_4)->p_0[0U] = mul_0(R_22, (&ret_4)->p_0[0U]) + t_18;
        (&ret_4)->p_0[1U] = mul_0(R_22, _S3039) + t_18;
        (&ret_4)->p_0[2U] = mul_0(R_22, _S3041) + t_18;
        (&ret_4)->p_0[3U] = mul_0(R_22, _S3043) + t_18;
        (&ret_4)->p_0[4U] = mul_0(R_22, _S3040) + t_18;
        (&ret_4)->p_0[5U] = mul_0(R_22, _S3042) + t_18;
        (&ret_4)->p_0[6U] = mul_0(R_22, _S3044) + t_18;
        SigmaPoints_0 _S3045 = ret_4;
        bool _S3046 = persp_proj_3dgs_ut_0(&_S3045, intrins_14, dist_coeffs_28, image_width_15, image_height_15, &covar2d_10, mean2d_18);
        if(!(true & _S3046))
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_16 = *&(((&covar2d_10)->rows + (int(0)))->x) * *&(((&covar2d_10)->rows + (int(1)))->y) - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float _S3047 = *&(((&covar2d_10)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(0)))->x) = _S3047;
        float _S3048 = *&(((&covar2d_10)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_10)->rows + (int(1)))->y) = _S3048;
        float det_blur_11 = _S3047 * _S3048 - *&(((&covar2d_10)->rows + (int(0)))->y) * *&(((&covar2d_10)->rows + (int(1)))->x);
        float compensation_11 = (F32_sqrt(((F32_max((0.0f), (det_orig_16 / det_blur_11))))));
        if(det_blur_11 <= 0.0f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_14 = 1.0f / (1.0f + (F32_exp((- in_opacity_15))));
        if(antialiased_15)
        {
            *opacity_14 = *opacity_14 * compensation_11;
        }
        if((*opacity_14) < 0.00392156885936856f)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_10 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_14 / 0.00392156885936856f)))))))));
        float radius_x_10 = extend_10 * (F32_sqrt((covar2d_10[int(0)].x)));
        float radius_y_10 = extend_10 * (F32_sqrt((covar2d_10[int(1)].y)));
        float xmin_5 = (F32_floor(((*mean2d_18).x - radius_x_10)));
        float xmax_5 = (F32_ceil(((*mean2d_18).x + radius_x_10)));
        float ymin_5 = (F32_floor(((*mean2d_18).y - radius_y_10)));
        float ymax_5 = (F32_ceil(((*mean2d_18).y + radius_y_10)));
        if(xmax_5 <= 0.0f)
        {
            _S3035 = true;
        }
        else
        {
            _S3035 = xmin_5 >= float(image_width_15);
        }
        if(_S3035)
        {
            _S3035 = true;
        }
        else
        {
            _S3035 = ymax_5 <= 0.0f;
        }
        if(_S3035)
        {
            _S3035 = true;
        }
        else
        {
            _S3035 = ymin_5 >= float(image_height_15);
        }
        if(_S3035)
        {
            *aabb_xyxy_10 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_10 = make_int4 (int(xmin_5), int(ymin_5), int(xmax_5), int(ymax_5));
        *depth_11 = (F32_max((_S3034), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3034 + length_1(mean_c_15)))));
        *conic_10 = exp_0(- scale_20);
        float3  _S3049 = mean_20 - - mul_0(transpose_0(R_22), t_18);
        float3  _S3050 = _S3049 * make_float3 ((F32_rsqrt((dot_0(_S3049, _S3049)))));
        float w_0 = (F32_exp((dot_0((*sv_sites_0)[int(0)], _S3050) - dot_0((*sv_sites_0)[int(1)], _S3050))));
        float w_1 = (F32_exp((0.0f)));
        *rgb_12 = max_0((make_float3 (w_0) * (*sv_colors_0)[int(0)] + make_float3 (w_1) * (*sv_colors_0)[int(1)]) / make_float3 (w_0 + w_1) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_16, float3  mean_21, float4  quat_22, float3  scale_21, float in_opacity_16, FixedArray<float3 , 2>  * sv_sites_1, FixedArray<float3 , 2>  * sv_colors_1, Matrix<float, 3, 3>  R_23, float3  t_19, float fx_25, float fy_25, float cx_20, float cy_20, FixedArray<float, 10>  * dist_coeffs_29, uint image_width_16, uint image_height_16, float near_plane_11, float far_plane_11, int4  * aabb_xyxy_11, float2  * mean2d_19, float * depth_12, float3  * conic_11, float * opacity_15, float3  * rgb_13)
{
    for(;;)
    {
        float3  mean_c_16 = mul_0(R_23, mean_21) + t_19;
        float _S3051 = length_1(mean_c_16);
        bool _S3052;
        if(_S3051 < near_plane_11)
        {
            _S3052 = true;
        }
        else
        {
            _S3052 = _S3051 > far_plane_11;
        }
        if(_S3052)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_15 = make_float4 (fx_25, fy_25, cx_20, cy_20);
        Matrix<float, 2, 2>  covar2d_11;
        float3  _S3053 = exp_0(scale_21);
        float x_42 = quat_22.y;
        float x2_22 = x_42 * x_42;
        float y2_22 = quat_22.z * quat_22.z;
        float z2_37 = quat_22.w * quat_22.w;
        float xy_22 = quat_22.y * quat_22.z;
        float xz_22 = quat_22.y * quat_22.w;
        float yz_22 = quat_22.z * quat_22.w;
        float wx_22 = quat_22.x * quat_22.y;
        float wy_22 = quat_22.x * quat_22.z;
        float wz_22 = quat_22.x * quat_22.w;
        Matrix<float, 3, 3>  _S3054 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_22 + z2_37), 2.0f * (xy_22 + wz_22), 2.0f * (xz_22 - wy_22), 2.0f * (xy_22 - wz_22), 1.0f - 2.0f * (x2_22 + z2_37), 2.0f * (yz_22 + wx_22), 2.0f * (xz_22 + wy_22), 2.0f * (yz_22 - wx_22), 1.0f - 2.0f * (x2_22 + y2_22))));
        SigmaPoints_0 ret_5;
        (&ret_5)->p_0[int(0)] = mean_21;
        (&ret_5)->w_mean_0[int(0)] = 0.0f;
        (&ret_5)->w_cov_0[int(0)] = 2.0f;
        float _S3055 = (F32_sqrt((3.0f)));
        float3  delta_21 = make_float3 (_S3055 * _S3053.x) * _S3054.rows[0U];
        float3  _S3056 = mean_21 + delta_21;
        float3  _S3057 = mean_21 - delta_21;
        float3  delta_22 = make_float3 (_S3055 * _S3053.y) * _S3054.rows[1U];
        float3  _S3058 = mean_21 + delta_22;
        float3  _S3059 = mean_21 - delta_22;
        float3  delta_23 = make_float3 (_S3055 * _S3053.z) * _S3054.rows[2U];
        float3  _S3060 = mean_21 + delta_23;
        float3  _S3061 = mean_21 - delta_23;
        (&ret_5)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_5)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_5)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_5)->p_0[0U] = mul_0(R_23, (&ret_5)->p_0[0U]) + t_19;
        (&ret_5)->p_0[1U] = mul_0(R_23, _S3056) + t_19;
        (&ret_5)->p_0[2U] = mul_0(R_23, _S3058) + t_19;
        (&ret_5)->p_0[3U] = mul_0(R_23, _S3060) + t_19;
        (&ret_5)->p_0[4U] = mul_0(R_23, _S3057) + t_19;
        (&ret_5)->p_0[5U] = mul_0(R_23, _S3059) + t_19;
        (&ret_5)->p_0[6U] = mul_0(R_23, _S3061) + t_19;
        SigmaPoints_0 _S3062 = ret_5;
        bool _S3063 = fisheye_proj_3dgs_ut_0(&_S3062, intrins_15, dist_coeffs_29, &covar2d_11, mean2d_19);
        if(!(true & _S3063))
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_17 = *&(((&covar2d_11)->rows + (int(0)))->x) * *&(((&covar2d_11)->rows + (int(1)))->y) - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float _S3064 = *&(((&covar2d_11)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(0)))->x) = _S3064;
        float _S3065 = *&(((&covar2d_11)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_11)->rows + (int(1)))->y) = _S3065;
        float det_blur_12 = _S3064 * _S3065 - *&(((&covar2d_11)->rows + (int(0)))->y) * *&(((&covar2d_11)->rows + (int(1)))->x);
        float compensation_12 = (F32_sqrt(((F32_max((0.0f), (det_orig_17 / det_blur_12))))));
        if(det_blur_12 <= 0.0f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_15 = 1.0f / (1.0f + (F32_exp((- in_opacity_16))));
        if(antialiased_16)
        {
            *opacity_15 = *opacity_15 * compensation_12;
        }
        if((*opacity_15) < 0.00392156885936856f)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_11 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_15 / 0.00392156885936856f)))))))));
        float radius_x_11 = extend_11 * (F32_sqrt((covar2d_11[int(0)].x)));
        float radius_y_11 = extend_11 * (F32_sqrt((covar2d_11[int(1)].y)));
        float xmin_6 = (F32_floor(((*mean2d_19).x - radius_x_11)));
        float xmax_6 = (F32_ceil(((*mean2d_19).x + radius_x_11)));
        float ymin_6 = (F32_floor(((*mean2d_19).y - radius_y_11)));
        float ymax_6 = (F32_ceil(((*mean2d_19).y + radius_y_11)));
        if(xmax_6 <= 0.0f)
        {
            _S3052 = true;
        }
        else
        {
            _S3052 = xmin_6 >= float(image_width_16);
        }
        if(_S3052)
        {
            _S3052 = true;
        }
        else
        {
            _S3052 = ymax_6 <= 0.0f;
        }
        if(_S3052)
        {
            _S3052 = true;
        }
        else
        {
            _S3052 = ymin_6 >= float(image_height_16);
        }
        if(_S3052)
        {
            *aabb_xyxy_11 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_11 = make_int4 (int(xmin_6), int(ymin_6), int(xmax_6), int(ymax_6));
        float _S3066 = mean_c_16.z;
        *depth_12 = (F32_max((_S3066), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3066 + _S3051))));
        *conic_11 = exp_0(- scale_21);
        float3  _S3067 = mean_21 - - mul_0(transpose_0(R_23), t_19);
        float3  _S3068 = _S3067 * make_float3 ((F32_rsqrt((dot_0(_S3067, _S3067)))));
        float w_2 = (F32_exp((dot_0((*sv_sites_1)[int(0)], _S3068) - dot_0((*sv_sites_1)[int(1)], _S3068))));
        float w_3 = (F32_exp((0.0f)));
        *rgb_13 = max_0((make_float3 (w_2) * (*sv_colors_1)[int(0)] + make_float3 (w_3) * (*sv_colors_1)[int(1)]) / make_float3 (w_2 + w_3) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_17, float3  mean_22, float4  quat_23, float3  scale_22, float in_opacity_17, FixedArray<float3 , 3>  * sv_sites_2, FixedArray<float3 , 3>  * sv_colors_2, Matrix<float, 3, 3>  R_24, float3  t_20, float fx_26, float fy_26, float cx_21, float cy_21, FixedArray<float, 10>  * dist_coeffs_30, uint image_width_17, uint image_height_17, float near_plane_12, float far_plane_12, int4  * aabb_xyxy_12, float2  * mean2d_20, float * depth_13, float3  * conic_12, float * opacity_16, float3  * rgb_14)
{
    for(;;)
    {
        float3  mean_c_17 = mul_0(R_24, mean_22) + t_20;
        float _S3069 = mean_c_17.z;
        bool _S3070;
        if(_S3069 < near_plane_12)
        {
            _S3070 = true;
        }
        else
        {
            _S3070 = _S3069 > far_plane_12;
        }
        if(_S3070)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_16 = make_float4 (fx_26, fy_26, cx_21, cy_21);
        Matrix<float, 2, 2>  covar2d_12;
        float3  _S3071 = exp_0(scale_22);
        float x_43 = quat_23.y;
        float x2_23 = x_43 * x_43;
        float y2_23 = quat_23.z * quat_23.z;
        float z2_38 = quat_23.w * quat_23.w;
        float xy_23 = quat_23.y * quat_23.z;
        float xz_23 = quat_23.y * quat_23.w;
        float yz_23 = quat_23.z * quat_23.w;
        float wx_23 = quat_23.x * quat_23.y;
        float wy_23 = quat_23.x * quat_23.z;
        float wz_23 = quat_23.x * quat_23.w;
        Matrix<float, 3, 3>  _S3072 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_23 + z2_38), 2.0f * (xy_23 + wz_23), 2.0f * (xz_23 - wy_23), 2.0f * (xy_23 - wz_23), 1.0f - 2.0f * (x2_23 + z2_38), 2.0f * (yz_23 + wx_23), 2.0f * (xz_23 + wy_23), 2.0f * (yz_23 - wx_23), 1.0f - 2.0f * (x2_23 + y2_23))));
        SigmaPoints_0 ret_6;
        (&ret_6)->p_0[int(0)] = mean_22;
        (&ret_6)->w_mean_0[int(0)] = 0.0f;
        (&ret_6)->w_cov_0[int(0)] = 2.0f;
        float _S3073 = (F32_sqrt((3.0f)));
        float3  delta_24 = make_float3 (_S3073 * _S3071.x) * _S3072.rows[0U];
        float3  _S3074 = mean_22 + delta_24;
        float3  _S3075 = mean_22 - delta_24;
        float3  delta_25 = make_float3 (_S3073 * _S3071.y) * _S3072.rows[1U];
        float3  _S3076 = mean_22 + delta_25;
        float3  _S3077 = mean_22 - delta_25;
        float3  delta_26 = make_float3 (_S3073 * _S3071.z) * _S3072.rows[2U];
        float3  _S3078 = mean_22 + delta_26;
        float3  _S3079 = mean_22 - delta_26;
        (&ret_6)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_6)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_6)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_6)->p_0[0U] = mul_0(R_24, (&ret_6)->p_0[0U]) + t_20;
        (&ret_6)->p_0[1U] = mul_0(R_24, _S3074) + t_20;
        (&ret_6)->p_0[2U] = mul_0(R_24, _S3076) + t_20;
        (&ret_6)->p_0[3U] = mul_0(R_24, _S3078) + t_20;
        (&ret_6)->p_0[4U] = mul_0(R_24, _S3075) + t_20;
        (&ret_6)->p_0[5U] = mul_0(R_24, _S3077) + t_20;
        (&ret_6)->p_0[6U] = mul_0(R_24, _S3079) + t_20;
        SigmaPoints_0 _S3080 = ret_6;
        bool _S3081 = persp_proj_3dgs_ut_0(&_S3080, intrins_16, dist_coeffs_30, image_width_17, image_height_17, &covar2d_12, mean2d_20);
        if(!(true & _S3081))
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_18 = *&(((&covar2d_12)->rows + (int(0)))->x) * *&(((&covar2d_12)->rows + (int(1)))->y) - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float _S3082 = *&(((&covar2d_12)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(0)))->x) = _S3082;
        float _S3083 = *&(((&covar2d_12)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_12)->rows + (int(1)))->y) = _S3083;
        float det_blur_13 = _S3082 * _S3083 - *&(((&covar2d_12)->rows + (int(0)))->y) * *&(((&covar2d_12)->rows + (int(1)))->x);
        float compensation_13 = (F32_sqrt(((F32_max((0.0f), (det_orig_18 / det_blur_13))))));
        if(det_blur_13 <= 0.0f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_16 = 1.0f / (1.0f + (F32_exp((- in_opacity_17))));
        if(antialiased_17)
        {
            *opacity_16 = *opacity_16 * compensation_13;
        }
        if((*opacity_16) < 0.00392156885936856f)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_12 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_16 / 0.00392156885936856f)))))))));
        float radius_x_12 = extend_12 * (F32_sqrt((covar2d_12[int(0)].x)));
        float radius_y_12 = extend_12 * (F32_sqrt((covar2d_12[int(1)].y)));
        float xmin_7 = (F32_floor(((*mean2d_20).x - radius_x_12)));
        float xmax_7 = (F32_ceil(((*mean2d_20).x + radius_x_12)));
        float ymin_7 = (F32_floor(((*mean2d_20).y - radius_y_12)));
        float ymax_7 = (F32_ceil(((*mean2d_20).y + radius_y_12)));
        if(xmax_7 <= 0.0f)
        {
            _S3070 = true;
        }
        else
        {
            _S3070 = xmin_7 >= float(image_width_17);
        }
        if(_S3070)
        {
            _S3070 = true;
        }
        else
        {
            _S3070 = ymax_7 <= 0.0f;
        }
        if(_S3070)
        {
            _S3070 = true;
        }
        else
        {
            _S3070 = ymin_7 >= float(image_height_17);
        }
        if(_S3070)
        {
            *aabb_xyxy_12 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_12 = make_int4 (int(xmin_7), int(ymin_7), int(xmax_7), int(ymax_7));
        *depth_13 = (F32_max((_S3069), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3069 + length_1(mean_c_17)))));
        *conic_12 = exp_0(- scale_22);
        float3  _S3084 = mean_22 - - mul_0(transpose_0(R_24), t_20);
        float3  _S3085 = _S3084 * make_float3 ((F32_rsqrt((dot_0(_S3084, _S3084)))));
        float _S3086 = dot_0((*sv_sites_2)[int(2)], _S3085);
        float w_4 = (F32_exp((dot_0((*sv_sites_2)[int(0)], _S3085) - _S3086)));
        float w_5 = (F32_exp((dot_0((*sv_sites_2)[int(1)], _S3085) - _S3086)));
        float w_6 = (F32_exp((0.0f)));
        *rgb_14 = max_0((make_float3 (w_4) * (*sv_colors_2)[int(0)] + make_float3 (w_5) * (*sv_colors_2)[int(1)] + make_float3 (w_6) * (*sv_colors_2)[int(2)]) / make_float3 (w_4 + w_5 + w_6) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_18, float3  mean_23, float4  quat_24, float3  scale_23, float in_opacity_18, FixedArray<float3 , 3>  * sv_sites_3, FixedArray<float3 , 3>  * sv_colors_3, Matrix<float, 3, 3>  R_25, float3  t_21, float fx_27, float fy_27, float cx_22, float cy_22, FixedArray<float, 10>  * dist_coeffs_31, uint image_width_18, uint image_height_18, float near_plane_13, float far_plane_13, int4  * aabb_xyxy_13, float2  * mean2d_21, float * depth_14, float3  * conic_13, float * opacity_17, float3  * rgb_15)
{
    for(;;)
    {
        float3  mean_c_18 = mul_0(R_25, mean_23) + t_21;
        float _S3087 = length_1(mean_c_18);
        bool _S3088;
        if(_S3087 < near_plane_13)
        {
            _S3088 = true;
        }
        else
        {
            _S3088 = _S3087 > far_plane_13;
        }
        if(_S3088)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_17 = make_float4 (fx_27, fy_27, cx_22, cy_22);
        Matrix<float, 2, 2>  covar2d_13;
        float3  _S3089 = exp_0(scale_23);
        float x_44 = quat_24.y;
        float x2_24 = x_44 * x_44;
        float y2_24 = quat_24.z * quat_24.z;
        float z2_39 = quat_24.w * quat_24.w;
        float xy_24 = quat_24.y * quat_24.z;
        float xz_24 = quat_24.y * quat_24.w;
        float yz_24 = quat_24.z * quat_24.w;
        float wx_24 = quat_24.x * quat_24.y;
        float wy_24 = quat_24.x * quat_24.z;
        float wz_24 = quat_24.x * quat_24.w;
        Matrix<float, 3, 3>  _S3090 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_24 + z2_39), 2.0f * (xy_24 + wz_24), 2.0f * (xz_24 - wy_24), 2.0f * (xy_24 - wz_24), 1.0f - 2.0f * (x2_24 + z2_39), 2.0f * (yz_24 + wx_24), 2.0f * (xz_24 + wy_24), 2.0f * (yz_24 - wx_24), 1.0f - 2.0f * (x2_24 + y2_24))));
        SigmaPoints_0 ret_7;
        (&ret_7)->p_0[int(0)] = mean_23;
        (&ret_7)->w_mean_0[int(0)] = 0.0f;
        (&ret_7)->w_cov_0[int(0)] = 2.0f;
        float _S3091 = (F32_sqrt((3.0f)));
        float3  delta_27 = make_float3 (_S3091 * _S3089.x) * _S3090.rows[0U];
        float3  _S3092 = mean_23 + delta_27;
        float3  _S3093 = mean_23 - delta_27;
        float3  delta_28 = make_float3 (_S3091 * _S3089.y) * _S3090.rows[1U];
        float3  _S3094 = mean_23 + delta_28;
        float3  _S3095 = mean_23 - delta_28;
        float3  delta_29 = make_float3 (_S3091 * _S3089.z) * _S3090.rows[2U];
        float3  _S3096 = mean_23 + delta_29;
        float3  _S3097 = mean_23 - delta_29;
        (&ret_7)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_7)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_7)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_7)->p_0[0U] = mul_0(R_25, (&ret_7)->p_0[0U]) + t_21;
        (&ret_7)->p_0[1U] = mul_0(R_25, _S3092) + t_21;
        (&ret_7)->p_0[2U] = mul_0(R_25, _S3094) + t_21;
        (&ret_7)->p_0[3U] = mul_0(R_25, _S3096) + t_21;
        (&ret_7)->p_0[4U] = mul_0(R_25, _S3093) + t_21;
        (&ret_7)->p_0[5U] = mul_0(R_25, _S3095) + t_21;
        (&ret_7)->p_0[6U] = mul_0(R_25, _S3097) + t_21;
        SigmaPoints_0 _S3098 = ret_7;
        bool _S3099 = fisheye_proj_3dgs_ut_0(&_S3098, intrins_17, dist_coeffs_31, &covar2d_13, mean2d_21);
        if(!(true & _S3099))
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_19 = *&(((&covar2d_13)->rows + (int(0)))->x) * *&(((&covar2d_13)->rows + (int(1)))->y) - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float _S3100 = *&(((&covar2d_13)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(0)))->x) = _S3100;
        float _S3101 = *&(((&covar2d_13)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_13)->rows + (int(1)))->y) = _S3101;
        float det_blur_14 = _S3100 * _S3101 - *&(((&covar2d_13)->rows + (int(0)))->y) * *&(((&covar2d_13)->rows + (int(1)))->x);
        float compensation_14 = (F32_sqrt(((F32_max((0.0f), (det_orig_19 / det_blur_14))))));
        if(det_blur_14 <= 0.0f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_17 = 1.0f / (1.0f + (F32_exp((- in_opacity_18))));
        if(antialiased_18)
        {
            *opacity_17 = *opacity_17 * compensation_14;
        }
        if((*opacity_17) < 0.00392156885936856f)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_13 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_17 / 0.00392156885936856f)))))))));
        float radius_x_13 = extend_13 * (F32_sqrt((covar2d_13[int(0)].x)));
        float radius_y_13 = extend_13 * (F32_sqrt((covar2d_13[int(1)].y)));
        float xmin_8 = (F32_floor(((*mean2d_21).x - radius_x_13)));
        float xmax_8 = (F32_ceil(((*mean2d_21).x + radius_x_13)));
        float ymin_8 = (F32_floor(((*mean2d_21).y - radius_y_13)));
        float ymax_8 = (F32_ceil(((*mean2d_21).y + radius_y_13)));
        if(xmax_8 <= 0.0f)
        {
            _S3088 = true;
        }
        else
        {
            _S3088 = xmin_8 >= float(image_width_18);
        }
        if(_S3088)
        {
            _S3088 = true;
        }
        else
        {
            _S3088 = ymax_8 <= 0.0f;
        }
        if(_S3088)
        {
            _S3088 = true;
        }
        else
        {
            _S3088 = ymin_8 >= float(image_height_18);
        }
        if(_S3088)
        {
            *aabb_xyxy_13 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_13 = make_int4 (int(xmin_8), int(ymin_8), int(xmax_8), int(ymax_8));
        float _S3102 = mean_c_18.z;
        *depth_14 = (F32_max((_S3102), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3102 + _S3087))));
        *conic_13 = exp_0(- scale_23);
        float3  _S3103 = mean_23 - - mul_0(transpose_0(R_25), t_21);
        float3  _S3104 = _S3103 * make_float3 ((F32_rsqrt((dot_0(_S3103, _S3103)))));
        float _S3105 = dot_0((*sv_sites_3)[int(2)], _S3104);
        float w_7 = (F32_exp((dot_0((*sv_sites_3)[int(0)], _S3104) - _S3105)));
        float w_8 = (F32_exp((dot_0((*sv_sites_3)[int(1)], _S3104) - _S3105)));
        float w_9 = (F32_exp((0.0f)));
        *rgb_15 = max_0((make_float3 (w_7) * (*sv_colors_3)[int(0)] + make_float3 (w_8) * (*sv_colors_3)[int(1)] + make_float3 (w_9) * (*sv_colors_3)[int(2)]) / make_float3 (w_7 + w_8 + w_9) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_19, float3  mean_24, float4  quat_25, float3  scale_24, float in_opacity_19, FixedArray<float3 , 4>  * sv_sites_4, FixedArray<float3 , 4>  * sv_colors_4, Matrix<float, 3, 3>  R_26, float3  t_22, float fx_28, float fy_28, float cx_23, float cy_23, FixedArray<float, 10>  * dist_coeffs_32, uint image_width_19, uint image_height_19, float near_plane_14, float far_plane_14, int4  * aabb_xyxy_14, float2  * mean2d_22, float * depth_15, float3  * conic_14, float * opacity_18, float3  * rgb_16)
{
    for(;;)
    {
        float3  mean_c_19 = mul_0(R_26, mean_24) + t_22;
        float _S3106 = mean_c_19.z;
        bool _S3107;
        if(_S3106 < near_plane_14)
        {
            _S3107 = true;
        }
        else
        {
            _S3107 = _S3106 > far_plane_14;
        }
        if(_S3107)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_18 = make_float4 (fx_28, fy_28, cx_23, cy_23);
        Matrix<float, 2, 2>  covar2d_14;
        float3  _S3108 = exp_0(scale_24);
        float x_45 = quat_25.y;
        float x2_25 = x_45 * x_45;
        float y2_25 = quat_25.z * quat_25.z;
        float z2_40 = quat_25.w * quat_25.w;
        float xy_25 = quat_25.y * quat_25.z;
        float xz_25 = quat_25.y * quat_25.w;
        float yz_25 = quat_25.z * quat_25.w;
        float wx_25 = quat_25.x * quat_25.y;
        float wy_25 = quat_25.x * quat_25.z;
        float wz_25 = quat_25.x * quat_25.w;
        Matrix<float, 3, 3>  _S3109 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_25 + z2_40), 2.0f * (xy_25 + wz_25), 2.0f * (xz_25 - wy_25), 2.0f * (xy_25 - wz_25), 1.0f - 2.0f * (x2_25 + z2_40), 2.0f * (yz_25 + wx_25), 2.0f * (xz_25 + wy_25), 2.0f * (yz_25 - wx_25), 1.0f - 2.0f * (x2_25 + y2_25))));
        SigmaPoints_0 ret_8;
        (&ret_8)->p_0[int(0)] = mean_24;
        (&ret_8)->w_mean_0[int(0)] = 0.0f;
        (&ret_8)->w_cov_0[int(0)] = 2.0f;
        float _S3110 = (F32_sqrt((3.0f)));
        float3  delta_30 = make_float3 (_S3110 * _S3108.x) * _S3109.rows[0U];
        float3  _S3111 = mean_24 + delta_30;
        float3  _S3112 = mean_24 - delta_30;
        float3  delta_31 = make_float3 (_S3110 * _S3108.y) * _S3109.rows[1U];
        float3  _S3113 = mean_24 + delta_31;
        float3  _S3114 = mean_24 - delta_31;
        float3  delta_32 = make_float3 (_S3110 * _S3108.z) * _S3109.rows[2U];
        float3  _S3115 = mean_24 + delta_32;
        float3  _S3116 = mean_24 - delta_32;
        (&ret_8)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_8)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_8)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_8)->p_0[0U] = mul_0(R_26, (&ret_8)->p_0[0U]) + t_22;
        (&ret_8)->p_0[1U] = mul_0(R_26, _S3111) + t_22;
        (&ret_8)->p_0[2U] = mul_0(R_26, _S3113) + t_22;
        (&ret_8)->p_0[3U] = mul_0(R_26, _S3115) + t_22;
        (&ret_8)->p_0[4U] = mul_0(R_26, _S3112) + t_22;
        (&ret_8)->p_0[5U] = mul_0(R_26, _S3114) + t_22;
        (&ret_8)->p_0[6U] = mul_0(R_26, _S3116) + t_22;
        SigmaPoints_0 _S3117 = ret_8;
        bool _S3118 = persp_proj_3dgs_ut_0(&_S3117, intrins_18, dist_coeffs_32, image_width_19, image_height_19, &covar2d_14, mean2d_22);
        if(!(true & _S3118))
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_20 = *&(((&covar2d_14)->rows + (int(0)))->x) * *&(((&covar2d_14)->rows + (int(1)))->y) - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float _S3119 = *&(((&covar2d_14)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(0)))->x) = _S3119;
        float _S3120 = *&(((&covar2d_14)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_14)->rows + (int(1)))->y) = _S3120;
        float det_blur_15 = _S3119 * _S3120 - *&(((&covar2d_14)->rows + (int(0)))->y) * *&(((&covar2d_14)->rows + (int(1)))->x);
        float compensation_15 = (F32_sqrt(((F32_max((0.0f), (det_orig_20 / det_blur_15))))));
        if(det_blur_15 <= 0.0f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_18 = 1.0f / (1.0f + (F32_exp((- in_opacity_19))));
        if(antialiased_19)
        {
            *opacity_18 = *opacity_18 * compensation_15;
        }
        if((*opacity_18) < 0.00392156885936856f)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_14 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_18 / 0.00392156885936856f)))))))));
        float radius_x_14 = extend_14 * (F32_sqrt((covar2d_14[int(0)].x)));
        float radius_y_14 = extend_14 * (F32_sqrt((covar2d_14[int(1)].y)));
        float xmin_9 = (F32_floor(((*mean2d_22).x - radius_x_14)));
        float xmax_9 = (F32_ceil(((*mean2d_22).x + radius_x_14)));
        float ymin_9 = (F32_floor(((*mean2d_22).y - radius_y_14)));
        float ymax_9 = (F32_ceil(((*mean2d_22).y + radius_y_14)));
        if(xmax_9 <= 0.0f)
        {
            _S3107 = true;
        }
        else
        {
            _S3107 = xmin_9 >= float(image_width_19);
        }
        if(_S3107)
        {
            _S3107 = true;
        }
        else
        {
            _S3107 = ymax_9 <= 0.0f;
        }
        if(_S3107)
        {
            _S3107 = true;
        }
        else
        {
            _S3107 = ymin_9 >= float(image_height_19);
        }
        if(_S3107)
        {
            *aabb_xyxy_14 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_14 = make_int4 (int(xmin_9), int(ymin_9), int(xmax_9), int(ymax_9));
        *depth_15 = (F32_max((_S3106), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3106 + length_1(mean_c_19)))));
        *conic_14 = exp_0(- scale_24);
        float3  _S3121 = mean_24 - - mul_0(transpose_0(R_26), t_22);
        float3  _S3122 = _S3121 * make_float3 ((F32_rsqrt((dot_0(_S3121, _S3121)))));
        float _S3123 = dot_0((*sv_sites_4)[int(3)], _S3122);
        float w_10 = (F32_exp((dot_0((*sv_sites_4)[int(0)], _S3122) - _S3123)));
        float w_11 = (F32_exp((dot_0((*sv_sites_4)[int(1)], _S3122) - _S3123)));
        float w_12 = (F32_exp((dot_0((*sv_sites_4)[int(2)], _S3122) - _S3123)));
        float w_13 = (F32_exp((0.0f)));
        *rgb_16 = max_0((make_float3 (w_10) * (*sv_colors_4)[int(0)] + make_float3 (w_11) * (*sv_colors_4)[int(1)] + make_float3 (w_12) * (*sv_colors_4)[int(2)] + make_float3 (w_13) * (*sv_colors_4)[int(3)]) / make_float3 (w_10 + w_11 + w_12 + w_13) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_20, float3  mean_25, float4  quat_26, float3  scale_25, float in_opacity_20, FixedArray<float3 , 4>  * sv_sites_5, FixedArray<float3 , 4>  * sv_colors_5, Matrix<float, 3, 3>  R_27, float3  t_23, float fx_29, float fy_29, float cx_24, float cy_24, FixedArray<float, 10>  * dist_coeffs_33, uint image_width_20, uint image_height_20, float near_plane_15, float far_plane_15, int4  * aabb_xyxy_15, float2  * mean2d_23, float * depth_16, float3  * conic_15, float * opacity_19, float3  * rgb_17)
{
    for(;;)
    {
        float3  mean_c_20 = mul_0(R_27, mean_25) + t_23;
        float _S3124 = length_1(mean_c_20);
        bool _S3125;
        if(_S3124 < near_plane_15)
        {
            _S3125 = true;
        }
        else
        {
            _S3125 = _S3124 > far_plane_15;
        }
        if(_S3125)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_19 = make_float4 (fx_29, fy_29, cx_24, cy_24);
        Matrix<float, 2, 2>  covar2d_15;
        float3  _S3126 = exp_0(scale_25);
        float x_46 = quat_26.y;
        float x2_26 = x_46 * x_46;
        float y2_26 = quat_26.z * quat_26.z;
        float z2_41 = quat_26.w * quat_26.w;
        float xy_26 = quat_26.y * quat_26.z;
        float xz_26 = quat_26.y * quat_26.w;
        float yz_26 = quat_26.z * quat_26.w;
        float wx_26 = quat_26.x * quat_26.y;
        float wy_26 = quat_26.x * quat_26.z;
        float wz_26 = quat_26.x * quat_26.w;
        Matrix<float, 3, 3>  _S3127 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_26 + z2_41), 2.0f * (xy_26 + wz_26), 2.0f * (xz_26 - wy_26), 2.0f * (xy_26 - wz_26), 1.0f - 2.0f * (x2_26 + z2_41), 2.0f * (yz_26 + wx_26), 2.0f * (xz_26 + wy_26), 2.0f * (yz_26 - wx_26), 1.0f - 2.0f * (x2_26 + y2_26))));
        SigmaPoints_0 ret_9;
        (&ret_9)->p_0[int(0)] = mean_25;
        (&ret_9)->w_mean_0[int(0)] = 0.0f;
        (&ret_9)->w_cov_0[int(0)] = 2.0f;
        float _S3128 = (F32_sqrt((3.0f)));
        float3  delta_33 = make_float3 (_S3128 * _S3126.x) * _S3127.rows[0U];
        float3  _S3129 = mean_25 + delta_33;
        float3  _S3130 = mean_25 - delta_33;
        float3  delta_34 = make_float3 (_S3128 * _S3126.y) * _S3127.rows[1U];
        float3  _S3131 = mean_25 + delta_34;
        float3  _S3132 = mean_25 - delta_34;
        float3  delta_35 = make_float3 (_S3128 * _S3126.z) * _S3127.rows[2U];
        float3  _S3133 = mean_25 + delta_35;
        float3  _S3134 = mean_25 - delta_35;
        (&ret_9)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_9)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_9)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_9)->p_0[0U] = mul_0(R_27, (&ret_9)->p_0[0U]) + t_23;
        (&ret_9)->p_0[1U] = mul_0(R_27, _S3129) + t_23;
        (&ret_9)->p_0[2U] = mul_0(R_27, _S3131) + t_23;
        (&ret_9)->p_0[3U] = mul_0(R_27, _S3133) + t_23;
        (&ret_9)->p_0[4U] = mul_0(R_27, _S3130) + t_23;
        (&ret_9)->p_0[5U] = mul_0(R_27, _S3132) + t_23;
        (&ret_9)->p_0[6U] = mul_0(R_27, _S3134) + t_23;
        SigmaPoints_0 _S3135 = ret_9;
        bool _S3136 = fisheye_proj_3dgs_ut_0(&_S3135, intrins_19, dist_coeffs_33, &covar2d_15, mean2d_23);
        if(!(true & _S3136))
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_21 = *&(((&covar2d_15)->rows + (int(0)))->x) * *&(((&covar2d_15)->rows + (int(1)))->y) - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float _S3137 = *&(((&covar2d_15)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(0)))->x) = _S3137;
        float _S3138 = *&(((&covar2d_15)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_15)->rows + (int(1)))->y) = _S3138;
        float det_blur_16 = _S3137 * _S3138 - *&(((&covar2d_15)->rows + (int(0)))->y) * *&(((&covar2d_15)->rows + (int(1)))->x);
        float compensation_16 = (F32_sqrt(((F32_max((0.0f), (det_orig_21 / det_blur_16))))));
        if(det_blur_16 <= 0.0f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_19 = 1.0f / (1.0f + (F32_exp((- in_opacity_20))));
        if(antialiased_20)
        {
            *opacity_19 = *opacity_19 * compensation_16;
        }
        if((*opacity_19) < 0.00392156885936856f)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_15 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_19 / 0.00392156885936856f)))))))));
        float radius_x_15 = extend_15 * (F32_sqrt((covar2d_15[int(0)].x)));
        float radius_y_15 = extend_15 * (F32_sqrt((covar2d_15[int(1)].y)));
        float xmin_10 = (F32_floor(((*mean2d_23).x - radius_x_15)));
        float xmax_10 = (F32_ceil(((*mean2d_23).x + radius_x_15)));
        float ymin_10 = (F32_floor(((*mean2d_23).y - radius_y_15)));
        float ymax_10 = (F32_ceil(((*mean2d_23).y + radius_y_15)));
        if(xmax_10 <= 0.0f)
        {
            _S3125 = true;
        }
        else
        {
            _S3125 = xmin_10 >= float(image_width_20);
        }
        if(_S3125)
        {
            _S3125 = true;
        }
        else
        {
            _S3125 = ymax_10 <= 0.0f;
        }
        if(_S3125)
        {
            _S3125 = true;
        }
        else
        {
            _S3125 = ymin_10 >= float(image_height_20);
        }
        if(_S3125)
        {
            *aabb_xyxy_15 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_15 = make_int4 (int(xmin_10), int(ymin_10), int(xmax_10), int(ymax_10));
        float _S3139 = mean_c_20.z;
        *depth_16 = (F32_max((_S3139), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3139 + _S3124))));
        *conic_15 = exp_0(- scale_25);
        float3  _S3140 = mean_25 - - mul_0(transpose_0(R_27), t_23);
        float3  _S3141 = _S3140 * make_float3 ((F32_rsqrt((dot_0(_S3140, _S3140)))));
        float _S3142 = dot_0((*sv_sites_5)[int(3)], _S3141);
        float w_14 = (F32_exp((dot_0((*sv_sites_5)[int(0)], _S3141) - _S3142)));
        float w_15 = (F32_exp((dot_0((*sv_sites_5)[int(1)], _S3141) - _S3142)));
        float w_16 = (F32_exp((dot_0((*sv_sites_5)[int(2)], _S3141) - _S3142)));
        float w_17 = (F32_exp((0.0f)));
        *rgb_17 = max_0((make_float3 (w_14) * (*sv_colors_5)[int(0)] + make_float3 (w_15) * (*sv_colors_5)[int(1)] + make_float3 (w_16) * (*sv_colors_5)[int(2)] + make_float3 (w_17) * (*sv_colors_5)[int(3)]) / make_float3 (w_14 + w_15 + w_16 + w_17) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_21, float3  mean_26, float4  quat_27, float3  scale_26, float in_opacity_21, FixedArray<float3 , 5>  * sv_sites_6, FixedArray<float3 , 5>  * sv_colors_6, Matrix<float, 3, 3>  R_28, float3  t_24, float fx_30, float fy_30, float cx_25, float cy_25, FixedArray<float, 10>  * dist_coeffs_34, uint image_width_21, uint image_height_21, float near_plane_16, float far_plane_16, int4  * aabb_xyxy_16, float2  * mean2d_24, float * depth_17, float3  * conic_16, float * opacity_20, float3  * rgb_18)
{
    for(;;)
    {
        float3  mean_c_21 = mul_0(R_28, mean_26) + t_24;
        float _S3143 = mean_c_21.z;
        bool _S3144;
        if(_S3143 < near_plane_16)
        {
            _S3144 = true;
        }
        else
        {
            _S3144 = _S3143 > far_plane_16;
        }
        if(_S3144)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_20 = make_float4 (fx_30, fy_30, cx_25, cy_25);
        Matrix<float, 2, 2>  covar2d_16;
        float3  _S3145 = exp_0(scale_26);
        float x_47 = quat_27.y;
        float x2_27 = x_47 * x_47;
        float y2_27 = quat_27.z * quat_27.z;
        float z2_42 = quat_27.w * quat_27.w;
        float xy_27 = quat_27.y * quat_27.z;
        float xz_27 = quat_27.y * quat_27.w;
        float yz_27 = quat_27.z * quat_27.w;
        float wx_27 = quat_27.x * quat_27.y;
        float wy_27 = quat_27.x * quat_27.z;
        float wz_27 = quat_27.x * quat_27.w;
        Matrix<float, 3, 3>  _S3146 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_27 + z2_42), 2.0f * (xy_27 + wz_27), 2.0f * (xz_27 - wy_27), 2.0f * (xy_27 - wz_27), 1.0f - 2.0f * (x2_27 + z2_42), 2.0f * (yz_27 + wx_27), 2.0f * (xz_27 + wy_27), 2.0f * (yz_27 - wx_27), 1.0f - 2.0f * (x2_27 + y2_27))));
        SigmaPoints_0 ret_10;
        (&ret_10)->p_0[int(0)] = mean_26;
        (&ret_10)->w_mean_0[int(0)] = 0.0f;
        (&ret_10)->w_cov_0[int(0)] = 2.0f;
        float _S3147 = (F32_sqrt((3.0f)));
        float3  delta_36 = make_float3 (_S3147 * _S3145.x) * _S3146.rows[0U];
        float3  _S3148 = mean_26 + delta_36;
        float3  _S3149 = mean_26 - delta_36;
        float3  delta_37 = make_float3 (_S3147 * _S3145.y) * _S3146.rows[1U];
        float3  _S3150 = mean_26 + delta_37;
        float3  _S3151 = mean_26 - delta_37;
        float3  delta_38 = make_float3 (_S3147 * _S3145.z) * _S3146.rows[2U];
        float3  _S3152 = mean_26 + delta_38;
        float3  _S3153 = mean_26 - delta_38;
        (&ret_10)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_10)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_10)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_10)->p_0[0U] = mul_0(R_28, (&ret_10)->p_0[0U]) + t_24;
        (&ret_10)->p_0[1U] = mul_0(R_28, _S3148) + t_24;
        (&ret_10)->p_0[2U] = mul_0(R_28, _S3150) + t_24;
        (&ret_10)->p_0[3U] = mul_0(R_28, _S3152) + t_24;
        (&ret_10)->p_0[4U] = mul_0(R_28, _S3149) + t_24;
        (&ret_10)->p_0[5U] = mul_0(R_28, _S3151) + t_24;
        (&ret_10)->p_0[6U] = mul_0(R_28, _S3153) + t_24;
        SigmaPoints_0 _S3154 = ret_10;
        bool _S3155 = persp_proj_3dgs_ut_0(&_S3154, intrins_20, dist_coeffs_34, image_width_21, image_height_21, &covar2d_16, mean2d_24);
        if(!(true & _S3155))
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_22 = *&(((&covar2d_16)->rows + (int(0)))->x) * *&(((&covar2d_16)->rows + (int(1)))->y) - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float _S3156 = *&(((&covar2d_16)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(0)))->x) = _S3156;
        float _S3157 = *&(((&covar2d_16)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_16)->rows + (int(1)))->y) = _S3157;
        float det_blur_17 = _S3156 * _S3157 - *&(((&covar2d_16)->rows + (int(0)))->y) * *&(((&covar2d_16)->rows + (int(1)))->x);
        float compensation_17 = (F32_sqrt(((F32_max((0.0f), (det_orig_22 / det_blur_17))))));
        if(det_blur_17 <= 0.0f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_20 = 1.0f / (1.0f + (F32_exp((- in_opacity_21))));
        if(antialiased_21)
        {
            *opacity_20 = *opacity_20 * compensation_17;
        }
        if((*opacity_20) < 0.00392156885936856f)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_16 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_20 / 0.00392156885936856f)))))))));
        float radius_x_16 = extend_16 * (F32_sqrt((covar2d_16[int(0)].x)));
        float radius_y_16 = extend_16 * (F32_sqrt((covar2d_16[int(1)].y)));
        float xmin_11 = (F32_floor(((*mean2d_24).x - radius_x_16)));
        float xmax_11 = (F32_ceil(((*mean2d_24).x + radius_x_16)));
        float ymin_11 = (F32_floor(((*mean2d_24).y - radius_y_16)));
        float ymax_11 = (F32_ceil(((*mean2d_24).y + radius_y_16)));
        if(xmax_11 <= 0.0f)
        {
            _S3144 = true;
        }
        else
        {
            _S3144 = xmin_11 >= float(image_width_21);
        }
        if(_S3144)
        {
            _S3144 = true;
        }
        else
        {
            _S3144 = ymax_11 <= 0.0f;
        }
        if(_S3144)
        {
            _S3144 = true;
        }
        else
        {
            _S3144 = ymin_11 >= float(image_height_21);
        }
        if(_S3144)
        {
            *aabb_xyxy_16 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_16 = make_int4 (int(xmin_11), int(ymin_11), int(xmax_11), int(ymax_11));
        *depth_17 = (F32_max((_S3143), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3143 + length_1(mean_c_21)))));
        *conic_16 = exp_0(- scale_26);
        float3  _S3158 = mean_26 - - mul_0(transpose_0(R_28), t_24);
        float3  _S3159 = _S3158 * make_float3 ((F32_rsqrt((dot_0(_S3158, _S3158)))));
        float _S3160 = dot_0((*sv_sites_6)[int(4)], _S3159);
        float w_18 = (F32_exp((dot_0((*sv_sites_6)[int(0)], _S3159) - _S3160)));
        float w_19 = (F32_exp((dot_0((*sv_sites_6)[int(1)], _S3159) - _S3160)));
        float w_20 = (F32_exp((dot_0((*sv_sites_6)[int(2)], _S3159) - _S3160)));
        float w_21 = (F32_exp((dot_0((*sv_sites_6)[int(3)], _S3159) - _S3160)));
        float w_22 = (F32_exp((0.0f)));
        *rgb_18 = max_0((make_float3 (w_18) * (*sv_colors_6)[int(0)] + make_float3 (w_19) * (*sv_colors_6)[int(1)] + make_float3 (w_20) * (*sv_colors_6)[int(2)] + make_float3 (w_21) * (*sv_colors_6)[int(3)] + make_float3 (w_22) * (*sv_colors_6)[int(4)]) / make_float3 (w_18 + w_19 + w_20 + w_21 + w_22) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_22, float3  mean_27, float4  quat_28, float3  scale_27, float in_opacity_22, FixedArray<float3 , 5>  * sv_sites_7, FixedArray<float3 , 5>  * sv_colors_7, Matrix<float, 3, 3>  R_29, float3  t_25, float fx_31, float fy_31, float cx_26, float cy_26, FixedArray<float, 10>  * dist_coeffs_35, uint image_width_22, uint image_height_22, float near_plane_17, float far_plane_17, int4  * aabb_xyxy_17, float2  * mean2d_25, float * depth_18, float3  * conic_17, float * opacity_21, float3  * rgb_19)
{
    for(;;)
    {
        float3  mean_c_22 = mul_0(R_29, mean_27) + t_25;
        float _S3161 = length_1(mean_c_22);
        bool _S3162;
        if(_S3161 < near_plane_17)
        {
            _S3162 = true;
        }
        else
        {
            _S3162 = _S3161 > far_plane_17;
        }
        if(_S3162)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_21 = make_float4 (fx_31, fy_31, cx_26, cy_26);
        Matrix<float, 2, 2>  covar2d_17;
        float3  _S3163 = exp_0(scale_27);
        float x_48 = quat_28.y;
        float x2_28 = x_48 * x_48;
        float y2_28 = quat_28.z * quat_28.z;
        float z2_43 = quat_28.w * quat_28.w;
        float xy_28 = quat_28.y * quat_28.z;
        float xz_28 = quat_28.y * quat_28.w;
        float yz_28 = quat_28.z * quat_28.w;
        float wx_28 = quat_28.x * quat_28.y;
        float wy_28 = quat_28.x * quat_28.z;
        float wz_28 = quat_28.x * quat_28.w;
        Matrix<float, 3, 3>  _S3164 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_28 + z2_43), 2.0f * (xy_28 + wz_28), 2.0f * (xz_28 - wy_28), 2.0f * (xy_28 - wz_28), 1.0f - 2.0f * (x2_28 + z2_43), 2.0f * (yz_28 + wx_28), 2.0f * (xz_28 + wy_28), 2.0f * (yz_28 - wx_28), 1.0f - 2.0f * (x2_28 + y2_28))));
        SigmaPoints_0 ret_11;
        (&ret_11)->p_0[int(0)] = mean_27;
        (&ret_11)->w_mean_0[int(0)] = 0.0f;
        (&ret_11)->w_cov_0[int(0)] = 2.0f;
        float _S3165 = (F32_sqrt((3.0f)));
        float3  delta_39 = make_float3 (_S3165 * _S3163.x) * _S3164.rows[0U];
        float3  _S3166 = mean_27 + delta_39;
        float3  _S3167 = mean_27 - delta_39;
        float3  delta_40 = make_float3 (_S3165 * _S3163.y) * _S3164.rows[1U];
        float3  _S3168 = mean_27 + delta_40;
        float3  _S3169 = mean_27 - delta_40;
        float3  delta_41 = make_float3 (_S3165 * _S3163.z) * _S3164.rows[2U];
        float3  _S3170 = mean_27 + delta_41;
        float3  _S3171 = mean_27 - delta_41;
        (&ret_11)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_11)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_11)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_11)->p_0[0U] = mul_0(R_29, (&ret_11)->p_0[0U]) + t_25;
        (&ret_11)->p_0[1U] = mul_0(R_29, _S3166) + t_25;
        (&ret_11)->p_0[2U] = mul_0(R_29, _S3168) + t_25;
        (&ret_11)->p_0[3U] = mul_0(R_29, _S3170) + t_25;
        (&ret_11)->p_0[4U] = mul_0(R_29, _S3167) + t_25;
        (&ret_11)->p_0[5U] = mul_0(R_29, _S3169) + t_25;
        (&ret_11)->p_0[6U] = mul_0(R_29, _S3171) + t_25;
        SigmaPoints_0 _S3172 = ret_11;
        bool _S3173 = fisheye_proj_3dgs_ut_0(&_S3172, intrins_21, dist_coeffs_35, &covar2d_17, mean2d_25);
        if(!(true & _S3173))
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_23 = *&(((&covar2d_17)->rows + (int(0)))->x) * *&(((&covar2d_17)->rows + (int(1)))->y) - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float _S3174 = *&(((&covar2d_17)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(0)))->x) = _S3174;
        float _S3175 = *&(((&covar2d_17)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_17)->rows + (int(1)))->y) = _S3175;
        float det_blur_18 = _S3174 * _S3175 - *&(((&covar2d_17)->rows + (int(0)))->y) * *&(((&covar2d_17)->rows + (int(1)))->x);
        float compensation_18 = (F32_sqrt(((F32_max((0.0f), (det_orig_23 / det_blur_18))))));
        if(det_blur_18 <= 0.0f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_21 = 1.0f / (1.0f + (F32_exp((- in_opacity_22))));
        if(antialiased_22)
        {
            *opacity_21 = *opacity_21 * compensation_18;
        }
        if((*opacity_21) < 0.00392156885936856f)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_17 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_21 / 0.00392156885936856f)))))))));
        float radius_x_17 = extend_17 * (F32_sqrt((covar2d_17[int(0)].x)));
        float radius_y_17 = extend_17 * (F32_sqrt((covar2d_17[int(1)].y)));
        float xmin_12 = (F32_floor(((*mean2d_25).x - radius_x_17)));
        float xmax_12 = (F32_ceil(((*mean2d_25).x + radius_x_17)));
        float ymin_12 = (F32_floor(((*mean2d_25).y - radius_y_17)));
        float ymax_12 = (F32_ceil(((*mean2d_25).y + radius_y_17)));
        if(xmax_12 <= 0.0f)
        {
            _S3162 = true;
        }
        else
        {
            _S3162 = xmin_12 >= float(image_width_22);
        }
        if(_S3162)
        {
            _S3162 = true;
        }
        else
        {
            _S3162 = ymax_12 <= 0.0f;
        }
        if(_S3162)
        {
            _S3162 = true;
        }
        else
        {
            _S3162 = ymin_12 >= float(image_height_22);
        }
        if(_S3162)
        {
            *aabb_xyxy_17 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_17 = make_int4 (int(xmin_12), int(ymin_12), int(xmax_12), int(ymax_12));
        float _S3176 = mean_c_22.z;
        *depth_18 = (F32_max((_S3176), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3176 + _S3161))));
        *conic_17 = exp_0(- scale_27);
        float3  _S3177 = mean_27 - - mul_0(transpose_0(R_29), t_25);
        float3  _S3178 = _S3177 * make_float3 ((F32_rsqrt((dot_0(_S3177, _S3177)))));
        float _S3179 = dot_0((*sv_sites_7)[int(4)], _S3178);
        float w_23 = (F32_exp((dot_0((*sv_sites_7)[int(0)], _S3178) - _S3179)));
        float w_24 = (F32_exp((dot_0((*sv_sites_7)[int(1)], _S3178) - _S3179)));
        float w_25 = (F32_exp((dot_0((*sv_sites_7)[int(2)], _S3178) - _S3179)));
        float w_26 = (F32_exp((dot_0((*sv_sites_7)[int(3)], _S3178) - _S3179)));
        float w_27 = (F32_exp((0.0f)));
        *rgb_19 = max_0((make_float3 (w_23) * (*sv_colors_7)[int(0)] + make_float3 (w_24) * (*sv_colors_7)[int(1)] + make_float3 (w_25) * (*sv_colors_7)[int(2)] + make_float3 (w_26) * (*sv_colors_7)[int(3)] + make_float3 (w_27) * (*sv_colors_7)[int(4)]) / make_float3 (w_23 + w_24 + w_25 + w_26 + w_27) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_23, float3  mean_28, float4  quat_29, float3  scale_28, float in_opacity_23, FixedArray<float3 , 6>  * sv_sites_8, FixedArray<float3 , 6>  * sv_colors_8, Matrix<float, 3, 3>  R_30, float3  t_26, float fx_32, float fy_32, float cx_27, float cy_27, FixedArray<float, 10>  * dist_coeffs_36, uint image_width_23, uint image_height_23, float near_plane_18, float far_plane_18, int4  * aabb_xyxy_18, float2  * mean2d_26, float * depth_19, float3  * conic_18, float * opacity_22, float3  * rgb_20)
{
    for(;;)
    {
        float3  mean_c_23 = mul_0(R_30, mean_28) + t_26;
        float _S3180 = mean_c_23.z;
        bool _S3181;
        if(_S3180 < near_plane_18)
        {
            _S3181 = true;
        }
        else
        {
            _S3181 = _S3180 > far_plane_18;
        }
        if(_S3181)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_22 = make_float4 (fx_32, fy_32, cx_27, cy_27);
        Matrix<float, 2, 2>  covar2d_18;
        float3  _S3182 = exp_0(scale_28);
        float x_49 = quat_29.y;
        float x2_29 = x_49 * x_49;
        float y2_29 = quat_29.z * quat_29.z;
        float z2_44 = quat_29.w * quat_29.w;
        float xy_29 = quat_29.y * quat_29.z;
        float xz_29 = quat_29.y * quat_29.w;
        float yz_29 = quat_29.z * quat_29.w;
        float wx_29 = quat_29.x * quat_29.y;
        float wy_29 = quat_29.x * quat_29.z;
        float wz_29 = quat_29.x * quat_29.w;
        Matrix<float, 3, 3>  _S3183 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_29 + z2_44), 2.0f * (xy_29 + wz_29), 2.0f * (xz_29 - wy_29), 2.0f * (xy_29 - wz_29), 1.0f - 2.0f * (x2_29 + z2_44), 2.0f * (yz_29 + wx_29), 2.0f * (xz_29 + wy_29), 2.0f * (yz_29 - wx_29), 1.0f - 2.0f * (x2_29 + y2_29))));
        SigmaPoints_0 ret_12;
        (&ret_12)->p_0[int(0)] = mean_28;
        (&ret_12)->w_mean_0[int(0)] = 0.0f;
        (&ret_12)->w_cov_0[int(0)] = 2.0f;
        float _S3184 = (F32_sqrt((3.0f)));
        float3  delta_42 = make_float3 (_S3184 * _S3182.x) * _S3183.rows[0U];
        float3  _S3185 = mean_28 + delta_42;
        float3  _S3186 = mean_28 - delta_42;
        float3  delta_43 = make_float3 (_S3184 * _S3182.y) * _S3183.rows[1U];
        float3  _S3187 = mean_28 + delta_43;
        float3  _S3188 = mean_28 - delta_43;
        float3  delta_44 = make_float3 (_S3184 * _S3182.z) * _S3183.rows[2U];
        float3  _S3189 = mean_28 + delta_44;
        float3  _S3190 = mean_28 - delta_44;
        (&ret_12)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_12)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_12)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_12)->p_0[0U] = mul_0(R_30, (&ret_12)->p_0[0U]) + t_26;
        (&ret_12)->p_0[1U] = mul_0(R_30, _S3185) + t_26;
        (&ret_12)->p_0[2U] = mul_0(R_30, _S3187) + t_26;
        (&ret_12)->p_0[3U] = mul_0(R_30, _S3189) + t_26;
        (&ret_12)->p_0[4U] = mul_0(R_30, _S3186) + t_26;
        (&ret_12)->p_0[5U] = mul_0(R_30, _S3188) + t_26;
        (&ret_12)->p_0[6U] = mul_0(R_30, _S3190) + t_26;
        SigmaPoints_0 _S3191 = ret_12;
        bool _S3192 = persp_proj_3dgs_ut_0(&_S3191, intrins_22, dist_coeffs_36, image_width_23, image_height_23, &covar2d_18, mean2d_26);
        if(!(true & _S3192))
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_24 = *&(((&covar2d_18)->rows + (int(0)))->x) * *&(((&covar2d_18)->rows + (int(1)))->y) - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float _S3193 = *&(((&covar2d_18)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(0)))->x) = _S3193;
        float _S3194 = *&(((&covar2d_18)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_18)->rows + (int(1)))->y) = _S3194;
        float det_blur_19 = _S3193 * _S3194 - *&(((&covar2d_18)->rows + (int(0)))->y) * *&(((&covar2d_18)->rows + (int(1)))->x);
        float compensation_19 = (F32_sqrt(((F32_max((0.0f), (det_orig_24 / det_blur_19))))));
        if(det_blur_19 <= 0.0f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_22 = 1.0f / (1.0f + (F32_exp((- in_opacity_23))));
        if(antialiased_23)
        {
            *opacity_22 = *opacity_22 * compensation_19;
        }
        if((*opacity_22) < 0.00392156885936856f)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_18 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_22 / 0.00392156885936856f)))))))));
        float radius_x_18 = extend_18 * (F32_sqrt((covar2d_18[int(0)].x)));
        float radius_y_18 = extend_18 * (F32_sqrt((covar2d_18[int(1)].y)));
        float xmin_13 = (F32_floor(((*mean2d_26).x - radius_x_18)));
        float xmax_13 = (F32_ceil(((*mean2d_26).x + radius_x_18)));
        float ymin_13 = (F32_floor(((*mean2d_26).y - radius_y_18)));
        float ymax_13 = (F32_ceil(((*mean2d_26).y + radius_y_18)));
        if(xmax_13 <= 0.0f)
        {
            _S3181 = true;
        }
        else
        {
            _S3181 = xmin_13 >= float(image_width_23);
        }
        if(_S3181)
        {
            _S3181 = true;
        }
        else
        {
            _S3181 = ymax_13 <= 0.0f;
        }
        if(_S3181)
        {
            _S3181 = true;
        }
        else
        {
            _S3181 = ymin_13 >= float(image_height_23);
        }
        if(_S3181)
        {
            *aabb_xyxy_18 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_18 = make_int4 (int(xmin_13), int(ymin_13), int(xmax_13), int(ymax_13));
        *depth_19 = (F32_max((_S3180), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3180 + length_1(mean_c_23)))));
        *conic_18 = exp_0(- scale_28);
        float3  _S3195 = mean_28 - - mul_0(transpose_0(R_30), t_26);
        float3  _S3196 = _S3195 * make_float3 ((F32_rsqrt((dot_0(_S3195, _S3195)))));
        float _S3197 = dot_0((*sv_sites_8)[int(5)], _S3196);
        float w_28 = (F32_exp((dot_0((*sv_sites_8)[int(0)], _S3196) - _S3197)));
        float w_29 = (F32_exp((dot_0((*sv_sites_8)[int(1)], _S3196) - _S3197)));
        float w_30 = (F32_exp((dot_0((*sv_sites_8)[int(2)], _S3196) - _S3197)));
        float w_31 = (F32_exp((dot_0((*sv_sites_8)[int(3)], _S3196) - _S3197)));
        float w_32 = (F32_exp((dot_0((*sv_sites_8)[int(4)], _S3196) - _S3197)));
        float w_33 = (F32_exp((0.0f)));
        *rgb_20 = max_0((make_float3 (w_28) * (*sv_colors_8)[int(0)] + make_float3 (w_29) * (*sv_colors_8)[int(1)] + make_float3 (w_30) * (*sv_colors_8)[int(2)] + make_float3 (w_31) * (*sv_colors_8)[int(3)] + make_float3 (w_32) * (*sv_colors_8)[int(4)] + make_float3 (w_33) * (*sv_colors_8)[int(5)]) / make_float3 (w_28 + w_29 + w_30 + w_31 + w_32 + w_33) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_24, float3  mean_29, float4  quat_30, float3  scale_29, float in_opacity_24, FixedArray<float3 , 6>  * sv_sites_9, FixedArray<float3 , 6>  * sv_colors_9, Matrix<float, 3, 3>  R_31, float3  t_27, float fx_33, float fy_33, float cx_28, float cy_28, FixedArray<float, 10>  * dist_coeffs_37, uint image_width_24, uint image_height_24, float near_plane_19, float far_plane_19, int4  * aabb_xyxy_19, float2  * mean2d_27, float * depth_20, float3  * conic_19, float * opacity_23, float3  * rgb_21)
{
    for(;;)
    {
        float3  mean_c_24 = mul_0(R_31, mean_29) + t_27;
        float _S3198 = length_1(mean_c_24);
        bool _S3199;
        if(_S3198 < near_plane_19)
        {
            _S3199 = true;
        }
        else
        {
            _S3199 = _S3198 > far_plane_19;
        }
        if(_S3199)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_23 = make_float4 (fx_33, fy_33, cx_28, cy_28);
        Matrix<float, 2, 2>  covar2d_19;
        float3  _S3200 = exp_0(scale_29);
        float x_50 = quat_30.y;
        float x2_30 = x_50 * x_50;
        float y2_30 = quat_30.z * quat_30.z;
        float z2_45 = quat_30.w * quat_30.w;
        float xy_30 = quat_30.y * quat_30.z;
        float xz_30 = quat_30.y * quat_30.w;
        float yz_30 = quat_30.z * quat_30.w;
        float wx_30 = quat_30.x * quat_30.y;
        float wy_30 = quat_30.x * quat_30.z;
        float wz_30 = quat_30.x * quat_30.w;
        Matrix<float, 3, 3>  _S3201 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_30 + z2_45), 2.0f * (xy_30 + wz_30), 2.0f * (xz_30 - wy_30), 2.0f * (xy_30 - wz_30), 1.0f - 2.0f * (x2_30 + z2_45), 2.0f * (yz_30 + wx_30), 2.0f * (xz_30 + wy_30), 2.0f * (yz_30 - wx_30), 1.0f - 2.0f * (x2_30 + y2_30))));
        SigmaPoints_0 ret_13;
        (&ret_13)->p_0[int(0)] = mean_29;
        (&ret_13)->w_mean_0[int(0)] = 0.0f;
        (&ret_13)->w_cov_0[int(0)] = 2.0f;
        float _S3202 = (F32_sqrt((3.0f)));
        float3  delta_45 = make_float3 (_S3202 * _S3200.x) * _S3201.rows[0U];
        float3  _S3203 = mean_29 + delta_45;
        float3  _S3204 = mean_29 - delta_45;
        float3  delta_46 = make_float3 (_S3202 * _S3200.y) * _S3201.rows[1U];
        float3  _S3205 = mean_29 + delta_46;
        float3  _S3206 = mean_29 - delta_46;
        float3  delta_47 = make_float3 (_S3202 * _S3200.z) * _S3201.rows[2U];
        float3  _S3207 = mean_29 + delta_47;
        float3  _S3208 = mean_29 - delta_47;
        (&ret_13)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_13)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_13)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_13)->p_0[0U] = mul_0(R_31, (&ret_13)->p_0[0U]) + t_27;
        (&ret_13)->p_0[1U] = mul_0(R_31, _S3203) + t_27;
        (&ret_13)->p_0[2U] = mul_0(R_31, _S3205) + t_27;
        (&ret_13)->p_0[3U] = mul_0(R_31, _S3207) + t_27;
        (&ret_13)->p_0[4U] = mul_0(R_31, _S3204) + t_27;
        (&ret_13)->p_0[5U] = mul_0(R_31, _S3206) + t_27;
        (&ret_13)->p_0[6U] = mul_0(R_31, _S3208) + t_27;
        SigmaPoints_0 _S3209 = ret_13;
        bool _S3210 = fisheye_proj_3dgs_ut_0(&_S3209, intrins_23, dist_coeffs_37, &covar2d_19, mean2d_27);
        if(!(true & _S3210))
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_25 = *&(((&covar2d_19)->rows + (int(0)))->x) * *&(((&covar2d_19)->rows + (int(1)))->y) - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float _S3211 = *&(((&covar2d_19)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(0)))->x) = _S3211;
        float _S3212 = *&(((&covar2d_19)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_19)->rows + (int(1)))->y) = _S3212;
        float det_blur_20 = _S3211 * _S3212 - *&(((&covar2d_19)->rows + (int(0)))->y) * *&(((&covar2d_19)->rows + (int(1)))->x);
        float compensation_20 = (F32_sqrt(((F32_max((0.0f), (det_orig_25 / det_blur_20))))));
        if(det_blur_20 <= 0.0f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_23 = 1.0f / (1.0f + (F32_exp((- in_opacity_24))));
        if(antialiased_24)
        {
            *opacity_23 = *opacity_23 * compensation_20;
        }
        if((*opacity_23) < 0.00392156885936856f)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_19 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_23 / 0.00392156885936856f)))))))));
        float radius_x_19 = extend_19 * (F32_sqrt((covar2d_19[int(0)].x)));
        float radius_y_19 = extend_19 * (F32_sqrt((covar2d_19[int(1)].y)));
        float xmin_14 = (F32_floor(((*mean2d_27).x - radius_x_19)));
        float xmax_14 = (F32_ceil(((*mean2d_27).x + radius_x_19)));
        float ymin_14 = (F32_floor(((*mean2d_27).y - radius_y_19)));
        float ymax_14 = (F32_ceil(((*mean2d_27).y + radius_y_19)));
        if(xmax_14 <= 0.0f)
        {
            _S3199 = true;
        }
        else
        {
            _S3199 = xmin_14 >= float(image_width_24);
        }
        if(_S3199)
        {
            _S3199 = true;
        }
        else
        {
            _S3199 = ymax_14 <= 0.0f;
        }
        if(_S3199)
        {
            _S3199 = true;
        }
        else
        {
            _S3199 = ymin_14 >= float(image_height_24);
        }
        if(_S3199)
        {
            *aabb_xyxy_19 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_19 = make_int4 (int(xmin_14), int(ymin_14), int(xmax_14), int(ymax_14));
        float _S3213 = mean_c_24.z;
        *depth_20 = (F32_max((_S3213), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3213 + _S3198))));
        *conic_19 = exp_0(- scale_29);
        float3  _S3214 = mean_29 - - mul_0(transpose_0(R_31), t_27);
        float3  _S3215 = _S3214 * make_float3 ((F32_rsqrt((dot_0(_S3214, _S3214)))));
        float _S3216 = dot_0((*sv_sites_9)[int(5)], _S3215);
        float w_34 = (F32_exp((dot_0((*sv_sites_9)[int(0)], _S3215) - _S3216)));
        float w_35 = (F32_exp((dot_0((*sv_sites_9)[int(1)], _S3215) - _S3216)));
        float w_36 = (F32_exp((dot_0((*sv_sites_9)[int(2)], _S3215) - _S3216)));
        float w_37 = (F32_exp((dot_0((*sv_sites_9)[int(3)], _S3215) - _S3216)));
        float w_38 = (F32_exp((dot_0((*sv_sites_9)[int(4)], _S3215) - _S3216)));
        float w_39 = (F32_exp((0.0f)));
        *rgb_21 = max_0((make_float3 (w_34) * (*sv_colors_9)[int(0)] + make_float3 (w_35) * (*sv_colors_9)[int(1)] + make_float3 (w_36) * (*sv_colors_9)[int(2)] + make_float3 (w_37) * (*sv_colors_9)[int(3)] + make_float3 (w_38) * (*sv_colors_9)[int(4)] + make_float3 (w_39) * (*sv_colors_9)[int(5)]) / make_float3 (w_34 + w_35 + w_36 + w_37 + w_38 + w_39) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_25, float3  mean_30, float4  quat_31, float3  scale_30, float in_opacity_25, FixedArray<float3 , 7>  * sv_sites_10, FixedArray<float3 , 7>  * sv_colors_10, Matrix<float, 3, 3>  R_32, float3  t_28, float fx_34, float fy_34, float cx_29, float cy_29, FixedArray<float, 10>  * dist_coeffs_38, uint image_width_25, uint image_height_25, float near_plane_20, float far_plane_20, int4  * aabb_xyxy_20, float2  * mean2d_28, float * depth_21, float3  * conic_20, float * opacity_24, float3  * rgb_22)
{
    for(;;)
    {
        float3  mean_c_25 = mul_0(R_32, mean_30) + t_28;
        float _S3217 = mean_c_25.z;
        bool _S3218;
        if(_S3217 < near_plane_20)
        {
            _S3218 = true;
        }
        else
        {
            _S3218 = _S3217 > far_plane_20;
        }
        if(_S3218)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_24 = make_float4 (fx_34, fy_34, cx_29, cy_29);
        Matrix<float, 2, 2>  covar2d_20;
        float3  _S3219 = exp_0(scale_30);
        float x_51 = quat_31.y;
        float x2_31 = x_51 * x_51;
        float y2_31 = quat_31.z * quat_31.z;
        float z2_46 = quat_31.w * quat_31.w;
        float xy_31 = quat_31.y * quat_31.z;
        float xz_31 = quat_31.y * quat_31.w;
        float yz_31 = quat_31.z * quat_31.w;
        float wx_31 = quat_31.x * quat_31.y;
        float wy_31 = quat_31.x * quat_31.z;
        float wz_31 = quat_31.x * quat_31.w;
        Matrix<float, 3, 3>  _S3220 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_31 + z2_46), 2.0f * (xy_31 + wz_31), 2.0f * (xz_31 - wy_31), 2.0f * (xy_31 - wz_31), 1.0f - 2.0f * (x2_31 + z2_46), 2.0f * (yz_31 + wx_31), 2.0f * (xz_31 + wy_31), 2.0f * (yz_31 - wx_31), 1.0f - 2.0f * (x2_31 + y2_31))));
        SigmaPoints_0 ret_14;
        (&ret_14)->p_0[int(0)] = mean_30;
        (&ret_14)->w_mean_0[int(0)] = 0.0f;
        (&ret_14)->w_cov_0[int(0)] = 2.0f;
        float _S3221 = (F32_sqrt((3.0f)));
        float3  delta_48 = make_float3 (_S3221 * _S3219.x) * _S3220.rows[0U];
        float3  _S3222 = mean_30 + delta_48;
        float3  _S3223 = mean_30 - delta_48;
        float3  delta_49 = make_float3 (_S3221 * _S3219.y) * _S3220.rows[1U];
        float3  _S3224 = mean_30 + delta_49;
        float3  _S3225 = mean_30 - delta_49;
        float3  delta_50 = make_float3 (_S3221 * _S3219.z) * _S3220.rows[2U];
        float3  _S3226 = mean_30 + delta_50;
        float3  _S3227 = mean_30 - delta_50;
        (&ret_14)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_14)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_14)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_14)->p_0[0U] = mul_0(R_32, (&ret_14)->p_0[0U]) + t_28;
        (&ret_14)->p_0[1U] = mul_0(R_32, _S3222) + t_28;
        (&ret_14)->p_0[2U] = mul_0(R_32, _S3224) + t_28;
        (&ret_14)->p_0[3U] = mul_0(R_32, _S3226) + t_28;
        (&ret_14)->p_0[4U] = mul_0(R_32, _S3223) + t_28;
        (&ret_14)->p_0[5U] = mul_0(R_32, _S3225) + t_28;
        (&ret_14)->p_0[6U] = mul_0(R_32, _S3227) + t_28;
        SigmaPoints_0 _S3228 = ret_14;
        bool _S3229 = persp_proj_3dgs_ut_0(&_S3228, intrins_24, dist_coeffs_38, image_width_25, image_height_25, &covar2d_20, mean2d_28);
        if(!(true & _S3229))
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_26 = *&(((&covar2d_20)->rows + (int(0)))->x) * *&(((&covar2d_20)->rows + (int(1)))->y) - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float _S3230 = *&(((&covar2d_20)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(0)))->x) = _S3230;
        float _S3231 = *&(((&covar2d_20)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_20)->rows + (int(1)))->y) = _S3231;
        float det_blur_21 = _S3230 * _S3231 - *&(((&covar2d_20)->rows + (int(0)))->y) * *&(((&covar2d_20)->rows + (int(1)))->x);
        float compensation_21 = (F32_sqrt(((F32_max((0.0f), (det_orig_26 / det_blur_21))))));
        if(det_blur_21 <= 0.0f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_24 = 1.0f / (1.0f + (F32_exp((- in_opacity_25))));
        if(antialiased_25)
        {
            *opacity_24 = *opacity_24 * compensation_21;
        }
        if((*opacity_24) < 0.00392156885936856f)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_20 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_24 / 0.00392156885936856f)))))))));
        float radius_x_20 = extend_20 * (F32_sqrt((covar2d_20[int(0)].x)));
        float radius_y_20 = extend_20 * (F32_sqrt((covar2d_20[int(1)].y)));
        float xmin_15 = (F32_floor(((*mean2d_28).x - radius_x_20)));
        float xmax_15 = (F32_ceil(((*mean2d_28).x + radius_x_20)));
        float ymin_15 = (F32_floor(((*mean2d_28).y - radius_y_20)));
        float ymax_15 = (F32_ceil(((*mean2d_28).y + radius_y_20)));
        if(xmax_15 <= 0.0f)
        {
            _S3218 = true;
        }
        else
        {
            _S3218 = xmin_15 >= float(image_width_25);
        }
        if(_S3218)
        {
            _S3218 = true;
        }
        else
        {
            _S3218 = ymax_15 <= 0.0f;
        }
        if(_S3218)
        {
            _S3218 = true;
        }
        else
        {
            _S3218 = ymin_15 >= float(image_height_25);
        }
        if(_S3218)
        {
            *aabb_xyxy_20 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_20 = make_int4 (int(xmin_15), int(ymin_15), int(xmax_15), int(ymax_15));
        *depth_21 = (F32_max((_S3217), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3217 + length_1(mean_c_25)))));
        *conic_20 = exp_0(- scale_30);
        float3  _S3232 = mean_30 - - mul_0(transpose_0(R_32), t_28);
        float3  _S3233 = _S3232 * make_float3 ((F32_rsqrt((dot_0(_S3232, _S3232)))));
        float _S3234 = dot_0((*sv_sites_10)[int(6)], _S3233);
        float w_40 = (F32_exp((dot_0((*sv_sites_10)[int(0)], _S3233) - _S3234)));
        float w_41 = (F32_exp((dot_0((*sv_sites_10)[int(1)], _S3233) - _S3234)));
        float w_42 = (F32_exp((dot_0((*sv_sites_10)[int(2)], _S3233) - _S3234)));
        float w_43 = (F32_exp((dot_0((*sv_sites_10)[int(3)], _S3233) - _S3234)));
        float w_44 = (F32_exp((dot_0((*sv_sites_10)[int(4)], _S3233) - _S3234)));
        float w_45 = (F32_exp((dot_0((*sv_sites_10)[int(5)], _S3233) - _S3234)));
        float w_46 = (F32_exp((0.0f)));
        *rgb_22 = max_0((make_float3 (w_40) * (*sv_colors_10)[int(0)] + make_float3 (w_41) * (*sv_colors_10)[int(1)] + make_float3 (w_42) * (*sv_colors_10)[int(2)] + make_float3 (w_43) * (*sv_colors_10)[int(3)] + make_float3 (w_44) * (*sv_colors_10)[int(4)] + make_float3 (w_45) * (*sv_colors_10)[int(5)] + make_float3 (w_46) * (*sv_colors_10)[int(6)]) / make_float3 (w_40 + w_41 + w_42 + w_43 + w_44 + w_45 + w_46) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_26, float3  mean_31, float4  quat_32, float3  scale_31, float in_opacity_26, FixedArray<float3 , 7>  * sv_sites_11, FixedArray<float3 , 7>  * sv_colors_11, Matrix<float, 3, 3>  R_33, float3  t_29, float fx_35, float fy_35, float cx_30, float cy_30, FixedArray<float, 10>  * dist_coeffs_39, uint image_width_26, uint image_height_26, float near_plane_21, float far_plane_21, int4  * aabb_xyxy_21, float2  * mean2d_29, float * depth_22, float3  * conic_21, float * opacity_25, float3  * rgb_23)
{
    for(;;)
    {
        float3  mean_c_26 = mul_0(R_33, mean_31) + t_29;
        float _S3235 = length_1(mean_c_26);
        bool _S3236;
        if(_S3235 < near_plane_21)
        {
            _S3236 = true;
        }
        else
        {
            _S3236 = _S3235 > far_plane_21;
        }
        if(_S3236)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_25 = make_float4 (fx_35, fy_35, cx_30, cy_30);
        Matrix<float, 2, 2>  covar2d_21;
        float3  _S3237 = exp_0(scale_31);
        float x_52 = quat_32.y;
        float x2_32 = x_52 * x_52;
        float y2_32 = quat_32.z * quat_32.z;
        float z2_47 = quat_32.w * quat_32.w;
        float xy_32 = quat_32.y * quat_32.z;
        float xz_32 = quat_32.y * quat_32.w;
        float yz_32 = quat_32.z * quat_32.w;
        float wx_32 = quat_32.x * quat_32.y;
        float wy_32 = quat_32.x * quat_32.z;
        float wz_32 = quat_32.x * quat_32.w;
        Matrix<float, 3, 3>  _S3238 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_32 + z2_47), 2.0f * (xy_32 + wz_32), 2.0f * (xz_32 - wy_32), 2.0f * (xy_32 - wz_32), 1.0f - 2.0f * (x2_32 + z2_47), 2.0f * (yz_32 + wx_32), 2.0f * (xz_32 + wy_32), 2.0f * (yz_32 - wx_32), 1.0f - 2.0f * (x2_32 + y2_32))));
        SigmaPoints_0 ret_15;
        (&ret_15)->p_0[int(0)] = mean_31;
        (&ret_15)->w_mean_0[int(0)] = 0.0f;
        (&ret_15)->w_cov_0[int(0)] = 2.0f;
        float _S3239 = (F32_sqrt((3.0f)));
        float3  delta_51 = make_float3 (_S3239 * _S3237.x) * _S3238.rows[0U];
        float3  _S3240 = mean_31 + delta_51;
        float3  _S3241 = mean_31 - delta_51;
        float3  delta_52 = make_float3 (_S3239 * _S3237.y) * _S3238.rows[1U];
        float3  _S3242 = mean_31 + delta_52;
        float3  _S3243 = mean_31 - delta_52;
        float3  delta_53 = make_float3 (_S3239 * _S3237.z) * _S3238.rows[2U];
        float3  _S3244 = mean_31 + delta_53;
        float3  _S3245 = mean_31 - delta_53;
        (&ret_15)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_15)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_15)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_15)->p_0[0U] = mul_0(R_33, (&ret_15)->p_0[0U]) + t_29;
        (&ret_15)->p_0[1U] = mul_0(R_33, _S3240) + t_29;
        (&ret_15)->p_0[2U] = mul_0(R_33, _S3242) + t_29;
        (&ret_15)->p_0[3U] = mul_0(R_33, _S3244) + t_29;
        (&ret_15)->p_0[4U] = mul_0(R_33, _S3241) + t_29;
        (&ret_15)->p_0[5U] = mul_0(R_33, _S3243) + t_29;
        (&ret_15)->p_0[6U] = mul_0(R_33, _S3245) + t_29;
        SigmaPoints_0 _S3246 = ret_15;
        bool _S3247 = fisheye_proj_3dgs_ut_0(&_S3246, intrins_25, dist_coeffs_39, &covar2d_21, mean2d_29);
        if(!(true & _S3247))
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_27 = *&(((&covar2d_21)->rows + (int(0)))->x) * *&(((&covar2d_21)->rows + (int(1)))->y) - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float _S3248 = *&(((&covar2d_21)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(0)))->x) = _S3248;
        float _S3249 = *&(((&covar2d_21)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_21)->rows + (int(1)))->y) = _S3249;
        float det_blur_22 = _S3248 * _S3249 - *&(((&covar2d_21)->rows + (int(0)))->y) * *&(((&covar2d_21)->rows + (int(1)))->x);
        float compensation_22 = (F32_sqrt(((F32_max((0.0f), (det_orig_27 / det_blur_22))))));
        if(det_blur_22 <= 0.0f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_25 = 1.0f / (1.0f + (F32_exp((- in_opacity_26))));
        if(antialiased_26)
        {
            *opacity_25 = *opacity_25 * compensation_22;
        }
        if((*opacity_25) < 0.00392156885936856f)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_21 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_25 / 0.00392156885936856f)))))))));
        float radius_x_21 = extend_21 * (F32_sqrt((covar2d_21[int(0)].x)));
        float radius_y_21 = extend_21 * (F32_sqrt((covar2d_21[int(1)].y)));
        float xmin_16 = (F32_floor(((*mean2d_29).x - radius_x_21)));
        float xmax_16 = (F32_ceil(((*mean2d_29).x + radius_x_21)));
        float ymin_16 = (F32_floor(((*mean2d_29).y - radius_y_21)));
        float ymax_16 = (F32_ceil(((*mean2d_29).y + radius_y_21)));
        if(xmax_16 <= 0.0f)
        {
            _S3236 = true;
        }
        else
        {
            _S3236 = xmin_16 >= float(image_width_26);
        }
        if(_S3236)
        {
            _S3236 = true;
        }
        else
        {
            _S3236 = ymax_16 <= 0.0f;
        }
        if(_S3236)
        {
            _S3236 = true;
        }
        else
        {
            _S3236 = ymin_16 >= float(image_height_26);
        }
        if(_S3236)
        {
            *aabb_xyxy_21 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_21 = make_int4 (int(xmin_16), int(ymin_16), int(xmax_16), int(ymax_16));
        float _S3250 = mean_c_26.z;
        *depth_22 = (F32_max((_S3250), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3250 + _S3235))));
        *conic_21 = exp_0(- scale_31);
        float3  _S3251 = mean_31 - - mul_0(transpose_0(R_33), t_29);
        float3  _S3252 = _S3251 * make_float3 ((F32_rsqrt((dot_0(_S3251, _S3251)))));
        float _S3253 = dot_0((*sv_sites_11)[int(6)], _S3252);
        float w_47 = (F32_exp((dot_0((*sv_sites_11)[int(0)], _S3252) - _S3253)));
        float w_48 = (F32_exp((dot_0((*sv_sites_11)[int(1)], _S3252) - _S3253)));
        float w_49 = (F32_exp((dot_0((*sv_sites_11)[int(2)], _S3252) - _S3253)));
        float w_50 = (F32_exp((dot_0((*sv_sites_11)[int(3)], _S3252) - _S3253)));
        float w_51 = (F32_exp((dot_0((*sv_sites_11)[int(4)], _S3252) - _S3253)));
        float w_52 = (F32_exp((dot_0((*sv_sites_11)[int(5)], _S3252) - _S3253)));
        float w_53 = (F32_exp((0.0f)));
        *rgb_23 = max_0((make_float3 (w_47) * (*sv_colors_11)[int(0)] + make_float3 (w_48) * (*sv_colors_11)[int(1)] + make_float3 (w_49) * (*sv_colors_11)[int(2)] + make_float3 (w_50) * (*sv_colors_11)[int(3)] + make_float3 (w_51) * (*sv_colors_11)[int(4)] + make_float3 (w_52) * (*sv_colors_11)[int(5)] + make_float3 (w_53) * (*sv_colors_11)[int(6)]) / make_float3 (w_47 + w_48 + w_49 + w_50 + w_51 + w_52 + w_53) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_persp(bool antialiased_27, float3  mean_32, float4  quat_33, float3  scale_32, float in_opacity_27, FixedArray<float3 , 8>  * sv_sites_12, FixedArray<float3 , 8>  * sv_colors_12, Matrix<float, 3, 3>  R_34, float3  t_30, float fx_36, float fy_36, float cx_31, float cy_31, FixedArray<float, 10>  * dist_coeffs_40, uint image_width_27, uint image_height_27, float near_plane_22, float far_plane_22, int4  * aabb_xyxy_22, float2  * mean2d_30, float * depth_23, float3  * conic_22, float * opacity_26, float3  * rgb_24)
{
    for(;;)
    {
        float3  mean_c_27 = mul_0(R_34, mean_32) + t_30;
        float _S3254 = mean_c_27.z;
        bool _S3255;
        if(_S3254 < near_plane_22)
        {
            _S3255 = true;
        }
        else
        {
            _S3255 = _S3254 > far_plane_22;
        }
        if(_S3255)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_26 = make_float4 (fx_36, fy_36, cx_31, cy_31);
        Matrix<float, 2, 2>  covar2d_22;
        float3  _S3256 = exp_0(scale_32);
        float x_53 = quat_33.y;
        float x2_33 = x_53 * x_53;
        float y2_33 = quat_33.z * quat_33.z;
        float z2_48 = quat_33.w * quat_33.w;
        float xy_33 = quat_33.y * quat_33.z;
        float xz_33 = quat_33.y * quat_33.w;
        float yz_33 = quat_33.z * quat_33.w;
        float wx_33 = quat_33.x * quat_33.y;
        float wy_33 = quat_33.x * quat_33.z;
        float wz_33 = quat_33.x * quat_33.w;
        Matrix<float, 3, 3>  _S3257 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_33 + z2_48), 2.0f * (xy_33 + wz_33), 2.0f * (xz_33 - wy_33), 2.0f * (xy_33 - wz_33), 1.0f - 2.0f * (x2_33 + z2_48), 2.0f * (yz_33 + wx_33), 2.0f * (xz_33 + wy_33), 2.0f * (yz_33 - wx_33), 1.0f - 2.0f * (x2_33 + y2_33))));
        SigmaPoints_0 ret_16;
        (&ret_16)->p_0[int(0)] = mean_32;
        (&ret_16)->w_mean_0[int(0)] = 0.0f;
        (&ret_16)->w_cov_0[int(0)] = 2.0f;
        float _S3258 = (F32_sqrt((3.0f)));
        float3  delta_54 = make_float3 (_S3258 * _S3256.x) * _S3257.rows[0U];
        float3  _S3259 = mean_32 + delta_54;
        float3  _S3260 = mean_32 - delta_54;
        float3  delta_55 = make_float3 (_S3258 * _S3256.y) * _S3257.rows[1U];
        float3  _S3261 = mean_32 + delta_55;
        float3  _S3262 = mean_32 - delta_55;
        float3  delta_56 = make_float3 (_S3258 * _S3256.z) * _S3257.rows[2U];
        float3  _S3263 = mean_32 + delta_56;
        float3  _S3264 = mean_32 - delta_56;
        (&ret_16)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_16)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_16)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_16)->p_0[0U] = mul_0(R_34, (&ret_16)->p_0[0U]) + t_30;
        (&ret_16)->p_0[1U] = mul_0(R_34, _S3259) + t_30;
        (&ret_16)->p_0[2U] = mul_0(R_34, _S3261) + t_30;
        (&ret_16)->p_0[3U] = mul_0(R_34, _S3263) + t_30;
        (&ret_16)->p_0[4U] = mul_0(R_34, _S3260) + t_30;
        (&ret_16)->p_0[5U] = mul_0(R_34, _S3262) + t_30;
        (&ret_16)->p_0[6U] = mul_0(R_34, _S3264) + t_30;
        SigmaPoints_0 _S3265 = ret_16;
        bool _S3266 = persp_proj_3dgs_ut_0(&_S3265, intrins_26, dist_coeffs_40, image_width_27, image_height_27, &covar2d_22, mean2d_30);
        if(!(true & _S3266))
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_28 = *&(((&covar2d_22)->rows + (int(0)))->x) * *&(((&covar2d_22)->rows + (int(1)))->y) - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float _S3267 = *&(((&covar2d_22)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(0)))->x) = _S3267;
        float _S3268 = *&(((&covar2d_22)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_22)->rows + (int(1)))->y) = _S3268;
        float det_blur_23 = _S3267 * _S3268 - *&(((&covar2d_22)->rows + (int(0)))->y) * *&(((&covar2d_22)->rows + (int(1)))->x);
        float compensation_23 = (F32_sqrt(((F32_max((0.0f), (det_orig_28 / det_blur_23))))));
        if(det_blur_23 <= 0.0f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_26 = 1.0f / (1.0f + (F32_exp((- in_opacity_27))));
        if(antialiased_27)
        {
            *opacity_26 = *opacity_26 * compensation_23;
        }
        if((*opacity_26) < 0.00392156885936856f)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_22 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_26 / 0.00392156885936856f)))))))));
        float radius_x_22 = extend_22 * (F32_sqrt((covar2d_22[int(0)].x)));
        float radius_y_22 = extend_22 * (F32_sqrt((covar2d_22[int(1)].y)));
        float xmin_17 = (F32_floor(((*mean2d_30).x - radius_x_22)));
        float xmax_17 = (F32_ceil(((*mean2d_30).x + radius_x_22)));
        float ymin_17 = (F32_floor(((*mean2d_30).y - radius_y_22)));
        float ymax_17 = (F32_ceil(((*mean2d_30).y + radius_y_22)));
        if(xmax_17 <= 0.0f)
        {
            _S3255 = true;
        }
        else
        {
            _S3255 = xmin_17 >= float(image_width_27);
        }
        if(_S3255)
        {
            _S3255 = true;
        }
        else
        {
            _S3255 = ymax_17 <= 0.0f;
        }
        if(_S3255)
        {
            _S3255 = true;
        }
        else
        {
            _S3255 = ymin_17 >= float(image_height_27);
        }
        if(_S3255)
        {
            *aabb_xyxy_22 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_22 = make_int4 (int(xmin_17), int(ymin_17), int(xmax_17), int(ymax_17));
        *depth_23 = (F32_max((_S3254), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3254 + length_1(mean_c_27)))));
        *conic_22 = exp_0(- scale_32);
        float3  _S3269 = mean_32 - - mul_0(transpose_0(R_34), t_30);
        float3  _S3270 = _S3269 * make_float3 ((F32_rsqrt((dot_0(_S3269, _S3269)))));
        float _S3271 = dot_0((*sv_sites_12)[int(7)], _S3270);
        float w_54 = (F32_exp((dot_0((*sv_sites_12)[int(0)], _S3270) - _S3271)));
        float w_55 = (F32_exp((dot_0((*sv_sites_12)[int(1)], _S3270) - _S3271)));
        float w_56 = (F32_exp((dot_0((*sv_sites_12)[int(2)], _S3270) - _S3271)));
        float w_57 = (F32_exp((dot_0((*sv_sites_12)[int(3)], _S3270) - _S3271)));
        float w_58 = (F32_exp((dot_0((*sv_sites_12)[int(4)], _S3270) - _S3271)));
        float w_59 = (F32_exp((dot_0((*sv_sites_12)[int(5)], _S3270) - _S3271)));
        float w_60 = (F32_exp((dot_0((*sv_sites_12)[int(6)], _S3270) - _S3271)));
        float w_61 = (F32_exp((0.0f)));
        *rgb_24 = max_0((make_float3 (w_54) * (*sv_colors_12)[int(0)] + make_float3 (w_55) * (*sv_colors_12)[int(1)] + make_float3 (w_56) * (*sv_colors_12)[int(2)] + make_float3 (w_57) * (*sv_colors_12)[int(3)] + make_float3 (w_58) * (*sv_colors_12)[int(4)] + make_float3 (w_59) * (*sv_colors_12)[int(5)] + make_float3 (w_60) * (*sv_colors_12)[int(6)] + make_float3 (w_61) * (*sv_colors_12)[int(7)]) / make_float3 (w_54 + w_55 + w_56 + w_57 + w_58 + w_59 + w_60 + w_61) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_3dgut_sv_fisheye(bool antialiased_28, float3  mean_33, float4  quat_34, float3  scale_33, float in_opacity_28, FixedArray<float3 , 8>  * sv_sites_13, FixedArray<float3 , 8>  * sv_colors_13, Matrix<float, 3, 3>  R_35, float3  t_31, float fx_37, float fy_37, float cx_32, float cy_32, FixedArray<float, 10>  * dist_coeffs_41, uint image_width_28, uint image_height_28, float near_plane_23, float far_plane_23, int4  * aabb_xyxy_23, float2  * mean2d_31, float * depth_24, float3  * conic_23, float * opacity_27, float3  * rgb_25)
{
    for(;;)
    {
        float3  mean_c_28 = mul_0(R_35, mean_33) + t_31;
        float _S3272 = length_1(mean_c_28);
        bool _S3273;
        if(_S3272 < near_plane_23)
        {
            _S3273 = true;
        }
        else
        {
            _S3273 = _S3272 > far_plane_23;
        }
        if(_S3273)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float4  intrins_27 = make_float4 (fx_37, fy_37, cx_32, cy_32);
        Matrix<float, 2, 2>  covar2d_23;
        float3  _S3274 = exp_0(scale_33);
        float x_54 = quat_34.y;
        float x2_34 = x_54 * x_54;
        float y2_34 = quat_34.z * quat_34.z;
        float z2_49 = quat_34.w * quat_34.w;
        float xy_34 = quat_34.y * quat_34.z;
        float xz_34 = quat_34.y * quat_34.w;
        float yz_34 = quat_34.z * quat_34.w;
        float wx_34 = quat_34.x * quat_34.y;
        float wy_34 = quat_34.x * quat_34.z;
        float wz_34 = quat_34.x * quat_34.w;
        Matrix<float, 3, 3>  _S3275 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_34 + z2_49), 2.0f * (xy_34 + wz_34), 2.0f * (xz_34 - wy_34), 2.0f * (xy_34 - wz_34), 1.0f - 2.0f * (x2_34 + z2_49), 2.0f * (yz_34 + wx_34), 2.0f * (xz_34 + wy_34), 2.0f * (yz_34 - wx_34), 1.0f - 2.0f * (x2_34 + y2_34))));
        SigmaPoints_0 ret_17;
        (&ret_17)->p_0[int(0)] = mean_33;
        (&ret_17)->w_mean_0[int(0)] = 0.0f;
        (&ret_17)->w_cov_0[int(0)] = 2.0f;
        float _S3276 = (F32_sqrt((3.0f)));
        float3  delta_57 = make_float3 (_S3276 * _S3274.x) * _S3275.rows[0U];
        float3  _S3277 = mean_33 + delta_57;
        float3  _S3278 = mean_33 - delta_57;
        float3  delta_58 = make_float3 (_S3276 * _S3274.y) * _S3275.rows[1U];
        float3  _S3279 = mean_33 + delta_58;
        float3  _S3280 = mean_33 - delta_58;
        float3  delta_59 = make_float3 (_S3276 * _S3274.z) * _S3275.rows[2U];
        float3  _S3281 = mean_33 + delta_59;
        float3  _S3282 = mean_33 - delta_59;
        (&ret_17)->w_mean_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[1U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[2U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[3U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[4U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[5U] = 0.1666666716337204f;
        (&ret_17)->w_mean_0[6U] = 0.1666666716337204f;
        (&ret_17)->w_cov_0[6U] = 0.1666666716337204f;
        (&ret_17)->p_0[0U] = mul_0(R_35, (&ret_17)->p_0[0U]) + t_31;
        (&ret_17)->p_0[1U] = mul_0(R_35, _S3277) + t_31;
        (&ret_17)->p_0[2U] = mul_0(R_35, _S3279) + t_31;
        (&ret_17)->p_0[3U] = mul_0(R_35, _S3281) + t_31;
        (&ret_17)->p_0[4U] = mul_0(R_35, _S3278) + t_31;
        (&ret_17)->p_0[5U] = mul_0(R_35, _S3280) + t_31;
        (&ret_17)->p_0[6U] = mul_0(R_35, _S3282) + t_31;
        SigmaPoints_0 _S3283 = ret_17;
        bool _S3284 = fisheye_proj_3dgs_ut_0(&_S3283, intrins_27, dist_coeffs_41, &covar2d_23, mean2d_31);
        if(!(true & _S3284))
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float det_orig_29 = *&(((&covar2d_23)->rows + (int(0)))->x) * *&(((&covar2d_23)->rows + (int(1)))->y) - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float _S3285 = *&(((&covar2d_23)->rows + (int(0)))->x) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(0)))->x) = _S3285;
        float _S3286 = *&(((&covar2d_23)->rows + (int(1)))->y) + 0.30000001192092896f;
        *&(((&covar2d_23)->rows + (int(1)))->y) = _S3286;
        float det_blur_24 = _S3285 * _S3286 - *&(((&covar2d_23)->rows + (int(0)))->y) * *&(((&covar2d_23)->rows + (int(1)))->x);
        float compensation_24 = (F32_sqrt(((F32_max((0.0f), (det_orig_29 / det_blur_24))))));
        if(det_blur_24 <= 0.0f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *opacity_27 = 1.0f / (1.0f + (F32_exp((- in_opacity_28))));
        if(antialiased_28)
        {
            *opacity_27 = *opacity_27 * compensation_24;
        }
        if((*opacity_27) < 0.00392156885936856f)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float extend_23 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_27 / 0.00392156885936856f)))))))));
        float radius_x_23 = extend_23 * (F32_sqrt((covar2d_23[int(0)].x)));
        float radius_y_23 = extend_23 * (F32_sqrt((covar2d_23[int(1)].y)));
        float xmin_18 = (F32_floor(((*mean2d_31).x - radius_x_23)));
        float xmax_18 = (F32_ceil(((*mean2d_31).x + radius_x_23)));
        float ymin_18 = (F32_floor(((*mean2d_31).y - radius_y_23)));
        float ymax_18 = (F32_ceil(((*mean2d_31).y + radius_y_23)));
        if(xmax_18 <= 0.0f)
        {
            _S3273 = true;
        }
        else
        {
            _S3273 = xmin_18 >= float(image_width_28);
        }
        if(_S3273)
        {
            _S3273 = true;
        }
        else
        {
            _S3273 = ymax_18 <= 0.0f;
        }
        if(_S3273)
        {
            _S3273 = true;
        }
        else
        {
            _S3273 = ymin_18 >= float(image_height_28);
        }
        if(_S3273)
        {
            *aabb_xyxy_23 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_23 = make_int4 (int(xmin_18), int(ymin_18), int(xmax_18), int(ymax_18));
        float _S3287 = mean_c_28.z;
        *depth_24 = (F32_max((_S3287), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3287 + _S3272))));
        *conic_23 = exp_0(- scale_33);
        float3  _S3288 = mean_33 - - mul_0(transpose_0(R_35), t_31);
        float3  _S3289 = _S3288 * make_float3 ((F32_rsqrt((dot_0(_S3288, _S3288)))));
        float _S3290 = dot_0((*sv_sites_13)[int(7)], _S3289);
        float w_62 = (F32_exp((dot_0((*sv_sites_13)[int(0)], _S3289) - _S3290)));
        float w_63 = (F32_exp((dot_0((*sv_sites_13)[int(1)], _S3289) - _S3290)));
        float w_64 = (F32_exp((dot_0((*sv_sites_13)[int(2)], _S3289) - _S3290)));
        float w_65 = (F32_exp((dot_0((*sv_sites_13)[int(3)], _S3289) - _S3290)));
        float w_66 = (F32_exp((dot_0((*sv_sites_13)[int(4)], _S3289) - _S3290)));
        float w_67 = (F32_exp((dot_0((*sv_sites_13)[int(5)], _S3289) - _S3290)));
        float w_68 = (F32_exp((dot_0((*sv_sites_13)[int(6)], _S3289) - _S3290)));
        float w_69 = (F32_exp((0.0f)));
        *rgb_25 = max_0((make_float3 (w_62) * (*sv_colors_13)[int(0)] + make_float3 (w_63) * (*sv_colors_13)[int(1)] + make_float3 (w_64) * (*sv_colors_13)[int(2)] + make_float3 (w_65) * (*sv_colors_13)[int(3)] + make_float3 (w_66) * (*sv_colors_13)[int(4)] + make_float3 (w_67) * (*sv_colors_13)[int(5)] + make_float3 (w_68) * (*sv_colors_13)[int(6)] + make_float3 (w_69) * (*sv_colors_13)[int(7)]) / make_float3 (w_62 + w_63 + w_64 + w_65 + w_66 + w_67 + w_68 + w_69) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_29, float3  mean_34, float4  quat_35, float3  scale_34, float in_opacity_29, FixedArray<float3 , 2>  * sv_sites_14, FixedArray<float3 , 2>  * sv_colors_14, Matrix<float, 3, 3>  R_36, float3  t_32, float fx_38, float fy_38, float cx_33, float cy_33, FixedArray<float, 10>  * dist_coeffs_42, uint image_width_29, uint image_height_29, float near_plane_24, float far_plane_24, int4  * aabb_xyxy_24, float2  * mean2d_32, float * depth_25, float3  * conic_24, float * opacity_28, float3  * rgb_26)
{
    float3  mean_c_29 = mul_0(R_36, mean_34) + t_32;
    float4  intrins_28 = make_float4 (fx_38, fy_38, cx_33, cy_33);
    float3  _S3291 = exp_0(scale_34);
    float x_55 = quat_35.y;
    float x2_35 = x_55 * x_55;
    float y2_35 = quat_35.z * quat_35.z;
    float z2_50 = quat_35.w * quat_35.w;
    float xy_35 = quat_35.y * quat_35.z;
    float xz_35 = quat_35.y * quat_35.w;
    float yz_35 = quat_35.z * quat_35.w;
    float wx_35 = quat_35.x * quat_35.y;
    float wy_35 = quat_35.x * quat_35.z;
    float wz_35 = quat_35.x * quat_35.w;
    Matrix<float, 3, 3>  _S3292 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_35 + z2_50), 2.0f * (xy_35 + wz_35), 2.0f * (xz_35 - wy_35), 2.0f * (xy_35 - wz_35), 1.0f - 2.0f * (x2_35 + z2_50), 2.0f * (yz_35 + wx_35), 2.0f * (xz_35 + wy_35), 2.0f * (yz_35 - wx_35), 1.0f - 2.0f * (x2_35 + y2_35))));
    SigmaPoints_0 ret_18;
    (&ret_18)->p_0[int(0)] = mean_34;
    (&ret_18)->w_mean_0[int(0)] = 0.0f;
    (&ret_18)->w_cov_0[int(0)] = 2.0f;
    float _S3293 = (F32_sqrt((3.0f)));
    float3  delta_60 = make_float3 (_S3293 * _S3291.x) * _S3292.rows[0U];
    float3  _S3294 = mean_34 + delta_60;
    float3  _S3295 = mean_34 - delta_60;
    float3  delta_61 = make_float3 (_S3293 * _S3291.y) * _S3292.rows[1U];
    float3  _S3296 = mean_34 + delta_61;
    float3  _S3297 = mean_34 - delta_61;
    float3  delta_62 = make_float3 (_S3293 * _S3291.z) * _S3292.rows[2U];
    float3  _S3298 = mean_34 + delta_62;
    float3  _S3299 = mean_34 - delta_62;
    (&ret_18)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_18)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_18)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_18)->p_0[0U] = mul_0(R_36, (&ret_18)->p_0[0U]) + t_32;
    (&ret_18)->p_0[1U] = mul_0(R_36, _S3294) + t_32;
    (&ret_18)->p_0[2U] = mul_0(R_36, _S3296) + t_32;
    (&ret_18)->p_0[3U] = mul_0(R_36, _S3298) + t_32;
    (&ret_18)->p_0[4U] = mul_0(R_36, _S3295) + t_32;
    (&ret_18)->p_0[5U] = mul_0(R_36, _S3297) + t_32;
    (&ret_18)->p_0[6U] = mul_0(R_36, _S3299) + t_32;
    SigmaPoints_0 _S3300 = ret_18;
    Matrix<float, 2, 2>  covar2d_24;
    bool _S3301 = persp_proj_3dgs_ut_1(&_S3300, intrins_28, dist_coeffs_42, image_width_29, image_height_29, &covar2d_24, mean2d_32);
    float det_orig_30 = *&(((&covar2d_24)->rows + (int(0)))->x) * *&(((&covar2d_24)->rows + (int(1)))->y) - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x);
    float _S3302 = *&(((&covar2d_24)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(0)))->x) = _S3302;
    float _S3303 = *&(((&covar2d_24)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_24)->rows + (int(1)))->y) = _S3303;
    float compensation_25 = (F32_sqrt(((F32_max((0.0f), (det_orig_30 / (_S3302 * _S3303 - *&(((&covar2d_24)->rows + (int(0)))->y) * *&(((&covar2d_24)->rows + (int(1)))->x))))))));
    *opacity_28 = 1.0f / (1.0f + (F32_exp((- in_opacity_29))));
    if(antialiased_29)
    {
        *opacity_28 = *opacity_28 * compensation_25;
    }
    float extend_24 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_28 / 0.00392156885936856f)))))))));
    float radius_x_24 = extend_24 * (F32_sqrt((covar2d_24[int(0)].x)));
    float radius_y_24 = extend_24 * (F32_sqrt((covar2d_24[int(1)].y)));
    *aabb_xyxy_24 = make_int4 (int((F32_floor(((*mean2d_32).x - radius_x_24)))), int((F32_floor(((*mean2d_32).y - radius_y_24)))), int((F32_ceil(((*mean2d_32).x + radius_x_24)))), int((F32_ceil(((*mean2d_32).y + radius_y_24)))));
    float _S3304 = mean_c_29.z;
    *depth_25 = (F32_max((_S3304), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3304 + length_1(mean_c_29)))));
    *conic_24 = exp_0(- scale_34);
    float3  _S3305 = mean_34 - - mul_0(transpose_0(R_36), t_32);
    float3  _S3306 = _S3305 * make_float3 ((F32_rsqrt((dot_0(_S3305, _S3305)))));
    float w_70 = (F32_exp((dot_0((*sv_sites_14)[int(0)], _S3306) - dot_0((*sv_sites_14)[int(1)], _S3306))));
    float w_71 = (F32_exp((0.0f)));
    *rgb_26 = max_0((make_float3 (w_70) * (*sv_colors_14)[int(0)] + make_float3 (w_71) * (*sv_colors_14)[int(1)]) / make_float3 (w_70 + w_71) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_30, float3  mean_35, float4  quat_36, float3  scale_35, float in_opacity_30, FixedArray<float3 , 2>  * sv_sites_15, FixedArray<float3 , 2>  * sv_colors_15, Matrix<float, 3, 3>  R_37, float3  t_33, float fx_39, float fy_39, float cx_34, float cy_34, FixedArray<float, 10>  * dist_coeffs_43, uint image_width_30, uint image_height_30, float near_plane_25, float far_plane_25, int4  * aabb_xyxy_25, float2  * mean2d_33, float * depth_26, float3  * conic_25, float * opacity_29, float3  * rgb_27)
{
    float3  mean_c_30 = mul_0(R_37, mean_35) + t_33;
    float4  intrins_29 = make_float4 (fx_39, fy_39, cx_34, cy_34);
    float3  _S3307 = exp_0(scale_35);
    float x_56 = quat_36.y;
    float x2_36 = x_56 * x_56;
    float y2_36 = quat_36.z * quat_36.z;
    float z2_51 = quat_36.w * quat_36.w;
    float xy_36 = quat_36.y * quat_36.z;
    float xz_36 = quat_36.y * quat_36.w;
    float yz_36 = quat_36.z * quat_36.w;
    float wx_36 = quat_36.x * quat_36.y;
    float wy_36 = quat_36.x * quat_36.z;
    float wz_36 = quat_36.x * quat_36.w;
    Matrix<float, 3, 3>  _S3308 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_36 + z2_51), 2.0f * (xy_36 + wz_36), 2.0f * (xz_36 - wy_36), 2.0f * (xy_36 - wz_36), 1.0f - 2.0f * (x2_36 + z2_51), 2.0f * (yz_36 + wx_36), 2.0f * (xz_36 + wy_36), 2.0f * (yz_36 - wx_36), 1.0f - 2.0f * (x2_36 + y2_36))));
    SigmaPoints_0 ret_19;
    (&ret_19)->p_0[int(0)] = mean_35;
    (&ret_19)->w_mean_0[int(0)] = 0.0f;
    (&ret_19)->w_cov_0[int(0)] = 2.0f;
    float _S3309 = (F32_sqrt((3.0f)));
    float3  delta_63 = make_float3 (_S3309 * _S3307.x) * _S3308.rows[0U];
    float3  _S3310 = mean_35 + delta_63;
    float3  _S3311 = mean_35 - delta_63;
    float3  delta_64 = make_float3 (_S3309 * _S3307.y) * _S3308.rows[1U];
    float3  _S3312 = mean_35 + delta_64;
    float3  _S3313 = mean_35 - delta_64;
    float3  delta_65 = make_float3 (_S3309 * _S3307.z) * _S3308.rows[2U];
    float3  _S3314 = mean_35 + delta_65;
    float3  _S3315 = mean_35 - delta_65;
    (&ret_19)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_19)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_19)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_19)->p_0[0U] = mul_0(R_37, (&ret_19)->p_0[0U]) + t_33;
    (&ret_19)->p_0[1U] = mul_0(R_37, _S3310) + t_33;
    (&ret_19)->p_0[2U] = mul_0(R_37, _S3312) + t_33;
    (&ret_19)->p_0[3U] = mul_0(R_37, _S3314) + t_33;
    (&ret_19)->p_0[4U] = mul_0(R_37, _S3311) + t_33;
    (&ret_19)->p_0[5U] = mul_0(R_37, _S3313) + t_33;
    (&ret_19)->p_0[6U] = mul_0(R_37, _S3315) + t_33;
    SigmaPoints_0 _S3316 = ret_19;
    Matrix<float, 2, 2>  covar2d_25;
    bool _S3317 = fisheye_proj_3dgs_ut_1(&_S3316, intrins_29, dist_coeffs_43, &covar2d_25, mean2d_33);
    float det_orig_31 = *&(((&covar2d_25)->rows + (int(0)))->x) * *&(((&covar2d_25)->rows + (int(1)))->y) - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x);
    float _S3318 = *&(((&covar2d_25)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(0)))->x) = _S3318;
    float _S3319 = *&(((&covar2d_25)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_25)->rows + (int(1)))->y) = _S3319;
    float compensation_26 = (F32_sqrt(((F32_max((0.0f), (det_orig_31 / (_S3318 * _S3319 - *&(((&covar2d_25)->rows + (int(0)))->y) * *&(((&covar2d_25)->rows + (int(1)))->x))))))));
    *opacity_29 = 1.0f / (1.0f + (F32_exp((- in_opacity_30))));
    if(antialiased_30)
    {
        *opacity_29 = *opacity_29 * compensation_26;
    }
    float extend_25 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_29 / 0.00392156885936856f)))))))));
    float radius_x_25 = extend_25 * (F32_sqrt((covar2d_25[int(0)].x)));
    float radius_y_25 = extend_25 * (F32_sqrt((covar2d_25[int(1)].y)));
    *aabb_xyxy_25 = make_int4 (int((F32_floor(((*mean2d_33).x - radius_x_25)))), int((F32_floor(((*mean2d_33).y - radius_y_25)))), int((F32_ceil(((*mean2d_33).x + radius_x_25)))), int((F32_ceil(((*mean2d_33).y + radius_y_25)))));
    float _S3320 = mean_c_30.z;
    *depth_26 = (F32_max((_S3320), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3320 + length_1(mean_c_30)))));
    *conic_25 = exp_0(- scale_35);
    float3  _S3321 = mean_35 - - mul_0(transpose_0(R_37), t_33);
    float3  _S3322 = _S3321 * make_float3 ((F32_rsqrt((dot_0(_S3321, _S3321)))));
    float w_72 = (F32_exp((dot_0((*sv_sites_15)[int(0)], _S3322) - dot_0((*sv_sites_15)[int(1)], _S3322))));
    float w_73 = (F32_exp((0.0f)));
    *rgb_27 = max_0((make_float3 (w_72) * (*sv_colors_15)[int(0)] + make_float3 (w_73) * (*sv_colors_15)[int(1)]) / make_float3 (w_72 + w_73) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0
{
    FixedArray<float3 , 2>  primal_0;
    FixedArray<float3 , 2>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S3323;
};

inline __device__ float s_primal_ctx_rsqrt_0(float _S3324)
{
    return (F32_rsqrt((_S3324)));
}

inline __device__ float3  s_primal_ctx_max_1(float3  _S3325, float3  _S3326)
{
    return max_0(_S3325, _S3326);
}

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(bool antialiased_31, float3  dpmean_2, float4  dpquat_1, float3  dpscale_1, float dpin_opacity_0, FixedArray<float3 , 2>  * dpsv_sites_0, FixedArray<float3 , 2>  * dpsv_colors_0, Matrix<float, 3, 3>  dpR_2, float3  dpt_1, float fx_40, float fy_40, float cx_35, float cy_35, FixedArray<float, 10>  * dist_coeffs_44, uint image_width_31, uint image_height_31, float near_plane_26, float far_plane_26, int4  * aabb_xyxy_26, float2  * dpmean2d_2, float * dpdepth_1, float3  * dpconic_0, float * dpopacity_2, float3  * dprgb_1, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_14)
{
    Matrix<float, 2, 2>  _S3327 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_14->_S3323 = _S3327;
    float2  _S3328 = make_float2 (0.0f);
    float3  _S3329 = make_float3 (0.0f);
    float3  mean_c_31 = s_primal_ctx_mul_0(dpR_2, dpmean_2) + dpt_1;
    float4  intrins_30 = make_float4 (fx_40, fy_40, cx_35, cy_35);
    float3  _S3330 = s_primal_ctx_exp_0(dpscale_1);
    float _S3331 = dpquat_1.y;
    float x2_37 = _S3331 * _S3331;
    float y2_37 = dpquat_1.z * dpquat_1.z;
    float z2_52 = dpquat_1.w * dpquat_1.w;
    float xy_37 = dpquat_1.y * dpquat_1.z;
    float xz_37 = dpquat_1.y * dpquat_1.w;
    float yz_37 = dpquat_1.z * dpquat_1.w;
    float wx_37 = dpquat_1.x * dpquat_1.y;
    float wy_37 = dpquat_1.x * dpquat_1.z;
    float wz_37 = dpquat_1.x * dpquat_1.w;
    Matrix<float, 3, 3>  _S3332 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_37 + z2_52), 2.0f * (xy_37 + wz_37), 2.0f * (xz_37 - wy_37), 2.0f * (xy_37 - wz_37), 1.0f - 2.0f * (x2_37 + z2_52), 2.0f * (yz_37 + wx_37), 2.0f * (xz_37 + wy_37), 2.0f * (yz_37 - wx_37), 1.0f - 2.0f * (x2_37 + y2_37))));
    FixedArray<float3 , 7>  _S3333 = {
        _S3329, _S3329, _S3329, _S3329, _S3329, _S3329, _S3329
    };
    FixedArray<float, 7>  _S3334 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3335;
    (&_S3335)->p_0 = _S3333;
    (&_S3335)->w_mean_0 = _S3334;
    (&_S3335)->w_cov_0 = _S3334;
    (&_S3335)->p_0[int(0)] = dpmean_2;
    SigmaPoints_0 _S3336 = _S3335;
    (&_S3336)->w_mean_0[int(0)] = 0.0f;
    (&_S3336)->w_cov_0[int(0)] = 2.0f;
    float _S3337 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_66 = make_float3 (_S3337 * _S3330.x) * _S3332.rows[0U];
    float3  _S3338 = dpmean_2 + delta_66;
    float3  _S3339 = dpmean_2 - delta_66;
    float3  delta_67 = make_float3 (_S3337 * _S3330.y) * _S3332.rows[1U];
    float3  _S3340 = dpmean_2 + delta_67;
    float3  _S3341 = dpmean_2 - delta_67;
    float3  delta_68 = make_float3 (_S3337 * _S3330.z) * _S3332.rows[2U];
    float3  _S3342 = dpmean_2 + delta_68;
    float3  _S3343 = dpmean_2 - delta_68;
    (&_S3336)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3336)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3336)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3336)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3336)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3336)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3336)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3336)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3336)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3336)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3336)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3336)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3336)->p_0[0U] = s_primal_ctx_mul_0(dpR_2, _S3335.p_0[0U]) + dpt_1;
    (&_S3336)->p_0[1U] = s_primal_ctx_mul_0(dpR_2, _S3338) + dpt_1;
    (&_S3336)->p_0[2U] = s_primal_ctx_mul_0(dpR_2, _S3340) + dpt_1;
    (&_S3336)->p_0[3U] = s_primal_ctx_mul_0(dpR_2, _S3342) + dpt_1;
    (&_S3336)->p_0[4U] = s_primal_ctx_mul_0(dpR_2, _S3339) + dpt_1;
    (&_S3336)->p_0[5U] = s_primal_ctx_mul_0(dpR_2, _S3341) + dpt_1;
    (&_S3336)->p_0[6U] = s_primal_ctx_mul_0(dpR_2, _S3343) + dpt_1;
    float2  _S3344 = _S3328;
    Matrix<float, 2, 2>  _S3345 = _S3327;
    SigmaPoints_0 _S3346 = _S3336;
    bool _S3347 = persp_proj_3dgs_ut_1(&_S3346, intrins_30, dist_coeffs_44, image_width_31, image_height_31, &_S3345, &_S3344);
    _s_diff_ctx_14->_S3323 = _S3345;
    float2  _S3348 = _S3344;
    float _S3349 = _S3345.rows[int(0)].y * _S3345.rows[int(1)].x;
    float det_orig_32 = _S3345.rows[int(0)].x * _S3345.rows[int(1)].y - _S3349;
    float _S3350 = _S3345.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3351 = _S3345;
    *&(((&_S3351)->rows + (int(0)))->x) = _S3350;
    float _S3352 = _S3345.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3351)->rows + (int(1)))->y) = _S3352;
    Matrix<float, 2, 2>  _S3353 = _S3351;
    Matrix<float, 2, 2>  _S3354 = _S3351;
    float _S3355 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_32 / (_S3350 * _S3352 - _S3349)));
    float _S3356 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_0));
    float _S3357;
    if(antialiased_31)
    {
        _S3357 = _S3356 * _S3355;
    }
    else
    {
        _S3357 = _S3356;
    }
    float _S3358 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S3357 / 0.00392156885936856f)));
    float radius_x_26 = _S3358 * s_primal_ctx_sqrt_0(_S3353.rows[int(0)].x);
    float radius_y_26 = _S3358 * s_primal_ctx_sqrt_0(_S3354.rows[int(1)].y);
    float _S3359 = _S3348.x;
    float _S3360 = _S3348.y;
    float _S3361 = mean_c_31.z;
    float _S3362 = s_primal_ctx_max_0(_S3361, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S3361 + length_1(mean_c_31)));
    float3  _S3363 = s_primal_ctx_exp_0(- dpscale_1);
    float3  _S3364 = dpmean_2 - - s_primal_ctx_mul_0(transpose_0(dpR_2), dpt_1);
    float3  _S3365 = _S3364 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S3364, _S3364)));
    float _S3366 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_0)[int(0)], _S3365) - s_primal_ctx_dot_0((*dpsv_sites_0)[int(1)], _S3365));
    float _S3367 = s_primal_ctx_exp_1(0.0f);
    float3  _S3368 = s_primal_ctx_max_1((make_float3 (_S3366) * (*dpsv_colors_0)[int(0)] + make_float3 (_S3367) * (*dpsv_colors_0)[int(1)]) / make_float3 (_S3366 + _S3367) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_26 = make_int4 (int((F32_floor((_S3359 - radius_x_26)))), int((F32_floor((_S3360 - radius_y_26)))), int((F32_ceil((_S3359 + radius_x_26)))), int((F32_ceil((_S3360 + radius_y_26)))));
    *dpmean2d_2 = _S3348;
    *dpdepth_1 = _S3362;
    *dpconic_0 = _S3363;
    *dpopacity_2 = _S3357;
    *dprgb_1 = _S3368;
    return;
}

inline __device__ void s_bwd_prop_rsqrt_0(DiffPair_float_0 * _S3369, float _S3370)
{
    _d_rsqrt_0(_S3369, _S3370);
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(bool antialiased_32, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_3, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_2, DiffPair_float_0 * dpin_opacity_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_1, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_2, float fx_41, float fy_41, float cx_36, float cy_36, FixedArray<float, 10>  * dist_coeffs_45, uint image_width_32, uint image_height_32, float near_plane_27, float far_plane_27, float2  dpmean2d_3, float dpdepth_2, float3  dpconic_1, float dpopacity_3, float3  dprgb_2, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 * _s_diff_ctx_15)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3371 = *dpmean_3;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S3372 = *dpquat_2;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3373 = *dpscale_2;
    FixedArray<float3 , 2>  _S3374 = dpsv_sites_1->primal_0;
    FixedArray<float3 , 2>  _S3375 = dpsv_colors_1->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3376 = *dpR_3;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3377 = *dpt_2;
    float3  _S3378 = make_float3 (0.0f);
    float3  mean_c_32 = s_primal_ctx_mul_0((*dpR_3).primal_0, (*dpmean_3).primal_0) + (*dpt_2).primal_0;
    float3  _S3379 = s_primal_ctx_exp_0((*dpscale_2).primal_0);
    float _S3380 = (*dpquat_2).primal_0.y;
    float x2_38 = _S3380 * _S3380;
    float y2_38 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.z;
    float z2_53 = (*dpquat_2).primal_0.w * (*dpquat_2).primal_0.w;
    float xy_38 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.z;
    float xz_38 = (*dpquat_2).primal_0.y * (*dpquat_2).primal_0.w;
    float yz_38 = (*dpquat_2).primal_0.z * (*dpquat_2).primal_0.w;
    float wx_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.y;
    float wy_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.z;
    float wz_38 = (*dpquat_2).primal_0.x * (*dpquat_2).primal_0.w;
    Matrix<float, 3, 3>  _S3381 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_38 + z2_53), 2.0f * (xy_38 + wz_38), 2.0f * (xz_38 - wy_38), 2.0f * (xy_38 - wz_38), 1.0f - 2.0f * (x2_38 + z2_53), 2.0f * (yz_38 + wx_38), 2.0f * (xz_38 + wy_38), 2.0f * (yz_38 - wx_38), 1.0f - 2.0f * (x2_38 + y2_38))));
    FixedArray<float3 , 7>  _S3382 = {
        _S3378, _S3378, _S3378, _S3378, _S3378, _S3378, _S3378
    };
    FixedArray<float, 7>  _S3383 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3384;
    (&_S3384)->p_0 = _S3382;
    (&_S3384)->w_mean_0 = _S3383;
    (&_S3384)->w_cov_0 = _S3383;
    (&_S3384)->p_0[int(0)] = (*dpmean_3).primal_0;
    float _S3385 = s_primal_ctx_sqrt_0(3.0f);
    float _S3386 = _S3385 * _S3379.x;
    float3  _S3387 = make_float3 (_S3386);
    float3  delta_69 = make_float3 (_S3386) * _S3381.rows[0U];
    float3  _S3388 = (*dpmean_3).primal_0 + delta_69;
    float3  _S3389 = (*dpmean_3).primal_0 - delta_69;
    float _S3390 = _S3385 * _S3379.y;
    float3  _S3391 = make_float3 (_S3390);
    float3  delta_70 = make_float3 (_S3390) * _S3381.rows[1U];
    float3  _S3392 = (*dpmean_3).primal_0 + delta_70;
    float3  _S3393 = (*dpmean_3).primal_0 - delta_70;
    float _S3394 = _S3385 * _S3379.z;
    float3  _S3395 = make_float3 (_S3394);
    float3  delta_71 = make_float3 (_S3394) * _S3381.rows[2U];
    float3  _S3396 = (*dpmean_3).primal_0 + delta_71;
    float3  _S3397 = (*dpmean_3).primal_0 - delta_71;
    SigmaPoints_0 _S3398 = _S3384;
    float _S3399 = *&(((&_s_diff_ctx_15->_S3323)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_15->_S3323)->rows + (int(1)))->x);
    float det_orig_33 = *&(((&_s_diff_ctx_15->_S3323)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_15->_S3323)->rows + (int(1)))->y) - _S3399;
    float _S3400 = *&(((&_s_diff_ctx_15->_S3323)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3401 = _s_diff_ctx_15->_S3323;
    *&(((&_S3401)->rows + (int(0)))->x) = _S3400;
    float _S3402 = *&(((&_s_diff_ctx_15->_S3323)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S3401)->rows + (int(1)))->y) = _S3402;
    Matrix<float, 2, 2>  _S3403 = _S3401;
    Matrix<float, 2, 2>  _S3404 = _S3401;
    float det_blur_25 = _S3400 * _S3402 - _S3399;
    float _S3405 = det_orig_33 / det_blur_25;
    float _S3406 = det_blur_25 * det_blur_25;
    float _S3407 = s_primal_ctx_max_0(0.0f, _S3405);
    float _S3408 = s_primal_ctx_sqrt_0(_S3407);
    float _S3409 = - (*dpin_opacity_1).primal_0;
    float _S3410 = 1.0f + s_primal_ctx_exp_1(_S3409);
    float _S3411 = 1.0f / _S3410;
    float _S3412 = _S3410 * _S3410;
    float _S3413;
    if(antialiased_32)
    {
        _S3413 = _S3411 * _S3408;
    }
    else
    {
        _S3413 = _S3411;
    }
    float _S3414 = _S3413 / 0.00392156885936856f;
    float _S3415 = 2.0f * s_primal_ctx_log_0(_S3414);
    float _S3416 = s_primal_ctx_sqrt_0(_S3415);
    float _S3417 = _S3403.rows[int(0)].x;
    float _S3418 = _S3404.rows[int(1)].y;
    float _S3419 = mean_c_32.z;
    float _S3420 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S3421 = _S3420 * (_S3419 + length_1(mean_c_32));
    float3  _S3422 = - _S3373.primal_0;
    Matrix<float, 3, 3>  _S3423 = transpose_0(_S3376.primal_0);
    float3  _S3424 = _S3371.primal_0 - - s_primal_ctx_mul_0(_S3423, _S3377.primal_0);
    float _S3425 = s_primal_ctx_dot_0(_S3424, _S3424);
    float _S3426 = s_primal_ctx_rsqrt_0(_S3425);
    float3  _S3427 = make_float3 (_S3426);
    float3  _S3428 = _S3424 * make_float3 (_S3426);
    float _S3429 = s_primal_ctx_dot_0(_S3374[int(0)], _S3428) - s_primal_ctx_dot_0(_S3374[int(1)], _S3428);
    float _S3430 = s_primal_ctx_exp_1(_S3429);
    float3  _S3431 = make_float3 (_S3430);
    float _S3432 = s_primal_ctx_exp_1(0.0f);
    float3  _S3433 = make_float3 (_S3432);
    float total_w_0 = _S3430 + _S3432;
    float3  _S3434 = make_float3 (total_w_0);
    float3  total_c_0 = make_float3 (_S3430) * _S3375[int(0)] + make_float3 (_S3432) * _S3375[int(1)];
    float3  _S3435 = make_float3 (total_w_0 * total_w_0);
    float3  _S3436 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3437;
    (&_S3437)->primal_0 = total_c_0 / make_float3 (total_w_0) + make_float3 (0.5f);
    (&_S3437)->differential_0 = _S3378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3438;
    (&_S3438)->primal_0 = _S3436;
    (&_S3438)->differential_0 = _S3378;
    s_bwd_prop_max_0(&_S3437, &_S3438, dprgb_2);
    float3  _S3439 = _S3437.differential_0 / _S3435;
    float3  _S3440 = total_c_0 * - _S3439;
    float3  s_diff_total_c_T_0 = _S3434 * _S3439;
    float3  _S3441 = _S3433 * s_diff_total_c_T_0;
    float3  _S3442 = _S3431 * s_diff_total_c_T_0;
    float3  _S3443 = _S3375[int(0)] * s_diff_total_c_T_0;
    float _S3444 = _S3440.x + _S3440.y + _S3440.z + _S3443.x + _S3443.y + _S3443.z;
    DiffPair_float_0 _S3445;
    (&_S3445)->primal_0 = _S3429;
    (&_S3445)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3445, _S3444);
    float _S3446 = - _S3445.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3447;
    (&_S3447)->primal_0 = _S3374[int(1)];
    (&_S3447)->differential_0 = _S3378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3448;
    (&_S3448)->primal_0 = _S3428;
    (&_S3448)->differential_0 = _S3378;
    s_bwd_prop_dot_0(&_S3447, &_S3448, _S3446);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3449;
    (&_S3449)->primal_0 = _S3374[int(0)];
    (&_S3449)->differential_0 = _S3378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3450;
    (&_S3450)->primal_0 = _S3428;
    (&_S3450)->differential_0 = _S3378;
    s_bwd_prop_dot_0(&_S3449, &_S3450, _S3445.differential_0);
    float3  _S3451 = _S3448.differential_0 + _S3450.differential_0;
    float3  _S3452 = _S3424 * _S3451;
    float3  _S3453 = _S3427 * _S3451;
    float _S3454 = _S3452.x + _S3452.y + _S3452.z;
    DiffPair_float_0 _S3455;
    (&_S3455)->primal_0 = _S3425;
    (&_S3455)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S3455, _S3454);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3456;
    (&_S3456)->primal_0 = _S3424;
    (&_S3456)->differential_0 = _S3378;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3457;
    (&_S3457)->primal_0 = _S3424;
    (&_S3457)->differential_0 = _S3378;
    s_bwd_prop_dot_0(&_S3456, &_S3457, _S3455.differential_0);
    float3  _S3458 = _S3453 + _S3457.differential_0 + _S3456.differential_0;
    float3  _S3459 = - - _S3458;
    Matrix<float, 3, 3>  _S3460 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3461;
    (&_S3461)->primal_0 = _S3423;
    (&_S3461)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3462;
    (&_S3462)->primal_0 = _S3377.primal_0;
    (&_S3462)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3461, &_S3462, _S3459);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3463 = _S3462;
    Matrix<float, 3, 3>  _S3464 = transpose_0(_S3461.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3465;
    (&_S3465)->primal_0 = _S3422;
    (&_S3465)->differential_0 = _S3378;
    s_bwd_prop_exp_1(&_S3465, dpconic_1);
    float3  _S3466 = - _S3465.differential_0;
    DiffPair_float_0 _S3467;
    (&_S3467)->primal_0 = _S3419;
    (&_S3467)->differential_0 = 0.0f;
    DiffPair_float_0 _S3468;
    (&_S3468)->primal_0 = _S3421;
    (&_S3468)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3467, &_S3468, dpdepth_2);
    float _S3469 = _S3420 * _S3468.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3470;
    (&_S3470)->primal_0 = mean_c_32;
    (&_S3470)->differential_0 = _S3378;
    s_bwd_length_impl_1(&_S3470, _S3469);
    float _S3471 = _S3467.differential_0 + _S3469;
    DiffPair_float_0 _S3472;
    (&_S3472)->primal_0 = _S3418;
    (&_S3472)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3472, 0.0f);
    DiffPair_float_0 _S3473;
    (&_S3473)->primal_0 = _S3417;
    (&_S3473)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3473, 0.0f);
    DiffPair_float_0 _S3474;
    (&_S3474)->primal_0 = 3.32999992370605469f;
    (&_S3474)->differential_0 = 0.0f;
    DiffPair_float_0 _S3475;
    (&_S3475)->primal_0 = _S3416;
    (&_S3475)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3474, &_S3475, 0.0f);
    DiffPair_float_0 _S3476;
    (&_S3476)->primal_0 = _S3415;
    (&_S3476)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3476, _S3475.differential_0);
    float _S3477 = 2.0f * _S3476.differential_0;
    DiffPair_float_0 _S3478;
    (&_S3478)->primal_0 = _S3414;
    (&_S3478)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3478, _S3477);
    float _S3479 = dpopacity_3 + 254.9999847412109375f * _S3478.differential_0;
    FixedArray<float3 , 2>  _S3480;
    _S3480[int(0)] = _S3378;
    _S3480[int(1)] = _S3378;
    _S3480[int(1)] = _S3441;
    _S3480[int(0)] = _S3442;
    FixedArray<float3 , 2>  _S3481 = {
        _S3480[int(0)], _S3480[int(1)]
    };
    FixedArray<float3 , 2>  _S3482;
    _S3482[int(0)] = _S3378;
    _S3482[int(1)] = _S3378;
    _S3482[int(1)] = _S3447.differential_0;
    _S3482[int(0)] = _S3449.differential_0;
    FixedArray<float3 , 2>  _S3483 = {
        _S3482[int(0)], _S3482[int(1)]
    };
    float3  _S3484 = _S3470.differential_0 + make_float3 (0.0f, 0.0f, _S3471);
    float2  _S3485 = make_float2 (0.0f, _S3472.differential_0);
    float2  _S3486 = make_float2 (_S3473.differential_0, 0.0f);
    float _S3487;
    if(antialiased_32)
    {
        float _S3488 = _S3411 * _S3479;
        _S3413 = _S3408 * _S3479;
        _S3487 = _S3488;
    }
    else
    {
        _S3413 = _S3479;
        _S3487 = 0.0f;
    }
    float _S3489 = - (_S3413 / _S3412);
    DiffPair_float_0 _S3490;
    (&_S3490)->primal_0 = _S3409;
    (&_S3490)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3490, _S3489);
    float _S3491 = - _S3490.differential_0;
    DiffPair_float_0 _S3492;
    (&_S3492)->primal_0 = _S3407;
    (&_S3492)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3492, _S3487);
    DiffPair_float_0 _S3493;
    (&_S3493)->primal_0 = 0.0f;
    (&_S3493)->differential_0 = 0.0f;
    DiffPair_float_0 _S3494;
    (&_S3494)->primal_0 = _S3405;
    (&_S3494)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3493, &_S3494, _S3492.differential_0);
    float _S3495 = _S3494.differential_0 / _S3406;
    float s_diff_det_blur_T_2 = det_orig_33 * - _S3495;
    float s_diff_det_orig_T_5 = det_blur_25 * _S3495;
    float _S3496 = - s_diff_det_blur_T_2;
    float _S3497 = _S3400 * s_diff_det_blur_T_2;
    float _S3498 = _S3402 * s_diff_det_blur_T_2;
    Matrix<float, 2, 2>  _S3499 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S3500 = _S3499;
    _S3500[int(1)] = _S3485;
    _S3500[int(0)] = _S3486;
    float _S3501 = _S3498 + _S3500.rows[int(0)].x;
    float _S3502 = _S3496 + - s_diff_det_orig_T_5;
    float _S3503 = *&(((&_s_diff_ctx_15->_S3323)->rows + (int(0)))->y) * _S3502;
    float _S3504 = *&(((&_s_diff_ctx_15->_S3323)->rows + (int(1)))->x) * _S3502;
    float _S3505 = *&(((&_s_diff_ctx_15->_S3323)->rows + (int(1)))->y) * s_diff_det_orig_T_5;
    float _S3506 = _S3497 + _S3500.rows[int(1)].y + *&(((&_s_diff_ctx_15->_S3323)->rows + (int(0)))->x) * s_diff_det_orig_T_5;
    float2  _S3507 = make_float2 (0.0f);
    float2  _S3508 = _S3507;
    *&((&_S3508)->x) = _S3503;
    *&((&_S3508)->y) = _S3506;
    float _S3509 = _S3501 + _S3505;
    float2  _S3510 = _S3507;
    *&((&_S3510)->y) = _S3504;
    *&((&_S3510)->x) = _S3509;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3511;
    (&_S3511)->primal_0 = _S3376.primal_0;
    (&_S3511)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3512;
    (&_S3512)->primal_0 = _S3397;
    (&_S3512)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3511, &_S3512, _S3378);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3513;
    (&_S3513)->primal_0 = _S3376.primal_0;
    (&_S3513)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3514;
    (&_S3514)->primal_0 = _S3393;
    (&_S3514)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3513, &_S3514, _S3378);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3515;
    (&_S3515)->primal_0 = _S3376.primal_0;
    (&_S3515)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3516;
    (&_S3516)->primal_0 = _S3389;
    (&_S3516)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3515, &_S3516, _S3378);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3517;
    (&_S3517)->primal_0 = _S3376.primal_0;
    (&_S3517)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3518;
    (&_S3518)->primal_0 = _S3396;
    (&_S3518)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3517, &_S3518, _S3378);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3519;
    (&_S3519)->primal_0 = _S3376.primal_0;
    (&_S3519)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3520;
    (&_S3520)->primal_0 = _S3392;
    (&_S3520)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3519, &_S3520, _S3378);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3521;
    (&_S3521)->primal_0 = _S3376.primal_0;
    (&_S3521)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3522;
    (&_S3522)->primal_0 = _S3388;
    (&_S3522)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3521, &_S3522, _S3378);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3523;
    (&_S3523)->primal_0 = _S3376.primal_0;
    (&_S3523)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3524;
    (&_S3524)->primal_0 = _S3398.p_0[0U];
    (&_S3524)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3523, &_S3524, _S3378);
    float3  _S3525 = - _S3512.differential_0 + _S3518.differential_0;
    float3  _S3526 = _S3395 * _S3525;
    float3  _S3527 = _S3381.rows[2U] * _S3525;
    float _S3528 = _S3385 * (_S3527.x + _S3527.y + _S3527.z);
    float3  _S3529 = - _S3514.differential_0 + _S3520.differential_0;
    float3  _S3530 = _S3391 * _S3529;
    float3  _S3531 = _S3381.rows[1U] * _S3529;
    float _S3532 = _S3385 * (_S3531.x + _S3531.y + _S3531.z);
    float3  _S3533 = - _S3516.differential_0 + _S3522.differential_0;
    float3  _S3534 = _S3387 * _S3533;
    float3  _S3535 = _S3381.rows[0U] * _S3533;
    float _S3536 = _S3385 * (_S3535.x + _S3535.y + _S3535.z);
    Matrix<float, 3, 3>  _S3537 = _S3460;
    _S3537[2U] = _S3526;
    _S3537[1U] = _S3530;
    _S3537[0U] = _S3534;
    Matrix<float, 3, 3>  _S3538 = transpose_0(transpose_0(_S3537));
    float _S3539 = 2.0f * - _S3538.rows[int(2)].z;
    float _S3540 = 2.0f * _S3538.rows[int(2)].y;
    float _S3541 = 2.0f * _S3538.rows[int(2)].x;
    float _S3542 = 2.0f * _S3538.rows[int(1)].z;
    float _S3543 = 2.0f * - _S3538.rows[int(1)].y;
    float _S3544 = 2.0f * _S3538.rows[int(1)].x;
    float _S3545 = 2.0f * _S3538.rows[int(0)].z;
    float _S3546 = 2.0f * _S3538.rows[int(0)].y;
    float _S3547 = 2.0f * - _S3538.rows[int(0)].x;
    float _S3548 = - _S3544 + _S3546;
    float _S3549 = _S3541 + - _S3545;
    float _S3550 = - _S3540 + _S3542;
    float _S3551 = _S3540 + _S3542;
    float _S3552 = _S3541 + _S3545;
    float _S3553 = _S3544 + _S3546;
    float _S3554 = _S3372.primal_0.w * (_S3543 + _S3547);
    float _S3555 = _S3372.primal_0.z * (_S3539 + _S3547);
    float _S3556 = _S3372.primal_0.y * (_S3539 + _S3543);
    float _S3557 = _S3372.primal_0.x * _S3548 + _S3372.primal_0.z * _S3551 + _S3372.primal_0.y * _S3552 + _S3554 + _S3554;
    float _S3558 = _S3372.primal_0.x * _S3549 + _S3372.primal_0.w * _S3551 + _S3372.primal_0.y * _S3553 + _S3555 + _S3555;
    float _S3559 = _S3372.primal_0.x * _S3550 + _S3372.primal_0.w * _S3552 + _S3372.primal_0.z * _S3553 + _S3556 + _S3556;
    float _S3560 = _S3372.primal_0.w * _S3548 + _S3372.primal_0.z * _S3549 + _S3372.primal_0.y * _S3550;
    float3  _S3561 = _S3378;
    *&((&_S3561)->z) = _S3528;
    *&((&_S3561)->y) = _S3532;
    *&((&_S3561)->x) = _S3536;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3562;
    (&_S3562)->primal_0 = _S3373.primal_0;
    (&_S3562)->differential_0 = _S3378;
    s_bwd_prop_exp_1(&_S3562, _S3561);
    Matrix<float, 2, 2>  _S3563 = _S3499;
    _S3563[int(1)] = _S3508;
    _S3563[int(0)] = _S3510;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3564;
    (&_S3564)->primal_0 = _S3376.primal_0;
    (&_S3564)->differential_0 = _S3460;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3565;
    (&_S3565)->primal_0 = _S3371.primal_0;
    (&_S3565)->differential_0 = _S3378;
    s_bwd_prop_mul_1(&_S3564, &_S3565, _S3484);
    float3  _S3566 = _S3484 + _S3463.differential_0;
    dpt_2->primal_0 = (*dpt_2).primal_0;
    dpt_2->differential_0 = _S3566;
    Matrix<float, 3, 3>  _S3567 = _S3511.differential_0 + _S3513.differential_0 + _S3515.differential_0 + _S3517.differential_0 + _S3519.differential_0 + _S3521.differential_0 + _S3523.differential_0 + _S3564.differential_0 + _S3464;
    dpR_3->primal_0 = (*dpR_3).primal_0;
    dpR_3->differential_0 = _S3567;
    dpsv_colors_1->primal_0 = dpsv_colors_1->primal_0;
    dpsv_colors_1->differential_0 = _S3481;
    dpsv_sites_1->primal_0 = dpsv_sites_1->primal_0;
    dpsv_sites_1->differential_0 = _S3483;
    dpin_opacity_1->primal_0 = (*dpin_opacity_1).primal_0;
    dpin_opacity_1->differential_0 = _S3491;
    float3  _S3568 = _S3562.differential_0 + _S3466;
    dpscale_2->primal_0 = (*dpscale_2).primal_0;
    dpscale_2->differential_0 = _S3568;
    float4  _S3569 = make_float4 (0.0f);
    *&((&_S3569)->w) = _S3557;
    *&((&_S3569)->z) = _S3558;
    *&((&_S3569)->y) = _S3559;
    *&((&_S3569)->x) = _S3560;
    dpquat_2->primal_0 = (*dpquat_2).primal_0;
    dpquat_2->differential_0 = _S3569;
    float3  _S3570 = _S3512.differential_0 + _S3518.differential_0 + _S3514.differential_0 + _S3520.differential_0 + _S3516.differential_0 + _S3522.differential_0 + _S3565.differential_0 + _S3458;
    dpmean_3->primal_0 = (*dpmean_3).primal_0;
    dpmean_3->differential_0 = _S3570;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_0(bool _S3571, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3572, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S3573, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3574, DiffPair_float_0 * _S3575, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3576, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3577, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3578, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3579, float _S3580, float _S3581, float _S3582, float _S3583, FixedArray<float, 10>  * _S3584, uint _S3585, uint _S3586, float _S3587, float _S3588, float2  _S3589, float _S3590, float3  _S3591, float _S3592, float3  _S3593)
{
    FixedArray<float3 , 2>  _S3594 = _S3576->primal_0;
    FixedArray<float3 , 2>  _S3595 = _S3577->primal_0;
    int4  _S3596;
    float2  _S3597;
    float _S3598;
    float3  _S3599;
    float _S3600;
    float3  _S3601;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S3602;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_0(_S3571, (*_S3572).primal_0, (*_S3573).primal_0, (*_S3574).primal_0, (*_S3575).primal_0, &_S3594, &_S3595, (*_S3578).primal_0, (*_S3579).primal_0, _S3580, _S3581, _S3582, _S3583, _S3584, _S3585, _S3586, _S3587, _S3588, &_S3596, &_S3597, &_S3598, &_S3599, &_S3600, &_S3601, &_S3602);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_0 _S3603 = _S3602;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_0(_S3571, _S3572, _S3573, _S3574, _S3575, _S3576, _S3577, _S3578, _S3579, _S3580, _S3581, _S3582, _S3583, _S3584, _S3585, _S3586, _S3587, _S3588, _S3589, _S3590, _S3591, _S3592, _S3593, &_S3603);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_33, float3  mean_36, float4  quat_37, float3  scale_36, float in_opacity_31, FixedArray<float3 , 2>  * sv_sites_16, FixedArray<float3 , 2>  * sv_colors_16, Matrix<float, 3, 3>  R_38, float3  t_34, float fx_42, float fy_42, float cx_37, float cy_37, FixedArray<float, 10>  * dist_coeffs_46, uint image_width_33, uint image_height_33, float2  v_mean2d_5, float v_depth_6, float3  v_conic_5, float v_opacity_7, float3  v_rgb_6, float3  * v_mean_7, float4  * v_quat_6, float3  * v_scale_6, float * v_in_opacity_5, FixedArray<float3 , 2>  * v_sv_dirs_0, FixedArray<float3 , 2>  * v_sv_colors_0, Matrix<float, 3, 3>  * v_R_7, float3  * v_t_6)
{
    float3  _S3604 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_2;
    (&dp_mean_2)->primal_0 = mean_36;
    (&dp_mean_2)->differential_0 = _S3604;
    float4  _S3605 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_1;
    (&dp_quat_1)->primal_0 = quat_37;
    (&dp_quat_1)->differential_0 = _S3605;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_1;
    (&dp_scale_1)->primal_0 = scale_36;
    (&dp_scale_1)->differential_0 = _S3604;
    DiffPair_float_0 dp_in_opacity_0;
    (&dp_in_opacity_0)->primal_0 = in_opacity_31;
    (&dp_in_opacity_0)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S3606 = { _S3604, _S3604 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_0;
    (&dp_sv_dirs_0)->primal_0 = *sv_sites_16;
    (&dp_sv_dirs_0)->differential_0 = _S3606;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_0;
    (&dp_sv_colors_0)->primal_0 = *sv_colors_16;
    (&dp_sv_colors_0)->differential_0 = _S3606;
    Matrix<float, 3, 3>  _S3607 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_2;
    (&dp_R_2)->primal_0 = R_38;
    (&dp_R_2)->differential_0 = _S3607;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_1;
    (&dp_t_1)->primal_0 = t_34;
    (&dp_t_1)->differential_0 = _S3604;
    s_bwd_projection_3dgut_sv_persp_differentiable_0(antialiased_33, &dp_mean_2, &dp_quat_1, &dp_scale_1, &dp_in_opacity_0, &dp_sv_dirs_0, &dp_sv_colors_0, &dp_R_2, &dp_t_1, fx_42, fy_42, cx_37, cy_37, dist_coeffs_46, image_width_33, image_height_33, 0.0f, 1.00000001504746622e+30f, v_mean2d_5, v_depth_6, v_conic_5, v_opacity_7, v_rgb_6);
    *v_mean_7 = dp_mean_2.differential_0;
    *v_quat_6 = dp_quat_1.differential_0;
    *v_scale_6 = dp_scale_1.differential_0;
    *v_in_opacity_5 = dp_in_opacity_0.differential_0;
    *v_sv_dirs_0 = (&dp_sv_dirs_0)->differential_0;
    *v_sv_colors_0 = (&dp_sv_colors_0)->differential_0;
    *v_R_7 = dp_R_2.differential_0;
    *v_t_6 = dp_t_1.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0
{
    Matrix<float, 2, 2>  _S3608;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_34, float3  dpmean_4, float4  dpquat_3, float3  dpscale_3, float dpin_opacity_2, FixedArray<float3 , 2>  * dpsv_sites_2, FixedArray<float3 , 2>  * dpsv_colors_2, Matrix<float, 3, 3>  dpR_4, float3  dpt_3, float fx_43, float fy_43, float cx_38, float cy_38, FixedArray<float, 10>  * dist_coeffs_47, uint image_width_34, uint image_height_34, float near_plane_28, float far_plane_28, int4  * aabb_xyxy_27, float2  * dpmean2d_4, float * dpdepth_3, float3  * dpconic_2, float * dpopacity_4, float3  * dprgb_3, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_16)
{
    Matrix<float, 2, 2>  _S3609 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_16->_S3608 = _S3609;
    float2  _S3610 = make_float2 (0.0f);
    float3  _S3611 = make_float3 (0.0f);
    float3  mean_c_33 = s_primal_ctx_mul_0(dpR_4, dpmean_4) + dpt_3;
    float _S3612 = length_1(mean_c_33);
    float4  intrins_31 = make_float4 (fx_43, fy_43, cx_38, cy_38);
    float3  _S3613 = s_primal_ctx_exp_0(dpscale_3);
    float _S3614 = dpquat_3.y;
    float x2_39 = _S3614 * _S3614;
    float y2_39 = dpquat_3.z * dpquat_3.z;
    float z2_54 = dpquat_3.w * dpquat_3.w;
    float xy_39 = dpquat_3.y * dpquat_3.z;
    float xz_39 = dpquat_3.y * dpquat_3.w;
    float yz_39 = dpquat_3.z * dpquat_3.w;
    float wx_39 = dpquat_3.x * dpquat_3.y;
    float wy_39 = dpquat_3.x * dpquat_3.z;
    float wz_39 = dpquat_3.x * dpquat_3.w;
    Matrix<float, 3, 3>  _S3615 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_39 + z2_54), 2.0f * (xy_39 + wz_39), 2.0f * (xz_39 - wy_39), 2.0f * (xy_39 - wz_39), 1.0f - 2.0f * (x2_39 + z2_54), 2.0f * (yz_39 + wx_39), 2.0f * (xz_39 + wy_39), 2.0f * (yz_39 - wx_39), 1.0f - 2.0f * (x2_39 + y2_39))));
    FixedArray<float3 , 7>  _S3616 = {
        _S3611, _S3611, _S3611, _S3611, _S3611, _S3611, _S3611
    };
    FixedArray<float, 7>  _S3617 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3618;
    (&_S3618)->p_0 = _S3616;
    (&_S3618)->w_mean_0 = _S3617;
    (&_S3618)->w_cov_0 = _S3617;
    (&_S3618)->p_0[int(0)] = dpmean_4;
    SigmaPoints_0 _S3619 = _S3618;
    (&_S3619)->w_mean_0[int(0)] = 0.0f;
    (&_S3619)->w_cov_0[int(0)] = 2.0f;
    float _S3620 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_72 = make_float3 (_S3620 * _S3613.x) * _S3615.rows[0U];
    float3  _S3621 = dpmean_4 + delta_72;
    float3  _S3622 = dpmean_4 - delta_72;
    float3  delta_73 = make_float3 (_S3620 * _S3613.y) * _S3615.rows[1U];
    float3  _S3623 = dpmean_4 + delta_73;
    float3  _S3624 = dpmean_4 - delta_73;
    float3  delta_74 = make_float3 (_S3620 * _S3613.z) * _S3615.rows[2U];
    float3  _S3625 = dpmean_4 + delta_74;
    float3  _S3626 = dpmean_4 - delta_74;
    (&_S3619)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3619)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3619)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3619)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3619)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3619)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3619)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3619)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3619)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3619)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3619)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3619)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3619)->p_0[0U] = s_primal_ctx_mul_0(dpR_4, _S3618.p_0[0U]) + dpt_3;
    (&_S3619)->p_0[1U] = s_primal_ctx_mul_0(dpR_4, _S3621) + dpt_3;
    (&_S3619)->p_0[2U] = s_primal_ctx_mul_0(dpR_4, _S3623) + dpt_3;
    (&_S3619)->p_0[3U] = s_primal_ctx_mul_0(dpR_4, _S3625) + dpt_3;
    (&_S3619)->p_0[4U] = s_primal_ctx_mul_0(dpR_4, _S3622) + dpt_3;
    (&_S3619)->p_0[5U] = s_primal_ctx_mul_0(dpR_4, _S3624) + dpt_3;
    (&_S3619)->p_0[6U] = s_primal_ctx_mul_0(dpR_4, _S3626) + dpt_3;
    float2  _S3627 = _S3610;
    Matrix<float, 2, 2>  _S3628 = _S3609;
    SigmaPoints_0 _S3629 = _S3619;
    bool _S3630 = fisheye_proj_3dgs_ut_1(&_S3629, intrins_31, dist_coeffs_47, &_S3628, &_S3627);
    _s_diff_ctx_16->_S3608 = _S3628;
    float2  _S3631 = _S3627;
    float _S3632 = _S3628.rows[int(0)].y * _S3628.rows[int(1)].x;
    float det_orig_34 = _S3628.rows[int(0)].x * _S3628.rows[int(1)].y - _S3632;
    float _S3633 = _S3628.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3634 = _S3628;
    *&(((&_S3634)->rows + (int(0)))->x) = _S3633;
    float _S3635 = _S3628.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3634)->rows + (int(1)))->y) = _S3635;
    Matrix<float, 2, 2>  _S3636 = _S3634;
    Matrix<float, 2, 2>  _S3637 = _S3634;
    float _S3638 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_34 / (_S3633 * _S3635 - _S3632)));
    float _S3639 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_2));
    float _S3640;
    if(antialiased_34)
    {
        _S3640 = _S3639 * _S3638;
    }
    else
    {
        _S3640 = _S3639;
    }
    float _S3641 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S3640 / 0.00392156885936856f)));
    float radius_x_27 = _S3641 * s_primal_ctx_sqrt_0(_S3636.rows[int(0)].x);
    float radius_y_27 = _S3641 * s_primal_ctx_sqrt_0(_S3637.rows[int(1)].y);
    float _S3642 = _S3631.x;
    float _S3643 = _S3631.y;
    float _S3644 = mean_c_33.z;
    float _S3645 = s_primal_ctx_max_0(_S3644, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S3644 + _S3612));
    float3  _S3646 = s_primal_ctx_exp_0(- dpscale_3);
    float3  _S3647 = dpmean_4 - - s_primal_ctx_mul_0(transpose_0(dpR_4), dpt_3);
    float3  _S3648 = _S3647 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S3647, _S3647)));
    float _S3649 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_2)[int(0)], _S3648) - s_primal_ctx_dot_0((*dpsv_sites_2)[int(1)], _S3648));
    float _S3650 = s_primal_ctx_exp_1(0.0f);
    float3  _S3651 = s_primal_ctx_max_1((make_float3 (_S3649) * (*dpsv_colors_2)[int(0)] + make_float3 (_S3650) * (*dpsv_colors_2)[int(1)]) / make_float3 (_S3649 + _S3650) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_27 = make_int4 (int((F32_floor((_S3642 - radius_x_27)))), int((F32_floor((_S3643 - radius_y_27)))), int((F32_ceil((_S3642 + radius_x_27)))), int((F32_ceil((_S3643 + radius_y_27)))));
    *dpmean2d_4 = _S3631;
    *dpdepth_3 = _S3645;
    *dpconic_2 = _S3646;
    *dpopacity_4 = _S3640;
    *dprgb_3 = _S3651;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(bool antialiased_35, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_5, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_4, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_4, DiffPair_float_0 * dpin_opacity_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_sites_3, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * dpsv_colors_3, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_4, float fx_44, float fy_44, float cx_39, float cy_39, FixedArray<float, 10>  * dist_coeffs_48, uint image_width_35, uint image_height_35, float near_plane_29, float far_plane_29, float2  dpmean2d_5, float dpdepth_4, float3  dpconic_3, float dpopacity_5, float3  dprgb_4, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 * _s_diff_ctx_17)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3652 = *dpmean_5;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S3653 = *dpquat_4;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3654 = *dpscale_4;
    FixedArray<float3 , 2>  _S3655 = dpsv_sites_3->primal_0;
    FixedArray<float3 , 2>  _S3656 = dpsv_colors_3->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3657 = *dpR_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3658 = *dpt_4;
    float3  _S3659 = make_float3 (0.0f);
    float3  mean_c_34 = s_primal_ctx_mul_0((*dpR_5).primal_0, (*dpmean_5).primal_0) + (*dpt_4).primal_0;
    float _S3660 = length_1(mean_c_34);
    float3  _S3661 = s_primal_ctx_exp_0((*dpscale_4).primal_0);
    float _S3662 = (*dpquat_4).primal_0.y;
    float x2_40 = _S3662 * _S3662;
    float y2_40 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.z;
    float z2_55 = (*dpquat_4).primal_0.w * (*dpquat_4).primal_0.w;
    float xy_40 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.z;
    float xz_40 = (*dpquat_4).primal_0.y * (*dpquat_4).primal_0.w;
    float yz_40 = (*dpquat_4).primal_0.z * (*dpquat_4).primal_0.w;
    float wx_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.y;
    float wy_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.z;
    float wz_40 = (*dpquat_4).primal_0.x * (*dpquat_4).primal_0.w;
    Matrix<float, 3, 3>  _S3663 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_40 + z2_55), 2.0f * (xy_40 + wz_40), 2.0f * (xz_40 - wy_40), 2.0f * (xy_40 - wz_40), 1.0f - 2.0f * (x2_40 + z2_55), 2.0f * (yz_40 + wx_40), 2.0f * (xz_40 + wy_40), 2.0f * (yz_40 - wx_40), 1.0f - 2.0f * (x2_40 + y2_40))));
    FixedArray<float3 , 7>  _S3664 = {
        _S3659, _S3659, _S3659, _S3659, _S3659, _S3659, _S3659
    };
    FixedArray<float, 7>  _S3665 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3666;
    (&_S3666)->p_0 = _S3664;
    (&_S3666)->w_mean_0 = _S3665;
    (&_S3666)->w_cov_0 = _S3665;
    (&_S3666)->p_0[int(0)] = (*dpmean_5).primal_0;
    float _S3667 = s_primal_ctx_sqrt_0(3.0f);
    float _S3668 = _S3667 * _S3661.x;
    float3  _S3669 = make_float3 (_S3668);
    float3  delta_75 = make_float3 (_S3668) * _S3663.rows[0U];
    float3  _S3670 = (*dpmean_5).primal_0 + delta_75;
    float3  _S3671 = (*dpmean_5).primal_0 - delta_75;
    float _S3672 = _S3667 * _S3661.y;
    float3  _S3673 = make_float3 (_S3672);
    float3  delta_76 = make_float3 (_S3672) * _S3663.rows[1U];
    float3  _S3674 = (*dpmean_5).primal_0 + delta_76;
    float3  _S3675 = (*dpmean_5).primal_0 - delta_76;
    float _S3676 = _S3667 * _S3661.z;
    float3  _S3677 = make_float3 (_S3676);
    float3  delta_77 = make_float3 (_S3676) * _S3663.rows[2U];
    float3  _S3678 = (*dpmean_5).primal_0 + delta_77;
    float3  _S3679 = (*dpmean_5).primal_0 - delta_77;
    SigmaPoints_0 _S3680 = _S3666;
    float _S3681 = *&(((&_s_diff_ctx_17->_S3608)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_17->_S3608)->rows + (int(1)))->x);
    float det_orig_35 = *&(((&_s_diff_ctx_17->_S3608)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_17->_S3608)->rows + (int(1)))->y) - _S3681;
    float _S3682 = *&(((&_s_diff_ctx_17->_S3608)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3683 = _s_diff_ctx_17->_S3608;
    *&(((&_S3683)->rows + (int(0)))->x) = _S3682;
    float _S3684 = *&(((&_s_diff_ctx_17->_S3608)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S3683)->rows + (int(1)))->y) = _S3684;
    Matrix<float, 2, 2>  _S3685 = _S3683;
    Matrix<float, 2, 2>  _S3686 = _S3683;
    float det_blur_26 = _S3682 * _S3684 - _S3681;
    float _S3687 = det_orig_35 / det_blur_26;
    float _S3688 = det_blur_26 * det_blur_26;
    float _S3689 = s_primal_ctx_max_0(0.0f, _S3687);
    float _S3690 = s_primal_ctx_sqrt_0(_S3689);
    float _S3691 = - (*dpin_opacity_3).primal_0;
    float _S3692 = 1.0f + s_primal_ctx_exp_1(_S3691);
    float _S3693 = 1.0f / _S3692;
    float _S3694 = _S3692 * _S3692;
    float _S3695;
    if(antialiased_35)
    {
        _S3695 = _S3693 * _S3690;
    }
    else
    {
        _S3695 = _S3693;
    }
    float _S3696 = _S3695 / 0.00392156885936856f;
    float _S3697 = 2.0f * s_primal_ctx_log_0(_S3696);
    float _S3698 = s_primal_ctx_sqrt_0(_S3697);
    float _S3699 = _S3685.rows[int(0)].x;
    float _S3700 = _S3686.rows[int(1)].y;
    float _S3701 = mean_c_34.z;
    float _S3702 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S3703 = _S3702 * (_S3701 + _S3660);
    float3  _S3704 = - _S3654.primal_0;
    Matrix<float, 3, 3>  _S3705 = transpose_0(_S3657.primal_0);
    float3  _S3706 = _S3652.primal_0 - - s_primal_ctx_mul_0(_S3705, _S3658.primal_0);
    float _S3707 = s_primal_ctx_dot_0(_S3706, _S3706);
    float _S3708 = s_primal_ctx_rsqrt_0(_S3707);
    float3  _S3709 = make_float3 (_S3708);
    float3  _S3710 = _S3706 * make_float3 (_S3708);
    float _S3711 = s_primal_ctx_dot_0(_S3655[int(0)], _S3710) - s_primal_ctx_dot_0(_S3655[int(1)], _S3710);
    float _S3712 = s_primal_ctx_exp_1(_S3711);
    float3  _S3713 = make_float3 (_S3712);
    float _S3714 = s_primal_ctx_exp_1(0.0f);
    float3  _S3715 = make_float3 (_S3714);
    float total_w_1 = _S3712 + _S3714;
    float3  _S3716 = make_float3 (total_w_1);
    float3  total_c_1 = make_float3 (_S3712) * _S3656[int(0)] + make_float3 (_S3714) * _S3656[int(1)];
    float3  _S3717 = make_float3 (total_w_1 * total_w_1);
    float3  _S3718 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3719;
    (&_S3719)->primal_0 = total_c_1 / make_float3 (total_w_1) + make_float3 (0.5f);
    (&_S3719)->differential_0 = _S3659;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3720;
    (&_S3720)->primal_0 = _S3718;
    (&_S3720)->differential_0 = _S3659;
    s_bwd_prop_max_0(&_S3719, &_S3720, dprgb_4);
    float3  _S3721 = _S3719.differential_0 / _S3717;
    float3  _S3722 = total_c_1 * - _S3721;
    float3  s_diff_total_c_T_1 = _S3716 * _S3721;
    float3  _S3723 = _S3715 * s_diff_total_c_T_1;
    float3  _S3724 = _S3713 * s_diff_total_c_T_1;
    float3  _S3725 = _S3656[int(0)] * s_diff_total_c_T_1;
    float _S3726 = _S3722.x + _S3722.y + _S3722.z + _S3725.x + _S3725.y + _S3725.z;
    DiffPair_float_0 _S3727;
    (&_S3727)->primal_0 = _S3711;
    (&_S3727)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3727, _S3726);
    float _S3728 = - _S3727.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3729;
    (&_S3729)->primal_0 = _S3655[int(1)];
    (&_S3729)->differential_0 = _S3659;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3730;
    (&_S3730)->primal_0 = _S3710;
    (&_S3730)->differential_0 = _S3659;
    s_bwd_prop_dot_0(&_S3729, &_S3730, _S3728);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3731;
    (&_S3731)->primal_0 = _S3655[int(0)];
    (&_S3731)->differential_0 = _S3659;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3732;
    (&_S3732)->primal_0 = _S3710;
    (&_S3732)->differential_0 = _S3659;
    s_bwd_prop_dot_0(&_S3731, &_S3732, _S3727.differential_0);
    float3  _S3733 = _S3730.differential_0 + _S3732.differential_0;
    float3  _S3734 = _S3706 * _S3733;
    float3  _S3735 = _S3709 * _S3733;
    float _S3736 = _S3734.x + _S3734.y + _S3734.z;
    DiffPair_float_0 _S3737;
    (&_S3737)->primal_0 = _S3707;
    (&_S3737)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S3737, _S3736);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3738;
    (&_S3738)->primal_0 = _S3706;
    (&_S3738)->differential_0 = _S3659;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3739;
    (&_S3739)->primal_0 = _S3706;
    (&_S3739)->differential_0 = _S3659;
    s_bwd_prop_dot_0(&_S3738, &_S3739, _S3737.differential_0);
    float3  _S3740 = _S3735 + _S3739.differential_0 + _S3738.differential_0;
    float3  _S3741 = - - _S3740;
    Matrix<float, 3, 3>  _S3742 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3743;
    (&_S3743)->primal_0 = _S3705;
    (&_S3743)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3744;
    (&_S3744)->primal_0 = _S3658.primal_0;
    (&_S3744)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3743, &_S3744, _S3741);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3745 = _S3744;
    Matrix<float, 3, 3>  _S3746 = transpose_0(_S3743.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3747;
    (&_S3747)->primal_0 = _S3704;
    (&_S3747)->differential_0 = _S3659;
    s_bwd_prop_exp_1(&_S3747, dpconic_3);
    float3  _S3748 = - _S3747.differential_0;
    DiffPair_float_0 _S3749;
    (&_S3749)->primal_0 = _S3701;
    (&_S3749)->differential_0 = 0.0f;
    DiffPair_float_0 _S3750;
    (&_S3750)->primal_0 = _S3703;
    (&_S3750)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3749, &_S3750, dpdepth_4);
    float _S3751 = _S3702 * _S3750.differential_0;
    float _S3752 = _S3749.differential_0 + _S3751;
    DiffPair_float_0 _S3753;
    (&_S3753)->primal_0 = _S3700;
    (&_S3753)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3753, 0.0f);
    DiffPair_float_0 _S3754;
    (&_S3754)->primal_0 = _S3699;
    (&_S3754)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3754, 0.0f);
    DiffPair_float_0 _S3755;
    (&_S3755)->primal_0 = 3.32999992370605469f;
    (&_S3755)->differential_0 = 0.0f;
    DiffPair_float_0 _S3756;
    (&_S3756)->primal_0 = _S3698;
    (&_S3756)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S3755, &_S3756, 0.0f);
    DiffPair_float_0 _S3757;
    (&_S3757)->primal_0 = _S3697;
    (&_S3757)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3757, _S3756.differential_0);
    float _S3758 = 2.0f * _S3757.differential_0;
    DiffPair_float_0 _S3759;
    (&_S3759)->primal_0 = _S3696;
    (&_S3759)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S3759, _S3758);
    float _S3760 = dpopacity_5 + 254.9999847412109375f * _S3759.differential_0;
    FixedArray<float3 , 2>  _S3761;
    _S3761[int(0)] = _S3659;
    _S3761[int(1)] = _S3659;
    _S3761[int(1)] = _S3723;
    _S3761[int(0)] = _S3724;
    FixedArray<float3 , 2>  _S3762 = {
        _S3761[int(0)], _S3761[int(1)]
    };
    FixedArray<float3 , 2>  _S3763;
    _S3763[int(0)] = _S3659;
    _S3763[int(1)] = _S3659;
    _S3763[int(1)] = _S3729.differential_0;
    _S3763[int(0)] = _S3731.differential_0;
    FixedArray<float3 , 2>  _S3764 = {
        _S3763[int(0)], _S3763[int(1)]
    };
    float3  _S3765 = make_float3 (0.0f, 0.0f, _S3752);
    float2  _S3766 = make_float2 (0.0f, _S3753.differential_0);
    float2  _S3767 = make_float2 (_S3754.differential_0, 0.0f);
    float _S3768;
    if(antialiased_35)
    {
        float _S3769 = _S3693 * _S3760;
        _S3695 = _S3690 * _S3760;
        _S3768 = _S3769;
    }
    else
    {
        _S3695 = _S3760;
        _S3768 = 0.0f;
    }
    float _S3770 = - (_S3695 / _S3694);
    DiffPair_float_0 _S3771;
    (&_S3771)->primal_0 = _S3691;
    (&_S3771)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S3771, _S3770);
    float _S3772 = - _S3771.differential_0;
    DiffPair_float_0 _S3773;
    (&_S3773)->primal_0 = _S3689;
    (&_S3773)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S3773, _S3768);
    DiffPair_float_0 _S3774;
    (&_S3774)->primal_0 = 0.0f;
    (&_S3774)->differential_0 = 0.0f;
    DiffPair_float_0 _S3775;
    (&_S3775)->primal_0 = _S3687;
    (&_S3775)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S3774, &_S3775, _S3773.differential_0);
    float _S3776 = _S3775.differential_0 / _S3688;
    float s_diff_det_blur_T_3 = det_orig_35 * - _S3776;
    float s_diff_det_orig_T_6 = det_blur_26 * _S3776;
    float _S3777 = - s_diff_det_blur_T_3;
    float _S3778 = _S3682 * s_diff_det_blur_T_3;
    float _S3779 = _S3684 * s_diff_det_blur_T_3;
    Matrix<float, 2, 2>  _S3780 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S3781 = _S3780;
    _S3781[int(1)] = _S3766;
    _S3781[int(0)] = _S3767;
    float _S3782 = _S3779 + _S3781.rows[int(0)].x;
    float _S3783 = _S3777 + - s_diff_det_orig_T_6;
    float _S3784 = *&(((&_s_diff_ctx_17->_S3608)->rows + (int(0)))->y) * _S3783;
    float _S3785 = *&(((&_s_diff_ctx_17->_S3608)->rows + (int(1)))->x) * _S3783;
    float _S3786 = *&(((&_s_diff_ctx_17->_S3608)->rows + (int(1)))->y) * s_diff_det_orig_T_6;
    float _S3787 = _S3778 + _S3781.rows[int(1)].y + *&(((&_s_diff_ctx_17->_S3608)->rows + (int(0)))->x) * s_diff_det_orig_T_6;
    float2  _S3788 = make_float2 (0.0f);
    float2  _S3789 = _S3788;
    *&((&_S3789)->x) = _S3784;
    *&((&_S3789)->y) = _S3787;
    float _S3790 = _S3782 + _S3786;
    float2  _S3791 = _S3788;
    *&((&_S3791)->y) = _S3785;
    *&((&_S3791)->x) = _S3790;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3792;
    (&_S3792)->primal_0 = _S3657.primal_0;
    (&_S3792)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3793;
    (&_S3793)->primal_0 = _S3679;
    (&_S3793)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3792, &_S3793, _S3659);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3794;
    (&_S3794)->primal_0 = _S3657.primal_0;
    (&_S3794)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3795;
    (&_S3795)->primal_0 = _S3675;
    (&_S3795)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3794, &_S3795, _S3659);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3796;
    (&_S3796)->primal_0 = _S3657.primal_0;
    (&_S3796)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3797;
    (&_S3797)->primal_0 = _S3671;
    (&_S3797)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3796, &_S3797, _S3659);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3798;
    (&_S3798)->primal_0 = _S3657.primal_0;
    (&_S3798)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3799;
    (&_S3799)->primal_0 = _S3678;
    (&_S3799)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3798, &_S3799, _S3659);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3800;
    (&_S3800)->primal_0 = _S3657.primal_0;
    (&_S3800)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3801;
    (&_S3801)->primal_0 = _S3674;
    (&_S3801)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3800, &_S3801, _S3659);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3802;
    (&_S3802)->primal_0 = _S3657.primal_0;
    (&_S3802)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3803;
    (&_S3803)->primal_0 = _S3670;
    (&_S3803)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3802, &_S3803, _S3659);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3804;
    (&_S3804)->primal_0 = _S3657.primal_0;
    (&_S3804)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3805;
    (&_S3805)->primal_0 = _S3680.p_0[0U];
    (&_S3805)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3804, &_S3805, _S3659);
    float3  _S3806 = - _S3793.differential_0 + _S3799.differential_0;
    float3  _S3807 = _S3677 * _S3806;
    float3  _S3808 = _S3663.rows[2U] * _S3806;
    float _S3809 = _S3667 * (_S3808.x + _S3808.y + _S3808.z);
    float3  _S3810 = - _S3795.differential_0 + _S3801.differential_0;
    float3  _S3811 = _S3673 * _S3810;
    float3  _S3812 = _S3663.rows[1U] * _S3810;
    float _S3813 = _S3667 * (_S3812.x + _S3812.y + _S3812.z);
    float3  _S3814 = - _S3797.differential_0 + _S3803.differential_0;
    float3  _S3815 = _S3669 * _S3814;
    float3  _S3816 = _S3663.rows[0U] * _S3814;
    float _S3817 = _S3667 * (_S3816.x + _S3816.y + _S3816.z);
    Matrix<float, 3, 3>  _S3818 = _S3742;
    _S3818[2U] = _S3807;
    _S3818[1U] = _S3811;
    _S3818[0U] = _S3815;
    Matrix<float, 3, 3>  _S3819 = transpose_0(transpose_0(_S3818));
    float _S3820 = 2.0f * - _S3819.rows[int(2)].z;
    float _S3821 = 2.0f * _S3819.rows[int(2)].y;
    float _S3822 = 2.0f * _S3819.rows[int(2)].x;
    float _S3823 = 2.0f * _S3819.rows[int(1)].z;
    float _S3824 = 2.0f * - _S3819.rows[int(1)].y;
    float _S3825 = 2.0f * _S3819.rows[int(1)].x;
    float _S3826 = 2.0f * _S3819.rows[int(0)].z;
    float _S3827 = 2.0f * _S3819.rows[int(0)].y;
    float _S3828 = 2.0f * - _S3819.rows[int(0)].x;
    float _S3829 = - _S3825 + _S3827;
    float _S3830 = _S3822 + - _S3826;
    float _S3831 = - _S3821 + _S3823;
    float _S3832 = _S3821 + _S3823;
    float _S3833 = _S3822 + _S3826;
    float _S3834 = _S3825 + _S3827;
    float _S3835 = _S3653.primal_0.w * (_S3824 + _S3828);
    float _S3836 = _S3653.primal_0.z * (_S3820 + _S3828);
    float _S3837 = _S3653.primal_0.y * (_S3820 + _S3824);
    float _S3838 = _S3653.primal_0.x * _S3829 + _S3653.primal_0.z * _S3832 + _S3653.primal_0.y * _S3833 + _S3835 + _S3835;
    float _S3839 = _S3653.primal_0.x * _S3830 + _S3653.primal_0.w * _S3832 + _S3653.primal_0.y * _S3834 + _S3836 + _S3836;
    float _S3840 = _S3653.primal_0.x * _S3831 + _S3653.primal_0.w * _S3833 + _S3653.primal_0.z * _S3834 + _S3837 + _S3837;
    float _S3841 = _S3653.primal_0.w * _S3829 + _S3653.primal_0.z * _S3830 + _S3653.primal_0.y * _S3831;
    float3  _S3842 = _S3659;
    *&((&_S3842)->z) = _S3809;
    *&((&_S3842)->y) = _S3813;
    *&((&_S3842)->x) = _S3817;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3843;
    (&_S3843)->primal_0 = _S3654.primal_0;
    (&_S3843)->differential_0 = _S3659;
    s_bwd_prop_exp_1(&_S3843, _S3842);
    Matrix<float, 2, 2>  _S3844 = _S3780;
    _S3844[int(1)] = _S3789;
    _S3844[int(0)] = _S3791;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3845;
    (&_S3845)->primal_0 = mean_c_34;
    (&_S3845)->differential_0 = _S3659;
    s_bwd_length_impl_1(&_S3845, _S3751);
    float3  _S3846 = _S3845.differential_0 + _S3765;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3847;
    (&_S3847)->primal_0 = _S3657.primal_0;
    (&_S3847)->differential_0 = _S3742;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3848;
    (&_S3848)->primal_0 = _S3652.primal_0;
    (&_S3848)->differential_0 = _S3659;
    s_bwd_prop_mul_1(&_S3847, &_S3848, _S3846);
    float3  _S3849 = _S3846 + _S3745.differential_0;
    dpt_4->primal_0 = (*dpt_4).primal_0;
    dpt_4->differential_0 = _S3849;
    Matrix<float, 3, 3>  _S3850 = _S3792.differential_0 + _S3794.differential_0 + _S3796.differential_0 + _S3798.differential_0 + _S3800.differential_0 + _S3802.differential_0 + _S3804.differential_0 + _S3847.differential_0 + _S3746;
    dpR_5->primal_0 = (*dpR_5).primal_0;
    dpR_5->differential_0 = _S3850;
    dpsv_colors_3->primal_0 = dpsv_colors_3->primal_0;
    dpsv_colors_3->differential_0 = _S3762;
    dpsv_sites_3->primal_0 = dpsv_sites_3->primal_0;
    dpsv_sites_3->differential_0 = _S3764;
    dpin_opacity_3->primal_0 = (*dpin_opacity_3).primal_0;
    dpin_opacity_3->differential_0 = _S3772;
    float3  _S3851 = _S3843.differential_0 + _S3748;
    dpscale_4->primal_0 = (*dpscale_4).primal_0;
    dpscale_4->differential_0 = _S3851;
    float4  _S3852 = make_float4 (0.0f);
    *&((&_S3852)->w) = _S3838;
    *&((&_S3852)->z) = _S3839;
    *&((&_S3852)->y) = _S3840;
    *&((&_S3852)->x) = _S3841;
    dpquat_4->primal_0 = (*dpquat_4).primal_0;
    dpquat_4->differential_0 = _S3852;
    float3  _S3853 = _S3793.differential_0 + _S3799.differential_0 + _S3795.differential_0 + _S3801.differential_0 + _S3797.differential_0 + _S3803.differential_0 + _S3848.differential_0 + _S3740;
    dpmean_5->primal_0 = (*dpmean_5).primal_0;
    dpmean_5->differential_0 = _S3853;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_0(bool _S3854, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3855, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S3856, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3857, DiffPair_float_0 * _S3858, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3859, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 * _S3860, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S3861, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S3862, float _S3863, float _S3864, float _S3865, float _S3866, FixedArray<float, 10>  * _S3867, uint _S3868, uint _S3869, float _S3870, float _S3871, float2  _S3872, float _S3873, float3  _S3874, float _S3875, float3  _S3876)
{
    FixedArray<float3 , 2>  _S3877 = _S3859->primal_0;
    FixedArray<float3 , 2>  _S3878 = _S3860->primal_0;
    int4  _S3879;
    float2  _S3880;
    float _S3881;
    float3  _S3882;
    float _S3883;
    float3  _S3884;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S3885;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_0(_S3854, (*_S3855).primal_0, (*_S3856).primal_0, (*_S3857).primal_0, (*_S3858).primal_0, &_S3877, &_S3878, (*_S3861).primal_0, (*_S3862).primal_0, _S3863, _S3864, _S3865, _S3866, _S3867, _S3868, _S3869, _S3870, _S3871, &_S3879, &_S3880, &_S3881, &_S3882, &_S3883, &_S3884, &_S3885);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_0 _S3886 = _S3885;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_0(_S3854, _S3855, _S3856, _S3857, _S3858, _S3859, _S3860, _S3861, _S3862, _S3863, _S3864, _S3865, _S3866, _S3867, _S3868, _S3869, _S3870, _S3871, _S3872, _S3873, _S3874, _S3875, _S3876, &_S3886);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_36, float3  mean_37, float4  quat_38, float3  scale_37, float in_opacity_32, FixedArray<float3 , 2>  * sv_sites_17, FixedArray<float3 , 2>  * sv_colors_17, Matrix<float, 3, 3>  R_39, float3  t_35, float fx_45, float fy_45, float cx_40, float cy_40, FixedArray<float, 10>  * dist_coeffs_49, uint image_width_36, uint image_height_36, float2  v_mean2d_6, float v_depth_7, float3  v_conic_6, float v_opacity_8, float3  v_rgb_7, float3  * v_mean_8, float4  * v_quat_7, float3  * v_scale_7, float * v_in_opacity_6, FixedArray<float3 , 2>  * v_sv_dirs_1, FixedArray<float3 , 2>  * v_sv_colors_1, Matrix<float, 3, 3>  * v_R_8, float3  * v_t_7)
{
    float3  _S3887 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_3;
    (&dp_mean_3)->primal_0 = mean_37;
    (&dp_mean_3)->differential_0 = _S3887;
    float4  _S3888 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_2;
    (&dp_quat_2)->primal_0 = quat_38;
    (&dp_quat_2)->differential_0 = _S3888;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_2;
    (&dp_scale_2)->primal_0 = scale_37;
    (&dp_scale_2)->differential_0 = _S3887;
    DiffPair_float_0 dp_in_opacity_1;
    (&dp_in_opacity_1)->primal_0 = in_opacity_32;
    (&dp_in_opacity_1)->differential_0 = 0.0f;
    FixedArray<float3 , 2>  _S3889 = { _S3887, _S3887 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_dirs_1;
    (&dp_sv_dirs_1)->primal_0 = *sv_sites_17;
    (&dp_sv_dirs_1)->differential_0 = _S3889;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C2x3E_0 dp_sv_colors_1;
    (&dp_sv_colors_1)->primal_0 = *sv_colors_17;
    (&dp_sv_colors_1)->differential_0 = _S3889;
    Matrix<float, 3, 3>  _S3890 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_3;
    (&dp_R_3)->primal_0 = R_39;
    (&dp_R_3)->differential_0 = _S3890;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_2;
    (&dp_t_2)->primal_0 = t_35;
    (&dp_t_2)->differential_0 = _S3887;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_0(antialiased_36, &dp_mean_3, &dp_quat_2, &dp_scale_2, &dp_in_opacity_1, &dp_sv_dirs_1, &dp_sv_colors_1, &dp_R_3, &dp_t_2, fx_45, fy_45, cx_40, cy_40, dist_coeffs_49, image_width_36, image_height_36, 0.0f, 1.00000001504746622e+30f, v_mean2d_6, v_depth_7, v_conic_6, v_opacity_8, v_rgb_7);
    *v_mean_8 = dp_mean_3.differential_0;
    *v_quat_7 = dp_quat_2.differential_0;
    *v_scale_7 = dp_scale_2.differential_0;
    *v_in_opacity_6 = dp_in_opacity_1.differential_0;
    *v_sv_dirs_1 = (&dp_sv_dirs_1)->differential_0;
    *v_sv_colors_1 = (&dp_sv_colors_1)->differential_0;
    *v_R_8 = dp_R_3.differential_0;
    *v_t_7 = dp_t_2.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_37, float3  mean_38, float4  quat_39, float3  scale_38, float in_opacity_33, FixedArray<float3 , 3>  * sv_sites_18, FixedArray<float3 , 3>  * sv_colors_18, Matrix<float, 3, 3>  R_40, float3  t_36, float fx_46, float fy_46, float cx_41, float cy_41, FixedArray<float, 10>  * dist_coeffs_50, uint image_width_37, uint image_height_37, float near_plane_30, float far_plane_30, int4  * aabb_xyxy_28, float2  * mean2d_34, float * depth_27, float3  * conic_26, float * opacity_30, float3  * rgb_28)
{
    float3  mean_c_35 = mul_0(R_40, mean_38) + t_36;
    float4  intrins_32 = make_float4 (fx_46, fy_46, cx_41, cy_41);
    float3  _S3891 = exp_0(scale_38);
    float x_57 = quat_39.y;
    float x2_41 = x_57 * x_57;
    float y2_41 = quat_39.z * quat_39.z;
    float z2_56 = quat_39.w * quat_39.w;
    float xy_41 = quat_39.y * quat_39.z;
    float xz_41 = quat_39.y * quat_39.w;
    float yz_41 = quat_39.z * quat_39.w;
    float wx_41 = quat_39.x * quat_39.y;
    float wy_41 = quat_39.x * quat_39.z;
    float wz_41 = quat_39.x * quat_39.w;
    Matrix<float, 3, 3>  _S3892 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_41 + z2_56), 2.0f * (xy_41 + wz_41), 2.0f * (xz_41 - wy_41), 2.0f * (xy_41 - wz_41), 1.0f - 2.0f * (x2_41 + z2_56), 2.0f * (yz_41 + wx_41), 2.0f * (xz_41 + wy_41), 2.0f * (yz_41 - wx_41), 1.0f - 2.0f * (x2_41 + y2_41))));
    SigmaPoints_0 ret_20;
    (&ret_20)->p_0[int(0)] = mean_38;
    (&ret_20)->w_mean_0[int(0)] = 0.0f;
    (&ret_20)->w_cov_0[int(0)] = 2.0f;
    float _S3893 = (F32_sqrt((3.0f)));
    float3  delta_78 = make_float3 (_S3893 * _S3891.x) * _S3892.rows[0U];
    float3  _S3894 = mean_38 + delta_78;
    float3  _S3895 = mean_38 - delta_78;
    float3  delta_79 = make_float3 (_S3893 * _S3891.y) * _S3892.rows[1U];
    float3  _S3896 = mean_38 + delta_79;
    float3  _S3897 = mean_38 - delta_79;
    float3  delta_80 = make_float3 (_S3893 * _S3891.z) * _S3892.rows[2U];
    float3  _S3898 = mean_38 + delta_80;
    float3  _S3899 = mean_38 - delta_80;
    (&ret_20)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_20)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_20)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_20)->p_0[0U] = mul_0(R_40, (&ret_20)->p_0[0U]) + t_36;
    (&ret_20)->p_0[1U] = mul_0(R_40, _S3894) + t_36;
    (&ret_20)->p_0[2U] = mul_0(R_40, _S3896) + t_36;
    (&ret_20)->p_0[3U] = mul_0(R_40, _S3898) + t_36;
    (&ret_20)->p_0[4U] = mul_0(R_40, _S3895) + t_36;
    (&ret_20)->p_0[5U] = mul_0(R_40, _S3897) + t_36;
    (&ret_20)->p_0[6U] = mul_0(R_40, _S3899) + t_36;
    SigmaPoints_0 _S3900 = ret_20;
    Matrix<float, 2, 2>  covar2d_26;
    bool _S3901 = persp_proj_3dgs_ut_1(&_S3900, intrins_32, dist_coeffs_50, image_width_37, image_height_37, &covar2d_26, mean2d_34);
    float det_orig_36 = *&(((&covar2d_26)->rows + (int(0)))->x) * *&(((&covar2d_26)->rows + (int(1)))->y) - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x);
    float _S3902 = *&(((&covar2d_26)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(0)))->x) = _S3902;
    float _S3903 = *&(((&covar2d_26)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_26)->rows + (int(1)))->y) = _S3903;
    float compensation_27 = (F32_sqrt(((F32_max((0.0f), (det_orig_36 / (_S3902 * _S3903 - *&(((&covar2d_26)->rows + (int(0)))->y) * *&(((&covar2d_26)->rows + (int(1)))->x))))))));
    *opacity_30 = 1.0f / (1.0f + (F32_exp((- in_opacity_33))));
    if(antialiased_37)
    {
        *opacity_30 = *opacity_30 * compensation_27;
    }
    float extend_26 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_30 / 0.00392156885936856f)))))))));
    float radius_x_28 = extend_26 * (F32_sqrt((covar2d_26[int(0)].x)));
    float radius_y_28 = extend_26 * (F32_sqrt((covar2d_26[int(1)].y)));
    *aabb_xyxy_28 = make_int4 (int((F32_floor(((*mean2d_34).x - radius_x_28)))), int((F32_floor(((*mean2d_34).y - radius_y_28)))), int((F32_ceil(((*mean2d_34).x + radius_x_28)))), int((F32_ceil(((*mean2d_34).y + radius_y_28)))));
    float _S3904 = mean_c_35.z;
    *depth_27 = (F32_max((_S3904), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3904 + length_1(mean_c_35)))));
    *conic_26 = exp_0(- scale_38);
    float3  _S3905 = mean_38 - - mul_0(transpose_0(R_40), t_36);
    float3  _S3906 = _S3905 * make_float3 ((F32_rsqrt((dot_0(_S3905, _S3905)))));
    float _S3907 = dot_0((*sv_sites_18)[int(2)], _S3906);
    float w_74 = (F32_exp((dot_0((*sv_sites_18)[int(0)], _S3906) - _S3907)));
    float w_75 = (F32_exp((dot_0((*sv_sites_18)[int(1)], _S3906) - _S3907)));
    float w_76 = (F32_exp((0.0f)));
    *rgb_28 = max_0((make_float3 (w_74) * (*sv_colors_18)[int(0)] + make_float3 (w_75) * (*sv_colors_18)[int(1)] + make_float3 (w_76) * (*sv_colors_18)[int(2)]) / make_float3 (w_74 + w_75 + w_76) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_38, float3  mean_39, float4  quat_40, float3  scale_39, float in_opacity_34, FixedArray<float3 , 3>  * sv_sites_19, FixedArray<float3 , 3>  * sv_colors_19, Matrix<float, 3, 3>  R_41, float3  t_37, float fx_47, float fy_47, float cx_42, float cy_42, FixedArray<float, 10>  * dist_coeffs_51, uint image_width_38, uint image_height_38, float near_plane_31, float far_plane_31, int4  * aabb_xyxy_29, float2  * mean2d_35, float * depth_28, float3  * conic_27, float * opacity_31, float3  * rgb_29)
{
    float3  mean_c_36 = mul_0(R_41, mean_39) + t_37;
    float4  intrins_33 = make_float4 (fx_47, fy_47, cx_42, cy_42);
    float3  _S3908 = exp_0(scale_39);
    float x_58 = quat_40.y;
    float x2_42 = x_58 * x_58;
    float y2_42 = quat_40.z * quat_40.z;
    float z2_57 = quat_40.w * quat_40.w;
    float xy_42 = quat_40.y * quat_40.z;
    float xz_42 = quat_40.y * quat_40.w;
    float yz_42 = quat_40.z * quat_40.w;
    float wx_42 = quat_40.x * quat_40.y;
    float wy_42 = quat_40.x * quat_40.z;
    float wz_42 = quat_40.x * quat_40.w;
    Matrix<float, 3, 3>  _S3909 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_42 + z2_57), 2.0f * (xy_42 + wz_42), 2.0f * (xz_42 - wy_42), 2.0f * (xy_42 - wz_42), 1.0f - 2.0f * (x2_42 + z2_57), 2.0f * (yz_42 + wx_42), 2.0f * (xz_42 + wy_42), 2.0f * (yz_42 - wx_42), 1.0f - 2.0f * (x2_42 + y2_42))));
    SigmaPoints_0 ret_21;
    (&ret_21)->p_0[int(0)] = mean_39;
    (&ret_21)->w_mean_0[int(0)] = 0.0f;
    (&ret_21)->w_cov_0[int(0)] = 2.0f;
    float _S3910 = (F32_sqrt((3.0f)));
    float3  delta_81 = make_float3 (_S3910 * _S3908.x) * _S3909.rows[0U];
    float3  _S3911 = mean_39 + delta_81;
    float3  _S3912 = mean_39 - delta_81;
    float3  delta_82 = make_float3 (_S3910 * _S3908.y) * _S3909.rows[1U];
    float3  _S3913 = mean_39 + delta_82;
    float3  _S3914 = mean_39 - delta_82;
    float3  delta_83 = make_float3 (_S3910 * _S3908.z) * _S3909.rows[2U];
    float3  _S3915 = mean_39 + delta_83;
    float3  _S3916 = mean_39 - delta_83;
    (&ret_21)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_21)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_21)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_21)->p_0[0U] = mul_0(R_41, (&ret_21)->p_0[0U]) + t_37;
    (&ret_21)->p_0[1U] = mul_0(R_41, _S3911) + t_37;
    (&ret_21)->p_0[2U] = mul_0(R_41, _S3913) + t_37;
    (&ret_21)->p_0[3U] = mul_0(R_41, _S3915) + t_37;
    (&ret_21)->p_0[4U] = mul_0(R_41, _S3912) + t_37;
    (&ret_21)->p_0[5U] = mul_0(R_41, _S3914) + t_37;
    (&ret_21)->p_0[6U] = mul_0(R_41, _S3916) + t_37;
    SigmaPoints_0 _S3917 = ret_21;
    Matrix<float, 2, 2>  covar2d_27;
    bool _S3918 = fisheye_proj_3dgs_ut_1(&_S3917, intrins_33, dist_coeffs_51, &covar2d_27, mean2d_35);
    float det_orig_37 = *&(((&covar2d_27)->rows + (int(0)))->x) * *&(((&covar2d_27)->rows + (int(1)))->y) - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x);
    float _S3919 = *&(((&covar2d_27)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(0)))->x) = _S3919;
    float _S3920 = *&(((&covar2d_27)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_27)->rows + (int(1)))->y) = _S3920;
    float compensation_28 = (F32_sqrt(((F32_max((0.0f), (det_orig_37 / (_S3919 * _S3920 - *&(((&covar2d_27)->rows + (int(0)))->y) * *&(((&covar2d_27)->rows + (int(1)))->x))))))));
    *opacity_31 = 1.0f / (1.0f + (F32_exp((- in_opacity_34))));
    if(antialiased_38)
    {
        *opacity_31 = *opacity_31 * compensation_28;
    }
    float extend_27 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_31 / 0.00392156885936856f)))))))));
    float radius_x_29 = extend_27 * (F32_sqrt((covar2d_27[int(0)].x)));
    float radius_y_29 = extend_27 * (F32_sqrt((covar2d_27[int(1)].y)));
    *aabb_xyxy_29 = make_int4 (int((F32_floor(((*mean2d_35).x - radius_x_29)))), int((F32_floor(((*mean2d_35).y - radius_y_29)))), int((F32_ceil(((*mean2d_35).x + radius_x_29)))), int((F32_ceil(((*mean2d_35).y + radius_y_29)))));
    float _S3921 = mean_c_36.z;
    *depth_28 = (F32_max((_S3921), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S3921 + length_1(mean_c_36)))));
    *conic_27 = exp_0(- scale_39);
    float3  _S3922 = mean_39 - - mul_0(transpose_0(R_41), t_37);
    float3  _S3923 = _S3922 * make_float3 ((F32_rsqrt((dot_0(_S3922, _S3922)))));
    float _S3924 = dot_0((*sv_sites_19)[int(2)], _S3923);
    float w_77 = (F32_exp((dot_0((*sv_sites_19)[int(0)], _S3923) - _S3924)));
    float w_78 = (F32_exp((dot_0((*sv_sites_19)[int(1)], _S3923) - _S3924)));
    float w_79 = (F32_exp((0.0f)));
    *rgb_29 = max_0((make_float3 (w_77) * (*sv_colors_19)[int(0)] + make_float3 (w_78) * (*sv_colors_19)[int(1)] + make_float3 (w_79) * (*sv_colors_19)[int(2)]) / make_float3 (w_77 + w_78 + w_79) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0
{
    FixedArray<float3 , 3>  primal_0;
    FixedArray<float3 , 3>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S3925;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(bool antialiased_39, float3  dpmean_6, float4  dpquat_5, float3  dpscale_5, float dpin_opacity_4, FixedArray<float3 , 3>  * dpsv_sites_4, FixedArray<float3 , 3>  * dpsv_colors_4, Matrix<float, 3, 3>  dpR_6, float3  dpt_5, float fx_48, float fy_48, float cx_43, float cy_43, FixedArray<float, 10>  * dist_coeffs_52, uint image_width_39, uint image_height_39, float near_plane_32, float far_plane_32, int4  * aabb_xyxy_30, float2  * dpmean2d_6, float * dpdepth_5, float3  * dpconic_4, float * dpopacity_6, float3  * dprgb_5, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_18)
{
    Matrix<float, 2, 2>  _S3926 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_18->_S3925 = _S3926;
    float2  _S3927 = make_float2 (0.0f);
    float3  _S3928 = make_float3 (0.0f);
    float3  mean_c_37 = s_primal_ctx_mul_0(dpR_6, dpmean_6) + dpt_5;
    float4  intrins_34 = make_float4 (fx_48, fy_48, cx_43, cy_43);
    float3  _S3929 = s_primal_ctx_exp_0(dpscale_5);
    float _S3930 = dpquat_5.y;
    float x2_43 = _S3930 * _S3930;
    float y2_43 = dpquat_5.z * dpquat_5.z;
    float z2_58 = dpquat_5.w * dpquat_5.w;
    float xy_43 = dpquat_5.y * dpquat_5.z;
    float xz_43 = dpquat_5.y * dpquat_5.w;
    float yz_43 = dpquat_5.z * dpquat_5.w;
    float wx_43 = dpquat_5.x * dpquat_5.y;
    float wy_43 = dpquat_5.x * dpquat_5.z;
    float wz_43 = dpquat_5.x * dpquat_5.w;
    Matrix<float, 3, 3>  _S3931 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_43 + z2_58), 2.0f * (xy_43 + wz_43), 2.0f * (xz_43 - wy_43), 2.0f * (xy_43 - wz_43), 1.0f - 2.0f * (x2_43 + z2_58), 2.0f * (yz_43 + wx_43), 2.0f * (xz_43 + wy_43), 2.0f * (yz_43 - wx_43), 1.0f - 2.0f * (x2_43 + y2_43))));
    FixedArray<float3 , 7>  _S3932 = {
        _S3928, _S3928, _S3928, _S3928, _S3928, _S3928, _S3928
    };
    FixedArray<float, 7>  _S3933 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3934;
    (&_S3934)->p_0 = _S3932;
    (&_S3934)->w_mean_0 = _S3933;
    (&_S3934)->w_cov_0 = _S3933;
    (&_S3934)->p_0[int(0)] = dpmean_6;
    SigmaPoints_0 _S3935 = _S3934;
    (&_S3935)->w_mean_0[int(0)] = 0.0f;
    (&_S3935)->w_cov_0[int(0)] = 2.0f;
    float _S3936 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_84 = make_float3 (_S3936 * _S3929.x) * _S3931.rows[0U];
    float3  _S3937 = dpmean_6 + delta_84;
    float3  _S3938 = dpmean_6 - delta_84;
    float3  delta_85 = make_float3 (_S3936 * _S3929.y) * _S3931.rows[1U];
    float3  _S3939 = dpmean_6 + delta_85;
    float3  _S3940 = dpmean_6 - delta_85;
    float3  delta_86 = make_float3 (_S3936 * _S3929.z) * _S3931.rows[2U];
    float3  _S3941 = dpmean_6 + delta_86;
    float3  _S3942 = dpmean_6 - delta_86;
    (&_S3935)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S3935)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S3935)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S3935)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S3935)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S3935)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S3935)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S3935)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S3935)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S3935)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S3935)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S3935)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S3935)->p_0[0U] = s_primal_ctx_mul_0(dpR_6, _S3934.p_0[0U]) + dpt_5;
    (&_S3935)->p_0[1U] = s_primal_ctx_mul_0(dpR_6, _S3937) + dpt_5;
    (&_S3935)->p_0[2U] = s_primal_ctx_mul_0(dpR_6, _S3939) + dpt_5;
    (&_S3935)->p_0[3U] = s_primal_ctx_mul_0(dpR_6, _S3941) + dpt_5;
    (&_S3935)->p_0[4U] = s_primal_ctx_mul_0(dpR_6, _S3938) + dpt_5;
    (&_S3935)->p_0[5U] = s_primal_ctx_mul_0(dpR_6, _S3940) + dpt_5;
    (&_S3935)->p_0[6U] = s_primal_ctx_mul_0(dpR_6, _S3942) + dpt_5;
    float2  _S3943 = _S3927;
    Matrix<float, 2, 2>  _S3944 = _S3926;
    SigmaPoints_0 _S3945 = _S3935;
    bool _S3946 = persp_proj_3dgs_ut_1(&_S3945, intrins_34, dist_coeffs_52, image_width_39, image_height_39, &_S3944, &_S3943);
    _s_diff_ctx_18->_S3925 = _S3944;
    float2  _S3947 = _S3943;
    float _S3948 = _S3944.rows[int(0)].y * _S3944.rows[int(1)].x;
    float det_orig_38 = _S3944.rows[int(0)].x * _S3944.rows[int(1)].y - _S3948;
    float _S3949 = _S3944.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S3950 = _S3944;
    *&(((&_S3950)->rows + (int(0)))->x) = _S3949;
    float _S3951 = _S3944.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S3950)->rows + (int(1)))->y) = _S3951;
    Matrix<float, 2, 2>  _S3952 = _S3950;
    Matrix<float, 2, 2>  _S3953 = _S3950;
    float _S3954 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_38 / (_S3949 * _S3951 - _S3948)));
    float _S3955 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_4));
    float _S3956;
    if(antialiased_39)
    {
        _S3956 = _S3955 * _S3954;
    }
    else
    {
        _S3956 = _S3955;
    }
    float _S3957 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S3956 / 0.00392156885936856f)));
    float radius_x_30 = _S3957 * s_primal_ctx_sqrt_0(_S3952.rows[int(0)].x);
    float radius_y_30 = _S3957 * s_primal_ctx_sqrt_0(_S3953.rows[int(1)].y);
    float _S3958 = _S3947.x;
    float _S3959 = _S3947.y;
    float _S3960 = mean_c_37.z;
    float _S3961 = s_primal_ctx_max_0(_S3960, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S3960 + length_1(mean_c_37)));
    float3  _S3962 = s_primal_ctx_exp_0(- dpscale_5);
    float3  _S3963 = dpmean_6 - - s_primal_ctx_mul_0(transpose_0(dpR_6), dpt_5);
    float3  _S3964 = _S3963 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S3963, _S3963)));
    float _S3965 = s_primal_ctx_dot_0((*dpsv_sites_4)[int(2)], _S3964);
    float _S3966 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(0)], _S3964) - _S3965);
    float _S3967 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_4)[int(1)], _S3964) - _S3965);
    float _S3968 = s_primal_ctx_exp_1(0.0f);
    float3  _S3969 = s_primal_ctx_max_1((make_float3 (_S3966) * (*dpsv_colors_4)[int(0)] + make_float3 (_S3967) * (*dpsv_colors_4)[int(1)] + make_float3 (_S3968) * (*dpsv_colors_4)[int(2)]) / make_float3 (_S3966 + _S3967 + _S3968) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_30 = make_int4 (int((F32_floor((_S3958 - radius_x_30)))), int((F32_floor((_S3959 - radius_y_30)))), int((F32_ceil((_S3958 + radius_x_30)))), int((F32_ceil((_S3959 + radius_y_30)))));
    *dpmean2d_6 = _S3947;
    *dpdepth_5 = _S3961;
    *dpconic_4 = _S3962;
    *dpopacity_6 = _S3956;
    *dprgb_5 = _S3969;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(bool antialiased_40, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_7, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_6, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_6, DiffPair_float_0 * dpin_opacity_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_5, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_5, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_6, float fx_49, float fy_49, float cx_44, float cy_44, FixedArray<float, 10>  * dist_coeffs_53, uint image_width_40, uint image_height_40, float near_plane_33, float far_plane_33, float2  dpmean2d_7, float dpdepth_6, float3  dpconic_5, float dpopacity_7, float3  dprgb_6, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 * _s_diff_ctx_19)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3970 = *dpmean_7;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S3971 = *dpquat_6;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3972 = *dpscale_6;
    FixedArray<float3 , 3>  _S3973 = dpsv_sites_5->primal_0;
    FixedArray<float3 , 3>  _S3974 = dpsv_colors_5->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S3975 = *dpR_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S3976 = *dpt_6;
    float3  _S3977 = make_float3 (0.0f);
    float3  mean_c_38 = s_primal_ctx_mul_0((*dpR_7).primal_0, (*dpmean_7).primal_0) + (*dpt_6).primal_0;
    float3  _S3978 = s_primal_ctx_exp_0((*dpscale_6).primal_0);
    float _S3979 = (*dpquat_6).primal_0.y;
    float x2_44 = _S3979 * _S3979;
    float y2_44 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.z;
    float z2_59 = (*dpquat_6).primal_0.w * (*dpquat_6).primal_0.w;
    float xy_44 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.z;
    float xz_44 = (*dpquat_6).primal_0.y * (*dpquat_6).primal_0.w;
    float yz_44 = (*dpquat_6).primal_0.z * (*dpquat_6).primal_0.w;
    float wx_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.y;
    float wy_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.z;
    float wz_44 = (*dpquat_6).primal_0.x * (*dpquat_6).primal_0.w;
    Matrix<float, 3, 3>  _S3980 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_44 + z2_59), 2.0f * (xy_44 + wz_44), 2.0f * (xz_44 - wy_44), 2.0f * (xy_44 - wz_44), 1.0f - 2.0f * (x2_44 + z2_59), 2.0f * (yz_44 + wx_44), 2.0f * (xz_44 + wy_44), 2.0f * (yz_44 - wx_44), 1.0f - 2.0f * (x2_44 + y2_44))));
    FixedArray<float3 , 7>  _S3981 = {
        _S3977, _S3977, _S3977, _S3977, _S3977, _S3977, _S3977
    };
    FixedArray<float, 7>  _S3982 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S3983;
    (&_S3983)->p_0 = _S3981;
    (&_S3983)->w_mean_0 = _S3982;
    (&_S3983)->w_cov_0 = _S3982;
    (&_S3983)->p_0[int(0)] = (*dpmean_7).primal_0;
    float _S3984 = s_primal_ctx_sqrt_0(3.0f);
    float _S3985 = _S3984 * _S3978.x;
    float3  _S3986 = make_float3 (_S3985);
    float3  delta_87 = make_float3 (_S3985) * _S3980.rows[0U];
    float3  _S3987 = (*dpmean_7).primal_0 + delta_87;
    float3  _S3988 = (*dpmean_7).primal_0 - delta_87;
    float _S3989 = _S3984 * _S3978.y;
    float3  _S3990 = make_float3 (_S3989);
    float3  delta_88 = make_float3 (_S3989) * _S3980.rows[1U];
    float3  _S3991 = (*dpmean_7).primal_0 + delta_88;
    float3  _S3992 = (*dpmean_7).primal_0 - delta_88;
    float _S3993 = _S3984 * _S3978.z;
    float3  _S3994 = make_float3 (_S3993);
    float3  delta_89 = make_float3 (_S3993) * _S3980.rows[2U];
    float3  _S3995 = (*dpmean_7).primal_0 + delta_89;
    float3  _S3996 = (*dpmean_7).primal_0 - delta_89;
    SigmaPoints_0 _S3997 = _S3983;
    float _S3998 = *&(((&_s_diff_ctx_19->_S3925)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_19->_S3925)->rows + (int(1)))->x);
    float det_orig_39 = *&(((&_s_diff_ctx_19->_S3925)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_19->_S3925)->rows + (int(1)))->y) - _S3998;
    float _S3999 = *&(((&_s_diff_ctx_19->_S3925)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4000 = _s_diff_ctx_19->_S3925;
    *&(((&_S4000)->rows + (int(0)))->x) = _S3999;
    float _S4001 = *&(((&_s_diff_ctx_19->_S3925)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4000)->rows + (int(1)))->y) = _S4001;
    Matrix<float, 2, 2>  _S4002 = _S4000;
    Matrix<float, 2, 2>  _S4003 = _S4000;
    float det_blur_27 = _S3999 * _S4001 - _S3998;
    float _S4004 = det_orig_39 / det_blur_27;
    float _S4005 = det_blur_27 * det_blur_27;
    float _S4006 = s_primal_ctx_max_0(0.0f, _S4004);
    float _S4007 = s_primal_ctx_sqrt_0(_S4006);
    float _S4008 = - (*dpin_opacity_5).primal_0;
    float _S4009 = 1.0f + s_primal_ctx_exp_1(_S4008);
    float _S4010 = 1.0f / _S4009;
    float _S4011 = _S4009 * _S4009;
    float _S4012;
    if(antialiased_40)
    {
        _S4012 = _S4010 * _S4007;
    }
    else
    {
        _S4012 = _S4010;
    }
    float _S4013 = _S4012 / 0.00392156885936856f;
    float _S4014 = 2.0f * s_primal_ctx_log_0(_S4013);
    float _S4015 = s_primal_ctx_sqrt_0(_S4014);
    float _S4016 = _S4002.rows[int(0)].x;
    float _S4017 = _S4003.rows[int(1)].y;
    float _S4018 = mean_c_38.z;
    float _S4019 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4020 = _S4019 * (_S4018 + length_1(mean_c_38));
    float3  _S4021 = - _S3972.primal_0;
    Matrix<float, 3, 3>  _S4022 = transpose_0(_S3975.primal_0);
    float3  _S4023 = _S3970.primal_0 - - s_primal_ctx_mul_0(_S4022, _S3976.primal_0);
    float _S4024 = s_primal_ctx_dot_0(_S4023, _S4023);
    float _S4025 = s_primal_ctx_rsqrt_0(_S4024);
    float3  _S4026 = make_float3 (_S4025);
    float3  _S4027 = _S4023 * make_float3 (_S4025);
    float _S4028 = s_primal_ctx_dot_0(_S3973[int(2)], _S4027);
    float _S4029 = s_primal_ctx_dot_0(_S3973[int(0)], _S4027) - _S4028;
    float _S4030 = s_primal_ctx_exp_1(_S4029);
    float3  _S4031 = make_float3 (_S4030);
    float _S4032 = s_primal_ctx_dot_0(_S3973[int(1)], _S4027) - _S4028;
    float _S4033 = s_primal_ctx_exp_1(_S4032);
    float3  _S4034 = make_float3 (_S4033);
    float _S4035 = s_primal_ctx_exp_1(0.0f);
    float3  _S4036 = make_float3 (_S4035);
    float total_w_2 = _S4030 + _S4033 + _S4035;
    float3  _S4037 = make_float3 (total_w_2);
    float3  total_c_2 = make_float3 (_S4030) * _S3974[int(0)] + make_float3 (_S4033) * _S3974[int(1)] + make_float3 (_S4035) * _S3974[int(2)];
    float3  _S4038 = make_float3 (total_w_2 * total_w_2);
    float3  _S4039 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4040;
    (&_S4040)->primal_0 = total_c_2 / make_float3 (total_w_2) + make_float3 (0.5f);
    (&_S4040)->differential_0 = _S3977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4041;
    (&_S4041)->primal_0 = _S4039;
    (&_S4041)->differential_0 = _S3977;
    s_bwd_prop_max_0(&_S4040, &_S4041, dprgb_6);
    float3  _S4042 = _S4040.differential_0 / _S4038;
    float3  _S4043 = total_c_2 * - _S4042;
    float3  s_diff_total_c_T_2 = _S4037 * _S4042;
    float3  _S4044 = _S4036 * s_diff_total_c_T_2;
    float _S4045 = _S4043.x + _S4043.y + _S4043.z;
    float3  _S4046 = _S4034 * s_diff_total_c_T_2;
    float3  _S4047 = _S3974[int(1)] * s_diff_total_c_T_2;
    float _S4048 = _S4045 + _S4047.x + _S4047.y + _S4047.z;
    DiffPair_float_0 _S4049;
    (&_S4049)->primal_0 = _S4032;
    (&_S4049)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4049, _S4048);
    float _S4050 = - _S4049.differential_0;
    float3  _S4051 = _S4031 * s_diff_total_c_T_2;
    float3  _S4052 = _S3974[int(0)] * s_diff_total_c_T_2;
    float _S4053 = _S4045 + _S4052.x + _S4052.y + _S4052.z;
    DiffPair_float_0 _S4054;
    (&_S4054)->primal_0 = _S4029;
    (&_S4054)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4054, _S4053);
    float _S4055 = _S4050 + - _S4054.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4056;
    (&_S4056)->primal_0 = _S3973[int(2)];
    (&_S4056)->differential_0 = _S3977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4057;
    (&_S4057)->primal_0 = _S4027;
    (&_S4057)->differential_0 = _S3977;
    s_bwd_prop_dot_0(&_S4056, &_S4057, _S4055);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4058;
    (&_S4058)->primal_0 = _S3973[int(1)];
    (&_S4058)->differential_0 = _S3977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4059;
    (&_S4059)->primal_0 = _S4027;
    (&_S4059)->differential_0 = _S3977;
    s_bwd_prop_dot_0(&_S4058, &_S4059, _S4049.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4060;
    (&_S4060)->primal_0 = _S3973[int(0)];
    (&_S4060)->differential_0 = _S3977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4061;
    (&_S4061)->primal_0 = _S4027;
    (&_S4061)->differential_0 = _S3977;
    s_bwd_prop_dot_0(&_S4060, &_S4061, _S4054.differential_0);
    float3  _S4062 = _S4057.differential_0 + _S4059.differential_0 + _S4061.differential_0;
    float3  _S4063 = _S4023 * _S4062;
    float3  _S4064 = _S4026 * _S4062;
    float _S4065 = _S4063.x + _S4063.y + _S4063.z;
    DiffPair_float_0 _S4066;
    (&_S4066)->primal_0 = _S4024;
    (&_S4066)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4066, _S4065);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4067;
    (&_S4067)->primal_0 = _S4023;
    (&_S4067)->differential_0 = _S3977;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4068;
    (&_S4068)->primal_0 = _S4023;
    (&_S4068)->differential_0 = _S3977;
    s_bwd_prop_dot_0(&_S4067, &_S4068, _S4066.differential_0);
    float3  _S4069 = _S4064 + _S4068.differential_0 + _S4067.differential_0;
    float3  _S4070 = - - _S4069;
    Matrix<float, 3, 3>  _S4071 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4072;
    (&_S4072)->primal_0 = _S4022;
    (&_S4072)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4073;
    (&_S4073)->primal_0 = _S3976.primal_0;
    (&_S4073)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4072, &_S4073, _S4070);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4074 = _S4073;
    Matrix<float, 3, 3>  _S4075 = transpose_0(_S4072.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4076;
    (&_S4076)->primal_0 = _S4021;
    (&_S4076)->differential_0 = _S3977;
    s_bwd_prop_exp_1(&_S4076, dpconic_5);
    float3  _S4077 = - _S4076.differential_0;
    DiffPair_float_0 _S4078;
    (&_S4078)->primal_0 = _S4018;
    (&_S4078)->differential_0 = 0.0f;
    DiffPair_float_0 _S4079;
    (&_S4079)->primal_0 = _S4020;
    (&_S4079)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4078, &_S4079, dpdepth_6);
    float _S4080 = _S4019 * _S4079.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4081;
    (&_S4081)->primal_0 = mean_c_38;
    (&_S4081)->differential_0 = _S3977;
    s_bwd_length_impl_1(&_S4081, _S4080);
    float _S4082 = _S4078.differential_0 + _S4080;
    DiffPair_float_0 _S4083;
    (&_S4083)->primal_0 = _S4017;
    (&_S4083)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4083, 0.0f);
    DiffPair_float_0 _S4084;
    (&_S4084)->primal_0 = _S4016;
    (&_S4084)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4084, 0.0f);
    DiffPair_float_0 _S4085;
    (&_S4085)->primal_0 = 3.32999992370605469f;
    (&_S4085)->differential_0 = 0.0f;
    DiffPair_float_0 _S4086;
    (&_S4086)->primal_0 = _S4015;
    (&_S4086)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4085, &_S4086, 0.0f);
    DiffPair_float_0 _S4087;
    (&_S4087)->primal_0 = _S4014;
    (&_S4087)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4087, _S4086.differential_0);
    float _S4088 = 2.0f * _S4087.differential_0;
    DiffPair_float_0 _S4089;
    (&_S4089)->primal_0 = _S4013;
    (&_S4089)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4089, _S4088);
    float _S4090 = dpopacity_7 + 254.9999847412109375f * _S4089.differential_0;
    FixedArray<float3 , 3>  _S4091;
    _S4091[int(0)] = _S3977;
    _S4091[int(1)] = _S3977;
    _S4091[int(2)] = _S3977;
    _S4091[int(2)] = _S4044;
    _S4091[int(1)] = _S4046;
    _S4091[int(0)] = _S4051;
    FixedArray<float3 , 3>  _S4092 = {
        _S4091[int(0)], _S4091[int(1)], _S4091[int(2)]
    };
    FixedArray<float3 , 3>  _S4093;
    _S4093[int(0)] = _S3977;
    _S4093[int(1)] = _S3977;
    _S4093[int(2)] = _S3977;
    _S4093[int(2)] = _S4056.differential_0;
    _S4093[int(1)] = _S4058.differential_0;
    _S4093[int(0)] = _S4060.differential_0;
    FixedArray<float3 , 3>  _S4094 = {
        _S4093[int(0)], _S4093[int(1)], _S4093[int(2)]
    };
    float3  _S4095 = _S4081.differential_0 + make_float3 (0.0f, 0.0f, _S4082);
    float2  _S4096 = make_float2 (0.0f, _S4083.differential_0);
    float2  _S4097 = make_float2 (_S4084.differential_0, 0.0f);
    float _S4098;
    if(antialiased_40)
    {
        float _S4099 = _S4010 * _S4090;
        _S4012 = _S4007 * _S4090;
        _S4098 = _S4099;
    }
    else
    {
        _S4012 = _S4090;
        _S4098 = 0.0f;
    }
    float _S4100 = - (_S4012 / _S4011);
    DiffPair_float_0 _S4101;
    (&_S4101)->primal_0 = _S4008;
    (&_S4101)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4101, _S4100);
    float _S4102 = - _S4101.differential_0;
    DiffPair_float_0 _S4103;
    (&_S4103)->primal_0 = _S4006;
    (&_S4103)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4103, _S4098);
    DiffPair_float_0 _S4104;
    (&_S4104)->primal_0 = 0.0f;
    (&_S4104)->differential_0 = 0.0f;
    DiffPair_float_0 _S4105;
    (&_S4105)->primal_0 = _S4004;
    (&_S4105)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4104, &_S4105, _S4103.differential_0);
    float _S4106 = _S4105.differential_0 / _S4005;
    float s_diff_det_blur_T_4 = det_orig_39 * - _S4106;
    float s_diff_det_orig_T_7 = det_blur_27 * _S4106;
    float _S4107 = - s_diff_det_blur_T_4;
    float _S4108 = _S3999 * s_diff_det_blur_T_4;
    float _S4109 = _S4001 * s_diff_det_blur_T_4;
    Matrix<float, 2, 2>  _S4110 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4111 = _S4110;
    _S4111[int(1)] = _S4096;
    _S4111[int(0)] = _S4097;
    float _S4112 = _S4109 + _S4111.rows[int(0)].x;
    float _S4113 = _S4107 + - s_diff_det_orig_T_7;
    float _S4114 = *&(((&_s_diff_ctx_19->_S3925)->rows + (int(0)))->y) * _S4113;
    float _S4115 = *&(((&_s_diff_ctx_19->_S3925)->rows + (int(1)))->x) * _S4113;
    float _S4116 = *&(((&_s_diff_ctx_19->_S3925)->rows + (int(1)))->y) * s_diff_det_orig_T_7;
    float _S4117 = _S4108 + _S4111.rows[int(1)].y + *&(((&_s_diff_ctx_19->_S3925)->rows + (int(0)))->x) * s_diff_det_orig_T_7;
    float2  _S4118 = make_float2 (0.0f);
    float2  _S4119 = _S4118;
    *&((&_S4119)->x) = _S4114;
    *&((&_S4119)->y) = _S4117;
    float _S4120 = _S4112 + _S4116;
    float2  _S4121 = _S4118;
    *&((&_S4121)->y) = _S4115;
    *&((&_S4121)->x) = _S4120;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4122;
    (&_S4122)->primal_0 = _S3975.primal_0;
    (&_S4122)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4123;
    (&_S4123)->primal_0 = _S3996;
    (&_S4123)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4122, &_S4123, _S3977);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4124;
    (&_S4124)->primal_0 = _S3975.primal_0;
    (&_S4124)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4125;
    (&_S4125)->primal_0 = _S3992;
    (&_S4125)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4124, &_S4125, _S3977);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4126;
    (&_S4126)->primal_0 = _S3975.primal_0;
    (&_S4126)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4127;
    (&_S4127)->primal_0 = _S3988;
    (&_S4127)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4126, &_S4127, _S3977);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4128;
    (&_S4128)->primal_0 = _S3975.primal_0;
    (&_S4128)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4129;
    (&_S4129)->primal_0 = _S3995;
    (&_S4129)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4128, &_S4129, _S3977);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4130;
    (&_S4130)->primal_0 = _S3975.primal_0;
    (&_S4130)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4131;
    (&_S4131)->primal_0 = _S3991;
    (&_S4131)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4130, &_S4131, _S3977);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4132;
    (&_S4132)->primal_0 = _S3975.primal_0;
    (&_S4132)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4133;
    (&_S4133)->primal_0 = _S3987;
    (&_S4133)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4132, &_S4133, _S3977);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4134;
    (&_S4134)->primal_0 = _S3975.primal_0;
    (&_S4134)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4135;
    (&_S4135)->primal_0 = _S3997.p_0[0U];
    (&_S4135)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4134, &_S4135, _S3977);
    float3  _S4136 = - _S4123.differential_0 + _S4129.differential_0;
    float3  _S4137 = _S3994 * _S4136;
    float3  _S4138 = _S3980.rows[2U] * _S4136;
    float _S4139 = _S3984 * (_S4138.x + _S4138.y + _S4138.z);
    float3  _S4140 = - _S4125.differential_0 + _S4131.differential_0;
    float3  _S4141 = _S3990 * _S4140;
    float3  _S4142 = _S3980.rows[1U] * _S4140;
    float _S4143 = _S3984 * (_S4142.x + _S4142.y + _S4142.z);
    float3  _S4144 = - _S4127.differential_0 + _S4133.differential_0;
    float3  _S4145 = _S3986 * _S4144;
    float3  _S4146 = _S3980.rows[0U] * _S4144;
    float _S4147 = _S3984 * (_S4146.x + _S4146.y + _S4146.z);
    Matrix<float, 3, 3>  _S4148 = _S4071;
    _S4148[2U] = _S4137;
    _S4148[1U] = _S4141;
    _S4148[0U] = _S4145;
    Matrix<float, 3, 3>  _S4149 = transpose_0(transpose_0(_S4148));
    float _S4150 = 2.0f * - _S4149.rows[int(2)].z;
    float _S4151 = 2.0f * _S4149.rows[int(2)].y;
    float _S4152 = 2.0f * _S4149.rows[int(2)].x;
    float _S4153 = 2.0f * _S4149.rows[int(1)].z;
    float _S4154 = 2.0f * - _S4149.rows[int(1)].y;
    float _S4155 = 2.0f * _S4149.rows[int(1)].x;
    float _S4156 = 2.0f * _S4149.rows[int(0)].z;
    float _S4157 = 2.0f * _S4149.rows[int(0)].y;
    float _S4158 = 2.0f * - _S4149.rows[int(0)].x;
    float _S4159 = - _S4155 + _S4157;
    float _S4160 = _S4152 + - _S4156;
    float _S4161 = - _S4151 + _S4153;
    float _S4162 = _S4151 + _S4153;
    float _S4163 = _S4152 + _S4156;
    float _S4164 = _S4155 + _S4157;
    float _S4165 = _S3971.primal_0.w * (_S4154 + _S4158);
    float _S4166 = _S3971.primal_0.z * (_S4150 + _S4158);
    float _S4167 = _S3971.primal_0.y * (_S4150 + _S4154);
    float _S4168 = _S3971.primal_0.x * _S4159 + _S3971.primal_0.z * _S4162 + _S3971.primal_0.y * _S4163 + _S4165 + _S4165;
    float _S4169 = _S3971.primal_0.x * _S4160 + _S3971.primal_0.w * _S4162 + _S3971.primal_0.y * _S4164 + _S4166 + _S4166;
    float _S4170 = _S3971.primal_0.x * _S4161 + _S3971.primal_0.w * _S4163 + _S3971.primal_0.z * _S4164 + _S4167 + _S4167;
    float _S4171 = _S3971.primal_0.w * _S4159 + _S3971.primal_0.z * _S4160 + _S3971.primal_0.y * _S4161;
    float3  _S4172 = _S3977;
    *&((&_S4172)->z) = _S4139;
    *&((&_S4172)->y) = _S4143;
    *&((&_S4172)->x) = _S4147;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4173;
    (&_S4173)->primal_0 = _S3972.primal_0;
    (&_S4173)->differential_0 = _S3977;
    s_bwd_prop_exp_1(&_S4173, _S4172);
    Matrix<float, 2, 2>  _S4174 = _S4110;
    _S4174[int(1)] = _S4119;
    _S4174[int(0)] = _S4121;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4175;
    (&_S4175)->primal_0 = _S3975.primal_0;
    (&_S4175)->differential_0 = _S4071;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4176;
    (&_S4176)->primal_0 = _S3970.primal_0;
    (&_S4176)->differential_0 = _S3977;
    s_bwd_prop_mul_1(&_S4175, &_S4176, _S4095);
    float3  _S4177 = _S4095 + _S4074.differential_0;
    dpt_6->primal_0 = (*dpt_6).primal_0;
    dpt_6->differential_0 = _S4177;
    Matrix<float, 3, 3>  _S4178 = _S4122.differential_0 + _S4124.differential_0 + _S4126.differential_0 + _S4128.differential_0 + _S4130.differential_0 + _S4132.differential_0 + _S4134.differential_0 + _S4175.differential_0 + _S4075;
    dpR_7->primal_0 = (*dpR_7).primal_0;
    dpR_7->differential_0 = _S4178;
    dpsv_colors_5->primal_0 = dpsv_colors_5->primal_0;
    dpsv_colors_5->differential_0 = _S4092;
    dpsv_sites_5->primal_0 = dpsv_sites_5->primal_0;
    dpsv_sites_5->differential_0 = _S4094;
    dpin_opacity_5->primal_0 = (*dpin_opacity_5).primal_0;
    dpin_opacity_5->differential_0 = _S4102;
    float3  _S4179 = _S4173.differential_0 + _S4077;
    dpscale_6->primal_0 = (*dpscale_6).primal_0;
    dpscale_6->differential_0 = _S4179;
    float4  _S4180 = make_float4 (0.0f);
    *&((&_S4180)->w) = _S4168;
    *&((&_S4180)->z) = _S4169;
    *&((&_S4180)->y) = _S4170;
    *&((&_S4180)->x) = _S4171;
    dpquat_6->primal_0 = (*dpquat_6).primal_0;
    dpquat_6->differential_0 = _S4180;
    float3  _S4181 = _S4123.differential_0 + _S4129.differential_0 + _S4125.differential_0 + _S4131.differential_0 + _S4127.differential_0 + _S4133.differential_0 + _S4176.differential_0 + _S4069;
    dpmean_7->primal_0 = (*dpmean_7).primal_0;
    dpmean_7->differential_0 = _S4181;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_1(bool _S4182, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4183, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4184, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4185, DiffPair_float_0 * _S4186, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4187, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4188, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4189, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4190, float _S4191, float _S4192, float _S4193, float _S4194, FixedArray<float, 10>  * _S4195, uint _S4196, uint _S4197, float _S4198, float _S4199, float2  _S4200, float _S4201, float3  _S4202, float _S4203, float3  _S4204)
{
    FixedArray<float3 , 3>  _S4205 = _S4187->primal_0;
    FixedArray<float3 , 3>  _S4206 = _S4188->primal_0;
    int4  _S4207;
    float2  _S4208;
    float _S4209;
    float3  _S4210;
    float _S4211;
    float3  _S4212;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S4213;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_1(_S4182, (*_S4183).primal_0, (*_S4184).primal_0, (*_S4185).primal_0, (*_S4186).primal_0, &_S4205, &_S4206, (*_S4189).primal_0, (*_S4190).primal_0, _S4191, _S4192, _S4193, _S4194, _S4195, _S4196, _S4197, _S4198, _S4199, &_S4207, &_S4208, &_S4209, &_S4210, &_S4211, &_S4212, &_S4213);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_1 _S4214 = _S4213;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_1(_S4182, _S4183, _S4184, _S4185, _S4186, _S4187, _S4188, _S4189, _S4190, _S4191, _S4192, _S4193, _S4194, _S4195, _S4196, _S4197, _S4198, _S4199, _S4200, _S4201, _S4202, _S4203, _S4204, &_S4214);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_41, float3  mean_40, float4  quat_41, float3  scale_40, float in_opacity_35, FixedArray<float3 , 3>  * sv_sites_20, FixedArray<float3 , 3>  * sv_colors_20, Matrix<float, 3, 3>  R_42, float3  t_38, float fx_50, float fy_50, float cx_45, float cy_45, FixedArray<float, 10>  * dist_coeffs_54, uint image_width_41, uint image_height_41, float2  v_mean2d_7, float v_depth_8, float3  v_conic_7, float v_opacity_9, float3  v_rgb_8, float3  * v_mean_9, float4  * v_quat_8, float3  * v_scale_8, float * v_in_opacity_7, FixedArray<float3 , 3>  * v_sv_dirs_2, FixedArray<float3 , 3>  * v_sv_colors_2, Matrix<float, 3, 3>  * v_R_9, float3  * v_t_8)
{
    float3  _S4215 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_4;
    (&dp_mean_4)->primal_0 = mean_40;
    (&dp_mean_4)->differential_0 = _S4215;
    float4  _S4216 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_3;
    (&dp_quat_3)->primal_0 = quat_41;
    (&dp_quat_3)->differential_0 = _S4216;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_3;
    (&dp_scale_3)->primal_0 = scale_40;
    (&dp_scale_3)->differential_0 = _S4215;
    DiffPair_float_0 dp_in_opacity_2;
    (&dp_in_opacity_2)->primal_0 = in_opacity_35;
    (&dp_in_opacity_2)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S4217 = { _S4215, _S4215, _S4215 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_2;
    (&dp_sv_dirs_2)->primal_0 = *sv_sites_20;
    (&dp_sv_dirs_2)->differential_0 = _S4217;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_2;
    (&dp_sv_colors_2)->primal_0 = *sv_colors_20;
    (&dp_sv_colors_2)->differential_0 = _S4217;
    Matrix<float, 3, 3>  _S4218 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_4;
    (&dp_R_4)->primal_0 = R_42;
    (&dp_R_4)->differential_0 = _S4218;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_3;
    (&dp_t_3)->primal_0 = t_38;
    (&dp_t_3)->differential_0 = _S4215;
    s_bwd_projection_3dgut_sv_persp_differentiable_1(antialiased_41, &dp_mean_4, &dp_quat_3, &dp_scale_3, &dp_in_opacity_2, &dp_sv_dirs_2, &dp_sv_colors_2, &dp_R_4, &dp_t_3, fx_50, fy_50, cx_45, cy_45, dist_coeffs_54, image_width_41, image_height_41, 0.0f, 1.00000001504746622e+30f, v_mean2d_7, v_depth_8, v_conic_7, v_opacity_9, v_rgb_8);
    *v_mean_9 = dp_mean_4.differential_0;
    *v_quat_8 = dp_quat_3.differential_0;
    *v_scale_8 = dp_scale_3.differential_0;
    *v_in_opacity_7 = dp_in_opacity_2.differential_0;
    *v_sv_dirs_2 = (&dp_sv_dirs_2)->differential_0;
    *v_sv_colors_2 = (&dp_sv_colors_2)->differential_0;
    *v_R_9 = dp_R_4.differential_0;
    *v_t_8 = dp_t_3.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1
{
    Matrix<float, 2, 2>  _S4219;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_42, float3  dpmean_8, float4  dpquat_7, float3  dpscale_7, float dpin_opacity_6, FixedArray<float3 , 3>  * dpsv_sites_6, FixedArray<float3 , 3>  * dpsv_colors_6, Matrix<float, 3, 3>  dpR_8, float3  dpt_7, float fx_51, float fy_51, float cx_46, float cy_46, FixedArray<float, 10>  * dist_coeffs_55, uint image_width_42, uint image_height_42, float near_plane_34, float far_plane_34, int4  * aabb_xyxy_31, float2  * dpmean2d_8, float * dpdepth_7, float3  * dpconic_6, float * dpopacity_8, float3  * dprgb_7, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_20)
{
    Matrix<float, 2, 2>  _S4220 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_20->_S4219 = _S4220;
    float2  _S4221 = make_float2 (0.0f);
    float3  _S4222 = make_float3 (0.0f);
    float3  mean_c_39 = s_primal_ctx_mul_0(dpR_8, dpmean_8) + dpt_7;
    float _S4223 = length_1(mean_c_39);
    float4  intrins_35 = make_float4 (fx_51, fy_51, cx_46, cy_46);
    float3  _S4224 = s_primal_ctx_exp_0(dpscale_7);
    float _S4225 = dpquat_7.y;
    float x2_45 = _S4225 * _S4225;
    float y2_45 = dpquat_7.z * dpquat_7.z;
    float z2_60 = dpquat_7.w * dpquat_7.w;
    float xy_45 = dpquat_7.y * dpquat_7.z;
    float xz_45 = dpquat_7.y * dpquat_7.w;
    float yz_45 = dpquat_7.z * dpquat_7.w;
    float wx_45 = dpquat_7.x * dpquat_7.y;
    float wy_45 = dpquat_7.x * dpquat_7.z;
    float wz_45 = dpquat_7.x * dpquat_7.w;
    Matrix<float, 3, 3>  _S4226 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_45 + z2_60), 2.0f * (xy_45 + wz_45), 2.0f * (xz_45 - wy_45), 2.0f * (xy_45 - wz_45), 1.0f - 2.0f * (x2_45 + z2_60), 2.0f * (yz_45 + wx_45), 2.0f * (xz_45 + wy_45), 2.0f * (yz_45 - wx_45), 1.0f - 2.0f * (x2_45 + y2_45))));
    FixedArray<float3 , 7>  _S4227 = {
        _S4222, _S4222, _S4222, _S4222, _S4222, _S4222, _S4222
    };
    FixedArray<float, 7>  _S4228 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4229;
    (&_S4229)->p_0 = _S4227;
    (&_S4229)->w_mean_0 = _S4228;
    (&_S4229)->w_cov_0 = _S4228;
    (&_S4229)->p_0[int(0)] = dpmean_8;
    SigmaPoints_0 _S4230 = _S4229;
    (&_S4230)->w_mean_0[int(0)] = 0.0f;
    (&_S4230)->w_cov_0[int(0)] = 2.0f;
    float _S4231 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_90 = make_float3 (_S4231 * _S4224.x) * _S4226.rows[0U];
    float3  _S4232 = dpmean_8 + delta_90;
    float3  _S4233 = dpmean_8 - delta_90;
    float3  delta_91 = make_float3 (_S4231 * _S4224.y) * _S4226.rows[1U];
    float3  _S4234 = dpmean_8 + delta_91;
    float3  _S4235 = dpmean_8 - delta_91;
    float3  delta_92 = make_float3 (_S4231 * _S4224.z) * _S4226.rows[2U];
    float3  _S4236 = dpmean_8 + delta_92;
    float3  _S4237 = dpmean_8 - delta_92;
    (&_S4230)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4230)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4230)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4230)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4230)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4230)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4230)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4230)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4230)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4230)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4230)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4230)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4230)->p_0[0U] = s_primal_ctx_mul_0(dpR_8, _S4229.p_0[0U]) + dpt_7;
    (&_S4230)->p_0[1U] = s_primal_ctx_mul_0(dpR_8, _S4232) + dpt_7;
    (&_S4230)->p_0[2U] = s_primal_ctx_mul_0(dpR_8, _S4234) + dpt_7;
    (&_S4230)->p_0[3U] = s_primal_ctx_mul_0(dpR_8, _S4236) + dpt_7;
    (&_S4230)->p_0[4U] = s_primal_ctx_mul_0(dpR_8, _S4233) + dpt_7;
    (&_S4230)->p_0[5U] = s_primal_ctx_mul_0(dpR_8, _S4235) + dpt_7;
    (&_S4230)->p_0[6U] = s_primal_ctx_mul_0(dpR_8, _S4237) + dpt_7;
    float2  _S4238 = _S4221;
    Matrix<float, 2, 2>  _S4239 = _S4220;
    SigmaPoints_0 _S4240 = _S4230;
    bool _S4241 = fisheye_proj_3dgs_ut_1(&_S4240, intrins_35, dist_coeffs_55, &_S4239, &_S4238);
    _s_diff_ctx_20->_S4219 = _S4239;
    float2  _S4242 = _S4238;
    float _S4243 = _S4239.rows[int(0)].y * _S4239.rows[int(1)].x;
    float det_orig_40 = _S4239.rows[int(0)].x * _S4239.rows[int(1)].y - _S4243;
    float _S4244 = _S4239.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4245 = _S4239;
    *&(((&_S4245)->rows + (int(0)))->x) = _S4244;
    float _S4246 = _S4239.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4245)->rows + (int(1)))->y) = _S4246;
    Matrix<float, 2, 2>  _S4247 = _S4245;
    Matrix<float, 2, 2>  _S4248 = _S4245;
    float _S4249 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_40 / (_S4244 * _S4246 - _S4243)));
    float _S4250 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_6));
    float _S4251;
    if(antialiased_42)
    {
        _S4251 = _S4250 * _S4249;
    }
    else
    {
        _S4251 = _S4250;
    }
    float _S4252 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4251 / 0.00392156885936856f)));
    float radius_x_31 = _S4252 * s_primal_ctx_sqrt_0(_S4247.rows[int(0)].x);
    float radius_y_31 = _S4252 * s_primal_ctx_sqrt_0(_S4248.rows[int(1)].y);
    float _S4253 = _S4242.x;
    float _S4254 = _S4242.y;
    float _S4255 = mean_c_39.z;
    float _S4256 = s_primal_ctx_max_0(_S4255, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4255 + _S4223));
    float3  _S4257 = s_primal_ctx_exp_0(- dpscale_7);
    float3  _S4258 = dpmean_8 - - s_primal_ctx_mul_0(transpose_0(dpR_8), dpt_7);
    float3  _S4259 = _S4258 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4258, _S4258)));
    float _S4260 = s_primal_ctx_dot_0((*dpsv_sites_6)[int(2)], _S4259);
    float _S4261 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(0)], _S4259) - _S4260);
    float _S4262 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_6)[int(1)], _S4259) - _S4260);
    float _S4263 = s_primal_ctx_exp_1(0.0f);
    float3  _S4264 = s_primal_ctx_max_1((make_float3 (_S4261) * (*dpsv_colors_6)[int(0)] + make_float3 (_S4262) * (*dpsv_colors_6)[int(1)] + make_float3 (_S4263) * (*dpsv_colors_6)[int(2)]) / make_float3 (_S4261 + _S4262 + _S4263) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_31 = make_int4 (int((F32_floor((_S4253 - radius_x_31)))), int((F32_floor((_S4254 - radius_y_31)))), int((F32_ceil((_S4253 + radius_x_31)))), int((F32_ceil((_S4254 + radius_y_31)))));
    *dpmean2d_8 = _S4242;
    *dpdepth_7 = _S4256;
    *dpconic_6 = _S4257;
    *dpopacity_8 = _S4251;
    *dprgb_7 = _S4264;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(bool antialiased_43, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_9, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_8, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_8, DiffPair_float_0 * dpin_opacity_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_sites_7, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpsv_colors_7, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_9, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_8, float fx_52, float fy_52, float cx_47, float cy_47, FixedArray<float, 10>  * dist_coeffs_56, uint image_width_43, uint image_height_43, float near_plane_35, float far_plane_35, float2  dpmean2d_9, float dpdepth_8, float3  dpconic_7, float dpopacity_9, float3  dprgb_8, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 * _s_diff_ctx_21)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4265 = *dpmean_9;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4266 = *dpquat_8;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4267 = *dpscale_8;
    FixedArray<float3 , 3>  _S4268 = dpsv_sites_7->primal_0;
    FixedArray<float3 , 3>  _S4269 = dpsv_colors_7->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4270 = *dpR_9;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4271 = *dpt_8;
    float3  _S4272 = make_float3 (0.0f);
    float3  mean_c_40 = s_primal_ctx_mul_0((*dpR_9).primal_0, (*dpmean_9).primal_0) + (*dpt_8).primal_0;
    float _S4273 = length_1(mean_c_40);
    float3  _S4274 = s_primal_ctx_exp_0((*dpscale_8).primal_0);
    float _S4275 = (*dpquat_8).primal_0.y;
    float x2_46 = _S4275 * _S4275;
    float y2_46 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.z;
    float z2_61 = (*dpquat_8).primal_0.w * (*dpquat_8).primal_0.w;
    float xy_46 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.z;
    float xz_46 = (*dpquat_8).primal_0.y * (*dpquat_8).primal_0.w;
    float yz_46 = (*dpquat_8).primal_0.z * (*dpquat_8).primal_0.w;
    float wx_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.y;
    float wy_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.z;
    float wz_46 = (*dpquat_8).primal_0.x * (*dpquat_8).primal_0.w;
    Matrix<float, 3, 3>  _S4276 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_46 + z2_61), 2.0f * (xy_46 + wz_46), 2.0f * (xz_46 - wy_46), 2.0f * (xy_46 - wz_46), 1.0f - 2.0f * (x2_46 + z2_61), 2.0f * (yz_46 + wx_46), 2.0f * (xz_46 + wy_46), 2.0f * (yz_46 - wx_46), 1.0f - 2.0f * (x2_46 + y2_46))));
    FixedArray<float3 , 7>  _S4277 = {
        _S4272, _S4272, _S4272, _S4272, _S4272, _S4272, _S4272
    };
    FixedArray<float, 7>  _S4278 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4279;
    (&_S4279)->p_0 = _S4277;
    (&_S4279)->w_mean_0 = _S4278;
    (&_S4279)->w_cov_0 = _S4278;
    (&_S4279)->p_0[int(0)] = (*dpmean_9).primal_0;
    float _S4280 = s_primal_ctx_sqrt_0(3.0f);
    float _S4281 = _S4280 * _S4274.x;
    float3  _S4282 = make_float3 (_S4281);
    float3  delta_93 = make_float3 (_S4281) * _S4276.rows[0U];
    float3  _S4283 = (*dpmean_9).primal_0 + delta_93;
    float3  _S4284 = (*dpmean_9).primal_0 - delta_93;
    float _S4285 = _S4280 * _S4274.y;
    float3  _S4286 = make_float3 (_S4285);
    float3  delta_94 = make_float3 (_S4285) * _S4276.rows[1U];
    float3  _S4287 = (*dpmean_9).primal_0 + delta_94;
    float3  _S4288 = (*dpmean_9).primal_0 - delta_94;
    float _S4289 = _S4280 * _S4274.z;
    float3  _S4290 = make_float3 (_S4289);
    float3  delta_95 = make_float3 (_S4289) * _S4276.rows[2U];
    float3  _S4291 = (*dpmean_9).primal_0 + delta_95;
    float3  _S4292 = (*dpmean_9).primal_0 - delta_95;
    SigmaPoints_0 _S4293 = _S4279;
    float _S4294 = *&(((&_s_diff_ctx_21->_S4219)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_21->_S4219)->rows + (int(1)))->x);
    float det_orig_41 = *&(((&_s_diff_ctx_21->_S4219)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_21->_S4219)->rows + (int(1)))->y) - _S4294;
    float _S4295 = *&(((&_s_diff_ctx_21->_S4219)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4296 = _s_diff_ctx_21->_S4219;
    *&(((&_S4296)->rows + (int(0)))->x) = _S4295;
    float _S4297 = *&(((&_s_diff_ctx_21->_S4219)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4296)->rows + (int(1)))->y) = _S4297;
    Matrix<float, 2, 2>  _S4298 = _S4296;
    Matrix<float, 2, 2>  _S4299 = _S4296;
    float det_blur_28 = _S4295 * _S4297 - _S4294;
    float _S4300 = det_orig_41 / det_blur_28;
    float _S4301 = det_blur_28 * det_blur_28;
    float _S4302 = s_primal_ctx_max_0(0.0f, _S4300);
    float _S4303 = s_primal_ctx_sqrt_0(_S4302);
    float _S4304 = - (*dpin_opacity_7).primal_0;
    float _S4305 = 1.0f + s_primal_ctx_exp_1(_S4304);
    float _S4306 = 1.0f / _S4305;
    float _S4307 = _S4305 * _S4305;
    float _S4308;
    if(antialiased_43)
    {
        _S4308 = _S4306 * _S4303;
    }
    else
    {
        _S4308 = _S4306;
    }
    float _S4309 = _S4308 / 0.00392156885936856f;
    float _S4310 = 2.0f * s_primal_ctx_log_0(_S4309);
    float _S4311 = s_primal_ctx_sqrt_0(_S4310);
    float _S4312 = _S4298.rows[int(0)].x;
    float _S4313 = _S4299.rows[int(1)].y;
    float _S4314 = mean_c_40.z;
    float _S4315 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4316 = _S4315 * (_S4314 + _S4273);
    float3  _S4317 = - _S4267.primal_0;
    Matrix<float, 3, 3>  _S4318 = transpose_0(_S4270.primal_0);
    float3  _S4319 = _S4265.primal_0 - - s_primal_ctx_mul_0(_S4318, _S4271.primal_0);
    float _S4320 = s_primal_ctx_dot_0(_S4319, _S4319);
    float _S4321 = s_primal_ctx_rsqrt_0(_S4320);
    float3  _S4322 = make_float3 (_S4321);
    float3  _S4323 = _S4319 * make_float3 (_S4321);
    float _S4324 = s_primal_ctx_dot_0(_S4268[int(2)], _S4323);
    float _S4325 = s_primal_ctx_dot_0(_S4268[int(0)], _S4323) - _S4324;
    float _S4326 = s_primal_ctx_exp_1(_S4325);
    float3  _S4327 = make_float3 (_S4326);
    float _S4328 = s_primal_ctx_dot_0(_S4268[int(1)], _S4323) - _S4324;
    float _S4329 = s_primal_ctx_exp_1(_S4328);
    float3  _S4330 = make_float3 (_S4329);
    float _S4331 = s_primal_ctx_exp_1(0.0f);
    float3  _S4332 = make_float3 (_S4331);
    float total_w_3 = _S4326 + _S4329 + _S4331;
    float3  _S4333 = make_float3 (total_w_3);
    float3  total_c_3 = make_float3 (_S4326) * _S4269[int(0)] + make_float3 (_S4329) * _S4269[int(1)] + make_float3 (_S4331) * _S4269[int(2)];
    float3  _S4334 = make_float3 (total_w_3 * total_w_3);
    float3  _S4335 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4336;
    (&_S4336)->primal_0 = total_c_3 / make_float3 (total_w_3) + make_float3 (0.5f);
    (&_S4336)->differential_0 = _S4272;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4337;
    (&_S4337)->primal_0 = _S4335;
    (&_S4337)->differential_0 = _S4272;
    s_bwd_prop_max_0(&_S4336, &_S4337, dprgb_8);
    float3  _S4338 = _S4336.differential_0 / _S4334;
    float3  _S4339 = total_c_3 * - _S4338;
    float3  s_diff_total_c_T_3 = _S4333 * _S4338;
    float3  _S4340 = _S4332 * s_diff_total_c_T_3;
    float _S4341 = _S4339.x + _S4339.y + _S4339.z;
    float3  _S4342 = _S4330 * s_diff_total_c_T_3;
    float3  _S4343 = _S4269[int(1)] * s_diff_total_c_T_3;
    float _S4344 = _S4341 + _S4343.x + _S4343.y + _S4343.z;
    DiffPair_float_0 _S4345;
    (&_S4345)->primal_0 = _S4328;
    (&_S4345)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4345, _S4344);
    float _S4346 = - _S4345.differential_0;
    float3  _S4347 = _S4327 * s_diff_total_c_T_3;
    float3  _S4348 = _S4269[int(0)] * s_diff_total_c_T_3;
    float _S4349 = _S4341 + _S4348.x + _S4348.y + _S4348.z;
    DiffPair_float_0 _S4350;
    (&_S4350)->primal_0 = _S4325;
    (&_S4350)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4350, _S4349);
    float _S4351 = _S4346 + - _S4350.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4352;
    (&_S4352)->primal_0 = _S4268[int(2)];
    (&_S4352)->differential_0 = _S4272;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4353;
    (&_S4353)->primal_0 = _S4323;
    (&_S4353)->differential_0 = _S4272;
    s_bwd_prop_dot_0(&_S4352, &_S4353, _S4351);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4354;
    (&_S4354)->primal_0 = _S4268[int(1)];
    (&_S4354)->differential_0 = _S4272;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4355;
    (&_S4355)->primal_0 = _S4323;
    (&_S4355)->differential_0 = _S4272;
    s_bwd_prop_dot_0(&_S4354, &_S4355, _S4345.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4356;
    (&_S4356)->primal_0 = _S4268[int(0)];
    (&_S4356)->differential_0 = _S4272;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4357;
    (&_S4357)->primal_0 = _S4323;
    (&_S4357)->differential_0 = _S4272;
    s_bwd_prop_dot_0(&_S4356, &_S4357, _S4350.differential_0);
    float3  _S4358 = _S4353.differential_0 + _S4355.differential_0 + _S4357.differential_0;
    float3  _S4359 = _S4319 * _S4358;
    float3  _S4360 = _S4322 * _S4358;
    float _S4361 = _S4359.x + _S4359.y + _S4359.z;
    DiffPair_float_0 _S4362;
    (&_S4362)->primal_0 = _S4320;
    (&_S4362)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4362, _S4361);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4363;
    (&_S4363)->primal_0 = _S4319;
    (&_S4363)->differential_0 = _S4272;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4364;
    (&_S4364)->primal_0 = _S4319;
    (&_S4364)->differential_0 = _S4272;
    s_bwd_prop_dot_0(&_S4363, &_S4364, _S4362.differential_0);
    float3  _S4365 = _S4360 + _S4364.differential_0 + _S4363.differential_0;
    float3  _S4366 = - - _S4365;
    Matrix<float, 3, 3>  _S4367 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4368;
    (&_S4368)->primal_0 = _S4318;
    (&_S4368)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4369;
    (&_S4369)->primal_0 = _S4271.primal_0;
    (&_S4369)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4368, &_S4369, _S4366);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4370 = _S4369;
    Matrix<float, 3, 3>  _S4371 = transpose_0(_S4368.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4372;
    (&_S4372)->primal_0 = _S4317;
    (&_S4372)->differential_0 = _S4272;
    s_bwd_prop_exp_1(&_S4372, dpconic_7);
    float3  _S4373 = - _S4372.differential_0;
    DiffPair_float_0 _S4374;
    (&_S4374)->primal_0 = _S4314;
    (&_S4374)->differential_0 = 0.0f;
    DiffPair_float_0 _S4375;
    (&_S4375)->primal_0 = _S4316;
    (&_S4375)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4374, &_S4375, dpdepth_8);
    float _S4376 = _S4315 * _S4375.differential_0;
    float _S4377 = _S4374.differential_0 + _S4376;
    DiffPair_float_0 _S4378;
    (&_S4378)->primal_0 = _S4313;
    (&_S4378)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4378, 0.0f);
    DiffPair_float_0 _S4379;
    (&_S4379)->primal_0 = _S4312;
    (&_S4379)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4379, 0.0f);
    DiffPair_float_0 _S4380;
    (&_S4380)->primal_0 = 3.32999992370605469f;
    (&_S4380)->differential_0 = 0.0f;
    DiffPair_float_0 _S4381;
    (&_S4381)->primal_0 = _S4311;
    (&_S4381)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4380, &_S4381, 0.0f);
    DiffPair_float_0 _S4382;
    (&_S4382)->primal_0 = _S4310;
    (&_S4382)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4382, _S4381.differential_0);
    float _S4383 = 2.0f * _S4382.differential_0;
    DiffPair_float_0 _S4384;
    (&_S4384)->primal_0 = _S4309;
    (&_S4384)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4384, _S4383);
    float _S4385 = dpopacity_9 + 254.9999847412109375f * _S4384.differential_0;
    FixedArray<float3 , 3>  _S4386;
    _S4386[int(0)] = _S4272;
    _S4386[int(1)] = _S4272;
    _S4386[int(2)] = _S4272;
    _S4386[int(2)] = _S4340;
    _S4386[int(1)] = _S4342;
    _S4386[int(0)] = _S4347;
    FixedArray<float3 , 3>  _S4387 = {
        _S4386[int(0)], _S4386[int(1)], _S4386[int(2)]
    };
    FixedArray<float3 , 3>  _S4388;
    _S4388[int(0)] = _S4272;
    _S4388[int(1)] = _S4272;
    _S4388[int(2)] = _S4272;
    _S4388[int(2)] = _S4352.differential_0;
    _S4388[int(1)] = _S4354.differential_0;
    _S4388[int(0)] = _S4356.differential_0;
    FixedArray<float3 , 3>  _S4389 = {
        _S4388[int(0)], _S4388[int(1)], _S4388[int(2)]
    };
    float3  _S4390 = make_float3 (0.0f, 0.0f, _S4377);
    float2  _S4391 = make_float2 (0.0f, _S4378.differential_0);
    float2  _S4392 = make_float2 (_S4379.differential_0, 0.0f);
    float _S4393;
    if(antialiased_43)
    {
        float _S4394 = _S4306 * _S4385;
        _S4308 = _S4303 * _S4385;
        _S4393 = _S4394;
    }
    else
    {
        _S4308 = _S4385;
        _S4393 = 0.0f;
    }
    float _S4395 = - (_S4308 / _S4307);
    DiffPair_float_0 _S4396;
    (&_S4396)->primal_0 = _S4304;
    (&_S4396)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4396, _S4395);
    float _S4397 = - _S4396.differential_0;
    DiffPair_float_0 _S4398;
    (&_S4398)->primal_0 = _S4302;
    (&_S4398)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4398, _S4393);
    DiffPair_float_0 _S4399;
    (&_S4399)->primal_0 = 0.0f;
    (&_S4399)->differential_0 = 0.0f;
    DiffPair_float_0 _S4400;
    (&_S4400)->primal_0 = _S4300;
    (&_S4400)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4399, &_S4400, _S4398.differential_0);
    float _S4401 = _S4400.differential_0 / _S4301;
    float s_diff_det_blur_T_5 = det_orig_41 * - _S4401;
    float s_diff_det_orig_T_8 = det_blur_28 * _S4401;
    float _S4402 = - s_diff_det_blur_T_5;
    float _S4403 = _S4295 * s_diff_det_blur_T_5;
    float _S4404 = _S4297 * s_diff_det_blur_T_5;
    Matrix<float, 2, 2>  _S4405 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4406 = _S4405;
    _S4406[int(1)] = _S4391;
    _S4406[int(0)] = _S4392;
    float _S4407 = _S4404 + _S4406.rows[int(0)].x;
    float _S4408 = _S4402 + - s_diff_det_orig_T_8;
    float _S4409 = *&(((&_s_diff_ctx_21->_S4219)->rows + (int(0)))->y) * _S4408;
    float _S4410 = *&(((&_s_diff_ctx_21->_S4219)->rows + (int(1)))->x) * _S4408;
    float _S4411 = *&(((&_s_diff_ctx_21->_S4219)->rows + (int(1)))->y) * s_diff_det_orig_T_8;
    float _S4412 = _S4403 + _S4406.rows[int(1)].y + *&(((&_s_diff_ctx_21->_S4219)->rows + (int(0)))->x) * s_diff_det_orig_T_8;
    float2  _S4413 = make_float2 (0.0f);
    float2  _S4414 = _S4413;
    *&((&_S4414)->x) = _S4409;
    *&((&_S4414)->y) = _S4412;
    float _S4415 = _S4407 + _S4411;
    float2  _S4416 = _S4413;
    *&((&_S4416)->y) = _S4410;
    *&((&_S4416)->x) = _S4415;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4417;
    (&_S4417)->primal_0 = _S4270.primal_0;
    (&_S4417)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4418;
    (&_S4418)->primal_0 = _S4292;
    (&_S4418)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4417, &_S4418, _S4272);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4419;
    (&_S4419)->primal_0 = _S4270.primal_0;
    (&_S4419)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4420;
    (&_S4420)->primal_0 = _S4288;
    (&_S4420)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4419, &_S4420, _S4272);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4421;
    (&_S4421)->primal_0 = _S4270.primal_0;
    (&_S4421)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4422;
    (&_S4422)->primal_0 = _S4284;
    (&_S4422)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4421, &_S4422, _S4272);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4423;
    (&_S4423)->primal_0 = _S4270.primal_0;
    (&_S4423)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4424;
    (&_S4424)->primal_0 = _S4291;
    (&_S4424)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4423, &_S4424, _S4272);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4425;
    (&_S4425)->primal_0 = _S4270.primal_0;
    (&_S4425)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4426;
    (&_S4426)->primal_0 = _S4287;
    (&_S4426)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4425, &_S4426, _S4272);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4427;
    (&_S4427)->primal_0 = _S4270.primal_0;
    (&_S4427)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4428;
    (&_S4428)->primal_0 = _S4283;
    (&_S4428)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4427, &_S4428, _S4272);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4429;
    (&_S4429)->primal_0 = _S4270.primal_0;
    (&_S4429)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4430;
    (&_S4430)->primal_0 = _S4293.p_0[0U];
    (&_S4430)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4429, &_S4430, _S4272);
    float3  _S4431 = - _S4418.differential_0 + _S4424.differential_0;
    float3  _S4432 = _S4290 * _S4431;
    float3  _S4433 = _S4276.rows[2U] * _S4431;
    float _S4434 = _S4280 * (_S4433.x + _S4433.y + _S4433.z);
    float3  _S4435 = - _S4420.differential_0 + _S4426.differential_0;
    float3  _S4436 = _S4286 * _S4435;
    float3  _S4437 = _S4276.rows[1U] * _S4435;
    float _S4438 = _S4280 * (_S4437.x + _S4437.y + _S4437.z);
    float3  _S4439 = - _S4422.differential_0 + _S4428.differential_0;
    float3  _S4440 = _S4282 * _S4439;
    float3  _S4441 = _S4276.rows[0U] * _S4439;
    float _S4442 = _S4280 * (_S4441.x + _S4441.y + _S4441.z);
    Matrix<float, 3, 3>  _S4443 = _S4367;
    _S4443[2U] = _S4432;
    _S4443[1U] = _S4436;
    _S4443[0U] = _S4440;
    Matrix<float, 3, 3>  _S4444 = transpose_0(transpose_0(_S4443));
    float _S4445 = 2.0f * - _S4444.rows[int(2)].z;
    float _S4446 = 2.0f * _S4444.rows[int(2)].y;
    float _S4447 = 2.0f * _S4444.rows[int(2)].x;
    float _S4448 = 2.0f * _S4444.rows[int(1)].z;
    float _S4449 = 2.0f * - _S4444.rows[int(1)].y;
    float _S4450 = 2.0f * _S4444.rows[int(1)].x;
    float _S4451 = 2.0f * _S4444.rows[int(0)].z;
    float _S4452 = 2.0f * _S4444.rows[int(0)].y;
    float _S4453 = 2.0f * - _S4444.rows[int(0)].x;
    float _S4454 = - _S4450 + _S4452;
    float _S4455 = _S4447 + - _S4451;
    float _S4456 = - _S4446 + _S4448;
    float _S4457 = _S4446 + _S4448;
    float _S4458 = _S4447 + _S4451;
    float _S4459 = _S4450 + _S4452;
    float _S4460 = _S4266.primal_0.w * (_S4449 + _S4453);
    float _S4461 = _S4266.primal_0.z * (_S4445 + _S4453);
    float _S4462 = _S4266.primal_0.y * (_S4445 + _S4449);
    float _S4463 = _S4266.primal_0.x * _S4454 + _S4266.primal_0.z * _S4457 + _S4266.primal_0.y * _S4458 + _S4460 + _S4460;
    float _S4464 = _S4266.primal_0.x * _S4455 + _S4266.primal_0.w * _S4457 + _S4266.primal_0.y * _S4459 + _S4461 + _S4461;
    float _S4465 = _S4266.primal_0.x * _S4456 + _S4266.primal_0.w * _S4458 + _S4266.primal_0.z * _S4459 + _S4462 + _S4462;
    float _S4466 = _S4266.primal_0.w * _S4454 + _S4266.primal_0.z * _S4455 + _S4266.primal_0.y * _S4456;
    float3  _S4467 = _S4272;
    *&((&_S4467)->z) = _S4434;
    *&((&_S4467)->y) = _S4438;
    *&((&_S4467)->x) = _S4442;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4468;
    (&_S4468)->primal_0 = _S4267.primal_0;
    (&_S4468)->differential_0 = _S4272;
    s_bwd_prop_exp_1(&_S4468, _S4467);
    Matrix<float, 2, 2>  _S4469 = _S4405;
    _S4469[int(1)] = _S4414;
    _S4469[int(0)] = _S4416;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4470;
    (&_S4470)->primal_0 = mean_c_40;
    (&_S4470)->differential_0 = _S4272;
    s_bwd_length_impl_1(&_S4470, _S4376);
    float3  _S4471 = _S4470.differential_0 + _S4390;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4472;
    (&_S4472)->primal_0 = _S4270.primal_0;
    (&_S4472)->differential_0 = _S4367;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4473;
    (&_S4473)->primal_0 = _S4265.primal_0;
    (&_S4473)->differential_0 = _S4272;
    s_bwd_prop_mul_1(&_S4472, &_S4473, _S4471);
    float3  _S4474 = _S4471 + _S4370.differential_0;
    dpt_8->primal_0 = (*dpt_8).primal_0;
    dpt_8->differential_0 = _S4474;
    Matrix<float, 3, 3>  _S4475 = _S4417.differential_0 + _S4419.differential_0 + _S4421.differential_0 + _S4423.differential_0 + _S4425.differential_0 + _S4427.differential_0 + _S4429.differential_0 + _S4472.differential_0 + _S4371;
    dpR_9->primal_0 = (*dpR_9).primal_0;
    dpR_9->differential_0 = _S4475;
    dpsv_colors_7->primal_0 = dpsv_colors_7->primal_0;
    dpsv_colors_7->differential_0 = _S4387;
    dpsv_sites_7->primal_0 = dpsv_sites_7->primal_0;
    dpsv_sites_7->differential_0 = _S4389;
    dpin_opacity_7->primal_0 = (*dpin_opacity_7).primal_0;
    dpin_opacity_7->differential_0 = _S4397;
    float3  _S4476 = _S4468.differential_0 + _S4373;
    dpscale_8->primal_0 = (*dpscale_8).primal_0;
    dpscale_8->differential_0 = _S4476;
    float4  _S4477 = make_float4 (0.0f);
    *&((&_S4477)->w) = _S4463;
    *&((&_S4477)->z) = _S4464;
    *&((&_S4477)->y) = _S4465;
    *&((&_S4477)->x) = _S4466;
    dpquat_8->primal_0 = (*dpquat_8).primal_0;
    dpquat_8->differential_0 = _S4477;
    float3  _S4478 = _S4418.differential_0 + _S4424.differential_0 + _S4420.differential_0 + _S4426.differential_0 + _S4422.differential_0 + _S4428.differential_0 + _S4473.differential_0 + _S4365;
    dpmean_9->primal_0 = (*dpmean_9).primal_0;
    dpmean_9->differential_0 = _S4478;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_1(bool _S4479, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4480, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4481, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4482, DiffPair_float_0 * _S4483, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4484, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S4485, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4486, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4487, float _S4488, float _S4489, float _S4490, float _S4491, FixedArray<float, 10>  * _S4492, uint _S4493, uint _S4494, float _S4495, float _S4496, float2  _S4497, float _S4498, float3  _S4499, float _S4500, float3  _S4501)
{
    FixedArray<float3 , 3>  _S4502 = _S4484->primal_0;
    FixedArray<float3 , 3>  _S4503 = _S4485->primal_0;
    int4  _S4504;
    float2  _S4505;
    float _S4506;
    float3  _S4507;
    float _S4508;
    float3  _S4509;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S4510;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_1(_S4479, (*_S4480).primal_0, (*_S4481).primal_0, (*_S4482).primal_0, (*_S4483).primal_0, &_S4502, &_S4503, (*_S4486).primal_0, (*_S4487).primal_0, _S4488, _S4489, _S4490, _S4491, _S4492, _S4493, _S4494, _S4495, _S4496, &_S4504, &_S4505, &_S4506, &_S4507, &_S4508, &_S4509, &_S4510);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_1 _S4511 = _S4510;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_1(_S4479, _S4480, _S4481, _S4482, _S4483, _S4484, _S4485, _S4486, _S4487, _S4488, _S4489, _S4490, _S4491, _S4492, _S4493, _S4494, _S4495, _S4496, _S4497, _S4498, _S4499, _S4500, _S4501, &_S4511);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_44, float3  mean_41, float4  quat_42, float3  scale_41, float in_opacity_36, FixedArray<float3 , 3>  * sv_sites_21, FixedArray<float3 , 3>  * sv_colors_21, Matrix<float, 3, 3>  R_43, float3  t_39, float fx_53, float fy_53, float cx_48, float cy_48, FixedArray<float, 10>  * dist_coeffs_57, uint image_width_44, uint image_height_44, float2  v_mean2d_8, float v_depth_9, float3  v_conic_8, float v_opacity_10, float3  v_rgb_9, float3  * v_mean_10, float4  * v_quat_9, float3  * v_scale_9, float * v_in_opacity_8, FixedArray<float3 , 3>  * v_sv_dirs_3, FixedArray<float3 , 3>  * v_sv_colors_3, Matrix<float, 3, 3>  * v_R_10, float3  * v_t_9)
{
    float3  _S4512 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_5;
    (&dp_mean_5)->primal_0 = mean_41;
    (&dp_mean_5)->differential_0 = _S4512;
    float4  _S4513 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_4;
    (&dp_quat_4)->primal_0 = quat_42;
    (&dp_quat_4)->differential_0 = _S4513;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_4;
    (&dp_scale_4)->primal_0 = scale_41;
    (&dp_scale_4)->differential_0 = _S4512;
    DiffPair_float_0 dp_in_opacity_3;
    (&dp_in_opacity_3)->primal_0 = in_opacity_36;
    (&dp_in_opacity_3)->differential_0 = 0.0f;
    FixedArray<float3 , 3>  _S4514 = { _S4512, _S4512, _S4512 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_dirs_3;
    (&dp_sv_dirs_3)->primal_0 = *sv_sites_21;
    (&dp_sv_dirs_3)->differential_0 = _S4514;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_sv_colors_3;
    (&dp_sv_colors_3)->primal_0 = *sv_colors_21;
    (&dp_sv_colors_3)->differential_0 = _S4514;
    Matrix<float, 3, 3>  _S4515 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_5;
    (&dp_R_5)->primal_0 = R_43;
    (&dp_R_5)->differential_0 = _S4515;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_4;
    (&dp_t_4)->primal_0 = t_39;
    (&dp_t_4)->differential_0 = _S4512;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_1(antialiased_44, &dp_mean_5, &dp_quat_4, &dp_scale_4, &dp_in_opacity_3, &dp_sv_dirs_3, &dp_sv_colors_3, &dp_R_5, &dp_t_4, fx_53, fy_53, cx_48, cy_48, dist_coeffs_57, image_width_44, image_height_44, 0.0f, 1.00000001504746622e+30f, v_mean2d_8, v_depth_9, v_conic_8, v_opacity_10, v_rgb_9);
    *v_mean_10 = dp_mean_5.differential_0;
    *v_quat_9 = dp_quat_4.differential_0;
    *v_scale_9 = dp_scale_4.differential_0;
    *v_in_opacity_8 = dp_in_opacity_3.differential_0;
    *v_sv_dirs_3 = (&dp_sv_dirs_3)->differential_0;
    *v_sv_colors_3 = (&dp_sv_colors_3)->differential_0;
    *v_R_10 = dp_R_5.differential_0;
    *v_t_9 = dp_t_4.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_45, float3  mean_42, float4  quat_43, float3  scale_42, float in_opacity_37, FixedArray<float3 , 4>  * sv_sites_22, FixedArray<float3 , 4>  * sv_colors_22, Matrix<float, 3, 3>  R_44, float3  t_40, float fx_54, float fy_54, float cx_49, float cy_49, FixedArray<float, 10>  * dist_coeffs_58, uint image_width_45, uint image_height_45, float near_plane_36, float far_plane_36, int4  * aabb_xyxy_32, float2  * mean2d_36, float * depth_29, float3  * conic_28, float * opacity_32, float3  * rgb_30)
{
    float3  mean_c_41 = mul_0(R_44, mean_42) + t_40;
    float4  intrins_36 = make_float4 (fx_54, fy_54, cx_49, cy_49);
    float3  _S4516 = exp_0(scale_42);
    float x_59 = quat_43.y;
    float x2_47 = x_59 * x_59;
    float y2_47 = quat_43.z * quat_43.z;
    float z2_62 = quat_43.w * quat_43.w;
    float xy_47 = quat_43.y * quat_43.z;
    float xz_47 = quat_43.y * quat_43.w;
    float yz_47 = quat_43.z * quat_43.w;
    float wx_47 = quat_43.x * quat_43.y;
    float wy_47 = quat_43.x * quat_43.z;
    float wz_47 = quat_43.x * quat_43.w;
    Matrix<float, 3, 3>  _S4517 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_47 + z2_62), 2.0f * (xy_47 + wz_47), 2.0f * (xz_47 - wy_47), 2.0f * (xy_47 - wz_47), 1.0f - 2.0f * (x2_47 + z2_62), 2.0f * (yz_47 + wx_47), 2.0f * (xz_47 + wy_47), 2.0f * (yz_47 - wx_47), 1.0f - 2.0f * (x2_47 + y2_47))));
    SigmaPoints_0 ret_22;
    (&ret_22)->p_0[int(0)] = mean_42;
    (&ret_22)->w_mean_0[int(0)] = 0.0f;
    (&ret_22)->w_cov_0[int(0)] = 2.0f;
    float _S4518 = (F32_sqrt((3.0f)));
    float3  delta_96 = make_float3 (_S4518 * _S4516.x) * _S4517.rows[0U];
    float3  _S4519 = mean_42 + delta_96;
    float3  _S4520 = mean_42 - delta_96;
    float3  delta_97 = make_float3 (_S4518 * _S4516.y) * _S4517.rows[1U];
    float3  _S4521 = mean_42 + delta_97;
    float3  _S4522 = mean_42 - delta_97;
    float3  delta_98 = make_float3 (_S4518 * _S4516.z) * _S4517.rows[2U];
    float3  _S4523 = mean_42 + delta_98;
    float3  _S4524 = mean_42 - delta_98;
    (&ret_22)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_22)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_22)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_22)->p_0[0U] = mul_0(R_44, (&ret_22)->p_0[0U]) + t_40;
    (&ret_22)->p_0[1U] = mul_0(R_44, _S4519) + t_40;
    (&ret_22)->p_0[2U] = mul_0(R_44, _S4521) + t_40;
    (&ret_22)->p_0[3U] = mul_0(R_44, _S4523) + t_40;
    (&ret_22)->p_0[4U] = mul_0(R_44, _S4520) + t_40;
    (&ret_22)->p_0[5U] = mul_0(R_44, _S4522) + t_40;
    (&ret_22)->p_0[6U] = mul_0(R_44, _S4524) + t_40;
    SigmaPoints_0 _S4525 = ret_22;
    Matrix<float, 2, 2>  covar2d_28;
    bool _S4526 = persp_proj_3dgs_ut_1(&_S4525, intrins_36, dist_coeffs_58, image_width_45, image_height_45, &covar2d_28, mean2d_36);
    float det_orig_42 = *&(((&covar2d_28)->rows + (int(0)))->x) * *&(((&covar2d_28)->rows + (int(1)))->y) - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x);
    float _S4527 = *&(((&covar2d_28)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(0)))->x) = _S4527;
    float _S4528 = *&(((&covar2d_28)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_28)->rows + (int(1)))->y) = _S4528;
    float compensation_29 = (F32_sqrt(((F32_max((0.0f), (det_orig_42 / (_S4527 * _S4528 - *&(((&covar2d_28)->rows + (int(0)))->y) * *&(((&covar2d_28)->rows + (int(1)))->x))))))));
    *opacity_32 = 1.0f / (1.0f + (F32_exp((- in_opacity_37))));
    if(antialiased_45)
    {
        *opacity_32 = *opacity_32 * compensation_29;
    }
    float extend_28 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_32 / 0.00392156885936856f)))))))));
    float radius_x_32 = extend_28 * (F32_sqrt((covar2d_28[int(0)].x)));
    float radius_y_32 = extend_28 * (F32_sqrt((covar2d_28[int(1)].y)));
    *aabb_xyxy_32 = make_int4 (int((F32_floor(((*mean2d_36).x - radius_x_32)))), int((F32_floor(((*mean2d_36).y - radius_y_32)))), int((F32_ceil(((*mean2d_36).x + radius_x_32)))), int((F32_ceil(((*mean2d_36).y + radius_y_32)))));
    float _S4529 = mean_c_41.z;
    *depth_29 = (F32_max((_S4529), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4529 + length_1(mean_c_41)))));
    *conic_28 = exp_0(- scale_42);
    float3  _S4530 = mean_42 - - mul_0(transpose_0(R_44), t_40);
    float3  _S4531 = _S4530 * make_float3 ((F32_rsqrt((dot_0(_S4530, _S4530)))));
    float _S4532 = dot_0((*sv_sites_22)[int(3)], _S4531);
    float w_80 = (F32_exp((dot_0((*sv_sites_22)[int(0)], _S4531) - _S4532)));
    float w_81 = (F32_exp((dot_0((*sv_sites_22)[int(1)], _S4531) - _S4532)));
    float w_82 = (F32_exp((dot_0((*sv_sites_22)[int(2)], _S4531) - _S4532)));
    float w_83 = (F32_exp((0.0f)));
    *rgb_30 = max_0((make_float3 (w_80) * (*sv_colors_22)[int(0)] + make_float3 (w_81) * (*sv_colors_22)[int(1)] + make_float3 (w_82) * (*sv_colors_22)[int(2)] + make_float3 (w_83) * (*sv_colors_22)[int(3)]) / make_float3 (w_80 + w_81 + w_82 + w_83) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_46, float3  mean_43, float4  quat_44, float3  scale_43, float in_opacity_38, FixedArray<float3 , 4>  * sv_sites_23, FixedArray<float3 , 4>  * sv_colors_23, Matrix<float, 3, 3>  R_45, float3  t_41, float fx_55, float fy_55, float cx_50, float cy_50, FixedArray<float, 10>  * dist_coeffs_59, uint image_width_46, uint image_height_46, float near_plane_37, float far_plane_37, int4  * aabb_xyxy_33, float2  * mean2d_37, float * depth_30, float3  * conic_29, float * opacity_33, float3  * rgb_31)
{
    float3  mean_c_42 = mul_0(R_45, mean_43) + t_41;
    float4  intrins_37 = make_float4 (fx_55, fy_55, cx_50, cy_50);
    float3  _S4533 = exp_0(scale_43);
    float x_60 = quat_44.y;
    float x2_48 = x_60 * x_60;
    float y2_48 = quat_44.z * quat_44.z;
    float z2_63 = quat_44.w * quat_44.w;
    float xy_48 = quat_44.y * quat_44.z;
    float xz_48 = quat_44.y * quat_44.w;
    float yz_48 = quat_44.z * quat_44.w;
    float wx_48 = quat_44.x * quat_44.y;
    float wy_48 = quat_44.x * quat_44.z;
    float wz_48 = quat_44.x * quat_44.w;
    Matrix<float, 3, 3>  _S4534 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_48 + z2_63), 2.0f * (xy_48 + wz_48), 2.0f * (xz_48 - wy_48), 2.0f * (xy_48 - wz_48), 1.0f - 2.0f * (x2_48 + z2_63), 2.0f * (yz_48 + wx_48), 2.0f * (xz_48 + wy_48), 2.0f * (yz_48 - wx_48), 1.0f - 2.0f * (x2_48 + y2_48))));
    SigmaPoints_0 ret_23;
    (&ret_23)->p_0[int(0)] = mean_43;
    (&ret_23)->w_mean_0[int(0)] = 0.0f;
    (&ret_23)->w_cov_0[int(0)] = 2.0f;
    float _S4535 = (F32_sqrt((3.0f)));
    float3  delta_99 = make_float3 (_S4535 * _S4533.x) * _S4534.rows[0U];
    float3  _S4536 = mean_43 + delta_99;
    float3  _S4537 = mean_43 - delta_99;
    float3  delta_100 = make_float3 (_S4535 * _S4533.y) * _S4534.rows[1U];
    float3  _S4538 = mean_43 + delta_100;
    float3  _S4539 = mean_43 - delta_100;
    float3  delta_101 = make_float3 (_S4535 * _S4533.z) * _S4534.rows[2U];
    float3  _S4540 = mean_43 + delta_101;
    float3  _S4541 = mean_43 - delta_101;
    (&ret_23)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_23)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_23)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_23)->p_0[0U] = mul_0(R_45, (&ret_23)->p_0[0U]) + t_41;
    (&ret_23)->p_0[1U] = mul_0(R_45, _S4536) + t_41;
    (&ret_23)->p_0[2U] = mul_0(R_45, _S4538) + t_41;
    (&ret_23)->p_0[3U] = mul_0(R_45, _S4540) + t_41;
    (&ret_23)->p_0[4U] = mul_0(R_45, _S4537) + t_41;
    (&ret_23)->p_0[5U] = mul_0(R_45, _S4539) + t_41;
    (&ret_23)->p_0[6U] = mul_0(R_45, _S4541) + t_41;
    SigmaPoints_0 _S4542 = ret_23;
    Matrix<float, 2, 2>  covar2d_29;
    bool _S4543 = fisheye_proj_3dgs_ut_1(&_S4542, intrins_37, dist_coeffs_59, &covar2d_29, mean2d_37);
    float det_orig_43 = *&(((&covar2d_29)->rows + (int(0)))->x) * *&(((&covar2d_29)->rows + (int(1)))->y) - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x);
    float _S4544 = *&(((&covar2d_29)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(0)))->x) = _S4544;
    float _S4545 = *&(((&covar2d_29)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_29)->rows + (int(1)))->y) = _S4545;
    float compensation_30 = (F32_sqrt(((F32_max((0.0f), (det_orig_43 / (_S4544 * _S4545 - *&(((&covar2d_29)->rows + (int(0)))->y) * *&(((&covar2d_29)->rows + (int(1)))->x))))))));
    *opacity_33 = 1.0f / (1.0f + (F32_exp((- in_opacity_38))));
    if(antialiased_46)
    {
        *opacity_33 = *opacity_33 * compensation_30;
    }
    float extend_29 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_33 / 0.00392156885936856f)))))))));
    float radius_x_33 = extend_29 * (F32_sqrt((covar2d_29[int(0)].x)));
    float radius_y_33 = extend_29 * (F32_sqrt((covar2d_29[int(1)].y)));
    *aabb_xyxy_33 = make_int4 (int((F32_floor(((*mean2d_37).x - radius_x_33)))), int((F32_floor(((*mean2d_37).y - radius_y_33)))), int((F32_ceil(((*mean2d_37).x + radius_x_33)))), int((F32_ceil(((*mean2d_37).y + radius_y_33)))));
    float _S4546 = mean_c_42.z;
    *depth_30 = (F32_max((_S4546), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S4546 + length_1(mean_c_42)))));
    *conic_29 = exp_0(- scale_43);
    float3  _S4547 = mean_43 - - mul_0(transpose_0(R_45), t_41);
    float3  _S4548 = _S4547 * make_float3 ((F32_rsqrt((dot_0(_S4547, _S4547)))));
    float _S4549 = dot_0((*sv_sites_23)[int(3)], _S4548);
    float w_84 = (F32_exp((dot_0((*sv_sites_23)[int(0)], _S4548) - _S4549)));
    float w_85 = (F32_exp((dot_0((*sv_sites_23)[int(1)], _S4548) - _S4549)));
    float w_86 = (F32_exp((dot_0((*sv_sites_23)[int(2)], _S4548) - _S4549)));
    float w_87 = (F32_exp((0.0f)));
    *rgb_31 = max_0((make_float3 (w_84) * (*sv_colors_23)[int(0)] + make_float3 (w_85) * (*sv_colors_23)[int(1)] + make_float3 (w_86) * (*sv_colors_23)[int(2)] + make_float3 (w_87) * (*sv_colors_23)[int(3)]) / make_float3 (w_84 + w_85 + w_86 + w_87) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0
{
    FixedArray<float3 , 4>  primal_0;
    FixedArray<float3 , 4>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S4550;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(bool antialiased_47, float3  dpmean_10, float4  dpquat_9, float3  dpscale_9, float dpin_opacity_8, FixedArray<float3 , 4>  * dpsv_sites_8, FixedArray<float3 , 4>  * dpsv_colors_8, Matrix<float, 3, 3>  dpR_10, float3  dpt_9, float fx_56, float fy_56, float cx_51, float cy_51, FixedArray<float, 10>  * dist_coeffs_60, uint image_width_47, uint image_height_47, float near_plane_38, float far_plane_38, int4  * aabb_xyxy_34, float2  * dpmean2d_10, float * dpdepth_9, float3  * dpconic_8, float * dpopacity_10, float3  * dprgb_9, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_22)
{
    Matrix<float, 2, 2>  _S4551 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_22->_S4550 = _S4551;
    float2  _S4552 = make_float2 (0.0f);
    float3  _S4553 = make_float3 (0.0f);
    float3  mean_c_43 = s_primal_ctx_mul_0(dpR_10, dpmean_10) + dpt_9;
    float4  intrins_38 = make_float4 (fx_56, fy_56, cx_51, cy_51);
    float3  _S4554 = s_primal_ctx_exp_0(dpscale_9);
    float _S4555 = dpquat_9.y;
    float x2_49 = _S4555 * _S4555;
    float y2_49 = dpquat_9.z * dpquat_9.z;
    float z2_64 = dpquat_9.w * dpquat_9.w;
    float xy_49 = dpquat_9.y * dpquat_9.z;
    float xz_49 = dpquat_9.y * dpquat_9.w;
    float yz_49 = dpquat_9.z * dpquat_9.w;
    float wx_49 = dpquat_9.x * dpquat_9.y;
    float wy_49 = dpquat_9.x * dpquat_9.z;
    float wz_49 = dpquat_9.x * dpquat_9.w;
    Matrix<float, 3, 3>  _S4556 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_49 + z2_64), 2.0f * (xy_49 + wz_49), 2.0f * (xz_49 - wy_49), 2.0f * (xy_49 - wz_49), 1.0f - 2.0f * (x2_49 + z2_64), 2.0f * (yz_49 + wx_49), 2.0f * (xz_49 + wy_49), 2.0f * (yz_49 - wx_49), 1.0f - 2.0f * (x2_49 + y2_49))));
    FixedArray<float3 , 7>  _S4557 = {
        _S4553, _S4553, _S4553, _S4553, _S4553, _S4553, _S4553
    };
    FixedArray<float, 7>  _S4558 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4559;
    (&_S4559)->p_0 = _S4557;
    (&_S4559)->w_mean_0 = _S4558;
    (&_S4559)->w_cov_0 = _S4558;
    (&_S4559)->p_0[int(0)] = dpmean_10;
    SigmaPoints_0 _S4560 = _S4559;
    (&_S4560)->w_mean_0[int(0)] = 0.0f;
    (&_S4560)->w_cov_0[int(0)] = 2.0f;
    float _S4561 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_102 = make_float3 (_S4561 * _S4554.x) * _S4556.rows[0U];
    float3  _S4562 = dpmean_10 + delta_102;
    float3  _S4563 = dpmean_10 - delta_102;
    float3  delta_103 = make_float3 (_S4561 * _S4554.y) * _S4556.rows[1U];
    float3  _S4564 = dpmean_10 + delta_103;
    float3  _S4565 = dpmean_10 - delta_103;
    float3  delta_104 = make_float3 (_S4561 * _S4554.z) * _S4556.rows[2U];
    float3  _S4566 = dpmean_10 + delta_104;
    float3  _S4567 = dpmean_10 - delta_104;
    (&_S4560)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4560)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4560)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4560)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4560)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4560)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4560)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4560)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4560)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4560)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4560)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4560)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4560)->p_0[0U] = s_primal_ctx_mul_0(dpR_10, _S4559.p_0[0U]) + dpt_9;
    (&_S4560)->p_0[1U] = s_primal_ctx_mul_0(dpR_10, _S4562) + dpt_9;
    (&_S4560)->p_0[2U] = s_primal_ctx_mul_0(dpR_10, _S4564) + dpt_9;
    (&_S4560)->p_0[3U] = s_primal_ctx_mul_0(dpR_10, _S4566) + dpt_9;
    (&_S4560)->p_0[4U] = s_primal_ctx_mul_0(dpR_10, _S4563) + dpt_9;
    (&_S4560)->p_0[5U] = s_primal_ctx_mul_0(dpR_10, _S4565) + dpt_9;
    (&_S4560)->p_0[6U] = s_primal_ctx_mul_0(dpR_10, _S4567) + dpt_9;
    float2  _S4568 = _S4552;
    Matrix<float, 2, 2>  _S4569 = _S4551;
    SigmaPoints_0 _S4570 = _S4560;
    bool _S4571 = persp_proj_3dgs_ut_1(&_S4570, intrins_38, dist_coeffs_60, image_width_47, image_height_47, &_S4569, &_S4568);
    _s_diff_ctx_22->_S4550 = _S4569;
    float2  _S4572 = _S4568;
    float _S4573 = _S4569.rows[int(0)].y * _S4569.rows[int(1)].x;
    float det_orig_44 = _S4569.rows[int(0)].x * _S4569.rows[int(1)].y - _S4573;
    float _S4574 = _S4569.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4575 = _S4569;
    *&(((&_S4575)->rows + (int(0)))->x) = _S4574;
    float _S4576 = _S4569.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4575)->rows + (int(1)))->y) = _S4576;
    Matrix<float, 2, 2>  _S4577 = _S4575;
    Matrix<float, 2, 2>  _S4578 = _S4575;
    float _S4579 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_44 / (_S4574 * _S4576 - _S4573)));
    float _S4580 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_8));
    float _S4581;
    if(antialiased_47)
    {
        _S4581 = _S4580 * _S4579;
    }
    else
    {
        _S4581 = _S4580;
    }
    float _S4582 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4581 / 0.00392156885936856f)));
    float radius_x_34 = _S4582 * s_primal_ctx_sqrt_0(_S4577.rows[int(0)].x);
    float radius_y_34 = _S4582 * s_primal_ctx_sqrt_0(_S4578.rows[int(1)].y);
    float _S4583 = _S4572.x;
    float _S4584 = _S4572.y;
    float _S4585 = mean_c_43.z;
    float _S4586 = s_primal_ctx_max_0(_S4585, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4585 + length_1(mean_c_43)));
    float3  _S4587 = s_primal_ctx_exp_0(- dpscale_9);
    float3  _S4588 = dpmean_10 - - s_primal_ctx_mul_0(transpose_0(dpR_10), dpt_9);
    float3  _S4589 = _S4588 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4588, _S4588)));
    float _S4590 = s_primal_ctx_dot_0((*dpsv_sites_8)[int(3)], _S4589);
    float _S4591 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(0)], _S4589) - _S4590);
    float _S4592 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(1)], _S4589) - _S4590);
    float _S4593 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_8)[int(2)], _S4589) - _S4590);
    float _S4594 = s_primal_ctx_exp_1(0.0f);
    float3  _S4595 = s_primal_ctx_max_1((make_float3 (_S4591) * (*dpsv_colors_8)[int(0)] + make_float3 (_S4592) * (*dpsv_colors_8)[int(1)] + make_float3 (_S4593) * (*dpsv_colors_8)[int(2)] + make_float3 (_S4594) * (*dpsv_colors_8)[int(3)]) / make_float3 (_S4591 + _S4592 + _S4593 + _S4594) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_34 = make_int4 (int((F32_floor((_S4583 - radius_x_34)))), int((F32_floor((_S4584 - radius_y_34)))), int((F32_ceil((_S4583 + radius_x_34)))), int((F32_ceil((_S4584 + radius_y_34)))));
    *dpmean2d_10 = _S4572;
    *dpdepth_9 = _S4586;
    *dpconic_8 = _S4587;
    *dpopacity_10 = _S4581;
    *dprgb_9 = _S4595;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(bool antialiased_48, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_11, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_10, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_10, DiffPair_float_0 * dpin_opacity_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_9, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_9, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_11, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_10, float fx_57, float fy_57, float cx_52, float cy_52, FixedArray<float, 10>  * dist_coeffs_61, uint image_width_48, uint image_height_48, float near_plane_39, float far_plane_39, float2  dpmean2d_11, float dpdepth_10, float3  dpconic_9, float dpopacity_11, float3  dprgb_10, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 * _s_diff_ctx_23)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4596 = *dpmean_11;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4597 = *dpquat_10;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4598 = *dpscale_10;
    FixedArray<float3 , 4>  _S4599 = dpsv_sites_9->primal_0;
    FixedArray<float3 , 4>  _S4600 = dpsv_colors_9->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4601 = *dpR_11;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4602 = *dpt_10;
    float3  _S4603 = make_float3 (0.0f);
    float3  mean_c_44 = s_primal_ctx_mul_0((*dpR_11).primal_0, (*dpmean_11).primal_0) + (*dpt_10).primal_0;
    float3  _S4604 = s_primal_ctx_exp_0((*dpscale_10).primal_0);
    float _S4605 = (*dpquat_10).primal_0.y;
    float x2_50 = _S4605 * _S4605;
    float y2_50 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.z;
    float z2_65 = (*dpquat_10).primal_0.w * (*dpquat_10).primal_0.w;
    float xy_50 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.z;
    float xz_50 = (*dpquat_10).primal_0.y * (*dpquat_10).primal_0.w;
    float yz_50 = (*dpquat_10).primal_0.z * (*dpquat_10).primal_0.w;
    float wx_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.y;
    float wy_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.z;
    float wz_50 = (*dpquat_10).primal_0.x * (*dpquat_10).primal_0.w;
    Matrix<float, 3, 3>  _S4606 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_50 + z2_65), 2.0f * (xy_50 + wz_50), 2.0f * (xz_50 - wy_50), 2.0f * (xy_50 - wz_50), 1.0f - 2.0f * (x2_50 + z2_65), 2.0f * (yz_50 + wx_50), 2.0f * (xz_50 + wy_50), 2.0f * (yz_50 - wx_50), 1.0f - 2.0f * (x2_50 + y2_50))));
    FixedArray<float3 , 7>  _S4607 = {
        _S4603, _S4603, _S4603, _S4603, _S4603, _S4603, _S4603
    };
    FixedArray<float, 7>  _S4608 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4609;
    (&_S4609)->p_0 = _S4607;
    (&_S4609)->w_mean_0 = _S4608;
    (&_S4609)->w_cov_0 = _S4608;
    (&_S4609)->p_0[int(0)] = (*dpmean_11).primal_0;
    float _S4610 = s_primal_ctx_sqrt_0(3.0f);
    float _S4611 = _S4610 * _S4604.x;
    float3  _S4612 = make_float3 (_S4611);
    float3  delta_105 = make_float3 (_S4611) * _S4606.rows[0U];
    float3  _S4613 = (*dpmean_11).primal_0 + delta_105;
    float3  _S4614 = (*dpmean_11).primal_0 - delta_105;
    float _S4615 = _S4610 * _S4604.y;
    float3  _S4616 = make_float3 (_S4615);
    float3  delta_106 = make_float3 (_S4615) * _S4606.rows[1U];
    float3  _S4617 = (*dpmean_11).primal_0 + delta_106;
    float3  _S4618 = (*dpmean_11).primal_0 - delta_106;
    float _S4619 = _S4610 * _S4604.z;
    float3  _S4620 = make_float3 (_S4619);
    float3  delta_107 = make_float3 (_S4619) * _S4606.rows[2U];
    float3  _S4621 = (*dpmean_11).primal_0 + delta_107;
    float3  _S4622 = (*dpmean_11).primal_0 - delta_107;
    SigmaPoints_0 _S4623 = _S4609;
    float _S4624 = *&(((&_s_diff_ctx_23->_S4550)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_23->_S4550)->rows + (int(1)))->x);
    float det_orig_45 = *&(((&_s_diff_ctx_23->_S4550)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_23->_S4550)->rows + (int(1)))->y) - _S4624;
    float _S4625 = *&(((&_s_diff_ctx_23->_S4550)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4626 = _s_diff_ctx_23->_S4550;
    *&(((&_S4626)->rows + (int(0)))->x) = _S4625;
    float _S4627 = *&(((&_s_diff_ctx_23->_S4550)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4626)->rows + (int(1)))->y) = _S4627;
    Matrix<float, 2, 2>  _S4628 = _S4626;
    Matrix<float, 2, 2>  _S4629 = _S4626;
    float det_blur_29 = _S4625 * _S4627 - _S4624;
    float _S4630 = det_orig_45 / det_blur_29;
    float _S4631 = det_blur_29 * det_blur_29;
    float _S4632 = s_primal_ctx_max_0(0.0f, _S4630);
    float _S4633 = s_primal_ctx_sqrt_0(_S4632);
    float _S4634 = - (*dpin_opacity_9).primal_0;
    float _S4635 = 1.0f + s_primal_ctx_exp_1(_S4634);
    float _S4636 = 1.0f / _S4635;
    float _S4637 = _S4635 * _S4635;
    float _S4638;
    if(antialiased_48)
    {
        _S4638 = _S4636 * _S4633;
    }
    else
    {
        _S4638 = _S4636;
    }
    float _S4639 = _S4638 / 0.00392156885936856f;
    float _S4640 = 2.0f * s_primal_ctx_log_0(_S4639);
    float _S4641 = s_primal_ctx_sqrt_0(_S4640);
    float _S4642 = _S4628.rows[int(0)].x;
    float _S4643 = _S4629.rows[int(1)].y;
    float _S4644 = mean_c_44.z;
    float _S4645 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4646 = _S4645 * (_S4644 + length_1(mean_c_44));
    float3  _S4647 = - _S4598.primal_0;
    Matrix<float, 3, 3>  _S4648 = transpose_0(_S4601.primal_0);
    float3  _S4649 = _S4596.primal_0 - - s_primal_ctx_mul_0(_S4648, _S4602.primal_0);
    float _S4650 = s_primal_ctx_dot_0(_S4649, _S4649);
    float _S4651 = s_primal_ctx_rsqrt_0(_S4650);
    float3  _S4652 = make_float3 (_S4651);
    float3  _S4653 = _S4649 * make_float3 (_S4651);
    float _S4654 = s_primal_ctx_dot_0(_S4599[int(3)], _S4653);
    float _S4655 = s_primal_ctx_dot_0(_S4599[int(0)], _S4653) - _S4654;
    float _S4656 = s_primal_ctx_exp_1(_S4655);
    float3  _S4657 = make_float3 (_S4656);
    float _S4658 = s_primal_ctx_dot_0(_S4599[int(1)], _S4653) - _S4654;
    float _S4659 = s_primal_ctx_exp_1(_S4658);
    float3  _S4660 = make_float3 (_S4659);
    float _S4661 = s_primal_ctx_dot_0(_S4599[int(2)], _S4653) - _S4654;
    float _S4662 = s_primal_ctx_exp_1(_S4661);
    float3  _S4663 = make_float3 (_S4662);
    float _S4664 = s_primal_ctx_exp_1(0.0f);
    float3  _S4665 = make_float3 (_S4664);
    float total_w_4 = _S4656 + _S4659 + _S4662 + _S4664;
    float3  _S4666 = make_float3 (total_w_4);
    float3  total_c_4 = make_float3 (_S4656) * _S4600[int(0)] + make_float3 (_S4659) * _S4600[int(1)] + make_float3 (_S4662) * _S4600[int(2)] + make_float3 (_S4664) * _S4600[int(3)];
    float3  _S4667 = make_float3 (total_w_4 * total_w_4);
    float3  _S4668 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4669;
    (&_S4669)->primal_0 = total_c_4 / make_float3 (total_w_4) + make_float3 (0.5f);
    (&_S4669)->differential_0 = _S4603;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4670;
    (&_S4670)->primal_0 = _S4668;
    (&_S4670)->differential_0 = _S4603;
    s_bwd_prop_max_0(&_S4669, &_S4670, dprgb_10);
    float3  _S4671 = _S4669.differential_0 / _S4667;
    float3  _S4672 = total_c_4 * - _S4671;
    float3  s_diff_total_c_T_4 = _S4666 * _S4671;
    float3  _S4673 = _S4665 * s_diff_total_c_T_4;
    float _S4674 = _S4672.x + _S4672.y + _S4672.z;
    float3  _S4675 = _S4663 * s_diff_total_c_T_4;
    float3  _S4676 = _S4600[int(2)] * s_diff_total_c_T_4;
    float _S4677 = _S4674 + _S4676.x + _S4676.y + _S4676.z;
    DiffPair_float_0 _S4678;
    (&_S4678)->primal_0 = _S4661;
    (&_S4678)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4678, _S4677);
    float _S4679 = - _S4678.differential_0;
    float3  _S4680 = _S4660 * s_diff_total_c_T_4;
    float3  _S4681 = _S4600[int(1)] * s_diff_total_c_T_4;
    float _S4682 = _S4674 + _S4681.x + _S4681.y + _S4681.z;
    DiffPair_float_0 _S4683;
    (&_S4683)->primal_0 = _S4658;
    (&_S4683)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4683, _S4682);
    float _S4684 = - _S4683.differential_0;
    float3  _S4685 = _S4657 * s_diff_total_c_T_4;
    float3  _S4686 = _S4600[int(0)] * s_diff_total_c_T_4;
    float _S4687 = _S4674 + _S4686.x + _S4686.y + _S4686.z;
    DiffPair_float_0 _S4688;
    (&_S4688)->primal_0 = _S4655;
    (&_S4688)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4688, _S4687);
    float _S4689 = _S4679 + _S4684 + - _S4688.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4690;
    (&_S4690)->primal_0 = _S4599[int(3)];
    (&_S4690)->differential_0 = _S4603;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4691;
    (&_S4691)->primal_0 = _S4653;
    (&_S4691)->differential_0 = _S4603;
    s_bwd_prop_dot_0(&_S4690, &_S4691, _S4689);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4692;
    (&_S4692)->primal_0 = _S4599[int(2)];
    (&_S4692)->differential_0 = _S4603;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4693;
    (&_S4693)->primal_0 = _S4653;
    (&_S4693)->differential_0 = _S4603;
    s_bwd_prop_dot_0(&_S4692, &_S4693, _S4678.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4694;
    (&_S4694)->primal_0 = _S4599[int(1)];
    (&_S4694)->differential_0 = _S4603;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4695;
    (&_S4695)->primal_0 = _S4653;
    (&_S4695)->differential_0 = _S4603;
    s_bwd_prop_dot_0(&_S4694, &_S4695, _S4683.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4696;
    (&_S4696)->primal_0 = _S4599[int(0)];
    (&_S4696)->differential_0 = _S4603;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4697;
    (&_S4697)->primal_0 = _S4653;
    (&_S4697)->differential_0 = _S4603;
    s_bwd_prop_dot_0(&_S4696, &_S4697, _S4688.differential_0);
    float3  _S4698 = _S4691.differential_0 + _S4693.differential_0 + _S4695.differential_0 + _S4697.differential_0;
    float3  _S4699 = _S4649 * _S4698;
    float3  _S4700 = _S4652 * _S4698;
    float _S4701 = _S4699.x + _S4699.y + _S4699.z;
    DiffPair_float_0 _S4702;
    (&_S4702)->primal_0 = _S4650;
    (&_S4702)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S4702, _S4701);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4703;
    (&_S4703)->primal_0 = _S4649;
    (&_S4703)->differential_0 = _S4603;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4704;
    (&_S4704)->primal_0 = _S4649;
    (&_S4704)->differential_0 = _S4603;
    s_bwd_prop_dot_0(&_S4703, &_S4704, _S4702.differential_0);
    float3  _S4705 = _S4700 + _S4704.differential_0 + _S4703.differential_0;
    float3  _S4706 = - - _S4705;
    Matrix<float, 3, 3>  _S4707 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4708;
    (&_S4708)->primal_0 = _S4648;
    (&_S4708)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4709;
    (&_S4709)->primal_0 = _S4602.primal_0;
    (&_S4709)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4708, &_S4709, _S4706);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4710 = _S4709;
    Matrix<float, 3, 3>  _S4711 = transpose_0(_S4708.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4712;
    (&_S4712)->primal_0 = _S4647;
    (&_S4712)->differential_0 = _S4603;
    s_bwd_prop_exp_1(&_S4712, dpconic_9);
    float3  _S4713 = - _S4712.differential_0;
    DiffPair_float_0 _S4714;
    (&_S4714)->primal_0 = _S4644;
    (&_S4714)->differential_0 = 0.0f;
    DiffPair_float_0 _S4715;
    (&_S4715)->primal_0 = _S4646;
    (&_S4715)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4714, &_S4715, dpdepth_10);
    float _S4716 = _S4645 * _S4715.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4717;
    (&_S4717)->primal_0 = mean_c_44;
    (&_S4717)->differential_0 = _S4603;
    s_bwd_length_impl_1(&_S4717, _S4716);
    float _S4718 = _S4714.differential_0 + _S4716;
    DiffPair_float_0 _S4719;
    (&_S4719)->primal_0 = _S4643;
    (&_S4719)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4719, 0.0f);
    DiffPair_float_0 _S4720;
    (&_S4720)->primal_0 = _S4642;
    (&_S4720)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4720, 0.0f);
    DiffPair_float_0 _S4721;
    (&_S4721)->primal_0 = 3.32999992370605469f;
    (&_S4721)->differential_0 = 0.0f;
    DiffPair_float_0 _S4722;
    (&_S4722)->primal_0 = _S4641;
    (&_S4722)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S4721, &_S4722, 0.0f);
    DiffPair_float_0 _S4723;
    (&_S4723)->primal_0 = _S4640;
    (&_S4723)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4723, _S4722.differential_0);
    float _S4724 = 2.0f * _S4723.differential_0;
    DiffPair_float_0 _S4725;
    (&_S4725)->primal_0 = _S4639;
    (&_S4725)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S4725, _S4724);
    float _S4726 = dpopacity_11 + 254.9999847412109375f * _S4725.differential_0;
    FixedArray<float3 , 4>  _S4727;
    _S4727[int(0)] = _S4603;
    _S4727[int(1)] = _S4603;
    _S4727[int(2)] = _S4603;
    _S4727[int(3)] = _S4603;
    _S4727[int(3)] = _S4673;
    _S4727[int(2)] = _S4675;
    _S4727[int(1)] = _S4680;
    _S4727[int(0)] = _S4685;
    FixedArray<float3 , 4>  _S4728 = {
        _S4727[int(0)], _S4727[int(1)], _S4727[int(2)], _S4727[int(3)]
    };
    FixedArray<float3 , 4>  _S4729;
    _S4729[int(0)] = _S4603;
    _S4729[int(1)] = _S4603;
    _S4729[int(2)] = _S4603;
    _S4729[int(3)] = _S4603;
    _S4729[int(3)] = _S4690.differential_0;
    _S4729[int(2)] = _S4692.differential_0;
    _S4729[int(1)] = _S4694.differential_0;
    _S4729[int(0)] = _S4696.differential_0;
    FixedArray<float3 , 4>  _S4730 = {
        _S4729[int(0)], _S4729[int(1)], _S4729[int(2)], _S4729[int(3)]
    };
    float3  _S4731 = _S4717.differential_0 + make_float3 (0.0f, 0.0f, _S4718);
    float2  _S4732 = make_float2 (0.0f, _S4719.differential_0);
    float2  _S4733 = make_float2 (_S4720.differential_0, 0.0f);
    float _S4734;
    if(antialiased_48)
    {
        float _S4735 = _S4636 * _S4726;
        _S4638 = _S4633 * _S4726;
        _S4734 = _S4735;
    }
    else
    {
        _S4638 = _S4726;
        _S4734 = 0.0f;
    }
    float _S4736 = - (_S4638 / _S4637);
    DiffPair_float_0 _S4737;
    (&_S4737)->primal_0 = _S4634;
    (&_S4737)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4737, _S4736);
    float _S4738 = - _S4737.differential_0;
    DiffPair_float_0 _S4739;
    (&_S4739)->primal_0 = _S4632;
    (&_S4739)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S4739, _S4734);
    DiffPair_float_0 _S4740;
    (&_S4740)->primal_0 = 0.0f;
    (&_S4740)->differential_0 = 0.0f;
    DiffPair_float_0 _S4741;
    (&_S4741)->primal_0 = _S4630;
    (&_S4741)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S4740, &_S4741, _S4739.differential_0);
    float _S4742 = _S4741.differential_0 / _S4631;
    float s_diff_det_blur_T_6 = det_orig_45 * - _S4742;
    float s_diff_det_orig_T_9 = det_blur_29 * _S4742;
    float _S4743 = - s_diff_det_blur_T_6;
    float _S4744 = _S4625 * s_diff_det_blur_T_6;
    float _S4745 = _S4627 * s_diff_det_blur_T_6;
    Matrix<float, 2, 2>  _S4746 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S4747 = _S4746;
    _S4747[int(1)] = _S4732;
    _S4747[int(0)] = _S4733;
    float _S4748 = _S4745 + _S4747.rows[int(0)].x;
    float _S4749 = _S4743 + - s_diff_det_orig_T_9;
    float _S4750 = *&(((&_s_diff_ctx_23->_S4550)->rows + (int(0)))->y) * _S4749;
    float _S4751 = *&(((&_s_diff_ctx_23->_S4550)->rows + (int(1)))->x) * _S4749;
    float _S4752 = *&(((&_s_diff_ctx_23->_S4550)->rows + (int(1)))->y) * s_diff_det_orig_T_9;
    float _S4753 = _S4744 + _S4747.rows[int(1)].y + *&(((&_s_diff_ctx_23->_S4550)->rows + (int(0)))->x) * s_diff_det_orig_T_9;
    float2  _S4754 = make_float2 (0.0f);
    float2  _S4755 = _S4754;
    *&((&_S4755)->x) = _S4750;
    *&((&_S4755)->y) = _S4753;
    float _S4756 = _S4748 + _S4752;
    float2  _S4757 = _S4754;
    *&((&_S4757)->y) = _S4751;
    *&((&_S4757)->x) = _S4756;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4758;
    (&_S4758)->primal_0 = _S4601.primal_0;
    (&_S4758)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4759;
    (&_S4759)->primal_0 = _S4622;
    (&_S4759)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4758, &_S4759, _S4603);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4760;
    (&_S4760)->primal_0 = _S4601.primal_0;
    (&_S4760)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4761;
    (&_S4761)->primal_0 = _S4618;
    (&_S4761)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4760, &_S4761, _S4603);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4762;
    (&_S4762)->primal_0 = _S4601.primal_0;
    (&_S4762)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4763;
    (&_S4763)->primal_0 = _S4614;
    (&_S4763)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4762, &_S4763, _S4603);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4764;
    (&_S4764)->primal_0 = _S4601.primal_0;
    (&_S4764)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4765;
    (&_S4765)->primal_0 = _S4621;
    (&_S4765)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4764, &_S4765, _S4603);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4766;
    (&_S4766)->primal_0 = _S4601.primal_0;
    (&_S4766)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4767;
    (&_S4767)->primal_0 = _S4617;
    (&_S4767)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4766, &_S4767, _S4603);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4768;
    (&_S4768)->primal_0 = _S4601.primal_0;
    (&_S4768)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4769;
    (&_S4769)->primal_0 = _S4613;
    (&_S4769)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4768, &_S4769, _S4603);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4770;
    (&_S4770)->primal_0 = _S4601.primal_0;
    (&_S4770)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4771;
    (&_S4771)->primal_0 = _S4623.p_0[0U];
    (&_S4771)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4770, &_S4771, _S4603);
    float3  _S4772 = - _S4759.differential_0 + _S4765.differential_0;
    float3  _S4773 = _S4620 * _S4772;
    float3  _S4774 = _S4606.rows[2U] * _S4772;
    float _S4775 = _S4610 * (_S4774.x + _S4774.y + _S4774.z);
    float3  _S4776 = - _S4761.differential_0 + _S4767.differential_0;
    float3  _S4777 = _S4616 * _S4776;
    float3  _S4778 = _S4606.rows[1U] * _S4776;
    float _S4779 = _S4610 * (_S4778.x + _S4778.y + _S4778.z);
    float3  _S4780 = - _S4763.differential_0 + _S4769.differential_0;
    float3  _S4781 = _S4612 * _S4780;
    float3  _S4782 = _S4606.rows[0U] * _S4780;
    float _S4783 = _S4610 * (_S4782.x + _S4782.y + _S4782.z);
    Matrix<float, 3, 3>  _S4784 = _S4707;
    _S4784[2U] = _S4773;
    _S4784[1U] = _S4777;
    _S4784[0U] = _S4781;
    Matrix<float, 3, 3>  _S4785 = transpose_0(transpose_0(_S4784));
    float _S4786 = 2.0f * - _S4785.rows[int(2)].z;
    float _S4787 = 2.0f * _S4785.rows[int(2)].y;
    float _S4788 = 2.0f * _S4785.rows[int(2)].x;
    float _S4789 = 2.0f * _S4785.rows[int(1)].z;
    float _S4790 = 2.0f * - _S4785.rows[int(1)].y;
    float _S4791 = 2.0f * _S4785.rows[int(1)].x;
    float _S4792 = 2.0f * _S4785.rows[int(0)].z;
    float _S4793 = 2.0f * _S4785.rows[int(0)].y;
    float _S4794 = 2.0f * - _S4785.rows[int(0)].x;
    float _S4795 = - _S4791 + _S4793;
    float _S4796 = _S4788 + - _S4792;
    float _S4797 = - _S4787 + _S4789;
    float _S4798 = _S4787 + _S4789;
    float _S4799 = _S4788 + _S4792;
    float _S4800 = _S4791 + _S4793;
    float _S4801 = _S4597.primal_0.w * (_S4790 + _S4794);
    float _S4802 = _S4597.primal_0.z * (_S4786 + _S4794);
    float _S4803 = _S4597.primal_0.y * (_S4786 + _S4790);
    float _S4804 = _S4597.primal_0.x * _S4795 + _S4597.primal_0.z * _S4798 + _S4597.primal_0.y * _S4799 + _S4801 + _S4801;
    float _S4805 = _S4597.primal_0.x * _S4796 + _S4597.primal_0.w * _S4798 + _S4597.primal_0.y * _S4800 + _S4802 + _S4802;
    float _S4806 = _S4597.primal_0.x * _S4797 + _S4597.primal_0.w * _S4799 + _S4597.primal_0.z * _S4800 + _S4803 + _S4803;
    float _S4807 = _S4597.primal_0.w * _S4795 + _S4597.primal_0.z * _S4796 + _S4597.primal_0.y * _S4797;
    float3  _S4808 = _S4603;
    *&((&_S4808)->z) = _S4775;
    *&((&_S4808)->y) = _S4779;
    *&((&_S4808)->x) = _S4783;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4809;
    (&_S4809)->primal_0 = _S4598.primal_0;
    (&_S4809)->differential_0 = _S4603;
    s_bwd_prop_exp_1(&_S4809, _S4808);
    Matrix<float, 2, 2>  _S4810 = _S4746;
    _S4810[int(1)] = _S4755;
    _S4810[int(0)] = _S4757;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4811;
    (&_S4811)->primal_0 = _S4601.primal_0;
    (&_S4811)->differential_0 = _S4707;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4812;
    (&_S4812)->primal_0 = _S4596.primal_0;
    (&_S4812)->differential_0 = _S4603;
    s_bwd_prop_mul_1(&_S4811, &_S4812, _S4731);
    float3  _S4813 = _S4731 + _S4710.differential_0;
    dpt_10->primal_0 = (*dpt_10).primal_0;
    dpt_10->differential_0 = _S4813;
    Matrix<float, 3, 3>  _S4814 = _S4758.differential_0 + _S4760.differential_0 + _S4762.differential_0 + _S4764.differential_0 + _S4766.differential_0 + _S4768.differential_0 + _S4770.differential_0 + _S4811.differential_0 + _S4711;
    dpR_11->primal_0 = (*dpR_11).primal_0;
    dpR_11->differential_0 = _S4814;
    dpsv_colors_9->primal_0 = dpsv_colors_9->primal_0;
    dpsv_colors_9->differential_0 = _S4728;
    dpsv_sites_9->primal_0 = dpsv_sites_9->primal_0;
    dpsv_sites_9->differential_0 = _S4730;
    dpin_opacity_9->primal_0 = (*dpin_opacity_9).primal_0;
    dpin_opacity_9->differential_0 = _S4738;
    float3  _S4815 = _S4809.differential_0 + _S4713;
    dpscale_10->primal_0 = (*dpscale_10).primal_0;
    dpscale_10->differential_0 = _S4815;
    float4  _S4816 = make_float4 (0.0f);
    *&((&_S4816)->w) = _S4804;
    *&((&_S4816)->z) = _S4805;
    *&((&_S4816)->y) = _S4806;
    *&((&_S4816)->x) = _S4807;
    dpquat_10->primal_0 = (*dpquat_10).primal_0;
    dpquat_10->differential_0 = _S4816;
    float3  _S4817 = _S4759.differential_0 + _S4765.differential_0 + _S4761.differential_0 + _S4767.differential_0 + _S4763.differential_0 + _S4769.differential_0 + _S4812.differential_0 + _S4705;
    dpmean_11->primal_0 = (*dpmean_11).primal_0;
    dpmean_11->differential_0 = _S4817;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_2(bool _S4818, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4819, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S4820, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4821, DiffPair_float_0 * _S4822, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S4823, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S4824, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S4825, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S4826, float _S4827, float _S4828, float _S4829, float _S4830, FixedArray<float, 10>  * _S4831, uint _S4832, uint _S4833, float _S4834, float _S4835, float2  _S4836, float _S4837, float3  _S4838, float _S4839, float3  _S4840)
{
    FixedArray<float3 , 4>  _S4841 = _S4823->primal_0;
    FixedArray<float3 , 4>  _S4842 = _S4824->primal_0;
    int4  _S4843;
    float2  _S4844;
    float _S4845;
    float3  _S4846;
    float _S4847;
    float3  _S4848;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S4849;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_2(_S4818, (*_S4819).primal_0, (*_S4820).primal_0, (*_S4821).primal_0, (*_S4822).primal_0, &_S4841, &_S4842, (*_S4825).primal_0, (*_S4826).primal_0, _S4827, _S4828, _S4829, _S4830, _S4831, _S4832, _S4833, _S4834, _S4835, &_S4843, &_S4844, &_S4845, &_S4846, &_S4847, &_S4848, &_S4849);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_2 _S4850 = _S4849;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_2(_S4818, _S4819, _S4820, _S4821, _S4822, _S4823, _S4824, _S4825, _S4826, _S4827, _S4828, _S4829, _S4830, _S4831, _S4832, _S4833, _S4834, _S4835, _S4836, _S4837, _S4838, _S4839, _S4840, &_S4850);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_49, float3  mean_44, float4  quat_45, float3  scale_44, float in_opacity_39, FixedArray<float3 , 4>  * sv_sites_24, FixedArray<float3 , 4>  * sv_colors_24, Matrix<float, 3, 3>  R_46, float3  t_42, float fx_58, float fy_58, float cx_53, float cy_53, FixedArray<float, 10>  * dist_coeffs_62, uint image_width_49, uint image_height_49, float2  v_mean2d_9, float v_depth_10, float3  v_conic_9, float v_opacity_11, float3  v_rgb_10, float3  * v_mean_11, float4  * v_quat_10, float3  * v_scale_10, float * v_in_opacity_9, FixedArray<float3 , 4>  * v_sv_dirs_4, FixedArray<float3 , 4>  * v_sv_colors_4, Matrix<float, 3, 3>  * v_R_11, float3  * v_t_10)
{
    float3  _S4851 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_6;
    (&dp_mean_6)->primal_0 = mean_44;
    (&dp_mean_6)->differential_0 = _S4851;
    float4  _S4852 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_5;
    (&dp_quat_5)->primal_0 = quat_45;
    (&dp_quat_5)->differential_0 = _S4852;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_5;
    (&dp_scale_5)->primal_0 = scale_44;
    (&dp_scale_5)->differential_0 = _S4851;
    DiffPair_float_0 dp_in_opacity_4;
    (&dp_in_opacity_4)->primal_0 = in_opacity_39;
    (&dp_in_opacity_4)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S4853 = { _S4851, _S4851, _S4851, _S4851 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_4;
    (&dp_sv_dirs_4)->primal_0 = *sv_sites_24;
    (&dp_sv_dirs_4)->differential_0 = _S4853;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_4;
    (&dp_sv_colors_4)->primal_0 = *sv_colors_24;
    (&dp_sv_colors_4)->differential_0 = _S4853;
    Matrix<float, 3, 3>  _S4854 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_6;
    (&dp_R_6)->primal_0 = R_46;
    (&dp_R_6)->differential_0 = _S4854;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_5;
    (&dp_t_5)->primal_0 = t_42;
    (&dp_t_5)->differential_0 = _S4851;
    s_bwd_projection_3dgut_sv_persp_differentiable_2(antialiased_49, &dp_mean_6, &dp_quat_5, &dp_scale_5, &dp_in_opacity_4, &dp_sv_dirs_4, &dp_sv_colors_4, &dp_R_6, &dp_t_5, fx_58, fy_58, cx_53, cy_53, dist_coeffs_62, image_width_49, image_height_49, 0.0f, 1.00000001504746622e+30f, v_mean2d_9, v_depth_10, v_conic_9, v_opacity_11, v_rgb_10);
    *v_mean_11 = dp_mean_6.differential_0;
    *v_quat_10 = dp_quat_5.differential_0;
    *v_scale_10 = dp_scale_5.differential_0;
    *v_in_opacity_9 = dp_in_opacity_4.differential_0;
    *v_sv_dirs_4 = (&dp_sv_dirs_4)->differential_0;
    *v_sv_colors_4 = (&dp_sv_colors_4)->differential_0;
    *v_R_11 = dp_R_6.differential_0;
    *v_t_10 = dp_t_5.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2
{
    Matrix<float, 2, 2>  _S4855;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_50, float3  dpmean_12, float4  dpquat_11, float3  dpscale_11, float dpin_opacity_10, FixedArray<float3 , 4>  * dpsv_sites_10, FixedArray<float3 , 4>  * dpsv_colors_10, Matrix<float, 3, 3>  dpR_12, float3  dpt_11, float fx_59, float fy_59, float cx_54, float cy_54, FixedArray<float, 10>  * dist_coeffs_63, uint image_width_50, uint image_height_50, float near_plane_40, float far_plane_40, int4  * aabb_xyxy_35, float2  * dpmean2d_12, float * dpdepth_11, float3  * dpconic_10, float * dpopacity_12, float3  * dprgb_11, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_24)
{
    Matrix<float, 2, 2>  _S4856 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_24->_S4855 = _S4856;
    float2  _S4857 = make_float2 (0.0f);
    float3  _S4858 = make_float3 (0.0f);
    float3  mean_c_45 = s_primal_ctx_mul_0(dpR_12, dpmean_12) + dpt_11;
    float _S4859 = length_1(mean_c_45);
    float4  intrins_39 = make_float4 (fx_59, fy_59, cx_54, cy_54);
    float3  _S4860 = s_primal_ctx_exp_0(dpscale_11);
    float _S4861 = dpquat_11.y;
    float x2_51 = _S4861 * _S4861;
    float y2_51 = dpquat_11.z * dpquat_11.z;
    float z2_66 = dpquat_11.w * dpquat_11.w;
    float xy_51 = dpquat_11.y * dpquat_11.z;
    float xz_51 = dpquat_11.y * dpquat_11.w;
    float yz_51 = dpquat_11.z * dpquat_11.w;
    float wx_51 = dpquat_11.x * dpquat_11.y;
    float wy_51 = dpquat_11.x * dpquat_11.z;
    float wz_51 = dpquat_11.x * dpquat_11.w;
    Matrix<float, 3, 3>  _S4862 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_51 + z2_66), 2.0f * (xy_51 + wz_51), 2.0f * (xz_51 - wy_51), 2.0f * (xy_51 - wz_51), 1.0f - 2.0f * (x2_51 + z2_66), 2.0f * (yz_51 + wx_51), 2.0f * (xz_51 + wy_51), 2.0f * (yz_51 - wx_51), 1.0f - 2.0f * (x2_51 + y2_51))));
    FixedArray<float3 , 7>  _S4863 = {
        _S4858, _S4858, _S4858, _S4858, _S4858, _S4858, _S4858
    };
    FixedArray<float, 7>  _S4864 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4865;
    (&_S4865)->p_0 = _S4863;
    (&_S4865)->w_mean_0 = _S4864;
    (&_S4865)->w_cov_0 = _S4864;
    (&_S4865)->p_0[int(0)] = dpmean_12;
    SigmaPoints_0 _S4866 = _S4865;
    (&_S4866)->w_mean_0[int(0)] = 0.0f;
    (&_S4866)->w_cov_0[int(0)] = 2.0f;
    float _S4867 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_108 = make_float3 (_S4867 * _S4860.x) * _S4862.rows[0U];
    float3  _S4868 = dpmean_12 + delta_108;
    float3  _S4869 = dpmean_12 - delta_108;
    float3  delta_109 = make_float3 (_S4867 * _S4860.y) * _S4862.rows[1U];
    float3  _S4870 = dpmean_12 + delta_109;
    float3  _S4871 = dpmean_12 - delta_109;
    float3  delta_110 = make_float3 (_S4867 * _S4860.z) * _S4862.rows[2U];
    float3  _S4872 = dpmean_12 + delta_110;
    float3  _S4873 = dpmean_12 - delta_110;
    (&_S4866)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S4866)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S4866)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S4866)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S4866)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S4866)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S4866)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S4866)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S4866)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S4866)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S4866)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S4866)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S4866)->p_0[0U] = s_primal_ctx_mul_0(dpR_12, _S4865.p_0[0U]) + dpt_11;
    (&_S4866)->p_0[1U] = s_primal_ctx_mul_0(dpR_12, _S4868) + dpt_11;
    (&_S4866)->p_0[2U] = s_primal_ctx_mul_0(dpR_12, _S4870) + dpt_11;
    (&_S4866)->p_0[3U] = s_primal_ctx_mul_0(dpR_12, _S4872) + dpt_11;
    (&_S4866)->p_0[4U] = s_primal_ctx_mul_0(dpR_12, _S4869) + dpt_11;
    (&_S4866)->p_0[5U] = s_primal_ctx_mul_0(dpR_12, _S4871) + dpt_11;
    (&_S4866)->p_0[6U] = s_primal_ctx_mul_0(dpR_12, _S4873) + dpt_11;
    float2  _S4874 = _S4857;
    Matrix<float, 2, 2>  _S4875 = _S4856;
    SigmaPoints_0 _S4876 = _S4866;
    bool _S4877 = fisheye_proj_3dgs_ut_1(&_S4876, intrins_39, dist_coeffs_63, &_S4875, &_S4874);
    _s_diff_ctx_24->_S4855 = _S4875;
    float2  _S4878 = _S4874;
    float _S4879 = _S4875.rows[int(0)].y * _S4875.rows[int(1)].x;
    float det_orig_46 = _S4875.rows[int(0)].x * _S4875.rows[int(1)].y - _S4879;
    float _S4880 = _S4875.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4881 = _S4875;
    *&(((&_S4881)->rows + (int(0)))->x) = _S4880;
    float _S4882 = _S4875.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S4881)->rows + (int(1)))->y) = _S4882;
    Matrix<float, 2, 2>  _S4883 = _S4881;
    Matrix<float, 2, 2>  _S4884 = _S4881;
    float _S4885 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_46 / (_S4880 * _S4882 - _S4879)));
    float _S4886 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_10));
    float _S4887;
    if(antialiased_50)
    {
        _S4887 = _S4886 * _S4885;
    }
    else
    {
        _S4887 = _S4886;
    }
    float _S4888 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S4887 / 0.00392156885936856f)));
    float radius_x_35 = _S4888 * s_primal_ctx_sqrt_0(_S4883.rows[int(0)].x);
    float radius_y_35 = _S4888 * s_primal_ctx_sqrt_0(_S4884.rows[int(1)].y);
    float _S4889 = _S4878.x;
    float _S4890 = _S4878.y;
    float _S4891 = mean_c_45.z;
    float _S4892 = s_primal_ctx_max_0(_S4891, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S4891 + _S4859));
    float3  _S4893 = s_primal_ctx_exp_0(- dpscale_11);
    float3  _S4894 = dpmean_12 - - s_primal_ctx_mul_0(transpose_0(dpR_12), dpt_11);
    float3  _S4895 = _S4894 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S4894, _S4894)));
    float _S4896 = s_primal_ctx_dot_0((*dpsv_sites_10)[int(3)], _S4895);
    float _S4897 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(0)], _S4895) - _S4896);
    float _S4898 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(1)], _S4895) - _S4896);
    float _S4899 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_10)[int(2)], _S4895) - _S4896);
    float _S4900 = s_primal_ctx_exp_1(0.0f);
    float3  _S4901 = s_primal_ctx_max_1((make_float3 (_S4897) * (*dpsv_colors_10)[int(0)] + make_float3 (_S4898) * (*dpsv_colors_10)[int(1)] + make_float3 (_S4899) * (*dpsv_colors_10)[int(2)] + make_float3 (_S4900) * (*dpsv_colors_10)[int(3)]) / make_float3 (_S4897 + _S4898 + _S4899 + _S4900) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_35 = make_int4 (int((F32_floor((_S4889 - radius_x_35)))), int((F32_floor((_S4890 - radius_y_35)))), int((F32_ceil((_S4889 + radius_x_35)))), int((F32_ceil((_S4890 + radius_y_35)))));
    *dpmean2d_12 = _S4878;
    *dpdepth_11 = _S4892;
    *dpconic_10 = _S4893;
    *dpopacity_12 = _S4887;
    *dprgb_11 = _S4901;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(bool antialiased_51, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_13, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_12, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_12, DiffPair_float_0 * dpin_opacity_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_sites_11, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * dpsv_colors_11, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_13, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_12, float fx_60, float fy_60, float cx_55, float cy_55, FixedArray<float, 10>  * dist_coeffs_64, uint image_width_51, uint image_height_51, float near_plane_41, float far_plane_41, float2  dpmean2d_13, float dpdepth_12, float3  dpconic_11, float dpopacity_13, float3  dprgb_12, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 * _s_diff_ctx_25)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4902 = *dpmean_13;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S4903 = *dpquat_12;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4904 = *dpscale_12;
    FixedArray<float3 , 4>  _S4905 = dpsv_sites_11->primal_0;
    FixedArray<float3 , 4>  _S4906 = dpsv_colors_11->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S4907 = *dpR_13;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4908 = *dpt_12;
    float3  _S4909 = make_float3 (0.0f);
    float3  mean_c_46 = s_primal_ctx_mul_0((*dpR_13).primal_0, (*dpmean_13).primal_0) + (*dpt_12).primal_0;
    float _S4910 = length_1(mean_c_46);
    float3  _S4911 = s_primal_ctx_exp_0((*dpscale_12).primal_0);
    float _S4912 = (*dpquat_12).primal_0.y;
    float x2_52 = _S4912 * _S4912;
    float y2_52 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.z;
    float z2_67 = (*dpquat_12).primal_0.w * (*dpquat_12).primal_0.w;
    float xy_52 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.z;
    float xz_52 = (*dpquat_12).primal_0.y * (*dpquat_12).primal_0.w;
    float yz_52 = (*dpquat_12).primal_0.z * (*dpquat_12).primal_0.w;
    float wx_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.y;
    float wy_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.z;
    float wz_52 = (*dpquat_12).primal_0.x * (*dpquat_12).primal_0.w;
    Matrix<float, 3, 3>  _S4913 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_52 + z2_67), 2.0f * (xy_52 + wz_52), 2.0f * (xz_52 - wy_52), 2.0f * (xy_52 - wz_52), 1.0f - 2.0f * (x2_52 + z2_67), 2.0f * (yz_52 + wx_52), 2.0f * (xz_52 + wy_52), 2.0f * (yz_52 - wx_52), 1.0f - 2.0f * (x2_52 + y2_52))));
    FixedArray<float3 , 7>  _S4914 = {
        _S4909, _S4909, _S4909, _S4909, _S4909, _S4909, _S4909
    };
    FixedArray<float, 7>  _S4915 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S4916;
    (&_S4916)->p_0 = _S4914;
    (&_S4916)->w_mean_0 = _S4915;
    (&_S4916)->w_cov_0 = _S4915;
    (&_S4916)->p_0[int(0)] = (*dpmean_13).primal_0;
    float _S4917 = s_primal_ctx_sqrt_0(3.0f);
    float _S4918 = _S4917 * _S4911.x;
    float3  _S4919 = make_float3 (_S4918);
    float3  delta_111 = make_float3 (_S4918) * _S4913.rows[0U];
    float3  _S4920 = (*dpmean_13).primal_0 + delta_111;
    float3  _S4921 = (*dpmean_13).primal_0 - delta_111;
    float _S4922 = _S4917 * _S4911.y;
    float3  _S4923 = make_float3 (_S4922);
    float3  delta_112 = make_float3 (_S4922) * _S4913.rows[1U];
    float3  _S4924 = (*dpmean_13).primal_0 + delta_112;
    float3  _S4925 = (*dpmean_13).primal_0 - delta_112;
    float _S4926 = _S4917 * _S4911.z;
    float3  _S4927 = make_float3 (_S4926);
    float3  delta_113 = make_float3 (_S4926) * _S4913.rows[2U];
    float3  _S4928 = (*dpmean_13).primal_0 + delta_113;
    float3  _S4929 = (*dpmean_13).primal_0 - delta_113;
    SigmaPoints_0 _S4930 = _S4916;
    float _S4931 = *&(((&_s_diff_ctx_25->_S4855)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_25->_S4855)->rows + (int(1)))->x);
    float det_orig_47 = *&(((&_s_diff_ctx_25->_S4855)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_25->_S4855)->rows + (int(1)))->y) - _S4931;
    float _S4932 = *&(((&_s_diff_ctx_25->_S4855)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S4933 = _s_diff_ctx_25->_S4855;
    *&(((&_S4933)->rows + (int(0)))->x) = _S4932;
    float _S4934 = *&(((&_s_diff_ctx_25->_S4855)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S4933)->rows + (int(1)))->y) = _S4934;
    Matrix<float, 2, 2>  _S4935 = _S4933;
    Matrix<float, 2, 2>  _S4936 = _S4933;
    float det_blur_30 = _S4932 * _S4934 - _S4931;
    float _S4937 = det_orig_47 / det_blur_30;
    float _S4938 = det_blur_30 * det_blur_30;
    float _S4939 = s_primal_ctx_max_0(0.0f, _S4937);
    float _S4940 = s_primal_ctx_sqrt_0(_S4939);
    float _S4941 = - (*dpin_opacity_11).primal_0;
    float _S4942 = 1.0f + s_primal_ctx_exp_1(_S4941);
    float _S4943 = 1.0f / _S4942;
    float _S4944 = _S4942 * _S4942;
    float _S4945;
    if(antialiased_51)
    {
        _S4945 = _S4943 * _S4940;
    }
    else
    {
        _S4945 = _S4943;
    }
    float _S4946 = _S4945 / 0.00392156885936856f;
    float _S4947 = 2.0f * s_primal_ctx_log_0(_S4946);
    float _S4948 = s_primal_ctx_sqrt_0(_S4947);
    float _S4949 = _S4935.rows[int(0)].x;
    float _S4950 = _S4936.rows[int(1)].y;
    float _S4951 = mean_c_46.z;
    float _S4952 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S4953 = _S4952 * (_S4951 + _S4910);
    float3  _S4954 = - _S4904.primal_0;
    Matrix<float, 3, 3>  _S4955 = transpose_0(_S4907.primal_0);
    float3  _S4956 = _S4902.primal_0 - - s_primal_ctx_mul_0(_S4955, _S4908.primal_0);
    float _S4957 = s_primal_ctx_dot_0(_S4956, _S4956);
    float _S4958 = s_primal_ctx_rsqrt_0(_S4957);
    float3  _S4959 = make_float3 (_S4958);
    float3  _S4960 = _S4956 * make_float3 (_S4958);
    float _S4961 = s_primal_ctx_dot_0(_S4905[int(3)], _S4960);
    float _S4962 = s_primal_ctx_dot_0(_S4905[int(0)], _S4960) - _S4961;
    float _S4963 = s_primal_ctx_exp_1(_S4962);
    float3  _S4964 = make_float3 (_S4963);
    float _S4965 = s_primal_ctx_dot_0(_S4905[int(1)], _S4960) - _S4961;
    float _S4966 = s_primal_ctx_exp_1(_S4965);
    float3  _S4967 = make_float3 (_S4966);
    float _S4968 = s_primal_ctx_dot_0(_S4905[int(2)], _S4960) - _S4961;
    float _S4969 = s_primal_ctx_exp_1(_S4968);
    float3  _S4970 = make_float3 (_S4969);
    float _S4971 = s_primal_ctx_exp_1(0.0f);
    float3  _S4972 = make_float3 (_S4971);
    float total_w_5 = _S4963 + _S4966 + _S4969 + _S4971;
    float3  _S4973 = make_float3 (total_w_5);
    float3  total_c_5 = make_float3 (_S4963) * _S4906[int(0)] + make_float3 (_S4966) * _S4906[int(1)] + make_float3 (_S4969) * _S4906[int(2)] + make_float3 (_S4971) * _S4906[int(3)];
    float3  _S4974 = make_float3 (total_w_5 * total_w_5);
    float3  _S4975 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4976;
    (&_S4976)->primal_0 = total_c_5 / make_float3 (total_w_5) + make_float3 (0.5f);
    (&_S4976)->differential_0 = _S4909;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4977;
    (&_S4977)->primal_0 = _S4975;
    (&_S4977)->differential_0 = _S4909;
    s_bwd_prop_max_0(&_S4976, &_S4977, dprgb_12);
    float3  _S4978 = _S4976.differential_0 / _S4974;
    float3  _S4979 = total_c_5 * - _S4978;
    float3  s_diff_total_c_T_5 = _S4973 * _S4978;
    float3  _S4980 = _S4972 * s_diff_total_c_T_5;
    float _S4981 = _S4979.x + _S4979.y + _S4979.z;
    float3  _S4982 = _S4970 * s_diff_total_c_T_5;
    float3  _S4983 = _S4906[int(2)] * s_diff_total_c_T_5;
    float _S4984 = _S4981 + _S4983.x + _S4983.y + _S4983.z;
    DiffPair_float_0 _S4985;
    (&_S4985)->primal_0 = _S4968;
    (&_S4985)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4985, _S4984);
    float _S4986 = - _S4985.differential_0;
    float3  _S4987 = _S4967 * s_diff_total_c_T_5;
    float3  _S4988 = _S4906[int(1)] * s_diff_total_c_T_5;
    float _S4989 = _S4981 + _S4988.x + _S4988.y + _S4988.z;
    DiffPair_float_0 _S4990;
    (&_S4990)->primal_0 = _S4965;
    (&_S4990)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4990, _S4989);
    float _S4991 = - _S4990.differential_0;
    float3  _S4992 = _S4964 * s_diff_total_c_T_5;
    float3  _S4993 = _S4906[int(0)] * s_diff_total_c_T_5;
    float _S4994 = _S4981 + _S4993.x + _S4993.y + _S4993.z;
    DiffPair_float_0 _S4995;
    (&_S4995)->primal_0 = _S4962;
    (&_S4995)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S4995, _S4994);
    float _S4996 = _S4986 + _S4991 + - _S4995.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4997;
    (&_S4997)->primal_0 = _S4905[int(3)];
    (&_S4997)->differential_0 = _S4909;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4998;
    (&_S4998)->primal_0 = _S4960;
    (&_S4998)->differential_0 = _S4909;
    s_bwd_prop_dot_0(&_S4997, &_S4998, _S4996);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S4999;
    (&_S4999)->primal_0 = _S4905[int(2)];
    (&_S4999)->differential_0 = _S4909;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5000;
    (&_S5000)->primal_0 = _S4960;
    (&_S5000)->differential_0 = _S4909;
    s_bwd_prop_dot_0(&_S4999, &_S5000, _S4985.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5001;
    (&_S5001)->primal_0 = _S4905[int(1)];
    (&_S5001)->differential_0 = _S4909;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5002;
    (&_S5002)->primal_0 = _S4960;
    (&_S5002)->differential_0 = _S4909;
    s_bwd_prop_dot_0(&_S5001, &_S5002, _S4990.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5003;
    (&_S5003)->primal_0 = _S4905[int(0)];
    (&_S5003)->differential_0 = _S4909;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5004;
    (&_S5004)->primal_0 = _S4960;
    (&_S5004)->differential_0 = _S4909;
    s_bwd_prop_dot_0(&_S5003, &_S5004, _S4995.differential_0);
    float3  _S5005 = _S4998.differential_0 + _S5000.differential_0 + _S5002.differential_0 + _S5004.differential_0;
    float3  _S5006 = _S4956 * _S5005;
    float3  _S5007 = _S4959 * _S5005;
    float _S5008 = _S5006.x + _S5006.y + _S5006.z;
    DiffPair_float_0 _S5009;
    (&_S5009)->primal_0 = _S4957;
    (&_S5009)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5009, _S5008);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5010;
    (&_S5010)->primal_0 = _S4956;
    (&_S5010)->differential_0 = _S4909;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5011;
    (&_S5011)->primal_0 = _S4956;
    (&_S5011)->differential_0 = _S4909;
    s_bwd_prop_dot_0(&_S5010, &_S5011, _S5009.differential_0);
    float3  _S5012 = _S5007 + _S5011.differential_0 + _S5010.differential_0;
    float3  _S5013 = - - _S5012;
    Matrix<float, 3, 3>  _S5014 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5015;
    (&_S5015)->primal_0 = _S4955;
    (&_S5015)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5016;
    (&_S5016)->primal_0 = _S4908.primal_0;
    (&_S5016)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5015, &_S5016, _S5013);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5017 = _S5016;
    Matrix<float, 3, 3>  _S5018 = transpose_0(_S5015.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5019;
    (&_S5019)->primal_0 = _S4954;
    (&_S5019)->differential_0 = _S4909;
    s_bwd_prop_exp_1(&_S5019, dpconic_11);
    float3  _S5020 = - _S5019.differential_0;
    DiffPair_float_0 _S5021;
    (&_S5021)->primal_0 = _S4951;
    (&_S5021)->differential_0 = 0.0f;
    DiffPair_float_0 _S5022;
    (&_S5022)->primal_0 = _S4953;
    (&_S5022)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5021, &_S5022, dpdepth_12);
    float _S5023 = _S4952 * _S5022.differential_0;
    float _S5024 = _S5021.differential_0 + _S5023;
    DiffPair_float_0 _S5025;
    (&_S5025)->primal_0 = _S4950;
    (&_S5025)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5025, 0.0f);
    DiffPair_float_0 _S5026;
    (&_S5026)->primal_0 = _S4949;
    (&_S5026)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5026, 0.0f);
    DiffPair_float_0 _S5027;
    (&_S5027)->primal_0 = 3.32999992370605469f;
    (&_S5027)->differential_0 = 0.0f;
    DiffPair_float_0 _S5028;
    (&_S5028)->primal_0 = _S4948;
    (&_S5028)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5027, &_S5028, 0.0f);
    DiffPair_float_0 _S5029;
    (&_S5029)->primal_0 = _S4947;
    (&_S5029)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5029, _S5028.differential_0);
    float _S5030 = 2.0f * _S5029.differential_0;
    DiffPair_float_0 _S5031;
    (&_S5031)->primal_0 = _S4946;
    (&_S5031)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5031, _S5030);
    float _S5032 = dpopacity_13 + 254.9999847412109375f * _S5031.differential_0;
    FixedArray<float3 , 4>  _S5033;
    _S5033[int(0)] = _S4909;
    _S5033[int(1)] = _S4909;
    _S5033[int(2)] = _S4909;
    _S5033[int(3)] = _S4909;
    _S5033[int(3)] = _S4980;
    _S5033[int(2)] = _S4982;
    _S5033[int(1)] = _S4987;
    _S5033[int(0)] = _S4992;
    FixedArray<float3 , 4>  _S5034 = {
        _S5033[int(0)], _S5033[int(1)], _S5033[int(2)], _S5033[int(3)]
    };
    FixedArray<float3 , 4>  _S5035;
    _S5035[int(0)] = _S4909;
    _S5035[int(1)] = _S4909;
    _S5035[int(2)] = _S4909;
    _S5035[int(3)] = _S4909;
    _S5035[int(3)] = _S4997.differential_0;
    _S5035[int(2)] = _S4999.differential_0;
    _S5035[int(1)] = _S5001.differential_0;
    _S5035[int(0)] = _S5003.differential_0;
    FixedArray<float3 , 4>  _S5036 = {
        _S5035[int(0)], _S5035[int(1)], _S5035[int(2)], _S5035[int(3)]
    };
    float3  _S5037 = make_float3 (0.0f, 0.0f, _S5024);
    float2  _S5038 = make_float2 (0.0f, _S5025.differential_0);
    float2  _S5039 = make_float2 (_S5026.differential_0, 0.0f);
    float _S5040;
    if(antialiased_51)
    {
        float _S5041 = _S4943 * _S5032;
        _S4945 = _S4940 * _S5032;
        _S5040 = _S5041;
    }
    else
    {
        _S4945 = _S5032;
        _S5040 = 0.0f;
    }
    float _S5042 = - (_S4945 / _S4944);
    DiffPair_float_0 _S5043;
    (&_S5043)->primal_0 = _S4941;
    (&_S5043)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5043, _S5042);
    float _S5044 = - _S5043.differential_0;
    DiffPair_float_0 _S5045;
    (&_S5045)->primal_0 = _S4939;
    (&_S5045)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5045, _S5040);
    DiffPair_float_0 _S5046;
    (&_S5046)->primal_0 = 0.0f;
    (&_S5046)->differential_0 = 0.0f;
    DiffPair_float_0 _S5047;
    (&_S5047)->primal_0 = _S4937;
    (&_S5047)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5046, &_S5047, _S5045.differential_0);
    float _S5048 = _S5047.differential_0 / _S4938;
    float s_diff_det_blur_T_7 = det_orig_47 * - _S5048;
    float s_diff_det_orig_T_10 = det_blur_30 * _S5048;
    float _S5049 = - s_diff_det_blur_T_7;
    float _S5050 = _S4932 * s_diff_det_blur_T_7;
    float _S5051 = _S4934 * s_diff_det_blur_T_7;
    Matrix<float, 2, 2>  _S5052 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5053 = _S5052;
    _S5053[int(1)] = _S5038;
    _S5053[int(0)] = _S5039;
    float _S5054 = _S5051 + _S5053.rows[int(0)].x;
    float _S5055 = _S5049 + - s_diff_det_orig_T_10;
    float _S5056 = *&(((&_s_diff_ctx_25->_S4855)->rows + (int(0)))->y) * _S5055;
    float _S5057 = *&(((&_s_diff_ctx_25->_S4855)->rows + (int(1)))->x) * _S5055;
    float _S5058 = *&(((&_s_diff_ctx_25->_S4855)->rows + (int(1)))->y) * s_diff_det_orig_T_10;
    float _S5059 = _S5050 + _S5053.rows[int(1)].y + *&(((&_s_diff_ctx_25->_S4855)->rows + (int(0)))->x) * s_diff_det_orig_T_10;
    float2  _S5060 = make_float2 (0.0f);
    float2  _S5061 = _S5060;
    *&((&_S5061)->x) = _S5056;
    *&((&_S5061)->y) = _S5059;
    float _S5062 = _S5054 + _S5058;
    float2  _S5063 = _S5060;
    *&((&_S5063)->y) = _S5057;
    *&((&_S5063)->x) = _S5062;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5064;
    (&_S5064)->primal_0 = _S4907.primal_0;
    (&_S5064)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5065;
    (&_S5065)->primal_0 = _S4929;
    (&_S5065)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5064, &_S5065, _S4909);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5066;
    (&_S5066)->primal_0 = _S4907.primal_0;
    (&_S5066)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5067;
    (&_S5067)->primal_0 = _S4925;
    (&_S5067)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5066, &_S5067, _S4909);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5068;
    (&_S5068)->primal_0 = _S4907.primal_0;
    (&_S5068)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5069;
    (&_S5069)->primal_0 = _S4921;
    (&_S5069)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5068, &_S5069, _S4909);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5070;
    (&_S5070)->primal_0 = _S4907.primal_0;
    (&_S5070)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5071;
    (&_S5071)->primal_0 = _S4928;
    (&_S5071)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5070, &_S5071, _S4909);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5072;
    (&_S5072)->primal_0 = _S4907.primal_0;
    (&_S5072)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5073;
    (&_S5073)->primal_0 = _S4924;
    (&_S5073)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5072, &_S5073, _S4909);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5074;
    (&_S5074)->primal_0 = _S4907.primal_0;
    (&_S5074)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5075;
    (&_S5075)->primal_0 = _S4920;
    (&_S5075)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5074, &_S5075, _S4909);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5076;
    (&_S5076)->primal_0 = _S4907.primal_0;
    (&_S5076)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5077;
    (&_S5077)->primal_0 = _S4930.p_0[0U];
    (&_S5077)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5076, &_S5077, _S4909);
    float3  _S5078 = - _S5065.differential_0 + _S5071.differential_0;
    float3  _S5079 = _S4927 * _S5078;
    float3  _S5080 = _S4913.rows[2U] * _S5078;
    float _S5081 = _S4917 * (_S5080.x + _S5080.y + _S5080.z);
    float3  _S5082 = - _S5067.differential_0 + _S5073.differential_0;
    float3  _S5083 = _S4923 * _S5082;
    float3  _S5084 = _S4913.rows[1U] * _S5082;
    float _S5085 = _S4917 * (_S5084.x + _S5084.y + _S5084.z);
    float3  _S5086 = - _S5069.differential_0 + _S5075.differential_0;
    float3  _S5087 = _S4919 * _S5086;
    float3  _S5088 = _S4913.rows[0U] * _S5086;
    float _S5089 = _S4917 * (_S5088.x + _S5088.y + _S5088.z);
    Matrix<float, 3, 3>  _S5090 = _S5014;
    _S5090[2U] = _S5079;
    _S5090[1U] = _S5083;
    _S5090[0U] = _S5087;
    Matrix<float, 3, 3>  _S5091 = transpose_0(transpose_0(_S5090));
    float _S5092 = 2.0f * - _S5091.rows[int(2)].z;
    float _S5093 = 2.0f * _S5091.rows[int(2)].y;
    float _S5094 = 2.0f * _S5091.rows[int(2)].x;
    float _S5095 = 2.0f * _S5091.rows[int(1)].z;
    float _S5096 = 2.0f * - _S5091.rows[int(1)].y;
    float _S5097 = 2.0f * _S5091.rows[int(1)].x;
    float _S5098 = 2.0f * _S5091.rows[int(0)].z;
    float _S5099 = 2.0f * _S5091.rows[int(0)].y;
    float _S5100 = 2.0f * - _S5091.rows[int(0)].x;
    float _S5101 = - _S5097 + _S5099;
    float _S5102 = _S5094 + - _S5098;
    float _S5103 = - _S5093 + _S5095;
    float _S5104 = _S5093 + _S5095;
    float _S5105 = _S5094 + _S5098;
    float _S5106 = _S5097 + _S5099;
    float _S5107 = _S4903.primal_0.w * (_S5096 + _S5100);
    float _S5108 = _S4903.primal_0.z * (_S5092 + _S5100);
    float _S5109 = _S4903.primal_0.y * (_S5092 + _S5096);
    float _S5110 = _S4903.primal_0.x * _S5101 + _S4903.primal_0.z * _S5104 + _S4903.primal_0.y * _S5105 + _S5107 + _S5107;
    float _S5111 = _S4903.primal_0.x * _S5102 + _S4903.primal_0.w * _S5104 + _S4903.primal_0.y * _S5106 + _S5108 + _S5108;
    float _S5112 = _S4903.primal_0.x * _S5103 + _S4903.primal_0.w * _S5105 + _S4903.primal_0.z * _S5106 + _S5109 + _S5109;
    float _S5113 = _S4903.primal_0.w * _S5101 + _S4903.primal_0.z * _S5102 + _S4903.primal_0.y * _S5103;
    float3  _S5114 = _S4909;
    *&((&_S5114)->z) = _S5081;
    *&((&_S5114)->y) = _S5085;
    *&((&_S5114)->x) = _S5089;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5115;
    (&_S5115)->primal_0 = _S4904.primal_0;
    (&_S5115)->differential_0 = _S4909;
    s_bwd_prop_exp_1(&_S5115, _S5114);
    Matrix<float, 2, 2>  _S5116 = _S5052;
    _S5116[int(1)] = _S5061;
    _S5116[int(0)] = _S5063;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5117;
    (&_S5117)->primal_0 = mean_c_46;
    (&_S5117)->differential_0 = _S4909;
    s_bwd_length_impl_1(&_S5117, _S5023);
    float3  _S5118 = _S5117.differential_0 + _S5037;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5119;
    (&_S5119)->primal_0 = _S4907.primal_0;
    (&_S5119)->differential_0 = _S5014;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5120;
    (&_S5120)->primal_0 = _S4902.primal_0;
    (&_S5120)->differential_0 = _S4909;
    s_bwd_prop_mul_1(&_S5119, &_S5120, _S5118);
    float3  _S5121 = _S5118 + _S5017.differential_0;
    dpt_12->primal_0 = (*dpt_12).primal_0;
    dpt_12->differential_0 = _S5121;
    Matrix<float, 3, 3>  _S5122 = _S5064.differential_0 + _S5066.differential_0 + _S5068.differential_0 + _S5070.differential_0 + _S5072.differential_0 + _S5074.differential_0 + _S5076.differential_0 + _S5119.differential_0 + _S5018;
    dpR_13->primal_0 = (*dpR_13).primal_0;
    dpR_13->differential_0 = _S5122;
    dpsv_colors_11->primal_0 = dpsv_colors_11->primal_0;
    dpsv_colors_11->differential_0 = _S5034;
    dpsv_sites_11->primal_0 = dpsv_sites_11->primal_0;
    dpsv_sites_11->differential_0 = _S5036;
    dpin_opacity_11->primal_0 = (*dpin_opacity_11).primal_0;
    dpin_opacity_11->differential_0 = _S5044;
    float3  _S5123 = _S5115.differential_0 + _S5020;
    dpscale_12->primal_0 = (*dpscale_12).primal_0;
    dpscale_12->differential_0 = _S5123;
    float4  _S5124 = make_float4 (0.0f);
    *&((&_S5124)->w) = _S5110;
    *&((&_S5124)->z) = _S5111;
    *&((&_S5124)->y) = _S5112;
    *&((&_S5124)->x) = _S5113;
    dpquat_12->primal_0 = (*dpquat_12).primal_0;
    dpquat_12->differential_0 = _S5124;
    float3  _S5125 = _S5065.differential_0 + _S5071.differential_0 + _S5067.differential_0 + _S5073.differential_0 + _S5069.differential_0 + _S5075.differential_0 + _S5120.differential_0 + _S5012;
    dpmean_13->primal_0 = (*dpmean_13).primal_0;
    dpmean_13->differential_0 = _S5125;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_2(bool _S5126, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5127, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5128, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5129, DiffPair_float_0 * _S5130, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5131, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 * _S5132, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5133, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5134, float _S5135, float _S5136, float _S5137, float _S5138, FixedArray<float, 10>  * _S5139, uint _S5140, uint _S5141, float _S5142, float _S5143, float2  _S5144, float _S5145, float3  _S5146, float _S5147, float3  _S5148)
{
    FixedArray<float3 , 4>  _S5149 = _S5131->primal_0;
    FixedArray<float3 , 4>  _S5150 = _S5132->primal_0;
    int4  _S5151;
    float2  _S5152;
    float _S5153;
    float3  _S5154;
    float _S5155;
    float3  _S5156;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S5157;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_2(_S5126, (*_S5127).primal_0, (*_S5128).primal_0, (*_S5129).primal_0, (*_S5130).primal_0, &_S5149, &_S5150, (*_S5133).primal_0, (*_S5134).primal_0, _S5135, _S5136, _S5137, _S5138, _S5139, _S5140, _S5141, _S5142, _S5143, &_S5151, &_S5152, &_S5153, &_S5154, &_S5155, &_S5156, &_S5157);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_2 _S5158 = _S5157;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_2(_S5126, _S5127, _S5128, _S5129, _S5130, _S5131, _S5132, _S5133, _S5134, _S5135, _S5136, _S5137, _S5138, _S5139, _S5140, _S5141, _S5142, _S5143, _S5144, _S5145, _S5146, _S5147, _S5148, &_S5158);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_52, float3  mean_45, float4  quat_46, float3  scale_45, float in_opacity_40, FixedArray<float3 , 4>  * sv_sites_25, FixedArray<float3 , 4>  * sv_colors_25, Matrix<float, 3, 3>  R_47, float3  t_43, float fx_61, float fy_61, float cx_56, float cy_56, FixedArray<float, 10>  * dist_coeffs_65, uint image_width_52, uint image_height_52, float2  v_mean2d_10, float v_depth_11, float3  v_conic_10, float v_opacity_12, float3  v_rgb_11, float3  * v_mean_12, float4  * v_quat_11, float3  * v_scale_11, float * v_in_opacity_10, FixedArray<float3 , 4>  * v_sv_dirs_5, FixedArray<float3 , 4>  * v_sv_colors_5, Matrix<float, 3, 3>  * v_R_12, float3  * v_t_11)
{
    float3  _S5159 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_7;
    (&dp_mean_7)->primal_0 = mean_45;
    (&dp_mean_7)->differential_0 = _S5159;
    float4  _S5160 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_6;
    (&dp_quat_6)->primal_0 = quat_46;
    (&dp_quat_6)->differential_0 = _S5160;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_6;
    (&dp_scale_6)->primal_0 = scale_45;
    (&dp_scale_6)->differential_0 = _S5159;
    DiffPair_float_0 dp_in_opacity_5;
    (&dp_in_opacity_5)->primal_0 = in_opacity_40;
    (&dp_in_opacity_5)->differential_0 = 0.0f;
    FixedArray<float3 , 4>  _S5161 = { _S5159, _S5159, _S5159, _S5159 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_dirs_5;
    (&dp_sv_dirs_5)->primal_0 = *sv_sites_25;
    (&dp_sv_dirs_5)->differential_0 = _S5161;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C4x3E_0 dp_sv_colors_5;
    (&dp_sv_colors_5)->primal_0 = *sv_colors_25;
    (&dp_sv_colors_5)->differential_0 = _S5161;
    Matrix<float, 3, 3>  _S5162 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_7;
    (&dp_R_7)->primal_0 = R_47;
    (&dp_R_7)->differential_0 = _S5162;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_6;
    (&dp_t_6)->primal_0 = t_43;
    (&dp_t_6)->differential_0 = _S5159;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_2(antialiased_52, &dp_mean_7, &dp_quat_6, &dp_scale_6, &dp_in_opacity_5, &dp_sv_dirs_5, &dp_sv_colors_5, &dp_R_7, &dp_t_6, fx_61, fy_61, cx_56, cy_56, dist_coeffs_65, image_width_52, image_height_52, 0.0f, 1.00000001504746622e+30f, v_mean2d_10, v_depth_11, v_conic_10, v_opacity_12, v_rgb_11);
    *v_mean_12 = dp_mean_7.differential_0;
    *v_quat_11 = dp_quat_6.differential_0;
    *v_scale_11 = dp_scale_6.differential_0;
    *v_in_opacity_10 = dp_in_opacity_5.differential_0;
    *v_sv_dirs_5 = (&dp_sv_dirs_5)->differential_0;
    *v_sv_colors_5 = (&dp_sv_colors_5)->differential_0;
    *v_R_12 = dp_R_7.differential_0;
    *v_t_11 = dp_t_6.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_53, float3  mean_46, float4  quat_47, float3  scale_46, float in_opacity_41, FixedArray<float3 , 5>  * sv_sites_26, FixedArray<float3 , 5>  * sv_colors_26, Matrix<float, 3, 3>  R_48, float3  t_44, float fx_62, float fy_62, float cx_57, float cy_57, FixedArray<float, 10>  * dist_coeffs_66, uint image_width_53, uint image_height_53, float near_plane_42, float far_plane_42, int4  * aabb_xyxy_36, float2  * mean2d_38, float * depth_31, float3  * conic_30, float * opacity_34, float3  * rgb_32)
{
    float3  mean_c_47 = mul_0(R_48, mean_46) + t_44;
    float4  intrins_40 = make_float4 (fx_62, fy_62, cx_57, cy_57);
    float3  _S5163 = exp_0(scale_46);
    float x_61 = quat_47.y;
    float x2_53 = x_61 * x_61;
    float y2_53 = quat_47.z * quat_47.z;
    float z2_68 = quat_47.w * quat_47.w;
    float xy_53 = quat_47.y * quat_47.z;
    float xz_53 = quat_47.y * quat_47.w;
    float yz_53 = quat_47.z * quat_47.w;
    float wx_53 = quat_47.x * quat_47.y;
    float wy_53 = quat_47.x * quat_47.z;
    float wz_53 = quat_47.x * quat_47.w;
    Matrix<float, 3, 3>  _S5164 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_53 + z2_68), 2.0f * (xy_53 + wz_53), 2.0f * (xz_53 - wy_53), 2.0f * (xy_53 - wz_53), 1.0f - 2.0f * (x2_53 + z2_68), 2.0f * (yz_53 + wx_53), 2.0f * (xz_53 + wy_53), 2.0f * (yz_53 - wx_53), 1.0f - 2.0f * (x2_53 + y2_53))));
    SigmaPoints_0 ret_24;
    (&ret_24)->p_0[int(0)] = mean_46;
    (&ret_24)->w_mean_0[int(0)] = 0.0f;
    (&ret_24)->w_cov_0[int(0)] = 2.0f;
    float _S5165 = (F32_sqrt((3.0f)));
    float3  delta_114 = make_float3 (_S5165 * _S5163.x) * _S5164.rows[0U];
    float3  _S5166 = mean_46 + delta_114;
    float3  _S5167 = mean_46 - delta_114;
    float3  delta_115 = make_float3 (_S5165 * _S5163.y) * _S5164.rows[1U];
    float3  _S5168 = mean_46 + delta_115;
    float3  _S5169 = mean_46 - delta_115;
    float3  delta_116 = make_float3 (_S5165 * _S5163.z) * _S5164.rows[2U];
    float3  _S5170 = mean_46 + delta_116;
    float3  _S5171 = mean_46 - delta_116;
    (&ret_24)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_24)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_24)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_24)->p_0[0U] = mul_0(R_48, (&ret_24)->p_0[0U]) + t_44;
    (&ret_24)->p_0[1U] = mul_0(R_48, _S5166) + t_44;
    (&ret_24)->p_0[2U] = mul_0(R_48, _S5168) + t_44;
    (&ret_24)->p_0[3U] = mul_0(R_48, _S5170) + t_44;
    (&ret_24)->p_0[4U] = mul_0(R_48, _S5167) + t_44;
    (&ret_24)->p_0[5U] = mul_0(R_48, _S5169) + t_44;
    (&ret_24)->p_0[6U] = mul_0(R_48, _S5171) + t_44;
    SigmaPoints_0 _S5172 = ret_24;
    Matrix<float, 2, 2>  covar2d_30;
    bool _S5173 = persp_proj_3dgs_ut_1(&_S5172, intrins_40, dist_coeffs_66, image_width_53, image_height_53, &covar2d_30, mean2d_38);
    float det_orig_48 = *&(((&covar2d_30)->rows + (int(0)))->x) * *&(((&covar2d_30)->rows + (int(1)))->y) - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x);
    float _S5174 = *&(((&covar2d_30)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(0)))->x) = _S5174;
    float _S5175 = *&(((&covar2d_30)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_30)->rows + (int(1)))->y) = _S5175;
    float compensation_31 = (F32_sqrt(((F32_max((0.0f), (det_orig_48 / (_S5174 * _S5175 - *&(((&covar2d_30)->rows + (int(0)))->y) * *&(((&covar2d_30)->rows + (int(1)))->x))))))));
    *opacity_34 = 1.0f / (1.0f + (F32_exp((- in_opacity_41))));
    if(antialiased_53)
    {
        *opacity_34 = *opacity_34 * compensation_31;
    }
    float extend_30 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_34 / 0.00392156885936856f)))))))));
    float radius_x_36 = extend_30 * (F32_sqrt((covar2d_30[int(0)].x)));
    float radius_y_36 = extend_30 * (F32_sqrt((covar2d_30[int(1)].y)));
    *aabb_xyxy_36 = make_int4 (int((F32_floor(((*mean2d_38).x - radius_x_36)))), int((F32_floor(((*mean2d_38).y - radius_y_36)))), int((F32_ceil(((*mean2d_38).x + radius_x_36)))), int((F32_ceil(((*mean2d_38).y + radius_y_36)))));
    float _S5176 = mean_c_47.z;
    *depth_31 = (F32_max((_S5176), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5176 + length_1(mean_c_47)))));
    *conic_30 = exp_0(- scale_46);
    float3  _S5177 = mean_46 - - mul_0(transpose_0(R_48), t_44);
    float3  _S5178 = _S5177 * make_float3 ((F32_rsqrt((dot_0(_S5177, _S5177)))));
    float _S5179 = dot_0((*sv_sites_26)[int(4)], _S5178);
    float w_88 = (F32_exp((dot_0((*sv_sites_26)[int(0)], _S5178) - _S5179)));
    float w_89 = (F32_exp((dot_0((*sv_sites_26)[int(1)], _S5178) - _S5179)));
    float w_90 = (F32_exp((dot_0((*sv_sites_26)[int(2)], _S5178) - _S5179)));
    float w_91 = (F32_exp((dot_0((*sv_sites_26)[int(3)], _S5178) - _S5179)));
    float w_92 = (F32_exp((0.0f)));
    *rgb_32 = max_0((make_float3 (w_88) * (*sv_colors_26)[int(0)] + make_float3 (w_89) * (*sv_colors_26)[int(1)] + make_float3 (w_90) * (*sv_colors_26)[int(2)] + make_float3 (w_91) * (*sv_colors_26)[int(3)] + make_float3 (w_92) * (*sv_colors_26)[int(4)]) / make_float3 (w_88 + w_89 + w_90 + w_91 + w_92) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_54, float3  mean_47, float4  quat_48, float3  scale_47, float in_opacity_42, FixedArray<float3 , 5>  * sv_sites_27, FixedArray<float3 , 5>  * sv_colors_27, Matrix<float, 3, 3>  R_49, float3  t_45, float fx_63, float fy_63, float cx_58, float cy_58, FixedArray<float, 10>  * dist_coeffs_67, uint image_width_54, uint image_height_54, float near_plane_43, float far_plane_43, int4  * aabb_xyxy_37, float2  * mean2d_39, float * depth_32, float3  * conic_31, float * opacity_35, float3  * rgb_33)
{
    float3  mean_c_48 = mul_0(R_49, mean_47) + t_45;
    float4  intrins_41 = make_float4 (fx_63, fy_63, cx_58, cy_58);
    float3  _S5180 = exp_0(scale_47);
    float x_62 = quat_48.y;
    float x2_54 = x_62 * x_62;
    float y2_54 = quat_48.z * quat_48.z;
    float z2_69 = quat_48.w * quat_48.w;
    float xy_54 = quat_48.y * quat_48.z;
    float xz_54 = quat_48.y * quat_48.w;
    float yz_54 = quat_48.z * quat_48.w;
    float wx_54 = quat_48.x * quat_48.y;
    float wy_54 = quat_48.x * quat_48.z;
    float wz_54 = quat_48.x * quat_48.w;
    Matrix<float, 3, 3>  _S5181 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_54 + z2_69), 2.0f * (xy_54 + wz_54), 2.0f * (xz_54 - wy_54), 2.0f * (xy_54 - wz_54), 1.0f - 2.0f * (x2_54 + z2_69), 2.0f * (yz_54 + wx_54), 2.0f * (xz_54 + wy_54), 2.0f * (yz_54 - wx_54), 1.0f - 2.0f * (x2_54 + y2_54))));
    SigmaPoints_0 ret_25;
    (&ret_25)->p_0[int(0)] = mean_47;
    (&ret_25)->w_mean_0[int(0)] = 0.0f;
    (&ret_25)->w_cov_0[int(0)] = 2.0f;
    float _S5182 = (F32_sqrt((3.0f)));
    float3  delta_117 = make_float3 (_S5182 * _S5180.x) * _S5181.rows[0U];
    float3  _S5183 = mean_47 + delta_117;
    float3  _S5184 = mean_47 - delta_117;
    float3  delta_118 = make_float3 (_S5182 * _S5180.y) * _S5181.rows[1U];
    float3  _S5185 = mean_47 + delta_118;
    float3  _S5186 = mean_47 - delta_118;
    float3  delta_119 = make_float3 (_S5182 * _S5180.z) * _S5181.rows[2U];
    float3  _S5187 = mean_47 + delta_119;
    float3  _S5188 = mean_47 - delta_119;
    (&ret_25)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_25)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_25)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_25)->p_0[0U] = mul_0(R_49, (&ret_25)->p_0[0U]) + t_45;
    (&ret_25)->p_0[1U] = mul_0(R_49, _S5183) + t_45;
    (&ret_25)->p_0[2U] = mul_0(R_49, _S5185) + t_45;
    (&ret_25)->p_0[3U] = mul_0(R_49, _S5187) + t_45;
    (&ret_25)->p_0[4U] = mul_0(R_49, _S5184) + t_45;
    (&ret_25)->p_0[5U] = mul_0(R_49, _S5186) + t_45;
    (&ret_25)->p_0[6U] = mul_0(R_49, _S5188) + t_45;
    SigmaPoints_0 _S5189 = ret_25;
    Matrix<float, 2, 2>  covar2d_31;
    bool _S5190 = fisheye_proj_3dgs_ut_1(&_S5189, intrins_41, dist_coeffs_67, &covar2d_31, mean2d_39);
    float det_orig_49 = *&(((&covar2d_31)->rows + (int(0)))->x) * *&(((&covar2d_31)->rows + (int(1)))->y) - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x);
    float _S5191 = *&(((&covar2d_31)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(0)))->x) = _S5191;
    float _S5192 = *&(((&covar2d_31)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_31)->rows + (int(1)))->y) = _S5192;
    float compensation_32 = (F32_sqrt(((F32_max((0.0f), (det_orig_49 / (_S5191 * _S5192 - *&(((&covar2d_31)->rows + (int(0)))->y) * *&(((&covar2d_31)->rows + (int(1)))->x))))))));
    *opacity_35 = 1.0f / (1.0f + (F32_exp((- in_opacity_42))));
    if(antialiased_54)
    {
        *opacity_35 = *opacity_35 * compensation_32;
    }
    float extend_31 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_35 / 0.00392156885936856f)))))))));
    float radius_x_37 = extend_31 * (F32_sqrt((covar2d_31[int(0)].x)));
    float radius_y_37 = extend_31 * (F32_sqrt((covar2d_31[int(1)].y)));
    *aabb_xyxy_37 = make_int4 (int((F32_floor(((*mean2d_39).x - radius_x_37)))), int((F32_floor(((*mean2d_39).y - radius_y_37)))), int((F32_ceil(((*mean2d_39).x + radius_x_37)))), int((F32_ceil(((*mean2d_39).y + radius_y_37)))));
    float _S5193 = mean_c_48.z;
    *depth_32 = (F32_max((_S5193), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5193 + length_1(mean_c_48)))));
    *conic_31 = exp_0(- scale_47);
    float3  _S5194 = mean_47 - - mul_0(transpose_0(R_49), t_45);
    float3  _S5195 = _S5194 * make_float3 ((F32_rsqrt((dot_0(_S5194, _S5194)))));
    float _S5196 = dot_0((*sv_sites_27)[int(4)], _S5195);
    float w_93 = (F32_exp((dot_0((*sv_sites_27)[int(0)], _S5195) - _S5196)));
    float w_94 = (F32_exp((dot_0((*sv_sites_27)[int(1)], _S5195) - _S5196)));
    float w_95 = (F32_exp((dot_0((*sv_sites_27)[int(2)], _S5195) - _S5196)));
    float w_96 = (F32_exp((dot_0((*sv_sites_27)[int(3)], _S5195) - _S5196)));
    float w_97 = (F32_exp((0.0f)));
    *rgb_33 = max_0((make_float3 (w_93) * (*sv_colors_27)[int(0)] + make_float3 (w_94) * (*sv_colors_27)[int(1)] + make_float3 (w_95) * (*sv_colors_27)[int(2)] + make_float3 (w_96) * (*sv_colors_27)[int(3)] + make_float3 (w_97) * (*sv_colors_27)[int(4)]) / make_float3 (w_93 + w_94 + w_95 + w_96 + w_97) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0
{
    FixedArray<float3 , 5>  primal_0;
    FixedArray<float3 , 5>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S5197;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(bool antialiased_55, float3  dpmean_14, float4  dpquat_13, float3  dpscale_13, float dpin_opacity_12, FixedArray<float3 , 5>  * dpsv_sites_12, FixedArray<float3 , 5>  * dpsv_colors_12, Matrix<float, 3, 3>  dpR_14, float3  dpt_13, float fx_64, float fy_64, float cx_59, float cy_59, FixedArray<float, 10>  * dist_coeffs_68, uint image_width_55, uint image_height_55, float near_plane_44, float far_plane_44, int4  * aabb_xyxy_38, float2  * dpmean2d_14, float * dpdepth_13, float3  * dpconic_12, float * dpopacity_14, float3  * dprgb_13, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_26)
{
    Matrix<float, 2, 2>  _S5198 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_26->_S5197 = _S5198;
    float2  _S5199 = make_float2 (0.0f);
    float3  _S5200 = make_float3 (0.0f);
    float3  mean_c_49 = s_primal_ctx_mul_0(dpR_14, dpmean_14) + dpt_13;
    float4  intrins_42 = make_float4 (fx_64, fy_64, cx_59, cy_59);
    float3  _S5201 = s_primal_ctx_exp_0(dpscale_13);
    float _S5202 = dpquat_13.y;
    float x2_55 = _S5202 * _S5202;
    float y2_55 = dpquat_13.z * dpquat_13.z;
    float z2_70 = dpquat_13.w * dpquat_13.w;
    float xy_55 = dpquat_13.y * dpquat_13.z;
    float xz_55 = dpquat_13.y * dpquat_13.w;
    float yz_55 = dpquat_13.z * dpquat_13.w;
    float wx_55 = dpquat_13.x * dpquat_13.y;
    float wy_55 = dpquat_13.x * dpquat_13.z;
    float wz_55 = dpquat_13.x * dpquat_13.w;
    Matrix<float, 3, 3>  _S5203 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_55 + z2_70), 2.0f * (xy_55 + wz_55), 2.0f * (xz_55 - wy_55), 2.0f * (xy_55 - wz_55), 1.0f - 2.0f * (x2_55 + z2_70), 2.0f * (yz_55 + wx_55), 2.0f * (xz_55 + wy_55), 2.0f * (yz_55 - wx_55), 1.0f - 2.0f * (x2_55 + y2_55))));
    FixedArray<float3 , 7>  _S5204 = {
        _S5200, _S5200, _S5200, _S5200, _S5200, _S5200, _S5200
    };
    FixedArray<float, 7>  _S5205 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5206;
    (&_S5206)->p_0 = _S5204;
    (&_S5206)->w_mean_0 = _S5205;
    (&_S5206)->w_cov_0 = _S5205;
    (&_S5206)->p_0[int(0)] = dpmean_14;
    SigmaPoints_0 _S5207 = _S5206;
    (&_S5207)->w_mean_0[int(0)] = 0.0f;
    (&_S5207)->w_cov_0[int(0)] = 2.0f;
    float _S5208 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_120 = make_float3 (_S5208 * _S5201.x) * _S5203.rows[0U];
    float3  _S5209 = dpmean_14 + delta_120;
    float3  _S5210 = dpmean_14 - delta_120;
    float3  delta_121 = make_float3 (_S5208 * _S5201.y) * _S5203.rows[1U];
    float3  _S5211 = dpmean_14 + delta_121;
    float3  _S5212 = dpmean_14 - delta_121;
    float3  delta_122 = make_float3 (_S5208 * _S5201.z) * _S5203.rows[2U];
    float3  _S5213 = dpmean_14 + delta_122;
    float3  _S5214 = dpmean_14 - delta_122;
    (&_S5207)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5207)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5207)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5207)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5207)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5207)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5207)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5207)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5207)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5207)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5207)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5207)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5207)->p_0[0U] = s_primal_ctx_mul_0(dpR_14, _S5206.p_0[0U]) + dpt_13;
    (&_S5207)->p_0[1U] = s_primal_ctx_mul_0(dpR_14, _S5209) + dpt_13;
    (&_S5207)->p_0[2U] = s_primal_ctx_mul_0(dpR_14, _S5211) + dpt_13;
    (&_S5207)->p_0[3U] = s_primal_ctx_mul_0(dpR_14, _S5213) + dpt_13;
    (&_S5207)->p_0[4U] = s_primal_ctx_mul_0(dpR_14, _S5210) + dpt_13;
    (&_S5207)->p_0[5U] = s_primal_ctx_mul_0(dpR_14, _S5212) + dpt_13;
    (&_S5207)->p_0[6U] = s_primal_ctx_mul_0(dpR_14, _S5214) + dpt_13;
    float2  _S5215 = _S5199;
    Matrix<float, 2, 2>  _S5216 = _S5198;
    SigmaPoints_0 _S5217 = _S5207;
    bool _S5218 = persp_proj_3dgs_ut_1(&_S5217, intrins_42, dist_coeffs_68, image_width_55, image_height_55, &_S5216, &_S5215);
    _s_diff_ctx_26->_S5197 = _S5216;
    float2  _S5219 = _S5215;
    float _S5220 = _S5216.rows[int(0)].y * _S5216.rows[int(1)].x;
    float det_orig_50 = _S5216.rows[int(0)].x * _S5216.rows[int(1)].y - _S5220;
    float _S5221 = _S5216.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5222 = _S5216;
    *&(((&_S5222)->rows + (int(0)))->x) = _S5221;
    float _S5223 = _S5216.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5222)->rows + (int(1)))->y) = _S5223;
    Matrix<float, 2, 2>  _S5224 = _S5222;
    Matrix<float, 2, 2>  _S5225 = _S5222;
    float _S5226 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_50 / (_S5221 * _S5223 - _S5220)));
    float _S5227 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_12));
    float _S5228;
    if(antialiased_55)
    {
        _S5228 = _S5227 * _S5226;
    }
    else
    {
        _S5228 = _S5227;
    }
    float _S5229 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5228 / 0.00392156885936856f)));
    float radius_x_38 = _S5229 * s_primal_ctx_sqrt_0(_S5224.rows[int(0)].x);
    float radius_y_38 = _S5229 * s_primal_ctx_sqrt_0(_S5225.rows[int(1)].y);
    float _S5230 = _S5219.x;
    float _S5231 = _S5219.y;
    float _S5232 = mean_c_49.z;
    float _S5233 = s_primal_ctx_max_0(_S5232, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5232 + length_1(mean_c_49)));
    float3  _S5234 = s_primal_ctx_exp_0(- dpscale_13);
    float3  _S5235 = dpmean_14 - - s_primal_ctx_mul_0(transpose_0(dpR_14), dpt_13);
    float3  _S5236 = _S5235 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5235, _S5235)));
    float _S5237 = s_primal_ctx_dot_0((*dpsv_sites_12)[int(4)], _S5236);
    float _S5238 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(0)], _S5236) - _S5237);
    float _S5239 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(1)], _S5236) - _S5237);
    float _S5240 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(2)], _S5236) - _S5237);
    float _S5241 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_12)[int(3)], _S5236) - _S5237);
    float _S5242 = s_primal_ctx_exp_1(0.0f);
    float3  _S5243 = s_primal_ctx_max_1((make_float3 (_S5238) * (*dpsv_colors_12)[int(0)] + make_float3 (_S5239) * (*dpsv_colors_12)[int(1)] + make_float3 (_S5240) * (*dpsv_colors_12)[int(2)] + make_float3 (_S5241) * (*dpsv_colors_12)[int(3)] + make_float3 (_S5242) * (*dpsv_colors_12)[int(4)]) / make_float3 (_S5238 + _S5239 + _S5240 + _S5241 + _S5242) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_38 = make_int4 (int((F32_floor((_S5230 - radius_x_38)))), int((F32_floor((_S5231 - radius_y_38)))), int((F32_ceil((_S5230 + radius_x_38)))), int((F32_ceil((_S5231 + radius_y_38)))));
    *dpmean2d_14 = _S5219;
    *dpdepth_13 = _S5233;
    *dpconic_12 = _S5234;
    *dpopacity_14 = _S5228;
    *dprgb_13 = _S5243;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(bool antialiased_56, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_15, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_14, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_14, DiffPair_float_0 * dpin_opacity_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_13, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_13, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_15, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_14, float fx_65, float fy_65, float cx_60, float cy_60, FixedArray<float, 10>  * dist_coeffs_69, uint image_width_56, uint image_height_56, float near_plane_45, float far_plane_45, float2  dpmean2d_15, float dpdepth_14, float3  dpconic_13, float dpopacity_15, float3  dprgb_14, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 * _s_diff_ctx_27)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5244 = *dpmean_15;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5245 = *dpquat_14;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5246 = *dpscale_14;
    FixedArray<float3 , 5>  _S5247 = dpsv_sites_13->primal_0;
    FixedArray<float3 , 5>  _S5248 = dpsv_colors_13->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5249 = *dpR_15;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5250 = *dpt_14;
    float3  _S5251 = make_float3 (0.0f);
    float3  mean_c_50 = s_primal_ctx_mul_0((*dpR_15).primal_0, (*dpmean_15).primal_0) + (*dpt_14).primal_0;
    float3  _S5252 = s_primal_ctx_exp_0((*dpscale_14).primal_0);
    float _S5253 = (*dpquat_14).primal_0.y;
    float x2_56 = _S5253 * _S5253;
    float y2_56 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.z;
    float z2_71 = (*dpquat_14).primal_0.w * (*dpquat_14).primal_0.w;
    float xy_56 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.z;
    float xz_56 = (*dpquat_14).primal_0.y * (*dpquat_14).primal_0.w;
    float yz_56 = (*dpquat_14).primal_0.z * (*dpquat_14).primal_0.w;
    float wx_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.y;
    float wy_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.z;
    float wz_56 = (*dpquat_14).primal_0.x * (*dpquat_14).primal_0.w;
    Matrix<float, 3, 3>  _S5254 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_56 + z2_71), 2.0f * (xy_56 + wz_56), 2.0f * (xz_56 - wy_56), 2.0f * (xy_56 - wz_56), 1.0f - 2.0f * (x2_56 + z2_71), 2.0f * (yz_56 + wx_56), 2.0f * (xz_56 + wy_56), 2.0f * (yz_56 - wx_56), 1.0f - 2.0f * (x2_56 + y2_56))));
    FixedArray<float3 , 7>  _S5255 = {
        _S5251, _S5251, _S5251, _S5251, _S5251, _S5251, _S5251
    };
    FixedArray<float, 7>  _S5256 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5257;
    (&_S5257)->p_0 = _S5255;
    (&_S5257)->w_mean_0 = _S5256;
    (&_S5257)->w_cov_0 = _S5256;
    (&_S5257)->p_0[int(0)] = (*dpmean_15).primal_0;
    float _S5258 = s_primal_ctx_sqrt_0(3.0f);
    float _S5259 = _S5258 * _S5252.x;
    float3  _S5260 = make_float3 (_S5259);
    float3  delta_123 = make_float3 (_S5259) * _S5254.rows[0U];
    float3  _S5261 = (*dpmean_15).primal_0 + delta_123;
    float3  _S5262 = (*dpmean_15).primal_0 - delta_123;
    float _S5263 = _S5258 * _S5252.y;
    float3  _S5264 = make_float3 (_S5263);
    float3  delta_124 = make_float3 (_S5263) * _S5254.rows[1U];
    float3  _S5265 = (*dpmean_15).primal_0 + delta_124;
    float3  _S5266 = (*dpmean_15).primal_0 - delta_124;
    float _S5267 = _S5258 * _S5252.z;
    float3  _S5268 = make_float3 (_S5267);
    float3  delta_125 = make_float3 (_S5267) * _S5254.rows[2U];
    float3  _S5269 = (*dpmean_15).primal_0 + delta_125;
    float3  _S5270 = (*dpmean_15).primal_0 - delta_125;
    SigmaPoints_0 _S5271 = _S5257;
    float _S5272 = *&(((&_s_diff_ctx_27->_S5197)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_27->_S5197)->rows + (int(1)))->x);
    float det_orig_51 = *&(((&_s_diff_ctx_27->_S5197)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_27->_S5197)->rows + (int(1)))->y) - _S5272;
    float _S5273 = *&(((&_s_diff_ctx_27->_S5197)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5274 = _s_diff_ctx_27->_S5197;
    *&(((&_S5274)->rows + (int(0)))->x) = _S5273;
    float _S5275 = *&(((&_s_diff_ctx_27->_S5197)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5274)->rows + (int(1)))->y) = _S5275;
    Matrix<float, 2, 2>  _S5276 = _S5274;
    Matrix<float, 2, 2>  _S5277 = _S5274;
    float det_blur_31 = _S5273 * _S5275 - _S5272;
    float _S5278 = det_orig_51 / det_blur_31;
    float _S5279 = det_blur_31 * det_blur_31;
    float _S5280 = s_primal_ctx_max_0(0.0f, _S5278);
    float _S5281 = s_primal_ctx_sqrt_0(_S5280);
    float _S5282 = - (*dpin_opacity_13).primal_0;
    float _S5283 = 1.0f + s_primal_ctx_exp_1(_S5282);
    float _S5284 = 1.0f / _S5283;
    float _S5285 = _S5283 * _S5283;
    float _S5286;
    if(antialiased_56)
    {
        _S5286 = _S5284 * _S5281;
    }
    else
    {
        _S5286 = _S5284;
    }
    float _S5287 = _S5286 / 0.00392156885936856f;
    float _S5288 = 2.0f * s_primal_ctx_log_0(_S5287);
    float _S5289 = s_primal_ctx_sqrt_0(_S5288);
    float _S5290 = _S5276.rows[int(0)].x;
    float _S5291 = _S5277.rows[int(1)].y;
    float _S5292 = mean_c_50.z;
    float _S5293 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5294 = _S5293 * (_S5292 + length_1(mean_c_50));
    float3  _S5295 = - _S5246.primal_0;
    Matrix<float, 3, 3>  _S5296 = transpose_0(_S5249.primal_0);
    float3  _S5297 = _S5244.primal_0 - - s_primal_ctx_mul_0(_S5296, _S5250.primal_0);
    float _S5298 = s_primal_ctx_dot_0(_S5297, _S5297);
    float _S5299 = s_primal_ctx_rsqrt_0(_S5298);
    float3  _S5300 = make_float3 (_S5299);
    float3  _S5301 = _S5297 * make_float3 (_S5299);
    float _S5302 = s_primal_ctx_dot_0(_S5247[int(4)], _S5301);
    float _S5303 = s_primal_ctx_dot_0(_S5247[int(0)], _S5301) - _S5302;
    float _S5304 = s_primal_ctx_exp_1(_S5303);
    float3  _S5305 = make_float3 (_S5304);
    float _S5306 = s_primal_ctx_dot_0(_S5247[int(1)], _S5301) - _S5302;
    float _S5307 = s_primal_ctx_exp_1(_S5306);
    float3  _S5308 = make_float3 (_S5307);
    float _S5309 = s_primal_ctx_dot_0(_S5247[int(2)], _S5301) - _S5302;
    float _S5310 = s_primal_ctx_exp_1(_S5309);
    float3  _S5311 = make_float3 (_S5310);
    float _S5312 = s_primal_ctx_dot_0(_S5247[int(3)], _S5301) - _S5302;
    float _S5313 = s_primal_ctx_exp_1(_S5312);
    float3  _S5314 = make_float3 (_S5313);
    float _S5315 = s_primal_ctx_exp_1(0.0f);
    float3  _S5316 = make_float3 (_S5315);
    float total_w_6 = _S5304 + _S5307 + _S5310 + _S5313 + _S5315;
    float3  _S5317 = make_float3 (total_w_6);
    float3  total_c_6 = make_float3 (_S5304) * _S5248[int(0)] + make_float3 (_S5307) * _S5248[int(1)] + make_float3 (_S5310) * _S5248[int(2)] + make_float3 (_S5313) * _S5248[int(3)] + make_float3 (_S5315) * _S5248[int(4)];
    float3  _S5318 = make_float3 (total_w_6 * total_w_6);
    float3  _S5319 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5320;
    (&_S5320)->primal_0 = total_c_6 / make_float3 (total_w_6) + make_float3 (0.5f);
    (&_S5320)->differential_0 = _S5251;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5321;
    (&_S5321)->primal_0 = _S5319;
    (&_S5321)->differential_0 = _S5251;
    s_bwd_prop_max_0(&_S5320, &_S5321, dprgb_14);
    float3  _S5322 = _S5320.differential_0 / _S5318;
    float3  _S5323 = total_c_6 * - _S5322;
    float3  s_diff_total_c_T_6 = _S5317 * _S5322;
    float3  _S5324 = _S5316 * s_diff_total_c_T_6;
    float _S5325 = _S5323.x + _S5323.y + _S5323.z;
    float3  _S5326 = _S5314 * s_diff_total_c_T_6;
    float3  _S5327 = _S5248[int(3)] * s_diff_total_c_T_6;
    float _S5328 = _S5325 + _S5327.x + _S5327.y + _S5327.z;
    DiffPair_float_0 _S5329;
    (&_S5329)->primal_0 = _S5312;
    (&_S5329)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5329, _S5328);
    float _S5330 = - _S5329.differential_0;
    float3  _S5331 = _S5311 * s_diff_total_c_T_6;
    float3  _S5332 = _S5248[int(2)] * s_diff_total_c_T_6;
    float _S5333 = _S5325 + _S5332.x + _S5332.y + _S5332.z;
    DiffPair_float_0 _S5334;
    (&_S5334)->primal_0 = _S5309;
    (&_S5334)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5334, _S5333);
    float _S5335 = - _S5334.differential_0;
    float3  _S5336 = _S5308 * s_diff_total_c_T_6;
    float3  _S5337 = _S5248[int(1)] * s_diff_total_c_T_6;
    float _S5338 = _S5325 + _S5337.x + _S5337.y + _S5337.z;
    DiffPair_float_0 _S5339;
    (&_S5339)->primal_0 = _S5306;
    (&_S5339)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5339, _S5338);
    float _S5340 = - _S5339.differential_0;
    float3  _S5341 = _S5305 * s_diff_total_c_T_6;
    float3  _S5342 = _S5248[int(0)] * s_diff_total_c_T_6;
    float _S5343 = _S5325 + _S5342.x + _S5342.y + _S5342.z;
    DiffPair_float_0 _S5344;
    (&_S5344)->primal_0 = _S5303;
    (&_S5344)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5344, _S5343);
    float _S5345 = _S5330 + _S5335 + _S5340 + - _S5344.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5346;
    (&_S5346)->primal_0 = _S5247[int(4)];
    (&_S5346)->differential_0 = _S5251;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5347;
    (&_S5347)->primal_0 = _S5301;
    (&_S5347)->differential_0 = _S5251;
    s_bwd_prop_dot_0(&_S5346, &_S5347, _S5345);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5348;
    (&_S5348)->primal_0 = _S5247[int(3)];
    (&_S5348)->differential_0 = _S5251;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5349;
    (&_S5349)->primal_0 = _S5301;
    (&_S5349)->differential_0 = _S5251;
    s_bwd_prop_dot_0(&_S5348, &_S5349, _S5329.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5350;
    (&_S5350)->primal_0 = _S5247[int(2)];
    (&_S5350)->differential_0 = _S5251;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5351;
    (&_S5351)->primal_0 = _S5301;
    (&_S5351)->differential_0 = _S5251;
    s_bwd_prop_dot_0(&_S5350, &_S5351, _S5334.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5352;
    (&_S5352)->primal_0 = _S5247[int(1)];
    (&_S5352)->differential_0 = _S5251;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5353;
    (&_S5353)->primal_0 = _S5301;
    (&_S5353)->differential_0 = _S5251;
    s_bwd_prop_dot_0(&_S5352, &_S5353, _S5339.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5354;
    (&_S5354)->primal_0 = _S5247[int(0)];
    (&_S5354)->differential_0 = _S5251;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5355;
    (&_S5355)->primal_0 = _S5301;
    (&_S5355)->differential_0 = _S5251;
    s_bwd_prop_dot_0(&_S5354, &_S5355, _S5344.differential_0);
    float3  _S5356 = _S5347.differential_0 + _S5349.differential_0 + _S5351.differential_0 + _S5353.differential_0 + _S5355.differential_0;
    float3  _S5357 = _S5297 * _S5356;
    float3  _S5358 = _S5300 * _S5356;
    float _S5359 = _S5357.x + _S5357.y + _S5357.z;
    DiffPair_float_0 _S5360;
    (&_S5360)->primal_0 = _S5298;
    (&_S5360)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5360, _S5359);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5361;
    (&_S5361)->primal_0 = _S5297;
    (&_S5361)->differential_0 = _S5251;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5362;
    (&_S5362)->primal_0 = _S5297;
    (&_S5362)->differential_0 = _S5251;
    s_bwd_prop_dot_0(&_S5361, &_S5362, _S5360.differential_0);
    float3  _S5363 = _S5358 + _S5362.differential_0 + _S5361.differential_0;
    float3  _S5364 = - - _S5363;
    Matrix<float, 3, 3>  _S5365 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5366;
    (&_S5366)->primal_0 = _S5296;
    (&_S5366)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5367;
    (&_S5367)->primal_0 = _S5250.primal_0;
    (&_S5367)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5366, &_S5367, _S5364);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5368 = _S5367;
    Matrix<float, 3, 3>  _S5369 = transpose_0(_S5366.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5370;
    (&_S5370)->primal_0 = _S5295;
    (&_S5370)->differential_0 = _S5251;
    s_bwd_prop_exp_1(&_S5370, dpconic_13);
    float3  _S5371 = - _S5370.differential_0;
    DiffPair_float_0 _S5372;
    (&_S5372)->primal_0 = _S5292;
    (&_S5372)->differential_0 = 0.0f;
    DiffPair_float_0 _S5373;
    (&_S5373)->primal_0 = _S5294;
    (&_S5373)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5372, &_S5373, dpdepth_14);
    float _S5374 = _S5293 * _S5373.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5375;
    (&_S5375)->primal_0 = mean_c_50;
    (&_S5375)->differential_0 = _S5251;
    s_bwd_length_impl_1(&_S5375, _S5374);
    float _S5376 = _S5372.differential_0 + _S5374;
    DiffPair_float_0 _S5377;
    (&_S5377)->primal_0 = _S5291;
    (&_S5377)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5377, 0.0f);
    DiffPair_float_0 _S5378;
    (&_S5378)->primal_0 = _S5290;
    (&_S5378)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5378, 0.0f);
    DiffPair_float_0 _S5379;
    (&_S5379)->primal_0 = 3.32999992370605469f;
    (&_S5379)->differential_0 = 0.0f;
    DiffPair_float_0 _S5380;
    (&_S5380)->primal_0 = _S5289;
    (&_S5380)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5379, &_S5380, 0.0f);
    DiffPair_float_0 _S5381;
    (&_S5381)->primal_0 = _S5288;
    (&_S5381)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5381, _S5380.differential_0);
    float _S5382 = 2.0f * _S5381.differential_0;
    DiffPair_float_0 _S5383;
    (&_S5383)->primal_0 = _S5287;
    (&_S5383)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5383, _S5382);
    float _S5384 = dpopacity_15 + 254.9999847412109375f * _S5383.differential_0;
    FixedArray<float3 , 5>  _S5385;
    _S5385[int(0)] = _S5251;
    _S5385[int(1)] = _S5251;
    _S5385[int(2)] = _S5251;
    _S5385[int(3)] = _S5251;
    _S5385[int(4)] = _S5251;
    _S5385[int(4)] = _S5324;
    _S5385[int(3)] = _S5326;
    _S5385[int(2)] = _S5331;
    _S5385[int(1)] = _S5336;
    _S5385[int(0)] = _S5341;
    FixedArray<float3 , 5>  _S5386 = {
        _S5385[int(0)], _S5385[int(1)], _S5385[int(2)], _S5385[int(3)], _S5385[int(4)]
    };
    FixedArray<float3 , 5>  _S5387;
    _S5387[int(0)] = _S5251;
    _S5387[int(1)] = _S5251;
    _S5387[int(2)] = _S5251;
    _S5387[int(3)] = _S5251;
    _S5387[int(4)] = _S5251;
    _S5387[int(4)] = _S5346.differential_0;
    _S5387[int(3)] = _S5348.differential_0;
    _S5387[int(2)] = _S5350.differential_0;
    _S5387[int(1)] = _S5352.differential_0;
    _S5387[int(0)] = _S5354.differential_0;
    FixedArray<float3 , 5>  _S5388 = {
        _S5387[int(0)], _S5387[int(1)], _S5387[int(2)], _S5387[int(3)], _S5387[int(4)]
    };
    float3  _S5389 = _S5375.differential_0 + make_float3 (0.0f, 0.0f, _S5376);
    float2  _S5390 = make_float2 (0.0f, _S5377.differential_0);
    float2  _S5391 = make_float2 (_S5378.differential_0, 0.0f);
    float _S5392;
    if(antialiased_56)
    {
        float _S5393 = _S5284 * _S5384;
        _S5286 = _S5281 * _S5384;
        _S5392 = _S5393;
    }
    else
    {
        _S5286 = _S5384;
        _S5392 = 0.0f;
    }
    float _S5394 = - (_S5286 / _S5285);
    DiffPair_float_0 _S5395;
    (&_S5395)->primal_0 = _S5282;
    (&_S5395)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5395, _S5394);
    float _S5396 = - _S5395.differential_0;
    DiffPair_float_0 _S5397;
    (&_S5397)->primal_0 = _S5280;
    (&_S5397)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5397, _S5392);
    DiffPair_float_0 _S5398;
    (&_S5398)->primal_0 = 0.0f;
    (&_S5398)->differential_0 = 0.0f;
    DiffPair_float_0 _S5399;
    (&_S5399)->primal_0 = _S5278;
    (&_S5399)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5398, &_S5399, _S5397.differential_0);
    float _S5400 = _S5399.differential_0 / _S5279;
    float s_diff_det_blur_T_8 = det_orig_51 * - _S5400;
    float s_diff_det_orig_T_11 = det_blur_31 * _S5400;
    float _S5401 = - s_diff_det_blur_T_8;
    float _S5402 = _S5273 * s_diff_det_blur_T_8;
    float _S5403 = _S5275 * s_diff_det_blur_T_8;
    Matrix<float, 2, 2>  _S5404 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5405 = _S5404;
    _S5405[int(1)] = _S5390;
    _S5405[int(0)] = _S5391;
    float _S5406 = _S5403 + _S5405.rows[int(0)].x;
    float _S5407 = _S5401 + - s_diff_det_orig_T_11;
    float _S5408 = *&(((&_s_diff_ctx_27->_S5197)->rows + (int(0)))->y) * _S5407;
    float _S5409 = *&(((&_s_diff_ctx_27->_S5197)->rows + (int(1)))->x) * _S5407;
    float _S5410 = *&(((&_s_diff_ctx_27->_S5197)->rows + (int(1)))->y) * s_diff_det_orig_T_11;
    float _S5411 = _S5402 + _S5405.rows[int(1)].y + *&(((&_s_diff_ctx_27->_S5197)->rows + (int(0)))->x) * s_diff_det_orig_T_11;
    float2  _S5412 = make_float2 (0.0f);
    float2  _S5413 = _S5412;
    *&((&_S5413)->x) = _S5408;
    *&((&_S5413)->y) = _S5411;
    float _S5414 = _S5406 + _S5410;
    float2  _S5415 = _S5412;
    *&((&_S5415)->y) = _S5409;
    *&((&_S5415)->x) = _S5414;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5416;
    (&_S5416)->primal_0 = _S5249.primal_0;
    (&_S5416)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5417;
    (&_S5417)->primal_0 = _S5270;
    (&_S5417)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5416, &_S5417, _S5251);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5418;
    (&_S5418)->primal_0 = _S5249.primal_0;
    (&_S5418)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5419;
    (&_S5419)->primal_0 = _S5266;
    (&_S5419)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5418, &_S5419, _S5251);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5420;
    (&_S5420)->primal_0 = _S5249.primal_0;
    (&_S5420)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5421;
    (&_S5421)->primal_0 = _S5262;
    (&_S5421)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5420, &_S5421, _S5251);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5422;
    (&_S5422)->primal_0 = _S5249.primal_0;
    (&_S5422)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5423;
    (&_S5423)->primal_0 = _S5269;
    (&_S5423)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5422, &_S5423, _S5251);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5424;
    (&_S5424)->primal_0 = _S5249.primal_0;
    (&_S5424)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5425;
    (&_S5425)->primal_0 = _S5265;
    (&_S5425)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5424, &_S5425, _S5251);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5426;
    (&_S5426)->primal_0 = _S5249.primal_0;
    (&_S5426)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5427;
    (&_S5427)->primal_0 = _S5261;
    (&_S5427)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5426, &_S5427, _S5251);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5428;
    (&_S5428)->primal_0 = _S5249.primal_0;
    (&_S5428)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5429;
    (&_S5429)->primal_0 = _S5271.p_0[0U];
    (&_S5429)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5428, &_S5429, _S5251);
    float3  _S5430 = - _S5417.differential_0 + _S5423.differential_0;
    float3  _S5431 = _S5268 * _S5430;
    float3  _S5432 = _S5254.rows[2U] * _S5430;
    float _S5433 = _S5258 * (_S5432.x + _S5432.y + _S5432.z);
    float3  _S5434 = - _S5419.differential_0 + _S5425.differential_0;
    float3  _S5435 = _S5264 * _S5434;
    float3  _S5436 = _S5254.rows[1U] * _S5434;
    float _S5437 = _S5258 * (_S5436.x + _S5436.y + _S5436.z);
    float3  _S5438 = - _S5421.differential_0 + _S5427.differential_0;
    float3  _S5439 = _S5260 * _S5438;
    float3  _S5440 = _S5254.rows[0U] * _S5438;
    float _S5441 = _S5258 * (_S5440.x + _S5440.y + _S5440.z);
    Matrix<float, 3, 3>  _S5442 = _S5365;
    _S5442[2U] = _S5431;
    _S5442[1U] = _S5435;
    _S5442[0U] = _S5439;
    Matrix<float, 3, 3>  _S5443 = transpose_0(transpose_0(_S5442));
    float _S5444 = 2.0f * - _S5443.rows[int(2)].z;
    float _S5445 = 2.0f * _S5443.rows[int(2)].y;
    float _S5446 = 2.0f * _S5443.rows[int(2)].x;
    float _S5447 = 2.0f * _S5443.rows[int(1)].z;
    float _S5448 = 2.0f * - _S5443.rows[int(1)].y;
    float _S5449 = 2.0f * _S5443.rows[int(1)].x;
    float _S5450 = 2.0f * _S5443.rows[int(0)].z;
    float _S5451 = 2.0f * _S5443.rows[int(0)].y;
    float _S5452 = 2.0f * - _S5443.rows[int(0)].x;
    float _S5453 = - _S5449 + _S5451;
    float _S5454 = _S5446 + - _S5450;
    float _S5455 = - _S5445 + _S5447;
    float _S5456 = _S5445 + _S5447;
    float _S5457 = _S5446 + _S5450;
    float _S5458 = _S5449 + _S5451;
    float _S5459 = _S5245.primal_0.w * (_S5448 + _S5452);
    float _S5460 = _S5245.primal_0.z * (_S5444 + _S5452);
    float _S5461 = _S5245.primal_0.y * (_S5444 + _S5448);
    float _S5462 = _S5245.primal_0.x * _S5453 + _S5245.primal_0.z * _S5456 + _S5245.primal_0.y * _S5457 + _S5459 + _S5459;
    float _S5463 = _S5245.primal_0.x * _S5454 + _S5245.primal_0.w * _S5456 + _S5245.primal_0.y * _S5458 + _S5460 + _S5460;
    float _S5464 = _S5245.primal_0.x * _S5455 + _S5245.primal_0.w * _S5457 + _S5245.primal_0.z * _S5458 + _S5461 + _S5461;
    float _S5465 = _S5245.primal_0.w * _S5453 + _S5245.primal_0.z * _S5454 + _S5245.primal_0.y * _S5455;
    float3  _S5466 = _S5251;
    *&((&_S5466)->z) = _S5433;
    *&((&_S5466)->y) = _S5437;
    *&((&_S5466)->x) = _S5441;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5467;
    (&_S5467)->primal_0 = _S5246.primal_0;
    (&_S5467)->differential_0 = _S5251;
    s_bwd_prop_exp_1(&_S5467, _S5466);
    Matrix<float, 2, 2>  _S5468 = _S5404;
    _S5468[int(1)] = _S5413;
    _S5468[int(0)] = _S5415;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5469;
    (&_S5469)->primal_0 = _S5249.primal_0;
    (&_S5469)->differential_0 = _S5365;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5470;
    (&_S5470)->primal_0 = _S5244.primal_0;
    (&_S5470)->differential_0 = _S5251;
    s_bwd_prop_mul_1(&_S5469, &_S5470, _S5389);
    float3  _S5471 = _S5389 + _S5368.differential_0;
    dpt_14->primal_0 = (*dpt_14).primal_0;
    dpt_14->differential_0 = _S5471;
    Matrix<float, 3, 3>  _S5472 = _S5416.differential_0 + _S5418.differential_0 + _S5420.differential_0 + _S5422.differential_0 + _S5424.differential_0 + _S5426.differential_0 + _S5428.differential_0 + _S5469.differential_0 + _S5369;
    dpR_15->primal_0 = (*dpR_15).primal_0;
    dpR_15->differential_0 = _S5472;
    dpsv_colors_13->primal_0 = dpsv_colors_13->primal_0;
    dpsv_colors_13->differential_0 = _S5386;
    dpsv_sites_13->primal_0 = dpsv_sites_13->primal_0;
    dpsv_sites_13->differential_0 = _S5388;
    dpin_opacity_13->primal_0 = (*dpin_opacity_13).primal_0;
    dpin_opacity_13->differential_0 = _S5396;
    float3  _S5473 = _S5467.differential_0 + _S5371;
    dpscale_14->primal_0 = (*dpscale_14).primal_0;
    dpscale_14->differential_0 = _S5473;
    float4  _S5474 = make_float4 (0.0f);
    *&((&_S5474)->w) = _S5462;
    *&((&_S5474)->z) = _S5463;
    *&((&_S5474)->y) = _S5464;
    *&((&_S5474)->x) = _S5465;
    dpquat_14->primal_0 = (*dpquat_14).primal_0;
    dpquat_14->differential_0 = _S5474;
    float3  _S5475 = _S5417.differential_0 + _S5423.differential_0 + _S5419.differential_0 + _S5425.differential_0 + _S5421.differential_0 + _S5427.differential_0 + _S5470.differential_0 + _S5363;
    dpmean_15->primal_0 = (*dpmean_15).primal_0;
    dpmean_15->differential_0 = _S5475;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_3(bool _S5476, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5477, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5478, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5479, DiffPair_float_0 * _S5480, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5481, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5482, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5483, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5484, float _S5485, float _S5486, float _S5487, float _S5488, FixedArray<float, 10>  * _S5489, uint _S5490, uint _S5491, float _S5492, float _S5493, float2  _S5494, float _S5495, float3  _S5496, float _S5497, float3  _S5498)
{
    FixedArray<float3 , 5>  _S5499 = _S5481->primal_0;
    FixedArray<float3 , 5>  _S5500 = _S5482->primal_0;
    int4  _S5501;
    float2  _S5502;
    float _S5503;
    float3  _S5504;
    float _S5505;
    float3  _S5506;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S5507;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_3(_S5476, (*_S5477).primal_0, (*_S5478).primal_0, (*_S5479).primal_0, (*_S5480).primal_0, &_S5499, &_S5500, (*_S5483).primal_0, (*_S5484).primal_0, _S5485, _S5486, _S5487, _S5488, _S5489, _S5490, _S5491, _S5492, _S5493, &_S5501, &_S5502, &_S5503, &_S5504, &_S5505, &_S5506, &_S5507);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_3 _S5508 = _S5507;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_3(_S5476, _S5477, _S5478, _S5479, _S5480, _S5481, _S5482, _S5483, _S5484, _S5485, _S5486, _S5487, _S5488, _S5489, _S5490, _S5491, _S5492, _S5493, _S5494, _S5495, _S5496, _S5497, _S5498, &_S5508);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_57, float3  mean_48, float4  quat_49, float3  scale_48, float in_opacity_43, FixedArray<float3 , 5>  * sv_sites_28, FixedArray<float3 , 5>  * sv_colors_28, Matrix<float, 3, 3>  R_50, float3  t_46, float fx_66, float fy_66, float cx_61, float cy_61, FixedArray<float, 10>  * dist_coeffs_70, uint image_width_57, uint image_height_57, float2  v_mean2d_11, float v_depth_12, float3  v_conic_11, float v_opacity_13, float3  v_rgb_12, float3  * v_mean_13, float4  * v_quat_12, float3  * v_scale_12, float * v_in_opacity_11, FixedArray<float3 , 5>  * v_sv_dirs_6, FixedArray<float3 , 5>  * v_sv_colors_6, Matrix<float, 3, 3>  * v_R_13, float3  * v_t_12)
{
    float3  _S5509 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_8;
    (&dp_mean_8)->primal_0 = mean_48;
    (&dp_mean_8)->differential_0 = _S5509;
    float4  _S5510 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_7;
    (&dp_quat_7)->primal_0 = quat_49;
    (&dp_quat_7)->differential_0 = _S5510;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_7;
    (&dp_scale_7)->primal_0 = scale_48;
    (&dp_scale_7)->differential_0 = _S5509;
    DiffPair_float_0 dp_in_opacity_6;
    (&dp_in_opacity_6)->primal_0 = in_opacity_43;
    (&dp_in_opacity_6)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S5511 = { _S5509, _S5509, _S5509, _S5509, _S5509 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_6;
    (&dp_sv_dirs_6)->primal_0 = *sv_sites_28;
    (&dp_sv_dirs_6)->differential_0 = _S5511;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_6;
    (&dp_sv_colors_6)->primal_0 = *sv_colors_28;
    (&dp_sv_colors_6)->differential_0 = _S5511;
    Matrix<float, 3, 3>  _S5512 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_8;
    (&dp_R_8)->primal_0 = R_50;
    (&dp_R_8)->differential_0 = _S5512;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_7;
    (&dp_t_7)->primal_0 = t_46;
    (&dp_t_7)->differential_0 = _S5509;
    s_bwd_projection_3dgut_sv_persp_differentiable_3(antialiased_57, &dp_mean_8, &dp_quat_7, &dp_scale_7, &dp_in_opacity_6, &dp_sv_dirs_6, &dp_sv_colors_6, &dp_R_8, &dp_t_7, fx_66, fy_66, cx_61, cy_61, dist_coeffs_70, image_width_57, image_height_57, 0.0f, 1.00000001504746622e+30f, v_mean2d_11, v_depth_12, v_conic_11, v_opacity_13, v_rgb_12);
    *v_mean_13 = dp_mean_8.differential_0;
    *v_quat_12 = dp_quat_7.differential_0;
    *v_scale_12 = dp_scale_7.differential_0;
    *v_in_opacity_11 = dp_in_opacity_6.differential_0;
    *v_sv_dirs_6 = (&dp_sv_dirs_6)->differential_0;
    *v_sv_colors_6 = (&dp_sv_colors_6)->differential_0;
    *v_R_13 = dp_R_8.differential_0;
    *v_t_12 = dp_t_7.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3
{
    Matrix<float, 2, 2>  _S5513;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_58, float3  dpmean_16, float4  dpquat_15, float3  dpscale_15, float dpin_opacity_14, FixedArray<float3 , 5>  * dpsv_sites_14, FixedArray<float3 , 5>  * dpsv_colors_14, Matrix<float, 3, 3>  dpR_16, float3  dpt_15, float fx_67, float fy_67, float cx_62, float cy_62, FixedArray<float, 10>  * dist_coeffs_71, uint image_width_58, uint image_height_58, float near_plane_46, float far_plane_46, int4  * aabb_xyxy_39, float2  * dpmean2d_16, float * dpdepth_15, float3  * dpconic_14, float * dpopacity_16, float3  * dprgb_15, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_28)
{
    Matrix<float, 2, 2>  _S5514 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_28->_S5513 = _S5514;
    float2  _S5515 = make_float2 (0.0f);
    float3  _S5516 = make_float3 (0.0f);
    float3  mean_c_51 = s_primal_ctx_mul_0(dpR_16, dpmean_16) + dpt_15;
    float _S5517 = length_1(mean_c_51);
    float4  intrins_43 = make_float4 (fx_67, fy_67, cx_62, cy_62);
    float3  _S5518 = s_primal_ctx_exp_0(dpscale_15);
    float _S5519 = dpquat_15.y;
    float x2_57 = _S5519 * _S5519;
    float y2_57 = dpquat_15.z * dpquat_15.z;
    float z2_72 = dpquat_15.w * dpquat_15.w;
    float xy_57 = dpquat_15.y * dpquat_15.z;
    float xz_57 = dpquat_15.y * dpquat_15.w;
    float yz_57 = dpquat_15.z * dpquat_15.w;
    float wx_57 = dpquat_15.x * dpquat_15.y;
    float wy_57 = dpquat_15.x * dpquat_15.z;
    float wz_57 = dpquat_15.x * dpquat_15.w;
    Matrix<float, 3, 3>  _S5520 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_57 + z2_72), 2.0f * (xy_57 + wz_57), 2.0f * (xz_57 - wy_57), 2.0f * (xy_57 - wz_57), 1.0f - 2.0f * (x2_57 + z2_72), 2.0f * (yz_57 + wx_57), 2.0f * (xz_57 + wy_57), 2.0f * (yz_57 - wx_57), 1.0f - 2.0f * (x2_57 + y2_57))));
    FixedArray<float3 , 7>  _S5521 = {
        _S5516, _S5516, _S5516, _S5516, _S5516, _S5516, _S5516
    };
    FixedArray<float, 7>  _S5522 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5523;
    (&_S5523)->p_0 = _S5521;
    (&_S5523)->w_mean_0 = _S5522;
    (&_S5523)->w_cov_0 = _S5522;
    (&_S5523)->p_0[int(0)] = dpmean_16;
    SigmaPoints_0 _S5524 = _S5523;
    (&_S5524)->w_mean_0[int(0)] = 0.0f;
    (&_S5524)->w_cov_0[int(0)] = 2.0f;
    float _S5525 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_126 = make_float3 (_S5525 * _S5518.x) * _S5520.rows[0U];
    float3  _S5526 = dpmean_16 + delta_126;
    float3  _S5527 = dpmean_16 - delta_126;
    float3  delta_127 = make_float3 (_S5525 * _S5518.y) * _S5520.rows[1U];
    float3  _S5528 = dpmean_16 + delta_127;
    float3  _S5529 = dpmean_16 - delta_127;
    float3  delta_128 = make_float3 (_S5525 * _S5518.z) * _S5520.rows[2U];
    float3  _S5530 = dpmean_16 + delta_128;
    float3  _S5531 = dpmean_16 - delta_128;
    (&_S5524)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5524)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5524)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5524)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5524)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5524)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5524)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5524)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5524)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5524)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5524)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5524)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5524)->p_0[0U] = s_primal_ctx_mul_0(dpR_16, _S5523.p_0[0U]) + dpt_15;
    (&_S5524)->p_0[1U] = s_primal_ctx_mul_0(dpR_16, _S5526) + dpt_15;
    (&_S5524)->p_0[2U] = s_primal_ctx_mul_0(dpR_16, _S5528) + dpt_15;
    (&_S5524)->p_0[3U] = s_primal_ctx_mul_0(dpR_16, _S5530) + dpt_15;
    (&_S5524)->p_0[4U] = s_primal_ctx_mul_0(dpR_16, _S5527) + dpt_15;
    (&_S5524)->p_0[5U] = s_primal_ctx_mul_0(dpR_16, _S5529) + dpt_15;
    (&_S5524)->p_0[6U] = s_primal_ctx_mul_0(dpR_16, _S5531) + dpt_15;
    float2  _S5532 = _S5515;
    Matrix<float, 2, 2>  _S5533 = _S5514;
    SigmaPoints_0 _S5534 = _S5524;
    bool _S5535 = fisheye_proj_3dgs_ut_1(&_S5534, intrins_43, dist_coeffs_71, &_S5533, &_S5532);
    _s_diff_ctx_28->_S5513 = _S5533;
    float2  _S5536 = _S5532;
    float _S5537 = _S5533.rows[int(0)].y * _S5533.rows[int(1)].x;
    float det_orig_52 = _S5533.rows[int(0)].x * _S5533.rows[int(1)].y - _S5537;
    float _S5538 = _S5533.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5539 = _S5533;
    *&(((&_S5539)->rows + (int(0)))->x) = _S5538;
    float _S5540 = _S5533.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5539)->rows + (int(1)))->y) = _S5540;
    Matrix<float, 2, 2>  _S5541 = _S5539;
    Matrix<float, 2, 2>  _S5542 = _S5539;
    float _S5543 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_52 / (_S5538 * _S5540 - _S5537)));
    float _S5544 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_14));
    float _S5545;
    if(antialiased_58)
    {
        _S5545 = _S5544 * _S5543;
    }
    else
    {
        _S5545 = _S5544;
    }
    float _S5546 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5545 / 0.00392156885936856f)));
    float radius_x_39 = _S5546 * s_primal_ctx_sqrt_0(_S5541.rows[int(0)].x);
    float radius_y_39 = _S5546 * s_primal_ctx_sqrt_0(_S5542.rows[int(1)].y);
    float _S5547 = _S5536.x;
    float _S5548 = _S5536.y;
    float _S5549 = mean_c_51.z;
    float _S5550 = s_primal_ctx_max_0(_S5549, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5549 + _S5517));
    float3  _S5551 = s_primal_ctx_exp_0(- dpscale_15);
    float3  _S5552 = dpmean_16 - - s_primal_ctx_mul_0(transpose_0(dpR_16), dpt_15);
    float3  _S5553 = _S5552 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5552, _S5552)));
    float _S5554 = s_primal_ctx_dot_0((*dpsv_sites_14)[int(4)], _S5553);
    float _S5555 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(0)], _S5553) - _S5554);
    float _S5556 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(1)], _S5553) - _S5554);
    float _S5557 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(2)], _S5553) - _S5554);
    float _S5558 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_14)[int(3)], _S5553) - _S5554);
    float _S5559 = s_primal_ctx_exp_1(0.0f);
    float3  _S5560 = s_primal_ctx_max_1((make_float3 (_S5555) * (*dpsv_colors_14)[int(0)] + make_float3 (_S5556) * (*dpsv_colors_14)[int(1)] + make_float3 (_S5557) * (*dpsv_colors_14)[int(2)] + make_float3 (_S5558) * (*dpsv_colors_14)[int(3)] + make_float3 (_S5559) * (*dpsv_colors_14)[int(4)]) / make_float3 (_S5555 + _S5556 + _S5557 + _S5558 + _S5559) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_39 = make_int4 (int((F32_floor((_S5547 - radius_x_39)))), int((F32_floor((_S5548 - radius_y_39)))), int((F32_ceil((_S5547 + radius_x_39)))), int((F32_ceil((_S5548 + radius_y_39)))));
    *dpmean2d_16 = _S5536;
    *dpdepth_15 = _S5550;
    *dpconic_14 = _S5551;
    *dpopacity_16 = _S5545;
    *dprgb_15 = _S5560;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(bool antialiased_59, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_17, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_16, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_16, DiffPair_float_0 * dpin_opacity_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_sites_15, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * dpsv_colors_15, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_17, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_16, float fx_68, float fy_68, float cx_63, float cy_63, FixedArray<float, 10>  * dist_coeffs_72, uint image_width_59, uint image_height_59, float near_plane_47, float far_plane_47, float2  dpmean2d_17, float dpdepth_16, float3  dpconic_15, float dpopacity_17, float3  dprgb_16, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 * _s_diff_ctx_29)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5561 = *dpmean_17;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5562 = *dpquat_16;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5563 = *dpscale_16;
    FixedArray<float3 , 5>  _S5564 = dpsv_sites_15->primal_0;
    FixedArray<float3 , 5>  _S5565 = dpsv_colors_15->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5566 = *dpR_17;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5567 = *dpt_16;
    float3  _S5568 = make_float3 (0.0f);
    float3  mean_c_52 = s_primal_ctx_mul_0((*dpR_17).primal_0, (*dpmean_17).primal_0) + (*dpt_16).primal_0;
    float _S5569 = length_1(mean_c_52);
    float3  _S5570 = s_primal_ctx_exp_0((*dpscale_16).primal_0);
    float _S5571 = (*dpquat_16).primal_0.y;
    float x2_58 = _S5571 * _S5571;
    float y2_58 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.z;
    float z2_73 = (*dpquat_16).primal_0.w * (*dpquat_16).primal_0.w;
    float xy_58 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.z;
    float xz_58 = (*dpquat_16).primal_0.y * (*dpquat_16).primal_0.w;
    float yz_58 = (*dpquat_16).primal_0.z * (*dpquat_16).primal_0.w;
    float wx_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.y;
    float wy_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.z;
    float wz_58 = (*dpquat_16).primal_0.x * (*dpquat_16).primal_0.w;
    Matrix<float, 3, 3>  _S5572 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_58 + z2_73), 2.0f * (xy_58 + wz_58), 2.0f * (xz_58 - wy_58), 2.0f * (xy_58 - wz_58), 1.0f - 2.0f * (x2_58 + z2_73), 2.0f * (yz_58 + wx_58), 2.0f * (xz_58 + wy_58), 2.0f * (yz_58 - wx_58), 1.0f - 2.0f * (x2_58 + y2_58))));
    FixedArray<float3 , 7>  _S5573 = {
        _S5568, _S5568, _S5568, _S5568, _S5568, _S5568, _S5568
    };
    FixedArray<float, 7>  _S5574 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5575;
    (&_S5575)->p_0 = _S5573;
    (&_S5575)->w_mean_0 = _S5574;
    (&_S5575)->w_cov_0 = _S5574;
    (&_S5575)->p_0[int(0)] = (*dpmean_17).primal_0;
    float _S5576 = s_primal_ctx_sqrt_0(3.0f);
    float _S5577 = _S5576 * _S5570.x;
    float3  _S5578 = make_float3 (_S5577);
    float3  delta_129 = make_float3 (_S5577) * _S5572.rows[0U];
    float3  _S5579 = (*dpmean_17).primal_0 + delta_129;
    float3  _S5580 = (*dpmean_17).primal_0 - delta_129;
    float _S5581 = _S5576 * _S5570.y;
    float3  _S5582 = make_float3 (_S5581);
    float3  delta_130 = make_float3 (_S5581) * _S5572.rows[1U];
    float3  _S5583 = (*dpmean_17).primal_0 + delta_130;
    float3  _S5584 = (*dpmean_17).primal_0 - delta_130;
    float _S5585 = _S5576 * _S5570.z;
    float3  _S5586 = make_float3 (_S5585);
    float3  delta_131 = make_float3 (_S5585) * _S5572.rows[2U];
    float3  _S5587 = (*dpmean_17).primal_0 + delta_131;
    float3  _S5588 = (*dpmean_17).primal_0 - delta_131;
    SigmaPoints_0 _S5589 = _S5575;
    float _S5590 = *&(((&_s_diff_ctx_29->_S5513)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_29->_S5513)->rows + (int(1)))->x);
    float det_orig_53 = *&(((&_s_diff_ctx_29->_S5513)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_29->_S5513)->rows + (int(1)))->y) - _S5590;
    float _S5591 = *&(((&_s_diff_ctx_29->_S5513)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5592 = _s_diff_ctx_29->_S5513;
    *&(((&_S5592)->rows + (int(0)))->x) = _S5591;
    float _S5593 = *&(((&_s_diff_ctx_29->_S5513)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5592)->rows + (int(1)))->y) = _S5593;
    Matrix<float, 2, 2>  _S5594 = _S5592;
    Matrix<float, 2, 2>  _S5595 = _S5592;
    float det_blur_32 = _S5591 * _S5593 - _S5590;
    float _S5596 = det_orig_53 / det_blur_32;
    float _S5597 = det_blur_32 * det_blur_32;
    float _S5598 = s_primal_ctx_max_0(0.0f, _S5596);
    float _S5599 = s_primal_ctx_sqrt_0(_S5598);
    float _S5600 = - (*dpin_opacity_15).primal_0;
    float _S5601 = 1.0f + s_primal_ctx_exp_1(_S5600);
    float _S5602 = 1.0f / _S5601;
    float _S5603 = _S5601 * _S5601;
    float _S5604;
    if(antialiased_59)
    {
        _S5604 = _S5602 * _S5599;
    }
    else
    {
        _S5604 = _S5602;
    }
    float _S5605 = _S5604 / 0.00392156885936856f;
    float _S5606 = 2.0f * s_primal_ctx_log_0(_S5605);
    float _S5607 = s_primal_ctx_sqrt_0(_S5606);
    float _S5608 = _S5594.rows[int(0)].x;
    float _S5609 = _S5595.rows[int(1)].y;
    float _S5610 = mean_c_52.z;
    float _S5611 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5612 = _S5611 * (_S5610 + _S5569);
    float3  _S5613 = - _S5563.primal_0;
    Matrix<float, 3, 3>  _S5614 = transpose_0(_S5566.primal_0);
    float3  _S5615 = _S5561.primal_0 - - s_primal_ctx_mul_0(_S5614, _S5567.primal_0);
    float _S5616 = s_primal_ctx_dot_0(_S5615, _S5615);
    float _S5617 = s_primal_ctx_rsqrt_0(_S5616);
    float3  _S5618 = make_float3 (_S5617);
    float3  _S5619 = _S5615 * make_float3 (_S5617);
    float _S5620 = s_primal_ctx_dot_0(_S5564[int(4)], _S5619);
    float _S5621 = s_primal_ctx_dot_0(_S5564[int(0)], _S5619) - _S5620;
    float _S5622 = s_primal_ctx_exp_1(_S5621);
    float3  _S5623 = make_float3 (_S5622);
    float _S5624 = s_primal_ctx_dot_0(_S5564[int(1)], _S5619) - _S5620;
    float _S5625 = s_primal_ctx_exp_1(_S5624);
    float3  _S5626 = make_float3 (_S5625);
    float _S5627 = s_primal_ctx_dot_0(_S5564[int(2)], _S5619) - _S5620;
    float _S5628 = s_primal_ctx_exp_1(_S5627);
    float3  _S5629 = make_float3 (_S5628);
    float _S5630 = s_primal_ctx_dot_0(_S5564[int(3)], _S5619) - _S5620;
    float _S5631 = s_primal_ctx_exp_1(_S5630);
    float3  _S5632 = make_float3 (_S5631);
    float _S5633 = s_primal_ctx_exp_1(0.0f);
    float3  _S5634 = make_float3 (_S5633);
    float total_w_7 = _S5622 + _S5625 + _S5628 + _S5631 + _S5633;
    float3  _S5635 = make_float3 (total_w_7);
    float3  total_c_7 = make_float3 (_S5622) * _S5565[int(0)] + make_float3 (_S5625) * _S5565[int(1)] + make_float3 (_S5628) * _S5565[int(2)] + make_float3 (_S5631) * _S5565[int(3)] + make_float3 (_S5633) * _S5565[int(4)];
    float3  _S5636 = make_float3 (total_w_7 * total_w_7);
    float3  _S5637 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5638;
    (&_S5638)->primal_0 = total_c_7 / make_float3 (total_w_7) + make_float3 (0.5f);
    (&_S5638)->differential_0 = _S5568;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5639;
    (&_S5639)->primal_0 = _S5637;
    (&_S5639)->differential_0 = _S5568;
    s_bwd_prop_max_0(&_S5638, &_S5639, dprgb_16);
    float3  _S5640 = _S5638.differential_0 / _S5636;
    float3  _S5641 = total_c_7 * - _S5640;
    float3  s_diff_total_c_T_7 = _S5635 * _S5640;
    float3  _S5642 = _S5634 * s_diff_total_c_T_7;
    float _S5643 = _S5641.x + _S5641.y + _S5641.z;
    float3  _S5644 = _S5632 * s_diff_total_c_T_7;
    float3  _S5645 = _S5565[int(3)] * s_diff_total_c_T_7;
    float _S5646 = _S5643 + _S5645.x + _S5645.y + _S5645.z;
    DiffPair_float_0 _S5647;
    (&_S5647)->primal_0 = _S5630;
    (&_S5647)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5647, _S5646);
    float _S5648 = - _S5647.differential_0;
    float3  _S5649 = _S5629 * s_diff_total_c_T_7;
    float3  _S5650 = _S5565[int(2)] * s_diff_total_c_T_7;
    float _S5651 = _S5643 + _S5650.x + _S5650.y + _S5650.z;
    DiffPair_float_0 _S5652;
    (&_S5652)->primal_0 = _S5627;
    (&_S5652)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5652, _S5651);
    float _S5653 = - _S5652.differential_0;
    float3  _S5654 = _S5626 * s_diff_total_c_T_7;
    float3  _S5655 = _S5565[int(1)] * s_diff_total_c_T_7;
    float _S5656 = _S5643 + _S5655.x + _S5655.y + _S5655.z;
    DiffPair_float_0 _S5657;
    (&_S5657)->primal_0 = _S5624;
    (&_S5657)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5657, _S5656);
    float _S5658 = - _S5657.differential_0;
    float3  _S5659 = _S5623 * s_diff_total_c_T_7;
    float3  _S5660 = _S5565[int(0)] * s_diff_total_c_T_7;
    float _S5661 = _S5643 + _S5660.x + _S5660.y + _S5660.z;
    DiffPair_float_0 _S5662;
    (&_S5662)->primal_0 = _S5621;
    (&_S5662)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5662, _S5661);
    float _S5663 = _S5648 + _S5653 + _S5658 + - _S5662.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5664;
    (&_S5664)->primal_0 = _S5564[int(4)];
    (&_S5664)->differential_0 = _S5568;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5665;
    (&_S5665)->primal_0 = _S5619;
    (&_S5665)->differential_0 = _S5568;
    s_bwd_prop_dot_0(&_S5664, &_S5665, _S5663);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5666;
    (&_S5666)->primal_0 = _S5564[int(3)];
    (&_S5666)->differential_0 = _S5568;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5667;
    (&_S5667)->primal_0 = _S5619;
    (&_S5667)->differential_0 = _S5568;
    s_bwd_prop_dot_0(&_S5666, &_S5667, _S5647.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5668;
    (&_S5668)->primal_0 = _S5564[int(2)];
    (&_S5668)->differential_0 = _S5568;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5669;
    (&_S5669)->primal_0 = _S5619;
    (&_S5669)->differential_0 = _S5568;
    s_bwd_prop_dot_0(&_S5668, &_S5669, _S5652.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5670;
    (&_S5670)->primal_0 = _S5564[int(1)];
    (&_S5670)->differential_0 = _S5568;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5671;
    (&_S5671)->primal_0 = _S5619;
    (&_S5671)->differential_0 = _S5568;
    s_bwd_prop_dot_0(&_S5670, &_S5671, _S5657.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5672;
    (&_S5672)->primal_0 = _S5564[int(0)];
    (&_S5672)->differential_0 = _S5568;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5673;
    (&_S5673)->primal_0 = _S5619;
    (&_S5673)->differential_0 = _S5568;
    s_bwd_prop_dot_0(&_S5672, &_S5673, _S5662.differential_0);
    float3  _S5674 = _S5665.differential_0 + _S5667.differential_0 + _S5669.differential_0 + _S5671.differential_0 + _S5673.differential_0;
    float3  _S5675 = _S5615 * _S5674;
    float3  _S5676 = _S5618 * _S5674;
    float _S5677 = _S5675.x + _S5675.y + _S5675.z;
    DiffPair_float_0 _S5678;
    (&_S5678)->primal_0 = _S5616;
    (&_S5678)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S5678, _S5677);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5679;
    (&_S5679)->primal_0 = _S5615;
    (&_S5679)->differential_0 = _S5568;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5680;
    (&_S5680)->primal_0 = _S5615;
    (&_S5680)->differential_0 = _S5568;
    s_bwd_prop_dot_0(&_S5679, &_S5680, _S5678.differential_0);
    float3  _S5681 = _S5676 + _S5680.differential_0 + _S5679.differential_0;
    float3  _S5682 = - - _S5681;
    Matrix<float, 3, 3>  _S5683 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5684;
    (&_S5684)->primal_0 = _S5614;
    (&_S5684)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5685;
    (&_S5685)->primal_0 = _S5567.primal_0;
    (&_S5685)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5684, &_S5685, _S5682);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5686 = _S5685;
    Matrix<float, 3, 3>  _S5687 = transpose_0(_S5684.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5688;
    (&_S5688)->primal_0 = _S5613;
    (&_S5688)->differential_0 = _S5568;
    s_bwd_prop_exp_1(&_S5688, dpconic_15);
    float3  _S5689 = - _S5688.differential_0;
    DiffPair_float_0 _S5690;
    (&_S5690)->primal_0 = _S5610;
    (&_S5690)->differential_0 = 0.0f;
    DiffPair_float_0 _S5691;
    (&_S5691)->primal_0 = _S5612;
    (&_S5691)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5690, &_S5691, dpdepth_16);
    float _S5692 = _S5611 * _S5691.differential_0;
    float _S5693 = _S5690.differential_0 + _S5692;
    DiffPair_float_0 _S5694;
    (&_S5694)->primal_0 = _S5609;
    (&_S5694)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5694, 0.0f);
    DiffPair_float_0 _S5695;
    (&_S5695)->primal_0 = _S5608;
    (&_S5695)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5695, 0.0f);
    DiffPair_float_0 _S5696;
    (&_S5696)->primal_0 = 3.32999992370605469f;
    (&_S5696)->differential_0 = 0.0f;
    DiffPair_float_0 _S5697;
    (&_S5697)->primal_0 = _S5607;
    (&_S5697)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S5696, &_S5697, 0.0f);
    DiffPair_float_0 _S5698;
    (&_S5698)->primal_0 = _S5606;
    (&_S5698)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5698, _S5697.differential_0);
    float _S5699 = 2.0f * _S5698.differential_0;
    DiffPair_float_0 _S5700;
    (&_S5700)->primal_0 = _S5605;
    (&_S5700)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S5700, _S5699);
    float _S5701 = dpopacity_17 + 254.9999847412109375f * _S5700.differential_0;
    FixedArray<float3 , 5>  _S5702;
    _S5702[int(0)] = _S5568;
    _S5702[int(1)] = _S5568;
    _S5702[int(2)] = _S5568;
    _S5702[int(3)] = _S5568;
    _S5702[int(4)] = _S5568;
    _S5702[int(4)] = _S5642;
    _S5702[int(3)] = _S5644;
    _S5702[int(2)] = _S5649;
    _S5702[int(1)] = _S5654;
    _S5702[int(0)] = _S5659;
    FixedArray<float3 , 5>  _S5703 = {
        _S5702[int(0)], _S5702[int(1)], _S5702[int(2)], _S5702[int(3)], _S5702[int(4)]
    };
    FixedArray<float3 , 5>  _S5704;
    _S5704[int(0)] = _S5568;
    _S5704[int(1)] = _S5568;
    _S5704[int(2)] = _S5568;
    _S5704[int(3)] = _S5568;
    _S5704[int(4)] = _S5568;
    _S5704[int(4)] = _S5664.differential_0;
    _S5704[int(3)] = _S5666.differential_0;
    _S5704[int(2)] = _S5668.differential_0;
    _S5704[int(1)] = _S5670.differential_0;
    _S5704[int(0)] = _S5672.differential_0;
    FixedArray<float3 , 5>  _S5705 = {
        _S5704[int(0)], _S5704[int(1)], _S5704[int(2)], _S5704[int(3)], _S5704[int(4)]
    };
    float3  _S5706 = make_float3 (0.0f, 0.0f, _S5693);
    float2  _S5707 = make_float2 (0.0f, _S5694.differential_0);
    float2  _S5708 = make_float2 (_S5695.differential_0, 0.0f);
    float _S5709;
    if(antialiased_59)
    {
        float _S5710 = _S5602 * _S5701;
        _S5604 = _S5599 * _S5701;
        _S5709 = _S5710;
    }
    else
    {
        _S5604 = _S5701;
        _S5709 = 0.0f;
    }
    float _S5711 = - (_S5604 / _S5603);
    DiffPair_float_0 _S5712;
    (&_S5712)->primal_0 = _S5600;
    (&_S5712)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S5712, _S5711);
    float _S5713 = - _S5712.differential_0;
    DiffPair_float_0 _S5714;
    (&_S5714)->primal_0 = _S5598;
    (&_S5714)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S5714, _S5709);
    DiffPair_float_0 _S5715;
    (&_S5715)->primal_0 = 0.0f;
    (&_S5715)->differential_0 = 0.0f;
    DiffPair_float_0 _S5716;
    (&_S5716)->primal_0 = _S5596;
    (&_S5716)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S5715, &_S5716, _S5714.differential_0);
    float _S5717 = _S5716.differential_0 / _S5597;
    float s_diff_det_blur_T_9 = det_orig_53 * - _S5717;
    float s_diff_det_orig_T_12 = det_blur_32 * _S5717;
    float _S5718 = - s_diff_det_blur_T_9;
    float _S5719 = _S5591 * s_diff_det_blur_T_9;
    float _S5720 = _S5593 * s_diff_det_blur_T_9;
    Matrix<float, 2, 2>  _S5721 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S5722 = _S5721;
    _S5722[int(1)] = _S5707;
    _S5722[int(0)] = _S5708;
    float _S5723 = _S5720 + _S5722.rows[int(0)].x;
    float _S5724 = _S5718 + - s_diff_det_orig_T_12;
    float _S5725 = *&(((&_s_diff_ctx_29->_S5513)->rows + (int(0)))->y) * _S5724;
    float _S5726 = *&(((&_s_diff_ctx_29->_S5513)->rows + (int(1)))->x) * _S5724;
    float _S5727 = *&(((&_s_diff_ctx_29->_S5513)->rows + (int(1)))->y) * s_diff_det_orig_T_12;
    float _S5728 = _S5719 + _S5722.rows[int(1)].y + *&(((&_s_diff_ctx_29->_S5513)->rows + (int(0)))->x) * s_diff_det_orig_T_12;
    float2  _S5729 = make_float2 (0.0f);
    float2  _S5730 = _S5729;
    *&((&_S5730)->x) = _S5725;
    *&((&_S5730)->y) = _S5728;
    float _S5731 = _S5723 + _S5727;
    float2  _S5732 = _S5729;
    *&((&_S5732)->y) = _S5726;
    *&((&_S5732)->x) = _S5731;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5733;
    (&_S5733)->primal_0 = _S5566.primal_0;
    (&_S5733)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5734;
    (&_S5734)->primal_0 = _S5588;
    (&_S5734)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5733, &_S5734, _S5568);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5735;
    (&_S5735)->primal_0 = _S5566.primal_0;
    (&_S5735)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5736;
    (&_S5736)->primal_0 = _S5584;
    (&_S5736)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5735, &_S5736, _S5568);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5737;
    (&_S5737)->primal_0 = _S5566.primal_0;
    (&_S5737)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5738;
    (&_S5738)->primal_0 = _S5580;
    (&_S5738)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5737, &_S5738, _S5568);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5739;
    (&_S5739)->primal_0 = _S5566.primal_0;
    (&_S5739)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5740;
    (&_S5740)->primal_0 = _S5587;
    (&_S5740)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5739, &_S5740, _S5568);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5741;
    (&_S5741)->primal_0 = _S5566.primal_0;
    (&_S5741)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5742;
    (&_S5742)->primal_0 = _S5583;
    (&_S5742)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5741, &_S5742, _S5568);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5743;
    (&_S5743)->primal_0 = _S5566.primal_0;
    (&_S5743)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5744;
    (&_S5744)->primal_0 = _S5579;
    (&_S5744)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5743, &_S5744, _S5568);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5745;
    (&_S5745)->primal_0 = _S5566.primal_0;
    (&_S5745)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5746;
    (&_S5746)->primal_0 = _S5589.p_0[0U];
    (&_S5746)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5745, &_S5746, _S5568);
    float3  _S5747 = - _S5734.differential_0 + _S5740.differential_0;
    float3  _S5748 = _S5586 * _S5747;
    float3  _S5749 = _S5572.rows[2U] * _S5747;
    float _S5750 = _S5576 * (_S5749.x + _S5749.y + _S5749.z);
    float3  _S5751 = - _S5736.differential_0 + _S5742.differential_0;
    float3  _S5752 = _S5582 * _S5751;
    float3  _S5753 = _S5572.rows[1U] * _S5751;
    float _S5754 = _S5576 * (_S5753.x + _S5753.y + _S5753.z);
    float3  _S5755 = - _S5738.differential_0 + _S5744.differential_0;
    float3  _S5756 = _S5578 * _S5755;
    float3  _S5757 = _S5572.rows[0U] * _S5755;
    float _S5758 = _S5576 * (_S5757.x + _S5757.y + _S5757.z);
    Matrix<float, 3, 3>  _S5759 = _S5683;
    _S5759[2U] = _S5748;
    _S5759[1U] = _S5752;
    _S5759[0U] = _S5756;
    Matrix<float, 3, 3>  _S5760 = transpose_0(transpose_0(_S5759));
    float _S5761 = 2.0f * - _S5760.rows[int(2)].z;
    float _S5762 = 2.0f * _S5760.rows[int(2)].y;
    float _S5763 = 2.0f * _S5760.rows[int(2)].x;
    float _S5764 = 2.0f * _S5760.rows[int(1)].z;
    float _S5765 = 2.0f * - _S5760.rows[int(1)].y;
    float _S5766 = 2.0f * _S5760.rows[int(1)].x;
    float _S5767 = 2.0f * _S5760.rows[int(0)].z;
    float _S5768 = 2.0f * _S5760.rows[int(0)].y;
    float _S5769 = 2.0f * - _S5760.rows[int(0)].x;
    float _S5770 = - _S5766 + _S5768;
    float _S5771 = _S5763 + - _S5767;
    float _S5772 = - _S5762 + _S5764;
    float _S5773 = _S5762 + _S5764;
    float _S5774 = _S5763 + _S5767;
    float _S5775 = _S5766 + _S5768;
    float _S5776 = _S5562.primal_0.w * (_S5765 + _S5769);
    float _S5777 = _S5562.primal_0.z * (_S5761 + _S5769);
    float _S5778 = _S5562.primal_0.y * (_S5761 + _S5765);
    float _S5779 = _S5562.primal_0.x * _S5770 + _S5562.primal_0.z * _S5773 + _S5562.primal_0.y * _S5774 + _S5776 + _S5776;
    float _S5780 = _S5562.primal_0.x * _S5771 + _S5562.primal_0.w * _S5773 + _S5562.primal_0.y * _S5775 + _S5777 + _S5777;
    float _S5781 = _S5562.primal_0.x * _S5772 + _S5562.primal_0.w * _S5774 + _S5562.primal_0.z * _S5775 + _S5778 + _S5778;
    float _S5782 = _S5562.primal_0.w * _S5770 + _S5562.primal_0.z * _S5771 + _S5562.primal_0.y * _S5772;
    float3  _S5783 = _S5568;
    *&((&_S5783)->z) = _S5750;
    *&((&_S5783)->y) = _S5754;
    *&((&_S5783)->x) = _S5758;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5784;
    (&_S5784)->primal_0 = _S5563.primal_0;
    (&_S5784)->differential_0 = _S5568;
    s_bwd_prop_exp_1(&_S5784, _S5783);
    Matrix<float, 2, 2>  _S5785 = _S5721;
    _S5785[int(1)] = _S5730;
    _S5785[int(0)] = _S5732;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5786;
    (&_S5786)->primal_0 = mean_c_52;
    (&_S5786)->differential_0 = _S5568;
    s_bwd_length_impl_1(&_S5786, _S5692);
    float3  _S5787 = _S5786.differential_0 + _S5706;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5788;
    (&_S5788)->primal_0 = _S5566.primal_0;
    (&_S5788)->differential_0 = _S5683;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5789;
    (&_S5789)->primal_0 = _S5561.primal_0;
    (&_S5789)->differential_0 = _S5568;
    s_bwd_prop_mul_1(&_S5788, &_S5789, _S5787);
    float3  _S5790 = _S5787 + _S5686.differential_0;
    dpt_16->primal_0 = (*dpt_16).primal_0;
    dpt_16->differential_0 = _S5790;
    Matrix<float, 3, 3>  _S5791 = _S5733.differential_0 + _S5735.differential_0 + _S5737.differential_0 + _S5739.differential_0 + _S5741.differential_0 + _S5743.differential_0 + _S5745.differential_0 + _S5788.differential_0 + _S5687;
    dpR_17->primal_0 = (*dpR_17).primal_0;
    dpR_17->differential_0 = _S5791;
    dpsv_colors_15->primal_0 = dpsv_colors_15->primal_0;
    dpsv_colors_15->differential_0 = _S5703;
    dpsv_sites_15->primal_0 = dpsv_sites_15->primal_0;
    dpsv_sites_15->differential_0 = _S5705;
    dpin_opacity_15->primal_0 = (*dpin_opacity_15).primal_0;
    dpin_opacity_15->differential_0 = _S5713;
    float3  _S5792 = _S5784.differential_0 + _S5689;
    dpscale_16->primal_0 = (*dpscale_16).primal_0;
    dpscale_16->differential_0 = _S5792;
    float4  _S5793 = make_float4 (0.0f);
    *&((&_S5793)->w) = _S5779;
    *&((&_S5793)->z) = _S5780;
    *&((&_S5793)->y) = _S5781;
    *&((&_S5793)->x) = _S5782;
    dpquat_16->primal_0 = (*dpquat_16).primal_0;
    dpquat_16->differential_0 = _S5793;
    float3  _S5794 = _S5734.differential_0 + _S5740.differential_0 + _S5736.differential_0 + _S5742.differential_0 + _S5738.differential_0 + _S5744.differential_0 + _S5789.differential_0 + _S5681;
    dpmean_17->primal_0 = (*dpmean_17).primal_0;
    dpmean_17->differential_0 = _S5794;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_3(bool _S5795, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5796, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S5797, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5798, DiffPair_float_0 * _S5799, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5800, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 * _S5801, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S5802, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S5803, float _S5804, float _S5805, float _S5806, float _S5807, FixedArray<float, 10>  * _S5808, uint _S5809, uint _S5810, float _S5811, float _S5812, float2  _S5813, float _S5814, float3  _S5815, float _S5816, float3  _S5817)
{
    FixedArray<float3 , 5>  _S5818 = _S5800->primal_0;
    FixedArray<float3 , 5>  _S5819 = _S5801->primal_0;
    int4  _S5820;
    float2  _S5821;
    float _S5822;
    float3  _S5823;
    float _S5824;
    float3  _S5825;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S5826;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_3(_S5795, (*_S5796).primal_0, (*_S5797).primal_0, (*_S5798).primal_0, (*_S5799).primal_0, &_S5818, &_S5819, (*_S5802).primal_0, (*_S5803).primal_0, _S5804, _S5805, _S5806, _S5807, _S5808, _S5809, _S5810, _S5811, _S5812, &_S5820, &_S5821, &_S5822, &_S5823, &_S5824, &_S5825, &_S5826);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_3 _S5827 = _S5826;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_3(_S5795, _S5796, _S5797, _S5798, _S5799, _S5800, _S5801, _S5802, _S5803, _S5804, _S5805, _S5806, _S5807, _S5808, _S5809, _S5810, _S5811, _S5812, _S5813, _S5814, _S5815, _S5816, _S5817, &_S5827);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_60, float3  mean_49, float4  quat_50, float3  scale_49, float in_opacity_44, FixedArray<float3 , 5>  * sv_sites_29, FixedArray<float3 , 5>  * sv_colors_29, Matrix<float, 3, 3>  R_51, float3  t_47, float fx_69, float fy_69, float cx_64, float cy_64, FixedArray<float, 10>  * dist_coeffs_73, uint image_width_60, uint image_height_60, float2  v_mean2d_12, float v_depth_13, float3  v_conic_12, float v_opacity_14, float3  v_rgb_13, float3  * v_mean_14, float4  * v_quat_13, float3  * v_scale_13, float * v_in_opacity_12, FixedArray<float3 , 5>  * v_sv_dirs_7, FixedArray<float3 , 5>  * v_sv_colors_7, Matrix<float, 3, 3>  * v_R_14, float3  * v_t_13)
{
    float3  _S5828 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_9;
    (&dp_mean_9)->primal_0 = mean_49;
    (&dp_mean_9)->differential_0 = _S5828;
    float4  _S5829 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_8;
    (&dp_quat_8)->primal_0 = quat_50;
    (&dp_quat_8)->differential_0 = _S5829;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_8;
    (&dp_scale_8)->primal_0 = scale_49;
    (&dp_scale_8)->differential_0 = _S5828;
    DiffPair_float_0 dp_in_opacity_7;
    (&dp_in_opacity_7)->primal_0 = in_opacity_44;
    (&dp_in_opacity_7)->differential_0 = 0.0f;
    FixedArray<float3 , 5>  _S5830 = { _S5828, _S5828, _S5828, _S5828, _S5828 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_dirs_7;
    (&dp_sv_dirs_7)->primal_0 = *sv_sites_29;
    (&dp_sv_dirs_7)->differential_0 = _S5830;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C5x3E_0 dp_sv_colors_7;
    (&dp_sv_colors_7)->primal_0 = *sv_colors_29;
    (&dp_sv_colors_7)->differential_0 = _S5830;
    Matrix<float, 3, 3>  _S5831 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_9;
    (&dp_R_9)->primal_0 = R_51;
    (&dp_R_9)->differential_0 = _S5831;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_8;
    (&dp_t_8)->primal_0 = t_47;
    (&dp_t_8)->differential_0 = _S5828;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_3(antialiased_60, &dp_mean_9, &dp_quat_8, &dp_scale_8, &dp_in_opacity_7, &dp_sv_dirs_7, &dp_sv_colors_7, &dp_R_9, &dp_t_8, fx_69, fy_69, cx_64, cy_64, dist_coeffs_73, image_width_60, image_height_60, 0.0f, 1.00000001504746622e+30f, v_mean2d_12, v_depth_13, v_conic_12, v_opacity_14, v_rgb_13);
    *v_mean_14 = dp_mean_9.differential_0;
    *v_quat_13 = dp_quat_8.differential_0;
    *v_scale_13 = dp_scale_8.differential_0;
    *v_in_opacity_12 = dp_in_opacity_7.differential_0;
    *v_sv_dirs_7 = (&dp_sv_dirs_7)->differential_0;
    *v_sv_colors_7 = (&dp_sv_colors_7)->differential_0;
    *v_R_14 = dp_R_9.differential_0;
    *v_t_13 = dp_t_8.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_61, float3  mean_50, float4  quat_51, float3  scale_50, float in_opacity_45, FixedArray<float3 , 6>  * sv_sites_30, FixedArray<float3 , 6>  * sv_colors_30, Matrix<float, 3, 3>  R_52, float3  t_48, float fx_70, float fy_70, float cx_65, float cy_65, FixedArray<float, 10>  * dist_coeffs_74, uint image_width_61, uint image_height_61, float near_plane_48, float far_plane_48, int4  * aabb_xyxy_40, float2  * mean2d_40, float * depth_33, float3  * conic_32, float * opacity_36, float3  * rgb_34)
{
    float3  mean_c_53 = mul_0(R_52, mean_50) + t_48;
    float4  intrins_44 = make_float4 (fx_70, fy_70, cx_65, cy_65);
    float3  _S5832 = exp_0(scale_50);
    float x_63 = quat_51.y;
    float x2_59 = x_63 * x_63;
    float y2_59 = quat_51.z * quat_51.z;
    float z2_74 = quat_51.w * quat_51.w;
    float xy_59 = quat_51.y * quat_51.z;
    float xz_59 = quat_51.y * quat_51.w;
    float yz_59 = quat_51.z * quat_51.w;
    float wx_59 = quat_51.x * quat_51.y;
    float wy_59 = quat_51.x * quat_51.z;
    float wz_59 = quat_51.x * quat_51.w;
    Matrix<float, 3, 3>  _S5833 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_59 + z2_74), 2.0f * (xy_59 + wz_59), 2.0f * (xz_59 - wy_59), 2.0f * (xy_59 - wz_59), 1.0f - 2.0f * (x2_59 + z2_74), 2.0f * (yz_59 + wx_59), 2.0f * (xz_59 + wy_59), 2.0f * (yz_59 - wx_59), 1.0f - 2.0f * (x2_59 + y2_59))));
    SigmaPoints_0 ret_26;
    (&ret_26)->p_0[int(0)] = mean_50;
    (&ret_26)->w_mean_0[int(0)] = 0.0f;
    (&ret_26)->w_cov_0[int(0)] = 2.0f;
    float _S5834 = (F32_sqrt((3.0f)));
    float3  delta_132 = make_float3 (_S5834 * _S5832.x) * _S5833.rows[0U];
    float3  _S5835 = mean_50 + delta_132;
    float3  _S5836 = mean_50 - delta_132;
    float3  delta_133 = make_float3 (_S5834 * _S5832.y) * _S5833.rows[1U];
    float3  _S5837 = mean_50 + delta_133;
    float3  _S5838 = mean_50 - delta_133;
    float3  delta_134 = make_float3 (_S5834 * _S5832.z) * _S5833.rows[2U];
    float3  _S5839 = mean_50 + delta_134;
    float3  _S5840 = mean_50 - delta_134;
    (&ret_26)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_26)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_26)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_26)->p_0[0U] = mul_0(R_52, (&ret_26)->p_0[0U]) + t_48;
    (&ret_26)->p_0[1U] = mul_0(R_52, _S5835) + t_48;
    (&ret_26)->p_0[2U] = mul_0(R_52, _S5837) + t_48;
    (&ret_26)->p_0[3U] = mul_0(R_52, _S5839) + t_48;
    (&ret_26)->p_0[4U] = mul_0(R_52, _S5836) + t_48;
    (&ret_26)->p_0[5U] = mul_0(R_52, _S5838) + t_48;
    (&ret_26)->p_0[6U] = mul_0(R_52, _S5840) + t_48;
    SigmaPoints_0 _S5841 = ret_26;
    Matrix<float, 2, 2>  covar2d_32;
    bool _S5842 = persp_proj_3dgs_ut_1(&_S5841, intrins_44, dist_coeffs_74, image_width_61, image_height_61, &covar2d_32, mean2d_40);
    float det_orig_54 = *&(((&covar2d_32)->rows + (int(0)))->x) * *&(((&covar2d_32)->rows + (int(1)))->y) - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x);
    float _S5843 = *&(((&covar2d_32)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(0)))->x) = _S5843;
    float _S5844 = *&(((&covar2d_32)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_32)->rows + (int(1)))->y) = _S5844;
    float compensation_33 = (F32_sqrt(((F32_max((0.0f), (det_orig_54 / (_S5843 * _S5844 - *&(((&covar2d_32)->rows + (int(0)))->y) * *&(((&covar2d_32)->rows + (int(1)))->x))))))));
    *opacity_36 = 1.0f / (1.0f + (F32_exp((- in_opacity_45))));
    if(antialiased_61)
    {
        *opacity_36 = *opacity_36 * compensation_33;
    }
    float extend_32 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_36 / 0.00392156885936856f)))))))));
    float radius_x_40 = extend_32 * (F32_sqrt((covar2d_32[int(0)].x)));
    float radius_y_40 = extend_32 * (F32_sqrt((covar2d_32[int(1)].y)));
    *aabb_xyxy_40 = make_int4 (int((F32_floor(((*mean2d_40).x - radius_x_40)))), int((F32_floor(((*mean2d_40).y - radius_y_40)))), int((F32_ceil(((*mean2d_40).x + radius_x_40)))), int((F32_ceil(((*mean2d_40).y + radius_y_40)))));
    float _S5845 = mean_c_53.z;
    *depth_33 = (F32_max((_S5845), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5845 + length_1(mean_c_53)))));
    *conic_32 = exp_0(- scale_50);
    float3  _S5846 = mean_50 - - mul_0(transpose_0(R_52), t_48);
    float3  _S5847 = _S5846 * make_float3 ((F32_rsqrt((dot_0(_S5846, _S5846)))));
    float _S5848 = dot_0((*sv_sites_30)[int(5)], _S5847);
    float w_98 = (F32_exp((dot_0((*sv_sites_30)[int(0)], _S5847) - _S5848)));
    float w_99 = (F32_exp((dot_0((*sv_sites_30)[int(1)], _S5847) - _S5848)));
    float w_100 = (F32_exp((dot_0((*sv_sites_30)[int(2)], _S5847) - _S5848)));
    float w_101 = (F32_exp((dot_0((*sv_sites_30)[int(3)], _S5847) - _S5848)));
    float w_102 = (F32_exp((dot_0((*sv_sites_30)[int(4)], _S5847) - _S5848)));
    float w_103 = (F32_exp((0.0f)));
    *rgb_34 = max_0((make_float3 (w_98) * (*sv_colors_30)[int(0)] + make_float3 (w_99) * (*sv_colors_30)[int(1)] + make_float3 (w_100) * (*sv_colors_30)[int(2)] + make_float3 (w_101) * (*sv_colors_30)[int(3)] + make_float3 (w_102) * (*sv_colors_30)[int(4)] + make_float3 (w_103) * (*sv_colors_30)[int(5)]) / make_float3 (w_98 + w_99 + w_100 + w_101 + w_102 + w_103) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_62, float3  mean_51, float4  quat_52, float3  scale_51, float in_opacity_46, FixedArray<float3 , 6>  * sv_sites_31, FixedArray<float3 , 6>  * sv_colors_31, Matrix<float, 3, 3>  R_53, float3  t_49, float fx_71, float fy_71, float cx_66, float cy_66, FixedArray<float, 10>  * dist_coeffs_75, uint image_width_62, uint image_height_62, float near_plane_49, float far_plane_49, int4  * aabb_xyxy_41, float2  * mean2d_41, float * depth_34, float3  * conic_33, float * opacity_37, float3  * rgb_35)
{
    float3  mean_c_54 = mul_0(R_53, mean_51) + t_49;
    float4  intrins_45 = make_float4 (fx_71, fy_71, cx_66, cy_66);
    float3  _S5849 = exp_0(scale_51);
    float x_64 = quat_52.y;
    float x2_60 = x_64 * x_64;
    float y2_60 = quat_52.z * quat_52.z;
    float z2_75 = quat_52.w * quat_52.w;
    float xy_60 = quat_52.y * quat_52.z;
    float xz_60 = quat_52.y * quat_52.w;
    float yz_60 = quat_52.z * quat_52.w;
    float wx_60 = quat_52.x * quat_52.y;
    float wy_60 = quat_52.x * quat_52.z;
    float wz_60 = quat_52.x * quat_52.w;
    Matrix<float, 3, 3>  _S5850 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_60 + z2_75), 2.0f * (xy_60 + wz_60), 2.0f * (xz_60 - wy_60), 2.0f * (xy_60 - wz_60), 1.0f - 2.0f * (x2_60 + z2_75), 2.0f * (yz_60 + wx_60), 2.0f * (xz_60 + wy_60), 2.0f * (yz_60 - wx_60), 1.0f - 2.0f * (x2_60 + y2_60))));
    SigmaPoints_0 ret_27;
    (&ret_27)->p_0[int(0)] = mean_51;
    (&ret_27)->w_mean_0[int(0)] = 0.0f;
    (&ret_27)->w_cov_0[int(0)] = 2.0f;
    float _S5851 = (F32_sqrt((3.0f)));
    float3  delta_135 = make_float3 (_S5851 * _S5849.x) * _S5850.rows[0U];
    float3  _S5852 = mean_51 + delta_135;
    float3  _S5853 = mean_51 - delta_135;
    float3  delta_136 = make_float3 (_S5851 * _S5849.y) * _S5850.rows[1U];
    float3  _S5854 = mean_51 + delta_136;
    float3  _S5855 = mean_51 - delta_136;
    float3  delta_137 = make_float3 (_S5851 * _S5849.z) * _S5850.rows[2U];
    float3  _S5856 = mean_51 + delta_137;
    float3  _S5857 = mean_51 - delta_137;
    (&ret_27)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_27)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_27)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_27)->p_0[0U] = mul_0(R_53, (&ret_27)->p_0[0U]) + t_49;
    (&ret_27)->p_0[1U] = mul_0(R_53, _S5852) + t_49;
    (&ret_27)->p_0[2U] = mul_0(R_53, _S5854) + t_49;
    (&ret_27)->p_0[3U] = mul_0(R_53, _S5856) + t_49;
    (&ret_27)->p_0[4U] = mul_0(R_53, _S5853) + t_49;
    (&ret_27)->p_0[5U] = mul_0(R_53, _S5855) + t_49;
    (&ret_27)->p_0[6U] = mul_0(R_53, _S5857) + t_49;
    SigmaPoints_0 _S5858 = ret_27;
    Matrix<float, 2, 2>  covar2d_33;
    bool _S5859 = fisheye_proj_3dgs_ut_1(&_S5858, intrins_45, dist_coeffs_75, &covar2d_33, mean2d_41);
    float det_orig_55 = *&(((&covar2d_33)->rows + (int(0)))->x) * *&(((&covar2d_33)->rows + (int(1)))->y) - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x);
    float _S5860 = *&(((&covar2d_33)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(0)))->x) = _S5860;
    float _S5861 = *&(((&covar2d_33)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_33)->rows + (int(1)))->y) = _S5861;
    float compensation_34 = (F32_sqrt(((F32_max((0.0f), (det_orig_55 / (_S5860 * _S5861 - *&(((&covar2d_33)->rows + (int(0)))->y) * *&(((&covar2d_33)->rows + (int(1)))->x))))))));
    *opacity_37 = 1.0f / (1.0f + (F32_exp((- in_opacity_46))));
    if(antialiased_62)
    {
        *opacity_37 = *opacity_37 * compensation_34;
    }
    float extend_33 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_37 / 0.00392156885936856f)))))))));
    float radius_x_41 = extend_33 * (F32_sqrt((covar2d_33[int(0)].x)));
    float radius_y_41 = extend_33 * (F32_sqrt((covar2d_33[int(1)].y)));
    *aabb_xyxy_41 = make_int4 (int((F32_floor(((*mean2d_41).x - radius_x_41)))), int((F32_floor(((*mean2d_41).y - radius_y_41)))), int((F32_ceil(((*mean2d_41).x + radius_x_41)))), int((F32_ceil(((*mean2d_41).y + radius_y_41)))));
    float _S5862 = mean_c_54.z;
    *depth_34 = (F32_max((_S5862), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S5862 + length_1(mean_c_54)))));
    *conic_33 = exp_0(- scale_51);
    float3  _S5863 = mean_51 - - mul_0(transpose_0(R_53), t_49);
    float3  _S5864 = _S5863 * make_float3 ((F32_rsqrt((dot_0(_S5863, _S5863)))));
    float _S5865 = dot_0((*sv_sites_31)[int(5)], _S5864);
    float w_104 = (F32_exp((dot_0((*sv_sites_31)[int(0)], _S5864) - _S5865)));
    float w_105 = (F32_exp((dot_0((*sv_sites_31)[int(1)], _S5864) - _S5865)));
    float w_106 = (F32_exp((dot_0((*sv_sites_31)[int(2)], _S5864) - _S5865)));
    float w_107 = (F32_exp((dot_0((*sv_sites_31)[int(3)], _S5864) - _S5865)));
    float w_108 = (F32_exp((dot_0((*sv_sites_31)[int(4)], _S5864) - _S5865)));
    float w_109 = (F32_exp((0.0f)));
    *rgb_35 = max_0((make_float3 (w_104) * (*sv_colors_31)[int(0)] + make_float3 (w_105) * (*sv_colors_31)[int(1)] + make_float3 (w_106) * (*sv_colors_31)[int(2)] + make_float3 (w_107) * (*sv_colors_31)[int(3)] + make_float3 (w_108) * (*sv_colors_31)[int(4)] + make_float3 (w_109) * (*sv_colors_31)[int(5)]) / make_float3 (w_104 + w_105 + w_106 + w_107 + w_108 + w_109) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0
{
    FixedArray<float3 , 6>  primal_0;
    FixedArray<float3 , 6>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S5866;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(bool antialiased_63, float3  dpmean_18, float4  dpquat_17, float3  dpscale_17, float dpin_opacity_16, FixedArray<float3 , 6>  * dpsv_sites_16, FixedArray<float3 , 6>  * dpsv_colors_16, Matrix<float, 3, 3>  dpR_18, float3  dpt_17, float fx_72, float fy_72, float cx_67, float cy_67, FixedArray<float, 10>  * dist_coeffs_76, uint image_width_63, uint image_height_63, float near_plane_50, float far_plane_50, int4  * aabb_xyxy_42, float2  * dpmean2d_18, float * dpdepth_17, float3  * dpconic_16, float * dpopacity_18, float3  * dprgb_17, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_30)
{
    Matrix<float, 2, 2>  _S5867 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_30->_S5866 = _S5867;
    float2  _S5868 = make_float2 (0.0f);
    float3  _S5869 = make_float3 (0.0f);
    float3  mean_c_55 = s_primal_ctx_mul_0(dpR_18, dpmean_18) + dpt_17;
    float4  intrins_46 = make_float4 (fx_72, fy_72, cx_67, cy_67);
    float3  _S5870 = s_primal_ctx_exp_0(dpscale_17);
    float _S5871 = dpquat_17.y;
    float x2_61 = _S5871 * _S5871;
    float y2_61 = dpquat_17.z * dpquat_17.z;
    float z2_76 = dpquat_17.w * dpquat_17.w;
    float xy_61 = dpquat_17.y * dpquat_17.z;
    float xz_61 = dpquat_17.y * dpquat_17.w;
    float yz_61 = dpquat_17.z * dpquat_17.w;
    float wx_61 = dpquat_17.x * dpquat_17.y;
    float wy_61 = dpquat_17.x * dpquat_17.z;
    float wz_61 = dpquat_17.x * dpquat_17.w;
    Matrix<float, 3, 3>  _S5872 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_61 + z2_76), 2.0f * (xy_61 + wz_61), 2.0f * (xz_61 - wy_61), 2.0f * (xy_61 - wz_61), 1.0f - 2.0f * (x2_61 + z2_76), 2.0f * (yz_61 + wx_61), 2.0f * (xz_61 + wy_61), 2.0f * (yz_61 - wx_61), 1.0f - 2.0f * (x2_61 + y2_61))));
    FixedArray<float3 , 7>  _S5873 = {
        _S5869, _S5869, _S5869, _S5869, _S5869, _S5869, _S5869
    };
    FixedArray<float, 7>  _S5874 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5875;
    (&_S5875)->p_0 = _S5873;
    (&_S5875)->w_mean_0 = _S5874;
    (&_S5875)->w_cov_0 = _S5874;
    (&_S5875)->p_0[int(0)] = dpmean_18;
    SigmaPoints_0 _S5876 = _S5875;
    (&_S5876)->w_mean_0[int(0)] = 0.0f;
    (&_S5876)->w_cov_0[int(0)] = 2.0f;
    float _S5877 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_138 = make_float3 (_S5877 * _S5870.x) * _S5872.rows[0U];
    float3  _S5878 = dpmean_18 + delta_138;
    float3  _S5879 = dpmean_18 - delta_138;
    float3  delta_139 = make_float3 (_S5877 * _S5870.y) * _S5872.rows[1U];
    float3  _S5880 = dpmean_18 + delta_139;
    float3  _S5881 = dpmean_18 - delta_139;
    float3  delta_140 = make_float3 (_S5877 * _S5870.z) * _S5872.rows[2U];
    float3  _S5882 = dpmean_18 + delta_140;
    float3  _S5883 = dpmean_18 - delta_140;
    (&_S5876)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S5876)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S5876)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S5876)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S5876)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S5876)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S5876)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S5876)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S5876)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S5876)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S5876)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S5876)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S5876)->p_0[0U] = s_primal_ctx_mul_0(dpR_18, _S5875.p_0[0U]) + dpt_17;
    (&_S5876)->p_0[1U] = s_primal_ctx_mul_0(dpR_18, _S5878) + dpt_17;
    (&_S5876)->p_0[2U] = s_primal_ctx_mul_0(dpR_18, _S5880) + dpt_17;
    (&_S5876)->p_0[3U] = s_primal_ctx_mul_0(dpR_18, _S5882) + dpt_17;
    (&_S5876)->p_0[4U] = s_primal_ctx_mul_0(dpR_18, _S5879) + dpt_17;
    (&_S5876)->p_0[5U] = s_primal_ctx_mul_0(dpR_18, _S5881) + dpt_17;
    (&_S5876)->p_0[6U] = s_primal_ctx_mul_0(dpR_18, _S5883) + dpt_17;
    float2  _S5884 = _S5868;
    Matrix<float, 2, 2>  _S5885 = _S5867;
    SigmaPoints_0 _S5886 = _S5876;
    bool _S5887 = persp_proj_3dgs_ut_1(&_S5886, intrins_46, dist_coeffs_76, image_width_63, image_height_63, &_S5885, &_S5884);
    _s_diff_ctx_30->_S5866 = _S5885;
    float2  _S5888 = _S5884;
    float _S5889 = _S5885.rows[int(0)].y * _S5885.rows[int(1)].x;
    float det_orig_56 = _S5885.rows[int(0)].x * _S5885.rows[int(1)].y - _S5889;
    float _S5890 = _S5885.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5891 = _S5885;
    *&(((&_S5891)->rows + (int(0)))->x) = _S5890;
    float _S5892 = _S5885.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S5891)->rows + (int(1)))->y) = _S5892;
    Matrix<float, 2, 2>  _S5893 = _S5891;
    Matrix<float, 2, 2>  _S5894 = _S5891;
    float _S5895 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_56 / (_S5890 * _S5892 - _S5889)));
    float _S5896 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_16));
    float _S5897;
    if(antialiased_63)
    {
        _S5897 = _S5896 * _S5895;
    }
    else
    {
        _S5897 = _S5896;
    }
    float _S5898 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S5897 / 0.00392156885936856f)));
    float radius_x_42 = _S5898 * s_primal_ctx_sqrt_0(_S5893.rows[int(0)].x);
    float radius_y_42 = _S5898 * s_primal_ctx_sqrt_0(_S5894.rows[int(1)].y);
    float _S5899 = _S5888.x;
    float _S5900 = _S5888.y;
    float _S5901 = mean_c_55.z;
    float _S5902 = s_primal_ctx_max_0(_S5901, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S5901 + length_1(mean_c_55)));
    float3  _S5903 = s_primal_ctx_exp_0(- dpscale_17);
    float3  _S5904 = dpmean_18 - - s_primal_ctx_mul_0(transpose_0(dpR_18), dpt_17);
    float3  _S5905 = _S5904 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S5904, _S5904)));
    float _S5906 = s_primal_ctx_dot_0((*dpsv_sites_16)[int(5)], _S5905);
    float _S5907 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(0)], _S5905) - _S5906);
    float _S5908 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(1)], _S5905) - _S5906);
    float _S5909 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(2)], _S5905) - _S5906);
    float _S5910 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(3)], _S5905) - _S5906);
    float _S5911 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_16)[int(4)], _S5905) - _S5906);
    float _S5912 = s_primal_ctx_exp_1(0.0f);
    float3  _S5913 = s_primal_ctx_max_1((make_float3 (_S5907) * (*dpsv_colors_16)[int(0)] + make_float3 (_S5908) * (*dpsv_colors_16)[int(1)] + make_float3 (_S5909) * (*dpsv_colors_16)[int(2)] + make_float3 (_S5910) * (*dpsv_colors_16)[int(3)] + make_float3 (_S5911) * (*dpsv_colors_16)[int(4)] + make_float3 (_S5912) * (*dpsv_colors_16)[int(5)]) / make_float3 (_S5907 + _S5908 + _S5909 + _S5910 + _S5911 + _S5912) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_42 = make_int4 (int((F32_floor((_S5899 - radius_x_42)))), int((F32_floor((_S5900 - radius_y_42)))), int((F32_ceil((_S5899 + radius_x_42)))), int((F32_ceil((_S5900 + radius_y_42)))));
    *dpmean2d_18 = _S5888;
    *dpdepth_17 = _S5902;
    *dpconic_16 = _S5903;
    *dpopacity_18 = _S5897;
    *dprgb_17 = _S5913;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(bool antialiased_64, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_19, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_18, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_18, DiffPair_float_0 * dpin_opacity_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_17, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_17, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_19, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_18, float fx_73, float fy_73, float cx_68, float cy_68, FixedArray<float, 10>  * dist_coeffs_77, uint image_width_64, uint image_height_64, float near_plane_51, float far_plane_51, float2  dpmean2d_19, float dpdepth_18, float3  dpconic_17, float dpopacity_19, float3  dprgb_18, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 * _s_diff_ctx_31)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5914 = *dpmean_19;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S5915 = *dpquat_18;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5916 = *dpscale_18;
    FixedArray<float3 , 6>  _S5917 = dpsv_sites_17->primal_0;
    FixedArray<float3 , 6>  _S5918 = dpsv_colors_17->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S5919 = *dpR_19;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5920 = *dpt_18;
    float3  _S5921 = make_float3 (0.0f);
    float3  mean_c_56 = s_primal_ctx_mul_0((*dpR_19).primal_0, (*dpmean_19).primal_0) + (*dpt_18).primal_0;
    float3  _S5922 = s_primal_ctx_exp_0((*dpscale_18).primal_0);
    float _S5923 = (*dpquat_18).primal_0.y;
    float x2_62 = _S5923 * _S5923;
    float y2_62 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.z;
    float z2_77 = (*dpquat_18).primal_0.w * (*dpquat_18).primal_0.w;
    float xy_62 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.z;
    float xz_62 = (*dpquat_18).primal_0.y * (*dpquat_18).primal_0.w;
    float yz_62 = (*dpquat_18).primal_0.z * (*dpquat_18).primal_0.w;
    float wx_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.y;
    float wy_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.z;
    float wz_62 = (*dpquat_18).primal_0.x * (*dpquat_18).primal_0.w;
    Matrix<float, 3, 3>  _S5924 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_62 + z2_77), 2.0f * (xy_62 + wz_62), 2.0f * (xz_62 - wy_62), 2.0f * (xy_62 - wz_62), 1.0f - 2.0f * (x2_62 + z2_77), 2.0f * (yz_62 + wx_62), 2.0f * (xz_62 + wy_62), 2.0f * (yz_62 - wx_62), 1.0f - 2.0f * (x2_62 + y2_62))));
    FixedArray<float3 , 7>  _S5925 = {
        _S5921, _S5921, _S5921, _S5921, _S5921, _S5921, _S5921
    };
    FixedArray<float, 7>  _S5926 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S5927;
    (&_S5927)->p_0 = _S5925;
    (&_S5927)->w_mean_0 = _S5926;
    (&_S5927)->w_cov_0 = _S5926;
    (&_S5927)->p_0[int(0)] = (*dpmean_19).primal_0;
    float _S5928 = s_primal_ctx_sqrt_0(3.0f);
    float _S5929 = _S5928 * _S5922.x;
    float3  _S5930 = make_float3 (_S5929);
    float3  delta_141 = make_float3 (_S5929) * _S5924.rows[0U];
    float3  _S5931 = (*dpmean_19).primal_0 + delta_141;
    float3  _S5932 = (*dpmean_19).primal_0 - delta_141;
    float _S5933 = _S5928 * _S5922.y;
    float3  _S5934 = make_float3 (_S5933);
    float3  delta_142 = make_float3 (_S5933) * _S5924.rows[1U];
    float3  _S5935 = (*dpmean_19).primal_0 + delta_142;
    float3  _S5936 = (*dpmean_19).primal_0 - delta_142;
    float _S5937 = _S5928 * _S5922.z;
    float3  _S5938 = make_float3 (_S5937);
    float3  delta_143 = make_float3 (_S5937) * _S5924.rows[2U];
    float3  _S5939 = (*dpmean_19).primal_0 + delta_143;
    float3  _S5940 = (*dpmean_19).primal_0 - delta_143;
    SigmaPoints_0 _S5941 = _S5927;
    float _S5942 = *&(((&_s_diff_ctx_31->_S5866)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_31->_S5866)->rows + (int(1)))->x);
    float det_orig_57 = *&(((&_s_diff_ctx_31->_S5866)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_31->_S5866)->rows + (int(1)))->y) - _S5942;
    float _S5943 = *&(((&_s_diff_ctx_31->_S5866)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S5944 = _s_diff_ctx_31->_S5866;
    *&(((&_S5944)->rows + (int(0)))->x) = _S5943;
    float _S5945 = *&(((&_s_diff_ctx_31->_S5866)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S5944)->rows + (int(1)))->y) = _S5945;
    Matrix<float, 2, 2>  _S5946 = _S5944;
    Matrix<float, 2, 2>  _S5947 = _S5944;
    float det_blur_33 = _S5943 * _S5945 - _S5942;
    float _S5948 = det_orig_57 / det_blur_33;
    float _S5949 = det_blur_33 * det_blur_33;
    float _S5950 = s_primal_ctx_max_0(0.0f, _S5948);
    float _S5951 = s_primal_ctx_sqrt_0(_S5950);
    float _S5952 = - (*dpin_opacity_17).primal_0;
    float _S5953 = 1.0f + s_primal_ctx_exp_1(_S5952);
    float _S5954 = 1.0f / _S5953;
    float _S5955 = _S5953 * _S5953;
    float _S5956;
    if(antialiased_64)
    {
        _S5956 = _S5954 * _S5951;
    }
    else
    {
        _S5956 = _S5954;
    }
    float _S5957 = _S5956 / 0.00392156885936856f;
    float _S5958 = 2.0f * s_primal_ctx_log_0(_S5957);
    float _S5959 = s_primal_ctx_sqrt_0(_S5958);
    float _S5960 = _S5946.rows[int(0)].x;
    float _S5961 = _S5947.rows[int(1)].y;
    float _S5962 = mean_c_56.z;
    float _S5963 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S5964 = _S5963 * (_S5962 + length_1(mean_c_56));
    float3  _S5965 = - _S5916.primal_0;
    Matrix<float, 3, 3>  _S5966 = transpose_0(_S5919.primal_0);
    float3  _S5967 = _S5914.primal_0 - - s_primal_ctx_mul_0(_S5966, _S5920.primal_0);
    float _S5968 = s_primal_ctx_dot_0(_S5967, _S5967);
    float _S5969 = s_primal_ctx_rsqrt_0(_S5968);
    float3  _S5970 = make_float3 (_S5969);
    float3  _S5971 = _S5967 * make_float3 (_S5969);
    float _S5972 = s_primal_ctx_dot_0(_S5917[int(5)], _S5971);
    float _S5973 = s_primal_ctx_dot_0(_S5917[int(0)], _S5971) - _S5972;
    float _S5974 = s_primal_ctx_exp_1(_S5973);
    float3  _S5975 = make_float3 (_S5974);
    float _S5976 = s_primal_ctx_dot_0(_S5917[int(1)], _S5971) - _S5972;
    float _S5977 = s_primal_ctx_exp_1(_S5976);
    float3  _S5978 = make_float3 (_S5977);
    float _S5979 = s_primal_ctx_dot_0(_S5917[int(2)], _S5971) - _S5972;
    float _S5980 = s_primal_ctx_exp_1(_S5979);
    float3  _S5981 = make_float3 (_S5980);
    float _S5982 = s_primal_ctx_dot_0(_S5917[int(3)], _S5971) - _S5972;
    float _S5983 = s_primal_ctx_exp_1(_S5982);
    float3  _S5984 = make_float3 (_S5983);
    float _S5985 = s_primal_ctx_dot_0(_S5917[int(4)], _S5971) - _S5972;
    float _S5986 = s_primal_ctx_exp_1(_S5985);
    float3  _S5987 = make_float3 (_S5986);
    float _S5988 = s_primal_ctx_exp_1(0.0f);
    float3  _S5989 = make_float3 (_S5988);
    float total_w_8 = _S5974 + _S5977 + _S5980 + _S5983 + _S5986 + _S5988;
    float3  _S5990 = make_float3 (total_w_8);
    float3  total_c_8 = make_float3 (_S5974) * _S5918[int(0)] + make_float3 (_S5977) * _S5918[int(1)] + make_float3 (_S5980) * _S5918[int(2)] + make_float3 (_S5983) * _S5918[int(3)] + make_float3 (_S5986) * _S5918[int(4)] + make_float3 (_S5988) * _S5918[int(5)];
    float3  _S5991 = make_float3 (total_w_8 * total_w_8);
    float3  _S5992 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5993;
    (&_S5993)->primal_0 = total_c_8 / make_float3 (total_w_8) + make_float3 (0.5f);
    (&_S5993)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S5994;
    (&_S5994)->primal_0 = _S5992;
    (&_S5994)->differential_0 = _S5921;
    s_bwd_prop_max_0(&_S5993, &_S5994, dprgb_18);
    float3  _S5995 = _S5993.differential_0 / _S5991;
    float3  _S5996 = total_c_8 * - _S5995;
    float3  s_diff_total_c_T_8 = _S5990 * _S5995;
    float3  _S5997 = _S5989 * s_diff_total_c_T_8;
    float _S5998 = _S5996.x + _S5996.y + _S5996.z;
    float3  _S5999 = _S5987 * s_diff_total_c_T_8;
    float3  _S6000 = _S5918[int(4)] * s_diff_total_c_T_8;
    float _S6001 = _S5998 + _S6000.x + _S6000.y + _S6000.z;
    DiffPair_float_0 _S6002;
    (&_S6002)->primal_0 = _S5985;
    (&_S6002)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6002, _S6001);
    float _S6003 = - _S6002.differential_0;
    float3  _S6004 = _S5984 * s_diff_total_c_T_8;
    float3  _S6005 = _S5918[int(3)] * s_diff_total_c_T_8;
    float _S6006 = _S5998 + _S6005.x + _S6005.y + _S6005.z;
    DiffPair_float_0 _S6007;
    (&_S6007)->primal_0 = _S5982;
    (&_S6007)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6007, _S6006);
    float _S6008 = - _S6007.differential_0;
    float3  _S6009 = _S5981 * s_diff_total_c_T_8;
    float3  _S6010 = _S5918[int(2)] * s_diff_total_c_T_8;
    float _S6011 = _S5998 + _S6010.x + _S6010.y + _S6010.z;
    DiffPair_float_0 _S6012;
    (&_S6012)->primal_0 = _S5979;
    (&_S6012)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6012, _S6011);
    float _S6013 = - _S6012.differential_0;
    float3  _S6014 = _S5978 * s_diff_total_c_T_8;
    float3  _S6015 = _S5918[int(1)] * s_diff_total_c_T_8;
    float _S6016 = _S5998 + _S6015.x + _S6015.y + _S6015.z;
    DiffPair_float_0 _S6017;
    (&_S6017)->primal_0 = _S5976;
    (&_S6017)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6017, _S6016);
    float _S6018 = - _S6017.differential_0;
    float3  _S6019 = _S5975 * s_diff_total_c_T_8;
    float3  _S6020 = _S5918[int(0)] * s_diff_total_c_T_8;
    float _S6021 = _S5998 + _S6020.x + _S6020.y + _S6020.z;
    DiffPair_float_0 _S6022;
    (&_S6022)->primal_0 = _S5973;
    (&_S6022)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6022, _S6021);
    float _S6023 = _S6003 + _S6008 + _S6013 + _S6018 + - _S6022.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6024;
    (&_S6024)->primal_0 = _S5917[int(5)];
    (&_S6024)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6025;
    (&_S6025)->primal_0 = _S5971;
    (&_S6025)->differential_0 = _S5921;
    s_bwd_prop_dot_0(&_S6024, &_S6025, _S6023);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6026;
    (&_S6026)->primal_0 = _S5917[int(4)];
    (&_S6026)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6027;
    (&_S6027)->primal_0 = _S5971;
    (&_S6027)->differential_0 = _S5921;
    s_bwd_prop_dot_0(&_S6026, &_S6027, _S6002.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6028;
    (&_S6028)->primal_0 = _S5917[int(3)];
    (&_S6028)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6029;
    (&_S6029)->primal_0 = _S5971;
    (&_S6029)->differential_0 = _S5921;
    s_bwd_prop_dot_0(&_S6028, &_S6029, _S6007.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6030;
    (&_S6030)->primal_0 = _S5917[int(2)];
    (&_S6030)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6031;
    (&_S6031)->primal_0 = _S5971;
    (&_S6031)->differential_0 = _S5921;
    s_bwd_prop_dot_0(&_S6030, &_S6031, _S6012.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6032;
    (&_S6032)->primal_0 = _S5917[int(1)];
    (&_S6032)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6033;
    (&_S6033)->primal_0 = _S5971;
    (&_S6033)->differential_0 = _S5921;
    s_bwd_prop_dot_0(&_S6032, &_S6033, _S6017.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6034;
    (&_S6034)->primal_0 = _S5917[int(0)];
    (&_S6034)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6035;
    (&_S6035)->primal_0 = _S5971;
    (&_S6035)->differential_0 = _S5921;
    s_bwd_prop_dot_0(&_S6034, &_S6035, _S6022.differential_0);
    float3  _S6036 = _S6025.differential_0 + _S6027.differential_0 + _S6029.differential_0 + _S6031.differential_0 + _S6033.differential_0 + _S6035.differential_0;
    float3  _S6037 = _S5967 * _S6036;
    float3  _S6038 = _S5970 * _S6036;
    float _S6039 = _S6037.x + _S6037.y + _S6037.z;
    DiffPair_float_0 _S6040;
    (&_S6040)->primal_0 = _S5968;
    (&_S6040)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6040, _S6039);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6041;
    (&_S6041)->primal_0 = _S5967;
    (&_S6041)->differential_0 = _S5921;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6042;
    (&_S6042)->primal_0 = _S5967;
    (&_S6042)->differential_0 = _S5921;
    s_bwd_prop_dot_0(&_S6041, &_S6042, _S6040.differential_0);
    float3  _S6043 = _S6038 + _S6042.differential_0 + _S6041.differential_0;
    float3  _S6044 = - - _S6043;
    Matrix<float, 3, 3>  _S6045 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6046;
    (&_S6046)->primal_0 = _S5966;
    (&_S6046)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6047;
    (&_S6047)->primal_0 = _S5920.primal_0;
    (&_S6047)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6046, &_S6047, _S6044);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6048 = _S6047;
    Matrix<float, 3, 3>  _S6049 = transpose_0(_S6046.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6050;
    (&_S6050)->primal_0 = _S5965;
    (&_S6050)->differential_0 = _S5921;
    s_bwd_prop_exp_1(&_S6050, dpconic_17);
    float3  _S6051 = - _S6050.differential_0;
    DiffPair_float_0 _S6052;
    (&_S6052)->primal_0 = _S5962;
    (&_S6052)->differential_0 = 0.0f;
    DiffPair_float_0 _S6053;
    (&_S6053)->primal_0 = _S5964;
    (&_S6053)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6052, &_S6053, dpdepth_18);
    float _S6054 = _S5963 * _S6053.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6055;
    (&_S6055)->primal_0 = mean_c_56;
    (&_S6055)->differential_0 = _S5921;
    s_bwd_length_impl_1(&_S6055, _S6054);
    float _S6056 = _S6052.differential_0 + _S6054;
    DiffPair_float_0 _S6057;
    (&_S6057)->primal_0 = _S5961;
    (&_S6057)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6057, 0.0f);
    DiffPair_float_0 _S6058;
    (&_S6058)->primal_0 = _S5960;
    (&_S6058)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6058, 0.0f);
    DiffPair_float_0 _S6059;
    (&_S6059)->primal_0 = 3.32999992370605469f;
    (&_S6059)->differential_0 = 0.0f;
    DiffPair_float_0 _S6060;
    (&_S6060)->primal_0 = _S5959;
    (&_S6060)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6059, &_S6060, 0.0f);
    DiffPair_float_0 _S6061;
    (&_S6061)->primal_0 = _S5958;
    (&_S6061)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6061, _S6060.differential_0);
    float _S6062 = 2.0f * _S6061.differential_0;
    DiffPair_float_0 _S6063;
    (&_S6063)->primal_0 = _S5957;
    (&_S6063)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6063, _S6062);
    float _S6064 = dpopacity_19 + 254.9999847412109375f * _S6063.differential_0;
    FixedArray<float3 , 6>  _S6065;
    _S6065[int(0)] = _S5921;
    _S6065[int(1)] = _S5921;
    _S6065[int(2)] = _S5921;
    _S6065[int(3)] = _S5921;
    _S6065[int(4)] = _S5921;
    _S6065[int(5)] = _S5921;
    _S6065[int(5)] = _S5997;
    _S6065[int(4)] = _S5999;
    _S6065[int(3)] = _S6004;
    _S6065[int(2)] = _S6009;
    _S6065[int(1)] = _S6014;
    _S6065[int(0)] = _S6019;
    FixedArray<float3 , 6>  _S6066 = {
        _S6065[int(0)], _S6065[int(1)], _S6065[int(2)], _S6065[int(3)], _S6065[int(4)], _S6065[int(5)]
    };
    FixedArray<float3 , 6>  _S6067;
    _S6067[int(0)] = _S5921;
    _S6067[int(1)] = _S5921;
    _S6067[int(2)] = _S5921;
    _S6067[int(3)] = _S5921;
    _S6067[int(4)] = _S5921;
    _S6067[int(5)] = _S5921;
    _S6067[int(5)] = _S6024.differential_0;
    _S6067[int(4)] = _S6026.differential_0;
    _S6067[int(3)] = _S6028.differential_0;
    _S6067[int(2)] = _S6030.differential_0;
    _S6067[int(1)] = _S6032.differential_0;
    _S6067[int(0)] = _S6034.differential_0;
    FixedArray<float3 , 6>  _S6068 = {
        _S6067[int(0)], _S6067[int(1)], _S6067[int(2)], _S6067[int(3)], _S6067[int(4)], _S6067[int(5)]
    };
    float3  _S6069 = _S6055.differential_0 + make_float3 (0.0f, 0.0f, _S6056);
    float2  _S6070 = make_float2 (0.0f, _S6057.differential_0);
    float2  _S6071 = make_float2 (_S6058.differential_0, 0.0f);
    float _S6072;
    if(antialiased_64)
    {
        float _S6073 = _S5954 * _S6064;
        _S5956 = _S5951 * _S6064;
        _S6072 = _S6073;
    }
    else
    {
        _S5956 = _S6064;
        _S6072 = 0.0f;
    }
    float _S6074 = - (_S5956 / _S5955);
    DiffPair_float_0 _S6075;
    (&_S6075)->primal_0 = _S5952;
    (&_S6075)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6075, _S6074);
    float _S6076 = - _S6075.differential_0;
    DiffPair_float_0 _S6077;
    (&_S6077)->primal_0 = _S5950;
    (&_S6077)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6077, _S6072);
    DiffPair_float_0 _S6078;
    (&_S6078)->primal_0 = 0.0f;
    (&_S6078)->differential_0 = 0.0f;
    DiffPair_float_0 _S6079;
    (&_S6079)->primal_0 = _S5948;
    (&_S6079)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6078, &_S6079, _S6077.differential_0);
    float _S6080 = _S6079.differential_0 / _S5949;
    float s_diff_det_blur_T_10 = det_orig_57 * - _S6080;
    float s_diff_det_orig_T_13 = det_blur_33 * _S6080;
    float _S6081 = - s_diff_det_blur_T_10;
    float _S6082 = _S5943 * s_diff_det_blur_T_10;
    float _S6083 = _S5945 * s_diff_det_blur_T_10;
    Matrix<float, 2, 2>  _S6084 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6085 = _S6084;
    _S6085[int(1)] = _S6070;
    _S6085[int(0)] = _S6071;
    float _S6086 = _S6083 + _S6085.rows[int(0)].x;
    float _S6087 = _S6081 + - s_diff_det_orig_T_13;
    float _S6088 = *&(((&_s_diff_ctx_31->_S5866)->rows + (int(0)))->y) * _S6087;
    float _S6089 = *&(((&_s_diff_ctx_31->_S5866)->rows + (int(1)))->x) * _S6087;
    float _S6090 = *&(((&_s_diff_ctx_31->_S5866)->rows + (int(1)))->y) * s_diff_det_orig_T_13;
    float _S6091 = _S6082 + _S6085.rows[int(1)].y + *&(((&_s_diff_ctx_31->_S5866)->rows + (int(0)))->x) * s_diff_det_orig_T_13;
    float2  _S6092 = make_float2 (0.0f);
    float2  _S6093 = _S6092;
    *&((&_S6093)->x) = _S6088;
    *&((&_S6093)->y) = _S6091;
    float _S6094 = _S6086 + _S6090;
    float2  _S6095 = _S6092;
    *&((&_S6095)->y) = _S6089;
    *&((&_S6095)->x) = _S6094;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6096;
    (&_S6096)->primal_0 = _S5919.primal_0;
    (&_S6096)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6097;
    (&_S6097)->primal_0 = _S5940;
    (&_S6097)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6096, &_S6097, _S5921);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6098;
    (&_S6098)->primal_0 = _S5919.primal_0;
    (&_S6098)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6099;
    (&_S6099)->primal_0 = _S5936;
    (&_S6099)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6098, &_S6099, _S5921);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6100;
    (&_S6100)->primal_0 = _S5919.primal_0;
    (&_S6100)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6101;
    (&_S6101)->primal_0 = _S5932;
    (&_S6101)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6100, &_S6101, _S5921);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6102;
    (&_S6102)->primal_0 = _S5919.primal_0;
    (&_S6102)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6103;
    (&_S6103)->primal_0 = _S5939;
    (&_S6103)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6102, &_S6103, _S5921);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6104;
    (&_S6104)->primal_0 = _S5919.primal_0;
    (&_S6104)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6105;
    (&_S6105)->primal_0 = _S5935;
    (&_S6105)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6104, &_S6105, _S5921);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6106;
    (&_S6106)->primal_0 = _S5919.primal_0;
    (&_S6106)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6107;
    (&_S6107)->primal_0 = _S5931;
    (&_S6107)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6106, &_S6107, _S5921);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6108;
    (&_S6108)->primal_0 = _S5919.primal_0;
    (&_S6108)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6109;
    (&_S6109)->primal_0 = _S5941.p_0[0U];
    (&_S6109)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6108, &_S6109, _S5921);
    float3  _S6110 = - _S6097.differential_0 + _S6103.differential_0;
    float3  _S6111 = _S5938 * _S6110;
    float3  _S6112 = _S5924.rows[2U] * _S6110;
    float _S6113 = _S5928 * (_S6112.x + _S6112.y + _S6112.z);
    float3  _S6114 = - _S6099.differential_0 + _S6105.differential_0;
    float3  _S6115 = _S5934 * _S6114;
    float3  _S6116 = _S5924.rows[1U] * _S6114;
    float _S6117 = _S5928 * (_S6116.x + _S6116.y + _S6116.z);
    float3  _S6118 = - _S6101.differential_0 + _S6107.differential_0;
    float3  _S6119 = _S5930 * _S6118;
    float3  _S6120 = _S5924.rows[0U] * _S6118;
    float _S6121 = _S5928 * (_S6120.x + _S6120.y + _S6120.z);
    Matrix<float, 3, 3>  _S6122 = _S6045;
    _S6122[2U] = _S6111;
    _S6122[1U] = _S6115;
    _S6122[0U] = _S6119;
    Matrix<float, 3, 3>  _S6123 = transpose_0(transpose_0(_S6122));
    float _S6124 = 2.0f * - _S6123.rows[int(2)].z;
    float _S6125 = 2.0f * _S6123.rows[int(2)].y;
    float _S6126 = 2.0f * _S6123.rows[int(2)].x;
    float _S6127 = 2.0f * _S6123.rows[int(1)].z;
    float _S6128 = 2.0f * - _S6123.rows[int(1)].y;
    float _S6129 = 2.0f * _S6123.rows[int(1)].x;
    float _S6130 = 2.0f * _S6123.rows[int(0)].z;
    float _S6131 = 2.0f * _S6123.rows[int(0)].y;
    float _S6132 = 2.0f * - _S6123.rows[int(0)].x;
    float _S6133 = - _S6129 + _S6131;
    float _S6134 = _S6126 + - _S6130;
    float _S6135 = - _S6125 + _S6127;
    float _S6136 = _S6125 + _S6127;
    float _S6137 = _S6126 + _S6130;
    float _S6138 = _S6129 + _S6131;
    float _S6139 = _S5915.primal_0.w * (_S6128 + _S6132);
    float _S6140 = _S5915.primal_0.z * (_S6124 + _S6132);
    float _S6141 = _S5915.primal_0.y * (_S6124 + _S6128);
    float _S6142 = _S5915.primal_0.x * _S6133 + _S5915.primal_0.z * _S6136 + _S5915.primal_0.y * _S6137 + _S6139 + _S6139;
    float _S6143 = _S5915.primal_0.x * _S6134 + _S5915.primal_0.w * _S6136 + _S5915.primal_0.y * _S6138 + _S6140 + _S6140;
    float _S6144 = _S5915.primal_0.x * _S6135 + _S5915.primal_0.w * _S6137 + _S5915.primal_0.z * _S6138 + _S6141 + _S6141;
    float _S6145 = _S5915.primal_0.w * _S6133 + _S5915.primal_0.z * _S6134 + _S5915.primal_0.y * _S6135;
    float3  _S6146 = _S5921;
    *&((&_S6146)->z) = _S6113;
    *&((&_S6146)->y) = _S6117;
    *&((&_S6146)->x) = _S6121;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6147;
    (&_S6147)->primal_0 = _S5916.primal_0;
    (&_S6147)->differential_0 = _S5921;
    s_bwd_prop_exp_1(&_S6147, _S6146);
    Matrix<float, 2, 2>  _S6148 = _S6084;
    _S6148[int(1)] = _S6093;
    _S6148[int(0)] = _S6095;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6149;
    (&_S6149)->primal_0 = _S5919.primal_0;
    (&_S6149)->differential_0 = _S6045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6150;
    (&_S6150)->primal_0 = _S5914.primal_0;
    (&_S6150)->differential_0 = _S5921;
    s_bwd_prop_mul_1(&_S6149, &_S6150, _S6069);
    float3  _S6151 = _S6069 + _S6048.differential_0;
    dpt_18->primal_0 = (*dpt_18).primal_0;
    dpt_18->differential_0 = _S6151;
    Matrix<float, 3, 3>  _S6152 = _S6096.differential_0 + _S6098.differential_0 + _S6100.differential_0 + _S6102.differential_0 + _S6104.differential_0 + _S6106.differential_0 + _S6108.differential_0 + _S6149.differential_0 + _S6049;
    dpR_19->primal_0 = (*dpR_19).primal_0;
    dpR_19->differential_0 = _S6152;
    dpsv_colors_17->primal_0 = dpsv_colors_17->primal_0;
    dpsv_colors_17->differential_0 = _S6066;
    dpsv_sites_17->primal_0 = dpsv_sites_17->primal_0;
    dpsv_sites_17->differential_0 = _S6068;
    dpin_opacity_17->primal_0 = (*dpin_opacity_17).primal_0;
    dpin_opacity_17->differential_0 = _S6076;
    float3  _S6153 = _S6147.differential_0 + _S6051;
    dpscale_18->primal_0 = (*dpscale_18).primal_0;
    dpscale_18->differential_0 = _S6153;
    float4  _S6154 = make_float4 (0.0f);
    *&((&_S6154)->w) = _S6142;
    *&((&_S6154)->z) = _S6143;
    *&((&_S6154)->y) = _S6144;
    *&((&_S6154)->x) = _S6145;
    dpquat_18->primal_0 = (*dpquat_18).primal_0;
    dpquat_18->differential_0 = _S6154;
    float3  _S6155 = _S6097.differential_0 + _S6103.differential_0 + _S6099.differential_0 + _S6105.differential_0 + _S6101.differential_0 + _S6107.differential_0 + _S6150.differential_0 + _S6043;
    dpmean_19->primal_0 = (*dpmean_19).primal_0;
    dpmean_19->differential_0 = _S6155;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_4(bool _S6156, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6157, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6158, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6159, DiffPair_float_0 * _S6160, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6161, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6162, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6163, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6164, float _S6165, float _S6166, float _S6167, float _S6168, FixedArray<float, 10>  * _S6169, uint _S6170, uint _S6171, float _S6172, float _S6173, float2  _S6174, float _S6175, float3  _S6176, float _S6177, float3  _S6178)
{
    FixedArray<float3 , 6>  _S6179 = _S6161->primal_0;
    FixedArray<float3 , 6>  _S6180 = _S6162->primal_0;
    int4  _S6181;
    float2  _S6182;
    float _S6183;
    float3  _S6184;
    float _S6185;
    float3  _S6186;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S6187;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_4(_S6156, (*_S6157).primal_0, (*_S6158).primal_0, (*_S6159).primal_0, (*_S6160).primal_0, &_S6179, &_S6180, (*_S6163).primal_0, (*_S6164).primal_0, _S6165, _S6166, _S6167, _S6168, _S6169, _S6170, _S6171, _S6172, _S6173, &_S6181, &_S6182, &_S6183, &_S6184, &_S6185, &_S6186, &_S6187);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_4 _S6188 = _S6187;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_4(_S6156, _S6157, _S6158, _S6159, _S6160, _S6161, _S6162, _S6163, _S6164, _S6165, _S6166, _S6167, _S6168, _S6169, _S6170, _S6171, _S6172, _S6173, _S6174, _S6175, _S6176, _S6177, _S6178, &_S6188);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_65, float3  mean_52, float4  quat_53, float3  scale_52, float in_opacity_47, FixedArray<float3 , 6>  * sv_sites_32, FixedArray<float3 , 6>  * sv_colors_32, Matrix<float, 3, 3>  R_54, float3  t_50, float fx_74, float fy_74, float cx_69, float cy_69, FixedArray<float, 10>  * dist_coeffs_78, uint image_width_65, uint image_height_65, float2  v_mean2d_13, float v_depth_14, float3  v_conic_13, float v_opacity_15, float3  v_rgb_14, float3  * v_mean_15, float4  * v_quat_14, float3  * v_scale_14, float * v_in_opacity_13, FixedArray<float3 , 6>  * v_sv_dirs_8, FixedArray<float3 , 6>  * v_sv_colors_8, Matrix<float, 3, 3>  * v_R_15, float3  * v_t_14)
{
    float3  _S6189 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_10;
    (&dp_mean_10)->primal_0 = mean_52;
    (&dp_mean_10)->differential_0 = _S6189;
    float4  _S6190 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_9;
    (&dp_quat_9)->primal_0 = quat_53;
    (&dp_quat_9)->differential_0 = _S6190;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_9;
    (&dp_scale_9)->primal_0 = scale_52;
    (&dp_scale_9)->differential_0 = _S6189;
    DiffPair_float_0 dp_in_opacity_8;
    (&dp_in_opacity_8)->primal_0 = in_opacity_47;
    (&dp_in_opacity_8)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S6191 = { _S6189, _S6189, _S6189, _S6189, _S6189, _S6189 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_8;
    (&dp_sv_dirs_8)->primal_0 = *sv_sites_32;
    (&dp_sv_dirs_8)->differential_0 = _S6191;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_8;
    (&dp_sv_colors_8)->primal_0 = *sv_colors_32;
    (&dp_sv_colors_8)->differential_0 = _S6191;
    Matrix<float, 3, 3>  _S6192 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_10;
    (&dp_R_10)->primal_0 = R_54;
    (&dp_R_10)->differential_0 = _S6192;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_9;
    (&dp_t_9)->primal_0 = t_50;
    (&dp_t_9)->differential_0 = _S6189;
    s_bwd_projection_3dgut_sv_persp_differentiable_4(antialiased_65, &dp_mean_10, &dp_quat_9, &dp_scale_9, &dp_in_opacity_8, &dp_sv_dirs_8, &dp_sv_colors_8, &dp_R_10, &dp_t_9, fx_74, fy_74, cx_69, cy_69, dist_coeffs_78, image_width_65, image_height_65, 0.0f, 1.00000001504746622e+30f, v_mean2d_13, v_depth_14, v_conic_13, v_opacity_15, v_rgb_14);
    *v_mean_15 = dp_mean_10.differential_0;
    *v_quat_14 = dp_quat_9.differential_0;
    *v_scale_14 = dp_scale_9.differential_0;
    *v_in_opacity_13 = dp_in_opacity_8.differential_0;
    *v_sv_dirs_8 = (&dp_sv_dirs_8)->differential_0;
    *v_sv_colors_8 = (&dp_sv_colors_8)->differential_0;
    *v_R_15 = dp_R_10.differential_0;
    *v_t_14 = dp_t_9.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4
{
    Matrix<float, 2, 2>  _S6193;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_66, float3  dpmean_20, float4  dpquat_19, float3  dpscale_19, float dpin_opacity_18, FixedArray<float3 , 6>  * dpsv_sites_18, FixedArray<float3 , 6>  * dpsv_colors_18, Matrix<float, 3, 3>  dpR_20, float3  dpt_19, float fx_75, float fy_75, float cx_70, float cy_70, FixedArray<float, 10>  * dist_coeffs_79, uint image_width_66, uint image_height_66, float near_plane_52, float far_plane_52, int4  * aabb_xyxy_43, float2  * dpmean2d_20, float * dpdepth_19, float3  * dpconic_18, float * dpopacity_20, float3  * dprgb_19, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_32)
{
    Matrix<float, 2, 2>  _S6194 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_32->_S6193 = _S6194;
    float2  _S6195 = make_float2 (0.0f);
    float3  _S6196 = make_float3 (0.0f);
    float3  mean_c_57 = s_primal_ctx_mul_0(dpR_20, dpmean_20) + dpt_19;
    float _S6197 = length_1(mean_c_57);
    float4  intrins_47 = make_float4 (fx_75, fy_75, cx_70, cy_70);
    float3  _S6198 = s_primal_ctx_exp_0(dpscale_19);
    float _S6199 = dpquat_19.y;
    float x2_63 = _S6199 * _S6199;
    float y2_63 = dpquat_19.z * dpquat_19.z;
    float z2_78 = dpquat_19.w * dpquat_19.w;
    float xy_63 = dpquat_19.y * dpquat_19.z;
    float xz_63 = dpquat_19.y * dpquat_19.w;
    float yz_63 = dpquat_19.z * dpquat_19.w;
    float wx_63 = dpquat_19.x * dpquat_19.y;
    float wy_63 = dpquat_19.x * dpquat_19.z;
    float wz_63 = dpquat_19.x * dpquat_19.w;
    Matrix<float, 3, 3>  _S6200 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_63 + z2_78), 2.0f * (xy_63 + wz_63), 2.0f * (xz_63 - wy_63), 2.0f * (xy_63 - wz_63), 1.0f - 2.0f * (x2_63 + z2_78), 2.0f * (yz_63 + wx_63), 2.0f * (xz_63 + wy_63), 2.0f * (yz_63 - wx_63), 1.0f - 2.0f * (x2_63 + y2_63))));
    FixedArray<float3 , 7>  _S6201 = {
        _S6196, _S6196, _S6196, _S6196, _S6196, _S6196, _S6196
    };
    FixedArray<float, 7>  _S6202 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6203;
    (&_S6203)->p_0 = _S6201;
    (&_S6203)->w_mean_0 = _S6202;
    (&_S6203)->w_cov_0 = _S6202;
    (&_S6203)->p_0[int(0)] = dpmean_20;
    SigmaPoints_0 _S6204 = _S6203;
    (&_S6204)->w_mean_0[int(0)] = 0.0f;
    (&_S6204)->w_cov_0[int(0)] = 2.0f;
    float _S6205 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_144 = make_float3 (_S6205 * _S6198.x) * _S6200.rows[0U];
    float3  _S6206 = dpmean_20 + delta_144;
    float3  _S6207 = dpmean_20 - delta_144;
    float3  delta_145 = make_float3 (_S6205 * _S6198.y) * _S6200.rows[1U];
    float3  _S6208 = dpmean_20 + delta_145;
    float3  _S6209 = dpmean_20 - delta_145;
    float3  delta_146 = make_float3 (_S6205 * _S6198.z) * _S6200.rows[2U];
    float3  _S6210 = dpmean_20 + delta_146;
    float3  _S6211 = dpmean_20 - delta_146;
    (&_S6204)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6204)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6204)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6204)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6204)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6204)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6204)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6204)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6204)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6204)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6204)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6204)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6204)->p_0[0U] = s_primal_ctx_mul_0(dpR_20, _S6203.p_0[0U]) + dpt_19;
    (&_S6204)->p_0[1U] = s_primal_ctx_mul_0(dpR_20, _S6206) + dpt_19;
    (&_S6204)->p_0[2U] = s_primal_ctx_mul_0(dpR_20, _S6208) + dpt_19;
    (&_S6204)->p_0[3U] = s_primal_ctx_mul_0(dpR_20, _S6210) + dpt_19;
    (&_S6204)->p_0[4U] = s_primal_ctx_mul_0(dpR_20, _S6207) + dpt_19;
    (&_S6204)->p_0[5U] = s_primal_ctx_mul_0(dpR_20, _S6209) + dpt_19;
    (&_S6204)->p_0[6U] = s_primal_ctx_mul_0(dpR_20, _S6211) + dpt_19;
    float2  _S6212 = _S6195;
    Matrix<float, 2, 2>  _S6213 = _S6194;
    SigmaPoints_0 _S6214 = _S6204;
    bool _S6215 = fisheye_proj_3dgs_ut_1(&_S6214, intrins_47, dist_coeffs_79, &_S6213, &_S6212);
    _s_diff_ctx_32->_S6193 = _S6213;
    float2  _S6216 = _S6212;
    float _S6217 = _S6213.rows[int(0)].y * _S6213.rows[int(1)].x;
    float det_orig_58 = _S6213.rows[int(0)].x * _S6213.rows[int(1)].y - _S6217;
    float _S6218 = _S6213.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6219 = _S6213;
    *&(((&_S6219)->rows + (int(0)))->x) = _S6218;
    float _S6220 = _S6213.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6219)->rows + (int(1)))->y) = _S6220;
    Matrix<float, 2, 2>  _S6221 = _S6219;
    Matrix<float, 2, 2>  _S6222 = _S6219;
    float _S6223 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_58 / (_S6218 * _S6220 - _S6217)));
    float _S6224 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_18));
    float _S6225;
    if(antialiased_66)
    {
        _S6225 = _S6224 * _S6223;
    }
    else
    {
        _S6225 = _S6224;
    }
    float _S6226 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6225 / 0.00392156885936856f)));
    float radius_x_43 = _S6226 * s_primal_ctx_sqrt_0(_S6221.rows[int(0)].x);
    float radius_y_43 = _S6226 * s_primal_ctx_sqrt_0(_S6222.rows[int(1)].y);
    float _S6227 = _S6216.x;
    float _S6228 = _S6216.y;
    float _S6229 = mean_c_57.z;
    float _S6230 = s_primal_ctx_max_0(_S6229, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6229 + _S6197));
    float3  _S6231 = s_primal_ctx_exp_0(- dpscale_19);
    float3  _S6232 = dpmean_20 - - s_primal_ctx_mul_0(transpose_0(dpR_20), dpt_19);
    float3  _S6233 = _S6232 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6232, _S6232)));
    float _S6234 = s_primal_ctx_dot_0((*dpsv_sites_18)[int(5)], _S6233);
    float _S6235 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(0)], _S6233) - _S6234);
    float _S6236 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(1)], _S6233) - _S6234);
    float _S6237 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(2)], _S6233) - _S6234);
    float _S6238 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(3)], _S6233) - _S6234);
    float _S6239 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_18)[int(4)], _S6233) - _S6234);
    float _S6240 = s_primal_ctx_exp_1(0.0f);
    float3  _S6241 = s_primal_ctx_max_1((make_float3 (_S6235) * (*dpsv_colors_18)[int(0)] + make_float3 (_S6236) * (*dpsv_colors_18)[int(1)] + make_float3 (_S6237) * (*dpsv_colors_18)[int(2)] + make_float3 (_S6238) * (*dpsv_colors_18)[int(3)] + make_float3 (_S6239) * (*dpsv_colors_18)[int(4)] + make_float3 (_S6240) * (*dpsv_colors_18)[int(5)]) / make_float3 (_S6235 + _S6236 + _S6237 + _S6238 + _S6239 + _S6240) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_43 = make_int4 (int((F32_floor((_S6227 - radius_x_43)))), int((F32_floor((_S6228 - radius_y_43)))), int((F32_ceil((_S6227 + radius_x_43)))), int((F32_ceil((_S6228 + radius_y_43)))));
    *dpmean2d_20 = _S6216;
    *dpdepth_19 = _S6230;
    *dpconic_18 = _S6231;
    *dpopacity_20 = _S6225;
    *dprgb_19 = _S6241;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(bool antialiased_67, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_21, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_20, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_20, DiffPair_float_0 * dpin_opacity_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_sites_19, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * dpsv_colors_19, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_21, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_20, float fx_76, float fy_76, float cx_71, float cy_71, FixedArray<float, 10>  * dist_coeffs_80, uint image_width_67, uint image_height_67, float near_plane_53, float far_plane_53, float2  dpmean2d_21, float dpdepth_20, float3  dpconic_19, float dpopacity_21, float3  dprgb_20, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 * _s_diff_ctx_33)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6242 = *dpmean_21;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6243 = *dpquat_20;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6244 = *dpscale_20;
    FixedArray<float3 , 6>  _S6245 = dpsv_sites_19->primal_0;
    FixedArray<float3 , 6>  _S6246 = dpsv_colors_19->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6247 = *dpR_21;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6248 = *dpt_20;
    float3  _S6249 = make_float3 (0.0f);
    float3  mean_c_58 = s_primal_ctx_mul_0((*dpR_21).primal_0, (*dpmean_21).primal_0) + (*dpt_20).primal_0;
    float _S6250 = length_1(mean_c_58);
    float3  _S6251 = s_primal_ctx_exp_0((*dpscale_20).primal_0);
    float _S6252 = (*dpquat_20).primal_0.y;
    float x2_64 = _S6252 * _S6252;
    float y2_64 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.z;
    float z2_79 = (*dpquat_20).primal_0.w * (*dpquat_20).primal_0.w;
    float xy_64 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.z;
    float xz_64 = (*dpquat_20).primal_0.y * (*dpquat_20).primal_0.w;
    float yz_64 = (*dpquat_20).primal_0.z * (*dpquat_20).primal_0.w;
    float wx_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.y;
    float wy_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.z;
    float wz_64 = (*dpquat_20).primal_0.x * (*dpquat_20).primal_0.w;
    Matrix<float, 3, 3>  _S6253 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_64 + z2_79), 2.0f * (xy_64 + wz_64), 2.0f * (xz_64 - wy_64), 2.0f * (xy_64 - wz_64), 1.0f - 2.0f * (x2_64 + z2_79), 2.0f * (yz_64 + wx_64), 2.0f * (xz_64 + wy_64), 2.0f * (yz_64 - wx_64), 1.0f - 2.0f * (x2_64 + y2_64))));
    FixedArray<float3 , 7>  _S6254 = {
        _S6249, _S6249, _S6249, _S6249, _S6249, _S6249, _S6249
    };
    FixedArray<float, 7>  _S6255 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6256;
    (&_S6256)->p_0 = _S6254;
    (&_S6256)->w_mean_0 = _S6255;
    (&_S6256)->w_cov_0 = _S6255;
    (&_S6256)->p_0[int(0)] = (*dpmean_21).primal_0;
    float _S6257 = s_primal_ctx_sqrt_0(3.0f);
    float _S6258 = _S6257 * _S6251.x;
    float3  _S6259 = make_float3 (_S6258);
    float3  delta_147 = make_float3 (_S6258) * _S6253.rows[0U];
    float3  _S6260 = (*dpmean_21).primal_0 + delta_147;
    float3  _S6261 = (*dpmean_21).primal_0 - delta_147;
    float _S6262 = _S6257 * _S6251.y;
    float3  _S6263 = make_float3 (_S6262);
    float3  delta_148 = make_float3 (_S6262) * _S6253.rows[1U];
    float3  _S6264 = (*dpmean_21).primal_0 + delta_148;
    float3  _S6265 = (*dpmean_21).primal_0 - delta_148;
    float _S6266 = _S6257 * _S6251.z;
    float3  _S6267 = make_float3 (_S6266);
    float3  delta_149 = make_float3 (_S6266) * _S6253.rows[2U];
    float3  _S6268 = (*dpmean_21).primal_0 + delta_149;
    float3  _S6269 = (*dpmean_21).primal_0 - delta_149;
    SigmaPoints_0 _S6270 = _S6256;
    float _S6271 = *&(((&_s_diff_ctx_33->_S6193)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_33->_S6193)->rows + (int(1)))->x);
    float det_orig_59 = *&(((&_s_diff_ctx_33->_S6193)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_33->_S6193)->rows + (int(1)))->y) - _S6271;
    float _S6272 = *&(((&_s_diff_ctx_33->_S6193)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6273 = _s_diff_ctx_33->_S6193;
    *&(((&_S6273)->rows + (int(0)))->x) = _S6272;
    float _S6274 = *&(((&_s_diff_ctx_33->_S6193)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6273)->rows + (int(1)))->y) = _S6274;
    Matrix<float, 2, 2>  _S6275 = _S6273;
    Matrix<float, 2, 2>  _S6276 = _S6273;
    float det_blur_34 = _S6272 * _S6274 - _S6271;
    float _S6277 = det_orig_59 / det_blur_34;
    float _S6278 = det_blur_34 * det_blur_34;
    float _S6279 = s_primal_ctx_max_0(0.0f, _S6277);
    float _S6280 = s_primal_ctx_sqrt_0(_S6279);
    float _S6281 = - (*dpin_opacity_19).primal_0;
    float _S6282 = 1.0f + s_primal_ctx_exp_1(_S6281);
    float _S6283 = 1.0f / _S6282;
    float _S6284 = _S6282 * _S6282;
    float _S6285;
    if(antialiased_67)
    {
        _S6285 = _S6283 * _S6280;
    }
    else
    {
        _S6285 = _S6283;
    }
    float _S6286 = _S6285 / 0.00392156885936856f;
    float _S6287 = 2.0f * s_primal_ctx_log_0(_S6286);
    float _S6288 = s_primal_ctx_sqrt_0(_S6287);
    float _S6289 = _S6275.rows[int(0)].x;
    float _S6290 = _S6276.rows[int(1)].y;
    float _S6291 = mean_c_58.z;
    float _S6292 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6293 = _S6292 * (_S6291 + _S6250);
    float3  _S6294 = - _S6244.primal_0;
    Matrix<float, 3, 3>  _S6295 = transpose_0(_S6247.primal_0);
    float3  _S6296 = _S6242.primal_0 - - s_primal_ctx_mul_0(_S6295, _S6248.primal_0);
    float _S6297 = s_primal_ctx_dot_0(_S6296, _S6296);
    float _S6298 = s_primal_ctx_rsqrt_0(_S6297);
    float3  _S6299 = make_float3 (_S6298);
    float3  _S6300 = _S6296 * make_float3 (_S6298);
    float _S6301 = s_primal_ctx_dot_0(_S6245[int(5)], _S6300);
    float _S6302 = s_primal_ctx_dot_0(_S6245[int(0)], _S6300) - _S6301;
    float _S6303 = s_primal_ctx_exp_1(_S6302);
    float3  _S6304 = make_float3 (_S6303);
    float _S6305 = s_primal_ctx_dot_0(_S6245[int(1)], _S6300) - _S6301;
    float _S6306 = s_primal_ctx_exp_1(_S6305);
    float3  _S6307 = make_float3 (_S6306);
    float _S6308 = s_primal_ctx_dot_0(_S6245[int(2)], _S6300) - _S6301;
    float _S6309 = s_primal_ctx_exp_1(_S6308);
    float3  _S6310 = make_float3 (_S6309);
    float _S6311 = s_primal_ctx_dot_0(_S6245[int(3)], _S6300) - _S6301;
    float _S6312 = s_primal_ctx_exp_1(_S6311);
    float3  _S6313 = make_float3 (_S6312);
    float _S6314 = s_primal_ctx_dot_0(_S6245[int(4)], _S6300) - _S6301;
    float _S6315 = s_primal_ctx_exp_1(_S6314);
    float3  _S6316 = make_float3 (_S6315);
    float _S6317 = s_primal_ctx_exp_1(0.0f);
    float3  _S6318 = make_float3 (_S6317);
    float total_w_9 = _S6303 + _S6306 + _S6309 + _S6312 + _S6315 + _S6317;
    float3  _S6319 = make_float3 (total_w_9);
    float3  total_c_9 = make_float3 (_S6303) * _S6246[int(0)] + make_float3 (_S6306) * _S6246[int(1)] + make_float3 (_S6309) * _S6246[int(2)] + make_float3 (_S6312) * _S6246[int(3)] + make_float3 (_S6315) * _S6246[int(4)] + make_float3 (_S6317) * _S6246[int(5)];
    float3  _S6320 = make_float3 (total_w_9 * total_w_9);
    float3  _S6321 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6322;
    (&_S6322)->primal_0 = total_c_9 / make_float3 (total_w_9) + make_float3 (0.5f);
    (&_S6322)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6323;
    (&_S6323)->primal_0 = _S6321;
    (&_S6323)->differential_0 = _S6249;
    s_bwd_prop_max_0(&_S6322, &_S6323, dprgb_20);
    float3  _S6324 = _S6322.differential_0 / _S6320;
    float3  _S6325 = total_c_9 * - _S6324;
    float3  s_diff_total_c_T_9 = _S6319 * _S6324;
    float3  _S6326 = _S6318 * s_diff_total_c_T_9;
    float _S6327 = _S6325.x + _S6325.y + _S6325.z;
    float3  _S6328 = _S6316 * s_diff_total_c_T_9;
    float3  _S6329 = _S6246[int(4)] * s_diff_total_c_T_9;
    float _S6330 = _S6327 + _S6329.x + _S6329.y + _S6329.z;
    DiffPair_float_0 _S6331;
    (&_S6331)->primal_0 = _S6314;
    (&_S6331)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6331, _S6330);
    float _S6332 = - _S6331.differential_0;
    float3  _S6333 = _S6313 * s_diff_total_c_T_9;
    float3  _S6334 = _S6246[int(3)] * s_diff_total_c_T_9;
    float _S6335 = _S6327 + _S6334.x + _S6334.y + _S6334.z;
    DiffPair_float_0 _S6336;
    (&_S6336)->primal_0 = _S6311;
    (&_S6336)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6336, _S6335);
    float _S6337 = - _S6336.differential_0;
    float3  _S6338 = _S6310 * s_diff_total_c_T_9;
    float3  _S6339 = _S6246[int(2)] * s_diff_total_c_T_9;
    float _S6340 = _S6327 + _S6339.x + _S6339.y + _S6339.z;
    DiffPair_float_0 _S6341;
    (&_S6341)->primal_0 = _S6308;
    (&_S6341)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6341, _S6340);
    float _S6342 = - _S6341.differential_0;
    float3  _S6343 = _S6307 * s_diff_total_c_T_9;
    float3  _S6344 = _S6246[int(1)] * s_diff_total_c_T_9;
    float _S6345 = _S6327 + _S6344.x + _S6344.y + _S6344.z;
    DiffPair_float_0 _S6346;
    (&_S6346)->primal_0 = _S6305;
    (&_S6346)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6346, _S6345);
    float _S6347 = - _S6346.differential_0;
    float3  _S6348 = _S6304 * s_diff_total_c_T_9;
    float3  _S6349 = _S6246[int(0)] * s_diff_total_c_T_9;
    float _S6350 = _S6327 + _S6349.x + _S6349.y + _S6349.z;
    DiffPair_float_0 _S6351;
    (&_S6351)->primal_0 = _S6302;
    (&_S6351)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6351, _S6350);
    float _S6352 = _S6332 + _S6337 + _S6342 + _S6347 + - _S6351.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6353;
    (&_S6353)->primal_0 = _S6245[int(5)];
    (&_S6353)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6354;
    (&_S6354)->primal_0 = _S6300;
    (&_S6354)->differential_0 = _S6249;
    s_bwd_prop_dot_0(&_S6353, &_S6354, _S6352);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6355;
    (&_S6355)->primal_0 = _S6245[int(4)];
    (&_S6355)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6356;
    (&_S6356)->primal_0 = _S6300;
    (&_S6356)->differential_0 = _S6249;
    s_bwd_prop_dot_0(&_S6355, &_S6356, _S6331.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6357;
    (&_S6357)->primal_0 = _S6245[int(3)];
    (&_S6357)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6358;
    (&_S6358)->primal_0 = _S6300;
    (&_S6358)->differential_0 = _S6249;
    s_bwd_prop_dot_0(&_S6357, &_S6358, _S6336.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6359;
    (&_S6359)->primal_0 = _S6245[int(2)];
    (&_S6359)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6360;
    (&_S6360)->primal_0 = _S6300;
    (&_S6360)->differential_0 = _S6249;
    s_bwd_prop_dot_0(&_S6359, &_S6360, _S6341.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6361;
    (&_S6361)->primal_0 = _S6245[int(1)];
    (&_S6361)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6362;
    (&_S6362)->primal_0 = _S6300;
    (&_S6362)->differential_0 = _S6249;
    s_bwd_prop_dot_0(&_S6361, &_S6362, _S6346.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6363;
    (&_S6363)->primal_0 = _S6245[int(0)];
    (&_S6363)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6364;
    (&_S6364)->primal_0 = _S6300;
    (&_S6364)->differential_0 = _S6249;
    s_bwd_prop_dot_0(&_S6363, &_S6364, _S6351.differential_0);
    float3  _S6365 = _S6354.differential_0 + _S6356.differential_0 + _S6358.differential_0 + _S6360.differential_0 + _S6362.differential_0 + _S6364.differential_0;
    float3  _S6366 = _S6296 * _S6365;
    float3  _S6367 = _S6299 * _S6365;
    float _S6368 = _S6366.x + _S6366.y + _S6366.z;
    DiffPair_float_0 _S6369;
    (&_S6369)->primal_0 = _S6297;
    (&_S6369)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6369, _S6368);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6370;
    (&_S6370)->primal_0 = _S6296;
    (&_S6370)->differential_0 = _S6249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6371;
    (&_S6371)->primal_0 = _S6296;
    (&_S6371)->differential_0 = _S6249;
    s_bwd_prop_dot_0(&_S6370, &_S6371, _S6369.differential_0);
    float3  _S6372 = _S6367 + _S6371.differential_0 + _S6370.differential_0;
    float3  _S6373 = - - _S6372;
    Matrix<float, 3, 3>  _S6374 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6375;
    (&_S6375)->primal_0 = _S6295;
    (&_S6375)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6376;
    (&_S6376)->primal_0 = _S6248.primal_0;
    (&_S6376)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6375, &_S6376, _S6373);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6377 = _S6376;
    Matrix<float, 3, 3>  _S6378 = transpose_0(_S6375.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6379;
    (&_S6379)->primal_0 = _S6294;
    (&_S6379)->differential_0 = _S6249;
    s_bwd_prop_exp_1(&_S6379, dpconic_19);
    float3  _S6380 = - _S6379.differential_0;
    DiffPair_float_0 _S6381;
    (&_S6381)->primal_0 = _S6291;
    (&_S6381)->differential_0 = 0.0f;
    DiffPair_float_0 _S6382;
    (&_S6382)->primal_0 = _S6293;
    (&_S6382)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6381, &_S6382, dpdepth_20);
    float _S6383 = _S6292 * _S6382.differential_0;
    float _S6384 = _S6381.differential_0 + _S6383;
    DiffPair_float_0 _S6385;
    (&_S6385)->primal_0 = _S6290;
    (&_S6385)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6385, 0.0f);
    DiffPair_float_0 _S6386;
    (&_S6386)->primal_0 = _S6289;
    (&_S6386)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6386, 0.0f);
    DiffPair_float_0 _S6387;
    (&_S6387)->primal_0 = 3.32999992370605469f;
    (&_S6387)->differential_0 = 0.0f;
    DiffPair_float_0 _S6388;
    (&_S6388)->primal_0 = _S6288;
    (&_S6388)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6387, &_S6388, 0.0f);
    DiffPair_float_0 _S6389;
    (&_S6389)->primal_0 = _S6287;
    (&_S6389)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6389, _S6388.differential_0);
    float _S6390 = 2.0f * _S6389.differential_0;
    DiffPair_float_0 _S6391;
    (&_S6391)->primal_0 = _S6286;
    (&_S6391)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6391, _S6390);
    float _S6392 = dpopacity_21 + 254.9999847412109375f * _S6391.differential_0;
    FixedArray<float3 , 6>  _S6393;
    _S6393[int(0)] = _S6249;
    _S6393[int(1)] = _S6249;
    _S6393[int(2)] = _S6249;
    _S6393[int(3)] = _S6249;
    _S6393[int(4)] = _S6249;
    _S6393[int(5)] = _S6249;
    _S6393[int(5)] = _S6326;
    _S6393[int(4)] = _S6328;
    _S6393[int(3)] = _S6333;
    _S6393[int(2)] = _S6338;
    _S6393[int(1)] = _S6343;
    _S6393[int(0)] = _S6348;
    FixedArray<float3 , 6>  _S6394 = {
        _S6393[int(0)], _S6393[int(1)], _S6393[int(2)], _S6393[int(3)], _S6393[int(4)], _S6393[int(5)]
    };
    FixedArray<float3 , 6>  _S6395;
    _S6395[int(0)] = _S6249;
    _S6395[int(1)] = _S6249;
    _S6395[int(2)] = _S6249;
    _S6395[int(3)] = _S6249;
    _S6395[int(4)] = _S6249;
    _S6395[int(5)] = _S6249;
    _S6395[int(5)] = _S6353.differential_0;
    _S6395[int(4)] = _S6355.differential_0;
    _S6395[int(3)] = _S6357.differential_0;
    _S6395[int(2)] = _S6359.differential_0;
    _S6395[int(1)] = _S6361.differential_0;
    _S6395[int(0)] = _S6363.differential_0;
    FixedArray<float3 , 6>  _S6396 = {
        _S6395[int(0)], _S6395[int(1)], _S6395[int(2)], _S6395[int(3)], _S6395[int(4)], _S6395[int(5)]
    };
    float3  _S6397 = make_float3 (0.0f, 0.0f, _S6384);
    float2  _S6398 = make_float2 (0.0f, _S6385.differential_0);
    float2  _S6399 = make_float2 (_S6386.differential_0, 0.0f);
    float _S6400;
    if(antialiased_67)
    {
        float _S6401 = _S6283 * _S6392;
        _S6285 = _S6280 * _S6392;
        _S6400 = _S6401;
    }
    else
    {
        _S6285 = _S6392;
        _S6400 = 0.0f;
    }
    float _S6402 = - (_S6285 / _S6284);
    DiffPair_float_0 _S6403;
    (&_S6403)->primal_0 = _S6281;
    (&_S6403)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6403, _S6402);
    float _S6404 = - _S6403.differential_0;
    DiffPair_float_0 _S6405;
    (&_S6405)->primal_0 = _S6279;
    (&_S6405)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6405, _S6400);
    DiffPair_float_0 _S6406;
    (&_S6406)->primal_0 = 0.0f;
    (&_S6406)->differential_0 = 0.0f;
    DiffPair_float_0 _S6407;
    (&_S6407)->primal_0 = _S6277;
    (&_S6407)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6406, &_S6407, _S6405.differential_0);
    float _S6408 = _S6407.differential_0 / _S6278;
    float s_diff_det_blur_T_11 = det_orig_59 * - _S6408;
    float s_diff_det_orig_T_14 = det_blur_34 * _S6408;
    float _S6409 = - s_diff_det_blur_T_11;
    float _S6410 = _S6272 * s_diff_det_blur_T_11;
    float _S6411 = _S6274 * s_diff_det_blur_T_11;
    Matrix<float, 2, 2>  _S6412 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6413 = _S6412;
    _S6413[int(1)] = _S6398;
    _S6413[int(0)] = _S6399;
    float _S6414 = _S6411 + _S6413.rows[int(0)].x;
    float _S6415 = _S6409 + - s_diff_det_orig_T_14;
    float _S6416 = *&(((&_s_diff_ctx_33->_S6193)->rows + (int(0)))->y) * _S6415;
    float _S6417 = *&(((&_s_diff_ctx_33->_S6193)->rows + (int(1)))->x) * _S6415;
    float _S6418 = *&(((&_s_diff_ctx_33->_S6193)->rows + (int(1)))->y) * s_diff_det_orig_T_14;
    float _S6419 = _S6410 + _S6413.rows[int(1)].y + *&(((&_s_diff_ctx_33->_S6193)->rows + (int(0)))->x) * s_diff_det_orig_T_14;
    float2  _S6420 = make_float2 (0.0f);
    float2  _S6421 = _S6420;
    *&((&_S6421)->x) = _S6416;
    *&((&_S6421)->y) = _S6419;
    float _S6422 = _S6414 + _S6418;
    float2  _S6423 = _S6420;
    *&((&_S6423)->y) = _S6417;
    *&((&_S6423)->x) = _S6422;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6424;
    (&_S6424)->primal_0 = _S6247.primal_0;
    (&_S6424)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6425;
    (&_S6425)->primal_0 = _S6269;
    (&_S6425)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6424, &_S6425, _S6249);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6426;
    (&_S6426)->primal_0 = _S6247.primal_0;
    (&_S6426)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6427;
    (&_S6427)->primal_0 = _S6265;
    (&_S6427)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6426, &_S6427, _S6249);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6428;
    (&_S6428)->primal_0 = _S6247.primal_0;
    (&_S6428)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6429;
    (&_S6429)->primal_0 = _S6261;
    (&_S6429)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6428, &_S6429, _S6249);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6430;
    (&_S6430)->primal_0 = _S6247.primal_0;
    (&_S6430)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6431;
    (&_S6431)->primal_0 = _S6268;
    (&_S6431)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6430, &_S6431, _S6249);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6432;
    (&_S6432)->primal_0 = _S6247.primal_0;
    (&_S6432)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6433;
    (&_S6433)->primal_0 = _S6264;
    (&_S6433)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6432, &_S6433, _S6249);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6434;
    (&_S6434)->primal_0 = _S6247.primal_0;
    (&_S6434)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6435;
    (&_S6435)->primal_0 = _S6260;
    (&_S6435)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6434, &_S6435, _S6249);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6436;
    (&_S6436)->primal_0 = _S6247.primal_0;
    (&_S6436)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6437;
    (&_S6437)->primal_0 = _S6270.p_0[0U];
    (&_S6437)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6436, &_S6437, _S6249);
    float3  _S6438 = - _S6425.differential_0 + _S6431.differential_0;
    float3  _S6439 = _S6267 * _S6438;
    float3  _S6440 = _S6253.rows[2U] * _S6438;
    float _S6441 = _S6257 * (_S6440.x + _S6440.y + _S6440.z);
    float3  _S6442 = - _S6427.differential_0 + _S6433.differential_0;
    float3  _S6443 = _S6263 * _S6442;
    float3  _S6444 = _S6253.rows[1U] * _S6442;
    float _S6445 = _S6257 * (_S6444.x + _S6444.y + _S6444.z);
    float3  _S6446 = - _S6429.differential_0 + _S6435.differential_0;
    float3  _S6447 = _S6259 * _S6446;
    float3  _S6448 = _S6253.rows[0U] * _S6446;
    float _S6449 = _S6257 * (_S6448.x + _S6448.y + _S6448.z);
    Matrix<float, 3, 3>  _S6450 = _S6374;
    _S6450[2U] = _S6439;
    _S6450[1U] = _S6443;
    _S6450[0U] = _S6447;
    Matrix<float, 3, 3>  _S6451 = transpose_0(transpose_0(_S6450));
    float _S6452 = 2.0f * - _S6451.rows[int(2)].z;
    float _S6453 = 2.0f * _S6451.rows[int(2)].y;
    float _S6454 = 2.0f * _S6451.rows[int(2)].x;
    float _S6455 = 2.0f * _S6451.rows[int(1)].z;
    float _S6456 = 2.0f * - _S6451.rows[int(1)].y;
    float _S6457 = 2.0f * _S6451.rows[int(1)].x;
    float _S6458 = 2.0f * _S6451.rows[int(0)].z;
    float _S6459 = 2.0f * _S6451.rows[int(0)].y;
    float _S6460 = 2.0f * - _S6451.rows[int(0)].x;
    float _S6461 = - _S6457 + _S6459;
    float _S6462 = _S6454 + - _S6458;
    float _S6463 = - _S6453 + _S6455;
    float _S6464 = _S6453 + _S6455;
    float _S6465 = _S6454 + _S6458;
    float _S6466 = _S6457 + _S6459;
    float _S6467 = _S6243.primal_0.w * (_S6456 + _S6460);
    float _S6468 = _S6243.primal_0.z * (_S6452 + _S6460);
    float _S6469 = _S6243.primal_0.y * (_S6452 + _S6456);
    float _S6470 = _S6243.primal_0.x * _S6461 + _S6243.primal_0.z * _S6464 + _S6243.primal_0.y * _S6465 + _S6467 + _S6467;
    float _S6471 = _S6243.primal_0.x * _S6462 + _S6243.primal_0.w * _S6464 + _S6243.primal_0.y * _S6466 + _S6468 + _S6468;
    float _S6472 = _S6243.primal_0.x * _S6463 + _S6243.primal_0.w * _S6465 + _S6243.primal_0.z * _S6466 + _S6469 + _S6469;
    float _S6473 = _S6243.primal_0.w * _S6461 + _S6243.primal_0.z * _S6462 + _S6243.primal_0.y * _S6463;
    float3  _S6474 = _S6249;
    *&((&_S6474)->z) = _S6441;
    *&((&_S6474)->y) = _S6445;
    *&((&_S6474)->x) = _S6449;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6475;
    (&_S6475)->primal_0 = _S6244.primal_0;
    (&_S6475)->differential_0 = _S6249;
    s_bwd_prop_exp_1(&_S6475, _S6474);
    Matrix<float, 2, 2>  _S6476 = _S6412;
    _S6476[int(1)] = _S6421;
    _S6476[int(0)] = _S6423;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6477;
    (&_S6477)->primal_0 = mean_c_58;
    (&_S6477)->differential_0 = _S6249;
    s_bwd_length_impl_1(&_S6477, _S6383);
    float3  _S6478 = _S6477.differential_0 + _S6397;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6479;
    (&_S6479)->primal_0 = _S6247.primal_0;
    (&_S6479)->differential_0 = _S6374;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6480;
    (&_S6480)->primal_0 = _S6242.primal_0;
    (&_S6480)->differential_0 = _S6249;
    s_bwd_prop_mul_1(&_S6479, &_S6480, _S6478);
    float3  _S6481 = _S6478 + _S6377.differential_0;
    dpt_20->primal_0 = (*dpt_20).primal_0;
    dpt_20->differential_0 = _S6481;
    Matrix<float, 3, 3>  _S6482 = _S6424.differential_0 + _S6426.differential_0 + _S6428.differential_0 + _S6430.differential_0 + _S6432.differential_0 + _S6434.differential_0 + _S6436.differential_0 + _S6479.differential_0 + _S6378;
    dpR_21->primal_0 = (*dpR_21).primal_0;
    dpR_21->differential_0 = _S6482;
    dpsv_colors_19->primal_0 = dpsv_colors_19->primal_0;
    dpsv_colors_19->differential_0 = _S6394;
    dpsv_sites_19->primal_0 = dpsv_sites_19->primal_0;
    dpsv_sites_19->differential_0 = _S6396;
    dpin_opacity_19->primal_0 = (*dpin_opacity_19).primal_0;
    dpin_opacity_19->differential_0 = _S6404;
    float3  _S6483 = _S6475.differential_0 + _S6380;
    dpscale_20->primal_0 = (*dpscale_20).primal_0;
    dpscale_20->differential_0 = _S6483;
    float4  _S6484 = make_float4 (0.0f);
    *&((&_S6484)->w) = _S6470;
    *&((&_S6484)->z) = _S6471;
    *&((&_S6484)->y) = _S6472;
    *&((&_S6484)->x) = _S6473;
    dpquat_20->primal_0 = (*dpquat_20).primal_0;
    dpquat_20->differential_0 = _S6484;
    float3  _S6485 = _S6425.differential_0 + _S6431.differential_0 + _S6427.differential_0 + _S6433.differential_0 + _S6429.differential_0 + _S6435.differential_0 + _S6480.differential_0 + _S6372;
    dpmean_21->primal_0 = (*dpmean_21).primal_0;
    dpmean_21->differential_0 = _S6485;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_4(bool _S6486, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6487, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6488, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6489, DiffPair_float_0 * _S6490, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6491, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 * _S6492, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6493, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6494, float _S6495, float _S6496, float _S6497, float _S6498, FixedArray<float, 10>  * _S6499, uint _S6500, uint _S6501, float _S6502, float _S6503, float2  _S6504, float _S6505, float3  _S6506, float _S6507, float3  _S6508)
{
    FixedArray<float3 , 6>  _S6509 = _S6491->primal_0;
    FixedArray<float3 , 6>  _S6510 = _S6492->primal_0;
    int4  _S6511;
    float2  _S6512;
    float _S6513;
    float3  _S6514;
    float _S6515;
    float3  _S6516;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S6517;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_4(_S6486, (*_S6487).primal_0, (*_S6488).primal_0, (*_S6489).primal_0, (*_S6490).primal_0, &_S6509, &_S6510, (*_S6493).primal_0, (*_S6494).primal_0, _S6495, _S6496, _S6497, _S6498, _S6499, _S6500, _S6501, _S6502, _S6503, &_S6511, &_S6512, &_S6513, &_S6514, &_S6515, &_S6516, &_S6517);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_4 _S6518 = _S6517;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_4(_S6486, _S6487, _S6488, _S6489, _S6490, _S6491, _S6492, _S6493, _S6494, _S6495, _S6496, _S6497, _S6498, _S6499, _S6500, _S6501, _S6502, _S6503, _S6504, _S6505, _S6506, _S6507, _S6508, &_S6518);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_68, float3  mean_53, float4  quat_54, float3  scale_53, float in_opacity_48, FixedArray<float3 , 6>  * sv_sites_33, FixedArray<float3 , 6>  * sv_colors_33, Matrix<float, 3, 3>  R_55, float3  t_51, float fx_77, float fy_77, float cx_72, float cy_72, FixedArray<float, 10>  * dist_coeffs_81, uint image_width_68, uint image_height_68, float2  v_mean2d_14, float v_depth_15, float3  v_conic_14, float v_opacity_16, float3  v_rgb_15, float3  * v_mean_16, float4  * v_quat_15, float3  * v_scale_15, float * v_in_opacity_14, FixedArray<float3 , 6>  * v_sv_dirs_9, FixedArray<float3 , 6>  * v_sv_colors_9, Matrix<float, 3, 3>  * v_R_16, float3  * v_t_15)
{
    float3  _S6519 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_11;
    (&dp_mean_11)->primal_0 = mean_53;
    (&dp_mean_11)->differential_0 = _S6519;
    float4  _S6520 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_10;
    (&dp_quat_10)->primal_0 = quat_54;
    (&dp_quat_10)->differential_0 = _S6520;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_10;
    (&dp_scale_10)->primal_0 = scale_53;
    (&dp_scale_10)->differential_0 = _S6519;
    DiffPair_float_0 dp_in_opacity_9;
    (&dp_in_opacity_9)->primal_0 = in_opacity_48;
    (&dp_in_opacity_9)->differential_0 = 0.0f;
    FixedArray<float3 , 6>  _S6521 = { _S6519, _S6519, _S6519, _S6519, _S6519, _S6519 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_dirs_9;
    (&dp_sv_dirs_9)->primal_0 = *sv_sites_33;
    (&dp_sv_dirs_9)->differential_0 = _S6521;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C6x3E_0 dp_sv_colors_9;
    (&dp_sv_colors_9)->primal_0 = *sv_colors_33;
    (&dp_sv_colors_9)->differential_0 = _S6521;
    Matrix<float, 3, 3>  _S6522 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_11;
    (&dp_R_11)->primal_0 = R_55;
    (&dp_R_11)->differential_0 = _S6522;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_10;
    (&dp_t_10)->primal_0 = t_51;
    (&dp_t_10)->differential_0 = _S6519;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_4(antialiased_68, &dp_mean_11, &dp_quat_10, &dp_scale_10, &dp_in_opacity_9, &dp_sv_dirs_9, &dp_sv_colors_9, &dp_R_11, &dp_t_10, fx_77, fy_77, cx_72, cy_72, dist_coeffs_81, image_width_68, image_height_68, 0.0f, 1.00000001504746622e+30f, v_mean2d_14, v_depth_15, v_conic_14, v_opacity_16, v_rgb_15);
    *v_mean_16 = dp_mean_11.differential_0;
    *v_quat_15 = dp_quat_10.differential_0;
    *v_scale_15 = dp_scale_10.differential_0;
    *v_in_opacity_14 = dp_in_opacity_9.differential_0;
    *v_sv_dirs_9 = (&dp_sv_dirs_9)->differential_0;
    *v_sv_colors_9 = (&dp_sv_colors_9)->differential_0;
    *v_R_16 = dp_R_11.differential_0;
    *v_t_15 = dp_t_10.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_69, float3  mean_54, float4  quat_55, float3  scale_54, float in_opacity_49, FixedArray<float3 , 7>  * sv_sites_34, FixedArray<float3 , 7>  * sv_colors_34, Matrix<float, 3, 3>  R_56, float3  t_52, float fx_78, float fy_78, float cx_73, float cy_73, FixedArray<float, 10>  * dist_coeffs_82, uint image_width_69, uint image_height_69, float near_plane_54, float far_plane_54, int4  * aabb_xyxy_44, float2  * mean2d_42, float * depth_35, float3  * conic_34, float * opacity_38, float3  * rgb_36)
{
    float3  mean_c_59 = mul_0(R_56, mean_54) + t_52;
    float4  intrins_48 = make_float4 (fx_78, fy_78, cx_73, cy_73);
    float3  _S6523 = exp_0(scale_54);
    float x_65 = quat_55.y;
    float x2_65 = x_65 * x_65;
    float y2_65 = quat_55.z * quat_55.z;
    float z2_80 = quat_55.w * quat_55.w;
    float xy_65 = quat_55.y * quat_55.z;
    float xz_65 = quat_55.y * quat_55.w;
    float yz_65 = quat_55.z * quat_55.w;
    float wx_65 = quat_55.x * quat_55.y;
    float wy_65 = quat_55.x * quat_55.z;
    float wz_65 = quat_55.x * quat_55.w;
    Matrix<float, 3, 3>  _S6524 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_65 + z2_80), 2.0f * (xy_65 + wz_65), 2.0f * (xz_65 - wy_65), 2.0f * (xy_65 - wz_65), 1.0f - 2.0f * (x2_65 + z2_80), 2.0f * (yz_65 + wx_65), 2.0f * (xz_65 + wy_65), 2.0f * (yz_65 - wx_65), 1.0f - 2.0f * (x2_65 + y2_65))));
    SigmaPoints_0 ret_28;
    (&ret_28)->p_0[int(0)] = mean_54;
    (&ret_28)->w_mean_0[int(0)] = 0.0f;
    (&ret_28)->w_cov_0[int(0)] = 2.0f;
    float _S6525 = (F32_sqrt((3.0f)));
    float3  delta_150 = make_float3 (_S6525 * _S6523.x) * _S6524.rows[0U];
    float3  _S6526 = mean_54 + delta_150;
    float3  _S6527 = mean_54 - delta_150;
    float3  delta_151 = make_float3 (_S6525 * _S6523.y) * _S6524.rows[1U];
    float3  _S6528 = mean_54 + delta_151;
    float3  _S6529 = mean_54 - delta_151;
    float3  delta_152 = make_float3 (_S6525 * _S6523.z) * _S6524.rows[2U];
    float3  _S6530 = mean_54 + delta_152;
    float3  _S6531 = mean_54 - delta_152;
    (&ret_28)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_28)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_28)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_28)->p_0[0U] = mul_0(R_56, (&ret_28)->p_0[0U]) + t_52;
    (&ret_28)->p_0[1U] = mul_0(R_56, _S6526) + t_52;
    (&ret_28)->p_0[2U] = mul_0(R_56, _S6528) + t_52;
    (&ret_28)->p_0[3U] = mul_0(R_56, _S6530) + t_52;
    (&ret_28)->p_0[4U] = mul_0(R_56, _S6527) + t_52;
    (&ret_28)->p_0[5U] = mul_0(R_56, _S6529) + t_52;
    (&ret_28)->p_0[6U] = mul_0(R_56, _S6531) + t_52;
    SigmaPoints_0 _S6532 = ret_28;
    Matrix<float, 2, 2>  covar2d_34;
    bool _S6533 = persp_proj_3dgs_ut_1(&_S6532, intrins_48, dist_coeffs_82, image_width_69, image_height_69, &covar2d_34, mean2d_42);
    float det_orig_60 = *&(((&covar2d_34)->rows + (int(0)))->x) * *&(((&covar2d_34)->rows + (int(1)))->y) - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x);
    float _S6534 = *&(((&covar2d_34)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(0)))->x) = _S6534;
    float _S6535 = *&(((&covar2d_34)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_34)->rows + (int(1)))->y) = _S6535;
    float compensation_35 = (F32_sqrt(((F32_max((0.0f), (det_orig_60 / (_S6534 * _S6535 - *&(((&covar2d_34)->rows + (int(0)))->y) * *&(((&covar2d_34)->rows + (int(1)))->x))))))));
    *opacity_38 = 1.0f / (1.0f + (F32_exp((- in_opacity_49))));
    if(antialiased_69)
    {
        *opacity_38 = *opacity_38 * compensation_35;
    }
    float extend_34 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_38 / 0.00392156885936856f)))))))));
    float radius_x_44 = extend_34 * (F32_sqrt((covar2d_34[int(0)].x)));
    float radius_y_44 = extend_34 * (F32_sqrt((covar2d_34[int(1)].y)));
    *aabb_xyxy_44 = make_int4 (int((F32_floor(((*mean2d_42).x - radius_x_44)))), int((F32_floor(((*mean2d_42).y - radius_y_44)))), int((F32_ceil(((*mean2d_42).x + radius_x_44)))), int((F32_ceil(((*mean2d_42).y + radius_y_44)))));
    float _S6536 = mean_c_59.z;
    *depth_35 = (F32_max((_S6536), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6536 + length_1(mean_c_59)))));
    *conic_34 = exp_0(- scale_54);
    float3  _S6537 = mean_54 - - mul_0(transpose_0(R_56), t_52);
    float3  _S6538 = _S6537 * make_float3 ((F32_rsqrt((dot_0(_S6537, _S6537)))));
    float _S6539 = dot_0((*sv_sites_34)[int(6)], _S6538);
    float w_110 = (F32_exp((dot_0((*sv_sites_34)[int(0)], _S6538) - _S6539)));
    float w_111 = (F32_exp((dot_0((*sv_sites_34)[int(1)], _S6538) - _S6539)));
    float w_112 = (F32_exp((dot_0((*sv_sites_34)[int(2)], _S6538) - _S6539)));
    float w_113 = (F32_exp((dot_0((*sv_sites_34)[int(3)], _S6538) - _S6539)));
    float w_114 = (F32_exp((dot_0((*sv_sites_34)[int(4)], _S6538) - _S6539)));
    float w_115 = (F32_exp((dot_0((*sv_sites_34)[int(5)], _S6538) - _S6539)));
    float w_116 = (F32_exp((0.0f)));
    *rgb_36 = max_0((make_float3 (w_110) * (*sv_colors_34)[int(0)] + make_float3 (w_111) * (*sv_colors_34)[int(1)] + make_float3 (w_112) * (*sv_colors_34)[int(2)] + make_float3 (w_113) * (*sv_colors_34)[int(3)] + make_float3 (w_114) * (*sv_colors_34)[int(4)] + make_float3 (w_115) * (*sv_colors_34)[int(5)] + make_float3 (w_116) * (*sv_colors_34)[int(6)]) / make_float3 (w_110 + w_111 + w_112 + w_113 + w_114 + w_115 + w_116) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_70, float3  mean_55, float4  quat_56, float3  scale_55, float in_opacity_50, FixedArray<float3 , 7>  * sv_sites_35, FixedArray<float3 , 7>  * sv_colors_35, Matrix<float, 3, 3>  R_57, float3  t_53, float fx_79, float fy_79, float cx_74, float cy_74, FixedArray<float, 10>  * dist_coeffs_83, uint image_width_70, uint image_height_70, float near_plane_55, float far_plane_55, int4  * aabb_xyxy_45, float2  * mean2d_43, float * depth_36, float3  * conic_35, float * opacity_39, float3  * rgb_37)
{
    float3  mean_c_60 = mul_0(R_57, mean_55) + t_53;
    float4  intrins_49 = make_float4 (fx_79, fy_79, cx_74, cy_74);
    float3  _S6540 = exp_0(scale_55);
    float x_66 = quat_56.y;
    float x2_66 = x_66 * x_66;
    float y2_66 = quat_56.z * quat_56.z;
    float z2_81 = quat_56.w * quat_56.w;
    float xy_66 = quat_56.y * quat_56.z;
    float xz_66 = quat_56.y * quat_56.w;
    float yz_66 = quat_56.z * quat_56.w;
    float wx_66 = quat_56.x * quat_56.y;
    float wy_66 = quat_56.x * quat_56.z;
    float wz_66 = quat_56.x * quat_56.w;
    Matrix<float, 3, 3>  _S6541 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_66 + z2_81), 2.0f * (xy_66 + wz_66), 2.0f * (xz_66 - wy_66), 2.0f * (xy_66 - wz_66), 1.0f - 2.0f * (x2_66 + z2_81), 2.0f * (yz_66 + wx_66), 2.0f * (xz_66 + wy_66), 2.0f * (yz_66 - wx_66), 1.0f - 2.0f * (x2_66 + y2_66))));
    SigmaPoints_0 ret_29;
    (&ret_29)->p_0[int(0)] = mean_55;
    (&ret_29)->w_mean_0[int(0)] = 0.0f;
    (&ret_29)->w_cov_0[int(0)] = 2.0f;
    float _S6542 = (F32_sqrt((3.0f)));
    float3  delta_153 = make_float3 (_S6542 * _S6540.x) * _S6541.rows[0U];
    float3  _S6543 = mean_55 + delta_153;
    float3  _S6544 = mean_55 - delta_153;
    float3  delta_154 = make_float3 (_S6542 * _S6540.y) * _S6541.rows[1U];
    float3  _S6545 = mean_55 + delta_154;
    float3  _S6546 = mean_55 - delta_154;
    float3  delta_155 = make_float3 (_S6542 * _S6540.z) * _S6541.rows[2U];
    float3  _S6547 = mean_55 + delta_155;
    float3  _S6548 = mean_55 - delta_155;
    (&ret_29)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_29)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_29)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_29)->p_0[0U] = mul_0(R_57, (&ret_29)->p_0[0U]) + t_53;
    (&ret_29)->p_0[1U] = mul_0(R_57, _S6543) + t_53;
    (&ret_29)->p_0[2U] = mul_0(R_57, _S6545) + t_53;
    (&ret_29)->p_0[3U] = mul_0(R_57, _S6547) + t_53;
    (&ret_29)->p_0[4U] = mul_0(R_57, _S6544) + t_53;
    (&ret_29)->p_0[5U] = mul_0(R_57, _S6546) + t_53;
    (&ret_29)->p_0[6U] = mul_0(R_57, _S6548) + t_53;
    SigmaPoints_0 _S6549 = ret_29;
    Matrix<float, 2, 2>  covar2d_35;
    bool _S6550 = fisheye_proj_3dgs_ut_1(&_S6549, intrins_49, dist_coeffs_83, &covar2d_35, mean2d_43);
    float det_orig_61 = *&(((&covar2d_35)->rows + (int(0)))->x) * *&(((&covar2d_35)->rows + (int(1)))->y) - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x);
    float _S6551 = *&(((&covar2d_35)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(0)))->x) = _S6551;
    float _S6552 = *&(((&covar2d_35)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_35)->rows + (int(1)))->y) = _S6552;
    float compensation_36 = (F32_sqrt(((F32_max((0.0f), (det_orig_61 / (_S6551 * _S6552 - *&(((&covar2d_35)->rows + (int(0)))->y) * *&(((&covar2d_35)->rows + (int(1)))->x))))))));
    *opacity_39 = 1.0f / (1.0f + (F32_exp((- in_opacity_50))));
    if(antialiased_70)
    {
        *opacity_39 = *opacity_39 * compensation_36;
    }
    float extend_35 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_39 / 0.00392156885936856f)))))))));
    float radius_x_45 = extend_35 * (F32_sqrt((covar2d_35[int(0)].x)));
    float radius_y_45 = extend_35 * (F32_sqrt((covar2d_35[int(1)].y)));
    *aabb_xyxy_45 = make_int4 (int((F32_floor(((*mean2d_43).x - radius_x_45)))), int((F32_floor(((*mean2d_43).y - radius_y_45)))), int((F32_ceil(((*mean2d_43).x + radius_x_45)))), int((F32_ceil(((*mean2d_43).y + radius_y_45)))));
    float _S6553 = mean_c_60.z;
    *depth_36 = (F32_max((_S6553), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S6553 + length_1(mean_c_60)))));
    *conic_35 = exp_0(- scale_55);
    float3  _S6554 = mean_55 - - mul_0(transpose_0(R_57), t_53);
    float3  _S6555 = _S6554 * make_float3 ((F32_rsqrt((dot_0(_S6554, _S6554)))));
    float _S6556 = dot_0((*sv_sites_35)[int(6)], _S6555);
    float w_117 = (F32_exp((dot_0((*sv_sites_35)[int(0)], _S6555) - _S6556)));
    float w_118 = (F32_exp((dot_0((*sv_sites_35)[int(1)], _S6555) - _S6556)));
    float w_119 = (F32_exp((dot_0((*sv_sites_35)[int(2)], _S6555) - _S6556)));
    float w_120 = (F32_exp((dot_0((*sv_sites_35)[int(3)], _S6555) - _S6556)));
    float w_121 = (F32_exp((dot_0((*sv_sites_35)[int(4)], _S6555) - _S6556)));
    float w_122 = (F32_exp((dot_0((*sv_sites_35)[int(5)], _S6555) - _S6556)));
    float w_123 = (F32_exp((0.0f)));
    *rgb_37 = max_0((make_float3 (w_117) * (*sv_colors_35)[int(0)] + make_float3 (w_118) * (*sv_colors_35)[int(1)] + make_float3 (w_119) * (*sv_colors_35)[int(2)] + make_float3 (w_120) * (*sv_colors_35)[int(3)] + make_float3 (w_121) * (*sv_colors_35)[int(4)] + make_float3 (w_122) * (*sv_colors_35)[int(5)] + make_float3 (w_123) * (*sv_colors_35)[int(6)]) / make_float3 (w_117 + w_118 + w_119 + w_120 + w_121 + w_122 + w_123) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0
{
    FixedArray<float3 , 7>  primal_0;
    FixedArray<float3 , 7>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S6557;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(bool antialiased_71, float3  dpmean_22, float4  dpquat_21, float3  dpscale_21, float dpin_opacity_20, FixedArray<float3 , 7>  * dpsv_sites_20, FixedArray<float3 , 7>  * dpsv_colors_20, Matrix<float, 3, 3>  dpR_22, float3  dpt_21, float fx_80, float fy_80, float cx_75, float cy_75, FixedArray<float, 10>  * dist_coeffs_84, uint image_width_71, uint image_height_71, float near_plane_56, float far_plane_56, int4  * aabb_xyxy_46, float2  * dpmean2d_22, float * dpdepth_21, float3  * dpconic_20, float * dpopacity_22, float3  * dprgb_21, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_34)
{
    Matrix<float, 2, 2>  _S6558 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_34->_S6557 = _S6558;
    float2  _S6559 = make_float2 (0.0f);
    float3  _S6560 = make_float3 (0.0f);
    float3  mean_c_61 = s_primal_ctx_mul_0(dpR_22, dpmean_22) + dpt_21;
    float4  intrins_50 = make_float4 (fx_80, fy_80, cx_75, cy_75);
    float3  _S6561 = s_primal_ctx_exp_0(dpscale_21);
    float _S6562 = dpquat_21.y;
    float x2_67 = _S6562 * _S6562;
    float y2_67 = dpquat_21.z * dpquat_21.z;
    float z2_82 = dpquat_21.w * dpquat_21.w;
    float xy_67 = dpquat_21.y * dpquat_21.z;
    float xz_67 = dpquat_21.y * dpquat_21.w;
    float yz_67 = dpquat_21.z * dpquat_21.w;
    float wx_67 = dpquat_21.x * dpquat_21.y;
    float wy_67 = dpquat_21.x * dpquat_21.z;
    float wz_67 = dpquat_21.x * dpquat_21.w;
    Matrix<float, 3, 3>  _S6563 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_67 + z2_82), 2.0f * (xy_67 + wz_67), 2.0f * (xz_67 - wy_67), 2.0f * (xy_67 - wz_67), 1.0f - 2.0f * (x2_67 + z2_82), 2.0f * (yz_67 + wx_67), 2.0f * (xz_67 + wy_67), 2.0f * (yz_67 - wx_67), 1.0f - 2.0f * (x2_67 + y2_67))));
    FixedArray<float3 , 7>  _S6564 = {
        _S6560, _S6560, _S6560, _S6560, _S6560, _S6560, _S6560
    };
    FixedArray<float, 7>  _S6565 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6566;
    (&_S6566)->p_0 = _S6564;
    (&_S6566)->w_mean_0 = _S6565;
    (&_S6566)->w_cov_0 = _S6565;
    (&_S6566)->p_0[int(0)] = dpmean_22;
    SigmaPoints_0 _S6567 = _S6566;
    (&_S6567)->w_mean_0[int(0)] = 0.0f;
    (&_S6567)->w_cov_0[int(0)] = 2.0f;
    float _S6568 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_156 = make_float3 (_S6568 * _S6561.x) * _S6563.rows[0U];
    float3  _S6569 = dpmean_22 + delta_156;
    float3  _S6570 = dpmean_22 - delta_156;
    float3  delta_157 = make_float3 (_S6568 * _S6561.y) * _S6563.rows[1U];
    float3  _S6571 = dpmean_22 + delta_157;
    float3  _S6572 = dpmean_22 - delta_157;
    float3  delta_158 = make_float3 (_S6568 * _S6561.z) * _S6563.rows[2U];
    float3  _S6573 = dpmean_22 + delta_158;
    float3  _S6574 = dpmean_22 - delta_158;
    (&_S6567)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6567)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6567)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6567)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6567)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6567)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6567)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6567)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6567)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6567)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6567)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6567)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6567)->p_0[0U] = s_primal_ctx_mul_0(dpR_22, _S6566.p_0[0U]) + dpt_21;
    (&_S6567)->p_0[1U] = s_primal_ctx_mul_0(dpR_22, _S6569) + dpt_21;
    (&_S6567)->p_0[2U] = s_primal_ctx_mul_0(dpR_22, _S6571) + dpt_21;
    (&_S6567)->p_0[3U] = s_primal_ctx_mul_0(dpR_22, _S6573) + dpt_21;
    (&_S6567)->p_0[4U] = s_primal_ctx_mul_0(dpR_22, _S6570) + dpt_21;
    (&_S6567)->p_0[5U] = s_primal_ctx_mul_0(dpR_22, _S6572) + dpt_21;
    (&_S6567)->p_0[6U] = s_primal_ctx_mul_0(dpR_22, _S6574) + dpt_21;
    float2  _S6575 = _S6559;
    Matrix<float, 2, 2>  _S6576 = _S6558;
    SigmaPoints_0 _S6577 = _S6567;
    bool _S6578 = persp_proj_3dgs_ut_1(&_S6577, intrins_50, dist_coeffs_84, image_width_71, image_height_71, &_S6576, &_S6575);
    _s_diff_ctx_34->_S6557 = _S6576;
    float2  _S6579 = _S6575;
    float _S6580 = _S6576.rows[int(0)].y * _S6576.rows[int(1)].x;
    float det_orig_62 = _S6576.rows[int(0)].x * _S6576.rows[int(1)].y - _S6580;
    float _S6581 = _S6576.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6582 = _S6576;
    *&(((&_S6582)->rows + (int(0)))->x) = _S6581;
    float _S6583 = _S6576.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6582)->rows + (int(1)))->y) = _S6583;
    Matrix<float, 2, 2>  _S6584 = _S6582;
    Matrix<float, 2, 2>  _S6585 = _S6582;
    float _S6586 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_62 / (_S6581 * _S6583 - _S6580)));
    float _S6587 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_20));
    float _S6588;
    if(antialiased_71)
    {
        _S6588 = _S6587 * _S6586;
    }
    else
    {
        _S6588 = _S6587;
    }
    float _S6589 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6588 / 0.00392156885936856f)));
    float radius_x_46 = _S6589 * s_primal_ctx_sqrt_0(_S6584.rows[int(0)].x);
    float radius_y_46 = _S6589 * s_primal_ctx_sqrt_0(_S6585.rows[int(1)].y);
    float _S6590 = _S6579.x;
    float _S6591 = _S6579.y;
    float _S6592 = mean_c_61.z;
    float _S6593 = s_primal_ctx_max_0(_S6592, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6592 + length_1(mean_c_61)));
    float3  _S6594 = s_primal_ctx_exp_0(- dpscale_21);
    float3  _S6595 = dpmean_22 - - s_primal_ctx_mul_0(transpose_0(dpR_22), dpt_21);
    float3  _S6596 = _S6595 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6595, _S6595)));
    float _S6597 = s_primal_ctx_dot_0((*dpsv_sites_20)[int(6)], _S6596);
    float _S6598 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(0)], _S6596) - _S6597);
    float _S6599 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(1)], _S6596) - _S6597);
    float _S6600 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(2)], _S6596) - _S6597);
    float _S6601 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(3)], _S6596) - _S6597);
    float _S6602 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(4)], _S6596) - _S6597);
    float _S6603 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_20)[int(5)], _S6596) - _S6597);
    float _S6604 = s_primal_ctx_exp_1(0.0f);
    float3  _S6605 = s_primal_ctx_max_1((make_float3 (_S6598) * (*dpsv_colors_20)[int(0)] + make_float3 (_S6599) * (*dpsv_colors_20)[int(1)] + make_float3 (_S6600) * (*dpsv_colors_20)[int(2)] + make_float3 (_S6601) * (*dpsv_colors_20)[int(3)] + make_float3 (_S6602) * (*dpsv_colors_20)[int(4)] + make_float3 (_S6603) * (*dpsv_colors_20)[int(5)] + make_float3 (_S6604) * (*dpsv_colors_20)[int(6)]) / make_float3 (_S6598 + _S6599 + _S6600 + _S6601 + _S6602 + _S6603 + _S6604) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_46 = make_int4 (int((F32_floor((_S6590 - radius_x_46)))), int((F32_floor((_S6591 - radius_y_46)))), int((F32_ceil((_S6590 + radius_x_46)))), int((F32_ceil((_S6591 + radius_y_46)))));
    *dpmean2d_22 = _S6579;
    *dpdepth_21 = _S6593;
    *dpconic_20 = _S6594;
    *dpopacity_22 = _S6588;
    *dprgb_21 = _S6605;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(bool antialiased_72, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_23, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_22, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_22, DiffPair_float_0 * dpin_opacity_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_21, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_21, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_23, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_22, float fx_81, float fy_81, float cx_76, float cy_76, FixedArray<float, 10>  * dist_coeffs_85, uint image_width_72, uint image_height_72, float near_plane_57, float far_plane_57, float2  dpmean2d_23, float dpdepth_22, float3  dpconic_21, float dpopacity_23, float3  dprgb_22, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 * _s_diff_ctx_35)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6606 = *dpmean_23;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6607 = *dpquat_22;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6608 = *dpscale_22;
    FixedArray<float3 , 7>  _S6609 = dpsv_sites_21->primal_0;
    FixedArray<float3 , 7>  _S6610 = dpsv_colors_21->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6611 = *dpR_23;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6612 = *dpt_22;
    float3  _S6613 = make_float3 (0.0f);
    float3  mean_c_62 = s_primal_ctx_mul_0((*dpR_23).primal_0, (*dpmean_23).primal_0) + (*dpt_22).primal_0;
    float3  _S6614 = s_primal_ctx_exp_0((*dpscale_22).primal_0);
    float _S6615 = (*dpquat_22).primal_0.y;
    float x2_68 = _S6615 * _S6615;
    float y2_68 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.z;
    float z2_83 = (*dpquat_22).primal_0.w * (*dpquat_22).primal_0.w;
    float xy_68 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.z;
    float xz_68 = (*dpquat_22).primal_0.y * (*dpquat_22).primal_0.w;
    float yz_68 = (*dpquat_22).primal_0.z * (*dpquat_22).primal_0.w;
    float wx_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.y;
    float wy_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.z;
    float wz_68 = (*dpquat_22).primal_0.x * (*dpquat_22).primal_0.w;
    Matrix<float, 3, 3>  _S6616 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_68 + z2_83), 2.0f * (xy_68 + wz_68), 2.0f * (xz_68 - wy_68), 2.0f * (xy_68 - wz_68), 1.0f - 2.0f * (x2_68 + z2_83), 2.0f * (yz_68 + wx_68), 2.0f * (xz_68 + wy_68), 2.0f * (yz_68 - wx_68), 1.0f - 2.0f * (x2_68 + y2_68))));
    FixedArray<float3 , 7>  _S6617 = {
        _S6613, _S6613, _S6613, _S6613, _S6613, _S6613, _S6613
    };
    FixedArray<float, 7>  _S6618 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6619;
    (&_S6619)->p_0 = _S6617;
    (&_S6619)->w_mean_0 = _S6618;
    (&_S6619)->w_cov_0 = _S6618;
    (&_S6619)->p_0[int(0)] = (*dpmean_23).primal_0;
    float _S6620 = s_primal_ctx_sqrt_0(3.0f);
    float _S6621 = _S6620 * _S6614.x;
    float3  _S6622 = make_float3 (_S6621);
    float3  delta_159 = make_float3 (_S6621) * _S6616.rows[0U];
    float3  _S6623 = (*dpmean_23).primal_0 + delta_159;
    float3  _S6624 = (*dpmean_23).primal_0 - delta_159;
    float _S6625 = _S6620 * _S6614.y;
    float3  _S6626 = make_float3 (_S6625);
    float3  delta_160 = make_float3 (_S6625) * _S6616.rows[1U];
    float3  _S6627 = (*dpmean_23).primal_0 + delta_160;
    float3  _S6628 = (*dpmean_23).primal_0 - delta_160;
    float _S6629 = _S6620 * _S6614.z;
    float3  _S6630 = make_float3 (_S6629);
    float3  delta_161 = make_float3 (_S6629) * _S6616.rows[2U];
    float3  _S6631 = (*dpmean_23).primal_0 + delta_161;
    float3  _S6632 = (*dpmean_23).primal_0 - delta_161;
    SigmaPoints_0 _S6633 = _S6619;
    float _S6634 = *&(((&_s_diff_ctx_35->_S6557)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_35->_S6557)->rows + (int(1)))->x);
    float det_orig_63 = *&(((&_s_diff_ctx_35->_S6557)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_35->_S6557)->rows + (int(1)))->y) - _S6634;
    float _S6635 = *&(((&_s_diff_ctx_35->_S6557)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6636 = _s_diff_ctx_35->_S6557;
    *&(((&_S6636)->rows + (int(0)))->x) = _S6635;
    float _S6637 = *&(((&_s_diff_ctx_35->_S6557)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6636)->rows + (int(1)))->y) = _S6637;
    Matrix<float, 2, 2>  _S6638 = _S6636;
    Matrix<float, 2, 2>  _S6639 = _S6636;
    float det_blur_35 = _S6635 * _S6637 - _S6634;
    float _S6640 = det_orig_63 / det_blur_35;
    float _S6641 = det_blur_35 * det_blur_35;
    float _S6642 = s_primal_ctx_max_0(0.0f, _S6640);
    float _S6643 = s_primal_ctx_sqrt_0(_S6642);
    float _S6644 = - (*dpin_opacity_21).primal_0;
    float _S6645 = 1.0f + s_primal_ctx_exp_1(_S6644);
    float _S6646 = 1.0f / _S6645;
    float _S6647 = _S6645 * _S6645;
    float _S6648;
    if(antialiased_72)
    {
        _S6648 = _S6646 * _S6643;
    }
    else
    {
        _S6648 = _S6646;
    }
    float _S6649 = _S6648 / 0.00392156885936856f;
    float _S6650 = 2.0f * s_primal_ctx_log_0(_S6649);
    float _S6651 = s_primal_ctx_sqrt_0(_S6650);
    float _S6652 = _S6638.rows[int(0)].x;
    float _S6653 = _S6639.rows[int(1)].y;
    float _S6654 = mean_c_62.z;
    float _S6655 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6656 = _S6655 * (_S6654 + length_1(mean_c_62));
    float3  _S6657 = - _S6608.primal_0;
    Matrix<float, 3, 3>  _S6658 = transpose_0(_S6611.primal_0);
    float3  _S6659 = _S6606.primal_0 - - s_primal_ctx_mul_0(_S6658, _S6612.primal_0);
    float _S6660 = s_primal_ctx_dot_0(_S6659, _S6659);
    float _S6661 = s_primal_ctx_rsqrt_0(_S6660);
    float3  _S6662 = make_float3 (_S6661);
    float3  _S6663 = _S6659 * make_float3 (_S6661);
    float _S6664 = s_primal_ctx_dot_0(_S6609[int(6)], _S6663);
    float _S6665 = s_primal_ctx_dot_0(_S6609[int(0)], _S6663) - _S6664;
    float _S6666 = s_primal_ctx_exp_1(_S6665);
    float3  _S6667 = make_float3 (_S6666);
    float _S6668 = s_primal_ctx_dot_0(_S6609[int(1)], _S6663) - _S6664;
    float _S6669 = s_primal_ctx_exp_1(_S6668);
    float3  _S6670 = make_float3 (_S6669);
    float _S6671 = s_primal_ctx_dot_0(_S6609[int(2)], _S6663) - _S6664;
    float _S6672 = s_primal_ctx_exp_1(_S6671);
    float3  _S6673 = make_float3 (_S6672);
    float _S6674 = s_primal_ctx_dot_0(_S6609[int(3)], _S6663) - _S6664;
    float _S6675 = s_primal_ctx_exp_1(_S6674);
    float3  _S6676 = make_float3 (_S6675);
    float _S6677 = s_primal_ctx_dot_0(_S6609[int(4)], _S6663) - _S6664;
    float _S6678 = s_primal_ctx_exp_1(_S6677);
    float3  _S6679 = make_float3 (_S6678);
    float _S6680 = s_primal_ctx_dot_0(_S6609[int(5)], _S6663) - _S6664;
    float _S6681 = s_primal_ctx_exp_1(_S6680);
    float3  _S6682 = make_float3 (_S6681);
    float _S6683 = s_primal_ctx_exp_1(0.0f);
    float3  _S6684 = make_float3 (_S6683);
    float total_w_10 = _S6666 + _S6669 + _S6672 + _S6675 + _S6678 + _S6681 + _S6683;
    float3  _S6685 = make_float3 (total_w_10);
    float3  total_c_10 = make_float3 (_S6666) * _S6610[int(0)] + make_float3 (_S6669) * _S6610[int(1)] + make_float3 (_S6672) * _S6610[int(2)] + make_float3 (_S6675) * _S6610[int(3)] + make_float3 (_S6678) * _S6610[int(4)] + make_float3 (_S6681) * _S6610[int(5)] + make_float3 (_S6683) * _S6610[int(6)];
    float3  _S6686 = make_float3 (total_w_10 * total_w_10);
    float3  _S6687 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6688;
    (&_S6688)->primal_0 = total_c_10 / make_float3 (total_w_10) + make_float3 (0.5f);
    (&_S6688)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6689;
    (&_S6689)->primal_0 = _S6687;
    (&_S6689)->differential_0 = _S6613;
    s_bwd_prop_max_0(&_S6688, &_S6689, dprgb_22);
    float3  _S6690 = _S6688.differential_0 / _S6686;
    float3  _S6691 = total_c_10 * - _S6690;
    float3  s_diff_total_c_T_10 = _S6685 * _S6690;
    float3  _S6692 = _S6684 * s_diff_total_c_T_10;
    float _S6693 = _S6691.x + _S6691.y + _S6691.z;
    float3  _S6694 = _S6682 * s_diff_total_c_T_10;
    float3  _S6695 = _S6610[int(5)] * s_diff_total_c_T_10;
    float _S6696 = _S6693 + _S6695.x + _S6695.y + _S6695.z;
    DiffPair_float_0 _S6697;
    (&_S6697)->primal_0 = _S6680;
    (&_S6697)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6697, _S6696);
    float _S6698 = - _S6697.differential_0;
    float3  _S6699 = _S6679 * s_diff_total_c_T_10;
    float3  _S6700 = _S6610[int(4)] * s_diff_total_c_T_10;
    float _S6701 = _S6693 + _S6700.x + _S6700.y + _S6700.z;
    DiffPair_float_0 _S6702;
    (&_S6702)->primal_0 = _S6677;
    (&_S6702)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6702, _S6701);
    float _S6703 = - _S6702.differential_0;
    float3  _S6704 = _S6676 * s_diff_total_c_T_10;
    float3  _S6705 = _S6610[int(3)] * s_diff_total_c_T_10;
    float _S6706 = _S6693 + _S6705.x + _S6705.y + _S6705.z;
    DiffPair_float_0 _S6707;
    (&_S6707)->primal_0 = _S6674;
    (&_S6707)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6707, _S6706);
    float _S6708 = - _S6707.differential_0;
    float3  _S6709 = _S6673 * s_diff_total_c_T_10;
    float3  _S6710 = _S6610[int(2)] * s_diff_total_c_T_10;
    float _S6711 = _S6693 + _S6710.x + _S6710.y + _S6710.z;
    DiffPair_float_0 _S6712;
    (&_S6712)->primal_0 = _S6671;
    (&_S6712)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6712, _S6711);
    float _S6713 = - _S6712.differential_0;
    float3  _S6714 = _S6670 * s_diff_total_c_T_10;
    float3  _S6715 = _S6610[int(1)] * s_diff_total_c_T_10;
    float _S6716 = _S6693 + _S6715.x + _S6715.y + _S6715.z;
    DiffPair_float_0 _S6717;
    (&_S6717)->primal_0 = _S6668;
    (&_S6717)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6717, _S6716);
    float _S6718 = - _S6717.differential_0;
    float3  _S6719 = _S6667 * s_diff_total_c_T_10;
    float3  _S6720 = _S6610[int(0)] * s_diff_total_c_T_10;
    float _S6721 = _S6693 + _S6720.x + _S6720.y + _S6720.z;
    DiffPair_float_0 _S6722;
    (&_S6722)->primal_0 = _S6665;
    (&_S6722)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6722, _S6721);
    float _S6723 = _S6698 + _S6703 + _S6708 + _S6713 + _S6718 + - _S6722.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6724;
    (&_S6724)->primal_0 = _S6609[int(6)];
    (&_S6724)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6725;
    (&_S6725)->primal_0 = _S6663;
    (&_S6725)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6724, &_S6725, _S6723);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6726;
    (&_S6726)->primal_0 = _S6609[int(5)];
    (&_S6726)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6727;
    (&_S6727)->primal_0 = _S6663;
    (&_S6727)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6726, &_S6727, _S6697.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6728;
    (&_S6728)->primal_0 = _S6609[int(4)];
    (&_S6728)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6729;
    (&_S6729)->primal_0 = _S6663;
    (&_S6729)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6728, &_S6729, _S6702.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6730;
    (&_S6730)->primal_0 = _S6609[int(3)];
    (&_S6730)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6731;
    (&_S6731)->primal_0 = _S6663;
    (&_S6731)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6730, &_S6731, _S6707.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6732;
    (&_S6732)->primal_0 = _S6609[int(2)];
    (&_S6732)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6733;
    (&_S6733)->primal_0 = _S6663;
    (&_S6733)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6732, &_S6733, _S6712.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6734;
    (&_S6734)->primal_0 = _S6609[int(1)];
    (&_S6734)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6735;
    (&_S6735)->primal_0 = _S6663;
    (&_S6735)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6734, &_S6735, _S6717.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6736;
    (&_S6736)->primal_0 = _S6609[int(0)];
    (&_S6736)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6737;
    (&_S6737)->primal_0 = _S6663;
    (&_S6737)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6736, &_S6737, _S6722.differential_0);
    float3  _S6738 = _S6725.differential_0 + _S6727.differential_0 + _S6729.differential_0 + _S6731.differential_0 + _S6733.differential_0 + _S6735.differential_0 + _S6737.differential_0;
    float3  _S6739 = _S6659 * _S6738;
    float3  _S6740 = _S6662 * _S6738;
    float _S6741 = _S6739.x + _S6739.y + _S6739.z;
    DiffPair_float_0 _S6742;
    (&_S6742)->primal_0 = _S6660;
    (&_S6742)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S6742, _S6741);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6743;
    (&_S6743)->primal_0 = _S6659;
    (&_S6743)->differential_0 = _S6613;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6744;
    (&_S6744)->primal_0 = _S6659;
    (&_S6744)->differential_0 = _S6613;
    s_bwd_prop_dot_0(&_S6743, &_S6744, _S6742.differential_0);
    float3  _S6745 = _S6740 + _S6744.differential_0 + _S6743.differential_0;
    float3  _S6746 = - - _S6745;
    Matrix<float, 3, 3>  _S6747 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6748;
    (&_S6748)->primal_0 = _S6658;
    (&_S6748)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6749;
    (&_S6749)->primal_0 = _S6612.primal_0;
    (&_S6749)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6748, &_S6749, _S6746);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6750 = _S6749;
    Matrix<float, 3, 3>  _S6751 = transpose_0(_S6748.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6752;
    (&_S6752)->primal_0 = _S6657;
    (&_S6752)->differential_0 = _S6613;
    s_bwd_prop_exp_1(&_S6752, dpconic_21);
    float3  _S6753 = - _S6752.differential_0;
    DiffPair_float_0 _S6754;
    (&_S6754)->primal_0 = _S6654;
    (&_S6754)->differential_0 = 0.0f;
    DiffPair_float_0 _S6755;
    (&_S6755)->primal_0 = _S6656;
    (&_S6755)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6754, &_S6755, dpdepth_22);
    float _S6756 = _S6655 * _S6755.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6757;
    (&_S6757)->primal_0 = mean_c_62;
    (&_S6757)->differential_0 = _S6613;
    s_bwd_length_impl_1(&_S6757, _S6756);
    float _S6758 = _S6754.differential_0 + _S6756;
    DiffPair_float_0 _S6759;
    (&_S6759)->primal_0 = _S6653;
    (&_S6759)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6759, 0.0f);
    DiffPair_float_0 _S6760;
    (&_S6760)->primal_0 = _S6652;
    (&_S6760)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6760, 0.0f);
    DiffPair_float_0 _S6761;
    (&_S6761)->primal_0 = 3.32999992370605469f;
    (&_S6761)->differential_0 = 0.0f;
    DiffPair_float_0 _S6762;
    (&_S6762)->primal_0 = _S6651;
    (&_S6762)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S6761, &_S6762, 0.0f);
    DiffPair_float_0 _S6763;
    (&_S6763)->primal_0 = _S6650;
    (&_S6763)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6763, _S6762.differential_0);
    float _S6764 = 2.0f * _S6763.differential_0;
    DiffPair_float_0 _S6765;
    (&_S6765)->primal_0 = _S6649;
    (&_S6765)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S6765, _S6764);
    float _S6766 = dpopacity_23 + 254.9999847412109375f * _S6765.differential_0;
    FixedArray<float3 , 7>  _S6767;
    _S6767[int(0)] = _S6613;
    _S6767[int(1)] = _S6613;
    _S6767[int(2)] = _S6613;
    _S6767[int(3)] = _S6613;
    _S6767[int(4)] = _S6613;
    _S6767[int(5)] = _S6613;
    _S6767[int(6)] = _S6613;
    _S6767[int(6)] = _S6692;
    _S6767[int(5)] = _S6694;
    _S6767[int(4)] = _S6699;
    _S6767[int(3)] = _S6704;
    _S6767[int(2)] = _S6709;
    _S6767[int(1)] = _S6714;
    _S6767[int(0)] = _S6719;
    FixedArray<float3 , 7>  _S6768 = {
        _S6767[int(0)], _S6767[int(1)], _S6767[int(2)], _S6767[int(3)], _S6767[int(4)], _S6767[int(5)], _S6767[int(6)]
    };
    FixedArray<float3 , 7>  _S6769;
    _S6769[int(0)] = _S6613;
    _S6769[int(1)] = _S6613;
    _S6769[int(2)] = _S6613;
    _S6769[int(3)] = _S6613;
    _S6769[int(4)] = _S6613;
    _S6769[int(5)] = _S6613;
    _S6769[int(6)] = _S6613;
    _S6769[int(6)] = _S6724.differential_0;
    _S6769[int(5)] = _S6726.differential_0;
    _S6769[int(4)] = _S6728.differential_0;
    _S6769[int(3)] = _S6730.differential_0;
    _S6769[int(2)] = _S6732.differential_0;
    _S6769[int(1)] = _S6734.differential_0;
    _S6769[int(0)] = _S6736.differential_0;
    FixedArray<float3 , 7>  _S6770 = {
        _S6769[int(0)], _S6769[int(1)], _S6769[int(2)], _S6769[int(3)], _S6769[int(4)], _S6769[int(5)], _S6769[int(6)]
    };
    float3  _S6771 = _S6757.differential_0 + make_float3 (0.0f, 0.0f, _S6758);
    float2  _S6772 = make_float2 (0.0f, _S6759.differential_0);
    float2  _S6773 = make_float2 (_S6760.differential_0, 0.0f);
    float _S6774;
    if(antialiased_72)
    {
        float _S6775 = _S6646 * _S6766;
        _S6648 = _S6643 * _S6766;
        _S6774 = _S6775;
    }
    else
    {
        _S6648 = _S6766;
        _S6774 = 0.0f;
    }
    float _S6776 = - (_S6648 / _S6647);
    DiffPair_float_0 _S6777;
    (&_S6777)->primal_0 = _S6644;
    (&_S6777)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S6777, _S6776);
    float _S6778 = - _S6777.differential_0;
    DiffPair_float_0 _S6779;
    (&_S6779)->primal_0 = _S6642;
    (&_S6779)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S6779, _S6774);
    DiffPair_float_0 _S6780;
    (&_S6780)->primal_0 = 0.0f;
    (&_S6780)->differential_0 = 0.0f;
    DiffPair_float_0 _S6781;
    (&_S6781)->primal_0 = _S6640;
    (&_S6781)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S6780, &_S6781, _S6779.differential_0);
    float _S6782 = _S6781.differential_0 / _S6641;
    float s_diff_det_blur_T_12 = det_orig_63 * - _S6782;
    float s_diff_det_orig_T_15 = det_blur_35 * _S6782;
    float _S6783 = - s_diff_det_blur_T_12;
    float _S6784 = _S6635 * s_diff_det_blur_T_12;
    float _S6785 = _S6637 * s_diff_det_blur_T_12;
    Matrix<float, 2, 2>  _S6786 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S6787 = _S6786;
    _S6787[int(1)] = _S6772;
    _S6787[int(0)] = _S6773;
    float _S6788 = _S6785 + _S6787.rows[int(0)].x;
    float _S6789 = _S6783 + - s_diff_det_orig_T_15;
    float _S6790 = *&(((&_s_diff_ctx_35->_S6557)->rows + (int(0)))->y) * _S6789;
    float _S6791 = *&(((&_s_diff_ctx_35->_S6557)->rows + (int(1)))->x) * _S6789;
    float _S6792 = *&(((&_s_diff_ctx_35->_S6557)->rows + (int(1)))->y) * s_diff_det_orig_T_15;
    float _S6793 = _S6784 + _S6787.rows[int(1)].y + *&(((&_s_diff_ctx_35->_S6557)->rows + (int(0)))->x) * s_diff_det_orig_T_15;
    float2  _S6794 = make_float2 (0.0f);
    float2  _S6795 = _S6794;
    *&((&_S6795)->x) = _S6790;
    *&((&_S6795)->y) = _S6793;
    float _S6796 = _S6788 + _S6792;
    float2  _S6797 = _S6794;
    *&((&_S6797)->y) = _S6791;
    *&((&_S6797)->x) = _S6796;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6798;
    (&_S6798)->primal_0 = _S6611.primal_0;
    (&_S6798)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6799;
    (&_S6799)->primal_0 = _S6632;
    (&_S6799)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6798, &_S6799, _S6613);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6800;
    (&_S6800)->primal_0 = _S6611.primal_0;
    (&_S6800)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6801;
    (&_S6801)->primal_0 = _S6628;
    (&_S6801)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6800, &_S6801, _S6613);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6802;
    (&_S6802)->primal_0 = _S6611.primal_0;
    (&_S6802)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6803;
    (&_S6803)->primal_0 = _S6624;
    (&_S6803)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6802, &_S6803, _S6613);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6804;
    (&_S6804)->primal_0 = _S6611.primal_0;
    (&_S6804)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6805;
    (&_S6805)->primal_0 = _S6631;
    (&_S6805)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6804, &_S6805, _S6613);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6806;
    (&_S6806)->primal_0 = _S6611.primal_0;
    (&_S6806)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6807;
    (&_S6807)->primal_0 = _S6627;
    (&_S6807)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6806, &_S6807, _S6613);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6808;
    (&_S6808)->primal_0 = _S6611.primal_0;
    (&_S6808)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6809;
    (&_S6809)->primal_0 = _S6623;
    (&_S6809)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6808, &_S6809, _S6613);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6810;
    (&_S6810)->primal_0 = _S6611.primal_0;
    (&_S6810)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6811;
    (&_S6811)->primal_0 = _S6633.p_0[0U];
    (&_S6811)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6810, &_S6811, _S6613);
    float3  _S6812 = - _S6799.differential_0 + _S6805.differential_0;
    float3  _S6813 = _S6630 * _S6812;
    float3  _S6814 = _S6616.rows[2U] * _S6812;
    float _S6815 = _S6620 * (_S6814.x + _S6814.y + _S6814.z);
    float3  _S6816 = - _S6801.differential_0 + _S6807.differential_0;
    float3  _S6817 = _S6626 * _S6816;
    float3  _S6818 = _S6616.rows[1U] * _S6816;
    float _S6819 = _S6620 * (_S6818.x + _S6818.y + _S6818.z);
    float3  _S6820 = - _S6803.differential_0 + _S6809.differential_0;
    float3  _S6821 = _S6622 * _S6820;
    float3  _S6822 = _S6616.rows[0U] * _S6820;
    float _S6823 = _S6620 * (_S6822.x + _S6822.y + _S6822.z);
    Matrix<float, 3, 3>  _S6824 = _S6747;
    _S6824[2U] = _S6813;
    _S6824[1U] = _S6817;
    _S6824[0U] = _S6821;
    Matrix<float, 3, 3>  _S6825 = transpose_0(transpose_0(_S6824));
    float _S6826 = 2.0f * - _S6825.rows[int(2)].z;
    float _S6827 = 2.0f * _S6825.rows[int(2)].y;
    float _S6828 = 2.0f * _S6825.rows[int(2)].x;
    float _S6829 = 2.0f * _S6825.rows[int(1)].z;
    float _S6830 = 2.0f * - _S6825.rows[int(1)].y;
    float _S6831 = 2.0f * _S6825.rows[int(1)].x;
    float _S6832 = 2.0f * _S6825.rows[int(0)].z;
    float _S6833 = 2.0f * _S6825.rows[int(0)].y;
    float _S6834 = 2.0f * - _S6825.rows[int(0)].x;
    float _S6835 = - _S6831 + _S6833;
    float _S6836 = _S6828 + - _S6832;
    float _S6837 = - _S6827 + _S6829;
    float _S6838 = _S6827 + _S6829;
    float _S6839 = _S6828 + _S6832;
    float _S6840 = _S6831 + _S6833;
    float _S6841 = _S6607.primal_0.w * (_S6830 + _S6834);
    float _S6842 = _S6607.primal_0.z * (_S6826 + _S6834);
    float _S6843 = _S6607.primal_0.y * (_S6826 + _S6830);
    float _S6844 = _S6607.primal_0.x * _S6835 + _S6607.primal_0.z * _S6838 + _S6607.primal_0.y * _S6839 + _S6841 + _S6841;
    float _S6845 = _S6607.primal_0.x * _S6836 + _S6607.primal_0.w * _S6838 + _S6607.primal_0.y * _S6840 + _S6842 + _S6842;
    float _S6846 = _S6607.primal_0.x * _S6837 + _S6607.primal_0.w * _S6839 + _S6607.primal_0.z * _S6840 + _S6843 + _S6843;
    float _S6847 = _S6607.primal_0.w * _S6835 + _S6607.primal_0.z * _S6836 + _S6607.primal_0.y * _S6837;
    float3  _S6848 = _S6613;
    *&((&_S6848)->z) = _S6815;
    *&((&_S6848)->y) = _S6819;
    *&((&_S6848)->x) = _S6823;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6849;
    (&_S6849)->primal_0 = _S6608.primal_0;
    (&_S6849)->differential_0 = _S6613;
    s_bwd_prop_exp_1(&_S6849, _S6848);
    Matrix<float, 2, 2>  _S6850 = _S6786;
    _S6850[int(1)] = _S6795;
    _S6850[int(0)] = _S6797;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6851;
    (&_S6851)->primal_0 = _S6611.primal_0;
    (&_S6851)->differential_0 = _S6747;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6852;
    (&_S6852)->primal_0 = _S6606.primal_0;
    (&_S6852)->differential_0 = _S6613;
    s_bwd_prop_mul_1(&_S6851, &_S6852, _S6771);
    float3  _S6853 = _S6771 + _S6750.differential_0;
    dpt_22->primal_0 = (*dpt_22).primal_0;
    dpt_22->differential_0 = _S6853;
    Matrix<float, 3, 3>  _S6854 = _S6798.differential_0 + _S6800.differential_0 + _S6802.differential_0 + _S6804.differential_0 + _S6806.differential_0 + _S6808.differential_0 + _S6810.differential_0 + _S6851.differential_0 + _S6751;
    dpR_23->primal_0 = (*dpR_23).primal_0;
    dpR_23->differential_0 = _S6854;
    dpsv_colors_21->primal_0 = dpsv_colors_21->primal_0;
    dpsv_colors_21->differential_0 = _S6768;
    dpsv_sites_21->primal_0 = dpsv_sites_21->primal_0;
    dpsv_sites_21->differential_0 = _S6770;
    dpin_opacity_21->primal_0 = (*dpin_opacity_21).primal_0;
    dpin_opacity_21->differential_0 = _S6778;
    float3  _S6855 = _S6849.differential_0 + _S6753;
    dpscale_22->primal_0 = (*dpscale_22).primal_0;
    dpscale_22->differential_0 = _S6855;
    float4  _S6856 = make_float4 (0.0f);
    *&((&_S6856)->w) = _S6844;
    *&((&_S6856)->z) = _S6845;
    *&((&_S6856)->y) = _S6846;
    *&((&_S6856)->x) = _S6847;
    dpquat_22->primal_0 = (*dpquat_22).primal_0;
    dpquat_22->differential_0 = _S6856;
    float3  _S6857 = _S6799.differential_0 + _S6805.differential_0 + _S6801.differential_0 + _S6807.differential_0 + _S6803.differential_0 + _S6809.differential_0 + _S6852.differential_0 + _S6745;
    dpmean_23->primal_0 = (*dpmean_23).primal_0;
    dpmean_23->differential_0 = _S6857;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_5(bool _S6858, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6859, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S6860, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6861, DiffPair_float_0 * _S6862, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S6863, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S6864, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S6865, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S6866, float _S6867, float _S6868, float _S6869, float _S6870, FixedArray<float, 10>  * _S6871, uint _S6872, uint _S6873, float _S6874, float _S6875, float2  _S6876, float _S6877, float3  _S6878, float _S6879, float3  _S6880)
{
    FixedArray<float3 , 7>  _S6881 = _S6863->primal_0;
    FixedArray<float3 , 7>  _S6882 = _S6864->primal_0;
    int4  _S6883;
    float2  _S6884;
    float _S6885;
    float3  _S6886;
    float _S6887;
    float3  _S6888;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S6889;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_5(_S6858, (*_S6859).primal_0, (*_S6860).primal_0, (*_S6861).primal_0, (*_S6862).primal_0, &_S6881, &_S6882, (*_S6865).primal_0, (*_S6866).primal_0, _S6867, _S6868, _S6869, _S6870, _S6871, _S6872, _S6873, _S6874, _S6875, &_S6883, &_S6884, &_S6885, &_S6886, &_S6887, &_S6888, &_S6889);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_5 _S6890 = _S6889;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_5(_S6858, _S6859, _S6860, _S6861, _S6862, _S6863, _S6864, _S6865, _S6866, _S6867, _S6868, _S6869, _S6870, _S6871, _S6872, _S6873, _S6874, _S6875, _S6876, _S6877, _S6878, _S6879, _S6880, &_S6890);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_73, float3  mean_56, float4  quat_57, float3  scale_56, float in_opacity_51, FixedArray<float3 , 7>  * sv_sites_36, FixedArray<float3 , 7>  * sv_colors_36, Matrix<float, 3, 3>  R_58, float3  t_54, float fx_82, float fy_82, float cx_77, float cy_77, FixedArray<float, 10>  * dist_coeffs_86, uint image_width_73, uint image_height_73, float2  v_mean2d_15, float v_depth_16, float3  v_conic_15, float v_opacity_17, float3  v_rgb_16, float3  * v_mean_17, float4  * v_quat_16, float3  * v_scale_16, float * v_in_opacity_15, FixedArray<float3 , 7>  * v_sv_dirs_10, FixedArray<float3 , 7>  * v_sv_colors_10, Matrix<float, 3, 3>  * v_R_17, float3  * v_t_16)
{
    float3  _S6891 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_12;
    (&dp_mean_12)->primal_0 = mean_56;
    (&dp_mean_12)->differential_0 = _S6891;
    float4  _S6892 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_11;
    (&dp_quat_11)->primal_0 = quat_57;
    (&dp_quat_11)->differential_0 = _S6892;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_11;
    (&dp_scale_11)->primal_0 = scale_56;
    (&dp_scale_11)->differential_0 = _S6891;
    DiffPair_float_0 dp_in_opacity_10;
    (&dp_in_opacity_10)->primal_0 = in_opacity_51;
    (&dp_in_opacity_10)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S6893 = { _S6891, _S6891, _S6891, _S6891, _S6891, _S6891, _S6891 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_10;
    (&dp_sv_dirs_10)->primal_0 = *sv_sites_36;
    (&dp_sv_dirs_10)->differential_0 = _S6893;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_10;
    (&dp_sv_colors_10)->primal_0 = *sv_colors_36;
    (&dp_sv_colors_10)->differential_0 = _S6893;
    Matrix<float, 3, 3>  _S6894 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_12;
    (&dp_R_12)->primal_0 = R_58;
    (&dp_R_12)->differential_0 = _S6894;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_11;
    (&dp_t_11)->primal_0 = t_54;
    (&dp_t_11)->differential_0 = _S6891;
    s_bwd_projection_3dgut_sv_persp_differentiable_5(antialiased_73, &dp_mean_12, &dp_quat_11, &dp_scale_11, &dp_in_opacity_10, &dp_sv_dirs_10, &dp_sv_colors_10, &dp_R_12, &dp_t_11, fx_82, fy_82, cx_77, cy_77, dist_coeffs_86, image_width_73, image_height_73, 0.0f, 1.00000001504746622e+30f, v_mean2d_15, v_depth_16, v_conic_15, v_opacity_17, v_rgb_16);
    *v_mean_17 = dp_mean_12.differential_0;
    *v_quat_16 = dp_quat_11.differential_0;
    *v_scale_16 = dp_scale_11.differential_0;
    *v_in_opacity_15 = dp_in_opacity_10.differential_0;
    *v_sv_dirs_10 = (&dp_sv_dirs_10)->differential_0;
    *v_sv_colors_10 = (&dp_sv_colors_10)->differential_0;
    *v_R_17 = dp_R_12.differential_0;
    *v_t_16 = dp_t_11.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5
{
    Matrix<float, 2, 2>  _S6895;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_74, float3  dpmean_24, float4  dpquat_23, float3  dpscale_23, float dpin_opacity_22, FixedArray<float3 , 7>  * dpsv_sites_22, FixedArray<float3 , 7>  * dpsv_colors_22, Matrix<float, 3, 3>  dpR_24, float3  dpt_23, float fx_83, float fy_83, float cx_78, float cy_78, FixedArray<float, 10>  * dist_coeffs_87, uint image_width_74, uint image_height_74, float near_plane_58, float far_plane_58, int4  * aabb_xyxy_47, float2  * dpmean2d_24, float * dpdepth_23, float3  * dpconic_22, float * dpopacity_24, float3  * dprgb_23, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_36)
{
    Matrix<float, 2, 2>  _S6896 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_36->_S6895 = _S6896;
    float2  _S6897 = make_float2 (0.0f);
    float3  _S6898 = make_float3 (0.0f);
    float3  mean_c_63 = s_primal_ctx_mul_0(dpR_24, dpmean_24) + dpt_23;
    float _S6899 = length_1(mean_c_63);
    float4  intrins_51 = make_float4 (fx_83, fy_83, cx_78, cy_78);
    float3  _S6900 = s_primal_ctx_exp_0(dpscale_23);
    float _S6901 = dpquat_23.y;
    float x2_69 = _S6901 * _S6901;
    float y2_69 = dpquat_23.z * dpquat_23.z;
    float z2_84 = dpquat_23.w * dpquat_23.w;
    float xy_69 = dpquat_23.y * dpquat_23.z;
    float xz_69 = dpquat_23.y * dpquat_23.w;
    float yz_69 = dpquat_23.z * dpquat_23.w;
    float wx_69 = dpquat_23.x * dpquat_23.y;
    float wy_69 = dpquat_23.x * dpquat_23.z;
    float wz_69 = dpquat_23.x * dpquat_23.w;
    Matrix<float, 3, 3>  _S6902 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_69 + z2_84), 2.0f * (xy_69 + wz_69), 2.0f * (xz_69 - wy_69), 2.0f * (xy_69 - wz_69), 1.0f - 2.0f * (x2_69 + z2_84), 2.0f * (yz_69 + wx_69), 2.0f * (xz_69 + wy_69), 2.0f * (yz_69 - wx_69), 1.0f - 2.0f * (x2_69 + y2_69))));
    FixedArray<float3 , 7>  _S6903 = {
        _S6898, _S6898, _S6898, _S6898, _S6898, _S6898, _S6898
    };
    FixedArray<float, 7>  _S6904 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6905;
    (&_S6905)->p_0 = _S6903;
    (&_S6905)->w_mean_0 = _S6904;
    (&_S6905)->w_cov_0 = _S6904;
    (&_S6905)->p_0[int(0)] = dpmean_24;
    SigmaPoints_0 _S6906 = _S6905;
    (&_S6906)->w_mean_0[int(0)] = 0.0f;
    (&_S6906)->w_cov_0[int(0)] = 2.0f;
    float _S6907 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_162 = make_float3 (_S6907 * _S6900.x) * _S6902.rows[0U];
    float3  _S6908 = dpmean_24 + delta_162;
    float3  _S6909 = dpmean_24 - delta_162;
    float3  delta_163 = make_float3 (_S6907 * _S6900.y) * _S6902.rows[1U];
    float3  _S6910 = dpmean_24 + delta_163;
    float3  _S6911 = dpmean_24 - delta_163;
    float3  delta_164 = make_float3 (_S6907 * _S6900.z) * _S6902.rows[2U];
    float3  _S6912 = dpmean_24 + delta_164;
    float3  _S6913 = dpmean_24 - delta_164;
    (&_S6906)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S6906)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S6906)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S6906)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S6906)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S6906)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S6906)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S6906)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S6906)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S6906)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S6906)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S6906)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S6906)->p_0[0U] = s_primal_ctx_mul_0(dpR_24, _S6905.p_0[0U]) + dpt_23;
    (&_S6906)->p_0[1U] = s_primal_ctx_mul_0(dpR_24, _S6908) + dpt_23;
    (&_S6906)->p_0[2U] = s_primal_ctx_mul_0(dpR_24, _S6910) + dpt_23;
    (&_S6906)->p_0[3U] = s_primal_ctx_mul_0(dpR_24, _S6912) + dpt_23;
    (&_S6906)->p_0[4U] = s_primal_ctx_mul_0(dpR_24, _S6909) + dpt_23;
    (&_S6906)->p_0[5U] = s_primal_ctx_mul_0(dpR_24, _S6911) + dpt_23;
    (&_S6906)->p_0[6U] = s_primal_ctx_mul_0(dpR_24, _S6913) + dpt_23;
    float2  _S6914 = _S6897;
    Matrix<float, 2, 2>  _S6915 = _S6896;
    SigmaPoints_0 _S6916 = _S6906;
    bool _S6917 = fisheye_proj_3dgs_ut_1(&_S6916, intrins_51, dist_coeffs_87, &_S6915, &_S6914);
    _s_diff_ctx_36->_S6895 = _S6915;
    float2  _S6918 = _S6914;
    float _S6919 = _S6915.rows[int(0)].y * _S6915.rows[int(1)].x;
    float det_orig_64 = _S6915.rows[int(0)].x * _S6915.rows[int(1)].y - _S6919;
    float _S6920 = _S6915.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6921 = _S6915;
    *&(((&_S6921)->rows + (int(0)))->x) = _S6920;
    float _S6922 = _S6915.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S6921)->rows + (int(1)))->y) = _S6922;
    Matrix<float, 2, 2>  _S6923 = _S6921;
    Matrix<float, 2, 2>  _S6924 = _S6921;
    float _S6925 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_64 / (_S6920 * _S6922 - _S6919)));
    float _S6926 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_22));
    float _S6927;
    if(antialiased_74)
    {
        _S6927 = _S6926 * _S6925;
    }
    else
    {
        _S6927 = _S6926;
    }
    float _S6928 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S6927 / 0.00392156885936856f)));
    float radius_x_47 = _S6928 * s_primal_ctx_sqrt_0(_S6923.rows[int(0)].x);
    float radius_y_47 = _S6928 * s_primal_ctx_sqrt_0(_S6924.rows[int(1)].y);
    float _S6929 = _S6918.x;
    float _S6930 = _S6918.y;
    float _S6931 = mean_c_63.z;
    float _S6932 = s_primal_ctx_max_0(_S6931, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S6931 + _S6899));
    float3  _S6933 = s_primal_ctx_exp_0(- dpscale_23);
    float3  _S6934 = dpmean_24 - - s_primal_ctx_mul_0(transpose_0(dpR_24), dpt_23);
    float3  _S6935 = _S6934 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S6934, _S6934)));
    float _S6936 = s_primal_ctx_dot_0((*dpsv_sites_22)[int(6)], _S6935);
    float _S6937 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(0)], _S6935) - _S6936);
    float _S6938 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(1)], _S6935) - _S6936);
    float _S6939 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(2)], _S6935) - _S6936);
    float _S6940 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(3)], _S6935) - _S6936);
    float _S6941 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(4)], _S6935) - _S6936);
    float _S6942 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_22)[int(5)], _S6935) - _S6936);
    float _S6943 = s_primal_ctx_exp_1(0.0f);
    float3  _S6944 = s_primal_ctx_max_1((make_float3 (_S6937) * (*dpsv_colors_22)[int(0)] + make_float3 (_S6938) * (*dpsv_colors_22)[int(1)] + make_float3 (_S6939) * (*dpsv_colors_22)[int(2)] + make_float3 (_S6940) * (*dpsv_colors_22)[int(3)] + make_float3 (_S6941) * (*dpsv_colors_22)[int(4)] + make_float3 (_S6942) * (*dpsv_colors_22)[int(5)] + make_float3 (_S6943) * (*dpsv_colors_22)[int(6)]) / make_float3 (_S6937 + _S6938 + _S6939 + _S6940 + _S6941 + _S6942 + _S6943) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_47 = make_int4 (int((F32_floor((_S6929 - radius_x_47)))), int((F32_floor((_S6930 - radius_y_47)))), int((F32_ceil((_S6929 + radius_x_47)))), int((F32_ceil((_S6930 + radius_y_47)))));
    *dpmean2d_24 = _S6918;
    *dpdepth_23 = _S6932;
    *dpconic_22 = _S6933;
    *dpopacity_24 = _S6927;
    *dprgb_23 = _S6944;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(bool antialiased_75, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_25, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_24, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_24, DiffPair_float_0 * dpin_opacity_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_sites_23, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * dpsv_colors_23, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_25, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_24, float fx_84, float fy_84, float cx_79, float cy_79, FixedArray<float, 10>  * dist_coeffs_88, uint image_width_75, uint image_height_75, float near_plane_59, float far_plane_59, float2  dpmean2d_25, float dpdepth_24, float3  dpconic_23, float dpopacity_25, float3  dprgb_24, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 * _s_diff_ctx_37)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6945 = *dpmean_25;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S6946 = *dpquat_24;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6947 = *dpscale_24;
    FixedArray<float3 , 7>  _S6948 = dpsv_sites_23->primal_0;
    FixedArray<float3 , 7>  _S6949 = dpsv_colors_23->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S6950 = *dpR_25;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S6951 = *dpt_24;
    float3  _S6952 = make_float3 (0.0f);
    float3  mean_c_64 = s_primal_ctx_mul_0((*dpR_25).primal_0, (*dpmean_25).primal_0) + (*dpt_24).primal_0;
    float _S6953 = length_1(mean_c_64);
    float3  _S6954 = s_primal_ctx_exp_0((*dpscale_24).primal_0);
    float _S6955 = (*dpquat_24).primal_0.y;
    float x2_70 = _S6955 * _S6955;
    float y2_70 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.z;
    float z2_85 = (*dpquat_24).primal_0.w * (*dpquat_24).primal_0.w;
    float xy_70 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.z;
    float xz_70 = (*dpquat_24).primal_0.y * (*dpquat_24).primal_0.w;
    float yz_70 = (*dpquat_24).primal_0.z * (*dpquat_24).primal_0.w;
    float wx_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.y;
    float wy_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.z;
    float wz_70 = (*dpquat_24).primal_0.x * (*dpquat_24).primal_0.w;
    Matrix<float, 3, 3>  _S6956 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_70 + z2_85), 2.0f * (xy_70 + wz_70), 2.0f * (xz_70 - wy_70), 2.0f * (xy_70 - wz_70), 1.0f - 2.0f * (x2_70 + z2_85), 2.0f * (yz_70 + wx_70), 2.0f * (xz_70 + wy_70), 2.0f * (yz_70 - wx_70), 1.0f - 2.0f * (x2_70 + y2_70))));
    FixedArray<float3 , 7>  _S6957 = {
        _S6952, _S6952, _S6952, _S6952, _S6952, _S6952, _S6952
    };
    FixedArray<float, 7>  _S6958 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S6959;
    (&_S6959)->p_0 = _S6957;
    (&_S6959)->w_mean_0 = _S6958;
    (&_S6959)->w_cov_0 = _S6958;
    (&_S6959)->p_0[int(0)] = (*dpmean_25).primal_0;
    float _S6960 = s_primal_ctx_sqrt_0(3.0f);
    float _S6961 = _S6960 * _S6954.x;
    float3  _S6962 = make_float3 (_S6961);
    float3  delta_165 = make_float3 (_S6961) * _S6956.rows[0U];
    float3  _S6963 = (*dpmean_25).primal_0 + delta_165;
    float3  _S6964 = (*dpmean_25).primal_0 - delta_165;
    float _S6965 = _S6960 * _S6954.y;
    float3  _S6966 = make_float3 (_S6965);
    float3  delta_166 = make_float3 (_S6965) * _S6956.rows[1U];
    float3  _S6967 = (*dpmean_25).primal_0 + delta_166;
    float3  _S6968 = (*dpmean_25).primal_0 - delta_166;
    float _S6969 = _S6960 * _S6954.z;
    float3  _S6970 = make_float3 (_S6969);
    float3  delta_167 = make_float3 (_S6969) * _S6956.rows[2U];
    float3  _S6971 = (*dpmean_25).primal_0 + delta_167;
    float3  _S6972 = (*dpmean_25).primal_0 - delta_167;
    SigmaPoints_0 _S6973 = _S6959;
    float _S6974 = *&(((&_s_diff_ctx_37->_S6895)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_37->_S6895)->rows + (int(1)))->x);
    float det_orig_65 = *&(((&_s_diff_ctx_37->_S6895)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_37->_S6895)->rows + (int(1)))->y) - _S6974;
    float _S6975 = *&(((&_s_diff_ctx_37->_S6895)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S6976 = _s_diff_ctx_37->_S6895;
    *&(((&_S6976)->rows + (int(0)))->x) = _S6975;
    float _S6977 = *&(((&_s_diff_ctx_37->_S6895)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S6976)->rows + (int(1)))->y) = _S6977;
    Matrix<float, 2, 2>  _S6978 = _S6976;
    Matrix<float, 2, 2>  _S6979 = _S6976;
    float det_blur_36 = _S6975 * _S6977 - _S6974;
    float _S6980 = det_orig_65 / det_blur_36;
    float _S6981 = det_blur_36 * det_blur_36;
    float _S6982 = s_primal_ctx_max_0(0.0f, _S6980);
    float _S6983 = s_primal_ctx_sqrt_0(_S6982);
    float _S6984 = - (*dpin_opacity_23).primal_0;
    float _S6985 = 1.0f + s_primal_ctx_exp_1(_S6984);
    float _S6986 = 1.0f / _S6985;
    float _S6987 = _S6985 * _S6985;
    float _S6988;
    if(antialiased_75)
    {
        _S6988 = _S6986 * _S6983;
    }
    else
    {
        _S6988 = _S6986;
    }
    float _S6989 = _S6988 / 0.00392156885936856f;
    float _S6990 = 2.0f * s_primal_ctx_log_0(_S6989);
    float _S6991 = s_primal_ctx_sqrt_0(_S6990);
    float _S6992 = _S6978.rows[int(0)].x;
    float _S6993 = _S6979.rows[int(1)].y;
    float _S6994 = mean_c_64.z;
    float _S6995 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S6996 = _S6995 * (_S6994 + _S6953);
    float3  _S6997 = - _S6947.primal_0;
    Matrix<float, 3, 3>  _S6998 = transpose_0(_S6950.primal_0);
    float3  _S6999 = _S6945.primal_0 - - s_primal_ctx_mul_0(_S6998, _S6951.primal_0);
    float _S7000 = s_primal_ctx_dot_0(_S6999, _S6999);
    float _S7001 = s_primal_ctx_rsqrt_0(_S7000);
    float3  _S7002 = make_float3 (_S7001);
    float3  _S7003 = _S6999 * make_float3 (_S7001);
    float _S7004 = s_primal_ctx_dot_0(_S6948[int(6)], _S7003);
    float _S7005 = s_primal_ctx_dot_0(_S6948[int(0)], _S7003) - _S7004;
    float _S7006 = s_primal_ctx_exp_1(_S7005);
    float3  _S7007 = make_float3 (_S7006);
    float _S7008 = s_primal_ctx_dot_0(_S6948[int(1)], _S7003) - _S7004;
    float _S7009 = s_primal_ctx_exp_1(_S7008);
    float3  _S7010 = make_float3 (_S7009);
    float _S7011 = s_primal_ctx_dot_0(_S6948[int(2)], _S7003) - _S7004;
    float _S7012 = s_primal_ctx_exp_1(_S7011);
    float3  _S7013 = make_float3 (_S7012);
    float _S7014 = s_primal_ctx_dot_0(_S6948[int(3)], _S7003) - _S7004;
    float _S7015 = s_primal_ctx_exp_1(_S7014);
    float3  _S7016 = make_float3 (_S7015);
    float _S7017 = s_primal_ctx_dot_0(_S6948[int(4)], _S7003) - _S7004;
    float _S7018 = s_primal_ctx_exp_1(_S7017);
    float3  _S7019 = make_float3 (_S7018);
    float _S7020 = s_primal_ctx_dot_0(_S6948[int(5)], _S7003) - _S7004;
    float _S7021 = s_primal_ctx_exp_1(_S7020);
    float3  _S7022 = make_float3 (_S7021);
    float _S7023 = s_primal_ctx_exp_1(0.0f);
    float3  _S7024 = make_float3 (_S7023);
    float total_w_11 = _S7006 + _S7009 + _S7012 + _S7015 + _S7018 + _S7021 + _S7023;
    float3  _S7025 = make_float3 (total_w_11);
    float3  total_c_11 = make_float3 (_S7006) * _S6949[int(0)] + make_float3 (_S7009) * _S6949[int(1)] + make_float3 (_S7012) * _S6949[int(2)] + make_float3 (_S7015) * _S6949[int(3)] + make_float3 (_S7018) * _S6949[int(4)] + make_float3 (_S7021) * _S6949[int(5)] + make_float3 (_S7023) * _S6949[int(6)];
    float3  _S7026 = make_float3 (total_w_11 * total_w_11);
    float3  _S7027 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7028;
    (&_S7028)->primal_0 = total_c_11 / make_float3 (total_w_11) + make_float3 (0.5f);
    (&_S7028)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7029;
    (&_S7029)->primal_0 = _S7027;
    (&_S7029)->differential_0 = _S6952;
    s_bwd_prop_max_0(&_S7028, &_S7029, dprgb_24);
    float3  _S7030 = _S7028.differential_0 / _S7026;
    float3  _S7031 = total_c_11 * - _S7030;
    float3  s_diff_total_c_T_11 = _S7025 * _S7030;
    float3  _S7032 = _S7024 * s_diff_total_c_T_11;
    float _S7033 = _S7031.x + _S7031.y + _S7031.z;
    float3  _S7034 = _S7022 * s_diff_total_c_T_11;
    float3  _S7035 = _S6949[int(5)] * s_diff_total_c_T_11;
    float _S7036 = _S7033 + _S7035.x + _S7035.y + _S7035.z;
    DiffPair_float_0 _S7037;
    (&_S7037)->primal_0 = _S7020;
    (&_S7037)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7037, _S7036);
    float _S7038 = - _S7037.differential_0;
    float3  _S7039 = _S7019 * s_diff_total_c_T_11;
    float3  _S7040 = _S6949[int(4)] * s_diff_total_c_T_11;
    float _S7041 = _S7033 + _S7040.x + _S7040.y + _S7040.z;
    DiffPair_float_0 _S7042;
    (&_S7042)->primal_0 = _S7017;
    (&_S7042)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7042, _S7041);
    float _S7043 = - _S7042.differential_0;
    float3  _S7044 = _S7016 * s_diff_total_c_T_11;
    float3  _S7045 = _S6949[int(3)] * s_diff_total_c_T_11;
    float _S7046 = _S7033 + _S7045.x + _S7045.y + _S7045.z;
    DiffPair_float_0 _S7047;
    (&_S7047)->primal_0 = _S7014;
    (&_S7047)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7047, _S7046);
    float _S7048 = - _S7047.differential_0;
    float3  _S7049 = _S7013 * s_diff_total_c_T_11;
    float3  _S7050 = _S6949[int(2)] * s_diff_total_c_T_11;
    float _S7051 = _S7033 + _S7050.x + _S7050.y + _S7050.z;
    DiffPair_float_0 _S7052;
    (&_S7052)->primal_0 = _S7011;
    (&_S7052)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7052, _S7051);
    float _S7053 = - _S7052.differential_0;
    float3  _S7054 = _S7010 * s_diff_total_c_T_11;
    float3  _S7055 = _S6949[int(1)] * s_diff_total_c_T_11;
    float _S7056 = _S7033 + _S7055.x + _S7055.y + _S7055.z;
    DiffPair_float_0 _S7057;
    (&_S7057)->primal_0 = _S7008;
    (&_S7057)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7057, _S7056);
    float _S7058 = - _S7057.differential_0;
    float3  _S7059 = _S7007 * s_diff_total_c_T_11;
    float3  _S7060 = _S6949[int(0)] * s_diff_total_c_T_11;
    float _S7061 = _S7033 + _S7060.x + _S7060.y + _S7060.z;
    DiffPair_float_0 _S7062;
    (&_S7062)->primal_0 = _S7005;
    (&_S7062)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7062, _S7061);
    float _S7063 = _S7038 + _S7043 + _S7048 + _S7053 + _S7058 + - _S7062.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7064;
    (&_S7064)->primal_0 = _S6948[int(6)];
    (&_S7064)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7065;
    (&_S7065)->primal_0 = _S7003;
    (&_S7065)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7064, &_S7065, _S7063);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7066;
    (&_S7066)->primal_0 = _S6948[int(5)];
    (&_S7066)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7067;
    (&_S7067)->primal_0 = _S7003;
    (&_S7067)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7066, &_S7067, _S7037.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7068;
    (&_S7068)->primal_0 = _S6948[int(4)];
    (&_S7068)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7069;
    (&_S7069)->primal_0 = _S7003;
    (&_S7069)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7068, &_S7069, _S7042.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7070;
    (&_S7070)->primal_0 = _S6948[int(3)];
    (&_S7070)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7071;
    (&_S7071)->primal_0 = _S7003;
    (&_S7071)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7070, &_S7071, _S7047.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7072;
    (&_S7072)->primal_0 = _S6948[int(2)];
    (&_S7072)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7073;
    (&_S7073)->primal_0 = _S7003;
    (&_S7073)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7072, &_S7073, _S7052.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7074;
    (&_S7074)->primal_0 = _S6948[int(1)];
    (&_S7074)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7075;
    (&_S7075)->primal_0 = _S7003;
    (&_S7075)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7074, &_S7075, _S7057.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7076;
    (&_S7076)->primal_0 = _S6948[int(0)];
    (&_S7076)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7077;
    (&_S7077)->primal_0 = _S7003;
    (&_S7077)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7076, &_S7077, _S7062.differential_0);
    float3  _S7078 = _S7065.differential_0 + _S7067.differential_0 + _S7069.differential_0 + _S7071.differential_0 + _S7073.differential_0 + _S7075.differential_0 + _S7077.differential_0;
    float3  _S7079 = _S6999 * _S7078;
    float3  _S7080 = _S7002 * _S7078;
    float _S7081 = _S7079.x + _S7079.y + _S7079.z;
    DiffPair_float_0 _S7082;
    (&_S7082)->primal_0 = _S7000;
    (&_S7082)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7082, _S7081);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7083;
    (&_S7083)->primal_0 = _S6999;
    (&_S7083)->differential_0 = _S6952;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7084;
    (&_S7084)->primal_0 = _S6999;
    (&_S7084)->differential_0 = _S6952;
    s_bwd_prop_dot_0(&_S7083, &_S7084, _S7082.differential_0);
    float3  _S7085 = _S7080 + _S7084.differential_0 + _S7083.differential_0;
    float3  _S7086 = - - _S7085;
    Matrix<float, 3, 3>  _S7087 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7088;
    (&_S7088)->primal_0 = _S6998;
    (&_S7088)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7089;
    (&_S7089)->primal_0 = _S6951.primal_0;
    (&_S7089)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7088, &_S7089, _S7086);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7090 = _S7089;
    Matrix<float, 3, 3>  _S7091 = transpose_0(_S7088.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7092;
    (&_S7092)->primal_0 = _S6997;
    (&_S7092)->differential_0 = _S6952;
    s_bwd_prop_exp_1(&_S7092, dpconic_23);
    float3  _S7093 = - _S7092.differential_0;
    DiffPair_float_0 _S7094;
    (&_S7094)->primal_0 = _S6994;
    (&_S7094)->differential_0 = 0.0f;
    DiffPair_float_0 _S7095;
    (&_S7095)->primal_0 = _S6996;
    (&_S7095)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7094, &_S7095, dpdepth_24);
    float _S7096 = _S6995 * _S7095.differential_0;
    float _S7097 = _S7094.differential_0 + _S7096;
    DiffPair_float_0 _S7098;
    (&_S7098)->primal_0 = _S6993;
    (&_S7098)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7098, 0.0f);
    DiffPair_float_0 _S7099;
    (&_S7099)->primal_0 = _S6992;
    (&_S7099)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7099, 0.0f);
    DiffPair_float_0 _S7100;
    (&_S7100)->primal_0 = 3.32999992370605469f;
    (&_S7100)->differential_0 = 0.0f;
    DiffPair_float_0 _S7101;
    (&_S7101)->primal_0 = _S6991;
    (&_S7101)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7100, &_S7101, 0.0f);
    DiffPair_float_0 _S7102;
    (&_S7102)->primal_0 = _S6990;
    (&_S7102)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7102, _S7101.differential_0);
    float _S7103 = 2.0f * _S7102.differential_0;
    DiffPair_float_0 _S7104;
    (&_S7104)->primal_0 = _S6989;
    (&_S7104)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7104, _S7103);
    float _S7105 = dpopacity_25 + 254.9999847412109375f * _S7104.differential_0;
    FixedArray<float3 , 7>  _S7106;
    _S7106[int(0)] = _S6952;
    _S7106[int(1)] = _S6952;
    _S7106[int(2)] = _S6952;
    _S7106[int(3)] = _S6952;
    _S7106[int(4)] = _S6952;
    _S7106[int(5)] = _S6952;
    _S7106[int(6)] = _S6952;
    _S7106[int(6)] = _S7032;
    _S7106[int(5)] = _S7034;
    _S7106[int(4)] = _S7039;
    _S7106[int(3)] = _S7044;
    _S7106[int(2)] = _S7049;
    _S7106[int(1)] = _S7054;
    _S7106[int(0)] = _S7059;
    FixedArray<float3 , 7>  _S7107 = {
        _S7106[int(0)], _S7106[int(1)], _S7106[int(2)], _S7106[int(3)], _S7106[int(4)], _S7106[int(5)], _S7106[int(6)]
    };
    FixedArray<float3 , 7>  _S7108;
    _S7108[int(0)] = _S6952;
    _S7108[int(1)] = _S6952;
    _S7108[int(2)] = _S6952;
    _S7108[int(3)] = _S6952;
    _S7108[int(4)] = _S6952;
    _S7108[int(5)] = _S6952;
    _S7108[int(6)] = _S6952;
    _S7108[int(6)] = _S7064.differential_0;
    _S7108[int(5)] = _S7066.differential_0;
    _S7108[int(4)] = _S7068.differential_0;
    _S7108[int(3)] = _S7070.differential_0;
    _S7108[int(2)] = _S7072.differential_0;
    _S7108[int(1)] = _S7074.differential_0;
    _S7108[int(0)] = _S7076.differential_0;
    FixedArray<float3 , 7>  _S7109 = {
        _S7108[int(0)], _S7108[int(1)], _S7108[int(2)], _S7108[int(3)], _S7108[int(4)], _S7108[int(5)], _S7108[int(6)]
    };
    float3  _S7110 = make_float3 (0.0f, 0.0f, _S7097);
    float2  _S7111 = make_float2 (0.0f, _S7098.differential_0);
    float2  _S7112 = make_float2 (_S7099.differential_0, 0.0f);
    float _S7113;
    if(antialiased_75)
    {
        float _S7114 = _S6986 * _S7105;
        _S6988 = _S6983 * _S7105;
        _S7113 = _S7114;
    }
    else
    {
        _S6988 = _S7105;
        _S7113 = 0.0f;
    }
    float _S7115 = - (_S6988 / _S6987);
    DiffPair_float_0 _S7116;
    (&_S7116)->primal_0 = _S6984;
    (&_S7116)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7116, _S7115);
    float _S7117 = - _S7116.differential_0;
    DiffPair_float_0 _S7118;
    (&_S7118)->primal_0 = _S6982;
    (&_S7118)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7118, _S7113);
    DiffPair_float_0 _S7119;
    (&_S7119)->primal_0 = 0.0f;
    (&_S7119)->differential_0 = 0.0f;
    DiffPair_float_0 _S7120;
    (&_S7120)->primal_0 = _S6980;
    (&_S7120)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7119, &_S7120, _S7118.differential_0);
    float _S7121 = _S7120.differential_0 / _S6981;
    float s_diff_det_blur_T_13 = det_orig_65 * - _S7121;
    float s_diff_det_orig_T_16 = det_blur_36 * _S7121;
    float _S7122 = - s_diff_det_blur_T_13;
    float _S7123 = _S6975 * s_diff_det_blur_T_13;
    float _S7124 = _S6977 * s_diff_det_blur_T_13;
    Matrix<float, 2, 2>  _S7125 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7126 = _S7125;
    _S7126[int(1)] = _S7111;
    _S7126[int(0)] = _S7112;
    float _S7127 = _S7124 + _S7126.rows[int(0)].x;
    float _S7128 = _S7122 + - s_diff_det_orig_T_16;
    float _S7129 = *&(((&_s_diff_ctx_37->_S6895)->rows + (int(0)))->y) * _S7128;
    float _S7130 = *&(((&_s_diff_ctx_37->_S6895)->rows + (int(1)))->x) * _S7128;
    float _S7131 = *&(((&_s_diff_ctx_37->_S6895)->rows + (int(1)))->y) * s_diff_det_orig_T_16;
    float _S7132 = _S7123 + _S7126.rows[int(1)].y + *&(((&_s_diff_ctx_37->_S6895)->rows + (int(0)))->x) * s_diff_det_orig_T_16;
    float2  _S7133 = make_float2 (0.0f);
    float2  _S7134 = _S7133;
    *&((&_S7134)->x) = _S7129;
    *&((&_S7134)->y) = _S7132;
    float _S7135 = _S7127 + _S7131;
    float2  _S7136 = _S7133;
    *&((&_S7136)->y) = _S7130;
    *&((&_S7136)->x) = _S7135;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7137;
    (&_S7137)->primal_0 = _S6950.primal_0;
    (&_S7137)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7138;
    (&_S7138)->primal_0 = _S6972;
    (&_S7138)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7137, &_S7138, _S6952);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7139;
    (&_S7139)->primal_0 = _S6950.primal_0;
    (&_S7139)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7140;
    (&_S7140)->primal_0 = _S6968;
    (&_S7140)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7139, &_S7140, _S6952);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7141;
    (&_S7141)->primal_0 = _S6950.primal_0;
    (&_S7141)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7142;
    (&_S7142)->primal_0 = _S6964;
    (&_S7142)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7141, &_S7142, _S6952);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7143;
    (&_S7143)->primal_0 = _S6950.primal_0;
    (&_S7143)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7144;
    (&_S7144)->primal_0 = _S6971;
    (&_S7144)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7143, &_S7144, _S6952);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7145;
    (&_S7145)->primal_0 = _S6950.primal_0;
    (&_S7145)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7146;
    (&_S7146)->primal_0 = _S6967;
    (&_S7146)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7145, &_S7146, _S6952);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7147;
    (&_S7147)->primal_0 = _S6950.primal_0;
    (&_S7147)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7148;
    (&_S7148)->primal_0 = _S6963;
    (&_S7148)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7147, &_S7148, _S6952);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7149;
    (&_S7149)->primal_0 = _S6950.primal_0;
    (&_S7149)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7150;
    (&_S7150)->primal_0 = _S6973.p_0[0U];
    (&_S7150)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7149, &_S7150, _S6952);
    float3  _S7151 = - _S7138.differential_0 + _S7144.differential_0;
    float3  _S7152 = _S6970 * _S7151;
    float3  _S7153 = _S6956.rows[2U] * _S7151;
    float _S7154 = _S6960 * (_S7153.x + _S7153.y + _S7153.z);
    float3  _S7155 = - _S7140.differential_0 + _S7146.differential_0;
    float3  _S7156 = _S6966 * _S7155;
    float3  _S7157 = _S6956.rows[1U] * _S7155;
    float _S7158 = _S6960 * (_S7157.x + _S7157.y + _S7157.z);
    float3  _S7159 = - _S7142.differential_0 + _S7148.differential_0;
    float3  _S7160 = _S6962 * _S7159;
    float3  _S7161 = _S6956.rows[0U] * _S7159;
    float _S7162 = _S6960 * (_S7161.x + _S7161.y + _S7161.z);
    Matrix<float, 3, 3>  _S7163 = _S7087;
    _S7163[2U] = _S7152;
    _S7163[1U] = _S7156;
    _S7163[0U] = _S7160;
    Matrix<float, 3, 3>  _S7164 = transpose_0(transpose_0(_S7163));
    float _S7165 = 2.0f * - _S7164.rows[int(2)].z;
    float _S7166 = 2.0f * _S7164.rows[int(2)].y;
    float _S7167 = 2.0f * _S7164.rows[int(2)].x;
    float _S7168 = 2.0f * _S7164.rows[int(1)].z;
    float _S7169 = 2.0f * - _S7164.rows[int(1)].y;
    float _S7170 = 2.0f * _S7164.rows[int(1)].x;
    float _S7171 = 2.0f * _S7164.rows[int(0)].z;
    float _S7172 = 2.0f * _S7164.rows[int(0)].y;
    float _S7173 = 2.0f * - _S7164.rows[int(0)].x;
    float _S7174 = - _S7170 + _S7172;
    float _S7175 = _S7167 + - _S7171;
    float _S7176 = - _S7166 + _S7168;
    float _S7177 = _S7166 + _S7168;
    float _S7178 = _S7167 + _S7171;
    float _S7179 = _S7170 + _S7172;
    float _S7180 = _S6946.primal_0.w * (_S7169 + _S7173);
    float _S7181 = _S6946.primal_0.z * (_S7165 + _S7173);
    float _S7182 = _S6946.primal_0.y * (_S7165 + _S7169);
    float _S7183 = _S6946.primal_0.x * _S7174 + _S6946.primal_0.z * _S7177 + _S6946.primal_0.y * _S7178 + _S7180 + _S7180;
    float _S7184 = _S6946.primal_0.x * _S7175 + _S6946.primal_0.w * _S7177 + _S6946.primal_0.y * _S7179 + _S7181 + _S7181;
    float _S7185 = _S6946.primal_0.x * _S7176 + _S6946.primal_0.w * _S7178 + _S6946.primal_0.z * _S7179 + _S7182 + _S7182;
    float _S7186 = _S6946.primal_0.w * _S7174 + _S6946.primal_0.z * _S7175 + _S6946.primal_0.y * _S7176;
    float3  _S7187 = _S6952;
    *&((&_S7187)->z) = _S7154;
    *&((&_S7187)->y) = _S7158;
    *&((&_S7187)->x) = _S7162;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7188;
    (&_S7188)->primal_0 = _S6947.primal_0;
    (&_S7188)->differential_0 = _S6952;
    s_bwd_prop_exp_1(&_S7188, _S7187);
    Matrix<float, 2, 2>  _S7189 = _S7125;
    _S7189[int(1)] = _S7134;
    _S7189[int(0)] = _S7136;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7190;
    (&_S7190)->primal_0 = mean_c_64;
    (&_S7190)->differential_0 = _S6952;
    s_bwd_length_impl_1(&_S7190, _S7096);
    float3  _S7191 = _S7190.differential_0 + _S7110;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7192;
    (&_S7192)->primal_0 = _S6950.primal_0;
    (&_S7192)->differential_0 = _S7087;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7193;
    (&_S7193)->primal_0 = _S6945.primal_0;
    (&_S7193)->differential_0 = _S6952;
    s_bwd_prop_mul_1(&_S7192, &_S7193, _S7191);
    float3  _S7194 = _S7191 + _S7090.differential_0;
    dpt_24->primal_0 = (*dpt_24).primal_0;
    dpt_24->differential_0 = _S7194;
    Matrix<float, 3, 3>  _S7195 = _S7137.differential_0 + _S7139.differential_0 + _S7141.differential_0 + _S7143.differential_0 + _S7145.differential_0 + _S7147.differential_0 + _S7149.differential_0 + _S7192.differential_0 + _S7091;
    dpR_25->primal_0 = (*dpR_25).primal_0;
    dpR_25->differential_0 = _S7195;
    dpsv_colors_23->primal_0 = dpsv_colors_23->primal_0;
    dpsv_colors_23->differential_0 = _S7107;
    dpsv_sites_23->primal_0 = dpsv_sites_23->primal_0;
    dpsv_sites_23->differential_0 = _S7109;
    dpin_opacity_23->primal_0 = (*dpin_opacity_23).primal_0;
    dpin_opacity_23->differential_0 = _S7117;
    float3  _S7196 = _S7188.differential_0 + _S7093;
    dpscale_24->primal_0 = (*dpscale_24).primal_0;
    dpscale_24->differential_0 = _S7196;
    float4  _S7197 = make_float4 (0.0f);
    *&((&_S7197)->w) = _S7183;
    *&((&_S7197)->z) = _S7184;
    *&((&_S7197)->y) = _S7185;
    *&((&_S7197)->x) = _S7186;
    dpquat_24->primal_0 = (*dpquat_24).primal_0;
    dpquat_24->differential_0 = _S7197;
    float3  _S7198 = _S7138.differential_0 + _S7144.differential_0 + _S7140.differential_0 + _S7146.differential_0 + _S7142.differential_0 + _S7148.differential_0 + _S7193.differential_0 + _S7085;
    dpmean_25->primal_0 = (*dpmean_25).primal_0;
    dpmean_25->differential_0 = _S7198;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_5(bool _S7199, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7200, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7201, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7202, DiffPair_float_0 * _S7203, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7204, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 * _S7205, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7206, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7207, float _S7208, float _S7209, float _S7210, float _S7211, FixedArray<float, 10>  * _S7212, uint _S7213, uint _S7214, float _S7215, float _S7216, float2  _S7217, float _S7218, float3  _S7219, float _S7220, float3  _S7221)
{
    FixedArray<float3 , 7>  _S7222 = _S7204->primal_0;
    FixedArray<float3 , 7>  _S7223 = _S7205->primal_0;
    int4  _S7224;
    float2  _S7225;
    float _S7226;
    float3  _S7227;
    float _S7228;
    float3  _S7229;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S7230;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_5(_S7199, (*_S7200).primal_0, (*_S7201).primal_0, (*_S7202).primal_0, (*_S7203).primal_0, &_S7222, &_S7223, (*_S7206).primal_0, (*_S7207).primal_0, _S7208, _S7209, _S7210, _S7211, _S7212, _S7213, _S7214, _S7215, _S7216, &_S7224, &_S7225, &_S7226, &_S7227, &_S7228, &_S7229, &_S7230);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_5 _S7231 = _S7230;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_5(_S7199, _S7200, _S7201, _S7202, _S7203, _S7204, _S7205, _S7206, _S7207, _S7208, _S7209, _S7210, _S7211, _S7212, _S7213, _S7214, _S7215, _S7216, _S7217, _S7218, _S7219, _S7220, _S7221, &_S7231);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_76, float3  mean_57, float4  quat_58, float3  scale_57, float in_opacity_52, FixedArray<float3 , 7>  * sv_sites_37, FixedArray<float3 , 7>  * sv_colors_37, Matrix<float, 3, 3>  R_59, float3  t_55, float fx_85, float fy_85, float cx_80, float cy_80, FixedArray<float, 10>  * dist_coeffs_89, uint image_width_76, uint image_height_76, float2  v_mean2d_16, float v_depth_17, float3  v_conic_16, float v_opacity_18, float3  v_rgb_17, float3  * v_mean_18, float4  * v_quat_17, float3  * v_scale_17, float * v_in_opacity_16, FixedArray<float3 , 7>  * v_sv_dirs_11, FixedArray<float3 , 7>  * v_sv_colors_11, Matrix<float, 3, 3>  * v_R_18, float3  * v_t_17)
{
    float3  _S7232 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_13;
    (&dp_mean_13)->primal_0 = mean_57;
    (&dp_mean_13)->differential_0 = _S7232;
    float4  _S7233 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_12;
    (&dp_quat_12)->primal_0 = quat_58;
    (&dp_quat_12)->differential_0 = _S7233;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_12;
    (&dp_scale_12)->primal_0 = scale_57;
    (&dp_scale_12)->differential_0 = _S7232;
    DiffPair_float_0 dp_in_opacity_11;
    (&dp_in_opacity_11)->primal_0 = in_opacity_52;
    (&dp_in_opacity_11)->differential_0 = 0.0f;
    FixedArray<float3 , 7>  _S7234 = { _S7232, _S7232, _S7232, _S7232, _S7232, _S7232, _S7232 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_dirs_11;
    (&dp_sv_dirs_11)->primal_0 = *sv_sites_37;
    (&dp_sv_dirs_11)->differential_0 = _S7234;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C7x3E_0 dp_sv_colors_11;
    (&dp_sv_colors_11)->primal_0 = *sv_colors_37;
    (&dp_sv_colors_11)->differential_0 = _S7234;
    Matrix<float, 3, 3>  _S7235 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_13;
    (&dp_R_13)->primal_0 = R_59;
    (&dp_R_13)->differential_0 = _S7235;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_12;
    (&dp_t_12)->primal_0 = t_55;
    (&dp_t_12)->differential_0 = _S7232;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_5(antialiased_76, &dp_mean_13, &dp_quat_12, &dp_scale_12, &dp_in_opacity_11, &dp_sv_dirs_11, &dp_sv_colors_11, &dp_R_13, &dp_t_12, fx_85, fy_85, cx_80, cy_80, dist_coeffs_89, image_width_76, image_height_76, 0.0f, 1.00000001504746622e+30f, v_mean2d_16, v_depth_17, v_conic_16, v_opacity_18, v_rgb_17);
    *v_mean_18 = dp_mean_13.differential_0;
    *v_quat_17 = dp_quat_12.differential_0;
    *v_scale_17 = dp_scale_12.differential_0;
    *v_in_opacity_16 = dp_in_opacity_11.differential_0;
    *v_sv_dirs_11 = (&dp_sv_dirs_11)->differential_0;
    *v_sv_colors_11 = (&dp_sv_colors_11)->differential_0;
    *v_R_18 = dp_R_13.differential_0;
    *v_t_17 = dp_t_12.differential_0;
    return;
}

inline __device__ void _projection_3dgut_sv_persp_differentiable(bool antialiased_77, float3  mean_58, float4  quat_59, float3  scale_58, float in_opacity_53, FixedArray<float3 , 8>  * sv_sites_38, FixedArray<float3 , 8>  * sv_colors_38, Matrix<float, 3, 3>  R_60, float3  t_56, float fx_86, float fy_86, float cx_81, float cy_81, FixedArray<float, 10>  * dist_coeffs_90, uint image_width_77, uint image_height_77, float near_plane_60, float far_plane_60, int4  * aabb_xyxy_48, float2  * mean2d_44, float * depth_37, float3  * conic_36, float * opacity_40, float3  * rgb_38)
{
    float3  mean_c_65 = mul_0(R_60, mean_58) + t_56;
    float4  intrins_52 = make_float4 (fx_86, fy_86, cx_81, cy_81);
    float3  _S7236 = exp_0(scale_58);
    float x_67 = quat_59.y;
    float x2_71 = x_67 * x_67;
    float y2_71 = quat_59.z * quat_59.z;
    float z2_86 = quat_59.w * quat_59.w;
    float xy_71 = quat_59.y * quat_59.z;
    float xz_71 = quat_59.y * quat_59.w;
    float yz_71 = quat_59.z * quat_59.w;
    float wx_71 = quat_59.x * quat_59.y;
    float wy_71 = quat_59.x * quat_59.z;
    float wz_71 = quat_59.x * quat_59.w;
    Matrix<float, 3, 3>  _S7237 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_71 + z2_86), 2.0f * (xy_71 + wz_71), 2.0f * (xz_71 - wy_71), 2.0f * (xy_71 - wz_71), 1.0f - 2.0f * (x2_71 + z2_86), 2.0f * (yz_71 + wx_71), 2.0f * (xz_71 + wy_71), 2.0f * (yz_71 - wx_71), 1.0f - 2.0f * (x2_71 + y2_71))));
    SigmaPoints_0 ret_30;
    (&ret_30)->p_0[int(0)] = mean_58;
    (&ret_30)->w_mean_0[int(0)] = 0.0f;
    (&ret_30)->w_cov_0[int(0)] = 2.0f;
    float _S7238 = (F32_sqrt((3.0f)));
    float3  delta_168 = make_float3 (_S7238 * _S7236.x) * _S7237.rows[0U];
    float3  _S7239 = mean_58 + delta_168;
    float3  _S7240 = mean_58 - delta_168;
    float3  delta_169 = make_float3 (_S7238 * _S7236.y) * _S7237.rows[1U];
    float3  _S7241 = mean_58 + delta_169;
    float3  _S7242 = mean_58 - delta_169;
    float3  delta_170 = make_float3 (_S7238 * _S7236.z) * _S7237.rows[2U];
    float3  _S7243 = mean_58 + delta_170;
    float3  _S7244 = mean_58 - delta_170;
    (&ret_30)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_30)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_30)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_30)->p_0[0U] = mul_0(R_60, (&ret_30)->p_0[0U]) + t_56;
    (&ret_30)->p_0[1U] = mul_0(R_60, _S7239) + t_56;
    (&ret_30)->p_0[2U] = mul_0(R_60, _S7241) + t_56;
    (&ret_30)->p_0[3U] = mul_0(R_60, _S7243) + t_56;
    (&ret_30)->p_0[4U] = mul_0(R_60, _S7240) + t_56;
    (&ret_30)->p_0[5U] = mul_0(R_60, _S7242) + t_56;
    (&ret_30)->p_0[6U] = mul_0(R_60, _S7244) + t_56;
    SigmaPoints_0 _S7245 = ret_30;
    Matrix<float, 2, 2>  covar2d_36;
    bool _S7246 = persp_proj_3dgs_ut_1(&_S7245, intrins_52, dist_coeffs_90, image_width_77, image_height_77, &covar2d_36, mean2d_44);
    float det_orig_66 = *&(((&covar2d_36)->rows + (int(0)))->x) * *&(((&covar2d_36)->rows + (int(1)))->y) - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x);
    float _S7247 = *&(((&covar2d_36)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(0)))->x) = _S7247;
    float _S7248 = *&(((&covar2d_36)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_36)->rows + (int(1)))->y) = _S7248;
    float compensation_37 = (F32_sqrt(((F32_max((0.0f), (det_orig_66 / (_S7247 * _S7248 - *&(((&covar2d_36)->rows + (int(0)))->y) * *&(((&covar2d_36)->rows + (int(1)))->x))))))));
    *opacity_40 = 1.0f / (1.0f + (F32_exp((- in_opacity_53))));
    if(antialiased_77)
    {
        *opacity_40 = *opacity_40 * compensation_37;
    }
    float extend_36 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_40 / 0.00392156885936856f)))))))));
    float radius_x_48 = extend_36 * (F32_sqrt((covar2d_36[int(0)].x)));
    float radius_y_48 = extend_36 * (F32_sqrt((covar2d_36[int(1)].y)));
    *aabb_xyxy_48 = make_int4 (int((F32_floor(((*mean2d_44).x - radius_x_48)))), int((F32_floor(((*mean2d_44).y - radius_y_48)))), int((F32_ceil(((*mean2d_44).x + radius_x_48)))), int((F32_ceil(((*mean2d_44).y + radius_y_48)))));
    float _S7249 = mean_c_65.z;
    *depth_37 = (F32_max((_S7249), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7249 + length_1(mean_c_65)))));
    *conic_36 = exp_0(- scale_58);
    float3  _S7250 = mean_58 - - mul_0(transpose_0(R_60), t_56);
    float3  _S7251 = _S7250 * make_float3 ((F32_rsqrt((dot_0(_S7250, _S7250)))));
    float _S7252 = dot_0((*sv_sites_38)[int(7)], _S7251);
    float w_124 = (F32_exp((dot_0((*sv_sites_38)[int(0)], _S7251) - _S7252)));
    float w_125 = (F32_exp((dot_0((*sv_sites_38)[int(1)], _S7251) - _S7252)));
    float w_126 = (F32_exp((dot_0((*sv_sites_38)[int(2)], _S7251) - _S7252)));
    float w_127 = (F32_exp((dot_0((*sv_sites_38)[int(3)], _S7251) - _S7252)));
    float w_128 = (F32_exp((dot_0((*sv_sites_38)[int(4)], _S7251) - _S7252)));
    float w_129 = (F32_exp((dot_0((*sv_sites_38)[int(5)], _S7251) - _S7252)));
    float w_130 = (F32_exp((dot_0((*sv_sites_38)[int(6)], _S7251) - _S7252)));
    float w_131 = (F32_exp((0.0f)));
    *rgb_38 = max_0((make_float3 (w_124) * (*sv_colors_38)[int(0)] + make_float3 (w_125) * (*sv_colors_38)[int(1)] + make_float3 (w_126) * (*sv_colors_38)[int(2)] + make_float3 (w_127) * (*sv_colors_38)[int(3)] + make_float3 (w_128) * (*sv_colors_38)[int(4)] + make_float3 (w_129) * (*sv_colors_38)[int(5)] + make_float3 (w_130) * (*sv_colors_38)[int(6)] + make_float3 (w_131) * (*sv_colors_38)[int(7)]) / make_float3 (w_124 + w_125 + w_126 + w_127 + w_128 + w_129 + w_130 + w_131) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_3dgut_sv_fisheye_differentiable(bool antialiased_78, float3  mean_59, float4  quat_60, float3  scale_59, float in_opacity_54, FixedArray<float3 , 8>  * sv_sites_39, FixedArray<float3 , 8>  * sv_colors_39, Matrix<float, 3, 3>  R_61, float3  t_57, float fx_87, float fy_87, float cx_82, float cy_82, FixedArray<float, 10>  * dist_coeffs_91, uint image_width_78, uint image_height_78, float near_plane_61, float far_plane_61, int4  * aabb_xyxy_49, float2  * mean2d_45, float * depth_38, float3  * conic_37, float * opacity_41, float3  * rgb_39)
{
    float3  mean_c_66 = mul_0(R_61, mean_59) + t_57;
    float4  intrins_53 = make_float4 (fx_87, fy_87, cx_82, cy_82);
    float3  _S7253 = exp_0(scale_59);
    float x_68 = quat_60.y;
    float x2_72 = x_68 * x_68;
    float y2_72 = quat_60.z * quat_60.z;
    float z2_87 = quat_60.w * quat_60.w;
    float xy_72 = quat_60.y * quat_60.z;
    float xz_72 = quat_60.y * quat_60.w;
    float yz_72 = quat_60.z * quat_60.w;
    float wx_72 = quat_60.x * quat_60.y;
    float wy_72 = quat_60.x * quat_60.z;
    float wz_72 = quat_60.x * quat_60.w;
    Matrix<float, 3, 3>  _S7254 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_72 + z2_87), 2.0f * (xy_72 + wz_72), 2.0f * (xz_72 - wy_72), 2.0f * (xy_72 - wz_72), 1.0f - 2.0f * (x2_72 + z2_87), 2.0f * (yz_72 + wx_72), 2.0f * (xz_72 + wy_72), 2.0f * (yz_72 - wx_72), 1.0f - 2.0f * (x2_72 + y2_72))));
    SigmaPoints_0 ret_31;
    (&ret_31)->p_0[int(0)] = mean_59;
    (&ret_31)->w_mean_0[int(0)] = 0.0f;
    (&ret_31)->w_cov_0[int(0)] = 2.0f;
    float _S7255 = (F32_sqrt((3.0f)));
    float3  delta_171 = make_float3 (_S7255 * _S7253.x) * _S7254.rows[0U];
    float3  _S7256 = mean_59 + delta_171;
    float3  _S7257 = mean_59 - delta_171;
    float3  delta_172 = make_float3 (_S7255 * _S7253.y) * _S7254.rows[1U];
    float3  _S7258 = mean_59 + delta_172;
    float3  _S7259 = mean_59 - delta_172;
    float3  delta_173 = make_float3 (_S7255 * _S7253.z) * _S7254.rows[2U];
    float3  _S7260 = mean_59 + delta_173;
    float3  _S7261 = mean_59 - delta_173;
    (&ret_31)->w_mean_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[1U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[2U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[3U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[4U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[5U] = 0.1666666716337204f;
    (&ret_31)->w_mean_0[6U] = 0.1666666716337204f;
    (&ret_31)->w_cov_0[6U] = 0.1666666716337204f;
    (&ret_31)->p_0[0U] = mul_0(R_61, (&ret_31)->p_0[0U]) + t_57;
    (&ret_31)->p_0[1U] = mul_0(R_61, _S7256) + t_57;
    (&ret_31)->p_0[2U] = mul_0(R_61, _S7258) + t_57;
    (&ret_31)->p_0[3U] = mul_0(R_61, _S7260) + t_57;
    (&ret_31)->p_0[4U] = mul_0(R_61, _S7257) + t_57;
    (&ret_31)->p_0[5U] = mul_0(R_61, _S7259) + t_57;
    (&ret_31)->p_0[6U] = mul_0(R_61, _S7261) + t_57;
    SigmaPoints_0 _S7262 = ret_31;
    Matrix<float, 2, 2>  covar2d_37;
    bool _S7263 = fisheye_proj_3dgs_ut_1(&_S7262, intrins_53, dist_coeffs_91, &covar2d_37, mean2d_45);
    float det_orig_67 = *&(((&covar2d_37)->rows + (int(0)))->x) * *&(((&covar2d_37)->rows + (int(1)))->y) - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x);
    float _S7264 = *&(((&covar2d_37)->rows + (int(0)))->x) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(0)))->x) = _S7264;
    float _S7265 = *&(((&covar2d_37)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&covar2d_37)->rows + (int(1)))->y) = _S7265;
    float compensation_38 = (F32_sqrt(((F32_max((0.0f), (det_orig_67 / (_S7264 * _S7265 - *&(((&covar2d_37)->rows + (int(0)))->y) * *&(((&covar2d_37)->rows + (int(1)))->x))))))));
    *opacity_41 = 1.0f / (1.0f + (F32_exp((- in_opacity_54))));
    if(antialiased_78)
    {
        *opacity_41 = *opacity_41 * compensation_38;
    }
    float extend_37 = (F32_min((3.32999992370605469f), ((F32_sqrt((2.0f * (F32_log((*opacity_41 / 0.00392156885936856f)))))))));
    float radius_x_49 = extend_37 * (F32_sqrt((covar2d_37[int(0)].x)));
    float radius_y_49 = extend_37 * (F32_sqrt((covar2d_37[int(1)].y)));
    *aabb_xyxy_49 = make_int4 (int((F32_floor(((*mean2d_45).x - radius_x_49)))), int((F32_floor(((*mean2d_45).y - radius_y_49)))), int((F32_ceil(((*mean2d_45).x + radius_x_49)))), int((F32_ceil(((*mean2d_45).y + radius_y_49)))));
    float _S7266 = mean_c_66.z;
    *depth_38 = (F32_max((_S7266), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7266 + length_1(mean_c_66)))));
    *conic_37 = exp_0(- scale_59);
    float3  _S7267 = mean_59 - - mul_0(transpose_0(R_61), t_57);
    float3  _S7268 = _S7267 * make_float3 ((F32_rsqrt((dot_0(_S7267, _S7267)))));
    float _S7269 = dot_0((*sv_sites_39)[int(7)], _S7268);
    float w_132 = (F32_exp((dot_0((*sv_sites_39)[int(0)], _S7268) - _S7269)));
    float w_133 = (F32_exp((dot_0((*sv_sites_39)[int(1)], _S7268) - _S7269)));
    float w_134 = (F32_exp((dot_0((*sv_sites_39)[int(2)], _S7268) - _S7269)));
    float w_135 = (F32_exp((dot_0((*sv_sites_39)[int(3)], _S7268) - _S7269)));
    float w_136 = (F32_exp((dot_0((*sv_sites_39)[int(4)], _S7268) - _S7269)));
    float w_137 = (F32_exp((dot_0((*sv_sites_39)[int(5)], _S7268) - _S7269)));
    float w_138 = (F32_exp((dot_0((*sv_sites_39)[int(6)], _S7268) - _S7269)));
    float w_139 = (F32_exp((0.0f)));
    *rgb_39 = max_0((make_float3 (w_132) * (*sv_colors_39)[int(0)] + make_float3 (w_133) * (*sv_colors_39)[int(1)] + make_float3 (w_134) * (*sv_colors_39)[int(2)] + make_float3 (w_135) * (*sv_colors_39)[int(3)] + make_float3 (w_136) * (*sv_colors_39)[int(4)] + make_float3 (w_137) * (*sv_colors_39)[int(5)] + make_float3 (w_138) * (*sv_colors_39)[int(6)] + make_float3 (w_139) * (*sv_colors_39)[int(7)]) / make_float3 (w_132 + w_133 + w_134 + w_135 + w_136 + w_137 + w_138 + w_139) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

struct DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0
{
    FixedArray<float3 , 8>  primal_0;
    FixedArray<float3 , 8>  differential_0;
};

struct s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S7270;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(bool antialiased_79, float3  dpmean_26, float4  dpquat_25, float3  dpscale_25, float dpin_opacity_24, FixedArray<float3 , 8>  * dpsv_sites_24, FixedArray<float3 , 8>  * dpsv_colors_24, Matrix<float, 3, 3>  dpR_26, float3  dpt_25, float fx_88, float fy_88, float cx_83, float cy_83, FixedArray<float, 10>  * dist_coeffs_92, uint image_width_79, uint image_height_79, float near_plane_62, float far_plane_62, int4  * aabb_xyxy_50, float2  * dpmean2d_26, float * dpdepth_25, float3  * dpconic_24, float * dpopacity_26, float3  * dprgb_25, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_38)
{
    Matrix<float, 2, 2>  _S7271 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_38->_S7270 = _S7271;
    float2  _S7272 = make_float2 (0.0f);
    float3  _S7273 = make_float3 (0.0f);
    float3  mean_c_67 = s_primal_ctx_mul_0(dpR_26, dpmean_26) + dpt_25;
    float4  intrins_54 = make_float4 (fx_88, fy_88, cx_83, cy_83);
    float3  _S7274 = s_primal_ctx_exp_0(dpscale_25);
    float _S7275 = dpquat_25.y;
    float x2_73 = _S7275 * _S7275;
    float y2_73 = dpquat_25.z * dpquat_25.z;
    float z2_88 = dpquat_25.w * dpquat_25.w;
    float xy_73 = dpquat_25.y * dpquat_25.z;
    float xz_73 = dpquat_25.y * dpquat_25.w;
    float yz_73 = dpquat_25.z * dpquat_25.w;
    float wx_73 = dpquat_25.x * dpquat_25.y;
    float wy_73 = dpquat_25.x * dpquat_25.z;
    float wz_73 = dpquat_25.x * dpquat_25.w;
    Matrix<float, 3, 3>  _S7276 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_73 + z2_88), 2.0f * (xy_73 + wz_73), 2.0f * (xz_73 - wy_73), 2.0f * (xy_73 - wz_73), 1.0f - 2.0f * (x2_73 + z2_88), 2.0f * (yz_73 + wx_73), 2.0f * (xz_73 + wy_73), 2.0f * (yz_73 - wx_73), 1.0f - 2.0f * (x2_73 + y2_73))));
    FixedArray<float3 , 7>  _S7277 = {
        _S7273, _S7273, _S7273, _S7273, _S7273, _S7273, _S7273
    };
    FixedArray<float, 7>  _S7278 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7279;
    (&_S7279)->p_0 = _S7277;
    (&_S7279)->w_mean_0 = _S7278;
    (&_S7279)->w_cov_0 = _S7278;
    (&_S7279)->p_0[int(0)] = dpmean_26;
    SigmaPoints_0 _S7280 = _S7279;
    (&_S7280)->w_mean_0[int(0)] = 0.0f;
    (&_S7280)->w_cov_0[int(0)] = 2.0f;
    float _S7281 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_174 = make_float3 (_S7281 * _S7274.x) * _S7276.rows[0U];
    float3  _S7282 = dpmean_26 + delta_174;
    float3  _S7283 = dpmean_26 - delta_174;
    float3  delta_175 = make_float3 (_S7281 * _S7274.y) * _S7276.rows[1U];
    float3  _S7284 = dpmean_26 + delta_175;
    float3  _S7285 = dpmean_26 - delta_175;
    float3  delta_176 = make_float3 (_S7281 * _S7274.z) * _S7276.rows[2U];
    float3  _S7286 = dpmean_26 + delta_176;
    float3  _S7287 = dpmean_26 - delta_176;
    (&_S7280)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7280)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7280)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7280)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7280)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7280)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7280)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7280)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7280)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7280)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7280)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7280)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7280)->p_0[0U] = s_primal_ctx_mul_0(dpR_26, _S7279.p_0[0U]) + dpt_25;
    (&_S7280)->p_0[1U] = s_primal_ctx_mul_0(dpR_26, _S7282) + dpt_25;
    (&_S7280)->p_0[2U] = s_primal_ctx_mul_0(dpR_26, _S7284) + dpt_25;
    (&_S7280)->p_0[3U] = s_primal_ctx_mul_0(dpR_26, _S7286) + dpt_25;
    (&_S7280)->p_0[4U] = s_primal_ctx_mul_0(dpR_26, _S7283) + dpt_25;
    (&_S7280)->p_0[5U] = s_primal_ctx_mul_0(dpR_26, _S7285) + dpt_25;
    (&_S7280)->p_0[6U] = s_primal_ctx_mul_0(dpR_26, _S7287) + dpt_25;
    float2  _S7288 = _S7272;
    Matrix<float, 2, 2>  _S7289 = _S7271;
    SigmaPoints_0 _S7290 = _S7280;
    bool _S7291 = persp_proj_3dgs_ut_1(&_S7290, intrins_54, dist_coeffs_92, image_width_79, image_height_79, &_S7289, &_S7288);
    _s_diff_ctx_38->_S7270 = _S7289;
    float2  _S7292 = _S7288;
    float _S7293 = _S7289.rows[int(0)].y * _S7289.rows[int(1)].x;
    float det_orig_68 = _S7289.rows[int(0)].x * _S7289.rows[int(1)].y - _S7293;
    float _S7294 = _S7289.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7295 = _S7289;
    *&(((&_S7295)->rows + (int(0)))->x) = _S7294;
    float _S7296 = _S7289.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7295)->rows + (int(1)))->y) = _S7296;
    Matrix<float, 2, 2>  _S7297 = _S7295;
    Matrix<float, 2, 2>  _S7298 = _S7295;
    float _S7299 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_68 / (_S7294 * _S7296 - _S7293)));
    float _S7300 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_24));
    float _S7301;
    if(antialiased_79)
    {
        _S7301 = _S7300 * _S7299;
    }
    else
    {
        _S7301 = _S7300;
    }
    float _S7302 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7301 / 0.00392156885936856f)));
    float radius_x_50 = _S7302 * s_primal_ctx_sqrt_0(_S7297.rows[int(0)].x);
    float radius_y_50 = _S7302 * s_primal_ctx_sqrt_0(_S7298.rows[int(1)].y);
    float _S7303 = _S7292.x;
    float _S7304 = _S7292.y;
    float _S7305 = mean_c_67.z;
    float _S7306 = s_primal_ctx_max_0(_S7305, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S7305 + length_1(mean_c_67)));
    float3  _S7307 = s_primal_ctx_exp_0(- dpscale_25);
    float3  _S7308 = dpmean_26 - - s_primal_ctx_mul_0(transpose_0(dpR_26), dpt_25);
    float3  _S7309 = _S7308 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7308, _S7308)));
    float _S7310 = s_primal_ctx_dot_0((*dpsv_sites_24)[int(7)], _S7309);
    float _S7311 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(0)], _S7309) - _S7310);
    float _S7312 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(1)], _S7309) - _S7310);
    float _S7313 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(2)], _S7309) - _S7310);
    float _S7314 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(3)], _S7309) - _S7310);
    float _S7315 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(4)], _S7309) - _S7310);
    float _S7316 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(5)], _S7309) - _S7310);
    float _S7317 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_24)[int(6)], _S7309) - _S7310);
    float _S7318 = s_primal_ctx_exp_1(0.0f);
    float3  _S7319 = s_primal_ctx_max_1((make_float3 (_S7311) * (*dpsv_colors_24)[int(0)] + make_float3 (_S7312) * (*dpsv_colors_24)[int(1)] + make_float3 (_S7313) * (*dpsv_colors_24)[int(2)] + make_float3 (_S7314) * (*dpsv_colors_24)[int(3)] + make_float3 (_S7315) * (*dpsv_colors_24)[int(4)] + make_float3 (_S7316) * (*dpsv_colors_24)[int(5)] + make_float3 (_S7317) * (*dpsv_colors_24)[int(6)] + make_float3 (_S7318) * (*dpsv_colors_24)[int(7)]) / make_float3 (_S7311 + _S7312 + _S7313 + _S7314 + _S7315 + _S7316 + _S7317 + _S7318) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_50 = make_int4 (int((F32_floor((_S7303 - radius_x_50)))), int((F32_floor((_S7304 - radius_y_50)))), int((F32_ceil((_S7303 + radius_x_50)))), int((F32_ceil((_S7304 + radius_y_50)))));
    *dpmean2d_26 = _S7292;
    *dpdepth_25 = _S7306;
    *dpconic_24 = _S7307;
    *dpopacity_26 = _S7301;
    *dprgb_25 = _S7319;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(bool antialiased_80, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_27, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_26, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_26, DiffPair_float_0 * dpin_opacity_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_25, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_25, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_27, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_26, float fx_89, float fy_89, float cx_84, float cy_84, FixedArray<float, 10>  * dist_coeffs_93, uint image_width_80, uint image_height_80, float near_plane_63, float far_plane_63, float2  dpmean2d_27, float dpdepth_26, float3  dpconic_25, float dpopacity_27, float3  dprgb_26, s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 * _s_diff_ctx_39)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7320 = *dpmean_27;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7321 = *dpquat_26;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7322 = *dpscale_26;
    FixedArray<float3 , 8>  _S7323 = dpsv_sites_25->primal_0;
    FixedArray<float3 , 8>  _S7324 = dpsv_colors_25->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7325 = *dpR_27;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7326 = *dpt_26;
    float3  _S7327 = make_float3 (0.0f);
    float3  mean_c_68 = s_primal_ctx_mul_0((*dpR_27).primal_0, (*dpmean_27).primal_0) + (*dpt_26).primal_0;
    float3  _S7328 = s_primal_ctx_exp_0((*dpscale_26).primal_0);
    float _S7329 = (*dpquat_26).primal_0.y;
    float x2_74 = _S7329 * _S7329;
    float y2_74 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.z;
    float z2_89 = (*dpquat_26).primal_0.w * (*dpquat_26).primal_0.w;
    float xy_74 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.z;
    float xz_74 = (*dpquat_26).primal_0.y * (*dpquat_26).primal_0.w;
    float yz_74 = (*dpquat_26).primal_0.z * (*dpquat_26).primal_0.w;
    float wx_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.y;
    float wy_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.z;
    float wz_74 = (*dpquat_26).primal_0.x * (*dpquat_26).primal_0.w;
    Matrix<float, 3, 3>  _S7330 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_74 + z2_89), 2.0f * (xy_74 + wz_74), 2.0f * (xz_74 - wy_74), 2.0f * (xy_74 - wz_74), 1.0f - 2.0f * (x2_74 + z2_89), 2.0f * (yz_74 + wx_74), 2.0f * (xz_74 + wy_74), 2.0f * (yz_74 - wx_74), 1.0f - 2.0f * (x2_74 + y2_74))));
    FixedArray<float3 , 7>  _S7331 = {
        _S7327, _S7327, _S7327, _S7327, _S7327, _S7327, _S7327
    };
    FixedArray<float, 7>  _S7332 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7333;
    (&_S7333)->p_0 = _S7331;
    (&_S7333)->w_mean_0 = _S7332;
    (&_S7333)->w_cov_0 = _S7332;
    (&_S7333)->p_0[int(0)] = (*dpmean_27).primal_0;
    float _S7334 = s_primal_ctx_sqrt_0(3.0f);
    float _S7335 = _S7334 * _S7328.x;
    float3  _S7336 = make_float3 (_S7335);
    float3  delta_177 = make_float3 (_S7335) * _S7330.rows[0U];
    float3  _S7337 = (*dpmean_27).primal_0 + delta_177;
    float3  _S7338 = (*dpmean_27).primal_0 - delta_177;
    float _S7339 = _S7334 * _S7328.y;
    float3  _S7340 = make_float3 (_S7339);
    float3  delta_178 = make_float3 (_S7339) * _S7330.rows[1U];
    float3  _S7341 = (*dpmean_27).primal_0 + delta_178;
    float3  _S7342 = (*dpmean_27).primal_0 - delta_178;
    float _S7343 = _S7334 * _S7328.z;
    float3  _S7344 = make_float3 (_S7343);
    float3  delta_179 = make_float3 (_S7343) * _S7330.rows[2U];
    float3  _S7345 = (*dpmean_27).primal_0 + delta_179;
    float3  _S7346 = (*dpmean_27).primal_0 - delta_179;
    SigmaPoints_0 _S7347 = _S7333;
    float _S7348 = *&(((&_s_diff_ctx_39->_S7270)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_39->_S7270)->rows + (int(1)))->x);
    float det_orig_69 = *&(((&_s_diff_ctx_39->_S7270)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_39->_S7270)->rows + (int(1)))->y) - _S7348;
    float _S7349 = *&(((&_s_diff_ctx_39->_S7270)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7350 = _s_diff_ctx_39->_S7270;
    *&(((&_S7350)->rows + (int(0)))->x) = _S7349;
    float _S7351 = *&(((&_s_diff_ctx_39->_S7270)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7350)->rows + (int(1)))->y) = _S7351;
    Matrix<float, 2, 2>  _S7352 = _S7350;
    Matrix<float, 2, 2>  _S7353 = _S7350;
    float det_blur_37 = _S7349 * _S7351 - _S7348;
    float _S7354 = det_orig_69 / det_blur_37;
    float _S7355 = det_blur_37 * det_blur_37;
    float _S7356 = s_primal_ctx_max_0(0.0f, _S7354);
    float _S7357 = s_primal_ctx_sqrt_0(_S7356);
    float _S7358 = - (*dpin_opacity_25).primal_0;
    float _S7359 = 1.0f + s_primal_ctx_exp_1(_S7358);
    float _S7360 = 1.0f / _S7359;
    float _S7361 = _S7359 * _S7359;
    float _S7362;
    if(antialiased_80)
    {
        _S7362 = _S7360 * _S7357;
    }
    else
    {
        _S7362 = _S7360;
    }
    float _S7363 = _S7362 / 0.00392156885936856f;
    float _S7364 = 2.0f * s_primal_ctx_log_0(_S7363);
    float _S7365 = s_primal_ctx_sqrt_0(_S7364);
    float _S7366 = _S7352.rows[int(0)].x;
    float _S7367 = _S7353.rows[int(1)].y;
    float _S7368 = mean_c_68.z;
    float _S7369 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S7370 = _S7369 * (_S7368 + length_1(mean_c_68));
    float3  _S7371 = - _S7322.primal_0;
    Matrix<float, 3, 3>  _S7372 = transpose_0(_S7325.primal_0);
    float3  _S7373 = _S7320.primal_0 - - s_primal_ctx_mul_0(_S7372, _S7326.primal_0);
    float _S7374 = s_primal_ctx_dot_0(_S7373, _S7373);
    float _S7375 = s_primal_ctx_rsqrt_0(_S7374);
    float3  _S7376 = make_float3 (_S7375);
    float3  _S7377 = _S7373 * make_float3 (_S7375);
    float _S7378 = s_primal_ctx_dot_0(_S7323[int(7)], _S7377);
    float _S7379 = s_primal_ctx_dot_0(_S7323[int(0)], _S7377) - _S7378;
    float _S7380 = s_primal_ctx_exp_1(_S7379);
    float3  _S7381 = make_float3 (_S7380);
    float _S7382 = s_primal_ctx_dot_0(_S7323[int(1)], _S7377) - _S7378;
    float _S7383 = s_primal_ctx_exp_1(_S7382);
    float3  _S7384 = make_float3 (_S7383);
    float _S7385 = s_primal_ctx_dot_0(_S7323[int(2)], _S7377) - _S7378;
    float _S7386 = s_primal_ctx_exp_1(_S7385);
    float3  _S7387 = make_float3 (_S7386);
    float _S7388 = s_primal_ctx_dot_0(_S7323[int(3)], _S7377) - _S7378;
    float _S7389 = s_primal_ctx_exp_1(_S7388);
    float3  _S7390 = make_float3 (_S7389);
    float _S7391 = s_primal_ctx_dot_0(_S7323[int(4)], _S7377) - _S7378;
    float _S7392 = s_primal_ctx_exp_1(_S7391);
    float3  _S7393 = make_float3 (_S7392);
    float _S7394 = s_primal_ctx_dot_0(_S7323[int(5)], _S7377) - _S7378;
    float _S7395 = s_primal_ctx_exp_1(_S7394);
    float3  _S7396 = make_float3 (_S7395);
    float _S7397 = s_primal_ctx_dot_0(_S7323[int(6)], _S7377) - _S7378;
    float _S7398 = s_primal_ctx_exp_1(_S7397);
    float3  _S7399 = make_float3 (_S7398);
    float _S7400 = s_primal_ctx_exp_1(0.0f);
    float3  _S7401 = make_float3 (_S7400);
    float total_w_12 = _S7380 + _S7383 + _S7386 + _S7389 + _S7392 + _S7395 + _S7398 + _S7400;
    float3  _S7402 = make_float3 (total_w_12);
    float3  total_c_12 = make_float3 (_S7380) * _S7324[int(0)] + make_float3 (_S7383) * _S7324[int(1)] + make_float3 (_S7386) * _S7324[int(2)] + make_float3 (_S7389) * _S7324[int(3)] + make_float3 (_S7392) * _S7324[int(4)] + make_float3 (_S7395) * _S7324[int(5)] + make_float3 (_S7398) * _S7324[int(6)] + make_float3 (_S7400) * _S7324[int(7)];
    float3  _S7403 = make_float3 (total_w_12 * total_w_12);
    float3  _S7404 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7405;
    (&_S7405)->primal_0 = total_c_12 / make_float3 (total_w_12) + make_float3 (0.5f);
    (&_S7405)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7406;
    (&_S7406)->primal_0 = _S7404;
    (&_S7406)->differential_0 = _S7327;
    s_bwd_prop_max_0(&_S7405, &_S7406, dprgb_26);
    float3  _S7407 = _S7405.differential_0 / _S7403;
    float3  _S7408 = total_c_12 * - _S7407;
    float3  s_diff_total_c_T_12 = _S7402 * _S7407;
    float3  _S7409 = _S7401 * s_diff_total_c_T_12;
    float _S7410 = _S7408.x + _S7408.y + _S7408.z;
    float3  _S7411 = _S7399 * s_diff_total_c_T_12;
    float3  _S7412 = _S7324[int(6)] * s_diff_total_c_T_12;
    float _S7413 = _S7410 + _S7412.x + _S7412.y + _S7412.z;
    DiffPair_float_0 _S7414;
    (&_S7414)->primal_0 = _S7397;
    (&_S7414)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7414, _S7413);
    float _S7415 = - _S7414.differential_0;
    float3  _S7416 = _S7396 * s_diff_total_c_T_12;
    float3  _S7417 = _S7324[int(5)] * s_diff_total_c_T_12;
    float _S7418 = _S7410 + _S7417.x + _S7417.y + _S7417.z;
    DiffPair_float_0 _S7419;
    (&_S7419)->primal_0 = _S7394;
    (&_S7419)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7419, _S7418);
    float _S7420 = - _S7419.differential_0;
    float3  _S7421 = _S7393 * s_diff_total_c_T_12;
    float3  _S7422 = _S7324[int(4)] * s_diff_total_c_T_12;
    float _S7423 = _S7410 + _S7422.x + _S7422.y + _S7422.z;
    DiffPair_float_0 _S7424;
    (&_S7424)->primal_0 = _S7391;
    (&_S7424)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7424, _S7423);
    float _S7425 = - _S7424.differential_0;
    float3  _S7426 = _S7390 * s_diff_total_c_T_12;
    float3  _S7427 = _S7324[int(3)] * s_diff_total_c_T_12;
    float _S7428 = _S7410 + _S7427.x + _S7427.y + _S7427.z;
    DiffPair_float_0 _S7429;
    (&_S7429)->primal_0 = _S7388;
    (&_S7429)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7429, _S7428);
    float _S7430 = - _S7429.differential_0;
    float3  _S7431 = _S7387 * s_diff_total_c_T_12;
    float3  _S7432 = _S7324[int(2)] * s_diff_total_c_T_12;
    float _S7433 = _S7410 + _S7432.x + _S7432.y + _S7432.z;
    DiffPair_float_0 _S7434;
    (&_S7434)->primal_0 = _S7385;
    (&_S7434)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7434, _S7433);
    float _S7435 = - _S7434.differential_0;
    float3  _S7436 = _S7384 * s_diff_total_c_T_12;
    float3  _S7437 = _S7324[int(1)] * s_diff_total_c_T_12;
    float _S7438 = _S7410 + _S7437.x + _S7437.y + _S7437.z;
    DiffPair_float_0 _S7439;
    (&_S7439)->primal_0 = _S7382;
    (&_S7439)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7439, _S7438);
    float _S7440 = - _S7439.differential_0;
    float3  _S7441 = _S7381 * s_diff_total_c_T_12;
    float3  _S7442 = _S7324[int(0)] * s_diff_total_c_T_12;
    float _S7443 = _S7410 + _S7442.x + _S7442.y + _S7442.z;
    DiffPair_float_0 _S7444;
    (&_S7444)->primal_0 = _S7379;
    (&_S7444)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7444, _S7443);
    float _S7445 = _S7415 + _S7420 + _S7425 + _S7430 + _S7435 + _S7440 + - _S7444.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7446;
    (&_S7446)->primal_0 = _S7323[int(7)];
    (&_S7446)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7447;
    (&_S7447)->primal_0 = _S7377;
    (&_S7447)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7446, &_S7447, _S7445);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7448;
    (&_S7448)->primal_0 = _S7323[int(6)];
    (&_S7448)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7449;
    (&_S7449)->primal_0 = _S7377;
    (&_S7449)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7448, &_S7449, _S7414.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7450;
    (&_S7450)->primal_0 = _S7323[int(5)];
    (&_S7450)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7451;
    (&_S7451)->primal_0 = _S7377;
    (&_S7451)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7450, &_S7451, _S7419.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7452;
    (&_S7452)->primal_0 = _S7323[int(4)];
    (&_S7452)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7453;
    (&_S7453)->primal_0 = _S7377;
    (&_S7453)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7452, &_S7453, _S7424.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7454;
    (&_S7454)->primal_0 = _S7323[int(3)];
    (&_S7454)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7455;
    (&_S7455)->primal_0 = _S7377;
    (&_S7455)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7454, &_S7455, _S7429.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7456;
    (&_S7456)->primal_0 = _S7323[int(2)];
    (&_S7456)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7457;
    (&_S7457)->primal_0 = _S7377;
    (&_S7457)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7456, &_S7457, _S7434.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7458;
    (&_S7458)->primal_0 = _S7323[int(1)];
    (&_S7458)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7459;
    (&_S7459)->primal_0 = _S7377;
    (&_S7459)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7458, &_S7459, _S7439.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7460;
    (&_S7460)->primal_0 = _S7323[int(0)];
    (&_S7460)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7461;
    (&_S7461)->primal_0 = _S7377;
    (&_S7461)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7460, &_S7461, _S7444.differential_0);
    float3  _S7462 = _S7447.differential_0 + _S7449.differential_0 + _S7451.differential_0 + _S7453.differential_0 + _S7455.differential_0 + _S7457.differential_0 + _S7459.differential_0 + _S7461.differential_0;
    float3  _S7463 = _S7373 * _S7462;
    float3  _S7464 = _S7376 * _S7462;
    float _S7465 = _S7463.x + _S7463.y + _S7463.z;
    DiffPair_float_0 _S7466;
    (&_S7466)->primal_0 = _S7374;
    (&_S7466)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7466, _S7465);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7467;
    (&_S7467)->primal_0 = _S7373;
    (&_S7467)->differential_0 = _S7327;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7468;
    (&_S7468)->primal_0 = _S7373;
    (&_S7468)->differential_0 = _S7327;
    s_bwd_prop_dot_0(&_S7467, &_S7468, _S7466.differential_0);
    float3  _S7469 = _S7464 + _S7468.differential_0 + _S7467.differential_0;
    float3  _S7470 = - - _S7469;
    Matrix<float, 3, 3>  _S7471 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7472;
    (&_S7472)->primal_0 = _S7372;
    (&_S7472)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7473;
    (&_S7473)->primal_0 = _S7326.primal_0;
    (&_S7473)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7472, &_S7473, _S7470);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7474 = _S7473;
    Matrix<float, 3, 3>  _S7475 = transpose_0(_S7472.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7476;
    (&_S7476)->primal_0 = _S7371;
    (&_S7476)->differential_0 = _S7327;
    s_bwd_prop_exp_1(&_S7476, dpconic_25);
    float3  _S7477 = - _S7476.differential_0;
    DiffPair_float_0 _S7478;
    (&_S7478)->primal_0 = _S7368;
    (&_S7478)->differential_0 = 0.0f;
    DiffPair_float_0 _S7479;
    (&_S7479)->primal_0 = _S7370;
    (&_S7479)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7478, &_S7479, dpdepth_26);
    float _S7480 = _S7369 * _S7479.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7481;
    (&_S7481)->primal_0 = mean_c_68;
    (&_S7481)->differential_0 = _S7327;
    s_bwd_length_impl_1(&_S7481, _S7480);
    float _S7482 = _S7478.differential_0 + _S7480;
    DiffPair_float_0 _S7483;
    (&_S7483)->primal_0 = _S7367;
    (&_S7483)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7483, 0.0f);
    DiffPair_float_0 _S7484;
    (&_S7484)->primal_0 = _S7366;
    (&_S7484)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7484, 0.0f);
    DiffPair_float_0 _S7485;
    (&_S7485)->primal_0 = 3.32999992370605469f;
    (&_S7485)->differential_0 = 0.0f;
    DiffPair_float_0 _S7486;
    (&_S7486)->primal_0 = _S7365;
    (&_S7486)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7485, &_S7486, 0.0f);
    DiffPair_float_0 _S7487;
    (&_S7487)->primal_0 = _S7364;
    (&_S7487)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7487, _S7486.differential_0);
    float _S7488 = 2.0f * _S7487.differential_0;
    DiffPair_float_0 _S7489;
    (&_S7489)->primal_0 = _S7363;
    (&_S7489)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7489, _S7488);
    float _S7490 = dpopacity_27 + 254.9999847412109375f * _S7489.differential_0;
    FixedArray<float3 , 8>  _S7491;
    _S7491[int(0)] = _S7327;
    _S7491[int(1)] = _S7327;
    _S7491[int(2)] = _S7327;
    _S7491[int(3)] = _S7327;
    _S7491[int(4)] = _S7327;
    _S7491[int(5)] = _S7327;
    _S7491[int(6)] = _S7327;
    _S7491[int(7)] = _S7327;
    _S7491[int(7)] = _S7409;
    _S7491[int(6)] = _S7411;
    _S7491[int(5)] = _S7416;
    _S7491[int(4)] = _S7421;
    _S7491[int(3)] = _S7426;
    _S7491[int(2)] = _S7431;
    _S7491[int(1)] = _S7436;
    _S7491[int(0)] = _S7441;
    FixedArray<float3 , 8>  _S7492 = {
        _S7491[int(0)], _S7491[int(1)], _S7491[int(2)], _S7491[int(3)], _S7491[int(4)], _S7491[int(5)], _S7491[int(6)], _S7491[int(7)]
    };
    FixedArray<float3 , 8>  _S7493;
    _S7493[int(0)] = _S7327;
    _S7493[int(1)] = _S7327;
    _S7493[int(2)] = _S7327;
    _S7493[int(3)] = _S7327;
    _S7493[int(4)] = _S7327;
    _S7493[int(5)] = _S7327;
    _S7493[int(6)] = _S7327;
    _S7493[int(7)] = _S7327;
    _S7493[int(7)] = _S7446.differential_0;
    _S7493[int(6)] = _S7448.differential_0;
    _S7493[int(5)] = _S7450.differential_0;
    _S7493[int(4)] = _S7452.differential_0;
    _S7493[int(3)] = _S7454.differential_0;
    _S7493[int(2)] = _S7456.differential_0;
    _S7493[int(1)] = _S7458.differential_0;
    _S7493[int(0)] = _S7460.differential_0;
    FixedArray<float3 , 8>  _S7494 = {
        _S7493[int(0)], _S7493[int(1)], _S7493[int(2)], _S7493[int(3)], _S7493[int(4)], _S7493[int(5)], _S7493[int(6)], _S7493[int(7)]
    };
    float3  _S7495 = _S7481.differential_0 + make_float3 (0.0f, 0.0f, _S7482);
    float2  _S7496 = make_float2 (0.0f, _S7483.differential_0);
    float2  _S7497 = make_float2 (_S7484.differential_0, 0.0f);
    float _S7498;
    if(antialiased_80)
    {
        float _S7499 = _S7360 * _S7490;
        _S7362 = _S7357 * _S7490;
        _S7498 = _S7499;
    }
    else
    {
        _S7362 = _S7490;
        _S7498 = 0.0f;
    }
    float _S7500 = - (_S7362 / _S7361);
    DiffPair_float_0 _S7501;
    (&_S7501)->primal_0 = _S7358;
    (&_S7501)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7501, _S7500);
    float _S7502 = - _S7501.differential_0;
    DiffPair_float_0 _S7503;
    (&_S7503)->primal_0 = _S7356;
    (&_S7503)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7503, _S7498);
    DiffPair_float_0 _S7504;
    (&_S7504)->primal_0 = 0.0f;
    (&_S7504)->differential_0 = 0.0f;
    DiffPair_float_0 _S7505;
    (&_S7505)->primal_0 = _S7354;
    (&_S7505)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7504, &_S7505, _S7503.differential_0);
    float _S7506 = _S7505.differential_0 / _S7355;
    float s_diff_det_blur_T_14 = det_orig_69 * - _S7506;
    float s_diff_det_orig_T_17 = det_blur_37 * _S7506;
    float _S7507 = - s_diff_det_blur_T_14;
    float _S7508 = _S7349 * s_diff_det_blur_T_14;
    float _S7509 = _S7351 * s_diff_det_blur_T_14;
    Matrix<float, 2, 2>  _S7510 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7511 = _S7510;
    _S7511[int(1)] = _S7496;
    _S7511[int(0)] = _S7497;
    float _S7512 = _S7509 + _S7511.rows[int(0)].x;
    float _S7513 = _S7507 + - s_diff_det_orig_T_17;
    float _S7514 = *&(((&_s_diff_ctx_39->_S7270)->rows + (int(0)))->y) * _S7513;
    float _S7515 = *&(((&_s_diff_ctx_39->_S7270)->rows + (int(1)))->x) * _S7513;
    float _S7516 = *&(((&_s_diff_ctx_39->_S7270)->rows + (int(1)))->y) * s_diff_det_orig_T_17;
    float _S7517 = _S7508 + _S7511.rows[int(1)].y + *&(((&_s_diff_ctx_39->_S7270)->rows + (int(0)))->x) * s_diff_det_orig_T_17;
    float2  _S7518 = make_float2 (0.0f);
    float2  _S7519 = _S7518;
    *&((&_S7519)->x) = _S7514;
    *&((&_S7519)->y) = _S7517;
    float _S7520 = _S7512 + _S7516;
    float2  _S7521 = _S7518;
    *&((&_S7521)->y) = _S7515;
    *&((&_S7521)->x) = _S7520;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7522;
    (&_S7522)->primal_0 = _S7325.primal_0;
    (&_S7522)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7523;
    (&_S7523)->primal_0 = _S7346;
    (&_S7523)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7522, &_S7523, _S7327);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7524;
    (&_S7524)->primal_0 = _S7325.primal_0;
    (&_S7524)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7525;
    (&_S7525)->primal_0 = _S7342;
    (&_S7525)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7524, &_S7525, _S7327);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7526;
    (&_S7526)->primal_0 = _S7325.primal_0;
    (&_S7526)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7527;
    (&_S7527)->primal_0 = _S7338;
    (&_S7527)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7526, &_S7527, _S7327);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7528;
    (&_S7528)->primal_0 = _S7325.primal_0;
    (&_S7528)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7529;
    (&_S7529)->primal_0 = _S7345;
    (&_S7529)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7528, &_S7529, _S7327);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7530;
    (&_S7530)->primal_0 = _S7325.primal_0;
    (&_S7530)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7531;
    (&_S7531)->primal_0 = _S7341;
    (&_S7531)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7530, &_S7531, _S7327);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7532;
    (&_S7532)->primal_0 = _S7325.primal_0;
    (&_S7532)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7533;
    (&_S7533)->primal_0 = _S7337;
    (&_S7533)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7532, &_S7533, _S7327);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7534;
    (&_S7534)->primal_0 = _S7325.primal_0;
    (&_S7534)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7535;
    (&_S7535)->primal_0 = _S7347.p_0[0U];
    (&_S7535)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7534, &_S7535, _S7327);
    float3  _S7536 = - _S7523.differential_0 + _S7529.differential_0;
    float3  _S7537 = _S7344 * _S7536;
    float3  _S7538 = _S7330.rows[2U] * _S7536;
    float _S7539 = _S7334 * (_S7538.x + _S7538.y + _S7538.z);
    float3  _S7540 = - _S7525.differential_0 + _S7531.differential_0;
    float3  _S7541 = _S7340 * _S7540;
    float3  _S7542 = _S7330.rows[1U] * _S7540;
    float _S7543 = _S7334 * (_S7542.x + _S7542.y + _S7542.z);
    float3  _S7544 = - _S7527.differential_0 + _S7533.differential_0;
    float3  _S7545 = _S7336 * _S7544;
    float3  _S7546 = _S7330.rows[0U] * _S7544;
    float _S7547 = _S7334 * (_S7546.x + _S7546.y + _S7546.z);
    Matrix<float, 3, 3>  _S7548 = _S7471;
    _S7548[2U] = _S7537;
    _S7548[1U] = _S7541;
    _S7548[0U] = _S7545;
    Matrix<float, 3, 3>  _S7549 = transpose_0(transpose_0(_S7548));
    float _S7550 = 2.0f * - _S7549.rows[int(2)].z;
    float _S7551 = 2.0f * _S7549.rows[int(2)].y;
    float _S7552 = 2.0f * _S7549.rows[int(2)].x;
    float _S7553 = 2.0f * _S7549.rows[int(1)].z;
    float _S7554 = 2.0f * - _S7549.rows[int(1)].y;
    float _S7555 = 2.0f * _S7549.rows[int(1)].x;
    float _S7556 = 2.0f * _S7549.rows[int(0)].z;
    float _S7557 = 2.0f * _S7549.rows[int(0)].y;
    float _S7558 = 2.0f * - _S7549.rows[int(0)].x;
    float _S7559 = - _S7555 + _S7557;
    float _S7560 = _S7552 + - _S7556;
    float _S7561 = - _S7551 + _S7553;
    float _S7562 = _S7551 + _S7553;
    float _S7563 = _S7552 + _S7556;
    float _S7564 = _S7555 + _S7557;
    float _S7565 = _S7321.primal_0.w * (_S7554 + _S7558);
    float _S7566 = _S7321.primal_0.z * (_S7550 + _S7558);
    float _S7567 = _S7321.primal_0.y * (_S7550 + _S7554);
    float _S7568 = _S7321.primal_0.x * _S7559 + _S7321.primal_0.z * _S7562 + _S7321.primal_0.y * _S7563 + _S7565 + _S7565;
    float _S7569 = _S7321.primal_0.x * _S7560 + _S7321.primal_0.w * _S7562 + _S7321.primal_0.y * _S7564 + _S7566 + _S7566;
    float _S7570 = _S7321.primal_0.x * _S7561 + _S7321.primal_0.w * _S7563 + _S7321.primal_0.z * _S7564 + _S7567 + _S7567;
    float _S7571 = _S7321.primal_0.w * _S7559 + _S7321.primal_0.z * _S7560 + _S7321.primal_0.y * _S7561;
    float3  _S7572 = _S7327;
    *&((&_S7572)->z) = _S7539;
    *&((&_S7572)->y) = _S7543;
    *&((&_S7572)->x) = _S7547;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7573;
    (&_S7573)->primal_0 = _S7322.primal_0;
    (&_S7573)->differential_0 = _S7327;
    s_bwd_prop_exp_1(&_S7573, _S7572);
    Matrix<float, 2, 2>  _S7574 = _S7510;
    _S7574[int(1)] = _S7519;
    _S7574[int(0)] = _S7521;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7575;
    (&_S7575)->primal_0 = _S7325.primal_0;
    (&_S7575)->differential_0 = _S7471;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7576;
    (&_S7576)->primal_0 = _S7320.primal_0;
    (&_S7576)->differential_0 = _S7327;
    s_bwd_prop_mul_1(&_S7575, &_S7576, _S7495);
    float3  _S7577 = _S7495 + _S7474.differential_0;
    dpt_26->primal_0 = (*dpt_26).primal_0;
    dpt_26->differential_0 = _S7577;
    Matrix<float, 3, 3>  _S7578 = _S7522.differential_0 + _S7524.differential_0 + _S7526.differential_0 + _S7528.differential_0 + _S7530.differential_0 + _S7532.differential_0 + _S7534.differential_0 + _S7575.differential_0 + _S7475;
    dpR_27->primal_0 = (*dpR_27).primal_0;
    dpR_27->differential_0 = _S7578;
    dpsv_colors_25->primal_0 = dpsv_colors_25->primal_0;
    dpsv_colors_25->differential_0 = _S7492;
    dpsv_sites_25->primal_0 = dpsv_sites_25->primal_0;
    dpsv_sites_25->differential_0 = _S7494;
    dpin_opacity_25->primal_0 = (*dpin_opacity_25).primal_0;
    dpin_opacity_25->differential_0 = _S7502;
    float3  _S7579 = _S7573.differential_0 + _S7477;
    dpscale_26->primal_0 = (*dpscale_26).primal_0;
    dpscale_26->differential_0 = _S7579;
    float4  _S7580 = make_float4 (0.0f);
    *&((&_S7580)->w) = _S7568;
    *&((&_S7580)->z) = _S7569;
    *&((&_S7580)->y) = _S7570;
    *&((&_S7580)->x) = _S7571;
    dpquat_26->primal_0 = (*dpquat_26).primal_0;
    dpquat_26->differential_0 = _S7580;
    float3  _S7581 = _S7523.differential_0 + _S7529.differential_0 + _S7525.differential_0 + _S7531.differential_0 + _S7527.differential_0 + _S7533.differential_0 + _S7576.differential_0 + _S7469;
    dpmean_27->primal_0 = (*dpmean_27).primal_0;
    dpmean_27->differential_0 = _S7581;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_persp_differentiable_6(bool _S7582, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7583, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7584, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7585, DiffPair_float_0 * _S7586, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7587, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7588, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7589, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7590, float _S7591, float _S7592, float _S7593, float _S7594, FixedArray<float, 10>  * _S7595, uint _S7596, uint _S7597, float _S7598, float _S7599, float2  _S7600, float _S7601, float3  _S7602, float _S7603, float3  _S7604)
{
    FixedArray<float3 , 8>  _S7605 = _S7587->primal_0;
    FixedArray<float3 , 8>  _S7606 = _S7588->primal_0;
    int4  _S7607;
    float2  _S7608;
    float _S7609;
    float3  _S7610;
    float _S7611;
    float3  _S7612;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S7613;
    s_primal_ctx_projection_3dgut_sv_persp_differentiable_6(_S7582, (*_S7583).primal_0, (*_S7584).primal_0, (*_S7585).primal_0, (*_S7586).primal_0, &_S7605, &_S7606, (*_S7589).primal_0, (*_S7590).primal_0, _S7591, _S7592, _S7593, _S7594, _S7595, _S7596, _S7597, _S7598, _S7599, &_S7607, &_S7608, &_S7609, &_S7610, &_S7611, &_S7612, &_S7613);
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_Intermediates_6 _S7614 = _S7613;
    s_bwd_prop_projection_3dgut_sv_persp_differentiable_6(_S7582, _S7583, _S7584, _S7585, _S7586, _S7587, _S7588, _S7589, _S7590, _S7591, _S7592, _S7593, _S7594, _S7595, _S7596, _S7597, _S7598, _S7599, _S7600, _S7601, _S7602, _S7603, _S7604, &_S7614);
    return;
}

inline __device__ void projection_3dgut_sv_persp_vjp(bool antialiased_81, float3  mean_60, float4  quat_61, float3  scale_60, float in_opacity_55, FixedArray<float3 , 8>  * sv_sites_40, FixedArray<float3 , 8>  * sv_colors_40, Matrix<float, 3, 3>  R_62, float3  t_58, float fx_90, float fy_90, float cx_85, float cy_85, FixedArray<float, 10>  * dist_coeffs_94, uint image_width_81, uint image_height_81, float2  v_mean2d_17, float v_depth_18, float3  v_conic_17, float v_opacity_19, float3  v_rgb_18, float3  * v_mean_19, float4  * v_quat_18, float3  * v_scale_18, float * v_in_opacity_17, FixedArray<float3 , 8>  * v_sv_dirs_12, FixedArray<float3 , 8>  * v_sv_colors_12, Matrix<float, 3, 3>  * v_R_19, float3  * v_t_18)
{
    float3  _S7615 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_14;
    (&dp_mean_14)->primal_0 = mean_60;
    (&dp_mean_14)->differential_0 = _S7615;
    float4  _S7616 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_13;
    (&dp_quat_13)->primal_0 = quat_61;
    (&dp_quat_13)->differential_0 = _S7616;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_13;
    (&dp_scale_13)->primal_0 = scale_60;
    (&dp_scale_13)->differential_0 = _S7615;
    DiffPair_float_0 dp_in_opacity_12;
    (&dp_in_opacity_12)->primal_0 = in_opacity_55;
    (&dp_in_opacity_12)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S7617 = { _S7615, _S7615, _S7615, _S7615, _S7615, _S7615, _S7615, _S7615 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_12;
    (&dp_sv_dirs_12)->primal_0 = *sv_sites_40;
    (&dp_sv_dirs_12)->differential_0 = _S7617;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_12;
    (&dp_sv_colors_12)->primal_0 = *sv_colors_40;
    (&dp_sv_colors_12)->differential_0 = _S7617;
    Matrix<float, 3, 3>  _S7618 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_14;
    (&dp_R_14)->primal_0 = R_62;
    (&dp_R_14)->differential_0 = _S7618;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_13;
    (&dp_t_13)->primal_0 = t_58;
    (&dp_t_13)->differential_0 = _S7615;
    s_bwd_projection_3dgut_sv_persp_differentiable_6(antialiased_81, &dp_mean_14, &dp_quat_13, &dp_scale_13, &dp_in_opacity_12, &dp_sv_dirs_12, &dp_sv_colors_12, &dp_R_14, &dp_t_13, fx_90, fy_90, cx_85, cy_85, dist_coeffs_94, image_width_81, image_height_81, 0.0f, 1.00000001504746622e+30f, v_mean2d_17, v_depth_18, v_conic_17, v_opacity_19, v_rgb_18);
    *v_mean_19 = dp_mean_14.differential_0;
    *v_quat_18 = dp_quat_13.differential_0;
    *v_scale_18 = dp_scale_13.differential_0;
    *v_in_opacity_17 = dp_in_opacity_12.differential_0;
    *v_sv_dirs_12 = (&dp_sv_dirs_12)->differential_0;
    *v_sv_colors_12 = (&dp_sv_colors_12)->differential_0;
    *v_R_19 = dp_R_14.differential_0;
    *v_t_18 = dp_t_13.differential_0;
    return;
}

struct s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6
{
    Matrix<float, 2, 2>  _S7619;
};

inline __device__ void s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_82, float3  dpmean_28, float4  dpquat_27, float3  dpscale_27, float dpin_opacity_26, FixedArray<float3 , 8>  * dpsv_sites_26, FixedArray<float3 , 8>  * dpsv_colors_26, Matrix<float, 3, 3>  dpR_28, float3  dpt_27, float fx_91, float fy_91, float cx_86, float cy_86, FixedArray<float, 10>  * dist_coeffs_95, uint image_width_82, uint image_height_82, float near_plane_64, float far_plane_64, int4  * aabb_xyxy_51, float2  * dpmean2d_28, float * dpdepth_27, float3  * dpconic_26, float * dpopacity_28, float3  * dprgb_27, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_40)
{
    Matrix<float, 2, 2>  _S7620 = makeMatrix<float, 2, 2> (0.0f);
    _s_diff_ctx_40->_S7619 = _S7620;
    float2  _S7621 = make_float2 (0.0f);
    float3  _S7622 = make_float3 (0.0f);
    float3  mean_c_69 = s_primal_ctx_mul_0(dpR_28, dpmean_28) + dpt_27;
    float _S7623 = length_1(mean_c_69);
    float4  intrins_55 = make_float4 (fx_91, fy_91, cx_86, cy_86);
    float3  _S7624 = s_primal_ctx_exp_0(dpscale_27);
    float _S7625 = dpquat_27.y;
    float x2_75 = _S7625 * _S7625;
    float y2_75 = dpquat_27.z * dpquat_27.z;
    float z2_90 = dpquat_27.w * dpquat_27.w;
    float xy_75 = dpquat_27.y * dpquat_27.z;
    float xz_75 = dpquat_27.y * dpquat_27.w;
    float yz_75 = dpquat_27.z * dpquat_27.w;
    float wx_75 = dpquat_27.x * dpquat_27.y;
    float wy_75 = dpquat_27.x * dpquat_27.z;
    float wz_75 = dpquat_27.x * dpquat_27.w;
    Matrix<float, 3, 3>  _S7626 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_75 + z2_90), 2.0f * (xy_75 + wz_75), 2.0f * (xz_75 - wy_75), 2.0f * (xy_75 - wz_75), 1.0f - 2.0f * (x2_75 + z2_90), 2.0f * (yz_75 + wx_75), 2.0f * (xz_75 + wy_75), 2.0f * (yz_75 - wx_75), 1.0f - 2.0f * (x2_75 + y2_75))));
    FixedArray<float3 , 7>  _S7627 = {
        _S7622, _S7622, _S7622, _S7622, _S7622, _S7622, _S7622
    };
    FixedArray<float, 7>  _S7628 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7629;
    (&_S7629)->p_0 = _S7627;
    (&_S7629)->w_mean_0 = _S7628;
    (&_S7629)->w_cov_0 = _S7628;
    (&_S7629)->p_0[int(0)] = dpmean_28;
    SigmaPoints_0 _S7630 = _S7629;
    (&_S7630)->w_mean_0[int(0)] = 0.0f;
    (&_S7630)->w_cov_0[int(0)] = 2.0f;
    float _S7631 = s_primal_ctx_sqrt_0(3.0f);
    float3  delta_180 = make_float3 (_S7631 * _S7624.x) * _S7626.rows[0U];
    float3  _S7632 = dpmean_28 + delta_180;
    float3  _S7633 = dpmean_28 - delta_180;
    float3  delta_181 = make_float3 (_S7631 * _S7624.y) * _S7626.rows[1U];
    float3  _S7634 = dpmean_28 + delta_181;
    float3  _S7635 = dpmean_28 - delta_181;
    float3  delta_182 = make_float3 (_S7631 * _S7624.z) * _S7626.rows[2U];
    float3  _S7636 = dpmean_28 + delta_182;
    float3  _S7637 = dpmean_28 - delta_182;
    (&_S7630)->w_mean_0[1U] = 0.1666666716337204f;
    (&_S7630)->w_cov_0[1U] = 0.1666666716337204f;
    (&_S7630)->w_mean_0[2U] = 0.1666666716337204f;
    (&_S7630)->w_cov_0[2U] = 0.1666666716337204f;
    (&_S7630)->w_mean_0[3U] = 0.1666666716337204f;
    (&_S7630)->w_cov_0[3U] = 0.1666666716337204f;
    (&_S7630)->w_mean_0[4U] = 0.1666666716337204f;
    (&_S7630)->w_cov_0[4U] = 0.1666666716337204f;
    (&_S7630)->w_mean_0[5U] = 0.1666666716337204f;
    (&_S7630)->w_cov_0[5U] = 0.1666666716337204f;
    (&_S7630)->w_mean_0[6U] = 0.1666666716337204f;
    (&_S7630)->w_cov_0[6U] = 0.1666666716337204f;
    (&_S7630)->p_0[0U] = s_primal_ctx_mul_0(dpR_28, _S7629.p_0[0U]) + dpt_27;
    (&_S7630)->p_0[1U] = s_primal_ctx_mul_0(dpR_28, _S7632) + dpt_27;
    (&_S7630)->p_0[2U] = s_primal_ctx_mul_0(dpR_28, _S7634) + dpt_27;
    (&_S7630)->p_0[3U] = s_primal_ctx_mul_0(dpR_28, _S7636) + dpt_27;
    (&_S7630)->p_0[4U] = s_primal_ctx_mul_0(dpR_28, _S7633) + dpt_27;
    (&_S7630)->p_0[5U] = s_primal_ctx_mul_0(dpR_28, _S7635) + dpt_27;
    (&_S7630)->p_0[6U] = s_primal_ctx_mul_0(dpR_28, _S7637) + dpt_27;
    float2  _S7638 = _S7621;
    Matrix<float, 2, 2>  _S7639 = _S7620;
    SigmaPoints_0 _S7640 = _S7630;
    bool _S7641 = fisheye_proj_3dgs_ut_1(&_S7640, intrins_55, dist_coeffs_95, &_S7639, &_S7638);
    _s_diff_ctx_40->_S7619 = _S7639;
    float2  _S7642 = _S7638;
    float _S7643 = _S7639.rows[int(0)].y * _S7639.rows[int(1)].x;
    float det_orig_70 = _S7639.rows[int(0)].x * _S7639.rows[int(1)].y - _S7643;
    float _S7644 = _S7639.rows[int(0)].x + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7645 = _S7639;
    *&(((&_S7645)->rows + (int(0)))->x) = _S7644;
    float _S7646 = _S7639.rows[int(1)].y + 0.30000001192092896f;
    *&(((&_S7645)->rows + (int(1)))->y) = _S7646;
    Matrix<float, 2, 2>  _S7647 = _S7645;
    Matrix<float, 2, 2>  _S7648 = _S7645;
    float _S7649 = s_primal_ctx_sqrt_0(s_primal_ctx_max_0(0.0f, det_orig_70 / (_S7644 * _S7646 - _S7643)));
    float _S7650 = 1.0f / (1.0f + s_primal_ctx_exp_1(- dpin_opacity_26));
    float _S7651;
    if(antialiased_82)
    {
        _S7651 = _S7650 * _S7649;
    }
    else
    {
        _S7651 = _S7650;
    }
    float _S7652 = s_primal_ctx_min_0(3.32999992370605469f, s_primal_ctx_sqrt_0(2.0f * s_primal_ctx_log_0(_S7651 / 0.00392156885936856f)));
    float radius_x_51 = _S7652 * s_primal_ctx_sqrt_0(_S7647.rows[int(0)].x);
    float radius_y_51 = _S7652 * s_primal_ctx_sqrt_0(_S7648.rows[int(1)].y);
    float _S7653 = _S7642.x;
    float _S7654 = _S7642.y;
    float _S7655 = mean_c_69.z;
    float _S7656 = s_primal_ctx_max_0(_S7655, 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f)) * (_S7655 + _S7623));
    float3  _S7657 = s_primal_ctx_exp_0(- dpscale_27);
    float3  _S7658 = dpmean_28 - - s_primal_ctx_mul_0(transpose_0(dpR_28), dpt_27);
    float3  _S7659 = _S7658 * make_float3 (s_primal_ctx_rsqrt_0(s_primal_ctx_dot_0(_S7658, _S7658)));
    float _S7660 = s_primal_ctx_dot_0((*dpsv_sites_26)[int(7)], _S7659);
    float _S7661 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(0)], _S7659) - _S7660);
    float _S7662 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(1)], _S7659) - _S7660);
    float _S7663 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(2)], _S7659) - _S7660);
    float _S7664 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(3)], _S7659) - _S7660);
    float _S7665 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(4)], _S7659) - _S7660);
    float _S7666 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(5)], _S7659) - _S7660);
    float _S7667 = s_primal_ctx_exp_1(s_primal_ctx_dot_0((*dpsv_sites_26)[int(6)], _S7659) - _S7660);
    float _S7668 = s_primal_ctx_exp_1(0.0f);
    float3  _S7669 = s_primal_ctx_max_1((make_float3 (_S7661) * (*dpsv_colors_26)[int(0)] + make_float3 (_S7662) * (*dpsv_colors_26)[int(1)] + make_float3 (_S7663) * (*dpsv_colors_26)[int(2)] + make_float3 (_S7664) * (*dpsv_colors_26)[int(3)] + make_float3 (_S7665) * (*dpsv_colors_26)[int(4)] + make_float3 (_S7666) * (*dpsv_colors_26)[int(5)] + make_float3 (_S7667) * (*dpsv_colors_26)[int(6)] + make_float3 (_S7668) * (*dpsv_colors_26)[int(7)]) / make_float3 (_S7661 + _S7662 + _S7663 + _S7664 + _S7665 + _S7666 + _S7667 + _S7668) + make_float3 (0.5f), make_float3 (0.0f));
    *aabb_xyxy_51 = make_int4 (int((F32_floor((_S7653 - radius_x_51)))), int((F32_floor((_S7654 - radius_y_51)))), int((F32_ceil((_S7653 + radius_x_51)))), int((F32_ceil((_S7654 + radius_y_51)))));
    *dpmean2d_28 = _S7642;
    *dpdepth_27 = _S7656;
    *dpconic_26 = _S7657;
    *dpopacity_28 = _S7651;
    *dprgb_27 = _S7669;
    return;
}

inline __device__ void s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(bool antialiased_83, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpmean_29, DiffPair_vectorx3Cfloatx2C4x3E_0 * dpquat_28, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpscale_28, DiffPair_float_0 * dpin_opacity_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_sites_27, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * dpsv_colors_27, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * dpR_29, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpt_28, float fx_92, float fy_92, float cx_87, float cy_87, FixedArray<float, 10>  * dist_coeffs_96, uint image_width_83, uint image_height_83, float near_plane_65, float far_plane_65, float2  dpmean2d_29, float dpdepth_28, float3  dpconic_27, float dpopacity_29, float3  dprgb_28, s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 * _s_diff_ctx_41)
{
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7670 = *dpmean_29;
    DiffPair_vectorx3Cfloatx2C4x3E_0 _S7671 = *dpquat_28;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7672 = *dpscale_28;
    FixedArray<float3 , 8>  _S7673 = dpsv_sites_27->primal_0;
    FixedArray<float3 , 8>  _S7674 = dpsv_colors_27->primal_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7675 = *dpR_29;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7676 = *dpt_28;
    float3  _S7677 = make_float3 (0.0f);
    float3  mean_c_70 = s_primal_ctx_mul_0((*dpR_29).primal_0, (*dpmean_29).primal_0) + (*dpt_28).primal_0;
    float _S7678 = length_1(mean_c_70);
    float3  _S7679 = s_primal_ctx_exp_0((*dpscale_28).primal_0);
    float _S7680 = (*dpquat_28).primal_0.y;
    float x2_76 = _S7680 * _S7680;
    float y2_76 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.z;
    float z2_91 = (*dpquat_28).primal_0.w * (*dpquat_28).primal_0.w;
    float xy_76 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.z;
    float xz_76 = (*dpquat_28).primal_0.y * (*dpquat_28).primal_0.w;
    float yz_76 = (*dpquat_28).primal_0.z * (*dpquat_28).primal_0.w;
    float wx_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.y;
    float wy_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.z;
    float wz_76 = (*dpquat_28).primal_0.x * (*dpquat_28).primal_0.w;
    Matrix<float, 3, 3>  _S7681 = transpose_0(transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_76 + z2_91), 2.0f * (xy_76 + wz_76), 2.0f * (xz_76 - wy_76), 2.0f * (xy_76 - wz_76), 1.0f - 2.0f * (x2_76 + z2_91), 2.0f * (yz_76 + wx_76), 2.0f * (xz_76 + wy_76), 2.0f * (yz_76 - wx_76), 1.0f - 2.0f * (x2_76 + y2_76))));
    FixedArray<float3 , 7>  _S7682 = {
        _S7677, _S7677, _S7677, _S7677, _S7677, _S7677, _S7677
    };
    FixedArray<float, 7>  _S7683 = {
        0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f
    };
    SigmaPoints_0 _S7684;
    (&_S7684)->p_0 = _S7682;
    (&_S7684)->w_mean_0 = _S7683;
    (&_S7684)->w_cov_0 = _S7683;
    (&_S7684)->p_0[int(0)] = (*dpmean_29).primal_0;
    float _S7685 = s_primal_ctx_sqrt_0(3.0f);
    float _S7686 = _S7685 * _S7679.x;
    float3  _S7687 = make_float3 (_S7686);
    float3  delta_183 = make_float3 (_S7686) * _S7681.rows[0U];
    float3  _S7688 = (*dpmean_29).primal_0 + delta_183;
    float3  _S7689 = (*dpmean_29).primal_0 - delta_183;
    float _S7690 = _S7685 * _S7679.y;
    float3  _S7691 = make_float3 (_S7690);
    float3  delta_184 = make_float3 (_S7690) * _S7681.rows[1U];
    float3  _S7692 = (*dpmean_29).primal_0 + delta_184;
    float3  _S7693 = (*dpmean_29).primal_0 - delta_184;
    float _S7694 = _S7685 * _S7679.z;
    float3  _S7695 = make_float3 (_S7694);
    float3  delta_185 = make_float3 (_S7694) * _S7681.rows[2U];
    float3  _S7696 = (*dpmean_29).primal_0 + delta_185;
    float3  _S7697 = (*dpmean_29).primal_0 - delta_185;
    SigmaPoints_0 _S7698 = _S7684;
    float _S7699 = *&(((&_s_diff_ctx_41->_S7619)->rows + (int(0)))->y) * *&(((&_s_diff_ctx_41->_S7619)->rows + (int(1)))->x);
    float det_orig_71 = *&(((&_s_diff_ctx_41->_S7619)->rows + (int(0)))->x) * *&(((&_s_diff_ctx_41->_S7619)->rows + (int(1)))->y) - _S7699;
    float _S7700 = *&(((&_s_diff_ctx_41->_S7619)->rows + (int(0)))->x) + 0.30000001192092896f;
    Matrix<float, 2, 2>  _S7701 = _s_diff_ctx_41->_S7619;
    *&(((&_S7701)->rows + (int(0)))->x) = _S7700;
    float _S7702 = *&(((&_s_diff_ctx_41->_S7619)->rows + (int(1)))->y) + 0.30000001192092896f;
    *&(((&_S7701)->rows + (int(1)))->y) = _S7702;
    Matrix<float, 2, 2>  _S7703 = _S7701;
    Matrix<float, 2, 2>  _S7704 = _S7701;
    float det_blur_38 = _S7700 * _S7702 - _S7699;
    float _S7705 = det_orig_71 / det_blur_38;
    float _S7706 = det_blur_38 * det_blur_38;
    float _S7707 = s_primal_ctx_max_0(0.0f, _S7705);
    float _S7708 = s_primal_ctx_sqrt_0(_S7707);
    float _S7709 = - (*dpin_opacity_27).primal_0;
    float _S7710 = 1.0f + s_primal_ctx_exp_1(_S7709);
    float _S7711 = 1.0f / _S7710;
    float _S7712 = _S7710 * _S7710;
    float _S7713;
    if(antialiased_83)
    {
        _S7713 = _S7711 * _S7708;
    }
    else
    {
        _S7713 = _S7711;
    }
    float _S7714 = _S7713 / 0.00392156885936856f;
    float _S7715 = 2.0f * s_primal_ctx_log_0(_S7714);
    float _S7716 = s_primal_ctx_sqrt_0(_S7715);
    float _S7717 = _S7703.rows[int(0)].x;
    float _S7718 = _S7704.rows[int(1)].y;
    float _S7719 = mean_c_70.z;
    float _S7720 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S7721 = _S7720 * (_S7719 + _S7678);
    float3  _S7722 = - _S7672.primal_0;
    Matrix<float, 3, 3>  _S7723 = transpose_0(_S7675.primal_0);
    float3  _S7724 = _S7670.primal_0 - - s_primal_ctx_mul_0(_S7723, _S7676.primal_0);
    float _S7725 = s_primal_ctx_dot_0(_S7724, _S7724);
    float _S7726 = s_primal_ctx_rsqrt_0(_S7725);
    float3  _S7727 = make_float3 (_S7726);
    float3  _S7728 = _S7724 * make_float3 (_S7726);
    float _S7729 = s_primal_ctx_dot_0(_S7673[int(7)], _S7728);
    float _S7730 = s_primal_ctx_dot_0(_S7673[int(0)], _S7728) - _S7729;
    float _S7731 = s_primal_ctx_exp_1(_S7730);
    float3  _S7732 = make_float3 (_S7731);
    float _S7733 = s_primal_ctx_dot_0(_S7673[int(1)], _S7728) - _S7729;
    float _S7734 = s_primal_ctx_exp_1(_S7733);
    float3  _S7735 = make_float3 (_S7734);
    float _S7736 = s_primal_ctx_dot_0(_S7673[int(2)], _S7728) - _S7729;
    float _S7737 = s_primal_ctx_exp_1(_S7736);
    float3  _S7738 = make_float3 (_S7737);
    float _S7739 = s_primal_ctx_dot_0(_S7673[int(3)], _S7728) - _S7729;
    float _S7740 = s_primal_ctx_exp_1(_S7739);
    float3  _S7741 = make_float3 (_S7740);
    float _S7742 = s_primal_ctx_dot_0(_S7673[int(4)], _S7728) - _S7729;
    float _S7743 = s_primal_ctx_exp_1(_S7742);
    float3  _S7744 = make_float3 (_S7743);
    float _S7745 = s_primal_ctx_dot_0(_S7673[int(5)], _S7728) - _S7729;
    float _S7746 = s_primal_ctx_exp_1(_S7745);
    float3  _S7747 = make_float3 (_S7746);
    float _S7748 = s_primal_ctx_dot_0(_S7673[int(6)], _S7728) - _S7729;
    float _S7749 = s_primal_ctx_exp_1(_S7748);
    float3  _S7750 = make_float3 (_S7749);
    float _S7751 = s_primal_ctx_exp_1(0.0f);
    float3  _S7752 = make_float3 (_S7751);
    float total_w_13 = _S7731 + _S7734 + _S7737 + _S7740 + _S7743 + _S7746 + _S7749 + _S7751;
    float3  _S7753 = make_float3 (total_w_13);
    float3  total_c_13 = make_float3 (_S7731) * _S7674[int(0)] + make_float3 (_S7734) * _S7674[int(1)] + make_float3 (_S7737) * _S7674[int(2)] + make_float3 (_S7740) * _S7674[int(3)] + make_float3 (_S7743) * _S7674[int(4)] + make_float3 (_S7746) * _S7674[int(5)] + make_float3 (_S7749) * _S7674[int(6)] + make_float3 (_S7751) * _S7674[int(7)];
    float3  _S7754 = make_float3 (total_w_13 * total_w_13);
    float3  _S7755 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7756;
    (&_S7756)->primal_0 = total_c_13 / make_float3 (total_w_13) + make_float3 (0.5f);
    (&_S7756)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7757;
    (&_S7757)->primal_0 = _S7755;
    (&_S7757)->differential_0 = _S7677;
    s_bwd_prop_max_0(&_S7756, &_S7757, dprgb_28);
    float3  _S7758 = _S7756.differential_0 / _S7754;
    float3  _S7759 = total_c_13 * - _S7758;
    float3  s_diff_total_c_T_13 = _S7753 * _S7758;
    float3  _S7760 = _S7752 * s_diff_total_c_T_13;
    float _S7761 = _S7759.x + _S7759.y + _S7759.z;
    float3  _S7762 = _S7750 * s_diff_total_c_T_13;
    float3  _S7763 = _S7674[int(6)] * s_diff_total_c_T_13;
    float _S7764 = _S7761 + _S7763.x + _S7763.y + _S7763.z;
    DiffPair_float_0 _S7765;
    (&_S7765)->primal_0 = _S7748;
    (&_S7765)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7765, _S7764);
    float _S7766 = - _S7765.differential_0;
    float3  _S7767 = _S7747 * s_diff_total_c_T_13;
    float3  _S7768 = _S7674[int(5)] * s_diff_total_c_T_13;
    float _S7769 = _S7761 + _S7768.x + _S7768.y + _S7768.z;
    DiffPair_float_0 _S7770;
    (&_S7770)->primal_0 = _S7745;
    (&_S7770)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7770, _S7769);
    float _S7771 = - _S7770.differential_0;
    float3  _S7772 = _S7744 * s_diff_total_c_T_13;
    float3  _S7773 = _S7674[int(4)] * s_diff_total_c_T_13;
    float _S7774 = _S7761 + _S7773.x + _S7773.y + _S7773.z;
    DiffPair_float_0 _S7775;
    (&_S7775)->primal_0 = _S7742;
    (&_S7775)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7775, _S7774);
    float _S7776 = - _S7775.differential_0;
    float3  _S7777 = _S7741 * s_diff_total_c_T_13;
    float3  _S7778 = _S7674[int(3)] * s_diff_total_c_T_13;
    float _S7779 = _S7761 + _S7778.x + _S7778.y + _S7778.z;
    DiffPair_float_0 _S7780;
    (&_S7780)->primal_0 = _S7739;
    (&_S7780)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7780, _S7779);
    float _S7781 = - _S7780.differential_0;
    float3  _S7782 = _S7738 * s_diff_total_c_T_13;
    float3  _S7783 = _S7674[int(2)] * s_diff_total_c_T_13;
    float _S7784 = _S7761 + _S7783.x + _S7783.y + _S7783.z;
    DiffPair_float_0 _S7785;
    (&_S7785)->primal_0 = _S7736;
    (&_S7785)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7785, _S7784);
    float _S7786 = - _S7785.differential_0;
    float3  _S7787 = _S7735 * s_diff_total_c_T_13;
    float3  _S7788 = _S7674[int(1)] * s_diff_total_c_T_13;
    float _S7789 = _S7761 + _S7788.x + _S7788.y + _S7788.z;
    DiffPair_float_0 _S7790;
    (&_S7790)->primal_0 = _S7733;
    (&_S7790)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7790, _S7789);
    float _S7791 = - _S7790.differential_0;
    float3  _S7792 = _S7732 * s_diff_total_c_T_13;
    float3  _S7793 = _S7674[int(0)] * s_diff_total_c_T_13;
    float _S7794 = _S7761 + _S7793.x + _S7793.y + _S7793.z;
    DiffPair_float_0 _S7795;
    (&_S7795)->primal_0 = _S7730;
    (&_S7795)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7795, _S7794);
    float _S7796 = _S7766 + _S7771 + _S7776 + _S7781 + _S7786 + _S7791 + - _S7795.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7797;
    (&_S7797)->primal_0 = _S7673[int(7)];
    (&_S7797)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7798;
    (&_S7798)->primal_0 = _S7728;
    (&_S7798)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7797, &_S7798, _S7796);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7799;
    (&_S7799)->primal_0 = _S7673[int(6)];
    (&_S7799)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7800;
    (&_S7800)->primal_0 = _S7728;
    (&_S7800)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7799, &_S7800, _S7765.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7801;
    (&_S7801)->primal_0 = _S7673[int(5)];
    (&_S7801)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7802;
    (&_S7802)->primal_0 = _S7728;
    (&_S7802)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7801, &_S7802, _S7770.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7803;
    (&_S7803)->primal_0 = _S7673[int(4)];
    (&_S7803)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7804;
    (&_S7804)->primal_0 = _S7728;
    (&_S7804)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7803, &_S7804, _S7775.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7805;
    (&_S7805)->primal_0 = _S7673[int(3)];
    (&_S7805)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7806;
    (&_S7806)->primal_0 = _S7728;
    (&_S7806)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7805, &_S7806, _S7780.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7807;
    (&_S7807)->primal_0 = _S7673[int(2)];
    (&_S7807)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7808;
    (&_S7808)->primal_0 = _S7728;
    (&_S7808)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7807, &_S7808, _S7785.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7809;
    (&_S7809)->primal_0 = _S7673[int(1)];
    (&_S7809)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7810;
    (&_S7810)->primal_0 = _S7728;
    (&_S7810)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7809, &_S7810, _S7790.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7811;
    (&_S7811)->primal_0 = _S7673[int(0)];
    (&_S7811)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7812;
    (&_S7812)->primal_0 = _S7728;
    (&_S7812)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7811, &_S7812, _S7795.differential_0);
    float3  _S7813 = _S7798.differential_0 + _S7800.differential_0 + _S7802.differential_0 + _S7804.differential_0 + _S7806.differential_0 + _S7808.differential_0 + _S7810.differential_0 + _S7812.differential_0;
    float3  _S7814 = _S7724 * _S7813;
    float3  _S7815 = _S7727 * _S7813;
    float _S7816 = _S7814.x + _S7814.y + _S7814.z;
    DiffPair_float_0 _S7817;
    (&_S7817)->primal_0 = _S7725;
    (&_S7817)->differential_0 = 0.0f;
    s_bwd_prop_rsqrt_0(&_S7817, _S7816);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7818;
    (&_S7818)->primal_0 = _S7724;
    (&_S7818)->differential_0 = _S7677;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7819;
    (&_S7819)->primal_0 = _S7724;
    (&_S7819)->differential_0 = _S7677;
    s_bwd_prop_dot_0(&_S7818, &_S7819, _S7817.differential_0);
    float3  _S7820 = _S7815 + _S7819.differential_0 + _S7818.differential_0;
    float3  _S7821 = - - _S7820;
    Matrix<float, 3, 3>  _S7822 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7823;
    (&_S7823)->primal_0 = _S7723;
    (&_S7823)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7824;
    (&_S7824)->primal_0 = _S7676.primal_0;
    (&_S7824)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7823, &_S7824, _S7821);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7825 = _S7824;
    Matrix<float, 3, 3>  _S7826 = transpose_0(_S7823.differential_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7827;
    (&_S7827)->primal_0 = _S7722;
    (&_S7827)->differential_0 = _S7677;
    s_bwd_prop_exp_1(&_S7827, dpconic_27);
    float3  _S7828 = - _S7827.differential_0;
    DiffPair_float_0 _S7829;
    (&_S7829)->primal_0 = _S7719;
    (&_S7829)->differential_0 = 0.0f;
    DiffPair_float_0 _S7830;
    (&_S7830)->primal_0 = _S7721;
    (&_S7830)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7829, &_S7830, dpdepth_28);
    float _S7831 = _S7720 * _S7830.differential_0;
    float _S7832 = _S7829.differential_0 + _S7831;
    DiffPair_float_0 _S7833;
    (&_S7833)->primal_0 = _S7718;
    (&_S7833)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7833, 0.0f);
    DiffPair_float_0 _S7834;
    (&_S7834)->primal_0 = _S7717;
    (&_S7834)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7834, 0.0f);
    DiffPair_float_0 _S7835;
    (&_S7835)->primal_0 = 3.32999992370605469f;
    (&_S7835)->differential_0 = 0.0f;
    DiffPair_float_0 _S7836;
    (&_S7836)->primal_0 = _S7716;
    (&_S7836)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S7835, &_S7836, 0.0f);
    DiffPair_float_0 _S7837;
    (&_S7837)->primal_0 = _S7715;
    (&_S7837)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7837, _S7836.differential_0);
    float _S7838 = 2.0f * _S7837.differential_0;
    DiffPair_float_0 _S7839;
    (&_S7839)->primal_0 = _S7714;
    (&_S7839)->differential_0 = 0.0f;
    s_bwd_prop_log_0(&_S7839, _S7838);
    float _S7840 = dpopacity_29 + 254.9999847412109375f * _S7839.differential_0;
    FixedArray<float3 , 8>  _S7841;
    _S7841[int(0)] = _S7677;
    _S7841[int(1)] = _S7677;
    _S7841[int(2)] = _S7677;
    _S7841[int(3)] = _S7677;
    _S7841[int(4)] = _S7677;
    _S7841[int(5)] = _S7677;
    _S7841[int(6)] = _S7677;
    _S7841[int(7)] = _S7677;
    _S7841[int(7)] = _S7760;
    _S7841[int(6)] = _S7762;
    _S7841[int(5)] = _S7767;
    _S7841[int(4)] = _S7772;
    _S7841[int(3)] = _S7777;
    _S7841[int(2)] = _S7782;
    _S7841[int(1)] = _S7787;
    _S7841[int(0)] = _S7792;
    FixedArray<float3 , 8>  _S7842 = {
        _S7841[int(0)], _S7841[int(1)], _S7841[int(2)], _S7841[int(3)], _S7841[int(4)], _S7841[int(5)], _S7841[int(6)], _S7841[int(7)]
    };
    FixedArray<float3 , 8>  _S7843;
    _S7843[int(0)] = _S7677;
    _S7843[int(1)] = _S7677;
    _S7843[int(2)] = _S7677;
    _S7843[int(3)] = _S7677;
    _S7843[int(4)] = _S7677;
    _S7843[int(5)] = _S7677;
    _S7843[int(6)] = _S7677;
    _S7843[int(7)] = _S7677;
    _S7843[int(7)] = _S7797.differential_0;
    _S7843[int(6)] = _S7799.differential_0;
    _S7843[int(5)] = _S7801.differential_0;
    _S7843[int(4)] = _S7803.differential_0;
    _S7843[int(3)] = _S7805.differential_0;
    _S7843[int(2)] = _S7807.differential_0;
    _S7843[int(1)] = _S7809.differential_0;
    _S7843[int(0)] = _S7811.differential_0;
    FixedArray<float3 , 8>  _S7844 = {
        _S7843[int(0)], _S7843[int(1)], _S7843[int(2)], _S7843[int(3)], _S7843[int(4)], _S7843[int(5)], _S7843[int(6)], _S7843[int(7)]
    };
    float3  _S7845 = make_float3 (0.0f, 0.0f, _S7832);
    float2  _S7846 = make_float2 (0.0f, _S7833.differential_0);
    float2  _S7847 = make_float2 (_S7834.differential_0, 0.0f);
    float _S7848;
    if(antialiased_83)
    {
        float _S7849 = _S7711 * _S7840;
        _S7713 = _S7708 * _S7840;
        _S7848 = _S7849;
    }
    else
    {
        _S7713 = _S7840;
        _S7848 = 0.0f;
    }
    float _S7850 = - (_S7713 / _S7712);
    DiffPair_float_0 _S7851;
    (&_S7851)->primal_0 = _S7709;
    (&_S7851)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S7851, _S7850);
    float _S7852 = - _S7851.differential_0;
    DiffPair_float_0 _S7853;
    (&_S7853)->primal_0 = _S7707;
    (&_S7853)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S7853, _S7848);
    DiffPair_float_0 _S7854;
    (&_S7854)->primal_0 = 0.0f;
    (&_S7854)->differential_0 = 0.0f;
    DiffPair_float_0 _S7855;
    (&_S7855)->primal_0 = _S7705;
    (&_S7855)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S7854, &_S7855, _S7853.differential_0);
    float _S7856 = _S7855.differential_0 / _S7706;
    float s_diff_det_blur_T_15 = det_orig_71 * - _S7856;
    float s_diff_det_orig_T_18 = det_blur_38 * _S7856;
    float _S7857 = - s_diff_det_blur_T_15;
    float _S7858 = _S7700 * s_diff_det_blur_T_15;
    float _S7859 = _S7702 * s_diff_det_blur_T_15;
    Matrix<float, 2, 2>  _S7860 = makeMatrix<float, 2, 2> (0.0f);
    Matrix<float, 2, 2>  _S7861 = _S7860;
    _S7861[int(1)] = _S7846;
    _S7861[int(0)] = _S7847;
    float _S7862 = _S7859 + _S7861.rows[int(0)].x;
    float _S7863 = _S7857 + - s_diff_det_orig_T_18;
    float _S7864 = *&(((&_s_diff_ctx_41->_S7619)->rows + (int(0)))->y) * _S7863;
    float _S7865 = *&(((&_s_diff_ctx_41->_S7619)->rows + (int(1)))->x) * _S7863;
    float _S7866 = *&(((&_s_diff_ctx_41->_S7619)->rows + (int(1)))->y) * s_diff_det_orig_T_18;
    float _S7867 = _S7858 + _S7861.rows[int(1)].y + *&(((&_s_diff_ctx_41->_S7619)->rows + (int(0)))->x) * s_diff_det_orig_T_18;
    float2  _S7868 = make_float2 (0.0f);
    float2  _S7869 = _S7868;
    *&((&_S7869)->x) = _S7864;
    *&((&_S7869)->y) = _S7867;
    float _S7870 = _S7862 + _S7866;
    float2  _S7871 = _S7868;
    *&((&_S7871)->y) = _S7865;
    *&((&_S7871)->x) = _S7870;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7872;
    (&_S7872)->primal_0 = _S7675.primal_0;
    (&_S7872)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7873;
    (&_S7873)->primal_0 = _S7697;
    (&_S7873)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7872, &_S7873, _S7677);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7874;
    (&_S7874)->primal_0 = _S7675.primal_0;
    (&_S7874)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7875;
    (&_S7875)->primal_0 = _S7693;
    (&_S7875)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7874, &_S7875, _S7677);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7876;
    (&_S7876)->primal_0 = _S7675.primal_0;
    (&_S7876)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7877;
    (&_S7877)->primal_0 = _S7689;
    (&_S7877)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7876, &_S7877, _S7677);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7878;
    (&_S7878)->primal_0 = _S7675.primal_0;
    (&_S7878)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7879;
    (&_S7879)->primal_0 = _S7696;
    (&_S7879)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7878, &_S7879, _S7677);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7880;
    (&_S7880)->primal_0 = _S7675.primal_0;
    (&_S7880)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7881;
    (&_S7881)->primal_0 = _S7692;
    (&_S7881)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7880, &_S7881, _S7677);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7882;
    (&_S7882)->primal_0 = _S7675.primal_0;
    (&_S7882)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7883;
    (&_S7883)->primal_0 = _S7688;
    (&_S7883)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7882, &_S7883, _S7677);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7884;
    (&_S7884)->primal_0 = _S7675.primal_0;
    (&_S7884)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7885;
    (&_S7885)->primal_0 = _S7698.p_0[0U];
    (&_S7885)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7884, &_S7885, _S7677);
    float3  _S7886 = - _S7873.differential_0 + _S7879.differential_0;
    float3  _S7887 = _S7695 * _S7886;
    float3  _S7888 = _S7681.rows[2U] * _S7886;
    float _S7889 = _S7685 * (_S7888.x + _S7888.y + _S7888.z);
    float3  _S7890 = - _S7875.differential_0 + _S7881.differential_0;
    float3  _S7891 = _S7691 * _S7890;
    float3  _S7892 = _S7681.rows[1U] * _S7890;
    float _S7893 = _S7685 * (_S7892.x + _S7892.y + _S7892.z);
    float3  _S7894 = - _S7877.differential_0 + _S7883.differential_0;
    float3  _S7895 = _S7687 * _S7894;
    float3  _S7896 = _S7681.rows[0U] * _S7894;
    float _S7897 = _S7685 * (_S7896.x + _S7896.y + _S7896.z);
    Matrix<float, 3, 3>  _S7898 = _S7822;
    _S7898[2U] = _S7887;
    _S7898[1U] = _S7891;
    _S7898[0U] = _S7895;
    Matrix<float, 3, 3>  _S7899 = transpose_0(transpose_0(_S7898));
    float _S7900 = 2.0f * - _S7899.rows[int(2)].z;
    float _S7901 = 2.0f * _S7899.rows[int(2)].y;
    float _S7902 = 2.0f * _S7899.rows[int(2)].x;
    float _S7903 = 2.0f * _S7899.rows[int(1)].z;
    float _S7904 = 2.0f * - _S7899.rows[int(1)].y;
    float _S7905 = 2.0f * _S7899.rows[int(1)].x;
    float _S7906 = 2.0f * _S7899.rows[int(0)].z;
    float _S7907 = 2.0f * _S7899.rows[int(0)].y;
    float _S7908 = 2.0f * - _S7899.rows[int(0)].x;
    float _S7909 = - _S7905 + _S7907;
    float _S7910 = _S7902 + - _S7906;
    float _S7911 = - _S7901 + _S7903;
    float _S7912 = _S7901 + _S7903;
    float _S7913 = _S7902 + _S7906;
    float _S7914 = _S7905 + _S7907;
    float _S7915 = _S7671.primal_0.w * (_S7904 + _S7908);
    float _S7916 = _S7671.primal_0.z * (_S7900 + _S7908);
    float _S7917 = _S7671.primal_0.y * (_S7900 + _S7904);
    float _S7918 = _S7671.primal_0.x * _S7909 + _S7671.primal_0.z * _S7912 + _S7671.primal_0.y * _S7913 + _S7915 + _S7915;
    float _S7919 = _S7671.primal_0.x * _S7910 + _S7671.primal_0.w * _S7912 + _S7671.primal_0.y * _S7914 + _S7916 + _S7916;
    float _S7920 = _S7671.primal_0.x * _S7911 + _S7671.primal_0.w * _S7913 + _S7671.primal_0.z * _S7914 + _S7917 + _S7917;
    float _S7921 = _S7671.primal_0.w * _S7909 + _S7671.primal_0.z * _S7910 + _S7671.primal_0.y * _S7911;
    float3  _S7922 = _S7677;
    *&((&_S7922)->z) = _S7889;
    *&((&_S7922)->y) = _S7893;
    *&((&_S7922)->x) = _S7897;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7923;
    (&_S7923)->primal_0 = _S7672.primal_0;
    (&_S7923)->differential_0 = _S7677;
    s_bwd_prop_exp_1(&_S7923, _S7922);
    Matrix<float, 2, 2>  _S7924 = _S7860;
    _S7924[int(1)] = _S7869;
    _S7924[int(0)] = _S7871;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7925;
    (&_S7925)->primal_0 = mean_c_70;
    (&_S7925)->differential_0 = _S7677;
    s_bwd_length_impl_1(&_S7925, _S7831);
    float3  _S7926 = _S7925.differential_0 + _S7845;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S7927;
    (&_S7927)->primal_0 = _S7675.primal_0;
    (&_S7927)->differential_0 = _S7822;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S7928;
    (&_S7928)->primal_0 = _S7670.primal_0;
    (&_S7928)->differential_0 = _S7677;
    s_bwd_prop_mul_1(&_S7927, &_S7928, _S7926);
    float3  _S7929 = _S7926 + _S7825.differential_0;
    dpt_28->primal_0 = (*dpt_28).primal_0;
    dpt_28->differential_0 = _S7929;
    Matrix<float, 3, 3>  _S7930 = _S7872.differential_0 + _S7874.differential_0 + _S7876.differential_0 + _S7878.differential_0 + _S7880.differential_0 + _S7882.differential_0 + _S7884.differential_0 + _S7927.differential_0 + _S7826;
    dpR_29->primal_0 = (*dpR_29).primal_0;
    dpR_29->differential_0 = _S7930;
    dpsv_colors_27->primal_0 = dpsv_colors_27->primal_0;
    dpsv_colors_27->differential_0 = _S7842;
    dpsv_sites_27->primal_0 = dpsv_sites_27->primal_0;
    dpsv_sites_27->differential_0 = _S7844;
    dpin_opacity_27->primal_0 = (*dpin_opacity_27).primal_0;
    dpin_opacity_27->differential_0 = _S7852;
    float3  _S7931 = _S7923.differential_0 + _S7828;
    dpscale_28->primal_0 = (*dpscale_28).primal_0;
    dpscale_28->differential_0 = _S7931;
    float4  _S7932 = make_float4 (0.0f);
    *&((&_S7932)->w) = _S7918;
    *&((&_S7932)->z) = _S7919;
    *&((&_S7932)->y) = _S7920;
    *&((&_S7932)->x) = _S7921;
    dpquat_28->primal_0 = (*dpquat_28).primal_0;
    dpquat_28->differential_0 = _S7932;
    float3  _S7933 = _S7873.differential_0 + _S7879.differential_0 + _S7875.differential_0 + _S7881.differential_0 + _S7877.differential_0 + _S7883.differential_0 + _S7928.differential_0 + _S7820;
    dpmean_29->primal_0 = (*dpmean_29).primal_0;
    dpmean_29->differential_0 = _S7933;
    return;
}

inline __device__ void s_bwd_projection_3dgut_sv_fisheye_differentiable_6(bool _S7934, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7935, DiffPair_vectorx3Cfloatx2C4x3E_0 * _S7936, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7937, DiffPair_float_0 * _S7938, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7939, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 * _S7940, DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 * _S7941, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S7942, float _S7943, float _S7944, float _S7945, float _S7946, FixedArray<float, 10>  * _S7947, uint _S7948, uint _S7949, float _S7950, float _S7951, float2  _S7952, float _S7953, float3  _S7954, float _S7955, float3  _S7956)
{
    FixedArray<float3 , 8>  _S7957 = _S7939->primal_0;
    FixedArray<float3 , 8>  _S7958 = _S7940->primal_0;
    int4  _S7959;
    float2  _S7960;
    float _S7961;
    float3  _S7962;
    float _S7963;
    float3  _S7964;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S7965;
    s_primal_ctx_projection_3dgut_sv_fisheye_differentiable_6(_S7934, (*_S7935).primal_0, (*_S7936).primal_0, (*_S7937).primal_0, (*_S7938).primal_0, &_S7957, &_S7958, (*_S7941).primal_0, (*_S7942).primal_0, _S7943, _S7944, _S7945, _S7946, _S7947, _S7948, _S7949, _S7950, _S7951, &_S7959, &_S7960, &_S7961, &_S7962, &_S7963, &_S7964, &_S7965);
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_Intermediates_6 _S7966 = _S7965;
    s_bwd_prop_projection_3dgut_sv_fisheye_differentiable_6(_S7934, _S7935, _S7936, _S7937, _S7938, _S7939, _S7940, _S7941, _S7942, _S7943, _S7944, _S7945, _S7946, _S7947, _S7948, _S7949, _S7950, _S7951, _S7952, _S7953, _S7954, _S7955, _S7956, &_S7966);
    return;
}

inline __device__ void projection_3dgut_sv_fisheye_vjp(bool antialiased_84, float3  mean_61, float4  quat_62, float3  scale_61, float in_opacity_56, FixedArray<float3 , 8>  * sv_sites_41, FixedArray<float3 , 8>  * sv_colors_41, Matrix<float, 3, 3>  R_63, float3  t_59, float fx_93, float fy_93, float cx_88, float cy_88, FixedArray<float, 10>  * dist_coeffs_97, uint image_width_84, uint image_height_84, float2  v_mean2d_18, float v_depth_19, float3  v_conic_18, float v_opacity_20, float3  v_rgb_19, float3  * v_mean_20, float4  * v_quat_19, float3  * v_scale_19, float * v_in_opacity_18, FixedArray<float3 , 8>  * v_sv_dirs_13, FixedArray<float3 , 8>  * v_sv_colors_13, Matrix<float, 3, 3>  * v_R_20, float3  * v_t_19)
{
    float3  _S7967 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_mean_15;
    (&dp_mean_15)->primal_0 = mean_61;
    (&dp_mean_15)->differential_0 = _S7967;
    float4  _S7968 = make_float4 (0.0f);
    DiffPair_vectorx3Cfloatx2C4x3E_0 dp_quat_14;
    (&dp_quat_14)->primal_0 = quat_62;
    (&dp_quat_14)->differential_0 = _S7968;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_scale_14;
    (&dp_scale_14)->primal_0 = scale_61;
    (&dp_scale_14)->differential_0 = _S7967;
    DiffPair_float_0 dp_in_opacity_13;
    (&dp_in_opacity_13)->primal_0 = in_opacity_56;
    (&dp_in_opacity_13)->differential_0 = 0.0f;
    FixedArray<float3 , 8>  _S7969 = { _S7967, _S7967, _S7967, _S7967, _S7967, _S7967, _S7967, _S7967 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_dirs_13;
    (&dp_sv_dirs_13)->primal_0 = *sv_sites_41;
    (&dp_sv_dirs_13)->differential_0 = _S7969;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C8x3E_0 dp_sv_colors_13;
    (&dp_sv_colors_13)->primal_0 = *sv_colors_41;
    (&dp_sv_colors_13)->differential_0 = _S7969;
    Matrix<float, 3, 3>  _S7970 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 dp_R_15;
    (&dp_R_15)->primal_0 = R_63;
    (&dp_R_15)->differential_0 = _S7970;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_t_14;
    (&dp_t_14)->primal_0 = t_59;
    (&dp_t_14)->differential_0 = _S7967;
    s_bwd_projection_3dgut_sv_fisheye_differentiable_6(antialiased_84, &dp_mean_15, &dp_quat_14, &dp_scale_14, &dp_in_opacity_13, &dp_sv_dirs_13, &dp_sv_colors_13, &dp_R_15, &dp_t_14, fx_93, fy_93, cx_88, cy_88, dist_coeffs_97, image_width_84, image_height_84, 0.0f, 1.00000001504746622e+30f, v_mean2d_18, v_depth_19, v_conic_18, v_opacity_20, v_rgb_19);
    *v_mean_20 = dp_mean_15.differential_0;
    *v_quat_19 = dp_quat_14.differential_0;
    *v_scale_19 = dp_scale_14.differential_0;
    *v_in_opacity_18 = dp_in_opacity_13.differential_0;
    *v_sv_dirs_13 = (&dp_sv_dirs_13)->differential_0;
    *v_sv_colors_13 = (&dp_sv_colors_13)->differential_0;
    *v_R_20 = dp_R_15.differential_0;
    *v_t_19 = dp_t_14.differential_0;
    return;
}

inline __device__ void _d_abs_0(DiffPair_float_0 * dpx_13, float dOut_17)
{
    float _S7971 = _slang_select(((*dpx_13).primal_0) > 0.0f, 1.0f,_slang_select(((*dpx_13).primal_0) == 0.0f, 0.0f,-1.0f)) * dOut_17;
    dpx_13->primal_0 = (*dpx_13).primal_0;
    dpx_13->differential_0 = _S7971;
    return;
}

inline __device__ void _d_exp2_0(DiffPair_float_0 * dpx_14, float dOut_18)
{
    float _S7972 = (F32_exp2(((*dpx_14).primal_0))) * 0.693145751953125f * dOut_18;
    dpx_14->primal_0 = (*dpx_14).primal_0;
    dpx_14->differential_0 = _S7972;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp(float3  mean_62, float4  quat_63, float3  scale_62, float2  hardness_0, FixedArray<float3 , 16>  * sh_coeffs_15, FixedArray<float3 , 2>  * ch_coeffs_0, Matrix<float, 3, 3>  R_64, float3  t_60, float fx_94, float fy_94, float cx_89, float cy_89, FixedArray<float, 10>  * dist_coeffs_98, uint image_width_85, uint image_height_85, float near_plane_66, float far_plane_66, int4  * aabb_xyxy_52, float * depth_39, FixedArray<float3 , 3>  * verts_0, FixedArray<float3 , 3>  * rgbs_0, float3  * normal_0)
{
    for(;;)
    {
        float3  mean_c_71 = mul_0(R_64, mean_62) + t_60;
        float _S7973 = mean_c_71.z;
        bool _S7974;
        if(_S7973 < near_plane_66)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = _S7973 > far_plane_66;
        }
        if(_S7974)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S7975 = scale_62.x;
        float sx_1 = (F32_exp((_S7975)));
        float _S7976 = scale_62.y;
        float sy_1 = (F32_exp((_S7976)));
        float sz_1 = scale_62.z - 0.5f * (_S7975 + _S7976);
        float x_69 = quat_63.y;
        float x2_77 = x_69 * x_69;
        float y2_77 = quat_63.z * quat_63.z;
        float z2_92 = quat_63.w * quat_63.w;
        float xy_77 = quat_63.y * quat_63.z;
        float xz_77 = quat_63.y * quat_63.w;
        float yz_77 = quat_63.z * quat_63.w;
        float wx_77 = quat_63.x * quat_63.y;
        float wy_77 = quat_63.x * quat_63.z;
        float wz_77 = quat_63.x * quat_63.w;
        Matrix<float, 3, 3>  _S7977 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_77 + z2_92), 2.0f * (xy_77 + wz_77), 2.0f * (xz_77 - wy_77), 2.0f * (xy_77 - wz_77), 1.0f - 2.0f * (x2_77 + z2_92), 2.0f * (yz_77 + wx_77), 2.0f * (xz_77 + wy_77), 2.0f * (yz_77 - wx_77), 1.0f - 2.0f * (x2_77 + y2_77)));
        float3  vert0_1 = mul_0(_S7977, make_float3 (sx_1, 0.0f, 0.0f)) + mean_62;
        float3  vert1_1 = mul_0(_S7977, make_float3 (sx_1 * (-0.5f + sz_1), sy_1, 0.0f)) + mean_62;
        float3  vert2_1 = mul_0(_S7977, make_float3 (sx_1 * (-0.5f - sz_1), - sy_1, 0.0f)) + mean_62;
        float3  vert0_c_0 = mul_0(R_64, vert0_1) + t_60;
        float3  vert1_c_0 = mul_0(R_64, vert1_1) + t_60;
        float3  vert2_c_0 = mul_0(R_64, vert2_1) + t_60;
        float _S7978 = vert0_c_0.z;
        float _S7979 = vert1_c_0.z;
        float _S7980 = vert2_c_0.z;
        if(_S7978 < near_plane_66)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = _S7978 > far_plane_66;
        }
        if(_S7974)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = _S7979 < near_plane_66;
        }
        if(_S7974)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = _S7979 > far_plane_66;
        }
        if(_S7974)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = _S7980 < near_plane_66;
        }
        if(_S7974)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = _S7980 > far_plane_66;
        }
        if(_S7974)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_0;
        for(;;)
        {
            float2  uv0_1 = float2 {vert0_c_0.x, vert0_c_0.y} / make_float2 (_S7978);
            if(_S7978 < 0.0f)
            {
                _S7974 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S7981 = camera_distortion_jac_0(uv0_1, dist_coeffs_98);
                _S7974 = !((F32_min((determinant_0(_S7981)), ((F32_min((_S7981.rows[int(0)].x), (_S7981.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S7974)
            {
                uv0_0 = uv0_1;
                break;
            }
            float u_44 = uv0_1.x;
            float v_44 = uv0_1.y;
            float r2_44 = u_44 * u_44 + v_44 * v_44;
            float2  _S7982 = uv0_1 * make_float2 (1.0f + r2_44 * ((*dist_coeffs_98)[int(0)] + r2_44 * ((*dist_coeffs_98)[int(1)] + r2_44 * ((*dist_coeffs_98)[int(2)] + r2_44 * (*dist_coeffs_98)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_98)[int(4)] * u_44 * v_44 + (*dist_coeffs_98)[int(5)] * (r2_44 + 2.0f * u_44 * u_44) + (*dist_coeffs_98)[int(6)] * r2_44, 2.0f * (*dist_coeffs_98)[int(5)] * u_44 * v_44 + (*dist_coeffs_98)[int(4)] * (r2_44 + 2.0f * v_44 * v_44) + (*dist_coeffs_98)[int(7)] * r2_44);
            float2  _S7983 = _S7982 + make_float2 ((*dist_coeffs_98)[int(8)] * _S7982.x + (*dist_coeffs_98)[int(9)] * _S7982.y, 0.0f);
            uv0_0 = make_float2 (fx_94 * _S7983.x + cx_89, fy_94 * _S7983.y + cy_89);
            break;
        }
        float2  uv1_0;
        bool all_valid_8 = true & (!_S7974);
        for(;;)
        {
            float2  uv1_1 = float2 {vert1_c_0.x, vert1_c_0.y} / make_float2 (_S7979);
            if(_S7979 < 0.0f)
            {
                _S7974 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S7984 = camera_distortion_jac_0(uv1_1, dist_coeffs_98);
                _S7974 = !((F32_min((determinant_0(_S7984)), ((F32_min((_S7984.rows[int(0)].x), (_S7984.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S7974)
            {
                uv1_0 = uv1_1;
                break;
            }
            float u_45 = uv1_1.x;
            float v_45 = uv1_1.y;
            float r2_45 = u_45 * u_45 + v_45 * v_45;
            float2  _S7985 = uv1_1 * make_float2 (1.0f + r2_45 * ((*dist_coeffs_98)[int(0)] + r2_45 * ((*dist_coeffs_98)[int(1)] + r2_45 * ((*dist_coeffs_98)[int(2)] + r2_45 * (*dist_coeffs_98)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_98)[int(4)] * u_45 * v_45 + (*dist_coeffs_98)[int(5)] * (r2_45 + 2.0f * u_45 * u_45) + (*dist_coeffs_98)[int(6)] * r2_45, 2.0f * (*dist_coeffs_98)[int(5)] * u_45 * v_45 + (*dist_coeffs_98)[int(4)] * (r2_45 + 2.0f * v_45 * v_45) + (*dist_coeffs_98)[int(7)] * r2_45);
            float2  _S7986 = _S7985 + make_float2 ((*dist_coeffs_98)[int(8)] * _S7985.x + (*dist_coeffs_98)[int(9)] * _S7985.y, 0.0f);
            uv1_0 = make_float2 (fx_94 * _S7986.x + cx_89, fy_94 * _S7986.y + cy_89);
            break;
        }
        float2  uv2_0;
        bool all_valid_9 = all_valid_8 & (!_S7974);
        for(;;)
        {
            float2  uv2_1 = float2 {vert2_c_0.x, vert2_c_0.y} / make_float2 (_S7980);
            if(_S7980 < 0.0f)
            {
                _S7974 = true;
            }
            else
            {
                Matrix<float, 2, 2>  _S7987 = camera_distortion_jac_0(uv2_1, dist_coeffs_98);
                _S7974 = !((F32_min((determinant_0(_S7987)), ((F32_min((_S7987.rows[int(0)].x), (_S7987.rows[int(1)].y)))))) > 0.0f);
            }
            if(_S7974)
            {
                uv2_0 = uv2_1;
                break;
            }
            float u_46 = uv2_1.x;
            float v_46 = uv2_1.y;
            float r2_46 = u_46 * u_46 + v_46 * v_46;
            float2  _S7988 = uv2_1 * make_float2 (1.0f + r2_46 * ((*dist_coeffs_98)[int(0)] + r2_46 * ((*dist_coeffs_98)[int(1)] + r2_46 * ((*dist_coeffs_98)[int(2)] + r2_46 * (*dist_coeffs_98)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_98)[int(4)] * u_46 * v_46 + (*dist_coeffs_98)[int(5)] * (r2_46 + 2.0f * u_46 * u_46) + (*dist_coeffs_98)[int(6)] * r2_46, 2.0f * (*dist_coeffs_98)[int(5)] * u_46 * v_46 + (*dist_coeffs_98)[int(4)] * (r2_46 + 2.0f * v_46 * v_46) + (*dist_coeffs_98)[int(7)] * r2_46);
            float2  _S7989 = _S7988 + make_float2 ((*dist_coeffs_98)[int(8)] * _S7988.x + (*dist_coeffs_98)[int(9)] * _S7988.y, 0.0f);
            uv2_0 = make_float2 (fx_94 * _S7989.x + cx_89, fy_94 * _S7989.y + cy_89);
            break;
        }
        if(!(all_valid_9 & (!_S7974)))
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_0 = uv1_0 - uv0_0;
        float2  e1_0 = uv2_0 - uv1_0;
        float offset_0 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_0.y))))) - 1.0f) * ((F32_abs((e0_0.x * e1_0.y - e0_0.y * e1_0.x))) / (length_0(e0_0) + length_0(e1_0) + length_0(uv0_0 - uv2_0)));
        float _S7990 = uv0_0.x;
        float _S7991 = uv1_0.x;
        float _S7992 = uv2_0.x;
        float xmax_19 = (F32_max(((F32_max((_S7990), (_S7991)))), (_S7992))) + offset_0;
        float xmin_19 = (F32_min(((F32_min((_S7990), (_S7991)))), (_S7992))) - offset_0;
        float _S7993 = uv0_0.y;
        float _S7994 = uv1_0.y;
        float _S7995 = uv2_0.y;
        float ymax_19 = (F32_max(((F32_max((_S7993), (_S7994)))), (_S7995))) + offset_0;
        float ymin_19 = (F32_min(((F32_min((_S7993), (_S7994)))), (_S7995))) - offset_0;
        if(xmax_19 <= 0.0f)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = xmin_19 >= float(image_width_85);
        }
        if(_S7974)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = ymax_19 <= 0.0f;
        }
        if(_S7974)
        {
            _S7974 = true;
        }
        else
        {
            _S7974 = ymin_19 >= float(image_height_85);
        }
        if(_S7974)
        {
            _S7974 = true;
        }
        else
        {
            if(_S7973 <= 0.0f)
            {
                if(xmin_19 <= 0.0f)
                {
                    _S7974 = xmax_19 >= float(image_width_85);
                }
                else
                {
                    _S7974 = false;
                }
                if(_S7974)
                {
                    _S7974 = true;
                }
                else
                {
                    if(ymin_19 <= 0.0f)
                    {
                        _S7974 = ymax_19 >= float(image_width_85);
                    }
                    else
                    {
                        _S7974 = false;
                    }
                }
            }
            else
            {
                _S7974 = false;
            }
        }
        if(_S7974)
        {
            *aabb_xyxy_52 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_52 = make_int4 (int((F32_floor((xmin_19)))), int((F32_floor((ymin_19)))), int((F32_ceil((xmax_19)))), int((F32_ceil((ymax_19)))));
        float3  _S7996 = (vert0_c_0 + vert1_c_0 + vert2_c_0) / make_float3 (3.0f);
        float _S7997 = _S7996.z;
        *depth_39 = (F32_max((_S7997), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S7997 + length_1(_S7996)))));
        float3  _S7998 = mean_62 - - mul_0(transpose_0(R_64), t_60);
        float _S7999 = _S7998.x;
        float _S8000 = _S7998.y;
        float _S8001 = _S7998.z;
        float norm_10 = (F32_sqrt((_S7999 * _S7999 + _S8000 * _S8000 + _S8001 * _S8001)));
        float x_70 = _S7999 / norm_10;
        float y_18 = _S8000 / norm_10;
        float z_15 = _S8001 / norm_10;
        float z2_93 = z_15 * z_15;
        float fTmp0B_15 = -1.09254848957061768f * z_15;
        float fC1_15 = x_70 * x_70 - y_18 * y_18;
        float fS1_15 = 2.0f * x_70 * y_18;
        float fTmp0C_15 = -2.28522896766662598f * z2_93 + 0.4570457935333252f;
        float fTmp1B_15 = 1.44530570507049561f * z_15;
        float3  color_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_15)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_18) * (*sh_coeffs_15)[int(1)] + make_float3 (z_15) * (*sh_coeffs_15)[int(2)] - make_float3 (x_70) * (*sh_coeffs_15)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_15) * (*sh_coeffs_15)[int(4)] + make_float3 (fTmp0B_15 * y_18) * (*sh_coeffs_15)[int(5)] + make_float3 (0.94617468118667603f * z2_93 - 0.31539157032966614f) * (*sh_coeffs_15)[int(6)] + make_float3 (fTmp0B_15 * x_70) * (*sh_coeffs_15)[int(7)] + make_float3 (0.54627424478530884f * fC1_15) * (*sh_coeffs_15)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_70 * fS1_15 + y_18 * fC1_15)) * (*sh_coeffs_15)[int(9)] + make_float3 (fTmp1B_15 * fS1_15) * (*sh_coeffs_15)[int(10)] + make_float3 (fTmp0C_15 * y_18) * (*sh_coeffs_15)[int(11)] + make_float3 (z_15 * (1.86588168144226074f * z2_93 - 1.11952900886535645f)) * (*sh_coeffs_15)[int(12)] + make_float3 (fTmp0C_15 * x_70) * (*sh_coeffs_15)[int(13)] + make_float3 (fTmp1B_15 * fC1_15) * (*sh_coeffs_15)[int(14)] + make_float3 (-0.59004360437393188f * (x_70 * fC1_15 - y_18 * fS1_15)) * (*sh_coeffs_15)[int(15)]);
        float3  _S8002 = make_float3 (0.0f);
        (*rgbs_0)[int(0)] = max_0(color_0 + (*ch_coeffs_0)[int(0)] + make_float3 (0.5f), _S8002);
        float3  _S8003 = color_0 - (*ch_coeffs_0)[int(0)] * make_float3 (0.5f);
        float3  _S8004 = (*ch_coeffs_0)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_0)[int(1)] = max_0(_S8003 + _S8004 + make_float3 (0.5f), _S8002);
        (*rgbs_0)[int(2)] = max_0(_S8003 - _S8004 + make_float3 (0.5f), _S8002);
        (*verts_0)[int(0)] = vert0_1;
        (*verts_0)[int(1)] = vert1_1;
        (*verts_0)[int(2)] = vert2_1;
        float3  _S8005 = normalize_0(cross_0(vert1_c_0 - vert0_c_0, vert2_c_0 - vert0_c_0));
        *normal_0 = _S8005 * make_float3 (float(- (F32_sign((dot_0(_S8005, mean_c_71))))));
        break;
    }
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye(float3  mean_63, float4  quat_64, float3  scale_63, float2  hardness_1, FixedArray<float3 , 16>  * sh_coeffs_16, FixedArray<float3 , 2>  * ch_coeffs_1, Matrix<float, 3, 3>  R_65, float3  t_61, float fx_95, float fy_95, float cx_90, float cy_90, FixedArray<float, 10>  * dist_coeffs_99, uint image_width_86, uint image_height_86, float near_plane_67, float far_plane_67, int4  * aabb_xyxy_53, float * depth_40, FixedArray<float3 , 3>  * verts_1, FixedArray<float3 , 3>  * rgbs_1, float3  * normal_1)
{
    bool _S8006;
    bool _S8007;
    bool _S8008;
    for(;;)
    {
        float3  mean_c_72 = mul_0(R_65, mean_63) + t_61;
        float _S8009 = length_1(mean_c_72);
        bool _S8010;
        if(_S8009 < near_plane_67)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = _S8009 > far_plane_67;
        }
        if(_S8010)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S8011 = scale_63.x;
        float sx_2 = (F32_exp((_S8011)));
        float _S8012 = scale_63.y;
        float sy_2 = (F32_exp((_S8012)));
        float sz_2 = scale_63.z - 0.5f * (_S8011 + _S8012);
        float x_71 = quat_64.y;
        float x2_78 = x_71 * x_71;
        float y2_78 = quat_64.z * quat_64.z;
        float z2_94 = quat_64.w * quat_64.w;
        float xy_78 = quat_64.y * quat_64.z;
        float xz_78 = quat_64.y * quat_64.w;
        float yz_78 = quat_64.z * quat_64.w;
        float wx_78 = quat_64.x * quat_64.y;
        float wy_78 = quat_64.x * quat_64.z;
        float wz_78 = quat_64.x * quat_64.w;
        Matrix<float, 3, 3>  _S8013 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_78 + z2_94), 2.0f * (xy_78 + wz_78), 2.0f * (xz_78 - wy_78), 2.0f * (xy_78 - wz_78), 1.0f - 2.0f * (x2_78 + z2_94), 2.0f * (yz_78 + wx_78), 2.0f * (xz_78 + wy_78), 2.0f * (yz_78 - wx_78), 1.0f - 2.0f * (x2_78 + y2_78)));
        float3  vert0_2 = mul_0(_S8013, make_float3 (sx_2, 0.0f, 0.0f)) + mean_63;
        float3  vert1_2 = mul_0(_S8013, make_float3 (sx_2 * (-0.5f + sz_2), sy_2, 0.0f)) + mean_63;
        float3  vert2_2 = mul_0(_S8013, make_float3 (sx_2 * (-0.5f - sz_2), - sy_2, 0.0f)) + mean_63;
        float3  vert0_c_1 = mul_0(R_65, vert0_2) + t_61;
        float3  vert1_c_1 = mul_0(R_65, vert1_2) + t_61;
        float3  vert2_c_1 = mul_0(R_65, vert2_2) + t_61;
        float _S8014 = length_1(vert0_c_1);
        float _S8015 = length_1(vert1_c_1);
        float _S8016 = length_1(vert2_c_1);
        if(_S8014 < near_plane_67)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = _S8014 > far_plane_67;
        }
        if(_S8010)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = _S8015 < near_plane_67;
        }
        if(_S8010)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = _S8015 > far_plane_67;
        }
        if(_S8010)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = _S8016 < near_plane_67;
        }
        if(_S8010)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = _S8016 > far_plane_67;
        }
        if(_S8010)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  uv0_2;
        float k_7;
        for(;;)
        {
            float2  _S8017 = float2 {vert0_c_1.x, vert0_c_1.y};
            float r_24 = length_0(_S8017);
            float _S8018 = vert0_c_1.z;
            float theta_20 = (F32_atan2((r_24), (_S8018)));
            if(theta_20 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_20 * theta_20 / 3.0f) / _S8018;
            }
            else
            {
                k_7 = theta_20 / r_24;
            }
            float2  uv0_3 = _S8017 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S8019 = camera_distortion_jac_0(uv0_3, dist_coeffs_99);
            bool _S8020 = !((F32_min((determinant_0(_S8019)), ((F32_min((_S8019.rows[int(0)].x), (_S8019.rows[int(1)].y)))))) > 0.0f);
            _S8006 = _S8020;
            if(_S8020)
            {
                uv0_2 = uv0_3;
                break;
            }
            float u_47 = uv0_3.x;
            float v_47 = uv0_3.y;
            float r2_47 = u_47 * u_47 + v_47 * v_47;
            float2  _S8021 = uv0_3 * make_float2 (1.0f + r2_47 * ((*dist_coeffs_99)[int(0)] + r2_47 * ((*dist_coeffs_99)[int(1)] + r2_47 * ((*dist_coeffs_99)[int(2)] + r2_47 * (*dist_coeffs_99)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_99)[int(4)] * u_47 * v_47 + (*dist_coeffs_99)[int(5)] * (r2_47 + 2.0f * u_47 * u_47) + (*dist_coeffs_99)[int(6)] * r2_47, 2.0f * (*dist_coeffs_99)[int(5)] * u_47 * v_47 + (*dist_coeffs_99)[int(4)] * (r2_47 + 2.0f * v_47 * v_47) + (*dist_coeffs_99)[int(7)] * r2_47);
            float2  _S8022 = _S8021 + make_float2 ((*dist_coeffs_99)[int(8)] * _S8021.x + (*dist_coeffs_99)[int(9)] * _S8021.y, 0.0f);
            uv0_2 = make_float2 (fx_95 * _S8022.x + cx_90, fy_95 * _S8022.y + cy_90);
            break;
        }
        float2  uv1_2;
        bool all_valid_10 = true & (!_S8006);
        for(;;)
        {
            float2  _S8023 = float2 {vert1_c_1.x, vert1_c_1.y};
            float r_25 = length_0(_S8023);
            float _S8024 = vert1_c_1.z;
            float theta_21 = (F32_atan2((r_25), (_S8024)));
            if(theta_21 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_21 * theta_21 / 3.0f) / _S8024;
            }
            else
            {
                k_7 = theta_21 / r_25;
            }
            float2  uv1_3 = _S8023 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S8025 = camera_distortion_jac_0(uv1_3, dist_coeffs_99);
            bool _S8026 = !((F32_min((determinant_0(_S8025)), ((F32_min((_S8025.rows[int(0)].x), (_S8025.rows[int(1)].y)))))) > 0.0f);
            _S8007 = _S8026;
            if(_S8026)
            {
                uv1_2 = uv1_3;
                break;
            }
            float u_48 = uv1_3.x;
            float v_48 = uv1_3.y;
            float r2_48 = u_48 * u_48 + v_48 * v_48;
            float2  _S8027 = uv1_3 * make_float2 (1.0f + r2_48 * ((*dist_coeffs_99)[int(0)] + r2_48 * ((*dist_coeffs_99)[int(1)] + r2_48 * ((*dist_coeffs_99)[int(2)] + r2_48 * (*dist_coeffs_99)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_99)[int(4)] * u_48 * v_48 + (*dist_coeffs_99)[int(5)] * (r2_48 + 2.0f * u_48 * u_48) + (*dist_coeffs_99)[int(6)] * r2_48, 2.0f * (*dist_coeffs_99)[int(5)] * u_48 * v_48 + (*dist_coeffs_99)[int(4)] * (r2_48 + 2.0f * v_48 * v_48) + (*dist_coeffs_99)[int(7)] * r2_48);
            float2  _S8028 = _S8027 + make_float2 ((*dist_coeffs_99)[int(8)] * _S8027.x + (*dist_coeffs_99)[int(9)] * _S8027.y, 0.0f);
            uv1_2 = make_float2 (fx_95 * _S8028.x + cx_90, fy_95 * _S8028.y + cy_90);
            break;
        }
        float2  uv2_2;
        bool all_valid_11 = all_valid_10 & (!_S8007);
        for(;;)
        {
            float2  _S8029 = float2 {vert2_c_1.x, vert2_c_1.y};
            float r_26 = length_0(_S8029);
            float _S8030 = vert2_c_1.z;
            float theta_22 = (F32_atan2((r_26), (_S8030)));
            if(theta_22 < 0.00100000004749745f)
            {
                k_7 = (1.0f - theta_22 * theta_22 / 3.0f) / _S8030;
            }
            else
            {
                k_7 = theta_22 / r_26;
            }
            float2  uv2_3 = _S8029 * make_float2 (k_7);
            Matrix<float, 2, 2>  _S8031 = camera_distortion_jac_0(uv2_3, dist_coeffs_99);
            bool _S8032 = !((F32_min((determinant_0(_S8031)), ((F32_min((_S8031.rows[int(0)].x), (_S8031.rows[int(1)].y)))))) > 0.0f);
            _S8008 = _S8032;
            if(_S8032)
            {
                uv2_2 = uv2_3;
                break;
            }
            float u_49 = uv2_3.x;
            float v_49 = uv2_3.y;
            float r2_49 = u_49 * u_49 + v_49 * v_49;
            float2  _S8033 = uv2_3 * make_float2 (1.0f + r2_49 * ((*dist_coeffs_99)[int(0)] + r2_49 * ((*dist_coeffs_99)[int(1)] + r2_49 * ((*dist_coeffs_99)[int(2)] + r2_49 * (*dist_coeffs_99)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_99)[int(4)] * u_49 * v_49 + (*dist_coeffs_99)[int(5)] * (r2_49 + 2.0f * u_49 * u_49) + (*dist_coeffs_99)[int(6)] * r2_49, 2.0f * (*dist_coeffs_99)[int(5)] * u_49 * v_49 + (*dist_coeffs_99)[int(4)] * (r2_49 + 2.0f * v_49 * v_49) + (*dist_coeffs_99)[int(7)] * r2_49);
            float2  _S8034 = _S8033 + make_float2 ((*dist_coeffs_99)[int(8)] * _S8033.x + (*dist_coeffs_99)[int(9)] * _S8033.y, 0.0f);
            uv2_2 = make_float2 (fx_95 * _S8034.x + cx_90, fy_95 * _S8034.y + cy_90);
            break;
        }
        if(!(all_valid_11 & (!_S8008)))
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float2  e0_1 = uv1_2 - uv0_2;
        float2  e1_1 = uv2_2 - uv1_2;
        float offset_1 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_1.y))))) - 1.0f) * ((F32_abs((e0_1.x * e1_1.y - e0_1.y * e1_1.x))) / (length_0(e0_1) + length_0(e1_1) + length_0(uv0_2 - uv2_2)));
        float _S8035 = uv0_2.x;
        float _S8036 = uv1_2.x;
        float _S8037 = uv2_2.x;
        float xmax_20 = (F32_max(((F32_max((_S8035), (_S8036)))), (_S8037))) + offset_1;
        float xmin_20 = (F32_min(((F32_min((_S8035), (_S8036)))), (_S8037))) - offset_1;
        float _S8038 = uv0_2.y;
        float _S8039 = uv1_2.y;
        float _S8040 = uv2_2.y;
        float ymax_20 = (F32_max(((F32_max((_S8038), (_S8039)))), (_S8040))) + offset_1;
        float ymin_20 = (F32_min(((F32_min((_S8038), (_S8039)))), (_S8040))) - offset_1;
        if(xmax_20 <= 0.0f)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = xmin_20 >= float(image_width_86);
        }
        if(_S8010)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = ymax_20 <= 0.0f;
        }
        if(_S8010)
        {
            _S8010 = true;
        }
        else
        {
            _S8010 = ymin_20 >= float(image_height_86);
        }
        if(_S8010)
        {
            _S8010 = true;
        }
        else
        {
            if((mean_c_72.z) <= 0.0f)
            {
                if(xmin_20 <= 0.0f)
                {
                    _S8010 = xmax_20 >= float(image_width_86);
                }
                else
                {
                    _S8010 = false;
                }
                if(_S8010)
                {
                    _S8010 = true;
                }
                else
                {
                    if(ymin_20 <= 0.0f)
                    {
                        _S8010 = ymax_20 >= float(image_width_86);
                    }
                    else
                    {
                        _S8010 = false;
                    }
                }
            }
            else
            {
                _S8010 = false;
            }
        }
        if(_S8010)
        {
            *aabb_xyxy_53 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_53 = make_int4 (int((F32_floor((xmin_20)))), int((F32_floor((ymin_20)))), int((F32_ceil((xmax_20)))), int((F32_ceil((ymax_20)))));
        float3  _S8041 = (vert0_c_1 + vert1_c_1 + vert2_c_1) / make_float3 (3.0f);
        float _S8042 = _S8041.z;
        *depth_40 = (F32_max((_S8042), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8042 + length_1(_S8041)))));
        float3  _S8043 = mean_63 - - mul_0(transpose_0(R_65), t_61);
        float _S8044 = _S8043.x;
        float _S8045 = _S8043.y;
        float _S8046 = _S8043.z;
        float norm_11 = (F32_sqrt((_S8044 * _S8044 + _S8045 * _S8045 + _S8046 * _S8046)));
        float x_72 = _S8044 / norm_11;
        float y_19 = _S8045 / norm_11;
        float z_16 = _S8046 / norm_11;
        float z2_95 = z_16 * z_16;
        float fTmp0B_16 = -1.09254848957061768f * z_16;
        float fC1_16 = x_72 * x_72 - y_19 * y_19;
        float fS1_16 = 2.0f * x_72 * y_19;
        float fTmp0C_16 = -2.28522896766662598f * z2_95 + 0.4570457935333252f;
        float fTmp1B_16 = 1.44530570507049561f * z_16;
        float3  color_1 = make_float3 (0.282094806432724f) * (*sh_coeffs_16)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_19) * (*sh_coeffs_16)[int(1)] + make_float3 (z_16) * (*sh_coeffs_16)[int(2)] - make_float3 (x_72) * (*sh_coeffs_16)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_16) * (*sh_coeffs_16)[int(4)] + make_float3 (fTmp0B_16 * y_19) * (*sh_coeffs_16)[int(5)] + make_float3 (0.94617468118667603f * z2_95 - 0.31539157032966614f) * (*sh_coeffs_16)[int(6)] + make_float3 (fTmp0B_16 * x_72) * (*sh_coeffs_16)[int(7)] + make_float3 (0.54627424478530884f * fC1_16) * (*sh_coeffs_16)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_72 * fS1_16 + y_19 * fC1_16)) * (*sh_coeffs_16)[int(9)] + make_float3 (fTmp1B_16 * fS1_16) * (*sh_coeffs_16)[int(10)] + make_float3 (fTmp0C_16 * y_19) * (*sh_coeffs_16)[int(11)] + make_float3 (z_16 * (1.86588168144226074f * z2_95 - 1.11952900886535645f)) * (*sh_coeffs_16)[int(12)] + make_float3 (fTmp0C_16 * x_72) * (*sh_coeffs_16)[int(13)] + make_float3 (fTmp1B_16 * fC1_16) * (*sh_coeffs_16)[int(14)] + make_float3 (-0.59004360437393188f * (x_72 * fC1_16 - y_19 * fS1_16)) * (*sh_coeffs_16)[int(15)]);
        float3  _S8047 = make_float3 (0.0f);
        (*rgbs_1)[int(0)] = max_0(color_1 + (*ch_coeffs_1)[int(0)] + make_float3 (0.5f), _S8047);
        float3  _S8048 = color_1 - (*ch_coeffs_1)[int(0)] * make_float3 (0.5f);
        float3  _S8049 = (*ch_coeffs_1)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
        (*rgbs_1)[int(1)] = max_0(_S8048 + _S8049 + make_float3 (0.5f), _S8047);
        (*rgbs_1)[int(2)] = max_0(_S8048 - _S8049 + make_float3 (0.5f), _S8047);
        (*verts_1)[int(0)] = vert0_2;
        (*verts_1)[int(1)] = vert1_2;
        (*verts_1)[int(2)] = vert2_2;
        float3  _S8050 = normalize_0(cross_0(vert1_c_1 - vert0_c_1, vert2_c_1 - vert0_c_1));
        *normal_1 = _S8050 * make_float3 (float(- (F32_sign((dot_0(_S8050, mean_c_72))))));
        break;
    }
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_persp_differentiable(float3  mean_64, float4  quat_65, float3  scale_64, float2  hardness_2, FixedArray<float3 , 16>  * sh_coeffs_17, FixedArray<float3 , 2>  * ch_coeffs_2, Matrix<float, 3, 3>  R_66, float3  t_62, float fx_96, float fy_96, float cx_91, float cy_91, FixedArray<float, 10>  * dist_coeffs_100, uint image_width_87, uint image_height_87, float near_plane_68, float far_plane_68, int4  * aabb_xyxy_54, float * depth_41, FixedArray<float3 , 3>  * verts_2, FixedArray<float3 , 3>  * rgbs_2, float3  * normal_2)
{
    float3  mean_c_73 = mul_0(R_66, mean_64) + t_62;
    float _S8051 = scale_64.x;
    float sx_3 = (F32_exp((_S8051)));
    float _S8052 = scale_64.y;
    float sy_3 = (F32_exp((_S8052)));
    float sz_3 = scale_64.z - 0.5f * (_S8051 + _S8052);
    float x_73 = quat_65.y;
    float x2_79 = x_73 * x_73;
    float y2_79 = quat_65.z * quat_65.z;
    float z2_96 = quat_65.w * quat_65.w;
    float xy_79 = quat_65.y * quat_65.z;
    float xz_79 = quat_65.y * quat_65.w;
    float yz_79 = quat_65.z * quat_65.w;
    float wx_79 = quat_65.x * quat_65.y;
    float wy_79 = quat_65.x * quat_65.z;
    float wz_79 = quat_65.x * quat_65.w;
    Matrix<float, 3, 3>  _S8053 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_79 + z2_96), 2.0f * (xy_79 + wz_79), 2.0f * (xz_79 - wy_79), 2.0f * (xy_79 - wz_79), 1.0f - 2.0f * (x2_79 + z2_96), 2.0f * (yz_79 + wx_79), 2.0f * (xz_79 + wy_79), 2.0f * (yz_79 - wx_79), 1.0f - 2.0f * (x2_79 + y2_79)));
    float3  vert0_3 = mul_0(_S8053, make_float3 (sx_3, 0.0f, 0.0f)) + mean_64;
    float3  vert1_3 = mul_0(_S8053, make_float3 (sx_3 * (-0.5f + sz_3), sy_3, 0.0f)) + mean_64;
    float3  vert2_3 = mul_0(_S8053, make_float3 (sx_3 * (-0.5f - sz_3), - sy_3, 0.0f)) + mean_64;
    float3  vert0_c_2 = mul_0(R_66, vert0_3) + t_62;
    float3  vert1_c_2 = mul_0(R_66, vert1_3) + t_62;
    float3  vert2_c_2 = mul_0(R_66, vert2_3) + t_62;
    float2  _S8054 = float2 {vert0_c_2.x, vert0_c_2.y} / make_float2 (vert0_c_2.z);
    float u_50 = _S8054.x;
    float v_50 = _S8054.y;
    float r2_50 = u_50 * u_50 + v_50 * v_50;
    float _S8055 = 2.0f * (*dist_coeffs_100)[int(4)];
    float _S8056 = 2.0f * (*dist_coeffs_100)[int(5)];
    float2  _S8057 = _S8054 * make_float2 (1.0f + r2_50 * ((*dist_coeffs_100)[int(0)] + r2_50 * ((*dist_coeffs_100)[int(1)] + r2_50 * ((*dist_coeffs_100)[int(2)] + r2_50 * (*dist_coeffs_100)[int(3)])))) + make_float2 (_S8055 * u_50 * v_50 + (*dist_coeffs_100)[int(5)] * (r2_50 + 2.0f * u_50 * u_50) + (*dist_coeffs_100)[int(6)] * r2_50, _S8056 * u_50 * v_50 + (*dist_coeffs_100)[int(4)] * (r2_50 + 2.0f * v_50 * v_50) + (*dist_coeffs_100)[int(7)] * r2_50);
    float2  _S8058 = _S8057 + make_float2 ((*dist_coeffs_100)[int(8)] * _S8057.x + (*dist_coeffs_100)[int(9)] * _S8057.y, 0.0f);
    float _S8059 = fx_96 * _S8058.x + cx_91;
    float _S8060 = fy_96 * _S8058.y + cy_91;
    float2  uv0_4 = make_float2 (_S8059, _S8060);
    float2  _S8061 = float2 {vert1_c_2.x, vert1_c_2.y} / make_float2 (vert1_c_2.z);
    float u_51 = _S8061.x;
    float v_51 = _S8061.y;
    float r2_51 = u_51 * u_51 + v_51 * v_51;
    float2  _S8062 = _S8061 * make_float2 (1.0f + r2_51 * ((*dist_coeffs_100)[int(0)] + r2_51 * ((*dist_coeffs_100)[int(1)] + r2_51 * ((*dist_coeffs_100)[int(2)] + r2_51 * (*dist_coeffs_100)[int(3)])))) + make_float2 (_S8055 * u_51 * v_51 + (*dist_coeffs_100)[int(5)] * (r2_51 + 2.0f * u_51 * u_51) + (*dist_coeffs_100)[int(6)] * r2_51, _S8056 * u_51 * v_51 + (*dist_coeffs_100)[int(4)] * (r2_51 + 2.0f * v_51 * v_51) + (*dist_coeffs_100)[int(7)] * r2_51);
    float2  _S8063 = _S8062 + make_float2 ((*dist_coeffs_100)[int(8)] * _S8062.x + (*dist_coeffs_100)[int(9)] * _S8062.y, 0.0f);
    float _S8064 = fx_96 * _S8063.x + cx_91;
    float _S8065 = fy_96 * _S8063.y + cy_91;
    float2  uv1_4 = make_float2 (_S8064, _S8065);
    float2  _S8066 = float2 {vert2_c_2.x, vert2_c_2.y} / make_float2 (vert2_c_2.z);
    float u_52 = _S8066.x;
    float v_52 = _S8066.y;
    float r2_52 = u_52 * u_52 + v_52 * v_52;
    float2  _S8067 = _S8066 * make_float2 (1.0f + r2_52 * ((*dist_coeffs_100)[int(0)] + r2_52 * ((*dist_coeffs_100)[int(1)] + r2_52 * ((*dist_coeffs_100)[int(2)] + r2_52 * (*dist_coeffs_100)[int(3)])))) + make_float2 (_S8055 * u_52 * v_52 + (*dist_coeffs_100)[int(5)] * (r2_52 + 2.0f * u_52 * u_52) + (*dist_coeffs_100)[int(6)] * r2_52, _S8056 * u_52 * v_52 + (*dist_coeffs_100)[int(4)] * (r2_52 + 2.0f * v_52 * v_52) + (*dist_coeffs_100)[int(7)] * r2_52);
    float2  _S8068 = _S8067 + make_float2 ((*dist_coeffs_100)[int(8)] * _S8067.x + (*dist_coeffs_100)[int(9)] * _S8067.y, 0.0f);
    float _S8069 = fx_96 * _S8068.x + cx_91;
    float _S8070 = fy_96 * _S8068.y + cy_91;
    float2  uv2_4 = make_float2 (_S8069, _S8070);
    float2  e0_2 = uv1_4 - uv0_4;
    float2  e1_2 = uv2_4 - uv1_4;
    float offset_2 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_2.y))))) - 1.0f) * ((F32_abs((e0_2.x * e1_2.y - e0_2.y * e1_2.x))) / (length_0(e0_2) + length_0(e1_2) + length_0(uv0_4 - uv2_4)));
    *aabb_xyxy_54 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S8059), (_S8064)))), (_S8069))) - offset_2)))), int((F32_floor(((F32_min(((F32_min((_S8060), (_S8065)))), (_S8070))) - offset_2)))), int((F32_ceil(((F32_max(((F32_max((_S8059), (_S8064)))), (_S8069))) + offset_2)))), int((F32_ceil(((F32_max(((F32_max((_S8060), (_S8065)))), (_S8070))) + offset_2)))));
    float3  _S8071 = (vert0_c_2 + vert1_c_2 + vert2_c_2) / make_float3 (3.0f);
    float _S8072 = _S8071.z;
    *depth_41 = (F32_max((_S8072), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8072 + length_1(_S8071)))));
    float3  _S8073 = mean_64 - - mul_0(transpose_0(R_66), t_62);
    float _S8074 = _S8073.x;
    float _S8075 = _S8073.y;
    float _S8076 = _S8073.z;
    float norm_12 = (F32_sqrt((_S8074 * _S8074 + _S8075 * _S8075 + _S8076 * _S8076)));
    float x_74 = _S8074 / norm_12;
    float y_20 = _S8075 / norm_12;
    float z_17 = _S8076 / norm_12;
    float z2_97 = z_17 * z_17;
    float fTmp0B_17 = -1.09254848957061768f * z_17;
    float fC1_17 = x_74 * x_74 - y_20 * y_20;
    float fS1_17 = 2.0f * x_74 * y_20;
    float fTmp0C_17 = -2.28522896766662598f * z2_97 + 0.4570457935333252f;
    float fTmp1B_17 = 1.44530570507049561f * z_17;
    float3  color_2 = make_float3 (0.282094806432724f) * (*sh_coeffs_17)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_20) * (*sh_coeffs_17)[int(1)] + make_float3 (z_17) * (*sh_coeffs_17)[int(2)] - make_float3 (x_74) * (*sh_coeffs_17)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_17) * (*sh_coeffs_17)[int(4)] + make_float3 (fTmp0B_17 * y_20) * (*sh_coeffs_17)[int(5)] + make_float3 (0.94617468118667603f * z2_97 - 0.31539157032966614f) * (*sh_coeffs_17)[int(6)] + make_float3 (fTmp0B_17 * x_74) * (*sh_coeffs_17)[int(7)] + make_float3 (0.54627424478530884f * fC1_17) * (*sh_coeffs_17)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_74 * fS1_17 + y_20 * fC1_17)) * (*sh_coeffs_17)[int(9)] + make_float3 (fTmp1B_17 * fS1_17) * (*sh_coeffs_17)[int(10)] + make_float3 (fTmp0C_17 * y_20) * (*sh_coeffs_17)[int(11)] + make_float3 (z_17 * (1.86588168144226074f * z2_97 - 1.11952900886535645f)) * (*sh_coeffs_17)[int(12)] + make_float3 (fTmp0C_17 * x_74) * (*sh_coeffs_17)[int(13)] + make_float3 (fTmp1B_17 * fC1_17) * (*sh_coeffs_17)[int(14)] + make_float3 (-0.59004360437393188f * (x_74 * fC1_17 - y_20 * fS1_17)) * (*sh_coeffs_17)[int(15)]);
    float3  _S8077 = make_float3 (0.0f);
    (*rgbs_2)[int(0)] = max_0(color_2 + (*ch_coeffs_2)[int(0)] + make_float3 (0.5f), _S8077);
    float3  _S8078 = color_2 - (*ch_coeffs_2)[int(0)] * make_float3 (0.5f);
    float3  _S8079 = (*ch_coeffs_2)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_2)[int(1)] = max_0(_S8078 + _S8079 + make_float3 (0.5f), _S8077);
    (*rgbs_2)[int(2)] = max_0(_S8078 - _S8079 + make_float3 (0.5f), _S8077);
    (*verts_2)[int(0)] = vert0_3;
    (*verts_2)[int(1)] = vert1_3;
    (*verts_2)[int(2)] = vert2_3;
    float3  _S8080 = normalize_0(cross_0(vert1_c_2 - vert0_c_2, vert2_c_2 - vert0_c_2));
    *normal_2 = _S8080 * make_float3 (float(- (F32_sign((dot_0(_S8080, mean_c_73))))));
    return;
}

inline __device__ void _projection_opaque_triangle_eval3d_fisheye_differentiable(float3  mean_65, float4  quat_66, float3  scale_65, float2  hardness_3, FixedArray<float3 , 16>  * sh_coeffs_18, FixedArray<float3 , 2>  * ch_coeffs_3, Matrix<float, 3, 3>  R_67, float3  t_63, float fx_97, float fy_97, float cx_92, float cy_92, FixedArray<float, 10>  * dist_coeffs_101, uint image_width_88, uint image_height_88, float near_plane_69, float far_plane_69, int4  * aabb_xyxy_55, float * depth_42, FixedArray<float3 , 3>  * verts_3, FixedArray<float3 , 3>  * rgbs_3, float3  * normal_3)
{
    float3  mean_c_74 = mul_0(R_67, mean_65) + t_63;
    float _S8081 = scale_65.x;
    float sx_4 = (F32_exp((_S8081)));
    float _S8082 = scale_65.y;
    float sy_4 = (F32_exp((_S8082)));
    float sz_4 = scale_65.z - 0.5f * (_S8081 + _S8082);
    float x_75 = quat_66.y;
    float x2_80 = x_75 * x_75;
    float y2_80 = quat_66.z * quat_66.z;
    float z2_98 = quat_66.w * quat_66.w;
    float xy_80 = quat_66.y * quat_66.z;
    float xz_80 = quat_66.y * quat_66.w;
    float yz_80 = quat_66.z * quat_66.w;
    float wx_80 = quat_66.x * quat_66.y;
    float wy_80 = quat_66.x * quat_66.z;
    float wz_80 = quat_66.x * quat_66.w;
    Matrix<float, 3, 3>  _S8083 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_80 + z2_98), 2.0f * (xy_80 + wz_80), 2.0f * (xz_80 - wy_80), 2.0f * (xy_80 - wz_80), 1.0f - 2.0f * (x2_80 + z2_98), 2.0f * (yz_80 + wx_80), 2.0f * (xz_80 + wy_80), 2.0f * (yz_80 - wx_80), 1.0f - 2.0f * (x2_80 + y2_80)));
    float3  vert0_4 = mul_0(_S8083, make_float3 (sx_4, 0.0f, 0.0f)) + mean_65;
    float3  vert1_4 = mul_0(_S8083, make_float3 (sx_4 * (-0.5f + sz_4), sy_4, 0.0f)) + mean_65;
    float3  vert2_4 = mul_0(_S8083, make_float3 (sx_4 * (-0.5f - sz_4), - sy_4, 0.0f)) + mean_65;
    float3  vert0_c_3 = mul_0(R_67, vert0_4) + t_63;
    float3  vert1_c_3 = mul_0(R_67, vert1_4) + t_63;
    float3  vert2_c_3 = mul_0(R_67, vert2_4) + t_63;
    float2  _S8084 = float2 {vert0_c_3.x, vert0_c_3.y};
    float r_27 = length_0(_S8084);
    float _S8085 = vert0_c_3.z;
    float theta_23 = (F32_atan2((r_27), (_S8085)));
    float k_8;
    if(theta_23 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_23 * theta_23 / 3.0f) / _S8085;
    }
    else
    {
        k_8 = theta_23 / r_27;
    }
    float2  _S8086 = _S8084 * make_float2 (k_8);
    float u_53 = _S8086.x;
    float v_53 = _S8086.y;
    float r2_53 = u_53 * u_53 + v_53 * v_53;
    float _S8087 = 2.0f * (*dist_coeffs_101)[int(4)];
    float _S8088 = 2.0f * (*dist_coeffs_101)[int(5)];
    float2  _S8089 = _S8086 * make_float2 (1.0f + r2_53 * ((*dist_coeffs_101)[int(0)] + r2_53 * ((*dist_coeffs_101)[int(1)] + r2_53 * ((*dist_coeffs_101)[int(2)] + r2_53 * (*dist_coeffs_101)[int(3)])))) + make_float2 (_S8087 * u_53 * v_53 + (*dist_coeffs_101)[int(5)] * (r2_53 + 2.0f * u_53 * u_53) + (*dist_coeffs_101)[int(6)] * r2_53, _S8088 * u_53 * v_53 + (*dist_coeffs_101)[int(4)] * (r2_53 + 2.0f * v_53 * v_53) + (*dist_coeffs_101)[int(7)] * r2_53);
    float2  _S8090 = _S8089 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8089.x + (*dist_coeffs_101)[int(9)] * _S8089.y, 0.0f);
    float _S8091 = fx_97 * _S8090.x + cx_92;
    float _S8092 = fy_97 * _S8090.y + cy_92;
    float2  uv0_5 = make_float2 (_S8091, _S8092);
    float2  _S8093 = float2 {vert1_c_3.x, vert1_c_3.y};
    float r_28 = length_0(_S8093);
    float _S8094 = vert1_c_3.z;
    float theta_24 = (F32_atan2((r_28), (_S8094)));
    if(theta_24 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_24 * theta_24 / 3.0f) / _S8094;
    }
    else
    {
        k_8 = theta_24 / r_28;
    }
    float2  _S8095 = _S8093 * make_float2 (k_8);
    float u_54 = _S8095.x;
    float v_54 = _S8095.y;
    float r2_54 = u_54 * u_54 + v_54 * v_54;
    float2  _S8096 = _S8095 * make_float2 (1.0f + r2_54 * ((*dist_coeffs_101)[int(0)] + r2_54 * ((*dist_coeffs_101)[int(1)] + r2_54 * ((*dist_coeffs_101)[int(2)] + r2_54 * (*dist_coeffs_101)[int(3)])))) + make_float2 (_S8087 * u_54 * v_54 + (*dist_coeffs_101)[int(5)] * (r2_54 + 2.0f * u_54 * u_54) + (*dist_coeffs_101)[int(6)] * r2_54, _S8088 * u_54 * v_54 + (*dist_coeffs_101)[int(4)] * (r2_54 + 2.0f * v_54 * v_54) + (*dist_coeffs_101)[int(7)] * r2_54);
    float2  _S8097 = _S8096 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8096.x + (*dist_coeffs_101)[int(9)] * _S8096.y, 0.0f);
    float _S8098 = fx_97 * _S8097.x + cx_92;
    float _S8099 = fy_97 * _S8097.y + cy_92;
    float2  uv1_5 = make_float2 (_S8098, _S8099);
    float2  _S8100 = float2 {vert2_c_3.x, vert2_c_3.y};
    float r_29 = length_0(_S8100);
    float _S8101 = vert2_c_3.z;
    float theta_25 = (F32_atan2((r_29), (_S8101)));
    if(theta_25 < 0.00100000004749745f)
    {
        k_8 = (1.0f - theta_25 * theta_25 / 3.0f) / _S8101;
    }
    else
    {
        k_8 = theta_25 / r_29;
    }
    float2  _S8102 = _S8100 * make_float2 (k_8);
    float u_55 = _S8102.x;
    float v_55 = _S8102.y;
    float r2_55 = u_55 * u_55 + v_55 * v_55;
    float2  _S8103 = _S8102 * make_float2 (1.0f + r2_55 * ((*dist_coeffs_101)[int(0)] + r2_55 * ((*dist_coeffs_101)[int(1)] + r2_55 * ((*dist_coeffs_101)[int(2)] + r2_55 * (*dist_coeffs_101)[int(3)])))) + make_float2 (_S8087 * u_55 * v_55 + (*dist_coeffs_101)[int(5)] * (r2_55 + 2.0f * u_55 * u_55) + (*dist_coeffs_101)[int(6)] * r2_55, _S8088 * u_55 * v_55 + (*dist_coeffs_101)[int(4)] * (r2_55 + 2.0f * v_55 * v_55) + (*dist_coeffs_101)[int(7)] * r2_55);
    float2  _S8104 = _S8103 + make_float2 ((*dist_coeffs_101)[int(8)] * _S8103.x + (*dist_coeffs_101)[int(9)] * _S8103.y, 0.0f);
    float _S8105 = fx_97 * _S8104.x + cx_92;
    float _S8106 = fy_97 * _S8104.y + cy_92;
    float2  uv2_5 = make_float2 (_S8105, _S8106);
    float2  e0_3 = uv1_5 - uv0_5;
    float2  e1_3 = uv2_5 - uv1_5;
    float offset_3 = (1.0f / (1.0f - (F32_exp2((-1.0f / (1.0f - hardness_3.y))))) - 1.0f) * ((F32_abs((e0_3.x * e1_3.y - e0_3.y * e1_3.x))) / (length_0(e0_3) + length_0(e1_3) + length_0(uv0_5 - uv2_5)));
    *aabb_xyxy_55 = make_int4 (int((F32_floor(((F32_min(((F32_min((_S8091), (_S8098)))), (_S8105))) - offset_3)))), int((F32_floor(((F32_min(((F32_min((_S8092), (_S8099)))), (_S8106))) - offset_3)))), int((F32_ceil(((F32_max(((F32_max((_S8091), (_S8098)))), (_S8105))) + offset_3)))), int((F32_ceil(((F32_max(((F32_max((_S8092), (_S8099)))), (_S8106))) + offset_3)))));
    float3  _S8107 = (vert0_c_3 + vert1_c_3 + vert2_c_3) / make_float3 (3.0f);
    float _S8108 = _S8107.z;
    *depth_42 = (F32_max((_S8108), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S8108 + length_1(_S8107)))));
    float3  _S8109 = mean_65 - - mul_0(transpose_0(R_67), t_63);
    float _S8110 = _S8109.x;
    float _S8111 = _S8109.y;
    float _S8112 = _S8109.z;
    float norm_13 = (F32_sqrt((_S8110 * _S8110 + _S8111 * _S8111 + _S8112 * _S8112)));
    float x_76 = _S8110 / norm_13;
    float y_21 = _S8111 / norm_13;
    float z_18 = _S8112 / norm_13;
    float z2_99 = z_18 * z_18;
    float fTmp0B_18 = -1.09254848957061768f * z_18;
    float fC1_18 = x_76 * x_76 - y_21 * y_21;
    float fS1_18 = 2.0f * x_76 * y_21;
    float fTmp0C_18 = -2.28522896766662598f * z2_99 + 0.4570457935333252f;
    float fTmp1B_18 = 1.44530570507049561f * z_18;
    float3  color_3 = make_float3 (0.282094806432724f) * (*sh_coeffs_18)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (- y_21) * (*sh_coeffs_18)[int(1)] + make_float3 (z_18) * (*sh_coeffs_18)[int(2)] - make_float3 (x_76) * (*sh_coeffs_18)[int(3)]) + (make_float3 (0.54627424478530884f * fS1_18) * (*sh_coeffs_18)[int(4)] + make_float3 (fTmp0B_18 * y_21) * (*sh_coeffs_18)[int(5)] + make_float3 (0.94617468118667603f * z2_99 - 0.31539157032966614f) * (*sh_coeffs_18)[int(6)] + make_float3 (fTmp0B_18 * x_76) * (*sh_coeffs_18)[int(7)] + make_float3 (0.54627424478530884f * fC1_18) * (*sh_coeffs_18)[int(8)]) + (make_float3 (-0.59004360437393188f * (x_76 * fS1_18 + y_21 * fC1_18)) * (*sh_coeffs_18)[int(9)] + make_float3 (fTmp1B_18 * fS1_18) * (*sh_coeffs_18)[int(10)] + make_float3 (fTmp0C_18 * y_21) * (*sh_coeffs_18)[int(11)] + make_float3 (z_18 * (1.86588168144226074f * z2_99 - 1.11952900886535645f)) * (*sh_coeffs_18)[int(12)] + make_float3 (fTmp0C_18 * x_76) * (*sh_coeffs_18)[int(13)] + make_float3 (fTmp1B_18 * fC1_18) * (*sh_coeffs_18)[int(14)] + make_float3 (-0.59004360437393188f * (x_76 * fC1_18 - y_21 * fS1_18)) * (*sh_coeffs_18)[int(15)]);
    float3  _S8113 = make_float3 (0.0f);
    (*rgbs_3)[int(0)] = max_0(color_3 + (*ch_coeffs_3)[int(0)] + make_float3 (0.5f), _S8113);
    float3  _S8114 = color_3 - (*ch_coeffs_3)[int(0)] * make_float3 (0.5f);
    float3  _S8115 = (*ch_coeffs_3)[int(1)] * make_float3 ((F32_sqrt((0.75f))));
    (*rgbs_3)[int(1)] = max_0(_S8114 + _S8115 + make_float3 (0.5f), _S8113);
    (*rgbs_3)[int(2)] = max_0(_S8114 - _S8115 + make_float3 (0.5f), _S8113);
    (*verts_3)[int(0)] = vert0_4;
    (*verts_3)[int(1)] = vert1_4;
    (*verts_3)[int(2)] = vert2_4;
    float3  _S8116 = normalize_0(cross_0(vert1_c_3 - vert0_c_3, vert2_c_3 - vert0_c_3));
    *normal_3 = _S8116 * make_float3 (float(- (F32_sign((dot_0(_S8116, mean_c_74))))));
    return;
}

inline __device__ void s_bwd_prop_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_15, float3  _s_dOut_9)
{
    float _S8117 = length_1((*dpx_15).primal_0);
    float3  _S8118 = (*dpx_15).primal_0 * _s_dOut_9;
    float3  _S8119 = make_float3 (1.0f / _S8117) * _s_dOut_9;
    float _S8120 = - ((_S8118.x + _S8118.y + _S8118.z) / (_S8117 * _S8117));
    float3  _S8121 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8122;
    (&_S8122)->primal_0 = (*dpx_15).primal_0;
    (&_S8122)->differential_0 = _S8121;
    s_bwd_length_impl_1(&_S8122, _S8120);
    float3  _S8123 = _S8119 + _S8122.differential_0;
    dpx_15->primal_0 = (*dpx_15).primal_0;
    dpx_15->differential_0 = _S8123;
    return;
}

inline __device__ void s_bwd_normalize_impl_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S8124, float3  _S8125)
{
    s_bwd_prop_normalize_impl_0(_S8124, _S8125);
    return;
}

inline __device__ void s_bwd_prop_exp2_0(DiffPair_float_0 * _S8126, float _S8127)
{
    _d_exp2_0(_S8126, _S8127);
    return;
}

inline __device__ void s_bwd_prop_abs_0(DiffPair_float_0 * _S8128, float _S8129)
{
    _d_abs_0(_S8128, _S8129);
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_persp_vjp(float3  mean_66, float4  quat_67, float3  scale_66, float2  hardness_4, FixedArray<float3 , 16>  * sh_coeffs_19, FixedArray<float3 , 2>  * ch_coeffs_4, Matrix<float, 3, 3>  R_68, float3  t_64, float fx_98, float fy_98, float cx_93, float cy_93, FixedArray<float, 10>  * dist_coeffs_102, uint image_width_89, uint image_height_89, float v_depth_20, FixedArray<float3 , 3>  * v_verts_0, FixedArray<float3 , 3>  * v_rgbs_0, float3  v_normal_0, float3  * v_mean_21, float4  * v_quat_20, float3  * v_scale_20, float2  * v_hardness_0, FixedArray<float3 , 16>  * v_sh_coeffs_5, FixedArray<float3 , 2>  * v_ch_coeffs_0, Matrix<float, 3, 3>  * v_R_21, float3  * v_t_20)
{
    float3  mean_c_75 = s_primal_ctx_mul_0(R_68, mean_66) + t_64;
    float _S8130 = scale_66.x;
    float _S8131 = s_primal_ctx_exp_1(_S8130);
    float _S8132 = scale_66.y;
    float _S8133 = s_primal_ctx_exp_1(_S8132);
    float sz_5 = scale_66.z - 0.5f * (_S8130 + _S8132);
    float _S8134 = quat_67.y;
    float x2_81 = _S8134 * _S8134;
    float y2_81 = quat_67.z * quat_67.z;
    float z2_100 = quat_67.w * quat_67.w;
    float xy_81 = quat_67.y * quat_67.z;
    float xz_81 = quat_67.y * quat_67.w;
    float yz_81 = quat_67.z * quat_67.w;
    float wx_81 = quat_67.x * quat_67.y;
    float wy_81 = quat_67.x * quat_67.z;
    float wz_81 = quat_67.x * quat_67.w;
    Matrix<float, 3, 3>  _S8135 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_81 + z2_100), 2.0f * (xy_81 + wz_81), 2.0f * (xz_81 - wy_81), 2.0f * (xy_81 - wz_81), 1.0f - 2.0f * (x2_81 + z2_100), 2.0f * (yz_81 + wx_81), 2.0f * (xz_81 + wy_81), 2.0f * (yz_81 - wx_81), 1.0f - 2.0f * (x2_81 + y2_81)));
    float3  _S8136 = make_float3 (_S8131, 0.0f, 0.0f);
    float3  vert0_5 = s_primal_ctx_mul_0(_S8135, _S8136) + mean_66;
    float _S8137 = -0.5f + sz_5;
    float3  _S8138 = make_float3 (_S8131 * _S8137, _S8133, 0.0f);
    float3  vert1_5 = s_primal_ctx_mul_0(_S8135, _S8138) + mean_66;
    float _S8139 = -0.5f - sz_5;
    float3  _S8140 = make_float3 (_S8131 * _S8139, - _S8133, 0.0f);
    float3  vert2_5 = s_primal_ctx_mul_0(_S8135, _S8140) + mean_66;
    float3  vert0_c_4 = s_primal_ctx_mul_0(R_68, vert0_5) + t_64;
    float3  vert1_c_4 = s_primal_ctx_mul_0(R_68, vert1_5) + t_64;
    float3  vert2_c_4 = s_primal_ctx_mul_0(R_68, vert2_5) + t_64;
    float2  _S8141 = float2 {vert0_c_4.x, vert0_c_4.y};
    float _S8142 = vert0_c_4.z;
    float2  _S8143 = make_float2 (_S8142);
    float2  _S8144 = _S8141 / make_float2 (_S8142);
    float2  _S8145 = make_float2 (_S8142 * _S8142);
    float u_56 = _S8144.x;
    float v_56 = _S8144.y;
    float r2_56 = u_56 * u_56 + v_56 * v_56;
    float _S8146 = (*dist_coeffs_102)[int(2)] + r2_56 * (*dist_coeffs_102)[int(3)];
    float _S8147 = (*dist_coeffs_102)[int(1)] + r2_56 * _S8146;
    float _S8148 = (*dist_coeffs_102)[int(0)] + r2_56 * _S8147;
    float radial_1 = 1.0f + r2_56 * _S8148;
    float2  _S8149 = make_float2 (radial_1);
    float _S8150 = 2.0f * (*dist_coeffs_102)[int(4)];
    float _S8151 = _S8150 * u_56;
    float _S8152 = 2.0f * u_56;
    float _S8153 = 2.0f * (*dist_coeffs_102)[int(5)];
    float _S8154 = _S8153 * u_56;
    float _S8155 = 2.0f * v_56;
    float2  _S8156 = _S8144 * make_float2 (radial_1) + make_float2 (_S8151 * v_56 + (*dist_coeffs_102)[int(5)] * (r2_56 + _S8152 * u_56) + (*dist_coeffs_102)[int(6)] * r2_56, _S8154 * v_56 + (*dist_coeffs_102)[int(4)] * (r2_56 + _S8155 * v_56) + (*dist_coeffs_102)[int(7)] * r2_56);
    float2  _S8157 = _S8156 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8156.x + (*dist_coeffs_102)[int(9)] * _S8156.y, 0.0f);
    float _S8158 = fx_98 * _S8157.x + cx_93;
    float _S8159 = fy_98 * _S8157.y + cy_93;
    float2  uv0_6 = make_float2 (_S8158, _S8159);
    float2  _S8160 = float2 {vert1_c_4.x, vert1_c_4.y};
    float _S8161 = vert1_c_4.z;
    float2  _S8162 = make_float2 (_S8161);
    float2  _S8163 = _S8160 / make_float2 (_S8161);
    float2  _S8164 = make_float2 (_S8161 * _S8161);
    float u_57 = _S8163.x;
    float v_57 = _S8163.y;
    float r2_57 = u_57 * u_57 + v_57 * v_57;
    float _S8165 = (*dist_coeffs_102)[int(2)] + r2_57 * (*dist_coeffs_102)[int(3)];
    float _S8166 = (*dist_coeffs_102)[int(1)] + r2_57 * _S8165;
    float _S8167 = (*dist_coeffs_102)[int(0)] + r2_57 * _S8166;
    float radial_2 = 1.0f + r2_57 * _S8167;
    float2  _S8168 = make_float2 (radial_2);
    float _S8169 = _S8150 * u_57;
    float _S8170 = 2.0f * u_57;
    float _S8171 = _S8153 * u_57;
    float _S8172 = 2.0f * v_57;
    float2  _S8173 = _S8163 * make_float2 (radial_2) + make_float2 (_S8169 * v_57 + (*dist_coeffs_102)[int(5)] * (r2_57 + _S8170 * u_57) + (*dist_coeffs_102)[int(6)] * r2_57, _S8171 * v_57 + (*dist_coeffs_102)[int(4)] * (r2_57 + _S8172 * v_57) + (*dist_coeffs_102)[int(7)] * r2_57);
    float2  _S8174 = _S8173 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8173.x + (*dist_coeffs_102)[int(9)] * _S8173.y, 0.0f);
    float _S8175 = fx_98 * _S8174.x + cx_93;
    float _S8176 = fy_98 * _S8174.y + cy_93;
    float2  uv1_6 = make_float2 (_S8175, _S8176);
    float2  _S8177 = float2 {vert2_c_4.x, vert2_c_4.y};
    float _S8178 = vert2_c_4.z;
    float2  _S8179 = make_float2 (_S8178);
    float2  _S8180 = _S8177 / make_float2 (_S8178);
    float2  _S8181 = make_float2 (_S8178 * _S8178);
    float u_58 = _S8180.x;
    float v_58 = _S8180.y;
    float r2_58 = u_58 * u_58 + v_58 * v_58;
    float _S8182 = (*dist_coeffs_102)[int(2)] + r2_58 * (*dist_coeffs_102)[int(3)];
    float _S8183 = (*dist_coeffs_102)[int(1)] + r2_58 * _S8182;
    float _S8184 = (*dist_coeffs_102)[int(0)] + r2_58 * _S8183;
    float radial_3 = 1.0f + r2_58 * _S8184;
    float2  _S8185 = make_float2 (radial_3);
    float _S8186 = _S8150 * u_58;
    float _S8187 = 2.0f * u_58;
    float _S8188 = _S8153 * u_58;
    float _S8189 = 2.0f * v_58;
    float2  _S8190 = _S8180 * make_float2 (radial_3) + make_float2 (_S8186 * v_58 + (*dist_coeffs_102)[int(5)] * (r2_58 + _S8187 * u_58) + (*dist_coeffs_102)[int(6)] * r2_58, _S8188 * v_58 + (*dist_coeffs_102)[int(4)] * (r2_58 + _S8189 * v_58) + (*dist_coeffs_102)[int(7)] * r2_58);
    float2  _S8191 = _S8190 + make_float2 ((*dist_coeffs_102)[int(8)] * _S8190.x + (*dist_coeffs_102)[int(9)] * _S8190.y, 0.0f);
    float _S8192 = fx_98 * _S8191.x + cx_93;
    float _S8193 = fy_98 * _S8191.y + cy_93;
    float2  uv2_6 = make_float2 (_S8192, _S8193);
    float2  e0_4 = uv1_6 - uv0_6;
    float2  e1_4 = uv2_6 - uv1_6;
    float2  e2_0 = uv0_6 - uv2_6;
    float _S8194 = e0_4.x;
    float _S8195 = e1_4.y;
    float _S8196 = e0_4.y;
    float _S8197 = e1_4.x;
    float _S8198 = _S8194 * _S8195 - _S8196 * _S8197;
    float _S8199 = 1.0f - hardness_4.y;
    float _S8200 = -1.0f / _S8199;
    float _S8201 = _S8199 * _S8199;
    float _S8202 = s_primal_ctx_max_0(_S8158, _S8175);
    float _S8203 = s_primal_ctx_min_0(_S8158, _S8175);
    float _S8204 = s_primal_ctx_max_0(_S8159, _S8176);
    float _S8205 = s_primal_ctx_min_0(_S8159, _S8176);
    float3  _S8206 = (vert0_c_4 + vert1_c_4 + vert2_c_4) / make_float3 (3.0f);
    float _S8207 = _S8206.z;
    float _S8208 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8209 = _S8208 * (_S8207 + length_1(_S8206));
    Matrix<float, 3, 3>  _S8210 = transpose_0(R_68);
    float3  _S8211 = mean_66 - - s_primal_ctx_mul_0(_S8210, t_64);
    float _S8212 = _S8211.x;
    float _S8213 = _S8211.y;
    float _S8214 = _S8211.z;
    float _S8215 = _S8212 * _S8212 + _S8213 * _S8213 + _S8214 * _S8214;
    float _S8216 = s_primal_ctx_sqrt_0(_S8215);
    float x_77 = _S8212 / _S8216;
    float3  _S8217 = make_float3 (x_77);
    float _S8218 = _S8216 * _S8216;
    float y_22 = _S8213 / _S8216;
    float z_19 = _S8214 / _S8216;
    float3  _S8219 = make_float3 (z_19);
    float _S8220 = - y_22;
    float3  _S8221 = make_float3 (_S8220);
    float z2_101 = z_19 * z_19;
    float fTmp0B_19 = -1.09254848957061768f * z_19;
    float fC1_19 = x_77 * x_77 - y_22 * y_22;
    float _S8222 = 2.0f * x_77;
    float fS1_19 = _S8222 * y_22;
    float pSH6_5 = 0.94617468118667603f * z2_101 - 0.31539157032966614f;
    float3  _S8223 = make_float3 (pSH6_5);
    float pSH7_5 = fTmp0B_19 * x_77;
    float3  _S8224 = make_float3 (pSH7_5);
    float pSH5_5 = fTmp0B_19 * y_22;
    float3  _S8225 = make_float3 (pSH5_5);
    float pSH8_5 = 0.54627424478530884f * fC1_19;
    float3  _S8226 = make_float3 (pSH8_5);
    float pSH4_5 = 0.54627424478530884f * fS1_19;
    float3  _S8227 = make_float3 (pSH4_5);
    float fTmp0C_19 = -2.28522896766662598f * z2_101 + 0.4570457935333252f;
    float fTmp1B_19 = 1.44530570507049561f * z_19;
    float _S8228 = 1.86588168144226074f * z2_101 - 1.11952900886535645f;
    float pSH12_5 = z_19 * _S8228;
    float3  _S8229 = make_float3 (pSH12_5);
    float pSH13_5 = fTmp0C_19 * x_77;
    float3  _S8230 = make_float3 (pSH13_5);
    float pSH11_5 = fTmp0C_19 * y_22;
    float3  _S8231 = make_float3 (pSH11_5);
    float pSH14_5 = fTmp1B_19 * fC1_19;
    float3  _S8232 = make_float3 (pSH14_5);
    float pSH10_5 = fTmp1B_19 * fS1_19;
    float3  _S8233 = make_float3 (pSH10_5);
    float pSH15_5 = -0.59004360437393188f * (x_77 * fC1_19 - y_22 * fS1_19);
    float3  _S8234 = make_float3 (pSH15_5);
    float pSH9_5 = -0.59004360437393188f * (x_77 * fS1_19 + y_22 * fC1_19);
    float3  _S8235 = make_float3 (pSH9_5);
    float3  color_4 = make_float3 (0.282094806432724f) * (*sh_coeffs_19)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S8220) * (*sh_coeffs_19)[int(1)] + make_float3 (z_19) * (*sh_coeffs_19)[int(2)] - make_float3 (x_77) * (*sh_coeffs_19)[int(3)]) + (make_float3 (pSH4_5) * (*sh_coeffs_19)[int(4)] + make_float3 (pSH5_5) * (*sh_coeffs_19)[int(5)] + make_float3 (pSH6_5) * (*sh_coeffs_19)[int(6)] + make_float3 (pSH7_5) * (*sh_coeffs_19)[int(7)] + make_float3 (pSH8_5) * (*sh_coeffs_19)[int(8)]) + (make_float3 (pSH9_5) * (*sh_coeffs_19)[int(9)] + make_float3 (pSH10_5) * (*sh_coeffs_19)[int(10)] + make_float3 (pSH11_5) * (*sh_coeffs_19)[int(11)] + make_float3 (pSH12_5) * (*sh_coeffs_19)[int(12)] + make_float3 (pSH13_5) * (*sh_coeffs_19)[int(13)] + make_float3 (pSH14_5) * (*sh_coeffs_19)[int(14)] + make_float3 (pSH15_5) * (*sh_coeffs_19)[int(15)]);
    float3  _S8236 = color_4 + (*ch_coeffs_4)[int(0)] + make_float3 (0.5f);
    float3  _S8237 = make_float3 (0.0f);
    float3  _S8238 = color_4 - (*ch_coeffs_4)[int(0)] * make_float3 (0.5f);
    float _S8239 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S8240 = make_float3 (_S8239);
    float3  _S8241 = (*ch_coeffs_4)[int(1)] * make_float3 (_S8239);
    float3  _S8242 = _S8238 + _S8241 + make_float3 (0.5f);
    float3  _S8243 = _S8238 - _S8241 + make_float3 (0.5f);
    float3  _S8244 = vert1_c_4 - vert0_c_4;
    float3  _S8245 = vert2_c_4 - vert0_c_4;
    float3  _S8246 = s_primal_ctx_cross_0(_S8244, _S8245);
    float3  _S8247 = normalize_0(_S8246);
    float3  _S8248 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S8247, mean_c_75)))))) * v_normal_0;
    float3  _S8249 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8250;
    (&_S8250)->primal_0 = _S8247;
    (&_S8250)->differential_0 = _S8249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8251;
    (&_S8251)->primal_0 = mean_c_75;
    (&_S8251)->differential_0 = _S8249;
    s_bwd_prop_dot_0(&_S8250, &_S8251, 0.0f);
    float3  _S8252 = _S8248 + _S8250.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8253;
    (&_S8253)->primal_0 = _S8246;
    (&_S8253)->differential_0 = _S8249;
    s_bwd_normalize_impl_0(&_S8253, _S8252);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8254;
    (&_S8254)->primal_0 = _S8244;
    (&_S8254)->differential_0 = _S8249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8255;
    (&_S8255)->primal_0 = _S8245;
    (&_S8255)->differential_0 = _S8249;
    s_bwd_prop_cross_0(&_S8254, &_S8255, _S8253.differential_0);
    float3  _S8256 = - _S8255.differential_0;
    float3  _S8257 = - _S8254.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8258;
    (&_S8258)->primal_0 = _S8243;
    (&_S8258)->differential_0 = _S8249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8259;
    (&_S8259)->primal_0 = _S8237;
    (&_S8259)->differential_0 = _S8249;
    s_bwd_prop_max_0(&_S8258, &_S8259, (*v_rgbs_0)[int(2)]);
    float3  _S8260 = - _S8258.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8261;
    (&_S8261)->primal_0 = _S8242;
    (&_S8261)->differential_0 = _S8249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8262;
    (&_S8262)->primal_0 = _S8237;
    (&_S8262)->differential_0 = _S8249;
    s_bwd_prop_max_0(&_S8261, &_S8262, (*v_rgbs_0)[int(1)]);
    float3  _S8263 = _S8240 * (_S8260 + _S8261.differential_0);
    float3  _S8264 = _S8258.differential_0 + _S8261.differential_0;
    float3  _S8265 = make_float3 (0.5f) * - _S8264;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8266;
    (&_S8266)->primal_0 = _S8236;
    (&_S8266)->differential_0 = _S8249;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8267;
    (&_S8267)->primal_0 = _S8237;
    (&_S8267)->differential_0 = _S8249;
    s_bwd_prop_max_0(&_S8266, &_S8267, (*v_rgbs_0)[int(0)]);
    float3  _S8268 = _S8265 + _S8266.differential_0;
    float3  _S8269 = _S8264 + _S8266.differential_0;
    float3  _S8270 = _S8234 * _S8269;
    float3  _S8271 = (*sh_coeffs_19)[int(15)] * _S8269;
    float3  _S8272 = _S8232 * _S8269;
    float3  _S8273 = (*sh_coeffs_19)[int(14)] * _S8269;
    float3  _S8274 = _S8230 * _S8269;
    float3  _S8275 = (*sh_coeffs_19)[int(13)] * _S8269;
    float3  _S8276 = _S8229 * _S8269;
    float3  _S8277 = (*sh_coeffs_19)[int(12)] * _S8269;
    float3  _S8278 = _S8231 * _S8269;
    float3  _S8279 = (*sh_coeffs_19)[int(11)] * _S8269;
    float3  _S8280 = _S8233 * _S8269;
    float3  _S8281 = (*sh_coeffs_19)[int(10)] * _S8269;
    float3  _S8282 = _S8235 * _S8269;
    float3  _S8283 = (*sh_coeffs_19)[int(9)] * _S8269;
    float s_diff_fS2_T_5 = -0.59004360437393188f * (_S8283.x + _S8283.y + _S8283.z);
    float s_diff_fC2_T_5 = -0.59004360437393188f * (_S8271.x + _S8271.y + _S8271.z);
    float _S8284 = _S8281.x + _S8281.y + _S8281.z;
    float _S8285 = _S8273.x + _S8273.y + _S8273.z;
    float _S8286 = _S8279.x + _S8279.y + _S8279.z;
    float _S8287 = _S8275.x + _S8275.y + _S8275.z;
    float _S8288 = _S8277.x + _S8277.y + _S8277.z;
    float _S8289 = - s_diff_fC2_T_5;
    float3  _S8290 = _S8226 * _S8269;
    float3  _S8291 = (*sh_coeffs_19)[int(8)] * _S8269;
    float3  _S8292 = _S8224 * _S8269;
    float3  _S8293 = (*sh_coeffs_19)[int(7)] * _S8269;
    float3  _S8294 = _S8223 * _S8269;
    float3  _S8295 = (*sh_coeffs_19)[int(6)] * _S8269;
    float3  _S8296 = _S8225 * _S8269;
    float3  _S8297 = (*sh_coeffs_19)[int(5)] * _S8269;
    float3  _S8298 = _S8227 * _S8269;
    float3  _S8299 = (*sh_coeffs_19)[int(4)] * _S8269;
    float _S8300 = _S8297.x + _S8297.y + _S8297.z;
    float _S8301 = _S8293.x + _S8293.y + _S8293.z;
    float _S8302 = fTmp1B_19 * _S8284 + x_77 * s_diff_fS2_T_5 + y_22 * _S8289 + 0.54627424478530884f * (_S8299.x + _S8299.y + _S8299.z);
    float _S8303 = fTmp1B_19 * _S8285 + y_22 * s_diff_fS2_T_5 + x_77 * s_diff_fC2_T_5 + 0.54627424478530884f * (_S8291.x + _S8291.y + _S8291.z);
    float _S8304 = y_22 * - _S8303;
    float _S8305 = x_77 * _S8303;
    float _S8306 = z_19 * (1.86588168144226074f * (z_19 * _S8288) + -2.28522896766662598f * (y_22 * _S8286 + x_77 * _S8287) + 0.94617468118667603f * (_S8295.x + _S8295.y + _S8295.z));
    float3  _S8307 = make_float3 (0.48860251903533936f) * _S8269;
    float3  _S8308 = - _S8307;
    float3  _S8309 = _S8217 * _S8308;
    float3  _S8310 = (*sh_coeffs_19)[int(3)] * _S8308;
    float3  _S8311 = _S8219 * _S8307;
    float3  _S8312 = (*sh_coeffs_19)[int(2)] * _S8307;
    float3  _S8313 = _S8221 * _S8307;
    float3  _S8314 = (*sh_coeffs_19)[int(1)] * _S8307;
    float _S8315 = (_S8228 * _S8288 + 1.44530570507049561f * (fS1_19 * _S8284 + fC1_19 * _S8285) + -1.09254848957061768f * (y_22 * _S8300 + x_77 * _S8301) + _S8306 + _S8306 + _S8312.x + _S8312.y + _S8312.z) / _S8218;
    float _S8316 = _S8216 * _S8315;
    float _S8317 = (fTmp0C_19 * _S8286 + fC1_19 * s_diff_fS2_T_5 + fS1_19 * _S8289 + fTmp0B_19 * _S8300 + _S8222 * _S8302 + _S8304 + _S8304 + - (_S8314.x + _S8314.y + _S8314.z)) / _S8218;
    float _S8318 = _S8216 * _S8317;
    float _S8319 = (fTmp0C_19 * _S8287 + fS1_19 * s_diff_fS2_T_5 + fC1_19 * s_diff_fC2_T_5 + fTmp0B_19 * _S8301 + 2.0f * (y_22 * _S8302) + _S8305 + _S8305 + _S8310.x + _S8310.y + _S8310.z) / _S8218;
    float _S8320 = _S8216 * _S8319;
    float _S8321 = _S8214 * - _S8315 + _S8213 * - _S8317 + _S8212 * - _S8319;
    DiffPair_float_0 _S8322;
    (&_S8322)->primal_0 = _S8215;
    (&_S8322)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8322, _S8321);
    float _S8323 = _S8214 * _S8322.differential_0;
    float _S8324 = _S8213 * _S8322.differential_0;
    float _S8325 = _S8212 * _S8322.differential_0;
    float3  _S8326 = make_float3 (0.282094806432724f) * _S8269;
    float3  _S8327 = make_float3 (_S8320 + _S8325 + _S8325, _S8318 + _S8324 + _S8324, _S8316 + _S8323 + _S8323);
    float3  _S8328 = - - _S8327;
    Matrix<float, 3, 3>  _S8329 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8330;
    (&_S8330)->primal_0 = _S8210;
    (&_S8330)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8331;
    (&_S8331)->primal_0 = t_64;
    (&_S8331)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8330, &_S8331, _S8328);
    Matrix<float, 3, 3>  _S8332 = transpose_0(_S8330.differential_0);
    DiffPair_float_0 _S8333;
    (&_S8333)->primal_0 = _S8207;
    (&_S8333)->differential_0 = 0.0f;
    DiffPair_float_0 _S8334;
    (&_S8334)->primal_0 = _S8209;
    (&_S8334)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8333, &_S8334, v_depth_20);
    float _S8335 = _S8208 * _S8334.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8336;
    (&_S8336)->primal_0 = _S8206;
    (&_S8336)->differential_0 = _S8249;
    s_bwd_length_impl_1(&_S8336, _S8335);
    float3  _S8337 = make_float3 (0.3333333432674408f) * (_S8336.differential_0 + make_float3 (0.0f, 0.0f, _S8333.differential_0 + _S8335));
    DiffPair_float_0 _S8338;
    (&_S8338)->primal_0 = _S8205;
    (&_S8338)->differential_0 = 0.0f;
    DiffPair_float_0 _S8339;
    (&_S8339)->primal_0 = _S8193;
    (&_S8339)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8338, &_S8339, 0.0f);
    DiffPair_float_0 _S8340;
    (&_S8340)->primal_0 = _S8159;
    (&_S8340)->differential_0 = 0.0f;
    DiffPair_float_0 _S8341;
    (&_S8341)->primal_0 = _S8176;
    (&_S8341)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8340, &_S8341, _S8338.differential_0);
    DiffPair_float_0 _S8342;
    (&_S8342)->primal_0 = _S8204;
    (&_S8342)->differential_0 = 0.0f;
    DiffPair_float_0 _S8343;
    (&_S8343)->primal_0 = _S8193;
    (&_S8343)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8342, &_S8343, 0.0f);
    DiffPair_float_0 _S8344;
    (&_S8344)->primal_0 = _S8159;
    (&_S8344)->differential_0 = 0.0f;
    DiffPair_float_0 _S8345;
    (&_S8345)->primal_0 = _S8176;
    (&_S8345)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8344, &_S8345, _S8342.differential_0);
    DiffPair_float_0 _S8346;
    (&_S8346)->primal_0 = _S8203;
    (&_S8346)->differential_0 = 0.0f;
    DiffPair_float_0 _S8347;
    (&_S8347)->primal_0 = _S8192;
    (&_S8347)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8346, &_S8347, 0.0f);
    DiffPair_float_0 _S8348;
    (&_S8348)->primal_0 = _S8158;
    (&_S8348)->differential_0 = 0.0f;
    DiffPair_float_0 _S8349;
    (&_S8349)->primal_0 = _S8175;
    (&_S8349)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8348, &_S8349, _S8346.differential_0);
    DiffPair_float_0 _S8350;
    (&_S8350)->primal_0 = _S8202;
    (&_S8350)->differential_0 = 0.0f;
    DiffPair_float_0 _S8351;
    (&_S8351)->primal_0 = _S8192;
    (&_S8351)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8350, &_S8351, 0.0f);
    DiffPair_float_0 _S8352;
    (&_S8352)->primal_0 = _S8158;
    (&_S8352)->differential_0 = 0.0f;
    DiffPair_float_0 _S8353;
    (&_S8353)->primal_0 = _S8175;
    (&_S8353)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8352, &_S8353, _S8350.differential_0);
    DiffPair_float_0 _S8354;
    (&_S8354)->primal_0 = _S8200;
    (&_S8354)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S8354, 0.0f);
    float _S8355 = - (-1.0f * - (_S8354.differential_0 / _S8201));
    float2  _S8356 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8357;
    (&_S8357)->primal_0 = e2_0;
    (&_S8357)->differential_0 = _S8356;
    s_bwd_length_impl_0(&_S8357, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8358;
    (&_S8358)->primal_0 = e1_4;
    (&_S8358)->differential_0 = _S8356;
    s_bwd_length_impl_0(&_S8358, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8359;
    (&_S8359)->primal_0 = e0_4;
    (&_S8359)->differential_0 = _S8356;
    s_bwd_length_impl_0(&_S8359, -0.0f);
    DiffPair_float_0 _S8360;
    (&_S8360)->primal_0 = _S8198;
    (&_S8360)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S8360, 0.0f);
    float _S8361 = - _S8360.differential_0;
    float2  _S8362 = _S8358.differential_0 + make_float2 (_S8196 * _S8361, _S8194 * _S8360.differential_0);
    float2  _S8363 = _S8359.differential_0 + make_float2 (_S8195 * _S8360.differential_0, _S8197 * _S8361);
    float2  _S8364 = - _S8357.differential_0 + _S8362;
    float _S8365 = fx_98 * (_S8347.differential_0 + _S8351.differential_0 + _S8364.x);
    float2  _S8366 = make_float2 (_S8365, fy_98 * (_S8339.differential_0 + _S8343.differential_0 + _S8364.y)) + make_float2 ((*dist_coeffs_102)[int(8)] * _S8365, (*dist_coeffs_102)[int(9)] * _S8365);
    float2  _S8367 = _S8180 * _S8366;
    float _S8368 = (*dist_coeffs_102)[int(4)] * _S8366.y;
    float _S8369 = (*dist_coeffs_102)[int(5)] * _S8366.x;
    float _S8370 = _S8367.x + _S8367.y;
    float _S8371 = r2_58 * _S8370;
    float _S8372 = r2_58 * _S8371;
    float _S8373 = (*dist_coeffs_102)[int(7)] * _S8366.y + _S8368 + (*dist_coeffs_102)[int(6)] * _S8366.x + _S8369 + _S8184 * _S8370 + _S8183 * _S8371 + _S8182 * _S8372 + (*dist_coeffs_102)[int(3)] * (r2_58 * _S8372);
    float _S8374 = v_58 * _S8373;
    float _S8375 = u_58 * _S8373;
    float2  _S8376 = (_S8185 * _S8366 + make_float2 (_S8153 * (v_58 * _S8366.y) + _S8187 * _S8369 + 2.0f * (u_58 * _S8369) + _S8150 * (v_58 * _S8366.x) + _S8375 + _S8375, _S8189 * _S8368 + 2.0f * (v_58 * _S8368) + _S8188 * _S8366.y + _S8186 * _S8366.x + _S8374 + _S8374)) / _S8181;
    float2  _S8377 = _S8177 * - _S8376;
    float2  _S8378 = _S8179 * _S8376;
    float2  _S8379 = - _S8362 + _S8363;
    float _S8380 = fx_98 * (_S8349.differential_0 + _S8353.differential_0 + _S8379.x);
    float2  _S8381 = make_float2 (_S8380, fy_98 * (_S8341.differential_0 + _S8345.differential_0 + _S8379.y)) + make_float2 ((*dist_coeffs_102)[int(8)] * _S8380, (*dist_coeffs_102)[int(9)] * _S8380);
    float2  _S8382 = _S8163 * _S8381;
    float _S8383 = (*dist_coeffs_102)[int(4)] * _S8381.y;
    float _S8384 = (*dist_coeffs_102)[int(5)] * _S8381.x;
    float _S8385 = _S8382.x + _S8382.y;
    float _S8386 = r2_57 * _S8385;
    float _S8387 = r2_57 * _S8386;
    float _S8388 = (*dist_coeffs_102)[int(7)] * _S8381.y + _S8383 + (*dist_coeffs_102)[int(6)] * _S8381.x + _S8384 + _S8167 * _S8385 + _S8166 * _S8386 + _S8165 * _S8387 + (*dist_coeffs_102)[int(3)] * (r2_57 * _S8387);
    float _S8389 = v_57 * _S8388;
    float _S8390 = u_57 * _S8388;
    float2  _S8391 = (_S8168 * _S8381 + make_float2 (_S8153 * (v_57 * _S8381.y) + _S8170 * _S8384 + 2.0f * (u_57 * _S8384) + _S8150 * (v_57 * _S8381.x) + _S8390 + _S8390, _S8172 * _S8383 + 2.0f * (v_57 * _S8383) + _S8171 * _S8381.y + _S8169 * _S8381.x + _S8389 + _S8389)) / _S8164;
    float2  _S8392 = _S8160 * - _S8391;
    float2  _S8393 = _S8162 * _S8391;
    float _S8394 = _S8392.x + _S8392.y;
    float2  _S8395 = _S8357.differential_0 + - _S8363;
    float _S8396 = fx_98 * (_S8348.differential_0 + _S8352.differential_0 + _S8395.x);
    float2  _S8397 = make_float2 (_S8396, fy_98 * (_S8340.differential_0 + _S8344.differential_0 + _S8395.y)) + make_float2 ((*dist_coeffs_102)[int(8)] * _S8396, (*dist_coeffs_102)[int(9)] * _S8396);
    float2  _S8398 = _S8144 * _S8397;
    float _S8399 = (*dist_coeffs_102)[int(4)] * _S8397.y;
    float _S8400 = (*dist_coeffs_102)[int(5)] * _S8397.x;
    float _S8401 = _S8398.x + _S8398.y;
    float _S8402 = r2_56 * _S8401;
    float _S8403 = r2_56 * _S8402;
    float _S8404 = (*dist_coeffs_102)[int(7)] * _S8397.y + _S8399 + (*dist_coeffs_102)[int(6)] * _S8397.x + _S8400 + _S8148 * _S8401 + _S8147 * _S8402 + _S8146 * _S8403 + (*dist_coeffs_102)[int(3)] * (r2_56 * _S8403);
    float _S8405 = v_56 * _S8404;
    float _S8406 = u_56 * _S8404;
    float2  _S8407 = (_S8149 * _S8397 + make_float2 (_S8153 * (v_56 * _S8397.y) + _S8152 * _S8400 + 2.0f * (u_56 * _S8400) + _S8150 * (v_56 * _S8397.x) + _S8406 + _S8406, _S8155 * _S8399 + 2.0f * (v_56 * _S8399) + _S8154 * _S8397.y + _S8151 * _S8397.x + _S8405 + _S8405)) / _S8145;
    float2  _S8408 = _S8141 * - _S8407;
    float2  _S8409 = _S8143 * _S8407;
    float _S8410 = _S8408.x + _S8408.y;
    float3  _S8411 = _S8255.differential_0 + _S8337 + make_float3 (_S8378.x, _S8378.y, _S8377.x + _S8377.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8412;
    (&_S8412)->primal_0 = R_68;
    (&_S8412)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8413;
    (&_S8413)->primal_0 = vert2_5;
    (&_S8413)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8412, &_S8413, _S8411);
    float3  _S8414 = _S8254.differential_0 + _S8337 + make_float3 (_S8393.x, _S8393.y, _S8394);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8415;
    (&_S8415)->primal_0 = R_68;
    (&_S8415)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8416;
    (&_S8416)->primal_0 = vert1_5;
    (&_S8416)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8415, &_S8416, _S8414);
    float3  _S8417 = _S8256 + _S8257 + _S8337 + make_float3 (_S8409.x, _S8409.y, _S8410);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8418;
    (&_S8418)->primal_0 = R_68;
    (&_S8418)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8419;
    (&_S8419)->primal_0 = vert0_5;
    (&_S8419)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8418, &_S8419, _S8417);
    float3  _S8420 = (*v_verts_0)[int(2)] + _S8413.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8421;
    (&_S8421)->primal_0 = _S8135;
    (&_S8421)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8422;
    (&_S8422)->primal_0 = _S8140;
    (&_S8422)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8421, &_S8422, _S8420);
    float _S8423 = - _S8422.differential_0.y;
    float _S8424 = _S8139 * _S8422.differential_0.x;
    float _S8425 = - (_S8131 * _S8422.differential_0.x);
    float3  _S8426 = (*v_verts_0)[int(1)] + _S8416.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8427;
    (&_S8427)->primal_0 = _S8135;
    (&_S8427)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8428;
    (&_S8428)->primal_0 = _S8138;
    (&_S8428)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8427, &_S8428, _S8426);
    float _S8429 = _S8131 * _S8428.differential_0.x;
    float _S8430 = _S8137 * _S8428.differential_0.x;
    float3  _S8431 = (*v_verts_0)[int(0)] + _S8419.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8432;
    (&_S8432)->primal_0 = _S8135;
    (&_S8432)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8433;
    (&_S8433)->primal_0 = _S8136;
    (&_S8433)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8432, &_S8433, _S8431);
    Matrix<float, 3, 3>  _S8434 = transpose_0(_S8421.differential_0 + _S8427.differential_0 + _S8432.differential_0);
    float _S8435 = 2.0f * - _S8434.rows[int(2)].z;
    float _S8436 = 2.0f * _S8434.rows[int(2)].y;
    float _S8437 = 2.0f * _S8434.rows[int(2)].x;
    float _S8438 = 2.0f * _S8434.rows[int(1)].z;
    float _S8439 = 2.0f * - _S8434.rows[int(1)].y;
    float _S8440 = 2.0f * _S8434.rows[int(1)].x;
    float _S8441 = 2.0f * _S8434.rows[int(0)].z;
    float _S8442 = 2.0f * _S8434.rows[int(0)].y;
    float _S8443 = 2.0f * - _S8434.rows[int(0)].x;
    float _S8444 = - _S8440 + _S8442;
    float _S8445 = _S8437 + - _S8441;
    float _S8446 = - _S8436 + _S8438;
    float _S8447 = _S8436 + _S8438;
    float _S8448 = _S8437 + _S8441;
    float _S8449 = _S8440 + _S8442;
    float _S8450 = quat_67.w * (_S8439 + _S8443);
    float _S8451 = quat_67.z * (_S8435 + _S8443);
    float _S8452 = quat_67.y * (_S8435 + _S8439);
    float _S8453 = quat_67.x * _S8444 + quat_67.z * _S8447 + quat_67.y * _S8448 + _S8450 + _S8450;
    float _S8454 = quat_67.x * _S8445 + quat_67.w * _S8447 + quat_67.y * _S8449 + _S8451 + _S8451;
    float _S8455 = quat_67.x * _S8446 + quat_67.w * _S8448 + quat_67.z * _S8449 + _S8452 + _S8452;
    float _S8456 = quat_67.w * _S8444 + quat_67.z * _S8445 + quat_67.y * _S8446;
    float _S8457 = _S8425 + _S8429;
    float _S8458 = 0.5f * - _S8457;
    float _S8459 = _S8423 + _S8428.differential_0.y;
    DiffPair_float_0 _S8460;
    (&_S8460)->primal_0 = _S8132;
    (&_S8460)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8460, _S8459);
    float _S8461 = _S8458 + _S8460.differential_0;
    float _S8462 = _S8424 + _S8430 + _S8433.differential_0.x;
    DiffPair_float_0 _S8463;
    (&_S8463)->primal_0 = _S8130;
    (&_S8463)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8463, _S8462);
    float _S8464 = _S8458 + _S8463.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8465;
    (&_S8465)->primal_0 = R_68;
    (&_S8465)->differential_0 = _S8329;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8466;
    (&_S8466)->primal_0 = mean_66;
    (&_S8466)->differential_0 = _S8249;
    s_bwd_prop_mul_1(&_S8465, &_S8466, _S8251.differential_0);
    float3  _S8467 = _S8331.differential_0 + _S8411 + _S8414 + _S8417 + _S8251.differential_0;
    Matrix<float, 3, 3>  _S8468 = _S8332 + _S8412.differential_0 + _S8415.differential_0 + _S8418.differential_0 + _S8465.differential_0;
    FixedArray<float3 , 2>  _S8469;
    _S8469[int(0)] = _S8249;
    _S8469[int(1)] = _S8249;
    _S8469[int(1)] = _S8263;
    _S8469[int(0)] = _S8268;
    FixedArray<float3 , 16>  _S8470;
    _S8470[int(0)] = _S8249;
    _S8470[int(1)] = _S8249;
    _S8470[int(2)] = _S8249;
    _S8470[int(3)] = _S8249;
    _S8470[int(4)] = _S8249;
    _S8470[int(5)] = _S8249;
    _S8470[int(6)] = _S8249;
    _S8470[int(7)] = _S8249;
    _S8470[int(8)] = _S8249;
    _S8470[int(9)] = _S8249;
    _S8470[int(10)] = _S8249;
    _S8470[int(11)] = _S8249;
    _S8470[int(12)] = _S8249;
    _S8470[int(13)] = _S8249;
    _S8470[int(14)] = _S8249;
    _S8470[int(15)] = _S8249;
    _S8470[int(15)] = _S8270;
    _S8470[int(14)] = _S8272;
    _S8470[int(13)] = _S8274;
    _S8470[int(12)] = _S8276;
    _S8470[int(11)] = _S8278;
    _S8470[int(10)] = _S8280;
    _S8470[int(9)] = _S8282;
    _S8470[int(8)] = _S8290;
    _S8470[int(7)] = _S8292;
    _S8470[int(6)] = _S8294;
    _S8470[int(5)] = _S8296;
    _S8470[int(4)] = _S8298;
    _S8470[int(3)] = _S8309;
    _S8470[int(2)] = _S8311;
    _S8470[int(1)] = _S8313;
    _S8470[int(0)] = _S8326;
    float2  _S8471 = make_float2 (0.0f, _S8355);
    float3  _S8472 = make_float3 (_S8464, _S8461, _S8457);
    float4  _S8473 = make_float4 (0.0f);
    *&((&_S8473)->w) = _S8453;
    *&((&_S8473)->z) = _S8454;
    *&((&_S8473)->y) = _S8455;
    *&((&_S8473)->x) = _S8456;
    *v_mean_21 = _S8327 + _S8420 + _S8426 + _S8431 + _S8466.differential_0;
    *v_quat_20 = _S8473;
    *v_scale_20 = _S8472;
    *v_hardness_0 = _S8471;
    *v_sh_coeffs_5 = _S8470;
    *v_ch_coeffs_0 = _S8469;
    *v_R_21 = _S8468;
    *v_t_20 = _S8467;
    return;
}

inline __device__ void projection_opaque_triangle_eval3d_fisheye_vjp(float3  mean_67, float4  quat_68, float3  scale_67, float2  hardness_5, FixedArray<float3 , 16>  * sh_coeffs_20, FixedArray<float3 , 2>  * ch_coeffs_5, Matrix<float, 3, 3>  R_69, float3  t_65, float fx_99, float fy_99, float cx_94, float cy_94, FixedArray<float, 10>  * dist_coeffs_103, uint image_width_90, uint image_height_90, float v_depth_21, FixedArray<float3 , 3>  * v_verts_1, FixedArray<float3 , 3>  * v_rgbs_1, float3  v_normal_1, float3  * v_mean_22, float4  * v_quat_21, float3  * v_scale_21, float2  * v_hardness_1, FixedArray<float3 , 16>  * v_sh_coeffs_6, FixedArray<float3 , 2>  * v_ch_coeffs_1, Matrix<float, 3, 3>  * v_R_22, float3  * v_t_21)
{
    float3  mean_c_76 = s_primal_ctx_mul_0(R_69, mean_67) + t_65;
    float _S8474 = scale_67.x;
    float _S8475 = s_primal_ctx_exp_1(_S8474);
    float _S8476 = scale_67.y;
    float _S8477 = s_primal_ctx_exp_1(_S8476);
    float sz_6 = scale_67.z - 0.5f * (_S8474 + _S8476);
    float _S8478 = quat_68.y;
    float x2_82 = _S8478 * _S8478;
    float y2_82 = quat_68.z * quat_68.z;
    float z2_102 = quat_68.w * quat_68.w;
    float xy_82 = quat_68.y * quat_68.z;
    float xz_82 = quat_68.y * quat_68.w;
    float yz_82 = quat_68.z * quat_68.w;
    float wx_82 = quat_68.x * quat_68.y;
    float wy_82 = quat_68.x * quat_68.z;
    float wz_82 = quat_68.x * quat_68.w;
    Matrix<float, 3, 3>  _S8479 = transpose_0(makeMatrix<float, 3, 3> (1.0f - 2.0f * (y2_82 + z2_102), 2.0f * (xy_82 + wz_82), 2.0f * (xz_82 - wy_82), 2.0f * (xy_82 - wz_82), 1.0f - 2.0f * (x2_82 + z2_102), 2.0f * (yz_82 + wx_82), 2.0f * (xz_82 + wy_82), 2.0f * (yz_82 - wx_82), 1.0f - 2.0f * (x2_82 + y2_82)));
    float3  _S8480 = make_float3 (_S8475, 0.0f, 0.0f);
    float3  vert0_6 = s_primal_ctx_mul_0(_S8479, _S8480) + mean_67;
    float _S8481 = -0.5f + sz_6;
    float3  _S8482 = make_float3 (_S8475 * _S8481, _S8477, 0.0f);
    float3  vert1_6 = s_primal_ctx_mul_0(_S8479, _S8482) + mean_67;
    float _S8483 = -0.5f - sz_6;
    float3  _S8484 = make_float3 (_S8475 * _S8483, - _S8477, 0.0f);
    float3  vert2_6 = s_primal_ctx_mul_0(_S8479, _S8484) + mean_67;
    float3  vert0_c_5 = s_primal_ctx_mul_0(R_69, vert0_6) + t_65;
    float3  vert1_c_5 = s_primal_ctx_mul_0(R_69, vert1_6) + t_65;
    float3  vert2_c_5 = s_primal_ctx_mul_0(R_69, vert2_6) + t_65;
    float2  _S8485 = float2 {vert0_c_5.x, vert0_c_5.y};
    float _S8486 = length_0(_S8485);
    float _S8487 = vert0_c_5.z;
    float _S8488 = s_primal_ctx_atan2_0(_S8486, _S8487);
    bool _S8489 = _S8488 < 0.00100000004749745f;
    float k_9;
    float _S8490;
    float _S8491;
    float _S8492;
    if(_S8489)
    {
        float _S8493 = 1.0f - _S8488 * _S8488 / 3.0f;
        float _S8494 = _S8487 * _S8487;
        k_9 = _S8493 / _S8487;
        _S8490 = 0.0f;
        _S8491 = _S8494;
        _S8492 = _S8493;
    }
    else
    {
        float _S8495 = _S8486 * _S8486;
        k_9 = _S8488 / _S8486;
        _S8490 = _S8495;
        _S8491 = 0.0f;
        _S8492 = 0.0f;
    }
    float2  _S8496 = make_float2 (k_9);
    float2  _S8497 = _S8485 * make_float2 (k_9);
    float u_59 = _S8497.x;
    float v_59 = _S8497.y;
    float r2_59 = u_59 * u_59 + v_59 * v_59;
    float _S8498 = (*dist_coeffs_103)[int(2)] + r2_59 * (*dist_coeffs_103)[int(3)];
    float _S8499 = (*dist_coeffs_103)[int(1)] + r2_59 * _S8498;
    float _S8500 = (*dist_coeffs_103)[int(0)] + r2_59 * _S8499;
    float radial_4 = 1.0f + r2_59 * _S8500;
    float2  _S8501 = make_float2 (radial_4);
    float _S8502 = 2.0f * (*dist_coeffs_103)[int(4)];
    float _S8503 = _S8502 * u_59;
    float _S8504 = 2.0f * u_59;
    float _S8505 = 2.0f * (*dist_coeffs_103)[int(5)];
    float _S8506 = _S8505 * u_59;
    float _S8507 = 2.0f * v_59;
    float2  _S8508 = _S8497 * make_float2 (radial_4) + make_float2 (_S8503 * v_59 + (*dist_coeffs_103)[int(5)] * (r2_59 + _S8504 * u_59) + (*dist_coeffs_103)[int(6)] * r2_59, _S8506 * v_59 + (*dist_coeffs_103)[int(4)] * (r2_59 + _S8507 * v_59) + (*dist_coeffs_103)[int(7)] * r2_59);
    float2  _S8509 = _S8508 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8508.x + (*dist_coeffs_103)[int(9)] * _S8508.y, 0.0f);
    float _S8510 = fx_99 * _S8509.x + cx_94;
    float _S8511 = fy_99 * _S8509.y + cy_94;
    float2  uv0_7 = make_float2 (_S8510, _S8511);
    float2  _S8512 = float2 {vert1_c_5.x, vert1_c_5.y};
    float _S8513 = length_0(_S8512);
    float _S8514 = vert1_c_5.z;
    float _S8515 = s_primal_ctx_atan2_0(_S8513, _S8514);
    bool _S8516 = _S8515 < 0.00100000004749745f;
    float _S8517;
    float _S8518;
    float _S8519;
    if(_S8516)
    {
        float _S8520 = 1.0f - _S8515 * _S8515 / 3.0f;
        float _S8521 = _S8514 * _S8514;
        k_9 = _S8520 / _S8514;
        _S8517 = 0.0f;
        _S8518 = _S8521;
        _S8519 = _S8520;
    }
    else
    {
        float _S8522 = _S8513 * _S8513;
        k_9 = _S8515 / _S8513;
        _S8517 = _S8522;
        _S8518 = 0.0f;
        _S8519 = 0.0f;
    }
    float2  _S8523 = make_float2 (k_9);
    float2  _S8524 = _S8512 * make_float2 (k_9);
    float u_60 = _S8524.x;
    float v_60 = _S8524.y;
    float r2_60 = u_60 * u_60 + v_60 * v_60;
    float _S8525 = (*dist_coeffs_103)[int(2)] + r2_60 * (*dist_coeffs_103)[int(3)];
    float _S8526 = (*dist_coeffs_103)[int(1)] + r2_60 * _S8525;
    float _S8527 = (*dist_coeffs_103)[int(0)] + r2_60 * _S8526;
    float radial_5 = 1.0f + r2_60 * _S8527;
    float2  _S8528 = make_float2 (radial_5);
    float _S8529 = _S8502 * u_60;
    float _S8530 = 2.0f * u_60;
    float _S8531 = _S8505 * u_60;
    float _S8532 = 2.0f * v_60;
    float2  _S8533 = _S8524 * make_float2 (radial_5) + make_float2 (_S8529 * v_60 + (*dist_coeffs_103)[int(5)] * (r2_60 + _S8530 * u_60) + (*dist_coeffs_103)[int(6)] * r2_60, _S8531 * v_60 + (*dist_coeffs_103)[int(4)] * (r2_60 + _S8532 * v_60) + (*dist_coeffs_103)[int(7)] * r2_60);
    float2  _S8534 = _S8533 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8533.x + (*dist_coeffs_103)[int(9)] * _S8533.y, 0.0f);
    float _S8535 = fx_99 * _S8534.x + cx_94;
    float _S8536 = fy_99 * _S8534.y + cy_94;
    float2  uv1_7 = make_float2 (_S8535, _S8536);
    float2  _S8537 = float2 {vert2_c_5.x, vert2_c_5.y};
    float _S8538 = length_0(_S8537);
    float _S8539 = vert2_c_5.z;
    float _S8540 = s_primal_ctx_atan2_0(_S8538, _S8539);
    bool _S8541 = _S8540 < 0.00100000004749745f;
    float _S8542;
    float _S8543;
    float _S8544;
    if(_S8541)
    {
        float _S8545 = 1.0f - _S8540 * _S8540 / 3.0f;
        float _S8546 = _S8539 * _S8539;
        k_9 = _S8545 / _S8539;
        _S8542 = 0.0f;
        _S8543 = _S8546;
        _S8544 = _S8545;
    }
    else
    {
        float _S8547 = _S8538 * _S8538;
        k_9 = _S8540 / _S8538;
        _S8542 = _S8547;
        _S8543 = 0.0f;
        _S8544 = 0.0f;
    }
    float2  _S8548 = make_float2 (k_9);
    float2  _S8549 = _S8537 * make_float2 (k_9);
    float u_61 = _S8549.x;
    float v_61 = _S8549.y;
    float r2_61 = u_61 * u_61 + v_61 * v_61;
    float _S8550 = (*dist_coeffs_103)[int(2)] + r2_61 * (*dist_coeffs_103)[int(3)];
    float _S8551 = (*dist_coeffs_103)[int(1)] + r2_61 * _S8550;
    float _S8552 = (*dist_coeffs_103)[int(0)] + r2_61 * _S8551;
    float radial_6 = 1.0f + r2_61 * _S8552;
    float2  _S8553 = make_float2 (radial_6);
    float _S8554 = _S8502 * u_61;
    float _S8555 = 2.0f * u_61;
    float _S8556 = _S8505 * u_61;
    float _S8557 = 2.0f * v_61;
    float2  _S8558 = _S8549 * make_float2 (radial_6) + make_float2 (_S8554 * v_61 + (*dist_coeffs_103)[int(5)] * (r2_61 + _S8555 * u_61) + (*dist_coeffs_103)[int(6)] * r2_61, _S8556 * v_61 + (*dist_coeffs_103)[int(4)] * (r2_61 + _S8557 * v_61) + (*dist_coeffs_103)[int(7)] * r2_61);
    float2  _S8559 = _S8558 + make_float2 ((*dist_coeffs_103)[int(8)] * _S8558.x + (*dist_coeffs_103)[int(9)] * _S8558.y, 0.0f);
    float _S8560 = fx_99 * _S8559.x + cx_94;
    float _S8561 = fy_99 * _S8559.y + cy_94;
    float2  uv2_7 = make_float2 (_S8560, _S8561);
    float2  e0_5 = uv1_7 - uv0_7;
    float2  e1_5 = uv2_7 - uv1_7;
    float2  e2_1 = uv0_7 - uv2_7;
    float _S8562 = e0_5.x;
    float _S8563 = e1_5.y;
    float _S8564 = e0_5.y;
    float _S8565 = e1_5.x;
    float _S8566 = _S8562 * _S8563 - _S8564 * _S8565;
    float _S8567 = 1.0f - hardness_5.y;
    float _S8568 = -1.0f / _S8567;
    float _S8569 = _S8567 * _S8567;
    float _S8570 = s_primal_ctx_max_0(_S8510, _S8535);
    float _S8571 = s_primal_ctx_min_0(_S8510, _S8535);
    float _S8572 = s_primal_ctx_max_0(_S8511, _S8536);
    float _S8573 = s_primal_ctx_min_0(_S8511, _S8536);
    float3  _S8574 = (vert0_c_5 + vert1_c_5 + vert2_c_5) / make_float3 (3.0f);
    float _S8575 = _S8574.z;
    float _S8576 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S8577 = _S8576 * (_S8575 + length_1(_S8574));
    Matrix<float, 3, 3>  _S8578 = transpose_0(R_69);
    float3  _S8579 = mean_67 - - s_primal_ctx_mul_0(_S8578, t_65);
    float _S8580 = _S8579.x;
    float _S8581 = _S8579.y;
    float _S8582 = _S8579.z;
    float _S8583 = _S8580 * _S8580 + _S8581 * _S8581 + _S8582 * _S8582;
    float _S8584 = s_primal_ctx_sqrt_0(_S8583);
    float x_78 = _S8580 / _S8584;
    float3  _S8585 = make_float3 (x_78);
    float _S8586 = _S8584 * _S8584;
    float y_23 = _S8581 / _S8584;
    float z_20 = _S8582 / _S8584;
    float3  _S8587 = make_float3 (z_20);
    float _S8588 = - y_23;
    float3  _S8589 = make_float3 (_S8588);
    float z2_103 = z_20 * z_20;
    float fTmp0B_20 = -1.09254848957061768f * z_20;
    float fC1_20 = x_78 * x_78 - y_23 * y_23;
    float _S8590 = 2.0f * x_78;
    float fS1_20 = _S8590 * y_23;
    float pSH6_6 = 0.94617468118667603f * z2_103 - 0.31539157032966614f;
    float3  _S8591 = make_float3 (pSH6_6);
    float pSH7_6 = fTmp0B_20 * x_78;
    float3  _S8592 = make_float3 (pSH7_6);
    float pSH5_6 = fTmp0B_20 * y_23;
    float3  _S8593 = make_float3 (pSH5_6);
    float pSH8_6 = 0.54627424478530884f * fC1_20;
    float3  _S8594 = make_float3 (pSH8_6);
    float pSH4_6 = 0.54627424478530884f * fS1_20;
    float3  _S8595 = make_float3 (pSH4_6);
    float fTmp0C_20 = -2.28522896766662598f * z2_103 + 0.4570457935333252f;
    float fTmp1B_20 = 1.44530570507049561f * z_20;
    float _S8596 = 1.86588168144226074f * z2_103 - 1.11952900886535645f;
    float pSH12_6 = z_20 * _S8596;
    float3  _S8597 = make_float3 (pSH12_6);
    float pSH13_6 = fTmp0C_20 * x_78;
    float3  _S8598 = make_float3 (pSH13_6);
    float pSH11_6 = fTmp0C_20 * y_23;
    float3  _S8599 = make_float3 (pSH11_6);
    float pSH14_6 = fTmp1B_20 * fC1_20;
    float3  _S8600 = make_float3 (pSH14_6);
    float pSH10_6 = fTmp1B_20 * fS1_20;
    float3  _S8601 = make_float3 (pSH10_6);
    float pSH15_6 = -0.59004360437393188f * (x_78 * fC1_20 - y_23 * fS1_20);
    float3  _S8602 = make_float3 (pSH15_6);
    float pSH9_6 = -0.59004360437393188f * (x_78 * fS1_20 + y_23 * fC1_20);
    float3  _S8603 = make_float3 (pSH9_6);
    float3  color_5 = make_float3 (0.282094806432724f) * (*sh_coeffs_20)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S8588) * (*sh_coeffs_20)[int(1)] + make_float3 (z_20) * (*sh_coeffs_20)[int(2)] - make_float3 (x_78) * (*sh_coeffs_20)[int(3)]) + (make_float3 (pSH4_6) * (*sh_coeffs_20)[int(4)] + make_float3 (pSH5_6) * (*sh_coeffs_20)[int(5)] + make_float3 (pSH6_6) * (*sh_coeffs_20)[int(6)] + make_float3 (pSH7_6) * (*sh_coeffs_20)[int(7)] + make_float3 (pSH8_6) * (*sh_coeffs_20)[int(8)]) + (make_float3 (pSH9_6) * (*sh_coeffs_20)[int(9)] + make_float3 (pSH10_6) * (*sh_coeffs_20)[int(10)] + make_float3 (pSH11_6) * (*sh_coeffs_20)[int(11)] + make_float3 (pSH12_6) * (*sh_coeffs_20)[int(12)] + make_float3 (pSH13_6) * (*sh_coeffs_20)[int(13)] + make_float3 (pSH14_6) * (*sh_coeffs_20)[int(14)] + make_float3 (pSH15_6) * (*sh_coeffs_20)[int(15)]);
    float3  _S8604 = color_5 + (*ch_coeffs_5)[int(0)] + make_float3 (0.5f);
    float3  _S8605 = make_float3 (0.0f);
    float3  _S8606 = color_5 - (*ch_coeffs_5)[int(0)] * make_float3 (0.5f);
    float _S8607 = s_primal_ctx_sqrt_0(0.75f);
    float3  _S8608 = make_float3 (_S8607);
    float3  _S8609 = (*ch_coeffs_5)[int(1)] * make_float3 (_S8607);
    float3  _S8610 = _S8606 + _S8609 + make_float3 (0.5f);
    float3  _S8611 = _S8606 - _S8609 + make_float3 (0.5f);
    float3  _S8612 = vert1_c_5 - vert0_c_5;
    float3  _S8613 = vert2_c_5 - vert0_c_5;
    float3  _S8614 = s_primal_ctx_cross_0(_S8612, _S8613);
    float3  _S8615 = normalize_0(_S8614);
    float3  _S8616 = make_float3 (float(- (F32_sign((s_primal_ctx_dot_0(_S8615, mean_c_76)))))) * v_normal_1;
    float3  _S8617 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8618;
    (&_S8618)->primal_0 = _S8615;
    (&_S8618)->differential_0 = _S8617;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8619;
    (&_S8619)->primal_0 = mean_c_76;
    (&_S8619)->differential_0 = _S8617;
    s_bwd_prop_dot_0(&_S8618, &_S8619, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8620 = _S8619;
    float3  _S8621 = _S8616 + _S8618.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8622;
    (&_S8622)->primal_0 = _S8614;
    (&_S8622)->differential_0 = _S8617;
    s_bwd_normalize_impl_0(&_S8622, _S8621);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8623;
    (&_S8623)->primal_0 = _S8612;
    (&_S8623)->differential_0 = _S8617;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8624;
    (&_S8624)->primal_0 = _S8613;
    (&_S8624)->differential_0 = _S8617;
    s_bwd_prop_cross_0(&_S8623, &_S8624, _S8622.differential_0);
    float3  _S8625 = - _S8624.differential_0;
    float3  _S8626 = - _S8623.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8627;
    (&_S8627)->primal_0 = _S8611;
    (&_S8627)->differential_0 = _S8617;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8628;
    (&_S8628)->primal_0 = _S8605;
    (&_S8628)->differential_0 = _S8617;
    s_bwd_prop_max_0(&_S8627, &_S8628, (*v_rgbs_1)[int(2)]);
    float3  _S8629 = - _S8627.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8630;
    (&_S8630)->primal_0 = _S8610;
    (&_S8630)->differential_0 = _S8617;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8631;
    (&_S8631)->primal_0 = _S8605;
    (&_S8631)->differential_0 = _S8617;
    s_bwd_prop_max_0(&_S8630, &_S8631, (*v_rgbs_1)[int(1)]);
    float3  _S8632 = _S8608 * (_S8629 + _S8630.differential_0);
    float3  _S8633 = _S8627.differential_0 + _S8630.differential_0;
    float3  _S8634 = make_float3 (0.5f) * - _S8633;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8635;
    (&_S8635)->primal_0 = _S8604;
    (&_S8635)->differential_0 = _S8617;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8636;
    (&_S8636)->primal_0 = _S8605;
    (&_S8636)->differential_0 = _S8617;
    s_bwd_prop_max_0(&_S8635, &_S8636, (*v_rgbs_1)[int(0)]);
    float3  _S8637 = _S8634 + _S8635.differential_0;
    float3  _S8638 = _S8633 + _S8635.differential_0;
    float3  _S8639 = _S8602 * _S8638;
    float3  _S8640 = (*sh_coeffs_20)[int(15)] * _S8638;
    float3  _S8641 = _S8600 * _S8638;
    float3  _S8642 = (*sh_coeffs_20)[int(14)] * _S8638;
    float3  _S8643 = _S8598 * _S8638;
    float3  _S8644 = (*sh_coeffs_20)[int(13)] * _S8638;
    float3  _S8645 = _S8597 * _S8638;
    float3  _S8646 = (*sh_coeffs_20)[int(12)] * _S8638;
    float3  _S8647 = _S8599 * _S8638;
    float3  _S8648 = (*sh_coeffs_20)[int(11)] * _S8638;
    float3  _S8649 = _S8601 * _S8638;
    float3  _S8650 = (*sh_coeffs_20)[int(10)] * _S8638;
    float3  _S8651 = _S8603 * _S8638;
    float3  _S8652 = (*sh_coeffs_20)[int(9)] * _S8638;
    float s_diff_fS2_T_6 = -0.59004360437393188f * (_S8652.x + _S8652.y + _S8652.z);
    float s_diff_fC2_T_6 = -0.59004360437393188f * (_S8640.x + _S8640.y + _S8640.z);
    float _S8653 = _S8650.x + _S8650.y + _S8650.z;
    float _S8654 = _S8642.x + _S8642.y + _S8642.z;
    float _S8655 = _S8648.x + _S8648.y + _S8648.z;
    float _S8656 = _S8644.x + _S8644.y + _S8644.z;
    float _S8657 = _S8646.x + _S8646.y + _S8646.z;
    float _S8658 = - s_diff_fC2_T_6;
    float3  _S8659 = _S8594 * _S8638;
    float3  _S8660 = (*sh_coeffs_20)[int(8)] * _S8638;
    float3  _S8661 = _S8592 * _S8638;
    float3  _S8662 = (*sh_coeffs_20)[int(7)] * _S8638;
    float3  _S8663 = _S8591 * _S8638;
    float3  _S8664 = (*sh_coeffs_20)[int(6)] * _S8638;
    float3  _S8665 = _S8593 * _S8638;
    float3  _S8666 = (*sh_coeffs_20)[int(5)] * _S8638;
    float3  _S8667 = _S8595 * _S8638;
    float3  _S8668 = (*sh_coeffs_20)[int(4)] * _S8638;
    float _S8669 = _S8666.x + _S8666.y + _S8666.z;
    float _S8670 = _S8662.x + _S8662.y + _S8662.z;
    float _S8671 = fTmp1B_20 * _S8653 + x_78 * s_diff_fS2_T_6 + y_23 * _S8658 + 0.54627424478530884f * (_S8668.x + _S8668.y + _S8668.z);
    float _S8672 = fTmp1B_20 * _S8654 + y_23 * s_diff_fS2_T_6 + x_78 * s_diff_fC2_T_6 + 0.54627424478530884f * (_S8660.x + _S8660.y + _S8660.z);
    float _S8673 = y_23 * - _S8672;
    float _S8674 = x_78 * _S8672;
    float _S8675 = z_20 * (1.86588168144226074f * (z_20 * _S8657) + -2.28522896766662598f * (y_23 * _S8655 + x_78 * _S8656) + 0.94617468118667603f * (_S8664.x + _S8664.y + _S8664.z));
    float3  _S8676 = make_float3 (0.48860251903533936f) * _S8638;
    float3  _S8677 = - _S8676;
    float3  _S8678 = _S8585 * _S8677;
    float3  _S8679 = (*sh_coeffs_20)[int(3)] * _S8677;
    float3  _S8680 = _S8587 * _S8676;
    float3  _S8681 = (*sh_coeffs_20)[int(2)] * _S8676;
    float3  _S8682 = _S8589 * _S8676;
    float3  _S8683 = (*sh_coeffs_20)[int(1)] * _S8676;
    float _S8684 = (_S8596 * _S8657 + 1.44530570507049561f * (fS1_20 * _S8653 + fC1_20 * _S8654) + -1.09254848957061768f * (y_23 * _S8669 + x_78 * _S8670) + _S8675 + _S8675 + _S8681.x + _S8681.y + _S8681.z) / _S8586;
    float _S8685 = _S8584 * _S8684;
    float _S8686 = (fTmp0C_20 * _S8655 + fC1_20 * s_diff_fS2_T_6 + fS1_20 * _S8658 + fTmp0B_20 * _S8669 + _S8590 * _S8671 + _S8673 + _S8673 + - (_S8683.x + _S8683.y + _S8683.z)) / _S8586;
    float _S8687 = _S8584 * _S8686;
    float _S8688 = (fTmp0C_20 * _S8656 + fS1_20 * s_diff_fS2_T_6 + fC1_20 * s_diff_fC2_T_6 + fTmp0B_20 * _S8670 + 2.0f * (y_23 * _S8671) + _S8674 + _S8674 + _S8679.x + _S8679.y + _S8679.z) / _S8586;
    float _S8689 = _S8584 * _S8688;
    float _S8690 = _S8582 * - _S8684 + _S8581 * - _S8686 + _S8580 * - _S8688;
    DiffPair_float_0 _S8691;
    (&_S8691)->primal_0 = _S8583;
    (&_S8691)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S8691, _S8690);
    float _S8692 = _S8582 * _S8691.differential_0;
    float _S8693 = _S8581 * _S8691.differential_0;
    float _S8694 = _S8580 * _S8691.differential_0;
    float3  _S8695 = make_float3 (0.282094806432724f) * _S8638;
    float3  _S8696 = make_float3 (_S8689 + _S8694 + _S8694, _S8687 + _S8693 + _S8693, _S8685 + _S8692 + _S8692);
    float3  _S8697 = - - _S8696;
    Matrix<float, 3, 3>  _S8698 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8699;
    (&_S8699)->primal_0 = _S8578;
    (&_S8699)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8700;
    (&_S8700)->primal_0 = t_65;
    (&_S8700)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8699, &_S8700, _S8697);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8701 = _S8700;
    Matrix<float, 3, 3>  _S8702 = transpose_0(_S8699.differential_0);
    DiffPair_float_0 _S8703;
    (&_S8703)->primal_0 = _S8575;
    (&_S8703)->differential_0 = 0.0f;
    DiffPair_float_0 _S8704;
    (&_S8704)->primal_0 = _S8577;
    (&_S8704)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8703, &_S8704, v_depth_21);
    float _S8705 = _S8576 * _S8704.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8706;
    (&_S8706)->primal_0 = _S8574;
    (&_S8706)->differential_0 = _S8617;
    s_bwd_length_impl_1(&_S8706, _S8705);
    float3  _S8707 = make_float3 (0.3333333432674408f) * (_S8706.differential_0 + make_float3 (0.0f, 0.0f, _S8703.differential_0 + _S8705));
    DiffPair_float_0 _S8708;
    (&_S8708)->primal_0 = _S8573;
    (&_S8708)->differential_0 = 0.0f;
    DiffPair_float_0 _S8709;
    (&_S8709)->primal_0 = _S8561;
    (&_S8709)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8708, &_S8709, 0.0f);
    DiffPair_float_0 _S8710;
    (&_S8710)->primal_0 = _S8511;
    (&_S8710)->differential_0 = 0.0f;
    DiffPair_float_0 _S8711;
    (&_S8711)->primal_0 = _S8536;
    (&_S8711)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8710, &_S8711, _S8708.differential_0);
    DiffPair_float_0 _S8712;
    (&_S8712)->primal_0 = _S8572;
    (&_S8712)->differential_0 = 0.0f;
    DiffPair_float_0 _S8713;
    (&_S8713)->primal_0 = _S8561;
    (&_S8713)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8712, &_S8713, 0.0f);
    DiffPair_float_0 _S8714;
    (&_S8714)->primal_0 = _S8511;
    (&_S8714)->differential_0 = 0.0f;
    DiffPair_float_0 _S8715;
    (&_S8715)->primal_0 = _S8536;
    (&_S8715)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8714, &_S8715, _S8712.differential_0);
    DiffPair_float_0 _S8716;
    (&_S8716)->primal_0 = _S8571;
    (&_S8716)->differential_0 = 0.0f;
    DiffPair_float_0 _S8717;
    (&_S8717)->primal_0 = _S8560;
    (&_S8717)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8716, &_S8717, 0.0f);
    DiffPair_float_0 _S8718;
    (&_S8718)->primal_0 = _S8510;
    (&_S8718)->differential_0 = 0.0f;
    DiffPair_float_0 _S8719;
    (&_S8719)->primal_0 = _S8535;
    (&_S8719)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S8718, &_S8719, _S8716.differential_0);
    DiffPair_float_0 _S8720;
    (&_S8720)->primal_0 = _S8570;
    (&_S8720)->differential_0 = 0.0f;
    DiffPair_float_0 _S8721;
    (&_S8721)->primal_0 = _S8560;
    (&_S8721)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8720, &_S8721, 0.0f);
    DiffPair_float_0 _S8722;
    (&_S8722)->primal_0 = _S8510;
    (&_S8722)->differential_0 = 0.0f;
    DiffPair_float_0 _S8723;
    (&_S8723)->primal_0 = _S8535;
    (&_S8723)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S8722, &_S8723, _S8720.differential_0);
    DiffPair_float_0 _S8724;
    (&_S8724)->primal_0 = _S8568;
    (&_S8724)->differential_0 = 0.0f;
    s_bwd_prop_exp2_0(&_S8724, 0.0f);
    float _S8725 = - (-1.0f * - (_S8724.differential_0 / _S8569));
    float2  _S8726 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8727;
    (&_S8727)->primal_0 = e2_1;
    (&_S8727)->differential_0 = _S8726;
    s_bwd_length_impl_0(&_S8727, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8728;
    (&_S8728)->primal_0 = e1_5;
    (&_S8728)->differential_0 = _S8726;
    s_bwd_length_impl_0(&_S8728, -0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8729;
    (&_S8729)->primal_0 = e0_5;
    (&_S8729)->differential_0 = _S8726;
    s_bwd_length_impl_0(&_S8729, -0.0f);
    DiffPair_float_0 _S8730;
    (&_S8730)->primal_0 = _S8566;
    (&_S8730)->differential_0 = 0.0f;
    s_bwd_prop_abs_0(&_S8730, 0.0f);
    float _S8731 = - _S8730.differential_0;
    float2  _S8732 = _S8728.differential_0 + make_float2 (_S8564 * _S8731, _S8562 * _S8730.differential_0);
    float2  _S8733 = - _S8732;
    float2  _S8734 = _S8729.differential_0 + make_float2 (_S8563 * _S8730.differential_0, _S8565 * _S8731);
    float2  _S8735 = - _S8734;
    float2  _S8736 = - _S8727.differential_0 + _S8732;
    float _S8737 = fx_99 * (_S8717.differential_0 + _S8721.differential_0 + _S8736.x);
    float2  _S8738 = make_float2 (_S8737, fy_99 * (_S8709.differential_0 + _S8713.differential_0 + _S8736.y)) + make_float2 ((*dist_coeffs_103)[int(8)] * _S8737, (*dist_coeffs_103)[int(9)] * _S8737);
    float2  _S8739 = _S8549 * _S8738;
    float2  _S8740 = _S8553 * _S8738;
    float _S8741 = (*dist_coeffs_103)[int(4)] * _S8738.y;
    float _S8742 = (*dist_coeffs_103)[int(5)] * _S8738.x;
    float _S8743 = _S8739.x + _S8739.y;
    float _S8744 = r2_61 * _S8743;
    float _S8745 = r2_61 * _S8744;
    float _S8746 = (*dist_coeffs_103)[int(7)] * _S8738.y + _S8741 + (*dist_coeffs_103)[int(6)] * _S8738.x + _S8742 + _S8552 * _S8743 + _S8551 * _S8744 + _S8550 * _S8745 + (*dist_coeffs_103)[int(3)] * (r2_61 * _S8745);
    float _S8747 = v_61 * _S8746;
    float _S8748 = u_61 * _S8746;
    float _S8749 = _S8557 * _S8741 + 2.0f * (v_61 * _S8741) + _S8556 * _S8738.y + _S8554 * _S8738.x + _S8747 + _S8747;
    float _S8750 = _S8505 * (v_61 * _S8738.y) + _S8555 * _S8742 + 2.0f * (u_61 * _S8742) + _S8502 * (v_61 * _S8738.x) + _S8748 + _S8748;
    float3  _S8751 = _S8623.differential_0 + _S8707;
    float3  _S8752 = _S8625 + _S8626 + _S8707;
    float3  _S8753 = _S8624.differential_0 + _S8707;
    FixedArray<float3 , 2>  _S8754;
    _S8754[int(0)] = _S8617;
    _S8754[int(1)] = _S8617;
    _S8754[int(1)] = _S8632;
    _S8754[int(0)] = _S8637;
    float3  _S8755 = _S8754[int(0)];
    float3  _S8756 = _S8754[int(1)];
    FixedArray<float3 , 16>  _S8757;
    _S8757[int(0)] = _S8617;
    _S8757[int(1)] = _S8617;
    _S8757[int(2)] = _S8617;
    _S8757[int(3)] = _S8617;
    _S8757[int(4)] = _S8617;
    _S8757[int(5)] = _S8617;
    _S8757[int(6)] = _S8617;
    _S8757[int(7)] = _S8617;
    _S8757[int(8)] = _S8617;
    _S8757[int(9)] = _S8617;
    _S8757[int(10)] = _S8617;
    _S8757[int(11)] = _S8617;
    _S8757[int(12)] = _S8617;
    _S8757[int(13)] = _S8617;
    _S8757[int(14)] = _S8617;
    _S8757[int(15)] = _S8617;
    _S8757[int(7)] = _S8661;
    _S8757[int(0)] = _S8695;
    _S8757[int(1)] = _S8682;
    _S8757[int(2)] = _S8680;
    _S8757[int(3)] = _S8678;
    _S8757[int(4)] = _S8667;
    _S8757[int(5)] = _S8665;
    _S8757[int(6)] = _S8663;
    _S8757[int(15)] = _S8639;
    _S8757[int(8)] = _S8659;
    _S8757[int(9)] = _S8651;
    _S8757[int(10)] = _S8649;
    _S8757[int(11)] = _S8647;
    _S8757[int(12)] = _S8645;
    _S8757[int(13)] = _S8643;
    _S8757[int(14)] = _S8641;
    float3  _S8758 = _S8757[int(0)];
    float3  _S8759 = _S8757[int(1)];
    float3  _S8760 = _S8757[int(2)];
    float3  _S8761 = _S8757[int(3)];
    float3  _S8762 = _S8757[int(4)];
    float3  _S8763 = _S8757[int(5)];
    float3  _S8764 = _S8757[int(6)];
    float3  _S8765 = _S8757[int(7)];
    float3  _S8766 = _S8757[int(8)];
    float3  _S8767 = _S8757[int(9)];
    float3  _S8768 = _S8757[int(10)];
    float3  _S8769 = _S8757[int(11)];
    float3  _S8770 = _S8757[int(12)];
    float3  _S8771 = _S8757[int(13)];
    float3  _S8772 = _S8757[int(14)];
    float3  _S8773 = _S8757[int(15)];
    float _S8774 = _S8718.differential_0 + _S8722.differential_0;
    float2  _S8775 = _S8727.differential_0 + _S8735;
    float _S8776 = _S8711.differential_0 + _S8715.differential_0;
    float _S8777 = _S8710.differential_0 + _S8714.differential_0;
    float2  _S8778 = _S8733 + _S8734;
    float _S8779 = _S8719.differential_0 + _S8723.differential_0;
    float2  _S8780 = make_float2 (0.0f, _S8725);
    float2  _S8781 = _S8740 + make_float2 (_S8750, _S8749);
    float2  _S8782 = _S8537 * _S8781;
    float2  _S8783 = _S8548 * _S8781;
    float _S8784 = _S8782.x + _S8782.y;
    if(_S8541)
    {
        float _S8785 = _S8784 / _S8543;
        float _S8786 = _S8544 * - _S8785;
        float _S8787 = _S8540 * (0.3333333432674408f * - (_S8539 * _S8785));
        k_9 = _S8787 + _S8787;
        _S8542 = _S8786;
        _S8543 = 0.0f;
    }
    else
    {
        float _S8788 = _S8784 / _S8542;
        float _S8789 = _S8540 * - _S8788;
        k_9 = _S8538 * _S8788;
        _S8542 = 0.0f;
        _S8543 = _S8789;
    }
    DiffPair_float_0 _S8790;
    (&_S8790)->primal_0 = _S8538;
    (&_S8790)->differential_0 = 0.0f;
    DiffPair_float_0 _S8791;
    (&_S8791)->primal_0 = _S8539;
    (&_S8791)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S8790, &_S8791, k_9);
    float _S8792 = _S8791.differential_0 + _S8542;
    float _S8793 = _S8790.differential_0 + _S8543;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8794;
    (&_S8794)->primal_0 = _S8537;
    (&_S8794)->differential_0 = _S8726;
    s_bwd_length_impl_0(&_S8794, _S8793);
    float2  _S8795 = _S8794.differential_0 + _S8783;
    float _S8796 = fx_99 * (_S8778.x + _S8779);
    float2  _S8797 = make_float2 (_S8796, fy_99 * (_S8778.y + _S8776)) + make_float2 ((*dist_coeffs_103)[int(8)] * _S8796, (*dist_coeffs_103)[int(9)] * _S8796);
    float2  _S8798 = _S8524 * _S8797;
    float _S8799 = (*dist_coeffs_103)[int(4)] * _S8797.y;
    float _S8800 = (*dist_coeffs_103)[int(5)] * _S8797.x;
    float _S8801 = _S8798.x + _S8798.y;
    float _S8802 = r2_60 * _S8801;
    float _S8803 = r2_60 * _S8802;
    float _S8804 = (*dist_coeffs_103)[int(7)] * _S8797.y + _S8799 + (*dist_coeffs_103)[int(6)] * _S8797.x + _S8800 + _S8527 * _S8801 + _S8526 * _S8802 + _S8525 * _S8803 + (*dist_coeffs_103)[int(3)] * (r2_60 * _S8803);
    float _S8805 = v_60 * _S8804;
    float _S8806 = u_60 * _S8804;
    float3  _S8807 = _S8753 + make_float3 (_S8795.x, _S8795.y, _S8792);
    float2  _S8808 = _S8528 * _S8797 + make_float2 (_S8505 * (v_60 * _S8797.y) + _S8530 * _S8800 + 2.0f * (u_60 * _S8800) + _S8502 * (v_60 * _S8797.x) + _S8806 + _S8806, _S8532 * _S8799 + 2.0f * (v_60 * _S8799) + _S8531 * _S8797.y + _S8529 * _S8797.x + _S8805 + _S8805);
    float2  _S8809 = _S8512 * _S8808;
    float2  _S8810 = _S8523 * _S8808;
    float _S8811 = _S8809.x + _S8809.y;
    if(_S8516)
    {
        float _S8812 = _S8811 / _S8518;
        float _S8813 = _S8519 * - _S8812;
        float _S8814 = _S8515 * (0.3333333432674408f * - (_S8514 * _S8812));
        k_9 = _S8814 + _S8814;
        _S8517 = _S8813;
        _S8518 = 0.0f;
    }
    else
    {
        float _S8815 = _S8811 / _S8517;
        float _S8816 = _S8515 * - _S8815;
        k_9 = _S8513 * _S8815;
        _S8517 = 0.0f;
        _S8518 = _S8816;
    }
    DiffPair_float_0 _S8817;
    (&_S8817)->primal_0 = _S8513;
    (&_S8817)->differential_0 = 0.0f;
    DiffPair_float_0 _S8818;
    (&_S8818)->primal_0 = _S8514;
    (&_S8818)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S8817, &_S8818, k_9);
    float _S8819 = _S8818.differential_0 + _S8517;
    float _S8820 = _S8817.differential_0 + _S8518;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8821;
    (&_S8821)->primal_0 = _S8512;
    (&_S8821)->differential_0 = _S8726;
    s_bwd_length_impl_0(&_S8821, _S8820);
    float2  _S8822 = _S8821.differential_0 + _S8810;
    float _S8823 = fx_99 * (_S8775.x + _S8774);
    float2  _S8824 = make_float2 (_S8823, fy_99 * (_S8775.y + _S8777)) + make_float2 ((*dist_coeffs_103)[int(8)] * _S8823, (*dist_coeffs_103)[int(9)] * _S8823);
    float2  _S8825 = _S8497 * _S8824;
    float _S8826 = (*dist_coeffs_103)[int(4)] * _S8824.y;
    float _S8827 = (*dist_coeffs_103)[int(5)] * _S8824.x;
    float _S8828 = _S8825.x + _S8825.y;
    float _S8829 = r2_59 * _S8828;
    float _S8830 = r2_59 * _S8829;
    float _S8831 = (*dist_coeffs_103)[int(7)] * _S8824.y + _S8826 + (*dist_coeffs_103)[int(6)] * _S8824.x + _S8827 + _S8500 * _S8828 + _S8499 * _S8829 + _S8498 * _S8830 + (*dist_coeffs_103)[int(3)] * (r2_59 * _S8830);
    float _S8832 = v_59 * _S8831;
    float _S8833 = u_59 * _S8831;
    float3  _S8834 = _S8751 + make_float3 (_S8822.x, _S8822.y, _S8819);
    float2  _S8835 = _S8501 * _S8824 + make_float2 (_S8505 * (v_59 * _S8824.y) + _S8504 * _S8827 + 2.0f * (u_59 * _S8827) + _S8502 * (v_59 * _S8824.x) + _S8833 + _S8833, _S8507 * _S8826 + 2.0f * (v_59 * _S8826) + _S8506 * _S8824.y + _S8503 * _S8824.x + _S8832 + _S8832);
    float2  _S8836 = _S8485 * _S8835;
    float2  _S8837 = _S8496 * _S8835;
    float _S8838 = _S8836.x + _S8836.y;
    if(_S8489)
    {
        float _S8839 = _S8838 / _S8491;
        float _S8840 = _S8492 * - _S8839;
        float _S8841 = _S8488 * (0.3333333432674408f * - (_S8487 * _S8839));
        k_9 = _S8841 + _S8841;
        _S8490 = _S8840;
        _S8491 = 0.0f;
    }
    else
    {
        float _S8842 = _S8838 / _S8490;
        float _S8843 = _S8488 * - _S8842;
        k_9 = _S8486 * _S8842;
        _S8490 = 0.0f;
        _S8491 = _S8843;
    }
    DiffPair_float_0 _S8844;
    (&_S8844)->primal_0 = _S8486;
    (&_S8844)->differential_0 = 0.0f;
    DiffPair_float_0 _S8845;
    (&_S8845)->primal_0 = _S8487;
    (&_S8845)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S8844, &_S8845, k_9);
    float _S8846 = _S8845.differential_0 + _S8490;
    float _S8847 = _S8844.differential_0 + _S8491;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8848;
    (&_S8848)->primal_0 = _S8485;
    (&_S8848)->differential_0 = _S8726;
    s_bwd_length_impl_0(&_S8848, _S8847);
    float2  _S8849 = _S8848.differential_0 + _S8837;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8850;
    (&_S8850)->primal_0 = vert2_c_5;
    (&_S8850)->differential_0 = _S8617;
    s_bwd_length_impl_1(&_S8850, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8851;
    (&_S8851)->primal_0 = vert1_c_5;
    (&_S8851)->differential_0 = _S8617;
    s_bwd_length_impl_1(&_S8851, 0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8852;
    (&_S8852)->primal_0 = vert0_c_5;
    (&_S8852)->differential_0 = _S8617;
    s_bwd_length_impl_1(&_S8852, 0.0f);
    float3  _S8853 = _S8850.differential_0 + _S8807;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8854;
    (&_S8854)->primal_0 = R_69;
    (&_S8854)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8855;
    (&_S8855)->primal_0 = vert2_6;
    (&_S8855)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8854, &_S8855, _S8853);
    float3  _S8856 = _S8851.differential_0 + _S8834;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8857;
    (&_S8857)->primal_0 = R_69;
    (&_S8857)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8858;
    (&_S8858)->primal_0 = vert1_6;
    (&_S8858)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8857, &_S8858, _S8856);
    float3  _S8859 = _S8852.differential_0 + _S8752 + make_float3 (_S8849.x, _S8849.y, _S8846);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8860;
    (&_S8860)->primal_0 = R_69;
    (&_S8860)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8861;
    (&_S8861)->primal_0 = vert0_6;
    (&_S8861)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8860, &_S8861, _S8859);
    float3  _S8862 = _S8855.differential_0 + (*v_verts_1)[int(2)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8863;
    (&_S8863)->primal_0 = _S8479;
    (&_S8863)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8864;
    (&_S8864)->primal_0 = _S8484;
    (&_S8864)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8863, &_S8864, _S8862);
    float _S8865 = - _S8864.differential_0.y;
    float _S8866 = _S8483 * _S8864.differential_0.x;
    float _S8867 = - (_S8475 * _S8864.differential_0.x);
    float3  _S8868 = _S8858.differential_0 + (*v_verts_1)[int(1)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8869;
    (&_S8869)->primal_0 = _S8479;
    (&_S8869)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8870;
    (&_S8870)->primal_0 = _S8482;
    (&_S8870)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8869, &_S8870, _S8868);
    float _S8871 = _S8475 * _S8870.differential_0.x;
    float _S8872 = _S8481 * _S8870.differential_0.x;
    float3  _S8873 = _S8861.differential_0 + (*v_verts_1)[int(0)];
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8874;
    (&_S8874)->primal_0 = _S8479;
    (&_S8874)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8875;
    (&_S8875)->primal_0 = _S8480;
    (&_S8875)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8874, &_S8875, _S8873);
    Matrix<float, 3, 3>  _S8876 = transpose_0(_S8863.differential_0 + _S8869.differential_0 + _S8874.differential_0);
    float _S8877 = 2.0f * - _S8876.rows[int(2)].z;
    float _S8878 = 2.0f * _S8876.rows[int(2)].y;
    float _S8879 = 2.0f * _S8876.rows[int(2)].x;
    float _S8880 = 2.0f * _S8876.rows[int(1)].z;
    float _S8881 = 2.0f * - _S8876.rows[int(1)].y;
    float _S8882 = 2.0f * _S8876.rows[int(1)].x;
    float _S8883 = 2.0f * _S8876.rows[int(0)].z;
    float _S8884 = 2.0f * _S8876.rows[int(0)].y;
    float _S8885 = 2.0f * - _S8876.rows[int(0)].x;
    float _S8886 = - _S8882 + _S8884;
    float _S8887 = _S8879 + - _S8883;
    float _S8888 = - _S8878 + _S8880;
    float _S8889 = _S8878 + _S8880;
    float _S8890 = _S8879 + _S8883;
    float _S8891 = _S8882 + _S8884;
    float _S8892 = quat_68.w * (_S8881 + _S8885);
    float _S8893 = quat_68.z * (_S8877 + _S8885);
    float _S8894 = quat_68.y * (_S8877 + _S8881);
    float _S8895 = quat_68.x * _S8886 + quat_68.z * _S8889 + quat_68.y * _S8890 + _S8892 + _S8892;
    float _S8896 = quat_68.x * _S8887 + quat_68.w * _S8889 + quat_68.y * _S8891 + _S8893 + _S8893;
    float _S8897 = quat_68.x * _S8888 + quat_68.w * _S8890 + quat_68.z * _S8891 + _S8894 + _S8894;
    float _S8898 = quat_68.w * _S8886 + quat_68.z * _S8887 + quat_68.y * _S8888;
    float _S8899 = _S8867 + _S8871;
    float _S8900 = 0.5f * - _S8899;
    float _S8901 = _S8865 + _S8870.differential_0.y;
    DiffPair_float_0 _S8902;
    (&_S8902)->primal_0 = _S8476;
    (&_S8902)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8902, _S8901);
    float _S8903 = _S8900 + _S8902.differential_0;
    float _S8904 = _S8866 + _S8872 + _S8875.differential_0.x;
    DiffPair_float_0 _S8905;
    (&_S8905)->primal_0 = _S8474;
    (&_S8905)->differential_0 = 0.0f;
    s_bwd_prop_exp_0(&_S8905, _S8904);
    float _S8906 = _S8900 + _S8905.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8907;
    (&_S8907)->primal_0 = mean_c_76;
    (&_S8907)->differential_0 = _S8617;
    s_bwd_length_impl_1(&_S8907, 0.0f);
    float3  _S8908 = _S8907.differential_0 + _S8620.differential_0;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S8909;
    (&_S8909)->primal_0 = R_69;
    (&_S8909)->differential_0 = _S8698;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8910;
    (&_S8910)->primal_0 = mean_67;
    (&_S8910)->differential_0 = _S8617;
    s_bwd_prop_mul_1(&_S8909, &_S8910, _S8908);
    float3  _S8911 = _S8853 + _S8856 + _S8859 + _S8908 + _S8701.differential_0;
    Matrix<float, 3, 3>  _S8912 = _S8854.differential_0 + _S8857.differential_0 + _S8860.differential_0 + _S8909.differential_0 + _S8702;
    float3  _S8913 = make_float3 (_S8906, _S8903, _S8899);
    float4  _S8914 = make_float4 (0.0f);
    *&((&_S8914)->w) = _S8895;
    *&((&_S8914)->z) = _S8896;
    *&((&_S8914)->y) = _S8897;
    *&((&_S8914)->x) = _S8898;
    float4  _S8915 = _S8914;
    float3  _S8916 = _S8862 + _S8868 + _S8873 + _S8910.differential_0 + _S8696;
    *v_mean_22 = _S8916;
    *v_quat_21 = _S8915;
    *v_scale_21 = _S8913;
    *v_hardness_1 = _S8780;
    (*v_sh_coeffs_6)[int(0)] = _S8758;
    (*v_sh_coeffs_6)[int(1)] = _S8759;
    (*v_sh_coeffs_6)[int(2)] = _S8760;
    (*v_sh_coeffs_6)[int(3)] = _S8761;
    (*v_sh_coeffs_6)[int(4)] = _S8762;
    (*v_sh_coeffs_6)[int(5)] = _S8763;
    (*v_sh_coeffs_6)[int(6)] = _S8764;
    (*v_sh_coeffs_6)[int(7)] = _S8765;
    (*v_sh_coeffs_6)[int(8)] = _S8766;
    (*v_sh_coeffs_6)[int(9)] = _S8767;
    (*v_sh_coeffs_6)[int(10)] = _S8768;
    (*v_sh_coeffs_6)[int(11)] = _S8769;
    (*v_sh_coeffs_6)[int(12)] = _S8770;
    (*v_sh_coeffs_6)[int(13)] = _S8771;
    (*v_sh_coeffs_6)[int(14)] = _S8772;
    (*v_sh_coeffs_6)[int(15)] = _S8773;
    (*v_ch_coeffs_1)[int(0)] = _S8755;
    (*v_ch_coeffs_1)[int(1)] = _S8756;
    *v_R_22 = _S8912;
    *v_t_21 = _S8911;
    return;
}

inline __device__ bool ray_triangle_intersection_uvt(float3  ray_o_4, float3  ray_d_4, FixedArray<float3 , 3>  * verts_4, float * u_62, float * v_62, float * t_66)
{
    float3  v1v0_0 = (*verts_4)[int(1)] - (*verts_4)[int(0)];
    float3  v2v0_0 = (*verts_4)[int(2)] - (*verts_4)[int(0)];
    float3  rov0_0 = ray_o_4 - (*verts_4)[int(0)];
    float3  n_0 = cross_0(v1v0_0, v2v0_0);
    float3  q_2 = cross_0(rov0_0, ray_d_4);
    float d_28 = 1.0f / dot_0(ray_d_4, n_0);
    *u_62 = d_28 * dot_0(- q_2, v2v0_0);
    *v_62 = d_28 * dot_0(q_2, v1v0_0);
    *t_66 = d_28 * dot_0(- n_0, rov0_0);
    bool _S8917;
    if((*u_62) >= 0.0f)
    {
        _S8917 = (*v_62) >= 0.0f;
    }
    else
    {
        _S8917 = false;
    }
    if(_S8917)
    {
        _S8917 = (*u_62 + *v_62) <= 1.0f;
    }
    else
    {
        _S8917 = false;
    }
    if(_S8917)
    {
        _S8917 = (*t_66) >= 0.0f;
    }
    else
    {
        _S8917 = false;
    }
    return _S8917;
}

inline __device__ void _d_pow_0(DiffPair_float_0 * dpx_16, DiffPair_float_0 * dpy_5, float dOut_19)
{
    if(((*dpx_16).primal_0) < 9.99999997475242708e-07f)
    {
        dpx_16->primal_0 = (*dpx_16).primal_0;
        dpx_16->differential_0 = 0.0f;
        dpy_5->primal_0 = (*dpy_5).primal_0;
        dpy_5->differential_0 = 0.0f;
    }
    else
    {
        float val_0 = (F32_pow(((*dpx_16).primal_0), ((*dpy_5).primal_0)));
        DiffPair_float_0 _S8918 = *dpx_16;
        float _S8919 = val_0 * (*dpy_5).primal_0 / (*dpx_16).primal_0 * dOut_19;
        dpx_16->primal_0 = (*dpx_16).primal_0;
        dpx_16->differential_0 = _S8919;
        float _S8920 = val_0 * (F32_log((_S8918.primal_0))) * dOut_19;
        dpy_5->primal_0 = (*dpy_5).primal_0;
        dpy_5->differential_0 = _S8920;
    }
    return;
}

inline __device__ float evaluate_alpha_opaque_triangle(FixedArray<float3 , 3>  * verts_5, float2  hardness_6, float3  ray_o_5, float3  ray_d_5)
{
    float3  v1v0_1 = (*verts_5)[int(1)] - (*verts_5)[int(0)];
    float3  v2v0_1 = (*verts_5)[int(2)] - (*verts_5)[int(0)];
    float3  rov0_1 = ray_o_5 - (*verts_5)[int(0)];
    float3  n_1 = cross_0(v1v0_1, v2v0_1);
    float3  q_3 = cross_0(rov0_1, ray_d_5);
    float d_29 = 1.0f / dot_0(ray_d_5, n_1);
    float u_63 = d_29 * dot_0(- q_3, v2v0_1);
    float v_63 = d_29 * dot_0(q_3, v1v0_1);
    float t_67 = d_29 * dot_0(- n_1, rov0_1);
    bool _S8921;
    if(u_63 >= 0.0f)
    {
        _S8921 = v_63 >= 0.0f;
    }
    else
    {
        _S8921 = false;
    }
    if(_S8921)
    {
        _S8921 = (u_63 + v_63) <= 1.0f;
    }
    else
    {
        _S8921 = false;
    }
    if(_S8921)
    {
        _S8921 = t_67 >= 0.0f;
    }
    else
    {
        _S8921 = false;
    }
    if(!_S8921)
    {
        return 0.0f;
    }
    float opac_0 = (F32_min(((F32_min((u_63), (v_63)))), ((F32_sqrt((0.5f))) * (1.0f - u_63 - v_63)))) * (2.0f + (F32_sqrt((2.0f))));
    float w_140 = 1.0f - (F32_pow((1.0f - opac_0), (1.0f / (1.0f - clamp_0(hardness_6.y, 0.0f, 0.99989998340606689f)))));
    float o_0 = hardness_6.x;
    float _S8922;
    if(opac_0 < 0.0f)
    {
        _S8922 = 0.0f;
    }
    else
    {
        _S8922 = (F32_min((o_0 * w_140), (0.99500000476837158f)));
    }
    return _S8922;
}

inline __device__ float s_primal_ctx_clamp_0(float _S8923, float _S8924, float _S8925)
{
    return clamp_0(_S8923, _S8924, _S8925);
}

inline __device__ float s_primal_ctx_pow_0(float _S8926, float _S8927)
{
    return (F32_pow((_S8926), (_S8927)));
}

inline __device__ void s_bwd_prop_pow_0(DiffPair_float_0 * _S8928, DiffPair_float_0 * _S8929, float _S8930)
{
    _d_pow_0(_S8928, _S8929, _S8930);
    return;
}

inline __device__ void s_bwd_prop_clamp_0(DiffPair_float_0 * _S8931, DiffPair_float_0 * _S8932, DiffPair_float_0 * _S8933, float _S8934)
{
    _d_clamp_0(_S8931, _S8932, _S8933, _S8934);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_0, DiffPair_vectorx3Cfloatx2C2x3E_0 * dphardness_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_2, float _s_dOut_10)
{
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S8935 = *dphardness_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8936 = *dpray_d_2;
    float3  v1v0_2 = dpverts_0->primal_0[int(1)] - dpverts_0->primal_0[int(0)];
    float3  v2v0_2 = dpverts_0->primal_0[int(2)] - dpverts_0->primal_0[int(0)];
    float3  rov0_2 = (*dpray_o_2).primal_0 - dpverts_0->primal_0[int(0)];
    float3  _S8937 = s_primal_ctx_cross_0(v1v0_2, v2v0_2);
    float3  _S8938 = s_primal_ctx_cross_0(rov0_2, (*dpray_d_2).primal_0);
    float _S8939 = s_primal_ctx_dot_0((*dpray_d_2).primal_0, _S8937);
    float d_30 = 1.0f / _S8939;
    float _S8940 = _S8939 * _S8939;
    float3  _S8941 = - _S8938;
    float _S8942 = s_primal_ctx_dot_0(_S8941, v2v0_2);
    float u_64 = d_30 * _S8942;
    float _S8943 = s_primal_ctx_dot_0(_S8938, v1v0_2);
    float v_64 = d_30 * _S8943;
    float3  _S8944 = - _S8937;
    float t_68 = d_30 * s_primal_ctx_dot_0(_S8944, rov0_2);
    bool _S8945;
    if(u_64 >= 0.0f)
    {
        _S8945 = v_64 >= 0.0f;
    }
    else
    {
        _S8945 = false;
    }
    if(_S8945)
    {
        _S8945 = (u_64 + v_64) <= 1.0f;
    }
    else
    {
        _S8945 = false;
    }
    if(_S8945)
    {
        _S8945 = t_68 >= 0.0f;
    }
    else
    {
        _S8945 = false;
    }
    bool _S8946 = !!_S8945;
    float _S8947;
    float _S8948;
    float _S8949;
    float _S8950;
    float _S8951;
    float _S8952;
    float _S8953;
    float _S8954;
    float _S8955;
    float _S8956;
    float _S8957;
    if(_S8946)
    {
        float _S8958 = s_primal_ctx_min_0(u_64, v_64);
        float _S8959 = s_primal_ctx_sqrt_0(0.5f);
        float _S8960 = _S8959 * (1.0f - u_64 - v_64);
        float _S8961 = 2.0f + s_primal_ctx_sqrt_0(2.0f);
        float opac_1 = s_primal_ctx_min_0(_S8958, _S8960) * _S8961;
        float _S8962 = _S8935.primal_0.y;
        float _S8963 = 1.0f - opac_1;
        float _S8964 = 1.0f - s_primal_ctx_clamp_0(_S8962, 0.0f, 0.99989998340606689f);
        float _S8965 = 1.0f / _S8964;
        float _S8966 = _S8964 * _S8964;
        float w_141 = 1.0f - s_primal_ctx_pow_0(_S8963, _S8965);
        float o_1 = _S8935.primal_0.x;
        bool _S8967 = opac_1 < 0.0f;
        if(_S8967)
        {
            _S8947 = 0.0f;
        }
        else
        {
            _S8947 = o_1 * w_141;
        }
        _S8945 = _S8967;
        _S8948 = o_1;
        _S8949 = w_141;
        _S8950 = _S8963;
        _S8951 = _S8965;
        _S8952 = _S8966;
        _S8953 = _S8962;
        _S8954 = _S8961;
        _S8955 = _S8958;
        _S8956 = _S8960;
        _S8957 = _S8959;
    }
    else
    {
        _S8945 = false;
        _S8947 = 0.0f;
        _S8948 = 0.0f;
        _S8949 = 0.0f;
        _S8950 = 0.0f;
        _S8951 = 0.0f;
        _S8952 = 0.0f;
        _S8953 = 0.0f;
        _S8954 = 0.0f;
        _S8955 = 0.0f;
        _S8956 = 0.0f;
        _S8957 = 0.0f;
    }
    float2  _S8968 = make_float2 (0.0f);
    float2  _S8969;
    if(_S8946)
    {
        if(_S8945)
        {
            _S8947 = 0.0f;
            _S8948 = 0.0f;
        }
        else
        {
            DiffPair_float_0 _S8970;
            (&_S8970)->primal_0 = _S8947;
            (&_S8970)->differential_0 = 0.0f;
            DiffPair_float_0 _S8971;
            (&_S8971)->primal_0 = 0.99500000476837158f;
            (&_S8971)->differential_0 = 0.0f;
            s_bwd_prop_min_0(&_S8970, &_S8971, _s_dOut_10);
            float _S8972 = _S8948 * _S8970.differential_0;
            _S8947 = _S8949 * _S8970.differential_0;
            _S8948 = _S8972;
        }
        float _S8973 = - _S8948;
        DiffPair_float_0 _S8974;
        (&_S8974)->primal_0 = _S8950;
        (&_S8974)->differential_0 = 0.0f;
        DiffPair_float_0 _S8975;
        (&_S8975)->primal_0 = _S8951;
        (&_S8975)->differential_0 = 0.0f;
        s_bwd_prop_pow_0(&_S8974, &_S8975, _S8973);
        float _S8976 = - - (_S8975.differential_0 / _S8952);
        float s_diff_opac_T_0 = - _S8974.differential_0;
        DiffPair_float_0 _S8977;
        (&_S8977)->primal_0 = _S8953;
        (&_S8977)->differential_0 = 0.0f;
        DiffPair_float_0 _S8978;
        (&_S8978)->primal_0 = 0.0f;
        (&_S8978)->differential_0 = 0.0f;
        DiffPair_float_0 _S8979;
        (&_S8979)->primal_0 = 0.99989998340606689f;
        (&_S8979)->differential_0 = 0.0f;
        s_bwd_prop_clamp_0(&_S8977, &_S8978, &_S8979, _S8976);
        float _S8980 = _S8954 * s_diff_opac_T_0;
        DiffPair_float_0 _S8981;
        (&_S8981)->primal_0 = _S8955;
        (&_S8981)->differential_0 = 0.0f;
        DiffPair_float_0 _S8982;
        (&_S8982)->primal_0 = _S8956;
        (&_S8982)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S8981, &_S8982, _S8980);
        float _S8983 = - (_S8957 * _S8982.differential_0);
        DiffPair_float_0 _S8984;
        (&_S8984)->primal_0 = u_64;
        (&_S8984)->differential_0 = 0.0f;
        DiffPair_float_0 _S8985;
        (&_S8985)->primal_0 = v_64;
        (&_S8985)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S8984, &_S8985, _S8981.differential_0);
        float2  _S8986 = make_float2 (_S8947, _S8977.differential_0);
        float _S8987 = _S8983 + _S8985.differential_0;
        _S8947 = _S8983 + _S8984.differential_0;
        _S8948 = _S8987;
        _S8969 = _S8986;
    }
    else
    {
        _S8947 = 0.0f;
        _S8948 = 0.0f;
        _S8969 = _S8968;
    }
    float3  _S8988 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8989;
    (&_S8989)->primal_0 = _S8944;
    (&_S8989)->differential_0 = _S8988;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8990;
    (&_S8990)->primal_0 = rov0_2;
    (&_S8990)->differential_0 = _S8988;
    s_bwd_prop_dot_0(&_S8989, &_S8990, 0.0f);
    float3  _S8991 = - _S8989.differential_0;
    float _S8992 = d_30 * _S8948;
    float _S8993 = _S8943 * _S8948;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8994;
    (&_S8994)->primal_0 = _S8938;
    (&_S8994)->differential_0 = _S8988;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8995;
    (&_S8995)->primal_0 = v1v0_2;
    (&_S8995)->differential_0 = _S8988;
    s_bwd_prop_dot_0(&_S8994, &_S8995, _S8992);
    float _S8996 = d_30 * _S8947;
    float _S8997 = _S8942 * _S8947;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8998;
    (&_S8998)->primal_0 = _S8941;
    (&_S8998)->differential_0 = _S8988;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S8999;
    (&_S8999)->primal_0 = v2v0_2;
    (&_S8999)->differential_0 = _S8988;
    s_bwd_prop_dot_0(&_S8998, &_S8999, _S8996);
    float3  _S9000 = - _S8998.differential_0;
    float _S9001 = - ((_S8993 + _S8997) / _S8940);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9002;
    (&_S9002)->primal_0 = _S8936.primal_0;
    (&_S9002)->differential_0 = _S8988;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9003;
    (&_S9003)->primal_0 = _S8937;
    (&_S9003)->differential_0 = _S8988;
    s_bwd_prop_dot_0(&_S9002, &_S9003, _S9001);
    float3  _S9004 = _S8994.differential_0 + _S9000;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9005;
    (&_S9005)->primal_0 = rov0_2;
    (&_S9005)->differential_0 = _S8988;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9006;
    (&_S9006)->primal_0 = _S8936.primal_0;
    (&_S9006)->differential_0 = _S8988;
    s_bwd_prop_cross_0(&_S9005, &_S9006, _S9004);
    float3  _S9007 = _S8991 + _S9003.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9008;
    (&_S9008)->primal_0 = v1v0_2;
    (&_S9008)->differential_0 = _S8988;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9009;
    (&_S9009)->primal_0 = v2v0_2;
    (&_S9009)->differential_0 = _S8988;
    s_bwd_prop_cross_0(&_S9008, &_S9009, _S9007);
    float3  _S9010 = _S8990.differential_0 + _S9005.differential_0;
    float3  _S9011 = _S8999.differential_0 + _S9009.differential_0;
    float3  _S9012 = _S8995.differential_0 + _S9008.differential_0;
    float3  _S9013 = - _S9010 + - _S9011 + - _S9012;
    float3  _S9014 = _S9002.differential_0 + _S9006.differential_0;
    dpray_d_2->primal_0 = (*dpray_d_2).primal_0;
    dpray_d_2->differential_0 = _S9014;
    dpray_o_2->primal_0 = (*dpray_o_2).primal_0;
    dpray_o_2->differential_0 = _S9010;
    dphardness_0->primal_0 = (*dphardness_0).primal_0;
    dphardness_0->differential_0 = _S8969;
    FixedArray<float3 , 3>  _S9015;
    _S9015[int(0)] = _S8988;
    _S9015[int(1)] = _S8988;
    _S9015[int(2)] = _S8988;
    _S9015[int(2)] = _S9011;
    _S9015[int(0)] = _S9013;
    _S9015[int(1)] = _S9012;
    dpverts_0->primal_0 = dpverts_0->primal_0;
    dpverts_0->differential_0 = _S9015;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S9016, DiffPair_vectorx3Cfloatx2C2x3E_0 * _S9017, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9018, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9019, float _S9020)
{
    s_bwd_prop_evaluate_alpha_opaque_triangle_0(_S9016, _S9017, _S9018, _S9019, _S9020);
    return;
}

inline __device__ void evaluate_alpha_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_6, float2  hardness_7, float3  ray_o_6, float3  ray_d_6, float v_alpha_1, FixedArray<float3 , 3>  * v_verts_2, float2  * v_hardness_2, float3  * v_ray_o_3, float3  * v_ray_d_3)
{
    float3  _S9021 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S9022 = { _S9021, _S9021, _S9021 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_0;
    (&dp_verts_0)->primal_0 = *verts_6;
    (&dp_verts_0)->differential_0 = _S9022;
    float2  _S9023 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 dp_hardness_0;
    (&dp_hardness_0)->primal_0 = hardness_7;
    (&dp_hardness_0)->differential_0 = _S9023;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_2;
    (&dp_ray_o_2)->primal_0 = ray_o_6;
    (&dp_ray_o_2)->differential_0 = _S9021;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_2;
    (&dp_ray_d_2)->primal_0 = ray_d_6;
    (&dp_ray_d_2)->differential_0 = _S9021;
    s_bwd_evaluate_alpha_opaque_triangle_0(&dp_verts_0, &dp_hardness_0, &dp_ray_o_2, &dp_ray_d_2, v_alpha_1);
    *v_verts_2 = (&dp_verts_0)->differential_0;
    *v_hardness_2 = dp_hardness_0.differential_0;
    *v_ray_o_3 = dp_ray_o_2.differential_0;
    *v_ray_d_3 = dp_ray_d_2.differential_0;
    return;
}

inline __device__ float evaluate_sorting_depth_opaque_triangle(FixedArray<float3 , 3>  * verts_7, FixedArray<float3 , 3>  * rgbs_4, float3  ray_o_7, float3  ray_d_7)
{
    float3  n_2 = cross_0((*verts_7)[int(1)] - (*verts_7)[int(0)], (*verts_7)[int(2)] - (*verts_7)[int(0)]);
    return 1.0f / dot_0(ray_d_7, n_2) * dot_0(- n_2, ray_o_7 - (*verts_7)[int(0)]);
}

inline __device__ void evaluate_color_opaque_triangle(FixedArray<float3 , 3>  * verts_8, FixedArray<float3 , 3>  * rgbs_5, float3  ray_o_8, float3  ray_d_8, float3  * color_6, float * depth_43)
{
    float3  v1v0_3 = (*verts_8)[int(1)] - (*verts_8)[int(0)];
    float3  v2v0_3 = (*verts_8)[int(2)] - (*verts_8)[int(0)];
    float3  rov0_3 = ray_o_8 - (*verts_8)[int(0)];
    float3  n_3 = cross_0(v1v0_3, v2v0_3);
    float3  q_4 = cross_0(rov0_3, ray_d_8);
    float d_31 = 1.0f / dot_0(ray_d_8, n_3);
    float u_65 = d_31 * dot_0(- q_4, v2v0_3);
    float v_65 = d_31 * dot_0(q_4, v1v0_3);
    *depth_43 = d_31 * dot_0(- n_3, rov0_3);
    *color_6 = (*rgbs_5)[int(0)] * make_float3 (1.0f - u_65 - v_65) + (*rgbs_5)[int(1)] * make_float3 (u_65) + (*rgbs_5)[int(2)] * make_float3 (v_65);
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dpverts_1, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * dprgbs_0, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_3, float3  dpcolor_0, float dpdepth_29)
{
    float3  v1v0_4 = dpverts_1->primal_0[int(1)] - dpverts_1->primal_0[int(0)];
    float3  v2v0_4 = dpverts_1->primal_0[int(2)] - dpverts_1->primal_0[int(0)];
    float3  rov0_4 = (*dpray_o_3).primal_0 - dpverts_1->primal_0[int(0)];
    float3  _S9024 = s_primal_ctx_cross_0(v1v0_4, v2v0_4);
    float3  _S9025 = s_primal_ctx_cross_0(rov0_4, (*dpray_d_3).primal_0);
    float _S9026 = s_primal_ctx_dot_0((*dpray_d_3).primal_0, _S9024);
    float d_32 = 1.0f / _S9026;
    float _S9027 = _S9026 * _S9026;
    float3  _S9028 = - _S9025;
    float _S9029 = s_primal_ctx_dot_0(_S9028, v2v0_4);
    float u_66 = d_32 * _S9029;
    float _S9030 = s_primal_ctx_dot_0(_S9025, v1v0_4);
    float v_66 = d_32 * _S9030;
    float3  _S9031 = - _S9024;
    float3  _S9032 = dprgbs_0->primal_0[int(2)] * dpcolor_0;
    float3  _S9033 = make_float3 (v_66) * dpcolor_0;
    float3  _S9034 = dprgbs_0->primal_0[int(1)] * dpcolor_0;
    float3  _S9035 = make_float3 (u_66) * dpcolor_0;
    float3  _S9036 = dprgbs_0->primal_0[int(0)] * dpcolor_0;
    float3  _S9037 = make_float3 (1.0f - u_66 - v_66) * dpcolor_0;
    float _S9038 = - (_S9036.x + _S9036.y + _S9036.z);
    float _S9039 = d_32 * dpdepth_29;
    float _S9040 = s_primal_ctx_dot_0(_S9031, rov0_4) * dpdepth_29;
    float3  _S9041 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9042;
    (&_S9042)->primal_0 = _S9031;
    (&_S9042)->differential_0 = _S9041;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9043;
    (&_S9043)->primal_0 = rov0_4;
    (&_S9043)->differential_0 = _S9041;
    s_bwd_prop_dot_0(&_S9042, &_S9043, _S9039);
    float3  _S9044 = - _S9042.differential_0;
    float _S9045 = _S9038 + _S9032.x + _S9032.y + _S9032.z;
    float _S9046 = d_32 * _S9045;
    float _S9047 = _S9030 * _S9045;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9048;
    (&_S9048)->primal_0 = _S9025;
    (&_S9048)->differential_0 = _S9041;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9049;
    (&_S9049)->primal_0 = v1v0_4;
    (&_S9049)->differential_0 = _S9041;
    s_bwd_prop_dot_0(&_S9048, &_S9049, _S9046);
    float _S9050 = _S9038 + _S9034.x + _S9034.y + _S9034.z;
    float _S9051 = d_32 * _S9050;
    float _S9052 = _S9029 * _S9050;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9053;
    (&_S9053)->primal_0 = _S9028;
    (&_S9053)->differential_0 = _S9041;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9054;
    (&_S9054)->primal_0 = v2v0_4;
    (&_S9054)->differential_0 = _S9041;
    s_bwd_prop_dot_0(&_S9053, &_S9054, _S9051);
    float3  _S9055 = - _S9053.differential_0;
    float _S9056 = - ((_S9040 + _S9047 + _S9052) / _S9027);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9057;
    (&_S9057)->primal_0 = (*dpray_d_3).primal_0;
    (&_S9057)->differential_0 = _S9041;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9058;
    (&_S9058)->primal_0 = _S9024;
    (&_S9058)->differential_0 = _S9041;
    s_bwd_prop_dot_0(&_S9057, &_S9058, _S9056);
    float3  _S9059 = _S9048.differential_0 + _S9055;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9060;
    (&_S9060)->primal_0 = rov0_4;
    (&_S9060)->differential_0 = _S9041;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9061;
    (&_S9061)->primal_0 = (*dpray_d_3).primal_0;
    (&_S9061)->differential_0 = _S9041;
    s_bwd_prop_cross_0(&_S9060, &_S9061, _S9059);
    float3  _S9062 = _S9044 + _S9058.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9063;
    (&_S9063)->primal_0 = v1v0_4;
    (&_S9063)->differential_0 = _S9041;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9064;
    (&_S9064)->primal_0 = v2v0_4;
    (&_S9064)->differential_0 = _S9041;
    s_bwd_prop_cross_0(&_S9063, &_S9064, _S9062);
    float3  _S9065 = _S9043.differential_0 + _S9060.differential_0;
    float3  _S9066 = _S9054.differential_0 + _S9064.differential_0;
    float3  _S9067 = _S9049.differential_0 + _S9063.differential_0;
    float3  _S9068 = - _S9065 + - _S9066 + - _S9067;
    float3  _S9069 = _S9057.differential_0 + _S9061.differential_0;
    dpray_d_3->primal_0 = (*dpray_d_3).primal_0;
    dpray_d_3->differential_0 = _S9069;
    dpray_o_3->primal_0 = (*dpray_o_3).primal_0;
    dpray_o_3->differential_0 = _S9065;
    FixedArray<float3 , 3>  _S9070;
    _S9070[int(0)] = _S9041;
    _S9070[int(1)] = _S9041;
    _S9070[int(2)] = _S9041;
    _S9070[int(2)] = _S9033;
    _S9070[int(1)] = _S9035;
    _S9070[int(0)] = _S9037;
    dprgbs_0->primal_0 = dprgbs_0->primal_0;
    dprgbs_0->differential_0 = _S9070;
    FixedArray<float3 , 3>  _S9071;
    _S9071[int(0)] = _S9041;
    _S9071[int(1)] = _S9041;
    _S9071[int(2)] = _S9041;
    _S9071[int(2)] = _S9066;
    _S9071[int(0)] = _S9068;
    _S9071[int(1)] = _S9067;
    dpverts_1->primal_0 = dpverts_1->primal_0;
    dpverts_1->differential_0 = _S9071;
    return;
}

inline __device__ void s_bwd_evaluate_color_opaque_triangle_0(DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S9072, DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 * _S9073, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9074, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S9075, float3  _S9076, float _S9077)
{
    s_bwd_prop_evaluate_color_opaque_triangle_0(_S9072, _S9073, _S9074, _S9075, _S9076, _S9077);
    return;
}

inline __device__ void evaluate_color_opaque_triangle_vjp(FixedArray<float3 , 3>  * verts_9, FixedArray<float3 , 3>  * rgbs_6, float3  ray_o_9, float3  ray_d_9, float3  v_color_0, float v_depth_22, FixedArray<float3 , 3>  * v_verts_3, FixedArray<float3 , 3>  * v_rgbs_2, float3  * v_ray_o_4, float3  * v_ray_d_4)
{
    float3  _S9078 = make_float3 (0.0f);
    FixedArray<float3 , 3>  _S9079 = { _S9078, _S9078, _S9078 };
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_verts_1;
    (&dp_verts_1)->primal_0 = *verts_9;
    (&dp_verts_1)->differential_0 = _S9079;
    DiffPair_arrayx3Cvectorx3Cfloatx2C3x3Ex2C3x3E_0 dp_rgbs_0;
    (&dp_rgbs_0)->primal_0 = *rgbs_6;
    (&dp_rgbs_0)->differential_0 = _S9079;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_3;
    (&dp_ray_o_3)->primal_0 = ray_o_9;
    (&dp_ray_o_3)->differential_0 = _S9078;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_3;
    (&dp_ray_d_3)->primal_0 = ray_d_9;
    (&dp_ray_d_3)->differential_0 = _S9078;
    s_bwd_evaluate_color_opaque_triangle_0(&dp_verts_1, &dp_rgbs_0, &dp_ray_o_3, &dp_ray_d_3, v_color_0, v_depth_22);
    *v_verts_3 = (&dp_verts_1)->differential_0;
    *v_rgbs_2 = (&dp_rgbs_0)->differential_0;
    *v_ray_o_4 = dp_ray_o_3.differential_0;
    *v_ray_d_4 = dp_ray_d_3.differential_0;
    return;
}

inline __device__ void projection_voxel_eval3d_persp(float3  pos_0, float size_0, FixedArray<float, 8>  * densities_0, FixedArray<float3 , 16>  * sh_coeffs_21, Matrix<float, 3, 3>  R_70, float3  t_69, float fx_100, float fy_100, float cx_95, float cy_95, FixedArray<float, 10>  * dist_coeffs_104, uint image_width_91, uint image_height_91, float near_plane_70, float far_plane_70, int4  * aabb_xyxy_56, float * depth_44, float3  * rgbs_7)
{
    float2  * _S9080;
    float2  * _S9081;
    float2  * _S9082;
    float2  * _S9083;
    float2  * _S9084;
    float2  * _S9085;
    float2  * _S9086;
    float2  * _S9087;
    bool _S9088;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_0;
        float3  _S9089 = mul_0(R_70, pos_0) + t_69;
        pos_c_0[int(0)] = _S9089;
        float _S9090 = _S9089.z;
        float _S9091 = (F32_min((far_plane_70), (_S9090)));
        float _S9092 = (F32_max((near_plane_70), (_S9090)));
        float3  _S9093 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 0.0f)) + t_69;
        pos_c_0[int(1)] = _S9093;
        float _S9094 = _S9093.z;
        float _S9095 = (F32_min((_S9091), (_S9094)));
        float _S9096 = (F32_max((_S9092), (_S9094)));
        float3  _S9097 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 0.0f)) + t_69;
        pos_c_0[int(2)] = _S9097;
        float _S9098 = _S9097.z;
        float _S9099 = (F32_min((_S9095), (_S9098)));
        float _S9100 = (F32_max((_S9096), (_S9098)));
        float3  _S9101 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 1.0f, 0.0f)) + t_69;
        pos_c_0[int(3)] = _S9101;
        float _S9102 = _S9101.z;
        float _S9103 = (F32_min((_S9099), (_S9102)));
        float _S9104 = (F32_max((_S9100), (_S9102)));
        float3  _S9105 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 0.0f, 1.0f)) + t_69;
        pos_c_0[int(4)] = _S9105;
        float _S9106 = _S9105.z;
        float _S9107 = (F32_min((_S9103), (_S9106)));
        float _S9108 = (F32_max((_S9104), (_S9106)));
        float3  _S9109 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (1.0f, 0.0f, 1.0f)) + t_69;
        pos_c_0[int(5)] = _S9109;
        float _S9110 = _S9109.z;
        float _S9111 = (F32_min((_S9107), (_S9110)));
        float _S9112 = (F32_max((_S9108), (_S9110)));
        float3  _S9113 = mul_0(R_70, pos_0 + make_float3 (size_0) * make_float3 (0.0f, 1.0f, 1.0f)) + t_69;
        pos_c_0[int(6)] = _S9113;
        float _S9114 = _S9113.z;
        float _S9115 = (F32_min((_S9111), (_S9114)));
        float _S9116 = (F32_max((_S9112), (_S9114)));
        float3  _S9117 = mul_0(R_70, pos_0 + make_float3 (size_0)) + t_69;
        pos_c_0[int(7)] = _S9117;
        float _S9118 = _S9117.z;
        float _S9119 = (F32_min((_S9115), (_S9118)));
        float _S9120 = (F32_max((_S9116), (_S9118)));
        bool _S9121;
        if(_S9119 < near_plane_70)
        {
            _S9121 = true;
        }
        else
        {
            _S9121 = _S9120 > far_plane_70;
        }
        if(_S9121)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_77 = mul_0(R_70, pos_0 + make_float3 (0.5f * size_0)) + t_69;
        FixedArray<float2 , 8>  uv_7;
        for(;;)
        {
            float3  _S9122 = pos_c_0[int(0)];
            _S9080 = &uv_7[int(0)];
            for(;;)
            {
                float _S9123 = _S9122.z;
                uv_7[int(0)] = float2 {_S9122.x, _S9122.y} / make_float2 (_S9123);
                if(_S9123 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9124 = camera_distortion_jac_0(uv_7[int(0)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9124)), ((F32_min((_S9124.rows[int(0)].x), (_S9124.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_67 = uv_7[int(0)].x;
                float v_67 = uv_7[int(0)].y;
                float r2_62 = u_67 * u_67 + v_67 * v_67;
                float2  _S9125 = uv_7[int(0)] * make_float2 (1.0f + r2_62 * ((*dist_coeffs_104)[int(0)] + r2_62 * ((*dist_coeffs_104)[int(1)] + r2_62 * ((*dist_coeffs_104)[int(2)] + r2_62 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_67 * v_67 + (*dist_coeffs_104)[int(5)] * (r2_62 + 2.0f * u_67 * u_67) + (*dist_coeffs_104)[int(6)] * r2_62, 2.0f * (*dist_coeffs_104)[int(5)] * u_67 * v_67 + (*dist_coeffs_104)[int(4)] * (r2_62 + 2.0f * v_67 * v_67) + (*dist_coeffs_104)[int(7)] * r2_62);
                float2  _S9126 = _S9125 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9125.x + (*dist_coeffs_104)[int(9)] * _S9125.y, 0.0f);
                uv_7[int(0)] = make_float2 (fx_100 * _S9126.x + cx_95, fy_100 * _S9126.y + cy_95);
                break;
            }
            bool all_valid_12 = true & (!_S9121);
            float3  _S9127 = pos_c_0[int(1)];
            _S9081 = &uv_7[int(1)];
            for(;;)
            {
                float _S9128 = _S9127.z;
                uv_7[int(1)] = float2 {_S9127.x, _S9127.y} / make_float2 (_S9128);
                if(_S9128 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9129 = camera_distortion_jac_0(uv_7[int(1)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9129)), ((F32_min((_S9129.rows[int(0)].x), (_S9129.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_68 = uv_7[int(1)].x;
                float v_68 = uv_7[int(1)].y;
                float r2_63 = u_68 * u_68 + v_68 * v_68;
                float2  _S9130 = uv_7[int(1)] * make_float2 (1.0f + r2_63 * ((*dist_coeffs_104)[int(0)] + r2_63 * ((*dist_coeffs_104)[int(1)] + r2_63 * ((*dist_coeffs_104)[int(2)] + r2_63 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_68 * v_68 + (*dist_coeffs_104)[int(5)] * (r2_63 + 2.0f * u_68 * u_68) + (*dist_coeffs_104)[int(6)] * r2_63, 2.0f * (*dist_coeffs_104)[int(5)] * u_68 * v_68 + (*dist_coeffs_104)[int(4)] * (r2_63 + 2.0f * v_68 * v_68) + (*dist_coeffs_104)[int(7)] * r2_63);
                float2  _S9131 = _S9130 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9130.x + (*dist_coeffs_104)[int(9)] * _S9130.y, 0.0f);
                uv_7[int(1)] = make_float2 (fx_100 * _S9131.x + cx_95, fy_100 * _S9131.y + cy_95);
                break;
            }
            bool all_valid_13 = all_valid_12 & (!_S9121);
            float3  _S9132 = pos_c_0[int(2)];
            _S9082 = &uv_7[int(2)];
            for(;;)
            {
                float _S9133 = _S9132.z;
                uv_7[int(2)] = float2 {_S9132.x, _S9132.y} / make_float2 (_S9133);
                if(_S9133 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9134 = camera_distortion_jac_0(uv_7[int(2)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9134)), ((F32_min((_S9134.rows[int(0)].x), (_S9134.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_69 = uv_7[int(2)].x;
                float v_69 = uv_7[int(2)].y;
                float r2_64 = u_69 * u_69 + v_69 * v_69;
                float2  _S9135 = uv_7[int(2)] * make_float2 (1.0f + r2_64 * ((*dist_coeffs_104)[int(0)] + r2_64 * ((*dist_coeffs_104)[int(1)] + r2_64 * ((*dist_coeffs_104)[int(2)] + r2_64 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_69 * v_69 + (*dist_coeffs_104)[int(5)] * (r2_64 + 2.0f * u_69 * u_69) + (*dist_coeffs_104)[int(6)] * r2_64, 2.0f * (*dist_coeffs_104)[int(5)] * u_69 * v_69 + (*dist_coeffs_104)[int(4)] * (r2_64 + 2.0f * v_69 * v_69) + (*dist_coeffs_104)[int(7)] * r2_64);
                float2  _S9136 = _S9135 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9135.x + (*dist_coeffs_104)[int(9)] * _S9135.y, 0.0f);
                uv_7[int(2)] = make_float2 (fx_100 * _S9136.x + cx_95, fy_100 * _S9136.y + cy_95);
                break;
            }
            bool all_valid_14 = all_valid_13 & (!_S9121);
            float3  _S9137 = pos_c_0[int(3)];
            _S9083 = &uv_7[int(3)];
            for(;;)
            {
                float _S9138 = _S9137.z;
                uv_7[int(3)] = float2 {_S9137.x, _S9137.y} / make_float2 (_S9138);
                if(_S9138 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9139 = camera_distortion_jac_0(uv_7[int(3)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9139)), ((F32_min((_S9139.rows[int(0)].x), (_S9139.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_70 = uv_7[int(3)].x;
                float v_70 = uv_7[int(3)].y;
                float r2_65 = u_70 * u_70 + v_70 * v_70;
                float2  _S9140 = uv_7[int(3)] * make_float2 (1.0f + r2_65 * ((*dist_coeffs_104)[int(0)] + r2_65 * ((*dist_coeffs_104)[int(1)] + r2_65 * ((*dist_coeffs_104)[int(2)] + r2_65 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_70 * v_70 + (*dist_coeffs_104)[int(5)] * (r2_65 + 2.0f * u_70 * u_70) + (*dist_coeffs_104)[int(6)] * r2_65, 2.0f * (*dist_coeffs_104)[int(5)] * u_70 * v_70 + (*dist_coeffs_104)[int(4)] * (r2_65 + 2.0f * v_70 * v_70) + (*dist_coeffs_104)[int(7)] * r2_65);
                float2  _S9141 = _S9140 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9140.x + (*dist_coeffs_104)[int(9)] * _S9140.y, 0.0f);
                uv_7[int(3)] = make_float2 (fx_100 * _S9141.x + cx_95, fy_100 * _S9141.y + cy_95);
                break;
            }
            bool all_valid_15 = all_valid_14 & (!_S9121);
            float3  _S9142 = pos_c_0[int(4)];
            _S9084 = &uv_7[int(4)];
            for(;;)
            {
                float _S9143 = _S9142.z;
                uv_7[int(4)] = float2 {_S9142.x, _S9142.y} / make_float2 (_S9143);
                if(_S9143 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9144 = camera_distortion_jac_0(uv_7[int(4)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9144)), ((F32_min((_S9144.rows[int(0)].x), (_S9144.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_71 = uv_7[int(4)].x;
                float v_71 = uv_7[int(4)].y;
                float r2_66 = u_71 * u_71 + v_71 * v_71;
                float2  _S9145 = uv_7[int(4)] * make_float2 (1.0f + r2_66 * ((*dist_coeffs_104)[int(0)] + r2_66 * ((*dist_coeffs_104)[int(1)] + r2_66 * ((*dist_coeffs_104)[int(2)] + r2_66 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_71 * v_71 + (*dist_coeffs_104)[int(5)] * (r2_66 + 2.0f * u_71 * u_71) + (*dist_coeffs_104)[int(6)] * r2_66, 2.0f * (*dist_coeffs_104)[int(5)] * u_71 * v_71 + (*dist_coeffs_104)[int(4)] * (r2_66 + 2.0f * v_71 * v_71) + (*dist_coeffs_104)[int(7)] * r2_66);
                float2  _S9146 = _S9145 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9145.x + (*dist_coeffs_104)[int(9)] * _S9145.y, 0.0f);
                uv_7[int(4)] = make_float2 (fx_100 * _S9146.x + cx_95, fy_100 * _S9146.y + cy_95);
                break;
            }
            bool all_valid_16 = all_valid_15 & (!_S9121);
            float3  _S9147 = pos_c_0[int(5)];
            _S9085 = &uv_7[int(5)];
            for(;;)
            {
                float _S9148 = _S9147.z;
                uv_7[int(5)] = float2 {_S9147.x, _S9147.y} / make_float2 (_S9148);
                if(_S9148 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9149 = camera_distortion_jac_0(uv_7[int(5)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9149)), ((F32_min((_S9149.rows[int(0)].x), (_S9149.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_72 = uv_7[int(5)].x;
                float v_72 = uv_7[int(5)].y;
                float r2_67 = u_72 * u_72 + v_72 * v_72;
                float2  _S9150 = uv_7[int(5)] * make_float2 (1.0f + r2_67 * ((*dist_coeffs_104)[int(0)] + r2_67 * ((*dist_coeffs_104)[int(1)] + r2_67 * ((*dist_coeffs_104)[int(2)] + r2_67 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_72 * v_72 + (*dist_coeffs_104)[int(5)] * (r2_67 + 2.0f * u_72 * u_72) + (*dist_coeffs_104)[int(6)] * r2_67, 2.0f * (*dist_coeffs_104)[int(5)] * u_72 * v_72 + (*dist_coeffs_104)[int(4)] * (r2_67 + 2.0f * v_72 * v_72) + (*dist_coeffs_104)[int(7)] * r2_67);
                float2  _S9151 = _S9150 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9150.x + (*dist_coeffs_104)[int(9)] * _S9150.y, 0.0f);
                uv_7[int(5)] = make_float2 (fx_100 * _S9151.x + cx_95, fy_100 * _S9151.y + cy_95);
                break;
            }
            bool all_valid_17 = all_valid_16 & (!_S9121);
            float3  _S9152 = pos_c_0[int(6)];
            _S9086 = &uv_7[int(6)];
            for(;;)
            {
                float _S9153 = _S9152.z;
                uv_7[int(6)] = float2 {_S9152.x, _S9152.y} / make_float2 (_S9153);
                if(_S9153 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9154 = camera_distortion_jac_0(uv_7[int(6)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9154)), ((F32_min((_S9154.rows[int(0)].x), (_S9154.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_73 = uv_7[int(6)].x;
                float v_73 = uv_7[int(6)].y;
                float r2_68 = u_73 * u_73 + v_73 * v_73;
                float2  _S9155 = uv_7[int(6)] * make_float2 (1.0f + r2_68 * ((*dist_coeffs_104)[int(0)] + r2_68 * ((*dist_coeffs_104)[int(1)] + r2_68 * ((*dist_coeffs_104)[int(2)] + r2_68 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_73 * v_73 + (*dist_coeffs_104)[int(5)] * (r2_68 + 2.0f * u_73 * u_73) + (*dist_coeffs_104)[int(6)] * r2_68, 2.0f * (*dist_coeffs_104)[int(5)] * u_73 * v_73 + (*dist_coeffs_104)[int(4)] * (r2_68 + 2.0f * v_73 * v_73) + (*dist_coeffs_104)[int(7)] * r2_68);
                float2  _S9156 = _S9155 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9155.x + (*dist_coeffs_104)[int(9)] * _S9155.y, 0.0f);
                uv_7[int(6)] = make_float2 (fx_100 * _S9156.x + cx_95, fy_100 * _S9156.y + cy_95);
                break;
            }
            bool all_valid_18 = all_valid_17 & (!_S9121);
            float3  _S9157 = pos_c_0[int(7)];
            _S9087 = &uv_7[int(7)];
            for(;;)
            {
                float _S9158 = _S9157.z;
                uv_7[int(7)] = float2 {_S9157.x, _S9157.y} / make_float2 (_S9158);
                if(_S9158 < 0.0f)
                {
                    _S9121 = true;
                }
                else
                {
                    Matrix<float, 2, 2>  _S9159 = camera_distortion_jac_0(uv_7[int(7)], dist_coeffs_104);
                    _S9121 = !((F32_min((determinant_0(_S9159)), ((F32_min((_S9159.rows[int(0)].x), (_S9159.rows[int(1)].y)))))) > 0.0f);
                }
                if(_S9121)
                {
                    break;
                }
                float u_74 = uv_7[int(7)].x;
                float v_74 = uv_7[int(7)].y;
                float r2_69 = u_74 * u_74 + v_74 * v_74;
                float2  _S9160 = uv_7[int(7)] * make_float2 (1.0f + r2_69 * ((*dist_coeffs_104)[int(0)] + r2_69 * ((*dist_coeffs_104)[int(1)] + r2_69 * ((*dist_coeffs_104)[int(2)] + r2_69 * (*dist_coeffs_104)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_104)[int(4)] * u_74 * v_74 + (*dist_coeffs_104)[int(5)] * (r2_69 + 2.0f * u_74 * u_74) + (*dist_coeffs_104)[int(6)] * r2_69, 2.0f * (*dist_coeffs_104)[int(5)] * u_74 * v_74 + (*dist_coeffs_104)[int(4)] * (r2_69 + 2.0f * v_74 * v_74) + (*dist_coeffs_104)[int(7)] * r2_69);
                float2  _S9161 = _S9160 + make_float2 ((*dist_coeffs_104)[int(8)] * _S9160.x + (*dist_coeffs_104)[int(9)] * _S9160.y, 0.0f);
                uv_7[int(7)] = make_float2 (fx_100 * _S9161.x + cx_95, fy_100 * _S9161.y + cy_95);
                break;
            }
            _S9088 = all_valid_18 & (!_S9121);
            break;
        }
        if(!_S9088)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_0)[int(0)]), ((*densities_0)[int(1)])))), ((*densities_0)[int(2)])))), ((*densities_0)[int(3)])))), ((*densities_0)[int(4)])))), ((*densities_0)[int(5)])))), ((*densities_0)[int(6)])))), ((*densities_0)[int(7)]))) * size_0 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9162 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9080).x), ((*_S9081).x)))), ((*_S9082).x)))), ((*_S9083).x)))), ((*_S9084).x)))), ((*_S9085).x)))), ((*_S9086).x)))), ((*_S9087).x)));
        float _S9163 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9080).x), ((*_S9081).x)))), ((*_S9082).x)))), ((*_S9083).x)))), ((*_S9084).x)))), ((*_S9085).x)))), ((*_S9086).x)))), ((*_S9087).x)));
        float _S9164 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9080).y), ((*_S9081).y)))), ((*_S9082).y)))), ((*_S9083).y)))), ((*_S9084).y)))), ((*_S9085).y)))), ((*_S9086).y)))), ((*_S9087).y)));
        float _S9165 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9080).y), ((*_S9081).y)))), ((*_S9082).y)))), ((*_S9083).y)))), ((*_S9084).y)))), ((*_S9085).y)))), ((*_S9086).y)))), ((*_S9087).y)));
        if(_S9162 <= 0.0f)
        {
            _S9121 = true;
        }
        else
        {
            _S9121 = _S9163 >= float(image_width_91);
        }
        if(_S9121)
        {
            _S9121 = true;
        }
        else
        {
            _S9121 = _S9164 <= 0.0f;
        }
        if(_S9121)
        {
            _S9121 = true;
        }
        else
        {
            _S9121 = _S9165 >= float(image_height_91);
        }
        if(_S9121)
        {
            _S9121 = true;
        }
        else
        {
            if(_S9119 <= 0.0f)
            {
                if(_S9163 <= 0.0f)
                {
                    _S9121 = _S9162 >= float(image_width_91);
                }
                else
                {
                    _S9121 = false;
                }
                if(_S9121)
                {
                    _S9121 = true;
                }
                else
                {
                    if(_S9165 <= 0.0f)
                    {
                        _S9121 = _S9164 >= float(image_width_91);
                    }
                    else
                    {
                        _S9121 = false;
                    }
                }
            }
            else
            {
                _S9121 = false;
            }
        }
        if(_S9121)
        {
            *aabb_xyxy_56 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_56 = make_int4 (int((F32_floor((_S9163)))), int((F32_floor((_S9165)))), int((F32_ceil((_S9162)))), int((F32_ceil((_S9164)))));
        float _S9166 = mean_c_77.z;
        *depth_44 = (F32_max((_S9166), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9166 + length_1(mean_c_77)))));
        float3  _S9167 = mean_c_77 - - mul_0(transpose_0(R_70), t_69);
        float3  _S9168 = make_float3 (0.282094806432724f) * (*sh_coeffs_21)[int(0)];
        *rgbs_7 = _S9168;
        float _S9169 = _S9167.x;
        float _S9170 = _S9167.y;
        float _S9171 = _S9167.z;
        float norm_14 = (F32_sqrt((_S9169 * _S9169 + _S9170 * _S9170 + _S9171 * _S9171)));
        float x_79 = _S9169 / norm_14;
        float y_24 = _S9170 / norm_14;
        float z_21 = _S9171 / norm_14;
        float3  _S9172 = _S9168 + make_float3 (0.48860251903533936f) * (make_float3 (- y_24) * (*sh_coeffs_21)[int(1)] + make_float3 (z_21) * (*sh_coeffs_21)[int(2)] - make_float3 (x_79) * (*sh_coeffs_21)[int(3)]);
        *rgbs_7 = _S9172;
        float z2_104 = z_21 * z_21;
        float fTmp0B_21 = -1.09254848957061768f * z_21;
        float fC1_21 = x_79 * x_79 - y_24 * y_24;
        float fS1_21 = 2.0f * x_79 * y_24;
        float3  _S9173 = _S9172 + (make_float3 (0.54627424478530884f * fS1_21) * (*sh_coeffs_21)[int(4)] + make_float3 (fTmp0B_21 * y_24) * (*sh_coeffs_21)[int(5)] + make_float3 (0.94617468118667603f * z2_104 - 0.31539157032966614f) * (*sh_coeffs_21)[int(6)] + make_float3 (fTmp0B_21 * x_79) * (*sh_coeffs_21)[int(7)] + make_float3 (0.54627424478530884f * fC1_21) * (*sh_coeffs_21)[int(8)]);
        *rgbs_7 = _S9173;
        float fTmp0C_21 = -2.28522896766662598f * z2_104 + 0.4570457935333252f;
        float fTmp1B_21 = 1.44530570507049561f * z_21;
        *rgbs_7 = max_0(_S9173 + (make_float3 (-0.59004360437393188f * (x_79 * fS1_21 + y_24 * fC1_21)) * (*sh_coeffs_21)[int(9)] + make_float3 (fTmp1B_21 * fS1_21) * (*sh_coeffs_21)[int(10)] + make_float3 (fTmp0C_21 * y_24) * (*sh_coeffs_21)[int(11)] + make_float3 (z_21 * (1.86588168144226074f * z2_104 - 1.11952900886535645f)) * (*sh_coeffs_21)[int(12)] + make_float3 (fTmp0C_21 * x_79) * (*sh_coeffs_21)[int(13)] + make_float3 (fTmp1B_21 * fC1_21) * (*sh_coeffs_21)[int(14)] + make_float3 (-0.59004360437393188f * (x_79 * fC1_21 - y_24 * fS1_21)) * (*sh_coeffs_21)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye(float3  pos_1, float size_1, FixedArray<float, 8>  * densities_1, FixedArray<float3 , 16>  * sh_coeffs_22, Matrix<float, 3, 3>  R_71, float3  t_70, float fx_101, float fy_101, float cx_96, float cy_96, FixedArray<float, 10>  * dist_coeffs_105, uint image_width_92, uint image_height_92, float near_plane_71, float far_plane_71, int4  * aabb_xyxy_57, float * depth_45, float3  * rgbs_8)
{
    float2  * _S9174;
    bool _S9175;
    float2  * _S9176;
    bool _S9177;
    float2  * _S9178;
    bool _S9179;
    float2  * _S9180;
    bool _S9181;
    float2  * _S9182;
    bool _S9183;
    float2  * _S9184;
    bool _S9185;
    float2  * _S9186;
    bool _S9187;
    float2  * _S9188;
    bool _S9189;
    bool _S9190;
    for(;;)
    {
        FixedArray<float3 , 8>  pos_c_1;
        float3  _S9191 = mul_0(R_71, pos_1) + t_70;
        pos_c_1[int(0)] = _S9191;
        float _S9192 = length_1(_S9191);
        float _S9193 = (F32_min((far_plane_71), (_S9192)));
        float _S9194 = (F32_max((near_plane_71), (_S9192)));
        float3  _S9195 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 0.0f)) + t_70;
        pos_c_1[int(1)] = _S9195;
        float _S9196 = length_1(_S9195);
        float _S9197 = (F32_min((_S9193), (_S9196)));
        float _S9198 = (F32_max((_S9194), (_S9196)));
        float3  _S9199 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 0.0f)) + t_70;
        pos_c_1[int(2)] = _S9199;
        float _S9200 = length_1(_S9199);
        float _S9201 = (F32_min((_S9197), (_S9200)));
        float _S9202 = (F32_max((_S9198), (_S9200)));
        float3  _S9203 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 1.0f, 0.0f)) + t_70;
        pos_c_1[int(3)] = _S9203;
        float _S9204 = length_1(_S9203);
        float _S9205 = (F32_min((_S9201), (_S9204)));
        float _S9206 = (F32_max((_S9202), (_S9204)));
        float3  _S9207 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 0.0f, 1.0f)) + t_70;
        pos_c_1[int(4)] = _S9207;
        float _S9208 = length_1(_S9207);
        float _S9209 = (F32_min((_S9205), (_S9208)));
        float _S9210 = (F32_max((_S9206), (_S9208)));
        float3  _S9211 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (1.0f, 0.0f, 1.0f)) + t_70;
        pos_c_1[int(5)] = _S9211;
        float _S9212 = length_1(_S9211);
        float _S9213 = (F32_min((_S9209), (_S9212)));
        float _S9214 = (F32_max((_S9210), (_S9212)));
        float3  _S9215 = mul_0(R_71, pos_1 + make_float3 (size_1) * make_float3 (0.0f, 1.0f, 1.0f)) + t_70;
        pos_c_1[int(6)] = _S9215;
        float _S9216 = length_1(_S9215);
        float _S9217 = (F32_min((_S9213), (_S9216)));
        float _S9218 = (F32_max((_S9214), (_S9216)));
        float3  _S9219 = mul_0(R_71, pos_1 + make_float3 (size_1)) + t_70;
        pos_c_1[int(7)] = _S9219;
        float _S9220 = length_1(_S9219);
        float _S9221 = (F32_min((_S9217), (_S9220)));
        float _S9222 = (F32_max((_S9218), (_S9220)));
        bool _S9223;
        if(_S9221 < near_plane_71)
        {
            _S9223 = true;
        }
        else
        {
            _S9223 = _S9222 > far_plane_71;
        }
        if(_S9223)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float3  mean_c_78 = mul_0(R_71, pos_1 + make_float3 (0.5f * size_1)) + t_70;
        FixedArray<float2 , 8>  uv_8;
        for(;;)
        {
            float k_10;
            float3  _S9224 = pos_c_1[int(0)];
            _S9174 = &uv_8[int(0)];
            for(;;)
            {
                float2  _S9225 = float2 {_S9224.x, _S9224.y};
                float r_30 = length_0(_S9225);
                float _S9226 = _S9224.z;
                float theta_26 = (F32_atan2((r_30), (_S9226)));
                if(theta_26 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_26 * theta_26 / 3.0f) / _S9226;
                }
                else
                {
                    k_10 = theta_26 / r_30;
                }
                float2  _S9227 = _S9225 * make_float2 (k_10);
                uv_8[int(0)] = _S9227;
                Matrix<float, 2, 2>  _S9228 = camera_distortion_jac_0(_S9227, dist_coeffs_105);
                bool _S9229 = !((F32_min((determinant_0(_S9228)), ((F32_min((_S9228.rows[int(0)].x), (_S9228.rows[int(1)].y)))))) > 0.0f);
                _S9175 = _S9229;
                if(_S9229)
                {
                    break;
                }
                float u_75 = uv_8[int(0)].x;
                float v_75 = uv_8[int(0)].y;
                float r2_70 = u_75 * u_75 + v_75 * v_75;
                float2  _S9230 = uv_8[int(0)] * make_float2 (1.0f + r2_70 * ((*dist_coeffs_105)[int(0)] + r2_70 * ((*dist_coeffs_105)[int(1)] + r2_70 * ((*dist_coeffs_105)[int(2)] + r2_70 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_75 * v_75 + (*dist_coeffs_105)[int(5)] * (r2_70 + 2.0f * u_75 * u_75) + (*dist_coeffs_105)[int(6)] * r2_70, 2.0f * (*dist_coeffs_105)[int(5)] * u_75 * v_75 + (*dist_coeffs_105)[int(4)] * (r2_70 + 2.0f * v_75 * v_75) + (*dist_coeffs_105)[int(7)] * r2_70);
                float2  _S9231 = _S9230 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9230.x + (*dist_coeffs_105)[int(9)] * _S9230.y, 0.0f);
                uv_8[int(0)] = make_float2 (fx_101 * _S9231.x + cx_96, fy_101 * _S9231.y + cy_96);
                break;
            }
            bool all_valid_19 = true & (!_S9175);
            float3  _S9232 = pos_c_1[int(1)];
            _S9176 = &uv_8[int(1)];
            for(;;)
            {
                float2  _S9233 = float2 {_S9232.x, _S9232.y};
                float r_31 = length_0(_S9233);
                float _S9234 = _S9232.z;
                float theta_27 = (F32_atan2((r_31), (_S9234)));
                if(theta_27 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_27 * theta_27 / 3.0f) / _S9234;
                }
                else
                {
                    k_10 = theta_27 / r_31;
                }
                float2  _S9235 = _S9233 * make_float2 (k_10);
                uv_8[int(1)] = _S9235;
                Matrix<float, 2, 2>  _S9236 = camera_distortion_jac_0(_S9235, dist_coeffs_105);
                bool _S9237 = !((F32_min((determinant_0(_S9236)), ((F32_min((_S9236.rows[int(0)].x), (_S9236.rows[int(1)].y)))))) > 0.0f);
                _S9177 = _S9237;
                if(_S9237)
                {
                    break;
                }
                float u_76 = uv_8[int(1)].x;
                float v_76 = uv_8[int(1)].y;
                float r2_71 = u_76 * u_76 + v_76 * v_76;
                float2  _S9238 = uv_8[int(1)] * make_float2 (1.0f + r2_71 * ((*dist_coeffs_105)[int(0)] + r2_71 * ((*dist_coeffs_105)[int(1)] + r2_71 * ((*dist_coeffs_105)[int(2)] + r2_71 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_76 * v_76 + (*dist_coeffs_105)[int(5)] * (r2_71 + 2.0f * u_76 * u_76) + (*dist_coeffs_105)[int(6)] * r2_71, 2.0f * (*dist_coeffs_105)[int(5)] * u_76 * v_76 + (*dist_coeffs_105)[int(4)] * (r2_71 + 2.0f * v_76 * v_76) + (*dist_coeffs_105)[int(7)] * r2_71);
                float2  _S9239 = _S9238 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9238.x + (*dist_coeffs_105)[int(9)] * _S9238.y, 0.0f);
                uv_8[int(1)] = make_float2 (fx_101 * _S9239.x + cx_96, fy_101 * _S9239.y + cy_96);
                break;
            }
            bool all_valid_20 = all_valid_19 & (!_S9177);
            float3  _S9240 = pos_c_1[int(2)];
            _S9178 = &uv_8[int(2)];
            for(;;)
            {
                float2  _S9241 = float2 {_S9240.x, _S9240.y};
                float r_32 = length_0(_S9241);
                float _S9242 = _S9240.z;
                float theta_28 = (F32_atan2((r_32), (_S9242)));
                if(theta_28 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_28 * theta_28 / 3.0f) / _S9242;
                }
                else
                {
                    k_10 = theta_28 / r_32;
                }
                float2  _S9243 = _S9241 * make_float2 (k_10);
                uv_8[int(2)] = _S9243;
                Matrix<float, 2, 2>  _S9244 = camera_distortion_jac_0(_S9243, dist_coeffs_105);
                bool _S9245 = !((F32_min((determinant_0(_S9244)), ((F32_min((_S9244.rows[int(0)].x), (_S9244.rows[int(1)].y)))))) > 0.0f);
                _S9179 = _S9245;
                if(_S9245)
                {
                    break;
                }
                float u_77 = uv_8[int(2)].x;
                float v_77 = uv_8[int(2)].y;
                float r2_72 = u_77 * u_77 + v_77 * v_77;
                float2  _S9246 = uv_8[int(2)] * make_float2 (1.0f + r2_72 * ((*dist_coeffs_105)[int(0)] + r2_72 * ((*dist_coeffs_105)[int(1)] + r2_72 * ((*dist_coeffs_105)[int(2)] + r2_72 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_77 * v_77 + (*dist_coeffs_105)[int(5)] * (r2_72 + 2.0f * u_77 * u_77) + (*dist_coeffs_105)[int(6)] * r2_72, 2.0f * (*dist_coeffs_105)[int(5)] * u_77 * v_77 + (*dist_coeffs_105)[int(4)] * (r2_72 + 2.0f * v_77 * v_77) + (*dist_coeffs_105)[int(7)] * r2_72);
                float2  _S9247 = _S9246 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9246.x + (*dist_coeffs_105)[int(9)] * _S9246.y, 0.0f);
                uv_8[int(2)] = make_float2 (fx_101 * _S9247.x + cx_96, fy_101 * _S9247.y + cy_96);
                break;
            }
            bool all_valid_21 = all_valid_20 & (!_S9179);
            float3  _S9248 = pos_c_1[int(3)];
            _S9180 = &uv_8[int(3)];
            for(;;)
            {
                float2  _S9249 = float2 {_S9248.x, _S9248.y};
                float r_33 = length_0(_S9249);
                float _S9250 = _S9248.z;
                float theta_29 = (F32_atan2((r_33), (_S9250)));
                if(theta_29 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_29 * theta_29 / 3.0f) / _S9250;
                }
                else
                {
                    k_10 = theta_29 / r_33;
                }
                float2  _S9251 = _S9249 * make_float2 (k_10);
                uv_8[int(3)] = _S9251;
                Matrix<float, 2, 2>  _S9252 = camera_distortion_jac_0(_S9251, dist_coeffs_105);
                bool _S9253 = !((F32_min((determinant_0(_S9252)), ((F32_min((_S9252.rows[int(0)].x), (_S9252.rows[int(1)].y)))))) > 0.0f);
                _S9181 = _S9253;
                if(_S9253)
                {
                    break;
                }
                float u_78 = uv_8[int(3)].x;
                float v_78 = uv_8[int(3)].y;
                float r2_73 = u_78 * u_78 + v_78 * v_78;
                float2  _S9254 = uv_8[int(3)] * make_float2 (1.0f + r2_73 * ((*dist_coeffs_105)[int(0)] + r2_73 * ((*dist_coeffs_105)[int(1)] + r2_73 * ((*dist_coeffs_105)[int(2)] + r2_73 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_78 * v_78 + (*dist_coeffs_105)[int(5)] * (r2_73 + 2.0f * u_78 * u_78) + (*dist_coeffs_105)[int(6)] * r2_73, 2.0f * (*dist_coeffs_105)[int(5)] * u_78 * v_78 + (*dist_coeffs_105)[int(4)] * (r2_73 + 2.0f * v_78 * v_78) + (*dist_coeffs_105)[int(7)] * r2_73);
                float2  _S9255 = _S9254 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9254.x + (*dist_coeffs_105)[int(9)] * _S9254.y, 0.0f);
                uv_8[int(3)] = make_float2 (fx_101 * _S9255.x + cx_96, fy_101 * _S9255.y + cy_96);
                break;
            }
            bool all_valid_22 = all_valid_21 & (!_S9181);
            float3  _S9256 = pos_c_1[int(4)];
            _S9182 = &uv_8[int(4)];
            for(;;)
            {
                float2  _S9257 = float2 {_S9256.x, _S9256.y};
                float r_34 = length_0(_S9257);
                float _S9258 = _S9256.z;
                float theta_30 = (F32_atan2((r_34), (_S9258)));
                if(theta_30 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_30 * theta_30 / 3.0f) / _S9258;
                }
                else
                {
                    k_10 = theta_30 / r_34;
                }
                float2  _S9259 = _S9257 * make_float2 (k_10);
                uv_8[int(4)] = _S9259;
                Matrix<float, 2, 2>  _S9260 = camera_distortion_jac_0(_S9259, dist_coeffs_105);
                bool _S9261 = !((F32_min((determinant_0(_S9260)), ((F32_min((_S9260.rows[int(0)].x), (_S9260.rows[int(1)].y)))))) > 0.0f);
                _S9183 = _S9261;
                if(_S9261)
                {
                    break;
                }
                float u_79 = uv_8[int(4)].x;
                float v_79 = uv_8[int(4)].y;
                float r2_74 = u_79 * u_79 + v_79 * v_79;
                float2  _S9262 = uv_8[int(4)] * make_float2 (1.0f + r2_74 * ((*dist_coeffs_105)[int(0)] + r2_74 * ((*dist_coeffs_105)[int(1)] + r2_74 * ((*dist_coeffs_105)[int(2)] + r2_74 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_79 * v_79 + (*dist_coeffs_105)[int(5)] * (r2_74 + 2.0f * u_79 * u_79) + (*dist_coeffs_105)[int(6)] * r2_74, 2.0f * (*dist_coeffs_105)[int(5)] * u_79 * v_79 + (*dist_coeffs_105)[int(4)] * (r2_74 + 2.0f * v_79 * v_79) + (*dist_coeffs_105)[int(7)] * r2_74);
                float2  _S9263 = _S9262 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9262.x + (*dist_coeffs_105)[int(9)] * _S9262.y, 0.0f);
                uv_8[int(4)] = make_float2 (fx_101 * _S9263.x + cx_96, fy_101 * _S9263.y + cy_96);
                break;
            }
            bool all_valid_23 = all_valid_22 & (!_S9183);
            float3  _S9264 = pos_c_1[int(5)];
            _S9184 = &uv_8[int(5)];
            for(;;)
            {
                float2  _S9265 = float2 {_S9264.x, _S9264.y};
                float r_35 = length_0(_S9265);
                float _S9266 = _S9264.z;
                float theta_31 = (F32_atan2((r_35), (_S9266)));
                if(theta_31 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_31 * theta_31 / 3.0f) / _S9266;
                }
                else
                {
                    k_10 = theta_31 / r_35;
                }
                float2  _S9267 = _S9265 * make_float2 (k_10);
                uv_8[int(5)] = _S9267;
                Matrix<float, 2, 2>  _S9268 = camera_distortion_jac_0(_S9267, dist_coeffs_105);
                bool _S9269 = !((F32_min((determinant_0(_S9268)), ((F32_min((_S9268.rows[int(0)].x), (_S9268.rows[int(1)].y)))))) > 0.0f);
                _S9185 = _S9269;
                if(_S9269)
                {
                    break;
                }
                float u_80 = uv_8[int(5)].x;
                float v_80 = uv_8[int(5)].y;
                float r2_75 = u_80 * u_80 + v_80 * v_80;
                float2  _S9270 = uv_8[int(5)] * make_float2 (1.0f + r2_75 * ((*dist_coeffs_105)[int(0)] + r2_75 * ((*dist_coeffs_105)[int(1)] + r2_75 * ((*dist_coeffs_105)[int(2)] + r2_75 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_80 * v_80 + (*dist_coeffs_105)[int(5)] * (r2_75 + 2.0f * u_80 * u_80) + (*dist_coeffs_105)[int(6)] * r2_75, 2.0f * (*dist_coeffs_105)[int(5)] * u_80 * v_80 + (*dist_coeffs_105)[int(4)] * (r2_75 + 2.0f * v_80 * v_80) + (*dist_coeffs_105)[int(7)] * r2_75);
                float2  _S9271 = _S9270 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9270.x + (*dist_coeffs_105)[int(9)] * _S9270.y, 0.0f);
                uv_8[int(5)] = make_float2 (fx_101 * _S9271.x + cx_96, fy_101 * _S9271.y + cy_96);
                break;
            }
            bool all_valid_24 = all_valid_23 & (!_S9185);
            float3  _S9272 = pos_c_1[int(6)];
            _S9186 = &uv_8[int(6)];
            for(;;)
            {
                float2  _S9273 = float2 {_S9272.x, _S9272.y};
                float r_36 = length_0(_S9273);
                float _S9274 = _S9272.z;
                float theta_32 = (F32_atan2((r_36), (_S9274)));
                if(theta_32 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_32 * theta_32 / 3.0f) / _S9274;
                }
                else
                {
                    k_10 = theta_32 / r_36;
                }
                float2  _S9275 = _S9273 * make_float2 (k_10);
                uv_8[int(6)] = _S9275;
                Matrix<float, 2, 2>  _S9276 = camera_distortion_jac_0(_S9275, dist_coeffs_105);
                bool _S9277 = !((F32_min((determinant_0(_S9276)), ((F32_min((_S9276.rows[int(0)].x), (_S9276.rows[int(1)].y)))))) > 0.0f);
                _S9187 = _S9277;
                if(_S9277)
                {
                    break;
                }
                float u_81 = uv_8[int(6)].x;
                float v_81 = uv_8[int(6)].y;
                float r2_76 = u_81 * u_81 + v_81 * v_81;
                float2  _S9278 = uv_8[int(6)] * make_float2 (1.0f + r2_76 * ((*dist_coeffs_105)[int(0)] + r2_76 * ((*dist_coeffs_105)[int(1)] + r2_76 * ((*dist_coeffs_105)[int(2)] + r2_76 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_81 * v_81 + (*dist_coeffs_105)[int(5)] * (r2_76 + 2.0f * u_81 * u_81) + (*dist_coeffs_105)[int(6)] * r2_76, 2.0f * (*dist_coeffs_105)[int(5)] * u_81 * v_81 + (*dist_coeffs_105)[int(4)] * (r2_76 + 2.0f * v_81 * v_81) + (*dist_coeffs_105)[int(7)] * r2_76);
                float2  _S9279 = _S9278 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9278.x + (*dist_coeffs_105)[int(9)] * _S9278.y, 0.0f);
                uv_8[int(6)] = make_float2 (fx_101 * _S9279.x + cx_96, fy_101 * _S9279.y + cy_96);
                break;
            }
            bool all_valid_25 = all_valid_24 & (!_S9187);
            float3  _S9280 = pos_c_1[int(7)];
            _S9188 = &uv_8[int(7)];
            for(;;)
            {
                float2  _S9281 = float2 {_S9280.x, _S9280.y};
                float r_37 = length_0(_S9281);
                float _S9282 = _S9280.z;
                float theta_33 = (F32_atan2((r_37), (_S9282)));
                if(theta_33 < 0.00100000004749745f)
                {
                    k_10 = (1.0f - theta_33 * theta_33 / 3.0f) / _S9282;
                }
                else
                {
                    k_10 = theta_33 / r_37;
                }
                float2  _S9283 = _S9281 * make_float2 (k_10);
                uv_8[int(7)] = _S9283;
                Matrix<float, 2, 2>  _S9284 = camera_distortion_jac_0(_S9283, dist_coeffs_105);
                bool _S9285 = !((F32_min((determinant_0(_S9284)), ((F32_min((_S9284.rows[int(0)].x), (_S9284.rows[int(1)].y)))))) > 0.0f);
                _S9189 = _S9285;
                if(_S9285)
                {
                    break;
                }
                float u_82 = uv_8[int(7)].x;
                float v_82 = uv_8[int(7)].y;
                float r2_77 = u_82 * u_82 + v_82 * v_82;
                float2  _S9286 = uv_8[int(7)] * make_float2 (1.0f + r2_77 * ((*dist_coeffs_105)[int(0)] + r2_77 * ((*dist_coeffs_105)[int(1)] + r2_77 * ((*dist_coeffs_105)[int(2)] + r2_77 * (*dist_coeffs_105)[int(3)])))) + make_float2 (2.0f * (*dist_coeffs_105)[int(4)] * u_82 * v_82 + (*dist_coeffs_105)[int(5)] * (r2_77 + 2.0f * u_82 * u_82) + (*dist_coeffs_105)[int(6)] * r2_77, 2.0f * (*dist_coeffs_105)[int(5)] * u_82 * v_82 + (*dist_coeffs_105)[int(4)] * (r2_77 + 2.0f * v_82 * v_82) + (*dist_coeffs_105)[int(7)] * r2_77);
                float2  _S9287 = _S9286 + make_float2 ((*dist_coeffs_105)[int(8)] * _S9286.x + (*dist_coeffs_105)[int(9)] * _S9286.y, 0.0f);
                uv_8[int(7)] = make_float2 (fx_101 * _S9287.x + cx_96, fy_101 * _S9287.y + cy_96);
                break;
            }
            _S9190 = all_valid_25 & (!_S9189);
            break;
        }
        if(!_S9190)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        if((1.0f - (F32_exp((- (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*densities_1)[int(0)]), ((*densities_1)[int(1)])))), ((*densities_1)[int(2)])))), ((*densities_1)[int(3)])))), ((*densities_1)[int(4)])))), ((*densities_1)[int(5)])))), ((*densities_1)[int(6)])))), ((*densities_1)[int(7)]))) * size_1 * (F32_sqrt((3.0f))))))) <= 0.00392156885936856f)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        float _S9288 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9174).x), ((*_S9176).x)))), ((*_S9178).x)))), ((*_S9180).x)))), ((*_S9182).x)))), ((*_S9184).x)))), ((*_S9186).x)))), ((*_S9188).x)));
        float _S9289 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9174).x), ((*_S9176).x)))), ((*_S9178).x)))), ((*_S9180).x)))), ((*_S9182).x)))), ((*_S9184).x)))), ((*_S9186).x)))), ((*_S9188).x)));
        float _S9290 = (F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((*_S9174).y), ((*_S9176).y)))), ((*_S9178).y)))), ((*_S9180).y)))), ((*_S9182).y)))), ((*_S9184).y)))), ((*_S9186).y)))), ((*_S9188).y)));
        float _S9291 = (F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((*_S9174).y), ((*_S9176).y)))), ((*_S9178).y)))), ((*_S9180).y)))), ((*_S9182).y)))), ((*_S9184).y)))), ((*_S9186).y)))), ((*_S9188).y)));
        if(_S9288 <= 0.0f)
        {
            _S9223 = true;
        }
        else
        {
            _S9223 = _S9289 >= float(image_width_92);
        }
        if(_S9223)
        {
            _S9223 = true;
        }
        else
        {
            _S9223 = _S9290 <= 0.0f;
        }
        if(_S9223)
        {
            _S9223 = true;
        }
        else
        {
            _S9223 = _S9291 >= float(image_height_92);
        }
        if(_S9223)
        {
            _S9223 = true;
        }
        else
        {
            if(_S9221 <= 0.0f)
            {
                if(_S9289 <= 0.0f)
                {
                    _S9223 = _S9288 >= float(image_width_92);
                }
                else
                {
                    _S9223 = false;
                }
                if(_S9223)
                {
                    _S9223 = true;
                }
                else
                {
                    if(_S9291 <= 0.0f)
                    {
                        _S9223 = _S9290 >= float(image_width_92);
                    }
                    else
                    {
                        _S9223 = false;
                    }
                }
            }
            else
            {
                _S9223 = false;
            }
        }
        if(_S9223)
        {
            *aabb_xyxy_57 = make_int4 (int(0), int(0), int(0), int(0));
            break;
        }
        *aabb_xyxy_57 = make_int4 (int((F32_floor((_S9289)))), int((F32_floor((_S9291)))), int((F32_ceil((_S9288)))), int((F32_ceil((_S9290)))));
        float _S9292 = mean_c_78.z;
        *depth_45 = (F32_max((_S9292), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9292 + length_1(mean_c_78)))));
        float3  _S9293 = mean_c_78 - - mul_0(transpose_0(R_71), t_70);
        float3  _S9294 = make_float3 (0.282094806432724f) * (*sh_coeffs_22)[int(0)];
        *rgbs_8 = _S9294;
        float _S9295 = _S9293.x;
        float _S9296 = _S9293.y;
        float _S9297 = _S9293.z;
        float norm_15 = (F32_sqrt((_S9295 * _S9295 + _S9296 * _S9296 + _S9297 * _S9297)));
        float x_80 = _S9295 / norm_15;
        float y_25 = _S9296 / norm_15;
        float z_22 = _S9297 / norm_15;
        float3  _S9298 = _S9294 + make_float3 (0.48860251903533936f) * (make_float3 (- y_25) * (*sh_coeffs_22)[int(1)] + make_float3 (z_22) * (*sh_coeffs_22)[int(2)] - make_float3 (x_80) * (*sh_coeffs_22)[int(3)]);
        *rgbs_8 = _S9298;
        float z2_105 = z_22 * z_22;
        float fTmp0B_22 = -1.09254848957061768f * z_22;
        float fC1_22 = x_80 * x_80 - y_25 * y_25;
        float fS1_22 = 2.0f * x_80 * y_25;
        float3  _S9299 = _S9298 + (make_float3 (0.54627424478530884f * fS1_22) * (*sh_coeffs_22)[int(4)] + make_float3 (fTmp0B_22 * y_25) * (*sh_coeffs_22)[int(5)] + make_float3 (0.94617468118667603f * z2_105 - 0.31539157032966614f) * (*sh_coeffs_22)[int(6)] + make_float3 (fTmp0B_22 * x_80) * (*sh_coeffs_22)[int(7)] + make_float3 (0.54627424478530884f * fC1_22) * (*sh_coeffs_22)[int(8)]);
        *rgbs_8 = _S9299;
        float fTmp0C_22 = -2.28522896766662598f * z2_105 + 0.4570457935333252f;
        float fTmp1B_22 = 1.44530570507049561f * z_22;
        *rgbs_8 = max_0(_S9299 + (make_float3 (-0.59004360437393188f * (x_80 * fS1_22 + y_25 * fC1_22)) * (*sh_coeffs_22)[int(9)] + make_float3 (fTmp1B_22 * fS1_22) * (*sh_coeffs_22)[int(10)] + make_float3 (fTmp0C_22 * y_25) * (*sh_coeffs_22)[int(11)] + make_float3 (z_22 * (1.86588168144226074f * z2_105 - 1.11952900886535645f)) * (*sh_coeffs_22)[int(12)] + make_float3 (fTmp0C_22 * x_80) * (*sh_coeffs_22)[int(13)] + make_float3 (fTmp1B_22 * fC1_22) * (*sh_coeffs_22)[int(14)] + make_float3 (-0.59004360437393188f * (x_80 * fC1_22 - y_25 * fS1_22)) * (*sh_coeffs_22)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
        break;
    }
    return;
}

inline __device__ void _projection_voxel_eval3d_persp_differentiable(float3  pos_2, float size_2, FixedArray<float, 8>  * densities_2, FixedArray<float3 , 16>  * sh_coeffs_23, Matrix<float, 3, 3>  R_72, float3  t_71, float fx_102, float fy_102, float cx_97, float cy_97, FixedArray<float, 10>  * dist_coeffs_106, uint image_width_93, uint image_height_93, float near_plane_72, float far_plane_72, int4  * aabb_xyxy_58, float * depth_46, float3  * rgbs_9)
{
    FixedArray<float3 , 8>  pos_c_2;
    float3  _S9300 = mul_0(R_72, pos_2) + t_71;
    pos_c_2[int(0)] = _S9300;
    float3  _S9301 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 0.0f)) + t_71;
    pos_c_2[int(1)] = _S9301;
    float3  _S9302 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 0.0f)) + t_71;
    pos_c_2[int(2)] = _S9302;
    float3  _S9303 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 1.0f, 0.0f)) + t_71;
    pos_c_2[int(3)] = _S9303;
    float3  _S9304 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 0.0f, 1.0f)) + t_71;
    pos_c_2[int(4)] = _S9304;
    float3  _S9305 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (1.0f, 0.0f, 1.0f)) + t_71;
    pos_c_2[int(5)] = _S9305;
    float3  _S9306 = mul_0(R_72, pos_2 + make_float3 (size_2) * make_float3 (0.0f, 1.0f, 1.0f)) + t_71;
    pos_c_2[int(6)] = _S9306;
    float3  _S9307 = mul_0(R_72, pos_2 + make_float3 (size_2)) + t_71;
    pos_c_2[int(7)] = _S9307;
    float3  mean_c_79 = mul_0(R_72, pos_2 + make_float3 (0.5f * size_2)) + t_71;
    FixedArray<float2 , 8>  uv_9;
    float2  _S9308 = float2 {_S9300.x, _S9300.y} / make_float2 (_S9300.z);
    float u_83 = _S9308.x;
    float v_83 = _S9308.y;
    float r2_78 = u_83 * u_83 + v_83 * v_83;
    float _S9309 = 2.0f * (*dist_coeffs_106)[int(4)];
    float _S9310 = 2.0f * (*dist_coeffs_106)[int(5)];
    float2  _S9311 = _S9308 * make_float2 (1.0f + r2_78 * ((*dist_coeffs_106)[int(0)] + r2_78 * ((*dist_coeffs_106)[int(1)] + r2_78 * ((*dist_coeffs_106)[int(2)] + r2_78 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_83 * v_83 + (*dist_coeffs_106)[int(5)] * (r2_78 + 2.0f * u_83 * u_83) + (*dist_coeffs_106)[int(6)] * r2_78, _S9310 * u_83 * v_83 + (*dist_coeffs_106)[int(4)] * (r2_78 + 2.0f * v_83 * v_83) + (*dist_coeffs_106)[int(7)] * r2_78);
    float2  _S9312 = _S9311 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9311.x + (*dist_coeffs_106)[int(9)] * _S9311.y, 0.0f);
    float _S9313 = fx_102 * _S9312.x + cx_97;
    float _S9314 = fy_102 * _S9312.y + cy_97;
    uv_9[int(0)] = make_float2 (_S9313, _S9314);
    float2  _S9315 = float2 {_S9301.x, _S9301.y} / make_float2 (_S9301.z);
    float u_84 = _S9315.x;
    float v_84 = _S9315.y;
    float r2_79 = u_84 * u_84 + v_84 * v_84;
    float2  _S9316 = _S9315 * make_float2 (1.0f + r2_79 * ((*dist_coeffs_106)[int(0)] + r2_79 * ((*dist_coeffs_106)[int(1)] + r2_79 * ((*dist_coeffs_106)[int(2)] + r2_79 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_84 * v_84 + (*dist_coeffs_106)[int(5)] * (r2_79 + 2.0f * u_84 * u_84) + (*dist_coeffs_106)[int(6)] * r2_79, _S9310 * u_84 * v_84 + (*dist_coeffs_106)[int(4)] * (r2_79 + 2.0f * v_84 * v_84) + (*dist_coeffs_106)[int(7)] * r2_79);
    float2  _S9317 = _S9316 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9316.x + (*dist_coeffs_106)[int(9)] * _S9316.y, 0.0f);
    float _S9318 = fx_102 * _S9317.x + cx_97;
    float _S9319 = fy_102 * _S9317.y + cy_97;
    uv_9[int(1)] = make_float2 (_S9318, _S9319);
    float2  _S9320 = float2 {_S9302.x, _S9302.y} / make_float2 (_S9302.z);
    float u_85 = _S9320.x;
    float v_85 = _S9320.y;
    float r2_80 = u_85 * u_85 + v_85 * v_85;
    float2  _S9321 = _S9320 * make_float2 (1.0f + r2_80 * ((*dist_coeffs_106)[int(0)] + r2_80 * ((*dist_coeffs_106)[int(1)] + r2_80 * ((*dist_coeffs_106)[int(2)] + r2_80 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_85 * v_85 + (*dist_coeffs_106)[int(5)] * (r2_80 + 2.0f * u_85 * u_85) + (*dist_coeffs_106)[int(6)] * r2_80, _S9310 * u_85 * v_85 + (*dist_coeffs_106)[int(4)] * (r2_80 + 2.0f * v_85 * v_85) + (*dist_coeffs_106)[int(7)] * r2_80);
    float2  _S9322 = _S9321 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9321.x + (*dist_coeffs_106)[int(9)] * _S9321.y, 0.0f);
    float _S9323 = fx_102 * _S9322.x + cx_97;
    float _S9324 = fy_102 * _S9322.y + cy_97;
    uv_9[int(2)] = make_float2 (_S9323, _S9324);
    float2  _S9325 = float2 {_S9303.x, _S9303.y} / make_float2 (_S9303.z);
    float u_86 = _S9325.x;
    float v_86 = _S9325.y;
    float r2_81 = u_86 * u_86 + v_86 * v_86;
    float2  _S9326 = _S9325 * make_float2 (1.0f + r2_81 * ((*dist_coeffs_106)[int(0)] + r2_81 * ((*dist_coeffs_106)[int(1)] + r2_81 * ((*dist_coeffs_106)[int(2)] + r2_81 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_86 * v_86 + (*dist_coeffs_106)[int(5)] * (r2_81 + 2.0f * u_86 * u_86) + (*dist_coeffs_106)[int(6)] * r2_81, _S9310 * u_86 * v_86 + (*dist_coeffs_106)[int(4)] * (r2_81 + 2.0f * v_86 * v_86) + (*dist_coeffs_106)[int(7)] * r2_81);
    float2  _S9327 = _S9326 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9326.x + (*dist_coeffs_106)[int(9)] * _S9326.y, 0.0f);
    float _S9328 = fx_102 * _S9327.x + cx_97;
    float _S9329 = fy_102 * _S9327.y + cy_97;
    uv_9[int(3)] = make_float2 (_S9328, _S9329);
    float2  _S9330 = float2 {_S9304.x, _S9304.y} / make_float2 (_S9304.z);
    float u_87 = _S9330.x;
    float v_87 = _S9330.y;
    float r2_82 = u_87 * u_87 + v_87 * v_87;
    float2  _S9331 = _S9330 * make_float2 (1.0f + r2_82 * ((*dist_coeffs_106)[int(0)] + r2_82 * ((*dist_coeffs_106)[int(1)] + r2_82 * ((*dist_coeffs_106)[int(2)] + r2_82 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_87 * v_87 + (*dist_coeffs_106)[int(5)] * (r2_82 + 2.0f * u_87 * u_87) + (*dist_coeffs_106)[int(6)] * r2_82, _S9310 * u_87 * v_87 + (*dist_coeffs_106)[int(4)] * (r2_82 + 2.0f * v_87 * v_87) + (*dist_coeffs_106)[int(7)] * r2_82);
    float2  _S9332 = _S9331 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9331.x + (*dist_coeffs_106)[int(9)] * _S9331.y, 0.0f);
    float _S9333 = fx_102 * _S9332.x + cx_97;
    float _S9334 = fy_102 * _S9332.y + cy_97;
    uv_9[int(4)] = make_float2 (_S9333, _S9334);
    float2  _S9335 = float2 {_S9305.x, _S9305.y} / make_float2 (_S9305.z);
    float u_88 = _S9335.x;
    float v_88 = _S9335.y;
    float r2_83 = u_88 * u_88 + v_88 * v_88;
    float2  _S9336 = _S9335 * make_float2 (1.0f + r2_83 * ((*dist_coeffs_106)[int(0)] + r2_83 * ((*dist_coeffs_106)[int(1)] + r2_83 * ((*dist_coeffs_106)[int(2)] + r2_83 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_88 * v_88 + (*dist_coeffs_106)[int(5)] * (r2_83 + 2.0f * u_88 * u_88) + (*dist_coeffs_106)[int(6)] * r2_83, _S9310 * u_88 * v_88 + (*dist_coeffs_106)[int(4)] * (r2_83 + 2.0f * v_88 * v_88) + (*dist_coeffs_106)[int(7)] * r2_83);
    float2  _S9337 = _S9336 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9336.x + (*dist_coeffs_106)[int(9)] * _S9336.y, 0.0f);
    float _S9338 = fx_102 * _S9337.x + cx_97;
    float _S9339 = fy_102 * _S9337.y + cy_97;
    uv_9[int(5)] = make_float2 (_S9338, _S9339);
    float2  _S9340 = float2 {_S9306.x, _S9306.y} / make_float2 (_S9306.z);
    float u_89 = _S9340.x;
    float v_89 = _S9340.y;
    float r2_84 = u_89 * u_89 + v_89 * v_89;
    float2  _S9341 = _S9340 * make_float2 (1.0f + r2_84 * ((*dist_coeffs_106)[int(0)] + r2_84 * ((*dist_coeffs_106)[int(1)] + r2_84 * ((*dist_coeffs_106)[int(2)] + r2_84 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_89 * v_89 + (*dist_coeffs_106)[int(5)] * (r2_84 + 2.0f * u_89 * u_89) + (*dist_coeffs_106)[int(6)] * r2_84, _S9310 * u_89 * v_89 + (*dist_coeffs_106)[int(4)] * (r2_84 + 2.0f * v_89 * v_89) + (*dist_coeffs_106)[int(7)] * r2_84);
    float2  _S9342 = _S9341 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9341.x + (*dist_coeffs_106)[int(9)] * _S9341.y, 0.0f);
    float _S9343 = fx_102 * _S9342.x + cx_97;
    float _S9344 = fy_102 * _S9342.y + cy_97;
    uv_9[int(6)] = make_float2 (_S9343, _S9344);
    float2  _S9345 = float2 {_S9307.x, _S9307.y} / make_float2 (_S9307.z);
    float u_90 = _S9345.x;
    float v_90 = _S9345.y;
    float r2_85 = u_90 * u_90 + v_90 * v_90;
    float2  _S9346 = _S9345 * make_float2 (1.0f + r2_85 * ((*dist_coeffs_106)[int(0)] + r2_85 * ((*dist_coeffs_106)[int(1)] + r2_85 * ((*dist_coeffs_106)[int(2)] + r2_85 * (*dist_coeffs_106)[int(3)])))) + make_float2 (_S9309 * u_90 * v_90 + (*dist_coeffs_106)[int(5)] * (r2_85 + 2.0f * u_90 * u_90) + (*dist_coeffs_106)[int(6)] * r2_85, _S9310 * u_90 * v_90 + (*dist_coeffs_106)[int(4)] * (r2_85 + 2.0f * v_90 * v_90) + (*dist_coeffs_106)[int(7)] * r2_85);
    float2  _S9347 = _S9346 + make_float2 ((*dist_coeffs_106)[int(8)] * _S9346.x + (*dist_coeffs_106)[int(9)] * _S9346.y, 0.0f);
    float _S9348 = fx_102 * _S9347.x + cx_97;
    float _S9349 = fy_102 * _S9347.y + cy_97;
    uv_9[int(7)] = make_float2 (_S9348, _S9349);
    *aabb_xyxy_58 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S9313), (_S9318)))), (_S9323)))), (_S9328)))), (_S9333)))), (_S9338)))), (_S9343)))), (_S9348))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((_S9314), (_S9319)))), (_S9324)))), (_S9329)))), (_S9334)))), (_S9339)))), (_S9344)))), (_S9349))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S9313), (_S9318)))), (_S9323)))), (_S9328)))), (_S9333)))), (_S9338)))), (_S9343)))), (_S9348))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((_S9314), (_S9319)))), (_S9324)))), (_S9329)))), (_S9334)))), (_S9339)))), (_S9344)))), (_S9349))))))));
    float _S9350 = mean_c_79.z;
    *depth_46 = (F32_max((_S9350), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9350 + length_1(mean_c_79)))));
    float3  _S9351 = mean_c_79 - - mul_0(transpose_0(R_72), t_71);
    float3  _S9352 = make_float3 (0.282094806432724f) * (*sh_coeffs_23)[int(0)];
    *rgbs_9 = _S9352;
    float _S9353 = _S9351.x;
    float _S9354 = _S9351.y;
    float _S9355 = _S9351.z;
    float norm_16 = (F32_sqrt((_S9353 * _S9353 + _S9354 * _S9354 + _S9355 * _S9355)));
    float x_81 = _S9353 / norm_16;
    float y_26 = _S9354 / norm_16;
    float z_23 = _S9355 / norm_16;
    float3  _S9356 = _S9352 + make_float3 (0.48860251903533936f) * (make_float3 (- y_26) * (*sh_coeffs_23)[int(1)] + make_float3 (z_23) * (*sh_coeffs_23)[int(2)] - make_float3 (x_81) * (*sh_coeffs_23)[int(3)]);
    *rgbs_9 = _S9356;
    float z2_106 = z_23 * z_23;
    float fTmp0B_23 = -1.09254848957061768f * z_23;
    float fC1_23 = x_81 * x_81 - y_26 * y_26;
    float fS1_23 = 2.0f * x_81 * y_26;
    float3  _S9357 = _S9356 + (make_float3 (0.54627424478530884f * fS1_23) * (*sh_coeffs_23)[int(4)] + make_float3 (fTmp0B_23 * y_26) * (*sh_coeffs_23)[int(5)] + make_float3 (0.94617468118667603f * z2_106 - 0.31539157032966614f) * (*sh_coeffs_23)[int(6)] + make_float3 (fTmp0B_23 * x_81) * (*sh_coeffs_23)[int(7)] + make_float3 (0.54627424478530884f * fC1_23) * (*sh_coeffs_23)[int(8)]);
    *rgbs_9 = _S9357;
    float fTmp0C_23 = -2.28522896766662598f * z2_106 + 0.4570457935333252f;
    float fTmp1B_23 = 1.44530570507049561f * z_23;
    *rgbs_9 = max_0(_S9357 + (make_float3 (-0.59004360437393188f * (x_81 * fS1_23 + y_26 * fC1_23)) * (*sh_coeffs_23)[int(9)] + make_float3 (fTmp1B_23 * fS1_23) * (*sh_coeffs_23)[int(10)] + make_float3 (fTmp0C_23 * y_26) * (*sh_coeffs_23)[int(11)] + make_float3 (z_23 * (1.86588168144226074f * z2_106 - 1.11952900886535645f)) * (*sh_coeffs_23)[int(12)] + make_float3 (fTmp0C_23 * x_81) * (*sh_coeffs_23)[int(13)] + make_float3 (fTmp1B_23 * fC1_23) * (*sh_coeffs_23)[int(14)] + make_float3 (-0.59004360437393188f * (x_81 * fC1_23 - y_26 * fS1_23)) * (*sh_coeffs_23)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void _projection_voxel_eval3d_fisheye_differentiable(float3  pos_3, float size_3, FixedArray<float, 8>  * densities_3, FixedArray<float3 , 16>  * sh_coeffs_24, Matrix<float, 3, 3>  R_73, float3  t_72, float fx_103, float fy_103, float cx_98, float cy_98, FixedArray<float, 10>  * dist_coeffs_107, uint image_width_94, uint image_height_94, float near_plane_73, float far_plane_73, int4  * aabb_xyxy_59, float * depth_47, float3  * rgbs_10)
{
    FixedArray<float3 , 8>  pos_c_3;
    float3  _S9358 = mul_0(R_73, pos_3) + t_72;
    pos_c_3[int(0)] = _S9358;
    pos_c_3[int(1)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 0.0f)) + t_72;
    pos_c_3[int(2)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 0.0f)) + t_72;
    pos_c_3[int(3)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 1.0f, 0.0f)) + t_72;
    pos_c_3[int(4)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 0.0f, 1.0f)) + t_72;
    pos_c_3[int(5)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (1.0f, 0.0f, 1.0f)) + t_72;
    pos_c_3[int(6)] = mul_0(R_73, pos_3 + make_float3 (size_3) * make_float3 (0.0f, 1.0f, 1.0f)) + t_72;
    pos_c_3[int(7)] = mul_0(R_73, pos_3 + make_float3 (size_3)) + t_72;
    float3  mean_c_80 = mul_0(R_73, pos_3 + make_float3 (0.5f * size_3)) + t_72;
    FixedArray<float2 , 8>  uv_10;
    float2  _S9359 = float2 {_S9358.x, _S9358.y};
    float r_38 = length_0(_S9359);
    float _S9360 = _S9358.z;
    float theta_34 = (F32_atan2((r_38), (_S9360)));
    float k_11;
    if(theta_34 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_34 * theta_34 / 3.0f) / _S9360;
    }
    else
    {
        k_11 = theta_34 / r_38;
    }
    float2  _S9361 = _S9359 * make_float2 (k_11);
    float u_91 = _S9361.x;
    float v_91 = _S9361.y;
    float r2_86 = u_91 * u_91 + v_91 * v_91;
    float _S9362 = 2.0f * (*dist_coeffs_107)[int(4)];
    float _S9363 = 2.0f * (*dist_coeffs_107)[int(5)];
    float2  _S9364 = _S9361 * make_float2 (1.0f + r2_86 * ((*dist_coeffs_107)[int(0)] + r2_86 * ((*dist_coeffs_107)[int(1)] + r2_86 * ((*dist_coeffs_107)[int(2)] + r2_86 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_91 * v_91 + (*dist_coeffs_107)[int(5)] * (r2_86 + 2.0f * u_91 * u_91) + (*dist_coeffs_107)[int(6)] * r2_86, _S9363 * u_91 * v_91 + (*dist_coeffs_107)[int(4)] * (r2_86 + 2.0f * v_91 * v_91) + (*dist_coeffs_107)[int(7)] * r2_86);
    float2  _S9365 = _S9364 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9364.x + (*dist_coeffs_107)[int(9)] * _S9364.y, 0.0f);
    uv_10[int(0)] = make_float2 (fx_103 * _S9365.x + cx_98, fy_103 * _S9365.y + cy_98);
    float2  _S9366 = float2 {pos_c_3[int(1)].x, pos_c_3[int(1)].y};
    float r_39 = length_0(_S9366);
    float _S9367 = pos_c_3[int(1)].z;
    float theta_35 = (F32_atan2((r_39), (_S9367)));
    if(theta_35 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_35 * theta_35 / 3.0f) / _S9367;
    }
    else
    {
        k_11 = theta_35 / r_39;
    }
    float2  _S9368 = _S9366 * make_float2 (k_11);
    float u_92 = _S9368.x;
    float v_92 = _S9368.y;
    float r2_87 = u_92 * u_92 + v_92 * v_92;
    float2  _S9369 = _S9368 * make_float2 (1.0f + r2_87 * ((*dist_coeffs_107)[int(0)] + r2_87 * ((*dist_coeffs_107)[int(1)] + r2_87 * ((*dist_coeffs_107)[int(2)] + r2_87 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_92 * v_92 + (*dist_coeffs_107)[int(5)] * (r2_87 + 2.0f * u_92 * u_92) + (*dist_coeffs_107)[int(6)] * r2_87, _S9363 * u_92 * v_92 + (*dist_coeffs_107)[int(4)] * (r2_87 + 2.0f * v_92 * v_92) + (*dist_coeffs_107)[int(7)] * r2_87);
    float2  _S9370 = _S9369 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9369.x + (*dist_coeffs_107)[int(9)] * _S9369.y, 0.0f);
    uv_10[int(1)] = make_float2 (fx_103 * _S9370.x + cx_98, fy_103 * _S9370.y + cy_98);
    float2  _S9371 = float2 {pos_c_3[int(2)].x, pos_c_3[int(2)].y};
    float r_40 = length_0(_S9371);
    float _S9372 = pos_c_3[int(2)].z;
    float theta_36 = (F32_atan2((r_40), (_S9372)));
    if(theta_36 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_36 * theta_36 / 3.0f) / _S9372;
    }
    else
    {
        k_11 = theta_36 / r_40;
    }
    float2  _S9373 = _S9371 * make_float2 (k_11);
    float u_93 = _S9373.x;
    float v_93 = _S9373.y;
    float r2_88 = u_93 * u_93 + v_93 * v_93;
    float2  _S9374 = _S9373 * make_float2 (1.0f + r2_88 * ((*dist_coeffs_107)[int(0)] + r2_88 * ((*dist_coeffs_107)[int(1)] + r2_88 * ((*dist_coeffs_107)[int(2)] + r2_88 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_93 * v_93 + (*dist_coeffs_107)[int(5)] * (r2_88 + 2.0f * u_93 * u_93) + (*dist_coeffs_107)[int(6)] * r2_88, _S9363 * u_93 * v_93 + (*dist_coeffs_107)[int(4)] * (r2_88 + 2.0f * v_93 * v_93) + (*dist_coeffs_107)[int(7)] * r2_88);
    float2  _S9375 = _S9374 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9374.x + (*dist_coeffs_107)[int(9)] * _S9374.y, 0.0f);
    uv_10[int(2)] = make_float2 (fx_103 * _S9375.x + cx_98, fy_103 * _S9375.y + cy_98);
    float2  _S9376 = float2 {pos_c_3[int(3)].x, pos_c_3[int(3)].y};
    float r_41 = length_0(_S9376);
    float _S9377 = pos_c_3[int(3)].z;
    float theta_37 = (F32_atan2((r_41), (_S9377)));
    if(theta_37 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_37 * theta_37 / 3.0f) / _S9377;
    }
    else
    {
        k_11 = theta_37 / r_41;
    }
    float2  _S9378 = _S9376 * make_float2 (k_11);
    float u_94 = _S9378.x;
    float v_94 = _S9378.y;
    float r2_89 = u_94 * u_94 + v_94 * v_94;
    float2  _S9379 = _S9378 * make_float2 (1.0f + r2_89 * ((*dist_coeffs_107)[int(0)] + r2_89 * ((*dist_coeffs_107)[int(1)] + r2_89 * ((*dist_coeffs_107)[int(2)] + r2_89 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_94 * v_94 + (*dist_coeffs_107)[int(5)] * (r2_89 + 2.0f * u_94 * u_94) + (*dist_coeffs_107)[int(6)] * r2_89, _S9363 * u_94 * v_94 + (*dist_coeffs_107)[int(4)] * (r2_89 + 2.0f * v_94 * v_94) + (*dist_coeffs_107)[int(7)] * r2_89);
    float2  _S9380 = _S9379 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9379.x + (*dist_coeffs_107)[int(9)] * _S9379.y, 0.0f);
    uv_10[int(3)] = make_float2 (fx_103 * _S9380.x + cx_98, fy_103 * _S9380.y + cy_98);
    float2  _S9381 = float2 {pos_c_3[int(4)].x, pos_c_3[int(4)].y};
    float r_42 = length_0(_S9381);
    float _S9382 = pos_c_3[int(4)].z;
    float theta_38 = (F32_atan2((r_42), (_S9382)));
    if(theta_38 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_38 * theta_38 / 3.0f) / _S9382;
    }
    else
    {
        k_11 = theta_38 / r_42;
    }
    float2  _S9383 = _S9381 * make_float2 (k_11);
    float u_95 = _S9383.x;
    float v_95 = _S9383.y;
    float r2_90 = u_95 * u_95 + v_95 * v_95;
    float2  _S9384 = _S9383 * make_float2 (1.0f + r2_90 * ((*dist_coeffs_107)[int(0)] + r2_90 * ((*dist_coeffs_107)[int(1)] + r2_90 * ((*dist_coeffs_107)[int(2)] + r2_90 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_95 * v_95 + (*dist_coeffs_107)[int(5)] * (r2_90 + 2.0f * u_95 * u_95) + (*dist_coeffs_107)[int(6)] * r2_90, _S9363 * u_95 * v_95 + (*dist_coeffs_107)[int(4)] * (r2_90 + 2.0f * v_95 * v_95) + (*dist_coeffs_107)[int(7)] * r2_90);
    float2  _S9385 = _S9384 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9384.x + (*dist_coeffs_107)[int(9)] * _S9384.y, 0.0f);
    uv_10[int(4)] = make_float2 (fx_103 * _S9385.x + cx_98, fy_103 * _S9385.y + cy_98);
    float2  _S9386 = float2 {pos_c_3[int(5)].x, pos_c_3[int(5)].y};
    float r_43 = length_0(_S9386);
    float _S9387 = pos_c_3[int(5)].z;
    float theta_39 = (F32_atan2((r_43), (_S9387)));
    if(theta_39 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_39 * theta_39 / 3.0f) / _S9387;
    }
    else
    {
        k_11 = theta_39 / r_43;
    }
    float2  _S9388 = _S9386 * make_float2 (k_11);
    float u_96 = _S9388.x;
    float v_96 = _S9388.y;
    float r2_91 = u_96 * u_96 + v_96 * v_96;
    float2  _S9389 = _S9388 * make_float2 (1.0f + r2_91 * ((*dist_coeffs_107)[int(0)] + r2_91 * ((*dist_coeffs_107)[int(1)] + r2_91 * ((*dist_coeffs_107)[int(2)] + r2_91 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_96 * v_96 + (*dist_coeffs_107)[int(5)] * (r2_91 + 2.0f * u_96 * u_96) + (*dist_coeffs_107)[int(6)] * r2_91, _S9363 * u_96 * v_96 + (*dist_coeffs_107)[int(4)] * (r2_91 + 2.0f * v_96 * v_96) + (*dist_coeffs_107)[int(7)] * r2_91);
    float2  _S9390 = _S9389 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9389.x + (*dist_coeffs_107)[int(9)] * _S9389.y, 0.0f);
    uv_10[int(5)] = make_float2 (fx_103 * _S9390.x + cx_98, fy_103 * _S9390.y + cy_98);
    float2  _S9391 = float2 {pos_c_3[int(6)].x, pos_c_3[int(6)].y};
    float r_44 = length_0(_S9391);
    float _S9392 = pos_c_3[int(6)].z;
    float theta_40 = (F32_atan2((r_44), (_S9392)));
    if(theta_40 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_40 * theta_40 / 3.0f) / _S9392;
    }
    else
    {
        k_11 = theta_40 / r_44;
    }
    float2  _S9393 = _S9391 * make_float2 (k_11);
    float u_97 = _S9393.x;
    float v_97 = _S9393.y;
    float r2_92 = u_97 * u_97 + v_97 * v_97;
    float2  _S9394 = _S9393 * make_float2 (1.0f + r2_92 * ((*dist_coeffs_107)[int(0)] + r2_92 * ((*dist_coeffs_107)[int(1)] + r2_92 * ((*dist_coeffs_107)[int(2)] + r2_92 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_97 * v_97 + (*dist_coeffs_107)[int(5)] * (r2_92 + 2.0f * u_97 * u_97) + (*dist_coeffs_107)[int(6)] * r2_92, _S9363 * u_97 * v_97 + (*dist_coeffs_107)[int(4)] * (r2_92 + 2.0f * v_97 * v_97) + (*dist_coeffs_107)[int(7)] * r2_92);
    float2  _S9395 = _S9394 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9394.x + (*dist_coeffs_107)[int(9)] * _S9394.y, 0.0f);
    uv_10[int(6)] = make_float2 (fx_103 * _S9395.x + cx_98, fy_103 * _S9395.y + cy_98);
    float2  _S9396 = float2 {pos_c_3[int(7)].x, pos_c_3[int(7)].y};
    float r_45 = length_0(_S9396);
    float _S9397 = pos_c_3[int(7)].z;
    float theta_41 = (F32_atan2((r_45), (_S9397)));
    if(theta_41 < 0.00100000004749745f)
    {
        k_11 = (1.0f - theta_41 * theta_41 / 3.0f) / _S9397;
    }
    else
    {
        k_11 = theta_41 / r_45;
    }
    float2  _S9398 = _S9396 * make_float2 (k_11);
    float u_98 = _S9398.x;
    float v_98 = _S9398.y;
    float r2_93 = u_98 * u_98 + v_98 * v_98;
    float2  _S9399 = _S9398 * make_float2 (1.0f + r2_93 * ((*dist_coeffs_107)[int(0)] + r2_93 * ((*dist_coeffs_107)[int(1)] + r2_93 * ((*dist_coeffs_107)[int(2)] + r2_93 * (*dist_coeffs_107)[int(3)])))) + make_float2 (_S9362 * u_98 * v_98 + (*dist_coeffs_107)[int(5)] * (r2_93 + 2.0f * u_98 * u_98) + (*dist_coeffs_107)[int(6)] * r2_93, _S9363 * u_98 * v_98 + (*dist_coeffs_107)[int(4)] * (r2_93 + 2.0f * v_98 * v_98) + (*dist_coeffs_107)[int(7)] * r2_93);
    float2  _S9400 = _S9399 + make_float2 ((*dist_coeffs_107)[int(8)] * _S9399.x + (*dist_coeffs_107)[int(9)] * _S9399.y, 0.0f);
    float _S9401 = fx_103 * _S9400.x + cx_98;
    float _S9402 = fy_103 * _S9400.y + cy_98;
    uv_10[int(7)] = make_float2 (_S9401, _S9402);
    *aabb_xyxy_59 = make_int4 (int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S9401))))))), int((F32_floor(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min(((F32_min((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S9402))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].x), (uv_10[int(1)].x)))), (uv_10[int(2)].x)))), (uv_10[int(3)].x)))), (uv_10[int(4)].x)))), (uv_10[int(5)].x)))), (uv_10[int(6)].x)))), (_S9401))))))), int((F32_ceil(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max(((F32_max((uv_10[int(0)].y), (uv_10[int(1)].y)))), (uv_10[int(2)].y)))), (uv_10[int(3)].y)))), (uv_10[int(4)].y)))), (uv_10[int(5)].y)))), (uv_10[int(6)].y)))), (_S9402))))))));
    float _S9403 = mean_c_80.z;
    *depth_47 = (F32_max((_S9403), (1.0f / (1.0f + (F32_sqrt((2.0f)))) * (_S9403 + length_1(mean_c_80)))));
    float3  _S9404 = mean_c_80 - - mul_0(transpose_0(R_73), t_72);
    float3  _S9405 = make_float3 (0.282094806432724f) * (*sh_coeffs_24)[int(0)];
    *rgbs_10 = _S9405;
    float _S9406 = _S9404.x;
    float _S9407 = _S9404.y;
    float _S9408 = _S9404.z;
    float norm_17 = (F32_sqrt((_S9406 * _S9406 + _S9407 * _S9407 + _S9408 * _S9408)));
    float x_82 = _S9406 / norm_17;
    float y_27 = _S9407 / norm_17;
    float z_24 = _S9408 / norm_17;
    float3  _S9409 = _S9405 + make_float3 (0.48860251903533936f) * (make_float3 (- y_27) * (*sh_coeffs_24)[int(1)] + make_float3 (z_24) * (*sh_coeffs_24)[int(2)] - make_float3 (x_82) * (*sh_coeffs_24)[int(3)]);
    *rgbs_10 = _S9409;
    float z2_107 = z_24 * z_24;
    float fTmp0B_24 = -1.09254848957061768f * z_24;
    float fC1_24 = x_82 * x_82 - y_27 * y_27;
    float fS1_24 = 2.0f * x_82 * y_27;
    float3  _S9410 = _S9409 + (make_float3 (0.54627424478530884f * fS1_24) * (*sh_coeffs_24)[int(4)] + make_float3 (fTmp0B_24 * y_27) * (*sh_coeffs_24)[int(5)] + make_float3 (0.94617468118667603f * z2_107 - 0.31539157032966614f) * (*sh_coeffs_24)[int(6)] + make_float3 (fTmp0B_24 * x_82) * (*sh_coeffs_24)[int(7)] + make_float3 (0.54627424478530884f * fC1_24) * (*sh_coeffs_24)[int(8)]);
    *rgbs_10 = _S9410;
    float fTmp0C_24 = -2.28522896766662598f * z2_107 + 0.4570457935333252f;
    float fTmp1B_24 = 1.44530570507049561f * z_24;
    *rgbs_10 = max_0(_S9410 + (make_float3 (-0.59004360437393188f * (x_82 * fS1_24 + y_27 * fC1_24)) * (*sh_coeffs_24)[int(9)] + make_float3 (fTmp1B_24 * fS1_24) * (*sh_coeffs_24)[int(10)] + make_float3 (fTmp0C_24 * y_27) * (*sh_coeffs_24)[int(11)] + make_float3 (z_24 * (1.86588168144226074f * z2_107 - 1.11952900886535645f)) * (*sh_coeffs_24)[int(12)] + make_float3 (fTmp0C_24 * x_82) * (*sh_coeffs_24)[int(13)] + make_float3 (fTmp1B_24 * fC1_24) * (*sh_coeffs_24)[int(14)] + make_float3 (-0.59004360437393188f * (x_82 * fC1_24 - y_27 * fS1_24)) * (*sh_coeffs_24)[int(15)]) + make_float3 (0.5f), make_float3 (0.0f));
    return;
}

inline __device__ void projection_voxel_eval3d_persp_vjp(float3  pos_4, float size_4, FixedArray<float, 8>  * densities_4, FixedArray<float3 , 16>  * sh_coeffs_25, Matrix<float, 3, 3>  R_74, float3  t_73, float fx_104, float fy_104, float cx_99, float cy_99, FixedArray<float, 10>  * dist_coeffs_108, uint image_width_95, uint image_height_95, float3  v_rgb_20, FixedArray<float, 8>  * v_densities_0, FixedArray<float3 , 16>  * v_sh_coeffs_7, Matrix<float, 3, 3>  * v_R_23, float3  * v_t_22)
{
    float3  _S9411 = s_primal_ctx_mul_0(R_74, pos_4) + t_73;
    float _S9412 = _S9411.z;
    float2  _S9413 = make_float2 (_S9412);
    float _S9414 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S9412);
    float _S9415 = s_primal_ctx_max_0(0.0f, _S9412);
    float3  pos_i_0 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S9416 = s_primal_ctx_mul_0(R_74, pos_i_0) + t_73;
    float _S9417 = _S9416.z;
    float2  _S9418 = make_float2 (_S9417);
    float _S9419 = s_primal_ctx_min_0(_S9414, _S9417);
    float _S9420 = s_primal_ctx_max_0(_S9415, _S9417);
    float3  pos_i_1 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S9421 = s_primal_ctx_mul_0(R_74, pos_i_1) + t_73;
    float _S9422 = _S9421.z;
    float2  _S9423 = make_float2 (_S9422);
    float _S9424 = s_primal_ctx_min_0(_S9419, _S9422);
    float _S9425 = s_primal_ctx_max_0(_S9420, _S9422);
    float3  pos_i_2 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S9426 = s_primal_ctx_mul_0(R_74, pos_i_2) + t_73;
    float _S9427 = _S9426.z;
    float2  _S9428 = make_float2 (_S9427);
    float _S9429 = s_primal_ctx_min_0(_S9424, _S9427);
    float _S9430 = s_primal_ctx_max_0(_S9425, _S9427);
    float3  pos_i_3 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S9431 = s_primal_ctx_mul_0(R_74, pos_i_3) + t_73;
    float _S9432 = _S9431.z;
    float2  _S9433 = make_float2 (_S9432);
    float _S9434 = s_primal_ctx_min_0(_S9429, _S9432);
    float _S9435 = s_primal_ctx_max_0(_S9430, _S9432);
    float3  pos_i_4 = pos_4 + make_float3 (size_4) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S9436 = s_primal_ctx_mul_0(R_74, pos_i_4) + t_73;
    float _S9437 = _S9436.z;
    float2  _S9438 = make_float2 (_S9437);
    float _S9439 = s_primal_ctx_min_0(_S9434, _S9437);
    float _S9440 = s_primal_ctx_max_0(_S9435, _S9437);
    float3  pos_i_5 = pos_4 + make_float3 (size_4) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S9441 = s_primal_ctx_mul_0(R_74, pos_i_5) + t_73;
    float _S9442 = _S9441.z;
    float2  _S9443 = make_float2 (_S9442);
    float _S9444 = s_primal_ctx_min_0(_S9439, _S9442);
    float _S9445 = s_primal_ctx_max_0(_S9440, _S9442);
    float3  pos_i_6 = pos_4 + make_float3 (size_4);
    float3  _S9446 = s_primal_ctx_mul_0(R_74, pos_i_6) + t_73;
    float _S9447 = _S9446.z;
    float2  _S9448 = make_float2 (_S9447);
    float3  _S9449 = pos_4 + make_float3 (0.5f * size_4);
    float3  mean_c_81 = s_primal_ctx_mul_0(R_74, _S9449) + t_73;
    float2  _S9450 = float2 {_S9411.x, _S9411.y};
    float2  _S9451 = _S9450 / make_float2 (_S9412);
    float2  _S9452 = make_float2 (_S9412 * _S9412);
    float u_99 = _S9451.x;
    float v_99 = _S9451.y;
    float r2_94 = u_99 * u_99 + v_99 * v_99;
    float _S9453 = (*dist_coeffs_108)[int(2)] + r2_94 * (*dist_coeffs_108)[int(3)];
    float _S9454 = (*dist_coeffs_108)[int(1)] + r2_94 * _S9453;
    float _S9455 = (*dist_coeffs_108)[int(0)] + r2_94 * _S9454;
    float radial_7 = 1.0f + r2_94 * _S9455;
    float2  _S9456 = make_float2 (radial_7);
    float _S9457 = 2.0f * (*dist_coeffs_108)[int(4)];
    float _S9458 = _S9457 * u_99;
    float _S9459 = 2.0f * u_99;
    float _S9460 = 2.0f * (*dist_coeffs_108)[int(5)];
    float _S9461 = _S9460 * u_99;
    float _S9462 = 2.0f * v_99;
    float2  _S9463 = _S9451 * make_float2 (radial_7) + make_float2 (_S9458 * v_99 + (*dist_coeffs_108)[int(5)] * (r2_94 + _S9459 * u_99) + (*dist_coeffs_108)[int(6)] * r2_94, _S9461 * v_99 + (*dist_coeffs_108)[int(4)] * (r2_94 + _S9462 * v_99) + (*dist_coeffs_108)[int(7)] * r2_94);
    float2  _S9464 = _S9463 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9463.x + (*dist_coeffs_108)[int(9)] * _S9463.y, 0.0f);
    float _S9465 = fx_104 * _S9464.x + cx_99;
    float _S9466 = fy_104 * _S9464.y + cy_99;
    float2  _S9467 = float2 {_S9416.x, _S9416.y};
    float2  _S9468 = _S9467 / make_float2 (_S9417);
    float2  _S9469 = make_float2 (_S9417 * _S9417);
    float u_100 = _S9468.x;
    float v_100 = _S9468.y;
    float r2_95 = u_100 * u_100 + v_100 * v_100;
    float _S9470 = (*dist_coeffs_108)[int(2)] + r2_95 * (*dist_coeffs_108)[int(3)];
    float _S9471 = (*dist_coeffs_108)[int(1)] + r2_95 * _S9470;
    float _S9472 = (*dist_coeffs_108)[int(0)] + r2_95 * _S9471;
    float radial_8 = 1.0f + r2_95 * _S9472;
    float2  _S9473 = make_float2 (radial_8);
    float _S9474 = _S9457 * u_100;
    float _S9475 = 2.0f * u_100;
    float _S9476 = _S9460 * u_100;
    float _S9477 = 2.0f * v_100;
    float2  _S9478 = _S9468 * make_float2 (radial_8) + make_float2 (_S9474 * v_100 + (*dist_coeffs_108)[int(5)] * (r2_95 + _S9475 * u_100) + (*dist_coeffs_108)[int(6)] * r2_95, _S9476 * v_100 + (*dist_coeffs_108)[int(4)] * (r2_95 + _S9477 * v_100) + (*dist_coeffs_108)[int(7)] * r2_95);
    float2  _S9479 = _S9478 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9478.x + (*dist_coeffs_108)[int(9)] * _S9478.y, 0.0f);
    float _S9480 = fx_104 * _S9479.x + cx_99;
    float _S9481 = fy_104 * _S9479.y + cy_99;
    float2  _S9482 = float2 {_S9421.x, _S9421.y};
    float2  _S9483 = _S9482 / make_float2 (_S9422);
    float2  _S9484 = make_float2 (_S9422 * _S9422);
    float u_101 = _S9483.x;
    float v_101 = _S9483.y;
    float r2_96 = u_101 * u_101 + v_101 * v_101;
    float _S9485 = (*dist_coeffs_108)[int(2)] + r2_96 * (*dist_coeffs_108)[int(3)];
    float _S9486 = (*dist_coeffs_108)[int(1)] + r2_96 * _S9485;
    float _S9487 = (*dist_coeffs_108)[int(0)] + r2_96 * _S9486;
    float radial_9 = 1.0f + r2_96 * _S9487;
    float2  _S9488 = make_float2 (radial_9);
    float _S9489 = _S9457 * u_101;
    float _S9490 = 2.0f * u_101;
    float _S9491 = _S9460 * u_101;
    float _S9492 = 2.0f * v_101;
    float2  _S9493 = _S9483 * make_float2 (radial_9) + make_float2 (_S9489 * v_101 + (*dist_coeffs_108)[int(5)] * (r2_96 + _S9490 * u_101) + (*dist_coeffs_108)[int(6)] * r2_96, _S9491 * v_101 + (*dist_coeffs_108)[int(4)] * (r2_96 + _S9492 * v_101) + (*dist_coeffs_108)[int(7)] * r2_96);
    float2  _S9494 = _S9493 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9493.x + (*dist_coeffs_108)[int(9)] * _S9493.y, 0.0f);
    float _S9495 = fx_104 * _S9494.x + cx_99;
    float _S9496 = fy_104 * _S9494.y + cy_99;
    float2  _S9497 = float2 {_S9426.x, _S9426.y};
    float2  _S9498 = _S9497 / make_float2 (_S9427);
    float2  _S9499 = make_float2 (_S9427 * _S9427);
    float u_102 = _S9498.x;
    float v_102 = _S9498.y;
    float r2_97 = u_102 * u_102 + v_102 * v_102;
    float _S9500 = (*dist_coeffs_108)[int(2)] + r2_97 * (*dist_coeffs_108)[int(3)];
    float _S9501 = (*dist_coeffs_108)[int(1)] + r2_97 * _S9500;
    float _S9502 = (*dist_coeffs_108)[int(0)] + r2_97 * _S9501;
    float radial_10 = 1.0f + r2_97 * _S9502;
    float2  _S9503 = make_float2 (radial_10);
    float _S9504 = _S9457 * u_102;
    float _S9505 = 2.0f * u_102;
    float _S9506 = _S9460 * u_102;
    float _S9507 = 2.0f * v_102;
    float2  _S9508 = _S9498 * make_float2 (radial_10) + make_float2 (_S9504 * v_102 + (*dist_coeffs_108)[int(5)] * (r2_97 + _S9505 * u_102) + (*dist_coeffs_108)[int(6)] * r2_97, _S9506 * v_102 + (*dist_coeffs_108)[int(4)] * (r2_97 + _S9507 * v_102) + (*dist_coeffs_108)[int(7)] * r2_97);
    float2  _S9509 = _S9508 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9508.x + (*dist_coeffs_108)[int(9)] * _S9508.y, 0.0f);
    float _S9510 = fx_104 * _S9509.x + cx_99;
    float _S9511 = fy_104 * _S9509.y + cy_99;
    float2  _S9512 = float2 {_S9431.x, _S9431.y};
    float2  _S9513 = _S9512 / make_float2 (_S9432);
    float2  _S9514 = make_float2 (_S9432 * _S9432);
    float u_103 = _S9513.x;
    float v_103 = _S9513.y;
    float r2_98 = u_103 * u_103 + v_103 * v_103;
    float _S9515 = (*dist_coeffs_108)[int(2)] + r2_98 * (*dist_coeffs_108)[int(3)];
    float _S9516 = (*dist_coeffs_108)[int(1)] + r2_98 * _S9515;
    float _S9517 = (*dist_coeffs_108)[int(0)] + r2_98 * _S9516;
    float radial_11 = 1.0f + r2_98 * _S9517;
    float2  _S9518 = make_float2 (radial_11);
    float _S9519 = _S9457 * u_103;
    float _S9520 = 2.0f * u_103;
    float _S9521 = _S9460 * u_103;
    float _S9522 = 2.0f * v_103;
    float2  _S9523 = _S9513 * make_float2 (radial_11) + make_float2 (_S9519 * v_103 + (*dist_coeffs_108)[int(5)] * (r2_98 + _S9520 * u_103) + (*dist_coeffs_108)[int(6)] * r2_98, _S9521 * v_103 + (*dist_coeffs_108)[int(4)] * (r2_98 + _S9522 * v_103) + (*dist_coeffs_108)[int(7)] * r2_98);
    float2  _S9524 = _S9523 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9523.x + (*dist_coeffs_108)[int(9)] * _S9523.y, 0.0f);
    float _S9525 = fx_104 * _S9524.x + cx_99;
    float _S9526 = fy_104 * _S9524.y + cy_99;
    float2  _S9527 = float2 {_S9436.x, _S9436.y};
    float2  _S9528 = _S9527 / make_float2 (_S9437);
    float2  _S9529 = make_float2 (_S9437 * _S9437);
    float u_104 = _S9528.x;
    float v_104 = _S9528.y;
    float r2_99 = u_104 * u_104 + v_104 * v_104;
    float _S9530 = (*dist_coeffs_108)[int(2)] + r2_99 * (*dist_coeffs_108)[int(3)];
    float _S9531 = (*dist_coeffs_108)[int(1)] + r2_99 * _S9530;
    float _S9532 = (*dist_coeffs_108)[int(0)] + r2_99 * _S9531;
    float radial_12 = 1.0f + r2_99 * _S9532;
    float2  _S9533 = make_float2 (radial_12);
    float _S9534 = _S9457 * u_104;
    float _S9535 = 2.0f * u_104;
    float _S9536 = _S9460 * u_104;
    float _S9537 = 2.0f * v_104;
    float2  _S9538 = _S9528 * make_float2 (radial_12) + make_float2 (_S9534 * v_104 + (*dist_coeffs_108)[int(5)] * (r2_99 + _S9535 * u_104) + (*dist_coeffs_108)[int(6)] * r2_99, _S9536 * v_104 + (*dist_coeffs_108)[int(4)] * (r2_99 + _S9537 * v_104) + (*dist_coeffs_108)[int(7)] * r2_99);
    float2  _S9539 = _S9538 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9538.x + (*dist_coeffs_108)[int(9)] * _S9538.y, 0.0f);
    float _S9540 = fx_104 * _S9539.x + cx_99;
    float _S9541 = fy_104 * _S9539.y + cy_99;
    float2  _S9542 = float2 {_S9441.x, _S9441.y};
    float2  _S9543 = _S9542 / make_float2 (_S9442);
    float2  _S9544 = make_float2 (_S9442 * _S9442);
    float u_105 = _S9543.x;
    float v_105 = _S9543.y;
    float r2_100 = u_105 * u_105 + v_105 * v_105;
    float _S9545 = (*dist_coeffs_108)[int(2)] + r2_100 * (*dist_coeffs_108)[int(3)];
    float _S9546 = (*dist_coeffs_108)[int(1)] + r2_100 * _S9545;
    float _S9547 = (*dist_coeffs_108)[int(0)] + r2_100 * _S9546;
    float radial_13 = 1.0f + r2_100 * _S9547;
    float2  _S9548 = make_float2 (radial_13);
    float _S9549 = _S9457 * u_105;
    float _S9550 = 2.0f * u_105;
    float _S9551 = _S9460 * u_105;
    float _S9552 = 2.0f * v_105;
    float2  _S9553 = _S9543 * make_float2 (radial_13) + make_float2 (_S9549 * v_105 + (*dist_coeffs_108)[int(5)] * (r2_100 + _S9550 * u_105) + (*dist_coeffs_108)[int(6)] * r2_100, _S9551 * v_105 + (*dist_coeffs_108)[int(4)] * (r2_100 + _S9552 * v_105) + (*dist_coeffs_108)[int(7)] * r2_100);
    float2  _S9554 = _S9553 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9553.x + (*dist_coeffs_108)[int(9)] * _S9553.y, 0.0f);
    float _S9555 = fx_104 * _S9554.x + cx_99;
    float _S9556 = fy_104 * _S9554.y + cy_99;
    float2  _S9557 = float2 {_S9446.x, _S9446.y};
    float2  _S9558 = _S9557 / make_float2 (_S9447);
    float2  _S9559 = make_float2 (_S9447 * _S9447);
    float u_106 = _S9558.x;
    float v_106 = _S9558.y;
    float r2_101 = u_106 * u_106 + v_106 * v_106;
    float _S9560 = (*dist_coeffs_108)[int(2)] + r2_101 * (*dist_coeffs_108)[int(3)];
    float _S9561 = (*dist_coeffs_108)[int(1)] + r2_101 * _S9560;
    float _S9562 = (*dist_coeffs_108)[int(0)] + r2_101 * _S9561;
    float radial_14 = 1.0f + r2_101 * _S9562;
    float2  _S9563 = make_float2 (radial_14);
    float _S9564 = _S9457 * u_106;
    float _S9565 = 2.0f * u_106;
    float _S9566 = _S9460 * u_106;
    float _S9567 = 2.0f * v_106;
    float2  _S9568 = _S9558 * make_float2 (radial_14) + make_float2 (_S9564 * v_106 + (*dist_coeffs_108)[int(5)] * (r2_101 + _S9565 * u_106) + (*dist_coeffs_108)[int(6)] * r2_101, _S9566 * v_106 + (*dist_coeffs_108)[int(4)] * (r2_101 + _S9567 * v_106) + (*dist_coeffs_108)[int(7)] * r2_101);
    float2  _S9569 = _S9568 + make_float2 ((*dist_coeffs_108)[int(8)] * _S9568.x + (*dist_coeffs_108)[int(9)] * _S9568.y, 0.0f);
    float _S9570 = fx_104 * _S9569.x + cx_99;
    float _S9571 = fy_104 * _S9569.y + cy_99;
    float _S9572 = s_primal_ctx_max_0(_S9465, _S9480);
    float _S9573 = s_primal_ctx_min_0(_S9465, _S9480);
    float _S9574 = s_primal_ctx_max_0(_S9466, _S9481);
    float _S9575 = s_primal_ctx_min_0(_S9466, _S9481);
    float _S9576 = s_primal_ctx_max_0(_S9572, _S9495);
    float _S9577 = s_primal_ctx_min_0(_S9573, _S9495);
    float _S9578 = s_primal_ctx_max_0(_S9574, _S9496);
    float _S9579 = s_primal_ctx_min_0(_S9575, _S9496);
    float _S9580 = s_primal_ctx_max_0(_S9576, _S9510);
    float _S9581 = s_primal_ctx_min_0(_S9577, _S9510);
    float _S9582 = s_primal_ctx_max_0(_S9578, _S9511);
    float _S9583 = s_primal_ctx_min_0(_S9579, _S9511);
    float _S9584 = s_primal_ctx_max_0(_S9580, _S9525);
    float _S9585 = s_primal_ctx_min_0(_S9581, _S9525);
    float _S9586 = s_primal_ctx_max_0(_S9582, _S9526);
    float _S9587 = s_primal_ctx_min_0(_S9583, _S9526);
    float _S9588 = s_primal_ctx_max_0(_S9584, _S9540);
    float _S9589 = s_primal_ctx_min_0(_S9585, _S9540);
    float _S9590 = s_primal_ctx_max_0(_S9586, _S9541);
    float _S9591 = s_primal_ctx_min_0(_S9587, _S9541);
    float _S9592 = s_primal_ctx_max_0(_S9588, _S9555);
    float _S9593 = s_primal_ctx_min_0(_S9589, _S9555);
    float _S9594 = s_primal_ctx_max_0(_S9590, _S9556);
    float _S9595 = s_primal_ctx_min_0(_S9591, _S9556);
    float _S9596 = mean_c_81.z;
    float _S9597 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S9598 = _S9597 * (_S9596 + length_1(mean_c_81));
    Matrix<float, 3, 3>  _S9599 = transpose_0(R_74);
    float3  _S9600 = mean_c_81 - - s_primal_ctx_mul_0(_S9599, t_73);
    float _S9601 = _S9600.x;
    float _S9602 = _S9600.y;
    float _S9603 = _S9600.z;
    float _S9604 = _S9601 * _S9601 + _S9602 * _S9602 + _S9603 * _S9603;
    float _S9605 = s_primal_ctx_sqrt_0(_S9604);
    float x_83 = _S9601 / _S9605;
    float3  _S9606 = make_float3 (x_83);
    float _S9607 = _S9605 * _S9605;
    float y_28 = _S9602 / _S9605;
    float z_25 = _S9603 / _S9605;
    float3  _S9608 = make_float3 (z_25);
    float _S9609 = - y_28;
    float3  _S9610 = make_float3 (_S9609);
    float z2_108 = z_25 * z_25;
    float fTmp0B_25 = -1.09254848957061768f * z_25;
    float fC1_25 = x_83 * x_83 - y_28 * y_28;
    float _S9611 = 2.0f * x_83;
    float fS1_25 = _S9611 * y_28;
    float pSH6_7 = 0.94617468118667603f * z2_108 - 0.31539157032966614f;
    float3  _S9612 = make_float3 (pSH6_7);
    float pSH7_7 = fTmp0B_25 * x_83;
    float3  _S9613 = make_float3 (pSH7_7);
    float pSH5_7 = fTmp0B_25 * y_28;
    float3  _S9614 = make_float3 (pSH5_7);
    float pSH8_7 = 0.54627424478530884f * fC1_25;
    float3  _S9615 = make_float3 (pSH8_7);
    float pSH4_7 = 0.54627424478530884f * fS1_25;
    float3  _S9616 = make_float3 (pSH4_7);
    float fTmp0C_25 = -2.28522896766662598f * z2_108 + 0.4570457935333252f;
    float fTmp1B_25 = 1.44530570507049561f * z_25;
    float _S9617 = 1.86588168144226074f * z2_108 - 1.11952900886535645f;
    float pSH12_7 = z_25 * _S9617;
    float3  _S9618 = make_float3 (pSH12_7);
    float pSH13_7 = fTmp0C_25 * x_83;
    float3  _S9619 = make_float3 (pSH13_7);
    float pSH11_7 = fTmp0C_25 * y_28;
    float3  _S9620 = make_float3 (pSH11_7);
    float pSH14_7 = fTmp1B_25 * fC1_25;
    float3  _S9621 = make_float3 (pSH14_7);
    float pSH10_7 = fTmp1B_25 * fS1_25;
    float3  _S9622 = make_float3 (pSH10_7);
    float pSH15_7 = -0.59004360437393188f * (x_83 * fC1_25 - y_28 * fS1_25);
    float3  _S9623 = make_float3 (pSH15_7);
    float pSH9_7 = -0.59004360437393188f * (x_83 * fS1_25 + y_28 * fC1_25);
    float3  _S9624 = make_float3 (pSH9_7);
    float3  _S9625 = make_float3 (0.0f);
    float3  _S9626 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9627;
    (&_S9627)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_25)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S9609) * (*sh_coeffs_25)[int(1)] + make_float3 (z_25) * (*sh_coeffs_25)[int(2)] - make_float3 (x_83) * (*sh_coeffs_25)[int(3)]) + (make_float3 (pSH4_7) * (*sh_coeffs_25)[int(4)] + make_float3 (pSH5_7) * (*sh_coeffs_25)[int(5)] + make_float3 (pSH6_7) * (*sh_coeffs_25)[int(6)] + make_float3 (pSH7_7) * (*sh_coeffs_25)[int(7)] + make_float3 (pSH8_7) * (*sh_coeffs_25)[int(8)]) + (make_float3 (pSH9_7) * (*sh_coeffs_25)[int(9)] + make_float3 (pSH10_7) * (*sh_coeffs_25)[int(10)] + make_float3 (pSH11_7) * (*sh_coeffs_25)[int(11)] + make_float3 (pSH12_7) * (*sh_coeffs_25)[int(12)] + make_float3 (pSH13_7) * (*sh_coeffs_25)[int(13)] + make_float3 (pSH14_7) * (*sh_coeffs_25)[int(14)] + make_float3 (pSH15_7) * (*sh_coeffs_25)[int(15)]) + make_float3 (0.5f);
    (&_S9627)->differential_0 = _S9626;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9628;
    (&_S9628)->primal_0 = _S9625;
    (&_S9628)->differential_0 = _S9626;
    s_bwd_prop_max_0(&_S9627, &_S9628, v_rgb_20);
    float3  _S9629 = _S9623 * _S9627.differential_0;
    float3  _S9630 = (*sh_coeffs_25)[int(15)] * _S9627.differential_0;
    float3  _S9631 = _S9621 * _S9627.differential_0;
    float3  _S9632 = (*sh_coeffs_25)[int(14)] * _S9627.differential_0;
    float3  _S9633 = _S9619 * _S9627.differential_0;
    float3  _S9634 = (*sh_coeffs_25)[int(13)] * _S9627.differential_0;
    float3  _S9635 = _S9618 * _S9627.differential_0;
    float3  _S9636 = (*sh_coeffs_25)[int(12)] * _S9627.differential_0;
    float3  _S9637 = _S9620 * _S9627.differential_0;
    float3  _S9638 = (*sh_coeffs_25)[int(11)] * _S9627.differential_0;
    float3  _S9639 = _S9622 * _S9627.differential_0;
    float3  _S9640 = (*sh_coeffs_25)[int(10)] * _S9627.differential_0;
    float3  _S9641 = _S9624 * _S9627.differential_0;
    float3  _S9642 = (*sh_coeffs_25)[int(9)] * _S9627.differential_0;
    float s_diff_fS2_T_7 = -0.59004360437393188f * (_S9642.x + _S9642.y + _S9642.z);
    float s_diff_fC2_T_7 = -0.59004360437393188f * (_S9630.x + _S9630.y + _S9630.z);
    float _S9643 = _S9640.x + _S9640.y + _S9640.z;
    float _S9644 = _S9632.x + _S9632.y + _S9632.z;
    float _S9645 = _S9638.x + _S9638.y + _S9638.z;
    float _S9646 = _S9634.x + _S9634.y + _S9634.z;
    float _S9647 = _S9636.x + _S9636.y + _S9636.z;
    float _S9648 = - s_diff_fC2_T_7;
    float3  _S9649 = _S9615 * _S9627.differential_0;
    float3  _S9650 = (*sh_coeffs_25)[int(8)] * _S9627.differential_0;
    float3  _S9651 = _S9613 * _S9627.differential_0;
    float3  _S9652 = (*sh_coeffs_25)[int(7)] * _S9627.differential_0;
    float3  _S9653 = _S9612 * _S9627.differential_0;
    float3  _S9654 = (*sh_coeffs_25)[int(6)] * _S9627.differential_0;
    float3  _S9655 = _S9614 * _S9627.differential_0;
    float3  _S9656 = (*sh_coeffs_25)[int(5)] * _S9627.differential_0;
    float3  _S9657 = _S9616 * _S9627.differential_0;
    float3  _S9658 = (*sh_coeffs_25)[int(4)] * _S9627.differential_0;
    float _S9659 = _S9656.x + _S9656.y + _S9656.z;
    float _S9660 = _S9652.x + _S9652.y + _S9652.z;
    float _S9661 = fTmp1B_25 * _S9643 + x_83 * s_diff_fS2_T_7 + y_28 * _S9648 + 0.54627424478530884f * (_S9658.x + _S9658.y + _S9658.z);
    float _S9662 = fTmp1B_25 * _S9644 + y_28 * s_diff_fS2_T_7 + x_83 * s_diff_fC2_T_7 + 0.54627424478530884f * (_S9650.x + _S9650.y + _S9650.z);
    float _S9663 = y_28 * - _S9662;
    float _S9664 = x_83 * _S9662;
    float _S9665 = z_25 * (1.86588168144226074f * (z_25 * _S9647) + -2.28522896766662598f * (y_28 * _S9645 + x_83 * _S9646) + 0.94617468118667603f * (_S9654.x + _S9654.y + _S9654.z));
    float3  _S9666 = make_float3 (0.48860251903533936f) * _S9627.differential_0;
    float3  _S9667 = - _S9666;
    float3  _S9668 = _S9606 * _S9667;
    float3  _S9669 = (*sh_coeffs_25)[int(3)] * _S9667;
    float3  _S9670 = _S9608 * _S9666;
    float3  _S9671 = (*sh_coeffs_25)[int(2)] * _S9666;
    float3  _S9672 = _S9610 * _S9666;
    float3  _S9673 = (*sh_coeffs_25)[int(1)] * _S9666;
    float _S9674 = (_S9617 * _S9647 + 1.44530570507049561f * (fS1_25 * _S9643 + fC1_25 * _S9644) + -1.09254848957061768f * (y_28 * _S9659 + x_83 * _S9660) + _S9665 + _S9665 + _S9671.x + _S9671.y + _S9671.z) / _S9607;
    float _S9675 = _S9605 * _S9674;
    float _S9676 = (fTmp0C_25 * _S9645 + fC1_25 * s_diff_fS2_T_7 + fS1_25 * _S9648 + fTmp0B_25 * _S9659 + _S9611 * _S9661 + _S9663 + _S9663 + - (_S9673.x + _S9673.y + _S9673.z)) / _S9607;
    float _S9677 = _S9605 * _S9676;
    float _S9678 = (fTmp0C_25 * _S9646 + fS1_25 * s_diff_fS2_T_7 + fC1_25 * s_diff_fC2_T_7 + fTmp0B_25 * _S9660 + 2.0f * (y_28 * _S9661) + _S9664 + _S9664 + _S9669.x + _S9669.y + _S9669.z) / _S9607;
    float _S9679 = _S9605 * _S9678;
    float _S9680 = _S9603 * - _S9674 + _S9602 * - _S9676 + _S9601 * - _S9678;
    DiffPair_float_0 _S9681;
    (&_S9681)->primal_0 = _S9604;
    (&_S9681)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S9681, _S9680);
    float _S9682 = _S9603 * _S9681.differential_0;
    float _S9683 = _S9602 * _S9681.differential_0;
    float _S9684 = _S9601 * _S9681.differential_0;
    float3  _S9685 = make_float3 (0.282094806432724f) * _S9627.differential_0;
    float3  _S9686 = make_float3 (_S9679 + _S9684 + _S9684, _S9677 + _S9683 + _S9683, _S9675 + _S9682 + _S9682);
    float3  _S9687 = - - _S9686;
    Matrix<float, 3, 3>  _S9688 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9689;
    (&_S9689)->primal_0 = _S9599;
    (&_S9689)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9690;
    (&_S9690)->primal_0 = t_73;
    (&_S9690)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9689, &_S9690, _S9687);
    Matrix<float, 3, 3>  _S9691 = transpose_0(_S9689.differential_0);
    DiffPair_float_0 _S9692;
    (&_S9692)->primal_0 = _S9596;
    (&_S9692)->differential_0 = 0.0f;
    DiffPair_float_0 _S9693;
    (&_S9693)->primal_0 = _S9598;
    (&_S9693)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9692, &_S9693, 0.0f);
    float _S9694 = _S9597 * _S9693.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9695;
    (&_S9695)->primal_0 = mean_c_81;
    (&_S9695)->differential_0 = _S9626;
    s_bwd_length_impl_1(&_S9695, _S9694);
    float _S9696 = _S9692.differential_0 + _S9694;
    DiffPair_float_0 _S9697;
    (&_S9697)->primal_0 = _S9595;
    (&_S9697)->differential_0 = 0.0f;
    DiffPair_float_0 _S9698;
    (&_S9698)->primal_0 = _S9571;
    (&_S9698)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9697, &_S9698, 0.0f);
    DiffPair_float_0 _S9699;
    (&_S9699)->primal_0 = _S9594;
    (&_S9699)->differential_0 = 0.0f;
    DiffPair_float_0 _S9700;
    (&_S9700)->primal_0 = _S9571;
    (&_S9700)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9699, &_S9700, 0.0f);
    DiffPair_float_0 _S9701;
    (&_S9701)->primal_0 = _S9593;
    (&_S9701)->differential_0 = 0.0f;
    DiffPair_float_0 _S9702;
    (&_S9702)->primal_0 = _S9570;
    (&_S9702)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9701, &_S9702, 0.0f);
    DiffPair_float_0 _S9703;
    (&_S9703)->primal_0 = _S9592;
    (&_S9703)->differential_0 = 0.0f;
    DiffPair_float_0 _S9704;
    (&_S9704)->primal_0 = _S9570;
    (&_S9704)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9703, &_S9704, 0.0f);
    DiffPair_float_0 _S9705;
    (&_S9705)->primal_0 = _S9591;
    (&_S9705)->differential_0 = 0.0f;
    DiffPair_float_0 _S9706;
    (&_S9706)->primal_0 = _S9556;
    (&_S9706)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9705, &_S9706, _S9697.differential_0);
    DiffPair_float_0 _S9707;
    (&_S9707)->primal_0 = _S9590;
    (&_S9707)->differential_0 = 0.0f;
    DiffPair_float_0 _S9708;
    (&_S9708)->primal_0 = _S9556;
    (&_S9708)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9707, &_S9708, _S9699.differential_0);
    DiffPair_float_0 _S9709;
    (&_S9709)->primal_0 = _S9589;
    (&_S9709)->differential_0 = 0.0f;
    DiffPair_float_0 _S9710;
    (&_S9710)->primal_0 = _S9555;
    (&_S9710)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9709, &_S9710, _S9701.differential_0);
    DiffPair_float_0 _S9711;
    (&_S9711)->primal_0 = _S9588;
    (&_S9711)->differential_0 = 0.0f;
    DiffPair_float_0 _S9712;
    (&_S9712)->primal_0 = _S9555;
    (&_S9712)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9711, &_S9712, _S9703.differential_0);
    DiffPair_float_0 _S9713;
    (&_S9713)->primal_0 = _S9587;
    (&_S9713)->differential_0 = 0.0f;
    DiffPair_float_0 _S9714;
    (&_S9714)->primal_0 = _S9541;
    (&_S9714)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9713, &_S9714, _S9705.differential_0);
    DiffPair_float_0 _S9715;
    (&_S9715)->primal_0 = _S9586;
    (&_S9715)->differential_0 = 0.0f;
    DiffPair_float_0 _S9716;
    (&_S9716)->primal_0 = _S9541;
    (&_S9716)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9715, &_S9716, _S9707.differential_0);
    DiffPair_float_0 _S9717;
    (&_S9717)->primal_0 = _S9585;
    (&_S9717)->differential_0 = 0.0f;
    DiffPair_float_0 _S9718;
    (&_S9718)->primal_0 = _S9540;
    (&_S9718)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9717, &_S9718, _S9709.differential_0);
    DiffPair_float_0 _S9719;
    (&_S9719)->primal_0 = _S9584;
    (&_S9719)->differential_0 = 0.0f;
    DiffPair_float_0 _S9720;
    (&_S9720)->primal_0 = _S9540;
    (&_S9720)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9719, &_S9720, _S9711.differential_0);
    DiffPair_float_0 _S9721;
    (&_S9721)->primal_0 = _S9583;
    (&_S9721)->differential_0 = 0.0f;
    DiffPair_float_0 _S9722;
    (&_S9722)->primal_0 = _S9526;
    (&_S9722)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9721, &_S9722, _S9713.differential_0);
    DiffPair_float_0 _S9723;
    (&_S9723)->primal_0 = _S9582;
    (&_S9723)->differential_0 = 0.0f;
    DiffPair_float_0 _S9724;
    (&_S9724)->primal_0 = _S9526;
    (&_S9724)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9723, &_S9724, _S9715.differential_0);
    DiffPair_float_0 _S9725;
    (&_S9725)->primal_0 = _S9581;
    (&_S9725)->differential_0 = 0.0f;
    DiffPair_float_0 _S9726;
    (&_S9726)->primal_0 = _S9525;
    (&_S9726)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9725, &_S9726, _S9717.differential_0);
    DiffPair_float_0 _S9727;
    (&_S9727)->primal_0 = _S9580;
    (&_S9727)->differential_0 = 0.0f;
    DiffPair_float_0 _S9728;
    (&_S9728)->primal_0 = _S9525;
    (&_S9728)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9727, &_S9728, _S9719.differential_0);
    DiffPair_float_0 _S9729;
    (&_S9729)->primal_0 = _S9579;
    (&_S9729)->differential_0 = 0.0f;
    DiffPair_float_0 _S9730;
    (&_S9730)->primal_0 = _S9511;
    (&_S9730)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9729, &_S9730, _S9721.differential_0);
    DiffPair_float_0 _S9731;
    (&_S9731)->primal_0 = _S9578;
    (&_S9731)->differential_0 = 0.0f;
    DiffPair_float_0 _S9732;
    (&_S9732)->primal_0 = _S9511;
    (&_S9732)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9731, &_S9732, _S9723.differential_0);
    DiffPair_float_0 _S9733;
    (&_S9733)->primal_0 = _S9577;
    (&_S9733)->differential_0 = 0.0f;
    DiffPair_float_0 _S9734;
    (&_S9734)->primal_0 = _S9510;
    (&_S9734)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9733, &_S9734, _S9725.differential_0);
    DiffPair_float_0 _S9735;
    (&_S9735)->primal_0 = _S9576;
    (&_S9735)->differential_0 = 0.0f;
    DiffPair_float_0 _S9736;
    (&_S9736)->primal_0 = _S9510;
    (&_S9736)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9735, &_S9736, _S9727.differential_0);
    DiffPair_float_0 _S9737;
    (&_S9737)->primal_0 = _S9575;
    (&_S9737)->differential_0 = 0.0f;
    DiffPair_float_0 _S9738;
    (&_S9738)->primal_0 = _S9496;
    (&_S9738)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9737, &_S9738, _S9729.differential_0);
    DiffPair_float_0 _S9739;
    (&_S9739)->primal_0 = _S9574;
    (&_S9739)->differential_0 = 0.0f;
    DiffPair_float_0 _S9740;
    (&_S9740)->primal_0 = _S9496;
    (&_S9740)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9739, &_S9740, _S9731.differential_0);
    DiffPair_float_0 _S9741;
    (&_S9741)->primal_0 = _S9573;
    (&_S9741)->differential_0 = 0.0f;
    DiffPair_float_0 _S9742;
    (&_S9742)->primal_0 = _S9495;
    (&_S9742)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9741, &_S9742, _S9733.differential_0);
    DiffPair_float_0 _S9743;
    (&_S9743)->primal_0 = _S9572;
    (&_S9743)->differential_0 = 0.0f;
    DiffPair_float_0 _S9744;
    (&_S9744)->primal_0 = _S9495;
    (&_S9744)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9743, &_S9744, _S9735.differential_0);
    DiffPair_float_0 _S9745;
    (&_S9745)->primal_0 = _S9466;
    (&_S9745)->differential_0 = 0.0f;
    DiffPair_float_0 _S9746;
    (&_S9746)->primal_0 = _S9481;
    (&_S9746)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9745, &_S9746, _S9737.differential_0);
    DiffPair_float_0 _S9747;
    (&_S9747)->primal_0 = _S9466;
    (&_S9747)->differential_0 = 0.0f;
    DiffPair_float_0 _S9748;
    (&_S9748)->primal_0 = _S9481;
    (&_S9748)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9747, &_S9748, _S9739.differential_0);
    DiffPair_float_0 _S9749;
    (&_S9749)->primal_0 = _S9465;
    (&_S9749)->differential_0 = 0.0f;
    DiffPair_float_0 _S9750;
    (&_S9750)->primal_0 = _S9480;
    (&_S9750)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9749, &_S9750, _S9741.differential_0);
    DiffPair_float_0 _S9751;
    (&_S9751)->primal_0 = _S9465;
    (&_S9751)->differential_0 = 0.0f;
    DiffPair_float_0 _S9752;
    (&_S9752)->primal_0 = _S9480;
    (&_S9752)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9751, &_S9752, _S9743.differential_0);
    float _S9753 = fx_104 * (_S9702.differential_0 + _S9704.differential_0);
    float2  _S9754 = make_float2 (_S9753, fy_104 * (_S9698.differential_0 + _S9700.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9753, (*dist_coeffs_108)[int(9)] * _S9753);
    float2  _S9755 = _S9558 * _S9754;
    float _S9756 = (*dist_coeffs_108)[int(4)] * _S9754.y;
    float _S9757 = (*dist_coeffs_108)[int(5)] * _S9754.x;
    float _S9758 = _S9755.x + _S9755.y;
    float _S9759 = r2_101 * _S9758;
    float _S9760 = r2_101 * _S9759;
    float _S9761 = (*dist_coeffs_108)[int(7)] * _S9754.y + _S9756 + (*dist_coeffs_108)[int(6)] * _S9754.x + _S9757 + _S9562 * _S9758 + _S9561 * _S9759 + _S9560 * _S9760 + (*dist_coeffs_108)[int(3)] * (r2_101 * _S9760);
    float _S9762 = v_106 * _S9761;
    float _S9763 = u_106 * _S9761;
    float2  _S9764 = (_S9563 * _S9754 + make_float2 (_S9460 * (v_106 * _S9754.y) + _S9565 * _S9757 + 2.0f * (u_106 * _S9757) + _S9457 * (v_106 * _S9754.x) + _S9763 + _S9763, _S9567 * _S9756 + 2.0f * (v_106 * _S9756) + _S9566 * _S9754.y + _S9564 * _S9754.x + _S9762 + _S9762)) / _S9559;
    float2  _S9765 = _S9557 * - _S9764;
    float2  _S9766 = _S9448 * _S9764;
    float _S9767 = fx_104 * (_S9710.differential_0 + _S9712.differential_0);
    float2  _S9768 = make_float2 (_S9767, fy_104 * (_S9706.differential_0 + _S9708.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9767, (*dist_coeffs_108)[int(9)] * _S9767);
    float2  _S9769 = _S9543 * _S9768;
    float _S9770 = (*dist_coeffs_108)[int(4)] * _S9768.y;
    float _S9771 = (*dist_coeffs_108)[int(5)] * _S9768.x;
    float _S9772 = _S9769.x + _S9769.y;
    float _S9773 = r2_100 * _S9772;
    float _S9774 = r2_100 * _S9773;
    float _S9775 = (*dist_coeffs_108)[int(7)] * _S9768.y + _S9770 + (*dist_coeffs_108)[int(6)] * _S9768.x + _S9771 + _S9547 * _S9772 + _S9546 * _S9773 + _S9545 * _S9774 + (*dist_coeffs_108)[int(3)] * (r2_100 * _S9774);
    float _S9776 = v_105 * _S9775;
    float _S9777 = u_105 * _S9775;
    float2  _S9778 = (_S9548 * _S9768 + make_float2 (_S9460 * (v_105 * _S9768.y) + _S9550 * _S9771 + 2.0f * (u_105 * _S9771) + _S9457 * (v_105 * _S9768.x) + _S9777 + _S9777, _S9552 * _S9770 + 2.0f * (v_105 * _S9770) + _S9551 * _S9768.y + _S9549 * _S9768.x + _S9776 + _S9776)) / _S9544;
    float2  _S9779 = _S9542 * - _S9778;
    float2  _S9780 = _S9443 * _S9778;
    float _S9781 = fx_104 * (_S9718.differential_0 + _S9720.differential_0);
    float2  _S9782 = make_float2 (_S9781, fy_104 * (_S9714.differential_0 + _S9716.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9781, (*dist_coeffs_108)[int(9)] * _S9781);
    float2  _S9783 = _S9528 * _S9782;
    float _S9784 = (*dist_coeffs_108)[int(4)] * _S9782.y;
    float _S9785 = (*dist_coeffs_108)[int(5)] * _S9782.x;
    float _S9786 = _S9783.x + _S9783.y;
    float _S9787 = r2_99 * _S9786;
    float _S9788 = r2_99 * _S9787;
    float _S9789 = (*dist_coeffs_108)[int(7)] * _S9782.y + _S9784 + (*dist_coeffs_108)[int(6)] * _S9782.x + _S9785 + _S9532 * _S9786 + _S9531 * _S9787 + _S9530 * _S9788 + (*dist_coeffs_108)[int(3)] * (r2_99 * _S9788);
    float _S9790 = v_104 * _S9789;
    float _S9791 = u_104 * _S9789;
    float2  _S9792 = (_S9533 * _S9782 + make_float2 (_S9460 * (v_104 * _S9782.y) + _S9535 * _S9785 + 2.0f * (u_104 * _S9785) + _S9457 * (v_104 * _S9782.x) + _S9791 + _S9791, _S9537 * _S9784 + 2.0f * (v_104 * _S9784) + _S9536 * _S9782.y + _S9534 * _S9782.x + _S9790 + _S9790)) / _S9529;
    float2  _S9793 = _S9527 * - _S9792;
    float2  _S9794 = _S9438 * _S9792;
    float _S9795 = fx_104 * (_S9726.differential_0 + _S9728.differential_0);
    float2  _S9796 = make_float2 (_S9795, fy_104 * (_S9722.differential_0 + _S9724.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9795, (*dist_coeffs_108)[int(9)] * _S9795);
    float2  _S9797 = _S9513 * _S9796;
    float _S9798 = (*dist_coeffs_108)[int(4)] * _S9796.y;
    float _S9799 = (*dist_coeffs_108)[int(5)] * _S9796.x;
    float _S9800 = _S9797.x + _S9797.y;
    float _S9801 = r2_98 * _S9800;
    float _S9802 = r2_98 * _S9801;
    float _S9803 = (*dist_coeffs_108)[int(7)] * _S9796.y + _S9798 + (*dist_coeffs_108)[int(6)] * _S9796.x + _S9799 + _S9517 * _S9800 + _S9516 * _S9801 + _S9515 * _S9802 + (*dist_coeffs_108)[int(3)] * (r2_98 * _S9802);
    float _S9804 = v_103 * _S9803;
    float _S9805 = u_103 * _S9803;
    float2  _S9806 = (_S9518 * _S9796 + make_float2 (_S9460 * (v_103 * _S9796.y) + _S9520 * _S9799 + 2.0f * (u_103 * _S9799) + _S9457 * (v_103 * _S9796.x) + _S9805 + _S9805, _S9522 * _S9798 + 2.0f * (v_103 * _S9798) + _S9521 * _S9796.y + _S9519 * _S9796.x + _S9804 + _S9804)) / _S9514;
    float2  _S9807 = _S9512 * - _S9806;
    float2  _S9808 = _S9433 * _S9806;
    float _S9809 = fx_104 * (_S9734.differential_0 + _S9736.differential_0);
    float2  _S9810 = make_float2 (_S9809, fy_104 * (_S9730.differential_0 + _S9732.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9809, (*dist_coeffs_108)[int(9)] * _S9809);
    float2  _S9811 = _S9498 * _S9810;
    float _S9812 = (*dist_coeffs_108)[int(4)] * _S9810.y;
    float _S9813 = (*dist_coeffs_108)[int(5)] * _S9810.x;
    float _S9814 = _S9811.x + _S9811.y;
    float _S9815 = r2_97 * _S9814;
    float _S9816 = r2_97 * _S9815;
    float _S9817 = (*dist_coeffs_108)[int(7)] * _S9810.y + _S9812 + (*dist_coeffs_108)[int(6)] * _S9810.x + _S9813 + _S9502 * _S9814 + _S9501 * _S9815 + _S9500 * _S9816 + (*dist_coeffs_108)[int(3)] * (r2_97 * _S9816);
    float _S9818 = v_102 * _S9817;
    float _S9819 = u_102 * _S9817;
    float2  _S9820 = (_S9503 * _S9810 + make_float2 (_S9460 * (v_102 * _S9810.y) + _S9505 * _S9813 + 2.0f * (u_102 * _S9813) + _S9457 * (v_102 * _S9810.x) + _S9819 + _S9819, _S9507 * _S9812 + 2.0f * (v_102 * _S9812) + _S9506 * _S9810.y + _S9504 * _S9810.x + _S9818 + _S9818)) / _S9499;
    float2  _S9821 = _S9497 * - _S9820;
    float2  _S9822 = _S9428 * _S9820;
    float _S9823 = fx_104 * (_S9742.differential_0 + _S9744.differential_0);
    float2  _S9824 = make_float2 (_S9823, fy_104 * (_S9738.differential_0 + _S9740.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9823, (*dist_coeffs_108)[int(9)] * _S9823);
    float2  _S9825 = _S9483 * _S9824;
    float _S9826 = (*dist_coeffs_108)[int(4)] * _S9824.y;
    float _S9827 = (*dist_coeffs_108)[int(5)] * _S9824.x;
    float _S9828 = _S9825.x + _S9825.y;
    float _S9829 = r2_96 * _S9828;
    float _S9830 = r2_96 * _S9829;
    float _S9831 = (*dist_coeffs_108)[int(7)] * _S9824.y + _S9826 + (*dist_coeffs_108)[int(6)] * _S9824.x + _S9827 + _S9487 * _S9828 + _S9486 * _S9829 + _S9485 * _S9830 + (*dist_coeffs_108)[int(3)] * (r2_96 * _S9830);
    float _S9832 = v_101 * _S9831;
    float _S9833 = u_101 * _S9831;
    float2  _S9834 = (_S9488 * _S9824 + make_float2 (_S9460 * (v_101 * _S9824.y) + _S9490 * _S9827 + 2.0f * (u_101 * _S9827) + _S9457 * (v_101 * _S9824.x) + _S9833 + _S9833, _S9492 * _S9826 + 2.0f * (v_101 * _S9826) + _S9491 * _S9824.y + _S9489 * _S9824.x + _S9832 + _S9832)) / _S9484;
    float2  _S9835 = _S9482 * - _S9834;
    float2  _S9836 = _S9423 * _S9834;
    float _S9837 = fx_104 * (_S9750.differential_0 + _S9752.differential_0);
    float2  _S9838 = make_float2 (_S9837, fy_104 * (_S9746.differential_0 + _S9748.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9837, (*dist_coeffs_108)[int(9)] * _S9837);
    float2  _S9839 = _S9468 * _S9838;
    float _S9840 = (*dist_coeffs_108)[int(4)] * _S9838.y;
    float _S9841 = (*dist_coeffs_108)[int(5)] * _S9838.x;
    float _S9842 = _S9839.x + _S9839.y;
    float _S9843 = r2_95 * _S9842;
    float _S9844 = r2_95 * _S9843;
    float _S9845 = (*dist_coeffs_108)[int(7)] * _S9838.y + _S9840 + (*dist_coeffs_108)[int(6)] * _S9838.x + _S9841 + _S9472 * _S9842 + _S9471 * _S9843 + _S9470 * _S9844 + (*dist_coeffs_108)[int(3)] * (r2_95 * _S9844);
    float _S9846 = v_100 * _S9845;
    float _S9847 = u_100 * _S9845;
    float2  _S9848 = (_S9473 * _S9838 + make_float2 (_S9460 * (v_100 * _S9838.y) + _S9475 * _S9841 + 2.0f * (u_100 * _S9841) + _S9457 * (v_100 * _S9838.x) + _S9847 + _S9847, _S9477 * _S9840 + 2.0f * (v_100 * _S9840) + _S9476 * _S9838.y + _S9474 * _S9838.x + _S9846 + _S9846)) / _S9469;
    float2  _S9849 = _S9467 * - _S9848;
    float2  _S9850 = _S9418 * _S9848;
    float _S9851 = fx_104 * (_S9749.differential_0 + _S9751.differential_0);
    float2  _S9852 = make_float2 (_S9851, fy_104 * (_S9745.differential_0 + _S9747.differential_0)) + make_float2 ((*dist_coeffs_108)[int(8)] * _S9851, (*dist_coeffs_108)[int(9)] * _S9851);
    float2  _S9853 = _S9451 * _S9852;
    float _S9854 = (*dist_coeffs_108)[int(4)] * _S9852.y;
    float _S9855 = (*dist_coeffs_108)[int(5)] * _S9852.x;
    float _S9856 = _S9853.x + _S9853.y;
    float _S9857 = r2_94 * _S9856;
    float _S9858 = r2_94 * _S9857;
    float _S9859 = (*dist_coeffs_108)[int(7)] * _S9852.y + _S9854 + (*dist_coeffs_108)[int(6)] * _S9852.x + _S9855 + _S9455 * _S9856 + _S9454 * _S9857 + _S9453 * _S9858 + (*dist_coeffs_108)[int(3)] * (r2_94 * _S9858);
    float _S9860 = v_99 * _S9859;
    float _S9861 = u_99 * _S9859;
    float2  _S9862 = (_S9456 * _S9852 + make_float2 (_S9460 * (v_99 * _S9852.y) + _S9459 * _S9855 + 2.0f * (u_99 * _S9855) + _S9457 * (v_99 * _S9852.x) + _S9861 + _S9861, _S9462 * _S9854 + 2.0f * (v_99 * _S9854) + _S9461 * _S9852.y + _S9458 * _S9852.x + _S9860 + _S9860)) / _S9452;
    float2  _S9863 = _S9450 * - _S9862;
    float2  _S9864 = _S9413 * _S9862;
    float3  _S9865 = _S9686 + _S9695.differential_0 + make_float3 (0.0f, 0.0f, _S9696);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9866;
    (&_S9866)->primal_0 = R_74;
    (&_S9866)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9867;
    (&_S9867)->primal_0 = _S9449;
    (&_S9867)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9866, &_S9867, _S9865);
    DiffPair_float_0 _S9868;
    (&_S9868)->primal_0 = _S9445;
    (&_S9868)->differential_0 = 0.0f;
    DiffPair_float_0 _S9869;
    (&_S9869)->primal_0 = _S9447;
    (&_S9869)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9868, &_S9869, 0.0f);
    DiffPair_float_0 _S9870;
    (&_S9870)->primal_0 = _S9444;
    (&_S9870)->differential_0 = 0.0f;
    DiffPair_float_0 _S9871;
    (&_S9871)->primal_0 = _S9447;
    (&_S9871)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9870, &_S9871, 0.0f);
    float3  _S9872 = make_float3 (_S9766.x, _S9766.y, _S9869.differential_0 + _S9871.differential_0 + _S9765.x + _S9765.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9873;
    (&_S9873)->primal_0 = R_74;
    (&_S9873)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9874;
    (&_S9874)->primal_0 = pos_i_6;
    (&_S9874)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9873, &_S9874, _S9872);
    DiffPair_float_0 _S9875;
    (&_S9875)->primal_0 = _S9440;
    (&_S9875)->differential_0 = 0.0f;
    DiffPair_float_0 _S9876;
    (&_S9876)->primal_0 = _S9442;
    (&_S9876)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9875, &_S9876, _S9868.differential_0);
    DiffPair_float_0 _S9877;
    (&_S9877)->primal_0 = _S9439;
    (&_S9877)->differential_0 = 0.0f;
    DiffPair_float_0 _S9878;
    (&_S9878)->primal_0 = _S9442;
    (&_S9878)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9877, &_S9878, _S9870.differential_0);
    float3  _S9879 = make_float3 (_S9780.x, _S9780.y, _S9876.differential_0 + _S9878.differential_0 + _S9779.x + _S9779.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9880;
    (&_S9880)->primal_0 = R_74;
    (&_S9880)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9881;
    (&_S9881)->primal_0 = pos_i_5;
    (&_S9881)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9880, &_S9881, _S9879);
    DiffPair_float_0 _S9882;
    (&_S9882)->primal_0 = _S9435;
    (&_S9882)->differential_0 = 0.0f;
    DiffPair_float_0 _S9883;
    (&_S9883)->primal_0 = _S9437;
    (&_S9883)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9882, &_S9883, _S9875.differential_0);
    DiffPair_float_0 _S9884;
    (&_S9884)->primal_0 = _S9434;
    (&_S9884)->differential_0 = 0.0f;
    DiffPair_float_0 _S9885;
    (&_S9885)->primal_0 = _S9437;
    (&_S9885)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9884, &_S9885, _S9877.differential_0);
    float3  _S9886 = make_float3 (_S9794.x, _S9794.y, _S9883.differential_0 + _S9885.differential_0 + _S9793.x + _S9793.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9887;
    (&_S9887)->primal_0 = R_74;
    (&_S9887)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9888;
    (&_S9888)->primal_0 = pos_i_4;
    (&_S9888)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9887, &_S9888, _S9886);
    DiffPair_float_0 _S9889;
    (&_S9889)->primal_0 = _S9430;
    (&_S9889)->differential_0 = 0.0f;
    DiffPair_float_0 _S9890;
    (&_S9890)->primal_0 = _S9432;
    (&_S9890)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9889, &_S9890, _S9882.differential_0);
    DiffPair_float_0 _S9891;
    (&_S9891)->primal_0 = _S9429;
    (&_S9891)->differential_0 = 0.0f;
    DiffPair_float_0 _S9892;
    (&_S9892)->primal_0 = _S9432;
    (&_S9892)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9891, &_S9892, _S9884.differential_0);
    float3  _S9893 = make_float3 (_S9808.x, _S9808.y, _S9890.differential_0 + _S9892.differential_0 + _S9807.x + _S9807.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9894;
    (&_S9894)->primal_0 = R_74;
    (&_S9894)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9895;
    (&_S9895)->primal_0 = pos_i_3;
    (&_S9895)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9894, &_S9895, _S9893);
    DiffPair_float_0 _S9896;
    (&_S9896)->primal_0 = _S9425;
    (&_S9896)->differential_0 = 0.0f;
    DiffPair_float_0 _S9897;
    (&_S9897)->primal_0 = _S9427;
    (&_S9897)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9896, &_S9897, _S9889.differential_0);
    DiffPair_float_0 _S9898;
    (&_S9898)->primal_0 = _S9424;
    (&_S9898)->differential_0 = 0.0f;
    DiffPair_float_0 _S9899;
    (&_S9899)->primal_0 = _S9427;
    (&_S9899)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9898, &_S9899, _S9891.differential_0);
    float3  _S9900 = make_float3 (_S9822.x, _S9822.y, _S9897.differential_0 + _S9899.differential_0 + _S9821.x + _S9821.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9901;
    (&_S9901)->primal_0 = R_74;
    (&_S9901)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9902;
    (&_S9902)->primal_0 = pos_i_2;
    (&_S9902)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9901, &_S9902, _S9900);
    DiffPair_float_0 _S9903;
    (&_S9903)->primal_0 = _S9420;
    (&_S9903)->differential_0 = 0.0f;
    DiffPair_float_0 _S9904;
    (&_S9904)->primal_0 = _S9422;
    (&_S9904)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9903, &_S9904, _S9896.differential_0);
    DiffPair_float_0 _S9905;
    (&_S9905)->primal_0 = _S9419;
    (&_S9905)->differential_0 = 0.0f;
    DiffPair_float_0 _S9906;
    (&_S9906)->primal_0 = _S9422;
    (&_S9906)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9905, &_S9906, _S9898.differential_0);
    float3  _S9907 = make_float3 (_S9836.x, _S9836.y, _S9904.differential_0 + _S9906.differential_0 + _S9835.x + _S9835.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9908;
    (&_S9908)->primal_0 = R_74;
    (&_S9908)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9909;
    (&_S9909)->primal_0 = pos_i_1;
    (&_S9909)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9908, &_S9909, _S9907);
    DiffPair_float_0 _S9910;
    (&_S9910)->primal_0 = _S9415;
    (&_S9910)->differential_0 = 0.0f;
    DiffPair_float_0 _S9911;
    (&_S9911)->primal_0 = _S9417;
    (&_S9911)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9910, &_S9911, _S9903.differential_0);
    DiffPair_float_0 _S9912;
    (&_S9912)->primal_0 = _S9414;
    (&_S9912)->differential_0 = 0.0f;
    DiffPair_float_0 _S9913;
    (&_S9913)->primal_0 = _S9417;
    (&_S9913)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9912, &_S9913, _S9905.differential_0);
    float3  _S9914 = make_float3 (_S9850.x, _S9850.y, _S9911.differential_0 + _S9913.differential_0 + _S9849.x + _S9849.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9915;
    (&_S9915)->primal_0 = R_74;
    (&_S9915)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9916;
    (&_S9916)->primal_0 = pos_i_0;
    (&_S9916)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9915, &_S9916, _S9914);
    DiffPair_float_0 _S9917;
    (&_S9917)->primal_0 = 0.0f;
    (&_S9917)->differential_0 = 0.0f;
    DiffPair_float_0 _S9918;
    (&_S9918)->primal_0 = _S9412;
    (&_S9918)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S9917, &_S9918, _S9910.differential_0);
    DiffPair_float_0 _S9919;
    (&_S9919)->primal_0 = 1.00000001504746622e+30f;
    (&_S9919)->differential_0 = 0.0f;
    DiffPair_float_0 _S9920;
    (&_S9920)->primal_0 = _S9412;
    (&_S9920)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S9919, &_S9920, _S9912.differential_0);
    float3  _S9921 = make_float3 (_S9864.x, _S9864.y, _S9918.differential_0 + _S9920.differential_0 + _S9863.x + _S9863.y);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S9922;
    (&_S9922)->primal_0 = R_74;
    (&_S9922)->differential_0 = _S9688;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S9923;
    (&_S9923)->primal_0 = pos_4;
    (&_S9923)->differential_0 = _S9626;
    s_bwd_prop_mul_1(&_S9922, &_S9923, _S9921);
    float3  _S9924 = _S9690.differential_0 + _S9865 + _S9872 + _S9879 + _S9886 + _S9893 + _S9900 + _S9907 + _S9914 + _S9921;
    Matrix<float, 3, 3>  _S9925 = _S9691 + _S9866.differential_0 + _S9873.differential_0 + _S9880.differential_0 + _S9887.differential_0 + _S9894.differential_0 + _S9901.differential_0 + _S9908.differential_0 + _S9915.differential_0 + _S9922.differential_0;
    FixedArray<float3 , 16>  _S9926;
    _S9926[int(0)] = _S9626;
    _S9926[int(1)] = _S9626;
    _S9926[int(2)] = _S9626;
    _S9926[int(3)] = _S9626;
    _S9926[int(4)] = _S9626;
    _S9926[int(5)] = _S9626;
    _S9926[int(6)] = _S9626;
    _S9926[int(7)] = _S9626;
    _S9926[int(8)] = _S9626;
    _S9926[int(9)] = _S9626;
    _S9926[int(10)] = _S9626;
    _S9926[int(11)] = _S9626;
    _S9926[int(12)] = _S9626;
    _S9926[int(13)] = _S9626;
    _S9926[int(14)] = _S9626;
    _S9926[int(15)] = _S9626;
    _S9926[int(15)] = _S9629;
    _S9926[int(14)] = _S9631;
    _S9926[int(13)] = _S9633;
    _S9926[int(12)] = _S9635;
    _S9926[int(11)] = _S9637;
    _S9926[int(10)] = _S9639;
    _S9926[int(9)] = _S9641;
    _S9926[int(8)] = _S9649;
    _S9926[int(7)] = _S9651;
    _S9926[int(6)] = _S9653;
    _S9926[int(5)] = _S9655;
    _S9926[int(4)] = _S9657;
    _S9926[int(3)] = _S9668;
    _S9926[int(2)] = _S9670;
    _S9926[int(1)] = _S9672;
    _S9926[int(0)] = _S9685;
    (*v_densities_0)[int(0)] = 0.0f;
    (*v_densities_0)[int(1)] = 0.0f;
    (*v_densities_0)[int(2)] = 0.0f;
    (*v_densities_0)[int(3)] = 0.0f;
    (*v_densities_0)[int(4)] = 0.0f;
    (*v_densities_0)[int(5)] = 0.0f;
    (*v_densities_0)[int(6)] = 0.0f;
    (*v_densities_0)[int(7)] = 0.0f;
    *v_sh_coeffs_7 = _S9926;
    *v_R_23 = _S9925;
    *v_t_22 = _S9924;
    return;
}

inline __device__ void projection_voxel_eval3d_fisheye_vjp(float3  pos_5, float size_5, FixedArray<float, 8>  * densities_5, FixedArray<float3 , 16>  * sh_coeffs_26, Matrix<float, 3, 3>  R_75, float3  t_74, float fx_105, float fy_105, float cx_100, float cy_100, FixedArray<float, 10>  * dist_coeffs_109, uint image_width_96, uint image_height_96, float3  v_rgb_21, FixedArray<float, 8>  * v_densities_1, FixedArray<float3 , 16>  * v_sh_coeffs_8, Matrix<float, 3, 3>  * v_R_24, float3  * v_t_23)
{
    float3  _S9927 = s_primal_ctx_mul_0(R_75, pos_5) + t_74;
    float _S9928 = length_1(_S9927);
    float _S9929 = s_primal_ctx_min_0(1.00000001504746622e+30f, _S9928);
    float _S9930 = s_primal_ctx_max_0(0.0f, _S9928);
    float3  pos_i_7 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 0.0f);
    float3  _S9931 = s_primal_ctx_mul_0(R_75, pos_i_7) + t_74;
    float _S9932 = length_1(_S9931);
    float _S9933 = s_primal_ctx_min_0(_S9929, _S9932);
    float _S9934 = s_primal_ctx_max_0(_S9930, _S9932);
    float3  pos_i_8 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 0.0f);
    float3  _S9935 = s_primal_ctx_mul_0(R_75, pos_i_8) + t_74;
    float _S9936 = length_1(_S9935);
    float _S9937 = s_primal_ctx_min_0(_S9933, _S9936);
    float _S9938 = s_primal_ctx_max_0(_S9934, _S9936);
    float3  pos_i_9 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 1.0f, 0.0f);
    float3  _S9939 = s_primal_ctx_mul_0(R_75, pos_i_9) + t_74;
    float _S9940 = length_1(_S9939);
    float _S9941 = s_primal_ctx_min_0(_S9937, _S9940);
    float _S9942 = s_primal_ctx_max_0(_S9938, _S9940);
    float3  pos_i_10 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 0.0f, 1.0f);
    float3  _S9943 = s_primal_ctx_mul_0(R_75, pos_i_10) + t_74;
    float _S9944 = length_1(_S9943);
    float _S9945 = s_primal_ctx_min_0(_S9941, _S9944);
    float _S9946 = s_primal_ctx_max_0(_S9942, _S9944);
    float3  pos_i_11 = pos_5 + make_float3 (size_5) * make_float3 (1.0f, 0.0f, 1.0f);
    float3  _S9947 = s_primal_ctx_mul_0(R_75, pos_i_11) + t_74;
    float _S9948 = length_1(_S9947);
    float _S9949 = s_primal_ctx_min_0(_S9945, _S9948);
    float _S9950 = s_primal_ctx_max_0(_S9946, _S9948);
    float3  pos_i_12 = pos_5 + make_float3 (size_5) * make_float3 (0.0f, 1.0f, 1.0f);
    float3  _S9951 = s_primal_ctx_mul_0(R_75, pos_i_12) + t_74;
    float _S9952 = length_1(_S9951);
    float _S9953 = s_primal_ctx_min_0(_S9949, _S9952);
    float _S9954 = s_primal_ctx_max_0(_S9950, _S9952);
    float3  pos_i_13 = pos_5 + make_float3 (size_5);
    float3  _S9955 = s_primal_ctx_mul_0(R_75, pos_i_13) + t_74;
    float _S9956 = length_1(_S9955);
    float3  _S9957 = pos_5 + make_float3 (0.5f * size_5);
    float3  mean_c_82 = s_primal_ctx_mul_0(R_75, _S9957) + t_74;
    float2  _S9958 = float2 {_S9927.x, _S9927.y};
    float _S9959 = length_0(_S9958);
    float _S9960 = _S9927.z;
    float _S9961 = s_primal_ctx_atan2_0(_S9959, _S9960);
    bool _S9962 = _S9961 < 0.00100000004749745f;
    float k_12;
    float _S9963;
    float _S9964;
    float _S9965;
    if(_S9962)
    {
        float _S9966 = 1.0f - _S9961 * _S9961 / 3.0f;
        float _S9967 = _S9960 * _S9960;
        k_12 = _S9966 / _S9960;
        _S9963 = 0.0f;
        _S9964 = _S9967;
        _S9965 = _S9966;
    }
    else
    {
        float _S9968 = _S9959 * _S9959;
        k_12 = _S9961 / _S9959;
        _S9963 = _S9968;
        _S9964 = 0.0f;
        _S9965 = 0.0f;
    }
    float2  _S9969 = make_float2 (k_12);
    float2  _S9970 = _S9958 * make_float2 (k_12);
    float u_107 = _S9970.x;
    float v_107 = _S9970.y;
    float r2_102 = u_107 * u_107 + v_107 * v_107;
    float _S9971 = (*dist_coeffs_109)[int(2)] + r2_102 * (*dist_coeffs_109)[int(3)];
    float _S9972 = (*dist_coeffs_109)[int(1)] + r2_102 * _S9971;
    float _S9973 = (*dist_coeffs_109)[int(0)] + r2_102 * _S9972;
    float radial_15 = 1.0f + r2_102 * _S9973;
    float2  _S9974 = make_float2 (radial_15);
    float _S9975 = 2.0f * (*dist_coeffs_109)[int(4)];
    float _S9976 = _S9975 * u_107;
    float _S9977 = 2.0f * u_107;
    float _S9978 = 2.0f * (*dist_coeffs_109)[int(5)];
    float _S9979 = _S9978 * u_107;
    float _S9980 = 2.0f * v_107;
    float2  _S9981 = _S9970 * make_float2 (radial_15) + make_float2 (_S9976 * v_107 + (*dist_coeffs_109)[int(5)] * (r2_102 + _S9977 * u_107) + (*dist_coeffs_109)[int(6)] * r2_102, _S9979 * v_107 + (*dist_coeffs_109)[int(4)] * (r2_102 + _S9980 * v_107) + (*dist_coeffs_109)[int(7)] * r2_102);
    float2  _S9982 = _S9981 + make_float2 ((*dist_coeffs_109)[int(8)] * _S9981.x + (*dist_coeffs_109)[int(9)] * _S9981.y, 0.0f);
    float _S9983 = fx_105 * _S9982.x + cx_100;
    float _S9984 = fy_105 * _S9982.y + cy_100;
    float2  _S9985 = float2 {_S9931.x, _S9931.y};
    float _S9986 = length_0(_S9985);
    float _S9987 = _S9931.z;
    float _S9988 = s_primal_ctx_atan2_0(_S9986, _S9987);
    bool _S9989 = _S9988 < 0.00100000004749745f;
    float _S9990;
    float _S9991;
    float _S9992;
    if(_S9989)
    {
        float _S9993 = 1.0f - _S9988 * _S9988 / 3.0f;
        float _S9994 = _S9987 * _S9987;
        k_12 = _S9993 / _S9987;
        _S9990 = 0.0f;
        _S9991 = _S9994;
        _S9992 = _S9993;
    }
    else
    {
        float _S9995 = _S9986 * _S9986;
        k_12 = _S9988 / _S9986;
        _S9990 = _S9995;
        _S9991 = 0.0f;
        _S9992 = 0.0f;
    }
    float2  _S9996 = make_float2 (k_12);
    float2  _S9997 = _S9985 * make_float2 (k_12);
    float u_108 = _S9997.x;
    float v_108 = _S9997.y;
    float r2_103 = u_108 * u_108 + v_108 * v_108;
    float _S9998 = (*dist_coeffs_109)[int(2)] + r2_103 * (*dist_coeffs_109)[int(3)];
    float _S9999 = (*dist_coeffs_109)[int(1)] + r2_103 * _S9998;
    float _S10000 = (*dist_coeffs_109)[int(0)] + r2_103 * _S9999;
    float radial_16 = 1.0f + r2_103 * _S10000;
    float2  _S10001 = make_float2 (radial_16);
    float _S10002 = _S9975 * u_108;
    float _S10003 = 2.0f * u_108;
    float _S10004 = _S9978 * u_108;
    float _S10005 = 2.0f * v_108;
    float2  _S10006 = _S9997 * make_float2 (radial_16) + make_float2 (_S10002 * v_108 + (*dist_coeffs_109)[int(5)] * (r2_103 + _S10003 * u_108) + (*dist_coeffs_109)[int(6)] * r2_103, _S10004 * v_108 + (*dist_coeffs_109)[int(4)] * (r2_103 + _S10005 * v_108) + (*dist_coeffs_109)[int(7)] * r2_103);
    float2  _S10007 = _S10006 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10006.x + (*dist_coeffs_109)[int(9)] * _S10006.y, 0.0f);
    float _S10008 = fx_105 * _S10007.x + cx_100;
    float _S10009 = fy_105 * _S10007.y + cy_100;
    float2  _S10010 = float2 {_S9935.x, _S9935.y};
    float _S10011 = length_0(_S10010);
    float _S10012 = _S9935.z;
    float _S10013 = s_primal_ctx_atan2_0(_S10011, _S10012);
    bool _S10014 = _S10013 < 0.00100000004749745f;
    float _S10015;
    float _S10016;
    float _S10017;
    if(_S10014)
    {
        float _S10018 = 1.0f - _S10013 * _S10013 / 3.0f;
        float _S10019 = _S10012 * _S10012;
        k_12 = _S10018 / _S10012;
        _S10015 = 0.0f;
        _S10016 = _S10019;
        _S10017 = _S10018;
    }
    else
    {
        float _S10020 = _S10011 * _S10011;
        k_12 = _S10013 / _S10011;
        _S10015 = _S10020;
        _S10016 = 0.0f;
        _S10017 = 0.0f;
    }
    float2  _S10021 = make_float2 (k_12);
    float2  _S10022 = _S10010 * make_float2 (k_12);
    float u_109 = _S10022.x;
    float v_109 = _S10022.y;
    float r2_104 = u_109 * u_109 + v_109 * v_109;
    float _S10023 = (*dist_coeffs_109)[int(2)] + r2_104 * (*dist_coeffs_109)[int(3)];
    float _S10024 = (*dist_coeffs_109)[int(1)] + r2_104 * _S10023;
    float _S10025 = (*dist_coeffs_109)[int(0)] + r2_104 * _S10024;
    float radial_17 = 1.0f + r2_104 * _S10025;
    float2  _S10026 = make_float2 (radial_17);
    float _S10027 = _S9975 * u_109;
    float _S10028 = 2.0f * u_109;
    float _S10029 = _S9978 * u_109;
    float _S10030 = 2.0f * v_109;
    float2  _S10031 = _S10022 * make_float2 (radial_17) + make_float2 (_S10027 * v_109 + (*dist_coeffs_109)[int(5)] * (r2_104 + _S10028 * u_109) + (*dist_coeffs_109)[int(6)] * r2_104, _S10029 * v_109 + (*dist_coeffs_109)[int(4)] * (r2_104 + _S10030 * v_109) + (*dist_coeffs_109)[int(7)] * r2_104);
    float2  _S10032 = _S10031 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10031.x + (*dist_coeffs_109)[int(9)] * _S10031.y, 0.0f);
    float _S10033 = fx_105 * _S10032.x + cx_100;
    float _S10034 = fy_105 * _S10032.y + cy_100;
    float2  _S10035 = float2 {_S9939.x, _S9939.y};
    float _S10036 = length_0(_S10035);
    float _S10037 = _S9939.z;
    float _S10038 = s_primal_ctx_atan2_0(_S10036, _S10037);
    bool _S10039 = _S10038 < 0.00100000004749745f;
    float _S10040;
    float _S10041;
    float _S10042;
    if(_S10039)
    {
        float _S10043 = 1.0f - _S10038 * _S10038 / 3.0f;
        float _S10044 = _S10037 * _S10037;
        k_12 = _S10043 / _S10037;
        _S10040 = 0.0f;
        _S10041 = _S10044;
        _S10042 = _S10043;
    }
    else
    {
        float _S10045 = _S10036 * _S10036;
        k_12 = _S10038 / _S10036;
        _S10040 = _S10045;
        _S10041 = 0.0f;
        _S10042 = 0.0f;
    }
    float2  _S10046 = make_float2 (k_12);
    float2  _S10047 = _S10035 * make_float2 (k_12);
    float u_110 = _S10047.x;
    float v_110 = _S10047.y;
    float r2_105 = u_110 * u_110 + v_110 * v_110;
    float _S10048 = (*dist_coeffs_109)[int(2)] + r2_105 * (*dist_coeffs_109)[int(3)];
    float _S10049 = (*dist_coeffs_109)[int(1)] + r2_105 * _S10048;
    float _S10050 = (*dist_coeffs_109)[int(0)] + r2_105 * _S10049;
    float radial_18 = 1.0f + r2_105 * _S10050;
    float2  _S10051 = make_float2 (radial_18);
    float _S10052 = _S9975 * u_110;
    float _S10053 = 2.0f * u_110;
    float _S10054 = _S9978 * u_110;
    float _S10055 = 2.0f * v_110;
    float2  _S10056 = _S10047 * make_float2 (radial_18) + make_float2 (_S10052 * v_110 + (*dist_coeffs_109)[int(5)] * (r2_105 + _S10053 * u_110) + (*dist_coeffs_109)[int(6)] * r2_105, _S10054 * v_110 + (*dist_coeffs_109)[int(4)] * (r2_105 + _S10055 * v_110) + (*dist_coeffs_109)[int(7)] * r2_105);
    float2  _S10057 = _S10056 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10056.x + (*dist_coeffs_109)[int(9)] * _S10056.y, 0.0f);
    float _S10058 = fx_105 * _S10057.x + cx_100;
    float _S10059 = fy_105 * _S10057.y + cy_100;
    float2  _S10060 = float2 {_S9943.x, _S9943.y};
    float _S10061 = length_0(_S10060);
    float _S10062 = _S9943.z;
    float _S10063 = s_primal_ctx_atan2_0(_S10061, _S10062);
    bool _S10064 = _S10063 < 0.00100000004749745f;
    float _S10065;
    float _S10066;
    float _S10067;
    if(_S10064)
    {
        float _S10068 = 1.0f - _S10063 * _S10063 / 3.0f;
        float _S10069 = _S10062 * _S10062;
        k_12 = _S10068 / _S10062;
        _S10065 = 0.0f;
        _S10066 = _S10069;
        _S10067 = _S10068;
    }
    else
    {
        float _S10070 = _S10061 * _S10061;
        k_12 = _S10063 / _S10061;
        _S10065 = _S10070;
        _S10066 = 0.0f;
        _S10067 = 0.0f;
    }
    float2  _S10071 = make_float2 (k_12);
    float2  _S10072 = _S10060 * make_float2 (k_12);
    float u_111 = _S10072.x;
    float v_111 = _S10072.y;
    float r2_106 = u_111 * u_111 + v_111 * v_111;
    float _S10073 = (*dist_coeffs_109)[int(2)] + r2_106 * (*dist_coeffs_109)[int(3)];
    float _S10074 = (*dist_coeffs_109)[int(1)] + r2_106 * _S10073;
    float _S10075 = (*dist_coeffs_109)[int(0)] + r2_106 * _S10074;
    float radial_19 = 1.0f + r2_106 * _S10075;
    float2  _S10076 = make_float2 (radial_19);
    float _S10077 = _S9975 * u_111;
    float _S10078 = 2.0f * u_111;
    float _S10079 = _S9978 * u_111;
    float _S10080 = 2.0f * v_111;
    float2  _S10081 = _S10072 * make_float2 (radial_19) + make_float2 (_S10077 * v_111 + (*dist_coeffs_109)[int(5)] * (r2_106 + _S10078 * u_111) + (*dist_coeffs_109)[int(6)] * r2_106, _S10079 * v_111 + (*dist_coeffs_109)[int(4)] * (r2_106 + _S10080 * v_111) + (*dist_coeffs_109)[int(7)] * r2_106);
    float2  _S10082 = _S10081 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10081.x + (*dist_coeffs_109)[int(9)] * _S10081.y, 0.0f);
    float _S10083 = fx_105 * _S10082.x + cx_100;
    float _S10084 = fy_105 * _S10082.y + cy_100;
    float2  _S10085 = float2 {_S9947.x, _S9947.y};
    float _S10086 = length_0(_S10085);
    float _S10087 = _S9947.z;
    float _S10088 = s_primal_ctx_atan2_0(_S10086, _S10087);
    bool _S10089 = _S10088 < 0.00100000004749745f;
    float _S10090;
    float _S10091;
    float _S10092;
    if(_S10089)
    {
        float _S10093 = 1.0f - _S10088 * _S10088 / 3.0f;
        float _S10094 = _S10087 * _S10087;
        k_12 = _S10093 / _S10087;
        _S10090 = 0.0f;
        _S10091 = _S10094;
        _S10092 = _S10093;
    }
    else
    {
        float _S10095 = _S10086 * _S10086;
        k_12 = _S10088 / _S10086;
        _S10090 = _S10095;
        _S10091 = 0.0f;
        _S10092 = 0.0f;
    }
    float2  _S10096 = make_float2 (k_12);
    float2  _S10097 = _S10085 * make_float2 (k_12);
    float u_112 = _S10097.x;
    float v_112 = _S10097.y;
    float r2_107 = u_112 * u_112 + v_112 * v_112;
    float _S10098 = (*dist_coeffs_109)[int(2)] + r2_107 * (*dist_coeffs_109)[int(3)];
    float _S10099 = (*dist_coeffs_109)[int(1)] + r2_107 * _S10098;
    float _S10100 = (*dist_coeffs_109)[int(0)] + r2_107 * _S10099;
    float radial_20 = 1.0f + r2_107 * _S10100;
    float2  _S10101 = make_float2 (radial_20);
    float _S10102 = _S9975 * u_112;
    float _S10103 = 2.0f * u_112;
    float _S10104 = _S9978 * u_112;
    float _S10105 = 2.0f * v_112;
    float2  _S10106 = _S10097 * make_float2 (radial_20) + make_float2 (_S10102 * v_112 + (*dist_coeffs_109)[int(5)] * (r2_107 + _S10103 * u_112) + (*dist_coeffs_109)[int(6)] * r2_107, _S10104 * v_112 + (*dist_coeffs_109)[int(4)] * (r2_107 + _S10105 * v_112) + (*dist_coeffs_109)[int(7)] * r2_107);
    float2  _S10107 = _S10106 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10106.x + (*dist_coeffs_109)[int(9)] * _S10106.y, 0.0f);
    float _S10108 = fx_105 * _S10107.x + cx_100;
    float _S10109 = fy_105 * _S10107.y + cy_100;
    float2  _S10110 = float2 {_S9951.x, _S9951.y};
    float _S10111 = length_0(_S10110);
    float _S10112 = _S9951.z;
    float _S10113 = s_primal_ctx_atan2_0(_S10111, _S10112);
    bool _S10114 = _S10113 < 0.00100000004749745f;
    float _S10115;
    float _S10116;
    float _S10117;
    if(_S10114)
    {
        float _S10118 = 1.0f - _S10113 * _S10113 / 3.0f;
        float _S10119 = _S10112 * _S10112;
        k_12 = _S10118 / _S10112;
        _S10115 = 0.0f;
        _S10116 = _S10119;
        _S10117 = _S10118;
    }
    else
    {
        float _S10120 = _S10111 * _S10111;
        k_12 = _S10113 / _S10111;
        _S10115 = _S10120;
        _S10116 = 0.0f;
        _S10117 = 0.0f;
    }
    float2  _S10121 = make_float2 (k_12);
    float2  _S10122 = _S10110 * make_float2 (k_12);
    float u_113 = _S10122.x;
    float v_113 = _S10122.y;
    float r2_108 = u_113 * u_113 + v_113 * v_113;
    float _S10123 = (*dist_coeffs_109)[int(2)] + r2_108 * (*dist_coeffs_109)[int(3)];
    float _S10124 = (*dist_coeffs_109)[int(1)] + r2_108 * _S10123;
    float _S10125 = (*dist_coeffs_109)[int(0)] + r2_108 * _S10124;
    float radial_21 = 1.0f + r2_108 * _S10125;
    float2  _S10126 = make_float2 (radial_21);
    float _S10127 = _S9975 * u_113;
    float _S10128 = 2.0f * u_113;
    float _S10129 = _S9978 * u_113;
    float _S10130 = 2.0f * v_113;
    float2  _S10131 = _S10122 * make_float2 (radial_21) + make_float2 (_S10127 * v_113 + (*dist_coeffs_109)[int(5)] * (r2_108 + _S10128 * u_113) + (*dist_coeffs_109)[int(6)] * r2_108, _S10129 * v_113 + (*dist_coeffs_109)[int(4)] * (r2_108 + _S10130 * v_113) + (*dist_coeffs_109)[int(7)] * r2_108);
    float2  _S10132 = _S10131 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10131.x + (*dist_coeffs_109)[int(9)] * _S10131.y, 0.0f);
    float _S10133 = fx_105 * _S10132.x + cx_100;
    float _S10134 = fy_105 * _S10132.y + cy_100;
    float2  _S10135 = float2 {_S9955.x, _S9955.y};
    float _S10136 = length_0(_S10135);
    float _S10137 = _S9955.z;
    float _S10138 = s_primal_ctx_atan2_0(_S10136, _S10137);
    bool _S10139 = _S10138 < 0.00100000004749745f;
    float _S10140;
    float _S10141;
    float _S10142;
    if(_S10139)
    {
        float _S10143 = 1.0f - _S10138 * _S10138 / 3.0f;
        float _S10144 = _S10137 * _S10137;
        k_12 = _S10143 / _S10137;
        _S10140 = 0.0f;
        _S10141 = _S10144;
        _S10142 = _S10143;
    }
    else
    {
        float _S10145 = _S10136 * _S10136;
        k_12 = _S10138 / _S10136;
        _S10140 = _S10145;
        _S10141 = 0.0f;
        _S10142 = 0.0f;
    }
    float2  _S10146 = make_float2 (k_12);
    float2  _S10147 = _S10135 * make_float2 (k_12);
    float u_114 = _S10147.x;
    float v_114 = _S10147.y;
    float r2_109 = u_114 * u_114 + v_114 * v_114;
    float _S10148 = (*dist_coeffs_109)[int(2)] + r2_109 * (*dist_coeffs_109)[int(3)];
    float _S10149 = (*dist_coeffs_109)[int(1)] + r2_109 * _S10148;
    float _S10150 = (*dist_coeffs_109)[int(0)] + r2_109 * _S10149;
    float radial_22 = 1.0f + r2_109 * _S10150;
    float2  _S10151 = make_float2 (radial_22);
    float _S10152 = _S9975 * u_114;
    float _S10153 = 2.0f * u_114;
    float _S10154 = _S9978 * u_114;
    float _S10155 = 2.0f * v_114;
    float2  _S10156 = _S10147 * make_float2 (radial_22) + make_float2 (_S10152 * v_114 + (*dist_coeffs_109)[int(5)] * (r2_109 + _S10153 * u_114) + (*dist_coeffs_109)[int(6)] * r2_109, _S10154 * v_114 + (*dist_coeffs_109)[int(4)] * (r2_109 + _S10155 * v_114) + (*dist_coeffs_109)[int(7)] * r2_109);
    float2  _S10157 = _S10156 + make_float2 ((*dist_coeffs_109)[int(8)] * _S10156.x + (*dist_coeffs_109)[int(9)] * _S10156.y, 0.0f);
    float _S10158 = fx_105 * _S10157.x + cx_100;
    float _S10159 = fy_105 * _S10157.y + cy_100;
    float _S10160 = s_primal_ctx_max_0(_S9983, _S10008);
    float _S10161 = s_primal_ctx_min_0(_S9983, _S10008);
    float _S10162 = s_primal_ctx_max_0(_S9984, _S10009);
    float _S10163 = s_primal_ctx_min_0(_S9984, _S10009);
    float _S10164 = s_primal_ctx_max_0(_S10160, _S10033);
    float _S10165 = s_primal_ctx_min_0(_S10161, _S10033);
    float _S10166 = s_primal_ctx_max_0(_S10162, _S10034);
    float _S10167 = s_primal_ctx_min_0(_S10163, _S10034);
    float _S10168 = s_primal_ctx_max_0(_S10164, _S10058);
    float _S10169 = s_primal_ctx_min_0(_S10165, _S10058);
    float _S10170 = s_primal_ctx_max_0(_S10166, _S10059);
    float _S10171 = s_primal_ctx_min_0(_S10167, _S10059);
    float _S10172 = s_primal_ctx_max_0(_S10168, _S10083);
    float _S10173 = s_primal_ctx_min_0(_S10169, _S10083);
    float _S10174 = s_primal_ctx_max_0(_S10170, _S10084);
    float _S10175 = s_primal_ctx_min_0(_S10171, _S10084);
    float _S10176 = s_primal_ctx_max_0(_S10172, _S10108);
    float _S10177 = s_primal_ctx_min_0(_S10173, _S10108);
    float _S10178 = s_primal_ctx_max_0(_S10174, _S10109);
    float _S10179 = s_primal_ctx_min_0(_S10175, _S10109);
    float _S10180 = s_primal_ctx_max_0(_S10176, _S10133);
    float _S10181 = s_primal_ctx_min_0(_S10177, _S10133);
    float _S10182 = s_primal_ctx_max_0(_S10178, _S10134);
    float _S10183 = s_primal_ctx_min_0(_S10179, _S10134);
    float _S10184 = mean_c_82.z;
    float _S10185 = 1.0f / (1.0f + s_primal_ctx_sqrt_0(2.0f));
    float _S10186 = _S10185 * (_S10184 + length_1(mean_c_82));
    Matrix<float, 3, 3>  _S10187 = transpose_0(R_75);
    float3  _S10188 = mean_c_82 - - s_primal_ctx_mul_0(_S10187, t_74);
    float _S10189 = _S10188.x;
    float _S10190 = _S10188.y;
    float _S10191 = _S10188.z;
    float _S10192 = _S10189 * _S10189 + _S10190 * _S10190 + _S10191 * _S10191;
    float _S10193 = s_primal_ctx_sqrt_0(_S10192);
    float x_84 = _S10189 / _S10193;
    float3  _S10194 = make_float3 (x_84);
    float _S10195 = _S10193 * _S10193;
    float y_29 = _S10190 / _S10193;
    float z_26 = _S10191 / _S10193;
    float3  _S10196 = make_float3 (z_26);
    float _S10197 = - y_29;
    float3  _S10198 = make_float3 (_S10197);
    float z2_109 = z_26 * z_26;
    float fTmp0B_26 = -1.09254848957061768f * z_26;
    float fC1_26 = x_84 * x_84 - y_29 * y_29;
    float _S10199 = 2.0f * x_84;
    float fS1_26 = _S10199 * y_29;
    float pSH6_8 = 0.94617468118667603f * z2_109 - 0.31539157032966614f;
    float3  _S10200 = make_float3 (pSH6_8);
    float pSH7_8 = fTmp0B_26 * x_84;
    float3  _S10201 = make_float3 (pSH7_8);
    float pSH5_8 = fTmp0B_26 * y_29;
    float3  _S10202 = make_float3 (pSH5_8);
    float pSH8_8 = 0.54627424478530884f * fC1_26;
    float3  _S10203 = make_float3 (pSH8_8);
    float pSH4_8 = 0.54627424478530884f * fS1_26;
    float3  _S10204 = make_float3 (pSH4_8);
    float fTmp0C_26 = -2.28522896766662598f * z2_109 + 0.4570457935333252f;
    float fTmp1B_26 = 1.44530570507049561f * z_26;
    float _S10205 = 1.86588168144226074f * z2_109 - 1.11952900886535645f;
    float pSH12_8 = z_26 * _S10205;
    float3  _S10206 = make_float3 (pSH12_8);
    float pSH13_8 = fTmp0C_26 * x_84;
    float3  _S10207 = make_float3 (pSH13_8);
    float pSH11_8 = fTmp0C_26 * y_29;
    float3  _S10208 = make_float3 (pSH11_8);
    float pSH14_8 = fTmp1B_26 * fC1_26;
    float3  _S10209 = make_float3 (pSH14_8);
    float pSH10_8 = fTmp1B_26 * fS1_26;
    float3  _S10210 = make_float3 (pSH10_8);
    float pSH15_8 = -0.59004360437393188f * (x_84 * fC1_26 - y_29 * fS1_26);
    float3  _S10211 = make_float3 (pSH15_8);
    float pSH9_8 = -0.59004360437393188f * (x_84 * fS1_26 + y_29 * fC1_26);
    float3  _S10212 = make_float3 (pSH9_8);
    float3  _S10213 = make_float3 (0.0f);
    float3  _S10214 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10215;
    (&_S10215)->primal_0 = make_float3 (0.282094806432724f) * (*sh_coeffs_26)[int(0)] + make_float3 (0.48860251903533936f) * (make_float3 (_S10197) * (*sh_coeffs_26)[int(1)] + make_float3 (z_26) * (*sh_coeffs_26)[int(2)] - make_float3 (x_84) * (*sh_coeffs_26)[int(3)]) + (make_float3 (pSH4_8) * (*sh_coeffs_26)[int(4)] + make_float3 (pSH5_8) * (*sh_coeffs_26)[int(5)] + make_float3 (pSH6_8) * (*sh_coeffs_26)[int(6)] + make_float3 (pSH7_8) * (*sh_coeffs_26)[int(7)] + make_float3 (pSH8_8) * (*sh_coeffs_26)[int(8)]) + (make_float3 (pSH9_8) * (*sh_coeffs_26)[int(9)] + make_float3 (pSH10_8) * (*sh_coeffs_26)[int(10)] + make_float3 (pSH11_8) * (*sh_coeffs_26)[int(11)] + make_float3 (pSH12_8) * (*sh_coeffs_26)[int(12)] + make_float3 (pSH13_8) * (*sh_coeffs_26)[int(13)] + make_float3 (pSH14_8) * (*sh_coeffs_26)[int(14)] + make_float3 (pSH15_8) * (*sh_coeffs_26)[int(15)]) + make_float3 (0.5f);
    (&_S10215)->differential_0 = _S10214;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10216;
    (&_S10216)->primal_0 = _S10213;
    (&_S10216)->differential_0 = _S10214;
    s_bwd_prop_max_0(&_S10215, &_S10216, v_rgb_21);
    float3  _S10217 = _S10211 * _S10215.differential_0;
    float3  _S10218 = (*sh_coeffs_26)[int(15)] * _S10215.differential_0;
    float3  _S10219 = _S10209 * _S10215.differential_0;
    float3  _S10220 = (*sh_coeffs_26)[int(14)] * _S10215.differential_0;
    float3  _S10221 = _S10207 * _S10215.differential_0;
    float3  _S10222 = (*sh_coeffs_26)[int(13)] * _S10215.differential_0;
    float3  _S10223 = _S10206 * _S10215.differential_0;
    float3  _S10224 = (*sh_coeffs_26)[int(12)] * _S10215.differential_0;
    float3  _S10225 = _S10208 * _S10215.differential_0;
    float3  _S10226 = (*sh_coeffs_26)[int(11)] * _S10215.differential_0;
    float3  _S10227 = _S10210 * _S10215.differential_0;
    float3  _S10228 = (*sh_coeffs_26)[int(10)] * _S10215.differential_0;
    float3  _S10229 = _S10212 * _S10215.differential_0;
    float3  _S10230 = (*sh_coeffs_26)[int(9)] * _S10215.differential_0;
    float s_diff_fS2_T_8 = -0.59004360437393188f * (_S10230.x + _S10230.y + _S10230.z);
    float s_diff_fC2_T_8 = -0.59004360437393188f * (_S10218.x + _S10218.y + _S10218.z);
    float _S10231 = _S10228.x + _S10228.y + _S10228.z;
    float _S10232 = _S10220.x + _S10220.y + _S10220.z;
    float _S10233 = _S10226.x + _S10226.y + _S10226.z;
    float _S10234 = _S10222.x + _S10222.y + _S10222.z;
    float _S10235 = _S10224.x + _S10224.y + _S10224.z;
    float _S10236 = - s_diff_fC2_T_8;
    float3  _S10237 = _S10203 * _S10215.differential_0;
    float3  _S10238 = (*sh_coeffs_26)[int(8)] * _S10215.differential_0;
    float3  _S10239 = _S10201 * _S10215.differential_0;
    float3  _S10240 = (*sh_coeffs_26)[int(7)] * _S10215.differential_0;
    float3  _S10241 = _S10200 * _S10215.differential_0;
    float3  _S10242 = (*sh_coeffs_26)[int(6)] * _S10215.differential_0;
    float3  _S10243 = _S10202 * _S10215.differential_0;
    float3  _S10244 = (*sh_coeffs_26)[int(5)] * _S10215.differential_0;
    float3  _S10245 = _S10204 * _S10215.differential_0;
    float3  _S10246 = (*sh_coeffs_26)[int(4)] * _S10215.differential_0;
    float _S10247 = _S10244.x + _S10244.y + _S10244.z;
    float _S10248 = _S10240.x + _S10240.y + _S10240.z;
    float _S10249 = fTmp1B_26 * _S10231 + x_84 * s_diff_fS2_T_8 + y_29 * _S10236 + 0.54627424478530884f * (_S10246.x + _S10246.y + _S10246.z);
    float _S10250 = fTmp1B_26 * _S10232 + y_29 * s_diff_fS2_T_8 + x_84 * s_diff_fC2_T_8 + 0.54627424478530884f * (_S10238.x + _S10238.y + _S10238.z);
    float _S10251 = y_29 * - _S10250;
    float _S10252 = x_84 * _S10250;
    float _S10253 = z_26 * (1.86588168144226074f * (z_26 * _S10235) + -2.28522896766662598f * (y_29 * _S10233 + x_84 * _S10234) + 0.94617468118667603f * (_S10242.x + _S10242.y + _S10242.z));
    float3  _S10254 = make_float3 (0.48860251903533936f) * _S10215.differential_0;
    float3  _S10255 = - _S10254;
    float3  _S10256 = _S10194 * _S10255;
    float3  _S10257 = (*sh_coeffs_26)[int(3)] * _S10255;
    float3  _S10258 = _S10196 * _S10254;
    float3  _S10259 = (*sh_coeffs_26)[int(2)] * _S10254;
    float3  _S10260 = _S10198 * _S10254;
    float3  _S10261 = (*sh_coeffs_26)[int(1)] * _S10254;
    float _S10262 = (_S10205 * _S10235 + 1.44530570507049561f * (fS1_26 * _S10231 + fC1_26 * _S10232) + -1.09254848957061768f * (y_29 * _S10247 + x_84 * _S10248) + _S10253 + _S10253 + _S10259.x + _S10259.y + _S10259.z) / _S10195;
    float _S10263 = _S10193 * _S10262;
    float _S10264 = (fTmp0C_26 * _S10233 + fC1_26 * s_diff_fS2_T_8 + fS1_26 * _S10236 + fTmp0B_26 * _S10247 + _S10199 * _S10249 + _S10251 + _S10251 + - (_S10261.x + _S10261.y + _S10261.z)) / _S10195;
    float _S10265 = _S10193 * _S10264;
    float _S10266 = (fTmp0C_26 * _S10234 + fS1_26 * s_diff_fS2_T_8 + fC1_26 * s_diff_fC2_T_8 + fTmp0B_26 * _S10248 + 2.0f * (y_29 * _S10249) + _S10252 + _S10252 + _S10257.x + _S10257.y + _S10257.z) / _S10195;
    float _S10267 = _S10193 * _S10266;
    float _S10268 = _S10191 * - _S10262 + _S10190 * - _S10264 + _S10189 * - _S10266;
    DiffPair_float_0 _S10269;
    (&_S10269)->primal_0 = _S10192;
    (&_S10269)->differential_0 = 0.0f;
    s_bwd_prop_sqrt_0(&_S10269, _S10268);
    float _S10270 = _S10191 * _S10269.differential_0;
    float _S10271 = _S10190 * _S10269.differential_0;
    float _S10272 = _S10189 * _S10269.differential_0;
    float3  _S10273 = make_float3 (0.282094806432724f) * _S10215.differential_0;
    float3  _S10274 = make_float3 (_S10267 + _S10272 + _S10272, _S10265 + _S10271 + _S10271, _S10263 + _S10270 + _S10270);
    float3  _S10275 = - - _S10274;
    Matrix<float, 3, 3>  _S10276 = makeMatrix<float, 3, 3> (0.0f);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10277;
    (&_S10277)->primal_0 = _S10187;
    (&_S10277)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10278;
    (&_S10278)->primal_0 = t_74;
    (&_S10278)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10277, &_S10278, _S10275);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10279 = _S10278;
    Matrix<float, 3, 3>  _S10280 = transpose_0(_S10277.differential_0);
    DiffPair_float_0 _S10281;
    (&_S10281)->primal_0 = _S10184;
    (&_S10281)->differential_0 = 0.0f;
    DiffPair_float_0 _S10282;
    (&_S10282)->primal_0 = _S10186;
    (&_S10282)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10281, &_S10282, 0.0f);
    float _S10283 = _S10185 * _S10282.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10284;
    (&_S10284)->primal_0 = mean_c_82;
    (&_S10284)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10284, _S10283);
    float _S10285 = _S10281.differential_0 + _S10283;
    DiffPair_float_0 _S10286;
    (&_S10286)->primal_0 = _S10183;
    (&_S10286)->differential_0 = 0.0f;
    DiffPair_float_0 _S10287;
    (&_S10287)->primal_0 = _S10159;
    (&_S10287)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10286, &_S10287, 0.0f);
    DiffPair_float_0 _S10288;
    (&_S10288)->primal_0 = _S10182;
    (&_S10288)->differential_0 = 0.0f;
    DiffPair_float_0 _S10289;
    (&_S10289)->primal_0 = _S10159;
    (&_S10289)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10288, &_S10289, 0.0f);
    DiffPair_float_0 _S10290;
    (&_S10290)->primal_0 = _S10181;
    (&_S10290)->differential_0 = 0.0f;
    DiffPair_float_0 _S10291;
    (&_S10291)->primal_0 = _S10158;
    (&_S10291)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10290, &_S10291, 0.0f);
    DiffPair_float_0 _S10292;
    (&_S10292)->primal_0 = _S10180;
    (&_S10292)->differential_0 = 0.0f;
    DiffPair_float_0 _S10293;
    (&_S10293)->primal_0 = _S10158;
    (&_S10293)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10292, &_S10293, 0.0f);
    DiffPair_float_0 _S10294;
    (&_S10294)->primal_0 = _S10179;
    (&_S10294)->differential_0 = 0.0f;
    DiffPair_float_0 _S10295;
    (&_S10295)->primal_0 = _S10134;
    (&_S10295)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10294, &_S10295, _S10286.differential_0);
    DiffPair_float_0 _S10296;
    (&_S10296)->primal_0 = _S10178;
    (&_S10296)->differential_0 = 0.0f;
    DiffPair_float_0 _S10297;
    (&_S10297)->primal_0 = _S10134;
    (&_S10297)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10296, &_S10297, _S10288.differential_0);
    DiffPair_float_0 _S10298;
    (&_S10298)->primal_0 = _S10177;
    (&_S10298)->differential_0 = 0.0f;
    DiffPair_float_0 _S10299;
    (&_S10299)->primal_0 = _S10133;
    (&_S10299)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10298, &_S10299, _S10290.differential_0);
    DiffPair_float_0 _S10300;
    (&_S10300)->primal_0 = _S10176;
    (&_S10300)->differential_0 = 0.0f;
    DiffPair_float_0 _S10301;
    (&_S10301)->primal_0 = _S10133;
    (&_S10301)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10300, &_S10301, _S10292.differential_0);
    DiffPair_float_0 _S10302;
    (&_S10302)->primal_0 = _S10175;
    (&_S10302)->differential_0 = 0.0f;
    DiffPair_float_0 _S10303;
    (&_S10303)->primal_0 = _S10109;
    (&_S10303)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10302, &_S10303, _S10294.differential_0);
    DiffPair_float_0 _S10304;
    (&_S10304)->primal_0 = _S10174;
    (&_S10304)->differential_0 = 0.0f;
    DiffPair_float_0 _S10305;
    (&_S10305)->primal_0 = _S10109;
    (&_S10305)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10304, &_S10305, _S10296.differential_0);
    DiffPair_float_0 _S10306;
    (&_S10306)->primal_0 = _S10173;
    (&_S10306)->differential_0 = 0.0f;
    DiffPair_float_0 _S10307;
    (&_S10307)->primal_0 = _S10108;
    (&_S10307)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10306, &_S10307, _S10298.differential_0);
    DiffPair_float_0 _S10308;
    (&_S10308)->primal_0 = _S10172;
    (&_S10308)->differential_0 = 0.0f;
    DiffPair_float_0 _S10309;
    (&_S10309)->primal_0 = _S10108;
    (&_S10309)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10308, &_S10309, _S10300.differential_0);
    DiffPair_float_0 _S10310;
    (&_S10310)->primal_0 = _S10171;
    (&_S10310)->differential_0 = 0.0f;
    DiffPair_float_0 _S10311;
    (&_S10311)->primal_0 = _S10084;
    (&_S10311)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10310, &_S10311, _S10302.differential_0);
    DiffPair_float_0 _S10312;
    (&_S10312)->primal_0 = _S10170;
    (&_S10312)->differential_0 = 0.0f;
    DiffPair_float_0 _S10313;
    (&_S10313)->primal_0 = _S10084;
    (&_S10313)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10312, &_S10313, _S10304.differential_0);
    DiffPair_float_0 _S10314;
    (&_S10314)->primal_0 = _S10169;
    (&_S10314)->differential_0 = 0.0f;
    DiffPair_float_0 _S10315;
    (&_S10315)->primal_0 = _S10083;
    (&_S10315)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10314, &_S10315, _S10306.differential_0);
    DiffPair_float_0 _S10316;
    (&_S10316)->primal_0 = _S10168;
    (&_S10316)->differential_0 = 0.0f;
    DiffPair_float_0 _S10317;
    (&_S10317)->primal_0 = _S10083;
    (&_S10317)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10316, &_S10317, _S10308.differential_0);
    DiffPair_float_0 _S10318;
    (&_S10318)->primal_0 = _S10167;
    (&_S10318)->differential_0 = 0.0f;
    DiffPair_float_0 _S10319;
    (&_S10319)->primal_0 = _S10059;
    (&_S10319)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10318, &_S10319, _S10310.differential_0);
    DiffPair_float_0 _S10320;
    (&_S10320)->primal_0 = _S10166;
    (&_S10320)->differential_0 = 0.0f;
    DiffPair_float_0 _S10321;
    (&_S10321)->primal_0 = _S10059;
    (&_S10321)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10320, &_S10321, _S10312.differential_0);
    DiffPair_float_0 _S10322;
    (&_S10322)->primal_0 = _S10165;
    (&_S10322)->differential_0 = 0.0f;
    DiffPair_float_0 _S10323;
    (&_S10323)->primal_0 = _S10058;
    (&_S10323)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10322, &_S10323, _S10314.differential_0);
    DiffPair_float_0 _S10324;
    (&_S10324)->primal_0 = _S10164;
    (&_S10324)->differential_0 = 0.0f;
    DiffPair_float_0 _S10325;
    (&_S10325)->primal_0 = _S10058;
    (&_S10325)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10324, &_S10325, _S10316.differential_0);
    DiffPair_float_0 _S10326;
    (&_S10326)->primal_0 = _S10163;
    (&_S10326)->differential_0 = 0.0f;
    DiffPair_float_0 _S10327;
    (&_S10327)->primal_0 = _S10034;
    (&_S10327)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10326, &_S10327, _S10318.differential_0);
    DiffPair_float_0 _S10328;
    (&_S10328)->primal_0 = _S10162;
    (&_S10328)->differential_0 = 0.0f;
    DiffPair_float_0 _S10329;
    (&_S10329)->primal_0 = _S10034;
    (&_S10329)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10328, &_S10329, _S10320.differential_0);
    DiffPair_float_0 _S10330;
    (&_S10330)->primal_0 = _S10161;
    (&_S10330)->differential_0 = 0.0f;
    DiffPair_float_0 _S10331;
    (&_S10331)->primal_0 = _S10033;
    (&_S10331)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10330, &_S10331, _S10322.differential_0);
    DiffPair_float_0 _S10332;
    (&_S10332)->primal_0 = _S10160;
    (&_S10332)->differential_0 = 0.0f;
    DiffPair_float_0 _S10333;
    (&_S10333)->primal_0 = _S10033;
    (&_S10333)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10332, &_S10333, _S10324.differential_0);
    DiffPair_float_0 _S10334;
    (&_S10334)->primal_0 = _S9984;
    (&_S10334)->differential_0 = 0.0f;
    DiffPair_float_0 _S10335;
    (&_S10335)->primal_0 = _S10009;
    (&_S10335)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10334, &_S10335, _S10326.differential_0);
    DiffPair_float_0 _S10336;
    (&_S10336)->primal_0 = _S9984;
    (&_S10336)->differential_0 = 0.0f;
    DiffPair_float_0 _S10337;
    (&_S10337)->primal_0 = _S10009;
    (&_S10337)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10336, &_S10337, _S10328.differential_0);
    DiffPair_float_0 _S10338;
    (&_S10338)->primal_0 = _S9983;
    (&_S10338)->differential_0 = 0.0f;
    DiffPair_float_0 _S10339;
    (&_S10339)->primal_0 = _S10008;
    (&_S10339)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10338, &_S10339, _S10330.differential_0);
    DiffPair_float_0 _S10340;
    (&_S10340)->primal_0 = _S9983;
    (&_S10340)->differential_0 = 0.0f;
    DiffPair_float_0 _S10341;
    (&_S10341)->primal_0 = _S10008;
    (&_S10341)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10340, &_S10341, _S10332.differential_0);
    float _S10342 = fx_105 * (_S10291.differential_0 + _S10293.differential_0);
    float2  _S10343 = make_float2 (_S10342, fy_105 * (_S10287.differential_0 + _S10289.differential_0)) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10342, (*dist_coeffs_109)[int(9)] * _S10342);
    float2  _S10344 = _S10147 * _S10343;
    float2  _S10345 = _S10151 * _S10343;
    float _S10346 = (*dist_coeffs_109)[int(4)] * _S10343.y;
    float _S10347 = (*dist_coeffs_109)[int(5)] * _S10343.x;
    float _S10348 = _S10344.x + _S10344.y;
    float _S10349 = r2_109 * _S10348;
    float _S10350 = r2_109 * _S10349;
    float _S10351 = (*dist_coeffs_109)[int(7)] * _S10343.y + _S10346 + (*dist_coeffs_109)[int(6)] * _S10343.x + _S10347 + _S10150 * _S10348 + _S10149 * _S10349 + _S10148 * _S10350 + (*dist_coeffs_109)[int(3)] * (r2_109 * _S10350);
    float _S10352 = v_114 * _S10351;
    float _S10353 = u_114 * _S10351;
    float _S10354 = _S10155 * _S10346 + 2.0f * (v_114 * _S10346) + _S10154 * _S10343.y + _S10152 * _S10343.x + _S10352 + _S10352;
    float _S10355 = _S9978 * (v_114 * _S10343.y) + _S10153 * _S10347 + 2.0f * (u_114 * _S10347) + _S9975 * (v_114 * _S10343.x) + _S10353 + _S10353;
    FixedArray<float3 , 16>  _S10356;
    _S10356[int(0)] = _S10214;
    _S10356[int(1)] = _S10214;
    _S10356[int(2)] = _S10214;
    _S10356[int(3)] = _S10214;
    _S10356[int(4)] = _S10214;
    _S10356[int(5)] = _S10214;
    _S10356[int(6)] = _S10214;
    _S10356[int(7)] = _S10214;
    _S10356[int(8)] = _S10214;
    _S10356[int(9)] = _S10214;
    _S10356[int(10)] = _S10214;
    _S10356[int(11)] = _S10214;
    _S10356[int(12)] = _S10214;
    _S10356[int(13)] = _S10214;
    _S10356[int(14)] = _S10214;
    _S10356[int(15)] = _S10214;
    _S10356[int(7)] = _S10239;
    _S10356[int(0)] = _S10273;
    _S10356[int(1)] = _S10260;
    _S10356[int(2)] = _S10258;
    _S10356[int(3)] = _S10256;
    _S10356[int(4)] = _S10245;
    _S10356[int(5)] = _S10243;
    _S10356[int(6)] = _S10241;
    _S10356[int(15)] = _S10217;
    _S10356[int(8)] = _S10237;
    _S10356[int(9)] = _S10229;
    _S10356[int(10)] = _S10227;
    _S10356[int(11)] = _S10225;
    _S10356[int(12)] = _S10223;
    _S10356[int(13)] = _S10221;
    _S10356[int(14)] = _S10219;
    float3  _S10357 = _S10356[int(0)];
    float3  _S10358 = _S10356[int(1)];
    float3  _S10359 = _S10356[int(2)];
    float3  _S10360 = _S10356[int(3)];
    float3  _S10361 = _S10356[int(4)];
    float3  _S10362 = _S10356[int(5)];
    float3  _S10363 = _S10356[int(6)];
    float3  _S10364 = _S10356[int(7)];
    float3  _S10365 = _S10356[int(8)];
    float3  _S10366 = _S10356[int(9)];
    float3  _S10367 = _S10356[int(10)];
    float3  _S10368 = _S10356[int(11)];
    float3  _S10369 = _S10356[int(12)];
    float3  _S10370 = _S10356[int(13)];
    float3  _S10371 = _S10356[int(14)];
    float3  _S10372 = _S10356[int(15)];
    float3  _S10373 = _S10274 + _S10284.differential_0 + make_float3 (0.0f, 0.0f, _S10285);
    float _S10374 = _S10339.differential_0 + _S10341.differential_0;
    float _S10375 = _S10334.differential_0 + _S10336.differential_0;
    float _S10376 = _S10335.differential_0 + _S10337.differential_0;
    float _S10377 = _S10331.differential_0 + _S10333.differential_0;
    float _S10378 = _S10338.differential_0 + _S10340.differential_0;
    float _S10379 = _S10295.differential_0 + _S10297.differential_0;
    float _S10380 = _S10299.differential_0 + _S10301.differential_0;
    float _S10381 = _S10303.differential_0 + _S10305.differential_0;
    float _S10382 = _S10307.differential_0 + _S10309.differential_0;
    float _S10383 = _S10311.differential_0 + _S10313.differential_0;
    float _S10384 = _S10315.differential_0 + _S10317.differential_0;
    float _S10385 = _S10319.differential_0 + _S10321.differential_0;
    float _S10386 = _S10323.differential_0 + _S10325.differential_0;
    float _S10387 = _S10327.differential_0 + _S10329.differential_0;
    float2  _S10388 = _S10345 + make_float2 (_S10355, _S10354);
    float2  _S10389 = _S10135 * _S10388;
    float2  _S10390 = _S10146 * _S10388;
    float _S10391 = _S10389.x + _S10389.y;
    if(_S10139)
    {
        float _S10392 = _S10391 / _S10141;
        float _S10393 = _S10142 * - _S10392;
        float _S10394 = _S10138 * (0.3333333432674408f * - (_S10137 * _S10392));
        k_12 = _S10394 + _S10394;
        _S10140 = _S10393;
        _S10141 = 0.0f;
    }
    else
    {
        float _S10395 = _S10391 / _S10140;
        float _S10396 = _S10138 * - _S10395;
        k_12 = _S10136 * _S10395;
        _S10140 = 0.0f;
        _S10141 = _S10396;
    }
    DiffPair_float_0 _S10397;
    (&_S10397)->primal_0 = _S10136;
    (&_S10397)->differential_0 = 0.0f;
    DiffPair_float_0 _S10398;
    (&_S10398)->primal_0 = _S10137;
    (&_S10398)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10397, &_S10398, k_12);
    float _S10399 = _S10398.differential_0 + _S10140;
    float _S10400 = _S10397.differential_0 + _S10141;
    float2  _S10401 = make_float2 (0.0f);
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10402;
    (&_S10402)->primal_0 = _S10135;
    (&_S10402)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10402, _S10400);
    float2  _S10403 = _S10402.differential_0 + _S10390;
    float _S10404 = fx_105 * _S10380;
    float2  _S10405 = make_float2 (_S10404, fy_105 * _S10379) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10404, (*dist_coeffs_109)[int(9)] * _S10404);
    float2  _S10406 = _S10122 * _S10405;
    float _S10407 = (*dist_coeffs_109)[int(4)] * _S10405.y;
    float _S10408 = (*dist_coeffs_109)[int(5)] * _S10405.x;
    float _S10409 = _S10406.x + _S10406.y;
    float _S10410 = r2_108 * _S10409;
    float _S10411 = r2_108 * _S10410;
    float _S10412 = (*dist_coeffs_109)[int(7)] * _S10405.y + _S10407 + (*dist_coeffs_109)[int(6)] * _S10405.x + _S10408 + _S10125 * _S10409 + _S10124 * _S10410 + _S10123 * _S10411 + (*dist_coeffs_109)[int(3)] * (r2_108 * _S10411);
    float _S10413 = v_113 * _S10412;
    float _S10414 = u_113 * _S10412;
    float3  _S10415 = make_float3 (_S10403.x, _S10403.y, _S10399);
    float2  _S10416 = _S10126 * _S10405 + make_float2 (_S9978 * (v_113 * _S10405.y) + _S10128 * _S10408 + 2.0f * (u_113 * _S10408) + _S9975 * (v_113 * _S10405.x) + _S10414 + _S10414, _S10130 * _S10407 + 2.0f * (v_113 * _S10407) + _S10129 * _S10405.y + _S10127 * _S10405.x + _S10413 + _S10413);
    float2  _S10417 = _S10110 * _S10416;
    float2  _S10418 = _S10121 * _S10416;
    float _S10419 = _S10417.x + _S10417.y;
    if(_S10114)
    {
        float _S10420 = _S10419 / _S10116;
        float _S10421 = _S10117 * - _S10420;
        float _S10422 = _S10113 * (0.3333333432674408f * - (_S10112 * _S10420));
        k_12 = _S10422 + _S10422;
        _S10115 = _S10421;
        _S10116 = 0.0f;
    }
    else
    {
        float _S10423 = _S10419 / _S10115;
        float _S10424 = _S10113 * - _S10423;
        k_12 = _S10111 * _S10423;
        _S10115 = 0.0f;
        _S10116 = _S10424;
    }
    DiffPair_float_0 _S10425;
    (&_S10425)->primal_0 = _S10111;
    (&_S10425)->differential_0 = 0.0f;
    DiffPair_float_0 _S10426;
    (&_S10426)->primal_0 = _S10112;
    (&_S10426)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10425, &_S10426, k_12);
    float _S10427 = _S10426.differential_0 + _S10115;
    float _S10428 = _S10425.differential_0 + _S10116;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10429;
    (&_S10429)->primal_0 = _S10110;
    (&_S10429)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10429, _S10428);
    float2  _S10430 = _S10429.differential_0 + _S10418;
    float _S10431 = fx_105 * _S10382;
    float2  _S10432 = make_float2 (_S10431, fy_105 * _S10381) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10431, (*dist_coeffs_109)[int(9)] * _S10431);
    float2  _S10433 = _S10097 * _S10432;
    float _S10434 = (*dist_coeffs_109)[int(4)] * _S10432.y;
    float _S10435 = (*dist_coeffs_109)[int(5)] * _S10432.x;
    float _S10436 = _S10433.x + _S10433.y;
    float _S10437 = r2_107 * _S10436;
    float _S10438 = r2_107 * _S10437;
    float _S10439 = (*dist_coeffs_109)[int(7)] * _S10432.y + _S10434 + (*dist_coeffs_109)[int(6)] * _S10432.x + _S10435 + _S10100 * _S10436 + _S10099 * _S10437 + _S10098 * _S10438 + (*dist_coeffs_109)[int(3)] * (r2_107 * _S10438);
    float _S10440 = v_112 * _S10439;
    float _S10441 = u_112 * _S10439;
    float3  _S10442 = make_float3 (_S10430.x, _S10430.y, _S10427);
    float2  _S10443 = _S10101 * _S10432 + make_float2 (_S9978 * (v_112 * _S10432.y) + _S10103 * _S10435 + 2.0f * (u_112 * _S10435) + _S9975 * (v_112 * _S10432.x) + _S10441 + _S10441, _S10105 * _S10434 + 2.0f * (v_112 * _S10434) + _S10104 * _S10432.y + _S10102 * _S10432.x + _S10440 + _S10440);
    float2  _S10444 = _S10085 * _S10443;
    float2  _S10445 = _S10096 * _S10443;
    float _S10446 = _S10444.x + _S10444.y;
    if(_S10089)
    {
        float _S10447 = _S10446 / _S10091;
        float _S10448 = _S10092 * - _S10447;
        float _S10449 = _S10088 * (0.3333333432674408f * - (_S10087 * _S10447));
        k_12 = _S10449 + _S10449;
        _S10090 = _S10448;
        _S10091 = 0.0f;
    }
    else
    {
        float _S10450 = _S10446 / _S10090;
        float _S10451 = _S10088 * - _S10450;
        k_12 = _S10086 * _S10450;
        _S10090 = 0.0f;
        _S10091 = _S10451;
    }
    DiffPair_float_0 _S10452;
    (&_S10452)->primal_0 = _S10086;
    (&_S10452)->differential_0 = 0.0f;
    DiffPair_float_0 _S10453;
    (&_S10453)->primal_0 = _S10087;
    (&_S10453)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10452, &_S10453, k_12);
    float _S10454 = _S10453.differential_0 + _S10090;
    float _S10455 = _S10452.differential_0 + _S10091;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10456;
    (&_S10456)->primal_0 = _S10085;
    (&_S10456)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10456, _S10455);
    float2  _S10457 = _S10456.differential_0 + _S10445;
    float _S10458 = fx_105 * _S10384;
    float2  _S10459 = make_float2 (_S10458, fy_105 * _S10383) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10458, (*dist_coeffs_109)[int(9)] * _S10458);
    float2  _S10460 = _S10072 * _S10459;
    float _S10461 = (*dist_coeffs_109)[int(4)] * _S10459.y;
    float _S10462 = (*dist_coeffs_109)[int(5)] * _S10459.x;
    float _S10463 = _S10460.x + _S10460.y;
    float _S10464 = r2_106 * _S10463;
    float _S10465 = r2_106 * _S10464;
    float _S10466 = (*dist_coeffs_109)[int(7)] * _S10459.y + _S10461 + (*dist_coeffs_109)[int(6)] * _S10459.x + _S10462 + _S10075 * _S10463 + _S10074 * _S10464 + _S10073 * _S10465 + (*dist_coeffs_109)[int(3)] * (r2_106 * _S10465);
    float _S10467 = v_111 * _S10466;
    float _S10468 = u_111 * _S10466;
    float3  _S10469 = make_float3 (_S10457.x, _S10457.y, _S10454);
    float2  _S10470 = _S10076 * _S10459 + make_float2 (_S9978 * (v_111 * _S10459.y) + _S10078 * _S10462 + 2.0f * (u_111 * _S10462) + _S9975 * (v_111 * _S10459.x) + _S10468 + _S10468, _S10080 * _S10461 + 2.0f * (v_111 * _S10461) + _S10079 * _S10459.y + _S10077 * _S10459.x + _S10467 + _S10467);
    float2  _S10471 = _S10060 * _S10470;
    float2  _S10472 = _S10071 * _S10470;
    float _S10473 = _S10471.x + _S10471.y;
    if(_S10064)
    {
        float _S10474 = _S10473 / _S10066;
        float _S10475 = _S10067 * - _S10474;
        float _S10476 = _S10063 * (0.3333333432674408f * - (_S10062 * _S10474));
        k_12 = _S10476 + _S10476;
        _S10065 = _S10475;
        _S10066 = 0.0f;
    }
    else
    {
        float _S10477 = _S10473 / _S10065;
        float _S10478 = _S10063 * - _S10477;
        k_12 = _S10061 * _S10477;
        _S10065 = 0.0f;
        _S10066 = _S10478;
    }
    DiffPair_float_0 _S10479;
    (&_S10479)->primal_0 = _S10061;
    (&_S10479)->differential_0 = 0.0f;
    DiffPair_float_0 _S10480;
    (&_S10480)->primal_0 = _S10062;
    (&_S10480)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10479, &_S10480, k_12);
    float _S10481 = _S10480.differential_0 + _S10065;
    float _S10482 = _S10479.differential_0 + _S10066;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10483;
    (&_S10483)->primal_0 = _S10060;
    (&_S10483)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10483, _S10482);
    float2  _S10484 = _S10483.differential_0 + _S10472;
    float _S10485 = fx_105 * _S10386;
    float2  _S10486 = make_float2 (_S10485, fy_105 * _S10385) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10485, (*dist_coeffs_109)[int(9)] * _S10485);
    float2  _S10487 = _S10047 * _S10486;
    float _S10488 = (*dist_coeffs_109)[int(4)] * _S10486.y;
    float _S10489 = (*dist_coeffs_109)[int(5)] * _S10486.x;
    float _S10490 = _S10487.x + _S10487.y;
    float _S10491 = r2_105 * _S10490;
    float _S10492 = r2_105 * _S10491;
    float _S10493 = (*dist_coeffs_109)[int(7)] * _S10486.y + _S10488 + (*dist_coeffs_109)[int(6)] * _S10486.x + _S10489 + _S10050 * _S10490 + _S10049 * _S10491 + _S10048 * _S10492 + (*dist_coeffs_109)[int(3)] * (r2_105 * _S10492);
    float _S10494 = v_110 * _S10493;
    float _S10495 = u_110 * _S10493;
    float3  _S10496 = make_float3 (_S10484.x, _S10484.y, _S10481);
    float2  _S10497 = _S10051 * _S10486 + make_float2 (_S9978 * (v_110 * _S10486.y) + _S10053 * _S10489 + 2.0f * (u_110 * _S10489) + _S9975 * (v_110 * _S10486.x) + _S10495 + _S10495, _S10055 * _S10488 + 2.0f * (v_110 * _S10488) + _S10054 * _S10486.y + _S10052 * _S10486.x + _S10494 + _S10494);
    float2  _S10498 = _S10035 * _S10497;
    float2  _S10499 = _S10046 * _S10497;
    float _S10500 = _S10498.x + _S10498.y;
    if(_S10039)
    {
        float _S10501 = _S10500 / _S10041;
        float _S10502 = _S10042 * - _S10501;
        float _S10503 = _S10038 * (0.3333333432674408f * - (_S10037 * _S10501));
        k_12 = _S10503 + _S10503;
        _S10040 = _S10502;
        _S10041 = 0.0f;
    }
    else
    {
        float _S10504 = _S10500 / _S10040;
        float _S10505 = _S10038 * - _S10504;
        k_12 = _S10036 * _S10504;
        _S10040 = 0.0f;
        _S10041 = _S10505;
    }
    DiffPair_float_0 _S10506;
    (&_S10506)->primal_0 = _S10036;
    (&_S10506)->differential_0 = 0.0f;
    DiffPair_float_0 _S10507;
    (&_S10507)->primal_0 = _S10037;
    (&_S10507)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10506, &_S10507, k_12);
    float _S10508 = _S10507.differential_0 + _S10040;
    float _S10509 = _S10506.differential_0 + _S10041;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10510;
    (&_S10510)->primal_0 = _S10035;
    (&_S10510)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10510, _S10509);
    float2  _S10511 = _S10510.differential_0 + _S10499;
    float _S10512 = fx_105 * _S10377;
    float2  _S10513 = make_float2 (_S10512, fy_105 * _S10387) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10512, (*dist_coeffs_109)[int(9)] * _S10512);
    float2  _S10514 = _S10022 * _S10513;
    float _S10515 = (*dist_coeffs_109)[int(4)] * _S10513.y;
    float _S10516 = (*dist_coeffs_109)[int(5)] * _S10513.x;
    float _S10517 = _S10514.x + _S10514.y;
    float _S10518 = r2_104 * _S10517;
    float _S10519 = r2_104 * _S10518;
    float _S10520 = (*dist_coeffs_109)[int(7)] * _S10513.y + _S10515 + (*dist_coeffs_109)[int(6)] * _S10513.x + _S10516 + _S10025 * _S10517 + _S10024 * _S10518 + _S10023 * _S10519 + (*dist_coeffs_109)[int(3)] * (r2_104 * _S10519);
    float _S10521 = v_109 * _S10520;
    float _S10522 = u_109 * _S10520;
    float3  _S10523 = make_float3 (_S10511.x, _S10511.y, _S10508);
    float2  _S10524 = _S10026 * _S10513 + make_float2 (_S9978 * (v_109 * _S10513.y) + _S10028 * _S10516 + 2.0f * (u_109 * _S10516) + _S9975 * (v_109 * _S10513.x) + _S10522 + _S10522, _S10030 * _S10515 + 2.0f * (v_109 * _S10515) + _S10029 * _S10513.y + _S10027 * _S10513.x + _S10521 + _S10521);
    float2  _S10525 = _S10010 * _S10524;
    float2  _S10526 = _S10021 * _S10524;
    float _S10527 = _S10525.x + _S10525.y;
    if(_S10014)
    {
        float _S10528 = _S10527 / _S10016;
        float _S10529 = _S10017 * - _S10528;
        float _S10530 = _S10013 * (0.3333333432674408f * - (_S10012 * _S10528));
        k_12 = _S10530 + _S10530;
        _S10015 = _S10529;
        _S10016 = 0.0f;
    }
    else
    {
        float _S10531 = _S10527 / _S10015;
        float _S10532 = _S10013 * - _S10531;
        k_12 = _S10011 * _S10531;
        _S10015 = 0.0f;
        _S10016 = _S10532;
    }
    DiffPair_float_0 _S10533;
    (&_S10533)->primal_0 = _S10011;
    (&_S10533)->differential_0 = 0.0f;
    DiffPair_float_0 _S10534;
    (&_S10534)->primal_0 = _S10012;
    (&_S10534)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10533, &_S10534, k_12);
    float _S10535 = _S10534.differential_0 + _S10015;
    float _S10536 = _S10533.differential_0 + _S10016;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10537;
    (&_S10537)->primal_0 = _S10010;
    (&_S10537)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10537, _S10536);
    float2  _S10538 = _S10537.differential_0 + _S10526;
    float _S10539 = fx_105 * _S10374;
    float2  _S10540 = make_float2 (_S10539, fy_105 * _S10376) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10539, (*dist_coeffs_109)[int(9)] * _S10539);
    float2  _S10541 = _S9997 * _S10540;
    float _S10542 = (*dist_coeffs_109)[int(4)] * _S10540.y;
    float _S10543 = (*dist_coeffs_109)[int(5)] * _S10540.x;
    float _S10544 = _S10541.x + _S10541.y;
    float _S10545 = r2_103 * _S10544;
    float _S10546 = r2_103 * _S10545;
    float _S10547 = (*dist_coeffs_109)[int(7)] * _S10540.y + _S10542 + (*dist_coeffs_109)[int(6)] * _S10540.x + _S10543 + _S10000 * _S10544 + _S9999 * _S10545 + _S9998 * _S10546 + (*dist_coeffs_109)[int(3)] * (r2_103 * _S10546);
    float _S10548 = v_108 * _S10547;
    float _S10549 = u_108 * _S10547;
    float3  _S10550 = make_float3 (_S10538.x, _S10538.y, _S10535);
    float2  _S10551 = _S10001 * _S10540 + make_float2 (_S9978 * (v_108 * _S10540.y) + _S10003 * _S10543 + 2.0f * (u_108 * _S10543) + _S9975 * (v_108 * _S10540.x) + _S10549 + _S10549, _S10005 * _S10542 + 2.0f * (v_108 * _S10542) + _S10004 * _S10540.y + _S10002 * _S10540.x + _S10548 + _S10548);
    float2  _S10552 = _S9985 * _S10551;
    float2  _S10553 = _S9996 * _S10551;
    float _S10554 = _S10552.x + _S10552.y;
    if(_S9989)
    {
        float _S10555 = _S10554 / _S9991;
        float _S10556 = _S9992 * - _S10555;
        float _S10557 = _S9988 * (0.3333333432674408f * - (_S9987 * _S10555));
        k_12 = _S10557 + _S10557;
        _S9990 = _S10556;
        _S9991 = 0.0f;
    }
    else
    {
        float _S10558 = _S10554 / _S9990;
        float _S10559 = _S9988 * - _S10558;
        k_12 = _S9986 * _S10558;
        _S9990 = 0.0f;
        _S9991 = _S10559;
    }
    DiffPair_float_0 _S10560;
    (&_S10560)->primal_0 = _S9986;
    (&_S10560)->differential_0 = 0.0f;
    DiffPair_float_0 _S10561;
    (&_S10561)->primal_0 = _S9987;
    (&_S10561)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10560, &_S10561, k_12);
    float _S10562 = _S10561.differential_0 + _S9990;
    float _S10563 = _S10560.differential_0 + _S9991;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10564;
    (&_S10564)->primal_0 = _S9985;
    (&_S10564)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10564, _S10563);
    float2  _S10565 = _S10564.differential_0 + _S10553;
    float _S10566 = fx_105 * _S10378;
    float2  _S10567 = make_float2 (_S10566, fy_105 * _S10375) + make_float2 ((*dist_coeffs_109)[int(8)] * _S10566, (*dist_coeffs_109)[int(9)] * _S10566);
    float2  _S10568 = _S9970 * _S10567;
    float _S10569 = (*dist_coeffs_109)[int(4)] * _S10567.y;
    float _S10570 = (*dist_coeffs_109)[int(5)] * _S10567.x;
    float _S10571 = _S10568.x + _S10568.y;
    float _S10572 = r2_102 * _S10571;
    float _S10573 = r2_102 * _S10572;
    float _S10574 = (*dist_coeffs_109)[int(7)] * _S10567.y + _S10569 + (*dist_coeffs_109)[int(6)] * _S10567.x + _S10570 + _S9973 * _S10571 + _S9972 * _S10572 + _S9971 * _S10573 + (*dist_coeffs_109)[int(3)] * (r2_102 * _S10573);
    float _S10575 = v_107 * _S10574;
    float _S10576 = u_107 * _S10574;
    float3  _S10577 = make_float3 (_S10565.x, _S10565.y, _S10562);
    float2  _S10578 = _S9974 * _S10567 + make_float2 (_S9978 * (v_107 * _S10567.y) + _S9977 * _S10570 + 2.0f * (u_107 * _S10570) + _S9975 * (v_107 * _S10567.x) + _S10576 + _S10576, _S9980 * _S10569 + 2.0f * (v_107 * _S10569) + _S9979 * _S10567.y + _S9976 * _S10567.x + _S10575 + _S10575);
    float2  _S10579 = _S9958 * _S10578;
    float2  _S10580 = _S9969 * _S10578;
    float _S10581 = _S10579.x + _S10579.y;
    if(_S9962)
    {
        float _S10582 = _S10581 / _S9964;
        float _S10583 = _S9965 * - _S10582;
        float _S10584 = _S9961 * (0.3333333432674408f * - (_S9960 * _S10582));
        k_12 = _S10584 + _S10584;
        _S9963 = _S10583;
        _S9964 = 0.0f;
    }
    else
    {
        float _S10585 = _S10581 / _S9963;
        float _S10586 = _S9961 * - _S10585;
        k_12 = _S9959 * _S10585;
        _S9963 = 0.0f;
        _S9964 = _S10586;
    }
    DiffPair_float_0 _S10587;
    (&_S10587)->primal_0 = _S9959;
    (&_S10587)->differential_0 = 0.0f;
    DiffPair_float_0 _S10588;
    (&_S10588)->primal_0 = _S9960;
    (&_S10588)->differential_0 = 0.0f;
    s_bwd_prop_atan2_0(&_S10587, &_S10588, k_12);
    float _S10589 = _S10588.differential_0 + _S9963;
    float _S10590 = _S10587.differential_0 + _S9964;
    DiffPair_vectorx3Cfloatx2C2x3E_0 _S10591;
    (&_S10591)->primal_0 = _S9958;
    (&_S10591)->differential_0 = _S10401;
    s_bwd_length_impl_0(&_S10591, _S10590);
    float2  _S10592 = _S10591.differential_0 + _S10580;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10593;
    (&_S10593)->primal_0 = R_75;
    (&_S10593)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10594;
    (&_S10594)->primal_0 = _S9957;
    (&_S10594)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10593, &_S10594, _S10373);
    DiffPair_float_0 _S10595;
    (&_S10595)->primal_0 = _S9954;
    (&_S10595)->differential_0 = 0.0f;
    DiffPair_float_0 _S10596;
    (&_S10596)->primal_0 = _S9956;
    (&_S10596)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10595, &_S10596, 0.0f);
    DiffPair_float_0 _S10597;
    (&_S10597)->primal_0 = _S9953;
    (&_S10597)->differential_0 = 0.0f;
    DiffPair_float_0 _S10598;
    (&_S10598)->primal_0 = _S9956;
    (&_S10598)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10597, &_S10598, 0.0f);
    float _S10599 = _S10596.differential_0 + _S10598.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10600;
    (&_S10600)->primal_0 = _S9955;
    (&_S10600)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10600, _S10599);
    float3  _S10601 = _S10600.differential_0 + _S10415;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10602;
    (&_S10602)->primal_0 = R_75;
    (&_S10602)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10603;
    (&_S10603)->primal_0 = pos_i_13;
    (&_S10603)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10602, &_S10603, _S10601);
    DiffPair_float_0 _S10604;
    (&_S10604)->primal_0 = _S9950;
    (&_S10604)->differential_0 = 0.0f;
    DiffPair_float_0 _S10605;
    (&_S10605)->primal_0 = _S9952;
    (&_S10605)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10604, &_S10605, _S10595.differential_0);
    DiffPair_float_0 _S10606;
    (&_S10606)->primal_0 = _S9949;
    (&_S10606)->differential_0 = 0.0f;
    DiffPair_float_0 _S10607;
    (&_S10607)->primal_0 = _S9952;
    (&_S10607)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10606, &_S10607, _S10597.differential_0);
    float _S10608 = _S10605.differential_0 + _S10607.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10609;
    (&_S10609)->primal_0 = _S9951;
    (&_S10609)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10609, _S10608);
    float3  _S10610 = _S10609.differential_0 + _S10442;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10611;
    (&_S10611)->primal_0 = R_75;
    (&_S10611)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10612;
    (&_S10612)->primal_0 = pos_i_12;
    (&_S10612)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10611, &_S10612, _S10610);
    DiffPair_float_0 _S10613;
    (&_S10613)->primal_0 = _S9946;
    (&_S10613)->differential_0 = 0.0f;
    DiffPair_float_0 _S10614;
    (&_S10614)->primal_0 = _S9948;
    (&_S10614)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10613, &_S10614, _S10604.differential_0);
    DiffPair_float_0 _S10615;
    (&_S10615)->primal_0 = _S9945;
    (&_S10615)->differential_0 = 0.0f;
    DiffPair_float_0 _S10616;
    (&_S10616)->primal_0 = _S9948;
    (&_S10616)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10615, &_S10616, _S10606.differential_0);
    float _S10617 = _S10614.differential_0 + _S10616.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10618;
    (&_S10618)->primal_0 = _S9947;
    (&_S10618)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10618, _S10617);
    float3  _S10619 = _S10618.differential_0 + _S10469;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10620;
    (&_S10620)->primal_0 = R_75;
    (&_S10620)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10621;
    (&_S10621)->primal_0 = pos_i_11;
    (&_S10621)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10620, &_S10621, _S10619);
    DiffPair_float_0 _S10622;
    (&_S10622)->primal_0 = _S9942;
    (&_S10622)->differential_0 = 0.0f;
    DiffPair_float_0 _S10623;
    (&_S10623)->primal_0 = _S9944;
    (&_S10623)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10622, &_S10623, _S10613.differential_0);
    DiffPair_float_0 _S10624;
    (&_S10624)->primal_0 = _S9941;
    (&_S10624)->differential_0 = 0.0f;
    DiffPair_float_0 _S10625;
    (&_S10625)->primal_0 = _S9944;
    (&_S10625)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10624, &_S10625, _S10615.differential_0);
    float _S10626 = _S10623.differential_0 + _S10625.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10627;
    (&_S10627)->primal_0 = _S9943;
    (&_S10627)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10627, _S10626);
    float3  _S10628 = _S10627.differential_0 + _S10496;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10629;
    (&_S10629)->primal_0 = R_75;
    (&_S10629)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10630;
    (&_S10630)->primal_0 = pos_i_10;
    (&_S10630)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10629, &_S10630, _S10628);
    DiffPair_float_0 _S10631;
    (&_S10631)->primal_0 = _S9938;
    (&_S10631)->differential_0 = 0.0f;
    DiffPair_float_0 _S10632;
    (&_S10632)->primal_0 = _S9940;
    (&_S10632)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10631, &_S10632, _S10622.differential_0);
    DiffPair_float_0 _S10633;
    (&_S10633)->primal_0 = _S9937;
    (&_S10633)->differential_0 = 0.0f;
    DiffPair_float_0 _S10634;
    (&_S10634)->primal_0 = _S9940;
    (&_S10634)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10633, &_S10634, _S10624.differential_0);
    float _S10635 = _S10632.differential_0 + _S10634.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10636;
    (&_S10636)->primal_0 = _S9939;
    (&_S10636)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10636, _S10635);
    float3  _S10637 = _S10636.differential_0 + _S10523;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10638;
    (&_S10638)->primal_0 = R_75;
    (&_S10638)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10639;
    (&_S10639)->primal_0 = pos_i_9;
    (&_S10639)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10638, &_S10639, _S10637);
    DiffPair_float_0 _S10640;
    (&_S10640)->primal_0 = _S9934;
    (&_S10640)->differential_0 = 0.0f;
    DiffPair_float_0 _S10641;
    (&_S10641)->primal_0 = _S9936;
    (&_S10641)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10640, &_S10641, _S10631.differential_0);
    DiffPair_float_0 _S10642;
    (&_S10642)->primal_0 = _S9933;
    (&_S10642)->differential_0 = 0.0f;
    DiffPair_float_0 _S10643;
    (&_S10643)->primal_0 = _S9936;
    (&_S10643)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10642, &_S10643, _S10633.differential_0);
    float _S10644 = _S10641.differential_0 + _S10643.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10645;
    (&_S10645)->primal_0 = _S9935;
    (&_S10645)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10645, _S10644);
    float3  _S10646 = _S10645.differential_0 + _S10550;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10647;
    (&_S10647)->primal_0 = R_75;
    (&_S10647)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10648;
    (&_S10648)->primal_0 = pos_i_8;
    (&_S10648)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10647, &_S10648, _S10646);
    DiffPair_float_0 _S10649;
    (&_S10649)->primal_0 = _S9930;
    (&_S10649)->differential_0 = 0.0f;
    DiffPair_float_0 _S10650;
    (&_S10650)->primal_0 = _S9932;
    (&_S10650)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10649, &_S10650, _S10640.differential_0);
    DiffPair_float_0 _S10651;
    (&_S10651)->primal_0 = _S9929;
    (&_S10651)->differential_0 = 0.0f;
    DiffPair_float_0 _S10652;
    (&_S10652)->primal_0 = _S9932;
    (&_S10652)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10651, &_S10652, _S10642.differential_0);
    float _S10653 = _S10650.differential_0 + _S10652.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10654;
    (&_S10654)->primal_0 = _S9931;
    (&_S10654)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10654, _S10653);
    float3  _S10655 = _S10654.differential_0 + _S10577;
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10656;
    (&_S10656)->primal_0 = R_75;
    (&_S10656)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10657;
    (&_S10657)->primal_0 = pos_i_7;
    (&_S10657)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10656, &_S10657, _S10655);
    DiffPair_float_0 _S10658;
    (&_S10658)->primal_0 = 0.0f;
    (&_S10658)->differential_0 = 0.0f;
    DiffPair_float_0 _S10659;
    (&_S10659)->primal_0 = _S9928;
    (&_S10659)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10658, &_S10659, _S10649.differential_0);
    DiffPair_float_0 _S10660;
    (&_S10660)->primal_0 = 1.00000001504746622e+30f;
    (&_S10660)->differential_0 = 0.0f;
    DiffPair_float_0 _S10661;
    (&_S10661)->primal_0 = _S9928;
    (&_S10661)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10660, &_S10661, _S10651.differential_0);
    float _S10662 = _S10659.differential_0 + _S10661.differential_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10663;
    (&_S10663)->primal_0 = _S9927;
    (&_S10663)->differential_0 = _S10214;
    s_bwd_length_impl_1(&_S10663, _S10662);
    float3  _S10664 = _S10663.differential_0 + make_float3 (_S10592.x, _S10592.y, _S10589);
    DiffPair_matrixx3Cfloatx2C3x2C3x3E_0 _S10665;
    (&_S10665)->primal_0 = R_75;
    (&_S10665)->differential_0 = _S10276;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10666;
    (&_S10666)->primal_0 = pos_5;
    (&_S10666)->differential_0 = _S10214;
    s_bwd_prop_mul_1(&_S10665, &_S10666, _S10664);
    float3  _S10667 = _S10373 + _S10601 + _S10610 + _S10619 + _S10628 + _S10637 + _S10646 + _S10655 + _S10664 + _S10279.differential_0;
    Matrix<float, 3, 3>  _S10668 = _S10593.differential_0 + _S10602.differential_0 + _S10611.differential_0 + _S10620.differential_0 + _S10629.differential_0 + _S10638.differential_0 + _S10647.differential_0 + _S10656.differential_0 + _S10665.differential_0 + _S10280;
    (*v_densities_1)[int(0)] = 0.0f;
    (*v_densities_1)[int(1)] = 0.0f;
    (*v_densities_1)[int(2)] = 0.0f;
    (*v_densities_1)[int(3)] = 0.0f;
    (*v_densities_1)[int(4)] = 0.0f;
    (*v_densities_1)[int(5)] = 0.0f;
    (*v_densities_1)[int(6)] = 0.0f;
    (*v_densities_1)[int(7)] = 0.0f;
    (*v_sh_coeffs_8)[int(0)] = _S10357;
    (*v_sh_coeffs_8)[int(1)] = _S10358;
    (*v_sh_coeffs_8)[int(2)] = _S10359;
    (*v_sh_coeffs_8)[int(3)] = _S10360;
    (*v_sh_coeffs_8)[int(4)] = _S10361;
    (*v_sh_coeffs_8)[int(5)] = _S10362;
    (*v_sh_coeffs_8)[int(6)] = _S10363;
    (*v_sh_coeffs_8)[int(7)] = _S10364;
    (*v_sh_coeffs_8)[int(8)] = _S10365;
    (*v_sh_coeffs_8)[int(9)] = _S10366;
    (*v_sh_coeffs_8)[int(10)] = _S10367;
    (*v_sh_coeffs_8)[int(11)] = _S10368;
    (*v_sh_coeffs_8)[int(12)] = _S10369;
    (*v_sh_coeffs_8)[int(13)] = _S10370;
    (*v_sh_coeffs_8)[int(14)] = _S10371;
    (*v_sh_coeffs_8)[int(15)] = _S10372;
    *v_R_24 = _S10668;
    *v_t_23 = _S10667;
    return;
}

inline __device__ void _d_abs_vector_0(DiffPair_vectorx3Cfloatx2C3x3E_0 * dpx_17, float3  dOut_20)
{
    float3  _S10669 = _slang_select(((*dpx_17).primal_0) > make_float3 (0.0f), make_float3 (1.0f),_slang_select(((*dpx_17).primal_0) == make_float3 (0.0f), make_float3 (0.0f),make_float3 (-1.0f))) * dOut_20;
    dpx_17->primal_0 = (*dpx_17).primal_0;
    dpx_17->differential_0 = _S10669;
    return;
}

inline __device__ float3  abs_0(float3  x_85)
{
    float3  result_14;
    int i_10 = int(0);
    for(;;)
    {
        if(i_10 < int(3))
        {
        }
        else
        {
            break;
        }
        *_slang_vector_get_element_ptr(&result_14, i_10) = (F32_abs((_slang_vector_get_element(x_85, i_10))));
        i_10 = i_10 + int(1);
    }
    return result_14;
}

inline __device__ bool ray_aabb_intersection(float3  ray_o_10, float3  ray_d_10, float3  center_0, float radius_0, float * t0_0, float * t1_0)
{
    float3  m_2 = make_float3 (1.0f) / ray_d_10;
    float3  k_13 = abs_0(m_2) * make_float3 (radius_0);
    float3  _S10670 = - (m_2 * (ray_o_10 - center_0));
    float3  ta_0 = _S10670 - k_13;
    float3  tb_0 = _S10670 + k_13;
    *t0_0 = (F32_max(((F32_max((ta_0.x), (ta_0.y)))), ((F32_max((ta_0.z), (0.0f))))));
    float _S10671 = (F32_min(((F32_min((tb_0.x), (tb_0.y)))), (tb_0.z)));
    *t1_0 = _S10671;
    return (*t0_0) < _S10671;
}

inline __device__ void _d_lerp_0(DiffPair_float_0 * dpx_18, DiffPair_float_0 * dpy_6, DiffPair_float_0 * dps_0, float dOut_21)
{
    float _S10672 = (1.0f - (*dps_0).primal_0) * dOut_21;
    dpx_18->primal_0 = (*dpx_18).primal_0;
    dpx_18->differential_0 = _S10672;
    DiffPair_float_0 _S10673 = *dpy_6;
    float _S10674 = (*dps_0).primal_0 * dOut_21;
    dpy_6->primal_0 = (*dpy_6).primal_0;
    dpy_6->differential_0 = _S10674;
    float _S10675 = (_S10673.primal_0 - (*dpx_18).primal_0) * dOut_21;
    dps_0->primal_0 = _S10673.primal_0;
    dps_0->differential_0 = _S10675;
    return;
}

inline __device__ float lerp_0(float x_86, float y_30, float s_0)
{
    return x_86 + (y_30 - x_86) * s_0;
}

inline __device__ float interp_0(FixedArray<float, 8>  * densities_6, float3  w_142)
{
    float _S10676 = w_142.z;
    float _S10677 = 1.0f - _S10676;
    float _S10678 = w_142.y;
    float _S10679 = 1.0f - _S10678;
    float _S10680 = _S10677 * _S10679;
    float _S10681 = w_142.x;
    float _S10682 = 1.0f - _S10681;
    float _S10683 = _S10677 * _S10678;
    float _S10684 = _S10676 * _S10679;
    float _S10685 = _S10676 * _S10678;
    return _S10680 * _S10682 * (*densities_6)[int(0)] + _S10680 * _S10681 * (*densities_6)[int(1)] + _S10683 * _S10682 * (*densities_6)[int(2)] + _S10683 * _S10681 * (*densities_6)[int(3)] + _S10684 * _S10682 * (*densities_6)[int(4)] + _S10684 * _S10681 * (*densities_6)[int(5)] + _S10685 * _S10682 * (*densities_6)[int(6)] + _S10685 * _S10681 * (*densities_6)[int(7)];
}

inline __device__ float evaluate_alpha_voxel(float3  pos_6, float size_6, FixedArray<float, 8>  * densities_7, float3  ray_o_11, float3  ray_d_11)
{
    float _S10686 = 0.5f * size_6;
    float3  m_3 = make_float3 (1.0f) / ray_d_11;
    float3  k_14 = abs_0(m_3) * make_float3 (_S10686);
    float3  _S10687 = - (m_3 * (ray_o_11 - (pos_6 + make_float3 (_S10686))));
    float3  ta_1 = _S10687 - k_14;
    float3  tb_1 = _S10687 + k_14;
    float t0_1 = (F32_max(((F32_max((ta_1.x), (ta_1.y)))), ((F32_max((ta_1.z), (0.0f))))));
    float t1_1 = (F32_min(((F32_min((tb_1.x), (tb_1.y)))), (tb_1.z)));
    if(!(t0_1 < t1_1))
    {
        return 0.0f;
    }
    int i_11 = int(0);
    float accum_0 = 0.0f;
    for(;;)
    {
        if(i_11 < int(8))
        {
        }
        else
        {
            break;
        }
        float _S10688 = interp_0(densities_7, (ray_o_11 + ray_d_11 * make_float3 (lerp_0(t0_1, t1_1, (float(i_11) + 0.5f) / 8.0f)) - pos_6) / make_float3 (size_6));
        float _S10689;
        if(_S10688 > 1.10000002384185791f)
        {
            _S10689 = _S10688;
        }
        else
        {
            _S10689 = (F32_exp((0.90909093618392944f * _S10688 - 0.90468984842300415f)));
        }
        float accum_1 = accum_0 + _S10689;
        i_11 = i_11 + int(1);
        accum_0 = accum_1;
    }
    return (F32_min((1.0f - (F32_exp((- (t1_1 - t0_1) / 8.0f * accum_0)))), (0.99900001287460327f)));
}

struct DiffPair_arrayx3Cfloatx2C8x3E_0
{
    FixedArray<float, 8>  primal_0;
    FixedArray<float, 8>  differential_0;
};

struct s_bwd_prop_evaluate_alpha_voxel_Intermediates_0
{
    float _S10690;
};

inline __device__ float3  s_primal_ctx_abs_0(float3  _S10691)
{
    return abs_0(_S10691);
}

inline __device__ float s_primal_ctx_lerp_0(float _S10692, float _S10693, float _S10694)
{
    return lerp_0(_S10692, _S10693, _S10694);
}

inline __device__ float s_primal_ctx_interp_0(FixedArray<float, 8>  * dpdensities_0, float3  dpw_0)
{
    float _S10695 = dpw_0.z;
    float _S10696 = 1.0f - _S10695;
    float _S10697 = dpw_0.y;
    float _S10698 = 1.0f - _S10697;
    float _S10699 = _S10696 * _S10698;
    float _S10700 = dpw_0.x;
    float _S10701 = 1.0f - _S10700;
    float _S10702 = _S10696 * _S10697;
    float _S10703 = _S10695 * _S10698;
    float _S10704 = _S10695 * _S10697;
    return _S10699 * _S10701 * (*dpdensities_0)[int(0)] + _S10699 * _S10700 * (*dpdensities_0)[int(1)] + _S10702 * _S10701 * (*dpdensities_0)[int(2)] + _S10702 * _S10700 * (*dpdensities_0)[int(3)] + _S10703 * _S10701 * (*dpdensities_0)[int(4)] + _S10703 * _S10700 * (*dpdensities_0)[int(5)] + _S10704 * _S10701 * (*dpdensities_0)[int(6)] + _S10704 * _S10700 * (*dpdensities_0)[int(7)];
}

inline __device__ float s_primal_ctx_evaluate_alpha_voxel_0(float3  pos_7, float size_7, FixedArray<float, 8>  * dpdensities_1, float3  dpray_o_4, float3  dpray_d_4, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_42)
{
    _s_diff_ctx_42->_S10690 = 0.0f;
    _s_diff_ctx_42->_S10690 = 0.0f;
    float _S10705 = 0.5f * size_7;
    float3  m_4 = make_float3 (1.0f) / dpray_d_4;
    float3  k_15 = s_primal_ctx_abs_0(m_4) * make_float3 (_S10705);
    float3  _S10706 = - (m_4 * (dpray_o_4 - (pos_7 + make_float3 (_S10705))));
    float3  ta_2 = _S10706 - k_15;
    float3  tb_2 = _S10706 + k_15;
    float _S10707 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_2.x, ta_2.y), s_primal_ctx_max_0(ta_2.z, 0.0f));
    float _S10708 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_2.x, tb_2.y), tb_2.z);
    float accum_2;
    if(!!(_S10707 < _S10708))
    {
        float _S10709 = - (_S10708 - _S10707);
        bool _runFlag_0 = true;
        accum_2 = 0.0f;
        int i_12 = int(0);
        int _pc_0 = int(0);
        for(;;)
        {
            _s_diff_ctx_42->_S10690 = accum_2;
            if(_runFlag_0)
            {
            }
            else
            {
                break;
            }
            float _S10710;
            int _S10711;
            if(i_12 < int(8))
            {
                float _S10712 = s_primal_ctx_interp_0(dpdensities_1, (dpray_o_4 + dpray_d_4 * make_float3 (s_primal_ctx_lerp_0(_S10707, _S10708, (float(i_12) + 0.5f) / 8.0f)) - pos_7) / make_float3 (size_7));
                if(_S10712 > 1.10000002384185791f)
                {
                    _S10710 = _S10712;
                }
                else
                {
                    _S10710 = s_primal_ctx_exp_1(0.90909093618392944f * _S10712 - 0.90468984842300415f);
                }
                float accum_3 = accum_2 + _S10710;
                _S10711 = int(2);
                _S10710 = accum_3;
            }
            else
            {
                _S10711 = int(1);
                _S10710 = 0.0f;
            }
            if(_S10711 != int(2))
            {
                _runFlag_0 = false;
            }
            if(_runFlag_0)
            {
                int _S10713 = i_12 + int(1);
                accum_2 = _S10710;
                i_12 = _S10713;
            }
            _pc_0 = _pc_0 + int(1);
        }
        accum_2 = s_primal_ctx_min_0(1.0f - s_primal_ctx_exp_1(_S10709 / 8.0f * accum_2), 0.99900001287460327f);
    }
    else
    {
        accum_2 = 0.0f;
    }
    return accum_2;
}

inline __device__ void s_bwd_prop_abs_1(DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10714, float3  _S10715)
{
    _d_abs_vector_0(_S10714, _S10715);
    return;
}

inline __device__ void s_bwd_prop_interp_0(DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_2, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpw_1, float _s_dOut_11)
{
    float _S10716 = (*dpw_1).primal_0.z;
    float _S10717 = 1.0f - _S10716;
    float _S10718 = (*dpw_1).primal_0.y;
    float _S10719 = 1.0f - _S10718;
    float _S10720 = _S10717 * _S10719;
    float _S10721 = (*dpw_1).primal_0.x;
    float _S10722 = 1.0f - _S10721;
    float _S10723 = _S10717 * _S10718;
    float _S10724 = _S10716 * _S10719;
    float _S10725 = _S10716 * _S10718;
    float _S10726 = _S10725 * _S10721 * _s_dOut_11;
    float s_diff_w7_T_0 = dpdensities_2->primal_0[int(7)] * _s_dOut_11;
    float _S10727 = _S10725 * _S10722 * _s_dOut_11;
    float s_diff_w6_T_0 = dpdensities_2->primal_0[int(6)] * _s_dOut_11;
    float _S10728 = _S10724 * _S10721 * _s_dOut_11;
    float s_diff_w5_T_0 = dpdensities_2->primal_0[int(5)] * _s_dOut_11;
    float _S10729 = _S10724 * _S10722 * _s_dOut_11;
    float s_diff_w4_T_0 = dpdensities_2->primal_0[int(4)] * _s_dOut_11;
    float _S10730 = _S10723 * _S10721 * _s_dOut_11;
    float s_diff_w3_T_0 = dpdensities_2->primal_0[int(3)] * _s_dOut_11;
    float _S10731 = _S10723 * _S10722 * _s_dOut_11;
    float s_diff_w2_T_0 = dpdensities_2->primal_0[int(2)] * _s_dOut_11;
    float _S10732 = _S10720 * _S10721 * _s_dOut_11;
    float s_diff_w1_T_0 = dpdensities_2->primal_0[int(1)] * _s_dOut_11;
    float _S10733 = _S10720 * _S10722 * _s_dOut_11;
    float s_diff_w0_T_0 = dpdensities_2->primal_0[int(0)] * _s_dOut_11;
    float _S10734 = _S10721 * s_diff_w7_T_0 + _S10722 * s_diff_w6_T_0;
    float _S10735 = _S10721 * s_diff_w5_T_0 + _S10722 * s_diff_w4_T_0;
    float _S10736 = _S10721 * s_diff_w3_T_0 + _S10722 * s_diff_w2_T_0;
    float _S10737 = _S10721 * s_diff_w1_T_0 + _S10722 * s_diff_w0_T_0;
    float3  _S10738 = make_float3 (_S10725 * s_diff_w7_T_0 + _S10724 * s_diff_w5_T_0 + _S10723 * s_diff_w3_T_0 + _S10720 * s_diff_w1_T_0 + - (_S10725 * s_diff_w6_T_0 + _S10724 * s_diff_w4_T_0 + _S10723 * s_diff_w2_T_0 + _S10720 * s_diff_w0_T_0), _S10716 * _S10734 + _S10717 * _S10736 + - (_S10716 * _S10735 + _S10717 * _S10737), _S10718 * _S10734 + _S10719 * _S10735 + - (_S10718 * _S10736 + _S10719 * _S10737));
    dpw_1->primal_0 = (*dpw_1).primal_0;
    dpw_1->differential_0 = _S10738;
    FixedArray<float, 8>  _S10739;
    _S10739[int(0)] = 0.0f;
    _S10739[int(1)] = 0.0f;
    _S10739[int(2)] = 0.0f;
    _S10739[int(3)] = 0.0f;
    _S10739[int(4)] = 0.0f;
    _S10739[int(5)] = 0.0f;
    _S10739[int(6)] = 0.0f;
    _S10739[int(7)] = 0.0f;
    _S10739[int(7)] = _S10726;
    _S10739[int(6)] = _S10727;
    _S10739[int(5)] = _S10728;
    _S10739[int(4)] = _S10729;
    _S10739[int(3)] = _S10730;
    _S10739[int(2)] = _S10731;
    _S10739[int(1)] = _S10732;
    _S10739[int(0)] = _S10733;
    dpdensities_2->primal_0 = dpdensities_2->primal_0;
    dpdensities_2->differential_0 = _S10739;
    return;
}

inline __device__ void s_bwd_prop_lerp_0(DiffPair_float_0 * _S10740, DiffPair_float_0 * _S10741, DiffPair_float_0 * _S10742, float _S10743)
{
    _d_lerp_0(_S10740, _S10741, _S10742, _S10743);
    return;
}

inline __device__ void s_bwd_prop_evaluate_alpha_voxel_0(float3  pos_8, float size_8, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_3, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_5, float _s_dOut_12, s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 * _s_diff_ctx_43)
{
    FixedArray<float, 8>  _S10744 = dpdensities_3->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10745 = *dpray_o_5;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10746 = *dpray_d_5;
    float _S10747 = 0.5f * size_8;
    float3  _S10748 = make_float3 (_S10747);
    float3  _S10749 = make_float3 (size_8);
    float3  m_5 = make_float3 (1.0f) / (*dpray_d_5).primal_0;
    float3  _S10750 = (*dpray_d_5).primal_0 * (*dpray_d_5).primal_0;
    float3  _S10751 = (*dpray_o_5).primal_0 - (pos_8 + make_float3 (_S10747));
    float3  k_16 = s_primal_ctx_abs_0(m_5) * make_float3 (_S10747);
    float3  _S10752 = - (m_5 * _S10751);
    float3  ta_3 = _S10752 - k_16;
    float3  tb_3 = _S10752 + k_16;
    float _S10753 = ta_3.x;
    float _S10754 = ta_3.y;
    float _S10755 = s_primal_ctx_max_0(_S10753, _S10754);
    float _S10756 = ta_3.z;
    float _S10757 = s_primal_ctx_max_0(_S10756, 0.0f);
    float _S10758 = s_primal_ctx_max_0(_S10755, _S10757);
    float _S10759 = tb_3.x;
    float _S10760 = tb_3.y;
    float _S10761 = s_primal_ctx_min_0(_S10759, _S10760);
    float _S10762 = tb_3.z;
    float _S10763 = s_primal_ctx_min_0(_S10761, _S10762);
    bool _S10764 = !!(_S10758 < _S10763);
    float _S10765;
    float _S10766;
    float _S10767;
    if(_S10764)
    {
        float _S10768 = - (_S10763 - _S10758) / 8.0f;
        float _S10769 = _S10768 * _s_diff_ctx_43->_S10690;
        _S10765 = 1.0f - s_primal_ctx_exp_1(_S10769);
        _S10766 = _S10769;
        _S10767 = _S10768;
    }
    else
    {
        _S10765 = 0.0f;
        _S10766 = 0.0f;
        _S10767 = 0.0f;
    }
    float3  _S10770 = make_float3 (0.0f);
    FixedArray<float, 8>  _S10771 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    float3  _S10772;
    float3  _S10773;
    FixedArray<float, 8>  _S10774;
    if(_S10764)
    {
        DiffPair_float_0 _S10775;
        (&_S10775)->primal_0 = _S10765;
        (&_S10775)->differential_0 = 0.0f;
        DiffPair_float_0 _S10776;
        (&_S10776)->primal_0 = 0.99900001287460327f;
        (&_S10776)->differential_0 = 0.0f;
        s_bwd_prop_min_0(&_S10775, &_S10776, _s_dOut_12);
        float _S10777 = - _S10775.differential_0;
        DiffPair_float_0 _S10778;
        (&_S10778)->primal_0 = _S10766;
        (&_S10778)->differential_0 = 0.0f;
        s_bwd_prop_exp_0(&_S10778, _S10777);
        float _S10779 = _S10767 * _S10778.differential_0;
        float _S10780 = 0.125f * (_s_diff_ctx_43->_S10690 * _S10778.differential_0);
        int _dc_0 = int(8);
        _S10765 = _S10779;
        _S10766 = 0.0f;
        _S10767 = 0.0f;
        _S10772 = _S10770;
        _S10773 = _S10770;
        _S10774[int(0)] = 0.0f;
        _S10774[int(1)] = 0.0f;
        _S10774[int(2)] = 0.0f;
        _S10774[int(3)] = 0.0f;
        _S10774[int(4)] = 0.0f;
        _S10774[int(5)] = 0.0f;
        _S10774[int(6)] = 0.0f;
        _S10774[int(7)] = 0.0f;
        for(;;)
        {
            if(_dc_0 >= int(0))
            {
            }
            else
            {
                break;
            }
            bool _S10781 = _dc_0 < int(8);
            float _S10782;
            float _S10783;
            int _S10784;
            float3  _S10785;
            float3  _S10786;
            bool _S10787;
            if(_S10781)
            {
                float _S10788 = (float(_dc_0) + 0.5f) / 8.0f;
                float _S10789 = s_primal_ctx_lerp_0(_S10758, _S10763, _S10788);
                float3  _S10790 = make_float3 (_S10789);
                float3  _S10791 = (_S10745.primal_0 + _S10746.primal_0 * make_float3 (_S10789) - pos_8) / make_float3 (size_8);
                FixedArray<float, 8>  _S10792 = _S10744;
                float _S10793 = s_primal_ctx_interp_0(&_S10792, _S10791);
                bool _S10794 = _S10793 > 1.10000002384185791f;
                if(_S10794)
                {
                    _S10782 = 0.0f;
                }
                else
                {
                    _S10782 = 0.90909093618392944f * _S10793 - 0.90468984842300415f;
                }
                _S10784 = int(2);
                _S10787 = _S10794;
                _S10785 = _S10791;
                _S10786 = _S10790;
                _S10783 = _S10788;
            }
            else
            {
                _S10784 = int(1);
                _S10787 = false;
                _S10782 = 0.0f;
                _S10785 = _S10770;
                _S10786 = _S10770;
                _S10783 = 0.0f;
            }
            float _S10795;
            float _S10796;
            if(!(_S10784 != int(2)))
            {
                _S10795 = _S10765;
                _S10796 = 0.0f;
            }
            else
            {
                _S10795 = 0.0f;
                _S10796 = _S10765;
            }
            if(_S10781)
            {
                float _S10797 = _S10795 + _S10796;
                float _S10798;
                if(_S10787)
                {
                    _S10798 = _S10795;
                }
                else
                {
                    DiffPair_float_0 _S10799;
                    (&_S10799)->primal_0 = _S10782;
                    (&_S10799)->differential_0 = 0.0f;
                    s_bwd_prop_exp_0(&_S10799, _S10795);
                    _S10798 = 0.90909093618392944f * _S10799.differential_0;
                }
                DiffPair_arrayx3Cfloatx2C8x3E_0 _S10800;
                (&_S10800)->primal_0 = _S10744;
                (&_S10800)->differential_0 = _S10771;
                DiffPair_vectorx3Cfloatx2C3x3E_0 _S10801;
                (&_S10801)->primal_0 = _S10785;
                (&_S10801)->differential_0 = _S10770;
                s_bwd_prop_interp_0(&_S10800, &_S10801, _S10798);
                float3  _S10802 = _S10801.differential_0 / _S10749;
                float3  _S10803 = _S10746.primal_0 * _S10802;
                float3  _S10804 = _S10786 * _S10802;
                float _S10805 = _S10803.x + _S10803.y + _S10803.z;
                DiffPair_float_0 _S10806;
                (&_S10806)->primal_0 = _S10758;
                (&_S10806)->differential_0 = 0.0f;
                DiffPair_float_0 _S10807;
                (&_S10807)->primal_0 = _S10763;
                (&_S10807)->differential_0 = 0.0f;
                DiffPair_float_0 _S10808;
                (&_S10808)->primal_0 = _S10783;
                (&_S10808)->differential_0 = 0.0f;
                s_bwd_prop_lerp_0(&_S10806, &_S10807, &_S10808, _S10805);
                float _S10809 = (&_S10800)->differential_0[int(0)] + _S10774[int(0)];
                float _S10810 = (&_S10800)->differential_0[int(1)] + _S10774[int(1)];
                float _S10811 = (&_S10800)->differential_0[int(2)] + _S10774[int(2)];
                float _S10812 = (&_S10800)->differential_0[int(3)] + _S10774[int(3)];
                float _S10813 = (&_S10800)->differential_0[int(4)] + _S10774[int(4)];
                float _S10814 = (&_S10800)->differential_0[int(5)] + _S10774[int(5)];
                float _S10815 = (&_S10800)->differential_0[int(6)] + _S10774[int(6)];
                float _S10816 = (&_S10800)->differential_0[int(7)] + _S10774[int(7)];
                float3  _S10817 = _S10802 + _S10773;
                float3  _S10818 = _S10804 + _S10772;
                float _S10819 = _S10807.differential_0 + _S10766;
                float _S10820 = _S10806.differential_0 + _S10767;
                _S10765 = _S10797;
                _S10766 = _S10819;
                _S10767 = _S10820;
                _S10772 = _S10818;
                _S10773 = _S10817;
                _S10774[int(0)] = _S10809;
                _S10774[int(1)] = _S10810;
                _S10774[int(2)] = _S10811;
                _S10774[int(3)] = _S10812;
                _S10774[int(4)] = _S10813;
                _S10774[int(5)] = _S10814;
                _S10774[int(6)] = _S10815;
                _S10774[int(7)] = _S10816;
            }
            else
            {
                _S10765 = _S10796;
            }
            _dc_0 = _dc_0 - int(1);
        }
        float _S10821 = - _S10780;
        float _S10822 = - _S10821 + _S10767;
        _S10765 = _S10821 + _S10766;
        _S10766 = _S10822;
    }
    else
    {
        _S10765 = 0.0f;
        _S10766 = 0.0f;
        _S10772 = _S10770;
        _S10773 = _S10770;
        _S10774[int(0)] = 0.0f;
        _S10774[int(1)] = 0.0f;
        _S10774[int(2)] = 0.0f;
        _S10774[int(3)] = 0.0f;
        _S10774[int(4)] = 0.0f;
        _S10774[int(5)] = 0.0f;
        _S10774[int(6)] = 0.0f;
        _S10774[int(7)] = 0.0f;
    }
    DiffPair_float_0 _S10823;
    (&_S10823)->primal_0 = _S10761;
    (&_S10823)->differential_0 = 0.0f;
    DiffPair_float_0 _S10824;
    (&_S10824)->primal_0 = _S10762;
    (&_S10824)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10823, &_S10824, _S10765);
    DiffPair_float_0 _S10825;
    (&_S10825)->primal_0 = _S10759;
    (&_S10825)->differential_0 = 0.0f;
    DiffPair_float_0 _S10826;
    (&_S10826)->primal_0 = _S10760;
    (&_S10826)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10825, &_S10826, _S10823.differential_0);
    DiffPair_float_0 _S10827;
    (&_S10827)->primal_0 = _S10755;
    (&_S10827)->differential_0 = 0.0f;
    DiffPair_float_0 _S10828;
    (&_S10828)->primal_0 = _S10757;
    (&_S10828)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10827, &_S10828, _S10766);
    DiffPair_float_0 _S10829;
    (&_S10829)->primal_0 = _S10756;
    (&_S10829)->differential_0 = 0.0f;
    DiffPair_float_0 _S10830;
    (&_S10830)->primal_0 = 0.0f;
    (&_S10830)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10829, &_S10830, _S10828.differential_0);
    DiffPair_float_0 _S10831;
    (&_S10831)->primal_0 = _S10753;
    (&_S10831)->differential_0 = 0.0f;
    DiffPair_float_0 _S10832;
    (&_S10832)->primal_0 = _S10754;
    (&_S10832)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10831, &_S10832, _S10827.differential_0);
    float3  s_diff_tb_T_0 = make_float3 (_S10825.differential_0, _S10826.differential_0, _S10824.differential_0);
    float3  s_diff_ta_T_0 = make_float3 (_S10831.differential_0, _S10832.differential_0, _S10829.differential_0);
    float3  s_diff_n_T_0 = - (s_diff_tb_T_0 + s_diff_ta_T_0);
    float3  _S10833 = _S10748 * (s_diff_tb_T_0 + - s_diff_ta_T_0);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10834;
    (&_S10834)->primal_0 = m_5;
    (&_S10834)->differential_0 = _S10770;
    s_bwd_prop_abs_1(&_S10834, _S10833);
    float3  _S10835 = m_5 * s_diff_n_T_0;
    float3  _S10836 = - ((_S10834.differential_0 + _S10751 * s_diff_n_T_0) / _S10750) + _S10772;
    dpray_d_5->primal_0 = (*dpray_d_5).primal_0;
    dpray_d_5->differential_0 = _S10836;
    float3  _S10837 = _S10835 + _S10773;
    dpray_o_5->primal_0 = (*dpray_o_5).primal_0;
    dpray_o_5->differential_0 = _S10837;
    dpdensities_3->primal_0 = dpdensities_3->primal_0;
    dpdensities_3->differential_0 = _S10774;
    return;
}

inline __device__ void s_bwd_evaluate_alpha_voxel_0(float3  _S10838, float _S10839, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S10840, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10841, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10842, float _S10843)
{
    FixedArray<float, 8>  _S10844 = _S10840->primal_0;
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S10845;
    float _S10846 = s_primal_ctx_evaluate_alpha_voxel_0(_S10838, _S10839, &_S10844, (*_S10841).primal_0, (*_S10842).primal_0, &_S10845);
    s_bwd_prop_evaluate_alpha_voxel_Intermediates_0 _S10847 = _S10845;
    s_bwd_prop_evaluate_alpha_voxel_0(_S10838, _S10839, _S10840, _S10841, _S10842, _S10843, &_S10847);
    return;
}

inline __device__ void evaluate_alpha_voxel_vjp(float3  pos_9, float size_9, FixedArray<float, 8>  * densities_8, float3  ray_o_12, float3  ray_d_12, float v_alpha_2, FixedArray<float, 8>  * v_densities_2, float3  * v_ray_o_5, float3  * v_ray_d_5)
{
    FixedArray<float, 8>  _S10848 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_0;
    (&dp_densities_0)->primal_0 = *densities_8;
    (&dp_densities_0)->differential_0 = _S10848;
    float3  _S10849 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_4;
    (&dp_ray_o_4)->primal_0 = ray_o_12;
    (&dp_ray_o_4)->differential_0 = _S10849;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_4;
    (&dp_ray_d_4)->primal_0 = ray_d_12;
    (&dp_ray_d_4)->differential_0 = _S10849;
    s_bwd_evaluate_alpha_voxel_0(pos_9, size_9, &dp_densities_0, &dp_ray_o_4, &dp_ray_d_4, v_alpha_2);
    *v_densities_2 = (&dp_densities_0)->differential_0;
    *v_ray_o_5 = dp_ray_o_4.differential_0;
    *v_ray_d_5 = dp_ray_d_4.differential_0;
    return;
}

inline __device__ void evaluate_color_voxel(float3  pos_10, float size_10, FixedArray<float, 8>  * densities_9, float3  rgb_40, float3  ray_o_13, float3  ray_d_13, float3  * out_rgb_1, float * depth_48)
{
    *out_rgb_1 = rgb_40;
    float _S10850 = 0.5f * size_10;
    float3  m_6 = make_float3 (1.0f) / ray_d_13;
    float3  k_17 = abs_0(m_6) * make_float3 (_S10850);
    float3  _S10851 = - (m_6 * (ray_o_13 - (pos_10 + make_float3 (_S10850))));
    float3  ta_4 = _S10851 - k_17;
    float3  tb_4 = _S10851 + k_17;
    float _S10852 = (F32_max(((F32_max((ta_4.x), (ta_4.y)))), ((F32_max((ta_4.z), (0.0f))))));
    float _S10853 = (F32_min(((F32_min((tb_4.x), (tb_4.y)))), (tb_4.z)));
    int i_13 = int(0);
    float accum_4 = 0.0f;
    float depth_accum_0 = 0.0f;
    for(;;)
    {
        if(i_13 < int(8))
        {
        }
        else
        {
            break;
        }
        float t_75 = lerp_0(_S10852, _S10853, (float(i_13) + 0.5f) / 8.0f);
        float _S10854 = interp_0(densities_9, (ray_o_13 + ray_d_13 * make_float3 (t_75) - pos_10) / make_float3 (size_10));
        float _S10855;
        if(_S10854 > 1.10000002384185791f)
        {
            _S10855 = _S10854;
        }
        else
        {
            _S10855 = (F32_exp((0.90909093618392944f * _S10854 - 0.90468984842300415f)));
        }
        float accum_5 = accum_4 + _S10855;
        float depth_accum_1 = depth_accum_0 + t_75 * _S10855;
        i_13 = i_13 + int(1);
        accum_4 = accum_5;
        depth_accum_0 = depth_accum_1;
    }
    *depth_48 = (F32_max((depth_accum_0 / accum_4), (0.0f)));
    return;
}

struct s_bwd_prop_evaluate_color_voxel_Intermediates_0
{
    float _S10856;
    float _S10857;
};

inline __device__ void s_primal_ctx_evaluate_color_voxel_0(float3  pos_11, float size_11, FixedArray<float, 8>  * dpdensities_4, float3  dprgb_29, float3  dpray_o_6, float3  dpray_d_6, float3  * dpout_rgb_1, float * dpdepth_30, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_44)
{
    _s_diff_ctx_44->_S10856 = 0.0f;
    _s_diff_ctx_44->_S10857 = 0.0f;
    float _S10858 = 0.5f * size_11;
    float3  m_7 = make_float3 (1.0f) / dpray_d_6;
    float3  k_18 = s_primal_ctx_abs_0(m_7) * make_float3 (_S10858);
    float3  _S10859 = - (m_7 * (dpray_o_6 - (pos_11 + make_float3 (_S10858))));
    float3  ta_5 = _S10859 - k_18;
    float3  tb_5 = _S10859 + k_18;
    float _S10860 = s_primal_ctx_max_0(s_primal_ctx_max_0(ta_5.x, ta_5.y), s_primal_ctx_max_0(ta_5.z, 0.0f));
    float _S10861 = s_primal_ctx_min_0(s_primal_ctx_min_0(tb_5.x, tb_5.y), tb_5.z);
    bool _runFlag_1 = true;
    float accum_6 = 0.0f;
    float depth_accum_2 = 0.0f;
    int i_14 = int(0);
    int _pc_1 = int(0);
    for(;;)
    {
        _s_diff_ctx_44->_S10856 = depth_accum_2;
        _s_diff_ctx_44->_S10857 = accum_6;
        if(_runFlag_1)
        {
        }
        else
        {
            break;
        }
        float _S10862;
        float _S10863;
        int _S10864;
        if(i_14 < int(8))
        {
            float _S10865 = s_primal_ctx_lerp_0(_S10860, _S10861, (float(i_14) + 0.5f) / 8.0f);
            float _S10866 = s_primal_ctx_interp_0(dpdensities_4, (dpray_o_6 + dpray_d_6 * make_float3 (_S10865) - pos_11) / make_float3 (size_11));
            if(_S10866 > 1.10000002384185791f)
            {
                _S10862 = _S10866;
            }
            else
            {
                _S10862 = s_primal_ctx_exp_1(0.90909093618392944f * _S10866 - 0.90468984842300415f);
            }
            float accum_7 = accum_6 + _S10862;
            float depth_accum_3 = depth_accum_2 + _S10865 * _S10862;
            _S10864 = int(1);
            _S10862 = accum_7;
            _S10863 = depth_accum_3;
        }
        else
        {
            _S10864 = int(0);
            _S10862 = 0.0f;
            _S10863 = 0.0f;
        }
        if(_S10864 != int(1))
        {
            _runFlag_1 = false;
        }
        if(_runFlag_1)
        {
            int _S10867 = i_14 + int(1);
            accum_6 = _S10862;
            depth_accum_2 = _S10863;
            i_14 = _S10867;
        }
        _pc_1 = _pc_1 + int(1);
    }
    float _S10868 = s_primal_ctx_max_0(depth_accum_2 / accum_6, 0.0f);
    *dpout_rgb_1 = dprgb_29;
    *dpdepth_30 = _S10868;
    return;
}

inline __device__ void s_bwd_prop_evaluate_color_voxel_0(float3  pos_12, float size_12, DiffPair_arrayx3Cfloatx2C8x3E_0 * dpdensities_5, DiffPair_vectorx3Cfloatx2C3x3E_0 * dprgb_30, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_o_7, DiffPair_vectorx3Cfloatx2C3x3E_0 * dpray_d_7, float3  dpout_rgb_2, float dpdepth_31, s_bwd_prop_evaluate_color_voxel_Intermediates_0 * _s_diff_ctx_45)
{
    FixedArray<float, 8>  _S10869 = dpdensities_5->primal_0;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10870 = *dpray_o_7;
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10871 = *dpray_d_7;
    float3  _S10872 = make_float3 (size_12);
    float _S10873 = 0.5f * size_12;
    float3  _S10874 = make_float3 (_S10873);
    float3  m_8 = make_float3 (1.0f) / (*dpray_d_7).primal_0;
    float3  _S10875 = (*dpray_d_7).primal_0 * (*dpray_d_7).primal_0;
    float3  _S10876 = (*dpray_o_7).primal_0 - (pos_12 + make_float3 (_S10873));
    float3  k_19 = s_primal_ctx_abs_0(m_8) * make_float3 (_S10873);
    float3  _S10877 = - (m_8 * _S10876);
    float3  ta_6 = _S10877 - k_19;
    float3  tb_6 = _S10877 + k_19;
    float _S10878 = ta_6.x;
    float _S10879 = ta_6.y;
    float _S10880 = s_primal_ctx_max_0(_S10878, _S10879);
    float _S10881 = ta_6.z;
    float _S10882 = s_primal_ctx_max_0(_S10881, 0.0f);
    float _S10883 = s_primal_ctx_max_0(_S10880, _S10882);
    float _S10884 = tb_6.x;
    float _S10885 = tb_6.y;
    float _S10886 = s_primal_ctx_min_0(_S10884, _S10885);
    float _S10887 = tb_6.z;
    float _S10888 = s_primal_ctx_min_0(_S10886, _S10887);
    float _S10889 = _s_diff_ctx_45->_S10857 * _s_diff_ctx_45->_S10857;
    float3  _S10890 = make_float3 (0.0f);
    FixedArray<float, 8>  _S10891 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_float_0 _S10892;
    (&_S10892)->primal_0 = _s_diff_ctx_45->_S10856 / _s_diff_ctx_45->_S10857;
    (&_S10892)->differential_0 = 0.0f;
    DiffPair_float_0 _S10893;
    (&_S10893)->primal_0 = 0.0f;
    (&_S10893)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10892, &_S10893, dpdepth_31);
    float _S10894 = _S10892.differential_0 / _S10889;
    float _S10895 = _s_diff_ctx_45->_S10856 * - _S10894;
    float _S10896 = _s_diff_ctx_45->_S10857 * _S10894;
    int _dc_1 = int(8);
    float _S10897 = _S10895;
    float _S10898 = _S10896;
    float _S10899 = 0.0f;
    float _S10900 = 0.0f;
    float3  _S10901 = _S10890;
    float3  _S10902 = _S10890;
    FixedArray<float, 8>  _S10903;
    _S10903[int(0)] = 0.0f;
    _S10903[int(1)] = 0.0f;
    _S10903[int(2)] = 0.0f;
    _S10903[int(3)] = 0.0f;
    _S10903[int(4)] = 0.0f;
    _S10903[int(5)] = 0.0f;
    _S10903[int(6)] = 0.0f;
    _S10903[int(7)] = 0.0f;
    for(;;)
    {
        if(_dc_1 >= int(0))
        {
        }
        else
        {
            break;
        }
        bool _S10904 = _dc_1 < int(8);
        int _S10905;
        float _S10906;
        float _S10907;
        float _S10908;
        float _S10909;
        float3  _S10910;
        float3  _S10911;
        bool _S10912;
        if(_S10904)
        {
            float _S10913 = (float(_dc_1) + 0.5f) / 8.0f;
            float _S10914 = s_primal_ctx_lerp_0(_S10883, _S10888, _S10913);
            float3  _S10915 = make_float3 (_S10914);
            float3  _S10916 = (_S10870.primal_0 + _S10871.primal_0 * make_float3 (_S10914) - pos_12) / make_float3 (size_12);
            FixedArray<float, 8>  _S10917 = _S10869;
            float _S10918 = s_primal_ctx_interp_0(&_S10917, _S10916);
            bool _S10919 = _S10918 > 1.10000002384185791f;
            if(_S10919)
            {
                _S10906 = _S10918;
                _S10907 = 0.0f;
            }
            else
            {
                float _S10920 = 0.90909093618392944f * _S10918 - 0.90468984842300415f;
                _S10906 = s_primal_ctx_exp_1(_S10920);
                _S10907 = _S10920;
            }
            float _S10921 = _S10906;
            float _S10922 = _S10907;
            _S10905 = int(1);
            _S10906 = _S10914;
            _S10907 = _S10921;
            _S10912 = _S10919;
            _S10908 = _S10922;
            _S10910 = _S10916;
            _S10911 = _S10915;
            _S10909 = _S10913;
        }
        else
        {
            _S10905 = int(0);
            _S10906 = 0.0f;
            _S10907 = 0.0f;
            _S10912 = false;
            _S10908 = 0.0f;
            _S10910 = _S10890;
            _S10911 = _S10890;
            _S10909 = 0.0f;
        }
        float _S10923;
        float _S10924;
        float _S10925;
        float _S10926;
        if(!(_S10905 != int(1)))
        {
            _S10923 = _S10897;
            _S10924 = _S10898;
            _S10925 = 0.0f;
            _S10926 = 0.0f;
        }
        else
        {
            _S10923 = 0.0f;
            _S10924 = 0.0f;
            _S10925 = _S10898;
            _S10926 = _S10897;
        }
        if(_S10904)
        {
            float _S10927 = _S10907 * _S10924;
            float _S10928 = _S10924 + _S10925;
            float _S10929 = _S10906 * _S10924 + _S10923;
            float _S10930 = _S10923 + _S10926;
            float _S10931;
            if(_S10912)
            {
                _S10931 = _S10929;
            }
            else
            {
                DiffPair_float_0 _S10932;
                (&_S10932)->primal_0 = _S10908;
                (&_S10932)->differential_0 = 0.0f;
                s_bwd_prop_exp_0(&_S10932, _S10929);
                _S10931 = 0.90909093618392944f * _S10932.differential_0;
            }
            DiffPair_arrayx3Cfloatx2C8x3E_0 _S10933;
            (&_S10933)->primal_0 = _S10869;
            (&_S10933)->differential_0 = _S10891;
            DiffPair_vectorx3Cfloatx2C3x3E_0 _S10934;
            (&_S10934)->primal_0 = _S10910;
            (&_S10934)->differential_0 = _S10890;
            s_bwd_prop_interp_0(&_S10933, &_S10934, _S10931);
            float3  _S10935 = _S10934.differential_0 / _S10872;
            float3  _S10936 = _S10871.primal_0 * _S10935;
            float3  _S10937 = _S10911 * _S10935;
            float _S10938 = _S10936.x + _S10936.y + _S10936.z + _S10927;
            DiffPair_float_0 _S10939;
            (&_S10939)->primal_0 = _S10883;
            (&_S10939)->differential_0 = 0.0f;
            DiffPair_float_0 _S10940;
            (&_S10940)->primal_0 = _S10888;
            (&_S10940)->differential_0 = 0.0f;
            DiffPair_float_0 _S10941;
            (&_S10941)->primal_0 = _S10909;
            (&_S10941)->differential_0 = 0.0f;
            s_bwd_prop_lerp_0(&_S10939, &_S10940, &_S10941, _S10938);
            float _S10942 = (&_S10933)->differential_0[int(0)] + _S10903[int(0)];
            float _S10943 = (&_S10933)->differential_0[int(1)] + _S10903[int(1)];
            float _S10944 = (&_S10933)->differential_0[int(2)] + _S10903[int(2)];
            float _S10945 = (&_S10933)->differential_0[int(3)] + _S10903[int(3)];
            float _S10946 = (&_S10933)->differential_0[int(4)] + _S10903[int(4)];
            float _S10947 = (&_S10933)->differential_0[int(5)] + _S10903[int(5)];
            float _S10948 = (&_S10933)->differential_0[int(6)] + _S10903[int(6)];
            float _S10949 = (&_S10933)->differential_0[int(7)] + _S10903[int(7)];
            float3  _S10950 = _S10935 + _S10902;
            float3  _S10951 = _S10937 + _S10901;
            float _S10952 = _S10940.differential_0 + _S10899;
            float _S10953 = _S10939.differential_0 + _S10900;
            _S10897 = _S10930;
            _S10898 = _S10928;
            _S10899 = _S10952;
            _S10900 = _S10953;
            _S10901 = _S10951;
            _S10902 = _S10950;
            _S10903[int(0)] = _S10942;
            _S10903[int(1)] = _S10943;
            _S10903[int(2)] = _S10944;
            _S10903[int(3)] = _S10945;
            _S10903[int(4)] = _S10946;
            _S10903[int(5)] = _S10947;
            _S10903[int(6)] = _S10948;
            _S10903[int(7)] = _S10949;
        }
        else
        {
            _S10897 = _S10926;
            _S10898 = _S10925;
        }
        _dc_1 = _dc_1 - int(1);
    }
    DiffPair_float_0 _S10954;
    (&_S10954)->primal_0 = _S10886;
    (&_S10954)->differential_0 = 0.0f;
    DiffPair_float_0 _S10955;
    (&_S10955)->primal_0 = _S10887;
    (&_S10955)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10954, &_S10955, _S10899);
    DiffPair_float_0 _S10956;
    (&_S10956)->primal_0 = _S10884;
    (&_S10956)->differential_0 = 0.0f;
    DiffPair_float_0 _S10957;
    (&_S10957)->primal_0 = _S10885;
    (&_S10957)->differential_0 = 0.0f;
    s_bwd_prop_min_0(&_S10956, &_S10957, _S10954.differential_0);
    DiffPair_float_0 _S10958;
    (&_S10958)->primal_0 = _S10880;
    (&_S10958)->differential_0 = 0.0f;
    DiffPair_float_0 _S10959;
    (&_S10959)->primal_0 = _S10882;
    (&_S10959)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10958, &_S10959, _S10900);
    DiffPair_float_0 _S10960;
    (&_S10960)->primal_0 = _S10881;
    (&_S10960)->differential_0 = 0.0f;
    DiffPair_float_0 _S10961;
    (&_S10961)->primal_0 = 0.0f;
    (&_S10961)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10960, &_S10961, _S10959.differential_0);
    DiffPair_float_0 _S10962;
    (&_S10962)->primal_0 = _S10878;
    (&_S10962)->differential_0 = 0.0f;
    DiffPair_float_0 _S10963;
    (&_S10963)->primal_0 = _S10879;
    (&_S10963)->differential_0 = 0.0f;
    s_bwd_prop_max_1(&_S10962, &_S10963, _S10958.differential_0);
    float3  s_diff_tb_T_1 = make_float3 (_S10956.differential_0, _S10957.differential_0, _S10955.differential_0);
    float3  s_diff_ta_T_1 = make_float3 (_S10962.differential_0, _S10963.differential_0, _S10960.differential_0);
    float3  s_diff_n_T_1 = - (s_diff_tb_T_1 + s_diff_ta_T_1);
    float3  _S10964 = _S10874 * (s_diff_tb_T_1 + - s_diff_ta_T_1);
    DiffPair_vectorx3Cfloatx2C3x3E_0 _S10965;
    (&_S10965)->primal_0 = m_8;
    (&_S10965)->differential_0 = _S10890;
    s_bwd_prop_abs_1(&_S10965, _S10964);
    float3  _S10966 = m_8 * s_diff_n_T_1;
    float3  _S10967 = - ((_S10965.differential_0 + _S10876 * s_diff_n_T_1) / _S10875) + _S10901;
    dpray_d_7->primal_0 = (*dpray_d_7).primal_0;
    dpray_d_7->differential_0 = _S10967;
    float3  _S10968 = _S10966 + _S10902;
    dpray_o_7->primal_0 = (*dpray_o_7).primal_0;
    dpray_o_7->differential_0 = _S10968;
    dprgb_30->primal_0 = (*dprgb_30).primal_0;
    dprgb_30->differential_0 = dpout_rgb_2;
    dpdensities_5->primal_0 = dpdensities_5->primal_0;
    dpdensities_5->differential_0 = _S10903;
    return;
}

inline __device__ void s_bwd_evaluate_color_voxel_0(float3  _S10969, float _S10970, DiffPair_arrayx3Cfloatx2C8x3E_0 * _S10971, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10972, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10973, DiffPair_vectorx3Cfloatx2C3x3E_0 * _S10974, float3  _S10975, float _S10976)
{
    FixedArray<float, 8>  _S10977 = _S10971->primal_0;
    float3  _S10978;
    float _S10979;
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S10980;
    s_primal_ctx_evaluate_color_voxel_0(_S10969, _S10970, &_S10977, (*_S10972).primal_0, (*_S10973).primal_0, (*_S10974).primal_0, &_S10978, &_S10979, &_S10980);
    s_bwd_prop_evaluate_color_voxel_Intermediates_0 _S10981 = _S10980;
    s_bwd_prop_evaluate_color_voxel_0(_S10969, _S10970, _S10971, _S10972, _S10973, _S10974, _S10975, _S10976, &_S10981);
    return;
}

inline __device__ void evaluate_color_voxel_vjp(float3  pos_13, float size_13, FixedArray<float, 8>  * densities_10, float3  rgb_41, float3  ray_o_14, float3  ray_d_14, float3  v_out_rgb_1, float v_depth_23, FixedArray<float, 8>  * v_densities_3, float3  * v_rgb_22, float3  * v_ray_o_6, float3  * v_ray_d_6)
{
    FixedArray<float, 8>  _S10982 = { 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f };
    DiffPair_arrayx3Cfloatx2C8x3E_0 dp_densities_1;
    (&dp_densities_1)->primal_0 = *densities_10;
    (&dp_densities_1)->differential_0 = _S10982;
    float3  _S10983 = make_float3 (0.0f);
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_rgb_1;
    (&dp_rgb_1)->primal_0 = rgb_41;
    (&dp_rgb_1)->differential_0 = _S10983;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_o_5;
    (&dp_ray_o_5)->primal_0 = ray_o_14;
    (&dp_ray_o_5)->differential_0 = _S10983;
    DiffPair_vectorx3Cfloatx2C3x3E_0 dp_ray_d_5;
    (&dp_ray_d_5)->primal_0 = ray_d_14;
    (&dp_ray_d_5)->differential_0 = _S10983;
    s_bwd_evaluate_color_voxel_0(pos_13, size_13, &dp_densities_1, &dp_rgb_1, &dp_ray_o_5, &dp_ray_d_5, v_out_rgb_1, v_depth_23);
    *v_densities_3 = (&dp_densities_1)->differential_0;
    *v_rgb_22 = dp_rgb_1.differential_0;
    *v_ray_o_6 = dp_ray_o_5.differential_0;
    *v_ray_d_6 = dp_ray_d_5.differential_0;
    return;
}

